const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/worker-accounts-CjCo5LGx.js","assets/worker-accounts-S6QwB5fq.css","assets/suppliers-professional--op5RhD_.js","assets/switch-B-ybExO5.js","assets/autocomplete-admin-Jp9TDxdq.js","assets/tabs-BeHpYqtz.js","assets/equipment-management-BOwJdKE9.js","assets/upload-TQ0OUlRB.js","assets/admin-notifications-CD-t_uyz.js","assets/sparkles-sj82eebb.js","assets/SmartErrorsPage-BnnD7LX_.js","assets/SecurityPoliciesPage-BgTozjjj.js","assets/AreaChart-BhcqC8fO.js","assets/axion-reports-ChK6ihHA.js","assets/settings-B8QUC8hf.js","assets/ai-chat-CajsE27u.js","assets/index-2UQEtthl.js"])))=>i.map(i=>d[i]);
var Sz=Object.defineProperty;var $5=t=>{throw TypeError(t)};var Nz=(t,r,e)=>r in t?Sz(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var Me=(t,r,e)=>Nz(t,typeof r!="symbol"?r+"":r,e),Tx=(t,r,e)=>r.has(t)||$5("Cannot "+e);var Ne=(t,r,e)=>(Tx(t,r,"read from private field"),e?e.call(t):r.get(t)),sr=(t,r,e)=>r.has(t)?$5("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,e),Nt=(t,r,e,n)=>(Tx(t,r,"write to private field"),n?n.call(t,e):r.set(t,e),e),Lr=(t,r,e)=>(Tx(t,r,"access private method"),e);var eg=(t,r,e,n)=>({set _(s){Nt(t,r,s,e)},get _(){return Ne(t,r,n)}});function f9(t,r){for(var e=0;e<r.length;e++){const n=r[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();var $r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ex={exports:{}},Xh={},Ax={exports:{}},qr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5;function Cz(){if(z5)return qr;z5=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function f(L){return L===null||typeof L!="object"?null:(L=p&&L[p]||L["@@iterator"],typeof L=="function"?L:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(L,V,Q){this.props=L,this.context=V,this.refs=y,this.updater=Q||h}m.prototype.isReactComponent={},m.prototype.setState=function(L,V){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,V,"setState")},m.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function v(){}v.prototype=m.prototype;function x(L,V,Q){this.props=L,this.context=V,this.refs=y,this.updater=Q||h}var j=x.prototype=new v;j.constructor=x,g(j,m.prototype),j.isPureReactComponent=!0;var T=Array.isArray,E=Object.prototype.hasOwnProperty,B={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function I(L,V,Q){var Y,re={},O=null,Z=null;if(V!=null)for(Y in V.ref!==void 0&&(Z=V.ref),V.key!==void 0&&(O=""+V.key),V)E.call(V,Y)&&!W.hasOwnProperty(Y)&&(re[Y]=V[Y]);var U=arguments.length-2;if(U===1)re.children=Q;else if(1<U){for(var z=Array(U),G=0;G<U;G++)z[G]=arguments[G+2];re.children=z}if(L&&L.defaultProps)for(Y in U=L.defaultProps,U)re[Y]===void 0&&(re[Y]=U[Y]);return{$$typeof:t,type:L,key:O,ref:Z,props:re,_owner:B.current}}function R(L,V){return{$$typeof:t,type:L.type,key:V,ref:L.ref,props:L.props,_owner:L._owner}}function $(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function K(L){var V={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Q){return V[Q]})}var H=/\/+/g;function M(L,V){return typeof L=="object"&&L!==null&&L.key!=null?K(""+L.key):V.toString(36)}function F(L,V,Q,Y,re){var O=typeof L;(O==="undefined"||O==="boolean")&&(L=null);var Z=!1;if(L===null)Z=!0;else switch(O){case"string":case"number":Z=!0;break;case"object":switch(L.$$typeof){case t:case r:Z=!0}}if(Z)return Z=L,re=re(Z),L=Y===""?"."+M(Z,0):Y,T(re)?(Q="",L!=null&&(Q=L.replace(H,"$&/")+"/"),F(re,V,Q,"",function(G){return G})):re!=null&&($(re)&&(re=R(re,Q+(!re.key||Z&&Z.key===re.key?"":(""+re.key).replace(H,"$&/")+"/")+L)),V.push(re)),1;if(Z=0,Y=Y===""?".":Y+":",T(L))for(var U=0;U<L.length;U++){O=L[U];var z=Y+M(O,U);Z+=F(O,V,Q,z,re)}else if(z=f(L),typeof z=="function")for(L=z.call(L),U=0;!(O=L.next()).done;)O=O.value,z=Y+M(O,U++),Z+=F(O,V,Q,z,re);else if(O==="object")throw V=String(L),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Z}function C(L,V,Q){if(L==null)return L;var Y=[],re=0;return F(L,Y,"","",function(O){return V.call(Q,O,re++)}),Y}function _(L){if(L._status===-1){var V=L._result;V=V(),V.then(function(Q){(L._status===0||L._status===-1)&&(L._status=1,L._result=Q)},function(Q){(L._status===0||L._status===-1)&&(L._status=2,L._result=Q)}),L._status===-1&&(L._status=0,L._result=V)}if(L._status===1)return L._result.default;throw L._result}var S={current:null},k={transition:null},N={ReactCurrentDispatcher:S,ReactCurrentBatchConfig:k,ReactCurrentOwner:B};function D(){throw Error("act(...) is not supported in production builds of React.")}return qr.Children={map:C,forEach:function(L,V,Q){C(L,function(){V.apply(this,arguments)},Q)},count:function(L){var V=0;return C(L,function(){V++}),V},toArray:function(L){return C(L,function(V){return V})||[]},only:function(L){if(!$(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},qr.Component=m,qr.Fragment=e,qr.Profiler=s,qr.PureComponent=x,qr.StrictMode=n,qr.Suspense=u,qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,qr.act=D,qr.cloneElement=function(L,V,Q){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Y=g({},L.props),re=L.key,O=L.ref,Z=L._owner;if(V!=null){if(V.ref!==void 0&&(O=V.ref,Z=B.current),V.key!==void 0&&(re=""+V.key),L.type&&L.type.defaultProps)var U=L.type.defaultProps;for(z in V)E.call(V,z)&&!W.hasOwnProperty(z)&&(Y[z]=V[z]===void 0&&U!==void 0?U[z]:V[z])}var z=arguments.length-2;if(z===1)Y.children=Q;else if(1<z){U=Array(z);for(var G=0;G<z;G++)U[G]=arguments[G+2];Y.children=U}return{$$typeof:t,type:L.type,key:re,ref:O,props:Y,_owner:Z}},qr.createContext=function(L){return L={$$typeof:i,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},qr.createElement=I,qr.createFactory=function(L){var V=I.bind(null,L);return V.type=L,V},qr.createRef=function(){return{current:null}},qr.forwardRef=function(L){return{$$typeof:c,render:L}},qr.isValidElement=$,qr.lazy=function(L){return{$$typeof:d,_payload:{_status:-1,_result:L},_init:_}},qr.memo=function(L,V){return{$$typeof:o,type:L,compare:V===void 0?null:V}},qr.startTransition=function(L){var V=k.transition;k.transition={};try{L()}finally{k.transition=V}},qr.unstable_act=D,qr.useCallback=function(L,V){return S.current.useCallback(L,V)},qr.useContext=function(L){return S.current.useContext(L)},qr.useDebugValue=function(){},qr.useDeferredValue=function(L){return S.current.useDeferredValue(L)},qr.useEffect=function(L,V){return S.current.useEffect(L,V)},qr.useId=function(){return S.current.useId()},qr.useImperativeHandle=function(L,V,Q){return S.current.useImperativeHandle(L,V,Q)},qr.useInsertionEffect=function(L,V){return S.current.useInsertionEffect(L,V)},qr.useLayoutEffect=function(L,V){return S.current.useLayoutEffect(L,V)},qr.useMemo=function(L,V){return S.current.useMemo(L,V)},qr.useReducer=function(L,V,Q){return S.current.useReducer(L,V,Q)},qr.useRef=function(L){return S.current.useRef(L)},qr.useState=function(L){return S.current.useState(L)},qr.useSyncExternalStore=function(L,V,Q){return S.current.useSyncExternalStore(L,V,Q)},qr.useTransition=function(){return S.current.useTransition()},qr.version="18.3.1",qr}var V5;function qy(){return V5||(V5=1,Ax.exports=Cz()),Ax.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5;function Tz(){if(U5)return Xh;U5=1;var t=qy(),r=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(c,u,o){var d,p={},f=null,h=null;o!==void 0&&(f=""+o),u.key!==void 0&&(f=""+u.key),u.ref!==void 0&&(h=u.ref);for(d in u)n.call(u,d)&&!a.hasOwnProperty(d)&&(p[d]=u[d]);if(c&&c.defaultProps)for(d in u=c.defaultProps,u)p[d]===void 0&&(p[d]=u[d]);return{$$typeof:r,type:c,key:f,ref:h,props:p,_owner:s.current}}return Xh.Fragment=e,Xh.jsx=i,Xh.jsxs=i,Xh}var W5;function Ez(){return W5||(W5=1,Ex.exports=Tz()),Ex.exports}var l=Ez(),tg={},Px={exports:{}},Wa={},Mx={exports:{}},Rx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q5;function Az(){return q5||(q5=1,(function(t){function r(k,N){var D=k.length;k.push(N);e:for(;0<D;){var L=D-1>>>1,V=k[L];if(0<s(V,N))k[L]=N,k[D]=V,D=L;else break e}}function e(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var N=k[0],D=k.pop();if(D!==N){k[0]=D;e:for(var L=0,V=k.length,Q=V>>>1;L<Q;){var Y=2*(L+1)-1,re=k[Y],O=Y+1,Z=k[O];if(0>s(re,D))O<V&&0>s(Z,re)?(k[L]=Z,k[O]=D,L=O):(k[L]=re,k[Y]=D,L=Y);else if(O<V&&0>s(Z,D))k[L]=Z,k[O]=D,L=O;else break e}}return N}function s(k,N){var D=k.sortIndex-N.sortIndex;return D!==0?D:k.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var i=Date,c=i.now();t.unstable_now=function(){return i.now()-c}}var u=[],o=[],d=1,p=null,f=3,h=!1,g=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(k){for(var N=e(o);N!==null;){if(N.callback===null)n(o);else if(N.startTime<=k)n(o),N.sortIndex=N.expirationTime,r(u,N);else break;N=e(o)}}function T(k){if(y=!1,j(k),!g)if(e(u)!==null)g=!0,_(E);else{var N=e(o);N!==null&&S(T,N.startTime-k)}}function E(k,N){g=!1,y&&(y=!1,v(I),I=-1),h=!0;var D=f;try{for(j(N),p=e(u);p!==null&&(!(p.expirationTime>N)||k&&!K());){var L=p.callback;if(typeof L=="function"){p.callback=null,f=p.priorityLevel;var V=L(p.expirationTime<=N);N=t.unstable_now(),typeof V=="function"?p.callback=V:p===e(u)&&n(u),j(N)}else n(u);p=e(u)}if(p!==null)var Q=!0;else{var Y=e(o);Y!==null&&S(T,Y.startTime-N),Q=!1}return Q}finally{p=null,f=D,h=!1}}var B=!1,W=null,I=-1,R=5,$=-1;function K(){return!(t.unstable_now()-$<R)}function H(){if(W!==null){var k=t.unstable_now();$=k;var N=!0;try{N=W(!0,k)}finally{N?M():(B=!1,W=null)}}else B=!1}var M;if(typeof x=="function")M=function(){x(H)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,C=F.port2;F.port1.onmessage=H,M=function(){C.postMessage(null)}}else M=function(){m(H,0)};function _(k){W=k,B||(B=!0,M())}function S(k,N){I=m(function(){k(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,_(E))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return e(u)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var D=f;f=N;try{return k()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,N){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var D=f;f=k;try{return N()}finally{f=D}},t.unstable_scheduleCallback=function(k,N,D){var L=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?L+D:L):D=L,k){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=D+V,k={id:d++,callback:N,priorityLevel:k,startTime:D,expirationTime:V,sortIndex:-1},D>L?(k.sortIndex=D,r(o,k),e(u)===null&&k===e(o)&&(y?(v(I),I=-1):y=!0,S(T,D-L))):(k.sortIndex=V,r(u,k),g||h||(g=!0,_(E))),k},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(k){var N=f;return function(){var D=f;f=N;try{return k.apply(this,arguments)}finally{f=D}}}})(Rx)),Rx}var H5;function Pz(){return H5||(H5=1,Mx.exports=Az()),Mx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5;function Mz(){if(K5)return Wa;K5=1;var t=qy(),r=Pz();function e(b){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+b,A=1;A<arguments.length;A++)w+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+b+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(b,w){i(b,w),i(b+"Capture",w)}function i(b,w){for(s[b]=w,b=0;b<w.length;b++)n.add(w[b])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function f(b){return u.call(p,b)?!0:u.call(d,b)?!1:o.test(b)?p[b]=!0:(d[b]=!0,!1)}function h(b,w,A,q){if(A!==null&&A.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return q?!1:A!==null?!A.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function g(b,w,A,q){if(w===null||typeof w>"u"||h(b,w,A,q))return!0;if(q)return!1;if(A!==null)switch(A.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function y(b,w,A,q,X,J,fe){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=q,this.attributeNamespace=X,this.mustUseProperty=A,this.propertyName=b,this.type=w,this.sanitizeURL=J,this.removeEmptyString=fe}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){m[b]=new y(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var w=b[0];m[w]=new y(w,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){m[b]=new y(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){m[b]=new y(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){m[b]=new y(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){m[b]=new y(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){m[b]=new y(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){m[b]=new y(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){m[b]=new y(b,5,!1,b.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var w=b.replace(v,x);m[w]=new y(w,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var w=b.replace(v,x);m[w]=new y(w,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var w=b.replace(v,x);m[w]=new y(w,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){m[b]=new y(b,1,!1,b.toLowerCase(),null,!1,!1)}),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){m[b]=new y(b,1,!1,b.toLowerCase(),null,!0,!0)});function j(b,w,A,q){var X=m.hasOwnProperty(w)?m[w]:null;(X!==null?X.type!==0:q||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(g(w,A,X,q)&&(A=null),q||X===null?f(w)&&(A===null?b.removeAttribute(w):b.setAttribute(w,""+A)):X.mustUseProperty?b[X.propertyName]=A===null?X.type===3?!1:"":A:(w=X.attributeName,q=X.attributeNamespace,A===null?b.removeAttribute(w):(X=X.type,A=X===3||X===4&&A===!0?"":""+A,q?b.setAttributeNS(q,w,A):b.setAttribute(w,A))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),B=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),K=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),k=Symbol.iterator;function N(b){return b===null||typeof b!="object"?null:(b=k&&b[k]||b["@@iterator"],typeof b=="function"?b:null)}var D=Object.assign,L;function V(b){if(L===void 0)try{throw Error()}catch(A){var w=A.stack.trim().match(/\n( *(at )?)/);L=w&&w[1]||""}return`
`+L+b}var Q=!1;function Y(b,w){if(!b||Q)return"";Q=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(Ve){var q=Ve}Reflect.construct(b,[],w)}else{try{w.call()}catch(Ve){q=Ve}b.call(w.prototype)}else{try{throw Error()}catch(Ve){q=Ve}b()}}catch(Ve){if(Ve&&q&&typeof Ve.stack=="string"){for(var X=Ve.stack.split(`
`),J=q.stack.split(`
`),fe=X.length-1,ke=J.length-1;1<=fe&&0<=ke&&X[fe]!==J[ke];)ke--;for(;1<=fe&&0<=ke;fe--,ke--)if(X[fe]!==J[ke]){if(fe!==1||ke!==1)do if(fe--,ke--,0>ke||X[fe]!==J[ke]){var Ce=`
`+X[fe].replace(" at new "," at ");return b.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",b.displayName)),Ce}while(1<=fe&&0<=ke);break}}}finally{Q=!1,Error.prepareStackTrace=A}return(b=b?b.displayName||b.name:"")?V(b):""}function re(b){switch(b.tag){case 5:return V(b.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return b=Y(b.type,!1),b;case 11:return b=Y(b.type.render,!1),b;case 1:return b=Y(b.type,!0),b;default:return""}}function O(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case W:return"Fragment";case B:return"Portal";case R:return"Profiler";case I:return"StrictMode";case M:return"Suspense";case F:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case K:return(b.displayName||"Context")+".Consumer";case $:return(b._context.displayName||"Context")+".Provider";case H:var w=b.render;return b=b.displayName,b||(b=w.displayName||w.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case C:return w=b.displayName||null,w!==null?w:O(b.type)||"Memo";case _:w=b._payload,b=b._init;try{return O(b(w))}catch{}}return null}function Z(b){var w=b.type;switch(b.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=w.render,b=b.displayName||b.name||"",w.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(w);case 8:return w===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function U(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function z(b){var w=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function G(b){var w=z(b)?"checked":"value",A=Object.getOwnPropertyDescriptor(b.constructor.prototype,w),q=""+b[w];if(!b.hasOwnProperty(w)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var X=A.get,J=A.set;return Object.defineProperty(b,w,{configurable:!0,get:function(){return X.call(this)},set:function(fe){q=""+fe,J.call(this,fe)}}),Object.defineProperty(b,w,{enumerable:A.enumerable}),{getValue:function(){return q},setValue:function(fe){q=""+fe},stopTracking:function(){b._valueTracker=null,delete b[w]}}}}function ae(b){b._valueTracker||(b._valueTracker=G(b))}function pe(b){if(!b)return!1;var w=b._valueTracker;if(!w)return!0;var A=w.getValue(),q="";return b&&(q=z(b)?b.checked?"true":"false":b.value),b=q,b!==A?(w.setValue(b),!0):!1}function de(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function ge(b,w){var A=w.checked;return D({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??b._wrapperState.initialChecked})}function te(b,w){var A=w.defaultValue==null?"":w.defaultValue,q=w.checked!=null?w.checked:w.defaultChecked;A=U(w.value!=null?w.value:A),b._wrapperState={initialChecked:q,initialValue:A,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function oe(b,w){w=w.checked,w!=null&&j(b,"checked",w,!1)}function ne(b,w){oe(b,w);var A=U(w.value),q=w.type;if(A!=null)q==="number"?(A===0&&b.value===""||b.value!=A)&&(b.value=""+A):b.value!==""+A&&(b.value=""+A);else if(q==="submit"||q==="reset"){b.removeAttribute("value");return}w.hasOwnProperty("value")?ce(b,w.type,A):w.hasOwnProperty("defaultValue")&&ce(b,w.type,U(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(b.defaultChecked=!!w.defaultChecked)}function he(b,w,A){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var q=w.type;if(!(q!=="submit"&&q!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+b._wrapperState.initialValue,A||w===b.value||(b.value=w),b.defaultValue=w}A=b.name,A!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,A!==""&&(b.name=A)}function ce(b,w,A){(w!=="number"||de(b.ownerDocument)!==b)&&(A==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+A&&(b.defaultValue=""+A))}var ie=Array.isArray;function ee(b,w,A,q){if(b=b.options,w){w={};for(var X=0;X<A.length;X++)w["$"+A[X]]=!0;for(A=0;A<b.length;A++)X=w.hasOwnProperty("$"+b[A].value),b[A].selected!==X&&(b[A].selected=X),X&&q&&(b[A].defaultSelected=!0)}else{for(A=""+U(A),w=null,X=0;X<b.length;X++){if(b[X].value===A){b[X].selected=!0,q&&(b[X].defaultSelected=!0);return}w!==null||b[X].disabled||(w=b[X])}w!==null&&(w.selected=!0)}}function se(b,w){if(w.dangerouslySetInnerHTML!=null)throw Error(e(91));return D({},w,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function le(b,w){var A=w.value;if(A==null){if(A=w.children,w=w.defaultValue,A!=null){if(w!=null)throw Error(e(92));if(ie(A)){if(1<A.length)throw Error(e(93));A=A[0]}w=A}w==null&&(w=""),A=w}b._wrapperState={initialValue:U(A)}}function ve(b,w){var A=U(w.value),q=U(w.defaultValue);A!=null&&(A=""+A,A!==b.value&&(b.value=A),w.defaultValue==null&&b.defaultValue!==A&&(b.defaultValue=A)),q!=null&&(b.defaultValue=""+q)}function _e(b){var w=b.textContent;w===b._wrapperState.initialValue&&w!==""&&w!==null&&(b.value=w)}function Te(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(b,w){return b==null||b==="http://www.w3.org/1999/xhtml"?Te(w):b==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var Be,ze=(function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,A,q,X){MSApp.execUnsafeLocalFunction(function(){return b(w,A,q,X)})}:b})(function(b,w){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=w;else{for(Be=Be||document.createElement("div"),Be.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=Be.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;w.firstChild;)b.appendChild(w.firstChild)}});function Je(b,w){if(w){var A=b.firstChild;if(A&&A===b.lastChild&&A.nodeType===3){A.nodeValue=w;return}}b.textContent=w}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];Object.keys(ft).forEach(function(b){bt.forEach(function(w){w=w+b.charAt(0).toUpperCase()+b.substring(1),ft[w]=ft[b]})});function rt(b,w,A){return w==null||typeof w=="boolean"||w===""?"":A||typeof w!="number"||w===0||ft.hasOwnProperty(b)&&ft[b]?(""+w).trim():w+"px"}function we(b,w){b=b.style;for(var A in w)if(w.hasOwnProperty(A)){var q=A.indexOf("--")===0,X=rt(A,w[A],q);A==="float"&&(A="cssFloat"),q?b.setProperty(A,X):b[A]=X}}var me=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ke(b,w){if(w){if(me[b]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(e(137,b));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(e(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(e(61))}if(w.style!=null&&typeof w.style!="object")throw Error(e(62))}}function He(b,w){if(b.indexOf("-")===-1)return typeof w.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=null;function Zt(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var kt=null,Jt=null,rr=null;function Mt(b){if(b=Dh(b)){if(typeof kt!="function")throw Error(e(280));var w=b.stateNode;w&&(w=m0(w),kt(b.stateNode,b.type,w))}}function Ft(b){Jt?rr?rr.push(b):rr=[b]:Jt=b}function _r(){if(Jt){var b=Jt,w=rr;if(rr=Jt=null,Mt(b),w)for(b=0;b<w.length;b++)Mt(w[b])}}function Vt(b,w){return b(w)}function kr(){}var Bt=!1;function er(b,w,A){if(Bt)return b(w,A);Bt=!0;try{return Vt(b,w,A)}finally{Bt=!1,(Jt!==null||rr!==null)&&(kr(),_r())}}function xr(b,w){var A=b.stateNode;if(A===null)return null;var q=m0(A);if(q===null)return null;A=q[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(q=!q.disabled)||(b=b.type,q=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!q;break e;default:b=!1}if(b)return null;if(A&&typeof A!="function")throw Error(e(231,w,typeof A));return A}var nr=!1;if(c)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){nr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{nr=!1}function Se(b,w,A,q,X,J,fe,ke,Ce){var Ve=Array.prototype.slice.call(arguments,3);try{w.apply(A,Ve)}catch(nt){this.onError(nt)}}var Re=!1,We=null,ct=!1,Ut=null,dt={onError:function(b){Re=!0,We=b}};function Gt(b,w,A,q,X,J,fe,ke,Ce){Re=!1,We=null,Se.apply(dt,arguments)}function Wt(b,w,A,q,X,J,fe,ke,Ce){if(Gt.apply(this,arguments),Re){if(Re){var Ve=We;Re=!1,We=null}else throw Error(e(198));ct||(ct=!0,Ut=Ve)}}function xe(b){var w=b,A=b;if(b.alternate)for(;w.return;)w=w.return;else{b=w;do w=b,(w.flags&4098)!==0&&(A=w.return),b=w.return;while(b)}return w.tag===3?A:null}function Ue(b){if(b.tag===13){var w=b.memoizedState;if(w===null&&(b=b.alternate,b!==null&&(w=b.memoizedState)),w!==null)return w.dehydrated}return null}function at(b){if(xe(b)!==b)throw Error(e(188))}function mt(b){var w=b.alternate;if(!w){if(w=xe(b),w===null)throw Error(e(188));return w!==b?null:b}for(var A=b,q=w;;){var X=A.return;if(X===null)break;var J=X.alternate;if(J===null){if(q=X.return,q!==null){A=q;continue}break}if(X.child===J.child){for(J=X.child;J;){if(J===A)return at(X),b;if(J===q)return at(X),w;J=J.sibling}throw Error(e(188))}if(A.return!==q.return)A=X,q=J;else{for(var fe=!1,ke=X.child;ke;){if(ke===A){fe=!0,A=X,q=J;break}if(ke===q){fe=!0,q=X,A=J;break}ke=ke.sibling}if(!fe){for(ke=J.child;ke;){if(ke===A){fe=!0,A=J,q=X;break}if(ke===q){fe=!0,q=J,A=X;break}ke=ke.sibling}if(!fe)throw Error(e(189))}}if(A.alternate!==q)throw Error(e(190))}if(A.tag!==3)throw Error(e(188));return A.stateNode.current===A?b:w}function qt(b){return b=mt(b),b!==null?Wr(b):null}function Wr(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var w=Wr(b);if(w!==null)return w;b=b.sibling}return null}var vt=r.unstable_scheduleCallback,yn=r.unstable_cancelCallback,Nn=r.unstable_shouldYield,be=r.unstable_requestPaint,Ae=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,Rt=r.unstable_UserBlockingPriority,ot=r.unstable_NormalPriority,ut=r.unstable_LowPriority,yr=r.unstable_IdlePriority,ar=null,Yt=null;function Ot(b){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ar,b,void 0,(b.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:Gr,Fr=Math.log,Rr=Math.LN2;function Gr(b){return b>>>=0,b===0?32:31-(Fr(b)/Rr|0)|0}var sn=64,dn=4194304;function Bn(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Kn(b,w){var A=b.pendingLanes;if(A===0)return 0;var q=0,X=b.suspendedLanes,J=b.pingedLanes,fe=A&268435455;if(fe!==0){var ke=fe&~X;ke!==0?q=Bn(ke):(J&=fe,J!==0&&(q=Bn(J)))}else fe=A&~X,fe!==0?q=Bn(fe):J!==0&&(q=Bn(J));if(q===0)return 0;if(w!==0&&w!==q&&(w&X)===0&&(X=q&-q,J=w&-w,X>=J||X===16&&(J&4194240)!==0))return w;if((q&4)!==0&&(q|=A&16),w=b.entangledLanes,w!==0)for(b=b.entanglements,w&=q;0<w;)A=31-ur(w),X=1<<A,q|=b[A],w&=~X;return q}function gi(b,w){switch(b){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yi(b,w){for(var A=b.suspendedLanes,q=b.pingedLanes,X=b.expirationTimes,J=b.pendingLanes;0<J;){var fe=31-ur(J),ke=1<<fe,Ce=X[fe];Ce===-1?((ke&A)===0||(ke&q)!==0)&&(X[fe]=gi(ke,w)):Ce<=w&&(b.expiredLanes|=ke),J&=~ke}}function La(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function Hr(){var b=sn;return sn<<=1,(sn&4194240)===0&&(sn=64),b}function Tr(b){for(var w=[],A=0;31>A;A++)w.push(b);return w}function _s(b,w,A){b.pendingLanes|=w,w!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,w=31-ur(w),b[w]=A}function Zs(b,w){var A=b.pendingLanes&~w;b.pendingLanes=w,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=w,b.mutableReadLanes&=w,b.entangledLanes&=w,w=b.entanglements;var q=b.eventTimes;for(b=b.expirationTimes;0<A;){var X=31-ur(A),J=1<<X;w[X]=0,q[X]=-1,b[X]=-1,A&=~J}}function bi(b,w){var A=b.entangledLanes|=w;for(b=b.entanglements;A;){var q=31-ur(A),X=1<<q;X&w|b[q]&w&&(b[q]|=w),A&=~X}}var br=0;function Js(b){return b&=-b,1<b?4<b?(b&268435455)!==0?16:536870912:4:1}var xa,ei,qi,vi,xi,su=!1,Hi=[],ea=null,ta=null,Is=null,Ki=new Map,wi=new Map,wa=[],wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _h(b,w){switch(b){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Ki.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(w.pointerId)}}function au(b,w,A,q,X,J){return b===null||b.nativeEvent!==J?(b={blockedOn:w,domEventName:A,eventSystemFlags:q,nativeEvent:J,targetContainers:[X]},w!==null&&(w=Dh(w),w!==null&&ei(w)),b):(b.eventSystemFlags|=q,w=b.targetContainers,X!==null&&w.indexOf(X)===-1&&w.push(X),b)}function sv(b,w,A,q,X){switch(w){case"focusin":return ea=au(ea,b,w,A,q,X),!0;case"dragenter":return ta=au(ta,b,w,A,q,X),!0;case"mouseover":return Is=au(Is,b,w,A,q,X),!0;case"pointerover":var J=X.pointerId;return Ki.set(J,au(Ki.get(J)||null,b,w,A,q,X)),!0;case"gotpointercapture":return J=X.pointerId,wi.set(J,au(wi.get(J)||null,b,w,A,q,X)),!0}return!1}function _d(b){var w=cu(b.target);if(w!==null){var A=xe(w);if(A!==null){if(w=A.tag,w===13){if(w=Ue(A),w!==null){b.blockedOn=w,xi(b.priority,function(){qi(A)});return}}else if(w===3&&A.stateNode.current.memoizedState.isDehydrated){b.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}b.blockedOn=null}function kd(b){if(b.blockedOn!==null)return!1;for(var w=b.targetContainers;0<w.length;){var A=cr(b.domEventName,b.eventSystemFlags,w[0],b.nativeEvent);if(A===null){A=b.nativeEvent;var q=new A.constructor(A.type,A);It=q,A.target.dispatchEvent(q),It=null}else return w=Dh(A),w!==null&&ei(w),b.blockedOn=A,!1;w.shift()}return!0}function i0(b,w,A){kd(b)&&A.delete(w)}function av(){su=!1,ea!==null&&kd(ea)&&(ea=null),ta!==null&&kd(ta)&&(ta=null),Is!==null&&kd(Is)&&(Is=null),Ki.forEach(i0),wi.forEach(i0)}function iu(b,w){b.blockedOn===w&&(b.blockedOn=null,su||(su=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,av)))}function ou(b){function w(X){return iu(X,b)}if(0<Hi.length){iu(Hi[0],b);for(var A=1;A<Hi.length;A++){var q=Hi[A];q.blockedOn===b&&(q.blockedOn=null)}}for(ea!==null&&iu(ea,b),ta!==null&&iu(ta,b),Is!==null&&iu(Is,b),Ki.forEach(w),wi.forEach(w),A=0;A<wa.length;A++)q=wa[A],q.blockedOn===b&&(q.blockedOn=null);for(;0<wa.length&&(A=wa[0],A.blockedOn===null);)_d(A),A.blockedOn===null&&wa.shift()}var al=T.ReactCurrentBatchConfig,jd=!0;function o0(b,w,A,q){var X=br,J=al.transition;al.transition=null;try{br=1,Le(b,w,A,q)}finally{br=X,al.transition=J}}function ue(b,w,A,q){var X=br,J=al.transition;al.transition=null;try{br=4,Le(b,w,A,q)}finally{br=X,al.transition=J}}function Le(b,w,A,q){if(jd){var X=cr(b,w,A,q);if(X===null)bv(b,w,q,yt,A),_h(b,q);else if(sv(X,b,w,A,q))q.stopPropagation();else if(_h(b,q),w&4&&-1<wh.indexOf(b)){for(;X!==null;){var J=Dh(X);if(J!==null&&xa(J),J=cr(b,w,A,q),J===null&&bv(b,w,q,yt,A),J===X)break;X=J}X!==null&&q.stopPropagation()}else bv(b,w,q,null,A)}}var yt=null;function cr(b,w,A,q){if(yt=null,b=Zt(q),b=cu(b),b!==null)if(w=xe(b),w===null)b=null;else if(A=w.tag,A===13){if(b=Ue(w),b!==null)return b;b=null}else if(A===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;b=null}else w!==b&&(b=null);return yt=b,null}function Ur(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case Rt:return 4;case ot:case ut:return 16;case yr:return 536870912;default:return 16}default:return 16}}var st=null,Kr=null,as=null;function _a(){if(as)return as;var b,w=Kr,A=w.length,q,X="value"in st?st.value:st.textContent,J=X.length;for(b=0;b<A&&w[b]===X[b];b++);var fe=A-b;for(q=1;q<=fe&&w[A-q]===X[J-q];q++);return as=X.slice(b,1<q?1-q:void 0)}function ti(b){var w=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&w===13&&(b=13)):b=w,b===10&&(b=13),32<=b||b===13?b:0}function Gi(){return!0}function kh(){return!1}function ks(b){function w(A,q,X,J,fe){this._reactName=A,this._targetInst=X,this.type=q,this.nativeEvent=J,this.target=fe,this.currentTarget=null;for(var ke in b)b.hasOwnProperty(ke)&&(A=b[ke],this[ke]=A?A(J):J[ke]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?Gi:kh,this.isPropagationStopped=kh,this}return D(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),w}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=ks(Xi),il=D({},Xi,{view:0,detail:0}),jh=ks(il),lu,Nd,No,Cd=D({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ov,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==No&&(No&&b.type==="mousemove"?(lu=b.screenX-No.screenX,Nd=b.screenY-No.screenY):Nd=lu=0,No=b),lu)},movementY:function(b){return"movementY"in b?b.movementY:Nd}}),dr=ks(Cd),Zn=D({},Cd,{dataTransfer:0}),Os=ks(Zn),t$=D({},il,{relatedTarget:0}),iv=ks(t$),r$=D({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),n$=ks(r$),s$=D({},Xi,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),a$=ks(s$),i$=D({},Xi,{data:0}),A3=ks(i$),o$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u$(b){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(b):(b=c$[b])?!!w[b]:!1}function ov(){return u$}var d$=D({},il,{key:function(b){if(b.key){var w=o$[b.key]||b.key;if(w!=="Unidentified")return w}return b.type==="keypress"?(b=ti(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?l$[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ov,charCode:function(b){return b.type==="keypress"?ti(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?ti(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),f$=ks(d$),h$=D({},Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P3=ks(h$),p$=D({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ov}),m$=ks(p$),g$=D({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),y$=ks(g$),b$=D({},Cd,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),v$=ks(b$),x$=[9,13,27,32],lv=c&&"CompositionEvent"in window,Sh=null;c&&"documentMode"in document&&(Sh=document.documentMode);var w$=c&&"TextEvent"in window&&!Sh,M3=c&&(!lv||Sh&&8<Sh&&11>=Sh),R3=" ",D3=!1;function I3(b,w){switch(b){case"keyup":return x$.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O3(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var Td=!1;function _$(b,w){switch(b){case"compositionend":return O3(w);case"keypress":return w.which!==32?null:(D3=!0,R3);case"textInput":return b=w.data,b===R3&&D3?null:b;default:return null}}function k$(b,w){if(Td)return b==="compositionend"||!lv&&I3(b,w)?(b=_a(),as=Kr=st=null,Td=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return M3&&w.locale!=="ko"?null:w.data;default:return null}}var j$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F3(b){var w=b&&b.nodeName&&b.nodeName.toLowerCase();return w==="input"?!!j$[b.type]:w==="textarea"}function L3(b,w,A,q){Ft(q),w=f0(w,"onChange"),0<w.length&&(A=new Sd("onChange","change",null,A,q),b.push({event:A,listeners:w}))}var Nh=null,Ch=null;function S$(b){rk(b,0)}function l0(b){var w=Rd(b);if(pe(w))return b}function N$(b,w){if(b==="change")return w}var B3=!1;if(c){var cv;if(c){var uv="oninput"in document;if(!uv){var $3=document.createElement("div");$3.setAttribute("oninput","return;"),uv=typeof $3.oninput=="function"}cv=uv}else cv=!1;B3=cv&&(!document.documentMode||9<document.documentMode)}function z3(){Nh&&(Nh.detachEvent("onpropertychange",V3),Ch=Nh=null)}function V3(b){if(b.propertyName==="value"&&l0(Ch)){var w=[];L3(w,Ch,b,Zt(b)),er(S$,w)}}function C$(b,w,A){b==="focusin"?(z3(),Nh=w,Ch=A,Nh.attachEvent("onpropertychange",V3)):b==="focusout"&&z3()}function T$(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return l0(Ch)}function E$(b,w){if(b==="click")return l0(w)}function A$(b,w){if(b==="input"||b==="change")return l0(w)}function P$(b,w){return b===w&&(b!==0||1/b===1/w)||b!==b&&w!==w}var Qi=typeof Object.is=="function"?Object.is:P$;function Th(b,w){if(Qi(b,w))return!0;if(typeof b!="object"||b===null||typeof w!="object"||w===null)return!1;var A=Object.keys(b),q=Object.keys(w);if(A.length!==q.length)return!1;for(q=0;q<A.length;q++){var X=A[q];if(!u.call(w,X)||!Qi(b[X],w[X]))return!1}return!0}function U3(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function W3(b,w){var A=U3(b);b=0;for(var q;A;){if(A.nodeType===3){if(q=b+A.textContent.length,b<=w&&q>=w)return{node:A,offset:w-b};b=q}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=U3(A)}}function q3(b,w){return b&&w?b===w?!0:b&&b.nodeType===3?!1:w&&w.nodeType===3?q3(b,w.parentNode):"contains"in b?b.contains(w):b.compareDocumentPosition?!!(b.compareDocumentPosition(w)&16):!1:!1}function H3(){for(var b=window,w=de();w instanceof b.HTMLIFrameElement;){try{var A=typeof w.contentWindow.location.href=="string"}catch{A=!1}if(A)b=w.contentWindow;else break;w=de(b.document)}return w}function dv(b){var w=b&&b.nodeName&&b.nodeName.toLowerCase();return w&&(w==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||w==="textarea"||b.contentEditable==="true")}function M$(b){var w=H3(),A=b.focusedElem,q=b.selectionRange;if(w!==A&&A&&A.ownerDocument&&q3(A.ownerDocument.documentElement,A)){if(q!==null&&dv(A)){if(w=q.start,b=q.end,b===void 0&&(b=w),"selectionStart"in A)A.selectionStart=w,A.selectionEnd=Math.min(b,A.value.length);else if(b=(w=A.ownerDocument||document)&&w.defaultView||window,b.getSelection){b=b.getSelection();var X=A.textContent.length,J=Math.min(q.start,X);q=q.end===void 0?J:Math.min(q.end,X),!b.extend&&J>q&&(X=q,q=J,J=X),X=W3(A,J);var fe=W3(A,q);X&&fe&&(b.rangeCount!==1||b.anchorNode!==X.node||b.anchorOffset!==X.offset||b.focusNode!==fe.node||b.focusOffset!==fe.offset)&&(w=w.createRange(),w.setStart(X.node,X.offset),b.removeAllRanges(),J>q?(b.addRange(w),b.extend(fe.node,fe.offset)):(w.setEnd(fe.node,fe.offset),b.addRange(w)))}}for(w=[],b=A;b=b.parentNode;)b.nodeType===1&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<w.length;A++)b=w[A],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var R$=c&&"documentMode"in document&&11>=document.documentMode,Ed=null,fv=null,Eh=null,hv=!1;function K3(b,w,A){var q=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;hv||Ed==null||Ed!==de(q)||(q=Ed,"selectionStart"in q&&dv(q)?q={start:q.selectionStart,end:q.selectionEnd}:(q=(q.ownerDocument&&q.ownerDocument.defaultView||window).getSelection(),q={anchorNode:q.anchorNode,anchorOffset:q.anchorOffset,focusNode:q.focusNode,focusOffset:q.focusOffset}),Eh&&Th(Eh,q)||(Eh=q,q=f0(fv,"onSelect"),0<q.length&&(w=new Sd("onSelect","select",null,w,A),b.push({event:w,listeners:q}),w.target=Ed)))}function c0(b,w){var A={};return A[b.toLowerCase()]=w.toLowerCase(),A["Webkit"+b]="webkit"+w,A["Moz"+b]="moz"+w,A}var Ad={animationend:c0("Animation","AnimationEnd"),animationiteration:c0("Animation","AnimationIteration"),animationstart:c0("Animation","AnimationStart"),transitionend:c0("Transition","TransitionEnd")},pv={},G3={};c&&(G3=document.createElement("div").style,"AnimationEvent"in window||(delete Ad.animationend.animation,delete Ad.animationiteration.animation,delete Ad.animationstart.animation),"TransitionEvent"in window||delete Ad.transitionend.transition);function u0(b){if(pv[b])return pv[b];if(!Ad[b])return b;var w=Ad[b],A;for(A in w)if(w.hasOwnProperty(A)&&A in G3)return pv[b]=w[A];return b}var X3=u0("animationend"),Q3=u0("animationiteration"),Y3=u0("animationstart"),Z3=u0("transitionend"),J3=new Map,ek="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ql(b,w){J3.set(b,w),a(w,[b])}for(var mv=0;mv<ek.length;mv++){var gv=ek[mv],D$=gv.toLowerCase(),I$=gv[0].toUpperCase()+gv.slice(1);Ql(D$,"on"+I$)}Ql(X3,"onAnimationEnd"),Ql(Q3,"onAnimationIteration"),Ql(Y3,"onAnimationStart"),Ql("dblclick","onDoubleClick"),Ql("focusin","onFocus"),Ql("focusout","onBlur"),Ql(Z3,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ah));function tk(b,w,A){var q=b.type||"unknown-event";b.currentTarget=A,Wt(q,w,void 0,b),b.currentTarget=null}function rk(b,w){w=(w&4)!==0;for(var A=0;A<b.length;A++){var q=b[A],X=q.event;q=q.listeners;e:{var J=void 0;if(w)for(var fe=q.length-1;0<=fe;fe--){var ke=q[fe],Ce=ke.instance,Ve=ke.currentTarget;if(ke=ke.listener,Ce!==J&&X.isPropagationStopped())break e;tk(X,ke,Ve),J=Ce}else for(fe=0;fe<q.length;fe++){if(ke=q[fe],Ce=ke.instance,Ve=ke.currentTarget,ke=ke.listener,Ce!==J&&X.isPropagationStopped())break e;tk(X,ke,Ve),J=Ce}}}if(ct)throw b=Ut,ct=!1,Ut=null,b}function Cn(b,w){var A=w[jv];A===void 0&&(A=w[jv]=new Set);var q=b+"__bubble";A.has(q)||(nk(w,b,2,!1),A.add(q))}function yv(b,w,A){var q=0;w&&(q|=4),nk(A,b,q,w)}var d0="_reactListening"+Math.random().toString(36).slice(2);function Ph(b){if(!b[d0]){b[d0]=!0,n.forEach(function(A){A!=="selectionchange"&&(O$.has(A)||yv(A,!1,b),yv(A,!0,b))});var w=b.nodeType===9?b:b.ownerDocument;w===null||w[d0]||(w[d0]=!0,yv("selectionchange",!1,w))}}function nk(b,w,A,q){switch(Ur(w)){case 1:var X=o0;break;case 4:X=ue;break;default:X=Le}A=X.bind(null,w,A,b),X=void 0,!nr||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(X=!0),q?X!==void 0?b.addEventListener(w,A,{capture:!0,passive:X}):b.addEventListener(w,A,!0):X!==void 0?b.addEventListener(w,A,{passive:X}):b.addEventListener(w,A,!1)}function bv(b,w,A,q,X){var J=q;if((w&1)===0&&(w&2)===0&&q!==null)e:for(;;){if(q===null)return;var fe=q.tag;if(fe===3||fe===4){var ke=q.stateNode.containerInfo;if(ke===X||ke.nodeType===8&&ke.parentNode===X)break;if(fe===4)for(fe=q.return;fe!==null;){var Ce=fe.tag;if((Ce===3||Ce===4)&&(Ce=fe.stateNode.containerInfo,Ce===X||Ce.nodeType===8&&Ce.parentNode===X))return;fe=fe.return}for(;ke!==null;){if(fe=cu(ke),fe===null)return;if(Ce=fe.tag,Ce===5||Ce===6){q=J=fe;continue e}ke=ke.parentNode}}q=q.return}er(function(){var Ve=J,nt=Zt(A),it=[];e:{var et=J3.get(b);if(et!==void 0){var Tt=Sd,Lt=b;switch(b){case"keypress":if(ti(A)===0)break e;case"keydown":case"keyup":Tt=f$;break;case"focusin":Lt="focus",Tt=iv;break;case"focusout":Lt="blur",Tt=iv;break;case"beforeblur":case"afterblur":Tt=iv;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=Os;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=m$;break;case X3:case Q3:case Y3:Tt=n$;break;case Z3:Tt=y$;break;case"scroll":Tt=jh;break;case"wheel":Tt=v$;break;case"copy":case"cut":case"paste":Tt=a$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=P3}var zt=(w&4)!==0,Jn=!zt&&b==="scroll",Ie=zt?et!==null?et+"Capture":null:et;zt=[];for(var Ee=Ve,$e;Ee!==null;){$e=Ee;var ht=$e.stateNode;if($e.tag===5&&ht!==null&&($e=ht,Ie!==null&&(ht=xr(Ee,Ie),ht!=null&&zt.push(Mh(Ee,ht,$e)))),Jn)break;Ee=Ee.return}0<zt.length&&(et=new Tt(et,Lt,null,A,nt),it.push({event:et,listeners:zt}))}}if((w&7)===0){e:{if(et=b==="mouseover"||b==="pointerover",Tt=b==="mouseout"||b==="pointerout",et&&A!==It&&(Lt=A.relatedTarget||A.fromElement)&&(cu(Lt)||Lt[ol]))break e;if((Tt||et)&&(et=nt.window===nt?nt:(et=nt.ownerDocument)?et.defaultView||et.parentWindow:window,Tt?(Lt=A.relatedTarget||A.toElement,Tt=Ve,Lt=Lt?cu(Lt):null,Lt!==null&&(Jn=xe(Lt),Lt!==Jn||Lt.tag!==5&&Lt.tag!==6)&&(Lt=null)):(Tt=null,Lt=Ve),Tt!==Lt)){if(zt=dr,ht="onMouseLeave",Ie="onMouseEnter",Ee="mouse",(b==="pointerout"||b==="pointerover")&&(zt=P3,ht="onPointerLeave",Ie="onPointerEnter",Ee="pointer"),Jn=Tt==null?et:Rd(Tt),$e=Lt==null?et:Rd(Lt),et=new zt(ht,Ee+"leave",Tt,A,nt),et.target=Jn,et.relatedTarget=$e,ht=null,cu(nt)===Ve&&(zt=new zt(Ie,Ee+"enter",Lt,A,nt),zt.target=$e,zt.relatedTarget=Jn,ht=zt),Jn=ht,Tt&&Lt)t:{for(zt=Tt,Ie=Lt,Ee=0,$e=zt;$e;$e=Pd($e))Ee++;for($e=0,ht=Ie;ht;ht=Pd(ht))$e++;for(;0<Ee-$e;)zt=Pd(zt),Ee--;for(;0<$e-Ee;)Ie=Pd(Ie),$e--;for(;Ee--;){if(zt===Ie||Ie!==null&&zt===Ie.alternate)break t;zt=Pd(zt),Ie=Pd(Ie)}zt=null}else zt=null;Tt!==null&&sk(it,et,Tt,zt,!1),Lt!==null&&Jn!==null&&sk(it,Jn,Lt,zt,!0)}}e:{if(et=Ve?Rd(Ve):window,Tt=et.nodeName&&et.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&et.type==="file")var Xt=N$;else if(F3(et))if(B3)Xt=A$;else{Xt=T$;var or=C$}else(Tt=et.nodeName)&&Tt.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(Xt=E$);if(Xt&&(Xt=Xt(b,Ve))){L3(it,Xt,A,nt);break e}or&&or(b,et,Ve),b==="focusout"&&(or=et._wrapperState)&&or.controlled&&et.type==="number"&&ce(et,"number",et.value)}switch(or=Ve?Rd(Ve):window,b){case"focusin":(F3(or)||or.contentEditable==="true")&&(Ed=or,fv=Ve,Eh=null);break;case"focusout":Eh=fv=Ed=null;break;case"mousedown":hv=!0;break;case"contextmenu":case"mouseup":case"dragend":hv=!1,K3(it,A,nt);break;case"selectionchange":if(R$)break;case"keydown":case"keyup":K3(it,A,nt)}var lr;if(lv)e:{switch(b){case"compositionstart":var vr="onCompositionStart";break e;case"compositionend":vr="onCompositionEnd";break e;case"compositionupdate":vr="onCompositionUpdate";break e}vr=void 0}else Td?I3(b,A)&&(vr="onCompositionEnd"):b==="keydown"&&A.keyCode===229&&(vr="onCompositionStart");vr&&(M3&&A.locale!=="ko"&&(Td||vr!=="onCompositionStart"?vr==="onCompositionEnd"&&Td&&(lr=_a()):(st=nt,Kr="value"in st?st.value:st.textContent,Td=!0)),or=f0(Ve,vr),0<or.length&&(vr=new A3(vr,b,null,A,nt),it.push({event:vr,listeners:or}),lr?vr.data=lr:(lr=O3(A),lr!==null&&(vr.data=lr)))),(lr=w$?_$(b,A):k$(b,A))&&(Ve=f0(Ve,"onBeforeInput"),0<Ve.length&&(nt=new A3("onBeforeInput","beforeinput",null,A,nt),it.push({event:nt,listeners:Ve}),nt.data=lr))}rk(it,w)})}function Mh(b,w,A){return{instance:b,listener:w,currentTarget:A}}function f0(b,w){for(var A=w+"Capture",q=[];b!==null;){var X=b,J=X.stateNode;X.tag===5&&J!==null&&(X=J,J=xr(b,A),J!=null&&q.unshift(Mh(b,J,X)),J=xr(b,w),J!=null&&q.push(Mh(b,J,X))),b=b.return}return q}function Pd(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function sk(b,w,A,q,X){for(var J=w._reactName,fe=[];A!==null&&A!==q;){var ke=A,Ce=ke.alternate,Ve=ke.stateNode;if(Ce!==null&&Ce===q)break;ke.tag===5&&Ve!==null&&(ke=Ve,X?(Ce=xr(A,J),Ce!=null&&fe.unshift(Mh(A,Ce,ke))):X||(Ce=xr(A,J),Ce!=null&&fe.push(Mh(A,Ce,ke)))),A=A.return}fe.length!==0&&b.push({event:w,listeners:fe})}var F$=/\r\n?/g,L$=/\u0000|\uFFFD/g;function ak(b){return(typeof b=="string"?b:""+b).replace(F$,`
`).replace(L$,"")}function h0(b,w,A){if(w=ak(w),ak(b)!==w&&A)throw Error(e(425))}function p0(){}var vv=null,xv=null;function wv(b,w){return b==="textarea"||b==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var _v=typeof setTimeout=="function"?setTimeout:void 0,B$=typeof clearTimeout=="function"?clearTimeout:void 0,ik=typeof Promise=="function"?Promise:void 0,$$=typeof queueMicrotask=="function"?queueMicrotask:typeof ik<"u"?function(b){return ik.resolve(null).then(b).catch(z$)}:_v;function z$(b){setTimeout(function(){throw b})}function kv(b,w){var A=w,q=0;do{var X=A.nextSibling;if(b.removeChild(A),X&&X.nodeType===8)if(A=X.data,A==="/$"){if(q===0){b.removeChild(X),ou(w);return}q--}else A!=="$"&&A!=="$?"&&A!=="$!"||q++;A=X}while(A);ou(w)}function Yl(b){for(;b!=null;b=b.nextSibling){var w=b.nodeType;if(w===1||w===3)break;if(w===8){if(w=b.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return b}function ok(b){b=b.previousSibling;for(var w=0;b;){if(b.nodeType===8){var A=b.data;if(A==="$"||A==="$!"||A==="$?"){if(w===0)return b;w--}else A==="/$"&&w++}b=b.previousSibling}return null}var Md=Math.random().toString(36).slice(2),Co="__reactFiber$"+Md,Rh="__reactProps$"+Md,ol="__reactContainer$"+Md,jv="__reactEvents$"+Md,V$="__reactListeners$"+Md,U$="__reactHandles$"+Md;function cu(b){var w=b[Co];if(w)return w;for(var A=b.parentNode;A;){if(w=A[ol]||A[Co]){if(A=w.alternate,w.child!==null||A!==null&&A.child!==null)for(b=ok(b);b!==null;){if(A=b[Co])return A;b=ok(b)}return w}b=A,A=b.parentNode}return null}function Dh(b){return b=b[Co]||b[ol],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function Rd(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(e(33))}function m0(b){return b[Rh]||null}var Sv=[],Dd=-1;function Zl(b){return{current:b}}function Tn(b){0>Dd||(b.current=Sv[Dd],Sv[Dd]=null,Dd--)}function _n(b,w){Dd++,Sv[Dd]=b.current,b.current=w}var Jl={},ra=Zl(Jl),Ba=Zl(!1),uu=Jl;function Id(b,w){var A=b.type.contextTypes;if(!A)return Jl;var q=b.stateNode;if(q&&q.__reactInternalMemoizedUnmaskedChildContext===w)return q.__reactInternalMemoizedMaskedChildContext;var X={},J;for(J in A)X[J]=w[J];return q&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=w,b.__reactInternalMemoizedMaskedChildContext=X),X}function $a(b){return b=b.childContextTypes,b!=null}function g0(){Tn(Ba),Tn(ra)}function lk(b,w,A){if(ra.current!==Jl)throw Error(e(168));_n(ra,w),_n(Ba,A)}function ck(b,w,A){var q=b.stateNode;if(w=w.childContextTypes,typeof q.getChildContext!="function")return A;q=q.getChildContext();for(var X in q)if(!(X in w))throw Error(e(108,Z(b)||"Unknown",X));return D({},A,q)}function y0(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Jl,uu=ra.current,_n(ra,b),_n(Ba,Ba.current),!0}function uk(b,w,A){var q=b.stateNode;if(!q)throw Error(e(169));A?(b=ck(b,w,uu),q.__reactInternalMemoizedMergedChildContext=b,Tn(Ba),Tn(ra),_n(ra,b)):Tn(Ba),_n(Ba,A)}var ll=null,b0=!1,Nv=!1;function dk(b){ll===null?ll=[b]:ll.push(b)}function W$(b){b0=!0,dk(b)}function ec(){if(!Nv&&ll!==null){Nv=!0;var b=0,w=br;try{var A=ll;for(br=1;b<A.length;b++){var q=A[b];do q=q(!0);while(q!==null)}ll=null,b0=!1}catch(X){throw ll!==null&&(ll=ll.slice(b+1)),vt(Ze,ec),X}finally{br=w,Nv=!1}}return null}var Od=[],Fd=0,v0=null,x0=0,_i=[],ki=0,du=null,cl=1,ul="";function fu(b,w){Od[Fd++]=x0,Od[Fd++]=v0,v0=b,x0=w}function fk(b,w,A){_i[ki++]=cl,_i[ki++]=ul,_i[ki++]=du,du=b;var q=cl;b=ul;var X=32-ur(q)-1;q&=~(1<<X),A+=1;var J=32-ur(w)+X;if(30<J){var fe=X-X%5;J=(q&(1<<fe)-1).toString(32),q>>=fe,X-=fe,cl=1<<32-ur(w)+X|A<<X|q,ul=J+b}else cl=1<<J|A<<X|q,ul=b}function Cv(b){b.return!==null&&(fu(b,1),fk(b,1,0))}function Tv(b){for(;b===v0;)v0=Od[--Fd],Od[Fd]=null,x0=Od[--Fd],Od[Fd]=null;for(;b===du;)du=_i[--ki],_i[ki]=null,ul=_i[--ki],_i[ki]=null,cl=_i[--ki],_i[ki]=null}var ri=null,ni=null,Rn=!1,Yi=null;function hk(b,w){var A=Ci(5,null,null,0);A.elementType="DELETED",A.stateNode=w,A.return=b,w=b.deletions,w===null?(b.deletions=[A],b.flags|=16):w.push(A)}function pk(b,w){switch(b.tag){case 5:var A=b.type;return w=w.nodeType!==1||A.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(b.stateNode=w,ri=b,ni=Yl(w.firstChild),!0):!1;case 6:return w=b.pendingProps===""||w.nodeType!==3?null:w,w!==null?(b.stateNode=w,ri=b,ni=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(A=du!==null?{id:cl,overflow:ul}:null,b.memoizedState={dehydrated:w,treeContext:A,retryLane:1073741824},A=Ci(18,null,null,0),A.stateNode=w,A.return=b,b.child=A,ri=b,ni=null,!0):!1;default:return!1}}function Ev(b){return(b.mode&1)!==0&&(b.flags&128)===0}function Av(b){if(Rn){var w=ni;if(w){var A=w;if(!pk(b,w)){if(Ev(b))throw Error(e(418));w=Yl(A.nextSibling);var q=ri;w&&pk(b,w)?hk(q,A):(b.flags=b.flags&-4097|2,Rn=!1,ri=b)}}else{if(Ev(b))throw Error(e(418));b.flags=b.flags&-4097|2,Rn=!1,ri=b}}}function mk(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;ri=b}function w0(b){if(b!==ri)return!1;if(!Rn)return mk(b),Rn=!0,!1;var w;if((w=b.tag!==3)&&!(w=b.tag!==5)&&(w=b.type,w=w!=="head"&&w!=="body"&&!wv(b.type,b.memoizedProps)),w&&(w=ni)){if(Ev(b))throw gk(),Error(e(418));for(;w;)hk(b,w),w=Yl(w.nextSibling)}if(mk(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(e(317));e:{for(b=b.nextSibling,w=0;b;){if(b.nodeType===8){var A=b.data;if(A==="/$"){if(w===0){ni=Yl(b.nextSibling);break e}w--}else A!=="$"&&A!=="$!"&&A!=="$?"||w++}b=b.nextSibling}ni=null}}else ni=ri?Yl(b.stateNode.nextSibling):null;return!0}function gk(){for(var b=ni;b;)b=Yl(b.nextSibling)}function Ld(){ni=ri=null,Rn=!1}function Pv(b){Yi===null?Yi=[b]:Yi.push(b)}var q$=T.ReactCurrentBatchConfig;function Ih(b,w,A){if(b=A.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(e(309));var q=A.stateNode}if(!q)throw Error(e(147,b));var X=q,J=""+b;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===J?w.ref:(w=function(fe){var ke=X.refs;fe===null?delete ke[J]:ke[J]=fe},w._stringRef=J,w)}if(typeof b!="string")throw Error(e(284));if(!A._owner)throw Error(e(290,b))}return b}function _0(b,w){throw b=Object.prototype.toString.call(w),Error(e(31,b==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":b))}function yk(b){var w=b._init;return w(b._payload)}function bk(b){function w(Ie,Ee){if(b){var $e=Ie.deletions;$e===null?(Ie.deletions=[Ee],Ie.flags|=16):$e.push(Ee)}}function A(Ie,Ee){if(!b)return null;for(;Ee!==null;)w(Ie,Ee),Ee=Ee.sibling;return null}function q(Ie,Ee){for(Ie=new Map;Ee!==null;)Ee.key!==null?Ie.set(Ee.key,Ee):Ie.set(Ee.index,Ee),Ee=Ee.sibling;return Ie}function X(Ie,Ee){return Ie=lc(Ie,Ee),Ie.index=0,Ie.sibling=null,Ie}function J(Ie,Ee,$e){return Ie.index=$e,b?($e=Ie.alternate,$e!==null?($e=$e.index,$e<Ee?(Ie.flags|=2,Ee):$e):(Ie.flags|=2,Ee)):(Ie.flags|=1048576,Ee)}function fe(Ie){return b&&Ie.alternate===null&&(Ie.flags|=2),Ie}function ke(Ie,Ee,$e,ht){return Ee===null||Ee.tag!==6?(Ee=_x($e,Ie.mode,ht),Ee.return=Ie,Ee):(Ee=X(Ee,$e),Ee.return=Ie,Ee)}function Ce(Ie,Ee,$e,ht){var Xt=$e.type;return Xt===W?nt(Ie,Ee,$e.props.children,ht,$e.key):Ee!==null&&(Ee.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===_&&yk(Xt)===Ee.type)?(ht=X(Ee,$e.props),ht.ref=Ih(Ie,Ee,$e),ht.return=Ie,ht):(ht=H0($e.type,$e.key,$e.props,null,Ie.mode,ht),ht.ref=Ih(Ie,Ee,$e),ht.return=Ie,ht)}function Ve(Ie,Ee,$e,ht){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==$e.containerInfo||Ee.stateNode.implementation!==$e.implementation?(Ee=kx($e,Ie.mode,ht),Ee.return=Ie,Ee):(Ee=X(Ee,$e.children||[]),Ee.return=Ie,Ee)}function nt(Ie,Ee,$e,ht,Xt){return Ee===null||Ee.tag!==7?(Ee=xu($e,Ie.mode,ht,Xt),Ee.return=Ie,Ee):(Ee=X(Ee,$e),Ee.return=Ie,Ee)}function it(Ie,Ee,$e){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ee=_x(""+Ee,Ie.mode,$e),Ee.return=Ie,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case E:return $e=H0(Ee.type,Ee.key,Ee.props,null,Ie.mode,$e),$e.ref=Ih(Ie,null,Ee),$e.return=Ie,$e;case B:return Ee=kx(Ee,Ie.mode,$e),Ee.return=Ie,Ee;case _:var ht=Ee._init;return it(Ie,ht(Ee._payload),$e)}if(ie(Ee)||N(Ee))return Ee=xu(Ee,Ie.mode,$e,null),Ee.return=Ie,Ee;_0(Ie,Ee)}return null}function et(Ie,Ee,$e,ht){var Xt=Ee!==null?Ee.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Xt!==null?null:ke(Ie,Ee,""+$e,ht);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case E:return $e.key===Xt?Ce(Ie,Ee,$e,ht):null;case B:return $e.key===Xt?Ve(Ie,Ee,$e,ht):null;case _:return Xt=$e._init,et(Ie,Ee,Xt($e._payload),ht)}if(ie($e)||N($e))return Xt!==null?null:nt(Ie,Ee,$e,ht,null);_0(Ie,$e)}return null}function Tt(Ie,Ee,$e,ht,Xt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return Ie=Ie.get($e)||null,ke(Ee,Ie,""+ht,Xt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case E:return Ie=Ie.get(ht.key===null?$e:ht.key)||null,Ce(Ee,Ie,ht,Xt);case B:return Ie=Ie.get(ht.key===null?$e:ht.key)||null,Ve(Ee,Ie,ht,Xt);case _:var or=ht._init;return Tt(Ie,Ee,$e,or(ht._payload),Xt)}if(ie(ht)||N(ht))return Ie=Ie.get($e)||null,nt(Ee,Ie,ht,Xt,null);_0(Ee,ht)}return null}function Lt(Ie,Ee,$e,ht){for(var Xt=null,or=null,lr=Ee,vr=Ee=0,Ns=null;lr!==null&&vr<$e.length;vr++){lr.index>vr?(Ns=lr,lr=null):Ns=lr.sibling;var ln=et(Ie,lr,$e[vr],ht);if(ln===null){lr===null&&(lr=Ns);break}b&&lr&&ln.alternate===null&&w(Ie,lr),Ee=J(ln,Ee,vr),or===null?Xt=ln:or.sibling=ln,or=ln,lr=Ns}if(vr===$e.length)return A(Ie,lr),Rn&&fu(Ie,vr),Xt;if(lr===null){for(;vr<$e.length;vr++)lr=it(Ie,$e[vr],ht),lr!==null&&(Ee=J(lr,Ee,vr),or===null?Xt=lr:or.sibling=lr,or=lr);return Rn&&fu(Ie,vr),Xt}for(lr=q(Ie,lr);vr<$e.length;vr++)Ns=Tt(lr,Ie,vr,$e[vr],ht),Ns!==null&&(b&&Ns.alternate!==null&&lr.delete(Ns.key===null?vr:Ns.key),Ee=J(Ns,Ee,vr),or===null?Xt=Ns:or.sibling=Ns,or=Ns);return b&&lr.forEach(function(cc){return w(Ie,cc)}),Rn&&fu(Ie,vr),Xt}function zt(Ie,Ee,$e,ht){var Xt=N($e);if(typeof Xt!="function")throw Error(e(150));if($e=Xt.call($e),$e==null)throw Error(e(151));for(var or=Xt=null,lr=Ee,vr=Ee=0,Ns=null,ln=$e.next();lr!==null&&!ln.done;vr++,ln=$e.next()){lr.index>vr?(Ns=lr,lr=null):Ns=lr.sibling;var cc=et(Ie,lr,ln.value,ht);if(cc===null){lr===null&&(lr=Ns);break}b&&lr&&cc.alternate===null&&w(Ie,lr),Ee=J(cc,Ee,vr),or===null?Xt=cc:or.sibling=cc,or=cc,lr=Ns}if(ln.done)return A(Ie,lr),Rn&&fu(Ie,vr),Xt;if(lr===null){for(;!ln.done;vr++,ln=$e.next())ln=it(Ie,ln.value,ht),ln!==null&&(Ee=J(ln,Ee,vr),or===null?Xt=ln:or.sibling=ln,or=ln);return Rn&&fu(Ie,vr),Xt}for(lr=q(Ie,lr);!ln.done;vr++,ln=$e.next())ln=Tt(lr,Ie,vr,ln.value,ht),ln!==null&&(b&&ln.alternate!==null&&lr.delete(ln.key===null?vr:ln.key),Ee=J(ln,Ee,vr),or===null?Xt=ln:or.sibling=ln,or=ln);return b&&lr.forEach(function(jz){return w(Ie,jz)}),Rn&&fu(Ie,vr),Xt}function Jn(Ie,Ee,$e,ht){if(typeof $e=="object"&&$e!==null&&$e.type===W&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case E:e:{for(var Xt=$e.key,or=Ee;or!==null;){if(or.key===Xt){if(Xt=$e.type,Xt===W){if(or.tag===7){A(Ie,or.sibling),Ee=X(or,$e.props.children),Ee.return=Ie,Ie=Ee;break e}}else if(or.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===_&&yk(Xt)===or.type){A(Ie,or.sibling),Ee=X(or,$e.props),Ee.ref=Ih(Ie,or,$e),Ee.return=Ie,Ie=Ee;break e}A(Ie,or);break}else w(Ie,or);or=or.sibling}$e.type===W?(Ee=xu($e.props.children,Ie.mode,ht,$e.key),Ee.return=Ie,Ie=Ee):(ht=H0($e.type,$e.key,$e.props,null,Ie.mode,ht),ht.ref=Ih(Ie,Ee,$e),ht.return=Ie,Ie=ht)}return fe(Ie);case B:e:{for(or=$e.key;Ee!==null;){if(Ee.key===or)if(Ee.tag===4&&Ee.stateNode.containerInfo===$e.containerInfo&&Ee.stateNode.implementation===$e.implementation){A(Ie,Ee.sibling),Ee=X(Ee,$e.children||[]),Ee.return=Ie,Ie=Ee;break e}else{A(Ie,Ee);break}else w(Ie,Ee);Ee=Ee.sibling}Ee=kx($e,Ie.mode,ht),Ee.return=Ie,Ie=Ee}return fe(Ie);case _:return or=$e._init,Jn(Ie,Ee,or($e._payload),ht)}if(ie($e))return Lt(Ie,Ee,$e,ht);if(N($e))return zt(Ie,Ee,$e,ht);_0(Ie,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Ee!==null&&Ee.tag===6?(A(Ie,Ee.sibling),Ee=X(Ee,$e),Ee.return=Ie,Ie=Ee):(A(Ie,Ee),Ee=_x($e,Ie.mode,ht),Ee.return=Ie,Ie=Ee),fe(Ie)):A(Ie,Ee)}return Jn}var Bd=bk(!0),vk=bk(!1),k0=Zl(null),j0=null,$d=null,Mv=null;function Rv(){Mv=$d=j0=null}function Dv(b){var w=k0.current;Tn(k0),b._currentValue=w}function Iv(b,w,A){for(;b!==null;){var q=b.alternate;if((b.childLanes&w)!==w?(b.childLanes|=w,q!==null&&(q.childLanes|=w)):q!==null&&(q.childLanes&w)!==w&&(q.childLanes|=w),b===A)break;b=b.return}}function zd(b,w){j0=b,Mv=$d=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&w)!==0&&(za=!0),b.firstContext=null)}function ji(b){var w=b._currentValue;if(Mv!==b)if(b={context:b,memoizedValue:w,next:null},$d===null){if(j0===null)throw Error(e(308));$d=b,j0.dependencies={lanes:0,firstContext:b}}else $d=$d.next=b;return w}var hu=null;function Ov(b){hu===null?hu=[b]:hu.push(b)}function xk(b,w,A,q){var X=w.interleaved;return X===null?(A.next=A,Ov(w)):(A.next=X.next,X.next=A),w.interleaved=A,dl(b,q)}function dl(b,w){b.lanes|=w;var A=b.alternate;for(A!==null&&(A.lanes|=w),A=b,b=b.return;b!==null;)b.childLanes|=w,A=b.alternate,A!==null&&(A.childLanes|=w),A=b,b=b.return;return A.tag===3?A.stateNode:null}var tc=!1;function Fv(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wk(b,w){b=b.updateQueue,w.updateQueue===b&&(w.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function fl(b,w){return{eventTime:b,lane:w,tag:0,payload:null,callback:null,next:null}}function rc(b,w,A){var q=b.updateQueue;if(q===null)return null;if(q=q.shared,(an&2)!==0){var X=q.pending;return X===null?w.next=w:(w.next=X.next,X.next=w),q.pending=w,dl(b,A)}return X=q.interleaved,X===null?(w.next=w,Ov(q)):(w.next=X.next,X.next=w),q.interleaved=w,dl(b,A)}function S0(b,w,A){if(w=w.updateQueue,w!==null&&(w=w.shared,(A&4194240)!==0)){var q=w.lanes;q&=b.pendingLanes,A|=q,w.lanes=A,bi(b,A)}}function _k(b,w){var A=b.updateQueue,q=b.alternate;if(q!==null&&(q=q.updateQueue,A===q)){var X=null,J=null;if(A=A.firstBaseUpdate,A!==null){do{var fe={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};J===null?X=J=fe:J=J.next=fe,A=A.next}while(A!==null);J===null?X=J=w:J=J.next=w}else X=J=w;A={baseState:q.baseState,firstBaseUpdate:X,lastBaseUpdate:J,shared:q.shared,effects:q.effects},b.updateQueue=A;return}b=A.lastBaseUpdate,b===null?A.firstBaseUpdate=w:b.next=w,A.lastBaseUpdate=w}function N0(b,w,A,q){var X=b.updateQueue;tc=!1;var J=X.firstBaseUpdate,fe=X.lastBaseUpdate,ke=X.shared.pending;if(ke!==null){X.shared.pending=null;var Ce=ke,Ve=Ce.next;Ce.next=null,fe===null?J=Ve:fe.next=Ve,fe=Ce;var nt=b.alternate;nt!==null&&(nt=nt.updateQueue,ke=nt.lastBaseUpdate,ke!==fe&&(ke===null?nt.firstBaseUpdate=Ve:ke.next=Ve,nt.lastBaseUpdate=Ce))}if(J!==null){var it=X.baseState;fe=0,nt=Ve=Ce=null,ke=J;do{var et=ke.lane,Tt=ke.eventTime;if((q&et)===et){nt!==null&&(nt=nt.next={eventTime:Tt,lane:0,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null});e:{var Lt=b,zt=ke;switch(et=w,Tt=A,zt.tag){case 1:if(Lt=zt.payload,typeof Lt=="function"){it=Lt.call(Tt,it,et);break e}it=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=zt.payload,et=typeof Lt=="function"?Lt.call(Tt,it,et):Lt,et==null)break e;it=D({},it,et);break e;case 2:tc=!0}}ke.callback!==null&&ke.lane!==0&&(b.flags|=64,et=X.effects,et===null?X.effects=[ke]:et.push(ke))}else Tt={eventTime:Tt,lane:et,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null},nt===null?(Ve=nt=Tt,Ce=it):nt=nt.next=Tt,fe|=et;if(ke=ke.next,ke===null){if(ke=X.shared.pending,ke===null)break;et=ke,ke=et.next,et.next=null,X.lastBaseUpdate=et,X.shared.pending=null}}while(!0);if(nt===null&&(Ce=it),X.baseState=Ce,X.firstBaseUpdate=Ve,X.lastBaseUpdate=nt,w=X.shared.interleaved,w!==null){X=w;do fe|=X.lane,X=X.next;while(X!==w)}else J===null&&(X.shared.lanes=0);gu|=fe,b.lanes=fe,b.memoizedState=it}}function kk(b,w,A){if(b=w.effects,w.effects=null,b!==null)for(w=0;w<b.length;w++){var q=b[w],X=q.callback;if(X!==null){if(q.callback=null,q=A,typeof X!="function")throw Error(e(191,X));X.call(q)}}}var Oh={},To=Zl(Oh),Fh=Zl(Oh),Lh=Zl(Oh);function pu(b){if(b===Oh)throw Error(e(174));return b}function Lv(b,w){switch(_n(Lh,w),_n(Fh,b),_n(To,Oh),b=w.nodeType,b){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:Fe(null,"");break;default:b=b===8?w.parentNode:w,w=b.namespaceURI||null,b=b.tagName,w=Fe(w,b)}Tn(To),_n(To,w)}function Vd(){Tn(To),Tn(Fh),Tn(Lh)}function jk(b){pu(Lh.current);var w=pu(To.current),A=Fe(w,b.type);w!==A&&(_n(Fh,b),_n(To,A))}function Bv(b){Fh.current===b&&(Tn(To),Tn(Fh))}var $n=Zl(0);function C0(b){for(var w=b;w!==null;){if(w.tag===13){var A=w.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===b)break;for(;w.sibling===null;){if(w.return===null||w.return===b)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var $v=[];function zv(){for(var b=0;b<$v.length;b++)$v[b]._workInProgressVersionPrimary=null;$v.length=0}var T0=T.ReactCurrentDispatcher,Vv=T.ReactCurrentBatchConfig,mu=0,zn=null,fs=null,js=null,E0=!1,Bh=!1,$h=0,H$=0;function na(){throw Error(e(321))}function Uv(b,w){if(w===null)return!1;for(var A=0;A<w.length&&A<b.length;A++)if(!Qi(b[A],w[A]))return!1;return!0}function Wv(b,w,A,q,X,J){if(mu=J,zn=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,T0.current=b===null||b.memoizedState===null?Q$:Y$,b=A(q,X),Bh){J=0;do{if(Bh=!1,$h=0,25<=J)throw Error(e(301));J+=1,js=fs=null,w.updateQueue=null,T0.current=Z$,b=A(q,X)}while(Bh)}if(T0.current=M0,w=fs!==null&&fs.next!==null,mu=0,js=fs=zn=null,E0=!1,w)throw Error(e(300));return b}function qv(){var b=$h!==0;return $h=0,b}function Eo(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return js===null?zn.memoizedState=js=b:js=js.next=b,js}function Si(){if(fs===null){var b=zn.alternate;b=b!==null?b.memoizedState:null}else b=fs.next;var w=js===null?zn.memoizedState:js.next;if(w!==null)js=w,fs=b;else{if(b===null)throw Error(e(310));fs=b,b={memoizedState:fs.memoizedState,baseState:fs.baseState,baseQueue:fs.baseQueue,queue:fs.queue,next:null},js===null?zn.memoizedState=js=b:js=js.next=b}return js}function zh(b,w){return typeof w=="function"?w(b):w}function Hv(b){var w=Si(),A=w.queue;if(A===null)throw Error(e(311));A.lastRenderedReducer=b;var q=fs,X=q.baseQueue,J=A.pending;if(J!==null){if(X!==null){var fe=X.next;X.next=J.next,J.next=fe}q.baseQueue=X=J,A.pending=null}if(X!==null){J=X.next,q=q.baseState;var ke=fe=null,Ce=null,Ve=J;do{var nt=Ve.lane;if((mu&nt)===nt)Ce!==null&&(Ce=Ce.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),q=Ve.hasEagerState?Ve.eagerState:b(q,Ve.action);else{var it={lane:nt,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};Ce===null?(ke=Ce=it,fe=q):Ce=Ce.next=it,zn.lanes|=nt,gu|=nt}Ve=Ve.next}while(Ve!==null&&Ve!==J);Ce===null?fe=q:Ce.next=ke,Qi(q,w.memoizedState)||(za=!0),w.memoizedState=q,w.baseState=fe,w.baseQueue=Ce,A.lastRenderedState=q}if(b=A.interleaved,b!==null){X=b;do J=X.lane,zn.lanes|=J,gu|=J,X=X.next;while(X!==b)}else X===null&&(A.lanes=0);return[w.memoizedState,A.dispatch]}function Kv(b){var w=Si(),A=w.queue;if(A===null)throw Error(e(311));A.lastRenderedReducer=b;var q=A.dispatch,X=A.pending,J=w.memoizedState;if(X!==null){A.pending=null;var fe=X=X.next;do J=b(J,fe.action),fe=fe.next;while(fe!==X);Qi(J,w.memoizedState)||(za=!0),w.memoizedState=J,w.baseQueue===null&&(w.baseState=J),A.lastRenderedState=J}return[J,q]}function Sk(){}function Nk(b,w){var A=zn,q=Si(),X=w(),J=!Qi(q.memoizedState,X);if(J&&(q.memoizedState=X,za=!0),q=q.queue,Gv(Ek.bind(null,A,q,b),[b]),q.getSnapshot!==w||J||js!==null&&js.memoizedState.tag&1){if(A.flags|=2048,Vh(9,Tk.bind(null,A,q,X,w),void 0,null),Ss===null)throw Error(e(349));(mu&30)!==0||Ck(A,w,X)}return X}function Ck(b,w,A){b.flags|=16384,b={getSnapshot:w,value:A},w=zn.updateQueue,w===null?(w={lastEffect:null,stores:null},zn.updateQueue=w,w.stores=[b]):(A=w.stores,A===null?w.stores=[b]:A.push(b))}function Tk(b,w,A,q){w.value=A,w.getSnapshot=q,Ak(w)&&Pk(b)}function Ek(b,w,A){return A(function(){Ak(w)&&Pk(b)})}function Ak(b){var w=b.getSnapshot;b=b.value;try{var A=w();return!Qi(b,A)}catch{return!0}}function Pk(b){var w=dl(b,1);w!==null&&to(w,b,1,-1)}function Mk(b){var w=Eo();return typeof b=="function"&&(b=b()),w.memoizedState=w.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zh,lastRenderedState:b},w.queue=b,b=b.dispatch=X$.bind(null,zn,b),[w.memoizedState,b]}function Vh(b,w,A,q){return b={tag:b,create:w,destroy:A,deps:q,next:null},w=zn.updateQueue,w===null?(w={lastEffect:null,stores:null},zn.updateQueue=w,w.lastEffect=b.next=b):(A=w.lastEffect,A===null?w.lastEffect=b.next=b:(q=A.next,A.next=b,b.next=q,w.lastEffect=b)),b}function Rk(){return Si().memoizedState}function A0(b,w,A,q){var X=Eo();zn.flags|=b,X.memoizedState=Vh(1|w,A,void 0,q===void 0?null:q)}function P0(b,w,A,q){var X=Si();q=q===void 0?null:q;var J=void 0;if(fs!==null){var fe=fs.memoizedState;if(J=fe.destroy,q!==null&&Uv(q,fe.deps)){X.memoizedState=Vh(w,A,J,q);return}}zn.flags|=b,X.memoizedState=Vh(1|w,A,J,q)}function Dk(b,w){return A0(8390656,8,b,w)}function Gv(b,w){return P0(2048,8,b,w)}function Ik(b,w){return P0(4,2,b,w)}function Ok(b,w){return P0(4,4,b,w)}function Fk(b,w){if(typeof w=="function")return b=b(),w(b),function(){w(null)};if(w!=null)return b=b(),w.current=b,function(){w.current=null}}function Lk(b,w,A){return A=A!=null?A.concat([b]):null,P0(4,4,Fk.bind(null,w,b),A)}function Xv(){}function Bk(b,w){var A=Si();w=w===void 0?null:w;var q=A.memoizedState;return q!==null&&w!==null&&Uv(w,q[1])?q[0]:(A.memoizedState=[b,w],b)}function $k(b,w){var A=Si();w=w===void 0?null:w;var q=A.memoizedState;return q!==null&&w!==null&&Uv(w,q[1])?q[0]:(b=b(),A.memoizedState=[b,w],b)}function zk(b,w,A){return(mu&21)===0?(b.baseState&&(b.baseState=!1,za=!0),b.memoizedState=A):(Qi(A,w)||(A=Hr(),zn.lanes|=A,gu|=A,b.baseState=!0),w)}function K$(b,w){var A=br;br=A!==0&&4>A?A:4,b(!0);var q=Vv.transition;Vv.transition={};try{b(!1),w()}finally{br=A,Vv.transition=q}}function Vk(){return Si().memoizedState}function G$(b,w,A){var q=ic(b);if(A={lane:q,action:A,hasEagerState:!1,eagerState:null,next:null},Uk(b))Wk(w,A);else if(A=xk(b,w,A,q),A!==null){var X=ja();to(A,b,q,X),qk(A,w,q)}}function X$(b,w,A){var q=ic(b),X={lane:q,action:A,hasEagerState:!1,eagerState:null,next:null};if(Uk(b))Wk(w,X);else{var J=b.alternate;if(b.lanes===0&&(J===null||J.lanes===0)&&(J=w.lastRenderedReducer,J!==null))try{var fe=w.lastRenderedState,ke=J(fe,A);if(X.hasEagerState=!0,X.eagerState=ke,Qi(ke,fe)){var Ce=w.interleaved;Ce===null?(X.next=X,Ov(w)):(X.next=Ce.next,Ce.next=X),w.interleaved=X;return}}catch{}finally{}A=xk(b,w,X,q),A!==null&&(X=ja(),to(A,b,q,X),qk(A,w,q))}}function Uk(b){var w=b.alternate;return b===zn||w!==null&&w===zn}function Wk(b,w){Bh=E0=!0;var A=b.pending;A===null?w.next=w:(w.next=A.next,A.next=w),b.pending=w}function qk(b,w,A){if((A&4194240)!==0){var q=w.lanes;q&=b.pendingLanes,A|=q,w.lanes=A,bi(b,A)}}var M0={readContext:ji,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useInsertionEffect:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useSyncExternalStore:na,useId:na,unstable_isNewReconciler:!1},Q$={readContext:ji,useCallback:function(b,w){return Eo().memoizedState=[b,w===void 0?null:w],b},useContext:ji,useEffect:Dk,useImperativeHandle:function(b,w,A){return A=A!=null?A.concat([b]):null,A0(4194308,4,Fk.bind(null,w,b),A)},useLayoutEffect:function(b,w){return A0(4194308,4,b,w)},useInsertionEffect:function(b,w){return A0(4,2,b,w)},useMemo:function(b,w){var A=Eo();return w=w===void 0?null:w,b=b(),A.memoizedState=[b,w],b},useReducer:function(b,w,A){var q=Eo();return w=A!==void 0?A(w):w,q.memoizedState=q.baseState=w,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:w},q.queue=b,b=b.dispatch=G$.bind(null,zn,b),[q.memoizedState,b]},useRef:function(b){var w=Eo();return b={current:b},w.memoizedState=b},useState:Mk,useDebugValue:Xv,useDeferredValue:function(b){return Eo().memoizedState=b},useTransition:function(){var b=Mk(!1),w=b[0];return b=K$.bind(null,b[1]),Eo().memoizedState=b,[w,b]},useMutableSource:function(){},useSyncExternalStore:function(b,w,A){var q=zn,X=Eo();if(Rn){if(A===void 0)throw Error(e(407));A=A()}else{if(A=w(),Ss===null)throw Error(e(349));(mu&30)!==0||Ck(q,w,A)}X.memoizedState=A;var J={value:A,getSnapshot:w};return X.queue=J,Dk(Ek.bind(null,q,J,b),[b]),q.flags|=2048,Vh(9,Tk.bind(null,q,J,A,w),void 0,null),A},useId:function(){var b=Eo(),w=Ss.identifierPrefix;if(Rn){var A=ul,q=cl;A=(q&~(1<<32-ur(q)-1)).toString(32)+A,w=":"+w+"R"+A,A=$h++,0<A&&(w+="H"+A.toString(32)),w+=":"}else A=H$++,w=":"+w+"r"+A.toString(32)+":";return b.memoizedState=w},unstable_isNewReconciler:!1},Y$={readContext:ji,useCallback:Bk,useContext:ji,useEffect:Gv,useImperativeHandle:Lk,useInsertionEffect:Ik,useLayoutEffect:Ok,useMemo:$k,useReducer:Hv,useRef:Rk,useState:function(){return Hv(zh)},useDebugValue:Xv,useDeferredValue:function(b){var w=Si();return zk(w,fs.memoizedState,b)},useTransition:function(){var b=Hv(zh)[0],w=Si().memoizedState;return[b,w]},useMutableSource:Sk,useSyncExternalStore:Nk,useId:Vk,unstable_isNewReconciler:!1},Z$={readContext:ji,useCallback:Bk,useContext:ji,useEffect:Gv,useImperativeHandle:Lk,useInsertionEffect:Ik,useLayoutEffect:Ok,useMemo:$k,useReducer:Kv,useRef:Rk,useState:function(){return Kv(zh)},useDebugValue:Xv,useDeferredValue:function(b){var w=Si();return fs===null?w.memoizedState=b:zk(w,fs.memoizedState,b)},useTransition:function(){var b=Kv(zh)[0],w=Si().memoizedState;return[b,w]},useMutableSource:Sk,useSyncExternalStore:Nk,useId:Vk,unstable_isNewReconciler:!1};function Zi(b,w){if(b&&b.defaultProps){w=D({},w),b=b.defaultProps;for(var A in b)w[A]===void 0&&(w[A]=b[A]);return w}return w}function Qv(b,w,A,q){w=b.memoizedState,A=A(q,w),A=A==null?w:D({},w,A),b.memoizedState=A,b.lanes===0&&(b.updateQueue.baseState=A)}var R0={isMounted:function(b){return(b=b._reactInternals)?xe(b)===b:!1},enqueueSetState:function(b,w,A){b=b._reactInternals;var q=ja(),X=ic(b),J=fl(q,X);J.payload=w,A!=null&&(J.callback=A),w=rc(b,J,X),w!==null&&(to(w,b,X,q),S0(w,b,X))},enqueueReplaceState:function(b,w,A){b=b._reactInternals;var q=ja(),X=ic(b),J=fl(q,X);J.tag=1,J.payload=w,A!=null&&(J.callback=A),w=rc(b,J,X),w!==null&&(to(w,b,X,q),S0(w,b,X))},enqueueForceUpdate:function(b,w){b=b._reactInternals;var A=ja(),q=ic(b),X=fl(A,q);X.tag=2,w!=null&&(X.callback=w),w=rc(b,X,q),w!==null&&(to(w,b,q,A),S0(w,b,q))}};function Hk(b,w,A,q,X,J,fe){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(q,J,fe):w.prototype&&w.prototype.isPureReactComponent?!Th(A,q)||!Th(X,J):!0}function Kk(b,w,A){var q=!1,X=Jl,J=w.contextType;return typeof J=="object"&&J!==null?J=ji(J):(X=$a(w)?uu:ra.current,q=w.contextTypes,J=(q=q!=null)?Id(b,X):Jl),w=new w(A,J),b.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=R0,b.stateNode=w,w._reactInternals=b,q&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=X,b.__reactInternalMemoizedMaskedChildContext=J),w}function Gk(b,w,A,q){b=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(A,q),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(A,q),w.state!==b&&R0.enqueueReplaceState(w,w.state,null)}function Yv(b,w,A,q){var X=b.stateNode;X.props=A,X.state=b.memoizedState,X.refs={},Fv(b);var J=w.contextType;typeof J=="object"&&J!==null?X.context=ji(J):(J=$a(w)?uu:ra.current,X.context=Id(b,J)),X.state=b.memoizedState,J=w.getDerivedStateFromProps,typeof J=="function"&&(Qv(b,w,J,A),X.state=b.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof X.getSnapshotBeforeUpdate=="function"||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(w=X.state,typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount(),w!==X.state&&R0.enqueueReplaceState(X,X.state,null),N0(b,A,X,q),X.state=b.memoizedState),typeof X.componentDidMount=="function"&&(b.flags|=4194308)}function Ud(b,w){try{var A="",q=w;do A+=re(q),q=q.return;while(q);var X=A}catch(J){X=`
Error generating stack: `+J.message+`
`+J.stack}return{value:b,source:w,stack:X,digest:null}}function Zv(b,w,A){return{value:b,source:null,stack:A??null,digest:w??null}}function Jv(b,w){try{console.error(w.value)}catch(A){setTimeout(function(){throw A})}}var J$=typeof WeakMap=="function"?WeakMap:Map;function Xk(b,w,A){A=fl(-1,A),A.tag=3,A.payload={element:null};var q=w.value;return A.callback=function(){$0||($0=!0,px=q),Jv(b,w)},A}function Qk(b,w,A){A=fl(-1,A),A.tag=3;var q=b.type.getDerivedStateFromError;if(typeof q=="function"){var X=w.value;A.payload=function(){return q(X)},A.callback=function(){Jv(b,w)}}var J=b.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(A.callback=function(){Jv(b,w),typeof q!="function"&&(sc===null?sc=new Set([this]):sc.add(this));var fe=w.stack;this.componentDidCatch(w.value,{componentStack:fe!==null?fe:""})}),A}function Yk(b,w,A){var q=b.pingCache;if(q===null){q=b.pingCache=new J$;var X=new Set;q.set(w,X)}else X=q.get(w),X===void 0&&(X=new Set,q.set(w,X));X.has(A)||(X.add(A),b=hz.bind(null,b,w,A),w.then(b,b))}function Zk(b){do{var w;if((w=b.tag===13)&&(w=b.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return b;b=b.return}while(b!==null);return null}function Jk(b,w,A,q,X){return(b.mode&1)===0?(b===w?b.flags|=65536:(b.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(w=fl(-1,1),w.tag=2,rc(A,w,1))),A.lanes|=1),b):(b.flags|=65536,b.lanes=X,b)}var ez=T.ReactCurrentOwner,za=!1;function ka(b,w,A,q){w.child=b===null?vk(w,null,A,q):Bd(w,b.child,A,q)}function e5(b,w,A,q,X){A=A.render;var J=w.ref;return zd(w,X),q=Wv(b,w,A,q,J,X),A=qv(),b!==null&&!za?(w.updateQueue=b.updateQueue,w.flags&=-2053,b.lanes&=~X,hl(b,w,X)):(Rn&&A&&Cv(w),w.flags|=1,ka(b,w,q,X),w.child)}function t5(b,w,A,q,X){if(b===null){var J=A.type;return typeof J=="function"&&!wx(J)&&J.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(w.tag=15,w.type=J,r5(b,w,J,q,X)):(b=H0(A.type,null,q,w,w.mode,X),b.ref=w.ref,b.return=w,w.child=b)}if(J=b.child,(b.lanes&X)===0){var fe=J.memoizedProps;if(A=A.compare,A=A!==null?A:Th,A(fe,q)&&b.ref===w.ref)return hl(b,w,X)}return w.flags|=1,b=lc(J,q),b.ref=w.ref,b.return=w,w.child=b}function r5(b,w,A,q,X){if(b!==null){var J=b.memoizedProps;if(Th(J,q)&&b.ref===w.ref)if(za=!1,w.pendingProps=q=J,(b.lanes&X)!==0)(b.flags&131072)!==0&&(za=!0);else return w.lanes=b.lanes,hl(b,w,X)}return ex(b,w,A,q,X)}function n5(b,w,A){var q=w.pendingProps,X=q.children,J=b!==null?b.memoizedState:null;if(q.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(qd,si),si|=A;else{if((A&1073741824)===0)return b=J!==null?J.baseLanes|A:A,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:b,cachePool:null,transitions:null},w.updateQueue=null,_n(qd,si),si|=b,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},q=J!==null?J.baseLanes:A,_n(qd,si),si|=q}else J!==null?(q=J.baseLanes|A,w.memoizedState=null):q=A,_n(qd,si),si|=q;return ka(b,w,X,A),w.child}function s5(b,w){var A=w.ref;(b===null&&A!==null||b!==null&&b.ref!==A)&&(w.flags|=512,w.flags|=2097152)}function ex(b,w,A,q,X){var J=$a(A)?uu:ra.current;return J=Id(w,J),zd(w,X),A=Wv(b,w,A,q,J,X),q=qv(),b!==null&&!za?(w.updateQueue=b.updateQueue,w.flags&=-2053,b.lanes&=~X,hl(b,w,X)):(Rn&&q&&Cv(w),w.flags|=1,ka(b,w,A,X),w.child)}function a5(b,w,A,q,X){if($a(A)){var J=!0;y0(w)}else J=!1;if(zd(w,X),w.stateNode===null)I0(b,w),Kk(w,A,q),Yv(w,A,q,X),q=!0;else if(b===null){var fe=w.stateNode,ke=w.memoizedProps;fe.props=ke;var Ce=fe.context,Ve=A.contextType;typeof Ve=="object"&&Ve!==null?Ve=ji(Ve):(Ve=$a(A)?uu:ra.current,Ve=Id(w,Ve));var nt=A.getDerivedStateFromProps,it=typeof nt=="function"||typeof fe.getSnapshotBeforeUpdate=="function";it||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(ke!==q||Ce!==Ve)&&Gk(w,fe,q,Ve),tc=!1;var et=w.memoizedState;fe.state=et,N0(w,q,fe,X),Ce=w.memoizedState,ke!==q||et!==Ce||Ba.current||tc?(typeof nt=="function"&&(Qv(w,A,nt,q),Ce=w.memoizedState),(ke=tc||Hk(w,A,ke,q,et,Ce,Ve))?(it||typeof fe.UNSAFE_componentWillMount!="function"&&typeof fe.componentWillMount!="function"||(typeof fe.componentWillMount=="function"&&fe.componentWillMount(),typeof fe.UNSAFE_componentWillMount=="function"&&fe.UNSAFE_componentWillMount()),typeof fe.componentDidMount=="function"&&(w.flags|=4194308)):(typeof fe.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=q,w.memoizedState=Ce),fe.props=q,fe.state=Ce,fe.context=Ve,q=ke):(typeof fe.componentDidMount=="function"&&(w.flags|=4194308),q=!1)}else{fe=w.stateNode,wk(b,w),ke=w.memoizedProps,Ve=w.type===w.elementType?ke:Zi(w.type,ke),fe.props=Ve,it=w.pendingProps,et=fe.context,Ce=A.contextType,typeof Ce=="object"&&Ce!==null?Ce=ji(Ce):(Ce=$a(A)?uu:ra.current,Ce=Id(w,Ce));var Tt=A.getDerivedStateFromProps;(nt=typeof Tt=="function"||typeof fe.getSnapshotBeforeUpdate=="function")||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(ke!==it||et!==Ce)&&Gk(w,fe,q,Ce),tc=!1,et=w.memoizedState,fe.state=et,N0(w,q,fe,X);var Lt=w.memoizedState;ke!==it||et!==Lt||Ba.current||tc?(typeof Tt=="function"&&(Qv(w,A,Tt,q),Lt=w.memoizedState),(Ve=tc||Hk(w,A,Ve,q,et,Lt,Ce)||!1)?(nt||typeof fe.UNSAFE_componentWillUpdate!="function"&&typeof fe.componentWillUpdate!="function"||(typeof fe.componentWillUpdate=="function"&&fe.componentWillUpdate(q,Lt,Ce),typeof fe.UNSAFE_componentWillUpdate=="function"&&fe.UNSAFE_componentWillUpdate(q,Lt,Ce)),typeof fe.componentDidUpdate=="function"&&(w.flags|=4),typeof fe.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof fe.componentDidUpdate!="function"||ke===b.memoizedProps&&et===b.memoizedState||(w.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||ke===b.memoizedProps&&et===b.memoizedState||(w.flags|=1024),w.memoizedProps=q,w.memoizedState=Lt),fe.props=q,fe.state=Lt,fe.context=Ce,q=Ve):(typeof fe.componentDidUpdate!="function"||ke===b.memoizedProps&&et===b.memoizedState||(w.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||ke===b.memoizedProps&&et===b.memoizedState||(w.flags|=1024),q=!1)}return tx(b,w,A,q,J,X)}function tx(b,w,A,q,X,J){s5(b,w);var fe=(w.flags&128)!==0;if(!q&&!fe)return X&&uk(w,A,!1),hl(b,w,J);q=w.stateNode,ez.current=w;var ke=fe&&typeof A.getDerivedStateFromError!="function"?null:q.render();return w.flags|=1,b!==null&&fe?(w.child=Bd(w,b.child,null,J),w.child=Bd(w,null,ke,J)):ka(b,w,ke,J),w.memoizedState=q.state,X&&uk(w,A,!0),w.child}function i5(b){var w=b.stateNode;w.pendingContext?lk(b,w.pendingContext,w.pendingContext!==w.context):w.context&&lk(b,w.context,!1),Lv(b,w.containerInfo)}function o5(b,w,A,q,X){return Ld(),Pv(X),w.flags|=256,ka(b,w,A,q),w.child}var rx={dehydrated:null,treeContext:null,retryLane:0};function nx(b){return{baseLanes:b,cachePool:null,transitions:null}}function l5(b,w,A){var q=w.pendingProps,X=$n.current,J=!1,fe=(w.flags&128)!==0,ke;if((ke=fe)||(ke=b!==null&&b.memoizedState===null?!1:(X&2)!==0),ke?(J=!0,w.flags&=-129):(b===null||b.memoizedState!==null)&&(X|=1),_n($n,X&1),b===null)return Av(w),b=w.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?((w.mode&1)===0?w.lanes=1:b.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(fe=q.children,b=q.fallback,J?(q=w.mode,J=w.child,fe={mode:"hidden",children:fe},(q&1)===0&&J!==null?(J.childLanes=0,J.pendingProps=fe):J=K0(fe,q,0,null),b=xu(b,q,A,null),J.return=w,b.return=w,J.sibling=b,w.child=J,w.child.memoizedState=nx(A),w.memoizedState=rx,b):sx(w,fe));if(X=b.memoizedState,X!==null&&(ke=X.dehydrated,ke!==null))return tz(b,w,fe,q,ke,X,A);if(J){J=q.fallback,fe=w.mode,X=b.child,ke=X.sibling;var Ce={mode:"hidden",children:q.children};return(fe&1)===0&&w.child!==X?(q=w.child,q.childLanes=0,q.pendingProps=Ce,w.deletions=null):(q=lc(X,Ce),q.subtreeFlags=X.subtreeFlags&14680064),ke!==null?J=lc(ke,J):(J=xu(J,fe,A,null),J.flags|=2),J.return=w,q.return=w,q.sibling=J,w.child=q,q=J,J=w.child,fe=b.child.memoizedState,fe=fe===null?nx(A):{baseLanes:fe.baseLanes|A,cachePool:null,transitions:fe.transitions},J.memoizedState=fe,J.childLanes=b.childLanes&~A,w.memoizedState=rx,q}return J=b.child,b=J.sibling,q=lc(J,{mode:"visible",children:q.children}),(w.mode&1)===0&&(q.lanes=A),q.return=w,q.sibling=null,b!==null&&(A=w.deletions,A===null?(w.deletions=[b],w.flags|=16):A.push(b)),w.child=q,w.memoizedState=null,q}function sx(b,w){return w=K0({mode:"visible",children:w},b.mode,0,null),w.return=b,b.child=w}function D0(b,w,A,q){return q!==null&&Pv(q),Bd(w,b.child,null,A),b=sx(w,w.pendingProps.children),b.flags|=2,w.memoizedState=null,b}function tz(b,w,A,q,X,J,fe){if(A)return w.flags&256?(w.flags&=-257,q=Zv(Error(e(422))),D0(b,w,fe,q)):w.memoizedState!==null?(w.child=b.child,w.flags|=128,null):(J=q.fallback,X=w.mode,q=K0({mode:"visible",children:q.children},X,0,null),J=xu(J,X,fe,null),J.flags|=2,q.return=w,J.return=w,q.sibling=J,w.child=q,(w.mode&1)!==0&&Bd(w,b.child,null,fe),w.child.memoizedState=nx(fe),w.memoizedState=rx,J);if((w.mode&1)===0)return D0(b,w,fe,null);if(X.data==="$!"){if(q=X.nextSibling&&X.nextSibling.dataset,q)var ke=q.dgst;return q=ke,J=Error(e(419)),q=Zv(J,q,void 0),D0(b,w,fe,q)}if(ke=(fe&b.childLanes)!==0,za||ke){if(q=Ss,q!==null){switch(fe&-fe){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}X=(X&(q.suspendedLanes|fe))!==0?0:X,X!==0&&X!==J.retryLane&&(J.retryLane=X,dl(b,X),to(q,b,X,-1))}return xx(),q=Zv(Error(e(421))),D0(b,w,fe,q)}return X.data==="$?"?(w.flags|=128,w.child=b.child,w=pz.bind(null,b),X._reactRetry=w,null):(b=J.treeContext,ni=Yl(X.nextSibling),ri=w,Rn=!0,Yi=null,b!==null&&(_i[ki++]=cl,_i[ki++]=ul,_i[ki++]=du,cl=b.id,ul=b.overflow,du=w),w=sx(w,q.children),w.flags|=4096,w)}function c5(b,w,A){b.lanes|=w;var q=b.alternate;q!==null&&(q.lanes|=w),Iv(b.return,w,A)}function ax(b,w,A,q,X){var J=b.memoizedState;J===null?b.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:q,tail:A,tailMode:X}:(J.isBackwards=w,J.rendering=null,J.renderingStartTime=0,J.last=q,J.tail=A,J.tailMode=X)}function u5(b,w,A){var q=w.pendingProps,X=q.revealOrder,J=q.tail;if(ka(b,w,q.children,A),q=$n.current,(q&2)!==0)q=q&1|2,w.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=w.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&c5(b,A,w);else if(b.tag===19)c5(b,A,w);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===w)break e;for(;b.sibling===null;){if(b.return===null||b.return===w)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}q&=1}if(_n($n,q),(w.mode&1)===0)w.memoizedState=null;else switch(X){case"forwards":for(A=w.child,X=null;A!==null;)b=A.alternate,b!==null&&C0(b)===null&&(X=A),A=A.sibling;A=X,A===null?(X=w.child,w.child=null):(X=A.sibling,A.sibling=null),ax(w,!1,X,A,J);break;case"backwards":for(A=null,X=w.child,w.child=null;X!==null;){if(b=X.alternate,b!==null&&C0(b)===null){w.child=X;break}b=X.sibling,X.sibling=A,A=X,X=b}ax(w,!0,A,null,J);break;case"together":ax(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function I0(b,w){(w.mode&1)===0&&b!==null&&(b.alternate=null,w.alternate=null,w.flags|=2)}function hl(b,w,A){if(b!==null&&(w.dependencies=b.dependencies),gu|=w.lanes,(A&w.childLanes)===0)return null;if(b!==null&&w.child!==b.child)throw Error(e(153));if(w.child!==null){for(b=w.child,A=lc(b,b.pendingProps),w.child=A,A.return=w;b.sibling!==null;)b=b.sibling,A=A.sibling=lc(b,b.pendingProps),A.return=w;A.sibling=null}return w.child}function rz(b,w,A){switch(w.tag){case 3:i5(w),Ld();break;case 5:jk(w);break;case 1:$a(w.type)&&y0(w);break;case 4:Lv(w,w.stateNode.containerInfo);break;case 10:var q=w.type._context,X=w.memoizedProps.value;_n(k0,q._currentValue),q._currentValue=X;break;case 13:if(q=w.memoizedState,q!==null)return q.dehydrated!==null?(_n($n,$n.current&1),w.flags|=128,null):(A&w.child.childLanes)!==0?l5(b,w,A):(_n($n,$n.current&1),b=hl(b,w,A),b!==null?b.sibling:null);_n($n,$n.current&1);break;case 19:if(q=(A&w.childLanes)!==0,(b.flags&128)!==0){if(q)return u5(b,w,A);w.flags|=128}if(X=w.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),_n($n,$n.current),q)break;return null;case 22:case 23:return w.lanes=0,n5(b,w,A)}return hl(b,w,A)}var d5,ix,f5,h5;d5=function(b,w){for(var A=w.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===w)break;for(;A.sibling===null;){if(A.return===null||A.return===w)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},ix=function(){},f5=function(b,w,A,q){var X=b.memoizedProps;if(X!==q){b=w.stateNode,pu(To.current);var J=null;switch(A){case"input":X=ge(b,X),q=ge(b,q),J=[];break;case"select":X=D({},X,{value:void 0}),q=D({},q,{value:void 0}),J=[];break;case"textarea":X=se(b,X),q=se(b,q),J=[];break;default:typeof X.onClick!="function"&&typeof q.onClick=="function"&&(b.onclick=p0)}Ke(A,q);var fe;A=null;for(Ve in X)if(!q.hasOwnProperty(Ve)&&X.hasOwnProperty(Ve)&&X[Ve]!=null)if(Ve==="style"){var ke=X[Ve];for(fe in ke)ke.hasOwnProperty(fe)&&(A||(A={}),A[fe]="")}else Ve!=="dangerouslySetInnerHTML"&&Ve!=="children"&&Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&Ve!=="autoFocus"&&(s.hasOwnProperty(Ve)?J||(J=[]):(J=J||[]).push(Ve,null));for(Ve in q){var Ce=q[Ve];if(ke=X?.[Ve],q.hasOwnProperty(Ve)&&Ce!==ke&&(Ce!=null||ke!=null))if(Ve==="style")if(ke){for(fe in ke)!ke.hasOwnProperty(fe)||Ce&&Ce.hasOwnProperty(fe)||(A||(A={}),A[fe]="");for(fe in Ce)Ce.hasOwnProperty(fe)&&ke[fe]!==Ce[fe]&&(A||(A={}),A[fe]=Ce[fe])}else A||(J||(J=[]),J.push(Ve,A)),A=Ce;else Ve==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,ke=ke?ke.__html:void 0,Ce!=null&&ke!==Ce&&(J=J||[]).push(Ve,Ce)):Ve==="children"?typeof Ce!="string"&&typeof Ce!="number"||(J=J||[]).push(Ve,""+Ce):Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ve)?(Ce!=null&&Ve==="onScroll"&&Cn("scroll",b),J||ke===Ce||(J=[])):(J=J||[]).push(Ve,Ce))}A&&(J=J||[]).push("style",A);var Ve=J;(w.updateQueue=Ve)&&(w.flags|=4)}},h5=function(b,w,A,q){A!==q&&(w.flags|=4)};function Uh(b,w){if(!Rn)switch(b.tailMode){case"hidden":w=b.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?b.tail=null:A.sibling=null;break;case"collapsed":A=b.tail;for(var q=null;A!==null;)A.alternate!==null&&(q=A),A=A.sibling;q===null?w||b.tail===null?b.tail=null:b.tail.sibling=null:q.sibling=null}}function sa(b){var w=b.alternate!==null&&b.alternate.child===b.child,A=0,q=0;if(w)for(var X=b.child;X!==null;)A|=X.lanes|X.childLanes,q|=X.subtreeFlags&14680064,q|=X.flags&14680064,X.return=b,X=X.sibling;else for(X=b.child;X!==null;)A|=X.lanes|X.childLanes,q|=X.subtreeFlags,q|=X.flags,X.return=b,X=X.sibling;return b.subtreeFlags|=q,b.childLanes=A,w}function nz(b,w,A){var q=w.pendingProps;switch(Tv(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sa(w),null;case 1:return $a(w.type)&&g0(),sa(w),null;case 3:return q=w.stateNode,Vd(),Tn(Ba),Tn(ra),zv(),q.pendingContext&&(q.context=q.pendingContext,q.pendingContext=null),(b===null||b.child===null)&&(w0(w)?w.flags|=4:b===null||b.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,Yi!==null&&(yx(Yi),Yi=null))),ix(b,w),sa(w),null;case 5:Bv(w);var X=pu(Lh.current);if(A=w.type,b!==null&&w.stateNode!=null)f5(b,w,A,q,X),b.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!q){if(w.stateNode===null)throw Error(e(166));return sa(w),null}if(b=pu(To.current),w0(w)){q=w.stateNode,A=w.type;var J=w.memoizedProps;switch(q[Co]=w,q[Rh]=J,b=(w.mode&1)!==0,A){case"dialog":Cn("cancel",q),Cn("close",q);break;case"iframe":case"object":case"embed":Cn("load",q);break;case"video":case"audio":for(X=0;X<Ah.length;X++)Cn(Ah[X],q);break;case"source":Cn("error",q);break;case"img":case"image":case"link":Cn("error",q),Cn("load",q);break;case"details":Cn("toggle",q);break;case"input":te(q,J),Cn("invalid",q);break;case"select":q._wrapperState={wasMultiple:!!J.multiple},Cn("invalid",q);break;case"textarea":le(q,J),Cn("invalid",q)}Ke(A,J),X=null;for(var fe in J)if(J.hasOwnProperty(fe)){var ke=J[fe];fe==="children"?typeof ke=="string"?q.textContent!==ke&&(J.suppressHydrationWarning!==!0&&h0(q.textContent,ke,b),X=["children",ke]):typeof ke=="number"&&q.textContent!==""+ke&&(J.suppressHydrationWarning!==!0&&h0(q.textContent,ke,b),X=["children",""+ke]):s.hasOwnProperty(fe)&&ke!=null&&fe==="onScroll"&&Cn("scroll",q)}switch(A){case"input":ae(q),he(q,J,!0);break;case"textarea":ae(q),_e(q);break;case"select":case"option":break;default:typeof J.onClick=="function"&&(q.onclick=p0)}q=X,w.updateQueue=q,q!==null&&(w.flags|=4)}else{fe=X.nodeType===9?X:X.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=Te(A)),b==="http://www.w3.org/1999/xhtml"?A==="script"?(b=fe.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof q.is=="string"?b=fe.createElement(A,{is:q.is}):(b=fe.createElement(A),A==="select"&&(fe=b,q.multiple?fe.multiple=!0:q.size&&(fe.size=q.size))):b=fe.createElementNS(b,A),b[Co]=w,b[Rh]=q,d5(b,w,!1,!1),w.stateNode=b;e:{switch(fe=He(A,q),A){case"dialog":Cn("cancel",b),Cn("close",b),X=q;break;case"iframe":case"object":case"embed":Cn("load",b),X=q;break;case"video":case"audio":for(X=0;X<Ah.length;X++)Cn(Ah[X],b);X=q;break;case"source":Cn("error",b),X=q;break;case"img":case"image":case"link":Cn("error",b),Cn("load",b),X=q;break;case"details":Cn("toggle",b),X=q;break;case"input":te(b,q),X=ge(b,q),Cn("invalid",b);break;case"option":X=q;break;case"select":b._wrapperState={wasMultiple:!!q.multiple},X=D({},q,{value:void 0}),Cn("invalid",b);break;case"textarea":le(b,q),X=se(b,q),Cn("invalid",b);break;default:X=q}Ke(A,X),ke=X;for(J in ke)if(ke.hasOwnProperty(J)){var Ce=ke[J];J==="style"?we(b,Ce):J==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,Ce!=null&&ze(b,Ce)):J==="children"?typeof Ce=="string"?(A!=="textarea"||Ce!=="")&&Je(b,Ce):typeof Ce=="number"&&Je(b,""+Ce):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?Ce!=null&&J==="onScroll"&&Cn("scroll",b):Ce!=null&&j(b,J,Ce,fe))}switch(A){case"input":ae(b),he(b,q,!1);break;case"textarea":ae(b),_e(b);break;case"option":q.value!=null&&b.setAttribute("value",""+U(q.value));break;case"select":b.multiple=!!q.multiple,J=q.value,J!=null?ee(b,!!q.multiple,J,!1):q.defaultValue!=null&&ee(b,!!q.multiple,q.defaultValue,!0);break;default:typeof X.onClick=="function"&&(b.onclick=p0)}switch(A){case"button":case"input":case"select":case"textarea":q=!!q.autoFocus;break e;case"img":q=!0;break e;default:q=!1}}q&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return sa(w),null;case 6:if(b&&w.stateNode!=null)h5(b,w,b.memoizedProps,q);else{if(typeof q!="string"&&w.stateNode===null)throw Error(e(166));if(A=pu(Lh.current),pu(To.current),w0(w)){if(q=w.stateNode,A=w.memoizedProps,q[Co]=w,(J=q.nodeValue!==A)&&(b=ri,b!==null))switch(b.tag){case 3:h0(q.nodeValue,A,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&h0(q.nodeValue,A,(b.mode&1)!==0)}J&&(w.flags|=4)}else q=(A.nodeType===9?A:A.ownerDocument).createTextNode(q),q[Co]=w,w.stateNode=q}return sa(w),null;case 13:if(Tn($n),q=w.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(Rn&&ni!==null&&(w.mode&1)!==0&&(w.flags&128)===0)gk(),Ld(),w.flags|=98560,J=!1;else if(J=w0(w),q!==null&&q.dehydrated!==null){if(b===null){if(!J)throw Error(e(318));if(J=w.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(e(317));J[Co]=w}else Ld(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;sa(w),J=!1}else Yi!==null&&(yx(Yi),Yi=null),J=!0;if(!J)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=A,w):(q=q!==null,q!==(b!==null&&b.memoizedState!==null)&&q&&(w.child.flags|=8192,(w.mode&1)!==0&&(b===null||($n.current&1)!==0?hs===0&&(hs=3):xx())),w.updateQueue!==null&&(w.flags|=4),sa(w),null);case 4:return Vd(),ix(b,w),b===null&&Ph(w.stateNode.containerInfo),sa(w),null;case 10:return Dv(w.type._context),sa(w),null;case 17:return $a(w.type)&&g0(),sa(w),null;case 19:if(Tn($n),J=w.memoizedState,J===null)return sa(w),null;if(q=(w.flags&128)!==0,fe=J.rendering,fe===null)if(q)Uh(J,!1);else{if(hs!==0||b!==null&&(b.flags&128)!==0)for(b=w.child;b!==null;){if(fe=C0(b),fe!==null){for(w.flags|=128,Uh(J,!1),q=fe.updateQueue,q!==null&&(w.updateQueue=q,w.flags|=4),w.subtreeFlags=0,q=A,A=w.child;A!==null;)J=A,b=q,J.flags&=14680066,fe=J.alternate,fe===null?(J.childLanes=0,J.lanes=b,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=fe.childLanes,J.lanes=fe.lanes,J.child=fe.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=fe.memoizedProps,J.memoizedState=fe.memoizedState,J.updateQueue=fe.updateQueue,J.type=fe.type,b=fe.dependencies,J.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),A=A.sibling;return _n($n,$n.current&1|2),w.child}b=b.sibling}J.tail!==null&&Ae()>Hd&&(w.flags|=128,q=!0,Uh(J,!1),w.lanes=4194304)}else{if(!q)if(b=C0(fe),b!==null){if(w.flags|=128,q=!0,A=b.updateQueue,A!==null&&(w.updateQueue=A,w.flags|=4),Uh(J,!0),J.tail===null&&J.tailMode==="hidden"&&!fe.alternate&&!Rn)return sa(w),null}else 2*Ae()-J.renderingStartTime>Hd&&A!==1073741824&&(w.flags|=128,q=!0,Uh(J,!1),w.lanes=4194304);J.isBackwards?(fe.sibling=w.child,w.child=fe):(A=J.last,A!==null?A.sibling=fe:w.child=fe,J.last=fe)}return J.tail!==null?(w=J.tail,J.rendering=w,J.tail=w.sibling,J.renderingStartTime=Ae(),w.sibling=null,A=$n.current,_n($n,q?A&1|2:A&1),w):(sa(w),null);case 22:case 23:return vx(),q=w.memoizedState!==null,b!==null&&b.memoizedState!==null!==q&&(w.flags|=8192),q&&(w.mode&1)!==0?(si&1073741824)!==0&&(sa(w),w.subtreeFlags&6&&(w.flags|=8192)):sa(w),null;case 24:return null;case 25:return null}throw Error(e(156,w.tag))}function sz(b,w){switch(Tv(w),w.tag){case 1:return $a(w.type)&&g0(),b=w.flags,b&65536?(w.flags=b&-65537|128,w):null;case 3:return Vd(),Tn(Ba),Tn(ra),zv(),b=w.flags,(b&65536)!==0&&(b&128)===0?(w.flags=b&-65537|128,w):null;case 5:return Bv(w),null;case 13:if(Tn($n),b=w.memoizedState,b!==null&&b.dehydrated!==null){if(w.alternate===null)throw Error(e(340));Ld()}return b=w.flags,b&65536?(w.flags=b&-65537|128,w):null;case 19:return Tn($n),null;case 4:return Vd(),null;case 10:return Dv(w.type._context),null;case 22:case 23:return vx(),null;case 24:return null;default:return null}}var O0=!1,aa=!1,az=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Wd(b,w){var A=b.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(q){Gn(b,w,q)}else A.current=null}function ox(b,w,A){try{A()}catch(q){Gn(b,w,q)}}var p5=!1;function iz(b,w){if(vv=jd,b=H3(),dv(b)){if("selectionStart"in b)var A={start:b.selectionStart,end:b.selectionEnd};else e:{A=(A=b.ownerDocument)&&A.defaultView||window;var q=A.getSelection&&A.getSelection();if(q&&q.rangeCount!==0){A=q.anchorNode;var X=q.anchorOffset,J=q.focusNode;q=q.focusOffset;try{A.nodeType,J.nodeType}catch{A=null;break e}var fe=0,ke=-1,Ce=-1,Ve=0,nt=0,it=b,et=null;t:for(;;){for(var Tt;it!==A||X!==0&&it.nodeType!==3||(ke=fe+X),it!==J||q!==0&&it.nodeType!==3||(Ce=fe+q),it.nodeType===3&&(fe+=it.nodeValue.length),(Tt=it.firstChild)!==null;)et=it,it=Tt;for(;;){if(it===b)break t;if(et===A&&++Ve===X&&(ke=fe),et===J&&++nt===q&&(Ce=fe),(Tt=it.nextSibling)!==null)break;it=et,et=it.parentNode}it=Tt}A=ke===-1||Ce===-1?null:{start:ke,end:Ce}}else A=null}A=A||{start:0,end:0}}else A=null;for(xv={focusedElem:b,selectionRange:A},jd=!1,Dt=w;Dt!==null;)if(w=Dt,b=w.child,(w.subtreeFlags&1028)!==0&&b!==null)b.return=w,Dt=b;else for(;Dt!==null;){w=Dt;try{var Lt=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(Lt!==null){var zt=Lt.memoizedProps,Jn=Lt.memoizedState,Ie=w.stateNode,Ee=Ie.getSnapshotBeforeUpdate(w.elementType===w.type?zt:Zi(w.type,zt),Jn);Ie.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:var $e=w.stateNode.containerInfo;$e.nodeType===1?$e.textContent="":$e.nodeType===9&&$e.documentElement&&$e.removeChild($e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(ht){Gn(w,w.return,ht)}if(b=w.sibling,b!==null){b.return=w.return,Dt=b;break}Dt=w.return}return Lt=p5,p5=!1,Lt}function Wh(b,w,A){var q=w.updateQueue;if(q=q!==null?q.lastEffect:null,q!==null){var X=q=q.next;do{if((X.tag&b)===b){var J=X.destroy;X.destroy=void 0,J!==void 0&&ox(w,A,J)}X=X.next}while(X!==q)}}function F0(b,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&b)===b){var q=A.create;A.destroy=q()}A=A.next}while(A!==w)}}function lx(b){var w=b.ref;if(w!==null){var A=b.stateNode;switch(b.tag){case 5:b=A;break;default:b=A}typeof w=="function"?w(b):w.current=b}}function m5(b){var w=b.alternate;w!==null&&(b.alternate=null,m5(w)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(w=b.stateNode,w!==null&&(delete w[Co],delete w[Rh],delete w[jv],delete w[V$],delete w[U$])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function g5(b){return b.tag===5||b.tag===3||b.tag===4}function y5(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||g5(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function cx(b,w,A){var q=b.tag;if(q===5||q===6)b=b.stateNode,w?A.nodeType===8?A.parentNode.insertBefore(b,w):A.insertBefore(b,w):(A.nodeType===8?(w=A.parentNode,w.insertBefore(b,A)):(w=A,w.appendChild(b)),A=A._reactRootContainer,A!=null||w.onclick!==null||(w.onclick=p0));else if(q!==4&&(b=b.child,b!==null))for(cx(b,w,A),b=b.sibling;b!==null;)cx(b,w,A),b=b.sibling}function ux(b,w,A){var q=b.tag;if(q===5||q===6)b=b.stateNode,w?A.insertBefore(b,w):A.appendChild(b);else if(q!==4&&(b=b.child,b!==null))for(ux(b,w,A),b=b.sibling;b!==null;)ux(b,w,A),b=b.sibling}var Fs=null,Ji=!1;function nc(b,w,A){for(A=A.child;A!==null;)b5(b,w,A),A=A.sibling}function b5(b,w,A){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ar,A)}catch{}switch(A.tag){case 5:aa||Wd(A,w);case 6:var q=Fs,X=Ji;Fs=null,nc(b,w,A),Fs=q,Ji=X,Fs!==null&&(Ji?(b=Fs,A=A.stateNode,b.nodeType===8?b.parentNode.removeChild(A):b.removeChild(A)):Fs.removeChild(A.stateNode));break;case 18:Fs!==null&&(Ji?(b=Fs,A=A.stateNode,b.nodeType===8?kv(b.parentNode,A):b.nodeType===1&&kv(b,A),ou(b)):kv(Fs,A.stateNode));break;case 4:q=Fs,X=Ji,Fs=A.stateNode.containerInfo,Ji=!0,nc(b,w,A),Fs=q,Ji=X;break;case 0:case 11:case 14:case 15:if(!aa&&(q=A.updateQueue,q!==null&&(q=q.lastEffect,q!==null))){X=q=q.next;do{var J=X,fe=J.destroy;J=J.tag,fe!==void 0&&((J&2)!==0||(J&4)!==0)&&ox(A,w,fe),X=X.next}while(X!==q)}nc(b,w,A);break;case 1:if(!aa&&(Wd(A,w),q=A.stateNode,typeof q.componentWillUnmount=="function"))try{q.props=A.memoizedProps,q.state=A.memoizedState,q.componentWillUnmount()}catch(ke){Gn(A,w,ke)}nc(b,w,A);break;case 21:nc(b,w,A);break;case 22:A.mode&1?(aa=(q=aa)||A.memoizedState!==null,nc(b,w,A),aa=q):nc(b,w,A);break;default:nc(b,w,A)}}function v5(b){var w=b.updateQueue;if(w!==null){b.updateQueue=null;var A=b.stateNode;A===null&&(A=b.stateNode=new az),w.forEach(function(q){var X=mz.bind(null,b,q);A.has(q)||(A.add(q),q.then(X,X))})}}function eo(b,w){var A=w.deletions;if(A!==null)for(var q=0;q<A.length;q++){var X=A[q];try{var J=b,fe=w,ke=fe;e:for(;ke!==null;){switch(ke.tag){case 5:Fs=ke.stateNode,Ji=!1;break e;case 3:Fs=ke.stateNode.containerInfo,Ji=!0;break e;case 4:Fs=ke.stateNode.containerInfo,Ji=!0;break e}ke=ke.return}if(Fs===null)throw Error(e(160));b5(J,fe,X),Fs=null,Ji=!1;var Ce=X.alternate;Ce!==null&&(Ce.return=null),X.return=null}catch(Ve){Gn(X,w,Ve)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)x5(w,b),w=w.sibling}function x5(b,w){var A=b.alternate,q=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(eo(w,b),Ao(b),q&4){try{Wh(3,b,b.return),F0(3,b)}catch(zt){Gn(b,b.return,zt)}try{Wh(5,b,b.return)}catch(zt){Gn(b,b.return,zt)}}break;case 1:eo(w,b),Ao(b),q&512&&A!==null&&Wd(A,A.return);break;case 5:if(eo(w,b),Ao(b),q&512&&A!==null&&Wd(A,A.return),b.flags&32){var X=b.stateNode;try{Je(X,"")}catch(zt){Gn(b,b.return,zt)}}if(q&4&&(X=b.stateNode,X!=null)){var J=b.memoizedProps,fe=A!==null?A.memoizedProps:J,ke=b.type,Ce=b.updateQueue;if(b.updateQueue=null,Ce!==null)try{ke==="input"&&J.type==="radio"&&J.name!=null&&oe(X,J),He(ke,fe);var Ve=He(ke,J);for(fe=0;fe<Ce.length;fe+=2){var nt=Ce[fe],it=Ce[fe+1];nt==="style"?we(X,it):nt==="dangerouslySetInnerHTML"?ze(X,it):nt==="children"?Je(X,it):j(X,nt,it,Ve)}switch(ke){case"input":ne(X,J);break;case"textarea":ve(X,J);break;case"select":var et=X._wrapperState.wasMultiple;X._wrapperState.wasMultiple=!!J.multiple;var Tt=J.value;Tt!=null?ee(X,!!J.multiple,Tt,!1):et!==!!J.multiple&&(J.defaultValue!=null?ee(X,!!J.multiple,J.defaultValue,!0):ee(X,!!J.multiple,J.multiple?[]:"",!1))}X[Rh]=J}catch(zt){Gn(b,b.return,zt)}}break;case 6:if(eo(w,b),Ao(b),q&4){if(b.stateNode===null)throw Error(e(162));X=b.stateNode,J=b.memoizedProps;try{X.nodeValue=J}catch(zt){Gn(b,b.return,zt)}}break;case 3:if(eo(w,b),Ao(b),q&4&&A!==null&&A.memoizedState.isDehydrated)try{ou(w.containerInfo)}catch(zt){Gn(b,b.return,zt)}break;case 4:eo(w,b),Ao(b);break;case 13:eo(w,b),Ao(b),X=b.child,X.flags&8192&&(J=X.memoizedState!==null,X.stateNode.isHidden=J,!J||X.alternate!==null&&X.alternate.memoizedState!==null||(hx=Ae())),q&4&&v5(b);break;case 22:if(nt=A!==null&&A.memoizedState!==null,b.mode&1?(aa=(Ve=aa)||nt,eo(w,b),aa=Ve):eo(w,b),Ao(b),q&8192){if(Ve=b.memoizedState!==null,(b.stateNode.isHidden=Ve)&&!nt&&(b.mode&1)!==0)for(Dt=b,nt=b.child;nt!==null;){for(it=Dt=nt;Dt!==null;){switch(et=Dt,Tt=et.child,et.tag){case 0:case 11:case 14:case 15:Wh(4,et,et.return);break;case 1:Wd(et,et.return);var Lt=et.stateNode;if(typeof Lt.componentWillUnmount=="function"){q=et,A=et.return;try{w=q,Lt.props=w.memoizedProps,Lt.state=w.memoizedState,Lt.componentWillUnmount()}catch(zt){Gn(q,A,zt)}}break;case 5:Wd(et,et.return);break;case 22:if(et.memoizedState!==null){k5(it);continue}}Tt!==null?(Tt.return=et,Dt=Tt):k5(it)}nt=nt.sibling}e:for(nt=null,it=b;;){if(it.tag===5){if(nt===null){nt=it;try{X=it.stateNode,Ve?(J=X.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none"):(ke=it.stateNode,Ce=it.memoizedProps.style,fe=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null,ke.style.display=rt("display",fe))}catch(zt){Gn(b,b.return,zt)}}}else if(it.tag===6){if(nt===null)try{it.stateNode.nodeValue=Ve?"":it.memoizedProps}catch(zt){Gn(b,b.return,zt)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===b)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===b)break e;for(;it.sibling===null;){if(it.return===null||it.return===b)break e;nt===it&&(nt=null),it=it.return}nt===it&&(nt=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:eo(w,b),Ao(b),q&4&&v5(b);break;case 21:break;default:eo(w,b),Ao(b)}}function Ao(b){var w=b.flags;if(w&2){try{e:{for(var A=b.return;A!==null;){if(g5(A)){var q=A;break e}A=A.return}throw Error(e(160))}switch(q.tag){case 5:var X=q.stateNode;q.flags&32&&(Je(X,""),q.flags&=-33);var J=y5(b);ux(b,J,X);break;case 3:case 4:var fe=q.stateNode.containerInfo,ke=y5(b);cx(b,ke,fe);break;default:throw Error(e(161))}}catch(Ce){Gn(b,b.return,Ce)}b.flags&=-3}w&4096&&(b.flags&=-4097)}function oz(b,w,A){Dt=b,w5(b)}function w5(b,w,A){for(var q=(b.mode&1)!==0;Dt!==null;){var X=Dt,J=X.child;if(X.tag===22&&q){var fe=X.memoizedState!==null||O0;if(!fe){var ke=X.alternate,Ce=ke!==null&&ke.memoizedState!==null||aa;ke=O0;var Ve=aa;if(O0=fe,(aa=Ce)&&!Ve)for(Dt=X;Dt!==null;)fe=Dt,Ce=fe.child,fe.tag===22&&fe.memoizedState!==null?j5(X):Ce!==null?(Ce.return=fe,Dt=Ce):j5(X);for(;J!==null;)Dt=J,w5(J),J=J.sibling;Dt=X,O0=ke,aa=Ve}_5(b)}else(X.subtreeFlags&8772)!==0&&J!==null?(J.return=X,Dt=J):_5(b)}}function _5(b){for(;Dt!==null;){var w=Dt;if((w.flags&8772)!==0){var A=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:aa||F0(5,w);break;case 1:var q=w.stateNode;if(w.flags&4&&!aa)if(A===null)q.componentDidMount();else{var X=w.elementType===w.type?A.memoizedProps:Zi(w.type,A.memoizedProps);q.componentDidUpdate(X,A.memoizedState,q.__reactInternalSnapshotBeforeUpdate)}var J=w.updateQueue;J!==null&&kk(w,J,q);break;case 3:var fe=w.updateQueue;if(fe!==null){if(A=null,w.child!==null)switch(w.child.tag){case 5:A=w.child.stateNode;break;case 1:A=w.child.stateNode}kk(w,fe,A)}break;case 5:var ke=w.stateNode;if(A===null&&w.flags&4){A=ke;var Ce=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":Ce.autoFocus&&A.focus();break;case"img":Ce.src&&(A.src=Ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var Ve=w.alternate;if(Ve!==null){var nt=Ve.memoizedState;if(nt!==null){var it=nt.dehydrated;it!==null&&ou(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}aa||w.flags&512&&lx(w)}catch(et){Gn(w,w.return,et)}}if(w===b){Dt=null;break}if(A=w.sibling,A!==null){A.return=w.return,Dt=A;break}Dt=w.return}}function k5(b){for(;Dt!==null;){var w=Dt;if(w===b){Dt=null;break}var A=w.sibling;if(A!==null){A.return=w.return,Dt=A;break}Dt=w.return}}function j5(b){for(;Dt!==null;){var w=Dt;try{switch(w.tag){case 0:case 11:case 15:var A=w.return;try{F0(4,w)}catch(Ce){Gn(w,A,Ce)}break;case 1:var q=w.stateNode;if(typeof q.componentDidMount=="function"){var X=w.return;try{q.componentDidMount()}catch(Ce){Gn(w,X,Ce)}}var J=w.return;try{lx(w)}catch(Ce){Gn(w,J,Ce)}break;case 5:var fe=w.return;try{lx(w)}catch(Ce){Gn(w,fe,Ce)}}}catch(Ce){Gn(w,w.return,Ce)}if(w===b){Dt=null;break}var ke=w.sibling;if(ke!==null){ke.return=w.return,Dt=ke;break}Dt=w.return}}var lz=Math.ceil,L0=T.ReactCurrentDispatcher,dx=T.ReactCurrentOwner,Ni=T.ReactCurrentBatchConfig,an=0,Ss=null,is=null,Ls=0,si=0,qd=Zl(0),hs=0,qh=null,gu=0,B0=0,fx=0,Hh=null,Va=null,hx=0,Hd=1/0,pl=null,$0=!1,px=null,sc=null,z0=!1,ac=null,V0=0,Kh=0,mx=null,U0=-1,W0=0;function ja(){return(an&6)!==0?Ae():U0!==-1?U0:U0=Ae()}function ic(b){return(b.mode&1)===0?1:(an&2)!==0&&Ls!==0?Ls&-Ls:q$.transition!==null?(W0===0&&(W0=Hr()),W0):(b=br,b!==0||(b=window.event,b=b===void 0?16:Ur(b.type)),b)}function to(b,w,A,q){if(50<Kh)throw Kh=0,mx=null,Error(e(185));_s(b,A,q),((an&2)===0||b!==Ss)&&(b===Ss&&((an&2)===0&&(B0|=A),hs===4&&oc(b,Ls)),Ua(b,q),A===1&&an===0&&(w.mode&1)===0&&(Hd=Ae()+500,b0&&ec()))}function Ua(b,w){var A=b.callbackNode;yi(b,w);var q=Kn(b,b===Ss?Ls:0);if(q===0)A!==null&&yn(A),b.callbackNode=null,b.callbackPriority=0;else if(w=q&-q,b.callbackPriority!==w){if(A!=null&&yn(A),w===1)b.tag===0?W$(N5.bind(null,b)):dk(N5.bind(null,b)),$$(function(){(an&6)===0&&ec()}),A=null;else{switch(Js(q)){case 1:A=Ze;break;case 4:A=Rt;break;case 16:A=ot;break;case 536870912:A=yr;break;default:A=ot}A=D5(A,S5.bind(null,b))}b.callbackPriority=w,b.callbackNode=A}}function S5(b,w){if(U0=-1,W0=0,(an&6)!==0)throw Error(e(327));var A=b.callbackNode;if(Kd()&&b.callbackNode!==A)return null;var q=Kn(b,b===Ss?Ls:0);if(q===0)return null;if((q&30)!==0||(q&b.expiredLanes)!==0||w)w=q0(b,q);else{w=q;var X=an;an|=2;var J=T5();(Ss!==b||Ls!==w)&&(pl=null,Hd=Ae()+500,bu(b,w));do try{dz();break}catch(ke){C5(b,ke)}while(!0);Rv(),L0.current=J,an=X,is!==null?w=0:(Ss=null,Ls=0,w=hs)}if(w!==0){if(w===2&&(X=La(b),X!==0&&(q=X,w=gx(b,X))),w===1)throw A=qh,bu(b,0),oc(b,q),Ua(b,Ae()),A;if(w===6)oc(b,q);else{if(X=b.current.alternate,(q&30)===0&&!cz(X)&&(w=q0(b,q),w===2&&(J=La(b),J!==0&&(q=J,w=gx(b,J))),w===1))throw A=qh,bu(b,0),oc(b,q),Ua(b,Ae()),A;switch(b.finishedWork=X,b.finishedLanes=q,w){case 0:case 1:throw Error(e(345));case 2:vu(b,Va,pl);break;case 3:if(oc(b,q),(q&130023424)===q&&(w=hx+500-Ae(),10<w)){if(Kn(b,0)!==0)break;if(X=b.suspendedLanes,(X&q)!==q){ja(),b.pingedLanes|=b.suspendedLanes&X;break}b.timeoutHandle=_v(vu.bind(null,b,Va,pl),w);break}vu(b,Va,pl);break;case 4:if(oc(b,q),(q&4194240)===q)break;for(w=b.eventTimes,X=-1;0<q;){var fe=31-ur(q);J=1<<fe,fe=w[fe],fe>X&&(X=fe),q&=~J}if(q=X,q=Ae()-q,q=(120>q?120:480>q?480:1080>q?1080:1920>q?1920:3e3>q?3e3:4320>q?4320:1960*lz(q/1960))-q,10<q){b.timeoutHandle=_v(vu.bind(null,b,Va,pl),q);break}vu(b,Va,pl);break;case 5:vu(b,Va,pl);break;default:throw Error(e(329))}}}return Ua(b,Ae()),b.callbackNode===A?S5.bind(null,b):null}function gx(b,w){var A=Hh;return b.current.memoizedState.isDehydrated&&(bu(b,w).flags|=256),b=q0(b,w),b!==2&&(w=Va,Va=A,w!==null&&yx(w)),b}function yx(b){Va===null?Va=b:Va.push.apply(Va,b)}function cz(b){for(var w=b;;){if(w.flags&16384){var A=w.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var q=0;q<A.length;q++){var X=A[q],J=X.getSnapshot;X=X.value;try{if(!Qi(J(),X))return!1}catch{return!1}}}if(A=w.child,w.subtreeFlags&16384&&A!==null)A.return=w,w=A;else{if(w===b)break;for(;w.sibling===null;){if(w.return===null||w.return===b)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function oc(b,w){for(w&=~fx,w&=~B0,b.suspendedLanes|=w,b.pingedLanes&=~w,b=b.expirationTimes;0<w;){var A=31-ur(w),q=1<<A;b[A]=-1,w&=~q}}function N5(b){if((an&6)!==0)throw Error(e(327));Kd();var w=Kn(b,0);if((w&1)===0)return Ua(b,Ae()),null;var A=q0(b,w);if(b.tag!==0&&A===2){var q=La(b);q!==0&&(w=q,A=gx(b,q))}if(A===1)throw A=qh,bu(b,0),oc(b,w),Ua(b,Ae()),A;if(A===6)throw Error(e(345));return b.finishedWork=b.current.alternate,b.finishedLanes=w,vu(b,Va,pl),Ua(b,Ae()),null}function bx(b,w){var A=an;an|=1;try{return b(w)}finally{an=A,an===0&&(Hd=Ae()+500,b0&&ec())}}function yu(b){ac!==null&&ac.tag===0&&(an&6)===0&&Kd();var w=an;an|=1;var A=Ni.transition,q=br;try{if(Ni.transition=null,br=1,b)return b()}finally{br=q,Ni.transition=A,an=w,(an&6)===0&&ec()}}function vx(){si=qd.current,Tn(qd)}function bu(b,w){b.finishedWork=null,b.finishedLanes=0;var A=b.timeoutHandle;if(A!==-1&&(b.timeoutHandle=-1,B$(A)),is!==null)for(A=is.return;A!==null;){var q=A;switch(Tv(q),q.tag){case 1:q=q.type.childContextTypes,q!=null&&g0();break;case 3:Vd(),Tn(Ba),Tn(ra),zv();break;case 5:Bv(q);break;case 4:Vd();break;case 13:Tn($n);break;case 19:Tn($n);break;case 10:Dv(q.type._context);break;case 22:case 23:vx()}A=A.return}if(Ss=b,is=b=lc(b.current,null),Ls=si=w,hs=0,qh=null,fx=B0=gu=0,Va=Hh=null,hu!==null){for(w=0;w<hu.length;w++)if(A=hu[w],q=A.interleaved,q!==null){A.interleaved=null;var X=q.next,J=A.pending;if(J!==null){var fe=J.next;J.next=X,q.next=fe}A.pending=q}hu=null}return b}function C5(b,w){do{var A=is;try{if(Rv(),T0.current=M0,E0){for(var q=zn.memoizedState;q!==null;){var X=q.queue;X!==null&&(X.pending=null),q=q.next}E0=!1}if(mu=0,js=fs=zn=null,Bh=!1,$h=0,dx.current=null,A===null||A.return===null){hs=1,qh=w,is=null;break}e:{var J=b,fe=A.return,ke=A,Ce=w;if(w=Ls,ke.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var Ve=Ce,nt=ke,it=nt.tag;if((nt.mode&1)===0&&(it===0||it===11||it===15)){var et=nt.alternate;et?(nt.updateQueue=et.updateQueue,nt.memoizedState=et.memoizedState,nt.lanes=et.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var Tt=Zk(fe);if(Tt!==null){Tt.flags&=-257,Jk(Tt,fe,ke,J,w),Tt.mode&1&&Yk(J,Ve,w),w=Tt,Ce=Ve;var Lt=w.updateQueue;if(Lt===null){var zt=new Set;zt.add(Ce),w.updateQueue=zt}else Lt.add(Ce);break e}else{if((w&1)===0){Yk(J,Ve,w),xx();break e}Ce=Error(e(426))}}else if(Rn&&ke.mode&1){var Jn=Zk(fe);if(Jn!==null){(Jn.flags&65536)===0&&(Jn.flags|=256),Jk(Jn,fe,ke,J,w),Pv(Ud(Ce,ke));break e}}J=Ce=Ud(Ce,ke),hs!==4&&(hs=2),Hh===null?Hh=[J]:Hh.push(J),J=fe;do{switch(J.tag){case 3:J.flags|=65536,w&=-w,J.lanes|=w;var Ie=Xk(J,Ce,w);_k(J,Ie);break e;case 1:ke=Ce;var Ee=J.type,$e=J.stateNode;if((J.flags&128)===0&&(typeof Ee.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(sc===null||!sc.has($e)))){J.flags|=65536,w&=-w,J.lanes|=w;var ht=Qk(J,ke,w);_k(J,ht);break e}}J=J.return}while(J!==null)}A5(A)}catch(Xt){w=Xt,is===A&&A!==null&&(is=A=A.return);continue}break}while(!0)}function T5(){var b=L0.current;return L0.current=M0,b===null?M0:b}function xx(){(hs===0||hs===3||hs===2)&&(hs=4),Ss===null||(gu&268435455)===0&&(B0&268435455)===0||oc(Ss,Ls)}function q0(b,w){var A=an;an|=2;var q=T5();(Ss!==b||Ls!==w)&&(pl=null,bu(b,w));do try{uz();break}catch(X){C5(b,X)}while(!0);if(Rv(),an=A,L0.current=q,is!==null)throw Error(e(261));return Ss=null,Ls=0,hs}function uz(){for(;is!==null;)E5(is)}function dz(){for(;is!==null&&!Nn();)E5(is)}function E5(b){var w=R5(b.alternate,b,si);b.memoizedProps=b.pendingProps,w===null?A5(b):is=w,dx.current=null}function A5(b){var w=b;do{var A=w.alternate;if(b=w.return,(w.flags&32768)===0){if(A=nz(A,w,si),A!==null){is=A;return}}else{if(A=sz(A,w),A!==null){A.flags&=32767,is=A;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{hs=6,is=null;return}}if(w=w.sibling,w!==null){is=w;return}is=w=b}while(w!==null);hs===0&&(hs=5)}function vu(b,w,A){var q=br,X=Ni.transition;try{Ni.transition=null,br=1,fz(b,w,A,q)}finally{Ni.transition=X,br=q}return null}function fz(b,w,A,q){do Kd();while(ac!==null);if((an&6)!==0)throw Error(e(327));A=b.finishedWork;var X=b.finishedLanes;if(A===null)return null;if(b.finishedWork=null,b.finishedLanes=0,A===b.current)throw Error(e(177));b.callbackNode=null,b.callbackPriority=0;var J=A.lanes|A.childLanes;if(Zs(b,J),b===Ss&&(is=Ss=null,Ls=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||z0||(z0=!0,D5(ot,function(){return Kd(),null})),J=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||J){J=Ni.transition,Ni.transition=null;var fe=br;br=1;var ke=an;an|=4,dx.current=null,iz(b,A),x5(A,b),M$(xv),jd=!!vv,xv=vv=null,b.current=A,oz(A),be(),an=ke,br=fe,Ni.transition=J}else b.current=A;if(z0&&(z0=!1,ac=b,V0=X),J=b.pendingLanes,J===0&&(sc=null),Ot(A.stateNode),Ua(b,Ae()),w!==null)for(q=b.onRecoverableError,A=0;A<w.length;A++)X=w[A],q(X.value,{componentStack:X.stack,digest:X.digest});if($0)throw $0=!1,b=px,px=null,b;return(V0&1)!==0&&b.tag!==0&&Kd(),J=b.pendingLanes,(J&1)!==0?b===mx?Kh++:(Kh=0,mx=b):Kh=0,ec(),null}function Kd(){if(ac!==null){var b=Js(V0),w=Ni.transition,A=br;try{if(Ni.transition=null,br=16>b?16:b,ac===null)var q=!1;else{if(b=ac,ac=null,V0=0,(an&6)!==0)throw Error(e(331));var X=an;for(an|=4,Dt=b.current;Dt!==null;){var J=Dt,fe=J.child;if((Dt.flags&16)!==0){var ke=J.deletions;if(ke!==null){for(var Ce=0;Ce<ke.length;Ce++){var Ve=ke[Ce];for(Dt=Ve;Dt!==null;){var nt=Dt;switch(nt.tag){case 0:case 11:case 15:Wh(8,nt,J)}var it=nt.child;if(it!==null)it.return=nt,Dt=it;else for(;Dt!==null;){nt=Dt;var et=nt.sibling,Tt=nt.return;if(m5(nt),nt===Ve){Dt=null;break}if(et!==null){et.return=Tt,Dt=et;break}Dt=Tt}}}var Lt=J.alternate;if(Lt!==null){var zt=Lt.child;if(zt!==null){Lt.child=null;do{var Jn=zt.sibling;zt.sibling=null,zt=Jn}while(zt!==null)}}Dt=J}}if((J.subtreeFlags&2064)!==0&&fe!==null)fe.return=J,Dt=fe;else e:for(;Dt!==null;){if(J=Dt,(J.flags&2048)!==0)switch(J.tag){case 0:case 11:case 15:Wh(9,J,J.return)}var Ie=J.sibling;if(Ie!==null){Ie.return=J.return,Dt=Ie;break e}Dt=J.return}}var Ee=b.current;for(Dt=Ee;Dt!==null;){fe=Dt;var $e=fe.child;if((fe.subtreeFlags&2064)!==0&&$e!==null)$e.return=fe,Dt=$e;else e:for(fe=Ee;Dt!==null;){if(ke=Dt,(ke.flags&2048)!==0)try{switch(ke.tag){case 0:case 11:case 15:F0(9,ke)}}catch(Xt){Gn(ke,ke.return,Xt)}if(ke===fe){Dt=null;break e}var ht=ke.sibling;if(ht!==null){ht.return=ke.return,Dt=ht;break e}Dt=ke.return}}if(an=X,ec(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ar,b)}catch{}q=!0}return q}finally{br=A,Ni.transition=w}}return!1}function P5(b,w,A){w=Ud(A,w),w=Xk(b,w,1),b=rc(b,w,1),w=ja(),b!==null&&(_s(b,1,w),Ua(b,w))}function Gn(b,w,A){if(b.tag===3)P5(b,b,A);else for(;w!==null;){if(w.tag===3){P5(w,b,A);break}else if(w.tag===1){var q=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof q.componentDidCatch=="function"&&(sc===null||!sc.has(q))){b=Ud(A,b),b=Qk(w,b,1),w=rc(w,b,1),b=ja(),w!==null&&(_s(w,1,b),Ua(w,b));break}}w=w.return}}function hz(b,w,A){var q=b.pingCache;q!==null&&q.delete(w),w=ja(),b.pingedLanes|=b.suspendedLanes&A,Ss===b&&(Ls&A)===A&&(hs===4||hs===3&&(Ls&130023424)===Ls&&500>Ae()-hx?bu(b,0):fx|=A),Ua(b,w)}function M5(b,w){w===0&&((b.mode&1)===0?w=1:(w=dn,dn<<=1,(dn&130023424)===0&&(dn=4194304)));var A=ja();b=dl(b,w),b!==null&&(_s(b,w,A),Ua(b,A))}function pz(b){var w=b.memoizedState,A=0;w!==null&&(A=w.retryLane),M5(b,A)}function mz(b,w){var A=0;switch(b.tag){case 13:var q=b.stateNode,X=b.memoizedState;X!==null&&(A=X.retryLane);break;case 19:q=b.stateNode;break;default:throw Error(e(314))}q!==null&&q.delete(w),M5(b,A)}var R5;R5=function(b,w,A){if(b!==null)if(b.memoizedProps!==w.pendingProps||Ba.current)za=!0;else{if((b.lanes&A)===0&&(w.flags&128)===0)return za=!1,rz(b,w,A);za=(b.flags&131072)!==0}else za=!1,Rn&&(w.flags&1048576)!==0&&fk(w,x0,w.index);switch(w.lanes=0,w.tag){case 2:var q=w.type;I0(b,w),b=w.pendingProps;var X=Id(w,ra.current);zd(w,A),X=Wv(null,w,q,b,X,A);var J=qv();return w.flags|=1,typeof X=="object"&&X!==null&&typeof X.render=="function"&&X.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,$a(q)?(J=!0,y0(w)):J=!1,w.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,Fv(w),X.updater=R0,w.stateNode=X,X._reactInternals=w,Yv(w,q,b,A),w=tx(null,w,q,!0,J,A)):(w.tag=0,Rn&&J&&Cv(w),ka(null,w,X,A),w=w.child),w;case 16:q=w.elementType;e:{switch(I0(b,w),b=w.pendingProps,X=q._init,q=X(q._payload),w.type=q,X=w.tag=yz(q),b=Zi(q,b),X){case 0:w=ex(null,w,q,b,A);break e;case 1:w=a5(null,w,q,b,A);break e;case 11:w=e5(null,w,q,b,A);break e;case 14:w=t5(null,w,q,Zi(q.type,b),A);break e}throw Error(e(306,q,""))}return w;case 0:return q=w.type,X=w.pendingProps,X=w.elementType===q?X:Zi(q,X),ex(b,w,q,X,A);case 1:return q=w.type,X=w.pendingProps,X=w.elementType===q?X:Zi(q,X),a5(b,w,q,X,A);case 3:e:{if(i5(w),b===null)throw Error(e(387));q=w.pendingProps,J=w.memoizedState,X=J.element,wk(b,w),N0(w,q,null,A);var fe=w.memoizedState;if(q=fe.element,J.isDehydrated)if(J={element:q,isDehydrated:!1,cache:fe.cache,pendingSuspenseBoundaries:fe.pendingSuspenseBoundaries,transitions:fe.transitions},w.updateQueue.baseState=J,w.memoizedState=J,w.flags&256){X=Ud(Error(e(423)),w),w=o5(b,w,q,A,X);break e}else if(q!==X){X=Ud(Error(e(424)),w),w=o5(b,w,q,A,X);break e}else for(ni=Yl(w.stateNode.containerInfo.firstChild),ri=w,Rn=!0,Yi=null,A=vk(w,null,q,A),w.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Ld(),q===X){w=hl(b,w,A);break e}ka(b,w,q,A)}w=w.child}return w;case 5:return jk(w),b===null&&Av(w),q=w.type,X=w.pendingProps,J=b!==null?b.memoizedProps:null,fe=X.children,wv(q,X)?fe=null:J!==null&&wv(q,J)&&(w.flags|=32),s5(b,w),ka(b,w,fe,A),w.child;case 6:return b===null&&Av(w),null;case 13:return l5(b,w,A);case 4:return Lv(w,w.stateNode.containerInfo),q=w.pendingProps,b===null?w.child=Bd(w,null,q,A):ka(b,w,q,A),w.child;case 11:return q=w.type,X=w.pendingProps,X=w.elementType===q?X:Zi(q,X),e5(b,w,q,X,A);case 7:return ka(b,w,w.pendingProps,A),w.child;case 8:return ka(b,w,w.pendingProps.children,A),w.child;case 12:return ka(b,w,w.pendingProps.children,A),w.child;case 10:e:{if(q=w.type._context,X=w.pendingProps,J=w.memoizedProps,fe=X.value,_n(k0,q._currentValue),q._currentValue=fe,J!==null)if(Qi(J.value,fe)){if(J.children===X.children&&!Ba.current){w=hl(b,w,A);break e}}else for(J=w.child,J!==null&&(J.return=w);J!==null;){var ke=J.dependencies;if(ke!==null){fe=J.child;for(var Ce=ke.firstContext;Ce!==null;){if(Ce.context===q){if(J.tag===1){Ce=fl(-1,A&-A),Ce.tag=2;var Ve=J.updateQueue;if(Ve!==null){Ve=Ve.shared;var nt=Ve.pending;nt===null?Ce.next=Ce:(Ce.next=nt.next,nt.next=Ce),Ve.pending=Ce}}J.lanes|=A,Ce=J.alternate,Ce!==null&&(Ce.lanes|=A),Iv(J.return,A,w),ke.lanes|=A;break}Ce=Ce.next}}else if(J.tag===10)fe=J.type===w.type?null:J.child;else if(J.tag===18){if(fe=J.return,fe===null)throw Error(e(341));fe.lanes|=A,ke=fe.alternate,ke!==null&&(ke.lanes|=A),Iv(fe,A,w),fe=J.sibling}else fe=J.child;if(fe!==null)fe.return=J;else for(fe=J;fe!==null;){if(fe===w){fe=null;break}if(J=fe.sibling,J!==null){J.return=fe.return,fe=J;break}fe=fe.return}J=fe}ka(b,w,X.children,A),w=w.child}return w;case 9:return X=w.type,q=w.pendingProps.children,zd(w,A),X=ji(X),q=q(X),w.flags|=1,ka(b,w,q,A),w.child;case 14:return q=w.type,X=Zi(q,w.pendingProps),X=Zi(q.type,X),t5(b,w,q,X,A);case 15:return r5(b,w,w.type,w.pendingProps,A);case 17:return q=w.type,X=w.pendingProps,X=w.elementType===q?X:Zi(q,X),I0(b,w),w.tag=1,$a(q)?(b=!0,y0(w)):b=!1,zd(w,A),Kk(w,q,X),Yv(w,q,X,A),tx(null,w,q,!0,b,A);case 19:return u5(b,w,A);case 22:return n5(b,w,A)}throw Error(e(156,w.tag))};function D5(b,w){return vt(b,w)}function gz(b,w,A,q){this.tag=b,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=q,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(b,w,A,q){return new gz(b,w,A,q)}function wx(b){return b=b.prototype,!(!b||!b.isReactComponent)}function yz(b){if(typeof b=="function")return wx(b)?1:0;if(b!=null){if(b=b.$$typeof,b===H)return 11;if(b===C)return 14}return 2}function lc(b,w){var A=b.alternate;return A===null?(A=Ci(b.tag,w,b.key,b.mode),A.elementType=b.elementType,A.type=b.type,A.stateNode=b.stateNode,A.alternate=b,b.alternate=A):(A.pendingProps=w,A.type=b.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=b.flags&14680064,A.childLanes=b.childLanes,A.lanes=b.lanes,A.child=b.child,A.memoizedProps=b.memoizedProps,A.memoizedState=b.memoizedState,A.updateQueue=b.updateQueue,w=b.dependencies,A.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},A.sibling=b.sibling,A.index=b.index,A.ref=b.ref,A}function H0(b,w,A,q,X,J){var fe=2;if(q=b,typeof b=="function")wx(b)&&(fe=1);else if(typeof b=="string")fe=5;else e:switch(b){case W:return xu(A.children,X,J,w);case I:fe=8,X|=8;break;case R:return b=Ci(12,A,w,X|2),b.elementType=R,b.lanes=J,b;case M:return b=Ci(13,A,w,X),b.elementType=M,b.lanes=J,b;case F:return b=Ci(19,A,w,X),b.elementType=F,b.lanes=J,b;case S:return K0(A,X,J,w);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case $:fe=10;break e;case K:fe=9;break e;case H:fe=11;break e;case C:fe=14;break e;case _:fe=16,q=null;break e}throw Error(e(130,b==null?b:typeof b,""))}return w=Ci(fe,A,w,X),w.elementType=b,w.type=q,w.lanes=J,w}function xu(b,w,A,q){return b=Ci(7,b,q,w),b.lanes=A,b}function K0(b,w,A,q){return b=Ci(22,b,q,w),b.elementType=S,b.lanes=A,b.stateNode={isHidden:!1},b}function _x(b,w,A){return b=Ci(6,b,null,w),b.lanes=A,b}function kx(b,w,A){return w=Ci(4,b.children!==null?b.children:[],b.key,w),w.lanes=A,w.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},w}function bz(b,w,A,q,X){this.tag=w,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tr(0),this.expirationTimes=Tr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.identifierPrefix=q,this.onRecoverableError=X,this.mutableSourceEagerHydrationData=null}function jx(b,w,A,q,X,J,fe,ke,Ce){return b=new bz(b,w,A,ke,Ce),w===1?(w=1,J===!0&&(w|=8)):w=0,J=Ci(3,null,null,w),b.current=J,J.stateNode=b,J.memoizedState={element:q,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fv(J),b}function vz(b,w,A){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:q==null?null:""+q,children:b,containerInfo:w,implementation:A}}function I5(b){if(!b)return Jl;b=b._reactInternals;e:{if(xe(b)!==b||b.tag!==1)throw Error(e(170));var w=b;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if($a(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(e(171))}if(b.tag===1){var A=b.type;if($a(A))return ck(b,A,w)}return w}function O5(b,w,A,q,X,J,fe,ke,Ce){return b=jx(A,q,!0,b,X,J,fe,ke,Ce),b.context=I5(null),A=b.current,q=ja(),X=ic(A),J=fl(q,X),J.callback=w??null,rc(A,J,X),b.current.lanes=X,_s(b,X,q),Ua(b,q),b}function G0(b,w,A,q){var X=w.current,J=ja(),fe=ic(X);return A=I5(A),w.context===null?w.context=A:w.pendingContext=A,w=fl(J,fe),w.payload={element:b},q=q===void 0?null:q,q!==null&&(w.callback=q),b=rc(X,w,fe),b!==null&&(to(b,X,fe,J),S0(b,X,fe)),fe}function X0(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function F5(b,w){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var A=b.retryLane;b.retryLane=A!==0&&A<w?A:w}}function Sx(b,w){F5(b,w),(b=b.alternate)&&F5(b,w)}function xz(){return null}var L5=typeof reportError=="function"?reportError:function(b){console.error(b)};function Nx(b){this._internalRoot=b}Q0.prototype.render=Nx.prototype.render=function(b){var w=this._internalRoot;if(w===null)throw Error(e(409));G0(b,w,null,null)},Q0.prototype.unmount=Nx.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var w=b.containerInfo;yu(function(){G0(null,b,null,null)}),w[ol]=null}};function Q0(b){this._internalRoot=b}Q0.prototype.unstable_scheduleHydration=function(b){if(b){var w=vi();b={blockedOn:null,target:b,priority:w};for(var A=0;A<wa.length&&w!==0&&w<wa[A].priority;A++);wa.splice(A,0,b),A===0&&_d(b)}};function Cx(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function Y0(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function B5(){}function wz(b,w,A,q,X){if(X){if(typeof q=="function"){var J=q;q=function(){var Ve=X0(fe);J.call(Ve)}}var fe=O5(w,q,b,0,null,!1,!1,"",B5);return b._reactRootContainer=fe,b[ol]=fe.current,Ph(b.nodeType===8?b.parentNode:b),yu(),fe}for(;X=b.lastChild;)b.removeChild(X);if(typeof q=="function"){var ke=q;q=function(){var Ve=X0(Ce);ke.call(Ve)}}var Ce=jx(b,0,!1,null,null,!1,!1,"",B5);return b._reactRootContainer=Ce,b[ol]=Ce.current,Ph(b.nodeType===8?b.parentNode:b),yu(function(){G0(w,Ce,A,q)}),Ce}function Z0(b,w,A,q,X){var J=A._reactRootContainer;if(J){var fe=J;if(typeof X=="function"){var ke=X;X=function(){var Ce=X0(fe);ke.call(Ce)}}G0(w,fe,b,X)}else fe=wz(A,w,b,X,q);return X0(fe)}xa=function(b){switch(b.tag){case 3:var w=b.stateNode;if(w.current.memoizedState.isDehydrated){var A=Bn(w.pendingLanes);A!==0&&(bi(w,A|1),Ua(w,Ae()),(an&6)===0&&(Hd=Ae()+500,ec()))}break;case 13:yu(function(){var q=dl(b,1);if(q!==null){var X=ja();to(q,b,1,X)}}),Sx(b,1)}},ei=function(b){if(b.tag===13){var w=dl(b,134217728);if(w!==null){var A=ja();to(w,b,134217728,A)}Sx(b,134217728)}},qi=function(b){if(b.tag===13){var w=ic(b),A=dl(b,w);if(A!==null){var q=ja();to(A,b,w,q)}Sx(b,w)}},vi=function(){return br},xi=function(b,w){var A=br;try{return br=b,w()}finally{br=A}},kt=function(b,w,A){switch(w){case"input":if(ne(b,A),w=A.name,A.type==="radio"&&w!=null){for(A=b;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<A.length;w++){var q=A[w];if(q!==b&&q.form===b.form){var X=m0(q);if(!X)throw Error(e(90));pe(q),ne(q,X)}}}break;case"textarea":ve(b,A);break;case"select":w=A.value,w!=null&&ee(b,!!A.multiple,w,!1)}},Vt=bx,kr=yu;var _z={usingClientEntryPoint:!1,Events:[Dh,Rd,m0,Ft,_r,bx]},Gh={findFiberByHostInstance:cu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kz={bundleType:Gh.bundleType,version:Gh.version,rendererPackageName:Gh.rendererPackageName,rendererConfig:Gh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=qt(b),b===null?null:b.stateNode},findFiberByHostInstance:Gh.findFiberByHostInstance||xz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var J0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!J0.isDisabled&&J0.supportsFiber)try{ar=J0.inject(kz),Yt=J0}catch{}}return Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_z,Wa.createPortal=function(b,w){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cx(w))throw Error(e(200));return vz(b,w,null,A)},Wa.createRoot=function(b,w){if(!Cx(b))throw Error(e(299));var A=!1,q="",X=L5;return w!=null&&(w.unstable_strictMode===!0&&(A=!0),w.identifierPrefix!==void 0&&(q=w.identifierPrefix),w.onRecoverableError!==void 0&&(X=w.onRecoverableError)),w=jx(b,1,!1,null,null,A,!1,q,X),b[ol]=w.current,Ph(b.nodeType===8?b.parentNode:b),new Nx(w)},Wa.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var w=b._reactInternals;if(w===void 0)throw typeof b.render=="function"?Error(e(188)):(b=Object.keys(b).join(","),Error(e(268,b)));return b=qt(w),b=b===null?null:b.stateNode,b},Wa.flushSync=function(b){return yu(b)},Wa.hydrate=function(b,w,A){if(!Y0(w))throw Error(e(200));return Z0(null,b,w,!0,A)},Wa.hydrateRoot=function(b,w,A){if(!Cx(b))throw Error(e(405));var q=A!=null&&A.hydratedSources||null,X=!1,J="",fe=L5;if(A!=null&&(A.unstable_strictMode===!0&&(X=!0),A.identifierPrefix!==void 0&&(J=A.identifierPrefix),A.onRecoverableError!==void 0&&(fe=A.onRecoverableError)),w=O5(w,null,b,1,A??null,X,!1,J,fe),b[ol]=w.current,Ph(b),q)for(b=0;b<q.length;b++)A=q[b],X=A._getVersion,X=X(A._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[A,X]:w.mutableSourceEagerHydrationData.push(A,X);return new Q0(w)},Wa.render=function(b,w,A){if(!Y0(w))throw Error(e(200));return Z0(null,b,w,!1,A)},Wa.unmountComponentAtNode=function(b){if(!Y0(b))throw Error(e(40));return b._reactRootContainer?(yu(function(){Z0(null,null,b,!1,function(){b._reactRootContainer=null,b[ol]=null})}),!0):!1},Wa.unstable_batchedUpdates=bx,Wa.unstable_renderSubtreeIntoContainer=function(b,w,A,q){if(!Y0(A))throw Error(e(200));if(b==null||b._reactInternals===void 0)throw Error(e(38));return Z0(b,w,A,!1,q)},Wa.version="18.3.1-next-f1338f8080-20240426",Wa}var G5;function h9(){if(G5)return Px.exports;G5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Px.exports=Mz(),Px.exports}var X5;function Rz(){if(X5)return tg;X5=1;var t=h9();return tg.createRoot=t.createRoot,tg.hydrateRoot=t.hydrateRoot,tg}var Dz=Rz();const Y1=(t,r)=>r.some(e=>t instanceof e);let Q5,Y5;function Iz(){return Q5||(Q5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Oz(){return Y5||(Y5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z1=new WeakMap,Dx=new WeakMap,Hy=new WeakMap;function Fz(t){const r=new Promise((e,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",i)},a=()=>{e(Wu(t.result)),s()},i=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",i)});return Hy.set(r,t),r}function Lz(t){if(Z1.has(t))return;const r=new Promise((e,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",i),t.removeEventListener("abort",i)},a=()=>{e(),s()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",i),t.addEventListener("abort",i)});Z1.set(t,r)}let J1={get(t,r,e){if(t instanceof IDBTransaction){if(r==="done")return Z1.get(t);if(r==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Wu(t[r])},set(t,r,e){return t[r]=e,!0},has(t,r){return t instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in t}};function p9(t){J1=t(J1)}function Bz(t){return Oz().includes(t)?function(...r){return t.apply(ew(this),r),Wu(this.request)}:function(...r){return Wu(t.apply(ew(this),r))}}function $z(t){return typeof t=="function"?Bz(t):(t instanceof IDBTransaction&&Lz(t),Y1(t,Iz())?new Proxy(t,J1):t)}function Wu(t){if(t instanceof IDBRequest)return Fz(t);if(Dx.has(t))return Dx.get(t);const r=$z(t);return r!==t&&(Dx.set(t,r),Hy.set(r,t)),r}const ew=t=>Hy.get(t);function zz(t,r,{blocked:e,upgrade:n,blocking:s,terminated:a}={}){const i=indexedDB.open(t,r),c=Wu(i);return n&&i.addEventListener("upgradeneeded",u=>{n(Wu(i.result),u.oldVersion,u.newVersion,Wu(i.transaction),u)}),e&&i.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),s&&u.addEventListener("versionchange",o=>s(o.oldVersion,o.newVersion,o))}).catch(()=>{}),c}const Vz=["get","getKey","getAll","getAllKeys","count"],Uz=["put","add","delete","clear"],Ix=new Map;function Z5(t,r){if(!(t instanceof IDBDatabase&&!(r in t)&&typeof r=="string"))return;if(Ix.get(r))return Ix.get(r);const e=r.replace(/FromIndex$/,""),n=r!==e,s=Uz.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Vz.includes(e)))return;const a=async function(i,...c){const u=this.transaction(i,s?"readwrite":"readonly");let o=u.store;return n&&(o=o.index(c.shift())),(await Promise.all([o[e](...c),s&&u.done]))[0]};return Ix.set(r,a),a}p9(t=>({...t,get:(r,e,n)=>Z5(r,e)||t.get(r,e,n),has:(r,e)=>!!Z5(r,e)||t.has(r,e)}));const Wz=["continue","continuePrimaryKey","advance"],J5={},tw=new WeakMap,m9=new WeakMap,qz={get(t,r){if(!Wz.includes(r))return t[r];let e=J5[r];return e||(e=J5[r]=function(...n){tw.set(this,m9.get(this)[r](...n))}),e}};async function*Hz(...t){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...t)),!r)return;r=r;const e=new Proxy(r,qz);for(m9.set(e,r),Hy.set(e,ew(r));r;)yield e,r=await(tw.get(e)||r.continue()),tw.delete(e)}function ej(t,r){return r===Symbol.asyncIterator&&Y1(t,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&Y1(t,[IDBIndex,IDBObjectStore])}p9(t=>({...t,get(r,e,n){return ej(r,e)?Hz:t.get(r,e,n)},has(r,e){return ej(r,e)||t.has(r,e)}}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var If;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(If||(If={}));class Ox extends Error{constructor(r,e,n){super(r),this.message=r,this.code=e,this.data=n}}const Kz=t=>{var r,e;return t?.androidBridge?"android":!((e=(r=t?.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||e===void 0)&&e.bridge?"ios":"web"},Gz=t=>{const r=t.CapacitorCustomPlatform||null,e=t.Capacitor||{},n=e.Plugins=e.Plugins||{},s=()=>r!==null?r.name:Kz(t),a=()=>s()!=="web",i=p=>{const f=o.get(p);return!!(f?.platforms.has(s())||c(p))},c=p=>{var f;return(f=e.PluginHeaders)===null||f===void 0?void 0:f.find(h=>h.name===p)},u=p=>t.console.error(p),o=new Map,d=(p,f={})=>{const h=o.get(p);if(h)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),h.proxy;const g=s(),y=c(p);let m;const v=async()=>(!m&&g in f?m=typeof f[g]=="function"?m=await f[g]():m=f[g]:r!==null&&!m&&"web"in f&&(m=typeof f.web=="function"?m=await f.web():m=f.web),m),x=(I,R)=>{var $,K;if(y){const H=y?.methods.find(M=>R===M.name);if(H)return H.rtype==="promise"?M=>e.nativePromise(p,R.toString(),M):(M,F)=>e.nativeCallback(p,R.toString(),M,F);if(I)return($=I[R])===null||$===void 0?void 0:$.bind(I)}else{if(I)return(K=I[R])===null||K===void 0?void 0:K.bind(I);throw new Ox(`"${p}" plugin is not implemented on ${g}`,If.Unimplemented)}},j=I=>{let R;const $=(...K)=>{const H=v().then(M=>{const F=x(M,I);if(F){const C=F(...K);return R=C?.remove,C}else throw new Ox(`"${p}.${I}()" is not implemented on ${g}`,If.Unimplemented)});return I==="addListener"&&(H.remove=async()=>R()),H};return $.toString=()=>`${I.toString()}() { [capacitor code] }`,Object.defineProperty($,"name",{value:I,writable:!1,configurable:!1}),$},T=j("addListener"),E=j("removeListener"),B=(I,R)=>{const $=T({eventName:I},R),K=async()=>{const M=await $;E({eventName:I,callbackId:M},R)},H=new Promise(M=>$.then(()=>M({remove:K})));return H.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await K()},H},W=new Proxy({},{get(I,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?B:T;case"removeListener":return E;default:return j(R)}}});return n[p]=W,o.set(p,{name:p,proxy:W,platforms:new Set([...Object.keys(f),...y?[g]:[]])}),W};return e.convertFileSrc||(e.convertFileSrc=p=>p),e.getPlatform=s,e.handleError=u,e.isNativePlatform=a,e.isPluginAvailable=i,e.registerPlugin=d,e.Exception=Ox,e.DEBUG=!!e.DEBUG,e.isLoggingEnabled=!!e.isLoggingEnabled,e},Xz=t=>t.Capacitor=Gz(t),mo=Xz(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),V2=mo.registerPlugin;class g9{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(r,e){let n=!1;this.listeners[r]||(this.listeners[r]=[],n=!0),this.listeners[r].push(e);const a=this.windowListeners[r];a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(r);const i=async()=>this.removeListener(r,e);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,e,n){const s=this.listeners[r];if(!s){if(n){let a=this.retainedEventArguments[r];a||(a=[]),a.push(e),this.retainedEventArguments[r]=a}return}s.forEach(a=>a(e))}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,e){this.windowListeners[e]={registered:!1,windowEventName:r,pluginEventName:e,handler:n=>{this.notifyListeners(e,n)}}}unimplemented(r="not implemented"){return new mo.Exception(r,If.Unimplemented)}unavailable(r="not available"){return new mo.Exception(r,If.Unavailable)}async removeListener(r,e){const n=this.listeners[r];if(!n)return;const s=n.indexOf(e);this.listeners[r].splice(s,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const e=this.retainedEventArguments[r];e&&(delete this.retainedEventArguments[r],e.forEach(n=>{this.notifyListeners(r,n)}))}}const tj=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),rj=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Qz extends g9{async getCookies(){const r=document.cookie,e={};return r.split(";").forEach(n=>{if(n.length<=0)return;let[s,a]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=rj(s).trim(),a=rj(a).trim(),e[s]=a}),e}async setCookie(r){try{const e=tj(r.key),n=tj(r.value),s=`; expires=${(r.expires||"").replace("expires=","")}`,a=(r.path||"/").replace("path=",""),i=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${e}=${n||""}${s}; path=${a}; ${i};`}catch(e){return Promise.reject(e)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const e of r)document.cookie=e.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}V2("CapacitorCookies",{web:()=>new Qz});const Yz=async t=>new Promise((r,e)=>{const n=new FileReader;n.onload=()=>{const s=n.result;r(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>e(s),n.readAsDataURL(t)}),Zz=(t={})=>{const r=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,a,i)=>(s[a]=t[r[i]],s),{})},Jz=(t,r=!0)=>t?Object.entries(t).reduce((n,s)=>{const[a,i]=s;let c,u;return Array.isArray(i)?(u="",i.forEach(o=>{c=r?encodeURIComponent(o):o,u+=`${a}=${c}&`}),u.slice(0,-1)):(c=r?encodeURIComponent(i):i,u=`${a}=${c}`),`${n}&${u}`},"").substr(1):null,eV=(t,r={})=>{const e=Object.assign({method:t.method||"GET",headers:t.headers},r),s=Zz(t.headers)["content-type"]||"";if(typeof t.data=="string")e.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[i,c]of Object.entries(t.data||{}))a.set(i,c);e.body=a.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const a=new FormData;if(t.data instanceof FormData)t.data.forEach((c,u)=>{a.append(u,c)});else for(const c of Object.keys(t.data))a.append(c,t.data[c]);e.body=a;const i=new Headers(e.headers);i.delete("content-type"),e.headers=i}else(s.includes("application/json")||typeof t.data=="object")&&(e.body=JSON.stringify(t.data));return e};class tV extends g9{async request(r){const e=eV(r,r.webFetchExtra),n=Jz(r.params,r.shouldEncodeUrlParams),s=n?`${r.url}?${n}`:r.url,a=await fetch(s,e),i=a.headers.get("content-type")||"";let{responseType:c="text"}=a.ok?r:{};i.includes("application/json")&&(c="json");let u,o;switch(c){case"arraybuffer":case"blob":o=await a.blob(),u=await Yz(o);break;case"json":u=await a.json();break;case"document":case"text":default:u=await a.text()}const d={};return a.headers.forEach((p,f)=>{d[f]=p}),{data:u,headers:d,status:a.status,url:a.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}V2("CapacitorHttp",{web:()=>new tV});const rV="modulepreload",nV=function(t){return"/"+t},nj={},Fn=function(r,e,n){let s=Promise.resolve();if(e&&e.length>0){let i=function(o){return Promise.all(o.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");s=i(e.map(o=>{if(o=nV(o),o in nj)return;nj[o]=!0;const d=o.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${p}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":rV,d||(f.as="script"),f.crossOrigin="",f.href=o,u&&f.setAttribute("nonce",u),document.head.appendChild(f),d)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&a(c.reason);return r().catch(a)})};class sV{constructor(r){this.sqlite=r,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(r){return Promise.reject(r)}}async saveToStore(r){try{return await this.sqlite.saveToStore({database:r}),Promise.resolve()}catch(e){return Promise.reject(e)}}async saveToLocalDisk(r){try{return await this.sqlite.saveToLocalDisk({database:r}),Promise.resolve()}catch(e){return Promise.reject(e)}}async getFromLocalDiskToStore(r){const e=r??!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:e}),Promise.resolve()}catch(n){return Promise.reject(n)}}async echo(r){try{const e=await this.sqlite.echo({value:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isSecretStored(){try{const r=await this.sqlite.isSecretStored();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async setEncryptionSecret(r){try{return await this.sqlite.setEncryptionSecret({passphrase:r}),Promise.resolve()}catch(e){return Promise.reject(e)}}async changeEncryptionSecret(r,e){try{return await this.sqlite.changeEncryptionSecret({passphrase:r,oldpassphrase:e}),Promise.resolve()}catch(n){return Promise.reject(n)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(r){return Promise.reject(r)}}async checkEncryptionSecret(r){try{const e=await this.sqlite.checkEncryptionSecret({passphrase:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async addUpgradeStatement(r,e){try{return r.endsWith(".db")&&(r=r.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:r,upgrade:e}),Promise.resolve()}catch(n){return Promise.reject(n)}}async createConnection(r,e,n,s,a){try{r.endsWith(".db")&&(r=r.slice(0,-3)),await this.sqlite.createConnection({database:r,encrypted:e,mode:n,version:s,readonly:a});const i=new sj(r,a,this.sqlite),c=a?`RO_${r}`:`RW_${r}`;return this._connectionDict.set(c,i),Promise.resolve(i)}catch(i){return Promise.reject(i)}}async closeConnection(r,e){try{r.endsWith(".db")&&(r=r.slice(0,-3)),await this.sqlite.closeConnection({database:r,readonly:e});const n=e?`RO_${r}`:`RW_${r}`;return this._connectionDict.delete(n),Promise.resolve()}catch(n){return Promise.reject(n)}}async isConnection(r,e){const n={};r.endsWith(".db")&&(r=r.slice(0,-3));const s=e?`RO_${r}`:`RW_${r}`;return n.result=this._connectionDict.has(s),Promise.resolve(n)}async retrieveConnection(r,e){r.endsWith(".db")&&(r=r.slice(0,-3));const n=e?`RO_${r}`:`RW_${r}`;if(this._connectionDict.has(n)){const s=this._connectionDict.get(n);return typeof s<"u"?Promise.resolve(s):Promise.reject(`Connection ${r} is undefined`)}else return Promise.reject(`Connection ${r} does not exist`)}async getNCDatabasePath(r,e){try{const n=await this.sqlite.getNCDatabasePath({path:r,database:e});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async createNCConnection(r,e){try{await this.sqlite.createNCConnection({databasePath:r,version:e});const n=new sj(r,!0,this.sqlite),s=`RO_${r})`;return this._connectionDict.set(s,n),Promise.resolve(n)}catch(n){return Promise.reject(n)}}async closeNCConnection(r){try{await this.sqlite.closeNCConnection({databasePath:r});const e=`RO_${r})`;return this._connectionDict.delete(e),Promise.resolve()}catch(e){return Promise.reject(e)}}async isNCConnection(r){const e={},n=`RO_${r})`;return e.result=this._connectionDict.has(n),Promise.resolve(e)}async retrieveNCConnection(r){if(this._connectionDict.has(r)){const e=`RO_${r})`,n=this._connectionDict.get(e);return typeof n<"u"?Promise.resolve(n):Promise.reject(`Connection ${r} is undefined`)}else return Promise.reject(`Connection ${r} does not exist`)}async isNCDatabase(r){try{const e=await this.sqlite.isNCDatabase({databasePath:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const r=new Map;try{for(const e of this._connectionDict.keys()){const n=e.substring(3),s=e.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:n,readonly:s}),r.set(e,null)}for(const e of r.keys())this._connectionDict.delete(e);return Promise.resolve()}catch(e){return Promise.reject(e)}}async checkConnectionsConsistency(){try{const r=[...this._connectionDict.keys()],e=[],n=[];for(const a of r)e.push(a.substring(0,2)),n.push(a.substring(3));const s=await this.sqlite.checkConnectionsConsistency({dbNames:n,openModes:e});return s.result||(this._connectionDict=new Map),Promise.resolve(s)}catch(r){return this._connectionDict=new Map,Promise.reject(r)}}async importFromJson(r){try{const e=await this.sqlite.importFromJson({jsonstring:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isJsonValid(r){try{const e=await this.sqlite.isJsonValid({jsonstring:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async copyFromAssets(r){const e=r??!0;try{return await this.sqlite.copyFromAssets({overwrite:e}),Promise.resolve()}catch(n){return Promise.reject(n)}}async getFromHTTPRequest(r,e){const n=e??!0;try{return await this.sqlite.getFromHTTPRequest({url:r,overwrite:n}),Promise.resolve()}catch(s){return Promise.reject(s)}}async isDatabaseEncrypted(r){r.endsWith(".db")&&(r=r.slice(0,-3));try{const e=await this.sqlite.isDatabaseEncrypted({database:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isInConfigEncryption(){try{const r=await this.sqlite.isInConfigEncryption();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isInConfigBiometricAuth(){try{const r=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isDatabase(r){r.endsWith(".db")&&(r=r.slice(0,-3));try{const e=await this.sqlite.isDatabase({database:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getDatabaseList(){try{const e=(await this.sqlite.getDatabaseList()).values;e.sort();const n={values:e};return Promise.resolve(n)}catch(r){return Promise.reject(r)}}async getMigratableDbList(r){const e=r||"default";try{const n=await this.sqlite.getMigratableDbList({folderPath:e});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async addSQLiteSuffix(r,e){const n=r||"default",s=e||[];try{const a=await this.sqlite.addSQLiteSuffix({folderPath:n,dbNameList:s});return Promise.resolve(a)}catch(a){return Promise.reject(a)}}async deleteOldDatabases(r,e){const n=r||"default",s=e||[];try{const a=await this.sqlite.deleteOldDatabases({folderPath:n,dbNameList:s});return Promise.resolve(a)}catch(a){return Promise.reject(a)}}async moveDatabasesAndAddSuffix(r,e){const n=r||"default",s=e||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:n,dbNameList:s})}}class sj{constructor(r,e,n){this.dbName=r,this.readonly=e,this.sqlite=n}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}}async beginTransaction(){try{const r=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async commitTransaction(){try{const r=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async rollbackTransaction(){try{const r=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isTransactionActive(){try{const r=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async loadExtension(r){try{return await this.sqlite.loadExtension({database:this.dbName,path:r,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async enableLoadExtension(r){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:r,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async getUrl(){try{const r=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async getVersion(){try{const r=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async getTableList(){try{const r=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async execute(r,e=!0,n=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const s=await this.sqlite.execute({database:this.dbName,statements:r,transaction:e,readonly:!1,isSQL92:n});return Promise.resolve(s)}}catch(s){return Promise.reject(s)}}async query(r,e,n=!0){let s;try{return e&&e.length>0?s=await this.sqlite.query({database:this.dbName,statement:r,values:e,readonly:this.readonly,isSQL92:!0}):s=await this.sqlite.query({database:this.dbName,statement:r,values:[],readonly:this.readonly,isSQL92:n}),s=await this.reorderRows(s),Promise.resolve(s)}catch(a){return Promise.reject(a)}}async run(r,e,n=!0,s="no",a=!0){let i;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(e&&e.length>0?i=await this.sqlite.run({database:this.dbName,statement:r,values:e,transaction:n,readonly:!1,returnMode:s,isSQL92:!0}):i=await this.sqlite.run({database:this.dbName,statement:r,values:[],transaction:n,readonly:!1,returnMode:s,isSQL92:a}),i.changes=await this.reorderRows(i.changes),Promise.resolve(i))}catch(c){return Promise.reject(c)}}async executeSet(r,e=!0,n="no",s=!0){let a;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(a=await this.sqlite.executeSet({database:this.dbName,set:r,transaction:e,readonly:!1,returnMode:n,isSQL92:s}),a.changes=await this.reorderRows(a.changes),Promise.resolve(a))}catch(i){return Promise.reject(i)}}async isExists(){try{const r=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isTable(r){try{const e=await this.sqlite.isTableExists({database:this.dbName,table:r,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isDBOpen(){try{const r=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(r){return Promise.reject(r)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const r=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(r)}}catch(r){return Promise.reject(r)}}async setSyncDate(r){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:r,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async getSyncDate(){try{const r=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let e="";return r.syncDate>0&&(e=new Date(r.syncDate*1e3).toISOString()),Promise.resolve(e)}catch(r){return Promise.reject(r)}}async exportToJson(r,e=!1){try{const n=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:r,readonly:this.readonly,encrypted:e});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(r){return Promise.reject(r)}}async executeTransaction(r,e=!0){let n=0,s=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");if(await this.sqlite.beginTransaction({database:this.dbName}),s=await this.sqlite.isTransactionActive({database:this.dbName}),!s)return Promise.reject("After Begin Transaction, no transaction active");try{for(const c of r){if(typeof c!="object"||!("statement"in c))throw new Error("Error a task.statement must be provided");if("values"in c&&c.values&&c.values.length>0){const u=c.statement.toUpperCase().includes("RETURNING")?"all":"no",o=await this.sqlite.run({database:this.dbName,statement:c.statement,values:c.values,transaction:!1,readonly:!1,returnMode:u,isSQL92:e});if(o.changes.changes<0)throw new Error("Error in transaction method run ");n+=o.changes.changes}else{const u=await this.sqlite.execute({database:this.dbName,statements:c.statement,transaction:!1,readonly:!1});if(u.changes.changes<0)throw new Error("Error in transaction method execute ");n+=u.changes.changes}}const a=await this.sqlite.commitTransaction({database:this.dbName});n+=a.changes.changes;const i={changes:{changes:n}};return Promise.resolve(i)}catch(a){const i=a.message?a.message:a;return await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(i)}}async reorderRows(r){const e=r;if(r?.values&&typeof r.values[0]=="object"&&Object.keys(r.values[0]).includes("ios_columns")){const n=r.values[0].ios_columns,s=[];for(let a=1;a<r.values.length;a++){const i=r.values[a],c={};for(const u of n)c[u]=i[u];s.push(c)}e.values=s}return Promise.resolve(e)}}const aV=V2("CapacitorSQLite",{web:()=>Fn(()=>import("./web-CJmN2Up6.js"),[]).then(t=>new t.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite});class iV{constructor(){this.db=null,this.dbName="binarjoin_native.db",this.sqlite=new sV(aV),this.initialize().catch(r=>console.error(" SQLite Auto-Init Failed:",r))}async initialize(){if(this.db)return;if(mo.getPlatform()==="web"){console.warn(" SQLite is only available on Android/iOS. Falling back to IDB.");return}console.log(" Initializing Real Native SQLite Engine for Android...");try{(await this.sqlite.isConnection(this.dbName,!1)).result?this.db=await this.sqlite.retrieveConnection(this.dbName,!1):this.db=await this.sqlite.createConnection(this.dbName,!1,"no-encryption",1,!1),await this.db.open(),await this.createTables(),console.log(" Native SQLite initialized successfully")}catch(e){throw console.error(" SQLite Critical Init Error:",e),this.db=null,e}}async createTables(){if(!this.db)return;const r=["users","authUserSessions","emailVerificationTokens","passwordResetTokens","projectTypes","projects","workers","wells","fundTransfers","workerAttendance","suppliers","materials","materialPurchases","supplierPayments","transportationExpenses","workerTransfers","workerBalances","dailyExpenseSummaries","workerTypes","autocompleteData","workerMiscExpenses","printSettings","projectFundTransfers","securityPolicies","securityPolicyImplementations","securityPolicySuggestions","securityPolicyViolations","permissionAuditLogs","userProjectPermissions","materialCategories","toolCategories","tools","toolMovements","toolStock","toolReservations","toolPurchaseItems","toolCostTracking","toolMaintenanceLogs","toolUsageAnalytics","toolNotifications","maintenanceSchedules","maintenanceTasks","wellTasks","wellExpenses","wellAuditLogs","wellTaskAccounts","messages","channels","notifications","notificationReadStates","systemNotifications","systemEvents","actions","aiChatSessions","aiChatMessages","aiUsageStats","buildDeployments","approvals","transactions","transactionLines","journals","accounts","accountBalances","financePayments","financeEvents","reportTemplates","emergencyUsers","syncQueue","syncMetadata","userData","autocompleteData"];for(const e of r){await this.db.execute(`
        CREATE TABLE IF NOT EXISTS ${e} (
          id TEXT PRIMARY KEY, 
          data TEXT,
          synced INTEGER DEFAULT 1,
          isLocal INTEGER DEFAULT 0,
          pendingSync INTEGER DEFAULT 0
        );
      `);const n=["synced","isLocal","pendingSync"];for(const s of n)try{await this.db.execute(`ALTER TABLE ${e} ADD COLUMN ${s} INTEGER DEFAULT 0;`)}catch{}}}async get(r,e){if(!this.db)return null;try{const n=await this.db.query(`SELECT data FROM ${r} WHERE id = ?`,[e]);return n.values&&n.values.length>0?JSON.parse(n.values[0].data):null}catch(n){return console.error(`Error getting from ${r}:`,n),null}}async set(r,e,n){if(this.db)try{const s=`INSERT OR REPLACE INTO ${r} (id, data) VALUES (?, ?)`;await this.db.run(s,[e.toString(),JSON.stringify(n)])}catch(s){console.error(`Error setting in ${r}:`,s)}}async getAll(r){if(!this.db)return[];try{const e=await this.db.query(`SELECT data FROM ${r}`);return e.values?e.values.map(n=>JSON.parse(n.data)):[]}catch(e){return console.error(`Error getting all from ${r}:`,e),[]}}async delete(r,e){if(this.db)try{await this.db.run(`DELETE FROM ${r} WHERE id = ?`,[e])}catch(n){console.error(`Error deleting from ${r}:`,n)}}}const ff=new iV;async function Ky(){const t=mo.getPlatform();if(t==="android"||t==="ios")try{if(console.log(" [DB]    SQLite ..."),!ff.db){const r=ff.initialize(),e=new Promise((n,s)=>setTimeout(()=>s(new Error("SQLite Initialization Timeout")),5e3));await Promise.race([r,e])}return console.log(" [DB]    SQLite "),ff}catch(r){return console.error(" SQLite Engine Critical Failure, falling back to IDB:",r),Oi||(Oi=await Lc()),Oi}return Oi||(Oi=await Lc()),Oi}let Oi=null;const oV=["users","authUserSessions","emailVerificationTokens","passwordResetTokens","projectTypes","projects","workers","wells","fundTransfers","workerAttendance","suppliers","materials","materialPurchases","supplierPayments","transportationExpenses","workerTransfers","workerBalances","dailyExpenseSummaries","workerTypes","autocompleteData","workerMiscExpenses","printSettings","projectFundTransfers","securityPolicies","securityPolicyImplementations","securityPolicySuggestions","securityPolicyViolations","permissionAuditLogs","userProjectPermissions","materialCategories","toolCategories","tools","toolMovements","toolStock","toolReservations","toolPurchaseItems","toolCostTracking","toolMaintenanceLogs","toolUsageAnalytics","toolNotifications","maintenanceSchedules","maintenanceTasks","wellTasks","wellExpenses","wellAuditLogs","wellTaskAccounts","messages","channels","notifications","notificationReadStates","systemNotifications","systemEvents","actions","aiChatSessions","aiChatMessages","aiUsageStats","buildDeployments","approvals","transactions","transactionLines","journals","accounts","accountBalances","financePayments","financeEvents","reportTemplates","emergencyUsers","syncQueue","syncMetadata","userData"];async function Lc(){if(Oi)return Oi;try{Oi=await zz("binarjoin-db",10,{upgrade(t,r,e){console.log(`[DB] Upgrading from ${r} to ${e}`);for(const n of oV)if(!t.objectStoreNames.contains(n))if(n==="syncQueue"){const s=t.createObjectStore(n,{keyPath:"id"});s.createIndex("timestamp","timestamp"),s.createIndex("action","action")}else if(n==="userData")t.createObjectStore(n,{keyPath:"id"}).createIndex("type","type");else if(n==="syncMetadata")t.createObjectStore(n,{keyPath:"key"});else{const s=t.createObjectStore(n,{keyPath:"id"});s.createIndex("createdAt","createdAt"),s.createIndex("projectId","projectId"),s.createIndex("synced","synced"),s.createIndex("_pendingSync","_pendingSync"),s.createIndex("version","version"),s.createIndex("lastModifiedAt","lastModifiedAt")}}})}catch(t){throw console.error("[DB] Critical initialization error:",t),t}return Oi}async function Hn(){const t=mo.getPlatform();if(t==="android"||t==="ios"){const r=await Ky();if(r)return r}return Oi||await Lc()}async function lV(t,r){const e=await Ky();if(e){let c=0;for(const u of r)u&&u.id&&(e&&typeof e.set=="function"?(await e.set(t,u.id.toString(),u),c++):e&&typeof e.put=="function"&&(await e.put(t,u),c++));return c}const s=(await Hn()).transaction(t,"readwrite"),a=s.objectStore(t);let i=0;for(const c of r)c&&c.id&&(await a.put(c),i++);return await s.done,i}async function Ng(t,r,e,n){const s=await Ky(),a=e.id||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2)),i={...e,id:a,_isLocal:!0,_pendingSync:!0};if(s){r==="delete"?await s.delete(t,a):await s.set(t,a,i);const p=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2);return await s.set("syncQueue",p,{id:p,action:r,endpoint:n,payload:i,timestamp:Date.now(),retries:0}),console.log(` [SQLite]   : ${r}  ${t}`),i}const u=(await Hn()).transaction([t,"syncQueue"],"readwrite"),o=u.objectStore(t),d=u.objectStore("syncQueue");return r==="delete"?await o.delete(a):await o.put(i),await d.put({id:crypto.randomUUID(),action:r,endpoint:n,payload:i,timestamp:Date.now(),retries:0}),await u.done,console.log(` [IDB]   : ${r}  ${t}`),i}async function rw(t){return(await(await Hn()).transaction(t,"readonly").objectStore(t).getAll()).sort((a,i)=>{const c=new Date(a.createdAt||0).getTime();return new Date(i.createdAt||0).getTime()-c})}const cV=Object.freeze(Object.defineProperty({__proto__:null,getDB:Hn,getListLocal:rw,getSmartStorage:Ky,initializeDB:Lc,performLocalOperation:Ng,saveSyncedData:lV},Symbol.toStringTag,{value:"Module"}));function uV(t,r){if(t instanceof RegExp)return{keys:!1,pattern:t};var e,n,s,a,i=[],c="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)e=s[0],e==="*"?(i.push(e),c+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):e===":"?(n=s.indexOf("?",1),a=s.indexOf(".",1),i.push(s.substring(1,~n?n:~a?a:s.length)),c+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(c+=(~n?"?":"")+"\\"+s.substring(a))):c+="/"+s;return{keys:i,pattern:new RegExp("^"+c+(r?"(?=$|/)":"/?$"),"i")}}var P=qy();const tr=z2(P),Gy=f9({__proto__:null,default:tr},[P]);var Fx={exports:{}},Lx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aj;function dV(){if(aj)return Lx;aj=1;var t=qy();function r(p,f){return p===f&&(p!==0||1/p===1/f)||p!==p&&f!==f}var e=typeof Object.is=="function"?Object.is:r,n=t.useState,s=t.useEffect,a=t.useLayoutEffect,i=t.useDebugValue;function c(p,f){var h=f(),g=n({inst:{value:h,getSnapshot:f}}),y=g[0].inst,m=g[1];return a(function(){y.value=h,y.getSnapshot=f,u(y)&&m({inst:y})},[p,h,f]),s(function(){return u(y)&&m({inst:y}),p(function(){u(y)&&m({inst:y})})},[p]),i(h),h}function u(p){var f=p.getSnapshot;p=p.value;try{var h=f();return!e(p,h)}catch{return!0}}function o(p,f){return f()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o:c;return Lx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Lx}var ij;function fV(){return ij||(ij=1,Fx.exports=dV()),Fx.exports}var hV=fV();const pV=Gy.useInsertionEffect,mV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y9=mV?P.useLayoutEffect:P.useEffect,gV=pV||y9,U2=t=>{const r=P.useRef([t,(...e)=>r[0](...e)]).current;return gV(()=>{r[0]=t}),r[1]},yV="popstate",W2="pushState",q2="replaceState",bV="hashchange",oj=[yV,W2,q2,bV],vV=t=>{for(const r of oj)addEventListener(r,t);return()=>{for(const r of oj)removeEventListener(r,t)}},b9=(t,r)=>hV.useSyncExternalStore(vV,t,r),lj=()=>location.search,xV=({ssrSearch:t}={})=>b9(lj,t!=null?()=>t:lj),cj=()=>location.pathname,wV=({ssrPath:t}={})=>b9(cj,t!=null?()=>t:cj),_V=(t,{replace:r=!1,state:e=null}={})=>history[r?q2:W2](e,"",t),kV=(t={})=>[wV(t),_V],uj=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[uj]>"u"){for(const t of[W2,q2]){const r=history[t];history[t]=function(){const e=r.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),e}}Object.defineProperty(window,uj,{value:!0})}const jV=(t,r)=>r.toLowerCase().indexOf(t.toLowerCase())?"~"+r:r.slice(t.length)||"/",v9=(t="")=>t==="/"?"":t,SV=(t,r)=>t[0]==="~"?t.slice(1):v9(r)+t,NV=(t="",r)=>jV(dj(v9(t)),dj(r)),dj=t=>{try{return decodeURI(t)}catch{return t}},x9={hook:kV,searchHook:xV,parser:uV,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t,aroundNav:(t,r,e)=>t(r,e)},w9=P.createContext(x9),th=()=>P.useContext(w9),_9={},k9=P.createContext(_9),CV=()=>P.useContext(k9),_m=t=>{const[r,e]=t.hook(t);return[NV(t.base,r),U2((n,s)=>t.aroundNav(e,SV(n,t.base),s))]},Rs=()=>_m(th()),j9=(t,r,e,n)=>{const{pattern:s,keys:a}=r instanceof RegExp?{keys:!1,pattern:r}:t(r||"*",n),i=s.exec(e)||[],[c,...u]=i;return c!==void 0?[!0,(()=>{const o=a!==!1?Object.fromEntries(a.map((p,f)=>[p,u[f]])):i.groups;let d={...u};return o&&Object.assign(d,o),d})(),...n?[c]:[]]:[!1,null]},TV=({children:t,...r})=>{const e=th(),n=r.hook?x9:e;let s=n;const[a,i=r.ssrSearch??""]=r.ssrPath?.split("?")??[];a&&(r.ssrSearch=i,r.ssrPath=a),r.hrefs=r.hrefs??r.hook?.hrefs,r.searchHook=r.searchHook??r.hook?.searchHook;let c=P.useRef({}),u=c.current,o=u;for(let d in n){const p=d==="base"?n[d]+(r[d]??""):r[d]??n[d];u===o&&p!==o[d]&&(c.current=o={...o}),o[d]=p,(p!==n[d]||p!==s[d])&&(s=o)}return P.createElement(w9.Provider,{value:s,children:t})},fj=({children:t,component:r},e)=>r?P.createElement(r,{params:e}):typeof t=="function"?t(e):t,EV=t=>{let r=P.useRef(_9);const e=r.current;return r.current=Object.keys(t).length!==Object.keys(e).length||Object.entries(t).some(([n,s])=>s!==e[n])?t:e},jr=({path:t,nest:r,match:e,...n})=>{const s=th(),[a]=_m(s),[i,c,u]=e??j9(s.parser,t,a,r),o=EV({...CV(),...c});if(!i)return null;const d=u?P.createElement(TV,{base:u},fj(n,o)):fj(n,o);return P.createElement(k9.Provider,{value:o,children:d})};P.forwardRef((t,r)=>{const e=th(),[n,s]=_m(e),{to:a="",href:i=a,onClick:c,asChild:u,children:o,className:d,replace:p,state:f,transition:h,...g}=t,y=U2(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(c?.(v),v.defaultPrevented||(v.preventDefault(),s(i,t)))}),m=e.hrefs(i[0]==="~"?i.slice(1):e.base+i,e);return u&&P.isValidElement(o)?P.cloneElement(o,{onClick:y,href:m}):P.createElement("a",{...g,onClick:y,href:m,className:d?.call?d(n===i):d,children:o,ref:r})});const S9=t=>Array.isArray(t)?t.flatMap(r=>S9(r&&r.type===P.Fragment?r.props.children:r)):[t],N9=({children:t,location:r})=>{const e=th(),[n]=_m(e);for(const s of S9(t)){let a=0;if(P.isValidElement(s)&&(a=j9(e.parser,s.props.path,r||n,s.props.nest))[0])return P.cloneElement(s,{match:a})}return null},Jg=t=>{const{to:r,href:e=r}=t,n=th(),[,s]=_m(n),a=U2(()=>s(r||e,t)),{ssrContext:i}=n;return y9(()=>{a()},[]),i&&(i.redirectTo=r),null};var rh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},AV={setTimeout:(t,r)=>setTimeout(t,r),clearTimeout:t=>clearTimeout(t),setInterval:(t,r)=>setInterval(t,r),clearInterval:t=>clearInterval(t)},yc,$2,v8,PV=(v8=class{constructor(){sr(this,yc,AV);sr(this,$2,!1)}setTimeoutProvider(t){Nt(this,yc,t)}setTimeout(t,r){return Ne(this,yc).setTimeout(t,r)}clearTimeout(t){Ne(this,yc).clearTimeout(t)}setInterval(t,r){return Ne(this,yc).setInterval(t,r)}clearInterval(t){Ne(this,yc).clearInterval(t)}},yc=new WeakMap,$2=new WeakMap,v8),Tu=new PV;function MV(t){setTimeout(t,0)}var Gu=typeof window>"u"||"Deno"in globalThis;function Ca(){}function RV(t,r){return typeof t=="function"?t(r):t}function nw(t){return typeof t=="number"&&t>=0&&t!==1/0}function C9(t,r){return Math.max(t+(r||0)-Date.now(),0)}function Ec(t,r){return typeof t=="function"?t(r):t}function Ii(t,r){return typeof t=="function"?t(r):t}function hj(t,r){const{type:e="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:c}=t;if(i){if(n){if(r.queryHash!==H2(i,r.options))return!1}else if(!Tp(r.queryKey,i))return!1}if(e!=="all"){const u=r.isActive();if(e==="active"&&!u||e==="inactive"&&u)return!1}return!(typeof c=="boolean"&&r.isStale()!==c||s&&s!==r.state.fetchStatus||a&&!a(r))}function pj(t,r){const{exact:e,status:n,predicate:s,mutationKey:a}=t;if(a){if(!r.options.mutationKey)return!1;if(e){if(Xu(r.options.mutationKey)!==Xu(a))return!1}else if(!Tp(r.options.mutationKey,a))return!1}return!(n&&r.state.status!==n||s&&!s(r))}function H2(t,r){return(r?.queryKeyHashFn||Xu)(t)}function Xu(t){return JSON.stringify(t,(r,e)=>sw(e)?Object.keys(e).sort().reduce((n,s)=>(n[s]=e[s],n),{}):e)}function Tp(t,r){return t===r?!0:typeof t!=typeof r?!1:t&&r&&typeof t=="object"&&typeof r=="object"?Object.keys(r).every(e=>Tp(t[e],r[e])):!1}var DV=Object.prototype.hasOwnProperty;function T9(t,r,e=0){if(t===r)return t;if(e>500)return r;const n=mj(t)&&mj(r);if(!n&&!(sw(t)&&sw(r)))return r;const a=(n?t:Object.keys(t)).length,i=n?r:Object.keys(r),c=i.length,u=n?new Array(c):{};let o=0;for(let d=0;d<c;d++){const p=n?d:i[d],f=t[p],h=r[p];if(f===h){u[p]=f,(n?d<a:DV.call(t,p))&&o++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){u[p]=h;continue}const g=T9(f,h,e+1);u[p]=g,g===f&&o++}return a===c&&o===a?t:u}function ey(t,r){if(!r||Object.keys(t).length!==Object.keys(r).length)return!1;for(const e in t)if(t[e]!==r[e])return!1;return!0}function mj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sw(t){if(!gj(t))return!1;const r=t.constructor;if(r===void 0)return!0;const e=r.prototype;return!(!gj(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gj(t){return Object.prototype.toString.call(t)==="[object Object]"}function IV(t){return new Promise(r=>{Tu.setTimeout(r,t)})}function aw(t,r,e){return typeof e.structuralSharing=="function"?e.structuralSharing(t,r):e.structuralSharing!==!1?T9(t,r):r}function OV(t,r,e=0){const n=[...t,r];return e&&n.length>e?n.slice(1):n}function FV(t,r,e=0){const n=[r,...t];return e&&n.length>e?n.slice(0,-1):n}var K2=Symbol();function E9(t,r){return!t.queryFn&&r?.initialPromise?()=>r.initialPromise:!t.queryFn||t.queryFn===K2?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function G2(t,r){return typeof t=="function"?t(...r):!!t}function LV(t,r,e){let n=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=r()),n||(n=!0,s.aborted?e():s.addEventListener("abort",e,{once:!0})),s)}),t}var Iu,bc,kf,x8,BV=(x8=class extends rh{constructor(){super();sr(this,Iu);sr(this,bc);sr(this,kf);Nt(this,kf,r=>{if(!Gu&&window.addEventListener){const e=()=>r();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){Ne(this,bc)||this.setEventListener(Ne(this,kf))}onUnsubscribe(){var r;this.hasListeners()||((r=Ne(this,bc))==null||r.call(this),Nt(this,bc,void 0))}setEventListener(r){var e;Nt(this,kf,r),(e=Ne(this,bc))==null||e.call(this),Nt(this,bc,r(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(r){Ne(this,Iu)!==r&&(Nt(this,Iu,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(e=>{e(r)})}isFocused(){return typeof Ne(this,Iu)=="boolean"?Ne(this,Iu):globalThis.document?.visibilityState!=="hidden"}},Iu=new WeakMap,bc=new WeakMap,kf=new WeakMap,x8),X2=new BV;function iw(){let t,r;const e=new Promise((s,a)=>{t=s,r=a});e.status="pending",e.catch(()=>{});function n(s){Object.assign(e,s),delete e.resolve,delete e.reject}return e.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},e.reject=s=>{n({status:"rejected",reason:s}),r(s)},e}var $V=MV;function zV(){let t=[],r=0,e=c=>{c()},n=c=>{c()},s=$V;const a=c=>{r?t.push(c):s(()=>{e(c)})},i=()=>{const c=t;t=[],c.length&&s(()=>{n(()=>{c.forEach(u=>{e(u)})})})};return{batch:c=>{let u;r++;try{u=c()}finally{r--,r||i()}return u},batchCalls:c=>(...u)=>{a(()=>{c(...u)})},schedule:a,setNotifyFunction:c=>{e=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{s=c}}}var gs=zV(),jf,vc,Sf,w8,VV=(w8=class extends rh{constructor(){super();sr(this,jf,!0);sr(this,vc);sr(this,Sf);Nt(this,Sf,r=>{if(!Gu&&window.addEventListener){const e=()=>r(!0),n=()=>r(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){Ne(this,vc)||this.setEventListener(Ne(this,Sf))}onUnsubscribe(){var r;this.hasListeners()||((r=Ne(this,vc))==null||r.call(this),Nt(this,vc,void 0))}setEventListener(r){var e;Nt(this,Sf,r),(e=Ne(this,vc))==null||e.call(this),Nt(this,vc,r(this.setOnline.bind(this)))}setOnline(r){Ne(this,jf)!==r&&(Nt(this,jf,r),this.listeners.forEach(n=>{n(r)}))}isOnline(){return Ne(this,jf)}},jf=new WeakMap,vc=new WeakMap,Sf=new WeakMap,w8),ty=new VV;function UV(t){return Math.min(1e3*2**t,3e4)}function A9(t){return(t??"online")==="online"?ty.isOnline():!0}var ow=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function P9(t){let r=!1,e=0,n;const s=iw(),a=()=>s.status!=="pending",i=y=>{if(!a()){const m=new ow(y);f(m),t.onCancel?.(m)}},c=()=>{r=!0},u=()=>{r=!1},o=()=>X2.isFocused()&&(t.networkMode==="always"||ty.isOnline())&&t.canRun(),d=()=>A9(t.networkMode)&&t.canRun(),p=y=>{a()||(n?.(),s.resolve(y))},f=y=>{a()||(n?.(),s.reject(y))},h=()=>new Promise(y=>{n=m=>{(a()||o())&&y(m)},t.onPause?.()}).then(()=>{n=void 0,a()||t.onContinue?.()}),g=()=>{if(a())return;let y;const m=e===0?t.initialPromise:void 0;try{y=m??t.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(p).catch(v=>{if(a())return;const x=t.retry??(Gu?0:3),j=t.retryDelay??UV,T=typeof j=="function"?j(e,v):j,E=x===!0||typeof x=="number"&&e<x||typeof x=="function"&&x(e,v);if(r||!E){f(v);return}e++,t.onFail?.(e,v),IV(T).then(()=>o()?void 0:h()).then(()=>{r?f(v):g()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(n?.(),s),cancelRetry:c,continueRetry:u,canStart:d,start:()=>(d()?g():h().then(g),s)}}var Ou,_8,M9=(_8=class{constructor(){sr(this,Ou)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nw(this.gcTime)&&Nt(this,Ou,Tu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Gu?1/0:300*1e3))}clearGcTimeout(){Ne(this,Ou)&&(Tu.clearTimeout(Ne(this,Ou)),Nt(this,Ou,void 0))}},Ou=new WeakMap,_8),Fu,Nf,Ri,Lu,Cs,ym,Bu,so,vl,k8,WV=(k8=class extends M9{constructor(r){super();sr(this,so);sr(this,Fu);sr(this,Nf);sr(this,Ri);sr(this,Lu);sr(this,Cs);sr(this,ym);sr(this,Bu);Nt(this,Bu,!1),Nt(this,ym,r.defaultOptions),this.setOptions(r.options),this.observers=[],Nt(this,Lu,r.client),Nt(this,Ri,Ne(this,Lu).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Nt(this,Fu,bj(this.options)),this.state=r.state??Ne(this,Fu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return Ne(this,Cs)?.promise}setOptions(r){if(this.options={...Ne(this,ym),...r},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=bj(this.options);e.data!==void 0&&(this.setState(yj(e.data,e.dataUpdatedAt)),Nt(this,Fu,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ne(this,Ri).remove(this)}setData(r,e){const n=aw(this.state.data,r,this.options);return Lr(this,so,vl).call(this,{data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(r,e){Lr(this,so,vl).call(this,{type:"setState",state:r,setStateOptions:e})}cancel(r){const e=Ne(this,Cs)?.promise;return Ne(this,Cs)?.cancel(r),e?e.then(Ca).catch(Ca):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ne(this,Fu))}isActive(){return this.observers.some(r=>Ii(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===K2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Ec(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!C9(this.state.dataUpdatedAt,r)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),Ne(this,Cs)?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),Ne(this,Cs)?.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),Ne(this,Ri).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(e=>e!==r),this.observers.length||(Ne(this,Cs)&&(Ne(this,Bu)?Ne(this,Cs).cancel({revert:!0}):Ne(this,Cs).cancelRetry()),this.scheduleGc()),Ne(this,Ri).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lr(this,so,vl).call(this,{type:"invalidate"})}async fetch(r,e){if(this.state.fetchStatus!=="idle"&&Ne(this,Cs)?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(Ne(this,Cs))return Ne(this,Cs).continueRetry(),Ne(this,Cs).promise}if(r&&this.setOptions(r),!this.options.queryFn){const u=this.observers.find(o=>o.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,s=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(Nt(this,Bu,!0),n.signal)})},a=()=>{const u=E9(this.options,e),d=(()=>{const p={client:Ne(this,Lu),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return Nt(this,Bu,!1),this.options.persister?this.options.persister(u,d,this):u(d)},c=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:Ne(this,Lu),state:this.state,fetchFn:a};return s(u),u})();this.options.behavior?.onFetch(c,this),Nt(this,Nf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&Lr(this,so,vl).call(this,{type:"fetch",meta:c.fetchOptions?.meta}),Nt(this,Cs,P9({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:u=>{u instanceof ow&&u.revert&&this.setState({...Ne(this,Nf),fetchStatus:"idle"}),n.abort()},onFail:(u,o)=>{Lr(this,so,vl).call(this,{type:"failed",failureCount:u,error:o})},onPause:()=>{Lr(this,so,vl).call(this,{type:"pause"})},onContinue:()=>{Lr(this,so,vl).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const u=await Ne(this,Cs).start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),Ne(this,Ri).config.onSuccess?.(u,this),Ne(this,Ri).config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof ow){if(u.silent)return Ne(this,Cs).promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw Lr(this,so,vl).call(this,{type:"error",error:u}),Ne(this,Ri).config.onError?.(u,this),Ne(this,Ri).config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}},Fu=new WeakMap,Nf=new WeakMap,Ri=new WeakMap,Lu=new WeakMap,Cs=new WeakMap,ym=new WeakMap,Bu=new WeakMap,so=new WeakSet,vl=function(r){const e=n=>{switch(r.type){case"failed":return{...n,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...R9(n.data,this.options),fetchMeta:r.meta??null};case"success":const s={...n,...yj(r.data,r.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Nt(this,Nf,r.manual?s:void 0),s;case"error":const a=r.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...r.state}}};this.state=e(this.state),gs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Ne(this,Ri).notify({query:this,type:"updated",action:r})})},k8);function R9(t,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:A9(r.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function yj(t,r){return{data:t,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function bj(t){const r=typeof t.initialData=="function"?t.initialData():t.initialData,e=r!==void 0,n=e?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var qa,Xr,bm,Sa,$u,Cf,Nl,xc,vm,Tf,Ef,zu,Vu,wc,Af,fn,ap,lw,cw,uw,dw,fw,hw,pw,D9,j8,qV=(j8=class extends rh{constructor(r,e){super();sr(this,fn);sr(this,qa);sr(this,Xr);sr(this,bm);sr(this,Sa);sr(this,$u);sr(this,Cf);sr(this,Nl);sr(this,xc);sr(this,vm);sr(this,Tf);sr(this,Ef);sr(this,zu);sr(this,Vu);sr(this,wc);sr(this,Af,new Set);this.options=e,Nt(this,qa,r),Nt(this,xc,null),Nt(this,Nl,iw()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ne(this,Xr).addObserver(this),vj(Ne(this,Xr),this.options)?Lr(this,fn,ap).call(this):this.updateResult(),Lr(this,fn,dw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mw(Ne(this,Xr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mw(Ne(this,Xr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Lr(this,fn,fw).call(this),Lr(this,fn,hw).call(this),Ne(this,Xr).removeObserver(this)}setOptions(r){const e=this.options,n=Ne(this,Xr);if(this.options=Ne(this,qa).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ii(this.options.enabled,Ne(this,Xr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Lr(this,fn,pw).call(this),Ne(this,Xr).setOptions(this.options),e._defaulted&&!ey(this.options,e)&&Ne(this,qa).getQueryCache().notify({type:"observerOptionsUpdated",query:Ne(this,Xr),observer:this});const s=this.hasListeners();s&&xj(Ne(this,Xr),n,this.options,e)&&Lr(this,fn,ap).call(this),this.updateResult(),s&&(Ne(this,Xr)!==n||Ii(this.options.enabled,Ne(this,Xr))!==Ii(e.enabled,Ne(this,Xr))||Ec(this.options.staleTime,Ne(this,Xr))!==Ec(e.staleTime,Ne(this,Xr)))&&Lr(this,fn,lw).call(this);const a=Lr(this,fn,cw).call(this);s&&(Ne(this,Xr)!==n||Ii(this.options.enabled,Ne(this,Xr))!==Ii(e.enabled,Ne(this,Xr))||a!==Ne(this,wc))&&Lr(this,fn,uw).call(this,a)}getOptimisticResult(r){const e=Ne(this,qa).getQueryCache().build(Ne(this,qa),r),n=this.createResult(e,r);return KV(this,n)&&(Nt(this,Sa,n),Nt(this,Cf,this.options),Nt(this,$u,Ne(this,Xr).state)),n}getCurrentResult(){return Ne(this,Sa)}trackResult(r,e){return new Proxy(r,{get:(n,s)=>(this.trackProp(s),e?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Ne(this,Nl).status==="pending"&&Ne(this,Nl).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(r){Ne(this,Af).add(r)}getCurrentQuery(){return Ne(this,Xr)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const e=Ne(this,qa).defaultQueryOptions(r),n=Ne(this,qa).getQueryCache().build(Ne(this,qa),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(r){return Lr(this,fn,ap).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),Ne(this,Sa)))}createResult(r,e){const n=Ne(this,Xr),s=this.options,a=Ne(this,Sa),i=Ne(this,$u),c=Ne(this,Cf),o=r!==n?r.state:Ne(this,bm),{state:d}=r;let p={...d},f=!1,h;if(e._optimisticResults){const R=this.hasListeners(),$=!R&&vj(r,e),K=R&&xj(r,n,e,s);($||K)&&(p={...p,...R9(d.data,r.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:m}=p;h=p.data;let v=!1;if(e.placeholderData!==void 0&&h===void 0&&m==="pending"){let R;a?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(R=a.data,v=!0):R=typeof e.placeholderData=="function"?e.placeholderData(Ne(this,Ef)?.state.data,Ne(this,Ef)):e.placeholderData,R!==void 0&&(m="success",h=aw(a?.data,R,e),f=!0)}if(e.select&&h!==void 0&&!v)if(a&&h===i?.data&&e.select===Ne(this,vm))h=Ne(this,Tf);else try{Nt(this,vm,e.select),h=e.select(h),h=aw(a?.data,h,e),Nt(this,Tf,h),Nt(this,xc,null)}catch(R){Nt(this,xc,R)}Ne(this,xc)&&(g=Ne(this,xc),h=Ne(this,Tf),y=Date.now(),m="error");const x=p.fetchStatus==="fetching",j=m==="pending",T=m==="error",E=j&&x,B=h!==void 0,I={status:m,fetchStatus:p.fetchStatus,isPending:j,isSuccess:m==="success",isError:T,isInitialLoading:E,isLoading:E,data:h,dataUpdatedAt:p.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>o.dataUpdateCount||p.errorUpdateCount>o.errorUpdateCount,isFetching:x,isRefetching:x&&!j,isLoadingError:T&&!B,isPaused:p.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:T&&B,isStale:Q2(r,e),refetch:this.refetch,promise:Ne(this,Nl),isEnabled:Ii(e.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const R=I.data!==void 0,$=I.status==="error"&&!R,K=F=>{$?F.reject(I.error):R&&F.resolve(I.data)},H=()=>{const F=Nt(this,Nl,I.promise=iw());K(F)},M=Ne(this,Nl);switch(M.status){case"pending":r.queryHash===n.queryHash&&K(M);break;case"fulfilled":($||I.data!==M.value)&&H();break;case"rejected":(!$||I.error!==M.reason)&&H();break}}return I}updateResult(){const r=Ne(this,Sa),e=this.createResult(Ne(this,Xr),this.options);if(Nt(this,$u,Ne(this,Xr).state),Nt(this,Cf,this.options),Ne(this,$u).data!==void 0&&Nt(this,Ef,Ne(this,Xr)),ey(e,r))return;Nt(this,Sa,e);const n=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!Ne(this,Af).size)return!0;const i=new Set(a??Ne(this,Af));return this.options.throwOnError&&i.add("error"),Object.keys(Ne(this,Sa)).some(c=>{const u=c;return Ne(this,Sa)[u]!==r[u]&&i.has(u)})};Lr(this,fn,D9).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Lr(this,fn,dw).call(this)}},qa=new WeakMap,Xr=new WeakMap,bm=new WeakMap,Sa=new WeakMap,$u=new WeakMap,Cf=new WeakMap,Nl=new WeakMap,xc=new WeakMap,vm=new WeakMap,Tf=new WeakMap,Ef=new WeakMap,zu=new WeakMap,Vu=new WeakMap,wc=new WeakMap,Af=new WeakMap,fn=new WeakSet,ap=function(r){Lr(this,fn,pw).call(this);let e=Ne(this,Xr).fetch(this.options,r);return r?.throwOnError||(e=e.catch(Ca)),e},lw=function(){Lr(this,fn,fw).call(this);const r=Ec(this.options.staleTime,Ne(this,Xr));if(Gu||Ne(this,Sa).isStale||!nw(r))return;const n=C9(Ne(this,Sa).dataUpdatedAt,r)+1;Nt(this,zu,Tu.setTimeout(()=>{Ne(this,Sa).isStale||this.updateResult()},n))},cw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ne(this,Xr)):this.options.refetchInterval)??!1},uw=function(r){Lr(this,fn,hw).call(this),Nt(this,wc,r),!(Gu||Ii(this.options.enabled,Ne(this,Xr))===!1||!nw(Ne(this,wc))||Ne(this,wc)===0)&&Nt(this,Vu,Tu.setInterval(()=>{(this.options.refetchIntervalInBackground||X2.isFocused())&&Lr(this,fn,ap).call(this)},Ne(this,wc)))},dw=function(){Lr(this,fn,lw).call(this),Lr(this,fn,uw).call(this,Lr(this,fn,cw).call(this))},fw=function(){Ne(this,zu)&&(Tu.clearTimeout(Ne(this,zu)),Nt(this,zu,void 0))},hw=function(){Ne(this,Vu)&&(Tu.clearInterval(Ne(this,Vu)),Nt(this,Vu,void 0))},pw=function(){const r=Ne(this,qa).getQueryCache().build(Ne(this,qa),this.options);if(r===Ne(this,Xr))return;const e=Ne(this,Xr);Nt(this,Xr,r),Nt(this,bm,r.state),this.hasListeners()&&(e?.removeObserver(this),r.addObserver(this))},D9=function(r){gs.batch(()=>{r.listeners&&this.listeners.forEach(e=>{e(Ne(this,Sa))}),Ne(this,qa).getQueryCache().notify({query:Ne(this,Xr),type:"observerResultsUpdated"})})},j8);function HV(t,r){return Ii(r.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&r.retryOnMount===!1)}function vj(t,r){return HV(t,r)||t.state.data!==void 0&&mw(t,r,r.refetchOnMount)}function mw(t,r,e){if(Ii(r.enabled,t)!==!1&&Ec(r.staleTime,t)!=="static"){const n=typeof e=="function"?e(t):e;return n==="always"||n!==!1&&Q2(t,r)}return!1}function xj(t,r,e,n){return(t!==r||Ii(n.enabled,t)===!1)&&(!e.suspense||t.state.status!=="error")&&Q2(t,e)}function Q2(t,r){return Ii(r.enabled,t)!==!1&&t.isStaleByTime(Ec(r.staleTime,t))}function KV(t,r){return!ey(t.getCurrentResult(),r)}function wj(t){return{onFetch:(r,e)=>{const n=r.options,s=r.fetchOptions?.meta?.fetchMore?.direction,a=r.state.data?.pages||[],i=r.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const o=async()=>{let d=!1;const p=g=>{LV(g,()=>r.signal,()=>d=!0)},f=E9(r.options,r.fetchOptions),h=async(g,y,m)=>{if(d)return Promise.reject();if(y==null&&g.pages.length)return Promise.resolve(g);const x=(()=>{const B={client:r.client,queryKey:r.queryKey,pageParam:y,direction:m?"backward":"forward",meta:r.options.meta};return p(B),B})(),j=await f(x),{maxPages:T}=r.options,E=m?FV:OV;return{pages:E(g.pages,j,T),pageParams:E(g.pageParams,y,T)}};if(s&&a.length){const g=s==="backward",y=g?GV:_j,m={pages:a,pageParams:i},v=y(n,m);c=await h(m,v,g)}else{const g=t??a.length;do{const y=u===0?i[0]??n.initialPageParam:_j(n,c);if(u>0&&y==null)break;c=await h(c,y),u++}while(u<g)}return c};r.options.persister?r.fetchFn=()=>r.options.persister?.(o,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},e):r.fetchFn=o}}}function _j(t,{pages:r,pageParams:e}){const n=r.length-1;return r.length>0?t.getNextPageParam(r[n],r,e[n],e):void 0}function GV(t,{pages:r,pageParams:e}){return r.length>0?t.getPreviousPageParam?.(r[0],r,e[0],e):void 0}var xm,Do,oa,Uu,Io,hc,S8,XV=(S8=class extends M9{constructor(r){super();sr(this,Io);sr(this,xm);sr(this,Do);sr(this,oa);sr(this,Uu);Nt(this,xm,r.client),this.mutationId=r.mutationId,Nt(this,oa,r.mutationCache),Nt(this,Do,[]),this.state=r.state||I9(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){Ne(this,Do).includes(r)||(Ne(this,Do).push(r),this.clearGcTimeout(),Ne(this,oa).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Nt(this,Do,Ne(this,Do).filter(e=>e!==r)),this.scheduleGc(),Ne(this,oa).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){Ne(this,Do).length||(this.state.status==="pending"?this.scheduleGc():Ne(this,oa).remove(this))}continue(){return Ne(this,Uu)?.continue()??this.execute(this.state.variables)}async execute(r){const e=()=>{Lr(this,Io,hc).call(this,{type:"continue"})},n={client:Ne(this,xm),meta:this.options.meta,mutationKey:this.options.mutationKey};Nt(this,Uu,P9({fn:()=>this.options.mutationFn?this.options.mutationFn(r,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,c)=>{Lr(this,Io,hc).call(this,{type:"failed",failureCount:i,error:c})},onPause:()=>{Lr(this,Io,hc).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ne(this,oa).canRun(this)}));const s=this.state.status==="pending",a=!Ne(this,Uu).canStart();try{if(s)e();else{Lr(this,Io,hc).call(this,{type:"pending",variables:r,isPaused:a}),Ne(this,oa).config.onMutate&&await Ne(this,oa).config.onMutate(r,this,n);const c=await this.options.onMutate?.(r,n);c!==this.state.context&&Lr(this,Io,hc).call(this,{type:"pending",context:c,variables:r,isPaused:a})}const i=await Ne(this,Uu).start();return await Ne(this,oa).config.onSuccess?.(i,r,this.state.context,this,n),await this.options.onSuccess?.(i,r,this.state.context,n),await Ne(this,oa).config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,r,this.state.context,n),Lr(this,Io,hc).call(this,{type:"success",data:i}),i}catch(i){try{await Ne(this,oa).config.onError?.(i,r,this.state.context,this,n)}catch(c){Promise.reject(c)}try{await this.options.onError?.(i,r,this.state.context,n)}catch(c){Promise.reject(c)}try{await Ne(this,oa).config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n)}catch(c){Promise.reject(c)}try{await this.options.onSettled?.(void 0,i,r,this.state.context,n)}catch(c){Promise.reject(c)}throw Lr(this,Io,hc).call(this,{type:"error",error:i}),i}finally{Ne(this,oa).runNext(this)}}},xm=new WeakMap,Do=new WeakMap,oa=new WeakMap,Uu=new WeakMap,Io=new WeakSet,hc=function(r){const e=n=>{switch(r.type){case"failed":return{...n,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...n,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:r.error,failureCount:n.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=e(this.state),gs.batch(()=>{Ne(this,Do).forEach(n=>{n.onMutationUpdate(r)}),Ne(this,oa).notify({mutation:this,type:"updated",action:r})})},S8);function I9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cl,ao,wm,N8,QV=(N8=class extends rh{constructor(r={}){super();sr(this,Cl);sr(this,ao);sr(this,wm);this.config=r,Nt(this,Cl,new Set),Nt(this,ao,new Map),Nt(this,wm,0)}build(r,e,n){const s=new XV({client:r,mutationCache:this,mutationId:++eg(this,wm)._,options:r.defaultMutationOptions(e),state:n});return this.add(s),s}add(r){Ne(this,Cl).add(r);const e=rg(r);if(typeof e=="string"){const n=Ne(this,ao).get(e);n?n.push(r):Ne(this,ao).set(e,[r])}this.notify({type:"added",mutation:r})}remove(r){if(Ne(this,Cl).delete(r)){const e=rg(r);if(typeof e=="string"){const n=Ne(this,ao).get(e);if(n)if(n.length>1){const s=n.indexOf(r);s!==-1&&n.splice(s,1)}else n[0]===r&&Ne(this,ao).delete(e)}}this.notify({type:"removed",mutation:r})}canRun(r){const e=rg(r);if(typeof e=="string"){const s=Ne(this,ao).get(e)?.find(a=>a.state.status==="pending");return!s||s===r}else return!0}runNext(r){const e=rg(r);return typeof e=="string"?Ne(this,ao).get(e)?.find(s=>s!==r&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){gs.batch(()=>{Ne(this,Cl).forEach(r=>{this.notify({type:"removed",mutation:r})}),Ne(this,Cl).clear(),Ne(this,ao).clear()})}getAll(){return Array.from(Ne(this,Cl))}find(r){const e={exact:!0,...r};return this.getAll().find(n=>pj(e,n))}findAll(r={}){return this.getAll().filter(e=>pj(r,e))}notify(r){gs.batch(()=>{this.listeners.forEach(e=>{e(r)})})}resumePausedMutations(){const r=this.getAll().filter(e=>e.state.isPaused);return gs.batch(()=>Promise.all(r.map(e=>e.continue().catch(Ca))))}},Cl=new WeakMap,ao=new WeakMap,wm=new WeakMap,N8);function rg(t){return t.options.scope?.id}var Tl,_c,Ha,El,Ol,Cg,gw,C8,YV=(C8=class extends rh{constructor(e,n){super();sr(this,Ol);sr(this,Tl);sr(this,_c);sr(this,Ha);sr(this,El);Nt(this,Tl,e),this.setOptions(n),this.bindMethods(),Lr(this,Ol,Cg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=Ne(this,Tl).defaultMutationOptions(e),ey(this.options,n)||Ne(this,Tl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ne(this,Ha),observer:this}),n?.mutationKey&&this.options.mutationKey&&Xu(n.mutationKey)!==Xu(this.options.mutationKey)?this.reset():Ne(this,Ha)?.state.status==="pending"&&Ne(this,Ha).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||Ne(this,Ha)?.removeObserver(this)}onMutationUpdate(e){Lr(this,Ol,Cg).call(this),Lr(this,Ol,gw).call(this,e)}getCurrentResult(){return Ne(this,_c)}reset(){Ne(this,Ha)?.removeObserver(this),Nt(this,Ha,void 0),Lr(this,Ol,Cg).call(this),Lr(this,Ol,gw).call(this)}mutate(e,n){return Nt(this,El,n),Ne(this,Ha)?.removeObserver(this),Nt(this,Ha,Ne(this,Tl).getMutationCache().build(Ne(this,Tl),this.options)),Ne(this,Ha).addObserver(this),Ne(this,Ha).execute(e)}},Tl=new WeakMap,_c=new WeakMap,Ha=new WeakMap,El=new WeakMap,Ol=new WeakSet,Cg=function(){const e=Ne(this,Ha)?.state??I9();Nt(this,_c,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},gw=function(e){gs.batch(()=>{if(Ne(this,El)&&this.hasListeners()){const n=Ne(this,_c).variables,s=Ne(this,_c).context,a={client:Ne(this,Tl),meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{Ne(this,El).onSuccess?.(e.data,n,s,a)}catch(i){Promise.reject(i)}try{Ne(this,El).onSettled?.(e.data,null,n,s,a)}catch(i){Promise.reject(i)}}else if(e?.type==="error"){try{Ne(this,El).onError?.(e.error,n,s,a)}catch(i){Promise.reject(i)}try{Ne(this,El).onSettled?.(void 0,e.error,n,s,a)}catch(i){Promise.reject(i)}}}this.listeners.forEach(n=>{n(Ne(this,_c))})})},C8),Oo,T8,ZV=(T8=class extends rh{constructor(r={}){super();sr(this,Oo);this.config=r,Nt(this,Oo,new Map)}build(r,e,n){const s=e.queryKey,a=e.queryHash??H2(s,e);let i=this.get(a);return i||(i=new WV({client:r,queryKey:s,queryHash:a,options:r.defaultQueryOptions(e),state:n,defaultOptions:r.getQueryDefaults(s)}),this.add(i)),i}add(r){Ne(this,Oo).has(r.queryHash)||(Ne(this,Oo).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const e=Ne(this,Oo).get(r.queryHash);e&&(r.destroy(),e===r&&Ne(this,Oo).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){gs.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return Ne(this,Oo).get(r)}getAll(){return[...Ne(this,Oo).values()]}find(r){const e={exact:!0,...r};return this.getAll().find(n=>hj(e,n))}findAll(r={}){const e=this.getAll();return Object.keys(r).length>0?e.filter(n=>hj(r,n)):e}notify(r){gs.batch(()=>{this.listeners.forEach(e=>{e(r)})})}onFocus(){gs.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){gs.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},Oo=new WeakMap,T8),Qn,kc,jc,Pf,Mf,Sc,Rf,Df,E8,JV=(E8=class{constructor(t={}){sr(this,Qn);sr(this,kc);sr(this,jc);sr(this,Pf);sr(this,Mf);sr(this,Sc);sr(this,Rf);sr(this,Df);Nt(this,Qn,t.queryCache||new ZV),Nt(this,kc,t.mutationCache||new QV),Nt(this,jc,t.defaultOptions||{}),Nt(this,Pf,new Map),Nt(this,Mf,new Map),Nt(this,Sc,0)}mount(){eg(this,Sc)._++,Ne(this,Sc)===1&&(Nt(this,Rf,X2.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ne(this,Qn).onFocus())})),Nt(this,Df,ty.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ne(this,Qn).onOnline())})))}unmount(){var t,r;eg(this,Sc)._--,Ne(this,Sc)===0&&((t=Ne(this,Rf))==null||t.call(this),Nt(this,Rf,void 0),(r=Ne(this,Df))==null||r.call(this),Nt(this,Df,void 0))}isFetching(t){return Ne(this,Qn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ne(this,kc).findAll({...t,status:"pending"}).length}getQueryData(t){const r=this.defaultQueryOptions({queryKey:t});return Ne(this,Qn).get(r.queryHash)?.state.data}ensureQueryData(t){const r=this.defaultQueryOptions(t),e=Ne(this,Qn).build(this,r),n=e.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&e.isStaleByTime(Ec(r.staleTime,e))&&this.prefetchQuery(r),Promise.resolve(n))}getQueriesData(t){return Ne(this,Qn).findAll(t).map(({queryKey:r,state:e})=>{const n=e.data;return[r,n]})}setQueryData(t,r,e){const n=this.defaultQueryOptions({queryKey:t}),a=Ne(this,Qn).get(n.queryHash)?.state.data,i=RV(r,a);if(i!==void 0)return Ne(this,Qn).build(this,n).setData(i,{...e,manual:!0})}setQueriesData(t,r,e){return gs.batch(()=>Ne(this,Qn).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,r,e)]))}getQueryState(t){const r=this.defaultQueryOptions({queryKey:t});return Ne(this,Qn).get(r.queryHash)?.state}removeQueries(t){const r=Ne(this,Qn);gs.batch(()=>{r.findAll(t).forEach(e=>{r.remove(e)})})}resetQueries(t,r){const e=Ne(this,Qn);return gs.batch(()=>(e.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},r)))}cancelQueries(t,r={}){const e={revert:!0,...r},n=gs.batch(()=>Ne(this,Qn).findAll(t).map(s=>s.cancel(e)));return Promise.all(n).then(Ca).catch(Ca)}invalidateQueries(t,r={}){return gs.batch(()=>(Ne(this,Qn).findAll(t).forEach(e=>{e.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},r)))}refetchQueries(t,r={}){const e={...r,cancelRefetch:r.cancelRefetch??!0},n=gs.batch(()=>Ne(this,Qn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,e);return e.throwOnError||(a=a.catch(Ca)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ca)}fetchQuery(t){const r=this.defaultQueryOptions(t);r.retry===void 0&&(r.retry=!1);const e=Ne(this,Qn).build(this,r);return e.isStaleByTime(Ec(r.staleTime,e))?e.fetch(r):Promise.resolve(e.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ca).catch(Ca)}fetchInfiniteQuery(t){return t.behavior=wj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ca).catch(Ca)}ensureInfiniteQueryData(t){return t.behavior=wj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ty.isOnline()?Ne(this,kc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ne(this,Qn)}getMutationCache(){return Ne(this,kc)}getDefaultOptions(){return Ne(this,jc)}setDefaultOptions(t){Nt(this,jc,t)}setQueryDefaults(t,r){Ne(this,Pf).set(Xu(t),{queryKey:t,defaultOptions:r})}getQueryDefaults(t){const r=[...Ne(this,Pf).values()],e={};return r.forEach(n=>{Tp(t,n.queryKey)&&Object.assign(e,n.defaultOptions)}),e}setMutationDefaults(t,r){Ne(this,Mf).set(Xu(t),{mutationKey:t,defaultOptions:r})}getMutationDefaults(t){const r=[...Ne(this,Mf).values()],e={};return r.forEach(n=>{Tp(t,n.mutationKey)&&Object.assign(e,n.defaultOptions)}),e}defaultQueryOptions(t){if(t._defaulted)return t;const r={...Ne(this,jc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return r.queryHash||(r.queryHash=H2(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===K2&&(r.enabled=!1),r}defaultMutationOptions(t){return t?._defaulted?t:{...Ne(this,jc).mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ne(this,Qn).clear(),Ne(this,kc).clear()}},Qn=new WeakMap,kc=new WeakMap,jc=new WeakMap,Pf=new WeakMap,Mf=new WeakMap,Sc=new WeakMap,Rf=new WeakMap,Df=new WeakMap,E8),O9=P.createContext(void 0),xs=t=>{const r=P.useContext(O9);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},eU=({client:t,children:r})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(O9.Provider,{value:t,children:r})),F9=P.createContext(!1),tU=()=>P.useContext(F9);F9.Provider;function rU(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var nU=P.createContext(rU()),sU=()=>P.useContext(nU),aU=(t,r,e)=>{const n=e?.state.error&&typeof t.throwOnError=="function"?G2(t.throwOnError,[e.state.error,e]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(r.isReset()||(t.retryOnMount=!1))},iU=t=>{P.useEffect(()=>{t.clearReset()},[t])},oU=({result:t,errorResetBoundary:r,throwOnError:e,query:n,suspense:s})=>t.isError&&!r.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||G2(e,[t.error,n])),lU=t=>{if(t.suspense){const e=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>e(n(...s)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},cU=(t,r)=>t.isLoading&&t.isFetching&&!r,uU=(t,r)=>t?.suspense&&r.isPending,kj=(t,r,e)=>r.fetchOptimistic(t).catch(()=>{e.clearReset()});function dU(t,r,e){const n=tU(),s=sU(),a=xs(),i=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(i);const c=a.getQueryCache().get(i.queryHash);i._optimisticResults=n?"isRestoring":"optimistic",lU(i),aU(i,s,c),iU(s);const u=!a.getQueryCache().get(i.queryHash),[o]=P.useState(()=>new r(a,i)),d=o.getOptimisticResult(i),p=!n&&t.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(f=>{const h=p?o.subscribe(gs.batchCalls(f)):Ca;return o.updateResult(),h},[o,p]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),P.useEffect(()=>{o.setOptions(i)},[i,o]),uU(i,d))throw kj(i,o,s);if(oU({result:d,errorResetBoundary:s,throwOnError:i.throwOnError,query:c,suspense:i.suspense}))throw d.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(i,d),i.experimental_prefetchInRender&&!Gu&&cU(d,n)&&(u?kj(i,o,s):c?.promise)?.catch(Ca).finally(()=>{o.updateResult()}),i.notifyOnChangeProps?d:o.trackResult(d)}function Pt(t,r){return dU(t,qV)}function $t(t,r){const e=xs(),[n]=P.useState(()=>new YV(e,t));P.useEffect(()=>{n.setOptions(t)},[n,t]);const s=P.useSyncExternalStore(P.useCallback(i=>n.subscribe(gs.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=P.useCallback((i,c)=>{n.mutate(i,c).catch(Ca)},[n]);if(s.error&&G2(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}function jj(){return typeof navigator<"u"?navigator.onLine:!0}async function L9(){mo.getPlatform()!=="web"?await ff.initialize():await Hn()}async function Xy(t){return mo.getPlatform()!=="web"?await ff.getAll(t):await(await Hn()).getAll(t)}async function qu(t,r){if(!r||r.length===0)return 0;if(mo.getPlatform()!=="web"){let e=0;for(const n of r)if(n&&(n.id||n.key)){const s=(n.id||n.key).toString();await ff.set(t,s,n),e++}return e}else{const{saveSyncedData:e}=await Fn(async()=>{const{saveSyncedData:n}=await Promise.resolve().then(()=>cV);return{saveSyncedData:n}},void 0);return await e(t,r)}}const yw=Object.freeze(Object.defineProperty({__proto__:null,initializeStorage:L9,smartGetAll:Xy,smartSave:qu},Symbol.toStringTag,{value:"Module"}));var fU={};const Ep={isProduction:typeof window<"u"?window.location.hostname==="binarjoinanelytic.info"||window.location.hostname==="www.binarjoinanelytic.info":!0,isAndroid:typeof window<"u"&&!(window.location.protocol==="http:"||window.location.protocol==="https:"),getApiBaseUrl:()=>typeof window>"u"?fU.VITE_API_BASE_URL||"":window.Capacitor?.isNative?"https://app2.binarjoinanelytic.info":"",getExternalServerUrl:()=>"https://app2.binarjoinanelytic.info"};let bw=null;function Sj(t){bw=t}function hU(){return bw?bw.getAccessToken():localStorage.getItem("accessToken")}async function qe(t,r="GET",e,n=0){const s=Ep.getApiBaseUrl();let a=t;if(!t.startsWith("http")){const o=t.startsWith("/")?t:`/${t}`;a=`${s}${o}`}const i=typeof window<"u"?localStorage.getItem("accessToken"):null;i||(console.warn(` [apiRequest]    : ${r} ${t}`),typeof window<"u"&&!window.location.pathname.includes("/login")&&t.includes("/auth/login"));const c={"Content-Type":"application/json"};i&&(c.Authorization=`Bearer ${i}`);const u={method:r,headers:c,credentials:"include"};e&&r!=="GET"&&(u.body=JSON.stringify(e));try{console.log(` API Request: ${r} ${t}`,e||"");const o=await fetch(a,u),d=o.headers.get("content-type");if(o.status===401){console.log(" [apiRequest] 401 Unauthorized - Checking tokens...");const f=localStorage.getItem("refreshToken");if(f&&n===0)try{const g=`${Ep.getApiBaseUrl()}/api/auth/refresh`;console.log(" [apiRequest] Attempting silent refresh...");const y=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:f})});if(y.ok){const m=await y.json(),v=m.data?.accessToken||m.accessToken,x=m.data?.refreshToken||m.refreshToken;if(v){console.log(" [apiRequest] Refresh successful, retrying request"),localStorage.setItem("accessToken",v),x&&localStorage.setItem("refreshToken",x);const j={...c,Authorization:`Bearer ${v}`};return qe(t,r,e,n+1)}}else console.error(" [apiRequest] Refresh response not OK:",y.status)}catch(h){console.error(" [apiRequest] Refresh failed:",h)}throw window.location.pathname.includes("/login")||console.warn(" [apiRequest] Session expired, but staying in-place for offline support."),new Error(" ")}if(!o.ok){let f=`HTTP error! status: ${o.status}`;try{if(d&&d.includes("application/json"))f=(await o.json()).message||f;else{const h=await o.text();console.error(" [apiRequest]   text/html; charset=UTF-8   JSON:",{url:t,method:r,status:o.status,contentType:d,responsePreview:h.substring(0,200)})}}catch{}throw new Error(f)}if(!d||!d.includes("application/json")){const f=await o.text();throw console.error(" [apiRequest]   text/html; charset=UTF-8   JSON:",{url:t,method:r,status:o.status,contentType:d,responsePreview:f.substring(0,200)}),new Error(`   :  JSON    ${d}`)}const p=await o.json();return console.log(` API Response: ${r} ${t}`,p),p}catch(o){throw console.error(` API Error: ${r} ${t}`,o),o}}const pU=({on401:t,useLocalFallback:r=!0})=>async({queryKey:e})=>{const n=Ep.getApiBaseUrl(),s=e.join("/");let a=s;if(!s.startsWith("http"))if(n){const c=s.startsWith("/")?s:`/${s}`;a=`${n}${c}`}else s.startsWith("/")||(a=`/${s}`);async function i(c=0){const u=new AbortController,o=setTimeout(()=>u.abort(),3e4);try{const d=jj();if(console.log(` [QueryClient]  : ${d?"":" "}`),!d&&r){console.log(` [QueryClient]   -     : ${e.join("/")}`);try{const y=e[0].startsWith("/api/")?e[0].substring(5):e[0],m=await Xy(y);if(m&&Array.isArray(m)&&m.length>0)return console.log(` [QueryClient]   ${m.length}  `),m}catch(y){console.error(" [QueryClient]    :",y)}}const p={},f=hU();f&&(p.Authorization=`Bearer ${f}`),console.log(` [QueryClient]  : ${a}`,{hasToken:!!f,online:jj()});const h=await fetch(a,{headers:p,credentials:"include",signal:u.signal});if(clearTimeout(o),!h.ok){if(h.status===401)throw console.error(" [QueryClient] Unauthorized (401) - Silent failure for offline support"),new Error("Authentication Error (401)");const y=await h.json().catch(()=>({message:`Error ${h.status}`}));throw new Error(y?.message||`Error ${h.status}`)}const g=await h.json();if(console.log(` [QueryClient]    ${e.join("/")}:`,{hasData:!!g,dataType:typeof g}),console.log(` [QueryClient]    ${e.join("/")}:`,{dataType:typeof g,isObject:g&&typeof g=="object",hasSuccess:g?.success!==void 0,hasDataProperty:g?.data!==void 0,actualDataValue:g?.data,rawData:g}),g&&typeof g=="object"){const y=typeof e[0]=="string"&&e[0].includes("migration");if(g.success!==void 0&&g.hasOwnProperty("data"))return console.log(` [QueryClient]  API   ${e.join("/")}:`,{success:g.success,dataExists:g.data!==void 0,dataType:typeof g.data}),y?g.data:g.data===null||g.data===void 0?[]:g.data;if(Array.isArray(g))return console.log(` [QueryClient]    ${e.join("/")}:`,g.length),g;if(g.data!==void 0)return console.log(` [QueryClient]  data   ${e.join("/")}:`,g.data),g.data!==null?g.data:[]}return console.log(` [QueryClient]      ${e.join("/")}:`,g),g}catch(d){throw clearTimeout(o),d instanceof Error&&d.name==="AbortError"?(console.log(` [QueryClient] timeout  ${e.join("/")}`),new Error("      ")):(console.error(` [QueryClient]   ${e.join("/")}`,d),d)}}return i()},wu={REFERENCE_DATA:1e3*60*10,ACTIVE_DATA:1e3*60*5},xn=new JV({defaultOptions:{queries:{queryFn:pU({on401:"throw",useLocalFallback:!0}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1e3*60*5,gcTime:1e3*60*60,retry:(t,r)=>r?.status===401?!1:t<2,refetchOnReconnect:!1,refetchOnMount:!1,placeholderData:t=>t},mutations:{retry:1}}}),_u={PROJECTS:["/api/projects"],PROJECTS_WITH_STATS:["/api/projects/with-stats"],WORKERS:["/api/workers"],MATERIALS:["/api/materials"],SUPPLIERS:["/api/suppliers"],AUTOCOMPLETE:["/api/autocomplete"],NOTIFICATIONS:["/api/notifications"]};async function mU(){console.log(" [Prefetch]     ...");const t=Date.now(),r=[xn.prefetchQuery({queryKey:_u.PROJECTS,staleTime:wu.REFERENCE_DATA}),xn.prefetchQuery({queryKey:_u.PROJECTS_WITH_STATS,staleTime:wu.REFERENCE_DATA}),xn.prefetchQuery({queryKey:_u.WORKERS,staleTime:wu.REFERENCE_DATA}),xn.prefetchQuery({queryKey:_u.MATERIALS,staleTime:wu.REFERENCE_DATA}),xn.prefetchQuery({queryKey:_u.SUPPLIERS,staleTime:wu.REFERENCE_DATA}),xn.prefetchQuery({queryKey:_u.AUTOCOMPLETE,staleTime:wu.REFERENCE_DATA}),xn.prefetchQuery({queryKey:_u.NOTIFICATIONS,staleTime:wu.ACTIVE_DATA})];try{await Promise.all(r);const e=Date.now()-t;console.log(` [Prefetch]       ${e}ms`)}catch(e){console.warn(" [Prefetch]    :",e)}}function gU(){console.log(" [Cache]    ..."),xn.clear()}const yU=3,bU=5e3;let Bx=0;function vU(){return Bx=(Bx+1)%Number.MAX_SAFE_INTEGER,Bx.toString()}const $x=new Map,Nj=t=>{if($x.has(t))return;const r=setTimeout(()=>{$x.delete(t),gp({type:"REMOVE_TOAST",toastId:t})},bU);$x.set(t,r)},xU=(t,r)=>{switch(r.type){case"ADD_TOAST":return{...t,toasts:[r.toast,...t.toasts].slice(0,yU)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{const{toastId:e}=r;return e?Nj(e):t.toasts.forEach(n=>{Nj(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===e||e===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(e=>e.id!==r.toastId)}}},Tg=[];let Eg={toasts:[]};function gp(t){Eg=xU(Eg,t),Tg.forEach(r=>{r(Eg)})}function B9({...t}){const r=vU(),e=s=>gp({type:"UPDATE_TOAST",toast:{...s,id:r}}),n=()=>gp({type:"DISMISS_TOAST",toastId:r});return gp({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:s=>{s||n()}}}),{id:r,dismiss:n,update:e}}function wn(){const[t,r]=P.useState(Eg);return P.useEffect(()=>(Tg.push(r),()=>{const e=Tg.indexOf(r);e>-1&&Tg.splice(e,1)}),[t]),{...t,toast:B9,dismiss:e=>gp({type:"DISMISS_TOAST",toastId:e})}}var dd=h9();const wU=z2(dd);function pt(t,r,{checkForDefaultPrevented:e=!0}={}){return function(s){if(t?.(s),e===!1||!s.defaultPrevented)return r?.(s)}}function Cj(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function tl(...t){return r=>{let e=!1;const n=t.map(s=>{const a=Cj(s,r);return!e&&typeof a=="function"&&(e=!0),a});if(e)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Cj(t[s],null)}}}}function Cr(...t){return P.useCallback(tl(...t),t)}function _U(t,r){const e=P.createContext(r),n=a=>{const{children:i,...c}=a,u=P.useMemo(()=>c,Object.values(c));return l.jsx(e.Provider,{value:u,children:i})};n.displayName=t+"Provider";function s(a){const i=P.useContext(e);if(i)return i;if(r!==void 0)return r;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,s]}function va(t,r=[]){let e=[];function n(a,i){const c=P.createContext(i),u=e.length;e=[...e,i];const o=p=>{const{scope:f,children:h,...g}=p,y=f?.[t]?.[u]||c,m=P.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:m,children:h})};o.displayName=a+"Provider";function d(p,f){const h=f?.[t]?.[u]||c,g=P.useContext(h);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[o,d]}const s=()=>{const a=e.map(i=>P.createContext(i));return function(c){const u=c?.[t]||a;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[n,kU(s,...r)]}function kU(...t){const r=t[0];if(t.length===1)return r;const e=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((c,{useScope:u,scopeName:o})=>{const p=u(a)[`__scope${o}`];return{...c,...p}},{});return P.useMemo(()=>({[`__scope${r.scopeName}`]:i}),[i])}};return e.scopeName=r.scopeName,e}function Tj(t){const r=jU(t),e=P.forwardRef((n,s)=>{const{children:a,...i}=n,c=P.Children.toArray(a),u=c.find(NU);if(u){const o=u.props.children,d=c.map(p=>p===u?P.Children.count(o)>1?P.Children.only(null):P.isValidElement(o)?o.props.children:null:p);return l.jsx(r,{...i,ref:s,children:P.isValidElement(o)?P.cloneElement(o,void 0,d):null})}return l.jsx(r,{...i,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}function jU(t){const r=P.forwardRef((e,n)=>{const{children:s,...a}=e;if(P.isValidElement(s)){const i=TU(s),c=CU(a,s.props);return s.type!==P.Fragment&&(c.ref=n?tl(n,i):i),P.cloneElement(s,c)}return P.Children.count(s)>1?P.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var SU=Symbol("radix.slottable");function NU(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SU}function CU(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function TU(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}function Qy(t){const r=t+"CollectionProvider",[e,n]=va(r),[s,a]=e(r,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:m,children:v}=y,x=tr.useRef(null),j=tr.useRef(new Map).current;return l.jsx(s,{scope:m,itemMap:j,collectionRef:x,children:v})};i.displayName=r;const c=t+"CollectionSlot",u=Tj(c),o=tr.forwardRef((y,m)=>{const{scope:v,children:x}=y,j=a(c,v),T=Cr(m,j.collectionRef);return l.jsx(u,{ref:T,children:x})});o.displayName=c;const d=t+"CollectionItemSlot",p="data-radix-collection-item",f=Tj(d),h=tr.forwardRef((y,m)=>{const{scope:v,children:x,...j}=y,T=tr.useRef(null),E=Cr(m,T),B=a(d,v);return tr.useEffect(()=>(B.itemMap.set(T,{ref:T,...j}),()=>void B.itemMap.delete(T))),l.jsx(f,{[p]:"",ref:E,children:x})});h.displayName=d;function g(y){const m=a(t+"CollectionConsumer",y);return tr.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const j=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(m.itemMap.values()).sort((B,W)=>j.indexOf(B.ref.current)-j.indexOf(W.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:i,Slot:o,ItemSlot:h},g,n]}function zx(t,r,{checkForDefaultPrevented:e=!0}={}){return function(s){if(t?.(s),e===!1||!s.defaultPrevented)return r?.(s)}}function EU(t,r){typeof t=="function"?t(r):t!=null&&(t.current=r)}function $9(...t){return r=>t.forEach(e=>EU(e,r))}function z9(...t){return P.useCallback($9(...t),t)}var V9=P.forwardRef((t,r)=>{const{children:e,...n}=t,s=P.Children.toArray(e),a=s.find(PU);if(a){const i=a.props.children,c=s.map(u=>u===a?P.Children.count(i)>1?P.Children.only(null):P.isValidElement(i)?i.props.children:null:u);return l.jsx(vw,{...n,ref:r,children:P.isValidElement(i)?P.cloneElement(i,void 0,c):null})}return l.jsx(vw,{...n,ref:r,children:e})});V9.displayName="Slot";var vw=P.forwardRef((t,r)=>{const{children:e,...n}=t;if(P.isValidElement(e)){const s=RU(e);return P.cloneElement(e,{...MU(n,e.props),ref:r?$9(r,s):s})}return P.Children.count(e)>1?P.Children.only(null):null});vw.displayName="SlotClone";var AU=({children:t})=>l.jsx(l.Fragment,{children:t});function PU(t){return P.isValidElement(t)&&t.type===AU}function MU(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{a(...c),s(...c)}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function RU(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var DU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],U9=DU.reduce((t,r)=>{const e=P.forwardRef((n,s)=>{const{asChild:a,...i}=n,c=a?V9:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:s})});return e.displayName=`Primitive.${r}`,{...t,[r]:e}},{});function IU(t,r){t&&dd.flushSync(()=>t.dispatchEvent(r))}function W9(t){const r=P.useRef(t);return P.useEffect(()=>{r.current=t}),P.useMemo(()=>(...e)=>r.current?.(...e),[])}function OU(t){const r=P.useRef(t);return P.useEffect(()=>{r.current=t}),P.useMemo(()=>(...e)=>r.current?.(...e),[])}function FU(t,r=globalThis?.document){const e=OU(t);P.useEffect(()=>{const n=s=>{s.key==="Escape"&&e(s)};return r.addEventListener("keydown",n,{capture:!0}),()=>r.removeEventListener("keydown",n,{capture:!0})},[e,r])}var LU="DismissableLayer",xw="dismissableLayer.update",BU="dismissableLayer.pointerDownOutside",$U="dismissableLayer.focusOutside",Ej,q9=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fd=P.forwardRef((t,r)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:c,...u}=t,o=P.useContext(q9),[d,p]=P.useState(null),f=d?.ownerDocument??globalThis?.document,[,h]=P.useState({}),g=z9(r,W=>p(W)),y=Array.from(o.layers),[m]=[...o.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(m),x=d?y.indexOf(d):-1,j=o.layersWithOutsidePointerEventsDisabled.size>0,T=x>=v,E=VU(W=>{const I=W.target,R=[...o.branches].some($=>$.contains(I));!T||R||(s?.(W),i?.(W),W.defaultPrevented||c?.())},f),B=UU(W=>{const I=W.target;[...o.branches].some($=>$.contains(I))||(a?.(W),i?.(W),W.defaultPrevented||c?.())},f);return FU(W=>{x===o.layers.size-1&&(n?.(W),!W.defaultPrevented&&c&&(W.preventDefault(),c()))},f),P.useEffect(()=>{if(d)return e&&(o.layersWithOutsidePointerEventsDisabled.size===0&&(Ej=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),o.layersWithOutsidePointerEventsDisabled.add(d)),o.layers.add(d),Aj(),()=>{e&&o.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Ej)}},[d,f,e,o]),P.useEffect(()=>()=>{d&&(o.layers.delete(d),o.layersWithOutsidePointerEventsDisabled.delete(d),Aj())},[d,o]),P.useEffect(()=>{const W=()=>h({});return document.addEventListener(xw,W),()=>document.removeEventListener(xw,W)},[]),l.jsx(U9.div,{...u,ref:g,style:{pointerEvents:j?T?"auto":"none":void 0,...t.style},onFocusCapture:zx(t.onFocusCapture,B.onFocusCapture),onBlurCapture:zx(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:zx(t.onPointerDownCapture,E.onPointerDownCapture)})});fd.displayName=LU;var zU="DismissableLayerBranch",H9=P.forwardRef((t,r)=>{const e=P.useContext(q9),n=P.useRef(null),s=z9(r,n);return P.useEffect(()=>{const a=n.current;if(a)return e.branches.add(a),()=>{e.branches.delete(a)}},[e.branches]),l.jsx(U9.div,{...t,ref:s})});H9.displayName=zU;function VU(t,r=globalThis?.document){const e=W9(t),n=P.useRef(!1),s=P.useRef(()=>{});return P.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let u=function(){K9(BU,e,o,{discrete:!0})};const o={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=u,r.addEventListener("click",s.current,{once:!0})):u()}else r.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{r.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),r.removeEventListener("pointerdown",a),r.removeEventListener("click",s.current)}},[r,e]),{onPointerDownCapture:()=>n.current=!0}}function UU(t,r=globalThis?.document){const e=W9(t),n=P.useRef(!1);return P.useEffect(()=>{const s=a=>{a.target&&!n.current&&K9($U,e,{originalEvent:a},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Aj(){const t=new CustomEvent(xw);document.dispatchEvent(t)}function K9(t,r,e,{discrete:n}){const s=e.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:e});r&&s.addEventListener(t,r,{once:!0}),n?IU(s,a):s.dispatchEvent(a)}var WU=fd,qU=H9;function HU(t,r){typeof t=="function"?t(r):t!=null&&(t.current=r)}function KU(...t){return r=>t.forEach(e=>HU(e,r))}var G9=P.forwardRef((t,r)=>{const{children:e,...n}=t,s=P.Children.toArray(e),a=s.find(XU);if(a){const i=a.props.children,c=s.map(u=>u===a?P.Children.count(i)>1?P.Children.only(null):P.isValidElement(i)?i.props.children:null:u);return l.jsx(ww,{...n,ref:r,children:P.isValidElement(i)?P.cloneElement(i,void 0,c):null})}return l.jsx(ww,{...n,ref:r,children:e})});G9.displayName="Slot";var ww=P.forwardRef((t,r)=>{const{children:e,...n}=t;if(P.isValidElement(e)){const s=YU(e);return P.cloneElement(e,{...QU(n,e.props),ref:r?KU(r,s):s})}return P.Children.count(e)>1?P.Children.only(null):null});ww.displayName="SlotClone";var GU=({children:t})=>l.jsx(l.Fragment,{children:t});function XU(t){return P.isValidElement(t)&&t.type===GU}function QU(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{a(...c),s(...c)}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function YU(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var ZU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],JU=ZU.reduce((t,r)=>{const e=P.forwardRef((n,s)=>{const{asChild:a,...i}=n,c=a?G9:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:s})});return e.displayName=`Primitive.${r}`,{...t,[r]:e}},{}),eW=globalThis?.document?P.useLayoutEffect:()=>{},tW="Portal",nh=P.forwardRef((t,r)=>{const{container:e,...n}=t,[s,a]=P.useState(!1);eW(()=>a(!0),[]);const i=e||s&&globalThis?.document?.body;return i?wU.createPortal(l.jsx(JU.div,{...n,ref:r}),i):null});nh.displayName=tW;var Ms=globalThis?.document?P.useLayoutEffect:()=>{};function rW(t,r){return P.useReducer((e,n)=>r[e][n]??e,t)}var ws=t=>{const{present:r,children:e}=t,n=nW(r),s=typeof e=="function"?e({present:n.isPresent}):P.Children.only(e),a=Cr(n.ref,sW(s));return typeof e=="function"||n.isPresent?P.cloneElement(s,{ref:a}):null};ws.displayName="Presence";function nW(t){const[r,e]=P.useState(),n=P.useRef(null),s=P.useRef(t),a=P.useRef("none"),i=t?"mounted":"unmounted",[c,u]=rW(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const o=ng(n.current);a.current=c==="mounted"?o:"none"},[c]),Ms(()=>{const o=n.current,d=s.current;if(d!==t){const f=a.current,h=ng(o);t?u("MOUNT"):h==="none"||o?.display==="none"?u("UNMOUNT"):u(d&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Ms(()=>{if(r){let o;const d=r.ownerDocument.defaultView??window,p=h=>{const y=ng(n.current).includes(CSS.escape(h.animationName));if(h.target===r&&y&&(u("ANIMATION_END"),!s.current)){const m=r.style.animationFillMode;r.style.animationFillMode="forwards",o=d.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=m)})}},f=h=>{h.target===r&&(a.current=ng(n.current))};return r.addEventListener("animationstart",f),r.addEventListener("animationcancel",p),r.addEventListener("animationend",p),()=>{d.clearTimeout(o),r.removeEventListener("animationstart",f),r.removeEventListener("animationcancel",p),r.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[r,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:P.useCallback(o=>{n.current=o?getComputedStyle(o):null,e(o)},[])}}function ng(t){return t?.animationName||"none"}function sW(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}function aW(t){const r=iW(t),e=P.forwardRef((n,s)=>{const{children:a,...i}=n,c=P.Children.toArray(a),u=c.find(lW);if(u){const o=u.props.children,d=c.map(p=>p===u?P.Children.count(o)>1?P.Children.only(null):P.isValidElement(o)?o.props.children:null:p);return l.jsx(r,{...i,ref:s,children:P.isValidElement(o)?P.cloneElement(o,void 0,d):null})}return l.jsx(r,{...i,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}function iW(t){const r=P.forwardRef((e,n)=>{const{children:s,...a}=e;if(P.isValidElement(s)){const i=uW(s),c=cW(a,s.props);return s.type!==P.Fragment&&(c.ref=n?tl(n,i):i),P.cloneElement(s,c)}return P.Children.count(s)>1?P.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var oW=Symbol("radix.slottable");function lW(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oW}function cW(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function uW(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var dW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ir=dW.reduce((t,r)=>{const e=aW(`Primitive.${r}`),n=P.forwardRef((s,a)=>{const{asChild:i,...c}=s,u=i?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...c,ref:a})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{});function X9(t,r){t&&dd.flushSync(()=>t.dispatchEvent(r))}function ca(t){const r=P.useRef(t);return P.useEffect(()=>{r.current=t}),P.useMemo(()=>(...e)=>r.current?.(...e),[])}var fW=Gy[" useInsertionEffect ".trim().toString()]||Ms;function go({prop:t,defaultProp:r,onChange:e=()=>{},caller:n}){const[s,a,i]=hW({defaultProp:r,onChange:e}),c=t!==void 0,u=c?t:s;{const d=P.useRef(t!==void 0);P.useEffect(()=>{const p=d.current;p!==c&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const o=P.useCallback(d=>{if(c){const p=pW(d)?d(t):d;p!==t&&i.current?.(p)}else a(d)},[c,t,a,i]);return[u,o]}function hW({defaultProp:t,onChange:r}){const[e,n]=P.useState(t),s=P.useRef(e),a=P.useRef(r);return fW(()=>{a.current=r},[r]),P.useEffect(()=>{s.current!==e&&(a.current?.(e),s.current=e)},[e,s]),[e,n,a]}function pW(t){return typeof t=="function"}var Q9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mW="VisuallyHidden",Yy=P.forwardRef((t,r)=>l.jsx(ir.span,{...t,ref:r,style:{...Q9,...t.style}}));Yy.displayName=mW;var gW=Yy,Y2="ToastProvider",[Z2,yW,bW]=Qy("Toast"),[Y9]=va("Toast",[bW]),[vW,Zy]=Y9(Y2),Z9=t=>{const{__scopeToast:r,label:e="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=t,[c,u]=P.useState(null),[o,d]=P.useState(0),p=P.useRef(!1),f=P.useRef(!1);return e.trim()||console.error(`Invalid prop \`label\` supplied to \`${Y2}\`. Expected non-empty \`string\`.`),l.jsx(Z2.Provider,{scope:r,children:l.jsx(vW,{scope:r,label:e,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:o,viewport:c,onViewportChange:u,onToastAdd:P.useCallback(()=>d(h=>h+1),[]),onToastRemove:P.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:i})})};Z9.displayName=Y2;var J9="ToastViewport",xW=["F8"],_w="toast.viewportPause",kw="toast.viewportResume",eA=P.forwardRef((t,r)=>{const{__scopeToast:e,hotkey:n=xW,label:s="Notifications ({hotkey})",...a}=t,i=Zy(J9,e),c=yW(e),u=P.useRef(null),o=P.useRef(null),d=P.useRef(null),p=P.useRef(null),f=Cr(r,p,i.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;P.useEffect(()=>{const m=v=>{n.length!==0&&n.every(j=>v[j]||v.code===j)&&p.current?.focus()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),P.useEffect(()=>{const m=u.current,v=p.current;if(g&&m&&v){const x=()=>{if(!i.isClosePausedRef.current){const B=new CustomEvent(_w);v.dispatchEvent(B),i.isClosePausedRef.current=!0}},j=()=>{if(i.isClosePausedRef.current){const B=new CustomEvent(kw);v.dispatchEvent(B),i.isClosePausedRef.current=!1}},T=B=>{!m.contains(B.relatedTarget)&&j()},E=()=>{m.contains(document.activeElement)||j()};return m.addEventListener("focusin",x),m.addEventListener("focusout",T),m.addEventListener("pointermove",x),m.addEventListener("pointerleave",E),window.addEventListener("blur",x),window.addEventListener("focus",j),()=>{m.removeEventListener("focusin",x),m.removeEventListener("focusout",T),m.removeEventListener("pointermove",x),m.removeEventListener("pointerleave",E),window.removeEventListener("blur",x),window.removeEventListener("focus",j)}}},[g,i.isClosePausedRef]);const y=P.useCallback(({tabbingDirection:m})=>{const x=c().map(j=>{const T=j.ref.current,E=[T,...RW(T)];return m==="forwards"?E:E.reverse()});return(m==="forwards"?x.reverse():x).flat()},[c]);return P.useEffect(()=>{const m=p.current;if(m){const v=x=>{const j=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!j){const E=document.activeElement,B=x.shiftKey;if(x.target===m&&B){o.current?.focus();return}const R=y({tabbingDirection:B?"backwards":"forwards"}),$=R.findIndex(K=>K===E);Vx(R.slice($+1))?x.preventDefault():B?o.current?.focus():d.current?.focus()}};return m.addEventListener("keydown",v),()=>m.removeEventListener("keydown",v)}},[c,y]),l.jsxs(qU,{ref:u,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx(jw,{ref:o,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"forwards"});Vx(m)}}),l.jsx(Z2.Slot,{scope:e,children:l.jsx(ir.ol,{tabIndex:-1,...a,ref:f})}),g&&l.jsx(jw,{ref:d,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"backwards"});Vx(m)}})]})});eA.displayName=J9;var tA="ToastFocusProxy",jw=P.forwardRef((t,r)=>{const{__scopeToast:e,onFocusFromOutsideViewport:n,...s}=t,a=Zy(tA,e);return l.jsx(Yy,{tabIndex:0,...s,ref:r,style:{position:"fixed"},onFocus:i=>{const c=i.relatedTarget;!a.viewport?.contains(c)&&n()}})});jw.displayName=tA;var km="Toast",wW="toast.swipeStart",_W="toast.swipeMove",kW="toast.swipeCancel",jW="toast.swipeEnd",rA=P.forwardRef((t,r)=>{const{forceMount:e,open:n,defaultOpen:s,onOpenChange:a,...i}=t,[c,u]=go({prop:n,defaultProp:s??!0,onChange:a,caller:km});return l.jsx(ws,{present:e||c,children:l.jsx(CW,{open:c,...i,ref:r,onClose:()=>u(!1),onPause:ca(t.onPause),onResume:ca(t.onResume),onSwipeStart:pt(t.onSwipeStart,o=>{o.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pt(t.onSwipeMove,o=>{const{x:d,y:p}=o.detail.delta;o.currentTarget.setAttribute("data-swipe","move"),o.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),o.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:pt(t.onSwipeCancel,o=>{o.currentTarget.setAttribute("data-swipe","cancel"),o.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),o.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),o.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),o.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pt(t.onSwipeEnd,o=>{const{x:d,y:p}=o.detail.delta;o.currentTarget.setAttribute("data-swipe","end"),o.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),o.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),o.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),o.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});rA.displayName=km;var[SW,NW]=Y9(km,{onClose(){}}),CW=P.forwardRef((t,r)=>{const{__scopeToast:e,type:n="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:c,onPause:u,onResume:o,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:h,...g}=t,y=Zy(km,e),[m,v]=P.useState(null),x=Cr(r,F=>v(F)),j=P.useRef(null),T=P.useRef(null),E=s||y.duration,B=P.useRef(0),W=P.useRef(E),I=P.useRef(0),{onToastAdd:R,onToastRemove:$}=y,K=ca(()=>{m?.contains(document.activeElement)&&y.viewport?.focus(),i()}),H=P.useCallback(F=>{!F||F===1/0||(window.clearTimeout(I.current),B.current=new Date().getTime(),I.current=window.setTimeout(K,F))},[K]);P.useEffect(()=>{const F=y.viewport;if(F){const C=()=>{H(W.current),o?.()},_=()=>{const S=new Date().getTime()-B.current;W.current=W.current-S,window.clearTimeout(I.current),u?.()};return F.addEventListener(_w,_),F.addEventListener(kw,C),()=>{F.removeEventListener(_w,_),F.removeEventListener(kw,C)}}},[y.viewport,E,u,o,H]),P.useEffect(()=>{a&&!y.isClosePausedRef.current&&H(E)},[a,E,y.isClosePausedRef,H]),P.useEffect(()=>(R(),()=>$()),[R,$]);const M=P.useMemo(()=>m?cA(m):null,[m]);return y.viewport?l.jsxs(l.Fragment,{children:[M&&l.jsx(TW,{__scopeToast:e,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:M}),l.jsx(SW,{scope:e,onClose:K,children:dd.createPortal(l.jsx(Z2.ItemSlot,{scope:e,children:l.jsx(WU,{asChild:!0,onEscapeKeyDown:pt(c,()=>{y.isFocusedToastEscapeKeyDownRef.current||K(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ir.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pt(t.onKeyDown,F=>{F.key==="Escape"&&(c?.(F.nativeEvent),F.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:pt(t.onPointerDown,F=>{F.button===0&&(j.current={x:F.clientX,y:F.clientY})}),onPointerMove:pt(t.onPointerMove,F=>{if(!j.current)return;const C=F.clientX-j.current.x,_=F.clientY-j.current.y,S=!!T.current,k=["left","right"].includes(y.swipeDirection),N=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,D=k?N(0,C):0,L=k?0:N(0,_),V=F.pointerType==="touch"?10:2,Q={x:D,y:L},Y={originalEvent:F,delta:Q};S?(T.current=Q,sg(_W,p,Y,{discrete:!1})):Pj(Q,y.swipeDirection,V)?(T.current=Q,sg(wW,d,Y,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(C)>V||Math.abs(_)>V)&&(j.current=null)}),onPointerUp:pt(t.onPointerUp,F=>{const C=T.current,_=F.target;if(_.hasPointerCapture(F.pointerId)&&_.releasePointerCapture(F.pointerId),T.current=null,j.current=null,C){const S=F.currentTarget,k={originalEvent:F,delta:C};Pj(C,y.swipeDirection,y.swipeThreshold)?sg(jW,h,k,{discrete:!0}):sg(kW,f,k,{discrete:!0}),S.addEventListener("click",N=>N.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),TW=t=>{const{__scopeToast:r,children:e,...n}=t,s=Zy(km,r),[a,i]=P.useState(!1),[c,u]=P.useState(!1);return PW(()=>i(!0)),P.useEffect(()=>{const o=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(o)},[]),c?null:l.jsx(nh,{asChild:!0,children:l.jsx(Yy,{...n,children:a&&l.jsxs(l.Fragment,{children:[s.label," ",e]})})})},EW="ToastTitle",nA=P.forwardRef((t,r)=>{const{__scopeToast:e,...n}=t;return l.jsx(ir.div,{...n,ref:r})});nA.displayName=EW;var AW="ToastDescription",sA=P.forwardRef((t,r)=>{const{__scopeToast:e,...n}=t;return l.jsx(ir.div,{...n,ref:r})});sA.displayName=AW;var aA="ToastAction",iA=P.forwardRef((t,r)=>{const{altText:e,...n}=t;return e.trim()?l.jsx(lA,{altText:e,asChild:!0,children:l.jsx(J2,{...n,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${aA}\`. Expected non-empty \`string\`.`),null)});iA.displayName=aA;var oA="ToastClose",J2=P.forwardRef((t,r)=>{const{__scopeToast:e,...n}=t,s=NW(oA,e);return l.jsx(lA,{asChild:!0,children:l.jsx(ir.button,{type:"button",...n,ref:r,onClick:pt(t.onClick,s.onClose)})})});J2.displayName=oA;var lA=P.forwardRef((t,r)=>{const{__scopeToast:e,altText:n,...s}=t;return l.jsx(ir.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:r})});function cA(t){const r=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&r.push(n.textContent),MW(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&r.push(i)}else r.push(...cA(n))}}),r}function sg(t,r,e,{discrete:n}){const s=e.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:e});r&&s.addEventListener(t,r,{once:!0}),n?X9(s,a):s.dispatchEvent(a)}var Pj=(t,r,e=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),a=n>s;return r==="left"||r==="right"?a&&n>e:!a&&s>e};function PW(t=()=>{}){const r=ca(t);Ms(()=>{let e=0,n=0;return e=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}},[r])}function MW(t){return t.nodeType===t.ELEMENT_NODE}function RW(t){const r=[],e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)r.push(e.currentNode);return r}function Vx(t){const r=document.activeElement;return t.some(e=>e===r?!0:(e.focus(),document.activeElement!==r))}var DW=Z9,uA=eA,dA=rA,fA=nA,hA=sA,pA=iA,mA=J2;function gA(t){var r,e,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(e=gA(t[r]))&&(n&&(n+=" "),n+=e)}else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function yA(){for(var t,r,e=0,n="",s=arguments.length;e<s;e++)(t=arguments[e])&&(r=gA(t))&&(n&&(n+=" "),n+=r);return n}const Mj=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Rj=yA,hd=(t,r)=>e=>{var n;if(r?.variants==null)return Rj(t,e?.class,e?.className);const{variants:s,defaultVariants:a}=r,i=Object.keys(s).map(o=>{const d=e?.[o],p=a?.[o];if(d===null)return null;const f=Mj(d)||Mj(p);return s[o][f]}),c=e&&Object.entries(e).reduce((o,d)=>{let[p,f]=d;return f===void 0||(o[p]=f),o},{}),u=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((o,d)=>{let{class:p,className:f,...h}=d;return Object.entries(h).every(g=>{let[y,m]=g;return Array.isArray(m)?m.includes({...a,...c}[y]):{...a,...c}[y]===m})?[...o,p,f]:o},[]);return Rj(t,i,u,e?.class,e?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bA=(...t)=>t.filter((r,e,n)=>!!r&&n.indexOf(r)===e).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=P.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...c},u)=>P.createElement("svg",{ref:u,...OW,width:r,height:r,stroke:t,strokeWidth:n?Number(e)*24/Number(r):e,className:bA("lucide",s),...c},[...i.map(([o,d])=>P.createElement(o,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,r)=>{const e=P.forwardRef(({className:n,...s},a)=>P.createElement(FW,{ref:a,iconNode:r,className:bA(`lucide-${IW(t)}`,n),...s}));return e.displayName=`${t}`,e};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=Ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=Ge("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=Ge("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=Ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=Ge("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=Ge("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=Ge("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=Ge("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=Ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=Ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=Ge("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ge("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Ge("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=Ge("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=Ge("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=Ge("ChartGantt",[["path",{d:"M10 6h8",key:"zvc2xc"}],["path",{d:"M12 16h6",key:"yi5mkt"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 11h7",key:"wz2hg0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Ge("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Ge("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=Ge("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Ge("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Ge("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Ge("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=Ge("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=Ge("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=Ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=Ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=Ge("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=Ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=Ge("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=Ge("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=Ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=Ge("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=Ge("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=Ge("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Ge("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=Ge("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=Ge("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=Ge("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=Ge("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Ge("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=Ge("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=Ge("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=Ge("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=Ge("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Ge("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=Ge("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=Ge("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=Ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=Ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=Ge("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=Ge("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=Ge("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=Ge("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=Ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Ge("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=Ge("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=Ge("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Ge("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=Ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=Ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=Ge("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Ge("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=Ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Ge("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=Ge("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Ge("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=Ge("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=Ge("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=Ge("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=Ge("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Ge("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=Ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=Ge("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=Ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=Ge("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=Ge("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Ge("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Ge("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=Ge("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=Ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=Ge("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=Ge("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Ge("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Ge("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Ge("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),o_="-",_q=t=>{const r=jq(t),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const c=i.split(o_);return c[0]===""&&c.length!==1&&c.shift(),MA(c,r)||kq(i)},getConflictingClassGroupIds:(i,c)=>{const u=e[i]||[];return c&&n[i]?[...u,...n[i]]:u}}},MA=(t,r)=>{if(t.length===0)return r.classGroupId;const e=t[0],n=r.nextPart.get(e),s=n?MA(t.slice(1),n):void 0;if(s)return s;if(r.validators.length===0)return;const a=t.join(o_);return r.validators.find(({validator:i})=>i(a))?.classGroupId},zj=/^\[(.+)\]$/,kq=t=>{if(zj.test(t)){const r=zj.exec(t)[1],e=r?.substring(0,r.indexOf(":"));if(e)return"arbitrary.."+e}},jq=t=>{const{theme:r,prefix:e}=t,n={nextPart:new Map,validators:[]};return Nq(Object.entries(t.classGroups),e).forEach(([a,i])=>{Tw(i,n,a,r)}),n},Tw=(t,r,e,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?r:Vj(r,s);a.classGroupId=e;return}if(typeof s=="function"){if(Sq(s)){Tw(s(n),r,e,n);return}r.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([a,i])=>{Tw(i,Vj(r,a),e,n)})})},Vj=(t,r)=>{let e=t;return r.split(o_).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},Sq=t=>t.isThemeGetter,Nq=(t,r)=>r?t.map(([e,n])=>{const s=n.map(a=>typeof a=="string"?r+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,c])=>[r+i,c])):a);return[e,s]}):t,Cq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,e=new Map,n=new Map;const s=(a,i)=>{e.set(a,i),r++,r>t&&(r=0,n=e,e=new Map)};return{get(a){let i=e.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){e.has(a)?e.set(a,i):s(a,i)}}},RA="!",Tq=t=>{const{separator:r,experimentalParseClassName:e}=t,n=r.length===1,s=r[0],a=r.length,i=c=>{const u=[];let o=0,d=0,p;for(let m=0;m<c.length;m++){let v=c[m];if(o===0){if(v===s&&(n||c.slice(m,m+a)===r)){u.push(c.slice(d,m)),d=m+a;continue}if(v==="/"){p=m;continue}}v==="["?o++:v==="]"&&o--}const f=u.length===0?c:c.substring(d),h=f.startsWith(RA),g=h?f.substring(1):f,y=p&&p>d?p-d:void 0;return{modifiers:u,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:y}};return e?c=>e({className:c,parseClassName:i}):i},Eq=t=>{if(t.length<=1)return t;const r=[];let e=[];return t.forEach(n=>{n[0]==="["?(r.push(...e.sort(),n),e=[]):e.push(n)}),r.push(...e.sort()),r},Aq=t=>({cache:Cq(t.cacheSize),parseClassName:Tq(t),..._q(t)}),Pq=/\s+/,Mq=(t,r)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:s}=r,a=[],i=t.trim().split(Pq);let c="";for(let u=i.length-1;u>=0;u-=1){const o=i[u],{modifiers:d,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:h}=e(o);let g=!!h,y=n(g?f.substring(0,h):f);if(!y){if(!g){c=o+(c.length>0?" "+c:c);continue}if(y=n(f),!y){c=o+(c.length>0?" "+c:c);continue}g=!1}const m=Eq(d).join(":"),v=p?m+RA:m,x=v+y;if(a.includes(x))continue;a.push(x);const j=s(y,g);for(let T=0;T<j.length;++T){const E=j[T];a.push(v+E)}c=o+(c.length>0?" "+c:c)}return c};function Rq(){let t=0,r,e,n="";for(;t<arguments.length;)(r=arguments[t++])&&(e=DA(r))&&(n&&(n+=" "),n+=e);return n}const DA=t=>{if(typeof t=="string")return t;let r,e="";for(let n=0;n<t.length;n++)t[n]&&(r=DA(t[n]))&&(e&&(e+=" "),e+=r);return e};function Dq(t,...r){let e,n,s,a=i;function i(u){const o=r.reduce((d,p)=>p(d),t());return e=Aq(o),n=e.cache.get,s=e.cache.set,a=c,c(u)}function c(u){const o=n(u);if(o)return o;const d=Mq(u,e);return s(u,d),d}return function(){return a(Rq.apply(null,arguments))}}const En=t=>{const r=e=>e[t]||[];return r.isThemeGetter=!0,r},IA=/^\[(?:([a-z-]+):)?(.+)\]$/i,Iq=/^\d+\/\d+$/,Oq=new Set(["px","full","screen"]),Fq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$q=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ml=t=>pf(t)||Oq.has(t)||Iq.test(t),uc=t=>sh(t,"length",Xq),pf=t=>!!t&&!Number.isNaN(Number(t)),Wx=t=>sh(t,"number",pf),Qh=t=>!!t&&Number.isInteger(Number(t)),Vq=t=>t.endsWith("%")&&pf(t.slice(0,-1)),Dr=t=>IA.test(t),dc=t=>Fq.test(t),Uq=new Set(["length","size","percentage"]),Wq=t=>sh(t,Uq,OA),qq=t=>sh(t,"position",OA),Hq=new Set(["image","url"]),Kq=t=>sh(t,Hq,Yq),Gq=t=>sh(t,"",Qq),Yh=()=>!0,sh=(t,r,e)=>{const n=IA.exec(t);return n?n[1]?typeof r=="string"?n[1]===r:r.has(n[1]):e(n[2]):!1},Xq=t=>Lq.test(t)&&!Bq.test(t),OA=()=>!1,Qq=t=>$q.test(t),Yq=t=>zq.test(t),Zq=()=>{const t=En("colors"),r=En("spacing"),e=En("blur"),n=En("brightness"),s=En("borderColor"),a=En("borderRadius"),i=En("borderSpacing"),c=En("borderWidth"),u=En("contrast"),o=En("grayscale"),d=En("hueRotate"),p=En("invert"),f=En("gap"),h=En("gradientColorStops"),g=En("gradientColorStopPositions"),y=En("inset"),m=En("margin"),v=En("opacity"),x=En("padding"),j=En("saturate"),T=En("scale"),E=En("sepia"),B=En("skew"),W=En("space"),I=En("translate"),R=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",Dr,r],H=()=>[Dr,r],M=()=>["",ml,uc],F=()=>["auto",pf,Dr],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],S=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",Dr],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[pf,Dr];return{cacheSize:500,separator:":",theme:{colors:[Yh],spacing:[ml,uc],blur:["none","",dc,Dr],brightness:L(),borderColor:[t],borderRadius:["none","","full",dc,Dr],borderSpacing:H(),borderWidth:M(),contrast:L(),grayscale:N(),hueRotate:L(),invert:N(),gap:H(),gradientColorStops:[t],gradientColorStopPositions:[Vq,uc],inset:K(),margin:K(),opacity:L(),padding:H(),saturate:L(),scale:L(),sepia:N(),skew:L(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",Dr]}],container:["container"],columns:[{columns:[dc]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),Dr]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qh,Dr]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Dr]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",Qh,Dr]}],"grid-cols":[{"grid-cols":[Yh]}],"col-start-end":[{col:["auto",{span:["full",Qh,Dr]},Dr]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Yh]}],"row-start-end":[{row:["auto",{span:[Qh,Dr]},Dr]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Dr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Dr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Dr,r]}],"min-w":[{"min-w":[Dr,r,"min","max","fit"]}],"max-w":[{"max-w":[Dr,r,"none","full","min","max","fit","prose",{screen:[dc]},dc]}],h:[{h:[Dr,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Dr,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Dr,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Dr,r,"auto","min","max","fit"]}],"font-size":[{text:["base",dc,uc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wx]}],"font-family":[{font:[Yh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Dr]}],"line-clamp":[{"line-clamp":["none",pf,Wx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ml,Dr]}],"list-image":[{"list-image":["none",Dr]}],"list-style-type":[{list:["none","disc","decimal",Dr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ml,uc]}],"underline-offset":[{"underline-offset":["auto",ml,Dr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Dr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Dr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),qq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Kq]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:_()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[ml,Dr]}],"outline-w":[{outline:[ml,uc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ml,uc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",dc,Gq]}],"shadow-color":[{shadow:[Yh]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...S(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":S()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",dc,Dr]}],grayscale:[{grayscale:[o]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[j]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[o]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Dr]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Dr]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Dr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Qh,Dr]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Dr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Dr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Dr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ml,uc,Wx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Jq=Dq(Zq);function Pe(...t){return Jq(yA(t))}const Ye=t=>{if(t==null)return"0 .";let r;if(typeof t=="string"){if(t.match(/^(\d{1,3})\1{2,}$/))return"0 .";const e=t.replace(/[^\d.-]/g,"");r=parseFloat(e)}else r=t;return isNaN(r)||!isFinite(r)?"0 .":Math.abs(r)>1e11?(console.warn("    :",r),"0 ."):`${r.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})} .`},bn=t=>{if(t==null)return 0;if(typeof t=="number")return isNaN(t)||!isFinite(t)||Math.abs(t)>1e11?0:t;if(typeof t=="string"){if(t.match(/^(\d{1,3})\1{2,}$/)||t.match(/^(\d)\1{5,}$/))return 0;const r=t.replace(/[^\d.-]/g,""),e=parseFloat(r);return isNaN(e)||!isFinite(e)||Math.abs(e)>1e11?0:e}return 0},io=t=>{const r=typeof t=="string"?new Date(t):t;return isNaN(r.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}).format(r).replace(/[-]/g,n=>"0123456789"["".indexOf(n)])},Uj=t=>{const r=typeof t=="string"?new Date(t):t;if(isNaN(r.getTime()))return"";const e=r.getFullYear(),n=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${e}-${n}-${s}`};function qs(){return new Date().toISOString().split("T")[0]}const eH=DW,FA=P.forwardRef(({className:t,...r},e)=>l.jsx(uA,{ref:e,className:Pe("fixed top-4 left-4 z-[9999] flex max-h-screen w-full max-w-md flex-col gap-3 p-4 sm:max-w-[420px]",t),...r}));FA.displayName=uA.displayName;const tH=hd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-2xl border p-4 pr-8 shadow-2xl transition-all duration-300 ease-out data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-right-full data-[state=open]:slide-in-from-top-8 backdrop-blur-md hover:scale-[1.02] hover:shadow-3xl",{variants:{variant:{default:"border-border bg-card dark:bg-slate-900 text-foreground shadow-lg",destructive:"destructive group border-destructive/50 bg-destructive/10 dark:bg-destructive/20 text-destructive shadow-lg backdrop-blur-xl",success:"border-green-500/50 bg-green-500/10 dark:bg-green-500/20 text-green-600 dark:text-green-400 shadow-lg",warning:"border-yellow-500/50 bg-yellow-500/10 dark:bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 shadow-lg"}},defaultVariants:{variant:"default"}}),LA=P.forwardRef(({className:t,variant:r,...e},n)=>l.jsx(dA,{ref:n,className:Pe(tH({variant:r}),t),...e}));LA.displayName=dA.displayName;const rH=P.forwardRef(({className:t,...r},e)=>l.jsx(pA,{ref:e,className:Pe("inline-flex h-8 shrink-0 items-center justify-center rounded-xl border bg-transparent px-3 text-sm font-medium ring-offset-background transition-all duration-200 hover:bg-secondary hover:scale-105 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-red-300/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400",t),...r}));rH.displayName=pA.displayName;const BA=P.forwardRef(({className:t,...r},e)=>l.jsx(mA,{ref:e,className:Pe("absolute right-2 top-2 rounded-xl p-1.5 text-foreground/50 opacity-0 transition-all duration-200 hover:text-foreground hover:bg-gray-100/80 hover:scale-110 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:hover:bg-red-500/20 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...r,children:l.jsx(Es,{className:"h-4 w-4 transition-transform duration-200 hover:rotate-90"})}));BA.displayName=mA.displayName;const $A=P.forwardRef(({className:t,...r},e)=>l.jsx(fA,{ref:e,className:Pe("text-sm font-bold tracking-wide",t),...r}));$A.displayName=fA.displayName;const zA=P.forwardRef(({className:t,...r},e)=>l.jsx(hA,{ref:e,className:Pe("text-sm opacity-90 leading-relaxed",t),...r}));zA.displayName=hA.displayName;function nH(){const{toasts:t}=wn();return l.jsxs(eH,{children:[t.map(function({id:r,title:e,description:n,action:s,...a}){return l.jsxs(LA,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[e&&l.jsx($A,{children:e}),n&&l.jsx(zA,{children:n})]}),s,l.jsx(BA,{})]},r)}),l.jsx(FA,{})]})}var sH=Gy[" useId ".trim().toString()]||(()=>{}),aH=0;function $i(t){const[r,e]=P.useState(sH());return Ms(()=>{e(n=>n??String(aH++))},[t]),r?`radix-${r}`:""}const iH=["top","right","bottom","left"],zc=Math.min,oi=Math.max,sy=Math.round,ag=Math.floor,Uo=t=>({x:t,y:t}),oH={left:"right",right:"left",bottom:"top",top:"bottom"},lH={start:"end",end:"start"};function Ew(t,r,e){return oi(t,zc(r,e))}function zl(t,r){return typeof t=="function"?t(r):t}function Vl(t){return t.split("-")[0]}function ah(t){return t.split("-")[1]}function l_(t){return t==="x"?"y":"x"}function c_(t){return t==="y"?"height":"width"}const cH=new Set(["top","bottom"]);function $o(t){return cH.has(Vl(t))?"y":"x"}function u_(t){return l_($o(t))}function uH(t,r,e){e===void 0&&(e=!1);const n=ah(t),s=u_(t),a=c_(s);let i=s==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return r.reference[a]>r.floating[a]&&(i=ay(i)),[i,ay(i)]}function dH(t){const r=ay(t);return[Aw(t),r,Aw(r)]}function Aw(t){return t.replace(/start|end/g,r=>lH[r])}const Wj=["left","right"],qj=["right","left"],fH=["top","bottom"],hH=["bottom","top"];function pH(t,r,e){switch(t){case"top":case"bottom":return e?r?qj:Wj:r?Wj:qj;case"left":case"right":return r?fH:hH;default:return[]}}function mH(t,r,e,n){const s=ah(t);let a=pH(Vl(t),e==="start",n);return s&&(a=a.map(i=>i+"-"+s),r&&(a=a.concat(a.map(Aw)))),a}function ay(t){return t.replace(/left|right|bottom|top/g,r=>oH[r])}function gH(t){return{top:0,right:0,bottom:0,left:0,...t}}function VA(t){return typeof t!="number"?gH(t):{top:t,right:t,bottom:t,left:t}}function iy(t){const{x:r,y:e,width:n,height:s}=t;return{width:n,height:s,top:e,left:r,right:r+n,bottom:e+s,x:r,y:e}}function Hj(t,r,e){let{reference:n,floating:s}=t;const a=$o(r),i=u_(r),c=c_(i),u=Vl(r),o=a==="y",d=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,f=n[c]/2-s[c]/2;let h;switch(u){case"top":h={x:d,y:n.y-s.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:p};break;case"left":h={x:n.x-s.width,y:p};break;default:h={x:n.x,y:n.y}}switch(ah(r)){case"start":h[i]-=f*(e&&o?-1:1);break;case"end":h[i]+=f*(e&&o?-1:1);break}return h}const yH=async(t,r,e)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=e,c=a.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(r));let o=await i.getElementRects({reference:t,floating:r,strategy:s}),{x:d,y:p}=Hj(o,n,u),f=n,h={},g=0;for(let y=0;y<c.length;y++){const{name:m,fn:v}=c[y],{x,y:j,data:T,reset:E}=await v({x:d,y:p,initialPlacement:n,placement:f,strategy:s,middlewareData:h,rects:o,platform:i,elements:{reference:t,floating:r}});d=x??d,p=j??p,h={...h,[m]:{...h[m],...T}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(o=E.rects===!0?await i.getElementRects({reference:t,floating:r,strategy:s}):E.rects),{x:d,y:p}=Hj(o,f,u)),y=-1)}return{x:d,y:p,placement:f,strategy:s,middlewareData:h}};async function Dp(t,r){var e;r===void 0&&(r={});const{x:n,y:s,platform:a,rects:i,elements:c,strategy:u}=t,{boundary:o="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:h=0}=zl(r,t),g=VA(h),m=c[f?p==="floating"?"reference":"floating":p],v=iy(await a.getClippingRect({element:(e=await(a.isElement==null?void 0:a.isElement(m)))==null||e?m:m.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:o,rootBoundary:d,strategy:u})),x=p==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),T=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},E=iy(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:j,strategy:u}):x);return{top:(v.top-E.top+g.top)/T.y,bottom:(E.bottom-v.bottom+g.bottom)/T.y,left:(v.left-E.left+g.left)/T.x,right:(E.right-v.right+g.right)/T.x}}const bH=t=>({name:"arrow",options:t,async fn(r){const{x:e,y:n,placement:s,rects:a,platform:i,elements:c,middlewareData:u}=r,{element:o,padding:d=0}=zl(t,r)||{};if(o==null)return{};const p=VA(d),f={x:e,y:n},h=u_(s),g=c_(h),y=await i.getDimensions(o),m=h==="y",v=m?"top":"left",x=m?"bottom":"right",j=m?"clientHeight":"clientWidth",T=a.reference[g]+a.reference[h]-f[h]-a.floating[g],E=f[h]-a.reference[h],B=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o));let W=B?B[j]:0;(!W||!await(i.isElement==null?void 0:i.isElement(B)))&&(W=c.floating[j]||a.floating[g]);const I=T/2-E/2,R=W/2-y[g]/2-1,$=zc(p[v],R),K=zc(p[x],R),H=$,M=W-y[g]-K,F=W/2-y[g]/2+I,C=Ew(H,F,M),_=!u.arrow&&ah(s)!=null&&F!==C&&a.reference[g]/2-(F<H?$:K)-y[g]/2<0,S=_?F<H?F-H:F-M:0;return{[h]:f[h]+S,data:{[h]:C,centerOffset:F-C-S,..._&&{alignmentOffset:S}},reset:_}}}),vH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var e,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:c,platform:u,elements:o}=r,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...m}=zl(t,r);if((e=a.arrow)!=null&&e.alignmentOffset)return{};const v=Vl(s),x=$o(c),j=Vl(c)===c,T=await(u.isRTL==null?void 0:u.isRTL(o.floating)),E=f||(j||!y?[ay(c)]:dH(c)),B=g!=="none";!f&&B&&E.push(...mH(c,y,g,T));const W=[c,...E],I=await Dp(r,m),R=[];let $=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&R.push(I[v]),p){const F=uH(s,i,T);R.push(I[F[0]],I[F[1]])}if($=[...$,{placement:s,overflows:R}],!R.every(F=>F<=0)){var K,H;const F=(((K=a.flip)==null?void 0:K.index)||0)+1,C=W[F];if(C&&(!(p==="alignment"?x!==$o(C):!1)||$.every(k=>$o(k.placement)===x?k.overflows[0]>0:!0)))return{data:{index:F,overflows:$},reset:{placement:C}};let _=(H=$.filter(S=>S.overflows[0]<=0).sort((S,k)=>S.overflows[1]-k.overflows[1])[0])==null?void 0:H.placement;if(!_)switch(h){case"bestFit":{var M;const S=(M=$.filter(k=>{if(B){const N=$o(k.placement);return N===x||N==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(N=>N>0).reduce((N,D)=>N+D,0)]).sort((k,N)=>k[1]-N[1])[0])==null?void 0:M[0];S&&(_=S);break}case"initialPlacement":_=c;break}if(s!==_)return{reset:{placement:_}}}return{}}}};function Kj(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function Gj(t){return iH.some(r=>t[r]>=0)}const xH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:e}=r,{strategy:n="referenceHidden",...s}=zl(t,r);switch(n){case"referenceHidden":{const a=await Dp(r,{...s,elementContext:"reference"}),i=Kj(a,e.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Gj(i)}}}case"escaped":{const a=await Dp(r,{...s,altBoundary:!0}),i=Kj(a,e.floating);return{data:{escapedOffsets:i,escaped:Gj(i)}}}default:return{}}}}},UA=new Set(["left","top"]);async function wH(t,r){const{placement:e,platform:n,elements:s}=t,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Vl(e),c=ah(e),u=$o(e)==="y",o=UA.has(i)?-1:1,d=a&&u?-1:1,p=zl(r,t);let{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof g=="number"&&(h=c==="end"?g*-1:g),u?{x:h*d,y:f*o}:{x:f*o,y:h*d}}const _H=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var e,n;const{x:s,y:a,placement:i,middlewareData:c}=r,u=await wH(r,t);return i===((e=c.offset)==null?void 0:e.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:a+u.y,data:{...u,placement:i}}}}},kH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:e,y:n,placement:s}=r,{mainAxis:a=!0,crossAxis:i=!1,limiter:c={fn:m=>{let{x:v,y:x}=m;return{x:v,y:x}}},...u}=zl(t,r),o={x:e,y:n},d=await Dp(r,u),p=$o(Vl(s)),f=l_(p);let h=o[f],g=o[p];if(a){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=h+d[m],j=h-d[v];h=Ew(x,h,j)}if(i){const m=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=g+d[m],j=g-d[v];g=Ew(x,g,j)}const y=c.fn({...r,[f]:h,[p]:g});return{...y,data:{x:y.x-e,y:y.y-n,enabled:{[f]:a,[p]:i}}}}}},jH=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:e,y:n,placement:s,rects:a,middlewareData:i}=r,{offset:c=0,mainAxis:u=!0,crossAxis:o=!0}=zl(t,r),d={x:e,y:n},p=$o(s),f=l_(p);let h=d[f],g=d[p];const y=zl(c,r),m=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const j=f==="y"?"height":"width",T=a.reference[f]-a.floating[j]+m.mainAxis,E=a.reference[f]+a.reference[j]-m.mainAxis;h<T?h=T:h>E&&(h=E)}if(o){var v,x;const j=f==="y"?"width":"height",T=UA.has(Vl(s)),E=a.reference[p]-a.floating[j]+(T&&((v=i.offset)==null?void 0:v[p])||0)+(T?0:m.crossAxis),B=a.reference[p]+a.reference[j]+(T?0:((x=i.offset)==null?void 0:x[p])||0)-(T?m.crossAxis:0);g<E?g=E:g>B&&(g=B)}return{[f]:h,[p]:g}}}},SH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var e,n;const{placement:s,rects:a,platform:i,elements:c}=r,{apply:u=()=>{},...o}=zl(t,r),d=await Dp(r,o),p=Vl(s),f=ah(s),h=$o(s)==="y",{width:g,height:y}=a.floating;let m,v;p==="top"||p==="bottom"?(m=p,v=f===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(v=p,m=f==="end"?"top":"bottom");const x=y-d.top-d.bottom,j=g-d.left-d.right,T=zc(y-d[m],x),E=zc(g-d[v],j),B=!r.middlewareData.shift;let W=T,I=E;if((e=r.middlewareData.shift)!=null&&e.enabled.x&&(I=j),(n=r.middlewareData.shift)!=null&&n.enabled.y&&(W=x),B&&!f){const $=oi(d.left,0),K=oi(d.right,0),H=oi(d.top,0),M=oi(d.bottom,0);h?I=g-2*($!==0||K!==0?$+K:oi(d.left,d.right)):W=y-2*(H!==0||M!==0?H+M:oi(d.top,d.bottom))}await u({...r,availableWidth:I,availableHeight:W});const R=await i.getDimensions(c.floating);return g!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function rb(){return typeof window<"u"}function ih(t){return WA(t)?(t.nodeName||"").toLowerCase():"#document"}function di(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function rl(t){var r;return(r=(WA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function WA(t){return rb()?t instanceof Node||t instanceof di(t).Node:!1}function yo(t){return rb()?t instanceof Element||t instanceof di(t).Element:!1}function Yo(t){return rb()?t instanceof HTMLElement||t instanceof di(t).HTMLElement:!1}function Xj(t){return!rb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof di(t).ShadowRoot}const NH=new Set(["inline","contents"]);function Cm(t){const{overflow:r,overflowX:e,overflowY:n,display:s}=bo(t);return/auto|scroll|overlay|hidden|clip/.test(r+n+e)&&!NH.has(s)}const CH=new Set(["table","td","th"]);function TH(t){return CH.has(ih(t))}const EH=[":popover-open",":modal"];function nb(t){return EH.some(r=>{try{return t.matches(r)}catch{return!1}})}const AH=["transform","translate","scale","rotate","perspective"],PH=["transform","translate","scale","rotate","perspective","filter"],MH=["paint","layout","strict","content"];function d_(t){const r=f_(),e=yo(t)?bo(t):t;return AH.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!r&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!r&&(e.filter?e.filter!=="none":!1)||PH.some(n=>(e.willChange||"").includes(n))||MH.some(n=>(e.contain||"").includes(n))}function RH(t){let r=Vc(t);for(;Yo(r)&&!Lf(r);){if(d_(r))return r;if(nb(r))return null;r=Vc(r)}return null}function f_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DH=new Set(["html","body","#document"]);function Lf(t){return DH.has(ih(t))}function bo(t){return di(t).getComputedStyle(t)}function sb(t){return yo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vc(t){if(ih(t)==="html")return t;const r=t.assignedSlot||t.parentNode||Xj(t)&&t.host||rl(t);return Xj(r)?r.host:r}function qA(t){const r=Vc(t);return Lf(r)?t.ownerDocument?t.ownerDocument.body:t.body:Yo(r)&&Cm(r)?r:qA(r)}function Ip(t,r,e){var n;r===void 0&&(r=[]),e===void 0&&(e=!0);const s=qA(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),i=di(s);if(a){const c=Pw(i);return r.concat(i,i.visualViewport||[],Cm(s)?s:[],c&&e?Ip(c):[])}return r.concat(s,Ip(s,[],e))}function Pw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function HA(t){const r=bo(t);let e=parseFloat(r.width)||0,n=parseFloat(r.height)||0;const s=Yo(t),a=s?t.offsetWidth:e,i=s?t.offsetHeight:n,c=sy(e)!==a||sy(n)!==i;return c&&(e=a,n=i),{width:e,height:n,$:c}}function h_(t){return yo(t)?t:t.contextElement}function mf(t){const r=h_(t);if(!Yo(r))return Uo(1);const e=r.getBoundingClientRect(),{width:n,height:s,$:a}=HA(r);let i=(a?sy(e.width):e.width)/n,c=(a?sy(e.height):e.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const IH=Uo(0);function KA(t){const r=di(t);return!f_()||!r.visualViewport?IH:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function OH(t,r,e){return r===void 0&&(r=!1),!e||r&&e!==di(t)?!1:r}function Ju(t,r,e,n){r===void 0&&(r=!1),e===void 0&&(e=!1);const s=t.getBoundingClientRect(),a=h_(t);let i=Uo(1);r&&(n?yo(n)&&(i=mf(n)):i=mf(t));const c=OH(a,e,n)?KA(a):Uo(0);let u=(s.left+c.x)/i.x,o=(s.top+c.y)/i.y,d=s.width/i.x,p=s.height/i.y;if(a){const f=di(a),h=n&&yo(n)?di(n):n;let g=f,y=Pw(g);for(;y&&n&&h!==g;){const m=mf(y),v=y.getBoundingClientRect(),x=bo(y),j=v.left+(y.clientLeft+parseFloat(x.paddingLeft))*m.x,T=v.top+(y.clientTop+parseFloat(x.paddingTop))*m.y;u*=m.x,o*=m.y,d*=m.x,p*=m.y,u+=j,o+=T,g=di(y),y=Pw(g)}}return iy({width:d,height:p,x:u,y:o})}function ab(t,r){const e=sb(t).scrollLeft;return r?r.left+e:Ju(rl(t)).left+e}function GA(t,r){const e=t.getBoundingClientRect(),n=e.left+r.scrollLeft-ab(t,e),s=e.top+r.scrollTop;return{x:n,y:s}}function FH(t){let{elements:r,rect:e,offsetParent:n,strategy:s}=t;const a=s==="fixed",i=rl(n),c=r?nb(r.floating):!1;if(n===i||c&&a)return e;let u={scrollLeft:0,scrollTop:0},o=Uo(1);const d=Uo(0),p=Yo(n);if((p||!p&&!a)&&((ih(n)!=="body"||Cm(i))&&(u=sb(n)),Yo(n))){const h=Ju(n);o=mf(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const f=i&&!p&&!a?GA(i,u):Uo(0);return{width:e.width*o.x,height:e.height*o.y,x:e.x*o.x-u.scrollLeft*o.x+d.x+f.x,y:e.y*o.y-u.scrollTop*o.y+d.y+f.y}}function LH(t){return Array.from(t.getClientRects())}function BH(t){const r=rl(t),e=sb(t),n=t.ownerDocument.body,s=oi(r.scrollWidth,r.clientWidth,n.scrollWidth,n.clientWidth),a=oi(r.scrollHeight,r.clientHeight,n.scrollHeight,n.clientHeight);let i=-e.scrollLeft+ab(t);const c=-e.scrollTop;return bo(n).direction==="rtl"&&(i+=oi(r.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:c}}const Qj=25;function $H(t,r){const e=di(t),n=rl(t),s=e.visualViewport;let a=n.clientWidth,i=n.clientHeight,c=0,u=0;if(s){a=s.width,i=s.height;const d=f_();(!d||d&&r==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}const o=ab(n);if(o<=0){const d=n.ownerDocument,p=d.body,f=getComputedStyle(p),h=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(n.clientWidth-p.clientWidth-h);g<=Qj&&(a-=g)}else o<=Qj&&(a+=o);return{width:a,height:i,x:c,y:u}}const zH=new Set(["absolute","fixed"]);function VH(t,r){const e=Ju(t,!0,r==="fixed"),n=e.top+t.clientTop,s=e.left+t.clientLeft,a=Yo(t)?mf(t):Uo(1),i=t.clientWidth*a.x,c=t.clientHeight*a.y,u=s*a.x,o=n*a.y;return{width:i,height:c,x:u,y:o}}function Yj(t,r,e){let n;if(r==="viewport")n=$H(t,e);else if(r==="document")n=BH(rl(t));else if(yo(r))n=VH(r,e);else{const s=KA(t);n={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return iy(n)}function XA(t,r){const e=Vc(t);return e===r||!yo(e)||Lf(e)?!1:bo(e).position==="fixed"||XA(e,r)}function UH(t,r){const e=r.get(t);if(e)return e;let n=Ip(t,[],!1).filter(c=>yo(c)&&ih(c)!=="body"),s=null;const a=bo(t).position==="fixed";let i=a?Vc(t):t;for(;yo(i)&&!Lf(i);){const c=bo(i),u=d_(i);!u&&c.position==="fixed"&&(s=null),(a?!u&&!s:!u&&c.position==="static"&&!!s&&zH.has(s.position)||Cm(i)&&!u&&XA(t,i))?n=n.filter(d=>d!==i):s=c,i=Vc(i)}return r.set(t,n),n}function WH(t){let{element:r,boundary:e,rootBoundary:n,strategy:s}=t;const i=[...e==="clippingAncestors"?nb(r)?[]:UH(r,this._c):[].concat(e),n],c=i[0],u=i.reduce((o,d)=>{const p=Yj(r,d,s);return o.top=oi(p.top,o.top),o.right=zc(p.right,o.right),o.bottom=zc(p.bottom,o.bottom),o.left=oi(p.left,o.left),o},Yj(r,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function qH(t){const{width:r,height:e}=HA(t);return{width:r,height:e}}function HH(t,r,e){const n=Yo(r),s=rl(r),a=e==="fixed",i=Ju(t,!0,a,r);let c={scrollLeft:0,scrollTop:0};const u=Uo(0);function o(){u.x=ab(s)}if(n||!n&&!a)if((ih(r)!=="body"||Cm(s))&&(c=sb(r)),n){const h=Ju(r,!0,a,r);u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}else s&&o();a&&!n&&s&&o();const d=s&&!n&&!a?GA(s,c):Uo(0),p=i.left+c.scrollLeft-u.x-d.x,f=i.top+c.scrollTop-u.y-d.y;return{x:p,y:f,width:i.width,height:i.height}}function qx(t){return bo(t).position==="static"}function Zj(t,r){if(!Yo(t)||bo(t).position==="fixed")return null;if(r)return r(t);let e=t.offsetParent;return rl(t)===e&&(e=e.ownerDocument.body),e}function QA(t,r){const e=di(t);if(nb(t))return e;if(!Yo(t)){let s=Vc(t);for(;s&&!Lf(s);){if(yo(s)&&!qx(s))return s;s=Vc(s)}return e}let n=Zj(t,r);for(;n&&TH(n)&&qx(n);)n=Zj(n,r);return n&&Lf(n)&&qx(n)&&!d_(n)?e:n||RH(t)||e}const KH=async function(t){const r=this.getOffsetParent||QA,e=this.getDimensions,n=await e(t.floating);return{reference:HH(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function GH(t){return bo(t).direction==="rtl"}const XH={convertOffsetParentRelativeRectToViewportRelativeRect:FH,getDocumentElement:rl,getClippingRect:WH,getOffsetParent:QA,getElementRects:KH,getClientRects:LH,getDimensions:qH,getScale:mf,isElement:yo,isRTL:GH};function YA(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function QH(t,r){let e=null,n;const s=rl(t);function a(){var c;clearTimeout(n),(c=e)==null||c.disconnect(),e=null}function i(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),a();const o=t.getBoundingClientRect(),{left:d,top:p,width:f,height:h}=o;if(c||r(),!f||!h)return;const g=ag(p),y=ag(s.clientWidth-(d+f)),m=ag(s.clientHeight-(p+h)),v=ag(d),j={rootMargin:-g+"px "+-y+"px "+-m+"px "+-v+"px",threshold:oi(0,zc(1,u))||1};let T=!0;function E(B){const W=B[0].intersectionRatio;if(W!==u){if(!T)return i();W?i(!1,W):n=setTimeout(()=>{i(!1,1e-7)},1e3)}W===1&&!YA(o,t.getBoundingClientRect())&&i(),T=!1}try{e=new IntersectionObserver(E,{...j,root:s.ownerDocument})}catch{e=new IntersectionObserver(E,j)}e.observe(t)}return i(!0),a}function YH(t,r,e,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,o=h_(t),d=s||a?[...o?Ip(o):[],...Ip(r)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",e,{passive:!0}),a&&v.addEventListener("resize",e)});const p=o&&c?QH(o,e):null;let f=-1,h=null;i&&(h=new ResizeObserver(v=>{let[x]=v;x&&x.target===o&&h&&(h.unobserve(r),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=h)==null||j.observe(r)})),e()}),o&&!u&&h.observe(o),h.observe(r));let g,y=u?Ju(t):null;u&&m();function m(){const v=Ju(t);y&&!YA(y,v)&&e(),y=v,g=requestAnimationFrame(m)}return e(),()=>{var v;d.forEach(x=>{s&&x.removeEventListener("scroll",e),a&&x.removeEventListener("resize",e)}),p?.(),(v=h)==null||v.disconnect(),h=null,u&&cancelAnimationFrame(g)}}const ZH=_H,JH=kH,eK=vH,tK=SH,rK=xH,Jj=bH,nK=jH,sK=(t,r,e)=>{const n=new Map,s={platform:XH,...e},a={...s.platform,_c:n};return yH(t,r,{...s,platform:a})};var aK=typeof document<"u",iK=function(){},Pg=aK?P.useLayoutEffect:iK;function oy(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let e,n,s;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(e=t.length,e!==r.length)return!1;for(n=e;n--!==0;)if(!oy(t[n],r[n]))return!1;return!0}if(s=Object.keys(t),e=s.length,e!==Object.keys(r).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(r,s[n]))return!1;for(n=e;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!oy(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}function ZA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function e6(t,r){const e=ZA(t);return Math.round(r*e)/e}function Hx(t){const r=P.useRef(t);return Pg(()=>{r.current=t}),r}function oK(t){t===void 0&&(t={});const{placement:r="bottom",strategy:e="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:c=!0,whileElementsMounted:u,open:o}=t,[d,p]=P.useState({x:0,y:0,strategy:e,placement:r,middlewareData:{},isPositioned:!1}),[f,h]=P.useState(n);oy(f,n)||h(n);const[g,y]=P.useState(null),[m,v]=P.useState(null),x=P.useCallback(k=>{k!==B.current&&(B.current=k,y(k))},[]),j=P.useCallback(k=>{k!==W.current&&(W.current=k,v(k))},[]),T=a||g,E=i||m,B=P.useRef(null),W=P.useRef(null),I=P.useRef(d),R=u!=null,$=Hx(u),K=Hx(s),H=Hx(o),M=P.useCallback(()=>{if(!B.current||!W.current)return;const k={placement:r,strategy:e,middleware:f};K.current&&(k.platform=K.current),sK(B.current,W.current,k).then(N=>{const D={...N,isPositioned:H.current!==!1};F.current&&!oy(I.current,D)&&(I.current=D,dd.flushSync(()=>{p(D)}))})},[f,r,e,K,H]);Pg(()=>{o===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(k=>({...k,isPositioned:!1})))},[o]);const F=P.useRef(!1);Pg(()=>(F.current=!0,()=>{F.current=!1}),[]),Pg(()=>{if(T&&(B.current=T),E&&(W.current=E),T&&E){if($.current)return $.current(T,E,M);M()}},[T,E,M,$,R]);const C=P.useMemo(()=>({reference:B,floating:W,setReference:x,setFloating:j}),[x,j]),_=P.useMemo(()=>({reference:T,floating:E}),[T,E]),S=P.useMemo(()=>{const k={position:e,left:0,top:0};if(!_.floating)return k;const N=e6(_.floating,d.x),D=e6(_.floating,d.y);return c?{...k,transform:"translate("+N+"px, "+D+"px)",...ZA(_.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:N,top:D}},[e,c,_.floating,d.x,d.y]);return P.useMemo(()=>({...d,update:M,refs:C,elements:_,floatingStyles:S}),[d,M,C,_,S])}const lK=t=>{function r(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:t,fn(e){const{element:n,padding:s}=typeof t=="function"?t(e):t;return n&&r(n)?n.current!=null?Jj({element:n.current,padding:s}).fn(e):{}:n?Jj({element:n,padding:s}).fn(e):{}}}},cK=(t,r)=>({...ZH(t),options:[t,r]}),uK=(t,r)=>({...JH(t),options:[t,r]}),dK=(t,r)=>({...nK(t),options:[t,r]}),fK=(t,r)=>({...eK(t),options:[t,r]}),hK=(t,r)=>({...tK(t),options:[t,r]}),pK=(t,r)=>({...rK(t),options:[t,r]}),mK=(t,r)=>({...lK(t),options:[t,r]});var gK="Arrow",JA=P.forwardRef((t,r)=>{const{children:e,width:n=10,height:s=5,...a}=t;return l.jsx(ir.svg,{...a,ref:r,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?e:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});JA.displayName=gK;var yK=JA;function p_(t){const[r,e]=P.useState(void 0);return Ms(()=>{if(t){e({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,c;if("borderBoxSize"in a){const u=a.borderBoxSize,o=Array.isArray(u)?u[0]:u;i=o.inlineSize,c=o.blockSize}else i=t.offsetWidth,c=t.offsetHeight;e({width:i,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else e(void 0)},[t]),r}var m_="Popper",[e7,Yc]=va(m_),[bK,t7]=e7(m_),r7=t=>{const{__scopePopper:r,children:e}=t,[n,s]=P.useState(null);return l.jsx(bK,{scope:r,anchor:n,onAnchorChange:s,children:e})};r7.displayName=m_;var n7="PopperAnchor",s7=P.forwardRef((t,r)=>{const{__scopePopper:e,virtualRef:n,...s}=t,a=t7(n7,e),i=P.useRef(null),c=Cr(r,i),u=P.useRef(null);return P.useEffect(()=>{const o=u.current;u.current=n?.current||i.current,o!==u.current&&a.onAnchorChange(u.current)}),n?null:l.jsx(ir.div,{...s,ref:c})});s7.displayName=n7;var g_="PopperContent",[vK,xK]=e7(g_),a7=P.forwardRef((t,r)=>{const{__scopePopper:e,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:o=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:g,...y}=t,m=t7(g_,e),[v,x]=P.useState(null),j=Cr(r,Z=>x(Z)),[T,E]=P.useState(null),B=p_(T),W=B?.width??0,I=B?.height??0,R=n+(a!=="center"?"-"+a:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},K=Array.isArray(o)?o:[o],H=K.length>0,M={padding:$,boundary:K.filter(_K),altBoundary:H},{refs:F,floatingStyles:C,placement:_,isPositioned:S,middlewareData:k}=oK({strategy:"fixed",placement:R,whileElementsMounted:(...Z)=>YH(...Z,{animationFrame:h==="always"}),elements:{reference:m.anchor},middleware:[cK({mainAxis:s+I,alignmentAxis:i}),u&&uK({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?dK():void 0,...M}),u&&fK({...M}),hK({...M,apply:({elements:Z,rects:U,availableWidth:z,availableHeight:G})=>{const{width:ae,height:pe}=U.reference,de=Z.floating.style;de.setProperty("--radix-popper-available-width",`${z}px`),de.setProperty("--radix-popper-available-height",`${G}px`),de.setProperty("--radix-popper-anchor-width",`${ae}px`),de.setProperty("--radix-popper-anchor-height",`${pe}px`)}}),T&&mK({element:T,padding:c}),kK({arrowWidth:W,arrowHeight:I}),f&&pK({strategy:"referenceHidden",...M})]}),[N,D]=l7(_),L=ca(g);Ms(()=>{S&&L?.()},[S,L]);const V=k.arrow?.x,Q=k.arrow?.y,Y=k.arrow?.centerOffset!==0,[re,O]=P.useState();return Ms(()=>{v&&O(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...C,transform:S?C.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[k.transformOrigin?.x,k.transformOrigin?.y].join(" "),...k.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(vK,{scope:e,placedSide:N,onArrowChange:E,arrowX:V,arrowY:Q,shouldHideArrow:Y,children:l.jsx(ir.div,{"data-side":N,"data-align":D,...y,ref:j,style:{...y.style,animation:S?void 0:"none"}})})})});a7.displayName=g_;var i7="PopperArrow",wK={top:"bottom",right:"left",bottom:"top",left:"right"},o7=P.forwardRef(function(r,e){const{__scopePopper:n,...s}=r,a=xK(i7,n),i=wK[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(yK,{...s,ref:e,style:{...s.style,display:"block"}})})});o7.displayName=i7;function _K(t){return t!==null}var kK=t=>({name:"transformOrigin",options:t,fn(r){const{placement:e,rects:n,middlewareData:s}=r,i=s.arrow?.centerOffset!==0,c=i?0:t.arrowWidth,u=i?0:t.arrowHeight,[o,d]=l7(e),p={start:"0%",center:"50%",end:"100%"}[d],f=(s.arrow?.x??0)+c/2,h=(s.arrow?.y??0)+u/2;let g="",y="";return o==="bottom"?(g=i?p:`${f}px`,y=`${-u}px`):o==="top"?(g=i?p:`${f}px`,y=`${n.floating.height+u}px`):o==="right"?(g=`${-u}px`,y=i?p:`${h}px`):o==="left"&&(g=`${n.floating.width+u}px`,y=i?p:`${h}px`),{data:{x:g,y}}}});function l7(t){const[r,e="center"]=t.split("-");return[r,e]}var ib=r7,Tm=s7,ob=a7,lb=o7,jK=Symbol("radix.slottable");function SK(t){const r=({children:e})=>l.jsx(l.Fragment,{children:e});return r.displayName=`${t}.Slottable`,r.__radixId=jK,r}var[cb]=va("Tooltip",[Yc]),ub=Yc(),c7="TooltipProvider",NK=700,Mw="tooltip.open",[CK,y_]=cb(c7),u7=t=>{const{__scopeTooltip:r,delayDuration:e=NK,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=t,i=P.useRef(!0),c=P.useRef(!1),u=P.useRef(0);return P.useEffect(()=>{const o=u.current;return()=>window.clearTimeout(o)},[]),l.jsx(CK,{scope:r,isOpenDelayedRef:i,delayDuration:e,onOpen:P.useCallback(()=>{window.clearTimeout(u.current),i.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:P.useCallback(o=>{c.current=o},[]),disableHoverableContent:s,children:a})};u7.displayName=c7;var Op="Tooltip",[TK,db]=cb(Op),d7=t=>{const{__scopeTooltip:r,children:e,open:n,defaultOpen:s,onOpenChange:a,disableHoverableContent:i,delayDuration:c}=t,u=y_(Op,t.__scopeTooltip),o=ub(r),[d,p]=P.useState(null),f=$i(),h=P.useRef(0),g=i??u.disableHoverableContent,y=c??u.delayDuration,m=P.useRef(!1),[v,x]=go({prop:n,defaultProp:s??!1,onChange:W=>{W?(u.onOpen(),document.dispatchEvent(new CustomEvent(Mw))):u.onClose(),a?.(W)},caller:Op}),j=P.useMemo(()=>v?m.current?"delayed-open":"instant-open":"closed",[v]),T=P.useCallback(()=>{window.clearTimeout(h.current),h.current=0,m.current=!1,x(!0)},[x]),E=P.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x(!1)},[x]),B=P.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{m.current=!0,x(!0),h.current=0},y)},[y,x]);return P.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),l.jsx(ib,{...o,children:l.jsx(TK,{scope:r,contentId:f,open:v,stateAttribute:j,trigger:d,onTriggerChange:p,onTriggerEnter:P.useCallback(()=>{u.isOpenDelayedRef.current?B():T()},[u.isOpenDelayedRef,B,T]),onTriggerLeave:P.useCallback(()=>{g?E():(window.clearTimeout(h.current),h.current=0)},[E,g]),onOpen:T,onClose:E,disableHoverableContent:g,children:e})})};d7.displayName=Op;var Rw="TooltipTrigger",f7=P.forwardRef((t,r)=>{const{__scopeTooltip:e,...n}=t,s=db(Rw,e),a=y_(Rw,e),i=ub(e),c=P.useRef(null),u=Cr(r,c,s.onTriggerChange),o=P.useRef(!1),d=P.useRef(!1),p=P.useCallback(()=>o.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),l.jsx(Tm,{asChild:!0,...i,children:l.jsx(ir.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:u,onPointerMove:pt(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:pt(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:pt(t.onPointerDown,()=>{s.open&&s.onClose(),o.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:pt(t.onFocus,()=>{o.current||s.onOpen()}),onBlur:pt(t.onBlur,s.onClose),onClick:pt(t.onClick,s.onClose)})})});f7.displayName=Rw;var EK="TooltipPortal",[jye,AK]=cb(EK,{forceMount:void 0}),Bf="TooltipContent",h7=P.forwardRef((t,r)=>{const e=AK(Bf,t.__scopeTooltip),{forceMount:n=e.forceMount,side:s="top",...a}=t,i=db(Bf,t.__scopeTooltip);return l.jsx(ws,{present:n||i.open,children:i.disableHoverableContent?l.jsx(p7,{side:s,...a,ref:r}):l.jsx(PK,{side:s,...a,ref:r})})}),PK=P.forwardRef((t,r)=>{const e=db(Bf,t.__scopeTooltip),n=y_(Bf,t.__scopeTooltip),s=P.useRef(null),a=Cr(r,s),[i,c]=P.useState(null),{trigger:u,onClose:o}=e,d=s.current,{onPointerInTransitChange:p}=n,f=P.useCallback(()=>{c(null),p(!1)},[p]),h=P.useCallback((g,y)=>{const m=g.currentTarget,v={x:g.clientX,y:g.clientY},x=OK(v,m.getBoundingClientRect()),j=FK(v,x),T=LK(y.getBoundingClientRect()),E=$K([...j,...T]);c(E),p(!0)},[p]);return P.useEffect(()=>()=>f(),[f]),P.useEffect(()=>{if(u&&d){const g=m=>h(m,d),y=m=>h(m,u);return u.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[u,d,h,f]),P.useEffect(()=>{if(i){const g=y=>{const m=y.target,v={x:y.clientX,y:y.clientY},x=u?.contains(m)||d?.contains(m),j=!BK(v,i);x?f():j&&(f(),o())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[u,d,i,o,f]),l.jsx(p7,{...t,ref:a})}),[MK,RK]=cb(Op,{isInside:!1}),DK=SK("TooltipContent"),p7=P.forwardRef((t,r)=>{const{__scopeTooltip:e,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...c}=t,u=db(Bf,e),o=ub(e),{onClose:d}=u;return P.useEffect(()=>(document.addEventListener(Mw,d),()=>document.removeEventListener(Mw,d)),[d]),P.useEffect(()=>{if(u.trigger){const p=f=>{f.target?.contains(u.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,d]),l.jsx(fd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:l.jsxs(ob,{"data-state":u.stateAttribute,...o,...c,ref:r,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(DK,{children:n}),l.jsx(MK,{scope:e,isInside:!0,children:l.jsx(gW,{id:u.contentId,role:"tooltip",children:s||n})})]})})});h7.displayName=Bf;var m7="TooltipArrow",IK=P.forwardRef((t,r)=>{const{__scopeTooltip:e,...n}=t,s=ub(e);return RK(m7,e).isInside?null:l.jsx(lb,{...s,...n,ref:r})});IK.displayName=m7;function OK(t,r){const e=Math.abs(r.top-t.y),n=Math.abs(r.bottom-t.y),s=Math.abs(r.right-t.x),a=Math.abs(r.left-t.x);switch(Math.min(e,n,s,a)){case a:return"left";case s:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function FK(t,r,e=5){const n=[];switch(r){case"top":n.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":n.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":n.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":n.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return n}function LK(t){const{top:r,right:e,bottom:n,left:s}=t;return[{x:s,y:r},{x:e,y:r},{x:e,y:n},{x:s,y:n}]}function BK(t,r){const{x:e,y:n}=t;let s=!1;for(let a=0,i=r.length-1;a<r.length;i=a++){const c=r[a],u=r[i],o=c.x,d=c.y,p=u.x,f=u.y;d>n!=f>n&&e<(p-o)*(n-d)/(f-d)+o&&(s=!s)}return s}function $K(t){const r=t.slice();return r.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),zK(r)}function zK(t){if(t.length<=1)return t.slice();const r=[];for(let n=0;n<t.length;n++){const s=t[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}r.pop();const e=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;e.length>=2;){const a=e[e.length-1],i=e[e.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}return e.pop(),r.length===1&&e.length===1&&r[0].x===e[0].x&&r[0].y===e[0].y?r:r.concat(e)}var VK=u7,UK=d7,WK=f7,g7=h7;const fb=VK,b_=UK,v_=WK,hb=P.forwardRef(({className:t,sideOffset:r=4,...e},n)=>l.jsx(g7,{ref:n,sideOffset:r,className:Pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...e}));hb.displayName=g7.displayName;const Ir=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,className:Pe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r}));Ir.displayName="Card";const Ma=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,className:Pe("flex flex-col space-y-1.5 p-6",t),...r}));Ma.displayName="CardHeader";const Qa=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,className:Pe("text-2xl font-semibold leading-none tracking-tight",t),...r}));Qa.displayName="CardTitle";const Ac=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,className:Pe("text-sm text-muted-foreground",t),...r}));Ac.displayName="CardDescription";const en=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,className:Pe("p-6 pt-0",t),...r}));en.displayName="CardContent";const qK=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,className:Pe("flex items-center p-6 pt-0",t),...r}));qK.displayName="CardFooter";function HK(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(Ir,{className:"w-full max-w-md mx-4",children:l.jsxs(en,{className:"pt-6",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Da,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var KK=Symbol.for("react.lazy"),ly=Gy[" use ".trim().toString()];function GK(t){return typeof t=="object"&&t!==null&&"then"in t}function y7(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===KK&&"_payload"in t&&GK(t._payload)}function pb(t){const r=XK(t),e=P.forwardRef((n,s)=>{let{children:a,...i}=n;y7(a)&&typeof ly=="function"&&(a=ly(a._payload));const c=P.Children.toArray(a),u=c.find(YK);if(u){const o=u.props.children,d=c.map(p=>p===u?P.Children.count(o)>1?P.Children.only(null):P.isValidElement(o)?o.props.children:null:p);return l.jsx(r,{...i,ref:s,children:P.isValidElement(o)?P.cloneElement(o,void 0,d):null})}return l.jsx(r,{...i,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}var pd=pb("Slot");function XK(t){const r=P.forwardRef((e,n)=>{let{children:s,...a}=e;if(y7(s)&&typeof ly=="function"&&(s=ly(s._payload)),P.isValidElement(s)){const i=JK(s),c=ZK(a,s.props);return s.type!==P.Fragment&&(c.ref=n?tl(n,i):i),P.cloneElement(s,c)}return P.Children.count(s)>1?P.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var QK=Symbol("radix.slottable");function YK(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===QK}function ZK(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function JK(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}const x_=P.createContext({});function w_(t){const r=P.useRef(null);return r.current===null&&(r.current=t()),r.current}const mb=P.createContext(null),__=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class eG extends P.Component{getSnapshotBeforeUpdate(r){const e=this.props.childRef.current;if(e&&r.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=e.offsetHeight||0,n.width=e.offsetWidth||0,n.top=e.offsetTop,n.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function tG({children:t,isPresent:r}){const e=P.useId(),n=P.useRef(null),s=P.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=P.useContext(__);return P.useInsertionEffect(()=>{const{width:i,height:c,top:u,left:o}=s.current;if(r||!n.current||!i||!c)return;n.current.dataset.motionPopId=e;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${c}px !important;
            top: ${u}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[r]),l.jsx(eG,{isPresent:r,childRef:n,sizeRef:s,children:P.cloneElement(t,{ref:n})})}const rG=({children:t,initial:r,isPresent:e,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:i})=>{const c=w_(nG),u=P.useId(),o=P.useCallback(p=>{c.set(p,!0);for(const f of c.values())if(!f)return;n&&n()},[c,n]),d=P.useMemo(()=>({id:u,initial:r,isPresent:e,custom:s,onExitComplete:o,register:p=>(c.set(p,!1),()=>c.delete(p))}),a?[Math.random(),o]:[e,o]);return P.useMemo(()=>{c.forEach((p,f)=>c.set(f,!1))},[e]),P.useEffect(()=>{!e&&!c.size&&n&&n()},[e]),i==="popLayout"&&(t=l.jsx(tG,{isPresent:e,children:t})),l.jsx(mb.Provider,{value:d,children:t})};function nG(){return new Map}function b7(t=!0){const r=P.useContext(mb);if(r===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=r,a=P.useId();P.useEffect(()=>{t&&s(a)},[t]);const i=P.useCallback(()=>t&&n&&n(a),[a,n,t]);return!e&&n?[!1,i]:[!0]}const ig=t=>t.key||"";function t6(t){const r=[];return P.Children.forEach(t,e=>{P.isValidElement(e)&&r.push(e)}),r}const k_=typeof window<"u",v7=k_?P.useLayoutEffect:P.useEffect,cy=({children:t,custom:r,initial:e=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:i=!1})=>{const[c,u]=b7(i),o=P.useMemo(()=>t6(t),[t]),d=i&&!c?[]:o.map(ig),p=P.useRef(!0),f=P.useRef(o),h=w_(()=>new Map),[g,y]=P.useState(o),[m,v]=P.useState(o);v7(()=>{p.current=!1,f.current=o;for(let T=0;T<m.length;T++){const E=ig(m[T]);d.includes(E)?h.delete(E):h.get(E)!==!0&&h.set(E,!1)}},[m,d.length,d.join("-")]);const x=[];if(o!==g){let T=[...o];for(let E=0;E<m.length;E++){const B=m[E],W=ig(B);d.includes(W)||(T.splice(E,0,B),x.push(B))}a==="wait"&&x.length&&(T=x),v(t6(T)),y(o);return}const{forceRender:j}=P.useContext(x_);return l.jsx(l.Fragment,{children:m.map(T=>{const E=ig(T),B=i&&!c?!1:o===m||d.includes(E),W=()=>{if(h.has(E))h.set(E,!0);else return;let I=!0;h.forEach(R=>{R||(I=!1)}),I&&(j?.(),v(f.current),i&&u?.(),n&&n())};return l.jsx(rG,{isPresent:B,initial:!p.current||e?void 0:!1,custom:B?void 0:r,presenceAffectsLayout:s,mode:a,onExitComplete:B?void 0:W,children:T},E)})})},fi=t=>t;let x7=fi;function j_(t){let r;return()=>(r===void 0&&(r=t()),r)}const $f=(t,r,e)=>{const n=r-t;return n===0?1:(e-t)/n},Rl=t=>t*1e3,Dl=t=>t/1e3,sG={useManualTiming:!1};function aG(t){let r=new Set,e=new Set,n=!1,s=!1;const a=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function c(o){a.has(o)&&(u.schedule(o),t()),o(i)}const u={schedule:(o,d=!1,p=!1)=>{const h=p&&n?r:e;return d&&a.add(o),h.has(o)||h.add(o),o},cancel:o=>{e.delete(o),a.delete(o)},process:o=>{if(i=o,n){s=!0;return}n=!0,[r,e]=[e,r],r.forEach(c),r.clear(),n=!1,s&&(s=!1,u.process(o))}};return u}const og=["read","resolveKeyframes","update","preRender","render","postRender"],iG=40;function w7(t,r){let e=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,i=og.reduce((v,x)=>(v[x]=aG(a),v),{}),{read:c,resolveKeyframes:u,update:o,preRender:d,render:p,postRender:f}=i,h=()=>{const v=performance.now();e=!1,s.delta=n?1e3/60:Math.max(Math.min(v-s.timestamp,iG),1),s.timestamp=v,s.isProcessing=!0,c.process(s),u.process(s),o.process(s),d.process(s),p.process(s),f.process(s),s.isProcessing=!1,e&&r&&(n=!1,t(h))},g=()=>{e=!0,n=!0,s.isProcessing||t(h)};return{schedule:og.reduce((v,x)=>{const j=i[x];return v[x]=(T,E=!1,B=!1)=>(e||g(),j.schedule(T,E,B)),v},{}),cancel:v=>{for(let x=0;x<og.length;x++)i[og[x]].cancel(v)},state:s,steps:i}}const{schedule:Mn,cancel:Uc,state:Us,steps:Kx}=w7(typeof requestAnimationFrame<"u"?requestAnimationFrame:fi,!0),_7=P.createContext({strict:!1}),r6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zf={};for(const t in r6)zf[t]={isEnabled:r=>r6[t].some(e=>!!r[e])};function oG(t){for(const r in t)zf[r]={...zf[r],...t[r]}}const lG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lG.has(t)}let k7=t=>!uy(t);function cG(t){t&&(k7=r=>r.startsWith("on")?!uy(r):t(r))}try{cG(require("@emotion/is-prop-valid").default)}catch{}function uG(t,r,e){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(k7(s)||e===!0&&uy(s)||!r&&!uy(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function dG(t){if(typeof Proxy>"u")return t;const r=new Map,e=(...n)=>t(...n);return new Proxy(e,{get:(n,s)=>s==="create"?t:(r.has(s)||r.set(s,t(s)),r.get(s))})}const gb=P.createContext({});function Fp(t){return typeof t=="string"||Array.isArray(t)}function yb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const S_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],N_=["initial",...S_];function bb(t){return yb(t.animate)||N_.some(r=>Fp(t[r]))}function j7(t){return!!(bb(t)||t.variants)}function fG(t,r){if(bb(t)){const{initial:e,animate:n}=t;return{initial:e===!1||Fp(e)?e:void 0,animate:Fp(n)?n:void 0}}return t.inherit!==!1?r:{}}function hG(t){const{initial:r,animate:e}=fG(t,P.useContext(gb));return P.useMemo(()=>({initial:r,animate:e}),[n6(r),n6(e)])}function n6(t){return Array.isArray(t)?t.join(" "):t}const pG=Symbol.for("motionComponentSymbol");function af(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mG(t,r,e){return P.useCallback(n=>{n&&t.onMount&&t.onMount(n),r&&(n?r.mount(n):r.unmount()),e&&(typeof e=="function"?e(n):af(e)&&(e.current=n))},[r])}const C_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gG="framerAppearId",S7="data-"+C_(gG),{schedule:T_}=w7(queueMicrotask,!1),N7=P.createContext({});function yG(t,r,e,n,s){var a,i;const{visualElement:c}=P.useContext(gb),u=P.useContext(_7),o=P.useContext(mb),d=P.useContext(__).reducedMotion,p=P.useRef(null);n=n||u.renderer,!p.current&&n&&(p.current=n(t,{visualState:r,parent:c,props:e,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:d}));const f=p.current,h=P.useContext(N7);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&bG(p.current,e,s,h);const g=P.useRef(!1);P.useInsertionEffect(()=>{f&&g.current&&f.update(e,o)});const y=e[S7],m=P.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,y)));return v7(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),T_.render(f.render),m.current&&f.animationState&&f.animationState.animateChanges())}),P.useEffect(()=>{f&&(!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),m.current=!1))}),f}function bG(t,r,e,n){const{layoutId:s,layout:a,drag:i,dragConstraints:c,layoutScroll:u,layoutRoot:o}=r;t.projection=new e(t.latestValues,r["data-framer-portal-id"]?void 0:C7(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!i||c&&af(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:u,layoutRoot:o})}function C7(t){if(t)return t.options.allowProjection!==!1?t.projection:C7(t.parent)}function vG({preloadedFeatures:t,createVisualElement:r,useRender:e,useVisualState:n,Component:s}){var a,i;t&&oG(t);function c(o,d){let p;const f={...P.useContext(__),...o,layoutId:xG(o)},{isStatic:h}=f,g=hG(o),y=n(o,h);if(!h&&k_){wG();const m=_G(f);p=m.MeasureLayout,g.visualElement=yG(s,y,f,r,m.ProjectionNode)}return l.jsxs(gb.Provider,{value:g,children:[p&&g.visualElement?l.jsx(p,{visualElement:g.visualElement,...f}):null,e(s,o,mG(y,g.visualElement,d),y,h,g.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(i=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&i!==void 0?i:""})`}`;const u=P.forwardRef(c);return u[pG]=s,u}function xG({layoutId:t}){const r=P.useContext(x_).id;return r&&t!==void 0?r+"-"+t:t}function wG(t,r){P.useContext(_7).strict}function _G(t){const{drag:r,layout:e}=zf;if(!r&&!e)return{};const n={...r,...e};return{MeasureLayout:r?.isEnabled(t)||e?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const kG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function E_(t){return typeof t!="string"||t.includes("-")?!1:!!(kG.indexOf(t)>-1||/[A-Z]/u.test(t))}function s6(t){const r=[{},{}];return t?.values.forEach((e,n)=>{r[0][n]=e.get(),r[1][n]=e.getVelocity()}),r}function A_(t,r,e,n){if(typeof r=="function"){const[s,a]=s6(n);r=r(e!==void 0?e:t.custom,s,a)}if(typeof r=="string"&&(r=t.variants&&t.variants[r]),typeof r=="function"){const[s,a]=s6(n);r=r(e!==void 0?e:t.custom,s,a)}return r}const Dw=t=>Array.isArray(t),jG=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),SG=t=>Dw(t)?t[t.length-1]||0:t,ua=t=>!!(t&&t.getVelocity);function Mg(t){const r=ua(t)?t.get():t;return jG(r)?r.toValue():r}function NG({scrapeMotionValuesFromProps:t,createRenderState:r,onUpdate:e},n,s,a){const i={latestValues:CG(n,s,a,t),renderState:r()};return e&&(i.onMount=c=>e({props:n,current:c,...i}),i.onUpdate=c=>e(c)),i}const T7=t=>(r,e)=>{const n=P.useContext(gb),s=P.useContext(mb),a=()=>NG(t,r,n,s);return e?a():w_(a)};function CG(t,r,e,n){const s={},a=n(t,{});for(const f in a)s[f]=Mg(a[f]);let{initial:i,animate:c}=t;const u=bb(t),o=j7(t);r&&o&&!u&&t.inherit!==!1&&(i===void 0&&(i=r.initial),c===void 0&&(c=r.animate));let d=e?e.initial===!1:!1;d=d||i===!1;const p=d?c:i;if(p&&typeof p!="boolean"&&!yb(p)){const f=Array.isArray(p)?p:[p];for(let h=0;h<f.length;h++){const g=A_(t,f[h]);if(g){const{transitionEnd:y,transition:m,...v}=g;for(const x in v){let j=v[x];if(Array.isArray(j)){const T=d?j.length-1:0;j=j[T]}j!==null&&(s[x]=j)}for(const x in y)s[x]=y[x]}}}return s}const oh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],md=new Set(oh),E7=t=>r=>typeof r=="string"&&r.startsWith(t),A7=E7("--"),TG=E7("var(--"),P_=t=>TG(t)?EG.test(t.split("/*")[0].trim()):!1,EG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,P7=(t,r)=>r&&typeof t=="number"?r.transform(t):t,Ul=(t,r,e)=>e>r?r:e<t?t:e,lh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lp={...lh,transform:t=>Ul(0,1,t)},lg={...lh,default:1},Em=t=>({test:r=>typeof r=="string"&&r.endsWith(t)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${t}`}),pc=Em("deg"),Wo=Em("%"),fr=Em("px"),AG=Em("vh"),PG=Em("vw"),a6={...Wo,parse:t=>Wo.parse(t)/100,transform:t=>Wo.transform(t*100)},MG={borderWidth:fr,borderTopWidth:fr,borderRightWidth:fr,borderBottomWidth:fr,borderLeftWidth:fr,borderRadius:fr,radius:fr,borderTopLeftRadius:fr,borderTopRightRadius:fr,borderBottomRightRadius:fr,borderBottomLeftRadius:fr,width:fr,maxWidth:fr,height:fr,maxHeight:fr,top:fr,right:fr,bottom:fr,left:fr,padding:fr,paddingTop:fr,paddingRight:fr,paddingBottom:fr,paddingLeft:fr,margin:fr,marginTop:fr,marginRight:fr,marginBottom:fr,marginLeft:fr,backgroundPositionX:fr,backgroundPositionY:fr},RG={rotate:pc,rotateX:pc,rotateY:pc,rotateZ:pc,scale:lg,scaleX:lg,scaleY:lg,scaleZ:lg,skew:pc,skewX:pc,skewY:pc,distance:fr,translateX:fr,translateY:fr,translateZ:fr,x:fr,y:fr,z:fr,perspective:fr,transformPerspective:fr,opacity:Lp,originX:a6,originY:a6,originZ:fr},i6={...lh,transform:Math.round},M_={...MG,...RG,zIndex:i6,size:fr,fillOpacity:Lp,strokeOpacity:Lp,numOctaves:i6},DG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IG=oh.length;function OG(t,r,e){let n="",s=!0;for(let a=0;a<IG;a++){const i=oh[a],c=t[i];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(i.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||e){const o=P7(c,M_[i]);if(!u){s=!1;const d=DG[i]||i;n+=`${d}(${o}) `}e&&(r[i]=o)}}return n=n.trim(),e?n=e(r,s?"":n):s&&(n="none"),n}function R_(t,r,e){const{style:n,vars:s,transformOrigin:a}=t;let i=!1,c=!1;for(const u in r){const o=r[u];if(md.has(u)){i=!0;continue}else if(A7(u)){s[u]=o;continue}else{const d=P7(o,M_[u]);u.startsWith("origin")?(c=!0,a[u]=d):n[u]=d}}if(r.transform||(i||e?n.transform=OG(r,t.transform,e):n.transform&&(n.transform="none")),c){const{originX:u="50%",originY:o="50%",originZ:d=0}=a;n.transformOrigin=`${u} ${o} ${d}`}}const FG={offset:"stroke-dashoffset",array:"stroke-dasharray"},LG={offset:"strokeDashoffset",array:"strokeDasharray"};function BG(t,r,e=1,n=0,s=!0){t.pathLength=1;const a=s?FG:LG;t[a.offset]=fr.transform(-n);const i=fr.transform(r),c=fr.transform(e);t[a.array]=`${i} ${c}`}function o6(t,r,e){return typeof t=="string"?t:fr.transform(r+e*t)}function $G(t,r,e){const n=o6(r,t.x,t.width),s=o6(e,t.y,t.height);return`${n} ${s}`}function D_(t,{attrX:r,attrY:e,attrScale:n,originX:s,originY:a,pathLength:i,pathSpacing:c=1,pathOffset:u=0,...o},d,p){if(R_(t,o,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h,dimensions:g}=t;f.transform&&(g&&(h.transform=f.transform),delete f.transform),g&&(s!==void 0||a!==void 0||h.transform)&&(h.transformOrigin=$G(g,s!==void 0?s:.5,a!==void 0?a:.5)),r!==void 0&&(f.x=r),e!==void 0&&(f.y=e),n!==void 0&&(f.scale=n),i!==void 0&&BG(f,i,c,u,!1)}const I_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),M7=()=>({...I_(),attrs:{}}),O_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function R7(t,{style:r,vars:e},n,s){Object.assign(t.style,r,s&&s.getProjectionStyles(n));for(const a in e)t.style.setProperty(a,e[a])}const D7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function I7(t,r,e,n){R7(t,r,void 0,n);for(const s in r.attrs)t.setAttribute(D7.has(s)?s:C_(s),r.attrs[s])}const dy={};function zG(t){Object.assign(dy,t)}function O7(t,{layout:r,layoutId:e}){return md.has(t)||t.startsWith("origin")||(r||e!==void 0)&&(!!dy[t]||t==="opacity")}function F_(t,r,e){var n;const{style:s}=t,a={};for(const i in s)(ua(s[i])||r.style&&ua(r.style[i])||O7(i,t)||((n=e?.getValue(i))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[i]=s[i]);return a}function F7(t,r,e){const n=F_(t,r,e);for(const s in t)if(ua(t[s])||ua(r[s])){const a=oh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=t[s]}return n}function VG(t,r){try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}const l6=["x","y","width","height","cx","cy","r"],UG={useVisualState:T7({scrapeMotionValuesFromProps:F7,createRenderState:M7,onUpdate:({props:t,prevProps:r,current:e,renderState:n,latestValues:s})=>{if(!e)return;let a=!!t.drag;if(!a){for(const c in s)if(md.has(c)){a=!0;break}}if(!a)return;let i=!r;if(r)for(let c=0;c<l6.length;c++){const u=l6[c];t[u]!==r[u]&&(i=!0)}i&&Mn.read(()=>{VG(e,n),Mn.render(()=>{D_(n,s,O_(e.tagName),t.transformTemplate),I7(e,n)})})}})},WG={useVisualState:T7({scrapeMotionValuesFromProps:F_,createRenderState:I_})};function L7(t,r,e){for(const n in r)!ua(r[n])&&!O7(n,e)&&(t[n]=r[n])}function qG({transformTemplate:t},r){return P.useMemo(()=>{const e=I_();return R_(e,r,t),Object.assign({},e.vars,e.style)},[r])}function HG(t,r){const e=t.style||{},n={};return L7(n,e,t),Object.assign(n,qG(t,r)),n}function KG(t,r){const e={},n=HG(t,r);return t.drag&&t.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(e.tabIndex=0),e.style=n,e}function GG(t,r,e,n){const s=P.useMemo(()=>{const a=M7();return D_(a,r,O_(n),t.transformTemplate),{...a.attrs,style:{...a.style}}},[r]);if(t.style){const a={};L7(a,t.style,t),s.style={...a,...s.style}}return s}function XG(t=!1){return(e,n,s,{latestValues:a},i)=>{const u=(E_(e)?GG:KG)(n,a,i,e),o=uG(n,typeof e=="string",t),d=e!==P.Fragment?{...o,...u,ref:s}:{},{children:p}=n,f=P.useMemo(()=>ua(p)?p.get():p,[p]);return P.createElement(e,{...d,children:f})}}function QG(t,r){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const i={...E_(n)?UG:WG,preloadedFeatures:t,useRender:XG(s),createVisualElement:r,Component:n};return vG(i)}}function B7(t,r){if(!Array.isArray(r))return!1;const e=r.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}function vb(t,r,e){const n=t.getProps();return A_(n,r,e!==void 0?e:n.custom,t)}const YG=j_(()=>window.ScrollTimeline!==void 0);class ZG{constructor(r){this.stop=()=>this.runAll("stop"),this.animations=r.filter(Boolean)}get finished(){return Promise.all(this.animations.map(r=>"finished"in r?r.finished:r))}getAll(r){return this.animations[0][r]}setAll(r,e){for(let n=0;n<this.animations.length;n++)this.animations[n][r]=e}attachTimeline(r,e){const n=this.animations.map(s=>{if(YG()&&s.attachTimeline)return s.attachTimeline(r);if(typeof e=="function")return e(s)});return()=>{n.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(r){this.setAll("time",r)}get speed(){return this.getAll("speed")}set speed(r){this.setAll("speed",r)}get startTime(){return this.getAll("startTime")}get duration(){let r=0;for(let e=0;e<this.animations.length;e++)r=Math.max(r,this.animations[e].duration);return r}runAll(r){this.animations.forEach(e=>e[r]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class JG extends ZG{then(r,e){return Promise.all(this.animations).then(r).catch(e)}}function L_(t,r){return t?t[r]||t.default||t:void 0}const Iw=2e4;function $7(t){let r=0;const e=50;let n=t.next(r);for(;!n.done&&r<Iw;)r+=e,n=t.next(r);return r>=Iw?1/0:r}function B_(t){return typeof t=="function"}function c6(t,r){t.timeline=r,t.onfinish=null}const $_=t=>Array.isArray(t)&&typeof t[0]=="number",eX={linearEasing:void 0};function tX(t,r){const e=j_(t);return()=>{var n;return(n=eX[r])!==null&&n!==void 0?n:e()}}const fy=tX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),z7=(t,r,e=10)=>{let n="";const s=Math.max(Math.round(r/e),2);for(let a=0;a<s;a++)n+=t($f(0,s-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function V7(t){return!!(typeof t=="function"&&fy()||!t||typeof t=="string"&&(t in Ow||fy())||$_(t)||Array.isArray(t)&&t.every(V7))}const ip=([t,r,e,n])=>`cubic-bezier(${t}, ${r}, ${e}, ${n})`,Ow={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ip([0,.65,.55,1]),circOut:ip([.55,0,1,.45]),backIn:ip([.31,.01,.66,-.59]),backOut:ip([.33,1.53,.69,.99])};function U7(t,r){if(t)return typeof t=="function"&&fy()?z7(t,r):$_(t)?ip(t):Array.isArray(t)?t.map(e=>U7(e,r)||Ow.easeOut):Ow[t]}const ro={x:!1,y:!1};function W7(){return ro.x||ro.y}function rX(t,r,e){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const a=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function q7(t,r){const e=rX(t),n=new AbortController,s={passive:!0,...r,signal:n.signal};return[e,s,()=>n.abort()]}function u6(t){return r=>{r.pointerType==="touch"||W7()||t(r)}}function nX(t,r,e={}){const[n,s,a]=q7(t,e),i=u6(c=>{const{target:u}=c,o=r(c);if(typeof o!="function"||!u)return;const d=u6(p=>{o(p),u.removeEventListener("pointerleave",d)});u.addEventListener("pointerleave",d,s)});return n.forEach(c=>{c.addEventListener("pointerenter",i,s)}),a}const H7=(t,r)=>r?t===r?!0:H7(t,r.parentElement):!1,z_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,sX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aX(t){return sX.has(t.tagName)||t.tabIndex!==-1}const op=new WeakSet;function d6(t){return r=>{r.key==="Enter"&&t(r)}}function Gx(t,r){t.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const iX=(t,r)=>{const e=t.currentTarget;if(!e)return;const n=d6(()=>{if(op.has(e))return;Gx(e,"down");const s=d6(()=>{Gx(e,"up")}),a=()=>Gx(e,"cancel");e.addEventListener("keyup",s,r),e.addEventListener("blur",a,r)});e.addEventListener("keydown",n,r),e.addEventListener("blur",()=>e.removeEventListener("keydown",n),r)};function f6(t){return z_(t)&&!W7()}function oX(t,r,e={}){const[n,s,a]=q7(t,e),i=c=>{const u=c.currentTarget;if(!f6(c)||op.has(u))return;op.add(u);const o=r(c),d=(h,g)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",f),!(!f6(h)||!op.has(u))&&(op.delete(u),typeof o=="function"&&o(h,{success:g}))},p=h=>{d(h,e.useGlobalTarget||H7(u,h.target))},f=h=>{d(h,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",f,s)};return n.forEach(c=>{!aX(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(e.useGlobalTarget?window:c).addEventListener("pointerdown",i,s),c.addEventListener("focus",o=>iX(o,s),s)}),a}function lX(t){return t==="x"||t==="y"?ro[t]?null:(ro[t]=!0,()=>{ro[t]=!1}):ro.x||ro.y?null:(ro.x=ro.y=!0,()=>{ro.x=ro.y=!1})}const K7=new Set(["width","height","top","left","right","bottom",...oh]);let Rg;function cX(){Rg=void 0}const qo={now:()=>(Rg===void 0&&qo.set(Us.isProcessing||sG.useManualTiming?Us.timestamp:performance.now()),Rg),set:t=>{Rg=t,queueMicrotask(cX)}};function V_(t,r){t.indexOf(r)===-1&&t.push(r)}function U_(t,r){const e=t.indexOf(r);e>-1&&t.splice(e,1)}class W_{constructor(){this.subscriptions=[]}add(r){return V_(this.subscriptions,r),()=>U_(this.subscriptions,r)}notify(r,e,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](r,e,n);else for(let a=0;a<s;a++){const i=this.subscriptions[a];i&&i(r,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function G7(t,r){return r?t*(1e3/r):0}const h6=30,uX=t=>!isNaN(parseFloat(t));class dX{constructor(r,e={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=qo.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(r),this.owner=e.owner}setCurrent(r){this.current=r,this.updatedAt=qo.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=uX(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,e){this.events[r]||(this.events[r]=new W_);const n=this.events[r].add(e);return r==="change"?()=>{n(),Mn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,e){this.passiveEffect=r,this.stopPassiveEffect=e}set(r,e=!0){!e||!this.passiveEffect?this.updateAndNotify(r,e):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-n}jump(r,e=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=qo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>h6)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,h6);return G7(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(r){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=r(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bp(t,r){return new dX(t,r)}function fX(t,r,e){t.hasValue(r)?t.getValue(r).set(e):t.addValue(r,Bp(e))}function hX(t,r){const e=vb(t,r);let{transitionEnd:n={},transition:s={},...a}=e||{};a={...a,...n};for(const i in a){const c=SG(a[i]);fX(t,i,c)}}function pX(t){return!!(ua(t)&&t.add)}function Fw(t,r){const e=t.getValue("willChange");if(pX(e))return e.add(r)}function X7(t){return t.props[S7]}const Q7=(t,r,e)=>(((1-3*e+3*r)*t+(3*e-6*r))*t+3*r)*t,mX=1e-7,gX=12;function yX(t,r,e,n,s){let a,i,c=0;do i=r+(e-r)/2,a=Q7(i,n,s)-t,a>0?e=i:r=i;while(Math.abs(a)>mX&&++c<gX);return i}function Am(t,r,e,n){if(t===r&&e===n)return fi;const s=a=>yX(a,0,1,t,e);return a=>a===0||a===1?a:Q7(s(a),r,n)}const Y7=t=>r=>r<=.5?t(2*r)/2:(2-t(2*(1-r)))/2,Z7=t=>r=>1-t(1-r),J7=Am(.33,1.53,.69,.99),q_=Z7(J7),eP=Y7(q_),tP=t=>(t*=2)<1?.5*q_(t):.5*(2-Math.pow(2,-10*(t-1))),H_=t=>1-Math.sin(Math.acos(t)),rP=Z7(H_),nP=Y7(H_),sP=t=>/^0[^.\s]+$/u.test(t);function bX(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sP(t):!0}const bp=t=>Math.round(t*1e5)/1e5,K_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vX(t){return t==null}const xX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,G_=(t,r)=>e=>!!(typeof e=="string"&&xX.test(e)&&e.startsWith(t)||r&&!vX(e)&&Object.prototype.hasOwnProperty.call(e,r)),aP=(t,r,e)=>n=>{if(typeof n!="string")return n;const[s,a,i,c]=n.match(K_);return{[t]:parseFloat(s),[r]:parseFloat(a),[e]:parseFloat(i),alpha:c!==void 0?parseFloat(c):1}},wX=t=>Ul(0,255,t),Xx={...lh,transform:t=>Math.round(wX(t))},Eu={test:G_("rgb","red"),parse:aP("red","green","blue"),transform:({red:t,green:r,blue:e,alpha:n=1})=>"rgba("+Xx.transform(t)+", "+Xx.transform(r)+", "+Xx.transform(e)+", "+bp(Lp.transform(n))+")"};function _X(t){let r="",e="",n="",s="";return t.length>5?(r=t.substring(1,3),e=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(r=t.substring(1,2),e=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),r+=r,e+=e,n+=n,s+=s),{red:parseInt(r,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Lw={test:G_("#"),parse:_X,transform:Eu.transform},of={test:G_("hsl","hue"),parse:aP("hue","saturation","lightness"),transform:({hue:t,saturation:r,lightness:e,alpha:n=1})=>"hsla("+Math.round(t)+", "+Wo.transform(bp(r))+", "+Wo.transform(bp(e))+", "+bp(Lp.transform(n))+")"},la={test:t=>Eu.test(t)||Lw.test(t)||of.test(t),parse:t=>Eu.test(t)?Eu.parse(t):of.test(t)?of.parse(t):Lw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Eu.transform(t):of.transform(t)},kX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jX(t){var r,e;return isNaN(t)&&typeof t=="string"&&(((r=t.match(K_))===null||r===void 0?void 0:r.length)||0)+(((e=t.match(kX))===null||e===void 0?void 0:e.length)||0)>0}const iP="number",oP="color",SX="var",NX="var(",p6="${}",CX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $p(t){const r=t.toString(),e=[],n={color:[],number:[],var:[]},s=[];let a=0;const c=r.replace(CX,u=>(la.test(u)?(n.color.push(a),s.push(oP),e.push(la.parse(u))):u.startsWith(NX)?(n.var.push(a),s.push(SX),e.push(u)):(n.number.push(a),s.push(iP),e.push(parseFloat(u))),++a,p6)).split(p6);return{values:e,split:c,indexes:n,types:s}}function lP(t){return $p(t).values}function cP(t){const{split:r,types:e}=$p(t),n=r.length;return s=>{let a="";for(let i=0;i<n;i++)if(a+=r[i],s[i]!==void 0){const c=e[i];c===iP?a+=bp(s[i]):c===oP?a+=la.transform(s[i]):a+=s[i]}return a}}const TX=t=>typeof t=="number"?0:t;function EX(t){const r=lP(t);return cP(t)(r.map(TX))}const Wc={test:jX,parse:lP,createTransformer:cP,getAnimatableNone:EX},AX=new Set(["brightness","contrast","saturate","opacity"]);function PX(t){const[r,e]=t.slice(0,-1).split("(");if(r==="drop-shadow")return t;const[n]=e.match(K_)||[];if(!n)return t;const s=e.replace(n,"");let a=AX.has(r)?1:0;return n!==e&&(a*=100),r+"("+a+s+")"}const MX=/\b([a-z-]*)\(.*?\)/gu,Bw={...Wc,getAnimatableNone:t=>{const r=t.match(MX);return r?r.map(PX).join(" "):t}},RX={...M_,color:la,backgroundColor:la,outlineColor:la,fill:la,stroke:la,borderColor:la,borderTopColor:la,borderRightColor:la,borderBottomColor:la,borderLeftColor:la,filter:Bw,WebkitFilter:Bw},X_=t=>RX[t];function uP(t,r){let e=X_(t);return e!==Bw&&(e=Wc),e.getAnimatableNone?e.getAnimatableNone(r):void 0}const DX=new Set(["auto","none","0"]);function IX(t,r,e){let n=0,s;for(;n<t.length&&!s;){const a=t[n];typeof a=="string"&&!DX.has(a)&&$p(a).values.length&&(s=t[n]),n++}if(s&&e)for(const a of r)t[a]=uP(e,s)}const m6=t=>t===lh||t===fr,g6=(t,r)=>parseFloat(t.split(", ")[r]),y6=(t,r)=>(e,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return g6(s[1],r);{const a=n.match(/^matrix\((.+)\)$/u);return a?g6(a[1],t):0}},OX=new Set(["x","y","z"]),FX=oh.filter(t=>!OX.has(t));function LX(t){const r=[];return FX.forEach(e=>{const n=t.getValue(e);n!==void 0&&(r.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),r}const Vf={width:({x:t},{paddingLeft:r="0",paddingRight:e="0"})=>t.max-t.min-parseFloat(r)-parseFloat(e),height:({y:t},{paddingTop:r="0",paddingBottom:e="0"})=>t.max-t.min-parseFloat(r)-parseFloat(e),top:(t,{top:r})=>parseFloat(r),left:(t,{left:r})=>parseFloat(r),bottom:({y:t},{top:r})=>parseFloat(r)+(t.max-t.min),right:({x:t},{left:r})=>parseFloat(r)+(t.max-t.min),x:y6(4,13),y:y6(5,14)};Vf.translateX=Vf.x;Vf.translateY=Vf.y;const Hu=new Set;let $w=!1,zw=!1;function dP(){if(zw){const t=Array.from(Hu).filter(n=>n.needsMeasurement),r=new Set(t.map(n=>n.element)),e=new Map;r.forEach(n=>{const s=LX(n);s.length&&(e.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),r.forEach(n=>{n.render();const s=e.get(n);s&&s.forEach(([a,i])=>{var c;(c=n.getValue(a))===null||c===void 0||c.set(i)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}zw=!1,$w=!1,Hu.forEach(t=>t.complete()),Hu.clear()}function fP(){Hu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(zw=!0)})}function BX(){fP(),dP()}class Q_{constructor(r,e,n,s,a,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...r],this.onComplete=e,this.name=n,this.motionValue=s,this.element=a,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Hu.add(this),$w||($w=!0,Mn.read(fP),Mn.resolveKeyframes(dP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:e,element:n,motionValue:s}=this;for(let a=0;a<r.length;a++)if(r[a]===null)if(a===0){const i=s?.get(),c=r[r.length-1];if(i!==void 0)r[0]=i;else if(n&&e){const u=n.readValue(e,c);u!=null&&(r[0]=u)}r[0]===void 0&&(r[0]=c),s&&i===void 0&&s.set(r[0])}else r[a]=r[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Hu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Hu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const hP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),$X=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zX(t){const r=$X.exec(t);if(!r)return[,];const[,e,n,s]=r;return[`--${e??n}`,s]}function pP(t,r,e=1){const[n,s]=zX(t);if(!n)return;const a=window.getComputedStyle(r).getPropertyValue(n);if(a){const i=a.trim();return hP(i)?parseFloat(i):i}return P_(s)?pP(s,r,e+1):s}const mP=t=>r=>r.test(t),VX={test:t=>t==="auto",parse:t=>t},gP=[lh,fr,Wo,pc,PG,AG,VX],b6=t=>gP.find(mP(t));class yP extends Q_{constructor(r,e,n,s,a){super(r,e,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let u=0;u<r.length;u++){let o=r[u];if(typeof o=="string"&&(o=o.trim(),P_(o))){const d=pP(o,e.current);d!==void 0&&(r[u]=d),u===r.length-1&&(this.finalKeyframe=o)}}if(this.resolveNoneKeyframes(),!K7.has(n)||r.length!==2)return;const[s,a]=r,i=b6(s),c=b6(a);if(i!==c)if(m6(i)&&m6(c))for(let u=0;u<r.length;u++){const o=r[u];typeof o=="string"&&(r[u]=parseFloat(o))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:e}=this,n=[];for(let s=0;s<r.length;s++)bX(r[s])&&n.push(s);n.length&&IX(r,n,e)}measureInitialState(){const{element:r,unresolvedKeyframes:e,name:n}=this;if(!r||!r.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vf[n](r.measureViewportBox(),window.getComputedStyle(r.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&r.getValue(n,s).jump(s,!1)}measureEndState(){var r;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,c=s[i];s[i]=Vf[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((r=this.removedTransforms)===null||r===void 0)&&r.length&&this.removedTransforms.forEach(([u,o])=>{e.getValue(u).set(o)}),this.resolveNoneKeyframes()}}const v6=(t,r)=>r==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wc.test(t)||t==="0")&&!t.startsWith("url("));function UX(t){const r=t[0];if(t.length===1)return!0;for(let e=0;e<t.length;e++)if(t[e]!==r)return!0}function WX(t,r,e,n){const s=t[0];if(s===null)return!1;if(r==="display"||r==="visibility")return!0;const a=t[t.length-1],i=v6(s,r),c=v6(a,r);return!i||!c?!1:UX(t)||(e==="spring"||B_(e))&&n}const qX=t=>t!==null;function xb(t,{repeat:r,repeatType:e="loop"},n){const s=t.filter(qX),a=r&&e!=="loop"&&r%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const HX=40;class bP{constructor({autoplay:r=!0,delay:e=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qo.now(),this.options={autoplay:r,delay:e,type:n,repeat:s,repeatDelay:a,repeatType:i,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>HX?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&BX(),this._resolved}onKeyframesResolved(r,e){this.resolvedAt=qo.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:a,delay:i,onComplete:c,onUpdate:u,isGenerator:o}=this.options;if(!o&&!WX(r,n,s,a))if(i)this.options.duration=0;else{u&&u(xb(r,this.options,e)),c&&c(),this.resolveFinishedPromise();return}const d=this.initPlayback(r,e);d!==!1&&(this._resolved={keyframes:r,finalKeyframe:e,...d},this.onPostResolved())}onPostResolved(){}then(r,e){return this.currentFinishedPromise.then(r,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(r=>{this.resolveFinishedPromise=r})}}const qn=(t,r,e)=>t+(r-t)*e;function Qx(t,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+(r-t)*6*e:e<1/2?r:e<2/3?t+(r-t)*(2/3-e)*6:t}function KX({hue:t,saturation:r,lightness:e,alpha:n}){t/=360,r/=100,e/=100;let s=0,a=0,i=0;if(!r)s=a=i=e;else{const c=e<.5?e*(1+r):e+r-e*r,u=2*e-c;s=Qx(u,c,t+1/3),a=Qx(u,c,t),i=Qx(u,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:n}}function hy(t,r){return e=>e>0?r:t}const Yx=(t,r,e)=>{const n=t*t,s=e*(r*r-n)+n;return s<0?0:Math.sqrt(s)},GX=[Lw,Eu,of],XX=t=>GX.find(r=>r.test(t));function x6(t){const r=XX(t);if(!r)return!1;let e=r.parse(t);return r===of&&(e=KX(e)),e}const w6=(t,r)=>{const e=x6(t),n=x6(r);if(!e||!n)return hy(t,r);const s={...e};return a=>(s.red=Yx(e.red,n.red,a),s.green=Yx(e.green,n.green,a),s.blue=Yx(e.blue,n.blue,a),s.alpha=qn(e.alpha,n.alpha,a),Eu.transform(s))},QX=(t,r)=>e=>r(t(e)),Pm=(...t)=>t.reduce(QX),Vw=new Set(["none","hidden"]);function YX(t,r){return Vw.has(t)?e=>e<=0?t:r:e=>e>=1?r:t}function ZX(t,r){return e=>qn(t,r,e)}function Y_(t){return typeof t=="number"?ZX:typeof t=="string"?P_(t)?hy:la.test(t)?w6:tQ:Array.isArray(t)?vP:typeof t=="object"?la.test(t)?w6:JX:hy}function vP(t,r){const e=[...t],n=e.length,s=t.map((a,i)=>Y_(a)(a,r[i]));return a=>{for(let i=0;i<n;i++)e[i]=s[i](a);return e}}function JX(t,r){const e={...t,...r},n={};for(const s in e)t[s]!==void 0&&r[s]!==void 0&&(n[s]=Y_(t[s])(t[s],r[s]));return s=>{for(const a in n)e[a]=n[a](s);return e}}function eQ(t,r){var e;const n=[],s={color:0,var:0,number:0};for(let a=0;a<r.values.length;a++){const i=r.types[a],c=t.indexes[i][s[i]],u=(e=t.values[c])!==null&&e!==void 0?e:0;n[a]=u,s[i]++}return n}const tQ=(t,r)=>{const e=Wc.createTransformer(r),n=$p(t),s=$p(r);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Vw.has(t)&&!s.values.length||Vw.has(r)&&!n.values.length?YX(t,r):Pm(vP(eQ(n,s),s.values),e):hy(t,r)};function xP(t,r,e){return typeof t=="number"&&typeof r=="number"&&typeof e=="number"?qn(t,r,e):Y_(t)(t,r)}const rQ=5;function wP(t,r,e){const n=Math.max(r-rQ,0);return G7(e-t(n),r-n)}const Yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zx=.001;function nQ({duration:t=Yn.duration,bounce:r=Yn.bounce,velocity:e=Yn.velocity,mass:n=Yn.mass}){let s,a,i=1-r;i=Ul(Yn.minDamping,Yn.maxDamping,i),t=Ul(Yn.minDuration,Yn.maxDuration,Dl(t)),i<1?(s=o=>{const d=o*i,p=d*t,f=d-e,h=Uw(o,i),g=Math.exp(-p);return Zx-f/h*g},a=o=>{const p=o*i*t,f=p*e+e,h=Math.pow(i,2)*Math.pow(o,2)*t,g=Math.exp(-p),y=Uw(Math.pow(o,2),i);return(-s(o)+Zx>0?-1:1)*((f-h)*g)/y}):(s=o=>{const d=Math.exp(-o*t),p=(o-e)*t+1;return-Zx+d*p},a=o=>{const d=Math.exp(-o*t),p=(e-o)*(t*t);return d*p});const c=5/t,u=aQ(s,a,c);if(t=Rl(t),isNaN(u))return{stiffness:Yn.stiffness,damping:Yn.damping,duration:t};{const o=Math.pow(u,2)*n;return{stiffness:o,damping:i*2*Math.sqrt(n*o),duration:t}}}const sQ=12;function aQ(t,r,e){let n=e;for(let s=1;s<sQ;s++)n=n-t(n)/r(n);return n}function Uw(t,r){return t*Math.sqrt(1-r*r)}const iQ=["duration","bounce"],oQ=["stiffness","damping","mass"];function _6(t,r){return r.some(e=>t[e]!==void 0)}function lQ(t){let r={velocity:Yn.velocity,stiffness:Yn.stiffness,damping:Yn.damping,mass:Yn.mass,isResolvedFromDuration:!1,...t};if(!_6(t,oQ)&&_6(t,iQ))if(t.visualDuration){const e=t.visualDuration,n=2*Math.PI/(e*1.2),s=n*n,a=2*Ul(.05,1,1-(t.bounce||0))*Math.sqrt(s);r={...r,mass:Yn.mass,stiffness:s,damping:a}}else{const e=nQ(t);r={...r,...e,mass:Yn.mass},r.isResolvedFromDuration=!0}return r}function _P(t=Yn.visualDuration,r=Yn.bounce){const e=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:r}:t;let{restSpeed:n,restDelta:s}=e;const a=e.keyframes[0],i=e.keyframes[e.keyframes.length-1],c={done:!1,value:a},{stiffness:u,damping:o,mass:d,duration:p,velocity:f,isResolvedFromDuration:h}=lQ({...e,velocity:-Dl(e.velocity||0)}),g=f||0,y=o/(2*Math.sqrt(u*d)),m=i-a,v=Dl(Math.sqrt(u/d)),x=Math.abs(m)<5;n||(n=x?Yn.restSpeed.granular:Yn.restSpeed.default),s||(s=x?Yn.restDelta.granular:Yn.restDelta.default);let j;if(y<1){const E=Uw(v,y);j=B=>{const W=Math.exp(-y*v*B);return i-W*((g+y*v*m)/E*Math.sin(E*B)+m*Math.cos(E*B))}}else if(y===1)j=E=>i-Math.exp(-v*E)*(m+(g+v*m)*E);else{const E=v*Math.sqrt(y*y-1);j=B=>{const W=Math.exp(-y*v*B),I=Math.min(E*B,300);return i-W*((g+y*v*m)*Math.sinh(I)+E*m*Math.cosh(I))/E}}const T={calculatedDuration:h&&p||null,next:E=>{const B=j(E);if(h)c.done=E>=p;else{let W=0;y<1&&(W=E===0?Rl(g):wP(j,E,B));const I=Math.abs(W)<=n,R=Math.abs(i-B)<=s;c.done=I&&R}return c.value=c.done?i:B,c},toString:()=>{const E=Math.min($7(T),Iw),B=z7(W=>T.next(E*W).value,E,30);return E+"ms "+B}};return T}function k6({keyframes:t,velocity:r=0,power:e=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:c,max:u,restDelta:o=.5,restSpeed:d}){const p=t[0],f={done:!1,value:p},h=I=>c!==void 0&&I<c||u!==void 0&&I>u,g=I=>c===void 0?u:u===void 0||Math.abs(c-I)<Math.abs(u-I)?c:u;let y=e*r;const m=p+y,v=i===void 0?m:i(m);v!==m&&(y=v-p);const x=I=>-y*Math.exp(-I/n),j=I=>v+x(I),T=I=>{const R=x(I),$=j(I);f.done=Math.abs(R)<=o,f.value=f.done?v:$};let E,B;const W=I=>{h(f.value)&&(E=I,B=_P({keyframes:[f.value,g(f.value)],velocity:wP(j,I,f.value),damping:s,stiffness:a,restDelta:o,restSpeed:d}))};return W(0),{calculatedDuration:null,next:I=>{let R=!1;return!B&&E===void 0&&(R=!0,T(I),W(I)),E!==void 0&&I>=E?B.next(I-E):(!R&&T(I),f)}}}const cQ=Am(.42,0,1,1),uQ=Am(0,0,.58,1),kP=Am(.42,0,.58,1),dQ=t=>Array.isArray(t)&&typeof t[0]!="number",fQ={linear:fi,easeIn:cQ,easeInOut:kP,easeOut:uQ,circIn:H_,circInOut:nP,circOut:rP,backIn:q_,backInOut:eP,backOut:J7,anticipate:tP},j6=t=>{if($_(t)){x7(t.length===4);const[r,e,n,s]=t;return Am(r,e,n,s)}else if(typeof t=="string")return fQ[t];return t};function hQ(t,r,e){const n=[],s=e||xP,a=t.length-1;for(let i=0;i<a;i++){let c=s(t[i],t[i+1]);if(r){const u=Array.isArray(r)?r[i]||fi:r;c=Pm(u,c)}n.push(c)}return n}function pQ(t,r,{clamp:e=!0,ease:n,mixer:s}={}){const a=t.length;if(x7(a===r.length),a===1)return()=>r[0];if(a===2&&r[0]===r[1])return()=>r[1];const i=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),r=[...r].reverse());const c=hQ(r,n,s),u=c.length,o=d=>{if(i&&d<t[0])return r[0];let p=0;if(u>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const f=$f(t[p],t[p+1],d);return c[p](f)};return e?d=>o(Ul(t[0],t[a-1],d)):o}function mQ(t,r){const e=t[t.length-1];for(let n=1;n<=r;n++){const s=$f(0,r,n);t.push(qn(e,1,s))}}function gQ(t){const r=[0];return mQ(r,t.length-1),r}function yQ(t,r){return t.map(e=>e*r)}function bQ(t,r){return t.map(()=>r||kP).splice(0,t.length-1)}function py({duration:t=300,keyframes:r,times:e,ease:n="easeInOut"}){const s=dQ(n)?n.map(j6):j6(n),a={done:!1,value:r[0]},i=yQ(e&&e.length===r.length?e:gQ(r),t),c=pQ(i,r,{ease:Array.isArray(s)?s:bQ(r,s)});return{calculatedDuration:t,next:u=>(a.value=c(u),a.done=u>=t,a)}}const vQ=t=>{const r=({timestamp:e})=>t(e);return{start:()=>Mn.update(r,!0),stop:()=>Uc(r),now:()=>Us.isProcessing?Us.timestamp:qo.now()}},xQ={decay:k6,inertia:k6,tween:py,keyframes:py,spring:_P},wQ=t=>t/100;class Z_ extends bP{constructor(r){super(r),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:e,motionValue:n,element:s,keyframes:a}=this.options,i=s?.KeyframeResolver||Q_,c=(u,o)=>this.onKeyframesResolved(u,o);this.resolver=new i(a,c,e,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(r){const{type:e="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:i=0}=this.options,c=B_(e)?e:xQ[e]||py;let u,o;c!==py&&typeof r[0]!="number"&&(u=Pm(wQ,xP(r[0],r[1])),r=[0,100]);const d=c({...this.options,keyframes:r});a==="mirror"&&(o=c({...this.options,keyframes:[...r].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=$7(d));const{calculatedDuration:p}=d,f=p+s,h=f*(n+1)-s;return{generator:d,mirroredGenerator:o,mapPercentToKeyframes:u,calculatedDuration:p,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:r=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!r?this.pause():this.state=this.pendingPlayState}tick(r,e=!1){const{resolved:n}=this;if(!n){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:i,mapPercentToKeyframes:c,keyframes:u,calculatedDuration:o,totalDuration:d,resolvedDuration:p}=n;if(this.startTime===null)return a.next(0);const{delay:f,repeat:h,repeatType:g,repeatDelay:y,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-d/this.speed,this.startTime)),e?this.currentTime=r:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(r-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),x=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let j=this.currentTime,T=a;if(h){const I=Math.min(this.currentTime,d)/p;let R=Math.floor(I),$=I%1;!$&&I>=1&&($=1),$===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(g==="reverse"?($=1-$,y&&($-=y/p)):g==="mirror"&&(T=i)),j=Ul(0,1,$)*p}const E=x?{done:!1,value:u[0]}:T.next(j);c&&(E.value=c(E.value));let{done:B}=E;!x&&o!==null&&(B=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const W=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return W&&s!==void 0&&(E.value=xb(u,this.options,s)),m&&m(E.value),W&&this.finish(),E}get duration(){const{resolved:r}=this;return r?Dl(r.calculatedDuration):0}get time(){return Dl(this.currentTime)}set time(r){r=Rl(r),this.currentTime=r,this.holdTime!==null||this.speed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.speed)}get speed(){return this.playbackSpeed}set speed(r){const e=this.playbackSpeed!==r;this.playbackSpeed=r,e&&(this.time=Dl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:r=vQ,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=r(a=>this.tick(a))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var r;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(r=this.currentTime)!==null&&r!==void 0?r:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:r}=this.options;r&&r()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}}const _Q=new Set(["opacity","clipPath","filter","transform"]);function kQ(t,r,e,{delay:n=0,duration:s=300,repeat:a=0,repeatType:i="loop",ease:c="easeInOut",times:u}={}){const o={[r]:e};u&&(o.offset=u);const d=U7(c,s);return Array.isArray(d)&&(o.easing=d),t.animate(o,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"})}const jQ=j_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),my=10,SQ=2e4;function NQ(t){return B_(t.type)||t.type==="spring"||!V7(t.ease)}function CQ(t,r){const e=new Z_({...r,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const s=[];let a=0;for(;!n.done&&a<SQ;)n=e.sample(a),s.push(n.value),a+=my;return{times:void 0,keyframes:s,duration:a-my,ease:"linear"}}const jP={anticipate:tP,backInOut:eP,circInOut:nP};function TQ(t){return t in jP}class S6 extends bP{constructor(r){super(r);const{name:e,motionValue:n,element:s,keyframes:a}=this.options;this.resolver=new yP(a,(i,c)=>this.onKeyframesResolved(i,c),e,n,s),this.resolver.scheduleResolve()}initPlayback(r,e){let{duration:n=300,times:s,ease:a,type:i,motionValue:c,name:u,startTime:o}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&fy()&&TQ(a)&&(a=jP[a]),NQ(this.options)){const{onComplete:p,onUpdate:f,motionValue:h,element:g,...y}=this.options,m=CQ(r,y);r=m.keyframes,r.length===1&&(r[1]=r[0]),n=m.duration,s=m.times,a=m.ease,i="keyframes"}const d=kQ(c.owner.current,u,r,{...this.options,duration:n,times:s,ease:a});return d.startTime=o??this.calcStartTime(),this.pendingTimeline?(c6(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;c.set(xb(r,this.options,e)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:i,ease:a,keyframes:r}}get duration(){const{resolved:r}=this;if(!r)return 0;const{duration:e}=r;return Dl(e)}get time(){const{resolved:r}=this;if(!r)return 0;const{animation:e}=r;return Dl(e.currentTime||0)}set time(r){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=Rl(r)}get speed(){const{resolved:r}=this;if(!r)return 1;const{animation:e}=r;return e.playbackRate}set speed(r){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=r}get state(){const{resolved:r}=this;if(!r)return"idle";const{animation:e}=r;return e.playState}get startTime(){const{resolved:r}=this;if(!r)return null;const{animation:e}=r;return e.startTime}attachTimeline(r){if(!this._resolved)this.pendingTimeline=r;else{const{resolved:e}=this;if(!e)return fi;const{animation:n}=e;c6(n,r)}return fi}play(){if(this.isStopped)return;const{resolved:r}=this;if(!r)return;const{animation:e}=r;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:r}=this;if(!r)return;const{animation:e}=r;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:r}=this;if(!r)return;const{animation:e,keyframes:n,duration:s,type:a,ease:i,times:c}=r;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:o,onUpdate:d,onComplete:p,element:f,...h}=this.options,g=new Z_({...h,keyframes:n,duration:s,type:a,ease:i,times:c,isGenerator:!0}),y=Rl(this.time);o.setWithVelocity(g.sample(y-my).value,g.sample(y).value,my)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:r}=this;r&&r.animation.finish()}cancel(){const{resolved:r}=this;r&&r.animation.cancel()}static supports(r){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:i,type:c}=r;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:o}=e.owner.getProps();return jQ()&&n&&_Q.has(n)&&!u&&!o&&!s&&a!=="mirror"&&i!==0&&c!=="inertia"}}const EQ={type:"spring",stiffness:500,damping:25,restSpeed:10},AQ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),PQ={type:"keyframes",duration:.8},MQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RQ=(t,{keyframes:r})=>r.length>2?PQ:md.has(t)?t.startsWith("scale")?AQ(r[1]):EQ:MQ;function DQ({when:t,delay:r,delayChildren:e,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:c,from:u,elapsed:o,...d}){return!!Object.keys(d).length}const J_=(t,r,e,n={},s,a)=>i=>{const c=L_(n,t)||{},u=c.delay||n.delay||0;let{elapsed:o=0}=n;o=o-Rl(u);let d={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:r.getVelocity(),...c,delay:-o,onUpdate:f=>{r.set(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{i(),c.onComplete&&c.onComplete()},name:t,motionValue:r,element:a?void 0:s};DQ(c)||(d={...d,...RQ(t,d)}),d.duration&&(d.duration=Rl(d.duration)),d.repeatDelay&&(d.repeatDelay=Rl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!a&&r.get()!==void 0){const f=xb(d.keyframes,c);if(f!==void 0)return Mn.update(()=>{d.onUpdate(f),d.onComplete()}),new JG([])}return!a&&S6.supports(d)?new S6(d):new Z_(d)};function IQ({protectedKeys:t,needsAnimating:r},e){const n=t.hasOwnProperty(e)&&r[e]!==!0;return r[e]=!1,n}function SP(t,r,{delay:e=0,transitionOverride:n,type:s}={}){var a;let{transition:i=t.getDefaultTransition(),transitionEnd:c,...u}=r;n&&(i=n);const o=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const f=t.getValue(p,(a=t.latestValues[p])!==null&&a!==void 0?a:null),h=u[p];if(h===void 0||d&&IQ(d,p))continue;const g={delay:e,...L_(i||{},p)};let y=!1;if(window.MotionHandoffAnimation){const v=X7(t);if(v){const x=window.MotionHandoffAnimation(v,p,Mn);x!==null&&(g.startTime=x,y=!0)}}Fw(t,p),f.start(J_(p,f,h,t.shouldReduceMotion&&K7.has(p)?{type:!1}:g,t,y));const m=f.animation;m&&o.push(m)}return c&&Promise.all(o).then(()=>{Mn.update(()=>{c&&hX(t,c)})}),o}function Ww(t,r,e={}){var n;const s=vb(t,r,e.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const i=s?()=>Promise.all(SP(t,s,e)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(o=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:f}=a;return OQ(t,r,d+o,p,f,e)}:()=>Promise.resolve(),{when:u}=a;if(u){const[o,d]=u==="beforeChildren"?[i,c]:[c,i];return o().then(()=>d())}else return Promise.all([i(),c(e.delay)])}function OQ(t,r,e=0,n=0,s=1,a){const i=[],c=(t.variantChildren.size-1)*n,u=s===1?(o=0)=>o*n:(o=0)=>c-o*n;return Array.from(t.variantChildren).sort(FQ).forEach((o,d)=>{o.notify("AnimationStart",r),i.push(Ww(o,r,{...a,delay:e+u(d)}).then(()=>o.notify("AnimationComplete",r)))}),Promise.all(i)}function FQ(t,r){return t.sortNodePosition(r)}function LQ(t,r,e={}){t.notify("AnimationStart",r);let n;if(Array.isArray(r)){const s=r.map(a=>Ww(t,a,e));n=Promise.all(s)}else if(typeof r=="string")n=Ww(t,r,e);else{const s=typeof r=="function"?vb(t,r,e.custom):r;n=Promise.all(SP(t,s,e))}return n.then(()=>{t.notify("AnimationComplete",r)})}const BQ=N_.length;function NP(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent?NP(t.parent)||{}:{};return t.props.initial!==void 0&&(e.initial=t.props.initial),e}const r={};for(let e=0;e<BQ;e++){const n=N_[e],s=t.props[n];(Fp(s)||s===!1)&&(r[n]=s)}return r}const $Q=[...S_].reverse(),zQ=S_.length;function VQ(t){return r=>Promise.all(r.map(({animation:e,options:n})=>LQ(t,e,n)))}function UQ(t){let r=VQ(t),e=N6(),n=!0;const s=u=>(o,d)=>{var p;const f=vb(t,d,u==="exit"?(p=t.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(f){const{transition:h,transitionEnd:g,...y}=f;o={...o,...y,...g}}return o};function a(u){r=u(t)}function i(u){const{props:o}=t,d=NP(t.parent)||{},p=[],f=new Set;let h={},g=1/0;for(let m=0;m<zQ;m++){const v=$Q[m],x=e[v],j=o[v]!==void 0?o[v]:d[v],T=Fp(j),E=v===u?x.isActive:null;E===!1&&(g=m);let B=j===d[v]&&j!==o[v]&&T;if(B&&n&&t.manuallyAnimateOnMount&&(B=!1),x.protectedKeys={...h},!x.isActive&&E===null||!j&&!x.prevProp||yb(j)||typeof j=="boolean")continue;const W=WQ(x.prevProp,j);let I=W||v===u&&x.isActive&&!B&&T||m>g&&T,R=!1;const $=Array.isArray(j)?j:[j];let K=$.reduce(s(v),{});E===!1&&(K={});const{prevResolvedValues:H={}}=x,M={...H,...K},F=S=>{I=!0,f.has(S)&&(R=!0,f.delete(S)),x.needsAnimating[S]=!0;const k=t.getValue(S);k&&(k.liveStyle=!1)};for(const S in M){const k=K[S],N=H[S];if(h.hasOwnProperty(S))continue;let D=!1;Dw(k)&&Dw(N)?D=!B7(k,N):D=k!==N,D?k!=null?F(S):f.add(S):k!==void 0&&f.has(S)?F(S):x.protectedKeys[S]=!0}x.prevProp=j,x.prevResolvedValues=K,x.isActive&&(h={...h,...K}),n&&t.blockInitialAnimation&&(I=!1),I&&(!(B&&W)||R)&&p.push(...$.map(S=>({animation:S,options:{type:v}})))}if(f.size){const m={};f.forEach(v=>{const x=t.getBaseTarget(v),j=t.getValue(v);j&&(j.liveStyle=!0),m[v]=x??null}),p.push({animation:m})}let y=!!p.length;return n&&(o.initial===!1||o.initial===o.animate)&&!t.manuallyAnimateOnMount&&(y=!1),n=!1,y?r(p):Promise.resolve()}function c(u,o){var d;if(e[u].isActive===o)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(u,o)}),e[u].isActive=o;const p=i(u);for(const f in e)e[f].protectedKeys={};return p}return{animateChanges:i,setActive:c,setAnimateFunction:a,getState:()=>e,reset:()=>{e=N6(),n=!0}}}function WQ(t,r){return typeof r=="string"?r!==t:Array.isArray(r)?!B7(r,t):!1}function ku(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N6(){return{animate:ku(!0),whileInView:ku(),whileHover:ku(),whileTap:ku(),whileDrag:ku(),whileFocus:ku(),exit:ku()}}class Zc{constructor(r){this.isMounted=!1,this.node=r}update(){}}class qQ extends Zc{constructor(r){super(r),r.animationState||(r.animationState=UQ(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();yb(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:e}=this.node.prevProps||{};r!==e&&this.updateAnimationControlsSubscription()}unmount(){var r;this.node.animationState.reset(),(r=this.unmountControls)===null||r===void 0||r.call(this)}}let HQ=0;class KQ extends Zc{constructor(){super(...arguments),this.id=HQ++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===n)return;const s=this.node.animationState.setActive("exit",!r);e&&!r&&s.then(()=>e(this.id))}mount(){const{register:r}=this.node.presenceContext||{};r&&(this.unmount=r(this.id))}unmount(){}}const GQ={animation:{Feature:qQ},exit:{Feature:KQ}};function zp(t,r,e,n={passive:!0}){return t.addEventListener(r,e,n),()=>t.removeEventListener(r,e)}function Mm(t){return{point:{x:t.pageX,y:t.pageY}}}const XQ=t=>r=>z_(r)&&t(r,Mm(r));function vp(t,r,e,n){return zp(t,r,XQ(e),n)}const C6=(t,r)=>Math.abs(t-r);function QQ(t,r){const e=C6(t.x,r.x),n=C6(t.y,r.y);return Math.sqrt(e**2+n**2)}class CP{constructor(r,e,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=e1(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=QQ(p.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:g}=p,{timestamp:y}=Us;this.history.push({...g,timestamp:y});const{onStart:m,onMove:v}=this.handlers;f||(m&&m(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,f)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Jx(f,this.transformPagePoint),Mn.update(this.updatePoint,!0)},this.handlePointerUp=(p,f)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=e1(p.type==="pointercancel"?this.lastMoveEventInfo:Jx(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(p,m),g&&g(p,m)},!z_(r))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=n,this.contextWindow=s||window;const i=Mm(r),c=Jx(i,this.transformPagePoint),{point:u}=c,{timestamp:o}=Us;this.history=[{...u,timestamp:o}];const{onSessionStart:d}=e;d&&d(r,e1(c,this.history)),this.removeListeners=Pm(vp(this.contextWindow,"pointermove",this.handlePointerMove),vp(this.contextWindow,"pointerup",this.handlePointerUp),vp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),Uc(this.updatePoint)}}function Jx(t,r){return r?{point:r(t.point)}:t}function T6(t,r){return{x:t.x-r.x,y:t.y-r.y}}function e1({point:t},r){return{point:t,delta:T6(t,TP(r)),offset:T6(t,YQ(r)),velocity:ZQ(r,.1)}}function YQ(t){return t[0]}function TP(t){return t[t.length-1]}function ZQ(t,r){if(t.length<2)return{x:0,y:0};let e=t.length-1,n=null;const s=TP(t);for(;e>=0&&(n=t[e],!(s.timestamp-n.timestamp>Rl(r)));)e--;if(!n)return{x:0,y:0};const a=Dl(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const i={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}const EP=1e-4,JQ=1-EP,eY=1+EP,AP=.01,tY=0-AP,rY=0+AP;function mi(t){return t.max-t.min}function nY(t,r,e){return Math.abs(t-r)<=e}function E6(t,r,e,n=.5){t.origin=n,t.originPoint=qn(r.min,r.max,t.origin),t.scale=mi(e)/mi(r),t.translate=qn(e.min,e.max,t.origin)-t.originPoint,(t.scale>=JQ&&t.scale<=eY||isNaN(t.scale))&&(t.scale=1),(t.translate>=tY&&t.translate<=rY||isNaN(t.translate))&&(t.translate=0)}function xp(t,r,e,n){E6(t.x,r.x,e.x,n?n.originX:void 0),E6(t.y,r.y,e.y,n?n.originY:void 0)}function A6(t,r,e){t.min=e.min+r.min,t.max=t.min+mi(r)}function sY(t,r,e){A6(t.x,r.x,e.x),A6(t.y,r.y,e.y)}function P6(t,r,e){t.min=r.min-e.min,t.max=t.min+mi(r)}function wp(t,r,e){P6(t.x,r.x,e.x),P6(t.y,r.y,e.y)}function aY(t,{min:r,max:e},n){return r!==void 0&&t<r?t=n?qn(r,t,n.min):Math.max(t,r):e!==void 0&&t>e&&(t=n?qn(e,t,n.max):Math.min(t,e)),t}function M6(t,r,e){return{min:r!==void 0?t.min+r:void 0,max:e!==void 0?t.max+e-(t.max-t.min):void 0}}function iY(t,{top:r,left:e,bottom:n,right:s}){return{x:M6(t.x,e,s),y:M6(t.y,r,n)}}function R6(t,r){let e=r.min-t.min,n=r.max-t.max;return r.max-r.min<t.max-t.min&&([e,n]=[n,e]),{min:e,max:n}}function oY(t,r){return{x:R6(t.x,r.x),y:R6(t.y,r.y)}}function lY(t,r){let e=.5;const n=mi(t),s=mi(r);return s>n?e=$f(r.min,r.max-n,t.min):n>s&&(e=$f(t.min,t.max-s,r.min)),Ul(0,1,e)}function cY(t,r){const e={};return r.min!==void 0&&(e.min=r.min-t.min),r.max!==void 0&&(e.max=r.max-t.min),e}const qw=.35;function uY(t=qw){return t===!1?t=0:t===!0&&(t=qw),{x:D6(t,"left","right"),y:D6(t,"top","bottom")}}function D6(t,r,e){return{min:I6(t,r),max:I6(t,e)}}function I6(t,r){return typeof t=="number"?t:t[r]||0}const O6=()=>({translate:0,scale:1,origin:0,originPoint:0}),lf=()=>({x:O6(),y:O6()}),F6=()=>({min:0,max:0}),es=()=>({x:F6(),y:F6()});function Ei(t){return[t("x"),t("y")]}function PP({top:t,left:r,right:e,bottom:n}){return{x:{min:r,max:e},y:{min:t,max:n}}}function dY({x:t,y:r}){return{top:r.min,right:t.max,bottom:r.max,left:t.min}}function fY(t,r){if(!r)return t;const e=r({x:t.left,y:t.top}),n=r({x:t.right,y:t.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function t1(t){return t===void 0||t===1}function Hw({scale:t,scaleX:r,scaleY:e}){return!t1(t)||!t1(r)||!t1(e)}function ju(t){return Hw(t)||MP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function MP(t){return L6(t.x)||L6(t.y)}function L6(t){return t&&t!=="0%"}function gy(t,r,e){const n=t-e,s=r*n;return e+s}function B6(t,r,e,n,s){return s!==void 0&&(t=gy(t,s,n)),gy(t,e,n)+r}function Kw(t,r=0,e=1,n,s){t.min=B6(t.min,r,e,n,s),t.max=B6(t.max,r,e,n,s)}function RP(t,{x:r,y:e}){Kw(t.x,r.translate,r.scale,r.originPoint),Kw(t.y,e.translate,e.scale,e.originPoint)}const $6=.999999999999,z6=1.0000000000001;function hY(t,r,e,n=!1){const s=e.length;if(!s)return;r.x=r.y=1;let a,i;for(let c=0;c<s;c++){a=e[c],i=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&uf(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(r.x*=i.x.scale,r.y*=i.y.scale,RP(t,i)),n&&ju(a.latestValues)&&uf(t,a.latestValues))}r.x<z6&&r.x>$6&&(r.x=1),r.y<z6&&r.y>$6&&(r.y=1)}function cf(t,r){t.min=t.min+r,t.max=t.max+r}function V6(t,r,e,n,s=.5){const a=qn(t.min,t.max,s);Kw(t,r,e,a,n)}function uf(t,r){V6(t.x,r.x,r.scaleX,r.scale,r.originX),V6(t.y,r.y,r.scaleY,r.scale,r.originY)}function DP(t,r){return PP(fY(t.getBoundingClientRect(),r))}function pY(t,r,e){const n=DP(t,e),{scroll:s}=r;return s&&(cf(n.x,s.offset.x),cf(n.y,s.offset.y)),n}const IP=({current:t})=>t?t.ownerDocument.defaultView:null,mY=new WeakMap;class gY{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=es(),this.visualElement=r}start(r,{snapToCursor:e=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Mm(d).point)},a=(d,p)=>{const{drag:f,dragPropagation:h,onDragStart:g}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lX(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ei(m=>{let v=this.getAxisMotionValue(m).get()||0;if(Wo.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const j=x.layout.layoutBox[m];j&&(v=mi(j)*(parseFloat(v)/100))}}this.originPoint[m]=v}),g&&Mn.postRender(()=>g(d,p)),Fw(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},i=(d,p)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:m}=p;if(h&&this.currentDirection===null){this.currentDirection=yY(m),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",p.point,m),this.updateAxis("y",p.point,m),this.visualElement.render(),y&&y(d,p)},c=(d,p)=>this.stop(d,p),u=()=>Ei(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:o}=this.getProps();this.panSession=new CP(r,{onSessionStart:s,onStart:a,onMove:i,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:o,contextWindow:IP(this.visualElement)})}stop(r,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Mn.postRender(()=>a(r,e))}cancel(){this.isDragging=!1;const{projection:r,animationState:e}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(r,e,n){const{drag:s}=this.getProps();if(!n||!cg(r,s,this.currentDirection))return;const a=this.getAxisMotionValue(r);let i=this.originPoint[r]+n[r];this.constraints&&this.constraints[r]&&(i=aY(i,this.constraints[r],this.elastic[r])),a.set(i)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)===null||r===void 0?void 0:r.layout,a=this.constraints;e&&af(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=iY(s.layoutBox,e):this.constraints=!1,this.elastic=uY(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ei(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=cY(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:e}=this.getProps();if(!r||!af(r))return!1;const n=r.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=pY(n,s.root,this.visualElement.getTransformPagePoint());let i=oY(s.layout.layoutBox,a);if(e){const c=e(dY(i));this.hasMutatedConstraints=!!c,c&&(i=PP(c))}return i}startAnimation(r){const{drag:e,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},o=Ei(d=>{if(!cg(d,e,this.currentDirection))return;let p=u&&u[d]||{};i&&(p={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,g={type:"inertia",velocity:n?r[d]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(d,g)});return Promise.all(o).then(c)}startAxisValueAnimation(r,e){const n=this.getAxisMotionValue(r);return Fw(this.visualElement,r),n.start(J_(r,n,0,e,this.visualElement,!1))}stopAnimation(){Ei(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){Ei(r=>{var e;return(e=this.getAxisMotionValue(r).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(r){var e;return(e=this.getAxisMotionValue(r).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(r){const e=`_drag${r.toUpperCase()}`,n=this.visualElement.getProps(),s=n[e];return s||this.visualElement.getValue(r,(n.initial?n.initial[r]:void 0)||0)}snapToCursor(r){Ei(e=>{const{drag:n}=this.getProps();if(!cg(e,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(e);if(s&&s.layout){const{min:i,max:c}=s.layout.layoutBox[e];a.set(r[e]-qn(i,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!af(e)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ei(i=>{const c=this.getAxisMotionValue(i);if(c&&this.constraints!==!1){const u=c.get();s[i]=lY({min:u,max:u},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ei(i=>{if(!cg(i,r,null))return;const c=this.getAxisMotionValue(i),{min:u,max:o}=this.constraints[i];c.set(qn(u,o,s[i]))})}addListeners(){if(!this.visualElement.current)return;mY.set(this.visualElement,this);const r=this.visualElement.current,e=vp(r,"pointerdown",u=>{const{drag:o,dragListener:d=!0}=this.getProps();o&&d&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();af(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Mn.read(n);const i=zp(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:o})=>{this.isDragging&&o&&(Ei(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=u[d].translate,p.set(p.get()+u[d].translate))}),this.visualElement.render())}));return()=>{i(),e(),a(),c&&c()}}getProps(){const r=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=qw,dragMomentum:c=!0}=r;return{...r,drag:e,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:c}}}function cg(t,r,e){return(r===!0||r===t)&&(e===null||e===t)}function yY(t,r=10){let e=null;return Math.abs(t.y)>r?e="y":Math.abs(t.x)>r&&(e="x"),e}class bY extends Zc{constructor(r){super(r),this.removeGroupControls=fi,this.removeListeners=fi,this.controls=new gY(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fi}unmount(){this.removeGroupControls(),this.removeListeners()}}const U6=t=>(r,e)=>{t&&Mn.postRender(()=>t(r,e))};class vY extends Zc{constructor(){super(...arguments),this.removePointerDownListener=fi}onPointerDown(r){this.session=new CP(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IP(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:e,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:U6(r),onStart:U6(e),onMove:n,onEnd:(a,i)=>{delete this.session,s&&Mn.postRender(()=>s(a,i))}}}mount(){this.removePointerDownListener=vp(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function W6(t,r){return r.max===r.min?0:t/(r.max-r.min)*100}const Zh={correct:(t,r)=>{if(!r.target)return t;if(typeof t=="string")if(fr.test(t))t=parseFloat(t);else return t;const e=W6(t,r.target.x),n=W6(t,r.target.y);return`${e}% ${n}%`}},xY={correct:(t,{treeScale:r,projectionDelta:e})=>{const n=t,s=Wc.parse(t);if(s.length>5)return n;const a=Wc.createTransformer(t),i=typeof s[0]!="number"?1:0,c=e.x.scale*r.x,u=e.y.scale*r.y;s[0+i]/=c,s[1+i]/=u;const o=qn(c,u,.5);return typeof s[2+i]=="number"&&(s[2+i]/=o),typeof s[3+i]=="number"&&(s[3+i]/=o),a(s)}};class wY extends P.Component{componentDidMount(){const{visualElement:r,layoutGroup:e,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=r;zG(_Y),a&&(e.group&&e.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Dg.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:e,visualElement:n,drag:s,isPresent:a}=this.props,i=n.projection;return i&&(i.isPresent=a,s||r.layoutDependency!==e||e===void 0?i.willUpdate():this.safeToRemove(),r.isPresent!==a&&(a?i.promote():i.relegate()||Mn.postRender(()=>{const c=i.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),T_.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:s}=r;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function OP(t){const[r,e]=b7(),n=P.useContext(x_);return l.jsx(wY,{...t,layoutGroup:n,switchLayoutGroup:P.useContext(N7),isPresent:r,safeToRemove:e})}const _Y={borderRadius:{...Zh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zh,borderTopRightRadius:Zh,borderBottomLeftRadius:Zh,borderBottomRightRadius:Zh,boxShadow:xY};function kY(t,r,e){const n=ua(t)?t:Bp(t);return n.start(J_("",n,r,e)),n.animation}function jY(t){return t instanceof SVGElement&&t.tagName!=="svg"}const SY=(t,r)=>t.depth-r.depth;class NY{constructor(){this.children=[],this.isDirty=!1}add(r){V_(this.children,r),this.isDirty=!0}remove(r){U_(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(SY),this.isDirty=!1,this.children.forEach(r)}}function CY(t,r){const e=qo.now(),n=({timestamp:s})=>{const a=s-e;a>=r&&(Uc(n),t(a-r))};return Mn.read(n,!0),()=>Uc(n)}const FP=["TopLeft","TopRight","BottomLeft","BottomRight"],TY=FP.length,q6=t=>typeof t=="string"?parseFloat(t):t,H6=t=>typeof t=="number"||fr.test(t);function EY(t,r,e,n,s,a){s?(t.opacity=qn(0,e.opacity!==void 0?e.opacity:1,AY(n)),t.opacityExit=qn(r.opacity!==void 0?r.opacity:1,0,PY(n))):a&&(t.opacity=qn(r.opacity!==void 0?r.opacity:1,e.opacity!==void 0?e.opacity:1,n));for(let i=0;i<TY;i++){const c=`border${FP[i]}Radius`;let u=K6(r,c),o=K6(e,c);if(u===void 0&&o===void 0)continue;u||(u=0),o||(o=0),u===0||o===0||H6(u)===H6(o)?(t[c]=Math.max(qn(q6(u),q6(o),n),0),(Wo.test(o)||Wo.test(u))&&(t[c]+="%")):t[c]=o}(r.rotate||e.rotate)&&(t.rotate=qn(r.rotate||0,e.rotate||0,n))}function K6(t,r){return t[r]!==void 0?t[r]:t.borderRadius}const AY=LP(0,.5,rP),PY=LP(.5,.95,fi);function LP(t,r,e){return n=>n<t?0:n>r?1:e($f(t,r,n))}function G6(t,r){t.min=r.min,t.max=r.max}function Ti(t,r){G6(t.x,r.x),G6(t.y,r.y)}function X6(t,r){t.translate=r.translate,t.scale=r.scale,t.originPoint=r.originPoint,t.origin=r.origin}function Q6(t,r,e,n,s){return t-=r,t=gy(t,1/e,n),s!==void 0&&(t=gy(t,1/s,n)),t}function MY(t,r=0,e=1,n=.5,s,a=t,i=t){if(Wo.test(r)&&(r=parseFloat(r),r=qn(i.min,i.max,r/100)-i.min),typeof r!="number")return;let c=qn(a.min,a.max,n);t===a&&(c-=r),t.min=Q6(t.min,r,e,c,s),t.max=Q6(t.max,r,e,c,s)}function Y6(t,r,[e,n,s],a,i){MY(t,r[e],r[n],r[s],r.scale,a,i)}const RY=["x","scaleX","originX"],DY=["y","scaleY","originY"];function Z6(t,r,e,n){Y6(t.x,r,RY,e?e.x:void 0,n?n.x:void 0),Y6(t.y,r,DY,e?e.y:void 0,n?n.y:void 0)}function J6(t){return t.translate===0&&t.scale===1}function BP(t){return J6(t.x)&&J6(t.y)}function eS(t,r){return t.min===r.min&&t.max===r.max}function IY(t,r){return eS(t.x,r.x)&&eS(t.y,r.y)}function tS(t,r){return Math.round(t.min)===Math.round(r.min)&&Math.round(t.max)===Math.round(r.max)}function $P(t,r){return tS(t.x,r.x)&&tS(t.y,r.y)}function rS(t){return mi(t.x)/mi(t.y)}function nS(t,r){return t.translate===r.translate&&t.scale===r.scale&&t.originPoint===r.originPoint}class OY{constructor(){this.members=[]}add(r){V_(this.members,r),r.scheduleRender()}remove(r){if(U_(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(r){const e=this.members.findIndex(s=>r===s);if(e===0)return!1;let n;for(let s=e;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(r,e){const n=this.lead;if(r!==n&&(this.prevLead=n,this.lead=r,r.show(),n)){n.instance&&n.scheduleRender(),r.scheduleRender(),r.resumeFrom=n,e&&(r.resumeFrom.preserveOpacity=!0),n.snapshot&&(r.snapshot=n.snapshot,r.snapshot.latestValues=n.animationValues||n.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:s}=r.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:e,resumingFrom:n}=r;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FY(t,r,e){let n="";const s=t.x.translate/r.x,a=t.y.translate/r.y,i=e?.z||0;if((s||a||i)&&(n=`translate3d(${s}px, ${a}px, ${i}px) `),(r.x!==1||r.y!==1)&&(n+=`scale(${1/r.x}, ${1/r.y}) `),e){const{transformPerspective:o,rotate:d,rotateX:p,rotateY:f,skewX:h,skewY:g}=e;o&&(n=`perspective(${o}px) ${n}`),d&&(n+=`rotate(${d}deg) `),p&&(n+=`rotateX(${p}deg) `),f&&(n+=`rotateY(${f}deg) `),h&&(n+=`skewX(${h}deg) `),g&&(n+=`skewY(${g}deg) `)}const c=t.x.scale*r.x,u=t.y.scale*r.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const Su={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},lp=typeof window<"u"&&window.MotionDebug!==void 0,r1=["","X","Y","Z"],LY={visibility:"hidden"},sS=1e3;let BY=0;function n1(t,r,e,n){const{latestValues:s}=r;s[t]&&(e[t]=s[t],r.setStaticValue(t,0),n&&(n[t]=0))}function zP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:r}=t.options;if(!r)return;const e=X7(r);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(e,"transform",Mn,!(s||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&zP(n)}function VP({attachResizeListener:t,defaultParent:r,measureScroll:e,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},c=r?.()){this.id=BY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lp&&(Su.totalNodes=Su.resolvedTargetDeltas=Su.recalculatedProjection=0),this.nodes.forEach(VY),this.nodes.forEach(KY),this.nodes.forEach(GY),this.nodes.forEach(UY),lp&&window.MotionDebug.record(Su)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new NY)}addEventListener(i,c){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new W_),this.eventHandlers.get(i).add(c)}notifyListeners(i,...c){const u=this.eventHandlers.get(i);u&&u.notify(...c)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jY(i),this.instance=i;const{layoutId:u,layout:o,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(o||u)&&(this.isLayoutDirty=!0),t){let p;const f=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=CY(f,250),Dg.hasAnimatedSinceResize&&(Dg.hasAnimatedSinceResize=!1,this.nodes.forEach(iS))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||o)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||JY,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=d.getProps(),x=!this.targetLayout||!$P(this.targetLayout,g)||h,j=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,j);const T={...L_(y,"layout"),onPlay:m,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else f||iS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Uc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XY),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const o=this.getTransformTemplate();this.prevTransformTemplateValue=o?o(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aS);return}this.isUpdating||this.nodes.forEach(qY),this.isUpdating=!1,this.nodes.forEach(HY),this.nodes.forEach($Y),this.nodes.forEach(zY),this.clearAllSnapshots();const c=qo.now();Us.delta=Ul(0,1e3/60,c-Us.timestamp),Us.timestamp=c,Us.isProcessing=!0,Kx.update.process(Us),Kx.preRender.process(Us),Kx.render.process(Us),Us.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,T_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WY),this.sharedNodes.forEach(QY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=es(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(c=!1),c){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!BP(this.projectionDelta),u=this.getTransformTemplate(),o=u?u(this.latestValues,""):void 0,d=o!==this.prevTransformTemplateValue;i&&(c||ju(this.latestValues)||d)&&(s(this.instance,o),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return i&&(u=this.removeTransform(u)),eZ(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:c}=this.options;if(!c)return es();const u=c.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(tZ))){const{scroll:d}=this.root;d&&(cf(u.x,d.offset.x),cf(u.y,d.offset.y))}return u}removeElementScroll(i){var c;const u=es();if(Ti(u,i),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let o=0;o<this.path.length;o++){const d=this.path[o],{scroll:p,options:f}=d;d!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&Ti(u,i),cf(u.x,p.offset.x),cf(u.y,p.offset.y))}return u}applyTransform(i,c=!1){const u=es();Ti(u,i);for(let o=0;o<this.path.length;o++){const d=this.path[o];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&uf(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ju(d.latestValues)&&uf(u,d.latestValues)}return ju(this.latestValues)&&uf(u,this.latestValues),u}removeTransform(i){const c=es();Ti(c,i);for(let u=0;u<this.path.length;u++){const o=this.path[u];if(!o.instance||!ju(o.latestValues))continue;Hw(o.latestValues)&&o.updateSnapshot();const d=es(),p=o.measurePageBox();Ti(d,p),Z6(c,o.latestValues,o.snapshot?o.snapshot.layoutBox:void 0,d)}return ju(this.latestValues)&&Z6(c,this.latestValues),c}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Us.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const o=!!this.resumingFrom||this!==u;if(!(i||o&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:f}=this.options;if(!(!this.layout||!(p||f))){if(this.resolvedRelativeTargetAt=Us.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=es(),this.relativeTargetOrigin=es(),wp(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=es(),this.targetWithTransforms=es()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),RP(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=es(),this.relativeTargetOrigin=es(),wp(this.relativeTargetOrigin,this.target,h.target),Ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lp&&Su.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Hw(this.parent.latestValues)||MP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let o=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(o=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(o=!1),this.resolvedRelativeTargetAt===Us.timestamp&&(o=!1),o)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Ti(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;hY(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=es());const{target:g}=c;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(X6(this.prevProjectionDelta.x,this.projectionDelta.x),X6(this.prevProjectionDelta.y,this.projectionDelta.y)),xp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!nS(this.projectionDelta.x,this.prevProjectionDelta.x)||!nS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),lp&&Su.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lf(),this.projectionDelta=lf(),this.projectionDeltaWithTransform=lf()}setAnimationOrigin(i,c=!1){const u=this.snapshot,o=u?u.latestValues:{},d={...this.latestValues},p=lf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const f=es(),h=u?u.source:void 0,g=this.layout?this.layout.source:void 0,y=h!==g,m=this.getStack(),v=!m||m.members.length<=1,x=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(ZY));this.animationProgress=0;let j;this.mixTargetDelta=T=>{const E=T/1e3;oS(p.x,i.x,E),oS(p.y,i.y,E),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wp(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YY(this.relativeTarget,this.relativeTargetOrigin,f,E),j&&IY(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=es()),Ti(j,this.relativeTarget)),y&&(this.animationValues=d,EY(d,o,this.latestValues,E,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Uc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mn.update(()=>{Dg.hasAnimatedSinceResize=!0,this.currentAnimation=kY(0,sS,{...i,onUpdate:c=>{this.mixTargetDelta(c),i.onUpdate&&i.onUpdate(c)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:c,target:u,layout:o,latestValues:d}=i;if(!(!c||!u||!o)){if(this!==i&&this.layout&&o&&UP(this.options.animationType,this.layout.layoutBox,o.layoutBox)){u=this.target||es();const p=mi(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+p;const f=mi(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+f}Ti(c,u),uf(c,d),xp(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(i,c){this.sharedNodes.has(i)||this.sharedNodes.set(i,new OY),this.sharedNodes.get(i).add(c);const o=c.options.initialPromotionConfig;c.promote({transition:o?o.transition:void 0,preserveFollowOpacity:o&&o.shouldPreserveFollowOpacity?o.shouldPreserveFollowOpacity(c):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:c}=this.options;return c?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:c}=this.options;return c?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:c,preserveFollowOpacity:u}={}){const o=this.getStack();o&&o.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let c=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const o={};u.z&&n1("z",i,o,this.animationValues);for(let d=0;d<r1.length;d++)n1(`rotate${r1[d]}`,i,o,this.animationValues),n1(`skew${r1[d]}`,i,o,this.animationValues);i.render();for(const d in o)i.setStaticValue(d,o[d]),this.animationValues&&(this.animationValues[d]=o[d]);i.scheduleRender()}getProjectionStyles(i){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return LY;const o={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=Mg(i?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none",o;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Mg(i?.pointerEvents)||""),this.hasProjected&&!ju(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=p.animationValues||p.latestValues;this.applyTransformsToTarget(),o.transform=FY(this.projectionDeltaWithTransform,this.treeScale,f),d&&(o.transform=d(f,o.transform));const{x:h,y:g}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,p.animationValues?o.opacity=p===this?(u=(c=f.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=p===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in dy){if(f[y]===void 0)continue;const{correct:m,applyTo:v}=dy[y],x=o.transform==="none"?f[y]:m(f[y],p);if(v){const j=v.length;for(let T=0;T<j;T++)o[v[T]]=x}else o[y]=x}return this.options.layoutId&&(o.pointerEvents=p===this?Mg(i?.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var c;return(c=i.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(aS),this.root.sharedNodes.clear()}}}function $Y(t){t.updateLayout()}function zY(t){var r;const e=((r=t.resumeFrom)===null||r===void 0?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,i=e.source!==t.layout.source;a==="size"?Ei(p=>{const f=i?e.measuredBox[p]:e.layoutBox[p],h=mi(f);f.min=n[p].min,f.max=f.min+h}):UP(a,e.layoutBox,n)&&Ei(p=>{const f=i?e.measuredBox[p]:e.layoutBox[p],h=mi(n[p]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+h)});const c=lf();xp(c,n,e.layoutBox);const u=lf();i?xp(u,t.applyTransform(s,!0),e.measuredBox):xp(u,n,e.layoutBox);const o=!BP(c);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:h}=p;if(f&&h){const g=es();wp(g,e.layoutBox,f.layoutBox);const y=es();wp(y,n,h.layoutBox),$P(g,y)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:o,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function VY(t){lp&&Su.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WY(t){t.clearSnapshot()}function aS(t){t.clearMeasurements()}function qY(t){t.isLayoutDirty=!1}function HY(t){const{visualElement:r}=t.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),t.resetTransform()}function iS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function KY(t){t.resolveTargetDelta()}function GY(t){t.calcProjection()}function XY(t){t.resetSkewAndRotation()}function QY(t){t.removeLeadSnapshot()}function oS(t,r,e){t.translate=qn(r.translate,0,e),t.scale=qn(r.scale,1,e),t.origin=r.origin,t.originPoint=r.originPoint}function lS(t,r,e,n){t.min=qn(r.min,e.min,n),t.max=qn(r.max,e.max,n)}function YY(t,r,e,n){lS(t.x,r.x,e.x,n),lS(t.y,r.y,e.y,n)}function ZY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JY={duration:.45,ease:[.4,0,.1,1]},cS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uS=cS("applewebkit/")&&!cS("chrome/")?Math.round:fi;function dS(t){t.min=uS(t.min),t.max=uS(t.max)}function eZ(t){dS(t.x),dS(t.y)}function UP(t,r,e){return t==="position"||t==="preserve-aspect"&&!nY(rS(r),rS(e),.2)}function tZ(t){var r;return t!==t.root&&((r=t.scroll)===null||r===void 0?void 0:r.wasRoot)}const rZ=VP({attachResizeListener:(t,r)=>zp(t,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),s1={current:void 0},WP=VP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!s1.current){const t=new rZ({});t.mount(window),t.setOptions({layoutScroll:!0}),s1.current=t}return s1.current},resetTransform:(t,r)=>{t.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nZ={pan:{Feature:vY},drag:{Feature:bY,ProjectionNode:WP,MeasureLayout:OP}};function fS(t,r,e){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,a=n[s];a&&Mn.postRender(()=>a(r,Mm(r)))}class sZ extends Zc{mount(){const{current:r}=this.node;r&&(this.unmount=nX(r,e=>(fS(this.node,e,"Start"),n=>fS(this.node,n,"End"))))}unmount(){}}class aZ extends Zc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pm(zp(this.node.current,"focus",()=>this.onFocus()),zp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hS(t,r,e){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),a=n[s];a&&Mn.postRender(()=>a(r,Mm(r)))}class iZ extends Zc{mount(){const{current:r}=this.node;r&&(this.unmount=oX(r,e=>(hS(this.node,e,"Start"),(n,{success:s})=>hS(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gw=new WeakMap,a1=new WeakMap,oZ=t=>{const r=Gw.get(t.target);r&&r(t)},lZ=t=>{t.forEach(oZ)};function cZ({root:t,...r}){const e=t||document;a1.has(e)||a1.set(e,{});const n=a1.get(e),s=JSON.stringify(r);return n[s]||(n[s]=new IntersectionObserver(lZ,{root:t,...r})),n[s]}function uZ(t,r,e){const n=cZ(r);return Gw.set(t,e),n.observe(t),()=>{Gw.delete(t),n.unobserve(t)}}const dZ={some:0,all:1};class fZ extends Zc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:e,margin:n,amount:s="some",once:a}=r,i={root:e?e.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:dZ[s]},c=u=>{const{isIntersecting:o}=u;if(this.isInView===o||(this.isInView=o,a&&!o&&this.hasEnteredView))return;o&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",o);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),f=o?d:p;f&&f(u)};return uZ(this.node.current,i,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:e}=this.node;["amount","margin","root"].some(hZ(r,e))&&this.startObserver()}unmount(){}}function hZ({viewport:t={}},{viewport:r={}}={}){return e=>t[e]!==r[e]}const pZ={inView:{Feature:fZ},tap:{Feature:iZ},focus:{Feature:aZ},hover:{Feature:sZ}},mZ={layout:{ProjectionNode:WP,MeasureLayout:OP}},Xw={current:null},qP={current:!1};function gZ(){if(qP.current=!0,!!k_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),r=()=>Xw.current=t.matches;t.addListener(r),r()}else Xw.current=!1}const yZ=[...gP,la,Wc],bZ=t=>yZ.find(mP(t)),pS=new WeakMap;function vZ(t,r,e){for(const n in r){const s=r[n],a=e[n];if(ua(s))t.addValue(n,s);else if(ua(a))t.addValue(n,Bp(s,{owner:t}));else if(a!==s)if(t.hasValue(n)){const i=t.getValue(n);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=t.getStaticValue(n);t.addValue(n,Bp(i!==void 0?i:s,{owner:t}))}}for(const n in e)r[n]===void 0&&t.removeValue(n);return r}const mS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xZ{scrapeMotionValuesFromProps(r,e,n){return{}}constructor({parent:r,props:e,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:i},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Q_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=qo.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Mn.render(this.render,!1,!0))};const{latestValues:u,renderState:o,onUpdate:d}=i;this.onUpdate=d,this.latestValues=u,this.baseTarget={...u},this.initialValues=e.initial?{...u}:{},this.renderState=o,this.parent=r,this.props=e,this.presenceContext=n,this.depth=r?r.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=bb(e),this.isVariantNode=j7(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:p,...f}=this.scrapeMotionValuesFromProps(e,{},this);for(const h in f){const g=f[h];u[h]!==void 0&&ua(g)&&g.set(u[h],!1)}}mount(r){this.current=r,pS.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),qP.current||gZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pS.delete(this.current),this.projection&&this.projection.unmount(),Uc(this.notifyUpdate),Uc(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const e=this.features[r];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(r,e){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const n=md.has(r),s=e.on("change",c=>{this.latestValues[r]=c,this.props.onUpdate&&Mn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=e.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,r,e)),this.valueSubscriptions.set(r,()=>{s(),a(),i&&i(),e.owner&&e.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in zf){const e=zf[r];if(!e)continue;const{isEnabled:n,Feature:s}=e;if(!this.features[r]&&s&&n(this.props)&&(this.features[r]=new s(this)),this.features[r]){const a=this.features[r];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):es()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,e){this.latestValues[r]=e}update(r,e){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<mS.length;n++){const s=mS[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,i=r[a];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=vZ(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(r),()=>e.variantChildren.delete(r)}addValue(r,e){const n=this.values.get(r);e!==n&&(n&&this.removeValue(r),this.bindToMotionValue(r,e),this.values.set(r,e),this.latestValues[r]=e.get())}removeValue(r){this.values.delete(r);const e=this.valueSubscriptions.get(r);e&&(e(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,e){if(this.props.values&&this.props.values[r])return this.props.values[r];let n=this.values.get(r);return n===void 0&&e!==void 0&&(n=Bp(e===null?void 0:e,{owner:this}),this.addValue(r,n)),n}readValue(r,e){var n;let s=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:(n=this.getBaseTargetFromProps(this.props,r))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,r,this.options);return s!=null&&(typeof s=="string"&&(hP(s)||sP(s))?s=parseFloat(s):!bZ(s)&&Wc.test(e)&&(s=uP(r,e)),this.setBaseTarget(r,ua(s)?s.get():s)),ua(s)?s.get():s}setBaseTarget(r,e){this.baseTarget[r]=e}getBaseTarget(r){var e;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const i=A_(this.props,n,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);i&&(s=i[r])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,r);return a!==void 0&&!ua(a)?a:this.initialValues[r]!==void 0&&s===void 0?void 0:this.baseTarget[r]}on(r,e){return this.events[r]||(this.events[r]=new W_),this.events[r].add(e)}notify(r,...e){this.events[r]&&this.events[r].notify(...e)}}class HP extends xZ{constructor(){super(...arguments),this.KeyframeResolver=yP}sortInstanceNodePosition(r,e){return r.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(r,e){return r.style?r.style[e]:void 0}removeValueFromRenderState(r,{vars:e,style:n}){delete e[r],delete n[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;ua(r)&&(this.childSubscription=r.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function wZ(t){return window.getComputedStyle(t)}class _Z extends HP{constructor(){super(...arguments),this.type="html",this.renderInstance=R7}readValueFromInstance(r,e){if(md.has(e)){const n=X_(e);return n&&n.default||0}else{const n=wZ(r),s=(A7(e)?n.getPropertyValue(e):n[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(r,{transformPagePoint:e}){return DP(r,e)}build(r,e,n){R_(r,e,n.transformTemplate)}scrapeMotionValuesFromProps(r,e,n){return F_(r,e,n)}}class kZ extends HP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=es}getBaseTargetFromProps(r,e){return r[e]}readValueFromInstance(r,e){if(md.has(e)){const n=X_(e);return n&&n.default||0}return e=D7.has(e)?e:C_(e),r.getAttribute(e)}scrapeMotionValuesFromProps(r,e,n){return F7(r,e,n)}build(r,e,n){D_(r,e,this.isSVGTag,n.transformTemplate)}renderInstance(r,e,n,s){I7(r,e,n,s)}mount(r){this.isSVGTag=O_(r.tagName),super.mount(r)}}const jZ=(t,r)=>E_(t)?new kZ(r):new _Z(r,{allowProjection:t!==P.Fragment}),SZ=QG({...GQ,...pZ,...nZ,...mZ},jZ),kn=dG(SZ),NZ=(t=1e3)=>{const[r,e]=P.useState(!1),n=P.useRef(0),s=P.useCallback(()=>{const a=Date.now();return a-n.current<t?(e(!0),!1):(n.current=a,e(!1),!0)},[t]);return{isLimited:r,checkRateLimit:s}},Vp=hd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 transform-gpu relative overflow-hidden",{variants:{variant:{default:"bg-gradient-to-r from-blue-600 to-blue-700 text-primary-foreground hover:from-blue-700 hover:to-blue-800 hover:shadow-lg hover:shadow-blue-500/25 active:scale-95",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-destructive-foreground hover:from-red-700 hover:to-red-800 hover:shadow-lg hover:shadow-red-500/25 active:scale-95",outline:"border-2 border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-blue-300 hover:shadow-md active:scale-95",secondary:"bg-gradient-to-r from-gray-200 to-gray-300 text-secondary-foreground hover:from-gray-300 hover:to-gray-400 hover:shadow-md active:scale-95",ghost:"hover:bg-accent hover:text-accent-foreground hover:shadow-sm active:scale-95",link:"text-primary underline-offset-4 hover:underline hover:text-blue-600 active:scale-95",success:"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 hover:shadow-lg hover:shadow-green-500/25 active:scale-95",warning:"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 hover:shadow-lg hover:shadow-orange-500/25 active:scale-95"},size:{default:"h-11 px-6 py-2.5",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-xl px-8 text-base",icon:"h-11 w-11",xs:"h-7 px-2 text-xs rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Oe=P.forwardRef(({className:t,variant:r,size:e,asChild:n=!1,loading:s=!1,loadingText:a=" ...",enableRateLimit:i=!1,rateLimitDelay:c=1e3,ripple:u=!0,onClick:o,children:d,disabled:p,...f},h)=>{const g=n?pd:"button",{isLimited:y,checkRateLimit:m}=NZ(c),[v,x]=P.useState({}),[j,T]=P.useState(!1),E=P.useCallback(I=>{if(!(s||p)){if(i&&!m()){I.preventDefault();return}if(u){const $=I.currentTarget.getBoundingClientRect(),K=I.clientX-$.left,H=I.clientY-$.top;x({left:K-10,top:H-10,width:20,height:20}),T(!0),setTimeout(()=>T(!1),600)}o?.(I)}},[s,p,i,m,u,o]),B=p||s||i&&y,W=l.jsxs(l.Fragment,{children:[j&&u&&l.jsx(kn.span,{className:"absolute bg-white/30 rounded-full pointer-events-none",style:v,initial:{scale:0,opacity:1},animate:{scale:4,opacity:0},transition:{duration:.6,ease:"easeOut"}}),s?l.jsxs(l.Fragment,{children:[l.jsx(Ln,{className:"h-4 w-4 animate-spin"}),a]}):d,i&&y&&l.jsx(kn.div,{className:"absolute inset-0 bg-gray-400/20 rounded-lg flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsx("span",{className:"text-xs text-gray-600",children:"..."})})]});return l.jsx(kn.div,{whileHover:{scale:B?1:1.02},whileTap:{scale:B?1:.98},transition:{type:"spring",stiffness:400,damping:25},children:l.jsx(g,{className:Pe(Vp({variant:r,size:e,className:t})),ref:h,onClick:E,disabled:B,...f,children:W})})});Oe.displayName="Button";function CZ(t,r){typeof t=="function"?t(r):t!=null&&(t.current=r)}function KP(...t){return r=>t.forEach(e=>CZ(e,r))}function TZ(...t){return P.useCallback(KP(...t),t)}var GP=P.forwardRef((t,r)=>{const{children:e,...n}=t,s=P.Children.toArray(e),a=s.find(AZ);if(a){const i=a.props.children,c=s.map(u=>u===a?P.Children.count(i)>1?P.Children.only(null):P.isValidElement(i)?i.props.children:null:u);return l.jsx(Qw,{...n,ref:r,children:P.isValidElement(i)?P.cloneElement(i,void 0,c):null})}return l.jsx(Qw,{...n,ref:r,children:e})});GP.displayName="Slot";var Qw=P.forwardRef((t,r)=>{const{children:e,...n}=t;if(P.isValidElement(e)){const s=MZ(e);return P.cloneElement(e,{...PZ(n,e.props),ref:r?KP(r,s):s})}return P.Children.count(e)>1?P.Children.only(null):null});Qw.displayName="SlotClone";var EZ=({children:t})=>l.jsx(l.Fragment,{children:t});function AZ(t){return P.isValidElement(t)&&t.type===EZ}function PZ(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{a(...c),s(...c)}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function MZ(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var RZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],DZ=RZ.reduce((t,r)=>{const e=P.forwardRef((n,s)=>{const{asChild:a,...i}=n,c=a?GP:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:s})});return e.displayName=`Primitive.${r}`,{...t,[r]:e}},{});function gS(t){const r=P.useRef(t);return P.useEffect(()=>{r.current=t}),P.useMemo(()=>(...e)=>r.current?.(...e),[])}var i1="focusScope.autoFocusOnMount",o1="focusScope.autoFocusOnUnmount",yS={bubbles:!1,cancelable:!0},IZ="FocusScope",Rm=P.forwardRef((t,r)=>{const{loop:e=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=t,[c,u]=P.useState(null),o=gS(s),d=gS(a),p=P.useRef(null),f=TZ(r,y=>u(y)),h=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(n){let y=function(j){if(h.paused||!c)return;const T=j.target;c.contains(T)?p.current=T:mc(p.current,{select:!0})},m=function(j){if(h.paused||!c)return;const T=j.relatedTarget;T!==null&&(c.contains(T)||mc(p.current,{select:!0}))},v=function(j){if(document.activeElement===document.body)for(const E of j)E.removedNodes.length>0&&mc(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",m);const x=new MutationObserver(v);return c&&x.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",m),x.disconnect()}}},[n,c,h.paused]),P.useEffect(()=>{if(c){vS.add(h);const y=document.activeElement;if(!c.contains(y)){const v=new CustomEvent(i1,yS);c.addEventListener(i1,o),c.dispatchEvent(v),v.defaultPrevented||(OZ(zZ(XP(c)),{select:!0}),document.activeElement===y&&mc(c))}return()=>{c.removeEventListener(i1,o),setTimeout(()=>{const v=new CustomEvent(o1,yS);c.addEventListener(o1,d),c.dispatchEvent(v),v.defaultPrevented||mc(y??document.body,{select:!0}),c.removeEventListener(o1,d),vS.remove(h)},0)}}},[c,o,d,h]);const g=P.useCallback(y=>{if(!e&&!n||h.paused)return;const m=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(m&&v){const x=y.currentTarget,[j,T]=FZ(x);j&&T?!y.shiftKey&&v===T?(y.preventDefault(),e&&mc(j,{select:!0})):y.shiftKey&&v===j&&(y.preventDefault(),e&&mc(T,{select:!0})):v===x&&y.preventDefault()}},[e,n,h.paused]);return l.jsx(DZ.div,{tabIndex:-1,...i,ref:f,onKeyDown:g})});Rm.displayName=IZ;function OZ(t,{select:r=!1}={}){const e=document.activeElement;for(const n of t)if(mc(n,{select:r}),document.activeElement!==e)return}function FZ(t){const r=XP(t),e=bS(r,t),n=bS(r.reverse(),t);return[e,n]}function XP(t){const r=[],e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)r.push(e.currentNode);return r}function bS(t,r){for(const e of t)if(!LZ(e,{upTo:r}))return e}function LZ(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function BZ(t){return t instanceof HTMLInputElement&&"select"in t}function mc(t,{select:r=!1}={}){if(t&&t.focus){const e=document.activeElement;t.focus({preventScroll:!0}),t!==e&&BZ(t)&&r&&t.select()}}var vS=$Z();function $Z(){let t=[];return{add(r){const e=t[0];r!==e&&e?.pause(),t=xS(t,r),t.unshift(r)},remove(r){t=xS(t,r),t[0]?.resume()}}}function xS(t,r){const e=[...t],n=e.indexOf(r);return n!==-1&&e.splice(n,1),e}function zZ(t){return t.filter(r=>r.tagName!=="A")}var l1=0;function wb(){P.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wS()),document.body.insertAdjacentElement("beforeend",t[1]??wS()),l1++,()=>{l1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),l1--}},[])}function wS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Fo=function(){return Fo=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Fo.apply(this,arguments)};function QP(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(e[n[s]]=t[n[s]]);return e}function VZ(t,r,e){if(e||arguments.length===2)for(var n=0,s=r.length,a;n<s;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return t.concat(a||Array.prototype.slice.call(r))}var Ig="right-scroll-bar-position",Og="width-before-scroll-bar",UZ="with-scroll-bars-hidden",WZ="--removed-body-scroll-bar-size";function c1(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function qZ(t,r){var e=P.useState(function(){return{value:t,callback:r,facade:{get current(){return e.value},set current(n){var s=e.value;s!==n&&(e.value=n,e.callback(n,s))}}}})[0];return e.callback=r,e.facade}var HZ=typeof window<"u"?P.useLayoutEffect:P.useEffect,_S=new WeakMap;function KZ(t,r){var e=qZ(null,function(n){return t.forEach(function(s){return c1(s,n)})});return HZ(function(){var n=_S.get(e);if(n){var s=new Set(n),a=new Set(t),i=e.current;s.forEach(function(c){a.has(c)||c1(c,null)}),a.forEach(function(c){s.has(c)||c1(c,i)})}_S.set(e,t)},[t]),e}function GZ(t){return t}function XZ(t,r){r===void 0&&(r=GZ);var e=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:t},useMedium:function(a){var i=r(a,n);return e.push(i),function(){e=e.filter(function(c){return c!==i})}},assignSyncMedium:function(a){for(n=!0;e.length;){var i=e;e=[],i.forEach(a)}e={push:function(c){return a(c)},filter:function(){return e}}},assignMedium:function(a){n=!0;var i=[];if(e.length){var c=e;e=[],c.forEach(a),i=e}var u=function(){var d=i;i=[],d.forEach(a)},o=function(){return Promise.resolve().then(u)};o(),e={push:function(d){i.push(d),o()},filter:function(d){return i=i.filter(d),e}}}};return s}function QZ(t){t===void 0&&(t={});var r=XZ(null);return r.options=Fo({async:!0,ssr:!1},t),r}var YP=function(t){var r=t.sideCar,e=QP(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=r.read();if(!n)throw new Error("Sidecar medium not found");return P.createElement(n,Fo({},e))};YP.isSideCarExport=!0;function YZ(t,r){return t.useMedium(r),YP}var ZP=QZ(),u1=function(){},_b=P.forwardRef(function(t,r){var e=P.useRef(null),n=P.useState({onScrollCapture:u1,onWheelCapture:u1,onTouchMoveCapture:u1}),s=n[0],a=n[1],i=t.forwardProps,c=t.children,u=t.className,o=t.removeScrollBar,d=t.enabled,p=t.shards,f=t.sideCar,h=t.noRelative,g=t.noIsolation,y=t.inert,m=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,j=t.gapMode,T=QP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,B=KZ([e,r]),W=Fo(Fo({},T),s);return P.createElement(P.Fragment,null,d&&P.createElement(E,{sideCar:ZP,removeScrollBar:o,shards:p,noRelative:h,noIsolation:g,inert:y,setCallbacks:a,allowPinchZoom:!!m,lockRef:e,gapMode:j}),i?P.cloneElement(P.Children.only(c),Fo(Fo({},W),{ref:B})):P.createElement(x,Fo({},W,{className:u,ref:B}),c))});_b.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_b.classNames={fullWidth:Og,zeroRight:Ig};var ZZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function JZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=ZZ();return r&&t.setAttribute("nonce",r),t}function eJ(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function tJ(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var rJ=function(){var t=0,r=null;return{add:function(e){t==0&&(r=JZ())&&(eJ(r,e),tJ(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},nJ=function(){var t=rJ();return function(r,e){P.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&e])}},JP=function(){var t=nJ(),r=function(e){var n=e.styles,s=e.dynamic;return t(n,s),null};return r},sJ={left:0,top:0,right:0,gap:0},d1=function(t){return parseInt(t||"",10)||0},aJ=function(t){var r=window.getComputedStyle(document.body),e=r[t==="padding"?"paddingLeft":"marginLeft"],n=r[t==="padding"?"paddingTop":"marginTop"],s=r[t==="padding"?"paddingRight":"marginRight"];return[d1(e),d1(n),d1(s)]},iJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sJ;var r=aJ(t),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,n-e+r[2]-r[0])}},oJ=JP(),gf="data-scroll-locked",lJ=function(t,r,e,n){var s=t.left,a=t.top,i=t.right,c=t.gap;return e===void 0&&(e="margin"),`
  .`.concat(UZ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(gf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ig,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Og,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ig," .").concat(Ig,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Og," .").concat(Og,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(gf,`] {
    `).concat(WZ,": ").concat(c,`px;
  }
`)},kS=function(){var t=parseInt(document.body.getAttribute(gf)||"0",10);return isFinite(t)?t:0},cJ=function(){P.useEffect(function(){return document.body.setAttribute(gf,(kS()+1).toString()),function(){var t=kS()-1;t<=0?document.body.removeAttribute(gf):document.body.setAttribute(gf,t.toString())}},[])},uJ=function(t){var r=t.noRelative,e=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;cJ();var a=P.useMemo(function(){return iJ(s)},[s]);return P.createElement(oJ,{styles:lJ(a,!r,s,e?"":"!important")})},Yw=!1;if(typeof window<"u")try{var ug=Object.defineProperty({},"passive",{get:function(){return Yw=!0,!0}});window.addEventListener("test",ug,ug),window.removeEventListener("test",ug,ug)}catch{Yw=!1}var Gd=Yw?{passive:!1}:!1,dJ=function(t){return t.tagName==="TEXTAREA"},eM=function(t,r){if(!(t instanceof Element))return!1;var e=window.getComputedStyle(t);return e[r]!=="hidden"&&!(e.overflowY===e.overflowX&&!dJ(t)&&e[r]==="visible")},fJ=function(t){return eM(t,"overflowY")},hJ=function(t){return eM(t,"overflowX")},jS=function(t,r){var e=r.ownerDocument,n=r;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=tM(t,n);if(s){var a=rM(t,n),i=a[1],c=a[2];if(i>c)return!0}n=n.parentNode}while(n&&n!==e.body);return!1},pJ=function(t){var r=t.scrollTop,e=t.scrollHeight,n=t.clientHeight;return[r,e,n]},mJ=function(t){var r=t.scrollLeft,e=t.scrollWidth,n=t.clientWidth;return[r,e,n]},tM=function(t,r){return t==="v"?fJ(r):hJ(r)},rM=function(t,r){return t==="v"?pJ(r):mJ(r)},gJ=function(t,r){return t==="h"&&r==="rtl"?-1:1},yJ=function(t,r,e,n,s){var a=gJ(t,window.getComputedStyle(r).direction),i=a*n,c=e.target,u=r.contains(c),o=!1,d=i>0,p=0,f=0;do{if(!c)break;var h=rM(t,c),g=h[0],y=h[1],m=h[2],v=y-m-a*g;(g||v)&&tM(t,c)&&(p+=v,f+=g);var x=c.parentNode;c=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!u&&c!==document.body||u&&(r.contains(c)||r===c));return(d&&Math.abs(p)<1||!d&&Math.abs(f)<1)&&(o=!0),o},dg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},SS=function(t){return[t.deltaX,t.deltaY]},NS=function(t){return t&&"current"in t?t.current:t},bJ=function(t,r){return t[0]===r[0]&&t[1]===r[1]},vJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xJ=0,Xd=[];function wJ(t){var r=P.useRef([]),e=P.useRef([0,0]),n=P.useRef(),s=P.useState(xJ++)[0],a=P.useState(JP)[0],i=P.useRef(t);P.useEffect(function(){i.current=t},[t]),P.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=VZ([t.lockRef.current],(t.shards||[]).map(NS),!0).filter(Boolean);return y.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=P.useCallback(function(y,m){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var v=dg(y),x=e.current,j="deltaX"in y?y.deltaX:x[0]-v[0],T="deltaY"in y?y.deltaY:x[1]-v[1],E,B=y.target,W=Math.abs(j)>Math.abs(T)?"h":"v";if("touches"in y&&W==="h"&&B.type==="range")return!1;var I=window.getSelection(),R=I&&I.anchorNode,$=R?R===B||R.contains(B):!1;if($)return!1;var K=jS(W,B);if(!K)return!0;if(K?E=W:(E=W==="v"?"h":"v",K=jS(W,B)),!K)return!1;if(!n.current&&"changedTouches"in y&&(j||T)&&(n.current=E),!E)return!0;var H=n.current||E;return yJ(H,m,y,H==="h"?j:T)},[]),u=P.useCallback(function(y){var m=y;if(!(!Xd.length||Xd[Xd.length-1]!==a)){var v="deltaY"in m?SS(m):dg(m),x=r.current.filter(function(E){return E.name===m.type&&(E.target===m.target||m.target===E.shadowParent)&&bJ(E.delta,v)})[0];if(x&&x.should){m.cancelable&&m.preventDefault();return}if(!x){var j=(i.current.shards||[]).map(NS).filter(Boolean).filter(function(E){return E.contains(m.target)}),T=j.length>0?c(m,j[0]):!i.current.noIsolation;T&&m.cancelable&&m.preventDefault()}}},[]),o=P.useCallback(function(y,m,v,x){var j={name:y,delta:m,target:v,should:x,shadowParent:_J(v)};r.current.push(j),setTimeout(function(){r.current=r.current.filter(function(T){return T!==j})},1)},[]),d=P.useCallback(function(y){e.current=dg(y),n.current=void 0},[]),p=P.useCallback(function(y){o(y.type,SS(y),y.target,c(y,t.lockRef.current))},[]),f=P.useCallback(function(y){o(y.type,dg(y),y.target,c(y,t.lockRef.current))},[]);P.useEffect(function(){return Xd.push(a),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",u,Gd),document.addEventListener("touchmove",u,Gd),document.addEventListener("touchstart",d,Gd),function(){Xd=Xd.filter(function(y){return y!==a}),document.removeEventListener("wheel",u,Gd),document.removeEventListener("touchmove",u,Gd),document.removeEventListener("touchstart",d,Gd)}},[]);var h=t.removeScrollBar,g=t.inert;return P.createElement(P.Fragment,null,g?P.createElement(a,{styles:vJ(s)}):null,h?P.createElement(uJ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function _J(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const kJ=YZ(ZP,wJ);var Dm=P.forwardRef(function(t,r){return P.createElement(_b,Fo({},t,{ref:r,sideCar:kJ}))});Dm.classNames=_b.classNames;var jJ=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},Qd=new WeakMap,fg=new WeakMap,hg={},f1=0,nM=function(t){return t&&(t.host||nM(t.parentNode))},SJ=function(t,r){return r.map(function(e){if(t.contains(e))return e;var n=nM(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e})},NJ=function(t,r,e,n){var s=SJ(r,Array.isArray(t)?t:[t]);hg[e]||(hg[e]=new WeakMap);var a=hg[e],i=[],c=new Set,u=new Set(s),o=function(p){!p||c.has(p)||(c.add(p),o(p.parentNode))};s.forEach(o);var d=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(f){if(c.has(f))d(f);else try{var h=f.getAttribute(n),g=h!==null&&h!=="false",y=(Qd.get(f)||0)+1,m=(a.get(f)||0)+1;Qd.set(f,y),a.set(f,m),i.push(f),y===1&&g&&fg.set(f,!0),m===1&&f.setAttribute(e,"true"),g||f.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(r),c.clear(),f1++,function(){i.forEach(function(p){var f=Qd.get(p)-1,h=a.get(p)-1;Qd.set(p,f),a.set(p,h),f||(fg.has(p)||p.removeAttribute(n),fg.delete(p)),h||p.removeAttribute(e)}),f1--,f1||(Qd=new WeakMap,Qd=new WeakMap,fg=new WeakMap,hg={})}},kb=function(t,r,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=jJ(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),NJ(n,s,e,"aria-hidden")):function(){return null}};function CJ(t){const r=TJ(t),e=P.forwardRef((n,s)=>{const{children:a,...i}=n,c=P.Children.toArray(a),u=c.find(AJ);if(u){const o=u.props.children,d=c.map(p=>p===u?P.Children.count(o)>1?P.Children.only(null):P.isValidElement(o)?o.props.children:null:p);return l.jsx(r,{...i,ref:s,children:P.isValidElement(o)?P.cloneElement(o,void 0,d):null})}return l.jsx(r,{...i,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}function TJ(t){const r=P.forwardRef((e,n)=>{const{children:s,...a}=e;if(P.isValidElement(s)){const i=MJ(s),c=PJ(a,s.props);return s.type!==P.Fragment&&(c.ref=n?tl(n,i):i),P.cloneElement(s,c)}return P.Children.count(s)>1?P.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var EJ=Symbol("radix.slottable");function AJ(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===EJ}function PJ(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function MJ(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var jb="Dialog",[sM,aM]=va(jb),[RJ,_o]=sM(jb),iM=t=>{const{__scopeDialog:r,children:e,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=t,c=P.useRef(null),u=P.useRef(null),[o,d]=go({prop:n,defaultProp:s??!1,onChange:a,caller:jb});return l.jsx(RJ,{scope:r,triggerRef:c,contentRef:u,contentId:$i(),titleId:$i(),descriptionId:$i(),open:o,onOpenChange:d,onOpenToggle:P.useCallback(()=>d(p=>!p),[d]),modal:i,children:e})};iM.displayName=jb;var oM="DialogTrigger",lM=P.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=_o(oM,e),a=Cr(r,s.triggerRef);return l.jsx(ir.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":r4(s.open),...n,ref:a,onClick:pt(t.onClick,s.onOpenToggle)})});lM.displayName=oM;var e4="DialogPortal",[DJ,cM]=sM(e4,{forceMount:void 0}),uM=t=>{const{__scopeDialog:r,forceMount:e,children:n,container:s}=t,a=_o(e4,r);return l.jsx(DJ,{scope:r,forceMount:e,children:P.Children.map(n,i=>l.jsx(ws,{present:e||a.open,children:l.jsx(nh,{asChild:!0,container:s,children:i})}))})};uM.displayName=e4;var yy="DialogOverlay",dM=P.forwardRef((t,r)=>{const e=cM(yy,t.__scopeDialog),{forceMount:n=e.forceMount,...s}=t,a=_o(yy,t.__scopeDialog);return a.modal?l.jsx(ws,{present:n||a.open,children:l.jsx(OJ,{...s,ref:r})}):null});dM.displayName=yy;var IJ=CJ("DialogOverlay.RemoveScroll"),OJ=P.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=_o(yy,e);return l.jsx(Dm,{as:IJ,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ir.div,{"data-state":r4(s.open),...n,ref:r,style:{pointerEvents:"auto",...n.style}})})}),ed="DialogContent",fM=P.forwardRef((t,r)=>{const e=cM(ed,t.__scopeDialog),{forceMount:n=e.forceMount,...s}=t,a=_o(ed,t.__scopeDialog);return l.jsx(ws,{present:n||a.open,children:a.modal?l.jsx(FJ,{...s,ref:r}):l.jsx(LJ,{...s,ref:r})})});fM.displayName=ed;var FJ=P.forwardRef((t,r)=>{const e=_o(ed,t.__scopeDialog),n=P.useRef(null),s=Cr(r,e.contentRef,n);return P.useEffect(()=>{const a=n.current;if(a)return kb(a)},[]),l.jsx(hM,{...t,ref:s,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(t.onCloseAutoFocus,a=>{a.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:pt(t.onPointerDownOutside,a=>{const i=a.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&a.preventDefault()}),onFocusOutside:pt(t.onFocusOutside,a=>a.preventDefault())})}),LJ=P.forwardRef((t,r)=>{const e=_o(ed,t.__scopeDialog),n=P.useRef(!1),s=P.useRef(!1);return l.jsx(hM,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||e.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;e.triggerRef.current?.contains(i)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),hM=P.forwardRef((t,r)=>{const{__scopeDialog:e,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=t,c=_o(ed,e),u=P.useRef(null),o=Cr(r,u);return wb(),l.jsxs(l.Fragment,{children:[l.jsx(Rm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:l.jsx(fd,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":r4(c.open),...i,ref:o,onDismiss:()=>c.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx($J,{titleId:c.titleId}),l.jsx(VJ,{contentRef:u,descriptionId:c.descriptionId})]})]})}),t4="DialogTitle",pM=P.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=_o(t4,e);return l.jsx(ir.h2,{id:s.titleId,...n,ref:r})});pM.displayName=t4;var mM="DialogDescription",gM=P.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=_o(mM,e);return l.jsx(ir.p,{id:s.descriptionId,...n,ref:r})});gM.displayName=mM;var yM="DialogClose",bM=P.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=_o(yM,e);return l.jsx(ir.button,{type:"button",...n,ref:r,onClick:pt(t.onClick,()=>s.onOpenChange(!1))})});bM.displayName=yM;function r4(t){return t?"open":"closed"}var vM="DialogTitleWarning",[BJ,xM]=_U(vM,{contentName:ed,titleName:t4,docsSlug:"dialog"}),$J=({titleId:t})=>{const r=xM(vM),e=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return P.useEffect(()=>{t&&(document.getElementById(t)||console.error(e))},[e,t]),null},zJ="DialogDescriptionWarning",VJ=({contentRef:t,descriptionId:r})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xM(zJ).contentName}}.`;return P.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(n))},[n,t,r]),null},n4=iM,s4=lM,a4=uM,Im=dM,Om=fM,Fm=pM,Lm=gM,Bm=bM;const Ks=n4,Uf=s4,UJ=a4,wM=P.forwardRef(({className:t,...r},e)=>l.jsx(Im,{ref:e,className:Pe("fixed inset-0 z-[9998] bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));wM.displayName=Im.displayName;const As=P.forwardRef(({className:t,children:r,...e},n)=>l.jsxs(UJ,{children:[l.jsx(wM,{}),l.jsxs(Om,{ref:n,className:Pe("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","bg-background opacity-100",t),style:{pointerEvents:"auto"},...e,children:[r,l.jsxs(Bm,{className:"absolute left-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Es,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));As.displayName=Om.displayName;const Gs=({className:t,...r})=>l.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-right",t),...r});Gs.displayName="DialogHeader";const Zw=({className:t,...r})=>l.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});Zw.displayName="DialogFooter";const da=P.forwardRef(({className:t,...r},e)=>l.jsx(Fm,{ref:e,className:Pe("text-lg font-semibold leading-none tracking-tight",t),...r}));da.displayName=Fm.displayName;const Pc=P.forwardRef(({className:t,...r},e)=>l.jsx(Lm,{ref:e,className:Pe("text-sm text-muted-foreground",t),...r}));Pc.displayName=Lm.displayName;const WJ=(t,r="")=>{const[e,n]=P.useState(()=>typeof window<"u"&&localStorage.getItem(`form-memory-${t}`)||r),s=P.useCallback(i=>{n(i),typeof window<"u"&&(i?localStorage.setItem(`form-memory-${t}`,i):localStorage.removeItem(`form-memory-${t}`))},[t]),a=P.useCallback(()=>{n(""),typeof window<"u"&&localStorage.removeItem(`form-memory-${t}`)},[t]);return{value:e,updateValue:s,clearMemory:a}},qJ=(t,r,e,n)=>{const[s,a]=P.useState({isValid:!0});return P.useEffect(()=>{if(!t){a({isValid:!0});return}if(e){a(c=>({...c,isValidating:!0}));const i=setTimeout(()=>{const c=e(t);a({...c,isValidating:!1})},300);return()=>clearTimeout(i)}if(r&&(r==="email"||r==="password")){if(r==="email"&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){a({isValid:!1,message:"    ",isValidating:!1});return}a(c=>({...c,isValidating:!0}));const i=setTimeout(async()=>{try{const u=await(await fetch("/api/auth/validate-field",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field:r,value:t,context:n||"register"})})).json();u.success?a({isValid:u.isValid,message:u.message,strength:u.strength,suggestions:u.suggestions,isValidating:!1}):a({isValid:!1,message:"   ",isValidating:!1})}catch(c){console.error("  :",c),a({isValid:!1,message:"   ",isValidating:!1})}},500);return()=>clearTimeout(i)}},[t,e,r,n]),s},gt=P.forwardRef(({className:t,type:r="text",enableMemory:e=!1,memoryKey:n,validator:s,showValidation:a=!0,leftIcon:i,rightIcon:c,loading:u=!1,strengthIndicator:o=!1,fieldType:d,validationContext:p,hidePasswordToggle:f=!1,onChange:h,value:g,...y},m)=>{const[v,x]=P.useState(!1),[j,T]=P.useState(!1),{value:E,updateValue:B}=WJ(n||`input-${y.name||"default"}`,typeof g=="string"?g:""),W=g!==void 0?String(g):E,I=qJ(W,d,s,p),R=P.useCallback(C=>{const _=C.target.value;e&&g===void 0&&B(_),h?.(C)},[e,g,B,h]),$=P.useCallback(()=>{x(C=>!C)},[]),K=r==="password"?v?"text":"password":r,H=i||u,M=c||r==="password"||a&&I.message,F=()=>I.isValidating?"border-blue-300 ring-blue-100":I.isValid?I.isValid&&W?"border-green-300 ring-green-100 focus:border-green-500 focus:ring-green-200":"border-input focus:border-blue-500 focus:ring-blue-200":"border-red-300 ring-red-100 focus:border-red-500 focus:ring-red-200";return l.jsxs("div",{className:"relative w-full",children:[l.jsxs(kn.div,{animate:{scale:j?1.01:1},transition:{type:"spring",stiffness:300,damping:25},style:{position:"relative"},children:[l.jsx("input",{type:K,className:Pe("flex h-11 w-full rounded-xl border-2 bg-transparent px-4 py-2.5 text-sm ring-offset-background transition-all duration-300","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground/70","focus-visible:outline-none focus-visible:ring-0","disabled:cursor-not-allowed disabled:opacity-50","selection:bg-blue-200 dark:selection:bg-blue-900",H&&"pr-11",M&&"pl-11",F(),t),ref:m,value:W,onChange:R,onFocus:()=>T(!0),onBlur:()=>T(!1),...y}),H&&l.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:u?l.jsx(Ln,{className:"h-4 w-4 animate-spin"}):i}),M&&l.jsxs("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[r==="password"&&!f&&l.jsx(kn.div,{whileTap:{scale:.95},style:{background:"none",border:"none",padding:"4px",borderRadius:"6px",cursor:"pointer",color:"var(--muted-foreground)",transition:"colors 0.2s"},onTap:$,children:v?l.jsx(Yu,{className:"h-4 w-4"}):l.jsx(Bc,{className:"h-4 w-4"})}),a&&W&&!I.isValidating&&l.jsx(kn.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:30},children:I.isValid?l.jsx(Fl,{className:"h-4 w-4 text-green-500"}):l.jsx(Da,{className:"h-4 w-4 text-red-500"})}),I.isValidating&&l.jsx(Ln,{className:"h-4 w-4 animate-spin text-blue-500"}),c]})]}),o&&r==="password"&&W&&typeof I.strength=="number"&&l.jsxs(kn.div,{style:{marginTop:"8px"},initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[l.jsx("div",{className:"flex space-x-1 rtl:space-x-reverse",style:{marginBottom:"4px"},children:[1,2,3,4].map(C=>l.jsx("div",{style:{height:"4px",flex:1,borderRadius:"2px",transition:"all 0.3s",backgroundColor:I.strength>=C?C<=2?"#ef4444":C===3?"#eab308":"#22c55e":"#e5e7eb"}},C))}),l.jsxs("p",{style:{fontSize:"12px",color:"var(--muted-foreground)"},children:["  : ",I.strength<=2?"":I.strength===3?"":""]})]}),l.jsx(cy,{children:a&&I.message&&l.jsxs(kn.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.2},style:{marginTop:"8px",fontSize:"12px",padding:"8px 12px",borderRadius:"8px",border:"1px solid",display:"flex",alignItems:"center",gap:"8px",color:I.isValid?"#15803d":"#dc2626",backgroundColor:I.isValid?"#f0fdf4":"#fef2f2",borderColor:I.isValid?"#bbf7d0":"#fecaca"},children:[I.isValid?l.jsx(Fl,{className:"h-3 w-3 text-green-500"}):l.jsx(Da,{className:"h-3 w-3 text-red-500"}),I.message]})})]})});gt.displayName="Input";var HJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],KJ=HJ.reduce((t,r)=>{const e=pb(`Primitive.${r}`),n=P.forwardRef((s,a)=>{const{asChild:i,...c}=s,u=i?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...c,ref:a})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{}),GJ="Label",_M=P.forwardRef((t,r)=>l.jsx(KJ.label,{...t,ref:r,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(t.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));_M.displayName=GJ;var kM=_M;const XJ=hd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=P.forwardRef(({className:t,...r},e)=>l.jsx(kM,{ref:e,className:Pe(XJ(),t),...r}));Qe.displayName=kM.displayName;function Jw(t,[r,e]){return Math.min(e,Math.max(r,t))}var QJ=P.createContext(void 0);function $m(t){const r=P.useContext(QJ);return t||r||"ltr"}function YJ(t){const r=ZJ(t),e=P.forwardRef((n,s)=>{const{children:a,...i}=n,c=P.Children.toArray(a),u=c.find(eee);if(u){const o=u.props.children,d=c.map(p=>p===u?P.Children.count(o)>1?P.Children.only(null):P.isValidElement(o)?o.props.children:null:p);return l.jsx(r,{...i,ref:s,children:P.isValidElement(o)?P.cloneElement(o,void 0,d):null})}return l.jsx(r,{...i,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}function ZJ(t){const r=P.forwardRef((e,n)=>{const{children:s,...a}=e;if(P.isValidElement(s)){const i=ree(s),c=tee(a,s.props);return s.type!==P.Fragment&&(c.ref=n?tl(n,i):i),P.cloneElement(s,c)}return P.Children.count(s)>1?P.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var JJ=Symbol("radix.slottable");function eee(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===JJ}function tee(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function ree(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}function i4(t){const r=P.useRef({value:t,previous:t});return P.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var nee=[" ","Enter","ArrowUp","ArrowDown"],see=[" ","Enter"],td="Select",[Sb,Nb,aee]=Qy(td),[ch]=va(td,[aee,Yc]),Cb=Yc(),[iee,Jc]=ch(td),[oee,lee]=ch(td),jM=t=>{const{__scopeSelect:r,children:e,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:c,onValueChange:u,dir:o,name:d,autoComplete:p,disabled:f,required:h,form:g}=t,y=Cb(r),[m,v]=P.useState(null),[x,j]=P.useState(null),[T,E]=P.useState(!1),B=$m(o),[W,I]=go({prop:n,defaultProp:s??!1,onChange:a,caller:td}),[R,$]=go({prop:i,defaultProp:c,onChange:u,caller:td}),K=P.useRef(null),H=m?g||!!m.closest("form"):!0,[M,F]=P.useState(new Set),C=Array.from(M).map(_=>_.props.value).join(";");return l.jsx(ib,{...y,children:l.jsxs(iee,{required:h,scope:r,trigger:m,onTriggerChange:v,valueNode:x,onValueNodeChange:j,valueNodeHasChildren:T,onValueNodeHasChildrenChange:E,contentId:$i(),value:R,onValueChange:$,open:W,onOpenChange:I,dir:B,triggerPointerDownPosRef:K,disabled:f,children:[l.jsx(Sb.Provider,{scope:r,children:l.jsx(oee,{scope:t.__scopeSelect,onNativeOptionAdd:P.useCallback(_=>{F(S=>new Set(S).add(_))},[]),onNativeOptionRemove:P.useCallback(_=>{F(S=>{const k=new Set(S);return k.delete(_),k})},[]),children:e})}),H?l.jsxs(GM,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:p,value:R,onChange:_=>$(_.target.value),disabled:f,form:g,children:[R===void 0?l.jsx("option",{value:""}):null,Array.from(M)]},C):null]})})};jM.displayName=td;var SM="SelectTrigger",NM=P.forwardRef((t,r)=>{const{__scopeSelect:e,disabled:n=!1,...s}=t,a=Cb(e),i=Jc(SM,e),c=i.disabled||n,u=Cr(r,i.onTriggerChange),o=Nb(e),d=P.useRef("touch"),[p,f,h]=QM(y=>{const m=o().filter(j=>!j.disabled),v=m.find(j=>j.value===i.value),x=YM(m,y,v);x!==void 0&&i.onValueChange(x.value)}),g=y=>{c||(i.onOpenChange(!0),h()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(Tm,{asChild:!0,...a,children:l.jsx(ir.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":XM(i.value)?"":void 0,...s,ref:u,onClick:pt(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:pt(s.onPointerDown,y=>{d.current=y.pointerType;const m=y.target;m.hasPointerCapture(y.pointerId)&&m.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:pt(s.onKeyDown,y=>{const m=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(m&&y.key===" ")&&nee.includes(y.key)&&(g(),y.preventDefault())})})})});NM.displayName=SM;var CM="SelectValue",TM=P.forwardRef((t,r)=>{const{__scopeSelect:e,className:n,style:s,children:a,placeholder:i="",...c}=t,u=Jc(CM,e),{onValueNodeHasChildrenChange:o}=u,d=a!==void 0,p=Cr(r,u.onValueNodeChange);return Ms(()=>{o(d)},[o,d]),l.jsx(ir.span,{...c,ref:p,style:{pointerEvents:"none"},children:XM(u.value)?l.jsx(l.Fragment,{children:i}):a})});TM.displayName=CM;var cee="SelectIcon",EM=P.forwardRef((t,r)=>{const{__scopeSelect:e,children:n,...s}=t;return l.jsx(ir.span,{"aria-hidden":!0,...s,ref:r,children:n||""})});EM.displayName=cee;var uee="SelectPortal",AM=t=>l.jsx(nh,{asChild:!0,...t});AM.displayName=uee;var rd="SelectContent",PM=P.forwardRef((t,r)=>{const e=Jc(rd,t.__scopeSelect),[n,s]=P.useState();if(Ms(()=>{s(new DocumentFragment)},[]),!e.open){const a=n;return a?dd.createPortal(l.jsx(MM,{scope:t.__scopeSelect,children:l.jsx(Sb.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),a):null}return l.jsx(RM,{...t,ref:r})});PM.displayName=rd;var no=10,[MM,eu]=ch(rd),dee="SelectContentImpl",fee=YJ("SelectContent.RemoveScroll"),RM=P.forwardRef((t,r)=>{const{__scopeSelect:e,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:c,sideOffset:u,align:o,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:h,sticky:g,hideWhenDetached:y,avoidCollisions:m,...v}=t,x=Jc(rd,e),[j,T]=P.useState(null),[E,B]=P.useState(null),W=Cr(r,Z=>T(Z)),[I,R]=P.useState(null),[$,K]=P.useState(null),H=Nb(e),[M,F]=P.useState(!1),C=P.useRef(!1);P.useEffect(()=>{if(j)return kb(j)},[j]),wb();const _=P.useCallback(Z=>{const[U,...z]=H().map(pe=>pe.ref.current),[G]=z.slice(-1),ae=document.activeElement;for(const pe of Z)if(pe===ae||(pe?.scrollIntoView({block:"nearest"}),pe===U&&E&&(E.scrollTop=0),pe===G&&E&&(E.scrollTop=E.scrollHeight),pe?.focus(),document.activeElement!==ae))return},[H,E]),S=P.useCallback(()=>_([I,j]),[_,I,j]);P.useEffect(()=>{M&&S()},[M,S]);const{onOpenChange:k,triggerPointerDownPosRef:N}=x;P.useEffect(()=>{if(j){let Z={x:0,y:0};const U=G=>{Z={x:Math.abs(Math.round(G.pageX)-(N.current?.x??0)),y:Math.abs(Math.round(G.pageY)-(N.current?.y??0))}},z=G=>{Z.x<=10&&Z.y<=10?G.preventDefault():j.contains(G.target)||k(!1),document.removeEventListener("pointermove",U),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",U),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",z,{capture:!0})}}},[j,k,N]),P.useEffect(()=>{const Z=()=>k(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[k]);const[D,L]=QM(Z=>{const U=H().filter(ae=>!ae.disabled),z=U.find(ae=>ae.ref.current===document.activeElement),G=YM(U,Z,z);G&&setTimeout(()=>G.ref.current.focus())}),V=P.useCallback((Z,U,z)=>{const G=!C.current&&!z;(x.value!==void 0&&x.value===U||G)&&(R(Z),G&&(C.current=!0))},[x.value]),Q=P.useCallback(()=>j?.focus(),[j]),Y=P.useCallback((Z,U,z)=>{const G=!C.current&&!z;(x.value!==void 0&&x.value===U||G)&&K(Z)},[x.value]),re=n==="popper"?e2:DM,O=re===e2?{side:c,sideOffset:u,align:o,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:h,sticky:g,hideWhenDetached:y,avoidCollisions:m}:{};return l.jsx(MM,{scope:e,content:j,viewport:E,onViewportChange:B,itemRefCallback:V,selectedItem:I,onItemLeave:Q,itemTextRefCallback:Y,focusSelectedItem:S,selectedItemText:$,position:n,isPositioned:M,searchRef:D,children:l.jsx(Dm,{as:fee,allowPinchZoom:!0,children:l.jsx(Rm,{asChild:!0,trapped:x.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:pt(s,Z=>{x.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:l.jsx(fd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(re,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Z=>Z.preventDefault(),...v,...O,onPlaced:()=>F(!0),ref:W,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:pt(v.onKeyDown,Z=>{const U=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!U&&Z.key.length===1&&L(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let G=H().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const ae=Z.target,pe=G.indexOf(ae);G=G.slice(pe+1)}setTimeout(()=>_(G)),Z.preventDefault()}})})})})})})});RM.displayName=dee;var hee="SelectItemAlignedPosition",DM=P.forwardRef((t,r)=>{const{__scopeSelect:e,onPlaced:n,...s}=t,a=Jc(rd,e),i=eu(rd,e),[c,u]=P.useState(null),[o,d]=P.useState(null),p=Cr(r,W=>d(W)),f=Nb(e),h=P.useRef(!1),g=P.useRef(!0),{viewport:y,selectedItem:m,selectedItemText:v,focusSelectedItem:x}=i,j=P.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&o&&y&&m&&v){const W=a.trigger.getBoundingClientRect(),I=o.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),$=v.getBoundingClientRect();if(a.dir!=="rtl"){const ae=$.left-I.left,pe=R.left-ae,de=W.left-pe,ge=W.width+de,te=Math.max(ge,I.width),oe=window.innerWidth-no,ne=Jw(pe,[no,Math.max(no,oe-te)]);c.style.minWidth=ge+"px",c.style.left=ne+"px"}else{const ae=I.right-$.right,pe=window.innerWidth-R.right-ae,de=window.innerWidth-W.right-pe,ge=W.width+de,te=Math.max(ge,I.width),oe=window.innerWidth-no,ne=Jw(pe,[no,Math.max(no,oe-te)]);c.style.minWidth=ge+"px",c.style.right=ne+"px"}const K=f(),H=window.innerHeight-no*2,M=y.scrollHeight,F=window.getComputedStyle(o),C=parseInt(F.borderTopWidth,10),_=parseInt(F.paddingTop,10),S=parseInt(F.borderBottomWidth,10),k=parseInt(F.paddingBottom,10),N=C+_+M+k+S,D=Math.min(m.offsetHeight*5,N),L=window.getComputedStyle(y),V=parseInt(L.paddingTop,10),Q=parseInt(L.paddingBottom,10),Y=W.top+W.height/2-no,re=H-Y,O=m.offsetHeight/2,Z=m.offsetTop+O,U=C+_+Z,z=N-U;if(U<=Y){const ae=K.length>0&&m===K[K.length-1].ref.current;c.style.bottom="0px";const pe=o.clientHeight-y.offsetTop-y.offsetHeight,de=Math.max(re,O+(ae?Q:0)+pe+S),ge=U+de;c.style.height=ge+"px"}else{const ae=K.length>0&&m===K[0].ref.current;c.style.top="0px";const de=Math.max(Y,C+y.offsetTop+(ae?V:0)+O)+z;c.style.height=de+"px",y.scrollTop=U-Y+y.offsetTop}c.style.margin=`${no}px 0`,c.style.minHeight=D+"px",c.style.maxHeight=H+"px",n?.(),requestAnimationFrame(()=>h.current=!0)}},[f,a.trigger,a.valueNode,c,o,y,m,v,a.dir,n]);Ms(()=>j(),[j]);const[T,E]=P.useState();Ms(()=>{o&&E(window.getComputedStyle(o).zIndex)},[o]);const B=P.useCallback(W=>{W&&g.current===!0&&(j(),x?.(),g.current=!1)},[j,x]);return l.jsx(mee,{scope:e,contentWrapper:c,shouldExpandOnScrollRef:h,onScrollButtonChange:B,children:l.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:l.jsx(ir.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});DM.displayName=hee;var pee="SelectPopperPosition",e2=P.forwardRef((t,r)=>{const{__scopeSelect:e,align:n="start",collisionPadding:s=no,...a}=t,i=Cb(e);return l.jsx(ob,{...i,...a,ref:r,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});e2.displayName=pee;var[mee,o4]=ch(rd,{}),t2="SelectViewport",IM=P.forwardRef((t,r)=>{const{__scopeSelect:e,nonce:n,...s}=t,a=eu(t2,e),i=o4(t2,e),c=Cr(r,a.onViewportChange),u=P.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Sb.Slot,{scope:e,children:l.jsx(ir.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pt(s.onScroll,o=>{const d=o.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=i;if(f?.current&&p){const h=Math.abs(u.current-d.scrollTop);if(h>0){const g=window.innerHeight-no*2,y=parseFloat(p.style.minHeight),m=parseFloat(p.style.height),v=Math.max(y,m);if(v<g){const x=v+h,j=Math.min(g,x),T=x-j;p.style.height=j+"px",p.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,p.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});IM.displayName=t2;var OM="SelectGroup",[gee,yee]=ch(OM),bee=P.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t,s=$i();return l.jsx(gee,{scope:e,id:s,children:l.jsx(ir.div,{role:"group","aria-labelledby":s,...n,ref:r})})});bee.displayName=OM;var FM="SelectLabel",LM=P.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t,s=yee(FM,e);return l.jsx(ir.div,{id:s.id,...n,ref:r})});LM.displayName=FM;var by="SelectItem",[vee,BM]=ch(by),$M=P.forwardRef((t,r)=>{const{__scopeSelect:e,value:n,disabled:s=!1,textValue:a,...i}=t,c=Jc(by,e),u=eu(by,e),o=c.value===n,[d,p]=P.useState(a??""),[f,h]=P.useState(!1),g=Cr(r,x=>u.itemRefCallback?.(x,n,s)),y=$i(),m=P.useRef("touch"),v=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(vee,{scope:e,value:n,disabled:s,textId:y,isSelected:o,onItemTextChange:P.useCallback(x=>{p(j=>j||(x?.textContent??"").trim())},[]),children:l.jsx(Sb.ItemSlot,{scope:e,value:n,disabled:s,textValue:d,children:l.jsx(ir.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":o&&f,"data-state":o?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:g,onFocus:pt(i.onFocus,()=>h(!0)),onBlur:pt(i.onBlur,()=>h(!1)),onClick:pt(i.onClick,()=>{m.current!=="mouse"&&v()}),onPointerUp:pt(i.onPointerUp,()=>{m.current==="mouse"&&v()}),onPointerDown:pt(i.onPointerDown,x=>{m.current=x.pointerType}),onPointerMove:pt(i.onPointerMove,x=>{m.current=x.pointerType,s?u.onItemLeave?.():m.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pt(i.onPointerLeave,x=>{x.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:pt(i.onKeyDown,x=>{u.searchRef?.current!==""&&x.key===" "||(see.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});$M.displayName=by;var cp="SelectItemText",zM=P.forwardRef((t,r)=>{const{__scopeSelect:e,className:n,style:s,...a}=t,i=Jc(cp,e),c=eu(cp,e),u=BM(cp,e),o=lee(cp,e),[d,p]=P.useState(null),f=Cr(r,v=>p(v),u.onItemTextChange,v=>c.itemTextRefCallback?.(v,u.value,u.disabled)),h=d?.textContent,g=P.useMemo(()=>l.jsx("option",{value:u.value,disabled:u.disabled,children:h},u.value),[u.disabled,u.value,h]),{onNativeOptionAdd:y,onNativeOptionRemove:m}=o;return Ms(()=>(y(g),()=>m(g)),[y,m,g]),l.jsxs(l.Fragment,{children:[l.jsx(ir.span,{id:u.textId,...a,ref:f}),u.isSelected&&i.valueNode&&!i.valueNodeHasChildren?dd.createPortal(a.children,i.valueNode):null]})});zM.displayName=cp;var VM="SelectItemIndicator",UM=P.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t;return BM(VM,e).isSelected?l.jsx(ir.span,{"aria-hidden":!0,...n,ref:r}):null});UM.displayName=VM;var r2="SelectScrollUpButton",WM=P.forwardRef((t,r)=>{const e=eu(r2,t.__scopeSelect),n=o4(r2,t.__scopeSelect),[s,a]=P.useState(!1),i=Cr(r,n.onScrollButtonChange);return Ms(()=>{if(e.viewport&&e.isPositioned){let c=function(){const o=u.scrollTop>0;a(o)};const u=e.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),s?l.jsx(HM,{...t,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=e;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});WM.displayName=r2;var n2="SelectScrollDownButton",qM=P.forwardRef((t,r)=>{const e=eu(n2,t.__scopeSelect),n=o4(n2,t.__scopeSelect),[s,a]=P.useState(!1),i=Cr(r,n.onScrollButtonChange);return Ms(()=>{if(e.viewport&&e.isPositioned){let c=function(){const o=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<o;a(d)};const u=e.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),s?l.jsx(HM,{...t,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=e;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});qM.displayName=n2;var HM=P.forwardRef((t,r)=>{const{__scopeSelect:e,onAutoScroll:n,...s}=t,a=eu("SelectScrollButton",e),i=P.useRef(null),c=Nb(e),u=P.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return P.useEffect(()=>()=>u(),[u]),Ms(()=>{c().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),l.jsx(ir.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:pt(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:pt(s.onPointerMove,()=>{a.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:pt(s.onPointerLeave,()=>{u()})})}),xee="SelectSeparator",KM=P.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t;return l.jsx(ir.div,{"aria-hidden":!0,...n,ref:r})});KM.displayName=xee;var s2="SelectArrow",wee=P.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t,s=Cb(e),a=Jc(s2,e),i=eu(s2,e);return a.open&&i.position==="popper"?l.jsx(lb,{...s,...n,ref:r}):null});wee.displayName=s2;var _ee="SelectBubbleInput",GM=P.forwardRef(({__scopeSelect:t,value:r,...e},n)=>{const s=P.useRef(null),a=Cr(n,s),i=i4(r);return P.useEffect(()=>{const c=s.current;if(!c)return;const u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(i!==r&&d){const p=new Event("change",{bubbles:!0});d.call(c,r),c.dispatchEvent(p)}},[i,r]),l.jsx(ir.select,{...e,style:{...Q9,...e.style},ref:a,defaultValue:r})});GM.displayName=_ee;function XM(t){return t===""||t===void 0}function QM(t){const r=ca(t),e=P.useRef(""),n=P.useRef(0),s=P.useCallback(i=>{const c=e.current+i;r(c),(function u(o){e.current=o,window.clearTimeout(n.current),o!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(c)},[r]),a=P.useCallback(()=>{e.current="",window.clearTimeout(n.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(n.current),[]),[e,s,a]}function YM(t,r,e){const s=r.length>1&&Array.from(r).every(o=>o===r[0])?r[0]:r,a=e?t.indexOf(e):-1;let i=kee(t,Math.max(a,0));s.length===1&&(i=i.filter(o=>o!==e));const u=i.find(o=>o.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==e?u:void 0}function kee(t,r){return t.map((e,n)=>t[(r+n)%t.length])}var jee=jM,ZM=NM,See=TM,Nee=EM,Cee=AM,JM=PM,Tee=IM,eR=LM,tR=$M,Eee=zM,Aee=UM,rR=WM,nR=qM,sR=KM;const ga=t=>l.jsx(jee,{modal:!1,...t}),ya=See,Qs=P.forwardRef(({className:t,children:r,...e},n)=>l.jsxs(ZM,{ref:n,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...e,children:[r,l.jsx(Nee,{asChild:!0,children:l.jsx(rs,{className:"h-4 w-4 opacity-50"})})]}));Qs.displayName=ZM.displayName;const aR=P.forwardRef(({className:t,...r},e)=>l.jsx(rR,{ref:e,className:Pe("flex cursor-default items-center justify-center py-1",t),...r,children:l.jsx(Qu,{className:"h-4 w-4"})}));aR.displayName=rR.displayName;const iR=P.forwardRef(({className:t,...r},e)=>l.jsx(nR,{ref:e,className:Pe("flex cursor-default items-center justify-center py-1",t),...r,children:l.jsx(rs,{className:"h-4 w-4"})}));iR.displayName=nR.displayName;const Ys=P.forwardRef(({className:t,children:r,position:e="popper",...n},s)=>l.jsx(Cee,{children:l.jsxs(JM,{ref:s,className:Pe("relative z-[99999] max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:e,style:{pointerEvents:"auto"},...n,children:[l.jsx(aR,{}),l.jsx(Tee,{className:Pe("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),l.jsx(iR,{})]})}));Ys.displayName=JM.displayName;const Pee=P.forwardRef(({className:t,...r},e)=>l.jsx(eR,{ref:e,className:Pe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r}));Pee.displayName=eR.displayName;const zr=P.forwardRef(({className:t,children:r,...e},n)=>l.jsxs(tR,{ref:n,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...e,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Aee,{children:l.jsx(Al,{className:"h-4 w-4"})})}),l.jsx(Eee,{children:r})]}));zr.displayName=tR.displayName;const Mee=P.forwardRef(({className:t,...r},e)=>l.jsx(sR,{ref:e,className:Pe("-mx-1 my-1 h-px bg-muted",t),...r}));Mee.displayName=sR.displayName;function Ree(t){const r=Dee(t),e=P.forwardRef((n,s)=>{const{children:a,...i}=n,c=P.Children.toArray(a),u=c.find(Oee);if(u){const o=u.props.children,d=c.map(p=>p===u?P.Children.count(o)>1?P.Children.only(null):P.isValidElement(o)?o.props.children:null:p);return l.jsx(r,{...i,ref:s,children:P.isValidElement(o)?P.cloneElement(o,void 0,d):null})}return l.jsx(r,{...i,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}function Dee(t){const r=P.forwardRef((e,n)=>{const{children:s,...a}=e;if(P.isValidElement(s)){const i=Lee(s),c=Fee(a,s.props);return s.type!==P.Fragment&&(c.ref=n?tl(n,i):i),P.cloneElement(s,c)}return P.Children.count(s)>1?P.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Iee=Symbol("radix.slottable");function Oee(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Iee}function Fee(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function Lee(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var Tb="Popover",[oR]=va(Tb,[Yc]),zm=Yc(),[Bee,tu]=oR(Tb),lR=t=>{const{__scopePopover:r,children:e,open:n,defaultOpen:s,onOpenChange:a,modal:i=!1}=t,c=zm(r),u=P.useRef(null),[o,d]=P.useState(!1),[p,f]=go({prop:n,defaultProp:s??!1,onChange:a,caller:Tb});return l.jsx(ib,{...c,children:l.jsx(Bee,{scope:r,contentId:$i(),triggerRef:u,open:p,onOpenChange:f,onOpenToggle:P.useCallback(()=>f(h=>!h),[f]),hasCustomAnchor:o,onCustomAnchorAdd:P.useCallback(()=>d(!0),[]),onCustomAnchorRemove:P.useCallback(()=>d(!1),[]),modal:i,children:e})})};lR.displayName=Tb;var cR="PopoverAnchor",$ee=P.forwardRef((t,r)=>{const{__scopePopover:e,...n}=t,s=tu(cR,e),a=zm(e),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=s;return P.useEffect(()=>(i(),()=>c()),[i,c]),l.jsx(Tm,{...a,...n,ref:r})});$ee.displayName=cR;var uR="PopoverTrigger",dR=P.forwardRef((t,r)=>{const{__scopePopover:e,...n}=t,s=tu(uR,e),a=zm(e),i=Cr(r,s.triggerRef),c=l.jsx(ir.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":gR(s.open),...n,ref:i,onClick:pt(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:l.jsx(Tm,{asChild:!0,...a,children:c})});dR.displayName=uR;var l4="PopoverPortal",[zee,Vee]=oR(l4,{forceMount:void 0}),fR=t=>{const{__scopePopover:r,forceMount:e,children:n,container:s}=t,a=tu(l4,r);return l.jsx(zee,{scope:r,forceMount:e,children:l.jsx(ws,{present:e||a.open,children:l.jsx(nh,{asChild:!0,container:s,children:n})})})};fR.displayName=l4;var Wf="PopoverContent",hR=P.forwardRef((t,r)=>{const e=Vee(Wf,t.__scopePopover),{forceMount:n=e.forceMount,...s}=t,a=tu(Wf,t.__scopePopover);return l.jsx(ws,{present:n||a.open,children:a.modal?l.jsx(Wee,{...s,ref:r}):l.jsx(qee,{...s,ref:r})})});hR.displayName=Wf;var Uee=Ree("PopoverContent.RemoveScroll"),Wee=P.forwardRef((t,r)=>{const e=tu(Wf,t.__scopePopover),n=P.useRef(null),s=Cr(r,n),a=P.useRef(!1);return P.useEffect(()=>{const i=n.current;if(i)return kb(i)},[]),l.jsx(Dm,{as:Uee,allowPinchZoom:!0,children:l.jsx(pR,{...t,ref:s,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(t.onCloseAutoFocus,i=>{i.preventDefault(),a.current||e.triggerRef.current?.focus()}),onPointerDownOutside:pt(t.onPointerDownOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,o=c.button===2||u;a.current=o},{checkForDefaultPrevented:!1}),onFocusOutside:pt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),qee=P.forwardRef((t,r)=>{const e=tu(Wf,t.__scopePopover),n=P.useRef(!1),s=P.useRef(!1);return l.jsx(pR,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||e.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;e.triggerRef.current?.contains(i)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),pR=P.forwardRef((t,r)=>{const{__scopePopover:e,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:o,onInteractOutside:d,...p}=t,f=tu(Wf,e),h=zm(e);return wb(),l.jsx(Rm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:l.jsx(fd,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:o,onDismiss:()=>f.onOpenChange(!1),children:l.jsx(ob,{"data-state":gR(f.open),role:"dialog",id:f.contentId,...h,...p,ref:r,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mR="PopoverClose",Hee=P.forwardRef((t,r)=>{const{__scopePopover:e,...n}=t,s=tu(mR,e);return l.jsx(ir.button,{type:"button",...n,ref:r,onClick:pt(t.onClick,()=>s.onOpenChange(!1))})});Hee.displayName=mR;var Kee="PopoverArrow",Gee=P.forwardRef((t,r)=>{const{__scopePopover:e,...n}=t,s=zm(e);return l.jsx(lb,{...s,...n,ref:r})});Gee.displayName=Kee;function gR(t){return t?"open":"closed"}var Xee=lR,Qee=dR,Yee=fR,yR=hR;const c4=t=>l.jsx(Xee,{modal:!1,...t}),u4=Qee,Eb=P.forwardRef(({className:t,align:r="center",sideOffset:e=4,...n},s)=>l.jsx(Yee,{children:l.jsx(yR,{ref:s,align:r,sideOffset:e,className:Pe("z-[99999] w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","bg-popover opacity-100",t),style:{pointerEvents:"auto"},...n})}));Eb.displayName=yR.displayName;function Zee(t,r){return P.useReducer((e,n)=>r[e][n]??e,t)}var d4="ScrollArea",[bR]=va(d4),[Jee,Wi]=bR(d4),vR=P.forwardRef((t,r)=>{const{__scopeScrollArea:e,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=t,[c,u]=P.useState(null),[o,d]=P.useState(null),[p,f]=P.useState(null),[h,g]=P.useState(null),[y,m]=P.useState(null),[v,x]=P.useState(0),[j,T]=P.useState(0),[E,B]=P.useState(!1),[W,I]=P.useState(!1),R=Cr(r,K=>u(K)),$=$m(s);return l.jsx(Jee,{scope:e,type:n,dir:$,scrollHideDelay:a,scrollArea:c,viewport:o,onViewportChange:d,content:p,onContentChange:f,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:E,onScrollbarXEnabledChange:B,scrollbarY:y,onScrollbarYChange:m,scrollbarYEnabled:W,onScrollbarYEnabledChange:I,onCornerWidthChange:x,onCornerHeightChange:T,children:l.jsx(ir.div,{dir:$,...i,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});vR.displayName=d4;var xR="ScrollAreaViewport",wR=P.forwardRef((t,r)=>{const{__scopeScrollArea:e,children:n,nonce:s,...a}=t,i=Wi(xR,e),c=P.useRef(null),u=Cr(r,c,i.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(ir.div,{"data-radix-scroll-area-viewport":"",...a,ref:u,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});wR.displayName=xR;var nl="ScrollAreaScrollbar",f4=P.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=Wi(nl,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,c=t.orientation==="horizontal";return P.useEffect(()=>(c?a(!0):i(!0),()=>{c?a(!1):i(!1)}),[c,a,i]),s.type==="hover"?l.jsx(ete,{...n,ref:r,forceMount:e}):s.type==="scroll"?l.jsx(tte,{...n,ref:r,forceMount:e}):s.type==="auto"?l.jsx(_R,{...n,ref:r,forceMount:e}):s.type==="always"?l.jsx(h4,{...n,ref:r}):null});f4.displayName=nl;var ete=P.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=Wi(nl,t.__scopeScrollArea),[a,i]=P.useState(!1);return P.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const o=()=>{window.clearTimeout(u),i(!0)},d=()=>{u=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",o),c.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",o),c.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(ws,{present:e||a,children:l.jsx(_R,{"data-state":a?"visible":"hidden",...n,ref:r})})}),tte=P.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=Wi(nl,t.__scopeScrollArea),a=t.orientation==="horizontal",i=Pb(()=>u("SCROLL_END"),100),[c,u]=Zee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return P.useEffect(()=>{if(c==="idle"){const o=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(o)}},[c,s.scrollHideDelay,u]),P.useEffect(()=>{const o=s.viewport,d=a?"scrollLeft":"scrollTop";if(o){let p=o[d];const f=()=>{const h=o[d];p!==h&&(u("SCROLL"),i()),p=h};return o.addEventListener("scroll",f),()=>o.removeEventListener("scroll",f)}},[s.viewport,a,u,i]),l.jsx(ws,{present:e||c!=="hidden",children:l.jsx(h4,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:r,onPointerEnter:pt(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:pt(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),_R=P.forwardRef((t,r)=>{const e=Wi(nl,t.__scopeScrollArea),{forceMount:n,...s}=t,[a,i]=P.useState(!1),c=t.orientation==="horizontal",u=Pb(()=>{if(e.viewport){const o=e.viewport.offsetWidth<e.viewport.scrollWidth,d=e.viewport.offsetHeight<e.viewport.scrollHeight;i(c?o:d)}},10);return qf(e.viewport,u),qf(e.content,u),l.jsx(ws,{present:n||a,children:l.jsx(h4,{"data-state":a?"visible":"hidden",...s,ref:r})})}),h4=P.forwardRef((t,r)=>{const{orientation:e="vertical",...n}=t,s=Wi(nl,t.__scopeScrollArea),a=P.useRef(null),i=P.useRef(0),[c,u]=P.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),o=CR(c.viewport,c.content),d={...n,sizes:c,onSizesChange:u,hasThumb:o>0&&o<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function p(f,h){return ote(f,i.current,c,h)}return e==="horizontal"?l.jsx(rte,{...d,ref:r,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,h=CS(f,c,s.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=p(f,s.dir))}}):e==="vertical"?l.jsx(nte,{...d,ref:r,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,h=CS(f,c);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=p(f))}}):null}),rte=P.forwardRef((t,r)=>{const{sizes:e,onSizesChange:n,...s}=t,a=Wi(nl,t.__scopeScrollArea),[i,c]=P.useState(),u=P.useRef(null),o=Cr(r,u,a.onScrollbarXChange);return P.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),l.jsx(jR,{"data-orientation":"horizontal",...s,ref:o,sizes:e,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ab(e)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,p)=>{if(a.viewport){const f=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),ER(f,p)&&d.preventDefault()}},onResize:()=>{u.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:xy(i.paddingLeft),paddingEnd:xy(i.paddingRight)}})}})}),nte=P.forwardRef((t,r)=>{const{sizes:e,onSizesChange:n,...s}=t,a=Wi(nl,t.__scopeScrollArea),[i,c]=P.useState(),u=P.useRef(null),o=Cr(r,u,a.onScrollbarYChange);return P.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),l.jsx(jR,{"data-orientation":"vertical",...s,ref:o,sizes:e,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ab(e)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,p)=>{if(a.viewport){const f=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),ER(f,p)&&d.preventDefault()}},onResize:()=>{u.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:xy(i.paddingTop),paddingEnd:xy(i.paddingBottom)}})}})}),[ste,kR]=bR(nl),jR=P.forwardRef((t,r)=>{const{__scopeScrollArea:e,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:o,onWheelScroll:d,onResize:p,...f}=t,h=Wi(nl,e),[g,y]=P.useState(null),m=Cr(r,R=>y(R)),v=P.useRef(null),x=P.useRef(""),j=h.viewport,T=n.content-n.viewport,E=ca(d),B=ca(u),W=Pb(p,10);function I(R){if(v.current){const $=R.clientX-v.current.left,K=R.clientY-v.current.top;o({x:$,y:K})}}return P.useEffect(()=>{const R=$=>{const K=$.target;g?.contains(K)&&E($,T)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[j,g,T,E]),P.useEffect(B,[n,B]),qf(g,W),qf(h.content,W),l.jsx(ste,{scope:e,scrollbar:g,hasThumb:s,onThumbChange:ca(a),onThumbPointerUp:ca(i),onThumbPositionChange:B,onThumbPointerDown:ca(c),children:l.jsx(ir.div,{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:pt(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),v.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),I(R))}),onPointerMove:pt(t.onPointerMove,I),onPointerUp:pt(t.onPointerUp,R=>{const $=R.target;$.hasPointerCapture(R.pointerId)&&$.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=x.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),vy="ScrollAreaThumb",SR=P.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=kR(vy,t.__scopeScrollArea);return l.jsx(ws,{present:e||s.hasThumb,children:l.jsx(ate,{ref:r,...n})})}),ate=P.forwardRef((t,r)=>{const{__scopeScrollArea:e,style:n,...s}=t,a=Wi(vy,e),i=kR(vy,e),{onThumbPositionChange:c}=i,u=Cr(r,p=>i.onThumbChange(p)),o=P.useRef(void 0),d=Pb(()=>{o.current&&(o.current(),o.current=void 0)},100);return P.useEffect(()=>{const p=a.viewport;if(p){const f=()=>{if(d(),!o.current){const h=lte(p,c);o.current=h,c()}};return c(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[a.viewport,d,c]),l.jsx(ir.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:pt(t.onPointerDownCapture,p=>{const h=p.target.getBoundingClientRect(),g=p.clientX-h.left,y=p.clientY-h.top;i.onThumbPointerDown({x:g,y})}),onPointerUp:pt(t.onPointerUp,i.onThumbPointerUp)})});SR.displayName=vy;var p4="ScrollAreaCorner",NR=P.forwardRef((t,r)=>{const e=Wi(p4,t.__scopeScrollArea),n=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&n?l.jsx(ite,{...t,ref:r}):null});NR.displayName=p4;var ite=P.forwardRef((t,r)=>{const{__scopeScrollArea:e,...n}=t,s=Wi(p4,e),[a,i]=P.useState(0),[c,u]=P.useState(0),o=!!(a&&c);return qf(s.scrollbarX,()=>{const d=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(d),u(d)}),qf(s.scrollbarY,()=>{const d=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(d),i(d)}),o?l.jsx(ir.div,{...n,ref:r,style:{width:a,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function xy(t){return t?parseInt(t,10):0}function CR(t,r){const e=t/r;return isNaN(e)?0:e}function Ab(t){const r=CR(t.viewport,t.content),e=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-e)*r;return Math.max(n,18)}function ote(t,r,e,n="ltr"){const s=Ab(e),a=s/2,i=r||a,c=s-i,u=e.scrollbar.paddingStart+i,o=e.scrollbar.size-e.scrollbar.paddingEnd-c,d=e.content-e.viewport,p=n==="ltr"?[0,d]:[d*-1,0];return TR([u,o],p)(t)}function CS(t,r,e="ltr"){const n=Ab(r),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,a=r.scrollbar.size-s,i=r.content-r.viewport,c=a-n,u=e==="ltr"?[0,i]:[i*-1,0],o=Jw(t,u);return TR([0,i],[0,c])(o)}function TR(t,r){return e=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const n=(r[1]-r[0])/(t[1]-t[0]);return r[0]+n*(e-t[0])}}function ER(t,r){return t>0&&t<r}var lte=(t,r=()=>{})=>{let e={left:t.scrollLeft,top:t.scrollTop},n=0;return(function s(){const a={left:t.scrollLeft,top:t.scrollTop},i=e.left!==a.left,c=e.top!==a.top;(i||c)&&r(),e=a,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function Pb(t,r){const e=ca(t),n=P.useRef(0);return P.useEffect(()=>()=>window.clearTimeout(n.current),[]),P.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(e,r)},[e,r])}function qf(t,r){const e=ca(r);Ms(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(e)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,e])}var AR=vR,cte=wR,ute=NR;const ru=P.forwardRef(({className:t,children:r,...e},n)=>l.jsxs(AR,{ref:n,className:Pe("relative overflow-hidden",t),...e,children:[l.jsx(cte,{className:"h-full w-full rounded-[inherit]",children:r}),l.jsx(m4,{}),l.jsx(ute,{})]}));ru.displayName=AR.displayName;const m4=P.forwardRef(({className:t,orientation:r="vertical",...e},n)=>l.jsx(f4,{ref:n,orientation:r,className:Pe("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...e,children:l.jsx(SR,{className:"relative flex-1 rounded-full bg-border"})}));m4.displayName=f4.displayName;function ts({value:t,onValueChange:r,options:e,placeholder:n="...",searchPlaceholder:s="...",emptyText:a="  ",disabled:i=!1,className:c="",triggerClassName:u="",contentClassName:o="",showSearch:d=!0,maxHeight:p=300,allowCustom:f=!1,onCustomAdd:h}){const[g,y]=P.useState(!1),[m,v]=P.useState(""),x=P.useRef(null),j=P.useMemo(()=>{if(!m.trim())return e;const I=m.toLowerCase().trim();return e.filter(R=>R.label.toLowerCase().includes(I)||R.value.toLowerCase().includes(I)||R.description?.toLowerCase().includes(I))},[e,m]),T=P.useMemo(()=>e.find(I=>I.value===t),[e,t]),E=P.useCallback(I=>{r(I),y(!1),v("")},[r]),B=P.useCallback(I=>{I.stopPropagation(),r("")},[r]);P.useEffect(()=>{if(g&&d&&x.current){x.current.focus();const I=setTimeout(()=>{x.current?.focus()},50);return()=>clearTimeout(I)}g||v("")},[g,d]);const W=P.useCallback(I=>{I.key==="Escape"&&y(!1)},[]);return l.jsx("div",{className:Pe("w-full",c),children:l.jsxs(c4,{open:g,onOpenChange:y,children:[l.jsx(u4,{asChild:!0,children:l.jsxs(Oe,{variant:"outline",role:"combobox","aria-expanded":g,disabled:i,className:Pe("w-full justify-between h-10 font-normal",!t&&"text-muted-foreground",u),children:[l.jsx("span",{className:"truncate text-right flex-1",children:T?.label||n}),l.jsxs("div",{className:"flex items-center gap-1 mr-2",children:[t&&!i&&l.jsx(Es,{className:"h-4 w-4 opacity-50 hover:opacity-100 cursor-pointer",onClick:B}),l.jsx(rs,{className:"h-4 w-4 opacity-50"})]})]})}),l.jsxs(Eb,{className:Pe("w-[var(--radix-popover-trigger-width)] p-0",o),align:"start",onKeyDown:W,children:[d&&l.jsx("div",{className:"border-b p-2",children:l.jsxs("div",{className:"relative",children:[l.jsx(Bl,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none"}),l.jsx(gt,{ref:x,placeholder:s,value:m,onChange:I=>v(I.target.value),className:"pr-8 h-9"})]})}),l.jsx(ru,{className:"w-full",style:{maxHeight:`${p}px`},children:l.jsx("div",{className:"p-1 min-w-[var(--radix-popover-trigger-width)]",children:j.length===0?l.jsx("div",{children:f&&m.trim()?l.jsxs("button",{onClick:()=>{E(m.trim()),h?.(m.trim())},className:Pe("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150 bg-blue-50"),children:[l.jsx(cs,{className:"h-4 w-4 shrink-0"}),l.jsx("div",{className:"flex-1 text-right",children:l.jsxs("div",{children:['+  "',m.trim(),'"']})})]}):l.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:a})}):l.jsxs(l.Fragment,{children:[j.map(I=>l.jsxs("button",{onClick:()=>!I.disabled&&E(I.value),disabled:I.disabled,className:Pe("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150",t===I.value&&"bg-accent/50",I.disabled&&"opacity-50 cursor-not-allowed"),children:[l.jsx(Al,{className:Pe("h-4 w-4 shrink-0",t===I.value?"opacity-100":"opacity-0")}),l.jsxs("div",{className:"flex-1 text-right",children:[l.jsx("div",{children:I.label}),I.description&&l.jsx("div",{className:"text-xs text-muted-foreground",children:I.description})]})]},I.value)),f&&m.trim()&&!j.some(I=>I.value===m.trim())&&l.jsxs("button",{onClick:()=>{E(m.trim()),h?.(m.trim())},className:Pe("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right mt-1","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150 bg-blue-50"),children:[l.jsx(cs,{className:"h-4 w-4 shrink-0"}),l.jsx("div",{className:"flex-1 text-right",children:l.jsxs("div",{children:['+  "',m.trim(),'"']})})]})]})})})]})]})})}function Nye({value:t,onValueChange:r,workers:e,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:a=" ",showInactiveWorkers:i=!0,disabled:c=!1,className:u=""}){const o=P.useMemo(()=>{const p=(i?e:e.filter(f=>f.isActive!==!1)).map(f=>({value:f.id,label:f.name,description:f.type?`${f.type}${f.isActive===!1?" ( )":""}`:f.isActive===!1?"( )":void 0}));return s?[{value:"all",label:a},...p]:p},[e,s,a,i]);return l.jsx(ts,{value:t,onValueChange:r,options:o,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:c,className:u})}function Cye({value:t,onValueChange:r,projects:e,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:a=" ",disabled:i=!1,className:c=""}){const u=P.useMemo(()=>{const o=e.map(d=>({value:d.id,label:d.name,description:d.status||void 0}));return s?[{value:"all",label:a},...o]:o},[e,s,a]);return l.jsx(ts,{value:t,onValueChange:r,options:u,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:i,className:c})}function Tye({value:t,onValueChange:r,users:e,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:a=" ",disabled:i=!1,className:c=""}){const u=P.useMemo(()=>{const o=e.map(d=>({value:d.id,label:d.fullName||d.username||d.email||d.id,description:d.email||void 0}));return s?[{value:"all",label:a},...o]:o},[e,s,a]);return l.jsx(ts,{value:t,onValueChange:r,options:u,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:i,className:c})}function a2({value:t,onValueChange:r,projectTypes:e,placeholder:n="  ",showNoneOption:s=!0,noneOptionLabel:a=" ",disabled:i=!1,className:c=""}){const u=P.useMemo(()=>{const o=e.map(d=>({value:d.id.toString(),label:d.name,description:d.description||void 0}));return s?[{value:"",label:a},...o]:o},[e,s,a]);return l.jsx(ts,{value:t,onValueChange:r,options:u,placeholder:n,searchPlaceholder:"   ...",emptyText:"    ",disabled:i,className:c})}const Jh="construction-app-selected-project",ep="construction-app-selected-project-name",ps="all",Mo=" ",dte=[["/api/projects"],["/api/projects/with-stats"],["/api/workers"],["/api/worker-attendance"],["/api/material-purchases"],["/api/fund-transfers"],["/api/transportation-expenses"],["/api/worker-transfers"],["/api/worker-misc-expenses"],["/api/suppliers"],["/api/daily-expense-summaries"],["/api/materials"],["/api/notifications"]],PR=P.createContext(null);function fte({children:t}){const[r,e]=P.useState(ps),[n,s]=P.useState(Mo),[a,i]=P.useState(!1),c=xs(),{data:u,isLoading:o,error:d}=Pt({queryKey:["/api/projects"],queryFn:async()=>{const B=await fetch("/api/projects",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`}});if(!B.ok)throw new Error("   ");const W=await B.json();return Array.isArray(W?.data)?W.data:Array.isArray(W)?W:[]},staleTime:1e3*5,gcTime:1e3*60*2,retry:2,refetchOnWindowFocus:!0,refetchOnMount:!0}),p=P.useMemo(()=>Array.isArray(u)?u:[],[u]);P.useEffect(()=>{try{const B=localStorage.getItem(Jh),W=localStorage.getItem(ep);B&&B!=="undefined"&&B!=="null"?(e(B),W&&s(W)):(e(ps),s(Mo))}catch{localStorage.removeItem(Jh),localStorage.removeItem(ep),e(ps),s(Mo)}finally{i(!0)}},[]);const f=!a||o,h=P.useCallback(async B=>{console.log(" [SelectedProjectContext]    ...",B);const W=Date.now();await c.cancelQueries();const I=dte.map($=>c.invalidateQueries({queryKey:$,refetchType:"all",exact:!1}));B&&B!==ps&&I.push(c.invalidateQueries({predicate:$=>{const K=$.queryKey;return Array.isArray(K)&&K.some(H=>String(H)===B)},refetchType:"all"})),await Promise.all(I),await c.refetchQueries({type:"active",exact:!1});const R=Date.now()-W;console.log(` [SelectedProjectContext]      ${R}ms`)},[c]),g=P.useCallback(async(B,W)=>{console.log(" [SelectedProjectContext]   :",{projectId:B,projectName:W}),e(B),W?s(W):B===ps&&s(Mo);try{B&&B!=="undefined"&&B!=="null"?(localStorage.setItem(Jh,B),W?localStorage.setItem(ep,W):B===ps&&localStorage.setItem(ep,Mo)):(localStorage.removeItem(Jh),localStorage.removeItem(ep),s(""))}catch(I){console.error(" [SelectedProjectContext]    :",I)}await h(B)},[h]),y=P.useCallback(()=>{g(ps,Mo)},[g]),m=P.useCallback(()=>{console.log(" [SelectedProjectContext]   "),g(ps,Mo)},[g]),v=P.useCallback(()=>{try{const B=localStorage.getItem(Jh);return!!(B&&B!=="undefined"&&B!=="null"&&B!==ps)}catch{return!1}},[]),x=P.useCallback(()=>{if(!(r===ps||!r))return r},[r]),j=r===ps,T=P.useCallback(async()=>{await h(r)},[h,r]),E=P.useMemo(()=>({selectedProjectId:r,selectedProjectName:n,isLoading:f,isAllProjects:j,selectProject:g,clearProject:m,selectAllProjects:y,hasStoredProject:v,getProjectIdForApi:x,projects:p,projectsError:d,isProjectsLoading:o,refreshAllData:T}),[r,n,f,j,g,m,y,v,x,p,d,o,T]);return l.jsx(PR.Provider,{value:E,children:t})}function hte(){const t=P.useContext(PR);if(!t)throw new Error("useSelectedProjectContext must be used within a SelectedProjectProvider");return t}function ko(){const t=hte();return{...t,refreshAllData:t.refreshAllData}}function pte({onAddWorker:t,onAddProject:r}){const[,e]=Rs(),n=[{id:"add-worker",label:" ",icon:xq,action:t,gradient:"from-teal-500 to-teal-600",iconColor:"text-white"},{id:"add-project",label:" ",icon:JW,action:r,gradient:"from-violet-500 to-violet-600",iconColor:"text-white"},{id:"project-fund-custody",label:" ",icon:Sr,route:"/project-fund-custody",gradient:"from-blue-500 to-blue-600",iconColor:"text-white"},{id:"project-transfers",label:" ",icon:Jy,route:"/project-transfers",gradient:"from-purple-500 to-purple-600",iconColor:"text-white"},{id:"supplier-accounts",label:" ",icon:bs,route:"/supplier-accounts",gradient:"from-amber-500 to-amber-600",iconColor:"text-white"},{id:"equipment",label:" ",icon:ho,route:"/equipment",gradient:"from-slate-500 to-slate-600",iconColor:"text-white"},{id:"worker-accounts",label:" ",icon:Sr,route:"/worker-accounts",gradient:"from-cyan-500 to-cyan-600",iconColor:"text-white"},{id:"professional-reports",label:"",icon:Nw,route:"/professional-reports",gradient:"from-indigo-500 to-indigo-600",iconColor:"text-white"},{id:"ai-chat",label:" ",icon:vA,route:"/ai-chat",gradient:"from-pink-500 to-pink-600",iconColor:"text-white"}],s=a=>{a.action?a.action():a.route&&e(a.route)};return l.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",dir:"rtl",children:n.map(a=>{const i=a.icon;return l.jsxs("button",{onClick:()=>s(a),className:Pe("flex flex-col items-center justify-center","p-3 sm:p-4 rounded-xl","bg-gradient-to-br",a.gradient,"shadow-md hover:shadow-lg","transform hover:scale-[1.02] active:scale-[0.98]","transition-all duration-200 ease-out","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","min-h-[80px] sm:min-h-[90px]"),children:[l.jsx(i,{className:Pe("h-6 w-6 sm:h-7 sm:w-7 mb-1.5 sm:mb-2",a.iconColor)}),l.jsx("span",{className:Pe("text-[11px] sm:text-xs font-medium text-center leading-tight",a.iconColor),children:a.label})]},a.id)})})}const mte=hd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Zr({className:t,variant:r,...e}){return l.jsx("div",{className:Pe(mte({variant:r}),t),...e})}function MR(){const t=navigator.userAgent.toLowerCase();return t.includes("wv")||t.includes("webview")||t.includes("android")&&!t.includes("chrome/")||t.includes("android")&&t.includes("version/")}function gte(){const t=navigator.userAgent.toLowerCase();return(t.includes("iphone")||t.includes("ipad"))&&!t.includes("safari/")}function TS(){return MR()||gte()}function ES(){return!!(window.Android?.downloadBase64File||window.Android?.downloadFile||window.Android?.shareFile)}function yte(){return!!window.webkit?.messageHandlers?.downloadFile}function AS(){return typeof navigator.share=="function"&&typeof navigator.canShare=="function"}async function bte(t,r,e){const n=t.type;console.log(" [Download]  :",{fileName:r,mimeType:n,size:t.size,isAndroidWebView:MR(),hasAndroidBridge:ES(),hasShareAPI:AS()});try{return ES()?(console.log(" [Download]  Android Bridge"),await vte(t,r,n)):yte()?(console.log(" [Download]  iOS Bridge"),await xte(t,r,n)):TS()&&AS()?(console.log(" [Download]  Share API"),await RR(t,r,n)):TS()?(console.log(" [Download] WebView  Bridge -   "),await _te(t,r,n)):(console.log(" [Download]    "),i2(t,r))}catch(s){return console.error(" [Download] :",s),i2(t,r)}}async function vte(t,r,e){try{const n=await Up(t);return window.Android?.downloadBase64File?(window.Android.downloadBase64File(n,r,e),console.log(" [Download]     downloadBase64File"),!0):window.Android?.downloadFile?(window.Android.downloadFile(n,r,e),console.log(" [Download]     downloadFile"),!0):window.Android?.shareFile?(window.Android.shareFile(n,r,e),console.log(" [Download]     shareFile"),!0):!1}catch(n){return console.error(" [Download]  Android Bridge:",n),!1}}async function xte(t,r,e){try{const n=await Up(t);return window.webkit?.messageHandlers?.downloadFile?(window.webkit.messageHandlers.downloadFile.postMessage({base64:n,fileName:r,mimeType:e}),console.log(" [Download]     iOS Bridge"),!0):!1}catch(n){return console.error(" [Download]  iOS Bridge:",n),!1}}async function RR(t,r,e){try{const n=new File([t],r,{type:e}),s={files:[n]};return typeof navigator.canShare=="function"&&navigator.canShare(s)?(await navigator.share({files:[n],title:r}),console.log(" [Download]    "),!0):(console.log(" [Download] Share API      "),!1)}catch(n){return n.name==="AbortError"?(console.log(" [Download]      "),!0):(console.error(" [Download]  Share API:",n),!1)}}async function wte(t,r,e){try{const n=await Up(t),s=await fetch("/api/download-file",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({base64:n,fileName:r,mimeType:e})});if(!s.ok)return console.error(" [Download] Server download failed:",s.status),!1;const a=await s.blob(),i=URL.createObjectURL(a);return window.location.href=i,setTimeout(()=>URL.revokeObjectURL(i),5e3),console.log(" [Download]    "),!0}catch(n){return console.error(" [Download]   :",n),!1}}function i2(t,r){try{const e=URL.createObjectURL(t),n=document.createElement("a");return n.href=e,n.download=r,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(e),1e3),console.log(" [Download]    "),!0}catch(e){return console.error(" [Download]   :",e),!1}}async function _te(t,r,e){if(console.log(" [Download]    WebView..."),await wte(t,r,e)||await RR(t,r,e))return!0;try{const a=await Up(t),i=`data:${e};base64,${a}`,c=document.createElement("a");c.href=i,c.download=r,c.target="_self",c.style.display="none",document.body.appendChild(c);const u=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});return c.dispatchEvent(u),setTimeout(()=>{document.body.removeChild(c)},100),console.log(" [Download]    "),!0}catch(a){console.error(" [Download]   WebView:",a)}try{const a=await Up(t),i=`data:${e};base64,${a}`,c=window.open("","_blank");if(c)return c.location.href=i,console.log(" [Download]    "),!0}catch(a){console.error(" [Download]    :",a)}return console.log(" [Download]      "),i2(t,r)}function Up(t){return new Promise((r,e)=>{const n=new FileReader;n.onloadend=()=>{const a=n.result.split(",")[1];r(a)},n.onerror=e,n.readAsDataURL(t)})}async function DR(t,r){const e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});return bte(e,r)}const lo={name:"    ",subtitle:"Al-Fatihi Contracting & Engineering Consultancy",address:"  ",phone:"+966 XX XXXX XXX",email:"info@alfatihi.com",website:"www.alfatihi.com"},Xn={headerBlue:"2E75B6",headerDarkBlue:"1F5A96",lightBlue:"E7F3FF",yellowTotal:"FFFF00",greenTotal:"00B050",greenLight:"C6EFCE",orangeLight:"FCE4D6",white:"FFFFFF",black:"000000",gray:"6B7280"},Er={fonts:{header:{bold:!0,size:11,color:{argb:"FF"+Xn.white}},data:{size:10},bold:{bold:!0,size:10}},colors:{headerBg:"FF"+Xn.headerBlue,altRow:"FF"+Xn.lightBlue,green:"FF"+Xn.greenTotal,yellow:"FF"+Xn.yellowTotal,orange:"FF"+Xn.orangeLight},borders:{thin:{style:"thin"},medium:{style:"medium"}},headerMain:{font:{bold:!0,size:14,color:{argb:"FF"+Xn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Xn.headerDarkBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},headerSecondary:{font:{bold:!0,size:12,color:{argb:"FF"+Xn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Xn.headerBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableHeader:{font:{bold:!0,size:11,color:{argb:"FF"+Xn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Xn.headerBlue}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableCell:{font:{size:10},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableCellAlt:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Xn.lightBlue}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},greenRow:{font:{bold:!0,size:10,color:{argb:"FF"+Xn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Xn.greenTotal}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},greenLightRow:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Xn.greenLight}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},yellowRow:{font:{bold:!0,size:10,color:{argb:"FF"+Xn.black}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Xn.yellowTotal}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},orangeRow:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Xn.orangeLight}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},summaryRow:{font:{bold:!0,size:11,color:{argb:"FF"+Xn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Xn.headerBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},signatureBox:{font:{size:10,bold:!0},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},footer:{font:{size:9,italic:!0,color:{argb:"FF"+Xn.gray}},alignment:{horizontal:"center",vertical:"middle"}}};function pg(t,r){r.font&&(t.font=r.font),r.fill&&(t.fill=r.fill),r.alignment&&(t.alignment=r.alignment),r.border&&(t.border=r.border),r.numFmt&&(t.numFmt=r.numFmt)}function Eye(t,r,e,n){let s=1;const a=t.columns?.length||8;t.mergeCells(s,1,s,a);const i=t.getRow(s);i.getCell(1).value=lo.name,pg(i.getCell(1),Er.headerMain),i.height=30,s++,t.mergeCells(s,1,s,a);const c=t.getRow(s);if(c.getCell(1).value=r,pg(c.getCell(1),Er.headerSecondary),c.height=25,s++,e){t.mergeCells(s,1,s,a);const u=t.getRow(s);u.getCell(1).value=e,pg(u.getCell(1),{font:{size:10},alignment:{horizontal:"center",vertical:"middle"}}),u.height=20,s++}if(n&&n.length>0){t.mergeCells(s,1,s,a);const u=t.getRow(s);u.getCell(1).value=n.join(" | "),pg(u.getCell(1),{font:{size:9},alignment:{horizontal:"center",vertical:"middle"}}),u.height=18,s++}return s++,s}const kte=t=>({transfer:"",expense:"",income:"",attendance:"",material:"",transport:"",payment:""})[t]||t;async function jte(t,r){const e=(await Fn(async()=>{const{default:B}=await Promise.resolve().then(()=>jO);return{default:B}},void 0)).default,n=new e.Workbook;n.creator=lo.name,n.created=new Date;const s=n.addWorksheet(" ",{views:[{rightToLeft:!0}],pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0,margins:{left:.3,right:.3,top:.5,bottom:.5,header:.3,footer:.3}}});let a=1;s.mergeCells(`A${a}:G${a}`);const i=s.getCell(`A${a}`);i.value=lo.name,i.font={bold:!0,size:16,color:{argb:"FFFFFFFF"}},i.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F5A96"}},i.alignment={horizontal:"center",vertical:"middle"},s.getRow(a).height=30,a++,s.mergeCells(`A${a}:G${a}`);const c=s.getCell(`A${a}`);c.value=lo.subtitle,c.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},c.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E75B6"}},c.alignment={horizontal:"center",vertical:"middle"},s.getRow(a).height=25,a++,s.mergeCells(`A${a}:G${a}`);const u=s.getCell(`A${a}`);u.value=`  - ${new Date().toLocaleDateString("ar-SA")}`,u.font={bold:!0,size:14,color:{argb:"FF1F5A96"}},u.alignment={horizontal:"center",vertical:"middle"},s.getRow(a).height=28,a++,a++;const o=["#"," ","","","",""," "],d=s.getRow(a);o.forEach((B,W)=>{const I=d.getCell(W+1);I.value=B,I.font=Er.tableHeader.font,I.fill=Er.tableHeader.fill,I.alignment=Er.tableHeader.alignment,I.border=Er.tableHeader.border}),d.height=28,a++,s.getColumn(1).width=6,s.getColumn(2).width=15,s.getColumn(3).width=18,s.getColumn(4).width=20,s.getColumn(5).width=18,s.getColumn(6).width=30,s.getColumn(7).width=22;let p=0;t.forEach((B,W)=>{const I=s.getRow(a),R=W%2===0?Er.tableCell:Er.tableCellAlt,$=new Date(B.createdAt),K=$.toLocaleDateString("ar-SA"),H=$.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0});[W+1,B.actionLabel||kte(B.actionType),B.userName||"",B.projectName||"",B.amount?r(B.amount):"-",B.description||"-",`${K} ${H}`].forEach((F,C)=>{const _=I.getCell(C+1);_.value=F,_.font=R.font,R.fill&&(_.fill=R.fill),_.alignment=R.alignment,_.border=R.border}),I.height=24,B.amount&&(p+=B.amount),a++}),a++;const f=s.getRow(a);s.mergeCells(`A${a}:D${a}`);const h=f.getCell(1);h.value=` : ${t.length}`,h.font=Er.summaryRow.font,h.fill=Er.summaryRow.fill,h.alignment=Er.summaryRow.alignment,h.border=Er.summaryRow.border;const g=f.getCell(5);g.value=r(p),g.font=Er.greenRow.font,g.fill=Er.greenRow.fill,g.alignment=Er.greenRow.alignment,g.border=Er.greenRow.border,s.mergeCells(`F${a}:G${a}`);const y=f.getCell(6);y.value=` : ${new Date().toLocaleDateString("ar-SA")} ${new Date().toLocaleTimeString("ar-SA")}`,y.font={size:10,italic:!0},y.alignment={horizontal:"center",vertical:"middle"},f.height=26,a+=2;const m=s.getRow(a);s.mergeCells(`A${a}:C${a}`);const v=m.getCell(1);v.value="  : ________________",v.font=Er.signatureBox.font,v.alignment=Er.signatureBox.alignment,v.border=Er.signatureBox.border,s.mergeCells(`E${a}:G${a}`);const x=m.getCell(5);x.value="  : ________________",x.font=Er.signatureBox.font,x.alignment=Er.signatureBox.alignment,x.border=Er.signatureBox.border,m.height=35,a+=2,s.mergeCells(`A${a}:G${a}`);const j=s.getCell(`A${a}`);j.value=`${lo.name} | ${lo.address} |     `,j.font=Er.footer.font,j.alignment=Er.footer.alignment;const T=await n.xlsx.writeBuffer(),E=`__${new Date().toISOString().split("T")[0]}.xlsx`;await DR(T,E)}const Ste=t=>{switch(t){case"transfer":return Ap;case"expense":return pa;case"income":return Pn;case"attendance":return On;case"material":return jn;case"transport":return Hs;case"payment":return Zu;default:return pi}},Nte=t=>{switch(t){case"transfer":return"default";case"expense":return"destructive";case"income":return"default";default:return"secondary"}},Cte=t=>{switch(t){case"transfer":return"bg-purple-500";case"expense":return"bg-red-500";case"income":return"bg-green-500";case"attendance":return"bg-blue-500";case"material":return"bg-amber-500";case"transport":return"bg-cyan-500";case"payment":return"bg-emerald-500";default:return"bg-slate-500"}},IR=P.memo(({activity:t,formatCurrency:r})=>{const e=Ste(t.actionType),n=Cte(t.actionType);return l.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 p-2.5 min-w-[200px] max-w-[240px] hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200 cursor-pointer group",title:t.description||"",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:`${n} p-1.5 rounded-lg flex-shrink-0`,children:l.jsx(e,{className:"h-3.5 w-3.5 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Zr,{variant:Nte(t.actionType),className:"text-[9px] px-1.5 py-0 h-4 font-medium",children:t.actionLabel||t.actionType}),t.amount&&t.amount>0&&l.jsx("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 mr-auto",children:r(t.amount)})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-0.5 truncate max-w-[70px]",children:[l.jsx(Nm,{className:"h-2.5 w-2.5 text-blue-500 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:t.userName||""})]}),l.jsxs("div",{className:"flex items-center gap-0.5 truncate max-w-[70px]",children:[l.jsx(bs,{className:"h-2.5 w-2.5 text-emerald-500 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:t.projectName||""})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-0.5",children:[l.jsx(ma,{className:"h-2.5 w-2.5 text-orange-500 flex-shrink-0"}),l.jsx("span",{children:io(t.createdAt)})]}),l.jsxs("div",{className:"flex items-center gap-0.5",dir:"ltr",children:[l.jsx(ms,{className:"h-2.5 w-2.5 text-rose-500 flex-shrink-0"}),l.jsx("span",{children:new Date(t.createdAt).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]})]})]})})});IR.displayName="ActivityChip";const OR=P.memo(({activities:t,formatCurrency:r})=>{const[e,n]=P.useState(!1),s=async()=>{if(!(e||!t||t.length===0)){n(!0);try{await jte(t,r)}catch(a){console.error("  :",a)}finally{n(!1)}}};return!t||t.length===0?null:l.jsxs("div",{className:"bg-gradient-to-l from-blue-50/90 via-indigo-50/80 to-purple-50/90 dark:from-blue-950/30 dark:via-indigo-950/25 dark:to-purple-950/30 rounded-xl border border-blue-200/60 dark:border-blue-800/40 p-3 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[l.jsx("div",{className:"bg-blue-500 p-1 rounded-lg",children:l.jsx(pi,{className:"h-3.5 w-3.5 text-white"})}),l.jsx("h3",{className:"text-sm font-bold text-blue-700 dark:text-blue-400",children:" "}),l.jsx(Zr,{variant:"secondary",className:"h-5 text-[10px] px-2 font-medium",children:t.length}),l.jsxs(Oe,{variant:"outline",size:"sm",onClick:s,disabled:e,className:"h-6 px-2 text-[10px] gap-1 bg-green-50 hover:bg-green-100 text-green-700 border-green-300 dark:bg-green-950 dark:hover:bg-green-900 dark:text-green-400 dark:border-green-700",children:[e?l.jsx(Ln,{className:"h-3 w-3 animate-spin"}):l.jsx(jm,{className:"h-3 w-3"})," Excel"]}),l.jsx("div",{className:"flex-1"}),l.jsx("span",{className:"text-[10px] text-muted-foreground",children:"  "})]}),l.jsxs(ru,{className:"w-full",dir:"rtl",children:[l.jsx("div",{className:"flex gap-2 pb-2",style:{direction:"rtl"},children:t.slice(0,15).map((a,i)=>l.jsx(IR,{activity:a,formatCurrency:r},a.id||i))}),l.jsx(m4,{orientation:"horizontal",className:"h-1.5"})]})]})});OR.displayName="RecentActivitiesStrip";function Tte({size:t="md",className:r="",variant:e="default"}){const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return e==="professional"?l.jsxs(kn.div,{className:`relative ${n[t]} ${r}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary/30"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary border-t-transparent"}),l.jsx(kn.div,{className:"absolute inset-1 rounded-full bg-gradient-to-br from-primary to-secondary opacity-20",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}):e==="minimal"?l.jsx(kn.div,{className:`${n[t]} border-2 border-muted border-t-primary rounded-full ${r}`,animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}):l.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-primary ${n[t]} ${r}`})}function Ete(){return l.jsx("div",{className:"flex items-center justify-center p-8",children:l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx(Tte,{size:"lg"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:" ..."})]})})}const h1={blue:{border:"border-l-blue-500",text:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400"},green:{border:"border-l-green-500",text:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20",iconBg:"bg-green-100 dark:bg-green-900/30",iconColor:"text-green-600 dark:text-green-400"},orange:{border:"border-l-orange-500",text:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20",iconBg:"bg-orange-100 dark:bg-orange-900/30",iconColor:"text-orange-600 dark:text-orange-400"},red:{border:"border-l-red-500",text:"text-red-600",bg:"bg-red-50 dark:bg-red-900/20",iconBg:"bg-red-100 dark:bg-red-900/30",iconColor:"text-red-600 dark:text-red-400"},purple:{border:"border-l-purple-500",text:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-900/20",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400"},teal:{border:"border-l-teal-500",text:"text-teal-600",bg:"bg-teal-50 dark:bg-teal-900/20",iconBg:"bg-teal-100 dark:bg-teal-900/30",iconColor:"text-teal-600 dark:text-teal-400"},indigo:{border:"border-l-indigo-500",text:"text-indigo-600",bg:"bg-indigo-50 dark:bg-indigo-900/20",iconBg:"bg-indigo-100 dark:bg-indigo-900/30",iconColor:"text-indigo-600 dark:text-indigo-400"},emerald:{border:"border-l-emerald-500",text:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/20",iconBg:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400"},amber:{border:"border-l-amber-500",text:"text-amber-600",bg:"bg-amber-50 dark:bg-amber-900/20",iconBg:"bg-amber-100 dark:bg-amber-900/30",iconColor:"text-amber-600 dark:text-amber-400"},gray:{border:"border-l-gray-500",text:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20",iconBg:"bg-gray-100 dark:bg-gray-900/30",iconColor:"text-gray-600 dark:text-gray-400"},rose:{border:"border-l-rose-500",text:"text-rose-600",bg:"bg-rose-50 dark:bg-rose-900/20",iconBg:"bg-rose-100 dark:bg-rose-900/30",iconColor:"text-rose-600 dark:text-rose-400"}};function PS({title:t,label:r,value:e,icon:n,color:s="blue",gradient:a,iconBg:i,iconColor:c,formatter:u,className:o="","data-testid":d}){const p=s&&h1[s]?h1[s]:h1.blue,f=r||t||"",g=(()=>{if(e==null)return"0";if(typeof e=="number"){if(isNaN(e)||!isFinite(e))return"0";if(Math.abs(e)>1e11)return console.warn(" [StatsCard]    :",e),"0";const E=Math.max(0,e);return u?u(E):E.toLocaleString("en-US")}const v=e.toString().trim();if(v.match(/^(\d{1,3})\1{2,}$/))return console.warn(" [StatsCard]   :",v),"0";if(v.match(/^(\d)\1{5,}$/))return console.warn(" [StatsCard]   :",v),"0";if(v.length>12&&v.match(/^\d+$/))return console.warn(" [StatsCard]    :",v),"0";const x=[/^(\d{2,3})\1{3,}$/,/^0+[1-9]0+$/,/^(123|234|345|456|567|678|789|012|098|987|876|765|654|543|432|321){3,}$/];for(const E of x)if(E.test(v))return console.warn(" [StatsCard]   :",v),"0";const j=v.replace(/[^\d.-]/g,"");if(!j||j===""||j==="-")return"0";const T=parseFloat(j);if(!isNaN(T)&&isFinite(T)){if(Math.abs(T)>1e11)return console.warn(" [StatsCard]    :",T),"0";const E=Math.max(0,T);return Number.isInteger(E)&&E>1e6&&f.includes("")?(console.warn(" [StatsCard]    :",E),"0"):E.toLocaleString("en-US")}return"0"})(),y=f.length>15,m=({children:v})=>y?l.jsx(fb,{delayDuration:300,children:l.jsxs(b_,{children:[l.jsx(v_,{asChild:!0,children:v}),l.jsx(hb,{side:"top",className:"max-w-[200px] text-center",children:l.jsx("p",{className:"text-xs",children:f})})]})}):l.jsx(l.Fragment,{children:v});return a||i||c?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{className:Pe("w-8 h-8 md:w-9 md:h-9 rounded-lg flex-shrink-0 flex items-center justify-center",i),children:l.jsx(n,{className:Pe("h-4 w-4 md:h-5 md:w-5",c)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(m,{children:l.jsx("p",{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400 leading-snug break-words",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word"},title:f,children:f})}),l.jsx("p",{className:"text-xs md:text-sm font-bold text-slate-900 dark:text-white leading-tight break-words",style:{fontSize:"clamp(0.7rem, 2vw, 0.85rem)"},children:g})]})]}):l.jsx(Ir,{className:`${p.border} ${p.bg} border-l-4 hover:shadow-md transition-all duration-200 hover:scale-[1.01] h-[80px]`,children:l.jsx(en,{className:"p-2 sm:p-2.5 flex flex-col justify-center h-full",children:l.jsxs("div",{className:"flex flex-col items-center text-center gap-0.5",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1.5 w-full min-w-0",children:[l.jsx(m,{children:l.jsx("p",{className:"text-xs sm:text-sm font-bold text-muted-foreground leading-tight break-words flex-1 min-w-0",title:f,children:f})}),l.jsx("div",{className:`h-5 w-5 ${p.iconBg} rounded-full flex items-center justify-center flex-shrink-0`,children:l.jsx(n,{className:`h-2.5 w-2.5 ${p.iconColor}`})})]}),l.jsx("p",{className:`font-extrabold ${p.text} leading-none w-full`,style:{fontSize:"clamp(0.9rem, 3.5vw, 1.1rem)"},children:g})]})})})}function Wp({title:t,subtitle:r,stats:e,columns:n=2,showStatus:s=!0,compact:a=!1,hideHeader:i=!1}){const c={2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4"};if(i)return l.jsx("div",{className:`grid ${c[n]} gap-2 sm:gap-3`,children:e.map((f,h)=>l.jsxs("div",{className:"relative",children:[f.status==="critical"&&l.jsx("div",{className:"absolute -top-2 -right-2 h-3 w-3 bg-red-500 rounded-full animate-pulse z-10"}),f.status==="warning"&&l.jsx("div",{className:"absolute -top-2 -right-2 h-3 w-3 bg-amber-500 rounded-full animate-pulse z-10"}),l.jsx(PS,{title:f.title,value:f.value,icon:f.icon,color:f.color,formatter:f.formatter}),f.trend&&l.jsx("div",{className:"mt-2 flex items-center gap-1 text-xs",children:f.trend.isPositive?l.jsxs(l.Fragment,{children:[l.jsx(Pn,{className:"h-3 w-3 text-green-600"}),l.jsxs("span",{className:"text-green-600",children:["+",f.trend.value,"%"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(pa,{className:"h-3 w-3 text-red-600"}),l.jsxs("span",{className:"text-red-600",children:[f.trend.value,"%"]})]})})]},h))});const u=e.filter(f=>f.status==="critical"),o=e.filter(f=>f.status==="warning"),p=u.length>0?{label:"",color:"destructive"}:o.length>0?{label:"",color:"warning"}:{label:"",color:"default"};return l.jsxs("div",{className:"space-y-3",children:[t&&l.jsx("div",{className:"px-2",children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:t}),r&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:r})]}),s&&l.jsx(Zr,{variant:p.color==="default"?"secondary":p.color,className:"text-xs",children:p.label})]})}),l.jsx("div",{className:`grid ${c[n]} gap-2 sm:gap-3`,children:e.map((f,h)=>l.jsxs("div",{className:"relative",children:[f.status==="critical"&&l.jsx("div",{className:"absolute -top-2 -right-2 h-3 w-3 bg-red-500 rounded-full animate-pulse z-10"}),f.status==="warning"&&l.jsx("div",{className:"absolute -top-2 -right-2 h-3 w-3 bg-amber-500 rounded-full animate-pulse z-10"}),l.jsx(PS,{title:f.title,value:f.value,icon:f.icon,color:f.color,formatter:f.formatter}),f.trend&&l.jsx("div",{className:"mt-2 flex items-center gap-1 text-xs",children:f.trend.isPositive?l.jsxs(l.Fragment,{children:[l.jsx(Pn,{className:"h-3 w-3 text-green-600"}),l.jsxs("span",{className:"text-green-600",children:["+",f.trend.value,"%"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(pa,{className:"h-3 w-3 text-red-600"}),l.jsxs("span",{className:"text-red-600",children:[f.trend.value,"%"]})]})})]},h))}),(u.length>0||o.length>0)&&l.jsxs("div",{className:"mt-2 p-2 sm:p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded text-xs text-amber-800 dark:text-amber-200",children:[u.length>0&&l.jsxs("p",{className:"truncate",children:[" ",u.length,"  "]}),o.length>0&&l.jsxs("p",{className:"mt-1 truncate",children:[" ",o.length," "]})]})]})}function un({className:t,...r}){return l.jsx("div",{className:Pe("animate-pulse rounded-md bg-muted",t),...r})}var p1="rovingFocusGroup.onEntryFocus",Ate={bubbles:!1,cancelable:!0},Vm="RovingFocusGroup",[o2,FR,Pte]=Qy(Vm),[Mte,Mb]=va(Vm,[Pte]),[Rte,Dte]=Mte(Vm),LR=P.forwardRef((t,r)=>l.jsx(o2.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(o2.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Ite,{...t,ref:r})})}));LR.displayName=Vm;var Ite=P.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:e,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:o,preventScrollOnEntryFocus:d=!1,...p}=t,f=P.useRef(null),h=Cr(r,f),g=$m(a),[y,m]=go({prop:i,defaultProp:c??null,onChange:u,caller:Vm}),[v,x]=P.useState(!1),j=ca(o),T=FR(e),E=P.useRef(!1),[B,W]=P.useState(0);return P.useEffect(()=>{const I=f.current;if(I)return I.addEventListener(p1,j),()=>I.removeEventListener(p1,j)},[j]),l.jsx(Rte,{scope:e,orientation:n,dir:g,loop:s,currentTabStopId:y,onItemFocus:P.useCallback(I=>m(I),[m]),onItemShiftTab:P.useCallback(()=>x(!0),[]),onFocusableItemAdd:P.useCallback(()=>W(I=>I+1),[]),onFocusableItemRemove:P.useCallback(()=>W(I=>I-1),[]),children:l.jsx(ir.div,{tabIndex:v||B===0?-1:0,"data-orientation":n,...p,ref:h,style:{outline:"none",...t.style},onMouseDown:pt(t.onMouseDown,()=>{E.current=!0}),onFocus:pt(t.onFocus,I=>{const R=!E.current;if(I.target===I.currentTarget&&R&&!v){const $=new CustomEvent(p1,Ate);if(I.currentTarget.dispatchEvent($),!$.defaultPrevented){const K=T().filter(_=>_.focusable),H=K.find(_=>_.active),M=K.find(_=>_.id===y),C=[H,M,...K].filter(Boolean).map(_=>_.ref.current);zR(C,d)}}E.current=!1}),onBlur:pt(t.onBlur,()=>x(!1))})})}),BR="RovingFocusGroupItem",$R=P.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:e,focusable:n=!0,active:s=!1,tabStopId:a,children:i,...c}=t,u=$i(),o=a||u,d=Dte(BR,e),p=d.currentTabStopId===o,f=FR(e),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:y}=d;return P.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),l.jsx(o2.ItemSlot,{scope:e,id:o,focusable:n,active:s,children:l.jsx(ir.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...c,ref:r,onMouseDown:pt(t.onMouseDown,m=>{n?d.onItemFocus(o):m.preventDefault()}),onFocus:pt(t.onFocus,()=>d.onItemFocus(o)),onKeyDown:pt(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const v=Lte(m,d.orientation,d.dir);if(v!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let j=f().filter(T=>T.focusable).map(T=>T.ref.current);if(v==="last")j.reverse();else if(v==="prev"||v==="next"){v==="prev"&&j.reverse();const T=j.indexOf(m.currentTarget);j=d.loop?Bte(j,T+1):j.slice(T+1)}setTimeout(()=>zR(j))}}),children:typeof i=="function"?i({isCurrentTabStop:p,hasTabStop:y!=null}):i})})});$R.displayName=BR;var Ote={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Fte(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Lte(t,r,e){const n=Fte(t.key,e);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ote[n]}function zR(t,r=!1){const e=document.activeElement;for(const n of t)if(n===e||(n.focus({preventScroll:r}),document.activeElement!==e))return}function Bte(t,r){return t.map((e,n)=>t[(r+n)%t.length])}var VR=LR,UR=$R;function $te(t){const r=zte(t),e=P.forwardRef((n,s)=>{const{children:a,...i}=n,c=P.Children.toArray(a),u=c.find(Ute);if(u){const o=u.props.children,d=c.map(p=>p===u?P.Children.count(o)>1?P.Children.only(null):P.isValidElement(o)?o.props.children:null:p);return l.jsx(r,{...i,ref:s,children:P.isValidElement(o)?P.cloneElement(o,void 0,d):null})}return l.jsx(r,{...i,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}function zte(t){const r=P.forwardRef((e,n)=>{const{children:s,...a}=e;if(P.isValidElement(s)){const i=qte(s),c=Wte(a,s.props);return s.type!==P.Fragment&&(c.ref=n?tl(n,i):i),P.cloneElement(s,c)}return P.Children.count(s)>1?P.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Vte=Symbol("radix.slottable");function Ute(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Vte}function Wte(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function qte(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var l2=["Enter"," "],Hte=["ArrowDown","PageUp","Home"],WR=["ArrowUp","PageDown","End"],Kte=[...Hte,...WR],Gte={ltr:[...l2,"ArrowRight"],rtl:[...l2,"ArrowLeft"]},Xte={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Um="Menu",[qp,Qte,Yte]=Qy(Um),[gd,qR]=va(Um,[Yte,Yc,Mb]),Rb=Yc(),HR=Mb(),[Zte,yd]=gd(Um),[Jte,Wm]=gd(Um),KR=t=>{const{__scopeMenu:r,open:e=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=t,c=Rb(r),[u,o]=P.useState(null),d=P.useRef(!1),p=ca(a),f=$m(s);return P.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(ib,{...c,children:l.jsx(Zte,{scope:r,open:e,onOpenChange:p,content:u,onContentChange:o,children:l.jsx(Jte,{scope:r,onClose:P.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:d,dir:f,modal:i,children:n})})})};KR.displayName=Um;var ere="MenuAnchor",g4=P.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t,s=Rb(e);return l.jsx(Tm,{...s,...n,ref:r})});g4.displayName=ere;var y4="MenuPortal",[tre,GR]=gd(y4,{forceMount:void 0}),XR=t=>{const{__scopeMenu:r,forceMount:e,children:n,container:s}=t,a=yd(y4,r);return l.jsx(tre,{scope:r,forceMount:e,children:l.jsx(ws,{present:e||a.open,children:l.jsx(nh,{asChild:!0,container:s,children:n})})})};XR.displayName=y4;var zi="MenuContent",[rre,b4]=gd(zi),QR=P.forwardRef((t,r)=>{const e=GR(zi,t.__scopeMenu),{forceMount:n=e.forceMount,...s}=t,a=yd(zi,t.__scopeMenu),i=Wm(zi,t.__scopeMenu);return l.jsx(qp.Provider,{scope:t.__scopeMenu,children:l.jsx(ws,{present:n||a.open,children:l.jsx(qp.Slot,{scope:t.__scopeMenu,children:i.modal?l.jsx(nre,{...s,ref:r}):l.jsx(sre,{...s,ref:r})})})})}),nre=P.forwardRef((t,r)=>{const e=yd(zi,t.__scopeMenu),n=P.useRef(null),s=Cr(r,n);return P.useEffect(()=>{const a=n.current;if(a)return kb(a)},[]),l.jsx(v4,{...t,ref:s,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:pt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),sre=P.forwardRef((t,r)=>{const e=yd(zi,t.__scopeMenu);return l.jsx(v4,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),are=$te("MenuContent.ScrollLock"),v4=P.forwardRef((t,r)=>{const{__scopeMenu:e,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:f,onDismiss:h,disableOutsideScroll:g,...y}=t,m=yd(zi,e),v=Wm(zi,e),x=Rb(e),j=HR(e),T=Qte(e),[E,B]=P.useState(null),W=P.useRef(null),I=Cr(r,W,m.onContentChange),R=P.useRef(0),$=P.useRef(""),K=P.useRef(0),H=P.useRef(null),M=P.useRef("right"),F=P.useRef(0),C=g?Dm:P.Fragment,_=g?{as:are,allowPinchZoom:!0}:void 0,S=N=>{const D=$.current+N,L=T().filter(Z=>!Z.disabled),V=document.activeElement,Q=L.find(Z=>Z.ref.current===V)?.textValue,Y=L.map(Z=>Z.textValue),re=yre(Y,D,Q),O=L.find(Z=>Z.textValue===re)?.ref.current;(function Z(U){$.current=U,window.clearTimeout(R.current),U!==""&&(R.current=window.setTimeout(()=>Z(""),1e3))})(D),O&&setTimeout(()=>O.focus())};P.useEffect(()=>()=>window.clearTimeout(R.current),[]),wb();const k=P.useCallback(N=>M.current===H.current?.side&&vre(N,H.current?.area),[]);return l.jsx(rre,{scope:e,searchRef:$,onItemEnter:P.useCallback(N=>{k(N)&&N.preventDefault()},[k]),onItemLeave:P.useCallback(N=>{k(N)||(W.current?.focus(),B(null))},[k]),onTriggerLeave:P.useCallback(N=>{k(N)&&N.preventDefault()},[k]),pointerGraceTimerRef:K,onPointerGraceIntentChange:P.useCallback(N=>{H.current=N},[]),children:l.jsx(C,{..._,children:l.jsx(Rm,{asChild:!0,trapped:s,onMountAutoFocus:pt(a,N=>{N.preventDefault(),W.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(fd,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:f,onDismiss:h,children:l.jsx(VR,{asChild:!0,...j,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:B,onEntryFocus:pt(u,N=>{v.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(ob,{role:"menu","aria-orientation":"vertical","data-state":fD(m.open),"data-radix-menu-content":"",dir:v.dir,...x,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:pt(y.onKeyDown,N=>{const L=N.target.closest("[data-radix-menu-content]")===N.currentTarget,V=N.ctrlKey||N.altKey||N.metaKey,Q=N.key.length===1;L&&(N.key==="Tab"&&N.preventDefault(),!V&&Q&&S(N.key));const Y=W.current;if(N.target!==Y||!Kte.includes(N.key))return;N.preventDefault();const O=T().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);WR.includes(N.key)&&O.reverse(),mre(O)}),onBlur:pt(t.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(R.current),$.current="")}),onPointerMove:pt(t.onPointerMove,Hp(N=>{const D=N.target,L=F.current!==N.clientX;if(N.currentTarget.contains(D)&&L){const V=N.clientX>F.current?"right":"left";M.current=V,F.current=N.clientX}}))})})})})})})});QR.displayName=zi;var ire="MenuGroup",x4=P.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t;return l.jsx(ir.div,{role:"group",...n,ref:r})});x4.displayName=ire;var ore="MenuLabel",YR=P.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t;return l.jsx(ir.div,{...n,ref:r})});YR.displayName=ore;var wy="MenuItem",MS="menu.itemSelect",Db=P.forwardRef((t,r)=>{const{disabled:e=!1,onSelect:n,...s}=t,a=P.useRef(null),i=Wm(wy,t.__scopeMenu),c=b4(wy,t.__scopeMenu),u=Cr(r,a),o=P.useRef(!1),d=()=>{const p=a.current;if(!e&&p){const f=new CustomEvent(MS,{bubbles:!0,cancelable:!0});p.addEventListener(MS,h=>n?.(h),{once:!0}),X9(p,f),f.defaultPrevented?o.current=!1:i.onClose()}};return l.jsx(ZR,{...s,ref:u,disabled:e,onClick:pt(t.onClick,d),onPointerDown:p=>{t.onPointerDown?.(p),o.current=!0},onPointerUp:pt(t.onPointerUp,p=>{o.current||p.currentTarget?.click()}),onKeyDown:pt(t.onKeyDown,p=>{const f=c.searchRef.current!=="";e||f&&p.key===" "||l2.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Db.displayName=wy;var ZR=P.forwardRef((t,r)=>{const{__scopeMenu:e,disabled:n=!1,textValue:s,...a}=t,i=b4(wy,e),c=HR(e),u=P.useRef(null),o=Cr(r,u),[d,p]=P.useState(!1),[f,h]=P.useState("");return P.useEffect(()=>{const g=u.current;g&&h((g.textContent??"").trim())},[a.children]),l.jsx(qp.ItemSlot,{scope:e,disabled:n,textValue:s??f,children:l.jsx(UR,{asChild:!0,...c,focusable:!n,children:l.jsx(ir.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:o,onPointerMove:pt(t.onPointerMove,Hp(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pt(t.onPointerLeave,Hp(g=>i.onItemLeave(g))),onFocus:pt(t.onFocus,()=>p(!0)),onBlur:pt(t.onBlur,()=>p(!1))})})})}),lre="MenuCheckboxItem",JR=P.forwardRef((t,r)=>{const{checked:e=!1,onCheckedChange:n,...s}=t;return l.jsx(sD,{scope:t.__scopeMenu,checked:e,children:l.jsx(Db,{role:"menuitemcheckbox","aria-checked":_y(e)?"mixed":e,...s,ref:r,"data-state":_4(e),onSelect:pt(s.onSelect,()=>n?.(_y(e)?!0:!e),{checkForDefaultPrevented:!1})})})});JR.displayName=lre;var eD="MenuRadioGroup",[cre,ure]=gd(eD,{value:void 0,onValueChange:()=>{}}),tD=P.forwardRef((t,r)=>{const{value:e,onValueChange:n,...s}=t,a=ca(n);return l.jsx(cre,{scope:t.__scopeMenu,value:e,onValueChange:a,children:l.jsx(x4,{...s,ref:r})})});tD.displayName=eD;var rD="MenuRadioItem",nD=P.forwardRef((t,r)=>{const{value:e,...n}=t,s=ure(rD,t.__scopeMenu),a=e===s.value;return l.jsx(sD,{scope:t.__scopeMenu,checked:a,children:l.jsx(Db,{role:"menuitemradio","aria-checked":a,...n,ref:r,"data-state":_4(a),onSelect:pt(n.onSelect,()=>s.onValueChange?.(e),{checkForDefaultPrevented:!1})})})});nD.displayName=rD;var w4="MenuItemIndicator",[sD,dre]=gd(w4,{checked:!1}),aD=P.forwardRef((t,r)=>{const{__scopeMenu:e,forceMount:n,...s}=t,a=dre(w4,e);return l.jsx(ws,{present:n||_y(a.checked)||a.checked===!0,children:l.jsx(ir.span,{...s,ref:r,"data-state":_4(a.checked)})})});aD.displayName=w4;var fre="MenuSeparator",iD=P.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t;return l.jsx(ir.div,{role:"separator","aria-orientation":"horizontal",...n,ref:r})});iD.displayName=fre;var hre="MenuArrow",oD=P.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t,s=Rb(e);return l.jsx(lb,{...s,...n,ref:r})});oD.displayName=hre;var pre="MenuSub",[Aye,lD]=gd(pre),up="MenuSubTrigger",cD=P.forwardRef((t,r)=>{const e=yd(up,t.__scopeMenu),n=Wm(up,t.__scopeMenu),s=lD(up,t.__scopeMenu),a=b4(up,t.__scopeMenu),i=P.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=a,o={__scopeMenu:t.__scopeMenu},d=P.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return P.useEffect(()=>d,[d]),P.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),u(null)}},[c,u]),l.jsx(g4,{asChild:!0,...o,children:l.jsx(ZR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":s.contentId,"data-state":fD(e.open),...t,ref:tl(r,s.onTriggerChange),onClick:p=>{t.onClick?.(p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:pt(t.onPointerMove,Hp(p=>{a.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!e.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{e.onOpenChange(!0),d()},100))})),onPointerLeave:pt(t.onPointerLeave,Hp(p=>{d();const f=e.content?.getBoundingClientRect();if(f){const h=e.content?.dataset.side,g=h==="right",y=g?-5:5,m=f[g?"left":"right"],v=f[g?"right":"left"];a.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x:m,y:f.top},{x:v,y:f.top},{x:v,y:f.bottom},{x:m,y:f.bottom}],side:h}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(p),p.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:pt(t.onKeyDown,p=>{const f=a.searchRef.current!=="";t.disabled||f&&p.key===" "||Gte[n.dir].includes(p.key)&&(e.onOpenChange(!0),e.content?.focus(),p.preventDefault())})})})});cD.displayName=up;var uD="MenuSubContent",dD=P.forwardRef((t,r)=>{const e=GR(zi,t.__scopeMenu),{forceMount:n=e.forceMount,...s}=t,a=yd(zi,t.__scopeMenu),i=Wm(zi,t.__scopeMenu),c=lD(uD,t.__scopeMenu),u=P.useRef(null),o=Cr(r,u);return l.jsx(qp.Provider,{scope:t.__scopeMenu,children:l.jsx(ws,{present:n||a.open,children:l.jsx(qp.Slot,{scope:t.__scopeMenu,children:l.jsx(v4,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:o,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{i.isUsingKeyboardRef.current&&u.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pt(t.onFocusOutside,d=>{d.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:pt(t.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:pt(t.onKeyDown,d=>{const p=d.currentTarget.contains(d.target),f=Xte[i.dir].includes(d.key);p&&f&&(a.onOpenChange(!1),c.trigger?.focus(),d.preventDefault())})})})})})});dD.displayName=uD;function fD(t){return t?"open":"closed"}function _y(t){return t==="indeterminate"}function _4(t){return _y(t)?"indeterminate":t?"checked":"unchecked"}function mre(t){const r=document.activeElement;for(const e of t)if(e===r||(e.focus(),document.activeElement!==r))return}function gre(t,r){return t.map((e,n)=>t[(r+n)%t.length])}function yre(t,r,e){const s=r.length>1&&Array.from(r).every(o=>o===r[0])?r[0]:r,a=e?t.indexOf(e):-1;let i=gre(t,Math.max(a,0));s.length===1&&(i=i.filter(o=>o!==e));const u=i.find(o=>o.toLowerCase().startsWith(s.toLowerCase()));return u!==e?u:void 0}function bre(t,r){const{x:e,y:n}=t;let s=!1;for(let a=0,i=r.length-1;a<r.length;i=a++){const c=r[a],u=r[i],o=c.x,d=c.y,p=u.x,f=u.y;d>n!=f>n&&e<(p-o)*(n-d)/(f-d)+o&&(s=!s)}return s}function vre(t,r){if(!r)return!1;const e={x:t.clientX,y:t.clientY};return bre(e,r)}function Hp(t){return r=>r.pointerType==="mouse"?t(r):void 0}var xre=KR,wre=g4,_re=XR,kre=QR,jre=x4,Sre=YR,Nre=Db,Cre=JR,Tre=tD,Ere=nD,Are=aD,Pre=iD,Mre=oD,Rre=cD,Dre=dD,Ib="DropdownMenu",[Ire]=va(Ib,[qR]),Oa=qR(),[Ore,hD]=Ire(Ib),pD=t=>{const{__scopeDropdownMenu:r,children:e,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:c=!0}=t,u=Oa(r),o=P.useRef(null),[d,p]=go({prop:s,defaultProp:a??!1,onChange:i,caller:Ib});return l.jsx(Ore,{scope:r,triggerId:$i(),triggerRef:o,contentId:$i(),open:d,onOpenChange:p,onOpenToggle:P.useCallback(()=>p(f=>!f),[p]),modal:c,children:l.jsx(xre,{...u,open:d,onOpenChange:p,dir:n,modal:c,children:e})})};pD.displayName=Ib;var mD="DropdownMenuTrigger",gD=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,disabled:n=!1,...s}=t,a=hD(mD,e),i=Oa(e);return l.jsx(wre,{asChild:!0,...i,children:l.jsx(ir.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:tl(r,a.triggerRef),onPointerDown:pt(t.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:pt(t.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});gD.displayName=mD;var Fre="DropdownMenuPortal",yD=t=>{const{__scopeDropdownMenu:r,...e}=t,n=Oa(r);return l.jsx(_re,{...n,...e})};yD.displayName=Fre;var bD="DropdownMenuContent",vD=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=hD(bD,e),a=Oa(e),i=P.useRef(!1);return l.jsx(kre,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:r,onCloseAutoFocus:pt(t.onCloseAutoFocus,c=>{i.current||s.triggerRef.current?.focus(),i.current=!1,c.preventDefault()}),onInteractOutside:pt(t.onInteractOutside,c=>{const u=c.detail.originalEvent,o=u.button===0&&u.ctrlKey===!0,d=u.button===2||o;(!s.modal||d)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vD.displayName=bD;var Lre="DropdownMenuGroup",Bre=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Oa(e);return l.jsx(jre,{...s,...n,ref:r})});Bre.displayName=Lre;var $re="DropdownMenuLabel",xD=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Oa(e);return l.jsx(Sre,{...s,...n,ref:r})});xD.displayName=$re;var zre="DropdownMenuItem",wD=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Oa(e);return l.jsx(Nre,{...s,...n,ref:r})});wD.displayName=zre;var Vre="DropdownMenuCheckboxItem",_D=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Oa(e);return l.jsx(Cre,{...s,...n,ref:r})});_D.displayName=Vre;var Ure="DropdownMenuRadioGroup",Wre=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Oa(e);return l.jsx(Tre,{...s,...n,ref:r})});Wre.displayName=Ure;var qre="DropdownMenuRadioItem",kD=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Oa(e);return l.jsx(Ere,{...s,...n,ref:r})});kD.displayName=qre;var Hre="DropdownMenuItemIndicator",jD=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Oa(e);return l.jsx(Are,{...s,...n,ref:r})});jD.displayName=Hre;var Kre="DropdownMenuSeparator",SD=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Oa(e);return l.jsx(Pre,{...s,...n,ref:r})});SD.displayName=Kre;var Gre="DropdownMenuArrow",Xre=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Oa(e);return l.jsx(Mre,{...s,...n,ref:r})});Xre.displayName=Gre;var Qre="DropdownMenuSubTrigger",ND=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Oa(e);return l.jsx(Rre,{...s,...n,ref:r})});ND.displayName=Qre;var Yre="DropdownMenuSubContent",CD=P.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Oa(e);return l.jsx(Dre,{...s,...n,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CD.displayName=Yre;var Zre=pD,Jre=gD,ene=yD,TD=vD,ED=xD,AD=wD,PD=_D,MD=kD,RD=jD,DD=SD,ID=ND,OD=CD;const k4=t=>l.jsx(Zre,{modal:!1,...t}),j4=Jre,tne=P.forwardRef(({className:t,inset:r,children:e,...n},s)=>l.jsxs(ID,{ref:s,className:Pe("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...n,children:[e,l.jsx(Of,{className:"ml-auto"})]}));tne.displayName=ID.displayName;const rne=P.forwardRef(({className:t,...r},e)=>l.jsx(OD,{ref:e,className:Pe("z-[99999] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),style:{pointerEvents:"auto"},...r}));rne.displayName=OD.displayName;const Ob=P.forwardRef(({className:t,sideOffset:r=4,...e},n)=>l.jsx(ene,{children:l.jsx(TD,{ref:n,sideOffset:r,className:Pe("z-[99999] max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]","bg-popover opacity-100",t),style:{pointerEvents:"auto"},...e})}));Ob.displayName=TD.displayName;const ky=P.forwardRef(({className:t,inset:r,...e},n)=>l.jsx(AD,{ref:n,className:Pe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...e}));ky.displayName=AD.displayName;const nne=P.forwardRef(({className:t,children:r,checked:e,...n},s)=>l.jsxs(PD,{ref:s,className:Pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:e,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(RD,{children:l.jsx(Al,{className:"h-4 w-4"})})}),r]}));nne.displayName=PD.displayName;const sne=P.forwardRef(({className:t,children:r,...e},n)=>l.jsxs(MD,{ref:n,className:Pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...e,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(RD,{children:l.jsx(kA,{className:"h-2 w-2 fill-current"})})}),r]}));sne.displayName=MD.displayName;const S4=P.forwardRef(({className:t,inset:r,...e},n)=>l.jsx(ED,{ref:n,className:Pe("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...e}));S4.displayName=ED.displayName;const N4=P.forwardRef(({className:t,...r},e)=>l.jsx(DD,{ref:e,className:Pe("-mx-1 my-1 h-px bg-muted",t),...r}));N4.displayName=DD.displayName;const ane={default:"text-foreground",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",muted:"text-muted-foreground"},ine={default:"text-primary",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",muted:"text-gray-400 dark:text-gray-500"},one={default:"bg-primary/10 text-primary border-primary/20",secondary:"bg-secondary text-secondary-foreground",destructive:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",outline:"border-border",success:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",warning:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400"},RS={default:"text-gray-600 hover:text-gray-800 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-800",blue:"text-blue-600 hover:text-blue-800 hover:bg-blue-100 dark:text-blue-400 dark:hover:text-blue-200 dark:hover:bg-blue-900/30",green:"text-green-600 hover:text-green-800 hover:bg-green-100 dark:text-green-400 dark:hover:text-green-200 dark:hover:bg-green-900/30",yellow:"text-yellow-600 hover:text-yellow-800 hover:bg-yellow-100 dark:text-yellow-400 dark:hover:text-yellow-200 dark:hover:bg-yellow-900/30",red:"text-red-600 hover:text-red-800 hover:bg-red-100 dark:text-red-400 dark:hover:text-red-200 dark:hover:bg-red-900/30",orange:"text-orange-600 hover:text-orange-800 hover:bg-orange-100 dark:text-orange-400 dark:hover:text-orange-200 dark:hover:bg-orange-900/30"};function lne(t){const e=String(t||"").length;return e<=4?"text-sm font-bold":e<=7?"text-xs font-bold":e<=12?"text-[11px] font-semibold":e<=18?"text-[10px] font-semibold":e<=25?"text-[9px] font-medium":"text-[8px] font-medium"}function cne({compact:t}){return l.jsxs("div",{className:Pe("relative rounded-xl border bg-card shadow-sm overflow-hidden",t?"p-3":"p-4"),children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(un,{className:"h-5 w-32 mb-2"}),l.jsx(un,{className:"h-3 w-24"})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx(un,{className:"h-7 w-7 rounded"}),l.jsx(un,{className:"h-7 w-7 rounded"})]})]}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[1,2,3,4].map(r=>l.jsxs("div",{className:"space-y-1",children:[l.jsx(un,{className:"h-3 w-16"}),l.jsx(un,{className:"h-4 w-24"})]},r))})]})}function vn({title:t,subtitle:r,titleIcon:e,badges:n=[],fields:s,actions:a=[],footer:i,className:c,onClick:u,isLoading:o,compact:d=!1,headerColor:p}){if(o)return l.jsx(cne,{compact:d});const f=(s||[]).filter(g=>!g.hidden),h=(a||[]).filter(g=>!g.hidden);return l.jsxs("div",{className:Pe("group relative rounded-xl border bg-card text-card-foreground shadow-sm overflow-hidden transition-all duration-200","hover:shadow-md hover:border-primary/20",u&&"cursor-pointer",d?"p-3":"p-4",c),onClick:u,children:[p&&l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 shadow-sm",style:{backgroundColor:p}}),l.jsx("div",{className:"flex items-start gap-3",children:l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e&&l.jsx("div",{className:"shrink-0 w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:l.jsx(e,{className:"h-4 w-4 text-primary"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h3",{className:Pe("font-extrabold text-foreground truncate",d?"text-lg":"text-xl"),children:t}),r&&l.jsx("p",{className:"text-sm text-muted-foreground truncate mt-0.5",children:r})]}),n.length>0&&l.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:n.map((g,y)=>l.jsx(Zr,{variant:"outline",className:Pe("text-[10px] px-1.5 py-0 h-5 font-medium",one[g.variant||"default"],g.className),children:g.label},y))})]})})}),l.jsxs("div",{className:Pe("flex items-start",d?"mt-2":"mt-3"),children:[l.jsx("div",{className:Pe("grid gap-x-2 grid-cols-2 flex-1",d?"gap-y-1":"gap-y-1.5"),children:f.map((g,y)=>{const m=g.icon;return l.jsxs("div",{className:Pe("flex items-center gap-1 min-w-0",d?"py-0":"py-0.5"),children:[m&&l.jsx(m,{className:Pe("h-3 w-3 shrink-0",g.iconClassName||ine[g.color||"default"])}),l.jsxs("div",{className:"min-w-0 flex-1 flex items-baseline gap-1 flex-wrap",children:[l.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap font-medium",children:[g.label,":"]}),l.jsx("span",{className:Pe("arabic-numbers break-words leading-tight",g.emphasis?"text-sm font-bold":lne(g.value),ane[g.color||"default"]),children:g.value||"-"})]})]},y)})}),h.length>0&&l.jsx("div",{className:"shrink-0 flex flex-col gap-0.5 mr-[-8px] mt-[-4px]",children:h.map((g,y)=>{const m=g.icon;return g.dropdown&&g.dropdown.length>0?l.jsxs(k4,{children:[l.jsx(j4,{asChild:!0,children:l.jsx(Oe,{size:"icon",variant:"ghost",className:Pe("h-6 w-6 rounded-md",RS[g.color||"default"]),onClick:v=>v.stopPropagation(),disabled:g.disabled,title:g.label,children:l.jsx(m,{className:"h-3.5 w-3.5"})})}),l.jsx(Ob,{align:"end",className:"w-48",children:g.dropdown.map((v,x)=>l.jsx(ky,{onClick:j=>{j.stopPropagation(),v.onClick()},className:"text-right flex items-center justify-end gap-2",children:l.jsx("span",{children:v.label})},x))})]},y):l.jsx(Oe,{size:"icon",variant:"ghost",className:Pe("h-6 w-6 rounded-md",RS[g.color||"default"]),onClick:v=>{v.stopPropagation(),g.onClick()},disabled:g.disabled,title:g.label,children:l.jsx(m,{className:"h-3.5 w-3.5"})},y)})})]}),i&&l.jsx("div",{className:Pe("border-t mt-3 pt-2",d&&"mt-2 pt-1.5"),children:i})]})}function Ps({children:t,columns:r=2,className:e}){const n={1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};return l.jsx("div",{className:Pe("grid gap-3",n[r],e),children:t})}const Fb=n4,C4=s4,FD=Bm,une=a4,LD=P.forwardRef(({className:t,...r},e)=>l.jsx(Im,{className:Pe("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:e}));LD.displayName=Im.displayName;const dne=hd("fixed z-[9999] gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 bg-background opacity-100",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),qm=P.forwardRef(({side:t="right",className:r,children:e,...n},s)=>l.jsxs(une,{children:[l.jsx(LD,{}),l.jsxs(Om,{ref:s,className:Pe(dne({side:t}),r),style:{pointerEvents:"auto"},...n,children:[e,l.jsxs(Bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(Es,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qm.displayName=Om.displayName;const T4=({className:t,...r})=>l.jsx("div",{className:Pe("flex flex-col space-y-2 text-center sm:text-left",t),...r});T4.displayName="SheetHeader";const Hm=P.forwardRef(({className:t,...r},e)=>l.jsx(Fm,{ref:e,className:Pe("text-lg font-semibold text-foreground",t),...r}));Hm.displayName=Fm.displayName;const BD=P.forwardRef(({className:t,...r},e)=>l.jsx(Lm,{ref:e,className:Pe("text-sm text-muted-foreground",t),...r}));BD.displayName=Lm.displayName;function wr(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function Ja(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function Ta(t,r){const e=wr(t);return isNaN(r)?Ja(t,NaN):(r&&e.setDate(e.getDate()+r),e)}function vo(t,r){const e=wr(t);if(isNaN(r))return Ja(t,NaN);if(!r)return e;const n=e.getDate(),s=Ja(t,e.getTime());s.setMonth(e.getMonth()+r+1,0);const a=s.getDate();return n>=a?s:(e.setFullYear(s.getFullYear(),s.getMonth(),n),e)}const E4=6048e5,fne=864e5,$D=6e4,zD=36e5,mg=43200,DS=1440;let hne={};function uh(){return hne}function Vi(t,r){const e=uh(),n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,s=wr(t),a=s.getDay(),i=(a<n?7:0)+a-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function nd(t){return Vi(t,{weekStartsOn:1})}function VD(t){const r=wr(t),e=r.getFullYear(),n=Ja(t,0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);const s=nd(n),a=Ja(t,0);a.setFullYear(e,0,4),a.setHours(0,0,0,0);const i=nd(a);return r.getTime()>=s.getTime()?e+1:r.getTime()>=i.getTime()?e:e-1}function Hf(t){const r=wr(t);return r.setHours(0,0,0,0),r}function Kf(t){const r=wr(t),e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),+t-+e}function zo(t,r){const e=Hf(t),n=Hf(r),s=+e-Kf(e),a=+n-Kf(n);return Math.round((s-a)/fne)}function pne(t){const r=VD(t),e=Ja(t,0);return e.setFullYear(r,0,4),e.setHours(0,0,0,0),nd(e)}function c2(t,r){const e=r*7;return Ta(t,e)}function mne(t,r){return vo(t,r*12)}function gne(t){let r;return t.forEach(function(e){const n=wr(e);(r===void 0||r<n||isNaN(Number(n)))&&(r=n)}),r||new Date(NaN)}function yne(t){let r;return t.forEach(e=>{const n=wr(e);(!r||r>n||isNaN(+n))&&(r=n)}),r||new Date(NaN)}function Fg(t,r){const e=wr(t),n=wr(r),s=e.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Km(t){return Ja(t,Date.now())}function fa(t,r){const e=Hf(t),n=Hf(r);return+e==+n}function A4(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bne(t){if(!A4(t)&&typeof t!="number")return!1;const r=wr(t);return!isNaN(Number(r))}function Gf(t,r){const e=wr(t),n=wr(r),s=e.getFullYear()-n.getFullYear(),a=e.getMonth()-n.getMonth();return s*12+a}function vne(t,r,e){const n=Vi(t,e),s=Vi(r,e),a=+n-Kf(n),i=+s-Kf(s);return Math.round((a-i)/E4)}function xne(t){return r=>{const n=(t?Math[t]:Math.trunc)(r);return n===0?0:n}}function wne(t,r){return+wr(t)-+wr(r)}function _ne(t){const r=wr(t);return r.setHours(23,59,59,999),r}function Lb(t){const r=wr(t),e=r.getMonth();return r.setFullYear(r.getFullYear(),e+1,0),r.setHours(23,59,59,999),r}function kne(t){const r=wr(t);return+_ne(r)==+Lb(r)}function jne(t,r){const e=wr(t),n=wr(r),s=Fg(e,n),a=Math.abs(Gf(e,n));let i;if(a<1)i=0;else{e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-s*a);let c=Fg(e,n)===-s;kne(wr(t))&&a===1&&Fg(t,n)===1&&(c=!1),i=s*(a-Number(c))}return i===0?0:i}function Sne(t,r,e){const n=wne(t,r)/1e3;return xne(e?.roundingMethod)(n)}function Za(t){const r=wr(t);return r.setDate(1),r.setHours(0,0,0,0),r}function UD(t){const r=wr(t),e=Ja(t,0);return e.setFullYear(r.getFullYear(),0,1),e.setHours(0,0,0,0),e}function P4(t,r){const e=uh(),n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,s=wr(t),a=s.getDay(),i=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function WD(t){return P4(t,{weekStartsOn:1})}const Nne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Cne=(t,r,e)=>{let n;const s=Nne[t];return typeof s=="string"?n=s:r===1?n=s.one:n=s.other.replace("{{count}}",r.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+n:n+" ago":n};function Il(t){return(r={})=>{const e=r.width?String(r.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const Tne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ene={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ane={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pne={date:Il({formats:Tne,defaultWidth:"full"}),time:Il({formats:Ene,defaultWidth:"full"}),dateTime:Il({formats:Ane,defaultWidth:"full"})},Mne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rne=(t,r,e,n)=>Mne[t];function Ea(t){return(r,e)=>{const n=e?.context?String(e.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,c=e?.width?String(e.width):i;s=t.formattingValues[c]||t.formattingValues[i]}else{const i=t.defaultWidth,c=e?.width?String(e.width):t.defaultWidth;s=t.values[c]||t.values[i]}const a=t.argumentCallback?t.argumentCallback(r):r;return s[a]}}const Dne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ine={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},One={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$ne=(t,r)=>{const e=Number(t),n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},zne={ordinalNumber:$ne,era:Ea({values:Dne,defaultWidth:"wide"}),quarter:Ea({values:Ine,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ea({values:One,defaultWidth:"wide"}),day:Ea({values:Fne,defaultWidth:"wide"}),dayPeriod:Ea({values:Lne,defaultWidth:"wide",formattingValues:Bne,defaultFormattingWidth:"wide"})};function Aa(t){return(r,e={})=>{const n=e.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=r.match(s);if(!a)return null;const i=a[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?Une(c,p=>p.test(i)):Vne(c,p=>p.test(i));let o;o=t.valueCallback?t.valueCallback(u):u,o=e.valueCallback?e.valueCallback(o):o;const d=r.slice(i.length);return{value:o,rest:d}}}function Vne(t,r){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&r(t[e]))return e}function Une(t,r){for(let e=0;e<t.length;e++)if(r(t[e]))return e}function M4(t){return(r,e={})=>{const n=r.match(t.matchPattern);if(!n)return null;const s=n[0],a=r.match(t.parsePattern);if(!a)return null;let i=t.valueCallback?t.valueCallback(a[0]):a[0];i=e.valueCallback?e.valueCallback(i):i;const c=r.slice(s.length);return{value:i,rest:c}}}const Wne=/^(\d+)(th|st|nd|rd)?/i,qne=/\d+/i,Hne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kne={any:[/^b/i,/^(a|c)/i]},Gne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Xne={any:[/1/i,/2/i,/3/i,/4/i]},Qne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ese={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rse={ordinalNumber:M4({matchPattern:Wne,parsePattern:qne,valueCallback:t=>parseInt(t,10)}),era:Aa({matchPatterns:Hne,defaultMatchWidth:"wide",parsePatterns:Kne,defaultParseWidth:"any"}),quarter:Aa({matchPatterns:Gne,defaultMatchWidth:"wide",parsePatterns:Xne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Aa({matchPatterns:Qne,defaultMatchWidth:"wide",parsePatterns:Yne,defaultParseWidth:"any"}),day:Aa({matchPatterns:Zne,defaultMatchWidth:"wide",parsePatterns:Jne,defaultParseWidth:"any"}),dayPeriod:Aa({matchPatterns:ese,defaultMatchWidth:"any",parsePatterns:tse,defaultParseWidth:"any"})},R4={code:"en-US",formatDistance:Cne,formatLong:Pne,formatRelative:Rne,localize:zne,match:rse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function nse(t){const r=wr(t);return zo(r,UD(r))+1}function qD(t){const r=wr(t),e=+nd(r)-+pne(r);return Math.round(e/E4)+1}function HD(t,r){const e=wr(t),n=e.getFullYear(),s=uh(),a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=Ja(t,0);i.setFullYear(n+1,0,a),i.setHours(0,0,0,0);const c=Vi(i,r),u=Ja(t,0);u.setFullYear(n,0,a),u.setHours(0,0,0,0);const o=Vi(u,r);return e.getTime()>=c.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function sse(t,r){const e=uh(),n=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,s=HD(t,r),a=Ja(t,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Vi(a,r)}function KD(t,r){const e=wr(t),n=+Vi(e,r)-+sse(e,r);return Math.round(n/E4)+1}function pn(t,r){const e=t<0?"-":"",n=Math.abs(t).toString().padStart(r,"0");return e+n}const fc={y(t,r){const e=t.getFullYear(),n=e>0?e:1-e;return pn(r==="yy"?n%100:n,r.length)},M(t,r){const e=t.getMonth();return r==="M"?String(e+1):pn(e+1,2)},d(t,r){return pn(t.getDate(),r.length)},a(t,r){const e=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(t,r){return pn(t.getHours()%12||12,r.length)},H(t,r){return pn(t.getHours(),r.length)},m(t,r){return pn(t.getMinutes(),r.length)},s(t,r){return pn(t.getSeconds(),r.length)},S(t,r){const e=r.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,e-3));return pn(s,r.length)}},Yd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},IS={G:function(t,r,e){const n=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})}},y:function(t,r,e){if(r==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return e.ordinalNumber(s,{unit:"year"})}return fc.y(t,r)},Y:function(t,r,e,n){const s=HD(t,n),a=s>0?s:1-s;if(r==="YY"){const i=a%100;return pn(i,2)}return r==="Yo"?e.ordinalNumber(a,{unit:"year"}):pn(a,r.length)},R:function(t,r){const e=VD(t);return pn(e,r.length)},u:function(t,r){const e=t.getFullYear();return pn(e,r.length)},Q:function(t,r,e){const n=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return pn(n,2);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,r,e){const n=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return pn(n,2);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,r,e){const n=t.getMonth();switch(r){case"M":case"MM":return fc.M(t,r);case"Mo":return e.ordinalNumber(n+1,{unit:"month"});case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})}},L:function(t,r,e){const n=t.getMonth();switch(r){case"L":return String(n+1);case"LL":return pn(n+1,2);case"Lo":return e.ordinalNumber(n+1,{unit:"month"});case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})}},w:function(t,r,e,n){const s=KD(t,n);return r==="wo"?e.ordinalNumber(s,{unit:"week"}):pn(s,r.length)},I:function(t,r,e){const n=qD(t);return r==="Io"?e.ordinalNumber(n,{unit:"week"}):pn(n,r.length)},d:function(t,r,e){return r==="do"?e.ordinalNumber(t.getDate(),{unit:"date"}):fc.d(t,r)},D:function(t,r,e){const n=nse(t);return r==="Do"?e.ordinalNumber(n,{unit:"dayOfYear"}):pn(n,r.length)},E:function(t,r,e){const n=t.getDay();switch(r){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})}},e:function(t,r,e,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return pn(a,2);case"eo":return e.ordinalNumber(a,{unit:"day"});case"eee":return e.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(s,{width:"short",context:"formatting"});case"eeee":default:return e.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,e,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return pn(a,r.length);case"co":return e.ordinalNumber(a,{unit:"day"});case"ccc":return e.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(s,{width:"narrow",context:"standalone"});case"cccccc":return e.day(s,{width:"short",context:"standalone"});case"cccc":default:return e.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,e){const n=t.getDay(),s=n===0?7:n;switch(r){case"i":return String(s);case"ii":return pn(s,r.length);case"io":return e.ordinalNumber(s,{unit:"day"});case"iii":return e.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(n,{width:"short",context:"formatting"});case"iiii":default:return e.day(n,{width:"wide",context:"formatting"})}},a:function(t,r,e){const s=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,e){const n=t.getHours();let s;switch(n===12?s=Yd.noon:n===0?s=Yd.midnight:s=n/12>=1?"pm":"am",r){case"b":case"bb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,e){const n=t.getHours();let s;switch(n>=17?s=Yd.evening:n>=12?s=Yd.afternoon:n>=4?s=Yd.morning:s=Yd.night,r){case"B":case"BB":case"BBB":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,e){if(r==="ho"){let n=t.getHours()%12;return n===0&&(n=12),e.ordinalNumber(n,{unit:"hour"})}return fc.h(t,r)},H:function(t,r,e){return r==="Ho"?e.ordinalNumber(t.getHours(),{unit:"hour"}):fc.H(t,r)},K:function(t,r,e){const n=t.getHours()%12;return r==="Ko"?e.ordinalNumber(n,{unit:"hour"}):pn(n,r.length)},k:function(t,r,e){let n=t.getHours();return n===0&&(n=24),r==="ko"?e.ordinalNumber(n,{unit:"hour"}):pn(n,r.length)},m:function(t,r,e){return r==="mo"?e.ordinalNumber(t.getMinutes(),{unit:"minute"}):fc.m(t,r)},s:function(t,r,e){return r==="so"?e.ordinalNumber(t.getSeconds(),{unit:"second"}):fc.s(t,r)},S:function(t,r){return fc.S(t,r)},X:function(t,r,e){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return FS(n);case"XXXX":case"XX":return Nu(n);case"XXXXX":case"XXX":default:return Nu(n,":")}},x:function(t,r,e){const n=t.getTimezoneOffset();switch(r){case"x":return FS(n);case"xxxx":case"xx":return Nu(n);case"xxxxx":case"xxx":default:return Nu(n,":")}},O:function(t,r,e){const n=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+OS(n,":");case"OOOO":default:return"GMT"+Nu(n,":")}},z:function(t,r,e){const n=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+OS(n,":");case"zzzz":default:return"GMT"+Nu(n,":")}},t:function(t,r,e){const n=Math.trunc(t.getTime()/1e3);return pn(n,r.length)},T:function(t,r,e){const n=t.getTime();return pn(n,r.length)}};function OS(t,r=""){const e=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),a=n%60;return a===0?e+String(s):e+String(s)+r+pn(a,2)}function FS(t,r){return t%60===0?(t>0?"-":"+")+pn(Math.abs(t)/60,2):Nu(t,r)}function Nu(t,r=""){const e=t>0?"-":"+",n=Math.abs(t),s=pn(Math.trunc(n/60),2),a=pn(n%60,2);return e+s+r+a}const LS=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},GD=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},ase=(t,r)=>{const e=t.match(/(P+)(p+)?/)||[],n=e[1],s=e[2];if(!s)return LS(t,r);let a;switch(n){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",LS(n,r)).replace("{{time}}",GD(s,r))},ise={p:GD,P:ase},ose=/^D+$/,lse=/^Y+$/,cse=["D","DD","YY","YYYY"];function use(t){return ose.test(t)}function dse(t){return lse.test(t)}function fse(t,r,e){const n=hse(t,r,e);if(console.warn(n),cse.includes(t))throw new RangeError(n)}function hse(t,r,e){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${n} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gse=/^'([^]*?)'?$/,yse=/''/g,bse=/[a-zA-Z]/;function Nr(t,r,e){const n=uh(),s=e?.locale??n.locale??R4,a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=wr(t);if(!bne(c))throw new RangeError("Invalid time value");let u=r.match(mse).map(d=>{const p=d[0];if(p==="p"||p==="P"){const f=ise[p];return f(d,s.formatLong)}return d}).join("").match(pse).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const p=d[0];if(p==="'")return{isToken:!1,value:vse(d)};if(IS[p])return{isToken:!0,value:d};if(p.match(bse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:d}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const o={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return u.map(d=>{if(!d.isToken)return d.value;const p=d.value;(!e?.useAdditionalWeekYearTokens&&dse(p)||!e?.useAdditionalDayOfYearTokens&&use(p))&&fse(p,r,String(t));const f=IS[p[0]];return f(c,p,s.localize,o)}).join("")}function vse(t){const r=t.match(gse);return r?r[1].replace(yse,"'"):t}function xse(t,r,e){const n=uh(),s=e?.locale??n.locale??R4,a=2520,i=Fg(t,r);if(isNaN(i))throw new RangeError("Invalid time value");const c=Object.assign({},e,{addSuffix:e?.addSuffix,comparison:i});let u,o;i>0?(u=wr(r),o=wr(t)):(u=wr(t),o=wr(r));const d=Sne(o,u),p=(Kf(o)-Kf(u))/1e3,f=Math.round((d-p)/60);let h;if(f<2)return e?.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,c):d<10?s.formatDistance("lessThanXSeconds",10,c):d<20?s.formatDistance("lessThanXSeconds",20,c):d<40?s.formatDistance("halfAMinute",0,c):d<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):f===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",f,c);if(f<45)return s.formatDistance("xMinutes",f,c);if(f<90)return s.formatDistance("aboutXHours",1,c);if(f<DS){const g=Math.round(f/60);return s.formatDistance("aboutXHours",g,c)}else{if(f<a)return s.formatDistance("xDays",1,c);if(f<mg){const g=Math.round(f/DS);return s.formatDistance("xDays",g,c)}else if(f<mg*2)return h=Math.round(f/mg),s.formatDistance("aboutXMonths",h,c)}if(h=jne(o,u),h<12){const g=Math.round(f/mg);return s.formatDistance("xMonths",g,c)}else{const g=h%12,y=Math.trunc(h/12);return g<3?s.formatDistance("aboutXYears",y,c):g<9?s.formatDistance("overXYears",y,c):s.formatDistance("almostXYears",y+1,c)}}function wse(t,r){return xse(t,Km(t),r)}function _se(t){const r=wr(t),e=r.getFullYear(),n=r.getMonth(),s=Ja(t,0);return s.setFullYear(e,n+1,0),s.setHours(0,0,0,0),s.getDate()}function kse(t){return Math.trunc(+wr(t)/1e3)}function jse(t){const r=wr(t),e=r.getMonth();return r.setFullYear(r.getFullYear(),e+1,0),r.setHours(0,0,0,0),r}function Sse(t,r){return vne(jse(t),Za(t),r)+1}function u2(t,r){const e=wr(t),n=wr(r);return e.getTime()>n.getTime()}function XD(t,r){const e=wr(t),n=wr(r);return+e<+n}function Nse(t,r,e){const n=Vi(t,e),s=Vi(r,e);return+n==+s}function Bb(t,r){const e=wr(t),n=wr(r);return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()}function Cse(t,r){const e=wr(t),n=wr(r);return e.getFullYear()===n.getFullYear()}function Tse(t){return Bb(t,Km(t))}function Ese(t,r){return Nse(t,Km(t),r)}function QD(t){return fa(t,Km(t))}function Lg(t,r){return Ta(t,-r)}function Ase(t){return fa(t,Lg(Km(t),1))}function d2(t,r){const n=Dse(t);let s;if(n.date){const u=Ise(n.date,2);s=Ose(u.restDateString,u.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let i=0,c;if(n.time&&(i=Fse(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(c=Lse(n.timezone),isNaN(c))return new Date(NaN)}else{const u=new Date(a+i),o=new Date(0);return o.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),o.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),o}return new Date(a+i+c)}const gg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Pse=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Mse=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rse=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Dse(t){const r={},e=t.split(gg.dateTimeDelimiter);let n;if(e.length>2)return r;if(/:/.test(e[0])?n=e[0]:(r.date=e[0],n=e[1],gg.timeZoneDelimiter.test(r.date)&&(r.date=t.split(gg.timeZoneDelimiter)[0],n=t.substr(r.date.length,t.length))),n){const s=gg.timezone.exec(n);s?(r.time=n.replace(s[1],""),r.timezone=s[1]):r.time=n}return r}function Ise(t,r){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),n=t.match(e);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?s:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function Ose(t,r){if(r===null)return new Date(NaN);const e=t.match(Pse);if(!e)return new Date(NaN);const n=!!e[4],s=tp(e[1]),a=tp(e[2])-1,i=tp(e[3]),c=tp(e[4]),u=tp(e[5])-1;if(n)return Use(r,c,u)?Bse(r,c,u):new Date(NaN);{const o=new Date(0);return!zse(r,a,i)||!Vse(r,s)?new Date(NaN):(o.setUTCFullYear(r,a,Math.max(s,i)),o)}}function tp(t){return t?parseInt(t):1}function Fse(t){const r=t.match(Mse);if(!r)return NaN;const e=m1(r[1]),n=m1(r[2]),s=m1(r[3]);return Wse(e,n,s)?e*zD+n*$D+s*1e3:NaN}function m1(t){return t&&parseFloat(t.replace(",","."))||0}function Lse(t){if(t==="Z")return 0;const r=t.match(Rse);if(!r)return 0;const e=r[1]==="+"?-1:1,n=parseInt(r[2]),s=r[3]&&parseInt(r[3])||0;return qse(n,s)?e*(n*zD+s*$D):NaN}function Bse(t,r,e){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,a=(r-1)*7+e+1-s;return n.setUTCDate(n.getUTCDate()+a),n}const $se=[31,null,31,30,31,30,31,31,30,31,30,31];function YD(t){return t%400===0||t%4===0&&t%100!==0}function zse(t,r,e){return r>=0&&r<=11&&e>=1&&e<=($se[r]||(YD(t)?29:28))}function Vse(t,r){return r>=1&&r<=(YD(t)?366:365)}function Use(t,r,e){return r>=1&&r<=53&&e>=0&&e<=6}function Wse(t,r,e){return t===24?r===0&&e===0:e>=0&&e<60&&r>=0&&r<60&&t>=0&&t<25}function qse(t,r){return r>=0&&r<=59}function g1(t,r){const e=wr(t),n=e.getFullYear(),s=e.getDate(),a=Ja(t,0);a.setFullYear(n,r,15),a.setHours(0,0,0,0);const i=_se(a);return e.setMonth(r,Math.min(s,i)),e}function BS(t,r){const e=wr(t);return isNaN(+e)?Ja(t,NaN):(e.setFullYear(r),e)}const Hse={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},Kse=(t,r,e)=>{const n=Hse[t];let s;return typeof n=="string"?s=n:r===1?s=n.one:r===2?s=n.two:r<=10?s=n.threeToTen.replace("{{count}}",String(r)):s=n.other.replace("{{count}}",String(r)),e?.addSuffix?e.comparison&&e.comparison>0?" "+s:" "+s:s},Gse={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},Xse={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},Qse={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yse={date:Il({formats:Gse,defaultWidth:"full"}),time:Il({formats:Xse,defaultWidth:"full"}),dateTime:Il({formats:Qse,defaultWidth:"full"})},Zse={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},Jse=t=>Zse[t],eae={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},tae={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},rae={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},nae={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},sae={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},aae={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},iae=t=>String(t),oae={ordinalNumber:iae,era:Ea({values:eae,defaultWidth:"wide"}),quarter:Ea({values:tae,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ea({values:rae,defaultWidth:"wide"}),day:Ea({values:nae,defaultWidth:"wide"}),dayPeriod:Ea({values:sae,defaultWidth:"wide",formattingValues:aae,defaultFormattingWidth:"wide"})},lae=/^(\d+)(th|st|nd|rd)?/i,cae=/\d+/i,uae={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},dae={any:[//,//]},fae={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},hae={any:[/1/i,/2/i,/3/i,/4/i]},pae={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},mae={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},gae={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},yae={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},bae={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},vae={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},xae={ordinalNumber:M4({matchPattern:lae,parsePattern:cae,valueCallback:t=>parseInt(t,10)}),era:Aa({matchPatterns:uae,defaultMatchWidth:"wide",parsePatterns:dae,defaultParseWidth:"any"}),quarter:Aa({matchPatterns:fae,defaultMatchWidth:"wide",parsePatterns:hae,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Aa({matchPatterns:pae,defaultMatchWidth:"wide",parsePatterns:mae,defaultParseWidth:"any"}),day:Aa({matchPatterns:gae,defaultMatchWidth:"wide",parsePatterns:yae,defaultParseWidth:"any"}),dayPeriod:Aa({matchPatterns:bae,defaultMatchWidth:"any",parsePatterns:vae,defaultParseWidth:"any"})},Xs={code:"ar",formatDistance:Kse,formatLong:Yse,formatRelative:Jse,localize:oae,match:xae,options:{weekStartsOn:6,firstWeekContainsDate:1}},wae={lessThanXSeconds:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "}},_ae=(t,r,e)=>{let n;const s=wae[t];return typeof s=="string"?n=s:r===1?n=s.one:r===2?n=s.two:r<=10?n=s.threeToTen.replace("{{count}}",String(r)):n=s.other.replace("{{count}}",String(r)),e?.addSuffix?e.comparison&&e.comparison>0?"  "+n:" "+n:n},kae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sae={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nae={date:Il({formats:kae,defaultWidth:"full"}),time:Il({formats:jae,defaultWidth:"full"}),dateTime:Il({formats:Sae,defaultWidth:"full"})},Cae={lastWeek:"'' eeee '' p",yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:"eeee '' p",other:"P"},Tae=(t,r,e,n)=>Cae[t],Eae={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},Aae={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},Pae={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Mae={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Rae={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""}},Dae={narrow:{am:"",pm:"",midnight:"",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:" ",night:" "}},Iae=t=>String(t),Oae={ordinalNumber:Iae,era:Ea({values:Eae,defaultWidth:"wide"}),quarter:Ea({values:Aae,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ea({values:Pae,defaultWidth:"wide"}),day:Ea({values:Mae,defaultWidth:"wide"}),dayPeriod:Ea({values:Rae,defaultWidth:"wide",formattingValues:Dae,defaultFormattingWidth:"wide"})},Fae=/^(\d+)(th|st|nd|rd)?/i,Lae=/\d+/i,Bae={narrow:/^(|)/i,abbreviated:/^(\.?\s?\.?|\.?\s?\.?\s?|a\.?\s?d\.?|c\.?\s?)/i,wide:/^( | | | )/i},$ae={any:[/^/i,/^/i]},zae={narrow:/^[1234]/i,abbreviated:/^[1234]/i,wide:/^ [1234]/i},Vae={any:[/1/i,/2/i,/3/i,/4/i]},Uae={narrow:/^[]/i,abbreviated:/^(|||||||||||)/i,wide:/^(|||||||||||)/i},Wae={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},qae={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},Hae={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Kae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Xae={ordinalNumber:M4({matchPattern:Fae,parsePattern:Lae,valueCallback:t=>parseInt(t,10)}),era:Aa({matchPatterns:Bae,defaultMatchWidth:"wide",parsePatterns:$ae,defaultParseWidth:"any"}),quarter:Aa({matchPatterns:zae,defaultMatchWidth:"wide",parsePatterns:Vae,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Aa({matchPatterns:Uae,defaultMatchWidth:"wide",parsePatterns:Wae,defaultParseWidth:"any"}),day:Aa({matchPatterns:qae,defaultMatchWidth:"wide",parsePatterns:Hae,defaultParseWidth:"any"}),dayPeriod:Aa({matchPatterns:Kae,defaultMatchWidth:"any",parsePatterns:Gae,defaultParseWidth:"any"})},ZD={code:"ar-SA",formatDistance:_ae,formatLong:Nae,formatRelative:Tae,localize:Oae,match:Xae,options:{weekStartsOn:0,firstWeekContainsDate:1}};var mr=function(){return mr=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},mr.apply(this,arguments)};function Qae(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(e[n[s]]=t[n[s]]);return e}function JD(t,r,e){for(var n=0,s=r.length,a;n<s;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return t.concat(a||Array.prototype.slice.call(r))}function Gm(t){return t.mode==="multiple"}function Xm(t){return t.mode==="range"}function $b(t){return t.mode==="single"}var Yae={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Zae(t,r){return Nr(t,"LLLL y",r)}function Jae(t,r){return Nr(t,"d",r)}function eie(t,r){return Nr(t,"LLLL",r)}function tie(t){return"".concat(t)}function rie(t,r){return Nr(t,"cccccc",r)}function nie(t,r){return Nr(t,"yyyy",r)}var sie=Object.freeze({__proto__:null,formatCaption:Zae,formatDay:Jae,formatMonthCaption:eie,formatWeekNumber:tie,formatWeekdayName:rie,formatYearCaption:nie}),aie=function(t,r,e){return Nr(t,"do MMMM (EEEE)",e)},iie=function(){return"Month: "},oie=function(){return"Go to next month"},lie=function(){return"Go to previous month"},cie=function(t,r){return Nr(t,"cccc",r)},uie=function(t){return"Week n. ".concat(t)},die=function(){return"Year: "},fie=Object.freeze({__proto__:null,labelDay:aie,labelMonthDropdown:iie,labelNext:oie,labelPrevious:lie,labelWeekNumber:uie,labelWeekday:cie,labelYearDropdown:die});function hie(){var t="buttons",r=Yae,e=R4,n={},s={},a=1,i={},c=new Date;return{captionLayout:t,classNames:r,formatters:sie,labels:fie,locale:e,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:i,today:c,mode:"default"}}function pie(t){var r=t.fromYear,e=t.toYear,n=t.fromMonth,s=t.toMonth,a=t.fromDate,i=t.toDate;return n?a=Za(n):r&&(a=new Date(r,0,1)),s?i=Lb(s):e&&(i=new Date(e,11,31)),{fromDate:a?Hf(a):void 0,toDate:i?Hf(i):void 0}}var eI=P.createContext(void 0);function mie(t){var r,e=t.initialProps,n=hie(),s=pie(e),a=s.fromDate,i=s.toDate,c=(r=e.captionLayout)!==null&&r!==void 0?r:n.captionLayout;c!=="buttons"&&(!a||!i)&&(c="buttons");var u;($b(e)||Gm(e)||Xm(e))&&(u=e.onSelect);var o=mr(mr(mr({},n),e),{captionLayout:c,classNames:mr(mr({},n.classNames),e.classNames),components:mr({},e.components),formatters:mr(mr({},n.formatters),e.formatters),fromDate:a,labels:mr(mr({},n.labels),e.labels),mode:e.mode||n.mode,modifiers:mr(mr({},n.modifiers),e.modifiers),modifiersClassNames:mr(mr({},n.modifiersClassNames),e.modifiersClassNames),onSelect:u,styles:mr(mr({},n.styles),e.styles),toDate:i});return l.jsx(eI.Provider,{value:o,children:t.children})}function Sn(){var t=P.useContext(eI);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function tI(t){var r=Sn(),e=r.locale,n=r.classNames,s=r.styles,a=r.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:e})})}function gie(t){return l.jsx("svg",mr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function rI(t){var r,e,n=t.onChange,s=t.value,a=t.children,i=t.caption,c=t.className,u=t.style,o=Sn(),d=(e=(r=o.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&e!==void 0?e:gie;return l.jsxs("div",{className:c,style:u,children:[l.jsx("span",{className:o.classNames.vhidden,children:t["aria-label"]}),l.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:o.classNames.dropdown,style:o.styles.dropdown,value:s,onChange:n,children:a}),l.jsxs("div",{className:o.classNames.caption_label,style:o.styles.caption_label,"aria-hidden":"true",children:[i,l.jsx(d,{className:o.classNames.dropdown_icon,style:o.styles.dropdown_icon})]})]})}function yie(t){var r,e=Sn(),n=e.fromDate,s=e.toDate,a=e.styles,i=e.locale,c=e.formatters.formatMonthCaption,u=e.classNames,o=e.components,d=e.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var p=[];if(Cse(n,s))for(var f=Za(n),h=n.getMonth();h<=s.getMonth();h++)p.push(g1(f,h));else for(var f=Za(new Date),h=0;h<=11;h++)p.push(g1(f,h));var g=function(m){var v=Number(m.target.value),x=g1(Za(t.displayMonth),v);t.onChange(x)},y=(r=o?.Dropdown)!==null&&r!==void 0?r:rI;return l.jsx(y,{name:"months","aria-label":d(),className:u.dropdown_month,style:a.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:c(t.displayMonth,{locale:i}),children:p.map(function(m){return l.jsx("option",{value:m.getMonth(),children:c(m,{locale:i})},m.getMonth())})})}function bie(t){var r,e=t.displayMonth,n=Sn(),s=n.fromDate,a=n.toDate,i=n.locale,c=n.styles,u=n.classNames,o=n.components,d=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,f=[];if(!s)return l.jsx(l.Fragment,{});if(!a)return l.jsx(l.Fragment,{});for(var h=s.getFullYear(),g=a.getFullYear(),y=h;y<=g;y++)f.push(BS(UD(new Date),y));var m=function(x){var j=BS(Za(e),Number(x.target.value));t.onChange(j)},v=(r=o?.Dropdown)!==null&&r!==void 0?r:rI;return l.jsx(v,{name:"years","aria-label":p(),className:u.dropdown_year,style:c.dropdown_year,onChange:m,value:e.getFullYear(),caption:d(e,{locale:i}),children:f.map(function(x){return l.jsx("option",{value:x.getFullYear(),children:d(x,{locale:i})},x.getFullYear())})})}function vie(t,r){var e=P.useState(t),n=e[0],s=e[1],a=r===void 0?n:r;return[a,s]}function xie(t){var r=t.month,e=t.defaultMonth,n=t.today,s=r||e||n||new Date,a=t.toDate,i=t.fromDate,c=t.numberOfMonths,u=c===void 0?1:c;if(a&&Gf(a,s)<0){var o=-1*(u-1);s=vo(a,o)}return i&&Gf(s,i)<0&&(s=i),Za(s)}function wie(){var t=Sn(),r=xie(t),e=vie(r,t.month),n=e[0],s=e[1],a=function(i){var c;if(!t.disableNavigation){var u=Za(i);s(u),(c=t.onMonthChange)===null||c===void 0||c.call(t,u)}};return[n,a]}function _ie(t,r){for(var e=r.reverseMonths,n=r.numberOfMonths,s=Za(t),a=Za(vo(s,n)),i=Gf(a,s),c=[],u=0;u<i;u++){var o=vo(s,u);c.push(o)}return e&&(c=c.reverse()),c}function kie(t,r){if(!r.disableNavigation){var e=r.toDate,n=r.pagedNavigation,s=r.numberOfMonths,a=s===void 0?1:s,i=n?a:1,c=Za(t);if(!e)return vo(c,i);var u=Gf(e,t);if(!(u<a))return vo(c,i)}}function jie(t,r){if(!r.disableNavigation){var e=r.fromDate,n=r.pagedNavigation,s=r.numberOfMonths,a=s===void 0?1:s,i=n?a:1,c=Za(t);if(!e)return vo(c,-i);var u=Gf(c,e);if(!(u<=0))return vo(c,-i)}}var nI=P.createContext(void 0);function Sie(t){var r=Sn(),e=wie(),n=e[0],s=e[1],a=_ie(n,r),i=kie(n,r),c=jie(n,r),u=function(p){return a.some(function(f){return Bb(p,f)})},o=function(p,f){u(p)||(f&&XD(p,f)?s(vo(p,1+r.numberOfMonths*-1)):s(p))},d={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:o,previousMonth:c,nextMonth:i,isDateDisplayed:u};return l.jsx(nI.Provider,{value:d,children:t.children})}function Qm(){var t=P.useContext(nI);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function $S(t){var r,e=Sn(),n=e.classNames,s=e.styles,a=e.components,i=Qm().goToMonth,c=function(d){i(vo(d,t.displayIndex?-t.displayIndex:0))},u=(r=a?.CaptionLabel)!==null&&r!==void 0?r:tI,o=l.jsx(u,{id:t.id,displayMonth:t.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:o}),l.jsx(yie,{onChange:c,displayMonth:t.displayMonth}),l.jsx(bie,{onChange:c,displayMonth:t.displayMonth})]})}function Nie(t){return l.jsx("svg",mr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Cie(t){return l.jsx("svg",mr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var jy=P.forwardRef(function(t,r){var e=Sn(),n=e.classNames,s=e.styles,a=[n.button_reset,n.button];t.className&&a.push(t.className);var i=a.join(" "),c=mr(mr({},s.button_reset),s.button);return t.style&&Object.assign(c,t.style),l.jsx("button",mr({},t,{ref:r,type:"button",className:i,style:c}))});function Tie(t){var r,e,n=Sn(),s=n.dir,a=n.locale,i=n.classNames,c=n.styles,u=n.labels,o=u.labelPrevious,d=u.labelNext,p=n.components;if(!t.nextMonth&&!t.previousMonth)return l.jsx(l.Fragment,{});var f=o(t.previousMonth,{locale:a}),h=[i.nav_button,i.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:a}),y=[i.nav_button,i.nav_button_next].join(" "),m=(r=p?.IconRight)!==null&&r!==void 0?r:Cie,v=(e=p?.IconLeft)!==null&&e!==void 0?e:Nie;return l.jsxs("div",{className:i.nav,style:c.nav,children:[!t.hidePrevious&&l.jsx(jy,{name:"previous-month","aria-label":f,className:h,style:c.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?l.jsx(m,{className:i.nav_icon,style:c.nav_icon}):l.jsx(v,{className:i.nav_icon,style:c.nav_icon})}),!t.hideNext&&l.jsx(jy,{name:"next-month","aria-label":g,className:y,style:c.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?l.jsx(v,{className:i.nav_icon,style:c.nav_icon}):l.jsx(m,{className:i.nav_icon,style:c.nav_icon})})]})}function zS(t){var r=Sn().numberOfMonths,e=Qm(),n=e.previousMonth,s=e.nextMonth,a=e.goToMonth,i=e.displayMonths,c=i.findIndex(function(g){return Bb(t.displayMonth,g)}),u=c===0,o=c===i.length-1,d=r>1&&(u||!o),p=r>1&&(o||!u),f=function(){n&&a(n)},h=function(){s&&a(s)};return l.jsx(Tie,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:p,nextMonth:s,previousMonth:n,onPreviousClick:f,onNextClick:h})}function Eie(t){var r,e=Sn(),n=e.classNames,s=e.disableNavigation,a=e.styles,i=e.captionLayout,c=e.components,u=(r=c?.CaptionLabel)!==null&&r!==void 0?r:tI,o;return s?o=l.jsx(u,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?o=l.jsx($S,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?o=l.jsxs(l.Fragment,{children:[l.jsx($S,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),l.jsx(zS,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):o=l.jsxs(l.Fragment,{children:[l.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(zS,{displayMonth:t.displayMonth,id:t.id})]}),l.jsx("div",{className:n.caption,style:a.caption,children:o})}function Aie(t){var r=Sn(),e=r.footer,n=r.styles,s=r.classNames.tfoot;return e?l.jsx("tfoot",{className:s,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:e})})}):l.jsx(l.Fragment,{})}function Pie(t,r,e){for(var n=e?nd(new Date):Vi(new Date,{locale:t,weekStartsOn:r}),s=[],a=0;a<7;a++){var i=Ta(n,a);s.push(i)}return s}function Mie(){var t=Sn(),r=t.classNames,e=t.styles,n=t.showWeekNumber,s=t.locale,a=t.weekStartsOn,i=t.ISOWeek,c=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,o=Pie(s,a,i);return l.jsxs("tr",{style:e.head_row,className:r.head_row,children:[n&&l.jsx("td",{style:e.head_cell,className:r.head_cell}),o.map(function(d,p){return l.jsx("th",{scope:"col",className:r.head_cell,style:e.head_cell,"aria-label":u(d,{locale:s}),children:c(d,{locale:s})},p)})]})}function Rie(){var t,r=Sn(),e=r.classNames,n=r.styles,s=r.components,a=(t=s?.HeadRow)!==null&&t!==void 0?t:Mie;return l.jsx("thead",{style:n.head,className:e.head,children:l.jsx(a,{})})}function Die(t){var r=Sn(),e=r.locale,n=r.formatters.formatDay;return l.jsx(l.Fragment,{children:n(t.date,{locale:e})})}var D4=P.createContext(void 0);function Iie(t){if(!Gm(t.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return l.jsx(D4.Provider,{value:r,children:t.children})}return l.jsx(Oie,{initialProps:t.initialProps,children:t.children})}function Oie(t){var r=t.initialProps,e=t.children,n=r.selected,s=r.min,a=r.max,i=function(o,d,p){var f,h;(f=r.onDayClick)===null||f===void 0||f.call(r,o,d,p);var g=!!(d.selected&&s&&n?.length===s);if(!g){var y=!!(!d.selected&&a&&n?.length===a);if(!y){var m=n?JD([],n):[];if(d.selected){var v=m.findIndex(function(x){return fa(o,x)});m.splice(v,1)}else m.push(o);(h=r.onSelect)===null||h===void 0||h.call(r,m,o,d,p)}}},c={disabled:[]};n&&c.disabled.push(function(o){var d=a&&n.length>a-1,p=n.some(function(f){return fa(f,o)});return!!(d&&!p)});var u={selected:n,onDayClick:i,modifiers:c};return l.jsx(D4.Provider,{value:u,children:e})}function I4(){var t=P.useContext(D4);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Fie(t,r){var e=r||{},n=e.from,s=e.to;return n&&s?fa(s,t)&&fa(n,t)?void 0:fa(s,t)?{from:s,to:void 0}:fa(n,t)?void 0:u2(n,t)?{from:t,to:s}:{from:n,to:t}:s?u2(t,s)?{from:s,to:t}:{from:t,to:s}:n?XD(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var O4=P.createContext(void 0);function Lie(t){if(!Xm(t.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(O4.Provider,{value:r,children:t.children})}return l.jsx(Bie,{initialProps:t.initialProps,children:t.children})}function Bie(t){var r=t.initialProps,e=t.children,n=r.selected,s=n||{},a=s.from,i=s.to,c=r.min,u=r.max,o=function(h,g,y){var m,v;(m=r.onDayClick)===null||m===void 0||m.call(r,h,g,y);var x=Fie(h,n);(v=r.onSelect)===null||v===void 0||v.call(r,x,h,g,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],i?(d.range_end=[i],fa(a,i)||(d.range_middle=[{after:a,before:i}])):d.range_end=[a]):i&&(d.range_start=[i],d.range_end=[i]),c&&(a&&!i&&d.disabled.push({after:Lg(a,c-1),before:Ta(a,c-1)}),a&&i&&d.disabled.push({after:a,before:Ta(a,c-1)}),!a&&i&&d.disabled.push({after:Lg(i,c-1),before:Ta(i,c-1)})),u){if(a&&!i&&(d.disabled.push({before:Ta(a,-u+1)}),d.disabled.push({after:Ta(a,u-1)})),a&&i){var p=zo(i,a)+1,f=u-p;d.disabled.push({before:Lg(a,f)}),d.disabled.push({after:Ta(i,f)})}!a&&i&&(d.disabled.push({before:Ta(i,-u+1)}),d.disabled.push({after:Ta(i,u-1)}))}return l.jsx(O4.Provider,{value:{selected:n,onDayClick:o,modifiers:d},children:e})}function F4(){var t=P.useContext(O4);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Bg(t){return Array.isArray(t)?JD([],t):t!==void 0?[t]:[]}function $ie(t){var r={};return Object.entries(t).forEach(function(e){var n=e[0],s=e[1];r[n]=Bg(s)}),r}var xo;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(xo||(xo={}));var zie=xo.Selected,gl=xo.Disabled,Vie=xo.Hidden,Uie=xo.Today,y1=xo.RangeEnd,b1=xo.RangeMiddle,v1=xo.RangeStart,Wie=xo.Outside;function qie(t,r,e){var n,s=(n={},n[zie]=Bg(t.selected),n[gl]=Bg(t.disabled),n[Vie]=Bg(t.hidden),n[Uie]=[t.today],n[y1]=[],n[b1]=[],n[v1]=[],n[Wie]=[],n);return t.fromDate&&s[gl].push({before:t.fromDate}),t.toDate&&s[gl].push({after:t.toDate}),Gm(t)?s[gl]=s[gl].concat(r.modifiers[gl]):Xm(t)&&(s[gl]=s[gl].concat(e.modifiers[gl]),s[v1]=e.modifiers[v1],s[b1]=e.modifiers[b1],s[y1]=e.modifiers[y1]),s}var sI=P.createContext(void 0);function Hie(t){var r=Sn(),e=I4(),n=F4(),s=qie(r,e,n),a=$ie(r.modifiers),i=mr(mr({},s),a);return l.jsx(sI.Provider,{value:i,children:t.children})}function aI(){var t=P.useContext(sI);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Kie(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Gie(t){return!!(t&&typeof t=="object"&&"from"in t)}function Xie(t){return!!(t&&typeof t=="object"&&"after"in t)}function Qie(t){return!!(t&&typeof t=="object"&&"before"in t)}function Yie(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Zie(t,r){var e,n=r.from,s=r.to;if(n&&s){var a=zo(s,n)<0;a&&(e=[s,n],n=e[0],s=e[1]);var i=zo(t,n)>=0&&zo(s,t)>=0;return i}return s?fa(s,t):n?fa(n,t):!1}function Jie(t){return A4(t)}function eoe(t){return Array.isArray(t)&&t.every(A4)}function toe(t,r){return r.some(function(e){if(typeof e=="boolean")return e;if(Jie(e))return fa(t,e);if(eoe(e))return e.includes(t);if(Gie(e))return Zie(t,e);if(Yie(e))return e.dayOfWeek.includes(t.getDay());if(Kie(e)){var n=zo(e.before,t),s=zo(e.after,t),a=n>0,i=s<0,c=u2(e.before,e.after);return c?i&&a:a||i}return Xie(e)?zo(t,e.after)>0:Qie(e)?zo(e.before,t)>0:typeof e=="function"?e(t):!1})}function L4(t,r,e){var n=Object.keys(r).reduce(function(a,i){var c=r[i];return toe(t,c)&&a.push(i),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),e&&!Bb(t,e)&&(s.outside=!0),s}function roe(t,r){for(var e=Za(t[0]),n=Lb(t[t.length-1]),s,a,i=e;i<=n;){var c=L4(i,r),u=!c.disabled&&!c.hidden;if(!u){i=Ta(i,1);continue}if(c.selected)return i;c.today&&!a&&(a=i),s||(s=i),i=Ta(i,1)}return a||s}var noe=365;function iI(t,r){var e=r.moveBy,n=r.direction,s=r.context,a=r.modifiers,i=r.retry,c=i===void 0?{count:0,lastFocused:t}:i,u=s.weekStartsOn,o=s.fromDate,d=s.toDate,p=s.locale,f={day:Ta,week:c2,month:vo,year:mne,startOfWeek:function(m){return s.ISOWeek?nd(m):Vi(m,{locale:p,weekStartsOn:u})},endOfWeek:function(m){return s.ISOWeek?WD(m):P4(m,{locale:p,weekStartsOn:u})}},h=f[e](t,n==="after"?1:-1);n==="before"&&o?h=gne([o,h]):n==="after"&&d&&(h=yne([d,h]));var g=!0;if(a){var y=L4(h,a);g=!y.disabled&&!y.hidden}return g?h:c.count>noe?c.lastFocused:iI(h,{moveBy:e,direction:n,context:s,modifiers:a,retry:mr(mr({},c),{count:c.count+1})})}var oI=P.createContext(void 0);function soe(t){var r=Qm(),e=aI(),n=P.useState(),s=n[0],a=n[1],i=P.useState(),c=i[0],u=i[1],o=roe(r.displayMonths,e),d=s??(c&&r.isDateDisplayed(c))?c:o,p=function(){u(s),a(void 0)},f=function(m){a(m)},h=Sn(),g=function(m,v){if(s){var x=iI(s,{moveBy:m,direction:v,context:h,modifiers:e});fa(s,x)||(r.goToDate(x,s),f(x))}},y={focusedDay:s,focusTarget:d,blur:p,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return l.jsx(oI.Provider,{value:y,children:t.children})}function B4(){var t=P.useContext(oI);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function aoe(t,r){var e=aI(),n=L4(t,e,r);return n}var $4=P.createContext(void 0);function ioe(t){if(!$b(t.initialProps)){var r={selected:void 0};return l.jsx($4.Provider,{value:r,children:t.children})}return l.jsx(ooe,{initialProps:t.initialProps,children:t.children})}function ooe(t){var r=t.initialProps,e=t.children,n=function(a,i,c){var u,o,d;if((u=r.onDayClick)===null||u===void 0||u.call(r,a,i,c),i.selected&&!r.required){(o=r.onSelect)===null||o===void 0||o.call(r,void 0,a,i,c);return}(d=r.onSelect)===null||d===void 0||d.call(r,a,a,i,c)},s={selected:r.selected,onDayClick:n};return l.jsx($4.Provider,{value:s,children:e})}function lI(){var t=P.useContext($4);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function loe(t,r){var e=Sn(),n=lI(),s=I4(),a=F4(),i=B4(),c=i.focusDayAfter,u=i.focusDayBefore,o=i.focusWeekAfter,d=i.focusWeekBefore,p=i.blur,f=i.focus,h=i.focusMonthBefore,g=i.focusMonthAfter,y=i.focusYearBefore,m=i.focusYearAfter,v=i.focusStartOfWeek,x=i.focusEndOfWeek,j=function(S){var k,N,D,L;$b(e)?(k=n.onDayClick)===null||k===void 0||k.call(n,t,r,S):Gm(e)?(N=s.onDayClick)===null||N===void 0||N.call(s,t,r,S):Xm(e)?(D=a.onDayClick)===null||D===void 0||D.call(a,t,r,S):(L=e.onDayClick)===null||L===void 0||L.call(e,t,r,S)},T=function(S){var k;f(t),(k=e.onDayFocus)===null||k===void 0||k.call(e,t,r,S)},E=function(S){var k;p(),(k=e.onDayBlur)===null||k===void 0||k.call(e,t,r,S)},B=function(S){var k;(k=e.onDayMouseEnter)===null||k===void 0||k.call(e,t,r,S)},W=function(S){var k;(k=e.onDayMouseLeave)===null||k===void 0||k.call(e,t,r,S)},I=function(S){var k;(k=e.onDayPointerEnter)===null||k===void 0||k.call(e,t,r,S)},R=function(S){var k;(k=e.onDayPointerLeave)===null||k===void 0||k.call(e,t,r,S)},$=function(S){var k;(k=e.onDayTouchCancel)===null||k===void 0||k.call(e,t,r,S)},K=function(S){var k;(k=e.onDayTouchEnd)===null||k===void 0||k.call(e,t,r,S)},H=function(S){var k;(k=e.onDayTouchMove)===null||k===void 0||k.call(e,t,r,S)},M=function(S){var k;(k=e.onDayTouchStart)===null||k===void 0||k.call(e,t,r,S)},F=function(S){var k;(k=e.onDayKeyUp)===null||k===void 0||k.call(e,t,r,S)},C=function(S){var k;switch(S.key){case"ArrowLeft":S.preventDefault(),S.stopPropagation(),e.dir==="rtl"?c():u();break;case"ArrowRight":S.preventDefault(),S.stopPropagation(),e.dir==="rtl"?u():c();break;case"ArrowDown":S.preventDefault(),S.stopPropagation(),o();break;case"ArrowUp":S.preventDefault(),S.stopPropagation(),d();break;case"PageUp":S.preventDefault(),S.stopPropagation(),S.shiftKey?y():h();break;case"PageDown":S.preventDefault(),S.stopPropagation(),S.shiftKey?m():g();break;case"Home":S.preventDefault(),S.stopPropagation(),v();break;case"End":S.preventDefault(),S.stopPropagation(),x();break}(k=e.onDayKeyDown)===null||k===void 0||k.call(e,t,r,S)},_={onClick:j,onFocus:T,onBlur:E,onKeyDown:C,onKeyUp:F,onMouseEnter:B,onMouseLeave:W,onPointerEnter:I,onPointerLeave:R,onTouchCancel:$,onTouchEnd:K,onTouchMove:H,onTouchStart:M};return _}function coe(){var t=Sn(),r=lI(),e=I4(),n=F4(),s=$b(t)?r.selected:Gm(t)?e.selected:Xm(t)?n.selected:void 0;return s}function uoe(t){return Object.values(xo).includes(t)}function doe(t,r){var e=[t.classNames.day];return Object.keys(r).forEach(function(n){var s=t.modifiersClassNames[n];if(s)e.push(s);else if(uoe(n)){var a=t.classNames["day_".concat(n)];a&&e.push(a)}}),e}function foe(t,r){var e=mr({},t.styles.day);return Object.keys(r).forEach(function(n){var s;e=mr(mr({},e),(s=t.modifiersStyles)===null||s===void 0?void 0:s[n])}),e}function hoe(t,r,e){var n,s,a,i=Sn(),c=B4(),u=aoe(t,r),o=loe(t,u),d=coe(),p=!!(i.onDayClick||i.mode!=="default");P.useEffect(function(){var B;u.outside||c.focusedDay&&p&&fa(c.focusedDay,t)&&((B=e.current)===null||B===void 0||B.focus())},[c.focusedDay,t,e,p,u.outside]);var f=doe(i,u).join(" "),h=foe(i,u),g=!!(u.outside&&!i.showOutsideDays||u.hidden),y=(a=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:Die,m=l.jsx(y,{date:t,displayMonth:r,activeModifiers:u}),v={style:h,className:f,children:m,role:"gridcell"},x=c.focusTarget&&fa(c.focusTarget,t)&&!u.outside,j=c.focusedDay&&fa(c.focusedDay,t),T=mr(mr(mr({},v),(n={disabled:u.disabled,role:"gridcell"},n["aria-selected"]=u.selected,n.tabIndex=j||x?0:-1,n)),o),E={isButton:p,isHidden:g,activeModifiers:u,selectedDays:d,buttonProps:T,divProps:v};return E}function poe(t){var r=P.useRef(null),e=hoe(t.date,t.displayMonth,r);return e.isHidden?l.jsx("div",{role:"gridcell"}):e.isButton?l.jsx(jy,mr({name:"day",ref:r},e.buttonProps)):l.jsx("div",mr({},e.divProps))}function moe(t){var r=t.number,e=t.dates,n=Sn(),s=n.onWeekNumberClick,a=n.styles,i=n.classNames,c=n.locale,u=n.labels.labelWeekNumber,o=n.formatters.formatWeekNumber,d=o(Number(r),{locale:c});if(!s)return l.jsx("span",{className:i.weeknumber,style:a.weeknumber,children:d});var p=u(Number(r),{locale:c}),f=function(h){s(r,e,h)};return l.jsx(jy,{name:"week-number","aria-label":p,className:i.weeknumber,style:a.weeknumber,onClick:f,children:d})}function goe(t){var r,e,n=Sn(),s=n.styles,a=n.classNames,i=n.showWeekNumber,c=n.components,u=(r=c?.Day)!==null&&r!==void 0?r:poe,o=(e=c?.WeekNumber)!==null&&e!==void 0?e:moe,d;return i&&(d=l.jsx("td",{className:a.cell,style:s.cell,children:l.jsx(o,{number:t.weekNumber,dates:t.dates})})),l.jsxs("tr",{className:a.row,style:s.row,children:[d,t.dates.map(function(p){return l.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:l.jsx(u,{displayMonth:t.displayMonth,date:p})},kse(p))})]})}function VS(t,r,e){for(var n=e?.ISOWeek?WD(r):P4(r,e),s=e?.ISOWeek?nd(t):Vi(t,e),a=zo(n,s),i=[],c=0;c<=a;c++)i.push(Ta(s,c));var u=i.reduce(function(o,d){var p=e?.ISOWeek?qD(d):KD(d,e),f=o.find(function(h){return h.weekNumber===p});return f?(f.dates.push(d),o):(o.push({weekNumber:p,dates:[d]}),o)},[]);return u}function yoe(t,r){var e=VS(Za(t),Lb(t),r);if(r?.useFixedWeeks){var n=Sse(t,r);if(n<6){var s=e[e.length-1],a=s.dates[s.dates.length-1],i=c2(a,6-n),c=VS(c2(a,1),i,r);e.push.apply(e,c)}}return e}function boe(t){var r,e,n,s=Sn(),a=s.locale,i=s.classNames,c=s.styles,u=s.hideHead,o=s.fixedWeeks,d=s.components,p=s.weekStartsOn,f=s.firstWeekContainsDate,h=s.ISOWeek,g=yoe(t.displayMonth,{useFixedWeeks:!!o,ISOWeek:h,locale:a,weekStartsOn:p,firstWeekContainsDate:f}),y=(r=d?.Head)!==null&&r!==void 0?r:Rie,m=(e=d?.Row)!==null&&e!==void 0?e:goe,v=(n=d?.Footer)!==null&&n!==void 0?n:Aie;return l.jsxs("table",{id:t.id,className:i.table,style:c.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&l.jsx(y,{}),l.jsx("tbody",{className:i.tbody,style:c.tbody,children:g.map(function(x){return l.jsx(m,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),l.jsx(v,{displayMonth:t.displayMonth})]})}function voe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var xoe=voe()?P.useLayoutEffect:P.useEffect,x1=!1,woe=0;function US(){return"react-day-picker-".concat(++woe)}function _oe(t){var r,e=t??(x1?US():null),n=P.useState(e),s=n[0],a=n[1];return xoe(function(){s===null&&a(US())},[]),P.useEffect(function(){x1===!1&&(x1=!0)},[]),(r=t??s)!==null&&r!==void 0?r:void 0}function koe(t){var r,e,n=Sn(),s=n.dir,a=n.classNames,i=n.styles,c=n.components,u=Qm().displayMonths,o=_oe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,p=[a.month],f=i.month,h=t.displayIndex===0,g=t.displayIndex===u.length-1,y=!h&&!g;s==="rtl"&&(r=[h,g],g=r[0],h=r[1]),h&&(p.push(a.caption_start),f=mr(mr({},f),i.caption_start)),g&&(p.push(a.caption_end),f=mr(mr({},f),i.caption_end)),y&&(p.push(a.caption_between),f=mr(mr({},f),i.caption_between));var m=(e=c?.Caption)!==null&&e!==void 0?e:Eie;return l.jsxs("div",{className:p.join(" "),style:f,children:[l.jsx(m,{id:o,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(boe,{id:d,"aria-labelledby":o,displayMonth:t.displayMonth})]},t.displayIndex)}function joe(t){var r=Sn(),e=r.classNames,n=r.styles;return l.jsx("div",{className:e.months,style:n.months,children:t.children})}function Soe(t){var r,e,n=t.initialProps,s=Sn(),a=B4(),i=Qm(),c=P.useState(!1),u=c[0],o=c[1];P.useEffect(function(){s.initialFocus&&a.focusTarget&&(u||(a.focus(a.focusTarget),o(!0)))},[s.initialFocus,u,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var p=mr(mr({},s.styles.root),s.style),f=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,y){var m;return mr(mr({},g),(m={},m[y]=n[y],m))},{}),h=(e=(r=n.components)===null||r===void 0?void 0:r.Months)!==null&&e!==void 0?e:joe;return l.jsx("div",mr({className:d.join(" "),style:p,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:l.jsx(h,{children:i.displayMonths.map(function(g,y){return l.jsx(koe,{displayIndex:y,displayMonth:g},y)})})}))}function Noe(t){var r=t.children,e=Qae(t,["children"]);return l.jsx(mie,{initialProps:e,children:l.jsx(Sie,{children:l.jsx(ioe,{initialProps:e,children:l.jsx(Iie,{initialProps:e,children:l.jsx(Lie,{initialProps:e,children:l.jsx(Hie,{children:l.jsx(soe,{children:r})})})})})})})}function Coe(t){return l.jsx(Noe,mr({},t,{children:l.jsx(Soe,{initialProps:t})}))}function z4({className:t,classNames:r,showOutsideDays:e=!0,locale:n,...s}){const a=n??Xs,i=a===Xs||s.dir==="rtl";return l.jsx("div",{dir:i?"rtl":"ltr",lang:i?"ar":"en",children:l.jsx(Coe,{showOutsideDays:e,locale:a,weekStartsOn:6,className:Pe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center mb-1",caption_label:"hidden",caption_dropdowns:"flex justify-center items-center gap-1",nav:"flex items-center gap-1",nav_button:Pe(Vp({variant:"ghost"}),"h-7 w-7 bg-transparent p-0 text-teal-700 hover:bg-teal-50 opacity-100"),nav_button_previous:i?"absolute right-1":"absolute left-1",nav_button_next:i?"absolute left-1":"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Pe(Vp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{Dropdown:({value:c,onChange:u,children:o,...d})=>{const p=P.Children.toArray(o),f=p.find(g=>g.props.value===c),h=g=>{u?.({target:{value:g}})};return l.jsxs(ga,{value:c?.toString(),onValueChange:g=>h(g),children:[l.jsx(Qs,{className:"h-7 pr-2 pl-2 border-none bg-transparent hover:bg-accent hover:text-accent-foreground focus:ring-0",children:l.jsx(ya,{children:f?.props?.children})}),l.jsx(Ys,{position:"popper",children:l.jsx(ru,{className:"h-80",children:p.map((g,y)=>l.jsx(zr,{value:g.props.value?.toString()??"",children:g.props.children},`${g.props.value}-${y}`))})})]})},IconLeft:({className:c,...u})=>i?l.jsx(Of,{className:Pe("h-4 w-4",c),...u}):l.jsx(Cw,{className:Pe("h-4 w-4",c),...u}),IconRight:({className:c,...u})=>i?l.jsx(Cw,{className:Pe("h-4 w-4",c),...u}):l.jsx(Of,{className:Pe("h-4 w-4",c),...u})},...s})})}z4.displayName="Calendar";function Toe(t){if(t)return new Date(t.getFullYear(),t.getMonth(),t.getDate(),12,0,0,0)}function w1({value:t,onChange:r,placeholder:e=" ",disabled:n=!1,className:s,showClearButton:a=!0,dateFormat:i="dd MMMM yyyy",minDate:c,maxDate:u}){const[o,d]=P.useState(!1),p=P.useCallback(g=>{if(!g)return;const y=Toe(g);r(y),setTimeout(()=>d(!1),10)},[r]),f=P.useCallback(g=>{g.preventDefault(),g.stopPropagation(),r(void 0)},[r]),h=P.useMemo(()=>{const g=[];return c&&g.push({before:c}),u&&g.push({after:u}),g.length>0?g:void 0},[c,u]);return l.jsxs(c4,{open:o,onOpenChange:d,modal:!1,children:[l.jsx(u4,{asChild:!0,children:l.jsxs(Oe,{variant:"outline",disabled:n,className:Pe("w-full justify-between text-right h-12 rounded-xl group bg-white dark:bg-gray-950 border-border/60 shadow-sm hover:border-primary transition-all relative",!t&&"text-muted-foreground",s),children:[l.jsxs("span",{className:"flex items-center gap-2 flex-1 text-right",children:[l.jsx(ma,{className:"h-4 w-4 opacity-50 shrink-0"}),l.jsx("span",{className:"truncate font-bold",children:t?Nr(t,i,{locale:Xs}):e})]}),a&&t&&l.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 h-8 w-8 flex items-center justify-center rounded-full hover:bg-destructive/10 text-muted-foreground hover:text-destructive transition-colors z-[100]",onClick:f,children:l.jsx(Es,{className:"h-4 w-4"})})]})}),l.jsx(Eb,{className:"w-auto p-0 pointer-events-auto overflow-visible shadow-2xl border-border/40 z-[1000]",align:"start",dir:"rtl",children:l.jsx(z4,{mode:"single",selected:t,onSelect:p,disabled:h,locale:Xs,dir:"rtl",initialFocus:!0})})]})}function Eoe({config:t,value:r,onChange:e}){const[n,s]=P.useState(t.options||[]),[a,i]=P.useState(!1);return P.useEffect(()=>{t.asyncOptions&&n.length===0&&(i(!0),t.asyncOptions().then(s).catch(console.error).finally(()=>i(!1)))},[t.asyncOptions]),l.jsxs(ga,{value:r,onValueChange:e,children:[l.jsx(Qs,{className:"h-9",children:l.jsx(ya,{placeholder:a?t.loadingText||" ...":t.placeholder})}),l.jsx(Ys,{className:"z-[10002]",position:"popper",children:n.map(c=>l.jsx(zr,{value:c.value,children:c.label},c.value))})]})}function V4({searchValue:t="",onSearchChange:r,searchPlaceholder:e="...",showSearch:n=!0,filters:s=[],filterValues:a={},onFilterChange:i,onReset:c,showResetButton:u=!0,className:o,compact:d=!1,showActiveFilters:p=!0}){const[f,h]=P.useState(!1),y=Object.entries(a).filter(([I,R])=>{const $=s.find(K=>K.key===I);return $?$.type==="date"?R instanceof Date:$.type==="date-range"?R?.from||R?.to:R&&R!=="all"&&R!==$?.defaultValue:!1}).map(([I,R])=>{const $=s.find(H=>H.key===I);let K="";return $?.type==="date"&&R instanceof Date?K=Nr(R,"yyyy/MM/dd",{locale:Xs}):$?.type==="date-range"?R?.from&&R?.to?K=`${Nr(R.from,"MM/dd")} - ${Nr(R.to,"MM/dd")}`:R?.from&&(K=` ${Nr(R.from,"MM/dd")}`):K=$?.options?.find(M=>M.value===R)?.label||R,{key:I,filterLabel:$?.label||I,valueLabel:K}}),m=y.length,v=t.length>0||m>0,x=P.useCallback(I=>{r?.(I.target.value)},[r]),j=P.useCallback((I,R)=>{i?.(I,R)},[i]),T=P.useCallback(()=>{c?.(),h(!1)},[c]),E=P.useCallback(()=>{r?.("")},[r]),B=P.useCallback(I=>{const R=s.find($=>$.key===I);R?.type==="date"||R?.type==="date-range"?i?.(I,void 0):i?.(I,R?.defaultValue||"all")},[s,i]),W=I=>{const R=a[I.key];switch(I.type){case"date":return l.jsx("div",{onClick:H=>H.stopPropagation(),className:"relative",children:l.jsx(w1,{value:R,onChange:H=>j(I.key,H),placeholder:I.placeholder,showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})});case"date-range":const $=R?.from instanceof Date?R.from:R?.from?new Date(R.from):void 0,K=R?.to instanceof Date?R.to:R?.to?new Date(R.to):void 0;return l.jsxs("div",{onClick:H=>H.stopPropagation(),className:"space-y-6",children:[l.jsxs("div",{className:"relative group",children:[l.jsx(Qe,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:" "}),l.jsx("div",{className:"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5",children:l.jsx(w1,{value:$,onChange:H=>j(I.key,{...R,from:H}),placeholder:" ",showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})})]}),l.jsxs("div",{className:"relative group",children:[l.jsx(Qe,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:" "}),l.jsx("div",{className:"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5",children:l.jsx(w1,{value:K,onChange:H=>j(I.key,{...R,to:H}),placeholder:" ",showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})})]})]});case"async-select":return l.jsx("div",{onClick:H=>H.stopPropagation(),children:l.jsx(Eoe,{config:I,value:R||I.defaultValue||"all",onChange:H=>j(I.key,H)})});default:return l.jsx("div",{onClick:H=>H.stopPropagation(),children:l.jsxs(ga,{value:String(R||I.defaultValue||"all"),onValueChange:H=>j(I.key,H),children:[l.jsx(Qs,{className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium",children:l.jsx(ya,{placeholder:I.placeholder||` ${I.label}`})}),l.jsx(Ys,{className:"rounded-2xl shadow-2xl border-2 z-[10002]",position:"popper",children:I.options?.map(H=>l.jsx(zr,{value:String(H.value),className:"rounded-xl my-1 py-3 text-right",children:H.label},H.value))})]})})}};return l.jsxs("div",{className:Pe("space-y-2",o),children:[l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-card border border-border/50 rounded-lg shadow-sm",children:[n&&l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Bl,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(gt,{placeholder:e,value:t,onChange:x,className:"pr-10 pl-8 h-9 bg-background"}),t&&l.jsx(Oe,{variant:"ghost",size:"sm",onClick:E,className:"absolute left-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",children:l.jsx(Es,{className:"h-3 w-3"})})]}),s.length>0&&l.jsxs(Fb,{open:f,onOpenChange:h,children:[l.jsx(C4,{asChild:!0,children:l.jsxs(Oe,{variant:"outline",size:"sm",className:Pe("h-9 gap-1.5 px-3 relative",m>0&&"border-primary text-primary"),"data-testid":"button-open-filters",children:[l.jsx($j,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:""}),m>0&&l.jsx(Zr,{variant:"default",className:"h-5 w-5 p-0 flex items-center justify-center text-xs rounded-full absolute -top-1.5 -left-1.5",children:m})]})}),l.jsx(qm,{side:"bottom",className:"h-[85vh] sm:h-[80vh] sm:max-w-2xl rounded-t-[2.5rem] p-0 overflow-y-auto border-t-0 bg-white dark:bg-gray-950 shadow-[0_-20px_50px_-12px_rgba(0,0,0,0.1)] z-[10001]",dir:"rtl",onPointerDownOutside:I=>{const R=I.target;(R.closest(".rdp")||R.closest('[role="listbox"]')||R.closest(".relative"))&&I.preventDefault()},onInteractOutside:I=>{const R=I.target;(R.closest(".rdp")||R.closest('[role="listbox"]'))&&I.preventDefault()},children:l.jsxs("div",{className:"flex flex-col h-full relative p-6 pb-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8 flex-shrink-0",children:[l.jsx(FD,{asChild:!0,children:l.jsx(Oe,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 hover:bg-muted transition-all",children:l.jsx(Es,{className:"h-5 w-5"})})}),l.jsx(Hm,{className:"text-xl font-bold text-center flex-1 mr-8",children:" "}),l.jsx("div",{className:"h-1.5 w-12 bg-slate-200 dark:bg-slate-800 rounded-full"})]}),l.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto custom-scrollbar px-1 pb-32 pt-2",children:[l.jsx("div",{className:"space-y-10 max-w-xl mx-auto",children:s.map(I=>l.jsxs("div",{className:Pe("relative group",I.type==="date-range"?"pt-2":""),children:[I.type!=="date-range"&&l.jsx(Qe,{htmlFor:I.key,className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:I.label}),l.jsx("div",{className:Pe(I.type!=="date-range"&&"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5"),children:W(I)})]},I.key))}),s.length===0&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[l.jsx($j,{className:"w-12 h-12 mb-4 opacity-20"}),l.jsx("p",{children:"    "})]})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent dark:from-gray-950 dark:via-gray-950/95 z-50",children:l.jsx("div",{className:"max-w-xl mx-auto",children:l.jsx(Oe,{className:"w-full h-14 text-lg font-bold rounded-2xl shadow-xl shadow-red-500/20 bg-[#e31e33] hover:bg-[#c41a2c] text-white transition-all active:scale-[0.98]",onClick:()=>h(!1),children:""})})})]})})]}),u&&v&&l.jsx(Oe,{variant:"ghost",size:"sm",onClick:T,className:"h-9 w-9 p-0 text-muted-foreground hover:text-destructive",title:" ",children:l.jsx(eb,{className:"h-4 w-4"})})]}),p&&(y.length>0||t)&&l.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:" :"}),t&&l.jsxs(Zr,{variant:"secondary",className:"gap-1 px-2 py-0.5 text-xs cursor-pointer hover:bg-destructive/20",onClick:E,children:[': "',t.length>15?t.substring(0,15)+"...":t,'"',l.jsx(Es,{className:"h-3 w-3"})]}),y.map(I=>l.jsxs(Zr,{variant:"secondary",className:"gap-1 px-2 py-0.5 text-xs cursor-pointer hover:bg-destructive/20",onClick:()=>B(I.key),children:[I.filterLabel,": ",I.valueLabel,l.jsx(Es,{className:"h-3 w-3"})]},I.key)),(y.length>1||y.length>0&&t)&&l.jsx(Oe,{variant:"ghost",size:"sm",onClick:T,className:"h-6 px-2 text-xs text-destructive hover:text-destructive",children:" "})]})]})}function zb(t,r=""){const[e,n]=P.useState(r),[s,a]=P.useState(t),i=P.useCallback(o=>{n(o)},[]),c=P.useCallback((o,d)=>{a(p=>({...p,[o]:d}))},[]),u=P.useCallback(()=>{n(""),a(t)},[t]);return{searchValue:e,filterValues:s,setSearchValue:i,setFilterValue:c,reset:u,onSearchChange:i,onFilterChange:c,onReset:u}}function dh(t={}){const{projectId:r,date:e,dateFrom:n,dateTo:s,enabled:a=!0}=t,i=r&&r!=="all"?["/api/financial-summary",r,e,n,s]:["/api/financial-summary","all",e,n,s],{data:c,isLoading:u,error:o,refetch:d}=Pt({queryKey:i,queryFn:async()=>{try{let g="/api/financial-summary";const y=new URLSearchParams;r&&r!=="all"&&y.append("projectId",r),e&&y.append("date",e),n&&y.append("dateFrom",n),s&&y.append("dateTo",s),y.toString()&&(g+=`?${y.toString()}`);const m=await qe(g,"GET");return m?.success&&m?.data?m.data:null}catch(g){throw console.error(" [useFinancialSummary]     :",g),g}},enabled:a,staleTime:1e3*30,gcTime:1e3*60*2,refetchOnWindowFocus:!0,refetchOnMount:"always"});if((!r||r==="all")&&c){const g=c,y=g.totals||{totalIncome:0,totalCashExpenses:0,totalAllExpenses:0,cashBalance:0,totalBalance:0,totalWorkers:0,activeWorkers:0,materialExpensesCredit:0,carriedForwardBalance:0},m=g.projects?.reduce((v,x)=>({totalWorkerWages:v.totalWorkerWages+(x.expenses?.workerWages||0),totalTransportation:v.totalTransportation+(x.expenses?.transportExpenses||0),totalMaterialCosts:v.totalMaterialCosts+(x.expenses?.materialExpenses||0),totalWorkerTransfers:v.totalWorkerTransfers+(x.expenses?.workerTransfers||0),totalMiscExpenses:v.totalMiscExpenses+(x.expenses?.miscExpenses||0),totalFundTransfers:v.totalFundTransfers+(x.income?.fundTransfers||0),incomingProjectTransfers:v.incomingProjectTransfers+(x.income?.incomingProjectTransfers||0),outgoingProjectTransfers:v.outgoingProjectTransfers+(x.expenses?.outgoingProjectTransfers||0)}),{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0})||{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0};return{summary:null,allProjects:g,totals:{...y,...m,totalExpenses:y.totalAllExpenses||0,currentBalance:y.totalBalance||0,remainingBalance:y.totalBalance||0},isLoading:u,error:o,refetch:d}}const f=c,h=f&&f.income&&f.expenses&&f.workers;return{summary:f,allProjects:null,totals:h?{totalIncome:f.income?.totalIncome??0,totalCashExpenses:f.expenses?.totalCashExpenses??0,totalAllExpenses:f.expenses?.totalAllExpenses??0,totalExpenses:f.expenses?.totalCashExpenses??0,cashBalance:f.cashBalance??0,totalBalance:f.totalBalance??0,currentBalance:f.totalBalance??0,totalWorkers:f.workers?.totalWorkers??0,activeWorkers:f.workers?.activeWorkers??0,materialExpensesCredit:f.expenses?.materialExpensesCredit??0,carriedForwardBalance:f.income?.carriedForwardBalance??0,totalWorkerWages:f.expenses?.workerWages??0,totalTransportation:f.expenses?.transportExpenses??0,totalMaterialCosts:f.expenses?.materialExpenses??0,totalWorkerTransfers:f.expenses?.workerTransfers??0,totalMiscExpenses:f.expenses?.miscExpenses??0,totalFundTransfers:f.income?.fundTransfers??0,incomingProjectTransfers:f.income?.incomingProjectTransfers??0,outgoingProjectTransfers:f.expenses?.outgoingProjectTransfers??0,remainingBalance:f.totalBalance??0}:{totalIncome:0,totalCashExpenses:0,totalAllExpenses:0,totalExpenses:0,cashBalance:0,totalBalance:0,currentBalance:0,totalWorkers:0,activeWorkers:0,materialExpensesCredit:0,carriedForwardBalance:0,totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0,remainingBalance:0},isLoading:u,error:o,refetch:d}}function Aoe(){Rs();const{selectedProjectId:t,selectProject:r}=ko(),[e,n]=P.useState(!1),[s,a]=P.useState(!1),[i,c]=P.useState({name:"",phone:"",type:"",dailyWage:""}),[u,o]=P.useState(!1),[d,p]=P.useState(""),[f,h]=P.useState({name:"",status:"active",description:"",projectTypeId:null}),g=xs(),{toast:y}=wn(),{searchValue:m,filterValues:v}=zb({status:"all"},""),{totals:x,isLoading:j}=dh({projectId:t||"all",enabled:!0}),T={staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1},{data:E=[],isLoading:B,error:W}=Pt({queryKey:["/api/projects/with-stats"],queryFn:async()=>{try{console.log(" [Dashboard]    ...");const O=await qe("/api/projects/with-stats","GET");let Z=[];return O&&typeof O=="object"&&(O.success!==void 0&&O.data!==void 0?Z=Array.isArray(O.data)?O.data:[]:Array.isArray(O)?Z=O:O.id?Z=[O]:O.data&&(Z=Array.isArray(O.data)?O.data:[])),Array.isArray(Z)||(Z=[]),console.log(` [Dashboard]   ${Z.length}   `),Z}catch(O){return console.error(" [Dashboard]    :",O),[]}},...T}),{data:I=[]}=Pt({queryKey:["/api/worker-types"],queryFn:async()=>{try{const O=await qe("/api/worker-types","GET");return O&&O.data&&Array.isArray(O.data)?O.data:Array.isArray(O)?O:[]}catch(O){return console.error("Error fetching worker types:",O),[]}}}),{data:R=[],isLoading:$}=Pt({queryKey:["/api/project-types"],queryFn:async()=>{try{const O=await qe("/api/project-types","GET");return O?.success&&Array.isArray(O.data)?O.data:[]}catch(O){return console.error(" [Dashboard]     :",O),[]}},staleTime:6e4}),K=$t({mutationFn:async O=>(await Promise.all([Q("workerNames",O.name),Q("workerTypes",O.type)]),qe("/api/workers","POST",O)),onSuccess:async()=>{await g.invalidateQueries({queryKey:["/api/workers"]}),await g.invalidateQueries({queryKey:["/api/projects/with-stats"]}),await g.invalidateQueries({queryKey:["/api/autocomplete"]}),y({title:" ",description:"   "}),n(!1),c({name:"",phone:"",type:"",dailyWage:""})},onError:O=>{y({title:"",description:"    ",variant:"destructive"})}}),H=$t({mutationFn:async O=>(await Promise.all([Q("projectNames",O.name),Q("projectDescriptions",O.description)]),qe("/api/projects","POST",O)),onSuccess:async()=>{await g.invalidateQueries({queryKey:["/api/projects"]}),await g.invalidateQueries({queryKey:["/api/projects/with-stats"]}),await g.invalidateQueries({queryKey:["/api/autocomplete"]}),y({title:" ",description:"   "}),a(!1),h({name:"",status:"active",description:"",projectTypeId:null})},onError:O=>{y({title:"",description:"    ",variant:"destructive"})}}),M=$t({mutationFn:async O=>(await Q("workerTypes",O.name),qe("/api/worker-types","POST",O)),onSuccess:async O=>{await g.invalidateQueries({queryKey:["/api/worker-types"]}),await g.invalidateQueries({queryKey:["/api/autocomplete"]}),y({title:" ",description:"    "}),c({...i,type:O.name}),p(""),o(!1)},onError:O=>{y({title:"",description:"     ",variant:"destructive"})}}),{data:F}=Pt({queryKey:["/api/projects",t,"daily-summary",new Date().toISOString().split("T")[0]],enabled:!!t,staleTime:1e3*30}),{data:C=[]}=Pt({queryKey:["/api/recent-activities",t],queryFn:async()=>{try{const O=t?`?projectId=${t}`:"";return(await qe(`/api/recent-activities${O}`,"GET"))?.data||[]}catch(O){return console.error("    :",O),[]}},staleTime:1e3*10,refetchInterval:3e4}),{data:_,isLoading:S}=Pt({queryKey:["/api/health/stats"],queryFn:async()=>{try{return(await qe("/api/health/stats","GET"))?.data||{cpuUsage:0,memoryUsage:0,activeRequests:0,errorRate:0,uptime:0}}catch(O){return console.error(" [Dashboard]     :",O),null}},refetchInterval:15e3}),k=Array.isArray(E)?E.find(O=>O.id===t):void 0,N=P.useMemo(()=>Array.isArray(E)?E.filter(O=>{const Z=!m||(O.name||"").toLowerCase().includes(m.toLowerCase()),U=v.status==="all"||(O.status||"active")===v.status;return Z&&U}):[],[E,m,v.status]),D=O=>{switch(O){case"active":return{label:"",variant:"success"};case"completed":return{label:"",variant:"default"};case"paused":return{label:"",variant:"warning"};default:return{label:O,variant:"secondary"}}},L=O=>{switch(O){case"active":return"#22c55e";case"completed":return"#3b82f6";case"paused":return"#f59e0b";default:return"#6b7280"}},V=O=>{if(typeof O!="number"){const Z=parseFloat(String(O));if(isNaN(Z))return"0 .";O=Z}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(O)+" ."},Q=P.useCallback(async(O,Z)=>{if(!(!Z||Z.trim().length<2))try{await qe("/api/autocomplete","POST",{category:O,value:Z.trim()})}catch(U){console.warn(`[Dashboard] Failed to save autocomplete: ${O}`,U)}},[]),Y=P.useMemo(()=>{if(!x)return{totalIncome:0,totalExpenses:0,currentBalance:0,activeWorkers:"0",completedDays:"0",materialPurchases:"0 .",transportExpenses:0};const O=x.totalIncome||0,Z=x.totalAllExpenses||0;return{totalIncome:O,totalExpenses:Z,currentBalance:x.totalBalance||O-Z,activeWorkers:String(x.totalWorkers||0),completedDays:String(x.completedDays||0),materialPurchases:V(x.totalAllExpenses||0),transportExpenses:x.transportExpenses||0}},[x]),re=P.useCallback(O=>E.find(U=>U.id===O)?.stats||{totalIncome:0,totalExpenses:0,currentBalance:0,activeWorkers:0},[E]);return B?l.jsx(Ete,{}):l.jsxs("div",{className:"p-4 fade-in space-y-4",children:[l.jsxs("div",{className:"mb-4",children:[_&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(pi,{className:"h-4 w-4 text-blue-500"}),l.jsx("span",{children:"   (SigNoz)"})]}),l.jsx(Wp,{stats:[{title:" ",value:`${_.cpuUsage}%`,icon:pi,color:_.cpuUsage>80?"red":"blue",status:_.cpuUsage>80?"critical":"normal"},{title:" ",value:`${_.memoryUsage}%`,icon:jn,color:_.memoryUsage>85?"orange":"teal",status:_.memoryUsage>85?"warning":"normal"},{title:" ",value:_.activeRequests,icon:Ap,color:"purple"},{title:" ",value:`${_.errorRate}%`,icon:pa,color:_.errorRate>5?"red":"green",status:_.errorRate>5?"critical":"normal"}],columns:4,hideHeader:!0})]}),k&&l.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(bs,{className:"h-4 w-4"}),l.jsxs("span",{children:[": ",l.jsx("strong",{className:"text-foreground",children:k.name})]})]}),!k&&E.length>0&&l.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(bs,{className:"h-4 w-4"}),l.jsxs("span",{children:["   (",E.length," )"]})]}),l.jsx(Wp,{stats:[{title:" ",value:Y.totalIncome,icon:Pn,color:"blue",formatter:V},{title:" ",value:Y.totalExpenses,icon:pa,color:"red",formatter:V},{title:" ",value:Y.currentBalance,icon:Sr,color:"green",formatter:V},{title:" ",value:Y.activeWorkers,icon:Sm,color:"purple"},{title:"  ",value:Y.completedDays,icon:ma,color:"teal"},{title:" ",value:Y.materialPurchases,icon:jn,color:"indigo"},{title:"",value:Y.transportExpenses,icon:Hs,color:"orange",formatter:V}],columns:3,hideHeader:!0})]}),l.jsx(pte,{onAddWorker:()=>n(!0),onAddProject:()=>a(!0)}),N.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2",children:[l.jsx(bs,{className:"h-5 w-5 text-primary"})," (",N.length,")"]})}),l.jsx(Ps,{columns:2,children:N.map(O=>{const Z=O.id||"",U=O.name||"",z=O.status||"active",G=D(z),ae=Z===t,pe=re(Z),de=pe?.totalIncome||0,ge=pe?.totalExpenses||0,te=pe?.currentBalance||0,oe=pe?.activeWorkers||0;return l.jsx(vn,{title:U,titleIcon:bs,headerColor:L(z),badges:[G],className:ae?"ring-2 ring-primary ring-offset-2":"",fields:[{label:"",value:V(de),icon:Pn,color:"info"},{label:"",value:V(ge),icon:pa,color:"danger"},{label:"",value:V(te),icon:Sr,color:"success",emphasis:!0},{label:"",value:String(oe),icon:On,color:"default"}],actions:[{icon:ae?Fl:Bc,label:ae?"":"",onClick:()=>r(Z),color:ae?"green":"blue"}],onClick:()=>r(Z),compact:!0},Z)})})]}),C.length>0&&l.jsx(OR,{activities:C,formatCurrency:V}),l.jsx(Ks,{open:e,onOpenChange:n,children:l.jsxs(As,{className:"max-w-lg",children:[l.jsxs(Gs,{children:[l.jsx(da,{children:"  "}),l.jsx(Pc,{children:"      "})]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Qe,{htmlFor:"worker-name",children:" "}),l.jsx(gt,{id:"worker-name",value:i.name,onChange:O=>c({...i,name:O.target.value}),placeholder:"  "})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Qe,{htmlFor:"worker-phone",children:" "}),l.jsx(gt,{id:"worker-phone",value:i.phone,onChange:O=>c({...i,phone:O.target.value}),placeholder:"  "})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Qe,{htmlFor:"worker-wage",children:"  (.)"}),l.jsx(gt,{id:"worker-wage",type:"number",inputMode:"decimal",value:i.dailyWage,onChange:O=>c({...i,dailyWage:O.target.value}),placeholder:"0",className:"text-center",required:!0})]}),l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Qe,{htmlFor:"worker-type",children:" "}),l.jsx("div",{className:"flex gap-2",children:l.jsx(ts,{value:i.type||"",onValueChange:O=>c({...i,type:O}),options:Array.isArray(I)&&I.length>0?I.map(O=>({value:O.value,label:O.value})):[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],placeholder:"  ...",searchPlaceholder:"  ...",emptyText:"  ",className:"flex-1"})})]}),l.jsx(Ks,{open:u,onOpenChange:o,children:l.jsxs(As,{className:"sm:max-w-md",children:[l.jsxs(Gs,{children:[l.jsx(da,{children:"   "}),l.jsx(Pc,{children:"         "})]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Qe,{htmlFor:"new-type-name",children:"  "}),l.jsx(gt,{id:"new-type-name",type:"text",value:d,onChange:O=>p(O.target.value),placeholder:":   ...",required:!0})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx(Oe,{type:"button",onClick:O=>{O.preventDefault(),d.trim()&&M.mutate({name:d.trim()})},disabled:!d.trim()||M.isPending,children:M.isPending?" ...":""}),l.jsx(Oe,{type:"button",variant:"outline",onClick:()=>{o(!1),p("")},children:""})]})]})]})}),l.jsxs("div",{className:"form-actions",children:[l.jsx(Oe,{onClick:()=>{if(!i.name.trim()||!i.type||!i.dailyWage){y({title:"",description:"    ",variant:"destructive"});return}const O=parseFloat(i.dailyWage);if(isNaN(O)||O<=0){y({title:"",description:"     ",variant:"destructive"});return}K.mutate({name:i.name.trim(),phone:i.phone||null,type:i.type,dailyWage:O.toString(),isActive:!0})},disabled:K.isPending,className:"gap-2",children:K.isPending?"  ...":" "}),l.jsx(Oe,{variant:"outline",onClick:()=>n(!1),children:""})]}),l.jsxs(Oe,{type:"button",variant:"outline",size:"sm",onClick:()=>o(!0),className:"w-full gap-2 mt-2",children:[l.jsx(cs,{className:"h-4 w-4"}),"   "]})]})]})}),l.jsx(Ks,{open:s,onOpenChange:a,children:l.jsxs(As,{className:"max-w-lg",children:[l.jsxs(Gs,{children:[l.jsx(da,{children:"  "}),l.jsx(Pc,{children:"      "})]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Qe,{htmlFor:"project-name",children:" "}),l.jsx(gt,{id:"project-name",value:f.name,onChange:O=>h({...f,name:O.target.value}),placeholder:"  "})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Qe,{htmlFor:"project-type",children:" "}),l.jsx(a2,{value:f.projectTypeId?.toString()||"",onValueChange:O=>h({...f,projectTypeId:O?parseInt(O):null}),projectTypes:R,placeholder:$?" ...":"  ...",disabled:$})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Qe,{htmlFor:"project-status",children:" "}),l.jsxs(ga,{value:f.status,onValueChange:O=>h({...f,status:O}),children:[l.jsx(Qs,{children:l.jsx(ya,{})}),l.jsxs(Ys,{children:[l.jsx(zr,{value:"active",children:""}),l.jsx(zr,{value:"completed",children:""}),l.jsx(zr,{value:"paused",children:""})]})]})]}),l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Qe,{htmlFor:"project-description",children:" "}),l.jsx(gt,{id:"project-description",value:f.description,onChange:O=>h({...f,description:O.target.value}),placeholder:"   ()"})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx(Oe,{onClick:()=>{f.name&&H.mutate({name:f.name,status:f.status,description:f.description||null,projectTypeId:f.projectTypeId})},disabled:!f.name||H.isPending,children:H.isPending?" ...":""}),l.jsx(Oe,{variant:"outline",onClick:()=>a(!1),children:""})]})]})]})})]})}var Ym=t=>t.type==="checkbox",Au=t=>t instanceof Date,Ka=t=>t==null;const cI=t=>typeof t=="object";var ds=t=>!Ka(t)&&!Array.isArray(t)&&cI(t)&&!Au(t),uI=t=>ds(t)&&t.target?Ym(t.target)?t.target.checked:t.target.value:t,Poe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,dI=(t,r)=>t.has(Poe(r)),Moe=t=>{const r=t.constructor&&t.constructor.prototype;return ds(r)&&r.hasOwnProperty("isPrototypeOf")},U4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function os(t){if(t instanceof Date)return new Date(t);const r=typeof FileList<"u"&&t instanceof FileList;if(U4&&(t instanceof Blob||r))return t;const e=Array.isArray(t);if(!e&&!(ds(t)&&Moe(t)))return t;const n=e?[]:Object.create(Object.getPrototypeOf(t));for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=os(t[s]));return n}var Vb=t=>/^\w*$/.test(t),In=t=>t===void 0,W4=t=>Array.isArray(t)?t.filter(Boolean):[],q4=t=>W4(t.replace(/["|']|\]/g,"").split(/\.|\[/)),wt=(t,r,e)=>{if(!r||!ds(t))return e;const n=(Vb(r)?[r]:q4(r)).reduce((s,a)=>Ka(s)?s:s[a],t);return In(n)||n===t?In(t[r])?e:t[r]:n},ii=t=>typeof t=="boolean",Pa=t=>typeof t=="function",hn=(t,r,e)=>{let n=-1;const s=Vb(r)?[r]:q4(r),a=s.length,i=a-1;for(;++n<a;){const c=s[n];let u=e;if(n!==i){const o=t[c];u=ds(o)||Array.isArray(o)?o:isNaN(+s[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=u,t=t[c]}};const Sy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},co={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},H4=tr.createContext(null);H4.displayName="HookFormControlContext";const K4=()=>tr.useContext(H4);var fI=(t,r,e,n=!0)=>{const s={defaultValues:r._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const i=a;return r._proxyFormState[i]!==co.all&&(r._proxyFormState[i]=!n||co.all),e&&(e[i]=!0),t[i]}});return s};const G4=typeof window<"u"?tr.useLayoutEffect:tr.useEffect;function Roe(t){const r=K4(),{control:e=r,disabled:n,name:s,exact:a}=t||{},[i,c]=tr.useState(e._formState),u=tr.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return G4(()=>e._subscribe({name:s,formState:u.current,exact:a,callback:o=>{!n&&c({...e._formState,...o})}}),[s,n,a]),tr.useEffect(()=>{u.current.isValid&&e._setValid(!0)},[e]),tr.useMemo(()=>fI(i,e,u.current,!1),[i,e])}var ci=t=>typeof t=="string",f2=(t,r,e,n,s)=>ci(t)?(n&&r.watch.add(t),wt(e,t,s)):Array.isArray(t)?t.map(a=>(n&&r.watch.add(a),wt(e,a))):(n&&(r.watchAll=!0),e),h2=t=>Ka(t)||!cI(t);function uo(t,r,e=new WeakSet){if(h2(t)||h2(r))return Object.is(t,r);if(Au(t)&&Au(r))return Object.is(t.getTime(),r.getTime());const n=Object.keys(t),s=Object.keys(r);if(n.length!==s.length)return!1;if(e.has(t)||e.has(r))return!0;e.add(t),e.add(r);for(const a of n){const i=t[a];if(!s.includes(a))return!1;if(a!=="ref"){const c=r[a];if(Au(i)&&Au(c)||ds(i)&&ds(c)||Array.isArray(i)&&Array.isArray(c)?!uo(i,c,e):!Object.is(i,c))return!1}}return!0}function Doe(t){const r=K4(),{control:e=r,name:n,defaultValue:s,disabled:a,exact:i,compute:c}=t||{},u=tr.useRef(s),o=tr.useRef(c),d=tr.useRef(void 0),p=tr.useRef(e),f=tr.useRef(n);o.current=c;const[h,g]=tr.useState(()=>{const T=e._getWatch(n,u.current);return o.current?o.current(T):T}),y=tr.useCallback(T=>{const E=f2(n,e._names,T||e._formValues,!1,u.current);return o.current?o.current(E):E},[e._formValues,e._names,n]),m=tr.useCallback(T=>{if(!a){const E=f2(n,e._names,T||e._formValues,!1,u.current);if(o.current){const B=o.current(E);uo(B,d.current)||(g(B),d.current=B)}else g(E)}},[e._formValues,e._names,a,n]);G4(()=>((p.current!==e||!uo(f.current,n))&&(p.current=e,f.current=n,m()),e._subscribe({name:n,formState:{values:!0},exact:i,callback:T=>{m(T.values)}})),[e,i,n,m]),tr.useEffect(()=>e._removeUnmounted());const v=p.current!==e,x=f.current,j=tr.useMemo(()=>{if(a)return null;const T=!v&&!uo(x,n);return v||T?y():null},[a,v,n,x,y]);return j!==null?j:h}function Ioe(t){const r=K4(),{name:e,disabled:n,control:s=r,shouldUnregister:a,defaultValue:i,exact:c=!0}=t,u=dI(s._names.array,e),o=tr.useMemo(()=>wt(s._formValues,e,wt(s._defaultValues,e,i)),[s,e,i]),d=Doe({control:s,name:e,defaultValue:o,exact:c}),p=Roe({control:s,name:e,exact:c}),f=tr.useRef(t),h=tr.useRef(void 0),g=tr.useRef(s.register(e,{...t.rules,value:d,...ii(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=tr.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!wt(p.errors,e)},isDirty:{enumerable:!0,get:()=>!!wt(p.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!wt(p.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!wt(p.validatingFields,e)},error:{enumerable:!0,get:()=>wt(p.errors,e)}}),[p,e]),m=tr.useCallback(T=>g.current.onChange({target:{value:uI(T),name:e},type:Sy.CHANGE}),[e]),v=tr.useCallback(()=>g.current.onBlur({target:{value:wt(s._formValues,e),name:e},type:Sy.BLUR}),[e,s._formValues]),x=tr.useCallback(T=>{const E=wt(s._fields,e);E&&E._f&&T&&(E._f.ref={focus:()=>Pa(T.focus)&&T.focus(),select:()=>Pa(T.select)&&T.select(),setCustomValidity:B=>Pa(T.setCustomValidity)&&T.setCustomValidity(B),reportValidity:()=>Pa(T.reportValidity)&&T.reportValidity()})},[s._fields,e]),j=tr.useMemo(()=>({name:e,value:d,...ii(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:m,onBlur:v,ref:x}),[e,n,p.disabled,m,v,x,d]);return tr.useEffect(()=>{const T=s._options.shouldUnregister||a,E=h.current;E&&E!==e&&!u&&s.unregister(E),s.register(e,{...f.current.rules,...ii(f.current.disabled)?{disabled:f.current.disabled}:{}});const B=(W,I)=>{const R=wt(s._fields,W);R&&R._f&&(R._f.mount=I)};if(B(e,!0),T){const W=os(wt(s._options.defaultValues,e,f.current.defaultValue));hn(s._defaultValues,e,W),In(wt(s._formValues,e))&&hn(s._formValues,e,W)}return!u&&s.register(e),h.current=e,()=>{(u?T&&!s._state.action:T)?s.unregister(e):B(e,!1)}},[e,s,u,a]),tr.useEffect(()=>{s._setDisabledField({disabled:n,name:e})},[n,e,s]),tr.useMemo(()=>({field:j,formState:p,fieldState:y}),[j,p,y])}const hI=t=>t.render(Ioe(t)),X4=tr.createContext(null);X4.displayName="HookFormContext";const Ooe=()=>tr.useContext(X4),Foe=t=>{const{children:r,watch:e,getValues:n,getFieldState:s,setError:a,clearErrors:i,setValue:c,trigger:u,formState:o,resetField:d,reset:p,handleSubmit:f,unregister:h,control:g,register:y,setFocus:m,subscribe:v}=t;return tr.createElement(X4.Provider,{value:tr.useMemo(()=>({watch:e,getValues:n,getFieldState:s,setError:a,clearErrors:i,setValue:c,trigger:u,formState:o,resetField:d,reset:p,handleSubmit:f,unregister:h,control:g,register:y,setFocus:m,subscribe:v}),[i,g,o,s,n,f,y,p,d,a,m,c,v,u,h,e])},tr.createElement(H4.Provider,{value:g},r))};var pI=(t,r,e,n,s)=>r?{...e[t],types:{...e[t]&&e[t].types?e[t].types:{},[n]:s||!0}}:{},_p=t=>Array.isArray(t)?t:[t],WS=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}};function mI(t,r){const e={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],a=r[n];if(s&&ds(s)&&a){const i=mI(s,a);ds(i)&&(e[n]=i)}else t[n]&&(e[n]=a)}return e}var Na=t=>ds(t)&&!Object.keys(t).length,Q4=t=>t.type==="file",Ny=t=>{if(!U4)return!1;const r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},gI=t=>t.type==="select-multiple",Y4=t=>t.type==="radio",Loe=t=>Y4(t)||Ym(t),_1=t=>Ny(t)&&t.isConnected;function Boe(t,r){const e=r.slice(0,-1).length;let n=0;for(;n<e;)t=In(t)?n++:t[r[n++]];return t}function $oe(t){for(const r in t)if(t.hasOwnProperty(r)&&!In(t[r]))return!1;return!0}function ls(t,r){const e=Array.isArray(r)?r:Vb(r)?[r]:q4(r),n=e.length===1?t:Boe(t,e),s=e.length-1,a=e[s];return n&&delete n[a],s!==0&&(ds(n)&&Na(n)||Array.isArray(n)&&$oe(n))&&ls(t,e.slice(0,-1)),t}var zoe=t=>{for(const r in t)if(Pa(t[r]))return!0;return!1};function yI(t){return Array.isArray(t)||ds(t)&&!zoe(t)}function p2(t,r={}){for(const e in t){const n=t[e];yI(n)?(r[e]=Array.isArray(n)?[]:{},p2(n,r[e])):In(n)||(r[e]=!0)}return r}function rf(t,r,e){e||(e=p2(r));for(const n in t){const s=t[n];if(yI(s))In(r)||h2(e[n])?e[n]=p2(s,Array.isArray(s)?[]:{}):rf(s,Ka(r)?{}:r[n],e[n]);else{const a=r[n];e[n]=!uo(s,a)}}return e}const qS={value:!1,isValid:!1},HS={value:!0,isValid:!0};var bI=t=>{if(Array.isArray(t)){if(t.length>1){const r=t.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!In(t[0].attributes.value)?In(t[0].value)||t[0].value===""?HS:{value:t[0].value,isValid:!0}:HS:qS}return qS},vI=(t,{valueAsNumber:r,valueAsDate:e,setValueAs:n})=>In(t)?t:r?t===""?NaN:t&&+t:e&&ci(t)?new Date(t):n?n(t):t;const KS={isValid:!1,value:null};var xI=t=>Array.isArray(t)?t.reduce((r,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:r,KS):KS;function GS(t){const r=t.ref;return Q4(r)?r.files:Y4(r)?xI(t.refs).value:gI(r)?[...r.selectedOptions].map(({value:e})=>e):Ym(r)?bI(t.refs).value:vI(In(r.value)?t.ref.value:r.value,t)}var Voe=(t,r,e,n)=>{const s={};for(const a of t){const i=wt(r,a);i&&hn(s,a,i._f)}return{criteriaMode:e,names:[...t],fields:s,shouldUseNativeValidation:n}},Cy=t=>t instanceof RegExp,rp=t=>In(t)?t:Cy(t)?t.source:ds(t)?Cy(t.value)?t.value.source:t.value:t,XS=t=>({isOnSubmit:!t||t===co.onSubmit,isOnBlur:t===co.onBlur,isOnChange:t===co.onChange,isOnAll:t===co.all,isOnTouch:t===co.onTouched});const QS="AsyncFunction";var Uoe=t=>!!t&&!!t.validate&&!!(Pa(t.validate)&&t.validate.constructor.name===QS||ds(t.validate)&&Object.values(t.validate).find(r=>r.constructor.name===QS)),Woe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),YS=(t,r,e)=>!e&&(r.watchAll||r.watch.has(t)||[...r.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const kp=(t,r,e,n)=>{for(const s of e||Object.keys(t)){const a=wt(t,s);if(a){const{_f:i,...c}=a;if(i){if(i.refs&&i.refs[0]&&r(i.refs[0],s)&&!n)return!0;if(i.ref&&r(i.ref,i.name)&&!n)return!0;if(kp(c,r))break}else if(ds(c)&&kp(c,r))break}}};function ZS(t,r,e){const n=wt(t,e);if(n||Vb(e))return{error:n,name:e};const s=e.split(".");for(;s.length;){const a=s.join("."),i=wt(r,a),c=wt(t,a);if(i&&!Array.isArray(i)&&e!==a)return{name:e};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};s.pop()}return{name:e}}var qoe=(t,r,e,n)=>{e(t);const{name:s,...a}=t;return Na(a)||Object.keys(a).length>=Object.keys(r).length||Object.keys(a).find(i=>r[i]===(!n||co.all))},Hoe=(t,r,e)=>!t||!r||t===r||_p(t).some(n=>n&&(e?n===r:n.startsWith(r)||r.startsWith(n))),Koe=(t,r,e,n,s)=>s.isOnAll?!1:!e&&s.isOnTouch?!(r||t):(e?n.isOnBlur:s.isOnBlur)?!t:(e?n.isOnChange:s.isOnChange)?t:!0,Goe=(t,r)=>!W4(wt(t,r)).length&&ls(t,r),Xoe=(t,r,e)=>{const n=_p(wt(t,e));return hn(n,"root",r[e]),hn(t,e,n),t};function JS(t,r,e="validate"){if(ci(t)||Array.isArray(t)&&t.every(ci)||ii(t)&&!t)return{type:e,message:ci(t)?t:"",ref:r}}var Zd=t=>ds(t)&&!Cy(t)?t:{value:t,message:""},eN=async(t,r,e,n,s,a)=>{const{ref:i,refs:c,required:u,maxLength:o,minLength:d,min:p,max:f,pattern:h,validate:g,name:y,valueAsNumber:m,mount:v}=t._f,x=wt(e,y);if(!v||r.has(y))return{};const j=c?c[0]:i,T=H=>{s&&j.reportValidity&&(j.setCustomValidity(ii(H)?"":H||""),j.reportValidity())},E={},B=Y4(i),W=Ym(i),I=B||W,R=(m||Q4(i))&&In(i.value)&&In(x)||Ny(i)&&i.value===""||x===""||Array.isArray(x)&&!x.length,$=pI.bind(null,y,n,E),K=(H,M,F,C=yl.maxLength,_=yl.minLength)=>{const S=H?M:F;E[y]={type:H?C:_,message:S,ref:i,...$(H?C:_,S)}};if(a?!Array.isArray(x)||!x.length:u&&(!I&&(R||Ka(x))||ii(x)&&!x||W&&!bI(c).isValid||B&&!xI(c).isValid)){const{value:H,message:M}=ci(u)?{value:!!u,message:u}:Zd(u);if(H&&(E[y]={type:yl.required,message:M,ref:j,...$(yl.required,M)},!n))return T(M),E}if(!R&&(!Ka(p)||!Ka(f))){let H,M;const F=Zd(f),C=Zd(p);if(!Ka(x)&&!isNaN(x)){const _=i.valueAsNumber||x&&+x;Ka(F.value)||(H=_>F.value),Ka(C.value)||(M=_<C.value)}else{const _=i.valueAsDate||new Date(x),S=D=>new Date(new Date().toDateString()+" "+D),k=i.type=="time",N=i.type=="week";ci(F.value)&&x&&(H=k?S(x)>S(F.value):N?x>F.value:_>new Date(F.value)),ci(C.value)&&x&&(M=k?S(x)<S(C.value):N?x<C.value:_<new Date(C.value))}if((H||M)&&(K(!!H,F.message,C.message,yl.max,yl.min),!n))return T(E[y].message),E}if((o||d)&&!R&&(ci(x)||a&&Array.isArray(x))){const H=Zd(o),M=Zd(d),F=!Ka(H.value)&&x.length>+H.value,C=!Ka(M.value)&&x.length<+M.value;if((F||C)&&(K(F,H.message,M.message),!n))return T(E[y].message),E}if(h&&!R&&ci(x)){const{value:H,message:M}=Zd(h);if(Cy(H)&&!x.match(H)&&(E[y]={type:yl.pattern,message:M,ref:i,...$(yl.pattern,M)},!n))return T(M),E}if(g){if(Pa(g)){const H=await g(x,e),M=JS(H,j);if(M&&(E[y]={...M,...$(yl.validate,M.message)},!n))return T(M.message),E}else if(ds(g)){let H={};for(const M in g){if(!Na(H)&&!n)break;const F=JS(await g[M](x,e),j,M);F&&(H={...F,...$(M,F.message)},T(F.message),n&&(E[y]=H))}if(!Na(H)&&(E[y]={ref:j,...H},!n))return E}}return T(!0),E};const Qoe={mode:co.onSubmit,reValidateMode:co.onChange,shouldFocusError:!0};function Yoe(t={}){let r={...Qoe,...t},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pa(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},s=ds(r.defaultValues)||ds(r.values)?os(r.defaultValues||r.values)||{}:{},a=r.shouldUnregister?{}:os(s),i={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,o=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={...d};let f={...p};const h={array:WS(),state:WS()},g=r.criteriaMode===co.all,y=ee=>se=>{clearTimeout(o),o=setTimeout(ee,se)},m=async ee=>{if(!i.keepIsValid&&!r.disabled&&(p.isValid||f.isValid||ee)){let se;r.resolver?(se=Na((await I()).errors),v()):se=await $(n,!0),se!==e.isValid&&h.state.next({isValid:se})}},v=(ee,se)=>{!r.disabled&&(p.isValidating||p.validatingFields||f.isValidating||f.validatingFields)&&((ee||Array.from(c.mount)).forEach(le=>{le&&(se?hn(e.validatingFields,le,se):ls(e.validatingFields,le))}),h.state.next({validatingFields:e.validatingFields,isValidating:!Na(e.validatingFields)}))},x=(ee,se=[],le,ve,_e=!0,Te=!0)=>{if(ve&&le&&!r.disabled){if(i.action=!0,Te&&Array.isArray(wt(n,ee))){const Fe=le(wt(n,ee),ve.argA,ve.argB);_e&&hn(n,ee,Fe)}if(Te&&Array.isArray(wt(e.errors,ee))){const Fe=le(wt(e.errors,ee),ve.argA,ve.argB);_e&&hn(e.errors,ee,Fe),Goe(e.errors,ee)}if((p.touchedFields||f.touchedFields)&&Te&&Array.isArray(wt(e.touchedFields,ee))){const Fe=le(wt(e.touchedFields,ee),ve.argA,ve.argB);_e&&hn(e.touchedFields,ee,Fe)}(p.dirtyFields||f.dirtyFields)&&(e.dirtyFields=rf(s,a)),h.state.next({name:ee,isDirty:H(ee,se),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else hn(a,ee,se)},j=(ee,se)=>{hn(e.errors,ee,se),h.state.next({errors:e.errors})},T=ee=>{e.errors=ee,h.state.next({errors:e.errors,isValid:!1})},E=(ee,se,le,ve)=>{const _e=wt(n,ee);if(_e){const Te=wt(a,ee,In(le)?wt(s,ee):le);In(Te)||ve&&ve.defaultChecked||se?hn(a,ee,se?Te:GS(_e._f)):C(ee,Te),i.mount&&!i.action&&m()}},B=(ee,se,le,ve,_e)=>{let Te=!1,Fe=!1;const Be={name:ee};if(!r.disabled){if(!le||ve){(p.isDirty||f.isDirty)&&(Fe=e.isDirty,e.isDirty=Be.isDirty=H(),Te=Fe!==Be.isDirty);const ze=uo(wt(s,ee),se);Fe=!!wt(e.dirtyFields,ee),ze?ls(e.dirtyFields,ee):hn(e.dirtyFields,ee,!0),Be.dirtyFields=e.dirtyFields,Te=Te||(p.dirtyFields||f.dirtyFields)&&Fe!==!ze}if(le){const ze=wt(e.touchedFields,ee);ze||(hn(e.touchedFields,ee,le),Be.touchedFields=e.touchedFields,Te=Te||(p.touchedFields||f.touchedFields)&&ze!==le)}Te&&_e&&h.state.next(Be)}return Te?Be:{}},W=(ee,se,le,ve)=>{const _e=wt(e.errors,ee),Te=(p.isValid||f.isValid)&&ii(se)&&e.isValid!==se;if(r.delayError&&le?(u=y(()=>j(ee,le)),u(r.delayError)):(clearTimeout(o),u=null,le?hn(e.errors,ee,le):ls(e.errors,ee)),(le?!uo(_e,le):_e)||!Na(ve)||Te){const Fe={...ve,...Te&&ii(se)?{isValid:se}:{},errors:e.errors,name:ee};e={...e,...Fe},h.state.next(Fe)}},I=async ee=>(v(ee,!0),await r.resolver(a,r.context,Voe(ee||c.mount,n,r.criteriaMode,r.shouldUseNativeValidation))),R=async ee=>{const{errors:se}=await I(ee);if(v(ee),ee)for(const le of ee){const ve=wt(se,le);ve?hn(e.errors,le,ve):ls(e.errors,le)}else e.errors=se;return se},$=async(ee,se,le={valid:!0})=>{for(const ve in ee){const _e=ee[ve];if(_e){const{_f:Te,...Fe}=_e;if(Te){const Be=c.array.has(Te.name),ze=_e._f&&Uoe(_e._f);ze&&p.validatingFields&&v([Te.name],!0);const Je=await eN(_e,c.disabled,a,g,r.shouldUseNativeValidation&&!se,Be);if(ze&&p.validatingFields&&v([Te.name]),Je[Te.name]&&(le.valid=!1,se||t.shouldUseNativeValidation))break;!se&&(wt(Je,Te.name)?Be?Xoe(e.errors,Je,Te.name):hn(e.errors,Te.name,Je[Te.name]):ls(e.errors,Te.name))}!Na(Fe)&&await $(Fe,se,le)}}return le.valid},K=()=>{for(const ee of c.unMount){const se=wt(n,ee);se&&(se._f.refs?se._f.refs.every(le=>!_1(le)):!_1(se._f.ref))&&U(ee)}c.unMount=new Set},H=(ee,se)=>!r.disabled&&(ee&&se&&hn(a,ee,se),!uo(L(),s)),M=(ee,se,le)=>f2(ee,c,{...i.mount?a:In(se)?s:ci(ee)?{[ee]:se}:se},le,se),F=ee=>W4(wt(i.mount?a:s,ee,r.shouldUnregister?wt(s,ee,[]):[])),C=(ee,se,le={})=>{const ve=wt(n,ee);let _e=se;if(ve){const Te=ve._f;Te&&(!Te.disabled&&hn(a,ee,vI(se,Te)),_e=Ny(Te.ref)&&Ka(se)?"":se,gI(Te.ref)?[...Te.ref.options].forEach(Fe=>Fe.selected=_e.includes(Fe.value)):Te.refs?Ym(Te.ref)?Te.refs.forEach(Fe=>{(!Fe.defaultChecked||!Fe.disabled)&&(Array.isArray(_e)?Fe.checked=!!_e.find(Be=>Be===Fe.value):Fe.checked=_e===Fe.value||!!_e)}):Te.refs.forEach(Fe=>Fe.checked=Fe.value===_e):Q4(Te.ref)?Te.ref.value="":(Te.ref.value=_e,Te.ref.type||h.state.next({name:ee,values:os(a)})))}(le.shouldDirty||le.shouldTouch)&&B(ee,_e,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&D(ee)},_=(ee,se,le)=>{for(const ve in se){if(!se.hasOwnProperty(ve))return;const _e=se[ve],Te=ee+"."+ve,Fe=wt(n,Te);(c.array.has(ee)||ds(_e)||Fe&&!Fe._f)&&!Au(_e)?_(Te,_e,le):C(Te,_e,le)}},S=(ee,se,le={})=>{const ve=wt(n,ee),_e=c.array.has(ee),Te=os(se);hn(a,ee,Te),_e?(h.array.next({name:ee,values:os(a)}),(p.isDirty||p.dirtyFields||f.isDirty||f.dirtyFields)&&le.shouldDirty&&h.state.next({name:ee,dirtyFields:rf(s,a),isDirty:H(ee,Te)})):ve&&!ve._f&&!Ka(Te)?_(ee,Te,le):C(ee,Te,le),YS(ee,c)?h.state.next({...e,name:ee,values:os(a)}):h.state.next({name:i.mount?ee:void 0,values:os(a)})},k=async ee=>{i.mount=!0;const se=ee.target;let le=se.name,ve=!0;const _e=wt(n,le),Te=ze=>{ve=Number.isNaN(ze)||Au(ze)&&isNaN(ze.getTime())||uo(ze,wt(a,le,ze))},Fe=XS(r.mode),Be=XS(r.reValidateMode);if(_e){let ze,Je;const ft=se.type?GS(_e._f):uI(ee),bt=ee.type===Sy.BLUR||ee.type===Sy.FOCUS_OUT,rt=!Woe(_e._f)&&!r.resolver&&!wt(e.errors,le)&&!_e._f.deps||Koe(bt,wt(e.touchedFields,le),e.isSubmitted,Be,Fe),we=YS(le,c,bt);hn(a,le,ft),bt?(!se||!se.readOnly)&&(_e._f.onBlur&&_e._f.onBlur(ee),u&&u(0)):_e._f.onChange&&_e._f.onChange(ee);const me=B(le,ft,bt),Ke=!Na(me)||we;if(!bt&&h.state.next({name:le,type:ee.type,values:os(a)}),rt)return(p.isValid||f.isValid)&&(r.mode==="onBlur"?bt&&m():bt||m()),Ke&&h.state.next({name:le,...we?{}:me});if(!bt&&we&&h.state.next({...e}),r.resolver){const{errors:He}=await I([le]);if(v([le]),Te(ft),ve){const It=ZS(e.errors,n,le),Zt=ZS(He,n,It.name||le);ze=Zt.error,le=Zt.name,Je=Na(He)}}else v([le],!0),ze=(await eN(_e,c.disabled,a,g,r.shouldUseNativeValidation))[le],v([le]),Te(ft),ve&&(ze?Je=!1:(p.isValid||f.isValid)&&(Je=await $(n,!0)));ve&&(_e._f.deps&&(!Array.isArray(_e._f.deps)||_e._f.deps.length>0)&&D(_e._f.deps),W(le,Je,ze,me))}},N=(ee,se)=>{if(wt(e.errors,se)&&ee.focus)return ee.focus(),1},D=async(ee,se={})=>{let le,ve;const _e=_p(ee);if(r.resolver){const Te=await R(In(ee)?ee:_e);le=Na(Te),ve=ee?!_e.some(Fe=>wt(Te,Fe)):le}else ee?(ve=(await Promise.all(_e.map(async Te=>{const Fe=wt(n,Te);return await $(Fe&&Fe._f?{[Te]:Fe}:Fe)}))).every(Boolean),!(!ve&&!e.isValid)&&m()):ve=le=await $(n);return h.state.next({...!ci(ee)||(p.isValid||f.isValid)&&le!==e.isValid?{}:{name:ee},...r.resolver||!ee?{isValid:le}:{},errors:e.errors}),se.shouldFocus&&!ve&&kp(n,N,ee?_e:c.mount),ve},L=(ee,se)=>{let le={...i.mount?a:s};return se&&(le=mI(se.dirtyFields?e.dirtyFields:e.touchedFields,le)),In(ee)?le:ci(ee)?wt(le,ee):ee.map(ve=>wt(le,ve))},V=(ee,se)=>({invalid:!!wt((se||e).errors,ee),isDirty:!!wt((se||e).dirtyFields,ee),error:wt((se||e).errors,ee),isValidating:!!wt(e.validatingFields,ee),isTouched:!!wt((se||e).touchedFields,ee)}),Q=ee=>{ee&&_p(ee).forEach(se=>ls(e.errors,se)),h.state.next({errors:ee?e.errors:{}})},Y=(ee,se,le)=>{const ve=(wt(n,ee,{_f:{}})._f||{}).ref,_e=wt(e.errors,ee)||{},{ref:Te,message:Fe,type:Be,...ze}=_e;hn(e.errors,ee,{...ze,...se,ref:ve}),h.state.next({name:ee,errors:e.errors,isValid:!1}),le&&le.shouldFocus&&ve&&ve.focus&&ve.focus()},re=(ee,se)=>Pa(ee)?h.state.subscribe({next:le=>"values"in le&&ee(M(void 0,se),le)}):M(ee,se,!0),O=ee=>h.state.subscribe({next:se=>{Hoe(ee.name,se.name,ee.exact)&&qoe(se,ee.formState||p,he,ee.reRenderRoot)&&ee.callback({values:{...a},...e,...se,defaultValues:s})}}).unsubscribe,Z=ee=>(i.mount=!0,f={...f,...ee.formState},O({...ee,formState:{...d,...ee.formState}})),U=(ee,se={})=>{for(const le of ee?_p(ee):c.mount)c.mount.delete(le),c.array.delete(le),se.keepValue||(ls(n,le),ls(a,le)),!se.keepError&&ls(e.errors,le),!se.keepDirty&&ls(e.dirtyFields,le),!se.keepTouched&&ls(e.touchedFields,le),!se.keepIsValidating&&ls(e.validatingFields,le),!r.shouldUnregister&&!se.keepDefaultValue&&ls(s,le);h.state.next({values:os(a)}),h.state.next({...e,...se.keepDirty?{isDirty:H()}:{}}),!se.keepIsValid&&m()},z=({disabled:ee,name:se})=>{if(ii(ee)&&i.mount||ee||c.disabled.has(se)){const _e=c.disabled.has(se)!==!!ee;ee?c.disabled.add(se):c.disabled.delete(se),_e&&i.mount&&!i.action&&m()}},G=(ee,se={})=>{let le=wt(n,ee);const ve=ii(se.disabled)||ii(r.disabled);return hn(n,ee,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:ee}},name:ee,mount:!0,...se}}),c.mount.add(ee),le?z({disabled:ii(se.disabled)?se.disabled:r.disabled,name:ee}):E(ee,!0,se.value),{...ve?{disabled:se.disabled||r.disabled}:{},...r.progressive?{required:!!se.required,min:rp(se.min),max:rp(se.max),minLength:rp(se.minLength),maxLength:rp(se.maxLength),pattern:rp(se.pattern)}:{},name:ee,onChange:k,onBlur:k,ref:_e=>{if(_e){G(ee,se),le=wt(n,ee);const Te=In(_e.value)&&_e.querySelectorAll&&_e.querySelectorAll("input,select,textarea")[0]||_e,Fe=Loe(Te),Be=le._f.refs||[];if(Fe?Be.find(ze=>ze===Te):Te===le._f.ref)return;hn(n,ee,{_f:{...le._f,...Fe?{refs:[...Be.filter(_1),Te,...Array.isArray(wt(s,ee))?[{}]:[]],ref:{type:Te.type,name:ee}}:{ref:Te}}}),E(ee,!1,void 0,Te)}else le=wt(n,ee,{}),le._f&&(le._f.mount=!1),(r.shouldUnregister||se.shouldUnregister)&&!(dI(c.array,ee)&&i.action)&&c.unMount.add(ee)}}},ae=()=>r.shouldFocusError&&kp(n,N,c.mount),pe=ee=>{ii(ee)&&(h.state.next({disabled:ee}),kp(n,(se,le)=>{const ve=wt(n,le);ve&&(se.disabled=ve._f.disabled||ee,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(_e=>{_e.disabled=ve._f.disabled||ee}))},0,!1))},de=(ee,se)=>async le=>{let ve;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let _e=os(a);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:Te,values:Fe}=await I();v(),e.errors=Te,_e=os(Fe)}else await $(n);if(c.disabled.size)for(const Te of c.disabled)ls(_e,Te);if(ls(e.errors,"root"),Na(e.errors)){h.state.next({errors:{}});try{await ee(_e,le)}catch(Te){ve=Te}}else se&&await se({...e.errors},le),ae(),setTimeout(ae);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Na(e.errors)&&!ve,submitCount:e.submitCount+1,errors:e.errors}),ve)throw ve},ge=(ee,se={})=>{wt(n,ee)&&(In(se.defaultValue)?S(ee,os(wt(s,ee))):(S(ee,se.defaultValue),hn(s,ee,os(se.defaultValue))),se.keepTouched||ls(e.touchedFields,ee),se.keepDirty||(ls(e.dirtyFields,ee),e.isDirty=se.defaultValue?H(ee,os(wt(s,ee))):H()),se.keepError||(ls(e.errors,ee),p.isValid&&m()),h.state.next({...e}))},te=(ee,se={})=>{const le=ee?os(ee):s,ve=os(le),_e=Na(ee),Te=_e?s:ve;if(se.keepDefaultValues||(s=le),!se.keepValues){if(se.keepDirtyValues){const Fe=new Set([...c.mount,...Object.keys(rf(s,a))]);for(const Be of Array.from(Fe)){const ze=wt(e.dirtyFields,Be),Je=wt(a,Be),ft=wt(Te,Be);ze&&!In(Je)?hn(Te,Be,Je):!ze&&!In(ft)&&S(Be,ft)}}else{if(U4&&In(ee))for(const Fe of c.mount){const Be=wt(n,Fe);if(Be&&Be._f){const ze=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(Ny(ze)){const Je=ze.closest("form");if(Je){Je.reset();break}}}}if(se.keepFieldsRef)for(const Fe of c.mount)S(Fe,wt(Te,Fe));else n={}}a=r.shouldUnregister?se.keepDefaultValues?os(s):{}:os(Te),h.array.next({values:{...Te}}),h.state.next({values:{...Te}})}c={mount:se.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!p.isValid||!!se.keepIsValid||!!se.keepDirtyValues||!r.shouldUnregister&&!Na(Te),i.watch=!!r.shouldUnregister,i.keepIsValid=!!se.keepIsValid,i.action=!1,se.keepErrors||(e.errors={}),h.state.next({submitCount:se.keepSubmitCount?e.submitCount:0,isDirty:_e?!1:se.keepDirty?e.isDirty:!!(se.keepDefaultValues&&!uo(ee,s)),isSubmitted:se.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:_e?{}:se.keepDirtyValues?se.keepDefaultValues&&a?rf(s,a):e.dirtyFields:se.keepDefaultValues&&ee?rf(s,ee):se.keepDirty?e.dirtyFields:{},touchedFields:se.keepTouched?e.touchedFields:{},errors:se.keepErrors?e.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},oe=(ee,se)=>te(Pa(ee)?ee(a):ee,{...r.resetOptions,...se}),ne=(ee,se={})=>{const le=wt(n,ee),ve=le&&le._f;if(ve){const _e=ve.refs?ve.refs[0]:ve.ref;_e.focus&&setTimeout(()=>{_e.focus(),se.shouldSelect&&Pa(_e.select)&&_e.select()})}},he=ee=>{e={...e,...ee}},ie={control:{register:G,unregister:U,getFieldState:V,handleSubmit:de,setError:Y,_subscribe:O,_runSchema:I,_updateIsValidating:v,_focusError:ae,_getWatch:M,_getDirty:H,_setValid:m,_setFieldArray:x,_setDisabledField:z,_setErrors:T,_getFieldArray:F,_reset:te,_resetDefaultValues:()=>Pa(r.defaultValues)&&r.defaultValues().then(ee=>{oe(ee,r.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:pe,_subjects:h,_proxyFormState:p,get _fields(){return n},get _formValues(){return a},get _state(){return i},set _state(ee){i=ee},get _defaultValues(){return s},get _names(){return c},set _names(ee){c=ee},get _formState(){return e},get _options(){return r},set _options(ee){r={...r,...ee}}},subscribe:Z,trigger:D,register:G,handleSubmit:de,watch:re,setValue:S,getValues:L,reset:oe,resetField:ge,clearErrors:Q,unregister:U,setError:Y,setFocus:ne,getFieldState:V};return{...ie,formControl:ie}}function Wl(t={}){const r=tr.useRef(void 0),e=tr.useRef(void 0),[n,s]=tr.useState({isDirty:!1,isValidating:!1,isLoading:Pa(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Pa(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:n},t.defaultValues&&!Pa(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:i,...c}=Yoe(t);r.current={...c,formState:n}}const a=r.current.control;return a._options=t,G4(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),a._formState.isReady=!0,i},[a]),tr.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),tr.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),tr.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),tr.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),tr.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==n.isDirty&&a._subjects.state.next({isDirty:i})}},[a,n.isDirty]),tr.useEffect(()=>{var i;t.values&&!uo(t.values,e.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((i=a._options.resetOptions)===null||i===void 0)&&i.keepIsValid||a._setValid(),e.current=t.values,s(c=>({...c}))):a._resetDefaultValues()},[a,t.values]),tr.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),r.current.formState=tr.useMemo(()=>fI(n,a),[a,n]),r.current}const tN=(t,r,e)=>{if(t&&"reportValidity"in t){const n=wt(e,r);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},wI=(t,r)=>{for(const e in r.fields){const n=r.fields[e];n&&n.ref&&"reportValidity"in n.ref?tN(n.ref,e,t):n.refs&&n.refs.forEach(s=>tN(s,e,t))}},Zoe=(t,r)=>{r.shouldUseNativeValidation&&wI(t,r);const e={};for(const n in t){const s=wt(r.fields,n),a=Object.assign(t[n]||{},{ref:s&&s.ref});if(Joe(r.names||Object.keys(t),n)){const i=Object.assign({},wt(e,n));hn(i,"root",a),hn(e,n,i)}else hn(e,n,a)}return e},Joe=(t,r)=>t.some(e=>e.startsWith(r+"."));var ele=function(t,r){for(var e={};t.length;){var n=t[0],s=n.code,a=n.message,i=n.path.join(".");if(!e[i])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];e[i]={message:c.message,type:c.code}}else e[i]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(p){return t.push(p)})}),r){var u=e[i].types,o=u&&u[n.code];e[i]=pI(i,r,e,s,o?[].concat(o,n.message):n.message)}t.shift()}return e},ql=function(t,r,e){return e===void 0&&(e={}),function(n,s,a){try{return Promise.resolve((function(i,c){try{var u=Promise.resolve(t[e.mode==="sync"?"parse":"parseAsync"](n,r)).then(function(o){return a.shouldUseNativeValidation&&wI({},a),{errors:{},values:e.raw?n:o}})}catch(o){return c(o)}return u&&u.then?u.then(void 0,c):u})(0,function(i){if((function(c){return Array.isArray(c?.errors)})(i))return{values:{},errors:Zoe(ele(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}},rn;(function(t){t.assertEqual=s=>{};function r(s){}t.assertIs=r;function e(s){throw new Error}t.assertNever=e,t.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),i={};for(const c of a)i[c]=s[c];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},t.find=(s,a)=>{for(const i of s)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(rn||(rn={}));var m2;(function(t){t.mergeShapes=(r,e)=>({...r,...e})})(m2||(m2={}));const At=rn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),kl=t=>{switch(typeof t){case"undefined":return At.undefined;case"string":return At.string;case"number":return Number.isNaN(t)?At.nan:At.number;case"boolean":return At.boolean;case"function":return At.function;case"bigint":return At.bigint;case"symbol":return At.symbol;case"object":return Array.isArray(t)?At.array:t===null?At.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?At.promise:typeof Map<"u"&&t instanceof Map?At.map:typeof Set<"u"&&t instanceof Set?At.set:typeof Date<"u"&&t instanceof Date?At.date:At.object;default:return At.unknown}},lt=rn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),tle=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class hi extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=r}format(r){const e=r||function(a){return a.message},n={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(e(i));else{let c=n,u=0;for(;u<i.path.length;){const o=i.path[u];u===i.path.length-1?(c[o]=c[o]||{_errors:[]},c[o]._errors.push(e(i))):c[o]=c[o]||{_errors:[]},c=c[o],u++}}};return s(this),n}static assert(r){if(!(r instanceof hi))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=e=>e.message){const e={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];e[a]=e[a]||[],e[a].push(r(s))}else n.push(r(s));return{formErrors:n,fieldErrors:e}}get formErrors(){return this.flatten()}}hi.create=t=>new hi(t);const Xf=(t,r)=>{let e;switch(t.code){case lt.invalid_type:t.received===At.undefined?e="Required":e=`Expected ${t.expected}, received ${t.received}`;break;case lt.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(t.expected,rn.jsonStringifyReplacer)}`;break;case lt.unrecognized_keys:e=`Unrecognized key(s) in object: ${rn.joinValues(t.keys,", ")}`;break;case lt.invalid_union:e="Invalid input";break;case lt.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${rn.joinValues(t.options)}`;break;case lt.invalid_enum_value:e=`Invalid enum value. Expected ${rn.joinValues(t.options)}, received '${t.received}'`;break;case lt.invalid_arguments:e="Invalid function arguments";break;case lt.invalid_return_type:e="Invalid function return type";break;case lt.invalid_date:e="Invalid date";break;case lt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(e=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?e=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?e=`Invalid input: must end with "${t.validation.endsWith}"`:rn.assertNever(t.validation):t.validation!=="regex"?e=`Invalid ${t.validation}`:e="Invalid";break;case lt.too_small:t.type==="array"?e=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?e=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?e=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?e=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?e=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:e="Invalid input";break;case lt.too_big:t.type==="array"?e=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?e=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?e=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?e=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?e=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:e="Invalid input";break;case lt.custom:e="Invalid input";break;case lt.invalid_intersection_types:e="Intersection results could not be merged";break;case lt.not_multiple_of:e=`Number must be a multiple of ${t.multipleOf}`;break;case lt.not_finite:e="Number must be finite";break;default:e=r.defaultError,rn.assertNever(t)}return{message:e}};let _I=Xf;function rle(t){_I=t}function Ty(){return _I}const Ey=t=>{const{data:r,path:e,errorMaps:n,issueData:s}=t,a=[...e,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let c="";const u=n.filter(o=>!!o).slice().reverse();for(const o of u)c=o(i,{data:r,defaultError:c}).message;return{...s,path:a,message:c}},nle=[];function jt(t,r){const e=Ty(),n=Ey({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e,e===Xf?void 0:Xf].filter(s=>!!s)});t.common.issues.push(n)}class ba{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,e){const n=[];for(const s of e){if(s.status==="aborted")return hr;s.status==="dirty"&&r.dirty(),n.push(s.value)}return{status:r.value,value:n}}static async mergeObjectAsync(r,e){const n=[];for(const s of e){const a=await s.key,i=await s.value;n.push({key:a,value:i})}return ba.mergeObjectSync(r,n)}static mergeObjectSync(r,e){const n={};for(const s of e){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return hr;a.status==="dirty"&&r.dirty(),i.status==="dirty"&&r.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[a.value]=i.value)}return{status:r.value,value:n}}}const hr=Object.freeze({status:"aborted"}),df=t=>({status:"dirty",value:t}),Ia=t=>({status:"valid",value:t}),g2=t=>t.status==="aborted",y2=t=>t.status==="dirty",sd=t=>t.status==="valid",Kp=t=>typeof Promise<"u"&&t instanceof Promise;var Qt;(function(t){t.errToObj=r=>typeof r=="string"?{message:r}:r||{},t.toString=r=>typeof r=="string"?r:r?.message})(Qt||(Qt={}));class Zo{constructor(r,e,n,s){this._cachedPath=[],this.parent=r,this.data=e,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rN=(t,r)=>{if(sd(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const e=new hi(t.common.issues);return this._error=e,this._error}}};function Pr(t){if(!t)return{};const{errorMap:r,invalid_type_error:e,required_error:n,description:s}=t;if(r&&(e||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:s}:{errorMap:(i,c)=>{const{message:u}=t;return i.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??n??c.defaultError}:i.code!=="invalid_type"?{message:c.defaultError}:{message:u??e??c.defaultError}},description:s}}class Vr{get description(){return this._def.description}_getType(r){return kl(r.data)}_getOrReturnCtx(r,e){return e||{common:r.parent.common,data:r.data,parsedType:kl(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new ba,ctx:{common:r.parent.common,data:r.data,parsedType:kl(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const e=this._parse(r);if(Kp(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(r){const e=this._parse(r);return Promise.resolve(e)}parse(r,e){const n=this.safeParse(r,e);if(n.success)return n.data;throw n.error}safeParse(r,e){const n={common:{issues:[],async:e?.async??!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:kl(r)},s=this._parseSync({data:r,path:n.path,parent:n});return rN(n,s)}"~validate"(r){const e={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:kl(r)};if(!this["~standard"].async)try{const n=this._parseSync({data:r,path:[],parent:e});return sd(n)?{value:n.value}:{issues:e.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),e.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:e}).then(n=>sd(n)?{value:n.value}:{issues:e.common.issues})}async parseAsync(r,e){const n=await this.safeParseAsync(r,e);if(n.success)return n.data;throw n.error}async safeParseAsync(r,e){const n={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:kl(r)},s=this._parse({data:r,path:n.path,parent:n}),a=await(Kp(s)?s:Promise.resolve(s));return rN(n,a)}refine(r,e){const n=s=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(s):e;return this._refinement((s,a)=>{const i=r(s),c=()=>a.addIssue({code:lt.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(u=>u?!0:(c(),!1)):i?!0:(c(),!1)})}refinement(r,e){return this._refinement((n,s)=>r(n)?!0:(s.addIssue(typeof e=="function"?e(n,s):e),!1))}_refinement(r){return new wo({schema:this,typeName:pr.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Ho.create(this,this._def)}nullable(){return Gc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return po.create(this)}promise(){return Yf.create(this,this._def)}or(r){return Yp.create([this,r],this._def)}and(r){return Zp.create(this,r,this._def)}transform(r){return new wo({...Pr(this._def),schema:this,typeName:pr.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const e=typeof r=="function"?r:()=>r;return new nm({...Pr(this._def),innerType:this,defaultValue:e,typeName:pr.ZodDefault})}brand(){return new Z4({typeName:pr.ZodBranded,type:this,...Pr(this._def)})}catch(r){const e=typeof r=="function"?r:()=>r;return new sm({...Pr(this._def),innerType:this,catchValue:e,typeName:pr.ZodCatch})}describe(r){const e=this.constructor;return new e({...this._def,description:r})}pipe(r){return Zm.create(this,r)}readonly(){return am.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const sle=/^c[^\s-]{8,}$/i,ale=/^[0-9a-z]+$/,ile=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ole=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lle=/^[a-z0-9_-]{21}$/i,cle=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ule=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dle=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fle="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let k1;const hle=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ple=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mle=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gle=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yle=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ble=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,kI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vle=new RegExp(`^${kI}$`);function jI(t){let r="[0-5]\\d";t.precision?r=`${r}\\.\\d{${t.precision}}`:t.precision==null&&(r=`${r}(\\.\\d+)?`);const e=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${e}`}function xle(t){return new RegExp(`^${jI(t)}$`)}function SI(t){let r=`${kI}T${jI(t)}`;const e=[];return e.push(t.local?"Z?":"Z"),t.offset&&e.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${e.join("|")})`,new RegExp(`^${r}$`)}function wle(t,r){return!!((r==="v4"||!r)&&hle.test(t)||(r==="v6"||!r)&&mle.test(t))}function _le(t,r){if(!cle.test(t))return!1;try{const[e]=t.split(".");if(!e)return!1;const n=e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||r&&s.alg!==r)}catch{return!1}}function kle(t,r){return!!((r==="v4"||!r)&&ple.test(t)||(r==="v6"||!r)&&gle.test(t))}class fo extends Vr{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==At.string){const a=this._getOrReturnCtx(r);return jt(a,{code:lt.invalid_type,expected:At.string,received:a.parsedType}),hr}const n=new ba;let s;for(const a of this._def.checks)if(a.kind==="min")r.data.length<a.value&&(s=this._getOrReturnCtx(r,s),jt(s,{code:lt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")r.data.length>a.value&&(s=this._getOrReturnCtx(r,s),jt(s,{code:lt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const i=r.data.length>a.value,c=r.data.length<a.value;(i||c)&&(s=this._getOrReturnCtx(r,s),i?jt(s,{code:lt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&jt(s,{code:lt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")dle.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"email",code:lt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")k1||(k1=new RegExp(fle,"u")),k1.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"emoji",code:lt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")ole.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"uuid",code:lt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")lle.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"nanoid",code:lt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")sle.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"cuid",code:lt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")ale.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"cuid2",code:lt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")ile.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"ulid",code:lt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(r.data)}catch{s=this._getOrReturnCtx(r,s),jt(s,{validation:"url",code:lt.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"regex",code:lt.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?r.data=r.data.trim():a.kind==="includes"?r.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(r,s),jt(s,{code:lt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?r.data=r.data.toLowerCase():a.kind==="toUpperCase"?r.data=r.data.toUpperCase():a.kind==="startsWith"?r.data.startsWith(a.value)||(s=this._getOrReturnCtx(r,s),jt(s,{code:lt.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?r.data.endsWith(a.value)||(s=this._getOrReturnCtx(r,s),jt(s,{code:lt.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?SI(a).test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{code:lt.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?vle.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{code:lt.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?xle(a).test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{code:lt.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?ule.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"duration",code:lt.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?wle(r.data,a.version)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"ip",code:lt.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?_le(r.data,a.alg)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"jwt",code:lt.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?kle(r.data,a.version)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"cidr",code:lt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?yle.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"base64",code:lt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?ble.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"base64url",code:lt.invalid_string,message:a.message}),n.dirty()):rn.assertNever(a);return{status:n.value,value:r.data}}_regex(r,e,n){return this.refinement(s=>r.test(s),{validation:e,code:lt.invalid_string,...Qt.errToObj(n)})}_addCheck(r){return new fo({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Qt.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Qt.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Qt.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Qt.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...Qt.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Qt.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Qt.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Qt.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...Qt.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...Qt.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...Qt.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Qt.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...Qt.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:r?.offset??!1,local:r?.local??!1,...Qt.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof r?.precision>"u"?null:r?.precision,...Qt.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...Qt.errToObj(r)})}regex(r,e){return this._addCheck({kind:"regex",regex:r,...Qt.errToObj(e)})}includes(r,e){return this._addCheck({kind:"includes",value:r,position:e?.position,...Qt.errToObj(e?.message)})}startsWith(r,e){return this._addCheck({kind:"startsWith",value:r,...Qt.errToObj(e)})}endsWith(r,e){return this._addCheck({kind:"endsWith",value:r,...Qt.errToObj(e)})}min(r,e){return this._addCheck({kind:"min",value:r,...Qt.errToObj(e)})}max(r,e){return this._addCheck({kind:"max",value:r,...Qt.errToObj(e)})}length(r,e){return this._addCheck({kind:"length",value:r,...Qt.errToObj(e)})}nonempty(r){return this.min(1,Qt.errToObj(r))}trim(){return new fo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxLength(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}}fo.create=t=>new fo({checks:[],typeName:pr.ZodString,coerce:t?.coerce??!1,...Pr(t)});function jle(t,r){const e=(t.toString().split(".")[1]||"").length,n=(r.toString().split(".")[1]||"").length,s=e>n?e:n,a=Number.parseInt(t.toFixed(s).replace(".","")),i=Number.parseInt(r.toFixed(s).replace(".",""));return a%i/10**s}class qc extends Vr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==At.number){const a=this._getOrReturnCtx(r);return jt(a,{code:lt.invalid_type,expected:At.number,received:a.parsedType}),hr}let n;const s=new ba;for(const a of this._def.checks)a.kind==="int"?rn.isInteger(r.data)||(n=this._getOrReturnCtx(r,n),jt(n,{code:lt.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?r.data<a.value:r.data<=a.value)&&(n=this._getOrReturnCtx(r,n),jt(n,{code:lt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?r.data>a.value:r.data>=a.value)&&(n=this._getOrReturnCtx(r,n),jt(n,{code:lt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?jle(r.data,a.value)!==0&&(n=this._getOrReturnCtx(r,n),jt(n,{code:lt.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(r.data)||(n=this._getOrReturnCtx(r,n),jt(n,{code:lt.not_finite,message:a.message}),s.dirty()):rn.assertNever(a);return{status:s.value,value:r.data}}gte(r,e){return this.setLimit("min",r,!0,Qt.toString(e))}gt(r,e){return this.setLimit("min",r,!1,Qt.toString(e))}lte(r,e){return this.setLimit("max",r,!0,Qt.toString(e))}lt(r,e){return this.setLimit("max",r,!1,Qt.toString(e))}setLimit(r,e,n,s){return new qc({...this._def,checks:[...this._def.checks,{kind:r,value:e,inclusive:n,message:Qt.toString(s)}]})}_addCheck(r){return new qc({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Qt.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qt.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:Qt.toString(e)})}finite(r){return this._addCheck({kind:"finite",message:Qt.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qt.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qt.toString(r)})}get minValue(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&rn.isInteger(r.value))}get isFinite(){let r=null,e=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(e===null||n.value>e)&&(e=n.value):n.kind==="max"&&(r===null||n.value<r)&&(r=n.value)}return Number.isFinite(e)&&Number.isFinite(r)}}qc.create=t=>new qc({checks:[],typeName:pr.ZodNumber,coerce:t?.coerce||!1,...Pr(t)});class Hc extends Vr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==At.bigint)return this._getInvalidInput(r);let n;const s=new ba;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?r.data<a.value:r.data<=a.value)&&(n=this._getOrReturnCtx(r,n),jt(n,{code:lt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?r.data>a.value:r.data>=a.value)&&(n=this._getOrReturnCtx(r,n),jt(n,{code:lt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?r.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(r,n),jt(n,{code:lt.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):rn.assertNever(a);return{status:s.value,value:r.data}}_getInvalidInput(r){const e=this._getOrReturnCtx(r);return jt(e,{code:lt.invalid_type,expected:At.bigint,received:e.parsedType}),hr}gte(r,e){return this.setLimit("min",r,!0,Qt.toString(e))}gt(r,e){return this.setLimit("min",r,!1,Qt.toString(e))}lte(r,e){return this.setLimit("max",r,!0,Qt.toString(e))}lt(r,e){return this.setLimit("max",r,!1,Qt.toString(e))}setLimit(r,e,n,s){return new Hc({...this._def,checks:[...this._def.checks,{kind:r,value:e,inclusive:n,message:Qt.toString(s)}]})}_addCheck(r){return new Hc({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qt.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:Qt.toString(e)})}get minValue(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}}Hc.create=t=>new Hc({checks:[],typeName:pr.ZodBigInt,coerce:t?.coerce??!1,...Pr(t)});class Gp extends Vr{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==At.boolean){const n=this._getOrReturnCtx(r);return jt(n,{code:lt.invalid_type,expected:At.boolean,received:n.parsedType}),hr}return Ia(r.data)}}Gp.create=t=>new Gp({typeName:pr.ZodBoolean,coerce:t?.coerce||!1,...Pr(t)});class ad extends Vr{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==At.date){const a=this._getOrReturnCtx(r);return jt(a,{code:lt.invalid_type,expected:At.date,received:a.parsedType}),hr}if(Number.isNaN(r.data.getTime())){const a=this._getOrReturnCtx(r);return jt(a,{code:lt.invalid_date}),hr}const n=new ba;let s;for(const a of this._def.checks)a.kind==="min"?r.data.getTime()<a.value&&(s=this._getOrReturnCtx(r,s),jt(s,{code:lt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?r.data.getTime()>a.value&&(s=this._getOrReturnCtx(r,s),jt(s,{code:lt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):rn.assertNever(a);return{status:n.value,value:new Date(r.data.getTime())}}_addCheck(r){return new ad({...this._def,checks:[...this._def.checks,r]})}min(r,e){return this._addCheck({kind:"min",value:r.getTime(),message:Qt.toString(e)})}max(r,e){return this._addCheck({kind:"max",value:r.getTime(),message:Qt.toString(e)})}get minDate(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r!=null?new Date(r):null}}ad.create=t=>new ad({checks:[],coerce:t?.coerce||!1,typeName:pr.ZodDate,...Pr(t)});class Ay extends Vr{_parse(r){if(this._getType(r)!==At.symbol){const n=this._getOrReturnCtx(r);return jt(n,{code:lt.invalid_type,expected:At.symbol,received:n.parsedType}),hr}return Ia(r.data)}}Ay.create=t=>new Ay({typeName:pr.ZodSymbol,...Pr(t)});class Xp extends Vr{_parse(r){if(this._getType(r)!==At.undefined){const n=this._getOrReturnCtx(r);return jt(n,{code:lt.invalid_type,expected:At.undefined,received:n.parsedType}),hr}return Ia(r.data)}}Xp.create=t=>new Xp({typeName:pr.ZodUndefined,...Pr(t)});class Qp extends Vr{_parse(r){if(this._getType(r)!==At.null){const n=this._getOrReturnCtx(r);return jt(n,{code:lt.invalid_type,expected:At.null,received:n.parsedType}),hr}return Ia(r.data)}}Qp.create=t=>new Qp({typeName:pr.ZodNull,...Pr(t)});class Qf extends Vr{constructor(){super(...arguments),this._any=!0}_parse(r){return Ia(r.data)}}Qf.create=t=>new Qf({typeName:pr.ZodAny,...Pr(t)});class Ku extends Vr{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Ia(r.data)}}Ku.create=t=>new Ku({typeName:pr.ZodUnknown,...Pr(t)});class Hl extends Vr{_parse(r){const e=this._getOrReturnCtx(r);return jt(e,{code:lt.invalid_type,expected:At.never,received:e.parsedType}),hr}}Hl.create=t=>new Hl({typeName:pr.ZodNever,...Pr(t)});class Py extends Vr{_parse(r){if(this._getType(r)!==At.undefined){const n=this._getOrReturnCtx(r);return jt(n,{code:lt.invalid_type,expected:At.void,received:n.parsedType}),hr}return Ia(r.data)}}Py.create=t=>new Py({typeName:pr.ZodVoid,...Pr(t)});class po extends Vr{_parse(r){const{ctx:e,status:n}=this._processInputParams(r),s=this._def;if(e.parsedType!==At.array)return jt(e,{code:lt.invalid_type,expected:At.array,received:e.parsedType}),hr;if(s.exactLength!==null){const i=e.data.length>s.exactLength.value,c=e.data.length<s.exactLength.value;(i||c)&&(jt(e,{code:i?lt.too_big:lt.too_small,minimum:c?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&e.data.length<s.minLength.value&&(jt(e,{code:lt.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&e.data.length>s.maxLength.value&&(jt(e,{code:lt.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),e.common.async)return Promise.all([...e.data].map((i,c)=>s.type._parseAsync(new Zo(e,i,e.path,c)))).then(i=>ba.mergeArray(n,i));const a=[...e.data].map((i,c)=>s.type._parseSync(new Zo(e,i,e.path,c)));return ba.mergeArray(n,a)}get element(){return this._def.type}min(r,e){return new po({...this._def,minLength:{value:r,message:Qt.toString(e)}})}max(r,e){return new po({...this._def,maxLength:{value:r,message:Qt.toString(e)}})}length(r,e){return new po({...this._def,exactLength:{value:r,message:Qt.toString(e)}})}nonempty(r){return this.min(1,r)}}po.create=(t,r)=>new po({type:t,minLength:null,maxLength:null,exactLength:null,typeName:pr.ZodArray,...Pr(r)});function nf(t){if(t instanceof Un){const r={};for(const e in t.shape){const n=t.shape[e];r[e]=Ho.create(nf(n))}return new Un({...t._def,shape:()=>r})}else return t instanceof po?new po({...t._def,type:nf(t.element)}):t instanceof Ho?Ho.create(nf(t.unwrap())):t instanceof Gc?Gc.create(nf(t.unwrap())):t instanceof Jo?Jo.create(t.items.map(r=>nf(r))):t}class Un extends Vr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),e=rn.objectKeys(r);return this._cached={shape:r,keys:e},this._cached}_parse(r){if(this._getType(r)!==At.object){const o=this._getOrReturnCtx(r);return jt(o,{code:lt.invalid_type,expected:At.object,received:o.parsedType}),hr}const{status:n,ctx:s}=this._processInputParams(r),{shape:a,keys:i}=this._getCached(),c=[];if(!(this._def.catchall instanceof Hl&&this._def.unknownKeys==="strip"))for(const o in s.data)i.includes(o)||c.push(o);const u=[];for(const o of i){const d=a[o],p=s.data[o];u.push({key:{status:"valid",value:o},value:d._parse(new Zo(s,p,s.path,o)),alwaysSet:o in s.data})}if(this._def.catchall instanceof Hl){const o=this._def.unknownKeys;if(o==="passthrough")for(const d of c)u.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(o==="strict")c.length>0&&(jt(s,{code:lt.unrecognized_keys,keys:c}),n.dirty());else if(o!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const o=this._def.catchall;for(const d of c){const p=s.data[d];u.push({key:{status:"valid",value:d},value:o._parse(new Zo(s,p,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const o=[];for(const d of u){const p=await d.key,f=await d.value;o.push({key:p,value:f,alwaysSet:d.alwaysSet})}return o}).then(o=>ba.mergeObjectSync(n,o)):ba.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(r){return Qt.errToObj,new Un({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(e,n)=>{const s=this._def.errorMap?.(e,n).message??n.defaultError;return e.code==="unrecognized_keys"?{message:Qt.errToObj(r).message??s}:{message:s}}}:{}})}strip(){return new Un({...this._def,unknownKeys:"strip"})}passthrough(){return new Un({...this._def,unknownKeys:"passthrough"})}extend(r){return new Un({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Un({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:pr.ZodObject})}setKey(r,e){return this.augment({[r]:e})}catchall(r){return new Un({...this._def,catchall:r})}pick(r){const e={};for(const n of rn.objectKeys(r))r[n]&&this.shape[n]&&(e[n]=this.shape[n]);return new Un({...this._def,shape:()=>e})}omit(r){const e={};for(const n of rn.objectKeys(this.shape))r[n]||(e[n]=this.shape[n]);return new Un({...this._def,shape:()=>e})}deepPartial(){return nf(this)}partial(r){const e={};for(const n of rn.objectKeys(this.shape)){const s=this.shape[n];r&&!r[n]?e[n]=s:e[n]=s.optional()}return new Un({...this._def,shape:()=>e})}required(r){const e={};for(const n of rn.objectKeys(this.shape))if(r&&!r[n])e[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ho;)a=a._def.innerType;e[n]=a}return new Un({...this._def,shape:()=>e})}keyof(){return NI(rn.objectKeys(this.shape))}}Un.create=(t,r)=>new Un({shape:()=>t,unknownKeys:"strip",catchall:Hl.create(),typeName:pr.ZodObject,...Pr(r)});Un.strictCreate=(t,r)=>new Un({shape:()=>t,unknownKeys:"strict",catchall:Hl.create(),typeName:pr.ZodObject,...Pr(r)});Un.lazycreate=(t,r)=>new Un({shape:t,unknownKeys:"strip",catchall:Hl.create(),typeName:pr.ZodObject,...Pr(r)});class Yp extends Vr{_parse(r){const{ctx:e}=this._processInputParams(r),n=this._def.options;function s(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return e.common.issues.push(...c.ctx.common.issues),c.result;const i=a.map(c=>new hi(c.ctx.common.issues));return jt(e,{code:lt.invalid_union,unionErrors:i}),hr}if(e.common.async)return Promise.all(n.map(async a=>{const i={...e,common:{...e.common,issues:[]},parent:null};return{result:await a._parseAsync({data:e.data,path:e.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const u of n){const o={...e,common:{...e.common,issues:[]},parent:null},d=u._parseSync({data:e.data,path:e.path,parent:o});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:o}),o.common.issues.length&&i.push(o.common.issues)}if(a)return e.common.issues.push(...a.ctx.common.issues),a.result;const c=i.map(u=>new hi(u));return jt(e,{code:lt.invalid_union,unionErrors:c}),hr}}get options(){return this._def.options}}Yp.create=(t,r)=>new Yp({options:t,typeName:pr.ZodUnion,...Pr(r)});const xl=t=>t instanceof em?xl(t.schema):t instanceof wo?xl(t.innerType()):t instanceof tm?[t.value]:t instanceof Kc?t.options:t instanceof rm?rn.objectValues(t.enum):t instanceof nm?xl(t._def.innerType):t instanceof Xp?[void 0]:t instanceof Qp?[null]:t instanceof Ho?[void 0,...xl(t.unwrap())]:t instanceof Gc?[null,...xl(t.unwrap())]:t instanceof Z4||t instanceof am?xl(t.unwrap()):t instanceof sm?xl(t._def.innerType):[];class Ub extends Vr{_parse(r){const{ctx:e}=this._processInputParams(r);if(e.parsedType!==At.object)return jt(e,{code:lt.invalid_type,expected:At.object,received:e.parsedType}),hr;const n=this.discriminator,s=e.data[n],a=this.optionsMap.get(s);return a?e.common.async?a._parseAsync({data:e.data,path:e.path,parent:e}):a._parseSync({data:e.data,path:e.path,parent:e}):(jt(e,{code:lt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),hr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,e,n){const s=new Map;for(const a of e){const i=xl(a.shape[r]);if(!i.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const c of i){if(s.has(c))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(c)}`);s.set(c,a)}}return new Ub({typeName:pr.ZodDiscriminatedUnion,discriminator:r,options:e,optionsMap:s,...Pr(n)})}}function b2(t,r){const e=kl(t),n=kl(r);if(t===r)return{valid:!0,data:t};if(e===At.object&&n===At.object){const s=rn.objectKeys(r),a=rn.objectKeys(t).filter(c=>s.indexOf(c)!==-1),i={...t,...r};for(const c of a){const u=b2(t[c],r[c]);if(!u.valid)return{valid:!1};i[c]=u.data}return{valid:!0,data:i}}else if(e===At.array&&n===At.array){if(t.length!==r.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const i=t[a],c=r[a],u=b2(i,c);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return e===At.date&&n===At.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}class Zp extends Vr{_parse(r){const{status:e,ctx:n}=this._processInputParams(r),s=(a,i)=>{if(g2(a)||g2(i))return hr;const c=b2(a.value,i.value);return c.valid?((y2(a)||y2(i))&&e.dirty(),{status:e.value,value:c.data}):(jt(n,{code:lt.invalid_intersection_types}),hr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Zp.create=(t,r,e)=>new Zp({left:t,right:r,typeName:pr.ZodIntersection,...Pr(e)});class Jo extends Vr{_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==At.array)return jt(n,{code:lt.invalid_type,expected:At.array,received:n.parsedType}),hr;if(n.data.length<this._def.items.length)return jt(n,{code:lt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),hr;!this._def.rest&&n.data.length>this._def.items.length&&(jt(n,{code:lt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const a=[...n.data].map((i,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new Zo(n,i,n.path,c)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>ba.mergeArray(e,i)):ba.mergeArray(e,a)}get items(){return this._def.items}rest(r){return new Jo({...this._def,rest:r})}}Jo.create=(t,r)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Jo({items:t,typeName:pr.ZodTuple,rest:null,...Pr(r)})};class Jp extends Vr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==At.object)return jt(n,{code:lt.invalid_type,expected:At.object,received:n.parsedType}),hr;const s=[],a=this._def.keyType,i=this._def.valueType;for(const c in n.data)s.push({key:a._parse(new Zo(n,c,n.path,c)),value:i._parse(new Zo(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?ba.mergeObjectAsync(e,s):ba.mergeObjectSync(e,s)}get element(){return this._def.valueType}static create(r,e,n){return e instanceof Vr?new Jp({keyType:r,valueType:e,typeName:pr.ZodRecord,...Pr(n)}):new Jp({keyType:fo.create(),valueType:r,typeName:pr.ZodRecord,...Pr(e)})}}class My extends Vr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==At.map)return jt(n,{code:lt.invalid_type,expected:At.map,received:n.parsedType}),hr;const s=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([c,u],o)=>({key:s._parse(new Zo(n,c,n.path,[o,"key"])),value:a._parse(new Zo(n,u,n.path,[o,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of i){const o=await u.key,d=await u.value;if(o.status==="aborted"||d.status==="aborted")return hr;(o.status==="dirty"||d.status==="dirty")&&e.dirty(),c.set(o.value,d.value)}return{status:e.value,value:c}})}else{const c=new Map;for(const u of i){const o=u.key,d=u.value;if(o.status==="aborted"||d.status==="aborted")return hr;(o.status==="dirty"||d.status==="dirty")&&e.dirty(),c.set(o.value,d.value)}return{status:e.value,value:c}}}}My.create=(t,r,e)=>new My({valueType:r,keyType:t,typeName:pr.ZodMap,...Pr(e)});class id extends Vr{_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==At.set)return jt(n,{code:lt.invalid_type,expected:At.set,received:n.parsedType}),hr;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(jt(n,{code:lt.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),e.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(jt(n,{code:lt.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),e.dirty());const a=this._def.valueType;function i(u){const o=new Set;for(const d of u){if(d.status==="aborted")return hr;d.status==="dirty"&&e.dirty(),o.add(d.value)}return{status:e.value,value:o}}const c=[...n.data.values()].map((u,o)=>a._parse(new Zo(n,u,n.path,o)));return n.common.async?Promise.all(c).then(u=>i(u)):i(c)}min(r,e){return new id({...this._def,minSize:{value:r,message:Qt.toString(e)}})}max(r,e){return new id({...this._def,maxSize:{value:r,message:Qt.toString(e)}})}size(r,e){return this.min(r,e).max(r,e)}nonempty(r){return this.min(1,r)}}id.create=(t,r)=>new id({valueType:t,minSize:null,maxSize:null,typeName:pr.ZodSet,...Pr(r)});class yf extends Vr{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:e}=this._processInputParams(r);if(e.parsedType!==At.function)return jt(e,{code:lt.invalid_type,expected:At.function,received:e.parsedType}),hr;function n(c,u){return Ey({data:c,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Ty(),Xf].filter(o=>!!o),issueData:{code:lt.invalid_arguments,argumentsError:u}})}function s(c,u){return Ey({data:c,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Ty(),Xf].filter(o=>!!o),issueData:{code:lt.invalid_return_type,returnTypeError:u}})}const a={errorMap:e.common.contextualErrorMap},i=e.data;if(this._def.returns instanceof Yf){const c=this;return Ia(async function(...u){const o=new hi([]),d=await c._def.args.parseAsync(u,a).catch(h=>{throw o.addIssue(n(u,h)),o}),p=await Reflect.apply(i,this,d);return await c._def.returns._def.type.parseAsync(p,a).catch(h=>{throw o.addIssue(s(p,h)),o})})}else{const c=this;return Ia(function(...u){const o=c._def.args.safeParse(u,a);if(!o.success)throw new hi([n(u,o.error)]);const d=Reflect.apply(i,this,o.data),p=c._def.returns.safeParse(d,a);if(!p.success)throw new hi([s(d,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new yf({...this._def,args:Jo.create(r).rest(Ku.create())})}returns(r){return new yf({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,e,n){return new yf({args:r||Jo.create([]).rest(Ku.create()),returns:e||Ku.create(),typeName:pr.ZodFunction,...Pr(n)})}}class em extends Vr{get schema(){return this._def.getter()}_parse(r){const{ctx:e}=this._processInputParams(r);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}em.create=(t,r)=>new em({getter:t,typeName:pr.ZodLazy,...Pr(r)});class tm extends Vr{_parse(r){if(r.data!==this._def.value){const e=this._getOrReturnCtx(r);return jt(e,{received:e.data,code:lt.invalid_literal,expected:this._def.value}),hr}return{status:"valid",value:r.data}}get value(){return this._def.value}}tm.create=(t,r)=>new tm({value:t,typeName:pr.ZodLiteral,...Pr(r)});function NI(t,r){return new Kc({values:t,typeName:pr.ZodEnum,...Pr(r)})}class Kc extends Vr{_parse(r){if(typeof r.data!="string"){const e=this._getOrReturnCtx(r),n=this._def.values;return jt(e,{expected:rn.joinValues(n),received:e.parsedType,code:lt.invalid_type}),hr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const e=this._getOrReturnCtx(r),n=this._def.values;return jt(e,{received:e.data,code:lt.invalid_enum_value,options:n}),hr}return Ia(r.data)}get options(){return this._def.values}get enum(){const r={};for(const e of this._def.values)r[e]=e;return r}get Values(){const r={};for(const e of this._def.values)r[e]=e;return r}get Enum(){const r={};for(const e of this._def.values)r[e]=e;return r}extract(r,e=this._def){return Kc.create(r,{...this._def,...e})}exclude(r,e=this._def){return Kc.create(this.options.filter(n=>!r.includes(n)),{...this._def,...e})}}Kc.create=NI;class rm extends Vr{_parse(r){const e=rn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(r);if(n.parsedType!==At.string&&n.parsedType!==At.number){const s=rn.objectValues(e);return jt(n,{expected:rn.joinValues(s),received:n.parsedType,code:lt.invalid_type}),hr}if(this._cache||(this._cache=new Set(rn.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const s=rn.objectValues(e);return jt(n,{received:n.data,code:lt.invalid_enum_value,options:s}),hr}return Ia(r.data)}get enum(){return this._def.values}}rm.create=(t,r)=>new rm({values:t,typeName:pr.ZodNativeEnum,...Pr(r)});class Yf extends Vr{unwrap(){return this._def.type}_parse(r){const{ctx:e}=this._processInputParams(r);if(e.parsedType!==At.promise&&e.common.async===!1)return jt(e,{code:lt.invalid_type,expected:At.promise,received:e.parsedType}),hr;const n=e.parsedType===At.promise?e.data:Promise.resolve(e.data);return Ia(n.then(s=>this._def.type.parseAsync(s,{path:e.path,errorMap:e.common.contextualErrorMap})))}}Yf.create=(t,r)=>new Yf({type:t,typeName:pr.ZodPromise,...Pr(r)});class wo extends Vr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:e,ctx:n}=this._processInputParams(r),s=this._def.effect||null,a={addIssue:i=>{jt(n,i),i.fatal?e.abort():e.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(n.data,a);if(n.common.async)return Promise.resolve(i).then(async c=>{if(e.value==="aborted")return hr;const u=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return u.status==="aborted"?hr:u.status==="dirty"||e.value==="dirty"?df(u.value):u});{if(e.value==="aborted")return hr;const c=this._def.schema._parseSync({data:i,path:n.path,parent:n});return c.status==="aborted"?hr:c.status==="dirty"||e.value==="dirty"?df(c.value):c}}if(s.type==="refinement"){const i=c=>{const u=s.refinement(c,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?hr:(c.status==="dirty"&&e.dirty(),i(c.value),{status:e.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?hr:(c.status==="dirty"&&e.dirty(),i(c.value).then(()=>({status:e.value,value:c.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!sd(i))return hr;const c=s.transform(i.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>sd(i)?Promise.resolve(s.transform(i.value,a)).then(c=>({status:e.value,value:c})):hr);rn.assertNever(s)}}wo.create=(t,r,e)=>new wo({schema:t,typeName:pr.ZodEffects,effect:r,...Pr(e)});wo.createWithPreprocess=(t,r,e)=>new wo({schema:r,effect:{type:"preprocess",transform:t},typeName:pr.ZodEffects,...Pr(e)});class Ho extends Vr{_parse(r){return this._getType(r)===At.undefined?Ia(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Ho.create=(t,r)=>new Ho({innerType:t,typeName:pr.ZodOptional,...Pr(r)});class Gc extends Vr{_parse(r){return this._getType(r)===At.null?Ia(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Gc.create=(t,r)=>new Gc({innerType:t,typeName:pr.ZodNullable,...Pr(r)});class nm extends Vr{_parse(r){const{ctx:e}=this._processInputParams(r);let n=e.data;return e.parsedType===At.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}nm.create=(t,r)=>new nm({innerType:t,typeName:pr.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...Pr(r)});class sm extends Vr{_parse(r){const{ctx:e}=this._processInputParams(r),n={...e,common:{...e.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Kp(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new hi(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new hi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}sm.create=(t,r)=>new sm({innerType:t,typeName:pr.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...Pr(r)});class Ry extends Vr{_parse(r){if(this._getType(r)!==At.nan){const n=this._getOrReturnCtx(r);return jt(n,{code:lt.invalid_type,expected:At.nan,received:n.parsedType}),hr}return{status:"valid",value:r.data}}}Ry.create=t=>new Ry({typeName:pr.ZodNaN,...Pr(t)});const Sle=Symbol("zod_brand");class Z4 extends Vr{_parse(r){const{ctx:e}=this._processInputParams(r),n=e.data;return this._def.type._parse({data:n,path:e.path,parent:e})}unwrap(){return this._def.type}}class Zm extends Vr{_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?hr:a.status==="dirty"?(e.dirty(),df(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?hr:s.status==="dirty"?(e.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(r,e){return new Zm({in:r,out:e,typeName:pr.ZodPipeline})}}class am extends Vr{_parse(r){const e=this._def.innerType._parse(r),n=s=>(sd(s)&&(s.value=Object.freeze(s.value)),s);return Kp(e)?e.then(s=>n(s)):n(e)}unwrap(){return this._def.innerType}}am.create=(t,r)=>new am({innerType:t,typeName:pr.ZodReadonly,...Pr(r)});function nN(t,r){const e=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t;return typeof e=="string"?{message:e}:e}function J4(t,r={},e){return t?Qf.create().superRefine((n,s)=>{const a=t(n);if(a instanceof Promise)return a.then(i=>{if(!i){const c=nN(r,n),u=c.fatal??e??!0;s.addIssue({code:"custom",...c,fatal:u})}});if(!a){const i=nN(r,n),c=i.fatal??e??!0;s.addIssue({code:"custom",...i,fatal:c})}}):Qf.create()}const Nle={object:Un.lazycreate};var pr;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(pr||(pr={}));const Cle=(t,r={message:`Input not instance of ${t.name}`})=>J4(e=>e instanceof t,r),Ar=fo.create,bf=qc.create,Tle=Ry.create,Ele=Hc.create,Wb=Gp.create,dp=ad.create,Ale=Ay.create,Ple=Xp.create,CI=Qp.create,Dy=Qf.create,Mle=Ku.create,Rle=Hl.create,Dle=Py.create,TI=po.create,bd=Un.create,Ile=Un.strictCreate,Ro=Yp.create,Ole=Ub.create,Fle=Zp.create,Lle=Jo.create,EI=Jp.create,Ble=My.create,$le=id.create,zle=yf.create,Vle=em.create,AI=tm.create,e3=Kc.create,Ule=rm.create,Wle=Yf.create,sN=wo.create,qle=Ho.create,Hle=Gc.create,Kle=wo.createWithPreprocess,Gle=Zm.create,Xle=()=>Ar().optional(),Qle=()=>bf().optional(),Yle=()=>Wb().optional(),mn={string:(t=>fo.create({...t,coerce:!0})),number:(t=>qc.create({...t,coerce:!0})),boolean:(t=>Gp.create({...t,coerce:!0})),bigint:(t=>Hc.create({...t,coerce:!0})),date:(t=>ad.create({...t,coerce:!0}))},Zle=hr,Jle=Object.freeze(Object.defineProperty({__proto__:null,BRAND:Sle,DIRTY:df,EMPTY_PATH:nle,INVALID:hr,NEVER:Zle,OK:Ia,ParseStatus:ba,Schema:Vr,ZodAny:Qf,ZodArray:po,ZodBigInt:Hc,ZodBoolean:Gp,ZodBranded:Z4,ZodCatch:sm,ZodDate:ad,ZodDefault:nm,ZodDiscriminatedUnion:Ub,ZodEffects:wo,ZodEnum:Kc,ZodError:hi,get ZodFirstPartyTypeKind(){return pr},ZodFunction:yf,ZodIntersection:Zp,ZodIssueCode:lt,ZodLazy:em,ZodLiteral:tm,ZodMap:My,ZodNaN:Ry,ZodNativeEnum:rm,ZodNever:Hl,ZodNull:Qp,ZodNullable:Gc,ZodNumber:qc,ZodObject:Un,ZodOptional:Ho,ZodParsedType:At,ZodPipeline:Zm,ZodPromise:Yf,ZodReadonly:am,ZodRecord:Jp,ZodSchema:Vr,ZodSet:id,ZodString:fo,ZodSymbol:Ay,ZodTransformer:wo,ZodTuple:Jo,ZodType:Vr,ZodUndefined:Xp,ZodUnion:Yp,ZodUnknown:Ku,ZodVoid:Py,addIssueToContext:jt,any:Dy,array:TI,bigint:Ele,boolean:Wb,coerce:mn,custom:J4,date:dp,datetimeRegex:SI,defaultErrorMap:Xf,discriminatedUnion:Ole,effect:sN,enum:e3,function:zle,getErrorMap:Ty,getParsedType:kl,instanceof:Cle,intersection:Fle,isAborted:g2,isAsync:Kp,isDirty:y2,isValid:sd,late:Nle,lazy:Vle,literal:AI,makeIssue:Ey,map:Ble,nan:Tle,nativeEnum:Ule,never:Rle,null:CI,nullable:Hle,number:bf,object:bd,get objectUtil(){return m2},oboolean:Yle,onumber:Qle,optional:qle,ostring:Xle,pipeline:Gle,preprocess:Kle,promise:Wle,quotelessJson:tle,record:EI,set:$le,setErrorMap:rle,strictObject:Ile,string:Ar,symbol:Ale,transformer:sN,tuple:Lle,undefined:Ple,union:Ro,unknown:Mle,get util(){return rn},void:Dle},Symbol.toStringTag,{value:"Module"})),PI=P.createContext(void 0);function Gl(){const t=P.useContext(PI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function ece({children:t}){const[r,e]=P.useState(null),[n,s]=P.useState(!0),a=xs(),i=r!==null,c=()=>localStorage.getItem("accessToken"),u=()=>localStorage.getItem("refreshToken"),[o,d]=P.useState(0),[p,f]=P.useState(null);P.useEffect(()=>{Sj({getAccessToken:c,refreshToken:W,logout:m})},[]);const g=(()=>{if(typeof window<"u"){const $=window.location.origin;if($.includes("binarjoinanelytic.info"))return`${$}/api`;if($.includes("replit.dev"))return`${$}/api`;if($.startsWith("http://localhost")||$.startsWith("file://")||$==="null")return"https://app2.binarjoinanelytic.info/api"}const R="https://app2.binarjoinanelytic.info/api";return R.endsWith("/api")?R:`${R}/api`})();P.useEffect(()=>{(async()=>{try{const{smartGetAll:$,smartSave:K}=await Fn(async()=>{const{smartGetAll:M,smartSave:F}=await Promise.resolve().then(()=>yw);return{smartGetAll:M,smartSave:F}},void 0);(await $("emergencyUsers")).length===0&&(console.log(" [AuthProvider]    ..."),await K("emergencyUsers",[{id:"emergency-admin",email:"admin@binarjoin.com",password:"admin",name:" ",role:"admin",createdAt:new Date().toISOString()}]))}catch{}})()},[]),P.useEffect(()=>{(async()=>{console.log(" [AuthProvider]   ...",new Date().toISOString());try{const $=localStorage.getItem("accessToken"),K=localStorage.getItem("user");if(!$||!K){console.log(" [AuthProvider]     "),s(!1);return}try{const H=JSON.parse(K);e(H),s(!1),console.log(" [AuthProvider]     ..."),fetch(`${g}/auth/me`,{headers:{Authorization:`Bearer ${$}`}}).then(async M=>{if(M.ok){const F=await M.json();F.user&&(e(F.user),localStorage.setItem("user",JSON.stringify(F.user)))}else console.warn(" [AuthProvider]    (401)      .")}).catch(()=>{})}catch(H){console.error(" [AuthProvider]     :",H),await m()}}catch($){console.error(" [AuthProvider]  :",$)}finally{s(!1)}})()},[]),P.useEffect(()=>{const R=$=>{$.key==="accessToken"&&!$.newValue&&(console.log(" [AuthProvider]       "),e(null))};return window.addEventListener("storage",R),()=>window.removeEventListener("storage",R)},[]);const y=async(R,$)=>{console.log(" [AuthProvider.login]   :",R,new Date().toISOString());let K=null,H=null;try{console.log(` [AuthProvider.login]    ${g}/auth/login...`),H=await fetch(`${g}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:R,password:$})}),H.ok?K=await H.json():H.status===503||H.status===500?console.warn(` [AuthProvider]       (${H.status})    ...`):console.warn(` [AuthProvider]    ${H.status}    ...`)}catch(N){console.warn(" [AuthProvider]       ...",N)}if(!K||H&&!H.ok){console.log(" [AuthProvider]    /...");try{const{smartGetAll:N}=await Fn(async()=>{const{smartGetAll:V}=await Promise.resolve().then(()=>yw);return{smartGetAll:V}},void 0),D=await N("emergencyUsers");console.log(` [AuthProvider]  ${D.length}  `);const L=D.find(V=>V.email.toLowerCase()===R.toLowerCase()&&V.password===$);if(L)console.log(" [AuthProvider]     "),K={success:!0,data:{user:{...L,emailVerified:!0},tokens:{accessToken:"emergency-token",refreshToken:"emergency-refresh"}}};else{const V=await N("users");console.log(` [AuthProvider]  ${V.length}  `);const Q=V.find(Y=>Y.email.toLowerCase()===R.toLowerCase());Q&&(console.log(" [AuthProvider]      ()"),K={success:!0,data:{user:Q,tokens:{accessToken:"offline-token",refreshToken:"offline-refresh"}}})}}catch(N){console.error(" [AuthProvider]    :",N)}}if(H&&!H.ok&&!K){const N=await H.json().catch(()=>({}));if(H.status===403&&N.requireEmailVerification){const D=new Error(N.message||"     ");throw D.requireEmailVerification=!0,D.userId=N.data?.userId,D.email=N.data?.email,D.status=403,D.data=N.data,D}throw new Error(N.message||"  ")}const M=K?.data||K,F=M?.user||K?.user;let C=M?.tokens?.accessToken||K?.tokens?.accessToken||M?.accessToken||K?.accessToken||K?.data?.accessToken||M?.token||K?.token,_=M?.tokens?.refreshToken||K?.tokens?.refreshToken||M?.refreshToken||K?.refreshToken||K?.data?.refreshToken;if(!C&&K&&typeof K=="object"){const N=["accessToken","token","jwt","auth_token"];for(const D of N)if(K[D]){C=K[D];break}}if(console.log(" [AuthProvider.login]   :",{hasUser:!!F,hasToken:!!C,tokenType:typeof C}),!C)throw console.error(" [AuthProvider.login]    :",K),new Error("       .    .");const S={id:F?.id||"unknown",email:F?.email||R,name:F?.name||F?.fullName||`${F?.firstName||""} ${F?.lastName||""}`.trim()||R,role:F?.role||"admin",mfaEnabled:!!F?.mfaEnabled,emailVerified:F?.emailVerified===!0||!0};return console.log(" [AuthProvider.login]    localStorage..."),localStorage.setItem("user",JSON.stringify(S)),localStorage.setItem("accessToken",C),_&&localStorage.setItem("refreshToken",_),e(S),(async()=>{try{console.log(" [AuthProvider]   ...");const N=await Fn(()=>Promise.resolve().then(()=>XL),void 0),D=N.startSync||N.default?.startSync;typeof D=="function"&&await D()}catch(N){console.warn(" [AuthProvider]     :",N)}})().then(()=>{console.log(" [AuthProvider]   "),a.invalidateQueries()}).catch(()=>{}),await new Promise(N=>setTimeout(N,50)),mU().catch(console.warn),console.log(" [AuthProvider.login]    "),K},m=async()=>{try{const R=localStorage.getItem("accessToken");if(R)try{await fetch(`${g}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${R}`}})}catch{}}catch{}finally{e(null),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),gU()}},[v,x]=P.useState(0),[j,T]=P.useState(!1),E=R=>new Promise($=>setTimeout($,R)),B=R=>Math.min(100*Math.pow(2,R),5e3),W=async(R=!1)=>{if(console.log(" [AuthProvider.refreshToken]    ..."),j&&!R){for(console.log(" [AuthProvider.refreshToken]    ...");j;)await E(100);return localStorage.getItem("accessToken")!==null}T(!0);const $=Date.now();try{const K=localStorage.getItem("refreshToken");if(!K)return console.log(" [AuthProvider.refreshToken]   refresh token"),!1;const H=3;for(let F=0;F<H;F++){const C=Date.now();console.log(` [AuthProvider.refreshToken]  ${F+1}/${H}...`);try{const _=new AbortController,S=setTimeout(()=>{_.abort(),console.log(` [AuthProvider.refreshToken] timeout  ${F+1}`)},1e4),k=await fetch(`${g}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:K}),signal:_.signal});clearTimeout(S);const N=Date.now()-C;console.log(` [AuthProvider.refreshToken]  ${F+1}  ${N}ms`);const D=await k.text();let L;try{L=JSON.parse(D)}catch{console.log(" [AuthProvider.refreshToken]  parsing JSON:",D),L={success:!1,message:D}}if(k.ok&&L.success&&L.tokens){console.log(" [AuthProvider.refreshToken]  :",{success:L.success,hasTokens:!!L.tokens}),localStorage.setItem("accessToken",L.tokens.accessToken),localStorage.setItem("refreshToken",L.tokens.refreshToken),x(0);const V=Date.now()-$;return console.log(` [AuthProvider.refreshToken]    ${V}ms  ${F+1} `),!0}else console.log(` [AuthProvider.refreshToken]  ${k.status}:`,L.message||D);if(k.status===401||k.status===403){console.log(" [AuthProvider.refreshToken] refresh token   -     ");break}}catch(_){const S=Date.now()-C;_ instanceof Error?_.name==="AbortError"?console.log(` [AuthProvider.refreshToken] timeout   ${F+1}  ${S}ms`):console.log(` [AuthProvider.refreshToken]     ${F+1}:`,_.message):console.log(` [AuthProvider.refreshToken]      ${F+1}:`,_)}if(F<H-1){const _=B(F);console.log(` [AuthProvider.refreshToken]  ${_}ms   ...`),await E(_)}}x(F=>F+1);const M=Date.now()-$;return console.log(` [AuthProvider.refreshToken]     ${M}ms ${H} `),!1}catch(K){const H=Date.now()-$;return console.error(` [AuthProvider.refreshToken]    ${H}ms:`,K),x(M=>M+1),!1}finally{T(!1)}},I={user:r,isAuthenticated:i,isLoading:n,login:y,logout:m,refreshToken:W,getAccessToken:c,getRefreshToken:u};return P.useEffect(()=>{Sj({getAccessToken:c,refreshToken:W,logout:m})},[]),l.jsx(PI.Provider,{value:I,children:t})}const Kl=Foe,MI=P.createContext({}),tn=({...t})=>l.jsx(MI.Provider,{value:{name:t.name},children:l.jsx(hI,{...t})}),qb=()=>{const t=P.useContext(MI),r=P.useContext(RI),{getFieldState:e,formState:n}=Ooe(),s=e(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=r;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},RI=P.createContext({}),Jr=P.forwardRef(({className:t,...r},e)=>{const n=P.useId();return l.jsx(RI.Provider,{value:{id:n},children:l.jsx("div",{ref:e,className:Pe("space-y-2",t),...r})})});Jr.displayName="FormItem";const Wn=P.forwardRef(({className:t,...r},e)=>{const{error:n,formItemId:s}=qb();return l.jsx(Qe,{ref:e,className:Pe(n&&"text-destructive",t),htmlFor:s,...r})});Wn.displayName="FormLabel";const on=P.forwardRef(({...t},r)=>{const{error:e,formItemId:n,formDescriptionId:s,formMessageId:a}=qb();return l.jsx(pd,{ref:r,id:n,"aria-describedby":e?`${s} ${a}`:`${s}`,"aria-invalid":!!e,...t})});on.displayName="FormControl";const tce=P.forwardRef(({className:t,...r},e)=>{const{formDescriptionId:n}=qb();return l.jsx("p",{ref:e,id:n,className:Pe("text-sm text-muted-foreground",t),...r})});tce.displayName="FormDescription";const An=P.forwardRef(({className:t,children:r,...e},n)=>{const{error:s,formMessageId:a}=qb(),i=s?String(s?.message??""):r;return i?l.jsx("p",{ref:n,id:a,className:Pe("text-[10px] font-black text-destructive text-right uppercase tracking-tighter mt-1 animate-in fade-in slide-in-from-top-1 duration-200",t),...e,children:i}):null});An.displayName="FormMessage";const DI="/assets/logo_header_light.png",rce="/assets/logo_header_dark.png",II="/assets/app_icon_light.png",nce="/assets/app_icon_dark.png",sce=bd({email:Ar().email("   "),password:Ar().min(1,"  ")});function ace(){const[,t]=Rs(),{toast:r}=wn(),{login:e}=Gl(),[n,s]=P.useState("online"),[a,i]=P.useState(!1),[c,u]=P.useState(!1),o=Wl({resolver:ql(sce),defaultValues:{email:"",password:""}}),d=$t({mutationFn:async p=>await e(p.email,p.password),onSuccess:()=>{r({title:"  ",description:"    "}),t("/")},onError:p=>{if(p.requireEmailVerification||p.status===403){r({title:"    ",description:"       ",variant:"default"});const f=p.userId||p.data?.userId,h=p.email||p.data?.email||o.getValues("email");t(`/verify-email?userId=${f}&email=${encodeURIComponent(h)}`);return}r({title:"  ",description:p.message||"    ",variant:"destructive"})}});return l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%230f172a' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[l.jsxs("div",{className:"flex flex-col flex-1 gap-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[l.jsxs("div",{className:"text-right flex flex-col items-end",children:[l.jsx("h2",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest leading-none",children:" "}),l.jsx("span",{className:"text-[8px] text-gray-300 dark:text-slate-600 font-bold",children:"WELCOME BACK"})]}),l.jsx(Oe,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-slate-100 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",children:l.jsxs("div",{className:"flex gap-0.5",children:[l.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"})]})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[l.jsxs("div",{className:"relative mb-4 group cursor-pointer",children:[l.jsx("div",{className:"absolute -inset-1.5 bg-blue-500/10 rounded-[24px] blur-md opacity-0 group-hover:opacity-100 transition duration-500"}),l.jsxs("div",{className:"w-24 h-24 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative bg-white/50 dark:bg-white/5 backdrop-blur-sm rounded-2xl p-2 border border-white/20",children:[l.jsx("img",{src:II,alt:"AXION Logo",className:"w-full h-full object-contain","data-testid":"img-logo-light"}),l.jsx("div",{className:"absolute top-2 right-2 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md ring-2 ring-blue-400/20 animate-pulse"})]})]}),l.jsxs("div",{className:"text-center relative",children:[l.jsx("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:l.jsx("img",{src:DI,alt:"AXION | ",className:"h-12 object-contain bg-white/30 dark:bg-white/5 backdrop-blur-sm rounded-lg px-4 py-1 border border-white/10","data-testid":"img-header-light"})}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[l.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-r from-transparent to-blue-200 dark:to-blue-900"}),l.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-[9px] font-black tracking-[0.5em] uppercase",children:"Real Assets Management"}),l.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-l from-transparent to-blue-200 dark:to-blue-900"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 animate-in slide-in-from-bottom duration-500 delay-300 fill-mode-both",children:[l.jsxs("button",{type:"button",onClick:()=>s("offline"),className:`flex items-center justify-between p-2 rounded-xl border transition-all h-14 shadow-sm active:scale-95 ${n==="offline"?"bg-blue-600 dark:bg-white text-white dark:text-slate-900 border-blue-600 dark:border-white ring-2 ring-blue-600/10":"bg-card dark:bg-slate-900 border-border dark:border-slate-800 text-gray-500"}`,children:[l.jsxs("div",{className:"flex flex-col items-start leading-none text-right w-full",children:[l.jsx("span",{className:`text-[8px] font-bold ${n==="offline"?"text-slate-300 dark:text-slate-600":"text-gray-400"}`,children:""}),l.jsx("span",{className:"text-[11px] font-black",children:" "})]}),l.jsx("div",{className:`p-1.5 rounded-lg ${n==="offline"?"bg-white/10 dark:bg-slate-900/10 text-white dark:text-slate-900":"bg-gray-50 dark:bg-slate-800 text-gray-400"}`,children:l.jsx(Lj,{className:"w-4 h-4"})})]}),l.jsxs("button",{type:"button",onClick:()=>s("online"),className:`flex items-center justify-between p-2 rounded-xl border transition-all h-14 shadow-sm active:scale-95 ${n==="online"?"bg-blue-600 dark:bg-white text-white dark:text-slate-900 border-blue-600 dark:border-white ring-2 ring-blue-600/10":"bg-card dark:bg-slate-900 border-border dark:border-slate-800 text-gray-500"}`,children:[l.jsxs("div",{className:"flex flex-col items-start leading-none text-right w-full",children:[l.jsx("span",{className:`text-[8px] font-bold ${n==="online"?"text-slate-300 dark:text-slate-600":"text-gray-400"}`,children:""}),l.jsx("span",{className:"text-[11px] font-black",children:" "})]}),l.jsx("div",{className:`p-1.5 rounded-lg ${n==="online"?"bg-white/10 dark:bg-slate-900/10 text-white dark:text-slate-900":"bg-gray-50 dark:bg-slate-800 text-gray-400"}`,children:l.jsx(s_,{className:"w-4 h-4"})})]})]}),l.jsx(Kl,{...o,children:l.jsxs("form",{onSubmit:o.handleSubmit(p=>d.mutate(p)),className:"space-y-2 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[l.jsx(tn,{control:o.control,name:"email",render:({field:p})=>l.jsx(Jr,{children:l.jsxs("div",{className:`bg-card dark:bg-slate-900 rounded-xl border shadow-sm h-16 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-slate-900/5 dark:focus-within:ring-white/5 ${o.formState.errors.email?"border-red-500":"border-border dark:border-slate-800"}`,children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-gray-400 dark:text-slate-500 font-black text-right uppercase tracking-tighter",children:"Identity / "}),l.jsx(on,{children:l.jsx(gt,{...p,type:"text",autoComplete:"off",placeholder:"username@axion.system",className:"border-none p-0 h-6 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none","data-testid":"input-email"})})]}),l.jsx("button",{type:"button",onClick:()=>u(!0),className:"flex items-center justify-center ml-2 text-slate-300 dark:text-slate-700 hover:text-slate-600 dark:hover:text-slate-400 transition-colors","data-testid":"button-switch-account",children:l.jsx(On,{className:"w-5 h-5",strokeWidth:1.5})})]})})}),l.jsx(tn,{control:o.control,name:"password",render:({field:p})=>l.jsx(Jr,{children:l.jsxs("div",{className:`bg-card dark:bg-slate-900 rounded-xl border shadow-sm h-16 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-slate-900/5 dark:focus-within:ring-white/5 ${o.formState.errors.password?"border-red-500":"border-border dark:border-slate-800"}`,children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-gray-400 dark:text-slate-500 font-black text-right uppercase tracking-tighter",children:"Security /  "}),l.jsx(on,{children:l.jsx(gt,{...p,type:a?"text":"password",autoComplete:"off",placeholder:"",className:"border-none p-0 h-6 text-base font-black text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-password",hidePasswordToggle:!0})})]}),l.jsx("button",{type:"button",onClick:()=>i(!a),className:"flex items-center justify-center ml-2 transition-colors","data-testid":"button-toggle-password",children:a?l.jsx(Bc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400",strokeWidth:2}):l.jsx(Yu,{className:"w-5 h-5 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})}),l.jsxs("div",{className:"flex justify-between px-1",children:[l.jsx("button",{type:"button",onClick:()=>t("/forgot-password"),className:"text-[10px] font-bold text-slate-400 dark:text-slate-600 hover:text-slate-900 dark:hover:text-white transition-colors","data-testid":"link-forgot-password",children:" "}),l.jsx("button",{type:"button",className:"text-[10px] font-bold text-blue-600 dark:text-blue-400",children:" "})]}),l.jsxs("div",{className:"space-y-2 pt-2",children:[l.jsx(Oe,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:d.isPending,"data-testid":"button-login",children:d.isPending?l.jsx(Ln,{className:"animate-spin h-5 w-5"}):" "}),l.jsx(Oe,{type:"button",variant:"ghost",className:"w-full h-10 text-blue-600/70 dark:text-blue-400/70 text-sm font-bold rounded-xl hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>t("/register"),"data-testid":"button-create-account",children:"    "})]})]})})]}),l.jsxs("div",{className:"flex flex-col items-center gap-3 pb-12 relative animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[l.jsxs("div",{className:"flex items-center gap-4 w-full",children:[l.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30"}),l.jsx("span",{className:"text-[8px] font-black text-blue-400 dark:text-blue-700 tracking-[0.2em] uppercase",children:"Axion Security v2.0"}),l.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30"})]}),l.jsx("div",{className:"flex gap-4 mb-4",children:[{Icon:YW,label:"Biometric",testId:"button-fingerprint"},{Icon:Lj,label:"QR Scan",testId:"button-scan-qr"},{Icon:sq,label:"Support",testId:"button-support"}].map(({Icon:p,label:f,testId:h},g)=>l.jsx("button",{type:"button",onClick:()=>{alert(`${f} feature coming soon on Axion Mobile.`)},className:"w-12 h-12 bg-card dark:bg-slate-900 rounded-2xl shadow-sm border border-border dark:border-slate-800 flex items-center justify-center text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:shadow-md transition-all active:scale-90","data-testid":h,children:l.jsx(p,{className:"w-5 h-5",strokeWidth:1.5})},g))}),l.jsxs("div",{className:"w-full flex flex-col items-center gap-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-[9px] font-black text-slate-400 dark:text-slate-600 tracking-wider",children:"AXION CORE v3.9.1 - SECURE"})]}),l.jsx("span",{className:"text-[8px] text-gray-300 dark:text-slate-700",children:" 2026 AXION OPERATIONS MANAGEMENT"})]}),c&&l.jsx("div",{className:"absolute bottom-16 left-0 right-0 px-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:l.jsxs("div",{className:"bg-blue-600 dark:bg-white h-12 rounded-xl flex items-center justify-between px-4 shadow-2xl border border-white/10 dark:border-black/5",children:[l.jsx("span",{className:"text-white dark:text-slate-900 text-[11px] font-medium text-right w-full ml-4",children:"      "}),l.jsx("button",{onClick:()=>u(!1),className:"w-6 h-6 bg-white/10 dark:bg-slate-900/10 rounded-lg flex items-center justify-center hover:bg-white/20 dark:hover:bg-slate-900/20 transition-colors",children:l.jsx(Es,{className:"w-4 h-4 text-white dark:text-slate-900",strokeWidth:2})})]})})]})]})]})}var Hb="Checkbox",[ice]=va(Hb),[oce,t3]=ice(Hb);function lce(t){const{__scopeCheckbox:r,checked:e,children:n,defaultChecked:s,disabled:a,form:i,name:c,onCheckedChange:u,required:o,value:d="on",internal_do_not_use_render:p}=t,[f,h]=go({prop:e,defaultProp:s??!1,onChange:u,caller:Hb}),[g,y]=P.useState(null),[m,v]=P.useState(null),x=P.useRef(!1),j=g?!!i||!!g.closest("form"):!0,T={checked:f,disabled:a,setChecked:h,control:g,setControl:y,name:c,form:i,value:d,hasConsumerStoppedPropagationRef:x,required:o,defaultChecked:Mc(s)?!1:s,isFormControl:j,bubbleInput:m,setBubbleInput:v};return l.jsx(oce,{scope:r,...T,children:cce(p)?p(T):n})}var OI="CheckboxTrigger",FI=P.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:e,...n},s)=>{const{control:a,value:i,disabled:c,checked:u,required:o,setControl:d,setChecked:p,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:g}=t3(OI,t),y=Cr(s,d),m=P.useRef(u);return P.useEffect(()=>{const v=a?.form;if(v){const x=()=>p(m.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[a,p]),l.jsx(ir.button,{type:"button",role:"checkbox","aria-checked":Mc(u)?"mixed":u,"aria-required":o,"data-state":VI(u),"data-disabled":c?"":void 0,disabled:c,value:i,...n,ref:y,onKeyDown:pt(r,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:pt(e,v=>{p(x=>Mc(x)?!0:!x),g&&h&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});FI.displayName=OI;var r3=P.forwardRef((t,r)=>{const{__scopeCheckbox:e,name:n,checked:s,defaultChecked:a,required:i,disabled:c,value:u,onCheckedChange:o,form:d,...p}=t;return l.jsx(lce,{__scopeCheckbox:e,checked:s,defaultChecked:a,disabled:c,required:i,onCheckedChange:o,name:n,form:d,value:u,internal_do_not_use_render:({isFormControl:f})=>l.jsxs(l.Fragment,{children:[l.jsx(FI,{...p,ref:r,__scopeCheckbox:e}),f&&l.jsx(zI,{__scopeCheckbox:e})]})})});r3.displayName=Hb;var LI="CheckboxIndicator",BI=P.forwardRef((t,r)=>{const{__scopeCheckbox:e,forceMount:n,...s}=t,a=t3(LI,e);return l.jsx(ws,{present:n||Mc(a.checked)||a.checked===!0,children:l.jsx(ir.span,{"data-state":VI(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:r,style:{pointerEvents:"none",...t.style}})})});BI.displayName=LI;var $I="CheckboxBubbleInput",zI=P.forwardRef(({__scopeCheckbox:t,...r},e)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:i,required:c,disabled:u,name:o,value:d,form:p,bubbleInput:f,setBubbleInput:h}=t3($I,t),g=Cr(e,h),y=i4(a),m=p_(n);P.useEffect(()=>{const x=f;if(!x)return;const j=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(j,"checked").set,B=!s.current;if(y!==a&&E){const W=new Event("click",{bubbles:B});x.indeterminate=Mc(a),E.call(x,Mc(a)?!1:a),x.dispatchEvent(W)}},[f,y,a,s]);const v=P.useRef(Mc(a)?!1:a);return l.jsx(ir.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:c,disabled:u,name:o,value:d,form:p,...r,tabIndex:-1,ref:g,style:{...r.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});zI.displayName=$I;function cce(t){return typeof t=="function"}function Mc(t){return t==="indeterminate"}function VI(t){return Mc(t)?"indeterminate":t?"checked":"unchecked"}const im=P.forwardRef(({className:t,...r},e)=>l.jsx(r3,{ref:e,className:Pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:l.jsx(BI,{className:Pe("flex items-center justify-center text-current"),children:l.jsx(Al,{className:"h-4 w-4"})})}));im.displayName=r3.displayName;const Br=[{name:"",code:"+967",flag:"https://flagcdn.com/w20/ye.png"},{name:"",code:"+966",flag:"https://flagcdn.com/w20/sa.png"},{name:"",code:"+971",flag:"https://flagcdn.com/w20/ae.png"},{name:"",code:"+968",flag:"https://flagcdn.com/w20/om.png"},{name:"",code:"+965",flag:"https://flagcdn.com/w20/kw.png"},{name:"",code:"+974",flag:"https://flagcdn.com/w20/qa.png"},{name:"",code:"+973",flag:"https://flagcdn.com/w20/bh.png"},{name:"",code:"+20",flag:"https://flagcdn.com/w20/eg.png"},{name:"",code:"+962",flag:"https://flagcdn.com/w20/jo.png"},{name:"",code:"+964",flag:"https://flagcdn.com/w20/iq.png"},{name:"",code:"+963",flag:"https://flagcdn.com/w20/sy.png"},{name:"",code:"+961",flag:"https://flagcdn.com/w20/lb.png"},{name:"",code:"+970",flag:"https://flagcdn.com/w20/ps.png"},{name:"",code:"+212",flag:"https://flagcdn.com/w20/ma.png"},{name:"",code:"+213",flag:"https://flagcdn.com/w20/dz.png"},{name:"",code:"+216",flag:"https://flagcdn.com/w20/tn.png"},{name:"",code:"+218",flag:"https://flagcdn.com/w20/ly.png"},{name:"",code:"+249",flag:"https://flagcdn.com/w20/sd.png"},{name:"",code:"+222",flag:"https://flagcdn.com/w20/mr.png"},{name:"",code:"+90",flag:"https://flagcdn.com/w20/tr.png"},{name:" ",code:"+1",flag:"https://flagcdn.com/w20/us.png"},{name:" ",code:"+44",flag:"https://flagcdn.com/w20/gb.png"}],uce=bd({fullName:Ar().min(1,"  "),email:Ar().email("   "),phone:Ar().min(9,"   "),password:Ar().min(6,"       6 "),confirmPassword:Ar().min(1,"   "),birthDate:Ar().min(1,"  "),birthPlace:Ar().min(1,"  "),gender:Ar().min(1," "),terms:Wb().refine(t=>t===!0,"   ")}).refine(t=>t.password===t.confirmPassword,{message:"   ",path:["confirmPassword"]}),dce=()=>l.jsxs("div",{className:"flex flex-col items-center justify-center mb-4 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[l.jsx("div",{className:"relative mb-3 group cursor-pointer",children:l.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[l.jsx("img",{src:II,alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),l.jsx("img",{src:nce,alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),l.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),l.jsxs("div",{className:"text-center relative",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[l.jsx("img",{src:DI,alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),l.jsx("img",{src:rce,alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]}),l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-r from-transparent to-blue-200 dark:to-blue-900"}),l.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-[9px] font-black tracking-[0.5em] uppercase",children:"Real Assets Management"}),l.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-l from-transparent to-blue-200 dark:to-blue-900"})]})]})]});function fce(){const[,t]=Rs(),{toast:r}=wn(),[e,n]=P.useState(Br[0]),[s,a]=P.useState(""),[i,c]=P.useState(!1),[u,o]=P.useState(!1),[d,p]=P.useState(!1),[f,h]=P.useState(!1),[g,y]=P.useState(2e3),[m,v]=P.useState(1),[x,j]=P.useState(1);P.useEffect(()=>{(()=>{try{const I=Intl.DateTimeFormat().resolvedOptions().timeZone;I.includes("Aden")||I.includes("Sanaa")?n(Br.find(R=>R.code==="+967")||Br[0]):I.includes("Riyadh")?n(Br.find(R=>R.code==="+966")||Br[0]):I.includes("Dubai")||I.includes("Abu_Dhabi")?n(Br.find(R=>R.code==="+971")||Br[0]):I.includes("Cairo")?n(Br.find(R=>R.code==="+20")||Br[0]):I.includes("Muscat")?n(Br.find(R=>R.code==="+968")||Br[0]):I.includes("Kuwait")?n(Br.find(R=>R.code==="+965")||Br[0]):I.includes("Qatar")?n(Br.find(R=>R.code==="+974")||Br[0]):I.includes("Bahrain")?n(Br.find(R=>R.code==="+973")||Br[0]):I.includes("Amman")?n(Br.find(R=>R.code==="+962")||Br[0]):I.includes("Baghdad")?n(Br.find(R=>R.code==="+964")||Br[0]):I.includes("Damascus")?n(Br.find(R=>R.code==="+963")||Br[0]):I.includes("Beirut")?n(Br.find(R=>R.code==="+961")||Br[0]):I.includes("Gaza")||I.includes("Hebron")?n(Br.find(R=>R.code==="+970")||Br[0]):I.includes("Casablanca")?n(Br.find(R=>R.code==="+212")||Br[0]):I.includes("Algiers")?n(Br.find(R=>R.code==="+213")||Br[0]):I.includes("Tunis")?n(Br.find(R=>R.code==="+216")||Br[0]):I.includes("Tripoli")?n(Br.find(R=>R.code==="+218")||Br[0]):I.includes("Khartoum")?n(Br.find(R=>R.code==="+249")||Br[0]):I.includes("Istanbul")&&n(Br.find(R=>R.code==="+90")||Br[0])}catch(I){console.error("Failed to detect country:",I)}})()},[]);const T=Br.filter(W=>W.name.includes(s)||W.code.includes(s)),E=Wl({resolver:ql(uce),defaultValues:{fullName:"",email:"",phone:"",password:"",confirmPassword:"",birthDate:"",birthPlace:"",gender:"",terms:!1}}),B=$t({mutationFn:async W=>{const I=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(!I.ok){const R=await I.json();throw new Error(R.message||"  ")}return I.json()},onSuccess:W=>{r({title:"   ",description:"      "});const I=W?.data?.user?.id,R=W?.data?.user?.email||E.getValues("email");t(`/verify-email?userId=${I}&email=${encodeURIComponent(R)}`)},onError:W=>{r({title:"  ",description:W.message,variant:"destructive"})}});return l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsx("div",{className:"w-full max-w-[420px] h-full z-10 flex flex-col p-4 pt-safe justify-center relative",children:l.jsxs("div",{className:"flex flex-col gap-2 px-1 pt-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[l.jsxs("div",{className:"text-right flex flex-col items-end",children:[l.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),l.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"JOIN AXION OPS"})]}),l.jsx(Oe,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>t("/login"),"data-testid":"button-back",children:l.jsxs("div",{className:"flex gap-0.5",children:[l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),l.jsx(dce,{}),l.jsx(Kl,{...E,children:l.jsxs("form",{onSubmit:E.handleSubmit(W=>B.mutate(W)),className:"space-y-2 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[l.jsx(tn,{control:E.control,name:"fullName",render:({field:W})=>l.jsx(Jr,{className:"space-y-0",children:l.jsx("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Full Name / "}),l.jsx(on,{children:l.jsx(gt,{...W,placeholder:" ",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-fullname"})})]})})})}),l.jsx(tn,{control:E.control,name:"email",render:({field:W})=>l.jsx(Jr,{className:"space-y-0",children:l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Identity / "}),l.jsx(on,{children:l.jsx(gt,{...W,type:"email",placeholder:"username@axion.system",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-email"})})]}),l.jsx(r_,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})}),l.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[l.jsxs(Ks,{open:i,onOpenChange:c,children:[l.jsx(Uf,{asChild:!0,children:l.jsxs("button",{type:"button",className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-2 justify-between hover:bg-muted/50 transition-colors",children:[l.jsx(rs,{className:"w-3 h-3 text-blue-600/30"}),l.jsx("span",{className:"text-xs font-black text-foreground",dir:"ltr",children:e.code}),l.jsx("img",{src:e.flag,alt:e.name,className:"w-4 h-auto rounded-sm"})]})}),l.jsx(As,{className:"max-w-[400px] w-[95%] p-0 rounded-3xl border-border dark:border-slate-800 bg-card dark:bg-slate-900 shadow-2xl overflow-hidden",dir:"rtl",children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"relative mb-4",children:[l.jsx(gt,{placeholder:"",value:s,onChange:W=>a(W.target.value),className:"w-full h-12 bg-muted/50 dark:bg-slate-800/50 border-none rounded-xl text-right pr-10 pl-4 text-sm font-bold focus-visible:ring-0"}),l.jsx(Bl,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground/40"})]}),l.jsx("div",{className:"max-h-[40vh] overflow-y-auto custom-scrollbar",children:T.map(W=>l.jsxs("button",{onClick:()=>{n(W),c(!1)},className:"w-full flex items-center justify-between p-3 hover:bg-muted/50 dark:hover:bg-slate-800/50 rounded-xl transition-colors mb-1",children:[l.jsx("img",{src:W.flag,alt:W.name,className:"w-6 h-auto rounded-sm shadow-sm"}),l.jsx("span",{className:"text-sm font-bold text-foreground flex-1 text-right px-4",dir:"ltr",children:W.code}),l.jsx("span",{className:"text-sm font-bold text-muted-foreground min-w-[100px] text-left",children:W.name})]},W.name+W.code))})]})})]}),l.jsx(tn,{control:E.control,name:"phone",render:({field:W})=>l.jsx(Jr,{className:"space-y-0",children:l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Smartphone / "}),l.jsx(on,{children:l.jsx(gt,{...W,placeholder:"7xxxxxxxx",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-phone"})})]}),l.jsx(s_,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(tn,{control:E.control,name:"password",render:({field:W})=>l.jsx(Jr,{className:"space-y-0",children:l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Security /  "}),l.jsx(on,{children:l.jsx(gt,{...W,type:d?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-password",hidePasswordToggle:!0})})]}),l.jsx("button",{type:"button",onClick:()=>p(!d),className:"flex items-center justify-center ml-1 transition-colors",children:d?l.jsx(Bc,{className:"w-4 h-4 text-blue-600 dark:text-blue-400",strokeWidth:2}):l.jsx(Yu,{className:"w-4 h-4 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})}),l.jsx(tn,{control:E.control,name:"confirmPassword",render:({field:W})=>l.jsx(Jr,{className:"space-y-0",children:l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Verify / "}),l.jsx(on,{children:l.jsx(gt,{...W,type:f?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-confirm-password",hidePasswordToggle:!0})})]}),l.jsx("button",{type:"button",onClick:()=>h(!f),className:"flex items-center justify-center ml-1 transition-colors",children:f?l.jsx(Bc,{className:"w-4 h-4 text-blue-600 dark:text-blue-400",strokeWidth:2}):l.jsx(Yu,{className:"w-4 h-4 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(tn,{control:E.control,name:"birthPlace",render:({field:W})=>l.jsx(Jr,{className:"space-y-0",children:l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Location /  "}),l.jsx(on,{children:l.jsx(gt,{...W,placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none"})})]}),l.jsx(Bo,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})}),l.jsx(tn,{control:E.control,name:"birthDate",render:({field:W})=>l.jsx(Jr,{className:"space-y-0",children:l.jsxs(Ks,{open:u,onOpenChange:o,children:[l.jsx(Uf,{asChild:!0,children:l.jsxs("button",{type:"button",className:"w-full bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 justify-between hover:bg-muted/50 transition-colors","data-testid":"button-birth-date",children:[l.jsx(ma,{className:"w-4 h-4 text-blue-600/30"}),l.jsx("span",{className:`text-xs font-bold ${W.value?"text-foreground":"text-muted-foreground/30"}`,children:W.value||" "})]})}),l.jsx(As,{className:"max-w-[350px] w-[95%] p-0 rounded-3xl border-border dark:border-slate-800 bg-card dark:bg-slate-900 shadow-2xl overflow-hidden",dir:"rtl",children:l.jsxs("div",{className:"p-4",children:[l.jsx(Gs,{className:"pb-4 border-b border-border dark:border-slate-800",children:l.jsx(da,{className:"text-center text-lg font-black text-foreground",children:" "})}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 py-6",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),l.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:Array.from({length:80},(I,R)=>2025-R).map(I=>l.jsx("button",{type:"button",onClick:()=>y(I),className:`w-full py-2 text-center font-bold transition-colors ${g===I?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:I},I))})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),l.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:["","","","","","","","","","","",""].map((I,R)=>l.jsx("button",{type:"button",onClick:()=>v(R+1),className:`w-full py-2 text-center font-bold text-sm transition-colors ${m===R+1?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:I},I))})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),l.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:Array.from({length:31},(I,R)=>R+1).map(I=>l.jsx("button",{type:"button",onClick:()=>j(I),className:`w-full py-2 text-center font-bold transition-colors ${x===I?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:I},I))})]})]}),l.jsx(Oe,{onClick:()=>{const I=`${g}-${String(m).padStart(2,"0")}-${String(x).padStart(2,"0")}`;E.setValue("birthDate",I),o(!1)},className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-xl",children:" "})]})})]})})})]}),l.jsx(tn,{control:E.control,name:"terms",render:({field:W})=>l.jsxs(Jr,{className:"flex flex-row items-center justify-center space-x-2 space-y-0 py-1",children:[l.jsx(on,{children:l.jsx(im,{checked:W.value,onCheckedChange:W.onChange,className:"rounded-sm border-blue-600/30 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"})}),l.jsx("div",{className:"leading-none text-right px-2",children:l.jsxs(Wn,{className:"text-[10px] font-bold text-muted-foreground",children:["  ",l.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" "}),"  ",l.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" "})]})})]})}),l.jsx(Oe,{type:"submit",className:"w-full h-12 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-xl font-black text-base shadow-lg shadow-blue-600/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 group",disabled:B.isPending,"data-testid":"button-submit",children:B.isPending?l.jsx(Ln,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"  "}),l.jsx(Pl,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"})]})})]})}),l.jsx("div",{className:"mt-2 text-center pb-2 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:l.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:["  ",l.jsx("button",{onClick:()=>t("/login"),className:"text-blue-600 dark:text-blue-400 mr-1 hover:underline underline-offset-4",children:" "})]})})]})})]})}const hce=bd({newPassword:Ar().min(8,"     8   ").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"         "),confirmPassword:Ar().min(1,"   ")}).refine(t=>t.newPassword===t.confirmPassword,{message:"   ",path:["confirmPassword"]});function pce(){const[,t]=Rs(),{toast:r}=wn(),[e,n]=P.useState(!1),[s,a]=P.useState(null),[i,c]=P.useState(null),[u,o]=P.useState(!1),[d,p]=P.useState(!1),f=Wl({resolver:ql(hce),defaultValues:{newPassword:"",confirmPassword:""}});P.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("token");m?(a(m),c(!0)):c(!1)},[]);const h=$t({mutationFn:async y=>{if(!s)throw new Error("   ");const m=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,newPassword:y.newPassword})});if(!m.ok){const v=await m.json();throw new Error(v.message||"     ")}return m.json()},onSuccess:y=>{y.success?(n(!0),r({title:"    ",description:"      "})):r({title:"     ",description:y.message,variant:"destructive"})},onError:y=>{r({title:"     ",description:y.message||"   ",variant:"destructive"})}}),g=y=>{h.mutate(y)};return i===!1?l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[l.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center",children:l.jsx(a_,{className:"w-12 h-12 text-red-500"})}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h2",{className:"text-xl font-black text-red-600",children:"  "}),l.jsx("p",{className:"text-sm text-red-600/60 font-bold",children:"        .    ."})]}),l.jsxs("div",{className:"w-full space-y-2",children:[l.jsx(Oe,{onClick:()=>t("/forgot-password"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",children:"  "}),l.jsx(Oe,{variant:"ghost",onClick:()=>t("/login"),className:"w-full h-12 text-blue-600 font-bold",children:"  "})]})]})]}):e?l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[l.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center",children:l.jsx(Fl,{className:"w-12 h-12 text-blue-600"})}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h2",{className:"text-xl font-black text-blue-600 dark:text-blue-400",children:" !"}),l.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"     .    ."})]}),l.jsx(Oe,{onClick:()=>t("/login"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",children:"  "})]})]}):l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[l.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[l.jsxs("div",{className:"text-right flex flex-col items-end",children:[l.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),l.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"SECURE ACCOUNT"})]}),l.jsx(Oe,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>t("/login"),children:l.jsxs("div",{className:"flex gap-0.5",children:[l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[l.jsx("div",{className:"relative mb-4 group cursor-pointer",children:l.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[l.jsx("img",{src:"/assets/app_icon_light.png",alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),l.jsx("img",{src:"/assets/app_icon_dark.png",alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),l.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),l.jsx("div",{className:"text-center relative",children:l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[l.jsx("img",{src:"/assets/logo_header_light.png",alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),l.jsx("img",{src:"/assets/logo_header_dark.png",alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]})})]}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h2",{className:"text-lg font-black text-blue-600 dark:text-blue-400 mb-1",children:"   "}),l.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"     "})]}),l.jsx(Kl,{...f,children:l.jsxs("form",{onSubmit:f.handleSubmit(g),className:"space-y-4 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[l.jsx(tn,{control:f.control,name:"newPassword",render:({field:y})=>l.jsxs(Jr,{children:[l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Security /  "}),l.jsx(on,{children:l.jsx(gt,{...y,type:u?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none",hidePasswordToggle:!0})})]}),l.jsx("button",{type:"button",onClick:()=>o(!u),className:"flex items-center justify-center ml-2 transition-colors",children:u?l.jsx(Bc,{className:"w-5 h-5 text-blue-600"}):l.jsx(Yu,{className:"w-5 h-5 text-blue-600/30"})})]}),l.jsx(An,{})]})}),l.jsx(tn,{control:f.control,name:"confirmPassword",render:({field:y})=>l.jsxs(Jr,{children:[l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Verify / "}),l.jsx(on,{children:l.jsx(gt,{...y,type:d?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none",hidePasswordToggle:!0})})]}),l.jsx("button",{type:"button",onClick:()=>p(!d),className:"flex items-center justify-center ml-2 transition-colors",children:d?l.jsx(Bc,{className:"w-5 h-5 text-blue-600"}):l.jsx(Yu,{className:"w-5 h-5 text-blue-600/30"})})]}),l.jsx(An,{})]})}),l.jsx(Oe,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:h.isPending,children:h.isPending?l.jsx(Ln,{className:"animate-spin h-5 w-5"}):"   "})]})})]}),l.jsxs("div",{className:"flex flex-col items-center gap-2 pb-4 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[l.jsxs("div",{className:"flex items-center gap-4 w-full px-4",children:[l.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"}),l.jsx("span",{className:"text-[8px] font-black text-blue-600/30 dark:text-blue-400/30 tracking-[0.2em] uppercase",children:"Secure System"}),l.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"})]}),l.jsx("span",{className:"text-[8px] text-blue-600/20 dark:text-blue-400/20",children:" 2026 AXION OPERATIONS MANAGEMENT"})]})]})]})}const mce=bd({email:Ar().email("   ")});function gce(){const[,t]=Rs(),{toast:r}=wn(),[e,n]=P.useState(!1),s=Wl({resolver:ql(mce),defaultValues:{email:""}}),a=$t({mutationFn:async i=>{const c=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!c.ok){const u=await c.json();throw new Error(u.message||"   ")}return c.json()},onSuccess:()=>{n(!0),r({title:"  ",description:"        "})},onError:i=>{r({title:"  ",description:i.message,variant:"destructive"})}});return e?l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[l.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center",children:l.jsx(Fl,{className:"w-12 h-12 text-blue-600"})}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h2",{className:"text-xl font-black text-blue-600 dark:text-blue-400",children:"   "}),l.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"        .     ."})]}),l.jsx(Oe,{onClick:()=>t("/login"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none","data-testid":"button-back-to-login",children:"  "})]})]}):l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[l.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[l.jsxs("div",{className:"text-right flex flex-col items-end",children:[l.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),l.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"RECOVER ACCESS"})]}),l.jsx(Oe,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>t("/login"),"data-testid":"button-back",children:l.jsxs("div",{className:"flex gap-0.5",children:[l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[l.jsx("div",{className:"relative mb-4 group cursor-pointer",children:l.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[l.jsx("img",{src:"/assets/app_icon_light.png",alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),l.jsx("img",{src:"/assets/app_icon_dark.png",alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),l.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),l.jsx("div",{className:"text-center relative",children:l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[l.jsx("img",{src:"/assets/logo_header_light.png",alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),l.jsx("img",{src:"/assets/logo_header_dark.png",alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]})})]}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h2",{className:"text-lg font-black text-blue-600 dark:text-blue-400 mb-1",children:"  "}),l.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"        "})]}),l.jsx(Kl,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(i=>a.mutate(i)),className:"space-y-4 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[l.jsx(tn,{control:s.control,name:"email",render:({field:i})=>l.jsxs(Jr,{children:[l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Identity / "}),l.jsx(on,{children:l.jsx(gt,{...i,type:"email",autoComplete:"email",placeholder:"username@axion.system",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none","data-testid":"input-email"})})]}),l.jsx(r_,{className:"w-5 h-5 text-blue-600/30 dark:text-blue-400/30 ml-2",strokeWidth:1.5})]}),l.jsx(An,{})]})}),l.jsx(Oe,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:a.isPending,"data-testid":"button-submit",children:a.isPending?l.jsx(Ln,{className:"animate-spin h-5 w-5"}):"  "}),l.jsx("div",{className:"text-center pt-2",children:l.jsxs("button",{type:"button",onClick:()=>t("/login"),className:"text-xs font-bold text-blue-600/60 dark:text-blue-400/60","data-testid":"link-login",children:["   ",l.jsx("span",{className:"text-blue-600 underline",children:" "})]})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center gap-2 pb-4 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[l.jsxs("div",{className:"flex items-center gap-4 w-full px-4",children:[l.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"}),l.jsx("span",{className:"text-[8px] font-black text-blue-600/30 dark:text-blue-400/30 tracking-[0.2em] uppercase",children:"Secure Recovery"}),l.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"})]}),l.jsx("span",{className:"text-[8px] text-blue-600/20 dark:text-blue-400/20",children:" 2026 AXION OPERATIONS MANAGEMENT"})]})]})]})}const yce=hd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),UI=P.forwardRef(({className:t,variant:r,...e},n)=>l.jsx("div",{ref:n,role:"alert",className:Pe(yce({variant:r}),t),...e}));UI.displayName="Alert";const bce=P.forwardRef(({className:t,...r},e)=>l.jsx("h5",{ref:e,className:Pe("mb-1 font-medium leading-none tracking-tight",t),...r}));bce.displayName="AlertTitle";const WI=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,className:Pe("text-sm [&_p]:leading-relaxed",t),...r}));WI.displayName="AlertDescription";const vce=bd({code:Ar().length(6,"     6 ").regex(/^\d+$/,"       ")}),aN=()=>l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute -top-40 -right-32 w-96 h-96 bg-gradient-to-br from-green-400/20 to-blue-600/20 rounded-full blur-3xl animate-blob"}),l.jsx("div",{className:"absolute -bottom-32 -left-40 w-96 h-96 bg-gradient-to-tr from-blue-400/20 to-purple-600/20 rounded-full blur-3xl animate-blob animation-delay-2000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-r from-purple-400/20 to-pink-600/20 rounded-full blur-3xl animate-blob animation-delay-4000"})]});function xce(){const[,t]=Rs(),{toast:r}=wn(),[e,n]=P.useState("input"),[s,a]=P.useState({}),[i,c]=P.useState(0),[u,o]=P.useState(!1);P.useEffect(()=>{const m=new URLSearchParams(window.location.search),v=m.get("userId"),x=m.get("email"),j=m.get("token");v&&x&&a({id:v,email:x}),j&&v&&(console.log(" [EmailVerification]    :",{token:j,userId:v}),p.mutate({code:j,userId:v}))},[]),P.useEffect(()=>{let m;return i>0&&(m=setTimeout(()=>c(i-1),1e3)),()=>clearTimeout(m)},[i]);const d=Wl({resolver:ql(vce),defaultValues:{code:""}}),p=$t({mutationFn:async m=>{console.log(" [EmailVerification]    :",{code:m.code,userId:m.userId||s.id});const v=m.userId||s.id;if(!v)throw new Error("  ");const x=await fetch("/api/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:v,code:m.code})}),j=await x.json();if(!x.ok)throw new Error(j.message||"   ");return j},onSuccess:m=>{console.log(" [EmailVerification]   :",m),m.success?(n("verified"),r({title:" ! ",description:m.message}),setTimeout(()=>{t("/login")},3e3)):(n("error"),r({title:" ",description:m.message,variant:"destructive"}))},onError:m=>{console.error(" [EmailVerification]   :",m),n("error"),r({title:" ",description:m instanceof Error?m.message:"   ",variant:"destructive"})}}),f=$t({mutationFn:async()=>{if(console.log(" [EmailVerification]    "),!s.id||!s.email)throw new Error("  ");const m=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s.id,email:s.email})}),v=await m.json();if(!m.ok)throw new Error(v.message||"  ");return v},onSuccess:m=>{console.log(" [EmailVerification]    :",m),r({title:"  ",description:m.message}),c(60),d.reset()},onError:m=>{console.error(" [EmailVerification]    :",m),r({title:"  ",description:m instanceof Error?m.message:"   ",variant:"destructive"})}}),h=m=>{p.mutate(m)},g=()=>{i===0&&f.mutate()},y=async()=>{const m=d.getValues("code");if(m&&m.length===6)try{await navigator.clipboard.writeText(m),o(!0),r({title:" !",description:"     "}),setTimeout(()=>o(!1),2e3)}catch{r({title:" ",description:"    ",variant:"destructive"})}else r({title:"   ",description:"    ",variant:"destructive"})};return e==="verified"?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4 relative",children:[l.jsx(aN,{}),l.jsxs(Ir,{className:"w-full max-w-md shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[l.jsxs(Ma,{className:"text-center space-y-1",children:[l.jsx("div",{className:"mx-auto bg-blue-600 dark:bg-white rounded-full p-4 w-20 h-20 flex items-center justify-center shadow-lg shadow-blue-600/20",children:l.jsx(Fl,{className:"w-10 h-10 text-white dark:text-blue-600"})}),l.jsx(Qa,{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"  ! "}),l.jsx(Ac,{className:"text-lg",children:"    "})]}),l.jsx(en,{className:"space-y-1",children:l.jsxs("div",{className:"text-center space-y-1",children:[l.jsx("p",{className:"text-gray-600",children:"       ..."}),l.jsx(Oe,{onClick:()=>t("/login"),className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700","data-testid":"button-continue-login",children:"   "})]})})]})]}):l.jsxs("div",{className:"w-full bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4 relative py-8",children:[l.jsx(aN,{}),l.jsxs(Ir,{className:"w-full max-w-md shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[l.jsxs(Ma,{className:"text-center space-y-1",children:[l.jsx("div",{className:"mx-auto bg-blue-600 dark:bg-white rounded-full p-4 w-20 h-20 flex items-center justify-center shadow-lg shadow-blue-600/20",children:l.jsx(r_,{className:"w-10 h-10 text-white dark:text-blue-600"})}),l.jsx(Qa,{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"   "}),l.jsx(Ac,{className:"text-lg",children:"      "}),s.email&&l.jsxs("p",{className:"text-sm text-gray-600 bg-gray-100 p-2 rounded-lg",children:[" ",s.email]})]}),l.jsxs(en,{className:"space-y-1",children:[e==="error"&&l.jsx(UI,{className:"border-red-200 bg-red-50",children:l.jsx(WI,{className:"text-red-700",children:"    .        ."})}),l.jsx(Kl,{...d,children:l.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-1",children:[l.jsx(tn,{control:d.control,name:"code",render:({field:m})=>l.jsxs(Jr,{children:[l.jsx(Wn,{className:"text-gray-700 font-medium",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(on,{children:l.jsx(gt,{...m,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"000000",className:"text-center text-2xl font-mono tracking-widest h-14 border-2 focus:border-blue-500 pr-12",disabled:p.isPending,"data-testid":"input-verification-code",onChange:v=>{const x=v.target.value.replace(/\D/g,"");m.onChange(x)}})}),l.jsx(Oe,{type:"button",variant:"ghost",size:"sm",onClick:y,className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-10 w-10 p-0 hover:bg-blue-100",title:"   ","data-testid":"button-copy-verification-code",children:u?l.jsx(Al,{className:"h-4 w-4 text-green-600"}):l.jsx(SA,{className:"h-4 w-4 text-gray-500"})})]}),l.jsx(An,{})]})}),l.jsx(Oe,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold text-lg shadow-lg",disabled:p.isPending,"data-testid":"button-verify-email",children:p.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Ln,{className:"w-5 h-5 mr-2 animate-spin"})," ..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ml,{className:"w-5 h-5 mr-2"}),"  "]})})]})}),l.jsxs("div",{className:"text-center space-y-1",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:""})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Oe,{variant:"outline",onClick:g,disabled:i>0||f.isPending,className:"w-full border-2 hover:bg-gray-50","data-testid":"button-resend-code",children:f.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Ln,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):i>0?l.jsxs(l.Fragment,{children:[l.jsx(ms,{className:"w-4 h-4 mr-2"})," ",i," "]}):l.jsxs(l.Fragment,{children:[l.jsx(Bi,{className:"w-4 h-4 mr-2"}),"  "]})}),l.jsxs(Oe,{variant:"ghost",onClick:()=>t("/login"),className:"w-full text-gray-600 hover:text-gray-800","data-testid":"button-back-login",children:[l.jsx(BW,{className:"w-4 h-4 mr-2"}),"   "]})]})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-blue-900",children:"  :"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:"       "}),l.jsx("li",{children:"    24  "}),l.jsx("li",{children:"    6 "})]})]})]})]})]})}const el=Object.create(null);el.open="0";el.close="1";el.ping="2";el.pong="3";el.message="4";el.upgrade="5";el.noop="6";const $g=Object.create(null);Object.keys(el).forEach(t=>{$g[el[t]]=t});const v2={type:"error",data:"parser error"},qI=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",HI=typeof ArrayBuffer=="function",KI=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,n3=({type:t,data:r},e,n)=>qI&&r instanceof Blob?e?n(r):iN(r,n):HI&&(r instanceof ArrayBuffer||KI(r))?e?n(r):iN(new Blob([r]),n):n(el[t]+(r||"")),iN=(t,r)=>{const e=new FileReader;return e.onload=function(){const n=e.result.split(",")[1];r("b"+(n||""))},e.readAsDataURL(t)};function oN(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let j1;function wce(t,r){if(qI&&t.data instanceof Blob)return t.data.arrayBuffer().then(oN).then(r);if(HI&&(t.data instanceof ArrayBuffer||KI(t.data)))return r(oN(t.data));n3(t,!1,e=>{j1||(j1=new TextEncoder),r(j1.encode(e))})}const lN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<lN.length;t++)fp[lN.charCodeAt(t)]=t;const _ce=t=>{let r=t.length*.75,e=t.length,n,s=0,a,i,c,u;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);const o=new ArrayBuffer(r),d=new Uint8Array(o);for(n=0;n<e;n+=4)a=fp[t.charCodeAt(n)],i=fp[t.charCodeAt(n+1)],c=fp[t.charCodeAt(n+2)],u=fp[t.charCodeAt(n+3)],d[s++]=a<<2|i>>4,d[s++]=(i&15)<<4|c>>2,d[s++]=(c&3)<<6|u&63;return o},kce=typeof ArrayBuffer=="function",s3=(t,r)=>{if(typeof t!="string")return{type:"message",data:GI(t,r)};const e=t.charAt(0);return e==="b"?{type:"message",data:jce(t.substring(1),r)}:$g[e]?t.length>1?{type:$g[e],data:t.substring(1)}:{type:$g[e]}:v2},jce=(t,r)=>{if(kce){const e=_ce(t);return GI(e,r)}else return{base64:!0,data:t}},GI=(t,r)=>{switch(r){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},XI="",Sce=(t,r)=>{const e=t.length,n=new Array(e);let s=0;t.forEach((a,i)=>{n3(a,!1,c=>{n[i]=c,++s===e&&r(n.join(XI))})})},Nce=(t,r)=>{const e=t.split(XI),n=[];for(let s=0;s<e.length;s++){const a=s3(e[s],r);if(n.push(a),a.type==="error")break}return n};function Cce(){return new TransformStream({transform(t,r){wce(t,e=>{const n=e.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),r.enqueue(s),r.enqueue(e)})}})}let S1;function yg(t){return t.reduce((r,e)=>r+e.length,0)}function bg(t,r){if(t[0].length===r)return t.shift();const e=new Uint8Array(r);let n=0;for(let s=0;s<r;s++)e[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),e}function Tce(t,r){S1||(S1=new TextDecoder);const e=[];let n=0,s=-1,a=!1;return new TransformStream({transform(i,c){for(e.push(i);;){if(n===0){if(yg(e)<1)break;const u=bg(e,1);a=(u[0]&128)===128,s=u[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(yg(e)<2)break;const u=bg(e,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(yg(e)<8)break;const u=bg(e,8),o=new DataView(u.buffer,u.byteOffset,u.length),d=o.getUint32(0);if(d>Math.pow(2,21)-1){c.enqueue(v2);break}s=d*Math.pow(2,32)+o.getUint32(4),n=3}else{if(yg(e)<s)break;const u=bg(e,s);c.enqueue(s3(a?u:S1.decode(u),r)),n=0}if(s===0||s>t){c.enqueue(v2);break}}}})}const QI=4;function us(t){if(t)return Ece(t)}function Ece(t){for(var r in us.prototype)t[r]=us.prototype[r];return t}us.prototype.on=us.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this};us.prototype.once=function(t,r){function e(){this.off(t,e),r.apply(this,arguments)}return e.fn=r,this.on(t,e),this};us.prototype.off=us.prototype.removeListener=us.prototype.removeAllListeners=us.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+t];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<e.length;s++)if(n=e[s],n===r||n.fn===r){e.splice(s,1);break}return e.length===0&&delete this._callbacks["$"+t],this};us.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),e=this._callbacks["$"+t],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(e){e=e.slice(0);for(var n=0,s=e.length;n<s;++n)e[n].apply(this,r)}return this};us.prototype.emitReserved=us.prototype.emit;us.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};us.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Kb=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,e)=>e(r,0),Fi=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Ace="arraybuffer";function YI(t,...r){return r.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{})}const Pce=Fi.setTimeout,Mce=Fi.clearTimeout;function Gb(t,r){r.useNativeTimers?(t.setTimeoutFn=Pce.bind(Fi),t.clearTimeoutFn=Mce.bind(Fi)):(t.setTimeoutFn=Fi.setTimeout.bind(Fi),t.clearTimeoutFn=Fi.clearTimeout.bind(Fi))}const Rce=1.33;function Dce(t){return typeof t=="string"?Ice(t):Math.ceil((t.byteLength||t.size)*Rce)}function Ice(t){let r=0,e=0;for(let n=0,s=t.length;n<s;n++)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:r<55296||r>=57344?e+=3:(n++,e+=4);return e}function ZI(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Oce(t){let r="";for(let e in t)t.hasOwnProperty(e)&&(r.length&&(r+="&"),r+=encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return r}function Fce(t){let r={},e=t.split("&");for(let n=0,s=e.length;n<s;n++){let a=e[n].split("=");r[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return r}class Lce extends Error{constructor(r,e,n){super(r),this.description=e,this.context=n,this.type="TransportError"}}class a3 extends us{constructor(r){super(),this.writable=!1,Gb(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,e,n){return super.emitReserved("error",new Lce(r,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const e=s3(r,this.socket.binaryType);this.onPacket(e)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,e={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const e=Oce(r);return e.length?"?"+e:""}}class Bce extends a3{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const e=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const e=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Nce(r,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,Sce(r,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=ZI()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(r,e)}}let JI=!1;try{JI=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const $ce=JI;function zce(){}class Vce extends Bce{constructor(r){if(super(r),typeof location<"u"){const e=location.protocol==="https:";let n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||n!==r.port}}doWrite(r,e){const n=this.request({method:"POST",data:r});n.on("success",e),n.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=r}}class Ko extends us{constructor(r,e,n){super(),this.createRequest=r,Gb(this,n),this._opts=n,this._method=n.method||"GET",this._uri=e,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var r;const e=YI(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(e);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Ko.requestsCount++,Ko.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=zce,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ko.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ko.requestsCount=0;Ko.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",cN);else if(typeof addEventListener=="function"){const t="onpagehide"in Fi?"pagehide":"unload";addEventListener(t,cN,!1)}}function cN(){for(let t in Ko.requests)Ko.requests.hasOwnProperty(t)&&Ko.requests[t].abort()}const Uce=(function(){const t=eO({xdomain:!1});return t&&t.responseType!==null})();class Wce extends Vce{constructor(r){super(r);const e=r&&r.forceBase64;this.supportsBinary=Uce&&!e}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new Ko(eO,this.uri(),r)}}function eO(t){const r=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||$ce))return new XMLHttpRequest}catch{}if(!r)try{return new Fi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const tO=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class qce extends a3{get name(){return"websocket"}doOpen(){const r=this.uri(),e=this.opts.protocols,n=tO?{}:YI(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,e,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let e=0;e<r.length;e++){const n=r[e],s=e===r.length-1;n3(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}s&&Kb(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=ZI()),this.supportsBinary||(e.b64=1),this.createUri(r,e)}}const N1=Fi.WebSocket||Fi.MozWebSocket;class Hce extends qce{createSocket(r,e,n){return tO?new N1(r,e,n):e?new N1(r,e):new N1(r)}doWrite(r,e){this.ws.send(e)}}class Kce extends a3{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const e=Tce(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=r.readable.pipeThrough(e).getReader(),s=Cce();s.readable.pipeTo(r.writable),this._writer=s.writable.getWriter();const a=()=>{n.read().then(({done:c,value:u})=>{c||(this.onPacket(u),a())}).catch(c=>{})};a();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let e=0;e<r.length;e++){const n=r[e],s=e===r.length-1;this._writer.write(n).then(()=>{s&&Kb(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const Gce={websocket:Hce,webtransport:Kce,polling:Wce},Xce=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Qce=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function x2(t){if(t.length>8e3)throw"URI too long";const r=t,e=t.indexOf("["),n=t.indexOf("]");e!=-1&&n!=-1&&(t=t.substring(0,e)+t.substring(e,n).replace(/:/g,";")+t.substring(n,t.length));let s=Xce.exec(t||""),a={},i=14;for(;i--;)a[Qce[i]]=s[i]||"";return e!=-1&&n!=-1&&(a.source=r,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Yce(a,a.path),a.queryKey=Zce(a,a.query),a}function Yce(t,r){const e=/\/{2,9}/g,n=r.replace(e,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&n.splice(0,1),r.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Zce(t,r){const e={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,a){s&&(e[s]=a)}),e}const w2=typeof addEventListener=="function"&&typeof removeEventListener=="function",zg=[];w2&&addEventListener("offline",()=>{zg.forEach(t=>t())},!1);class Rc extends us{constructor(r,e){if(super(),this.binaryType=Ace,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(e=r,r=null),r){const n=x2(r);e.hostname=n.host,e.secure=n.protocol==="https"||n.protocol==="wss",e.port=n.port,n.query&&(e.query=n.query)}else e.host&&(e.hostname=x2(e.host).host);Gb(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Fce(this.opts.query)),w2&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},zg.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const e=Object.assign({},this.opts.query);e.EIO=QI,e.transport=r,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&Rc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(r);e.open(),this.setTransport(e)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Rc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=r.data,this._onError(e);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(e+=Dce(s)),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,Kb(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,e,n){return this._sendPacket("message",r,e,n),this}send(r,e,n){return this._sendPacket("message",r,e,n),this}_sendPacket(r,e,n,s){if(typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:r,data:e,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),r()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():r()}):this.upgrading?n():r()),this}_onError(r){if(Rc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),w2&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=zg.indexOf(this._offlineEventListener);n!==-1&&zg.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,e),this.writeBuffer=[],this._prevBufferLen=0}}}Rc.protocol=QI;class Jce extends Rc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let e=this.createTransport(r),n=!1;Rc.priorWebsocketSuccess=!1;const s=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Rc.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=e.name,this.emitReserved("upgradeError",f)}}))};function a(){n||(n=!0,d(),e.close(),e=null)}const i=p=>{const f=new Error("probe error: "+p);f.transport=e.name,a(),this.emitReserved("upgradeError",f)};function c(){i("transport closed")}function u(){i("socket closed")}function o(p){e&&p.name!==e.name&&a()}const d=()=>{e.removeListener("open",s),e.removeListener("error",i),e.removeListener("close",c),this.off("close",u),this.off("upgrading",o)};e.once("open",s),e.once("error",i),e.once("close",c),this.once("close",u),this.once("upgrading",o),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const e=[];for(let n=0;n<r.length;n++)~this.transports.indexOf(r[n])&&e.push(r[n]);return e}}let eue=class extends Jce{constructor(r,e={}){const n=typeof r=="object"?r:e;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>Gce[s]).filter(s=>!!s)),super(r,n)}};function tue(t,r="",e){let n=t;e=e||typeof location<"u"&&location,t==null&&(t=e.protocol+"//"+e.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=e.protocol+t:t=e.host+t),/^(https?|wss?):\/\//.test(t)||(typeof e<"u"?t=e.protocol+"//"+t:t="https://"+t),n=x2(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+r,n.href=n.protocol+"://"+a+(e&&e.port===n.port?"":":"+n.port),n}const rue=typeof ArrayBuffer=="function",nue=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,rO=Object.prototype.toString,sue=typeof Blob=="function"||typeof Blob<"u"&&rO.call(Blob)==="[object BlobConstructor]",aue=typeof File=="function"||typeof File<"u"&&rO.call(File)==="[object FileConstructor]";function i3(t){return rue&&(t instanceof ArrayBuffer||nue(t))||sue&&t instanceof Blob||aue&&t instanceof File}function Vg(t,r){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(Vg(t[e]))return!0;return!1}if(i3(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Vg(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&Vg(t[e]))return!0;return!1}function iue(t){const r=[],e=t.data,n=t;return n.data=_2(e,r),n.attachments=r.length,{packet:n,buffers:r}}function _2(t,r){if(!t)return t;if(i3(t)){const e={_placeholder:!0,num:r.length};return r.push(t),e}else if(Array.isArray(t)){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=_2(t[n],r);return e}else if(typeof t=="object"&&!(t instanceof Date)){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=_2(t[n],r));return e}return t}function oue(t,r){return t.data=k2(t.data,r),delete t.attachments,t}function k2(t,r){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<r.length)return r[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let e=0;e<t.length;e++)t[e]=k2(t[e],r);else if(typeof t=="object")for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=k2(t[e],r));return t}const lue=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Qr;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Qr||(Qr={}));class cue{constructor(r){this.replacer=r}encode(r){return(r.type===Qr.EVENT||r.type===Qr.ACK)&&Vg(r)?this.encodeAsBinary({type:r.type===Qr.EVENT?Qr.BINARY_EVENT:Qr.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let e=""+r.type;return(r.type===Qr.BINARY_EVENT||r.type===Qr.BINARY_ACK)&&(e+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(e+=r.nsp+","),r.id!=null&&(e+=r.id),r.data!=null&&(e+=JSON.stringify(r.data,this.replacer)),e}encodeAsBinary(r){const e=iue(r),n=this.encodeAsString(e.packet),s=e.buffers;return s.unshift(n),s}}class o3 extends us{constructor(r){super(),this.reviver=r}add(r){let e;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(r);const n=e.type===Qr.BINARY_EVENT;n||e.type===Qr.BINARY_ACK?(e.type=n?Qr.EVENT:Qr.ACK,this.reconstructor=new uue(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(i3(r)||r.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(r),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let e=0;const n={type:Number(r.charAt(0))};if(Qr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Qr.BINARY_EVENT||n.type===Qr.BINARY_ACK){const a=e+1;for(;r.charAt(++e)!=="-"&&e!=r.length;);const i=r.substring(a,e);if(i!=Number(i)||r.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(i)}if(r.charAt(e+1)==="/"){const a=e+1;for(;++e&&!(r.charAt(e)===","||e===r.length););n.nsp=r.substring(a,e)}else n.nsp="/";const s=r.charAt(e+1);if(s!==""&&Number(s)==s){const a=e+1;for(;++e;){const i=r.charAt(e);if(i==null||Number(i)!=i){--e;break}if(e===r.length)break}n.id=Number(r.substring(a,e+1))}if(r.charAt(++e)){const a=this.tryParse(r.substr(e));if(o3.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,e){switch(r){case Qr.CONNECT:return uN(e);case Qr.DISCONNECT:return e===void 0;case Qr.CONNECT_ERROR:return typeof e=="string"||uN(e);case Qr.EVENT:case Qr.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&lue.indexOf(e[0])===-1);case Qr.ACK:case Qr.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class uue{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const e=oue(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function uN(t){return Object.prototype.toString.call(t)==="[object Object]"}const due=Object.freeze(Object.defineProperty({__proto__:null,Decoder:o3,Encoder:cue,get PacketType(){return Qr}},Symbol.toStringTag,{value:"Module"}));function oo(t,r,e){return t.on(r,e),function(){t.off(r,e)}}const fue=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class nO extends us{constructor(r,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[oo(r,"open",this.onopen.bind(this)),oo(r,"packet",this.onpacket.bind(this)),oo(r,"error",this.onerror.bind(this)),oo(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...e){var n,s,a;if(fue.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(e.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const i={type:Qr.EVENT,data:e};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){const d=this.ids++,p=e.pop();this._registerAckCallback(d,p),i.id=d}const c=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!c||(u?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(r,e){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[r]=e;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===r&&this.sendBuffer.splice(c,1);e.call(this,new Error("operation has timed out"))},s),i=(...c)=>{this.io.clearTimeoutFn(a),e.apply(this,c)};i.withError=!0,this.acks[r]=i}emitWithAck(r,...e){return new Promise((n,s)=>{const a=(i,c)=>i?s(i):n(c);a.withError=!0,e.push(a),this.emit(r,...e)})}_addToQueue(r){let e;typeof r[r.length-1]=="function"&&(e=r.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((s,...a)=>(this._queue[0],s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(s)):(this._queue.shift(),e&&e(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const e=this._queue[0];e.pending&&!r||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Qr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(n=>String(n.id)===r)){const n=this.acks[r];delete this.acks[r],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Qr.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Qr.EVENT:case Qr.BINARY_EVENT:this.onevent(r);break;case Qr.ACK:case Qr.BINARY_ACK:this.onack(r);break;case Qr.DISCONNECT:this.ondisconnect();break;case Qr.CONNECT_ERROR:this.destroy();const n=new Error(r.data.message);n.data=r.data.data,this.emitReserved("connect_error",n);break}}onevent(r){const e=r.data||[];r.id!=null&&e.push(this.ack(r.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const e=this;let n=!1;return function(...s){n||(n=!0,e.packet({type:Qr.ACK,id:r,data:s}))}}onack(r){const e=this.acks[r.id];typeof e=="function"&&(delete this.acks[r.id],e.withError&&r.data.unshift(null),e.apply(this,r.data))}onconnect(r,e){this.id=r,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Qr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(r===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(r===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,r.data)}}}function fh(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}fh.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),e=Math.floor(r*this.jitter*t);t=(Math.floor(r*10)&1)==0?t-e:t+e}return Math.min(t,this.max)|0};fh.prototype.reset=function(){this.attempts=0};fh.prototype.setMin=function(t){this.ms=t};fh.prototype.setMax=function(t){this.max=t};fh.prototype.setJitter=function(t){this.jitter=t};class j2 extends us{constructor(r,e){var n;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(e=r,r=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Gb(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((n=e.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new fh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=r;const s=e.parser||due;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var e;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(e=this.backoff)===null||e===void 0||e.setMin(r),this)}randomizationFactor(r){var e;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(e=this.backoff)===null||e===void 0||e.setJitter(r),this)}reconnectionDelayMax(r){var e;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(e=this.backoff)===null||e===void 0||e.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new eue(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=oo(e,"open",function(){n.onopen(),r&&r()}),a=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),r?r(c):this.maybeReconnectOnOpen()},i=oo(e,"error",a);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),e.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(i),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(oo(r,"ping",this.onping.bind(this)),oo(r,"data",this.ondata.bind(this)),oo(r,"error",this.onerror.bind(this)),oo(r,"close",this.onclose.bind(this)),oo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(e){this.onclose("parse error",e)}}ondecoded(r){Kb(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,e){let n=this.nsps[r];return n?this._autoConnect&&!n.active&&n.connect():(n=new nO(this,r,e),this.nsps[r]=n),n}_destroy(r){const e=Object.keys(this.nsps);for(const n of e)if(this.nsps[n].active)return;this._close()}_packet(r){const e=this.encoder.encode(r);for(let n=0;n<e.length;n++)this.engine.write(e[n],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,e){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(s=>{s?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",s)):r.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const np={};function Ug(t,r){typeof t=="object"&&(r=t,t=void 0),r=r||{};const e=tue(t,r.path||"/socket.io"),n=e.source,s=e.id,a=e.path,i=np[s]&&a in np[s].nsps,c=r.forceNew||r["force new connection"]||r.multiplex===!1||i;let u;return c?u=new j2(n,r):(np[s]||(np[s]=new j2(n,r)),u=np[s]),e.query&&!r.query&&(r.query=e.queryKey),u.socket(e.path,r)}Object.assign(Ug,{Manager:j2,Socket:nO,io:Ug,connect:Ug});function hue(){const t=xs(),{toast:r}=wn(),e=P.useRef(null);P.useEffect(()=>((()=>{try{console.log(" [Socket.IO]  ...");const s=Ug({reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:10,transports:["websocket","polling"],...window.location.hostname==="localhost"&&{}});e.current=s,s.on("connect",()=>{console.log(" [Socket.IO]   !",s.id)}),s.on("disconnect",a=>{console.log(" [Socket.IO]   :",a)}),s.on("error",a=>{console.error(" [Socket.IO] :",a)}),s.on("message",a=>{try{if(console.log(" [Socket.IO]  :",a),a.type==="INVALIDATE"){const i=[a.entity,a.id].filter(Boolean);console.log(" [Socket.IO]   cache:",i),t.invalidateQueries({queryKey:i})}else a.type==="UPDATE_ALL"&&t.invalidateQueries({queryKey:[a.entity],exact:!1})}catch(i){console.error(" [Socket.IO]    :",i)}})}catch(s){console.error(" [Socket.IO]   :",s)}})(),()=>{e.current&&e.current.disconnect()}),[t,r])}var Xb="Collapsible",[pue]=va(Xb),[mue,l3]=pue(Xb),sO=P.forwardRef((t,r)=>{const{__scopeCollapsible:e,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...c}=t,[u,o]=go({prop:n,defaultProp:s??!1,onChange:i,caller:Xb});return l.jsx(mue,{scope:e,disabled:a,contentId:$i(),open:u,onOpenToggle:P.useCallback(()=>o(d=>!d),[o]),children:l.jsx(ir.div,{"data-state":u3(u),"data-disabled":a?"":void 0,...c,ref:r})})});sO.displayName=Xb;var aO="CollapsibleTrigger",iO=P.forwardRef((t,r)=>{const{__scopeCollapsible:e,...n}=t,s=l3(aO,e);return l.jsx(ir.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":u3(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:r,onClick:pt(t.onClick,s.onOpenToggle)})});iO.displayName=aO;var c3="CollapsibleContent",oO=P.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=l3(c3,t.__scopeCollapsible);return l.jsx(ws,{present:e||s.open,children:({present:a})=>l.jsx(gue,{...n,ref:r,present:a})})});oO.displayName=c3;var gue=P.forwardRef((t,r)=>{const{__scopeCollapsible:e,present:n,children:s,...a}=t,i=l3(c3,e),[c,u]=P.useState(n),o=P.useRef(null),d=Cr(r,o),p=P.useRef(0),f=p.current,h=P.useRef(0),g=h.current,y=i.open||c,m=P.useRef(y),v=P.useRef(void 0);return P.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),Ms(()=>{const x=o.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const j=x.getBoundingClientRect();p.current=j.height,h.current=j.width,m.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),u(n)}},[i.open,n]),l.jsx(ir.div,{"data-state":u3(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!y,...a,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:y&&s})});function u3(t){return t?"open":"closed"}var yue=sO;const Ai=yue,Pi=iO,Mi=oO;function ss({value:t,onChange:r,placeholder:e,category:n,disabled:s=!1,className:a="",type:i="text",inputMode:c="text"}){const[u,o]=P.useState(!1),[d,p]=P.useState(""),f=P.useRef(null),h=P.useRef(null),g=xs(),{data:y=[],isLoading:m}=Pt({queryKey:["autocomplete",n],queryFn:async()=>{const $=await qe(`/api/autocomplete/${n}`,"GET");return $&&typeof $=="object"?$.data||$:[]},enabled:!!n,staleTime:1e3*60*5}),v=$t({mutationFn:$=>qe("/api/autocomplete","POST",$),onSuccess:async()=>{await g.invalidateQueries({queryKey:["autocomplete",n]})},onError:$=>{console.error("Error saving autocomplete data:",$)}}),x=$t({mutationFn:({category:$,value:K})=>qe(`/api/autocomplete/${$}/${encodeURIComponent(K)}`,"DELETE"),onSuccess:async()=>{await g.invalidateQueries({queryKey:["autocomplete",n]})}}),j=Array.isArray(y)?y.filter($=>$?.value&&typeof $.value=="string"?$.value.toLowerCase().includes(d.toLowerCase()):!1):[],T=P.useCallback($=>{r($),o(!1),p(""),$&&typeof $=="string"&&$.trim()&&v.mutate({category:n,value:$.trim()})},[r,n,v]),E=P.useCallback($=>{setTimeout(()=>{h.current&&!h.current.contains($.relatedTarget)&&(o(!1),p(""),t&&typeof t=="string"&&t.trim()&&t.trim().length>=2&&v.mutate({category:n,value:t.trim()}))},150)},[t,n,v]),B=P.useCallback(($,K)=>{K.stopPropagation(),x.mutate({category:n,value:$})},[n,x]);P.useEffect(()=>{const $=K=>{h.current&&!h.current.contains(K.target)&&f.current&&!f.current.contains(K.target)&&(o(!1),p(""))};if(u)return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[u]);const W=$=>{const K=$.target.value;r(K),p(K),!u&&K&&K.length>=1&&o(!0)},I=P.useCallback($=>{$.key==="Enter"&&t.trim()&&t.trim().length>=2&&($.preventDefault(),o(!1),p(""),v.mutate({category:n,value:t.trim()}))},[t,n,v]),R=()=>{o(!0),g.refetchQueries({queryKey:["autocomplete",n]})};return l.jsxs("div",{className:"relative w-full",children:[l.jsx(gt,{ref:f,value:t,onChange:W,onFocus:R,onBlur:E,onKeyDown:I,placeholder:e,disabled:s,className:`arabic-numbers ${a}`,type:i,inputMode:c}),u&&!s&&l.jsx("div",{ref:h,className:"absolute z-50 w-full mt-1",children:l.jsx(Ir,{className:"max-h-64 overflow-y-auto shadow-lg border",children:m?l.jsxs("div",{className:"p-3 text-center text-gray-500",children:[l.jsx(Bl,{className:"w-4 h-4 animate-spin mx-auto"})," ..."]}):Array.isArray(j)&&j.length>0?l.jsx("div",{className:"py-1",children:j.slice(0,10).map($=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 hover:bg-gray-100 cursor-pointer group",onClick:()=>T($.value),children:[l.jsx("span",{className:"flex-1 text-right",children:$.value}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("span",{className:"text-xs text-gray-400",children:$.usageCount}),l.jsx(Oe,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 hover:bg-red-100 hover:text-red-600",onClick:K=>B($.value,K),children:l.jsx(ys,{className:"w-3 h-3"})})]})]},$.id))}):d?l.jsxs("div",{className:"p-3 text-center text-gray-500",children:[l.jsx(Bl,{className:"w-4 h-4 mx-auto"}),'    "',d,'"']}):l.jsx("div",{className:"p-3 text-center text-gray-500",children:"    "})})})]})}function bue({worker:t,attendance:r,onAttendanceChange:e,selectedDate:n=qs()}){const[s,a]=P.useState(r),[i,c]=P.useState(!1),[u,o]=P.useState(r.recordType||"work"),{data:d}=Pt({queryKey:["/api/workers",t.id,"stats"],queryFn:async()=>{try{const E=await qe(`/api/workers/${t.id}/stats`,"GET");return E&&E.data?E.data:E||{totalWorkDays:0,totalProjects:0,totalEarnings:0}}catch(E){return console.error("Error fetching worker stats:",E),{totalWorkDays:0,totalProjects:0,totalEarnings:0}}},staleTime:3e4}),p=s.isPresent&&n===qs();P.useEffect(()=>{a(r)},[r]);const f=E=>{const B={...s,...E};B.isPresent&&(E.workDays!==void 0||E.paidAmount!==void 0||E.overtime!==void 0||E.overtimeRate!==void 0)&&(B.actualWage=y(),B.totalPay=v(),B.remainingAmount=x(),B.hoursWorked=g()),a(B),e(B)},h=E=>{const B=E===!0;B||c(!1),f(B&&u==="work"?{isPresent:B,startTime:s.startTime||"07:00",endTime:s.endTime||"15:00",workDescription:s.workDescription,workDays:s.workDays===void 0?0:s.workDays,paidAmount:s.paidAmount,paymentType:s.paymentType||"partial"}:B&&u==="advance"?{isPresent:B,workDays:0,paidAmount:s.paidAmount||"0",paymentType:"advance",startTime:void 0,endTime:void 0}:{isPresent:B})},g=()=>{if(!s.startTime||!s.endTime)return 0;const E=new Date(`2000-01-01T${s.startTime}:00`);let W=new Date(`2000-01-01T${s.endTime}:00`).getTime()-E.getTime();W<0&&(W+=1440*60*1e3);const I=W/(1e3*60*60);return Math.max(0,I)},y=()=>{if(!s.isPresent||u==="advance")return 0;const E=s.workDays||0,B=parseFloat(String(t.dailyWage||"0"));return Math.max(0,B*E)},m=()=>{const E=s.overtime||0,B=s.overtimeRate||0;return E*B},v=()=>{const E=y(),B=m();return Math.max(0,E+B)},x=()=>{if(u==="advance")return-parseFloat(s.paidAmount||"0");const E=v(),B=parseFloat(s.paidAmount||"0");return E-B},j=E=>{switch(E){case"":return l.jsx(On,{className:"h-5 w-5"});case"":return l.jsx(rq,{className:"h-5 w-5"});case"":return l.jsx(tq,{className:"h-5 w-5"});case"":return l.jsx(dq,{className:"h-5 w-5"});case"":return l.jsx(ho,{className:"h-5 w-5"});default:return l.jsx(Nm,{className:"h-5 w-5"})}},T=E=>{const B=E.toLowerCase();return B.includes("")||B.includes("master")?"bg-gradient-to-br from-primary to-primary/80":B.includes("")||B.includes("smith")?"bg-gradient-to-br from-orange-500 to-orange-600":B.includes("")||B.includes("tile")?"bg-gradient-to-br from-blue-500 to-blue-600":B.includes("")||B.includes("paint")?"bg-gradient-to-br from-green-500 to-green-600":B.includes("")||B.includes("labor")?"bg-gradient-to-br from-purple-500 to-purple-600":B.includes("")||B.includes("carpenter")?"bg-gradient-to-br from-amber-600 to-amber-700":B.includes("")||B.includes("electric")?"bg-gradient-to-br from-yellow-500 to-yellow-600":B.includes("")||B.includes("plumb")?"bg-gradient-to-br from-cyan-500 to-cyan-600":"bg-gradient-to-br from-gray-500 to-gray-600"};return l.jsx(Ir,{className:`mb-3 shadow-sm border-r-4 w-full max-w-full overflow-hidden ${p?"border-r-green-400 bg-green-50/50 dark:bg-green-950/20":"border-r-primary/20"}`,"data-testid":`worker-card-detailed-${t.id}`,children:l.jsxs(en,{className:"p-2 sm:p-3 max-w-full overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-border/30 w-full max-w-full",children:[l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 flex-1 min-w-0 max-w-full overflow-hidden",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md profession-icon-container ${T(t.type)}`,children:j(t.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 mb-1",children:[l.jsx("h4",{className:"font-bold text-lg text-foreground truncate","data-testid":`worker-name-detailed-${t.id}`,children:t.name}),t.isActive?l.jsx(Fl,{className:"h-4 w-4 text-green-500 flex-shrink-0","data-testid":`worker-status-active-${t.id}`}):l.jsx(Da,{className:"h-4 w-4 text-red-500 flex-shrink-0","data-testid":`worker-status-inactive-${t.id}`})]}),l.jsxs("div",{className:"flex items-center space-x-reverse space-x-4 text-xs text-muted-foreground",children:[l.jsx("span",{className:"flex items-center space-x-reverse space-x-1",children:l.jsx(Zr,{variant:"secondary",className:`${T(t.type)} text-white border-none shadow-sm text-[10px] px-2 py-0 h-5`,children:t.type})}),l.jsxs("span",{className:"flex items-center space-x-reverse space-x-1",children:[l.jsx(Sr,{className:"h-3 w-3"}),l.jsx("span",{className:"font-bold arabic-numbers","data-testid":`worker-daily-wage-${t.id}`,children:Ye(t.dailyWage)})]}),l.jsxs("span",{className:"flex items-center space-x-reverse space-x-1",children:[l.jsx(pi,{className:"h-3 w-3"}),l.jsxs("span",{className:"arabic-numbers",children:[d?.totalWorkDays||0," "]})]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 flex-shrink-0",children:[s.isPresent&&l.jsxs(l.Fragment,{children:[l.jsx(Oe,{variant:u==="work"?"default":"outline",size:"sm",onClick:()=>o("work"),className:"px-2 py-1 h-8 text-xs","data-testid":`record-type-work-${t.id}`,children:""}),l.jsx(Oe,{variant:u==="advance"?"default":"outline",size:"sm",onClick:()=>o("advance"),className:"px-2 py-1 h-8 text-xs","data-testid":`record-type-advance-${t.id}`,children:""}),l.jsxs(Oe,{variant:i?"default":"ghost",size:"sm",onClick:()=>c(!i),className:"px-2 py-1 h-8 flex items-center gap-1","data-testid":`toggle-details-${t.id}`,children:[i?l.jsx(Qu,{className:"h-4 w-4"}):l.jsx(rs,{className:"h-4 w-4"}),l.jsx("span",{className:"text-xs",children:i?"":""})]})]}),l.jsx(Qe,{htmlFor:`present-${t.id}`,className:"text-sm font-medium text-foreground cursor-pointer",children:""}),l.jsx(im,{id:`present-${t.id}`,checked:s.isPresent,onCheckedChange:h,className:"w-5 h-5","data-testid":`attendance-checkbox-${t.id}`})]})]}),s.isPresent&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-950/30 dark:to-blue-900/20 p-2 rounded-lg border border-blue-200 dark:border-blue-800",children:l.jsxs("div",{className:"space-y-1.5 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:""}),l.jsx("span",{className:"font-bold text-foreground",children:t.name})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),l.jsx("span",{className:"font-bold text-foreground arabic-numbers",children:Ye(t.dailyWage||"0")})]}),l.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-blue-200 dark:border-blue-700",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:""}),l.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:Ye(y())})]})]})}),l.jsx("div",{className:`bg-gradient-to-br ${u==="advance"?"from-red-50 to-red-100/50 dark:from-red-950/30 dark:to-red-900/20 border-red-200 dark:border-red-800":"from-purple-50 to-purple-100/50 dark:from-purple-950/30 dark:to-purple-900/20 border-purple-200 dark:border-purple-800"} p-2 rounded-lg border`,children:l.jsx("div",{className:"space-y-1.5 text-sm",children:u==="work"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),l.jsx(gt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"10.0",value:s.workDays||"",onChange:E=>{const B=E.target.value;f({workDays:B===""?0:parseFloat(B)||0})},placeholder:"0",className:"w-24 text-center text-sm h-7 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"},"data-testid":`work-days-summary-${t.id}`})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:""}),l.jsx("span",{className:"font-bold text-foreground arabic-numbers",children:Ye(parseFloat(s.paidAmount||"0"))})]}),l.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-purple-200 dark:border-purple-700",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:""}),l.jsx("span",{className:`font-bold arabic-numbers ${x()>0?"text-red-600 dark:text-red-400":"text-slate-700 dark:text-slate-300"}`,children:Ye(Math.abs(x()))})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),l.jsx(gt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",placeholder:"0",value:s.paidAmount||"",onChange:E=>f({paidAmount:E.target.value}),className:"w-24 text-center arabic-numbers text-sm h-7"})]}),l.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-red-200 dark:border-red-700",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:""}),l.jsx("span",{className:"font-bold text-red-600 dark:text-red-400 arabic-numbers",children:Ye(Math.abs(x()))})]})]})})})]}),s.isPresent&&i&&l.jsx("div",{className:"space-y-2 w-full max-w-full overflow-hidden",children:l.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-950/30 dark:to-gray-950/30 p-2 rounded-lg border border-slate-200 dark:border-slate-700 w-full max-w-full overflow-hidden",children:[l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 mb-2",children:[l.jsx(ms,{className:"h-4 w-4 text-slate-600"}),l.jsx("h5",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm",children:"  "})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),l.jsx(gt,{type:"time",value:s.startTime||"07:00",onChange:E=>f({startTime:E.target.value}),className:"text-center font-mono text-xs h-8 px-1"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),l.jsx(gt,{type:"time",value:s.endTime||"15:00",onChange:E=>f({endTime:E.target.value}),className:"text-center font-mono text-xs h-8 px-1"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),l.jsx(gt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"2.0",value:s.workDays||"",onChange:E=>{const B=E.target.value;f({workDays:B===""?0:parseFloat(B)||0})},placeholder:"0",className:"text-center font-mono english-numbers text-xs h-8"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),l.jsx(gt,{type:"number",inputMode:"decimal",placeholder:"0",value:s.paidAmount||"",onChange:E=>f({paidAmount:E.target.value}),className:"text-center arabic-numbers text-xs h-8"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:""}),l.jsx("div",{className:"h-8 px-2 py-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-md flex items-center justify-center",children:l.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 arabic-numbers text-sm",children:g().toFixed(1)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),l.jsx(gt,{type:"number",inputMode:"decimal",step:"0.5",min:"0",max:"8",value:s.overtime===void 0?"":s.overtime,onChange:E=>{const B=E.target.value;f({overtime:B===""?0:parseFloat(B)||0})},placeholder:"0",className:"text-center english-numbers text-sm h-8"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),l.jsx(gt,{type:"number",inputMode:"decimal",placeholder:"0",value:s.overtimeRate===void 0?"":s.overtimeRate,onChange:E=>{const B=E.target.value;f({overtimeRate:B===""?0:parseFloat(B)||0})},className:"text-center english-numbers text-sm h-8"})]})]}),l.jsxs("div",{className:"space-y-1 mb-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[l.jsx(Qe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),l.jsx(ss,{value:s.workDescription||"",onChange:E=>f({workDescription:E}),placeholder:"   ...",category:"workDescriptions",className:"w-full text-sm"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:""}),l.jsx(gt,{type:"text",value:s.notes||"",onChange:E=>f({notes:E.target.value}),placeholder:" ...",className:"text-sm h-8"})]})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"  "}),l.jsx("div",{className:"h-8 px-2 py-1 bg-slate-200/50 dark:bg-slate-700/50 rounded-md flex items-center justify-center",children:l.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 arabic-numbers text-sm",children:Ye(v())})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),l.jsx("div",{className:"h-8 px-2 py-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-md flex items-center justify-center",children:l.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 arabic-numbers text-sm",children:Ye(m())})})]})]})]})})]})})}function om({projectId:t,value:r,onChange:e,showLabel:n=!0,disabled:s=!1,optional:a=!0}){const{data:i=[],isLoading:c}=Pt({queryKey:["wells",t],queryFn:async()=>{if(!t)return[];try{const o=await qe(`/api/wells?projectId=${t}`);return o&&o.success&&Array.isArray(o.data)?o.data:Array.isArray(o)?o:o.data||[]}catch(o){return console.error("Error fetching wells:",o),[]}},enabled:!!t,staleTime:3e5}),u=P.useMemo(()=>{const o=i.map(d=>({value:String(d.id),label:` #${d.wellNumber} - ${d.ownerName}`}));return a?[{value:"none",label:" "},...o]:o},[i,a]);return!t||i.length===0?null:l.jsxs("div",{className:"space-y-1",children:[n&&l.jsxs(Qe,{className:"text-xs font-bold text-foreground mb-1",children:[" ",!a&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(ts,{options:u,value:r?String(r):"none",onValueChange:o=>e(o==="none"?void 0:parseInt(o)),placeholder:" ",searchPlaceholder:"  ...",emptyText:"   ",disabled:s||c})]})}const lO=P.createContext(void 0);function vue({children:t}){const[r,e]=P.useState(null),[n,s]=P.useState(" "),a=P.useCallback((i,c=" ")=>{e(u=>u===i?u:i),s(u=>u===c?u:c)},[]);return l.jsx(lO.Provider,{value:{setFloatingAction:a,floatingAction:r,floatingLabel:n},children:t})}function jo(){const t=P.useContext(lO);if(t===void 0)throw new Error("useFloatingButton must be used within a FloatingButtonProvider");return t}const dN={blue:{bg:"bg-gradient-to-br from-blue-50 to-sky-50 dark:from-blue-900/30 dark:to-sky-900/20",border:"border-blue-100 dark:border-blue-800/50",text:"text-blue-600 dark:text-blue-400",icon:"text-blue-500",gradient:"from-blue-500 to-sky-500"},green:{bg:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/20",border:"border-green-100 dark:border-green-800/50",text:"text-green-600 dark:text-green-400",icon:"text-green-500",gradient:"from-green-500 to-emerald-500"},orange:{bg:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/30 dark:to-amber-900/20",border:"border-orange-100 dark:border-orange-800/50",text:"text-orange-600 dark:text-orange-400",icon:"text-orange-500",gradient:"from-orange-500 to-amber-500"},red:{bg:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/20",border:"border-red-100 dark:border-red-800/50",text:"text-red-600 dark:text-red-400",icon:"text-red-500",gradient:"from-red-500 to-rose-500"},purple:{bg:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/20",border:"border-purple-100 dark:border-purple-800/50",text:"text-purple-600 dark:text-purple-400",icon:"text-purple-500",gradient:"from-purple-500 to-violet-500"},teal:{bg:"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/30 dark:to-cyan-900/20",border:"border-teal-100 dark:border-teal-800/50",text:"text-teal-600 dark:text-teal-400",icon:"text-teal-500",gradient:"from-teal-500 to-cyan-500"},indigo:{bg:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/30 dark:to-blue-900/20",border:"border-indigo-100 dark:border-indigo-800/50",text:"text-indigo-600 dark:text-indigo-400",icon:"text-indigo-500",gradient:"from-indigo-500 to-blue-500"},emerald:{bg:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/20",border:"border-emerald-100 dark:border-emerald-800/50",text:"text-emerald-600 dark:text-emerald-400",icon:"text-emerald-500",gradient:"from-emerald-500 to-green-500"},amber:{bg:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/30 dark:to-yellow-900/20",border:"border-amber-100 dark:border-amber-800/50",text:"text-amber-600 dark:text-amber-400",icon:"text-amber-500",gradient:"from-amber-500 to-yellow-500"},gray:{bg:"bg-gradient-to-br from-gray-50 to-slate-50 dark:from-gray-900/30 dark:to-slate-900/20",border:"border-gray-100 dark:border-gray-800/50",text:"text-gray-600 dark:text-gray-400",icon:"text-gray-500",gradient:"from-gray-500 to-slate-500"},cyan:{bg:"bg-gradient-to-br from-cyan-50 to-sky-50 dark:from-cyan-900/30 dark:to-sky-900/20",border:"border-cyan-100 dark:border-cyan-800/50",text:"text-cyan-600 dark:text-cyan-400",icon:"text-cyan-500",gradient:"from-cyan-500 to-sky-500"},rose:{bg:"bg-gradient-to-br from-rose-50 to-pink-50 dark:from-rose-900/30 dark:to-pink-900/20",border:"border-rose-100 dark:border-rose-800/50",text:"text-rose-600 dark:text-rose-400",icon:"text-rose-500",gradient:"from-rose-500 to-pink-500"},yellow:{bg:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/30 dark:to-amber-900/20",border:"border-yellow-100 dark:border-yellow-800/50",text:"text-yellow-600 dark:text-yellow-400",icon:"text-yellow-500",gradient:"from-yellow-500 to-amber-500"}};function fN(t){return isNaN(t)||!isFinite(t)||Math.abs(t)>1e11?"0":t.toLocaleString("en-US")}function xue({item:t}){const r=t.splitValue;return r?l.jsxs("div",{className:Pe("relative flex flex-col rounded-xl border transition-all overflow-hidden h-[80px]","bg-gradient-to-b from-slate-50 to-white dark:from-slate-900/50 dark:to-slate-900/30","border-slate-200 dark:border-slate-700","hover:shadow-sm"),children:[l.jsxs("div",{className:"flex items-center justify-center gap-1.5 py-1.5 px-2 bg-slate-100/80 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700",children:[l.jsx(t.icon,{className:"h-3.5 w-3.5 text-slate-600 dark:text-slate-400"}),l.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:t.label})]}),l.jsxs("div",{className:"grid grid-cols-2 divide-x divide-slate-200 dark:divide-slate-700 rtl:divide-x-reverse",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center p-2 bg-teal-50/50 dark:bg-teal-900/20",children:[l.jsx("span",{className:"text-[10px] font-medium text-teal-600 dark:text-teal-400 mb-0.5",children:""}),l.jsx("span",{className:"text-sm font-extrabold text-teal-700 dark:text-teal-300 arabic-numbers",children:fN(r.incoming)})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center p-2 bg-rose-50/50 dark:bg-rose-900/20",children:[l.jsx("span",{className:"text-[10px] font-medium text-rose-600 dark:text-rose-400 mb-0.5",children:""}),l.jsx("span",{className:"text-sm font-extrabold text-rose-700 dark:text-rose-300 arabic-numbers",children:fN(r.outgoing)})]})]})]}):null}function wue({item:t}){if(t.isSplitCard)return l.jsx(xue,{item:t});const r=dN[t.color]||dN.blue,e=t.icon,s=(i=>typeof i=="number"?isNaN(i)||!isFinite(i)||Math.abs(i)>1e11?"0":t.formatter?t.formatter(i):i.toLocaleString("en-US"):String(i))(t.value),a=i=>{const c=i.length;return c<=4?"1.25rem":c<=7?"1.1rem":c<=10?"0.95rem":c<=13?"0.85rem":"0.75rem"};return l.jsxs("div",{className:Pe("relative flex flex-col p-2 rounded-xl border transition-all h-[80px]",r.bg,r.border,"hover:shadow-sm",t.onClick&&"cursor-pointer"),onClick:t.onClick,children:[l.jsxs("div",{className:"flex items-center justify-between gap-1 mb-1",children:[l.jsx("span",{className:"text-xs font-bold text-muted-foreground truncate flex-1",children:t.label}),l.jsx("div",{className:Pe("p-1 rounded-md flex-shrink-0",r.bg),children:l.jsx(e,{className:Pe("h-3.5 w-3.5",r.icon)})})]}),t.showDot&&l.jsx("div",{className:Pe("absolute top-2 right-10 h-2.5 w-2.5 rounded-full",t.dotColor||"bg-green-500")}),l.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[l.jsx("span",{className:Pe("font-bold arabic-numbers leading-none whitespace-nowrap",r.text),style:{fontSize:a(s)},children:s}),t.unit&&l.jsx("span",{className:"text-[10px] text-muted-foreground mt-0.5",children:t.unit}),t.subLabel&&l.jsx("span",{className:"text-[10px] text-muted-foreground/70 truncate w-full mt-1",children:t.subLabel}),t.trend&&l.jsxs("span",{className:Pe("text-[10px] flex items-center gap-0.5 mt-1",t.trend.isPositive?"text-green-500":"text-red-500"),children:[t.trend.isPositive?l.jsx(Pn,{className:"h-2.5 w-2.5"}):l.jsx(pa,{className:"h-2.5 w-2.5"}),t.trend.value,"%"]})]})]})}function _ue({rows:t,className:r}){if(!t||t.length===0)return null;const e=(s=3)=>{switch(s){case 2:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4";case 5:return"grid-cols-5";case 6:return"grid-cols-6";default:return"grid-cols-3"}},n=(s="sm")=>{switch(s){case"sm":return"gap-2";case"md":return"gap-3";case"lg":return"gap-4";default:return"gap-2"}};return l.jsx("div",{className:Pe("space-y-2",r),children:t.map((s,a)=>l.jsx("div",{className:Pe("grid",e(s.columns),n(s.gap)),children:s.items.map(i=>l.jsx(wue,{item:i},i.key))},a))})}function Go({label:t,value:r,onChange:e,placeholder:n=" ",disabled:s=!1,className:a,required:i=!1,error:c,id:u}){const[o,d]=P.useState(!1),[p,f]=P.useState(void 0),h=P.useMemo(()=>{if(r){if(r instanceof Date)return r;if(typeof r=="string"){const v=new Date(r);return isNaN(v.getTime())?void 0:v}}},[r]);P.useEffect(()=>{o&&f(h||new Date)},[o,h]);const g=()=>{e?.(p),d(!1)},y=()=>{e?.(void 0),d(!1)},m=h?Nr(h,"dd MMMM yyyy",{locale:Xs}):null;return l.jsxs("div",{className:Pe("flex flex-col gap-1.5",a),children:[t&&l.jsxs(Qe,{htmlFor:u,className:"text-right font-medium",children:[t,i&&l.jsx("span",{className:"text-destructive mr-1",children:"*"})]}),l.jsxs(Ks,{open:o,onOpenChange:d,children:[l.jsx(Uf,{asChild:!0,children:l.jsxs(Oe,{id:u,variant:"ghost",disabled:s,className:Pe("w-full justify-start text-right font-normal h-full bg-transparent hover:bg-transparent",!h&&"text-muted-foreground",c&&"text-destructive"),children:[l.jsx(ma,{className:"ml-2 h-4 w-4 opacity-50"}),l.jsx("span",{className:"truncate",children:m||n})]})}),l.jsxs(As,{className:"z-[9999999] w-[92%] max-w-[310px] p-0 overflow-hidden border-none gap-0 rounded-2xl shadow-2xl fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 outline-none",children:[l.jsx("button",{onClick:()=>d(!1),className:"absolute left-4 top-4 text-white/70 hover:text-white z-50",children:l.jsx(Es,{className:"h-5 w-5"})}),l.jsxs(Gs,{className:"bg-teal-700 p-5 pt-10 text-white text-right relative",children:[l.jsx("div",{className:"text-xs opacity-80 mb-0.5 font-normal",children:Nr(p||new Date,"yyyy")}),l.jsx("div",{className:"text-2xl font-bold",children:p?Nr(p,"eeee d MMMM",{locale:Xs}):"  "})]}),l.jsx("div",{className:"p-0 flex justify-center bg-white min-h-[320px]",children:l.jsx(z4,{mode:"single",selected:p,onSelect:f,initialFocus:!0,captionLayout:"dropdown-buttons",fromYear:2020,toYear:2035,className:"border-none w-full p-2 pb-0 flex flex-col items-center",classNames:{caption_dropdowns:"flex justify-start gap-1 px-1",day_selected:"bg-teal-700 text-white hover:bg-teal-800 focus:bg-teal-700 rounded-full",day_today:"text-teal-700 font-bold",table:"w-full border-collapse space-y-0 mt-1",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",cell:"h-9 w-9 text-center text-sm p-0 relative",day:"h-9 w-9 p-0 font-normal hover:bg-teal-50 rounded-full transition-colors",months:"flex flex-col items-center w-full",month:"w-full px-2"}})}),l.jsxs("div",{className:"flex items-center justify-between px-8 py-6 bg-white",children:[l.jsx(Oe,{variant:"ghost",onClick:g,className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:""}),l.jsx(Oe,{variant:"ghost",onClick:()=>d(!1),className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:"Cancel"}),l.jsx(Oe,{variant:"ghost",onClick:y,className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:""})]})]})]}),c&&l.jsx("p",{className:"text-sm text-destructive text-right",children:c})]})}function kue({name:t,control:r,label:e,placeholder:n=" ",disabled:s=!1,className:a,required:i=!1,rules:c}){return l.jsx(hI,{name:t,control:r,rules:c,render:({field:u,fieldState:o})=>l.jsx(Go,{label:e,value:u.value,onChange:d=>{u.onChange(d?Nr(d,"yyyy-MM-dd"):"")},placeholder:n,disabled:s,className:a,required:i,error:o.error?.message,id:t})})}function jue({searchValue:t="",onSearchChange:r,searchPlaceholder:e="...",showSearch:n=!0,actions:s=[],onReset:a,onRefresh:i,isRefreshing:c=!1,hasActiveFilters:u=!1,viewMode:o="grid",onViewModeChange:d,showViewToggle:p=!1,className:f,filters:h=[],filterValues:g={},onFilterChange:y}){const[m,v]=P.useState(!1),x=P.useCallback(()=>{r?.("")},[r]),T=h.filter(R=>{const $=g[R.key];return R.type==="date"?$ instanceof Date:R.type==="date-range"?$?.from||$?.to:$&&$!=="all"&&$!==R.defaultValue}).length,E=h.length>0&&y,B=R=>{const $=g[R.key];switch(R.type){case"date":return l.jsxs("div",{onClick:M=>M.stopPropagation(),className:"relative group mb-2",children:[l.jsx(Qe,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),l.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:l.jsx(Go,{value:$?new Date($):void 0,onChange:M=>{y?.(R.key,M),M&&y?.("dateRange",void 0)},placeholder:R.placeholder,className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]});case"date-range":const K=$?.from?$.from instanceof Date?$.from:new Date($.from):void 0,H=$?.to?$.to instanceof Date?$.to:new Date($.to):void 0;return l.jsxs("div",{onClick:M=>M.stopPropagation(),className:"grid grid-cols-2 gap-4 pt-2 mb-2",children:[l.jsxs("div",{className:"relative group",children:[l.jsx(Qe,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),l.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:l.jsx(Go,{value:K,onChange:M=>{const F=typeof $=="object"&&$!==null?{...$}:{};F.from=M,M&&y?.("specificDate",void 0),y?.(R.key,F)},placeholder:"",className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]}),l.jsxs("div",{className:"relative group",children:[l.jsx(Qe,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),l.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:l.jsx(Go,{value:H,onChange:M=>{const F=typeof $=="object"&&$!==null?{...$}:{};F.to=M,y?.(R.key,F)},placeholder:"",className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]})]});default:return l.jsxs("div",{onClick:M=>M.stopPropagation(),className:"relative group mb-2",children:[l.jsx(Qe,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:R.label}),l.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:l.jsxs(ga,{value:String($||R.defaultValue||"all"),onValueChange:M=>y?.(R.key,M),children:[l.jsx(Qs,{className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm font-medium",children:l.jsx(ya,{placeholder:R.placeholder||R.label})}),l.jsx(Ys,{className:"rounded-2xl shadow-2xl border-slate-200 dark:border-slate-800",children:R.options?.map(M=>l.jsx(zr,{value:String(M.value),className:"rounded-xl my-1 py-3 text-right",children:M.label},M.value))})]})})]})}},W=[];p&&d&&(W.push({key:"viewList",icon:oq,tooltip:" ",onClick:()=>d("list"),variant:o==="list"?"default":"ghost"}),W.push({key:"viewGrid",icon:iq,tooltip:" ",onClick:()=>d("grid"),variant:o==="grid"?"default":"ghost"})),i&&W.push({key:"refresh",icon:Bi,tooltip:"",onClick:i,loading:c}),a&&u&&W.push({key:"reset",icon:eb,tooltip:" ",onClick:a});const I=[...W,...s];return l.jsxs("div",{className:Pe("flex items-center gap-2 p-2 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",f),dir:"rtl",children:[n&&l.jsxs("div",{className:"relative flex-1",children:[l.jsx(gt,{type:"text",placeholder:e,value:t,onChange:R=>r?.(R.target.value),className:"h-9 pe-3 ps-10 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 rounded-lg text-sm text-right",dir:"rtl"}),t?l.jsx(Oe,{variant:"ghost",size:"sm",className:"absolute left-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0 hover:bg-red-100 dark:hover:bg-red-900/30 z-10",onClick:x,type:"button",children:l.jsx(Es,{className:"h-4 w-4 text-gray-400 hover:text-red-500"})}):l.jsx(Bl,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),E&&l.jsxs(Fb,{open:m,onOpenChange:v,children:[l.jsx(C4,{asChild:!0,children:l.jsxs(Oe,{variant:"ghost",size:"icon",className:Pe("h-8 w-8 rounded-lg relative",T>0?"text-primary bg-primary/10":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"),children:[l.jsx(ry,{className:"h-4 w-4"}),T>0&&l.jsx(Zr,{className:"absolute -top-1 -left-1 h-4 w-4 p-0 flex items-center justify-center text-[10px] bg-primary text-white",children:T})]})}),l.jsx(qm,{side:"bottom",className:"h-[85vh] sm:h-[80vh] sm:max-w-2xl rounded-t-[2.5rem] p-0 overflow-hidden border-t-0 bg-white dark:bg-gray-950 shadow-[0_-20px_50px_-12px_rgba(0,0,0,0.1)] z-[10001]",dir:"rtl",onPointerDownOutside:R=>{const $=R.target;($.closest(".rdp")||$.closest('[role="listbox"]')||$.closest(".relative"))&&R.preventDefault()},onInteractOutside:R=>{const $=R.target;($.closest(".rdp")||$.closest('[role="listbox"]'))&&R.preventDefault()},children:l.jsxs("div",{className:"flex flex-col h-full relative p-6 pb-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8 flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(FD,{asChild:!0,children:l.jsx(Oe,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:l.jsx(Es,{className:"h-5 w-5"})})}),l.jsx(Hm,{className:"text-xl font-bold tracking-tight",children:" "})]}),l.jsx("div",{className:"h-1.5 w-12 bg-slate-200 dark:bg-slate-800 rounded-full"})]}),l.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto custom-scrollbar px-1 pb-32 pt-2",children:[l.jsx("div",{className:"space-y-10 max-w-xl mx-auto",children:h.map(R=>l.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:B(R)},R.key))}),h.length===0&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[l.jsx(ry,{className:"w-12 h-12 mb-4 opacity-20"}),l.jsx("p",{children:"    "})]})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent dark:from-gray-950 dark:via-gray-950/95 z-50",children:l.jsx("div",{className:"max-w-xl mx-auto",children:l.jsx(Oe,{className:"w-full h-14 text-lg font-bold rounded-2xl shadow-2xl shadow-primary/30 bg-primary hover:bg-primary/90 text-primary-foreground transition-all active:scale-[0.98] border-none",onClick:()=>v(!1),children:""})})})]})})]}),I.length>0&&l.jsx(fb,{delayDuration:300,children:l.jsx("div",{className:"flex items-center gap-1 ps-2 border-r border-gray-200 dark:border-gray-700 pe-2",children:I.map(R=>{const $=R.icon;return l.jsxs(b_,{children:[l.jsx(v_,{asChild:!0,children:l.jsx(Oe,{variant:R.variant||"ghost",size:"icon",className:Pe("h-8 w-8 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-all duration-200",R.loading&&"bg-primary/10 text-primary",R.variant==="default"&&"bg-primary/10 text-primary"),onClick:R.onClick,disabled:R.disabled||R.loading,children:l.jsx($,{className:Pe("h-4 w-4 transition-transform duration-200",R.loading&&"animate-spin")})})}),R.tooltip&&l.jsx(hb,{side:"bottom",className:"text-xs",children:l.jsx("p",{children:R.loading?" ...":R.tooltip})})]},R.key)})})})]})}function Sue({filters:t,filterValues:r,onFilterChange:e,onReset:n,showAllFiltersButton:s=!0,className:a}){const[i,c]=P.useState(!1),o=t.filter(f=>{const h=r[f.key];return f.type==="date"?h instanceof Date:f.type==="date-range"?h?.from||h?.to:h&&h!=="all"&&h!==f.defaultValue}),d=f=>{const h=r[f.key];if(f.type==="date"&&h instanceof Date)return Nr(h,"dd MMMM yyyy",{locale:Xs});if(f.type==="date-range"){if(h?.from&&h?.to)return`${Nr(h.from,"dd MMM",{locale:Xs})} - ${Nr(h.to,"dd MMM",{locale:Xs})}`;if(h?.from)return` ${Nr(h.from,"dd MMM",{locale:Xs})}`}return f.options?.find(y=>y.value===h)?.label||h},p=f=>{f.type==="date"||f.type==="date-range"?e(f.key,void 0):e(f.key,f.defaultValue||"all")};return l.jsx("div",{className:Pe("space-y-1",a),children:o.length>0&&l.jsx("div",{className:"flex flex-wrap items-center gap-2 justify-center",children:o.map(f=>l.jsxs(Zr,{variant:"secondary",className:"gap-1.5 px-3 py-1.5 text-sm bg-blue-500 hover:bg-blue-600 text-white border-0 rounded-full cursor-default transition-colors",children:[l.jsx("span",{className:"font-medium",children:d(f)}),l.jsx("button",{onClick:h=>{h.stopPropagation(),p(f)},className:"hover:bg-white/20 rounded-full p-0.5 transition-colors mr-0.5",children:l.jsx(Es,{className:"h-3.5 w-3.5"})})]},f.key))})})}function Nue({config:t,className:r}){const{totalCount:e,filteredCount:n,totalLabel:s="",filteredLabel:a="",totalValue:i,totalValueLabel:c="",unit:u=".",categoryBreakdown:o,showBreakdown:d=!1}=t,p=f=>f==null?"0":typeof f=="number"?isNaN(f)||!isFinite(f)?"0":f.toLocaleString("en-US"):String(f);return l.jsxs("div",{className:Pe("border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",r),children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-2.5 bg-gradient-to-l from-blue-50/80 to-slate-50/80 dark:from-blue-900/30 dark:to-slate-900/30",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[s,":"]}),l.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:n}),l.jsx("span",{className:"text-xs text-gray-500",children:a}),l.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 arabic-numbers",children:e})]}),i!==void 0&&!d&&l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[c,":"]}),l.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:p(i)}),u&&l.jsx("span",{className:"text-xs text-gray-500",children:u})]})]}),d&&o&&o.length>0&&l.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:[o.map((f,h)=>l.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.label,":"]}),l.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 arabic-numbers",children:[p(f.value)," ",f.unit||u]})]},h)),i!==void 0&&l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-blue-50/50 dark:bg-blue-900/20 border-t-2 border-blue-200 dark:border-blue-800",children:[l.jsxs("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-400",children:[c,":"]}),l.jsxs("span",{className:"text-base font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:[p(i)," ",u]})]})]})]})}function sl({statsRows:t,searchValue:r,onSearchChange:e,searchPlaceholder:n,showSearch:s=!0,filters:a=[],filterValues:i={},onFilterChange:c,onReset:u,onRefresh:o,isRefreshing:d,actions:p,resultsSummary:f,showAllFiltersButton:h=!0,onShowAllFilters:g,className:y,compact:m=!1,viewMode:v,onViewModeChange:x}){const j=a.some(T=>{const E=i[T.key];return T.type==="date"?E instanceof Date:T.type==="date-range"?E?.from||E?.to:E&&E!=="all"&&E!==T.defaultValue})||!!(r&&r.length>0);return l.jsxs("div",{className:Pe("space-y-2",y),children:[t&&t.length>0&&l.jsx(_ue,{rows:t}),l.jsx(jue,{searchValue:r,onSearchChange:e,searchPlaceholder:n,showSearch:s,actions:p,onReset:u,onRefresh:o,isRefreshing:d,hasActiveFilters:j,viewMode:v,onViewModeChange:x,showViewToggle:!!x,filters:a,filterValues:i,onFilterChange:c}),a.length>0&&c&&l.jsx(Sue,{filters:a,filterValues:i,onFilterChange:c,onReset:u,showAllFiltersButton:!1}),f&&l.jsx(Nue,{config:f})]})}function Cue(){Rs();const{selectedProjectId:t,isAllProjects:r,projects:e}=ko(),[n,s]=P.useState(""),[a,i]=P.useState({dateRange:void 0,type:"all"}),[c,u]=P.useState(!1),[o,d]=P.useState(),p=new URLSearchParams(window.location.search),f=p.get("edit"),h=p.get("worker"),g=p.get("date"),[y,m]=P.useState(g||null),[v,x]=P.useState({}),[j,T]=P.useState(!1),[E,B]=P.useState(!1),[W,I]=P.useState(!0),[R,$]=P.useState({startTime:"07:00",endTime:"15:00",workDays:0,paymentType:"partial",paidAmount:"",workDescription:""}),{toast:K}=wn(),H=xs(),{setFloatingAction:M}=jo();P.useCallback((te,oe)=>{i(ne=>({...ne,[te]:oe}))},[]);const F=P.useCallback(()=>{s(""),i({dateRange:void 0,type:"all"}),W&&m(qs()),K({title:"  ",description:"      "})},[K,W]),C=P.useCallback(async()=>{u(!0);try{await H.invalidateQueries({queryKey:["/api/projects",t,"worker-attendance"]}),K({title:" ",description:"   "})}catch{K({title:"",description:"  ",variant:"destructive"})}finally{u(!1)}},[H,t,K]);P.useEffect(()=>{!y&&W&&m(qs())},[]),P.useEffect(()=>(M(null),()=>M(null)),[M]);const _=async(te,oe)=>{if(!(!oe||typeof oe!="string"||!oe.trim()))try{await qe("/api/autocomplete","POST",{category:te,value:oe.trim()})}catch(ne){console.log(`Failed to save autocomplete value for ${te}:`,ne)}},{data:S=[]}=Pt({queryKey:["/api/projects",t,"worker-attendance",y],queryFn:async()=>{try{if(r){const ne=[];for(const he of e){const ce=y?`/api/projects/${he.id}/worker-attendance?date=${y}`:`/api/projects/${he.id}/worker-attendance`;try{const ie=await qe(ce,"GET"),ee=ie?.data||ie||[];Array.isArray(ee)&&ne.push(...ee.map(se=>({...se,projectId:he.id,projectName:he.name})))}catch(ie){console.error(`Error fetching attendance for project ${he.id}:`,ie)}}return ne}const te=y?`/api/projects/${t}/worker-attendance?date=${y}`:`/api/projects/${t}/worker-attendance`,oe=await qe(te,"GET");return oe&&oe.data&&Array.isArray(oe.data)?oe.data:Array.isArray(oe)?oe:[]}catch(te){return console.error("Error fetching attendance records:",te),[]}},enabled:!!t&&(r?e.length>0:!0),refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),{data:k=[]}=Pt({queryKey:["/api/projects",t,"worker-attendance"],queryFn:async()=>{try{const te=await qe(`/api/projects/${t}/worker-attendance`,"GET");return te&&te.data&&Array.isArray(te.data)?te.data:Array.isArray(te)?te:[]}catch(te){return console.error("Error fetching all attendance records:",te),[]}},enabled:!!t,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),{data:N}=Pt({queryKey:["/api/worker-attendance",f],queryFn:async()=>{try{const te=await qe(`/api/worker-attendance/${f}`,"GET");return te&&te.data?te.data:te||null}catch(te){return console.error("Error fetching attendance record for editing:",te),null}},enabled:!!f});P.useEffect(()=>{x({}),d(void 0)},[y,t]),P.useEffect(()=>{if(N&&h){const te={...v};te[h]={isPresent:!0,startTime:N.startTime,endTime:N.endTime,workDescription:N.workDescription||"",workDays:parseFloat(N.workDays?.toString()||"0"),paidAmount:N.paidAmount?.toString()||"",paymentType:N.paymentType||"partial"},x(te)}},[N,h]);const D=$t({mutationFn:te=>qe(`/api/worker-attendance/${te}`,"DELETE"),onMutate:async te=>{const oe=t,ne=y,he=["/api/projects",oe,"worker-attendance"],ce=["/api/projects",oe,"worker-attendance",ne];await H.cancelQueries({queryKey:he}),await H.cancelQueries({queryKey:ce});const ie=H.getQueryData(he),ee=H.getQueryData(ce);return Array.isArray(ie)&&H.setQueryData(he,ie.filter(se=>se.id!==te)),Array.isArray(ee)&&H.setQueryData(ce,ee.filter(se=>se.id!==te)),{previousAllData:ie,previousDateData:ee,allKey:he,dateKey:ce}},onSuccess:()=>{K({title:" ",description:"    ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(te,oe,ne)=>{ne?.previousAllData&&ne?.allKey&&H.setQueryData(ne.allKey,ne.previousAllData),ne?.previousDateData&&ne?.dateKey&&H.setQueryData(ne.dateKey,ne.previousDateData),console.error(" [DeleteAttendance]   :",te);const he=te.message||"     ";K({title:"",description:he,variant:"destructive"})},onSettled:(te,oe,ne,he)=>{he?.allKey&&H.invalidateQueries({queryKey:he.allKey}),he?.dateKey&&H.invalidateQueries({queryKey:he.dateKey})}}),L=te=>{if(Array.isArray(V)?V.find(ne=>ne.id===te.workerId):null){const ne={...v};ne[te.workerId]={isPresent:!0,startTime:te.startTime,endTime:te.endTime,workDescription:te.workDescription||"",workDays:parseFloat(te.workDays?.toString()||"0"),paidAmount:te.paidAmount,paymentType:te.paymentType||"partial",recordId:te.id,recordType:te.recordType||"work"},x(ne)}},{data:V=[],isLoading:Q}=Pt({queryKey:["/api/workers"]}),Y=$t({onMutate:async te=>{console.log("      (Optimistic):",te.length);for(const oe of te){const ne=parseFloat(oe.workDays?.toString()||"0"),he=parseFloat(oe.paidAmount?.toString()||"0");if(ne<=0&&he<=0){const ie=`         ${V.find(ee=>ee.id===oe.workerId)?.name||""}`;throw K({title:" ",description:ie,variant:"destructive"}),new Error(ie)}}},mutationFn:async te=>{console.log("     :",te.length);const oe=te.flatMap(ce=>[_("workDescriptions",ce.workDescription),_("paymentTypes",ce.paymentType)]).filter(Boolean);oe.length>0&&await Promise.all(oe);const ne=[],he=[];for(const ce of te)try{!ce.attendanceDate&&ce.date&&(ce.attendanceDate=ce.date),ce.attendanceDate||(ce.attendanceDate=y||qs()),console.log(`    : ${ce.workerId}  : ${ce.attendanceDate}`);const ie=parseFloat(ce.workDays?.toString()||"0"),ee=parseFloat(ce.paidAmount?.toString()||"0");if(ie<=0&&ee<=0){const se=V.find(le=>le.id===ce.workerId);throw new Error(`         ${se?.name||""}`)}if(ce.recordType==="advance"?(ce.workDays="0",console.log("   -  workDays = 0")):ce.workDays!==void 0&&(ce.workDays=ce.workDays.toString()),ce.recordId){console.log(`    : ${ce.workerId} : ${ce.recordId}`);const se={...ce};delete se.recordId;const le=await qe(`/api/worker-attendance/${ce.recordId}`,"PATCH",se);ne.push(le)}else try{const se=await qe(`/api/projects/${ce.projectId}/attendance?date=${ce.date}&workerId=${ce.workerId}`,"GET"),le=se?.data||se||[],ve=Array.isArray(le)?le.find(_e=>_e.workerId===ce.workerId):null;if(ve){console.log(`    : ${ce.workerId}    -    `);const _e=await qe(`/api/worker-attendance/${ve.id}`,"PATCH",ce);ne.push(_e)}else{console.log(`    : ${ce.workerId}`);const _e=await qe("/api/worker-attendance","POST",ce);ne.push(_e)}}catch(se){console.log("       -  :",se);try{const le=await qe("/api/worker-attendance","POST",ce);ne.push(le)}catch(le){throw le.message&&le.message.includes("unique")||le.message.includes("UNIQUE")?(console.log(`      ${ce.workerId}   `),new Error("      .      .")):le}}}catch(ie){console.error(`      ${ce.workerId}:`,ie);const se=V.find(ve=>ve.id===ce.workerId)?.name||"  ";let le="  ";ie?.response?.data?.message?le=ie.response.data.message:ie?.response?.data?.error?le=ie.response.data.error:ie?.message&&(le=ie.message),he.push({workerId:ce.workerId,workerName:se,error:le})}return console.log(`   ${ne.length}   `),he.length>0&&console.warn(`    ${he.length}  :`,he),{successful:ne,failed:he,totalProcessed:te.length}},onSuccess:async te=>{H.refetchQueries({queryKey:["/api/autocomplete"]}),H.refetchQueries({queryKey:["/api/projects",t,"worker-attendance"]});const{successful:oe,failed:ne,totalProcessed:he}=te;if(ne.length===0)K({title:"   ",description:`   ${oe.length}  `});else if(oe.length>0){const ce=ne.map(ie=>` ${ie.workerName}: ${ie.error}`).join(`
`);K({title:"   ",description:`: ${oe.length} 
: ${ne.length} 

${ce}`,variant:"default"}),console.error(" :",ne)}else{const ce=ne.map(ie=>` ${ie.workerName}: ${ie.error}`).join(`
`);K({title:"  ",description:`     :

${ce}`,variant:"destructive"})}oe.length>0&&x(ce=>{const ie={...ce};return oe.forEach(ee=>{const se=ee?.data||ee;se?.workerId&&delete ie[se.workerId]}),ie})},onError:async(te,oe)=>{const ne=oe.flatMap(ce=>[_("workDescriptions",ce.workDescription),_("paymentTypes",ce.paymentType)]).filter(Boolean);ne.length>0&&(await Promise.all(ne),H.refetchQueries({queryKey:["/api/autocomplete"]})),console.error("Error saving attendance:",te);let he="    ";if(te?.response?.data?.error||te?.message){const ce=te?.response?.data?.error||te?.message;ce.includes("     ")?he="        ":he=ce}K({title:"",description:he,variant:"destructive"})}}),re=(te,oe)=>{const ne=V.find(he=>he.id===te);if(ne&&oe.isPresent&&oe.workDays===void 0){oe.workDays=1;const he=parseFloat(ne.dailyWage||"0");oe.actualWage=he*(oe.workDays||0),oe.totalPay=oe.actualWage,oe.remainingAmount=oe.totalPay-parseFloat(oe.paidAmount||"0")}x(he=>({...he,[te]:oe}))},O=()=>{const te={...v};Object.keys(te).forEach(oe=>{te[oe].isPresent&&(te[oe]={...te[oe],startTime:R.startTime,endTime:R.endTime,workDays:R.workDays,paymentType:R.paymentType,paidAmount:R.paidAmount,workDescription:R.workDescription})}),x(te),K({title:" ",description:"      "})},Z=te=>{const oe={};V.forEach(ne=>{te?oe[ne.id]={isPresent:!0,startTime:R.startTime,endTime:R.endTime,workDays:R.workDays,paymentType:R.paymentType,paidAmount:R.paidAmount,workDescription:R.workDescription}:oe[ne.id]={isPresent:!1}}),x(oe)},U=()=>{if(!t||t===ps){K({title:"   ",description:"         ",variant:"destructive"});return}if(!y){K({title:"   ",description:"      ",variant:"destructive"});return}const te=Object.entries(v).filter(([he,ce])=>{if(!ce.isPresent)return!1;const ie=ce.recordType||"work";return ie==="work"&&(!ce.workDays||ce.workDays<=0)||ie==="advance"&&(!ce.paidAmount||parseFloat(ce.paidAmount)<=0)});if(te.length>0){const he=te.some(([se,le])=>(le.recordType||"work")==="work"),ce=te.some(([se,le])=>(le.recordType||"work")==="advance");let ie="";const ee=[];he&&(ie+=`          
`,te.forEach(([se,le])=>{if((le.recordType||"work")==="work"){const _e=V.find(Te=>Te.id===se);ee.push(`  - ${_e?.name||"  "}:    `)}})),ce&&(ie+=`         
`,te.forEach(([se,le])=>{if((le.recordType||"work")==="advance"){const _e=V.find(Te=>Te.id===se);ee.push(`  - ${_e?.name||"  "}:    `)}})),K({title:"   ",description:ie+(ee.length>0?`
`+ee.join(`
`):""),variant:"destructive"});return}if(Object.entries(v).filter(([he,ce])=>ce.isPresent).length===0){K({title:" ",description:"     .     .",variant:"destructive"});return}const ne=Object.entries(v).filter(([he,ce])=>ce.isPresent?(ce.recordType||"work")==="work"?ce.workDays&&ce.workDays>0:ce.paidAmount&&parseFloat(ce.paidAmount)>0:!1).map(([he,ce])=>{const ie=V.find(rt=>rt.id===he),ee=parseFloat(ie?.dailyWage||"0"),se=ce.recordType||"work",le=se==="advance"?0:ce.workDays||0,ve=ee*le,_e=parseFloat(String(ce.overtime||0)),Te=parseFloat(String(ce.overtimeRate||0)),Fe=_e*Te,Be=se==="advance"?0:Math.max(0,ve+Fe),ze=parseFloat(ce.paidAmount||"0"),Je=se==="advance"?-ze:ce.paymentType==="credit"?Be:Be-ze,ft=()=>{if(!ce.startTime||!ce.endTime)return 0;const rt=new Date(`2000-01-01T${ce.startTime}:00`);let me=new Date(`2000-01-01T${ce.endTime}:00`).getTime()-rt.getTime();return me<0&&(me+=1440*60*1e3),Math.max(0,me/(1e3*60*60))},bt={projectId:t,workerId:he,date:y,attendanceDate:y,startTime:ce.startTime||"07:00",endTime:ce.endTime||"15:00",workDescription:ce.workDescription||"",isPresent:!0,workDays:le,dailyWage:ie?.dailyWage||"0",hoursWorked:ft().toString(),overtime:_e.toString(),overtimeRate:Te.toString(),actualWage:ve.toString(),totalPay:Be.toString(),paidAmount:ze.toString(),remainingAmount:Je.toString(),paymentType:ce.paymentType||"partial",notes:ce.notes||"",wellId:o||null};return ce.recordId&&(bt.recordId=ce.recordId),bt});if(ne.length===0){K({title:"     ",description:`  :
   
     
     `,variant:"destructive"});return}Y.mutate(ne)},z=Array.isArray(S)?S:[],G=P.useMemo(()=>{if(!n.trim())return V;const te=n.toLowerCase().trim();return V.filter(oe=>oe.name?.toLowerCase().includes(te)||oe.phone?.toLowerCase().includes(te)||oe.type?.toLowerCase().includes(te))},[V,n]),ae=P.useMemo(()=>{let te=z;if(n.trim()){const oe=n.toLowerCase().trim();te=te.filter(ne=>V.find(ce=>ce.id===ne.workerId)?.name?.toLowerCase().includes(oe)||ne.workDescription?.toLowerCase().includes(oe)||ne.notes?.toLowerCase().includes(oe))}return(a.dateRange?.from||a.dateRange?.to)&&(te=te.filter(oe=>{const ne=new Date(oe.attendanceDate||oe.date);if(a.dateRange.from){const he=new Date(a.dateRange.from);if(he.setHours(0,0,0,0),ne<he)return!1}if(a.dateRange.to){const he=new Date(a.dateRange.to);if(he.setHours(23,59,59,999),ne>he)return!1}return!0})),a.type&&a.type!=="all"&&(te=te.filter(oe=>V.find(he=>he.id===oe.workerId)?.type===a.type)),te},[z,V,n,a.dateRange,a.type]),pe=P.useMemo(()=>{const te=ae.length,oe=ae.reduce((ee,se)=>ee+parseFloat(se.workDays||"0"),0);let ne=0,he=0,ce=0;ae.forEach(ee=>{const se=V.find(Fe=>Fe.id===ee.workerId),le=parseFloat(se?.dailyWage||ee.dailyWage||"0"),ve=parseFloat(ee.workDays||"0"),_e=le*ve,Te=parseFloat(ee.paidAmount||"0");ne+=_e,he+=Te,ee.transfers&&(ce+=parseFloat(ee.transfers))});const ie=ne-he-ce;return{totalWorkers:G.length,presentWorkers:te,totalWorkDays:oe,totalEarned:ne,totalPaid:he,totalRemaining:ie,allWorkersCount:V.length,allRecordsCount:z.length}},[ae,G,V,z]),de=P.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:pe.totalWorkers,icon:On,color:"blue"},{key:"present",label:" ",value:pe.presentWorkers,icon:Ws,color:"green"},{key:"days",label:" ",value:pe.totalWorkDays.toFixed(2),icon:ms,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"earned",label:"",value:Ye(pe.totalEarned),icon:Sr,color:"blue"},{key:"paid",label:"",value:Ye(pe.totalPaid),icon:Ws,color:"green"},{key:"remaining",label:"",value:Ye(pe.totalRemaining),icon:Sr,color:pe.totalRemaining>=0?"purple":"red"}]}],[pe]),ge=P.useMemo(()=>[{key:"date",label:"",type:"date",placeholder:" "},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"type",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...Array.from(new Set(V.map(te=>te.type))).filter(Boolean).map(te=>({value:te,label:te}))]}],[V]);return l.jsxs("div",{className:"p-4 space-y-4",children:[t&&l.jsx(sl,{statsRows:de,searchValue:n,onSearchChange:s,searchPlaceholder:"  ...",showSearch:!0,filters:ge,filterValues:{date:y?(()=>{const[te,oe,ne]=y.split("-").map(Number);return new Date(te,oe-1,ne,12,0,0,0)})():void 0},onFilterChange:(te,oe)=>{if(te==="date")if(oe instanceof Date){const ne=oe.getFullYear(),he=String(oe.getMonth()+1).padStart(2,"0"),ce=String(oe.getDate()).padStart(2,"0");m(`${ne}-${he}-${ce}`)}else m(null)},onReset:F,onRefresh:C,isRefreshing:c,resultsSummary:n?{totalCount:pe.allRecordsCount,filteredCount:pe.presentWorkers,totalLabel:" ",filteredLabel:"",totalValue:pe.totalEarned,totalValueLabel:" ",unit:"."}:void 0}),V.length>0&&l.jsx(Ai,{open:E,onOpenChange:B,children:l.jsxs(Ir,{className:"mb-4",children:[(!t||t===ps||!y)&&l.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 p-4 m-4 rounded",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-amber-600 dark:text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-sm font-medium text-amber-800 dark:text-amber-300 mb-1",children:"    "}),l.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-400 space-y-1",children:[(!t||t===ps)&&l.jsx("p",{children:"      "}),!y&&l.jsx("p",{children:"      "})]})]})]})}),l.jsx(Pi,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(On,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"font-medium text-foreground",children:"  "})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:E?" ":" "}),E?l.jsx(Qu,{className:"h-5 w-5 text-muted-foreground"}):l.jsx(rs,{className:"h-5 w-5 text-muted-foreground"})]})]})}),l.jsx(Mi,{children:l.jsxs("div",{className:"p-4 bg-muted/30 border-b space-y-3",children:[l.jsx(om,{projectId:t,value:o,onChange:d,optional:!0}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center space-x-reverse space-x-2",children:l.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>T(!j),className:"px-2 py-1 h-8","data-testid":"toggle-shared-settings",children:j?l.jsx(Qu,{className:"h-4 w-4"}):l.jsx(rs,{className:"h-4 w-4"})})}),j&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>Z(!0),className:"text-xs",children:" "}),l.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>Z(!1),className:"text-xs",children:" "}),l.jsx(Oe,{size:"sm",onClick:O,className:"text-xs",children:"  "})]})]}),j&&l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[l.jsxs("div",{children:[l.jsx(Qe,{className:"text-xs text-muted-foreground",children:" "}),l.jsx(gt,{type:"time",value:R.startTime,onChange:te=>$(oe=>({...oe,startTime:te.target.value})),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"text-xs text-muted-foreground",children:" "}),l.jsx(gt,{type:"time",value:R.endTime,onChange:te=>$(oe=>({...oe,endTime:te.target.value})),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"text-xs text-muted-foreground",children:" "}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(gt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"10.0",value:R.workDays||"",onChange:te=>{const oe=te.target.value;$(ne=>({...ne,workDays:oe===""?0:parseFloat(oe)||0}))},placeholder:"0",className:"mt-1 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"}}),R.workDays!==0&&l.jsx("button",{onClick:()=>$(te=>({...te,workDays:0})),className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"",children:""})]})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"text-xs text-muted-foreground",children:" "}),l.jsxs(ga,{value:R.paymentType,onValueChange:te=>$(oe=>({...oe,paymentType:te})),children:[l.jsx(Qs,{className:"mt-1",children:l.jsx(ya,{})}),l.jsxs(Ys,{children:[l.jsx(zr,{value:"full",children:" "}),l.jsx(zr,{value:"partial",children:" "}),l.jsx(zr,{value:"credit",children:" "})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[R.paymentType!=="credit"&&l.jsxs("div",{children:[l.jsx(Qe,{className:"text-xs text-muted-foreground",children:" "}),l.jsx(gt,{type:"number",inputMode:"decimal",placeholder:"0",value:R.paidAmount,onChange:te=>$(oe=>({...oe,paidAmount:te.target.value})),className:"mt-1 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"}})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"text-xs text-muted-foreground",children:" "}),l.jsx(ss,{value:R.workDescription,onChange:te=>$(oe=>({...oe,workDescription:te})),placeholder:"  ...",category:"workDescriptions",className:"mt-1"})]})]})]}),Q?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-muted-foreground",children:"  ..."})}):V.length===0?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-muted-foreground",children:"   "})}):l.jsx("div",{className:"space-y-3",children:G.length===0&&n?l.jsx("div",{className:"text-center py-8",children:l.jsxs("p",{className:"text-muted-foreground",children:['    "',n,'"']})}):G.map(te=>l.jsx(bue,{worker:te,attendance:v[te.id]||{isPresent:!1},onAttendanceChange:oe=>re(te.id,oe),selectedDate:y??void 0},te.id))}),l.jsx("div",{className:"mt-6",children:l.jsxs(Oe,{onClick:U,disabled:Y.isPending,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[l.jsx(Cc,{className:"ml-2 h-4 w-4"}),Y.isPending?" ...":" "]})})]})})]})}),t&&l.jsx("div",{className:"mt-6",children:ae.length>0?l.jsx(Ps,{columns:2,children:ae.map(te=>{const oe=V.find(le=>le.id===te.workerId),ne=parseFloat(oe?.dailyWage||te.dailyWage||"0"),he=parseFloat(te.workDays||"0"),ce=ne*he,ie=parseFloat(te.paidAmount||"0"),ee=ce-ie,se=te.projectName||e.find(le=>le.id===te.projectId)?.name;return l.jsx(vn,{title:oe?.name||te.workerId,subtitle:r&&se?`${se} - ${te.date||te.attendanceDate}`:te.date||te.attendanceDate,titleIcon:Nm,headerColor:"#22c55e",badges:[{label:"",variant:"success"},...r&&se?[{label:se,variant:"outline"}]:[]],fields:[{label:"",value:`${te.startTime||" "} - ${te.endTime||" "}`,icon:ms,color:"info"},{label:" ",value:he.toString(),icon:ma,color:"warning"},{label:" ",value:Ye(ne),icon:Sr,color:"default"},{label:"",value:Ye(ce),icon:Sr,color:"info",emphasis:!0},{label:"",value:Ye(ie),icon:Ws,color:"success"},{label:"",value:Ye(ee),icon:Sr,color:ee>0?"danger":"success",emphasis:!0}],actions:[{icon:_l,label:"",onClick:()=>L(te),color:"blue"},{icon:ys,label:"",onClick:()=>D.mutate(te.id),color:"red",disabled:D.isPending}],footer:te.workDescription?l.jsx("p",{className:"text-sm text-muted-foreground",children:te.workDescription}):void 0,compact:!0},te.id)})}):null})]})}const Tue=t=>t==="web"?[{id:1,name:" ",status:"pending",icon:sf},{id:2,name:"   GitHub",status:"pending",icon:sf},{id:3,name:"  ",status:"pending",icon:Ff},{id:4,name:"   ",status:"pending",icon:yp},{id:5,name:"   ",status:"pending",icon:jn},{id:6,name:"   ",status:"pending",icon:$l},{id:7,name:"  ",status:"pending",icon:pi}]:[{id:1,name:" ",status:"pending",icon:sf},{id:2,name:"   GitHub",status:"pending",icon:sf},{id:3,name:"  ",status:"pending",icon:Ff},{id:4,name:"   ",status:"pending",icon:yp},{id:5,name:"   ",status:"pending",icon:jn},{id:6,name:" APK  Android",status:"pending",icon:s_},{id:7,name:" APK  ",status:"pending",icon:yp}],Eue=[{id:1,name:" ",status:"pending",icon:sf},{id:2,name:"   GitHub",status:"pending",icon:sf},{id:3,name:"   ",status:"pending",icon:Ff},{id:4,name:" ",status:"pending",icon:jn},{id:5,name:" ",status:"pending",icon:$l},{id:6,name:" ",status:"pending",icon:$l},{id:7,name:" ",status:"pending",icon:pi}];function Aue(){const{toast:t}=wn(),[r,e]=P.useState(!1),[n,s]=P.useState(0),[a,i]=P.useState(Eue),[c,u]=P.useState([]),[o,d]=P.useState(!0),[p,f]=P.useState(null),[h,g]=P.useState(null),[y,m]=P.useState("web"),[v,x]=P.useState({show:!1,message:"",action:""}),j=P.useRef(null);P.useEffect(()=>{o&&j.current&&j.current.scrollIntoView({behavior:"smooth",block:"end"})},[c,o]);const T=(K,H="info")=>{u(M=>[...M,{id:Math.random().toString(36).substr(2,9),timestamp:new Date().toLocaleTimeString("ar-SA"),message:K,type:H}])},E=(K,H,M)=>{i(F=>F.map(C=>C.id===K?{...C,status:H,duration:M}:C))},B=async()=>{if(!y){t({description:"   ",variant:"destructive"});return}e(!0),s(0),u([]);const K=Tue(y);i(K.map(M=>({...M,status:"pending",duration:void 0}))),f(Date.now()),g(null);const H=y==="web"?" ":" Android";T(`       ${H}...`,"info"),E(1,"running");try{T("      ...","info");const M=await qe("/api/deployment/build","POST",{appType:y});if(console.log(" [startDeployment]  API:",{response:M}),M&&M.logs&&Array.isArray(M.logs)){let F=1;M.logs.forEach((C,_)=>{if(C&&C.message&&C.type){T(C.message,C.type);const k=Math.floor(_/2)+1;k<K.length&&F!==k&&(F<=K.length&&E(F,"success"),F=k,E(F,"running"))}}),i(C=>C.map((_,S)=>({..._,status:"success",duration:S<3?2:3}))),s(100),T(`      ${H}  100%!`,"success"),t({description:"   ",variant:"default"})}else T(`     - : ${JSON.stringify(M)}`,"warning"),s(100),i(F=>F.map(C=>({...C,status:"success",duration:3})))}catch(M){console.error(" [startDeployment] :",M);const F=M?.message||"   ";T(`   : ${F}`,"error"),i(C=>C.map((_,S)=>S===0?{..._,status:"success"}:S===1?{..._,status:"failed"}:_)),t({description:` : ${F}`,variant:"destructive"})}finally{e(!1),g(Date.now())}},W=()=>{if(!p)return"00:00";const K=h||Date.now(),H=Math.floor((K-p)/1e3),M=Math.floor(H/60),F=H%60;return`${M.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`},I=()=>{const K=c.map(H=>`[${H.timestamp}] ${H.message}`).join(`
`);navigator.clipboard.writeText(K),t({description:"    "})},R=async()=>{x({show:!1,message:"",action:""}),T("      ...","info");try{await qe("/api/schema/apply","POST",{appType:y,timestamp:new Date().toISOString()}),T("      ","success")}catch(K){T(`   : ${K.message}`,"error")}},$=()=>{x({show:!1,message:"",action:""}),T("     ","warning")};return l.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-8 space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsx("div",{className:"w-full md:w-auto",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"   "}),l.jsxs(ga,{value:y,onValueChange:K=>m(K),disabled:r,children:[l.jsx(Qs,{className:"w-full md:w-56","data-testid":"select-app-type",children:l.jsx(ya,{placeholder:" "})}),l.jsxs(Ys,{children:[l.jsx(zr,{value:"web","data-testid":"option-web-app",children:" "}),l.jsx(zr,{value:"android","data-testid":"option-android-app",children:" Android"})]})]})]})}),l.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[l.jsxs(Oe,{variant:"outline",size:"sm",onClick:I,className:"flex-1 md:flex-none hover-elevate","data-testid":"button-copy-logs",children:[l.jsx(SA,{className:"w-4 h-4 ml-2"})," "]}),r?l.jsxs(Oe,{variant:"destructive",onClick:()=>e(!1),className:"flex-1 md:flex-none hover-elevate","data-testid":"button-stop-build",children:[l.jsx(gq,{className:"w-4 h-4 ml-2"})," "]}):l.jsxs(Oe,{onClick:B,disabled:!y,className:"flex-1 md:flex-none bg-primary hover-elevate active-elevate-2 px-8",size:"lg","data-testid":"button-start-deployment",children:[l.jsx(hq,{className:"w-4 h-4 ml-2"}),"  "]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[l.jsxs(Ir,{className:"border-border/50 shadow-sm overflow-hidden",children:[l.jsx(Ma,{className:"bg-muted/30 pb-4",children:l.jsxs(Qa,{className:"text-sm font-medium flex items-center justify-between",children:[l.jsx("span",{children:"  "}),l.jsx(Zr,{variant:r?"secondary":"outline",className:r?"animate-pulse":"",children:r?" ":""})]})}),l.jsx(en,{className:"pt-6 space-y-1",children:a.map((K,H)=>l.jsxs("div",{className:"relative pr-6 pb-6 last:pb-0",children:[H!==a.length-1&&l.jsx("div",{className:`absolute right-[11px] top-6 bottom-0 w-[2px] ${K.status==="success"?"bg-primary":"bg-border"}`}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`absolute right-0 w-6 h-6 rounded-full flex items-center justify-center z-10 transition-colors ${K.status==="success"?"bg-primary text-primary-foreground":K.status==="running"?"bg-primary/20 text-primary animate-pulse border-2 border-primary":K.status==="failed"?"bg-destructive text-destructive-foreground":"bg-muted text-muted-foreground border-2 border-border"}`,children:K.status==="success"?l.jsx(Al,{className:"w-3 h-3"}):K.status==="failed"?l.jsx(Da,{className:"w-3 h-3"}):(()=>{const M=K.icon;return l.jsx(M,{className:"w-3 h-3"})})()}),l.jsxs("div",{className:"flex-1 pr-8",children:[l.jsx("p",{className:`text-sm font-semibold ${K.status==="running"?"text-primary":"text-foreground"}`,children:K.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[K.status==="running"&&l.jsx("span",{className:"text-[10px] text-primary animate-pulse uppercase font-bold",children:" "}),K.duration&&l.jsxs("span",{className:"text-[10px] text-muted-foreground font-mono",children:[K.duration," "]})]})]})]})]},K.id))})]}),l.jsx(Ir,{className:"bg-primary/5 border-primary/20",children:l.jsx(en,{className:"pt-6 space-y-4",children:l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase",children:" "}),l.jsx("p",{className:"text-3xl font-mono font-bold text-primary",children:W()})]}),l.jsx(ms,{className:"w-10 h-10 text-primary/20"})]})})})]}),l.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[l.jsxs(Ir,{className:"border-border/50 shadow-sm h-full flex flex-col",children:[l.jsxs(Ma,{className:"flex flex-row items-center justify-between border-b bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-black/5 dark:bg-white/5 rounded-md border",children:[l.jsx(PA,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-xs font-mono font-bold uppercase tracking-wider",children:" "})]}),r&&l.jsx(Zr,{className:"bg-primary animate-pulse text-[10px]",children:" "})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer hover:text-foreground transition-colors",children:[l.jsx("input",{type:"checkbox",checked:o,onChange:K=>d(K.target.checked),className:"rounded border-border"})," "]}),l.jsx(Oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",children:l.jsx(yp,{className:"w-4 h-4"})})]})]}),l.jsx(en,{className:"p-0 bg-[#0d1117] min-h-[600px] flex-1",children:l.jsx(ru,{className:"h-full",children:l.jsxs("div",{className:"p-6 font-mono text-sm leading-relaxed space-y-1",children:[c.length===0?l.jsxs("div",{className:"text-muted-foreground/30 italic flex items-center gap-2",children:[l.jsx(Of,{className:"w-4 h-4"}),"  ..."]}):c.map((K,H)=>l.jsxs("div",{className:"group flex gap-4 hover:bg-white/5 py-0.5 rounded px-2 -mx-2 transition-colors",children:[l.jsx("span",{className:"text-gray-600 select-none w-12 text-right text-[10px] pt-1",children:H+1}),l.jsx("span",{className:"text-gray-500 select-none w-20 pt-1 text-[11px]",children:K.timestamp}),l.jsx("span",{className:`flex-1 break-all ${K.type==="success"?"text-emerald-400 font-medium":K.type==="error"?"text-rose-400 font-bold":K.type==="warning"?"text-amber-400":"text-slate-300"}`,children:K.message})]},K.id)),l.jsx("div",{ref:j,className:"h-2"})]})})})]}),n===100&&!r&&l.jsx(Ir,{className:"bg-emerald-50 dark:bg-emerald-950/20 border-emerald-200 dark:border-emerald-800 animate-in fade-in slide-in-from-bottom-4",children:l.jsxs(en,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-4 text-emerald-700 dark:text-emerald-400",children:[l.jsx("div",{className:"bg-emerald-500 text-white p-3 rounded-full shadow-lg shadow-emerald-500/20",children:l.jsx(Al,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:" !"}),l.jsx("p",{className:"text-sm opacity-90",children:"         GitHub."})]})]}),l.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[l.jsx(Oe,{className:"flex-1 md:flex-none bg-emerald-600 hover:bg-emerald-700 text-white border-0 shadow-lg shadow-emerald-500/20",asChild:!0,children:l.jsx("a",{href:"/",target:"_blank",children:"  "})}),l.jsx(Oe,{variant:"outline",className:"flex-1 md:flex-none border-emerald-200 dark:border-emerald-800 text-emerald-700 dark:text-emerald-400 bg-transparent hover:bg-emerald-50 dark:hover:bg-emerald-900/30",children:"  "})]})]})}),a.some(K=>K.status==="failed")&&!r&&l.jsx(Ir,{className:"bg-rose-50 dark:bg-rose-950/20 border-rose-200 dark:border-rose-800",children:l.jsxs(en,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-4 text-rose-700 dark:text-rose-400",children:[l.jsx("div",{className:"bg-rose-500 text-white p-3 rounded-full shadow-lg shadow-rose-500/20",children:l.jsx(Da,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"  "}),l.jsx("p",{className:"text-sm opacity-90",children:"   .    GitHub ."})]})]}),l.jsxs(Oe,{onClick:B,className:"w-full md:w-auto bg-rose-600 hover:bg-rose-700 text-white border-0 shadow-lg shadow-rose-500/20",children:[l.jsx(eb,{className:"w-4 h-4 ml-2"}),"  "]})]})}),v.show&&l.jsx(Ir,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800 animate-in fade-in slide-in-from-bottom-4",children:l.jsxs(en,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-4 text-blue-700 dark:text-blue-400",children:[l.jsx("div",{className:"bg-blue-500 text-white p-3 rounded-full shadow-lg shadow-blue-500/20 animate-pulse",children:l.jsx(Ll,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold",children:" "}),l.jsx("p",{className:"text-sm opacity-90",children:v.message})]})]}),l.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[l.jsxs(Oe,{onClick:R,className:"flex-1 md:flex-none bg-blue-600 text-white","data-testid":"button-apply-schema",children:[l.jsx(Al,{className:"w-4 h-4"}),l.jsx("span",{className:"ml-2",children:""})]}),l.jsxs(Oe,{onClick:$,variant:"outline",className:"flex-1 md:flex-none border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-400 bg-transparent hover:bg-blue-50 dark:hover:bg-blue-900/30","data-testid":"button-reject-schema",children:[l.jsx(Da,{className:"w-4 h-4 ml-2"}),""]})]})]})})]})]})]})}const d3=P.forwardRef(({className:t,...r},e)=>l.jsx("textarea",{className:Pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:e,...r}));d3.displayName="Textarea";var f3="Radio",[Pue,cO]=va(f3),[Mue,Rue]=Pue(f3),uO=P.forwardRef((t,r)=>{const{__scopeRadio:e,name:n,checked:s=!1,required:a,disabled:i,value:c="on",onCheck:u,form:o,...d}=t,[p,f]=P.useState(null),h=Cr(r,m=>f(m)),g=P.useRef(!1),y=p?o||!!p.closest("form"):!0;return l.jsxs(Mue,{scope:e,checked:s,disabled:i,children:[l.jsx(ir.button,{type:"button",role:"radio","aria-checked":s,"data-state":pO(s),"data-disabled":i?"":void 0,disabled:i,value:c,...d,ref:h,onClick:pt(t.onClick,m=>{s||u?.(),y&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),y&&l.jsx(hO,{control:p,bubbles:!g.current,name:n,value:c,checked:s,required:a,disabled:i,form:o,style:{transform:"translateX(-100%)"}})]})});uO.displayName=f3;var dO="RadioIndicator",fO=P.forwardRef((t,r)=>{const{__scopeRadio:e,forceMount:n,...s}=t,a=Rue(dO,e);return l.jsx(ws,{present:n||a.checked,children:l.jsx(ir.span,{"data-state":pO(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:r})})});fO.displayName=dO;var Due="RadioBubbleInput",hO=P.forwardRef(({__scopeRadio:t,control:r,checked:e,bubbles:n=!0,...s},a)=>{const i=P.useRef(null),c=Cr(i,a),u=i4(e),o=p_(r);return P.useEffect(()=>{const d=i.current;if(!d)return;const p=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==e&&h){const g=new Event("click",{bubbles:n});h.call(d,e),d.dispatchEvent(g)}},[u,e,n]),l.jsx(ir.input,{type:"radio","aria-hidden":!0,defaultChecked:e,...s,tabIndex:-1,ref:c,style:{...s.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hO.displayName=Due;function pO(t){return t?"checked":"unchecked"}var Iue=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Qb="RadioGroup",[Oue]=va(Qb,[Mb,cO]),mO=Mb(),gO=cO(),[Fue,Lue]=Oue(Qb),yO=P.forwardRef((t,r)=>{const{__scopeRadioGroup:e,name:n,defaultValue:s,value:a,required:i=!1,disabled:c=!1,orientation:u,dir:o,loop:d=!0,onValueChange:p,...f}=t,h=mO(e),g=$m(o),[y,m]=go({prop:a,defaultProp:s??null,onChange:p,caller:Qb});return l.jsx(Fue,{scope:e,name:n,required:i,disabled:c,value:y,onValueChange:m,children:l.jsx(VR,{asChild:!0,...h,orientation:u,dir:g,loop:d,children:l.jsx(ir.div,{role:"radiogroup","aria-required":i,"aria-orientation":u,"data-disabled":c?"":void 0,dir:g,...f,ref:r})})})});yO.displayName=Qb;var bO="RadioGroupItem",vO=P.forwardRef((t,r)=>{const{__scopeRadioGroup:e,disabled:n,...s}=t,a=Lue(bO,e),i=a.disabled||n,c=mO(e),u=gO(e),o=P.useRef(null),d=Cr(r,o),p=a.value===s.value,f=P.useRef(!1);return P.useEffect(()=>{const h=y=>{Iue.includes(y.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),l.jsx(UR,{asChild:!0,...c,focusable:!i,active:p,children:l.jsx(uO,{disabled:i,required:a.required,checked:p,...u,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:pt(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:pt(s.onFocus,()=>{f.current&&o.current?.click()})})})});vO.displayName=bO;var Bue="RadioGroupIndicator",xO=P.forwardRef((t,r)=>{const{__scopeRadioGroup:e,...n}=t,s=gO(e);return l.jsx(fO,{...s,...n,ref:r})});xO.displayName=Bue;var wO=yO,_O=vO,$ue=xO;const kO=P.forwardRef(({className:t,...r},e)=>l.jsx(wO,{className:Pe("grid gap-2",t),...r,ref:e}));kO.displayName=wO.displayName;const Wg=P.forwardRef(({className:t,...r},e)=>l.jsx(_O,{ref:e,className:Pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:l.jsx($ue,{className:"flex items-center justify-center",children:l.jsx(kA,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Wg.displayName=_O.displayName;function vg(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var C1={exports:{}};/*! ExcelJS 19-10-2023 */var hN;function zue(){return hN||(hN=1,(function(t,r){(function(e){t.exports=e()})((function(){return(function e(n,s,a){function i(o,d){if(!s[o]){if(!n[o]){var p=typeof vg=="function"&&vg;if(!d&&p)return p(o,!0);if(c)return c(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var h=s[o]={exports:{}};n[o][0].call(h.exports,(function(g){return i(n[o][1][g]||g)}),h,h.exports,e,n,s,a)}return s[o].exports}for(var c=typeof vg=="function"&&vg,u=0;u<a.length;u++)i(a[u]);return i})({1:[function(e,n,s){const a=e("fs"),i=e("fast-csv"),c=e("dayjs/plugin/customParseFormat"),u=e("dayjs/plugin/utc"),o=e("dayjs").extend(c).extend(u),d=e("../utils/stream-buf"),{fs:{exists:p}}=e("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,g){if(g=g||{},!await p(h))throw new Error("File not found: "+h);const y=a.createReadStream(h),m=await this.read(y,g);return y.close(),m}read(h,g){return g=g||{},new Promise((y,m)=>{const v=this.workbook.addWorksheet(g.sheetName),x=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],j=g.map||function(E){if(E==="")return null;const B=Number(E);if(!Number.isNaN(B)&&B!==1/0)return B;const W=x.reduce((R,$)=>{if(R)return R;const K=o(E,$,!0);return K.isValid()?K:null},null);if(W)return new Date(W.valueOf());const I=f[E];return I!==void 0?I:E},T=i.parse(g.parserOptions).on("data",E=>{v.addRow(E.map(j))}).on("end",()=>{T.emit("worksheet",v)});T.on("worksheet",y).on("error",m),h.pipe(T)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,g){return new Promise((y,m)=>{g=g||{};const v=this.workbook.getWorksheet(g.sheetName||g.sheetId),x=i.format(g.formatterOptions);h.on("finish",()=>{y()}),x.on("error",m),x.pipe(h);const{dateFormat:j,dateUTC:T}=g,E=g.map||(I=>{if(I){if(I.text||I.hyperlink)return I.hyperlink||I.text||"";if(I.formula||I.result)return I.result||"";if(I instanceof Date)return j?T?o.utc(I).format(j):o(I).format(j):T?o.utc(I).format():o(I).format();if(I.error)return I.error;if(typeof I=="object")return JSON.stringify(I)}return I}),B=g.includeEmptyRows===void 0||g.includeEmptyRows;let W=1;v&&v.eachRow((I,R)=>{if(B)for(;W++<R-1;)x.write([]);const{values:$}=I;$.shift(),x.write($.map(E)),W=R}),x.end()})}writeFile(h,g){const y={encoding:(g=g||{}).encoding||"utf8"},m=a.createWriteStream(h,y);return this.write(m,g)}async writeBuffer(h){const g=new d;return await this.write(g,h),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,s){const a=e("../utils/col-cache");class i{constructor(u,o){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=u,o)if(typeof o=="string"){const p=a.decodeAddress(o);this.nativeCol=p.col+d,this.nativeColOff=0,this.nativeRow=p.row+d,this.nativeRowOff=0}else o.nativeCol!==void 0?(this.nativeCol=o.nativeCol||0,this.nativeColOff=o.nativeColOff||0,this.nativeRow=o.nativeRow||0,this.nativeRowOff=o.nativeRowOff||0):o.col!==void 0?(this.col=o.col+d,this.row=o.row+d):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(u){return u instanceof i||u==null?u:new i(u)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(u){this.nativeCol=Math.floor(u),this.nativeColOff=Math.floor((u-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(u){this.nativeRow=Math.floor(u),this.nativeRowOff=Math.floor((u-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(u){this.nativeCol=u.nativeCol,this.nativeColOff=u.nativeColOff,this.nativeRow=u.nativeRow,this.nativeRowOff=u.nativeRowOff}}n.exports=i},{"../utils/col-cache":19}],3:[function(e,n,s){const a=e("../utils/col-cache"),i=e("../utils/under-dash"),c=e("./enums"),{slideFormula:u}=e("../utils/shared-formula"),o=e("./note");class d{constructor(h,g,y){if(!h||!g)throw new Error("A Cell needs a Row");this._row=h,this._column=g,a.validateAddress(y),this._address=y,this._value=p.create(d.Types.Null,this),this.style=this._mergeStyle(h.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,g,y){const m=h&&h.numFmt||g&&g.numFmt;m&&(y.numFmt=m);const v=h&&h.font||g&&g.font;v&&(y.font=v);const x=h&&h.alignment||g&&g.alignment;x&&(y.alignment=x);const j=h&&h.border||g&&g.border;j&&(y.border=j);const T=h&&h.fill||g&&g.fill;T&&(y.fill=T);const E=h&&h.protection||g&&g.protection;return E&&(y.protection=E),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===d.Types.Merge}merge(h,g){this._value.release(),this._value=p.create(d.Types.Merge,this,h),g||(this.style=h.style)}unmerge(){this.type===d.Types.Merge&&(this._value.release(),this._value=p.create(d.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===d.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===d.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===d.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==d.Types.Merge?(this._value.release(),this._value=p.create(p.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new o(h)}get text(){return this._value.toString()}get html(){return i.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===d.Types.String&&(this._value=p.create(d.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),h.forEach(y=>{g.addEx(this.fullAddress,y)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=p.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=o.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}d.Types=c.ValueType;const p={getType:f=>f==null?d.Types.Null:f instanceof String||typeof f=="string"?d.Types.String:typeof f=="number"?d.Types.Number:typeof f=="boolean"?d.Types.Boolean:f instanceof Date?d.Types.Date:f.text&&f.hyperlink?d.Types.Hyperlink:f.formula||f.sharedFormula?d.Types.Formula:f.richText?d.Types.RichText:f.sharedString?d.Types.SharedString:f.error?d.Types.Error:d.Types.JSON,types:[{t:d.Types.Null,f:class{constructor(f){this.model={address:f.address,type:d.Types.Null}}get value(){return null}set value(f){}get type(){return d.Types.Null}get effectiveType(){return d.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:d.Types.Number,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Number,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Number}get effectiveType(){return d.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.String,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:d.Types.Date,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Date,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Date}get effectiveType(){return d.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Hyperlink,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return d.Types.Hyperlink}get effectiveType(){return d.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:d.Types.Formula,f:class{constructor(f,h){this.cell=f,this.model={address:f.address,type:d.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(f){const h={},g=y=>{const m=f[y];m&&(h[y]=m)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(p.getType(f)){case d.Types.Null:case d.Types.String:case d.Types.Number:case d.Types.Date:break;case d.Types.Hyperlink:case d.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?c.FormulaType.Master:this.model.sharedFormula?c.FormulaType.Shared:c.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return d.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?c.ValueType.Null:f instanceof String||typeof f=="string"?c.ValueType.String:typeof f=="number"?c.ValueType.Number:f instanceof Date?c.ValueType.Date:f.text&&f.hyperlink?c.ValueType.Hyperlink:f.formula?c.ValueType.Formula:c.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,h=f.findCell(this.model.sharedFormula);this._translatedFormula=h&&u(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:d.Types.Merge,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof d?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return d.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:d.Types.JSON,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:d.Types.SharedString,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.SharedString,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.SharedString}get effectiveType(){return d.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.RichText,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return d.Types.RichText}get effectiveType(){return d.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:d.Types.Boolean,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Boolean,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Boolean}get effectiveType(){return d.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Error,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Error,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Error}get effectiveType(){return d.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,h)=>(f[h.t]=h.f,f),[]),create(f,h,g){const y=this.types[f];if(!y)throw new Error("Could not create Value of type "+f);return new y(h,g)}};n.exports=d},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,s){const a=e("../utils/under-dash"),i=e("./enums"),c=e("../utils/col-cache");class u{constructor(d,p,f){this._worksheet=d,this._number=p,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return c.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(d){d?(this.key=d.key,this.width=d.width!==void 0?d.width:9,this.outlineLevel=d.outlineLevel,d.style?this.style=d.style:this.style={},this.header=d.header,this._hidden=!!d.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(d){d!==void 0?(this._header=d,this.headers.forEach((p,f)=>{this._worksheet.getCell(f+1,this.number).value=p})):this._header=void 0}get key(){return this._key}set key(d){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=d,d&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(d){return this.width===d.width&&this.hidden===d.hidden&&this.outlineLevel===d.outlineLevel&&a.isEqual(this.style,d.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const d=this.style;return!d||!(d.font||d.numFmt||d.alignment||d.border||d.fill||d.protection)}get headerCount(){return this.headers.length}eachCell(d,p){const f=this.number;p||(p=d,d=null),this._worksheet.eachRow(d,(h,g)=>{p(h.getCell(f),g)})}get values(){const d=[];return this.eachCell((p,f)=>{p&&p.type!==i.ValueType.Null&&(d[f]=p.value)}),d}set values(d){if(!d)return;const p=this.number;let f=0;d.hasOwnProperty("0")&&(f=1),d.forEach((h,g)=>{this._worksheet.getCell(g+f,p).value=h})}_applyStyle(d,p){return this.style[d]=p,this.eachCell(f=>{f[d]=p}),p}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}static toModel(d){const p=[];let f=null;return d&&d.forEach((h,g)=>{h.isDefault?f&&(f=null):f&&h.equivalentTo(f)?f.max=g+1:(f={min:g+1,max:g+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},p.push(f))}),p.length?p:void 0}static fromModel(d,p){const f=[];let h=1,g=0;for(p=(p=p||[]).sort((function(y,m){return y.min-m.min}));g<p.length;){const y=p[g++];for(;h<y.min;)f.push(new u(d,h++));for(;h<=y.max;)f.push(new u(d,h++,y))}return f.length?f:null}}n.exports=u},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,s){n.exports=class{constructor(a){this.model=a||{}}add(a,i){return this.model[a]=i}find(a){return this.model[a]}remove(a){this.model[a]=void 0}}},{}],6:[function(e,n,s){const a=e("../utils/under-dash"),i=e("../utils/col-cache"),c=e("../utils/cell-matrix"),u=e("./range"),o=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(d){return this.matrixMap[d]||(this.matrixMap[d]=new c)}add(d,p){const f=i.decodeEx(d);this.addEx(f,p)}addEx(d,p){const f=this.getMatrix(p);if(d.top)for(let h=d.left;h<=d.right;h++)for(let g=d.top;g<=d.bottom;g++){const y={sheetName:d.sheetName,address:i.n2l(h)+g,row:g,col:h};f.addCellEx(y)}else f.addCellEx(d)}remove(d,p){const f=i.decodeEx(d);this.removeEx(f,p)}removeEx(d,p){this.getMatrix(p).removeCellEx(d)}removeAllNames(d){a.each(this.matrixMap,p=>{p.removeCellEx(d)})}forEach(d){a.each(this.matrixMap,(p,f)=>{p.forEach(h=>{d(f,h)})})}getNames(d){return this.getNamesEx(i.decodeEx(d))}getNamesEx(d){return a.map(this.matrixMap,(p,f)=>p.findCellEx(d)&&f).filter(Boolean)}_explore(d,p){p.mark=!1;const{sheetName:f}=p,h=new u(p.row,p.col,p.row,p.col,f);let g,y;function m(x,j){const T=d.findCellAt(f,x,p.col);return!(!T||!T.mark)&&(h[j]=x,T.mark=!1,!0)}for(y=p.row-1;m(y,"top");y--);for(y=p.row+1;m(y,"bottom");y++);function v(x,j){const T=[];for(y=h.top;y<=h.bottom;y++){const E=d.findCellAt(f,y,x);if(!E||!E.mark)return!1;T.push(E)}h[j]=x;for(let E=0;E<T.length;E++)T[E].mark=!1;return!0}for(g=p.col-1;v(g,"left");g--);for(g=p.col+1;v(g,"right");g++);return h}getRanges(d,p){return(p=p||this.matrixMap[d])?(p.forEach(f=>{f.mark=!0}),{name:d,ranges:p.map(f=>f.mark&&this._explore(p,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:d,ranges:[]}}normaliseMatrix(d,p){d.forEachInSheet(p,(f,h,g)=>{f&&(f.row===h&&f.col===g||(f.row=h,f.col=g,f.address=i.n2l(g)+h))})}spliceRows(d,p,f,h){a.each(this.matrixMap,g=>{g.spliceRows(d,p,f,h),this.normaliseMatrix(g,d)})}spliceColumns(d,p,f,h){a.each(this.matrixMap,g=>{g.spliceColumns(d,p,f,h),this.normaliseMatrix(g,d)})}get model(){return a.map(this.matrixMap,(d,p)=>this.getRanges(p,d)).filter(d=>d.ranges.length)}set model(d){const p=this.matrixMap={};d.forEach(f=>{const h=p[f.name]=new c;f.ranges.forEach(g=>{o.test(g.split("!").pop()||"")&&h.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,s){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,s){const a=e("../utils/col-cache"),i=e("./anchor");n.exports=class{constructor(c,u){this.worksheet=c,this.model=u}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(c){let{type:u,imageId:o,range:d,hyperlinks:p}=c;if(this.type=u,this.imageId=o,u==="image")if(typeof d=="string"){const f=a.decode(d);this.range={tl:new i(this.worksheet,{col:f.left,row:f.top},-1),br:new i(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new i(this.worksheet,d.tl,0),br:d.br&&new i(this.worksheet,d.br,0),ext:d.ext,editAs:d.editAs,hyperlinks:p||d.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,s){const a=e("../utils/under-dash");class i{constructor(u){this.note=u}get model(){let u=null;switch(typeof this.note){case"string":u={type:"note",note:{texts:[{text:this.note}]}};break;default:u={type:"note",note:this.note}}return a.deepMerge({},i.DEFAULT_CONFIGS,u)}set model(u){const{note:o}=u,{texts:d}=o;d.length===1&&Object.keys(d[0]).length===1?this.note=d[0].text:this.note=o}static fromModel(u){const o=new i;return o.model=u,o}}i.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=i},{"../utils/under-dash":26}],10:[function(e,n,s){const a=e("../utils/col-cache");class i{constructor(){this.decode(arguments)}setTLBR(u,o,d,p,f){if(arguments.length<4){const h=a.decodeAddress(u),g=a.decodeAddress(o);this.model={top:Math.min(h.row,g.row),left:Math.min(h.col,g.col),bottom:Math.max(h.row,g.row),right:Math.max(h.col,g.col),sheetName:d},this.setTLBR(h.row,h.col,g.row,g.col,f)}else this.model={top:Math.min(u,d),left:Math.min(o,p),bottom:Math.max(u,d),right:Math.max(o,p),sheetName:f}}decode(u){switch(u.length){case 5:this.setTLBR(u[0],u[1],u[2],u[3],u[4]);break;case 4:this.setTLBR(u[0],u[1],u[2],u[3]);break;case 3:this.setTLBR(u[0],u[1],u[2]);break;case 2:this.setTLBR(u[0],u[1]);break;case 1:{const o=u[0];if(o instanceof i)this.model={top:o.model.top,left:o.model.left,bottom:o.model.bottom,right:o.model.right,sheetName:o.sheetName};else if(o instanceof Array)this.decode(o);else if(o.top&&o.left&&o.bottom&&o.right)this.model={top:o.top,left:o.left,bottom:o.bottom,right:o.right,sheetName:o.sheetName};else{const d=a.decodeEx(o);d.top?this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName}:this.model={top:d.row,left:d.col,bottom:d.row,right:d.col,sheetName:d.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+u.length)}}get top(){return this.model.top||1}set top(u){this.model.top=u}get left(){return this.model.left||1}set left(u){this.model.left=u}get bottom(){return this.model.bottom||1}set bottom(u){this.model.bottom=u}get right(){return this.model.right||1}set right(u){this.model.right=u}get sheetName(){return this.model.sheetName}set sheetName(u){this.model.sheetName=u}get _serialisedSheetName(){const{sheetName:u}=this.model;return u?/^[a-zA-Z0-9]*$/.test(u)?u+"!":`'${u}'!`:""}expand(u,o,d,p){(!this.model.top||u<this.top)&&(this.top=u),(!this.model.left||o<this.left)&&(this.left=o),(!this.model.bottom||d>this.bottom)&&(this.bottom=d),(!this.model.right||p>this.right)&&(this.right=p)}expandRow(u){if(u){const{dimensions:o,number:d}=u;o&&this.expand(d,o.min,d,o.max)}}expandToAddress(u){const o=a.decodeEx(u);this.expand(o.row,o.col,o.row,o.col)}get tl(){return a.n2l(this.left)+this.top}get $t$l(){return`$${a.n2l(this.left)}$${this.top}`}get br(){return a.n2l(this.right)+this.bottom}get $b$r(){return`$${a.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&!(u.bottom<this.top)&&!(u.top>this.bottom)&&!(u.right<this.left)&&!(u.left>this.right)}contains(u){const o=a.decodeEx(u);return this.containsEx(o)}containsEx(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&u.row>=this.top&&u.row<=this.bottom&&u.col>=this.left&&u.col<=this.right}forEachAddress(u){for(let o=this.left;o<=this.right;o++)for(let d=this.top;d<=this.bottom;d++)u(a.encodeAddress(d,o),d,o)}}n.exports=i},{"../utils/col-cache":19}],11:[function(e,n,s){const a=e("../utils/under-dash"),i=e("./enums"),c=e("../utils/col-cache"),u=e("./cell");n.exports=class{constructor(o,d){this._worksheet=o,this._number=d,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(o){return this._cells[o-1]}getCellEx(o){let d=this._cells[o.col-1];if(!d){const p=this._worksheet.getColumn(o.col);d=new u(this,p,o.address),this._cells[o.col-1]=d}return d}getCell(o){if(typeof o=="string"){const d=this._worksheet.getColumnKey(o);o=d?d.number:c.l2n(o)}return this._cells[o-1]||this.getCellEx({address:c.encodeAddress(this._number,o),row:this._number,col:o})}splice(o,d){const p=o+d;for(var f=arguments.length,h=new Array(f>2?f-2:0),g=2;g<f;g++)h[g-2]=arguments[g];const y=h.length-d,m=this._cells.length;let v,x,j;if(y<0)for(v=o+h.length;v<=m;v++)j=this._cells[v-1],x=this._cells[v-y-1],x?(j=this.getCell(v),j.value=x.value,j.style=x.style,j._comment=x._comment):j&&(j.value=null,j.style={},j._comment=void 0);else if(y>0)for(v=m;v>=p;v--)x=this._cells[v-1],x?(j=this.getCell(v+y),j.value=x.value,j.style=x.style,j._comment=x._comment):this._cells[v+y-1]=void 0;for(v=0;v<h.length;v++)j=this.getCell(o+v),j.value=h[v],j.style={},j._comment=void 0}eachCell(o,d){if(d||(d=o,o=null),o&&o.includeEmpty){const p=this._cells.length;for(let f=1;f<=p;f++)d(this.getCell(f),f)}else this._cells.forEach((p,f)=>{p&&p.type!==i.ValueType.Null&&d(p,f+1)})}addPageBreak(o,d){const p=this._worksheet,f=Math.max(0,o-1)||0,h=Math.max(0,d-1)||16838,g={id:this._number,max:h,man:1};f&&(g.min=f),p.rowBreaks.push(g)}get values(){const o=[];return this._cells.forEach(d=>{d&&d.type!==i.ValueType.Null&&(o[d.col]=d.value)}),o}set values(o){if(this._cells=[],o)if(o instanceof Array){let d=0;o.hasOwnProperty("0")&&(d=1),o.forEach((p,f)=>{p!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,f+d),row:this._number,col:f+d}).value=p)})}else this._worksheet.eachColumnKey((d,p)=>{o[p]!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,d.number),row:this._number,col:d.number}).value=o[p])})}get hasValues(){return a.some(this._cells,o=>o&&o.type!==i.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let o=0;return this.eachCell(()=>{o++}),o}get dimensions(){let o=0,d=0;return this._cells.forEach(p=>{p&&p.type!==i.ValueType.Null&&((!o||o>p.col)&&(o=p.col),d<p.col&&(d=p.col))}),o>0?{min:o,max:d}:null}_applyStyle(o,d){return this.style[o]=d,this._cells.forEach(p=>{p&&(p[o]=d)}),d}get numFmt(){return this.style.numFmt}set numFmt(o){this._applyStyle("numFmt",o)}get font(){return this.style.font}set font(o){this._applyStyle("font",o)}get alignment(){return this.style.alignment}set alignment(o){this._applyStyle("alignment",o)}get protection(){return this.style.protection}set protection(o){this._applyStyle("protection",o)}get border(){return this.style.border}set border(o){this._applyStyle("border",o)}get fill(){return this.style.fill}set fill(o){this._applyStyle("fill",o)}get hidden(){return!!this._hidden}set hidden(o){this._hidden=o}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(o){this._outlineLevel=o}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const o=[];let d=0,p=0;return this._cells.forEach(f=>{if(f){const h=f.model;h&&((!d||d>f.col)&&(d=f.col),p<f.col&&(p=f.col),o.push(h))}}),this.height||o.length?{cells:o,number:this.number,min:d,max:p,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(o){if(o.number!==this._number)throw new Error("Invalid row number in model");let d;this._cells=[],o.cells.forEach(p=>{switch(p.type){case u.Types.Merge:break;default:{let f;if(p.address)f=c.decodeAddress(p.address);else if(d){const{row:h}=d,g=d.col+1;f={row:h,col:g,address:c.encodeAddress(h,g),$col$row:`$${c.n2l(g)}$${h}`}}d=f,this.getCellEx(f).model=p;break}}}),o.height?this.height=o.height:delete this.height,this.hidden=o.hidden,this.outlineLevel=o.outlineLevel||0,this.style=o.style&&JSON.parse(JSON.stringify(o.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,s){const a=e("../utils/col-cache");class i{constructor(u,o,d){this.table=u,this.column=o,this.index=d}_set(u,o){this.table.cacheState(),this.column[u]=o}get name(){return this.column.name}set name(u){this._set("name",u)}get filterButton(){return this.column.filterButton}set filterButton(u){this.column.filterButton=u}get style(){return this.column.style}set style(u){this.column.style=u}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(u){this._set("totalsRowLabel",u)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(u){this._set("totalsRowFunction",u)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(u){this._set("totalsRowResult",u)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(u){this._set("totalsRowFormula",u)}}n.exports=class{constructor(c,u){this.worksheet=c,u&&(this.table=u,this.validate(),this.store())}getFormula(c){switch(c.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${c.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${c.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${c.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${c.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${c.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${c.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${c.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${c.name}])`;case"custom":return c.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+c.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:c}=this,u=(y,m,v)=>{y[m]===void 0&&(y[m]=v)};u(c,"headerRow",!0),u(c,"totalsRow",!1),u(c,"style",{}),u(c.style,"theme","TableStyleMedium2"),u(c.style,"showFirstColumn",!1),u(c.style,"showLastColumn",!1),u(c.style,"showRowStripes",!1),u(c.style,"showColumnStripes",!1);const o=(y,m)=>{if(!y)throw new Error(m)};o(c.ref,"Table must have ref"),o(c.columns,"Table must have column definitions"),o(c.rows,"Table must have row definitions"),c.tl=a.decodeAddress(c.ref);const{row:d,col:p}=c.tl;o(d>0,"Table must be on valid row"),o(p>0,"Table must be on valid col");const{width:f,filterHeight:h,tableHeight:g}=this;c.autoFilterRef=a.encode(d,p,d+h-1,p+f-1),c.tableRef=a.encode(d,p,d+g-1,p+f-1),c.columns.forEach((y,m)=>{o(y.name,`Column ${m} must have a name`),m===0?u(y,"totalsRowLabel","Total"):(u(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const c=(h,g)=>{g&&Object.keys(g).forEach(y=>{h[y]=g[y]})},{worksheet:u,table:o}=this,{row:d,col:p}=o.tl;let f=0;if(o.headerRow){const h=u.getRow(d+f++);o.columns.forEach((g,y)=>{const{style:m,name:v}=g,x=h.getCell(p+y);x.value=v,c(x,m)})}if(o.rows.forEach(h=>{const g=u.getRow(d+f++);h.forEach((y,m)=>{const v=g.getCell(p+m);v.value=y,c(v,o.columns[m].style)})}),o.totalsRow){const h=u.getRow(d+f++);o.columns.forEach((g,y)=>{const m=h.getCell(p+y);if(y===0)m.value=g.totalsRowLabel;else{const v=this.getFormula(g);m.value=v?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}c(m,g.style)})}}load(c){const{table:u}=this,{row:o,col:d}=u.tl;let p=0;if(u.headerRow){const f=c.getRow(o+p++);u.columns.forEach((h,g)=>{f.getCell(d+g).value=h.name})}if(u.rows.forEach(f=>{const h=c.getRow(o+p++);f.forEach((g,y)=>{h.getCell(d+y).value=g})}),u.totalsRow){const f=c.getRow(o+p++);u.columns.forEach((h,g)=>{const y=f.getCell(d+g);g===0?y.value=h.totalsRowLabel:this.getFormula(h)&&(y.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(c){this.table=c}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const c=a.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let u=0;u<this._cache.tableHeight;u++){const o=this.worksheet.getRow(c.row+u);for(let d=0;d<this._cache.width;d++)o.getCell(c.col+d).value=null}else{for(let u=this.tableHeight;u<this._cache.tableHeight;u++){const o=this.worksheet.getRow(c.row+u);for(let d=0;d<this._cache.width;d++)o.getCell(c.col+d).value=null}for(let u=0;u<this.tableHeight;u++){const o=this.worksheet.getRow(c.row+u);for(let d=this.width;d<this._cache.width;d++)o.getCell(c.col+d).value=null}}this.store()}addRow(c,u){this.cacheState(),u===void 0?this.table.rows.push(c):this.table.rows.splice(u,0,c)}removeRows(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(c,u)}getColumn(c){const u=this.table.columns[c];return new i(this,u,c)}addColumn(c,u,o){this.cacheState(),o===void 0?(this.table.columns.push(c),this.table.rows.forEach((d,p)=>{d.push(u[p])})):(this.table.columns.splice(o,0,c),this.table.rows.forEach((d,p)=>{d.splice(o,0,u[p])}))}removeColumns(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(c,u),this.table.rows.forEach(o=>{o.splice(c,u)})}_assign(c,u,o){this.cacheState(),c[u]=o}get ref(){return this.table.ref}set ref(c){this._assign(this.table,"ref",c)}get name(){return this.table.name}set name(c){this.table.name=c}get displayName(){return this.table.displyName||this.table.name}set displayNamename(c){this.table.displayName=c}get headerRow(){return this.table.headerRow}set headerRow(c){this._assign(this.table,"headerRow",c)}get totalsRow(){return this.table.totalsRow}set totalsRow(c){this._assign(this.table,"totalsRow",c)}get theme(){return this.table.style.name}set theme(c){this.table.style.name=c}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(c){this.table.style.showFirstColumn=c}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(c){this.table.style.showLastColumn=c}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(c){this.table.style.showRowStripes=c}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(c){this.table.style.showColumnStripes=c}}},{"../utils/col-cache":19}],13:[function(e,n,s){const a=e("./worksheet"),i=e("./defined-names"),c=e("../xlsx/xlsx"),u=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new i}get xlsx(){return this._xlsx||(this._xlsx=new c(this)),this._xlsx}get csv(){return this._csv||(this._csv=new u(this)),this._csv}get nextId(){for(let o=1;o<this._worksheets.length;o++)if(!this._worksheets[o])return o;return this._worksheets.length||1}addWorksheet(o,d){const p=this.nextId;d&&(typeof d=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),d={properties:{tabColor:{argb:d}}}):(d.argb||d.theme||d.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),d={properties:{tabColor:d}}));const f=this._worksheets.reduce((y,m)=>(m&&m.orderNo)>y?m.orderNo:y,0),h=Object.assign({},d,{id:p,name:o,orderNo:f+1,workbook:this}),g=new a(h);return this._worksheets[p]=g,g}removeWorksheetEx(o){delete this._worksheets[o.id]}removeWorksheet(o){const d=this.getWorksheet(o);d&&d.destroy()}getWorksheet(o){return o===void 0?this._worksheets.find(Boolean):typeof o=="number"?this._worksheets[o]:typeof o=="string"?this._worksheets.find(d=>d&&d.name===o):void 0}get worksheets(){return this._worksheets.slice(1).sort((o,d)=>o.orderNo-d.orderNo).filter(Boolean)}eachSheet(o){this.worksheets.forEach(d=>{o(d,d.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(o){const d=this.media.length;return this.media.push(Object.assign({},o,{type:"image"})),d}getImage(o){return this.media[o]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(o=>o.model),sheets:this.worksheets.map(o=>o.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(o){this.creator=o.creator,this.lastModifiedBy=o.lastModifiedBy,this.lastPrinted=o.lastPrinted,this.created=o.created,this.modified=o.modified,this.company=o.company,this.manager=o.manager,this.title=o.title,this.subject=o.subject,this.keywords=o.keywords,this.category=o.category,this.description=o.description,this.language=o.language,this.revision=o.revision,this.contentStatus=o.contentStatus,this.properties=o.properties,this.calcProperties=o.calcProperties,this._worksheets=[],o.worksheets.forEach(d=>{const{id:p,name:f,state:h}=d,g=o.sheets&&o.sheets.findIndex(y=>y.id===p);(this._worksheets[p]=new a({id:p,name:f,orderNo:g,state:h,workbook:this})).model=d}),this._definedNames.model=o.definedNames,this.views=o.views,this._themes=o.themes,this.media=o.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,s){const a=e("../utils/under-dash"),i=e("../utils/col-cache"),c=e("./range"),u=e("./row"),o=e("./column"),d=e("./enums"),p=e("./image"),f=e("./table"),h=e("./data-validations"),g=e("../utils/encryptor"),{copyStyle:y}=e("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new h,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new c;return this._rows.forEach(v=>{if(v){const x=v.dimensions;x&&m.expand(v.number,x.min,v.number,x.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((j,T)=>{const E=(T.header?1:T.headers&&T.headers.length)||0;return Math.max(j,E)},0);let v=1;const x=this._columns=[];m.forEach(j=>{const T=new o(this,v++,!1);x.push(T),T.defn=j})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){a.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=i.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new o(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const x=this._rows.length;for(var j=arguments.length,T=new Array(j>2?j-2:0),E=2;E<j;E++)T[E-2]=arguments[E];if(T.length>0)for(let R=0;R<x;R++){const $=[m,v];T.forEach(H=>{$.push(H[R]||null)});const K=this.getRow(R+1);K.splice.apply(K,$)}else this._rows.forEach(R=>{R&&R.splice(m,v)});const B=T.length-v,W=m+v,I=this._columns.length;if(B<0)for(let R=m+T.length;R<=I;R++)this.getColumn(R).defn=this.getColumn(R-B).defn;else if(B>0)for(let R=I;R>=W;R--)this.getColumn(R+B).defn=this.getColumn(R).defn;for(let R=m;R<m+T.length;R++)this.getColumn(R).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,T.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(x=>{x.eachCell(j=>{let{col:T}=j;m[T]||(m[T]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new u(this,m)),v}getRows(m,v){if(v<1)return;const x=[];for(let j=m;j<m+v;j++)x.push(this.getRow(j));return x}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=this._nextRow,j=this.getRow(x);return j.values=m,this._setStyleOption(x,v[0]==="i"?v:"n"),j}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=[];return m.forEach(j=>{x.push(this.addRow(j,v))}),x}insertRow(m,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,x),this.getRow(m)}insertRows(m,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),x!=="n")for(let j=0;j<v.length;j++)x[0]==="o"&&this.findRow(v.length+m+j)!==void 0?this._copyStyle(v.length+m+j,m+j,x[1]==="+"):x[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+j,x[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const j=this.getRow(m),T=this.getRow(v);T.style=y(j.style),j.eachCell({includeEmpty:x},(E,B)=>{T.getCell(B).style=y(E.style)}),T.height=j.height}duplicateRow(m,v){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const j=this._rows[m-1],T=new Array(v).fill(j.values);this.spliceRows(m+1,x?0:v,...T);for(let E=0;E<v;E++){const B=this._rows[m+E];B.style=j.style,B.height=j.height,j.eachCell({includeEmpty:!0},(W,I)=>{B.getCell(I).style=W.style})}}spliceRows(m,v){const x=m+v;for(var j=arguments.length,T=new Array(j>2?j-2:0),E=2;E<j;E++)T[E-2]=arguments[E];const B=T.length,W=B-v,I=this._rows.length;let R,$;if(W<0)for(m===I&&(this._rows[I-1]=void 0),R=x;R<=I;R++)if($=this._rows[R-1],$){const K=this.getRow(R+W);K.values=$.values,K.style=$.style,K.height=$.height,$.eachCell({includeEmpty:!0},(H,M)=>{K.getCell(M).style=H.style}),this._rows[R-1]=void 0}else this._rows[R+W-1]=void 0;else if(W>0)for(R=I;R>=x;R--)if($=this._rows[R-1],$){const K=this.getRow(R+W);K.values=$.values,K.style=$.style,K.height=$.height,$.eachCell({includeEmpty:!0},(H,M)=>{if(K.getCell(M).style=H.style,H._value.constructor.name==="MergeValue"){const F=this.getRow(H._row._number+B).getCell(M),C=H._value._master,_=this.getRow(C._row._number+B).getCell(C._column._number);F.merge(_)}})}else this._rows[R+W-1]=void 0;for(R=0;R<B;R++){const K=this.getRow(m+R);K.style={},K.values=T[R]}this.workbook.definedNames.spliceRows(this.name,m,v,B)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const x=this._rows.length;for(let j=1;j<=x;j++)v(this.getRow(j),j)}else this._rows.forEach(x=>{x&&x.hasValues&&v(x,x.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const x=i.getAddress(m,v),j=this._rows[x.row-1];return j?j.findCell(x.col):void 0}getCell(m,v){const x=i.getAddress(m,v);return this.getRow(x.row).getCellEx(x)}mergeCells(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];const j=new c(v);this._mergeCellsInternal(j)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];const j=new c(v);this._mergeCellsInternal(j,!0)}_mergeCellsInternal(m,v){a.each(this._merges,j=>{if(j.intersects(m))throw new Error("Cannot merge already merged cells")});const x=this.getCell(m.top,m.left);for(let j=m.top;j<=m.bottom;j++)for(let T=m.left;T<=m.right;T++)(j>m.top||T>m.left)&&this.getCell(j,T).merge(x,v);this._merges[x.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let x=v.top;x<=v.bottom;x++)for(let j=v.left;j<=v.right;j++)this.getCell(x,j).unmerge();delete this._merges[m.address]}}get hasMerges(){return a.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];const j=new c(v);for(let T=j.top;T<=j.bottom;T++)for(let E=j.left;E<=j.right;E++){const B=this.findCell(T,E);B&&(B.type===d.ValueType.Merge?this._unMergeMaster(B.master):this._merges[B.address]&&this._unMergeMaster(B))}}fillFormula(m,v,x){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const T=i.decode(m),{top:E,left:B,bottom:W,right:I}=T,R=I-B+1,$=i.encodeAddress(E,B),K=j==="shared";let H;H=typeof x=="function"?x:Array.isArray(x)?Array.isArray(x[0])?(F,C)=>x[F-E][C-B]:(F,C)=>x[(F-E)*R+(C-B)]:()=>{};let M=!0;for(let F=E;F<=W;F++)for(let C=B;C<=I;C++)M?(this.getCell(F,C).value={shareType:j,formula:v,ref:m,result:H(F,C)},M=!1):this.getCell(F,C).value=K?{sharedFormula:$,result:H(F,C)}:H(F,C)}addImage(m,v){const x={type:"image",imageId:m,range:v};this._media.push(new p(this,x))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new p(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(x=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),x()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new f(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(j=>j.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(j=>j.model),conditionalFormattings:this.conditionalFormattings};m.cols=o.toModel(this.columns);const v=m.rows=[],x=m.dimensions=new c;return this._rows.forEach(j=>{const T=j&&j.model;T&&(x.expand(T.number,T.min,T.number,T.max),v.push(T))}),m.merges=[],a.each(this._merges,j=>{m.merges.push(j.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const x=new u(this,v.number);this._rows[x.number-1]=x,x.model=v})}_parseMergeCells(m){a.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=o.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new h(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new p(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,x)=>{const j=new f;return j.model=x,v[x.name]=j,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,s){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const a={Workbook:e("./doc/workbook")},i=e("./doc/enums");Object.keys(i).forEach(c=>{a[c]=i[c]}),n.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,s){const a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(i){return typeof i=="string"?i:a?a.decode(i):i.toString()}},{}],17:[function(e,n,s){const a=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:i}=e("buffer");s.stringToBuffer=function(c){return typeof c!="string"?c:a?i.from(a.encode(c).buffer):i.from(c)}},{buffer:220}],18:[function(e,n,s){const a=e("./under-dash"),i=e("./col-cache");n.exports=class{constructor(c){this.template=c,this.sheets={}}addCell(c){this.addCellEx(i.decodeEx(c))}getCell(c){return this.findCellEx(i.decodeEx(c),!0)}findCell(c){return this.findCellEx(i.decodeEx(c),!1)}findCellAt(c,u,o){const d=this.sheets[c],p=d&&d[u];return p&&p[o]}addCellEx(c){if(c.top)for(let u=c.top;u<=c.bottom;u++)for(let o=c.left;o<=c.right;o++)this.getCellAt(c.sheetName,u,o);else this.findCellEx(c,!0)}getCellEx(c){return this.findCellEx(c,!0)}findCellEx(c,u){const o=this.findSheet(c,u),d=this.findSheetRow(o,c,u);return this.findRowCell(d,c,u)}getCellAt(c,u,o){const d=this.sheets[c]||(this.sheets[c]=[]),p=d[u]||(d[u]=[]);return p[o]||(p[o]={sheetName:c,address:i.n2l(o)+u,row:u,col:o})}removeCellEx(c){const u=this.findSheet(c);if(!u)return;const o=this.findSheetRow(u,c);o&&delete o[c.col]}forEachInSheet(c,u){const o=this.sheets[c];o&&o.forEach((d,p)=>{d&&d.forEach((f,h)=>{f&&u(f,p,h)})})}forEach(c){a.each(this.sheets,(u,o)=>{this.forEachInSheet(o,c)})}map(c){const u=[];return this.forEach(o=>{u.push(c(o))}),u}findSheet(c,u){const o=c.sheetName;return this.sheets[o]?this.sheets[o]:u?this.sheets[o]=[]:void 0}findSheetRow(c,u,o){const{row:d}=u;return c&&c[d]?c[d]:o?c[d]=[]:void 0}findRowCell(c,u,o){const{col:d}=u;return c&&c[d]?c[d]:o?c[d]=this.template?Object.assign(u,JSON.parse(JSON.stringify(this.template))):u:void 0}spliceRows(c,u,o,d){const p=this.sheets[c];if(p){const f=[];for(let h=0;h<d;h++)f.push([]);p.splice(u,o,...f)}}spliceColumns(c,u,o,d){const p=this.sheets[c];if(p){const f=[];for(let h=0;h<d;h++)f.push(null);a.each(p,h=>{h.splice(u,o,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,s){const a=/^[A-Z]+\d+$/,i={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:c=>c<=26?1:c<=676?2:3,_fill(c){let u,o,d,p,f,h=1;if(c>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&c>=1){for(;h<=26;)u=this._dictionary[h-1],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&c>=2){for(h=27;h<=702;)o=h-27,d=o%26,p=Math.floor(o/26),u=this._dictionary[p]+this._dictionary[d],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&c>=3){for(h=703;h<=16384;)o=h-703,d=o%26,p=Math.floor(o/26)%26,f=Math.floor(o/676),u=this._dictionary[f]+this._dictionary[p]+this._dictionary[d],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=3}},l2n(c){if(this._l2n[c]||this._fill(c.length),!this._l2n[c])throw new Error("Out of bounds. Invalid column letter: "+c);return this._l2n[c]},n2l(c){if(c<1||c>16384)throw new Error(c+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[c]||this._fill(this._level(c)),this._n2l[c]},_hash:{},validateAddress(c){if(!a.test(c))throw new Error("Invalid Address: "+c);return!0},decodeAddress(c){const u=c.length<5&&this._hash[c];if(u)return u;let o=!1,d="",p=0,f=!1,h="",g=0;for(let m,v=0;v<c.length;v++)if(m=c.charCodeAt(v),!f&&m>=65&&m<=90)o=!0,d+=c[v],p=26*p+m-64;else if(m>=48&&m<=57)f=!0,h+=c[v],g=10*g+m-48;else if(f&&o&&m!==36)break;if(o){if(p>16384)throw new Error("Out of bounds. Invalid column letter: "+d)}else p=void 0;f||(g=void 0);const y={address:c=d+h,col:p,row:g,$col$row:`$${d}$${h}`};return p<=100&&g<=100&&(this._hash[c]=y,this._hash[y.$col$row]=y),y},getAddress(c,u){if(u){const o=this.n2l(u)+c;return this.decodeAddress(o)}return this.decodeAddress(c)},decode(c){const u=c.split(":");if(u.length===2){const o=this.decodeAddress(u[0]),d=this.decodeAddress(u[1]),p={top:Math.min(o.row,d.row),left:Math.min(o.col,d.col),bottom:Math.max(o.row,d.row),right:Math.max(o.col,d.col)};return p.tl=this.n2l(p.left)+p.top,p.br=this.n2l(p.right)+p.bottom,p.dimensions=`${p.tl}:${p.br}`,p}return this.decodeAddress(c)},decodeEx(c){const u=c.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),o=u[1]||u[2],d=u[3],p=d.split(":");if(p.length>1){let h=this.decodeAddress(p[0]),g=this.decodeAddress(p[1]);const y=Math.min(h.row,g.row),m=Math.min(h.col,g.col),v=Math.max(h.row,g.row),x=Math.max(h.col,g.col);return h=this.n2l(m)+y,g=this.n2l(x)+v,{top:y,left:m,bottom:v,right:x,sheetName:o,tl:{address:h,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:o},br:{address:g,col:x,row:v,$col$row:`$${this.n2l(x)}$${v}`,sheetName:o},dimensions:`${h}:${g}`}}if(d.startsWith("#"))return o?{sheetName:o,error:d}:{error:d};const f=this.decodeAddress(d);return o?{sheetName:o,...f}:f},encodeAddress:(c,u)=>i.n2l(u)+c,encode(){switch(arguments.length){case 2:return i.encodeAddress(arguments[0],arguments[1]);case 4:return`${i.encodeAddress(arguments[0],arguments[1])}:${i.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(c,u){const[o,d,,p,f]=c,[h,g]=u;return h>=o&&h<=p&&g>=d&&g<=f}};n.exports=i},{}],20:[function(e,n,s){const a=(c,u)=>({...c,...u.reduce((o,d)=>(c[d]&&(o[d]={...c[d]}),o),{})}),i=function(c,u,o){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];c[o]&&(u[o]=a(c[o],d))};s.copyStyle=c=>{if(!c)return c;if(u=c,Object.keys(u).length===0)return{};var u;const o={...c};return i(c,o,"font",["color"]),i(c,o,"alignment"),i(c,o,"protection"),c.border&&(i(c,o,"border"),i(c.border,o.border,"top",["color"]),i(c.border,o.border,"left",["color"]),i(c.border,o.border,"bottom",["color"]),i(c.border,o.border,"right",["color"]),i(c.border,o.border,"diagonal",["color"])),c.fill&&(i(c,o,"fill",["fgColor","bgColor","center"]),c.fill.stops&&(o.fill.stops=c.fill.stops.map(d=>a(d,["color"])))),o}},{}],21:[function(e,n,s){(function(a){(function(){const i=e("crypto"),c={hash(u){const o=i.createHash(u);for(var d=arguments.length,p=new Array(d>1?d-1:0),f=1;f<d;f++)p[f-1]=arguments[f];return o.update(a.concat(p)),o.digest()},convertPasswordToHash(u,o,d,p){if(o=o.toLowerCase(),i.getHashes().indexOf(o)<0)throw new Error(`Hash algorithm '${o}' not supported!`);const f=a.from(u,"utf16le");let h=this.hash(o,a.from(d,"base64"),f);for(let g=0;g<p;g++){const y=a.alloc(4);y.writeUInt32LE(g,0),h=this.hash(o,h,y)}return h.toString("base64")},randomBytes:u=>i.randomBytes(u)};n.exports=c}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,s){const{SaxesParser:a}=e("saxes"),{PassThrough:i}=e("readable-stream"),{bufferToString:c}=e("./browser-buffer-decode");n.exports=async function*(u){u.pipe&&!u[Symbol.asyncIterator]&&(u=u.pipe(new i));const o=new a;let d;o.on("error",f=>{d=f});let p=[];o.on("opentag",f=>p.push({eventType:"opentag",value:f})),o.on("text",f=>p.push({eventType:"text",value:f})),o.on("closetag",f=>p.push({eventType:"closetag",value:f}));for await(const f of u){if(o.write(c(f)),d)throw d;yield p,p=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,s){const a=e("./col-cache"),i=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,c=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(u,o,d){const p=a.decode(o),f=a.decode(d);return u.replace(i,(h,g,y,m,v)=>{if(v)return h;const x=c.exec(m);if(x){const j=x[1],T=x[2].toUpperCase(),E=x[3],B=x[4];if(T.length>3||T.length===3&&T>"XFD")return h;let W=a.l2n(T),I=parseInt(B,10);return j||(W+=f.col-p.col),E||(I+=f.row-p.row),(g||"")+(j||"")+a.n2l(W)+(E||"")+I}return h})}}},{"./col-cache":19}],24:[function(e,n,s){(function(a,i){(function(){const c=e("readable-stream"),u=e("./utils"),o=e("./string-buf");class d{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,x,j){return this.toBuffer().copy(m,v,x,j)}toBuffer(){return this._buffer||(this._buffer=i.from(this._data,this._encoding)),this._buffer}}class p{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,x,j){return this._data._buf.copy(m,v,x,j)}toBuffer(){return this._data.toBuffer()}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,x,j){this._data.copy(m,v,x,j)}toBuffer(){return this._data}}class h{constructor(m){this.size=m,this.buffer=i.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=i.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=i.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,x){const j=Math.min(x,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+j),this.iWrite+=j,j}}const g=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};u.inherits(g,c.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return i.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const y=new h(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map((function(m){return new Promise(v=>{m.write(y.toBuffer(),()=>{v()})})})))},_writeToBuffers(y){let m=0;const v=y.length;for(;m<v;)m+=this._getWritableBuffer().write(y,m,v-m)},async write(y,m,v){let x;if(m instanceof Function&&(v=m,m="utf8"),v=v||u.nop,y instanceof o)x=new p(y);else if(y instanceof i)x=new f(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");x=new d(y,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(x);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(x),a.nextTick(v)):(await this._pipe(x),v());else this.paused||this.emit("data",x.toBuffer()),this._writeToBuffers(x),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,m,v){const x=j=>{j?v(j):(this._flush(),this.pipes.forEach(T=>{T.end()}),this.emit("finish"))};y?this.write(y,m,x):x()},read(y){let m;if(y){for(m=[];y&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],x=v.read(y);y-=x.length,m.push(x),v.eod&&v.full&&this.buffers.shift()}return i.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],i.concat(m)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(m=>m!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,s){(function(a){(function(){n.exports=class{constructor(i){this._buf=a.alloc(i&&i.size||16384),this._encoding=i&&i.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(i){i=i||0,this._buffer=void 0,this._inPos=i}_grow(i){let c=2*this._buf.length;for(;c<i;)c*=2;const u=a.alloc(c);this._buf.copy(u,0),this._buf=u}addText(i){this._buffer=void 0;let c=this._inPos+this._buf.write(i,this._inPos,this._encoding);for(;c>=this._buf.length-4;)this._grow(this._inPos+i.length),c=this._inPos+this._buf.write(i,this._inPos,this._encoding);this._inPos=c}addStringBuf(i){i.length&&(this._buffer=void 0,this.length+i.length>this.capacity&&this._grow(this.length+i.length),i._buf.copy(this._buf,this._inPos,0,i.length),this._inPos+=i.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,s){const{toString:a}=Object.prototype,i=/["&<>]/,c={each:function(u,o){u&&(Array.isArray(u)?u.forEach(o):Object.keys(u).forEach(d=>{o(u[d],d)}))},some:function(u,o){return!!u&&(Array.isArray(u)?u.some(o):Object.keys(u).some(d=>o(u[d],d)))},every:function(u,o){return!u||(Array.isArray(u)?u.every(o):Object.keys(u).every(d=>o(u[d],d)))},map:function(u,o){return u?Array.isArray(u)?u.map(o):Object.keys(u).map(d=>o(u[d],d)):[]},keyBy:(u,o)=>u.reduce((d,p)=>(d[p[o]]=p,d),{}),isEqual:function(u,o){const d=typeof u,p=typeof o,f=Array.isArray(u),h=Array.isArray(o);let g;if(d!==p)return!1;switch(typeof u){case"object":if(f||h)return!(!f||!h)&&u.length===o.length&&u.every((y,m)=>{const v=o[m];return c.isEqual(y,v)});if(u===null||o===null)return u===o;if(g=Object.keys(u),Object.keys(o).length!==g.length)return!1;for(const y of g)if(!o.hasOwnProperty(y))return!1;return c.every(u,(y,m)=>{const v=o[m];return c.isEqual(y,v)});default:return u===o}},escapeHtml(u){const o=i.exec(u);if(!o)return u;let d="",p="",f=0,h=o.index;for(;h<u.length;h++){switch(u.charAt(h)){case'"':p="&quot;";break;case"&":p="&amp;";break;case"'":p="&apos;";break;case"<":p="&lt;";break;case">":p="&gt;";break;default:continue}f!==h&&(d+=u.substring(f,h)),f=h+1,d+=p}return f!==h?d+u.substring(f,h):d},strcmp:(u,o)=>u<o?-1:u>o?1:0,isUndefined:u=>a.call(u)==="[object Undefined]",isObject:u=>a.call(u)==="[object Object]",deepMerge(){const u=arguments[0]||{},{length:o}=arguments;let d,p,f;function h(g,y){d=u[y],f=Array.isArray(g),c.isObject(g)||f?(f?(f=!1,p=d&&Array.isArray(d)?d:[]):p=d&&c.isObject(d)?d:{},u[y]=c.deepMerge(p,g)):c.isUndefined(g)||(u[y]=g)}for(let g=0;g<o;g++)c.each(arguments[g],h);return u}};n.exports=c},{}],27:[function(e,n,s){(function(a,i){(function(){const c=e("fs"),u=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,o={nop(){},promiseImmediate:d=>new Promise(p=>{a.setImmediate?i(()=>{p(d)}):setTimeout(()=>{p(d)},1)}),inherits:function(d,p,f,h){d.super_=p,h||(h=f,f=null),f&&Object.keys(f).forEach(y=>{Object.defineProperty(d,y,Object.getOwnPropertyDescriptor(f,y))});const g={constructor:{value:d,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(y=>{g[y]=Object.getOwnPropertyDescriptor(h,y)}),d.prototype=Object.create(p.prototype,g)},dateToExcel:(d,p)=>25569+d.getTime()/864e5-(p?1462:0),excelToDate(d,p){const f=Math.round(24*(d-25569+(p?1462:0))*3600*1e3);return new Date(f)},parsePath(d){const p=d.lastIndexOf("/");return{path:d.substring(0,p),name:d.substring(p+1)}},getRelsPath(d){const p=o.parsePath(d);return`${p.path}/_rels/${p.name}.rels`},xmlEncode(d){const p=u.exec(d);if(!p)return d;let f="",h="",g=0,y=p.index;for(;y<d.length;y++){const m=d.charCodeAt(y);switch(m){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){h="";break}continue}g!==y&&(f+=d.substring(g,y)),g=y+1,h&&(f+=h)}return g!==y?f+d.substring(g,y):f},xmlDecode:d=>d.replace(/&([a-z]*);/g,p=>{switch(p){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return p}}),validInt(d){const p=parseInt(d,10);return Number.isNaN(p)?0:p},isDateFmt(d){return d?(d=(d=d.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:d=>new Promise(p=>{c.access(d,c.constants.F_OK,f=>{p(!f)})})},toIsoDateString:d=>d.toIsoString().subsstr(0,10),parseBoolean:d=>d===!0||d==="true"||d===1||d==="1"};n.exports=o}).call(this)}).call(this,typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,s){const a=e("./under-dash"),i=e("./utils");function c(d,p,f){d.push(` ${p}="${i.xmlEncode(f.toString())}"`)}function u(d,p){if(p){const f=[];a.each(p,(h,g)=>{h!==void 0&&c(f,g,h)}),d.push(f.join(""))}}class o{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(p){const f=this._xml;f.push("<?xml"),u(f,p),f.push(`?>
`)}openNode(p,f){const h=this.tos,g=this._xml;h&&this.open&&g.push(">"),this._stack.push(p),g.push("<"),g.push(p),u(g,f),this.leaf=!0,this.open=!0}addAttribute(p,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&c(this._xml,p,f)}addAttributes(p){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u(this._xml,p)}writeText(p){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(i.xmlEncode(p.toString()))}writeXml(p){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(p)}closeNode(){const p=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(p),f.push(">")),this.open=!1,this.leaf=!1}leafNode(p,f,h){this.openNode(p,f),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const p=this._rollbacks.pop();this._xml.length>p.xml&&this._xml.splice(p.xml,this._xml.length-p.xml),this._stack.length>p.stack&&this._stack.splice(p.stack,this._stack.length-p.stack),this.leaf=p.leaf,this.open=p.open}get xml(){return this.closeAll(),this._xml.join("")}}o.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=o},{"./under-dash":26,"./utils":27}],29:[function(e,n,s){(function(a){(function(){const i=e("events"),c=e("jszip"),u=e("./stream-buf"),{stringToBuffer:o}=e("./browser-buffer-encode");class d extends i.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new c,this.stream=new u}append(f,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,f,{base64:!0}):(a.browser&&typeof f=="string"&&(f=o(f)),this.zip.file(h.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,h){return this.stream.pipe(f,h)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}n.exports={ZipWriter:d}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,s){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,s){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,s){const a=e("../../utils/parse-sax"),i=e("../../utils/xml-stream");class c{prepare(){}render(){}parseOpen(o){}parseText(o){}parseClose(o){}reconcile(o,d){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(o=>{o instanceof c?o.reset():o.xform&&o.xform.reset()})}mergeModel(o){this.model=Object.assign(this.model||{},o)}async parse(o){for await(const d of o)for(const{eventType:p,value:f}of d)if(p==="opentag")this.parseOpen(f);else if(p==="text")this.parseText(f);else if(p==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(o){return this.parse(a(o))}get xml(){return this.toXml(this.model)}toXml(o){const d=new i;return this.render(d,o),d.xml}static toAttribute(o,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(p)return d}else if(p||o!==d)return o.toString()}static toStringAttribute(o,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(o,d,p)}static toStringValue(o,d){return o===void 0?d:o}static toBoolAttribute(o,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(p)return d}else if(p||o!==d)return o?"1":"0"}static toBoolValue(o,d){return o===void 0?d:o==="1"}static toIntAttribute(o,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(o,d,p)}static toIntValue(o,d){return o===void 0?d:parseInt(o,10)}static toFloatAttribute(o,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(o,d,p)}static toFloatValue(o,d){return o===void 0?d:parseFloat(o)}}n.exports=c},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,s){const a=e("../base-xform"),i=e("../../../utils/col-cache");function c(o){try{return i.decodeEx(o),!0}catch{return!1}}function u(o){const d=[];let p=!1,f="";return o.split(",").forEach(h=>{if(!h)return;const g=(h.match(/'/g)||[]).length;if(!g)return void(p?f+=h+",":c(h)&&d.push(h));const y=g%2==0;!p&&y&&c(h)?d.push(h):p&&!y?(p=!1,c(f+h)&&d.push(f+h),f=""):(p=!0,f+=h+",")}),d}n.exports=class extends a{render(o,d){o.openNode("definedName",{name:d.name,localSheetId:d.localSheetId}),o.writeText(d.ranges.join(",")),o.closeNode()}parseOpen(o){switch(o.name){case"definedName":return this._parsedName=o.attributes.name,this._parsedLocalSheetId=o.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(o){this._parsedText.push(o)}parseClose(){return this.model={name:this._parsedName,ranges:u(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,s){const a=e("../../../utils/utils"),i=e("../base-xform");n.exports=class extends i{render(c,u){c.leafNode("sheet",{sheetId:u.id,name:u.name,state:u.state,"r:id":u.rId})}parseOpen(c){return c.name==="sheet"&&(this.model={name:a.xmlDecode(c.attributes.name),id:parseInt(c.attributes.sheetId,10),state:c.attributes.state,rId:c.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{render(i,c){i.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:c.fullCalcOnLoad?1:void 0})}parseOpen(i){return i.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{render(i,c){i.leafNode("workbookPr",{date1904:c.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(i){return i.name==="workbookPr"&&(this.model={date1904:i.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{render(i,c){const u={xWindow:c.x||0,yWindow:c.y||0,windowWidth:c.width||12e3,windowHeight:c.height||24e3,firstSheet:c.firstSheet,activeTab:c.activeTab};c.visibility&&c.visibility!=="visible"&&(u.visibility=c.visibility),i.leafNode("workbookView",u)}parseOpen(i){if(i.name==="workbookView"){const c=this.model={},u=function(d,p,f){const h=p!==void 0?c[d]=p:f;h!==void 0&&(c[d]=h)},o=function(d,p,f){const h=p!==void 0?c[d]=parseInt(p,10):f;h!==void 0&&(c[d]=h)};return o("x",i.attributes.xWindow,0),o("y",i.attributes.yWindow,0),o("width",i.attributes.windowWidth,25e3),o("height",i.attributes.windowHeight,1e4),u("visibility",i.attributes.visibility,"visible"),o("activeTab",i.attributes.activeTab,void 0),o("firstSheet",i.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,s){const a=e("../../../utils/under-dash"),i=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),u=e("../base-xform"),o=e("../static-xform"),d=e("../list-xform"),p=e("./defined-name-xform"),f=e("./sheet-xform"),h=e("./workbook-view-xform"),g=e("./workbook-properties-xform"),y=e("./workbook-calc-properties-xform");class m extends u{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new d({tag:"bookViews",count:!1,childXform:new h}),sheets:new d({tag:"sheets",count:!1,childXform:new f}),definedNames:new d({tag:"definedNames",count:!1,childXform:new p}),calcPr:new y}}prepare(x){x.sheets=x.worksheets;const j=[];let T=0;x.sheets.forEach(E=>{if(E.pageSetup&&E.pageSetup.printArea&&E.pageSetup.printArea.split("&&").forEach(B=>{const W=B.split(":"),I={name:"_xlnm.Print_Area",ranges:[`'${E.name}'!$${W[0]}:$${W[1]}`],localSheetId:T};j.push(I)}),E.pageSetup&&(E.pageSetup.printTitlesRow||E.pageSetup.printTitlesColumn)){const B=[];if(E.pageSetup.printTitlesColumn){const I=E.pageSetup.printTitlesColumn.split(":");B.push(`'${E.name}'!$${I[0]}:$${I[1]}`)}if(E.pageSetup.printTitlesRow){const I=E.pageSetup.printTitlesRow.split(":");B.push(`'${E.name}'!$${I[0]}:$${I[1]}`)}const W={name:"_xlnm.Print_Titles",ranges:B,localSheetId:T};j.push(W)}T++}),j.length&&(x.definedNames=x.definedNames.concat(j)),(x.media||[]).forEach((E,B)=>{E.name=E.type+(B+1)})}render(x,j){x.openXml(c.StdDocAttributes),x.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(x),this.map.workbookPr.render(x,j.properties),this.map.bookViews.render(x,j.views),this.map.sheets.render(x,j.sheets),this.map.definedNames.render(x,j.definedNames),this.map.calcPr.render(x,j.calcProperties),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"workbook":return!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(x){const j=(x.workbookRels||[]).reduce((I,R)=>(I[R.Id]=R,I),{}),T=[];let E,B=0;(x.sheets||[]).forEach(I=>{const R=j[I.rId];R&&(E=x.worksheetHash["xl/"+R.Target.replace(/^(\s|\/xl\/)+/,"")],E&&(E.name=I.name,E.id=I.id,E.state=I.state,T[B++]=E))});const W=[];a.each(x.definedNames,I=>{if(I.name==="_xlnm.Print_Area"){if(E=T[I.localSheetId],E){E.pageSetup||(E.pageSetup={});const R=i.decodeEx(I.ranges[0]);E.pageSetup.printArea=E.pageSetup.printArea?`${E.pageSetup.printArea}&&${R.dimensions}`:R.dimensions}}else if(I.name==="_xlnm.Print_Titles"){if(E=T[I.localSheetId],E){E.pageSetup||(E.pageSetup={});const R=I.ranges.join(","),$=/\$/g,K=/\$\d+:\$\d+/,H=R.match(K);if(H&&H.length){const C=H[0];E.pageSetup.printTitlesRow=C.replace($,"")}const M=/\$[A-Z]+:\$[A-Z]+/,F=R.match(M);if(F&&F.length){const C=F[0];E.pageSetup.printTitlesColumn=C.replace($,"")}}}else W.push(I)}),x.definedNames=W,x.media.forEach((I,R)=>{I.index=R})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new o({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,s){const a=e("../strings/rich-text-xform"),i=e("../../../utils/utils"),c=e("../base-xform"),u=n.exports=function(o){this.model=o};i.inherits(u,c,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new a),this._richTextXform},render(o,d){d=d||this.model,o.openNode("comment",{ref:d.ref,authorId:0}),o.openNode("text"),d&&d.note&&d.note.texts&&d.note.texts.forEach(p=>{this.richTextXform.render(o,p)}),o.closeNode(),o.closeNode()},parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"comment":return this.model={type:"note",note:{texts:[]},...o.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(o),!0;default:return!1}},parseText(o){this.parser&&this.parser.parseText(o)},parseClose(o){switch(o){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(o),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,s){const a=e("../../../utils/xml-stream"),i=e("../../../utils/utils"),c=e("../base-xform"),u=e("./comment-xform"),o=n.exports=function(){this.map={comment:new u}};i.inherits(o,c,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(d,p){p=p||this.model,d.openXml(a.StdDocAttributes),d.openNode("comments",o.COMMENTS_ATTRIBUTES),d.openNode("authors"),d.leafNode("author",null,"Author"),d.closeNode(),d.openNode("commentList"),p.comments.forEach(f=>{this.map.comment.render(d,f)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,c,u){(c===u[2]||this.tag==="x:SizeWithCells"&&c===u[1])&&i.leafNode(this.tag)}parseOpen(i){switch(i.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,c){i.leafNode(this.tag,null,c)}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"x:Anchor"}getAnchorRect(i){const c=Math.floor(i.left),u=Math.floor(68*(i.left-c)),o=Math.floor(i.top),d=Math.floor(18*(i.top-o)),p=Math.floor(i.right),f=Math.floor(68*(i.right-p)),h=Math.floor(i.bottom);return[c,u,o,d,p,f,h,Math.floor(18*(i.bottom-h))]}getDefaultRect(i){const c=i.col,u=Math.max(i.row-2,0);return[c,6,u,14,c+2,2,u+4,16]}render(i,c){const u=c.anchor?this.getAnchorRect(c.anchor):this.getDefaultRect(c.refAddress);i.leafNode("x:Anchor",null,u.join(", "))}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,s){const a=e("../base-xform"),i=e("./vml-anchor-xform"),c=e("./style/vml-protection-xform"),u=e("./style/vml-position-xform"),o=["twoCells","oneCells","absolute"];n.exports=class extends a{constructor(){super(),this.map={"x:Anchor":new i,"x:Locked":new c({tag:"x:Locked"}),"x:LockText":new c({tag:"x:LockText"}),"x:SizeWithCells":new u({tag:"x:SizeWithCells"}),"x:MoveWithCells":new u({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(d,p){const{protection:f,editAs:h}=p.note;d.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(d,h,o),this.map["x:SizeWithCells"].render(d,h,o),this.map["x:Anchor"].render(d,p),this.map["x:Locked"].render(d,f.locked),d.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(d,f.lockText),d.leafNode("x:Row",null,p.refAddress.row-1),d.leafNode("x:Column",null,p.refAddress.col-1),d.closeNode()}parseOpen(d){switch(d.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const d=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),p=Object.keys(d).length;this.model.editAs=o[p],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,s){const a=e("../../../utils/xml-stream"),i=e("../base-xform"),c=e("./vml-shape-xform");class u extends i{constructor(){super(),this.map={"v:shape":new c}}get tag(){return"xml"}render(d,p){d.openXml(a.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.openNode("o:shapelayout",{"v:ext":"edit"}),d.leafNode("o:idmap",{"v:ext":"edit",data:1}),d.closeNode(),d.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),d.leafNode("v:stroke",{joinstyle:"miter"}),d.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),d.closeNode(),p.comments.forEach((f,h)=>{this.map["v:shape"].render(d,f,h)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,p){d.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,p):this.map["xdr:oneCellAnchor"].reconcile(f,p)})}}u.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,s){const a=e("../base-xform"),i=e("./vml-textbox-xform"),c=e("./vml-client-data-xform");class u extends a{constructor(){super(),this.map={"v:textbox":new i,"x:ClientData":new c}}get tag(){return"v:shape"}render(d,p,f){d.openNode("v:shape",u.V_SHAPE_ATTRIBUTES(p,f)),d.leafNode("v:fill",{color2:"infoBackground [80]"}),d.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),d.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(d,p),this.map["x:ClientData"].render(d,p),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={margins:{insetmode:d.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}u.V_SHAPE_ATTRIBUTES=(o,d)=>({id:"_x0000_s"+(1025+d),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":o.note.margins&&o.note.margins.insetmode}),n.exports=u},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"v:textbox"}conversionUnit(i,c,u){return`${parseFloat(i)*c.toFixed(2)}${u}`}reverseConversionUnit(i){return(i||"").split(",").map(c=>Number(parseFloat(this.conversionUnit(parseFloat(c),.1,"")).toFixed(2)))}render(i,c){const u={style:"mso-direction-alt:auto"};if(c&&c.note){let{inset:o}=c.note&&c.note.margins;Array.isArray(o)&&(o=o.map(d=>this.conversionUnit(d,10,"mm")).join(",")),o&&(u.inset=o)}i.openNode("v:textbox",u),i.leafNode("div",{style:"text-align:left"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:return this.model={inset:this.reverseConversionUnit(i.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,s){const a=e("./base-xform");n.exports=class extends a{createNewModel(i){return{}}parseOpen(i){return this.parser=this.parser||this.map[i.name],this.parser?(this.parser.parseOpen(i),!0):i.name===this.tag&&(this.model=this.createNewModel(i),!0)}parseText(i){this.parser&&this.parser.parseText(i)}onParserClose(i,c){this.model[i]=c.model}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.onParserClose(i,this.parser),this.parser=void 0),!0):i!==this.tag}}},{"./base-xform":32}],49:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{render(i,c){i.openNode("HeadingPairs"),i.openNode("vt:vector",{size:2,baseType:"variant"}),i.openNode("vt:variant"),i.leafNode("vt:lpstr",void 0,"Worksheets"),i.closeNode(),i.openNode("vt:variant"),i.leafNode("vt:i4",void 0,c.length),i.closeNode(),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="HeadingPairs"}parseText(){}parseClose(i){return i!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{render(i,c){i.openNode("TitlesOfParts"),i.openNode("vt:vector",{size:c.length,baseType:"lpstr"}),c.forEach(u=>{i.leafNode("vt:lpstr",void 0,u.name)}),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="TitlesOfParts"}parseText(){}parseClose(i){return i!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,s){const a=e("../../../utils/xml-stream"),i=e("../base-xform"),c=e("../simple/string-xform"),u=e("./app-heading-pairs-xform"),o=e("./app-titles-of-parts-xform");class d extends i{constructor(){super(),this.map={Company:new c({tag:"Company"}),Manager:new c({tag:"Manager"}),HeadingPairs:new u,TitleOfParts:new o}}render(f,h){f.openXml(a.StdDocAttributes),f.openNode("Properties",d.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,h.worksheets),this.map.TitleOfParts.render(f,h.worksheets),this.map.Company.render(f,h.company||""),this.map.Manager.render(f,h.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"Properties":return!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}d.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3,6}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,s){const a=e("../../../utils/xml-stream"),i=e("../base-xform");class c extends i{render(o,d){o.openXml(a.StdDocAttributes),o.openNode("Types",c.PROPERTY_ATTRIBUTES);const p={};(d.media||[]).forEach(f=>{if(f.type==="image"){const h=f.extension;p[h]||(p[h]=!0,o.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),o.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),o.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),o.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),d.worksheets.forEach(f=>{const h=`/xl/worksheets/sheet${f.id}.xml`;o.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),o.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),o.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),d.sharedStrings&&d.sharedStrings.count&&o.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),d.tables&&d.tables.forEach(f=>{o.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),d.drawings&&d.drawings.forEach(f=>{o.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),d.commentRefs&&(o.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),d.commentRefs.forEach(f=>{let{commentName:h}=f;o.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),o.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),o.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),o.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,s){const a=e("../../../utils/xml-stream"),i=e("../base-xform"),c=e("../simple/date-xform"),u=e("../simple/string-xform"),o=e("../simple/integer-xform");class d extends i{constructor(){super(),this.map={"dc:creator":new u({tag:"dc:creator"}),"dc:title":new u({tag:"dc:title"}),"dc:subject":new u({tag:"dc:subject"}),"dc:description":new u({tag:"dc:description"}),"dc:identifier":new u({tag:"dc:identifier"}),"dc:language":new u({tag:"dc:language"}),"cp:keywords":new u({tag:"cp:keywords"}),"cp:category":new u({tag:"cp:category"}),"cp:lastModifiedBy":new u({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new c({tag:"cp:lastPrinted",format:d.DateFormat}),"cp:revision":new o({tag:"cp:revision"}),"cp:version":new u({tag:"cp:version"}),"cp:contentStatus":new u({tag:"cp:contentStatus"}),"cp:contentType":new u({tag:"cp:contentType"}),"dcterms:created":new c({tag:"dcterms:created",attrs:d.DateAttrs,format:d.DateFormat}),"dcterms:modified":new c({tag:"dcterms:modified",attrs:d.DateAttrs,format:d.DateFormat})}}render(f,h){f.openXml(a.StdDocAttributes),f.openNode("cp:coreProperties",d.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,h.creator),this.map["dc:title"].render(f,h.title),this.map["dc:subject"].render(f,h.subject),this.map["dc:description"].render(f,h.description),this.map["dc:identifier"].render(f,h.identifier),this.map["dc:language"].render(f,h.language),this.map["cp:keywords"].render(f,h.keywords),this.map["cp:category"].render(f,h.category),this.map["cp:lastModifiedBy"].render(f,h.lastModifiedBy),this.map["cp:lastPrinted"].render(f,h.lastPrinted),this.map["cp:revision"].render(f,h.revision),this.map["cp:version"].render(f,h.version),this.map["cp:contentStatus"].render(f,h.contentStatus),this.map["cp:contentType"].render(f,h.contentType),this.map["dcterms:created"].render(f,h.created),this.map["dcterms:modified"].render(f,h.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}d.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{render(i,c){i.leafNode("Relationship",c)}parseOpen(i){switch(i.name){case"Relationship":return this.model=i.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,s){const a=e("../../../utils/xml-stream"),i=e("../base-xform"),c=e("./relationship-xform");class u extends i{constructor(){super(),this.map={Relationship:new c}}render(d,p){p=p||this._values,d.openXml(a.StdDocAttributes),d.openNode("Relationships",u.RELATIONSHIPS_ATTRIBUTES),p.forEach(f=>{this.map.Relationship.render(d,f)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(d){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={range:{editAs:i.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}reconcilePicture(i,c){if(i&&i.rId){const u=c.rels[i.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(u){const o=u[1],d=c.mediaIndex[o];return c.media[d]}}}}},{"../base-xform":32}],57:[function(e,n,s){const a=e("../base-xform"),i=e("./blip-xform");n.exports=class extends a{constructor(){super(),this.map={"a:blip":new i}}get tag(){return"xdr:blipFill"}render(c,u){c.openNode(this.tag),this.map["a:blip"].render(c,u),c.openNode("a:stretch"),c.leafNode("a:fillRect"),c.closeNode(),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"a:blip"}render(i,c){i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":c.rId,cstate:"print"})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"xdr:cNvPicPr"}render(i){i.openNode(this.tag),i.leafNode("a:picLocks",{noChangeAspect:"1"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,s){const a=e("../base-xform"),i=e("./hlink-click-xform"),c=e("./ext-lst-xform");n.exports=class extends a{constructor(){super(),this.map={"a:hlinkClick":new i,"a:extLst":new c}}get tag(){return"xdr:cNvPr"}render(u,o){u.openNode(this.tag,{id:o.index,name:"Picture "+o.index}),this.map["a:hlinkClick"].render(u,o),this.map["a:extLst"].render(u,o),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,s){const a=e("../base-xform"),i=e("../simple/integer-xform");n.exports=class extends a{constructor(c){super(),this.tag=c.tag,this.map={"xdr:col":new i({tag:"xdr:col",zero:!0}),"xdr:colOff":new i({tag:"xdr:colOff",zero:!0}),"xdr:row":new i({tag:"xdr:row",zero:!0}),"xdr:rowOff":new i({tag:"xdr:rowOff",zero:!0})}}render(c,u){c.openNode(this.tag),this.map["xdr:col"].render(c,u.nativeCol),this.map["xdr:colOff"].render(c,u.nativeColOff),this.map["xdr:row"].render(c,u.nativeRow),this.map["xdr:rowOff"].render(c,u.nativeRowOff),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,s){const a=e("../../../utils/col-cache"),i=e("../../../utils/xml-stream"),c=e("../base-xform"),u=e("./two-cell-anchor-xform"),o=e("./one-cell-anchor-xform");class d extends c{constructor(){super(),this.map={"xdr:twoCellAnchor":new u,"xdr:oneCellAnchor":new o}}prepare(f){f.anchors.forEach((h,g)=>{h.anchorType=(function(y){return(typeof y.range=="string"?a.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(h),this.map[h.anchorType].prepare(h,{index:g})})}get tag(){return"xdr:wsDr"}render(f,h){f.openXml(i.StdDocAttributes),f.openNode(this.tag,d.DRAWING_ATTRIBUTES),h.anchors.forEach(g=>{this.map[g.anchorType].render(f,g)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:return!0}}reconcile(f,h){f.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,h):this.map["xdr:oneCellAnchor"].reconcile(g,h)})}}d.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=d},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"a:extLst"}render(i){i.openNode(this.tag),i.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),i.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),i.closeNode(),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{constructor(i){super(),this.tag=i.tag,this.map={}}render(i,c){i.openNode(this.tag);const u=Math.floor(9525*c.width),o=Math.floor(9525*c.height);i.addAttribute("cx",u),i.addAttribute("cy",o),i.closeNode()}parseOpen(i){return i.name===this.tag&&(this.model={width:parseInt(i.attributes.cx||"0",10)/9525,height:parseInt(i.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"a:hlinkClick"}render(i,c){c.hyperlinks&&c.hyperlinks.rId&&i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":c.hyperlinks.rId,tooltip:c.hyperlinks.tooltip})}parseOpen(i){switch(i.name){case this.tag:return this.model={hyperlinks:{rId:i.attributes["r:id"],tooltip:i.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,s){const a=e("../base-xform"),i=e("./c-nv-pr-xform"),c=e("./c-nv-pic-pr-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:cNvPr":new i,"xdr:cNvPicPr":new c}}get tag(){return"xdr:nvPicPr"}render(u,o){u.openNode(this.tag),this.map["xdr:cNvPr"].render(u,o),this.map["xdr:cNvPicPr"].render(u,o),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,s){const a=e("./base-cell-anchor-xform"),i=e("../static-xform"),c=e("./cell-position-xform"),u=e("./ext-xform"),o=e("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:ext":new u({tag:"xdr:ext"}),"xdr:pic":new o,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(d,p){this.map["xdr:pic"].prepare(d.picture,p)}render(d,p){d.openNode(this.tag,{editAs:p.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,p.range.tl),this.map["xdr:ext"].render(d,p.range.ext),this.map["xdr:pic"].render(d,p.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,p){d.medium=this.reconcilePicture(d.picture,p)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,s){const a=e("../base-xform"),i=e("../static-xform"),c=e("./blip-fill-xform"),u=e("./nv-pic-pr-xform"),o=e("./sp-pr");n.exports=class extends a{constructor(){super(),this.map={"xdr:nvPicPr":new u,"xdr:blipFill":new c,"xdr:spPr":new i(o)}}get tag(){return"xdr:pic"}prepare(d,p){d.index=p.index+1}render(d,p){d.openNode(this.tag),this.map["xdr:nvPicPr"].render(d,p),this.map["xdr:blipFill"].render(d,p),this.map["xdr:spPr"].render(d,p),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,s){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,s){const a=e("./base-cell-anchor-xform"),i=e("../static-xform"),c=e("./cell-position-xform"),u=e("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:to":new c({tag:"xdr:to"}),"xdr:pic":new u,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(o,d){this.map["xdr:pic"].prepare(o.picture,d)}render(o,d){o.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(o,d.range.tl),this.map["xdr:to"].render(o,d.range.br),this.map["xdr:pic"].render(o,d.picture),this.map["xdr:clientData"].render(o,{}),o.closeNode()}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(o,d){o.medium=this.reconcilePicture(o.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,s){const a=e("./base-xform");n.exports=class extends a{constructor(i){super(),this.tag=i.tag,this.always=!!i.always,this.count=i.count,this.empty=i.empty,this.$count=i.$count||"count",this.$=i.$,this.childXform=i.childXform,this.maxItems=i.maxItems}prepare(i,c){const{childXform:u}=this;i&&i.forEach((o,d)=>{c.index=d,u.prepare(o,c)})}render(i,c){if(this.always||c&&c.length){i.openNode(this.tag,this.$),this.count&&i.addAttribute(this.$count,c&&c.length||0);const{childXform:u}=this;(c||[]).forEach((o,d)=>{u.render(i,o,d)}),i.closeNode()}else this.empty&&i.leafNode(this.tag)}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(i)&&(this.parser=this.childXform,!0)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(i,c){if(i){const{childXform:u}=this;i.forEach(o=>{u.reconcile(o,c)})}}}},{"./base-xform":32}],72:[function(e,n,s){const a=e("../../../utils/col-cache"),i=e("../base-xform");n.exports=class extends i{get tag(){return"autoFilter"}render(c,u){if(u)if(typeof u=="string")c.leafNode("autoFilter",{ref:u});else{const o=function(f){return typeof f=="string"?f:a.getAddress(f.row,f.column).address},d=o(u.from),p=o(u.to);d&&p&&c.leafNode("autoFilter",{ref:`${d}:${p}`})}}parseOpen(c){c.name==="autoFilter"&&(this.model=c.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,s){const a=e("../../../utils/utils"),i=e("../base-xform"),c=e("../../../doc/range"),u=e("../../../doc/enums"),o=e("../strings/rich-text-xform");function d(p){if(p==null)return u.ValueType.Null;if(p instanceof String||typeof p=="string")return u.ValueType.String;if(typeof p=="number")return u.ValueType.Number;if(typeof p=="boolean")return u.ValueType.Boolean;if(p instanceof Date)return u.ValueType.Date;if(p.text&&p.hyperlink)return u.ValueType.Hyperlink;if(p.formula)return u.ValueType.Formula;if(p.error)return u.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends i{constructor(){super(),this.richTextXForm=new o}get tag(){return"c"}prepare(p,f){const h=f.styles.addStyleModel(p.style||{},(function(g){switch(g.type){case u.ValueType.Formula:return d(g.result);default:return g.type}})(p));switch(h&&(p.styleId=h),p.comment&&f.comments.push({...p.comment,ref:p.address}),p.type){case u.ValueType.String:case u.ValueType.RichText:f.sharedStrings&&(p.ssId=f.sharedStrings.add(p.value));break;case u.ValueType.Date:f.date1904&&(p.date1904=!0);break;case u.ValueType.Hyperlink:f.sharedStrings&&p.text!==void 0&&p.text!==null&&(p.ssId=f.sharedStrings.add(p.text)),f.hyperlinks.push({address:p.address,target:p.hyperlink,tooltip:p.tooltip});break;case u.ValueType.Merge:f.merges.add(p);break;case u.ValueType.Formula:if(f.date1904&&(p.date1904=!0),p.shareType==="shared"&&(p.si=f.siFormulae++),p.formula)f.formulae[p.address]=p;else if(p.sharedFormula){const g=f.formulae[p.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+p.address);g.si===void 0?(g.shareType="shared",g.si=f.siFormulae++,g.range=new c(g.address,p.address)):g.range&&g.range.expandToAddress(p.address),p.si=g.si}}}renderFormula(p,f){let h=null;switch(f.shareType){case"shared":h={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":h={t:"array",ref:f.ref};break;default:f.si!==void 0&&(h={t:"shared",si:f.si})}switch(d(f.result)){case u.ValueType.Null:p.leafNode("f",h,f.formula);break;case u.ValueType.String:p.addAttribute("t","str"),p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result);break;case u.ValueType.Number:p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result);break;case u.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result?1:0);break;case u.ValueType.Error:p.addAttribute("t","e"),p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result.error);break;case u.ValueType.Date:p.leafNode("f",h,f.formula),p.leafNode("v",null,a.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(p,f){if(f.type!==u.ValueType.Null||f.styleId){switch(p.openNode("c"),p.addAttribute("r",f.address),f.styleId&&p.addAttribute("s",f.styleId),f.type){case u.ValueType.Null:break;case u.ValueType.Number:p.leafNode("v",null,f.value);break;case u.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("v",null,f.value?"1":"0");break;case u.ValueType.Error:p.addAttribute("t","e"),p.leafNode("v",null,f.value.error);break;case u.ValueType.String:case u.ValueType.RichText:f.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(p.addAttribute("t","inlineStr"),p.openNode("is"),f.value.richText.forEach(h=>{this.richTextXForm.render(p,h)}),p.closeNode("is")):(p.addAttribute("t","str"),p.leafNode("v",null,f.value));break;case u.ValueType.Date:p.leafNode("v",null,a.dateToExcel(f.value,f.date1904));break;case u.ValueType.Hyperlink:f.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,f.ssId)):(p.addAttribute("t","str"),p.leafNode("v",null,f.text));break;case u.ValueType.Formula:this.renderFormula(p,f);break;case u.ValueType.Merge:}p.closeNode()}}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"c":return this.model={address:p.attributes.r},this.t=p.attributes.t,p.attributes.s&&(this.model.styleId=parseInt(p.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=p.attributes.si,this.model.shareType=p.attributes.t,this.model.ref=p.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(p),!0;default:return!1}}parseText(p){if(this.parser)this.parser.parseText(p);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+p:p;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+p:p:this.model.value=this.model.value?this.model.value+p:p}}parseClose(p){switch(p){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=u.ValueType.Formula,f.value&&(this.t==="str"?f.result=a.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=u.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=u.ValueType.String,f.value=a.xmlDecode(f.value);break;case"inlineStr":f.type=u.ValueType.String;break;case"b":f.type=u.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=u.ValueType.Error,f.value={error:f.value};break;default:f.type=u.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=u.ValueType.Null:f.type=u.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(p),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(p),!0)}}reconcile(p,f){const h=p.styleId&&f.styles&&f.styles.getStyleModel(p.styleId);switch(h&&(p.style=h),p.styleId!==void 0&&(p.styleId=void 0),p.type){case u.ValueType.String:typeof p.value=="number"&&f.sharedStrings&&(p.value=f.sharedStrings.getString(p.value)),p.value.richText&&(p.type=u.ValueType.RichText);break;case u.ValueType.Number:h&&a.isDateFmt(h.numFmt)&&(p.type=u.ValueType.Date,p.value=a.excelToDate(p.value,f.date1904));break;case u.ValueType.Formula:p.result!==void 0&&h&&a.isDateFmt(h.numFmt)&&(p.result=a.excelToDate(p.result,f.date1904)),p.shareType==="shared"&&(p.ref?f.formulae[p.si]=p.address:(p.sharedFormula=f.formulae[p.si],delete p.shareType),delete p.si)}const g=f.hyperlinkMap[p.address];g&&(p.type===u.ValueType.Formula?(p.text=p.result,p.result=void 0):(p.text=p.value,p.value=void 0),p.type=u.ValueType.Hyperlink,p.hyperlink=g);const y=f.commentsMap&&f.commentsMap[p.address];y&&(p.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"x14:cfIcon"}render(i,c){i.leafNode(this.tag,{iconSet:c.iconSet,iconId:c.iconId})}parseOpen(i){let{attributes:c}=i;this.model={iconSet:c.iconSet,iconId:a.toIntValue(c.iconId)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,s){const{v4:a}=e("uuid"),i=e("../../base-xform"),c=e("../../composite-xform"),u=e("./databar-ext-xform"),o=e("./icon-set-ext-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class p extends c{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new u,"x14:iconSet":this.iconSetXform=new o}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?u.isExt(h):!(h.type!=="iconSet"||!h.custom&&!d[h.iconSet])}prepare(h){p.isExt(h)&&(h.x14Id=`{${a()}}`.toUpperCase())}render(h,g){if(p.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(h,g);break;case"iconSet":this.renderIconSet(h,g)}}renderDataBar(h,g){h.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(h,g),h.closeNode()}renderIconSet(h,g){h.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${a()}}`}),this.iconSetXform.render(h,g),h.closeNode()}createNewModel(h){let{attributes:g}=h;return{type:g.type,x14Id:g.id,priority:i.toIntValue(g.priority)}}onParserClose(h,g){Object.assign(this.model,g.model)}}n.exports=p},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,s){const a=e("../../composite-xform"),i=e("./f-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:f":this.fExtXform=new i}}get tag(){return"x14:cfvo"}render(c,u){c.openNode(this.tag,{type:u.type}),u.value!==void 0&&this.fExtXform.render(c,u.value),c.closeNode()}createNewModel(c){return{type:c.attributes.type}}onParserClose(c,u){switch(c){case"xm:f":this.model.value=u.model?parseFloat(u.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,s){const a=e("../../composite-xform"),i=e("./sqref-ext-xform"),c=e("./cf-rule-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:sqref":this.sqRef=new i,"x14:cfRule":this.cfRule=new c}}get tag(){return"x14:conditionalFormatting"}prepare(u,o){u.rules.forEach(d=>{this.cfRule.prepare(d,o)})}render(u,o){o.rules.some(c.isExt)&&(u.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),o.rules.filter(c.isExt).forEach(d=>this.cfRule.render(u,d)),this.sqRef.render(u,o.ref),u.closeNode())}createNewModel(){return{rules:[]}}onParserClose(u,o){switch(u){case"xm:sqref":this.model.ref=o.model;break;case"x14:cfRule":this.model.rules.push(o.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,s){const a=e("../../composite-xform"),i=e("./cf-rule-ext-xform"),c=e("./conditional-formatting-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new c}}get tag(){return"x14:conditionalFormattings"}hasContent(u){return u.hasExtContent===void 0&&(u.hasExtContent=u.some(o=>o.rules.some(i.isExt))),u.hasExtContent}prepare(u,o){u.forEach(d=>{this.cfXform.prepare(d,o)})}render(u,o){this.hasContent(o)&&(u.openNode(this.tag),o.forEach(d=>this.cfXform.render(u,d)),u.closeNode())}createNewModel(){return[]}onParserClose(u,o){this.model.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,s){const a=e("../../base-xform"),i=e("../../composite-xform"),c=e("../../style/color-xform"),u=e("./cfvo-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:borderColor":this.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new c("x14:axisColor")}}static isExt(o){return!o.gradient}get tag(){return"x14:dataBar"}render(o,d){o.openNode(this.tag,{minLength:a.toIntAttribute(d.minLength,0,!0),maxLength:a.toIntAttribute(d.maxLength,100,!0),border:a.toBoolAttribute(d.border,!1),gradient:a.toBoolAttribute(d.gradient,!0),negativeBarColorSameAsPositive:a.toBoolAttribute(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolAttribute(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toAttribute(d.axisPosition,"auto"),direction:a.toAttribute(d.direction,"leftToRight")}),d.cfvo.forEach(p=>{this.cfvoXform.render(o,p)}),this.borderColorXform.render(o,d.borderColor),this.negativeBorderColorXform.render(o,d.negativeBorderColor),this.negativeFillColorXform.render(o,d.negativeFillColor),this.axisColorXform.render(o,d.axisColor),o.closeNode()}createNewModel(o){let{attributes:d}=o;return{cfvo:[],minLength:a.toIntValue(d.minLength,0),maxLength:a.toIntValue(d.maxLength,100),border:a.toBoolValue(d.border,!1),gradient:a.toBoolValue(d.gradient,!0),negativeBarColorSameAsPositive:a.toBoolValue(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolValue(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toStringValue(d.axisPosition,"auto"),direction:a.toStringValue(d.direction,"leftToRight")}}onParserClose(o,d){const[,p]=o.split(":");switch(p){case"cfvo":this.model.cfvo.push(d.model);break;default:this.model[p]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"xm:f"}render(i,c){i.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,s){const a=e("../../base-xform"),i=e("../../composite-xform"),c=e("./cfvo-ext-xform"),u=e("./cf-icon-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:cfIcon":this.cfIconXform=new u}}get tag(){return"x14:iconSet"}render(o,d){o.openNode(this.tag,{iconSet:a.toStringAttribute(d.iconSet),reverse:a.toBoolAttribute(d.reverse,!1),showValue:a.toBoolAttribute(d.showValue,!0),custom:a.toBoolAttribute(d.icons,!1)}),d.cfvo.forEach(p=>{this.cfvoXform.render(o,p)}),d.icons&&d.icons.forEach((p,f)=>{p.iconId=f,this.cfIconXform.render(o,p)}),o.closeNode()}createNewModel(o){let{attributes:d}=o;return{cfvo:[],iconSet:a.toStringValue(d.iconSet,"3TrafficLights"),reverse:a.toBoolValue(d.reverse,!1),showValue:a.toBoolValue(d.showValue,!0)}}onParserClose(o,d){const[,p]=o.split(":");switch(p){case"cfvo":this.model.cfvo.push(d.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(d.model);break;default:this.model[p]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"xm:sqref"}render(i,c){i.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,s){const a=e("../../base-xform"),i=e("../../composite-xform"),c=e("../../../../doc/range"),u=e("./databar-xform"),o=e("./ext-lst-ref-xform"),d=e("./formula-xform"),p=e("./color-scale-xform"),f=e("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=m=>{const{type:v,operator:x}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:x}}};class y extends i{constructor(){super(),this.map={dataBar:this.databarXform=new u,extLst:this.extLstRefXform=new o,formula:this.formulaXform=new d,colorScale:this.colorScaleXform=new p,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!h[v.iconSet]}render(v,x){switch(x.type){case"expression":this.renderExpression(v,x);break;case"cellIs":this.renderCellIs(v,x);break;case"top10":this.renderTop10(v,x);break;case"aboveAverage":this.renderAboveAverage(v,x);break;case"dataBar":this.renderDataBar(v,x);break;case"colorScale":this.renderColorScale(v,x);break;case"iconSet":this.renderIconSet(v,x);break;case"containsText":this.renderText(v,x);break;case"timePeriod":this.renderTimePeriod(v,x)}}renderExpression(v,x){v.openNode(this.tag,{type:"expression",dxfId:x.dxfId,priority:x.priority}),this.formulaXform.render(v,x.formulae[0]),v.closeNode()}renderCellIs(v,x){v.openNode(this.tag,{type:"cellIs",dxfId:x.dxfId,priority:x.priority,operator:x.operator}),x.formulae.forEach(j=>{this.formulaXform.render(v,j)}),v.closeNode()}renderTop10(v,x){v.leafNode(this.tag,{type:"top10",dxfId:x.dxfId,priority:x.priority,percent:a.toBoolAttribute(x.percent,!1),bottom:a.toBoolAttribute(x.bottom,!1),rank:a.toIntValue(x.rank,10,!0)})}renderAboveAverage(v,x){v.leafNode(this.tag,{type:"aboveAverage",dxfId:x.dxfId,priority:x.priority,aboveAverage:a.toBoolAttribute(x.aboveAverage,!0)})}renderDataBar(v,x){v.openNode(this.tag,{type:"dataBar",priority:x.priority}),this.databarXform.render(v,x),this.extLstRefXform.render(v,x),v.closeNode()}renderColorScale(v,x){v.openNode(this.tag,{type:"colorScale",priority:x.priority}),this.colorScaleXform.render(v,x),v.closeNode()}renderIconSet(v,x){y.isPrimitive(x)&&(v.openNode(this.tag,{type:"iconSet",priority:x.priority}),this.iconSetXform.render(v,x),v.closeNode())}renderText(v,x){v.openNode(this.tag,{type:x.operator,dxfId:x.dxfId,priority:x.priority,operator:a.toStringAttribute(x.operator,"containsText")});const j=(T=>{if(T.formulae&&T.formulae[0])return T.formulae[0];const E=new c(T.ref),{tl:B}=E;switch(T.operator){case"containsText":return`NOT(ISERROR(SEARCH("${T.text}",${B})))`;case"containsBlanks":return`LEN(TRIM(${B}))=0`;case"notContainsBlanks":return`LEN(TRIM(${B}))>0`;case"containsErrors":return`ISERROR(${B})`;case"notContainsErrors":return`NOT(ISERROR(${B}))`;default:return}})(x);j&&this.formulaXform.render(v,j),v.closeNode()}renderTimePeriod(v,x){v.openNode(this.tag,{type:"timePeriod",dxfId:x.dxfId,priority:x.priority,timePeriod:x.timePeriod});const j=(T=>{if(T.formulae&&T.formulae[0])return T.formulae[0];const E=new c(T.ref),{tl:B}=E;switch(T.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${B},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${B},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${B},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${B},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${B},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${B},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${B},1)=TODAY()-1`;case"today":return`FLOOR(${B},1)=TODAY()`;case"tomorrow":return`FLOOR(${B},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${B},1)<=6,FLOOR(${B},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${B})=MONTH(EDATE(TODAY(),0-1)),YEAR(${B})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${B})=MONTH(TODAY()),YEAR(${B})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${B})=MONTH(EDATE(TODAY(),0+1)),YEAR(${B})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(x);j&&this.formulaXform.render(v,j),v.closeNode()}createNewModel(v){let{attributes:x}=v;return{...g(x),dxfId:a.toIntValue(x.dxfId),priority:a.toIntValue(x.priority),timePeriod:x.timePeriod,percent:a.toBoolValue(x.percent),bottom:a.toBoolValue(x.bottom),rank:a.toIntValue(x.rank),aboveAverage:a.toBoolValue(x.aboveAverage)}}onParserClose(v,x){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,x.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(x.model)}}}n.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"cfvo"}render(i,c){i.leafNode(this.tag,{type:c.type,val:c.value})}parseOpen(i){this.model={type:i.attributes.type,value:a.toFloatValue(i.attributes.val)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,s){const a=e("../../composite-xform"),i=e("../../style/color-xform"),c=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new i}}get tag(){return"colorScale"}render(u,o){u.openNode(this.tag),o.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),o.color.forEach(d=>{this.colorXform.render(u,d)}),u.closeNode()}createNewModel(u){return{cfvo:[],color:[]}}onParserClose(u,o){this.model[u].push(o.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,s){const a=e("../../composite-xform"),i=e("./cf-rule-xform");n.exports=class extends a{constructor(){super(),this.map={cfRule:new i}}get tag(){return"conditionalFormatting"}render(c,u){u.rules.some(i.isPrimitive)&&(c.openNode(this.tag,{sqref:u.ref}),u.rules.forEach(o=>{i.isPrimitive(o)&&(o.ref=u.ref,this.map.cfRule.render(c,o))}),c.closeNode())}createNewModel(c){let{attributes:u}=c;return{ref:u.sqref,rules:[]}}onParserClose(c,u){this.model.rules.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,s){const a=e("../../base-xform"),i=e("./conditional-formatting-xform");n.exports=class extends a{constructor(){super(),this.cfXform=new i}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(c,u){let o=c.reduce((d,p)=>Math.max(d,...p.rules.map(f=>f.priority||0)),1);c.forEach(d=>{d.rules.forEach(p=>{p.priority||(p.priority=o++),p.style&&(p.dxfId=u.styles.addDxfStyle(p.style))})})}render(c,u){u.forEach(o=>{this.cfXform.render(c,o)})}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(!!this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(c,u){c.forEach(o=>{o.rules.forEach(d=>{d.dxfId!==void 0&&(d.style=u.styles.getDxfStyle(d.dxfId),delete d.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,s){const a=e("../../composite-xform"),i=e("../../style/color-xform"),c=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new i}}get tag(){return"dataBar"}render(u,o){u.openNode(this.tag),o.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),this.colorXform.render(u,o.color),u.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(u,o){switch(u){case"cfvo":this.model.cfvo.push(o.model);break;case"color":this.model.color=o.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,s){const a=e("../../base-xform"),i=e("../../composite-xform");class c extends a{get tag(){return"x14:id"}render(d,p){d.leafNode(this.tag,null,p)}parseOpen(){this.model=""}parseText(d){this.model+=d}parseClose(d){return d!==this.tag}}class u extends i{constructor(){super(),this.map={"x14:id":this.idXform=new c}}get tag(){return"ext"}render(d,p){d.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(d,p.x14Id),d.closeNode()}createNewModel(){return{}}onParserClose(d,p){this.model.x14Id=p.model}}n.exports=class extends i{constructor(){super(),this.map={ext:new u}}get tag(){return"extLst"}render(o,d){o.openNode(this.tag),this.map.ext.render(o,d),o.closeNode()}createNewModel(){return{}}onParserClose(o,d){Object.assign(this.model,d.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"formula"}render(i,c){i.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,s){const a=e("../../base-xform"),i=e("../../composite-xform"),c=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new c}}get tag(){return"iconSet"}render(u,o){u.openNode(this.tag,{iconSet:a.toStringAttribute(o.iconSet,"3TrafficLights"),reverse:a.toBoolAttribute(o.reverse,!1),showValue:a.toBoolAttribute(o.showValue,!0)}),o.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),u.closeNode()}createNewModel(u){let{attributes:o}=u;return{iconSet:a.toStringValue(o.iconSet,"3TrafficLights"),reverse:a.toBoolValue(o.reverse),showValue:a.toBoolValue(o.showValue),cfvo:[]}}onParserClose(u,o){this.model[u].push(o.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,s){const a=e("../../../utils/utils"),i=e("../base-xform");n.exports=class extends i{get tag(){return"col"}prepare(c,u){const o=u.styles.addStyleModel(c.style||{});o&&(c.styleId=o)}render(c,u){c.openNode("col"),c.addAttribute("min",u.min),c.addAttribute("max",u.max),u.width&&c.addAttribute("width",u.width),u.styleId&&c.addAttribute("style",u.styleId),u.hidden&&c.addAttribute("hidden","1"),u.bestFit&&c.addAttribute("bestFit","1"),u.outlineLevel&&c.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&c.addAttribute("collapsed","1"),c.addAttribute("customWidth","1"),c.closeNode()}parseOpen(c){if(c.name==="col"){const u=this.model={min:parseInt(c.attributes.min||"0",10),max:parseInt(c.attributes.max||"0",10),width:c.attributes.width===void 0?void 0:parseFloat(c.attributes.width||"0")};return c.attributes.style&&(u.styleId=parseInt(c.attributes.style,10)),a.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),a.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),a.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(c,u){c.styleId&&(c.style=u.styles.getStyleModel(c.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,s){const a=e("../../../utils/under-dash"),i=e("../../../utils/utils"),c=e("../../../utils/col-cache"),u=e("../base-xform"),o=e("../../../doc/range");function d(f,h,g,y){const m=h[g];m!==void 0?f[g]=m:y!==void 0&&(f[g]=y)}function p(f,h,g,y){const m=h[g];m!==void 0&&(f[g]=i.parseBoolean(m))}n.exports=class extends u{get tag(){return"dataValidations"}render(f,h){const g=(function(y){const m=a.map(y,(j,T)=>({address:T,dataValidation:j,marked:!1})).sort((j,T)=>a.strcmp(j.address,T.address)),v=a.keyBy(m,"address"),x=(j,T,E)=>{for(let B=0;B<T;B++){const W=c.encodeAddress(j.row+B,E);if(!y[W]||!a.isEqual(y[j.address],y[W]))return!1}return!0};return m.map(j=>{if(!j.marked){const T=c.decodeEx(j.address);if(T.dimensions)return v[T.dimensions].marked=!0,{...j.dataValidation,sqref:j.address};let E=1,B=c.encodeAddress(T.row+E,T.col);for(;y[B]&&a.isEqual(j.dataValidation,y[B]);)E++,B=c.encodeAddress(T.row+E,T.col);let W=1;for(;x(T,E,T.col+W);)W++;for(let I=0;I<E;I++)for(let R=0;R<W;R++)B=c.encodeAddress(T.row+I,T.col+R),v[B].marked=!0;if(E>1||W>1){const I=T.row+(E-1),R=T.col+(W-1);return{...j.dataValidation,sqref:`${j.address}:${c.encodeAddress(I,R)}`}}return{...j.dataValidation,sqref:j.address}}return null}).filter(Boolean)})(h);g.length&&(f.openNode("dataValidations",{count:g.length}),g.forEach(y=>{f.openNode("dataValidation"),y.type!=="any"&&(f.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&f.addAttribute("operator",y.operator),y.allowBlank&&f.addAttribute("allowBlank","1")),y.showInputMessage&&f.addAttribute("showInputMessage","1"),y.promptTitle&&f.addAttribute("promptTitle",y.promptTitle),y.prompt&&f.addAttribute("prompt",y.prompt),y.showErrorMessage&&f.addAttribute("showErrorMessage","1"),y.errorStyle&&f.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&f.addAttribute("errorTitle",y.errorTitle),y.error&&f.addAttribute("error",y.error),f.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((m,v)=>{f.openNode("formula"+(v+1)),y.type==="date"?f.writeText(i.dateToExcel(new Date(m))):f.writeText(m),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const h={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&p(h,f.attributes,"allowBlank"),p(h,f.attributes,"showInputMessage"),p(h,f.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:d(h,f.attributes,"operator","between")}return d(h,f.attributes,"promptTitle"),d(h,f.attributes,"prompt"),d(h,f.attributes,"errorStyle"),d(h,f.attributes,"errorTitle"),d(h,f.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new o(h).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=i.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"dimension"}render(i,c){c&&i.leafNode("dimension",{ref:c})}parseOpen(i){return i.name==="dimension"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"drawing"}render(i,c){c&&i.leafNode(this.tag,{"r:id":c.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,s){const a=e("../composite-xform"),i=e("./cf-ext/conditional-formattings-ext-xform");class c extends a{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new i}}get tag(){return"ext"}hasContent(o){return this.conditionalFormattings.hasContent(o.conditionalFormattings)}prepare(o,d){this.conditionalFormattings.prepare(o.conditionalFormattings,d)}render(o,d){o.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(o,d.conditionalFormattings),o.closeNode()}createNewModel(){return{}}onParserClose(o,d){this.model[o]=d.model}}n.exports=class extends a{constructor(){super(),this.map={ext:this.ext=new c}}get tag(){return"extLst"}prepare(u,o){this.ext.prepare(u,o)}hasContent(u){return this.ext.hasContent(u)}render(u,o){this.hasContent(o)&&(u.openNode("extLst"),this.ext.render(u,o),u.closeNode())}createNewModel(){return{}}onParserClose(u,o){Object.assign(this.model,o.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"headerFooter"}render(i,c){if(c){i.addRollback();let u=!1;i.openNode("headerFooter"),c.differentFirst&&(i.addAttribute("differentFirst","1"),u=!0),c.differentOddEven&&(i.addAttribute("differentOddEven","1"),u=!0),c.oddHeader&&typeof c.oddHeader=="string"&&(i.leafNode("oddHeader",null,c.oddHeader),u=!0),c.oddFooter&&typeof c.oddFooter=="string"&&(i.leafNode("oddFooter",null,c.oddFooter),u=!0),c.evenHeader&&typeof c.evenHeader=="string"&&(i.leafNode("evenHeader",null,c.evenHeader),u=!0),c.evenFooter&&typeof c.evenFooter=="string"&&(i.leafNode("evenFooter",null,c.evenFooter),u=!0),c.firstHeader&&typeof c.firstHeader=="string"&&(i.leafNode("firstHeader",null,c.firstHeader),u=!0),c.firstFooter&&typeof c.firstFooter=="string"&&(i.leafNode("firstFooter",null,c.firstFooter),u=!0),u?(i.closeNode(),i.commit()):i.rollback()}}parseOpen(i){switch(i.name){case"headerFooter":return this.model={},i.attributes.differentFirst&&(this.model.differentFirst=parseInt(i.attributes.differentFirst,0)===1),i.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(i.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(i){switch(this.currentNode){case"oddHeader":this.model.oddHeader=i;break;case"oddFooter":this.model.oddFooter=i;break;case"evenHeader":this.model.evenHeader=i;break;case"evenFooter":this.model.evenFooter=i;break;case"firstHeader":this.model.firstHeader=i;break;case"firstFooter":this.model.firstFooter=i}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"hyperlink"}render(i,c){this.isInternalLink(c)?i.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip,location:c.target}):i.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip})}parseOpen(i){return i.name==="hyperlink"&&(this.model={address:i.attributes.ref,rId:i.attributes["r:id"],tooltip:i.attributes.tooltip},i.attributes.location&&(this.model.target=i.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(i){return i.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(i.target)}}},{"../base-xform":32}],99:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"mergeCell"}render(i,c){i.leafNode("mergeCell",{ref:c})}parseOpen(i){return i.name==="mergeCell"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,s){const a=e("../../../utils/under-dash"),i=e("../../../doc/range"),c=e("../../../utils/col-cache"),u=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(o){if(this.merges[o.master])this.merges[o.master].expandToAddress(o.address);else{const d=`${o.master}:${o.address}`;this.merges[o.master]=new i(d)}}get mergeCells(){return a.map(this.merges,o=>o.range)}reconcile(o,d){a.each(o,p=>{const f=c.decode(p);for(let h=f.top;h<=f.bottom;h++){const g=d[h-1];for(let y=f.left;y<=f.right;y++){const m=g.cells[y-1];m?m.type===u.ValueType.Merge&&(m.master=f.tl):g.cells[y]={type:u.ValueType.Null,address:c.encodeAddress(h,y)}}}})}getMasterAddress(o){const d=this.hash[o];return d&&d.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,s){const a=e("../base-xform"),i=c=>c!==void 0;n.exports=class extends a{get tag(){return"outlinePr"}render(c,u){return!(!u||!i(u.summaryBelow)&&!i(u.summaryRight))&&(c.leafNode(this.tag,{summaryBelow:i(u.summaryBelow)?Number(u.summaryBelow):void 0,summaryRight:i(u.summaryRight)?Number(u.summaryRight):void 0}),!0)}parseOpen(c){return c.name===this.tag&&(this.model={summaryBelow:i(c.attributes.summaryBelow)?!!Number(c.attributes.summaryBelow):void 0,summaryRight:i(c.attributes.summaryRight)?!!Number(c.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"brk"}render(i,c){i.leafNode("brk",c)}parseOpen(i){return i.name==="brk"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,s){const a=e("../../../utils/under-dash"),i=e("../base-xform");n.exports=class extends i{get tag(){return"pageMargins"}render(c,u){if(u){const o={left:u.left,right:u.right,top:u.top,bottom:u.bottom,header:u.header,footer:u.footer};a.some(o,d=>d!==void 0)&&c.leafNode(this.tag,o)}}parseOpen(c){switch(c.name){case this.tag:return this.model={left:parseFloat(c.attributes.left||.7),right:parseFloat(c.attributes.right||.7),top:parseFloat(c.attributes.top||.75),bottom:parseFloat(c.attributes.bottom||.75),header:parseFloat(c.attributes.header||.3),footer:parseFloat(c.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"pageSetUpPr"}render(i,c){return!(!c||!c.fitToPage)&&(i.leafNode(this.tag,{fitToPage:c.fitToPage?"1":void 0}),!0)}parseOpen(i){return i.name===this.tag&&(this.model={fitToPage:i.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,s){const a=e("../../../utils/under-dash"),i=e("../base-xform");function c(p){return p?"1":void 0}function u(p){switch(p){case"overThenDown":return p;default:return}}function o(p){switch(p){case"atEnd":case"asDisplyed":return p;default:return}}function d(p){switch(p){case"dash":case"blank":case"NA":return p;default:return}}n.exports=class extends i{get tag(){return"pageSetup"}render(p,f){if(f){const h={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:u(f.pageOrder),blackAndWhite:c(f.blackAndWhite),draft:c(f.draft),cellComments:o(f.cellComments),errors:d(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:c(f.firstPageNumber),usePrinterDefaults:c(f.usePrinterDefaults),copies:f.copies};a.some(h,g=>g!==void 0)&&p.leafNode(this.tag,h)}}parseOpen(p){switch(p.name){case this.tag:return this.model={paperSize:(f=p.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:p.attributes.orientation||"portrait",horizontalDpi:parseInt(p.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(p.attributes.verticalDpi||"4294967295",10),pageOrder:p.attributes.pageOrder||"downThenOver",blackAndWhite:p.attributes.blackAndWhite==="1",draft:p.attributes.draft==="1",cellComments:p.attributes.cellComments||"None",errors:p.attributes.errors||"displayed",scale:parseInt(p.attributes.scale||"100",10),fitToWidth:parseInt(p.attributes.fitToWidth||"1",10),fitToHeight:parseInt(p.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(p.attributes.firstPageNumber||"1",10),useFirstPageNumber:p.attributes.useFirstPageNumber==="1",usePrinterDefaults:p.attributes.usePrinterDefaults==="1",copies:parseInt(p.attributes.copies||"1",10)},!0;default:return!1}var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"picture"}render(i,c){c&&i.leafNode(this.tag,{"r:id":c.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,s){const a=e("../../../utils/under-dash"),i=e("../base-xform");function c(u){return u?"1":void 0}n.exports=class extends i{get tag(){return"printOptions"}render(u,o){if(o){const d={headings:c(o.showRowColHeaders),gridLines:c(o.showGridLines),horizontalCentered:c(o.horizontalCentered),verticalCentered:c(o.verticalCentered)};a.some(d,p=>p!==void 0)&&u.leafNode(this.tag,d)}}parseOpen(u){switch(u.name){case this.tag:return this.model={showRowColHeaders:u.attributes.headings==="1",showGridLines:u.attributes.gridLines==="1",horizontalCentered:u.attributes.horizontalCentered==="1",verticalCentered:u.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,s){const a=e("./page-breaks-xform"),i=e("../list-xform");n.exports=class extends i{constructor(){super({tag:"rowBreaks",count:!0,childXform:new a})}render(c,u){if(u&&u.length){c.openNode(this.tag,this.$),this.count&&(c.addAttribute(this.$count,u.length),c.addAttribute("manualBreakCount",u.length));const{childXform:o}=this;u.forEach(d=>{o.render(c,d)}),c.closeNode()}else this.empty&&c.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,s){const a=e("../base-xform"),i=e("../../../utils/utils"),c=e("./cell-xform");n.exports=class extends a{constructor(u){super(),this.maxItems=u&&u.maxItems,this.map={c:new c}}get tag(){return"row"}prepare(u,o){const d=o.styles.addStyleModel(u.style);d&&(u.styleId=d);const p=this.map.c;u.cells.forEach(f=>{p.prepare(f,o)})}render(u,o,d){u.openNode("row"),u.addAttribute("r",o.number),o.height&&(u.addAttribute("ht",o.height),u.addAttribute("customHeight","1")),o.hidden&&u.addAttribute("hidden","1"),o.min>0&&o.max>0&&o.min<=o.max&&u.addAttribute("spans",`${o.min}:${o.max}`),o.styleId&&(u.addAttribute("s",o.styleId),u.addAttribute("customFormat","1")),u.addAttribute("x14ac:dyDescent","0.25"),o.outlineLevel&&u.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&u.addAttribute("collapsed","1");const p=this.map.c;o.cells.forEach(f=>{p.render(u,f,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;if(u.name==="row"){this.numRowsSeen+=1;const o=u.attributes.spans?u.attributes.spans.split(":").map(p=>parseInt(p,10)):[void 0,void 0],d=this.model={number:parseInt(u.attributes.r,10),min:o[0],max:o[1],cells:[]};return u.attributes.s&&(d.styleId=parseInt(u.attributes.s,10)),i.parseBoolean(u.attributes.hidden)&&(d.hidden=!0),i.parseBoolean(u.attributes.bestFit)&&(d.bestFit=!0),u.attributes.ht&&(d.height=parseFloat(u.attributes.ht)),u.attributes.outlineLevel&&(d.outlineLevel=parseInt(u.attributes.outlineLevel,10)),i.parseBoolean(u.attributes.collapsed)&&(d.collapsed=!0),!0}return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(u,o){u.style=u.styleId?o.styles.getStyleModel(u.styleId):{},u.styleId!==void 0&&(u.styleId=void 0);const d=this.map.c;u.cells.forEach(p=>{d.reconcile(p,o)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,s){const a=e("../../../utils/under-dash"),i=e("../base-xform");n.exports=class extends i{get tag(){return"sheetFormatPr"}render(c,u){if(u){const o={defaultRowHeight:u.defaultRowHeight,outlineLevelRow:u.outlineLevelRow,outlineLevelCol:u.outlineLevelCol,"x14ac:dyDescent":u.dyDescent};u.defaultColWidth&&(o.defaultColWidth=u.defaultColWidth),u.defaultRowHeight&&u.defaultRowHeight===15||(o.customHeight="1"),a.some(o,d=>d!==void 0)&&c.leafNode("sheetFormatPr",o)}}parseOpen(c){return c.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(c.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(c.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(c.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(c.attributes.outlineLevelCol||"0",10)},c.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(c.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,s){const a=e("../base-xform"),i=e("../style/color-xform"),c=e("./page-setup-properties-xform"),u=e("./outline-properties-xform");n.exports=class extends a{constructor(){super(),this.map={tabColor:new i("tabColor"),pageSetUpPr:new c,outlinePr:new u}}get tag(){return"sheetPr"}render(o,d){if(d){o.addRollback(),o.openNode("sheetPr");let p=!1;p=this.map.tabColor.render(o,d.tabColor)||p,p=this.map.pageSetUpPr.render(o,d.pageSetup)||p,p=this.map.outlinePr.render(o,d.outlineProperties)||p,p?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag?(this.reset(),!0):!!this.map[o.name]&&(this.parser=this.map[o.name],this.parser.parseOpen(o),!0)}parseText(o){return!!this.parser&&(this.parser.parseText(o),!0)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,s){const a=e("../../../utils/under-dash"),i=e("../base-xform");function c(o,d){return o?d:void 0}function u(o,d){return o===d||void 0}n.exports=class extends i{get tag(){return"sheetProtection"}render(o,d){if(d){const p={sheet:c(d.sheet,"1"),selectLockedCells:d.selectLockedCells===!1?"1":void 0,selectUnlockedCells:d.selectUnlockedCells===!1?"1":void 0,formatCells:c(d.formatCells,"0"),formatColumns:c(d.formatColumns,"0"),formatRows:c(d.formatRows,"0"),insertColumns:c(d.insertColumns,"0"),insertRows:c(d.insertRows,"0"),insertHyperlinks:c(d.insertHyperlinks,"0"),deleteColumns:c(d.deleteColumns,"0"),deleteRows:c(d.deleteRows,"0"),sort:c(d.sort,"0"),autoFilter:c(d.autoFilter,"0"),pivotTables:c(d.pivotTables,"0")};d.sheet&&(p.algorithmName=d.algorithmName,p.hashValue=d.hashValue,p.saltValue=d.saltValue,p.spinCount=d.spinCount,p.objects=c(d.objects===!1,"1"),p.scenarios=c(d.scenarios===!1,"1")),a.some(p,f=>f!==void 0)&&o.leafNode(this.tag,p)}}parseOpen(o){switch(o.name){case this.tag:return this.model={sheet:u(o.attributes.sheet,"1"),objects:o.attributes.objects!=="1"&&void 0,scenarios:o.attributes.scenarios!=="1"&&void 0,selectLockedCells:o.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:o.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:u(o.attributes.formatCells,"0"),formatColumns:u(o.attributes.formatColumns,"0"),formatRows:u(o.attributes.formatRows,"0"),insertColumns:u(o.attributes.insertColumns,"0"),insertRows:u(o.attributes.insertRows,"0"),insertHyperlinks:u(o.attributes.insertHyperlinks,"0"),deleteColumns:u(o.attributes.deleteColumns,"0"),deleteRows:u(o.attributes.deleteRows,"0"),sort:u(o.attributes.sort,"0"),autoFilter:u(o.attributes.autoFilter,"0"),pivotTables:u(o.attributes.pivotTables,"0")},o.attributes.algorithmName&&(this.model.algorithmName=o.attributes.algorithmName,this.model.hashValue=o.attributes.hashValue,this.model.saltValue=o.attributes.saltValue,this.model.spinCount=parseInt(o.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,s){const a=e("../../../utils/col-cache"),i=e("../base-xform"),c={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends i{get tag(){return"sheetView"}prepare(u){switch(u.state){case"frozen":case"split":break;default:u.state="normal"}}render(u,o){u.openNode("sheetView",{workbookViewId:o.workbookViewId||0});const d=function(y,m,v){v&&u.addAttribute(y,m)};let p,f,h,g;switch(d("rightToLeft","1",o.rightToLeft===!0),d("tabSelected","1",o.tabSelected),d("showRuler","0",o.showRuler===!1),d("showRowColHeaders","0",o.showRowColHeaders===!1),d("showGridLines","0",o.showGridLines===!1),d("zoomScale",o.zoomScale,o.zoomScale),d("zoomScaleNormal",o.zoomScaleNormal,o.zoomScaleNormal),d("view",o.style,o.style),o.state){case"frozen":f=o.xSplit||0,h=o.ySplit||0,p=o.topLeftCell||a.getAddress(h+1,f+1).address,g=(o.xSplit&&o.ySplit?"bottomRight":o.xSplit&&"topRight")||"bottomLeft",u.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:p,activePane:g,state:"frozen"}),u.leafNode("selection",{pane:g,activeCell:o.activeCell,sqref:o.activeCell});break;case"split":o.activePane==="topLeft"&&(o.activePane=void 0),u.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:o.topLeftCell,activePane:o.activePane}),u.leafNode("selection",{pane:o.activePane,activeCell:o.activeCell,sqref:o.activeCell});break;case"normal":o.activeCell&&u.leafNode("selection",{activeCell:o.activeCell,sqref:o.activeCell})}u.closeNode()}parseOpen(u){switch(u.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(u.attributes.workbookViewId,10),rightToLeft:u.attributes.rightToLeft==="1",tabSelected:u.attributes.tabSelected==="1",showRuler:u.attributes.showRuler!=="0",showRowColHeaders:u.attributes.showRowColHeaders!=="0",showGridLines:u.attributes.showGridLines!=="0",zoomScale:parseInt(u.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(u.attributes.zoomScaleNormal||"100",10),style:u.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(u.attributes.xSplit||"0",10),ySplit:parseInt(u.attributes.ySplit||"0",10),topLeftCell:u.attributes.topLeftCell,activePane:u.attributes.activePane||"topLeft",state:u.attributes.state},!0;case"selection":{const o=u.attributes.pane||"topLeft";return this.selections[o]={pane:o,activeCell:u.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(u){let o,d;switch(u){case"sheetView":return this.sheetView&&this.pane?(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:c[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(o.activePane=this.pane.activePane),d=this.selections[this.pane.activePane],d&&d.activeCell&&(o.activeCell=d.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)):(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},d=this.selections.topLeft,d&&d.activeCell&&(o.activeCell=d.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"tablePart"}render(i,c){c&&i.leafNode(this.tag,{"r:id":c.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,s){const a=e("../../../utils/under-dash"),i=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),u=e("../../rel-type"),o=e("./merges"),d=e("../base-xform"),p=e("../list-xform"),f=e("./row-xform"),h=e("./col-xform"),g=e("./dimension-xform"),y=e("./hyperlink-xform"),m=e("./merge-cell-xform"),v=e("./data-validations-xform"),x=e("./sheet-properties-xform"),j=e("./sheet-format-properties-xform"),T=e("./sheet-view-xform"),E=e("./sheet-protection-xform"),B=e("./page-margins-xform"),W=e("./page-setup-xform"),I=e("./print-options-xform"),R=e("./auto-filter-xform"),$=e("./picture-xform"),K=e("./drawing-xform"),H=e("./table-part-xform"),M=e("./row-breaks-xform"),F=e("./header-footer-xform"),C=e("./cf/conditional-formattings-xform"),_=e("./ext-lst-xform"),S=(N,D)=>{if(!D||!D.length)return N;if(!N||!N.length)return D;const L={},V={};return N.forEach(Q=>{L[Q.ref]=Q,Q.rules.forEach(Y=>{const{x14Id:re}=Y;re&&(V[re]=Y)})}),D.forEach(Q=>{Q.rules.forEach(Y=>{const re=V[Y.x14Id];re?((O,Z)=>{Object.keys(Z).forEach(U=>{const z=O[U],G=Z[U];z===void 0&&G!==void 0&&(O[U]=G)})})(re,Y):L[Q.ref]?L[Q.ref].rules.push(Y):N.push({ref:Q.ref,rules:[Y]})})}),N};class k extends d{constructor(D){super();const{maxRows:L,maxCols:V,ignoreNodes:Q}=D||{};this.ignoreNodes=Q||[],this.map={sheetPr:new x,dimension:new g,sheetViews:new p({tag:"sheetViews",count:!1,childXform:new T}),sheetFormatPr:new j,cols:new p({tag:"cols",count:!1,childXform:new h}),sheetData:new p({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:V}),maxItems:L}),autoFilter:new R,mergeCells:new p({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new M,hyperlinks:new p({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new B,dataValidations:new v,pageSetup:new W,headerFooter:new F,printOptions:new I,picture:new $,drawing:new K,sheetProtection:new E,tableParts:new p({tag:"tableParts",count:!0,childXform:new H}),conditionalFormatting:new C,extLst:new _}}prepare(D,L){L.merges=new o,D.hyperlinks=L.hyperlinks=[],D.comments=L.comments=[],L.formulae={},L.siFormulae=0,this.map.cols.prepare(D.cols,L),this.map.sheetData.prepare(D.rows,L),this.map.conditionalFormatting.prepare(D.conditionalFormattings,L),D.mergeCells=L.merges.mergeCells;const V=D.rels=[];function Q(O){return"rId"+(O.length+1)}if(D.hyperlinks.forEach(O=>{const Z=Q(V);O.rId=Z,V.push({Id:Z,Type:u.Hyperlink,Target:O.target,TargetMode:"External"})}),D.comments.length>0){const O={Id:Q(V),Type:u.Comments,Target:`../comments${D.id}.xml`};V.push(O);const Z={Id:Q(V),Type:u.VmlDrawing,Target:`../drawings/vmlDrawing${D.id}.vml`};V.push(Z),D.comments.forEach(U=>{U.refAddress=i.decodeAddress(U.ref)}),L.commentRefs.push({commentName:"comments"+D.id,vmlDrawing:"vmlDrawing"+D.id})}const Y=[];let re;D.media.forEach(O=>{if(O.type==="background"){const Z=Q(V);re=L.media[O.imageId],V.push({Id:Z,Type:u.Image,Target:`../media/${re.name}.${re.extension}`}),D.background={rId:Z},D.image=L.media[O.imageId]}else if(O.type==="image"){let{drawing:Z}=D;re=L.media[O.imageId],Z||(Z=D.drawing={rId:Q(V),name:"drawing"+ ++L.drawingsCount,anchors:[],rels:[]},L.drawings.push(Z),V.push({Id:Z.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Z.name}.xml`}));let U=this.preImageId===O.imageId?Y[O.imageId]:Y[Z.rels.length];U||(U=Q(Z.rels),Y[Z.rels.length]=U,Z.rels.push({Id:U,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${re.name}.${re.extension}`}));const z={picture:{rId:U},range:O.range};if(O.hyperlinks&&O.hyperlinks.hyperlink){const G=Q(Z.rels);Y[Z.rels.length]=G,z.picture.hyperlinks={tooltip:O.hyperlinks.tooltip,rId:G},Z.rels.push({Id:G,Type:u.Hyperlink,Target:O.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=O.imageId,Z.anchors.push(z)}}),D.tables.forEach(O=>{const Z=Q(V);O.rId=Z,V.push({Id:Z,Type:u.Table,Target:"../tables/"+O.target}),O.columns.forEach(U=>{const{style:z}=U;z&&(U.dxfId=L.styles.addDxfStyle(z))})}),this.map.extLst.prepare(D,L)}render(D,L){D.openXml(c.StdDocAttributes),D.openNode("worksheet",k.WORKSHEET_ATTRIBUTES);const V=L.properties?{defaultRowHeight:L.properties.defaultRowHeight,dyDescent:L.properties.dyDescent,outlineLevelCol:L.properties.outlineLevelCol,outlineLevelRow:L.properties.outlineLevelRow}:void 0;L.properties&&L.properties.defaultColWidth&&(V.defaultColWidth=L.properties.defaultColWidth);const Q={outlineProperties:L.properties&&L.properties.outlineProperties,tabColor:L.properties&&L.properties.tabColor,pageSetup:L.pageSetup&&L.pageSetup.fitToPage?{fitToPage:L.pageSetup.fitToPage}:void 0},Y=L.pageSetup&&L.pageSetup.margins,re={showRowColHeaders:L.pageSetup&&L.pageSetup.showRowColHeaders,showGridLines:L.pageSetup&&L.pageSetup.showGridLines,horizontalCentered:L.pageSetup&&L.pageSetup.horizontalCentered,verticalCentered:L.pageSetup&&L.pageSetup.verticalCentered},O=L.sheetProtection;this.map.sheetPr.render(D,Q),this.map.dimension.render(D,L.dimensions),this.map.sheetViews.render(D,L.views),this.map.sheetFormatPr.render(D,V),this.map.cols.render(D,L.cols),this.map.sheetData.render(D,L.rows),this.map.sheetProtection.render(D,O),this.map.autoFilter.render(D,L.autoFilter),this.map.mergeCells.render(D,L.mergeCells),this.map.conditionalFormatting.render(D,L.conditionalFormattings),this.map.dataValidations.render(D,L.dataValidations),this.map.hyperlinks.render(D,L.hyperlinks),this.map.printOptions.render(D,re),this.map.pageMargins.render(D,Y),this.map.pageSetup.render(D,L.pageSetup),this.map.headerFooter.render(D,L.headerFooter),this.map.rowBreaks.render(D,L.rowBreaks),this.map.drawing.render(D,L.drawing),this.map.picture.render(D,L.background),this.map.tableParts.render(D,L.tables),this.map.extLst.render(D,L),L.rels&&L.rels.forEach(Z=>{Z.Type===u.VmlDrawing&&D.leafNode("legacyDrawing",{"r:id":Z.Id})}),D.closeNode()}parseOpen(D){return this.parser?(this.parser.parseOpen(D),!0):D.name==="worksheet"?(a.each(this.map,L=>{L.reset()}),!0):(this.map[D.name]&&!this.ignoreNodes.includes(D.name)&&(this.parser=this.map[D.name],this.parser.parseOpen(D)),!0)}parseText(D){this.parser&&this.parser.parseText(D)}parseClose(D){if(this.parser)return this.parser.parseClose(D)||(this.parser=void 0),!0;switch(D){case"worksheet":{const L=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(L.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(L.outlineProperties=this.map.sheetPr.model.outlineProperties);const V={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},Q=Object.assign(V,this.map.pageSetup.model,this.map.printOptions.model),Y=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:L,views:this.map.sheetViews.model,pageSetup:Q,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Y},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(D,L){const V=(D.relationships||[]).reduce((Y,re)=>{if(Y[re.Id]=re,re.Type===u.Comments&&(D.comments=L.comments[re.Target].comments),re.Type===u.VmlDrawing&&D.comments&&D.comments.length){const O=L.vmlDrawings[re.Target].comments;D.comments.forEach((Z,U)=>{Z.note=Object.assign({},Z.note,O[U])})}return Y},{});if(L.commentsMap=(D.comments||[]).reduce((Y,re)=>(re.ref&&(Y[re.ref]=re),Y),{}),L.hyperlinkMap=(D.hyperlinks||[]).reduce((Y,re)=>(re.rId&&(Y[re.address]=V[re.rId].Target),Y),{}),L.formulae={},D.rows=D.rows&&D.rows.filter(Boolean)||[],D.rows.forEach(Y=>{Y.cells=Y.cells&&Y.cells.filter(Boolean)||[]}),this.map.cols.reconcile(D.cols,L),this.map.sheetData.reconcile(D.rows,L),this.map.conditionalFormatting.reconcile(D.conditionalFormattings,L),D.media=[],D.drawing){const Y=V[D.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Y){const re=Y[1];L.drawings[re].anchors.forEach(O=>{if(O.medium){const Z={type:"image",imageId:O.medium.index,range:O.range,hyperlinks:O.picture.hyperlinks};D.media.push(Z)}})}}const Q=D.background&&V[D.background.rId];if(Q){const Y=Q.Target.split("/media/")[1],re=L.mediaIndex&&L.mediaIndex[Y];re!==void 0&&D.media.push({type:"background",imageId:re})}D.tables=(D.tables||[]).map(Y=>{const re=V[Y.rId];return L.tables[re.Target]}),delete D.relationships,delete D.hyperlinks,delete D.comments}}k.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=k},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{constructor(i){super(),this.tag=i.tag,this.attr=i.attr}render(i,c){c&&(i.openNode(this.tag),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this._format=i.format||function(c){try{return Number.isNaN(c.getTime())?"":c.toISOString()}catch{return""}},this._parse=i.parse||function(c){return new Date(c)}}render(i,c){c&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,this._format(c)):i.writeText(this._format(c)),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=this._parse(i.attributes[this.attr]):this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this.zero=i.zero}render(i,c){(c||this.zero)&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,c):i.writeText(c),i.closeNode())}parseOpen(i){return i.name===this.tag&&(this.attr?this.model=parseInt(i.attributes[this.attr],10):this.text=[],!0)}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs}render(i,c){c!==void 0&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,c):i.writeText(c),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=i.attributes[this.attr]:this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,s){const a=e("./base-xform"),i=e("../../utils/xml-stream");n.exports=class extends a{constructor(c){super(),this._model=c}render(c){if(!this._xml){const u=new i;(function o(d,p){d.openNode(p.tag,p.$),p.c&&p.c.forEach(f=>{o(d,f)}),p.t&&d.writeText(p.t),d.closeNode()})(u,this._model),this._xml=u.xml}c.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(c){switch(c){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,s){const a=e("./text-xform"),i=e("./rich-text-xform"),c=e("../base-xform");n.exports=class extends c{constructor(){super(),this.map={r:new i,t:new a}}get tag(){return"rPh"}render(u,o){if(u.openNode(this.tag,{sb:o.sb||0,eb:o.eb||0}),o&&o.hasOwnProperty("richText")&&o.richText){const{r:d}=this.map;o.richText.forEach(p=>{d.render(u,p)})}else o&&this.map.t.render(u,o.text);u.closeNode()}parseOpen(u){const{name:o}=u;return this.parser?(this.parser.parseOpen(u),!0):o===this.tag?(this.model={sb:parseInt(u.attributes.sb,10),eb:parseInt(u.attributes.eb,10)},!0):(this.parser=this.map[o],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let o=this.model.richText;o||(o=this.model.richText=[]),o.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,s){const a=e("./text-xform"),i=e("../style/font-xform"),c=e("../base-xform");class u extends c{constructor(d){super(),this.model=d}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new a)}get fontXform(){return this._fontXform||(this._fontXform=new i(u.FONT_OPTIONS))}render(d,p){p=p||this.model,d.openNode("r"),p.font&&this.fontXform.render(d,p.font),this.textXform.render(d,p.text),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(d),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){switch(d){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}}u.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=u},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,s){const a=e("./text-xform"),i=e("./rich-text-xform"),c=e("./phonetic-text-xform"),u=e("../base-xform");n.exports=class extends u{constructor(o){super(),this.model=o,this.map={r:new i,t:new a,rPh:new c}}get tag(){return"si"}render(o,d){o.openNode(this.tag),d&&d.hasOwnProperty("richText")&&d.richText?d.richText.length?d.richText.forEach(p=>{this.map.r.render(o,p)}):this.map.t.render(o,""):d!=null&&this.map.t.render(o,d),o.closeNode()}parseOpen(o){const{name:d}=o;return this.parser?(this.parser.parseOpen(o),!0):d===this.tag?(this.model={},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,s){const a=e("../../../utils/xml-stream"),i=e("../base-xform"),c=e("./shared-string-xform");n.exports=class extends i{constructor(u){super(),this.model=u||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new c)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(u){return this.model.values[u]}add(u){return u.richText?this.addRichText(u):this.addText(u)}addText(u){let o=this.hash[u];return o===void 0&&(o=this.hash[u]=this.model.values.length,this.model.values.push(u)),this.model.count++,o}addRichText(u){const o=this.sharedStringXform.toXml(u);let d=this.rich[o];return d===void 0&&(d=this.rich[o]=this.model.values.length,this.model.values.push(u)),this.model.count++,d}render(u,o){o=o||this._values,u.openXml(a.StdDocAttributes),u.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:o.count,uniqueCount:o.values.length});const d=this.sharedStringXform;o.values.forEach(p=>{d.render(u,p)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(u),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(u){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"t"}render(i,c){i.openNode("t"),/^\s|\n|\s$/.test(c)&&i.addAttribute("xml:space","preserve"),i.writeText(c),i.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(i,c)=>String.fromCharCode(parseInt(c,16)))}parseOpen(i){switch(i.name){case"t":return this._text=[],!0;default:return!1}}parseText(i){this._text.push(i)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,s){const a=e("../../../doc/enums"),i=e("../../../utils/utils"),c=e("../base-xform"),u={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((d,p)=>(d[p]=!0,d),{}),horizontal(d){return this.horizontalValues[d]?d:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((d,p)=>(d[p]=!0,d),{}),vertical(d){return d==="middle"?"center":this.verticalValues[d]?d:void 0},wrapText:d=>!!d||void 0,shrinkToFit:d=>!!d||void 0,textRotation(d){switch(d){case"vertical":return d;default:return(d=i.validInt(d))>=-90&&d<=90?d:void 0}},indent:d=>(d=i.validInt(d),Math.max(0,d)),readingOrder(d){switch(d){case"ltr":return a.ReadingOrder.LeftToRight;case"rtl":return a.ReadingOrder.RightToLeft;default:return}}},o={toXml(d){if(d=u.textRotation(d)){if(d==="vertical")return 255;const p=Math.round(d);if(p>=0&&p<=90)return p;if(p<0&&p>=-90)return 90-p}},toModel(d){const p=i.validInt(d);if(p!==void 0){if(p===255)return"vertical";if(p>=0&&p<=90)return p;if(p>90&&p<=180)return 90-p}}};n.exports=class extends c{get tag(){return"alignment"}render(d,p){d.addRollback(),d.openNode("alignment");let f=!1;function h(g,y){y&&(d.addAttribute(g,y),f=!0)}h("horizontal",u.horizontal(p.horizontal)),h("vertical",u.vertical(p.vertical)),h("wrapText",!!u.wrapText(p.wrapText)&&"1"),h("shrinkToFit",!!u.shrinkToFit(p.shrinkToFit)&&"1"),h("indent",u.indent(p.indent)),h("textRotation",o.toXml(p.textRotation)),h("readingOrder",u.readingOrder(p.readingOrder)),d.closeNode(),f?d.commit():d.rollback()}parseOpen(d){const p={};let f=!1;function h(g,y,m){g&&(p[y]=m,f=!0)}h(d.attributes.horizontal,"horizontal",d.attributes.horizontal),h(d.attributes.vertical,"vertical",d.attributes.vertical==="center"?"middle":d.attributes.vertical),h(d.attributes.wrapText,"wrapText",i.parseBoolean(d.attributes.wrapText)),h(d.attributes.shrinkToFit,"shrinkToFit",i.parseBoolean(d.attributes.shrinkToFit)),h(d.attributes.indent,"indent",parseInt(d.attributes.indent,10)),h(d.attributes.textRotation,"textRotation",o.toModel(d.attributes.textRotation)),h(d.attributes.readingOrder,"readingOrder",d.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?p:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,s){const a=e("../base-xform"),i=e("../../../utils/utils"),c=e("./color-xform");class u extends a{constructor(d){super(),this.name=d,this.map={color:new c}}get tag(){return this.name}render(d,p,f){const h=p&&p.color||f||this.defaultColor;d.openNode(this.name),p&&p.style&&(d.addAttribute("style",p.style),h&&this.map.color.render(d,h)),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.name:{const{style:p}=d.attributes;return this.model=p?{style:p}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(d===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(d){return u.validStyleValues[d]}}u.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((o,d)=>(o[d]=!0,o),{}),n.exports=class extends a{constructor(){super(),this.map={top:new u("top"),left:new u("left"),bottom:new u("bottom"),right:new u("right"),diagonal:new u("diagonal")}}render(o,d){const{color:p}=d;function f(h,g){h&&!h.color&&d.color&&(h={...h,color:d.color}),g.render(o,h,p)}o.openNode("border"),d.diagonal&&d.diagonal.style&&(d.diagonal.up&&o.addAttribute("diagonalUp","1"),d.diagonal.down&&o.addAttribute("diagonalDown","1")),f(d.left,this.map.left),f(d.right,this.map.right),f(d.top,this.map.top),f(d.bottom,this.map.bottom),f(d.diagonal,this.map.diagonal),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"border":return this.reset(),this.diagonalUp=i.parseBoolean(o.attributes.diagonalUp),this.diagonalDown=i.parseBoolean(o.attributes.diagonalDown),!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;if(o==="border"){const d=this.model={},p=function(f,h,g){h&&(g&&Object.assign(h,g),d[f]=h)};p("left",this.map.left.model),p("right",this.map.right.model),p("top",this.map.top.model),p("bottom",this.map.bottom.model),p("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{constructor(i){super(),this.name=i||"color"}get tag(){return this.name}render(i,c){return!!c&&(i.openNode(this.name),c.argb?i.addAttribute("rgb",c.argb):c.theme!==void 0?(i.addAttribute("theme",c.theme),c.tint!==void 0&&i.addAttribute("tint",c.tint)):c.indexed!==void 0?i.addAttribute("indexed",c.indexed):i.addAttribute("auto","1"),i.closeNode(),!0)}parseOpen(i){return i.name===this.name&&(i.attributes.rgb?this.model={argb:i.attributes.rgb}:i.attributes.theme?(this.model={theme:parseInt(i.attributes.theme,10)},i.attributes.tint&&(this.model.tint=parseFloat(i.attributes.tint))):i.attributes.indexed?this.model={indexed:parseInt(i.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,s){const a=e("../base-xform"),i=e("./alignment-xform"),c=e("./border-xform"),u=e("./fill-xform"),o=e("./font-xform"),d=e("./numfmt-xform"),p=e("./protection-xform");n.exports=class extends a{constructor(){super(),this.map={alignment:new i,border:new c,fill:new u,font:new o,numFmt:new d,protection:new p}}get tag(){return"dxf"}render(f,h){if(f.openNode(this.tag),h.font&&this.map.font.render(f,h.font),h.numFmt&&h.numFmtId){const g={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(f,g)}h.fill&&this.map.fill.render(f,h.fill),h.alignment&&this.map.alignment.render(f,h.alignment),h.border&&this.map.border.render(f,h.border),h.protection&&this.map.protection.render(f,h.protection),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,s){const a=e("../base-xform"),i=e("./color-xform");class c extends a{constructor(){super(),this.map={color:new i}}get tag(){return"stop"}render(f,h){f.openNode("stop"),f.addAttribute("position",h.position),this.map.color.render(f,h.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class u extends a{constructor(){super(),this.map={fgColor:new i("fgColor"),bgColor:new i("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,h){f.openNode("patternFill"),f.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(f,h.fgColor),h.bgColor&&this.map.bgColor.render(f,h.bgColor),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"patternFill":return this.model={type:"pattern",pattern:f.attributes.patternType},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class o extends a{constructor(){super(),this.map={stop:new c}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,h){switch(f.openNode("gradientFill"),h.gradient){case"angle":f.addAttribute("degree",h.degree);break;case"path":f.addAttribute("type","path"),h.center.left&&(f.addAttribute("left",h.center.left),h.center.right===void 0&&f.addAttribute("right",h.center.left)),h.center.right&&f.addAttribute("right",h.center.right),h.center.top&&(f.addAttribute("top",h.center.top),h.center.bottom===void 0&&f.addAttribute("bottom",h.center.top)),h.center.bottom&&f.addAttribute("bottom",h.center.bottom)}const g=this.map.stop;h.stops.forEach(y=>{g.render(f,y)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const h=this.model={stops:[]};return f.attributes.degree?(h.gradient="angle",h.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(h.gradient="path",h.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(h.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(h.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class d extends a{constructor(){super(),this.map={patternFill:new u,gradientFill:new o}}get tag(){return"fill"}render(f,h){switch(f.addRollback(),f.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(f,h);break;case"gradient":this.map.gradientFill.render(f,h);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"fill":return this.model={},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return d.validPatternValues[f]}}d.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((p,f)=>(p[f]=!0,p),{}),d.StopXform=c,d.PatternFillXform=u,d.GradientFillXform=o,n.exports=d},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,s){const a=e("./color-xform"),i=e("../simple/boolean-xform"),c=e("../simple/integer-xform"),u=e("../simple/string-xform"),o=e("./underline-xform"),d=e("../../../utils/under-dash"),p=e("../base-xform");class f extends p{constructor(g){super(),this.options=g||f.OPTIONS,this.map={b:{prop:"bold",xform:new i({tag:"b",attr:"val"})},i:{prop:"italic",xform:new i({tag:"i",attr:"val"})},u:{prop:"underline",xform:new o},charset:{prop:"charset",xform:new c({tag:"charset",attr:"val"})},color:{prop:"color",xform:new a},condense:{prop:"condense",xform:new i({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new i({tag:"extend",attr:"val"})},family:{prop:"family",xform:new c({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new i({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new u({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new u({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new i({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new i({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new c({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new u({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,y){const{map:m}=this;g.openNode(this.options.tagName),d.each(this.map,(v,x)=>{m[x].xform.render(g,y[v.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const y=this.map[g];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}f.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,s){const a=e("../../../utils/under-dash"),i=e("../../defaultnumformats"),c=e("../base-xform"),u=(function(){const d={};return a.each(i,(p,f)=>{p.f&&(d[p.f]=parseInt(f,10))}),d})();class o extends c{constructor(p,f){super(),this.id=p,this.formatCode=f}get tag(){return"numFmt"}render(p,f){p.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(p){switch(p.name){case"numFmt":return this.model={id:parseInt(p.attributes.numFmtId,10),formatCode:p.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}o.getDefaultFmtId=function(d){return u[d]},o.getDefaultFmtCode=function(d){return i[d]&&i[d].f},n.exports=o},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,s){const a=e("../base-xform"),i={boolean:(c,u)=>c===void 0?u:c};n.exports=class extends a{get tag(){return"protection"}render(c,u){c.addRollback(),c.openNode("protection");let o=!1;function d(p,f){f!==void 0&&(c.addAttribute(p,f),o=!0)}d("locked",i.boolean(u.locked,!0)?void 0:"0"),d("hidden",i.boolean(u.hidden,!1)?"1":void 0),c.closeNode(),o?c.commit():c.rollback()}parseOpen(c){const u={locked:c.attributes.locked!=="0",hidden:c.attributes.hidden==="1"},o=!u.locked||u.hidden;this.model=o?u:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,s){const a=e("../base-xform"),i=e("./alignment-xform"),c=e("./protection-xform");n.exports=class extends a{constructor(u){super(),this.xfId=!(!u||!u.xfId),this.map={alignment:new i,protection:new c}}get tag(){return"xf"}render(u,o){u.openNode("xf",{numFmtId:o.numFmtId||0,fontId:o.fontId||0,fillId:o.fillId||0,borderId:o.borderId||0}),this.xfId&&u.addAttribute("xfId",o.xfId||0),o.numFmtId&&u.addAttribute("applyNumberFormat","1"),o.fontId&&u.addAttribute("applyFont","1"),o.fillId&&u.addAttribute("applyFill","1"),o.borderId&&u.addAttribute("applyBorder","1"),o.alignment&&u.addAttribute("applyAlignment","1"),o.protection&&u.addAttribute("applyProtection","1"),o.alignment&&this.map.alignment.render(u,o.alignment),o.protection&&this.map.protection.render(u,o.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"xf":return this.model={numFmtId:parseInt(u.attributes.numFmtId,10),fontId:parseInt(u.attributes.fontId,10),fillId:parseInt(u.attributes.fillId,10),borderId:parseInt(u.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(u.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(u),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):u!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,s){const a=e("../../../doc/enums"),i=e("../../../utils/xml-stream"),c=e("../base-xform"),u=e("../static-xform"),o=e("../list-xform"),d=e("./font-xform"),p=e("./fill-xform"),f=e("./border-xform"),h=e("./numfmt-xform"),g=e("./style-xform"),y=e("./dxf-xform");class m extends c{constructor(x){super(),this.map={numFmts:new o({tag:"numFmts",count:!0,childXform:new h}),fonts:new o({tag:"fonts",count:!0,childXform:new d,$:{"x14ac:knownFonts":1}}),fills:new o({tag:"fills",count:!0,childXform:new p}),borders:new o({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new o({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new o({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new o({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new h,font:new d,fill:new p,border:new f,style:new g({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},x&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(x,j){j=j||this.model,x.openXml(i.StdDocAttributes),x.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(j.numFmts&&j.numFmts.length&&(x.openNode("numFmts",{count:j.numFmts.length}),j.numFmts.forEach(T=>{x.writeXml(T)}),x.closeNode()),j.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),x.openNode("fonts",{count:j.fonts.length,"x14ac:knownFonts":1}),j.fonts.forEach(T=>{x.writeXml(T)}),x.closeNode(),x.openNode("fills",{count:j.fills.length}),j.fills.forEach(T=>{x.writeXml(T)}),x.closeNode(),x.openNode("borders",{count:j.borders.length}),j.borders.forEach(T=>{x.writeXml(T)}),x.closeNode(),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),x.openNode("cellXfs",{count:j.styles.length}),j.styles.forEach(T=>{x.writeXml(T)}),x.closeNode()):(this.map.numFmts.render(x,j.numFmts),this.map.fonts.render(x,j.fonts),this.map.fills.render(x,j.fills),this.map.borders.render(x,j.borders),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(x,j.styles)),m.STATIC_XFORMS.cellStyles.render(x),this.map.dxfs.render(x,j.dxfs),m.STATIC_XFORMS.tableStyles.render(x),m.STATIC_XFORMS.extLst.render(x),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"styleSheet":{this.model={};const j=(T,E)=>{E.model&&E.model.length&&(this.model[T]=E.model)};if(j("numFmts",this.map.numFmts),j("fonts",this.map.fonts),j("fills",this.map.fills),j("borders",this.map.borders),j("styles",this.map.cellXfs),j("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const T=this.index.numFmt;this.model.numFmts.forEach(E=>{T[E.id]=E.formatCode})}return!1}default:return!0}}addStyleModel(x,j){if(!x)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(x))return this.weakMap.get(x);const T={};if(j=j||a.ValueType.Number,x.numFmt)T.numFmtId=this._addNumFmtStr(x.numFmt);else switch(j){case a.ValueType.Number:T.numFmtId=this._addNumFmtStr("General");break;case a.ValueType.Date:T.numFmtId=this._addNumFmtStr("mm-dd-yy")}x.font&&(T.fontId=this._addFont(x.font)),x.border&&(T.borderId=this._addBorder(x.border)),x.fill&&(T.fillId=this._addFill(x.fill)),x.alignment&&(T.alignment=x.alignment),x.protection&&(T.protection=x.protection);const E=this._addStyle(T);return this.weakMap&&this.weakMap.set(x,E),E}getStyleModel(x){const j=this.model.styles[x];if(!j)return null;let T=this.index.model[x];if(T)return T;if(T=this.index.model[x]={},j.numFmtId){const B=this.index.numFmt[j.numFmtId]||h.getDefaultFmtCode(j.numFmtId);B&&(T.numFmt=B)}function E(B,W,I){if(I||I===0){const R=W[I];R&&(T[B]=R)}}return E("font",this.model.fonts,j.fontId),E("border",this.model.borders,j.borderId),E("fill",this.model.fills,j.fillId),j.alignment&&(T.alignment=j.alignment),j.protection&&(T.protection=j.protection),T}addDxfStyle(x){return x.numFmt&&(x.numFmtId=this._addNumFmtStr(x.numFmt)),this.model.dxfs.push(x),this.model.dxfs.length-1}getDxfStyle(x){return this.model.dxfs[x]}_addStyle(x){const j=this.map.style.toXml(x);let T=this.index.style[j];return T===void 0&&(T=this.index.style[j]=this.model.styles.length,this.model.styles.push(j)),T}_addNumFmtStr(x){let j=h.getDefaultFmtId(x);if(j!==void 0||(j=this.index.numFmt[x],j!==void 0))return j;j=this.index.numFmt[x]=164+this.model.numFmts.length;const T=this.map.numFmt.toXml({id:j,formatCode:x});return this.model.numFmts.push(T),j}_addFont(x){const j=this.map.font.toXml(x);let T=this.index.font[j];return T===void 0&&(T=this.index.font[j]=this.model.fonts.length,this.model.fonts.push(j)),T}_addBorder(x){const j=this.map.border.toXml(x);let T=this.index.border[j];return T===void 0&&(T=this.index.border[j]=this.model.borders.length,this.model.borders.push(j)),T}_addFill(x){const j=this.map.fill.toXml(x);let T=this.index.fill[j];return T===void 0&&(T=this.index.fill[j]=this.model.fills.length,this.model.fills.push(j)),T}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new u({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new u({tag:"dxfs",$:{count:0}}),tableStyles:new u({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new u({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,x){switch(x){case a.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,s){const a=e("../base-xform");class i extends a{constructor(u){super(),this.model=u}get tag(){return"u"}render(u,o){if((o=o||this.model)===!0)u.leafNode("u");else{const d=i.Attributes[o];d&&u.leafNode("u",d)}}parseOpen(u){u.name==="u"&&(this.model=u.attributes.val||!0)}parseText(){}parseClose(){return!1}}i.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=i},{"../base-xform":32}],137:[function(e,n,s){const a=e("../base-xform"),i=e("./filter-column-xform");n.exports=class extends a{constructor(){super(),this.map={filterColumn:new i}}get tag(){return"autoFilter"}prepare(c){c.columns.forEach((u,o)=>{this.map.filterColumn.prepare(u,{index:o})})}render(c,u){return c.openNode(this.tag,{ref:u.autoFilterRef}),u.columns.forEach(o=>{this.map.filterColumn.render(c,o)}),c.closeNode(),!0}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.model={autoFilterRef:c.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"customFilter"}render(i,c){i.leafNode(this.tag,{val:c.val,operator:c.operator})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val,operator:i.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,s){const a=e("../base-xform"),i=e("../list-xform"),c=e("./custom-filter-xform"),u=e("./filter-xform");n.exports=class extends a{constructor(){super(),this.map={customFilters:new i({tag:"customFilters",count:!1,empty:!0,childXform:new c}),filters:new i({tag:"filters",count:!1,empty:!0,childXform:new u})}}get tag(){return"filterColumn"}prepare(o,d){o.colId=d.index.toString()}render(o,d){return d.customFilters?(o.openNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),this.map.customFilters.render(o,d.customFilters),o.closeNode(),!0):(o.leafNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),!0)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;const{attributes:d}=o;switch(o.name){case this.tag:return this.model={filterButton:d.hiddenButton==="0"},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"filter"}render(i,c){i.leafNode(this.tag,{val:c.val})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"tableColumn"}prepare(i,c){i.id=c.index+1}render(i,c){return i.leafNode(this.tag,{id:c.id.toString(),name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId}),!0}parseOpen(i){if(i.name===this.tag){const{attributes:c}=i;return this.model={name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"tableStyleInfo"}render(i,c){return i.leafNode(this.tag,{name:c.theme?c.theme:void 0,showFirstColumn:c.showFirstColumn?"1":"0",showLastColumn:c.showLastColumn?"1":"0",showRowStripes:c.showRowStripes?"1":"0",showColumnStripes:c.showColumnStripes?"1":"0"}),!0}parseOpen(i){if(i.name===this.tag){const{attributes:c}=i;return this.model={theme:c.name?c.name:null,showFirstColumn:c.showFirstColumn==="1",showLastColumn:c.showLastColumn==="1",showRowStripes:c.showRowStripes==="1",showColumnStripes:c.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,s){const a=e("../../../utils/xml-stream"),i=e("../base-xform"),c=e("../list-xform"),u=e("./auto-filter-xform"),o=e("./table-column-xform"),d=e("./table-style-info-xform");class p extends i{constructor(){super(),this.map={autoFilter:new u,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new o}),tableStyleInfo:new d}}prepare(h,g){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,g)}get tag(){return"table"}render(h,g){h.openXml(a.StdDocAttributes),h.openNode(this.tag,{...p.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(h,g),this.map.tableColumns.render(h,g.columns),this.map.tableStyleInfo.render(h,g.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:g,attributes:y}=h;switch(g){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,y)=>{this.model.columns[y].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,g){h.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=g.styles.getDxfStyle(y.dxfId))})}}p.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=p},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,s){(function(a,i){(function(){const c=e("fs"),u=e("jszip"),{PassThrough:o}=e("readable-stream"),d=e("../utils/zip-stream"),p=e("../utils/stream-buf"),f=e("../utils/utils"),h=e("../utils/xml-stream"),{bufferToString:g}=e("../utils/browser-buffer-decode"),y=e("./xform/style/styles-xform"),m=e("./xform/core/core-xform"),v=e("./xform/strings/shared-strings-xform"),x=e("./xform/core/relationships-xform"),j=e("./xform/core/content-types-xform"),T=e("./xform/core/app-xform"),E=e("./xform/book/workbook-xform"),B=e("./xform/sheet/worksheet-xform"),W=e("./xform/drawing/drawing-xform"),I=e("./xform/table/table-xform"),R=e("./xform/comment/comments-xform"),$=e("./xform/comment/vml-notes-xform"),K=e("./xml/theme1");class H{constructor(F){this.workbook=F}async readFile(F,C){if(!await f.fs.exists(F))throw new Error("File not found: "+F);const _=c.createReadStream(F);try{const S=await this.read(_,C);return _.close(),S}catch(S){throw _.close(),S}}parseRels(F){return new x().parseStream(F)}parseWorkbook(F){return new E().parseStream(F)}parseSharedStrings(F){return new v().parseStream(F)}reconcile(F,C){const _=new E,S=new B(C),k=new W,N=new I;_.reconcile(F);const D={media:F.media,mediaIndex:F.mediaIndex};Object.keys(F.drawings).forEach(Q=>{const Y=F.drawings[Q],re=F.drawingRels[Q];re&&(D.rels=re.reduce((O,Z)=>(O[Z.Id]=Z,O),{}),(Y.anchors||[]).forEach(O=>{const Z=O.picture&&O.picture.hyperlinks;Z&&D.rels[Z.rId]&&(Z.hyperlink=D.rels[Z.rId].Target,delete Z.rId)}),k.reconcile(Y,D))});const L={styles:F.styles};Object.values(F.tables).forEach(Q=>{N.reconcile(Q,L)});const V={styles:F.styles,sharedStrings:F.sharedStrings,media:F.media,mediaIndex:F.mediaIndex,date1904:F.properties&&F.properties.date1904,drawings:F.drawings,comments:F.comments,tables:F.tables,vmlDrawings:F.vmlDrawings};F.worksheets.forEach(Q=>{Q.relationships=F.worksheetRels[Q.sheetNo],S.reconcile(Q,V)}),delete F.worksheetHash,delete F.worksheetRels,delete F.globalRels,delete F.sharedStrings,delete F.workbookRels,delete F.sheetDefs,delete F.styles,delete F.mediaIndex,delete F.drawings,delete F.drawingRels,delete F.vmlDrawings}async _processWorksheetEntry(F,C,_,S,k){const N=new B(S),D=await N.parseStream(F);D.sheetNo=_,C.worksheetHash[k]=D,C.worksheets.push(D)}async _processCommentEntry(F,C,_){const S=new R,k=await S.parseStream(F);C.comments[`../${_}.xml`]=k}async _processTableEntry(F,C,_){const S=new I,k=await S.parseStream(F);C.tables[`../tables/${_}.xml`]=k}async _processWorksheetRelsEntry(F,C,_){const S=new x,k=await S.parseStream(F);C.worksheetRels[_]=k}async _processMediaEntry(F,C,_){const S=_.lastIndexOf(".");if(S>=1){const k=_.substr(S+1),N=_.substr(0,S);await new Promise((D,L)=>{const V=new p;V.on("finish",()=>{C.mediaIndex[_]=C.media.length,C.mediaIndex[N]=C.media.length;const Q={type:"image",name:N,extension:k,buffer:V.toBuffer()};C.media.push(Q),D()}),F.on("error",Q=>{L(Q)}),F.pipe(V)})}}async _processDrawingEntry(F,C,_){const S=new W,k=await S.parseStream(F);C.drawings[_]=k}async _processDrawingRelsEntry(F,C,_){const S=new x,k=await S.parseStream(F);C.drawingRels[_]=k}async _processVmlDrawingEntry(F,C,_){const S=new $,k=await S.parseStream(F);C.vmlDrawings[`../drawings/${_}.vml`]=k}async _processThemeEntry(F,C,_){await new Promise((S,k)=>{const N=new p;F.on("error",k),N.on("error",k),N.on("finish",()=>{C.themes[_]=N.read().toString(),S()}),F.pipe(N)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(F,C){!F[Symbol.asyncIterator]&&F.pipe&&(F=F.pipe(new o));const _=[];for await(const S of F)_.push(S);return this.load(i.concat(_),C)}async load(F,C){let _;_=C&&C.base64?i.from(F.toString(),"base64"):F;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},k=await u.loadAsync(_);for(const N of Object.values(k.files))if(!N.dir){let D,L=N.name;if(L[0]==="/"&&(L=L.substr(1)),L.match(/xl\/media\//)||L.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))D=new o,D.write(await N.async("nodebuffer"));else{let V;D=new o({writableObjectMode:!0,readableObjectMode:!0}),V=a.browser?g(await N.async("nodebuffer")):await N.async("string");const Q=16384;for(let Y=0;Y<V.length;Y+=Q)D.write(V.substring(Y,Y+Q))}switch(D.end(),L){case"_rels/.rels":S.globalRels=await this.parseRels(D);break;case"xl/workbook.xml":{const V=await this.parseWorkbook(D);S.sheets=V.sheets,S.definedNames=V.definedNames,S.views=V.views,S.properties=V.properties,S.calcProperties=V.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(D);break;case"xl/sharedStrings.xml":S.sharedStrings=new v,await S.sharedStrings.parseStream(D);break;case"xl/styles.xml":S.styles=new y,await S.styles.parseStream(D);break;case"docProps/app.xml":{const V=new T,Q=await V.parseStream(D);S.company=Q.company,S.manager=Q.manager;break}case"docProps/core.xml":{const V=new m,Q=await V.parseStream(D);Object.assign(S,Q);break}default:{let V=L.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(V){await this._processWorksheetEntry(D,S,V[1],C,L);break}if(V=L.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),V){await this._processWorksheetRelsEntry(D,S,V[1]);break}if(V=L.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),V){await this._processThemeEntry(D,S,V[1]);break}if(V=L.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),V){await this._processMediaEntry(D,S,V[1]);break}if(V=L.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),V){await this._processDrawingEntry(D,S,V[1]);break}if(V=L.match(/xl\/(comments\d+)[.]xml/),V){await this._processCommentEntry(D,S,V[1]);break}if(V=L.match(/xl\/tables\/(table\d+)[.]xml/),V){await this._processTableEntry(D,S,V[1]);break}if(V=L.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),V){await this._processDrawingRelsEntry(D,S,V[1]);break}if(V=L.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),V){await this._processVmlDrawingEntry(D,S,V[1]);break}}}}return this.reconcile(S,C),this.workbook.model=S,this.workbook}async addMedia(F,C){await Promise.all(C.media.map(async _=>{if(_.type==="image"){const S=`xl/media/${_.name}.${_.extension}`;if(_.filename){const k=await(function(N,D){return new Promise((L,V)=>{c.readFile(N,D,(Q,Y)=>{Q?V(Q):L(Y)})})})(_.filename);return F.append(k,{name:S})}if(_.buffer)return F.append(_.buffer,{name:S});if(_.base64){const k=_.base64,N=k.substring(k.indexOf(",")+1);return F.append(N,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(F,C){const _=new W,S=new x;C.worksheets.forEach(k=>{const{drawing:N}=k;if(N){_.prepare(N,{});let D=_.toXml(N);F.append(D,{name:`xl/drawings/${N.name}.xml`}),D=S.toXml(N.rels),F.append(D,{name:`xl/drawings/_rels/${N.name}.xml.rels`})}})}addTables(F,C){const _=new I;C.worksheets.forEach(S=>{const{tables:k}=S;k.forEach(N=>{_.prepare(N,{});const D=_.toXml(N);F.append(D,{name:"xl/tables/"+N.target})})})}async addContentTypes(F,C){const _=new j().toXml(C);F.append(_,{name:"[Content_Types].xml"})}async addApp(F,C){const _=new T().toXml(C);F.append(_,{name:"docProps/app.xml"})}async addCore(F,C){const _=new m;F.append(_.toXml(C),{name:"docProps/core.xml"})}async addThemes(F,C){const _=C.themes||{theme1:K};Object.keys(_).forEach(S=>{const k=_[S],N=`xl/theme/${S}.xml`;F.append(k,{name:N})})}async addOfficeRels(F){const C=new x().toXml([{Id:"rId1",Type:H.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:H.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:H.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);F.append(C,{name:"_rels/.rels"})}async addWorkbookRels(F,C){let _=1;const S=[{Id:"rId"+_++,Type:H.RelType.Styles,Target:"styles.xml"},{Id:"rId"+_++,Type:H.RelType.Theme,Target:"theme/theme1.xml"}];C.sharedStrings.count&&S.push({Id:"rId"+_++,Type:H.RelType.SharedStrings,Target:"sharedStrings.xml"}),C.worksheets.forEach(N=>{N.rId="rId"+_++,S.push({Id:N.rId,Type:H.RelType.Worksheet,Target:`worksheets/sheet${N.id}.xml`})});const k=new x().toXml(S);F.append(k,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(F,C){C.sharedStrings&&C.sharedStrings.count&&F.append(C.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(F,C){const{xml:_}=C.styles;_&&F.append(_,{name:"xl/styles.xml"})}async addWorkbook(F,C){const _=new E;F.append(_.toXml(C),{name:"xl/workbook.xml"})}async addWorksheets(F,C){const _=new B,S=new x,k=new R,N=new $;C.worksheets.forEach(D=>{let L=new h;_.render(L,D),F.append(L.xml,{name:`xl/worksheets/sheet${D.id}.xml`}),D.rels&&D.rels.length&&(L=new h,S.render(L,D.rels),F.append(L.xml,{name:`xl/worksheets/_rels/sheet${D.id}.xml.rels`})),D.comments.length>0&&(L=new h,k.render(L,D),F.append(L.xml,{name:`xl/comments${D.id}.xml`}),L=new h,N.render(L,D),F.append(L.xml,{name:`xl/drawings/vmlDrawing${D.id}.vml`}))})}_finalize(F){return new Promise((C,_)=>{F.on("finish",()=>{C(this)}),F.on("error",_),F.finalize()})}prepareModel(F,C){F.creator=F.creator||"ExcelJS",F.lastModifiedBy=F.lastModifiedBy||"ExcelJS",F.created=F.created||new Date,F.modified=F.modified||new Date,F.useSharedStrings=C.useSharedStrings===void 0||C.useSharedStrings,F.useStyles=C.useStyles===void 0||C.useStyles,F.sharedStrings=new v,F.styles=F.useStyles?new y(!0):new y.Mock;const _=new E,S=new B;_.prepare(F);const k={sharedStrings:F.sharedStrings,styles:F.styles,date1904:F.properties.date1904,drawingsCount:0,media:F.media};k.drawings=F.drawings=[],k.commentRefs=F.commentRefs=[];let N=0;F.tables=[],F.worksheets.forEach(D=>{D.tables.forEach(L=>{N++,L.target=`table${N}.xml`,L.id=N,F.tables.push(L)}),S.prepare(D,k)})}async write(F,C){C=C||{};const{model:_}=this.workbook,S=new d.ZipWriter(C.zip);return S.pipe(F),this.prepareModel(_,C),await this.addContentTypes(S,_),await this.addOfficeRels(S,_),await this.addWorkbookRels(S,_),await this.addWorksheets(S,_),await this.addSharedStrings(S,_),await this.addDrawings(S,_),await this.addTables(S,_),await Promise.all([this.addThemes(S,_),this.addStyles(S,_)]),await this.addMedia(S,_),await Promise.all([this.addApp(S,_),this.addCore(S,_)]),await this.addWorkbook(S,_),this._finalize(S)}writeFile(F,C){const _=c.createWriteStream(F);return new Promise((S,k)=>{_.on("finish",()=>{S()}),_.on("error",N=>{k(N)}),this.write(_,C).then(()=>{_.end()}).catch(N=>{k(N)})})}async writeBuffer(F){const C=new p;return await this.write(C,F),C.read()}}H.RelType=e("./rel-type"),n.exports=H}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,s){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,s){(function(a){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const i=e("stream"),c=e("./formatter");class u extends i.Transform{constructor(d){super({writableObjectMode:d.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=d,this.rowFormatter=new c.RowFormatter(d),this.hasWrittenBOM=!d.writeBOM}transform(d){return this.rowFormatter.rowTransform=d,this}_transform(d,p,f){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(d,(g,y)=>g?(h=!0,f(g)):(y&&y.forEach(m=>{this.push(a.from(m,"utf8"))}),h=!0,f()))}catch(g){if(h)throw g;f(g)}}_flush(d){this.rowFormatter.finish((p,f)=>p?d(p):(f&&f.forEach(h=>{this.push(a.from(h,"utf8"))}),d()))}}s.CsvFormatterStream=u}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var i;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,a||{}),a?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),a?.quote===!0?this.quote='"':a?.quote===!1&&(this.quote=""),typeof a?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((i=a.writeHeaders)===null||i===void 0||i),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,s){var a=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const i=a(e("lodash.isboolean")),c=a(e("lodash.isnil")),u=a(e("lodash.escaperegexp"));s.FieldFormatter=class{constructor(o){this._headers=null,this.formatterOptions=o,o.headers!==null&&(this.headers=o.headers),this.REPLACE_REGEXP=new RegExp(o.quote,"g");const d=`[${o.delimiter}${u.default(o.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(d)}set headers(o){this._headers=o}shouldQuote(o,d){const p=d?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return i.default(p)?p:Array.isArray(p)?p[o]:this._headers!==null&&p[this._headers[o]]}format(o,d,p){const f=(""+(c.default(o)?"":o)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&f.indexOf(h.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,h.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(d,p)?this.quoteField(f):f}quoteField(o){const{quote:d}=this.formatterOptions;return`${d}${o}${d}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,s){var a=function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const i=a(e("lodash.isfunction")),c=a(e("lodash.isequal")),u=e("./FieldFormatter"),o=e("../types");class d{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new u.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return d.isRowHashArray(f)?f.map(h=>h[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return o.isSyncTransform(f)?(h,g)=>{let y=null;try{y=f(h)}catch(m){return g(m)}return g(null,y)}:(h,g)=>{f(h,g)}}set rowTransform(f){if(!i.default(f))throw new TypeError("The transform should be a function");this._rowTransform=d.createTransform(f)}format(f,h){this.callTransformer(f,(g,y)=>{if(g)return h(g);if(!f)return h(null);const m=[];if(y){const{shouldFormatColumns:v,headers:x}=this.checkHeaders(y);if(this.shouldWriteHeaders&&x&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(x,!0)),this.hasWrittenHeaders=!0),v){const j=this.gatherColumns(y);m.push(this.formatColumns(j,!1))}}return h(null,m)})}finish(f){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),f(null,h)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=d.gatherHeaders(f);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!c.default(h,f),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?d.isRowHashArray(f)?this.headers.map((h,g)=>{const y=f[g];return y?y[1]:""}):d.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((h,g)=>f[g]):this.headers.map(h=>f[h])}callTransformer(f,h){return this._rowTransform?this._rowTransform(f,h):h(null,f)}formatColumns(f,h){const g=f.map((m,v)=>this.fieldFormatter.format(m,v,h)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,g].join(""):g}}s.RowFormatter=d},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var a=e("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var i=e("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return i.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,s){(function(a){(function(){var i=Object.create?function(v,x,j,T){T===void 0&&(T=j),Object.defineProperty(v,T,{enumerable:!0,get:function(){return x[j]}})}:function(v,x,j,T){T===void 0&&(T=j),v[T]=x[j]},c=Object.create?function(v,x){Object.defineProperty(v,"default",{enumerable:!0,value:x})}:function(v,x){v.default=x},u=function(v){if(v&&v.__esModule)return v;var x={};if(v!=null)for(var j in v)j!=="default"&&Object.prototype.hasOwnProperty.call(v,j)&&i(x,v,j);return c(x,v),x},o=function(v,x){for(var j in v)j==="default"||Object.prototype.hasOwnProperty.call(x,j)||i(x,v,j)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const d=e("util"),p=e("stream"),f=u(e("fs")),h=e("./FormatterOptions"),g=e("./CsvFormatterStream");o(e("./types"),s);var y=e("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var m=e("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),s.format=v=>new g.CsvFormatterStream(new h.FormatterOptions(v)),s.write=(v,x)=>{const j=s.format(x),T=d.promisify((E,B)=>{j.write(E,void 0,B)});return v.reduce((E,B)=>E.then(()=>T(B)),Promise.resolve()).then(()=>j.end()).catch(E=>{j.emit("error",E)}),j},s.writeToStream=(v,x,j)=>s.write(x,j).pipe(v),s.writeToBuffer=function(v){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const j=[],T=new p.Writable({write(E,B,W){j.push(E),W()}});return new Promise((E,B)=>{T.on("error",B).on("finish",()=>E(a.concat(j))),s.write(v,x).pipe(T)})},s.writeToString=(v,x)=>s.writeToBuffer(v,x).then(j=>j.toString()),s.writeToPath=(v,x,j)=>{const T=f.createWriteStream(v,{encoding:"utf8"});return s.write(x,j).pipe(T)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=a=>a.length===1},{}],153:[function(e,n,s){(function(a){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const i=e("string_decoder"),c=e("stream"),u=e("./transforms"),o=e("./parser");class d extends c.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new o.Parser(f),this.headerTransformer=new u.HeaderTransformer(f),this.decoder=new i.StringDecoder(f.encoding),this.rowTransformerValidator=new u.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,g=new Array(h>1?h-1:0),y=1;y<h;y++)g[y-1]=arguments[y];return super.emit(f,...g)}_transform(f,h,g){if(this.hasHitRowLimit)return g();const y=d.wrapDoneCallback(g);try{const{lines:m}=this,v=m+this.decoder.write(f),x=this.parse(v,!0);return this.processRows(x,y)}catch(m){return y(m)}}_flush(f){const h=d.wrapDoneCallback(f);if(this.hasHitRowLimit)return h();try{const g=this.lines+this.decoder.end(),y=this.parse(g,!1);return this.processRows(y,h)}catch(g){return h(g)}}parse(f,h){if(!f)return[];const{line:g,rows:y}=this.parser.parse(f,h);return this.lines=g,y}processRows(f,h){const g=f.length,y=m=>{const v=T=>T?h(T):m%100!=0?y(m+1):void a(()=>y(m+1));if(this.checkAndEmitHeaders(),m>=g||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const x=f[m];this.rowCount+=1,this.parsedRowCount+=1;const j=this.rowCount;return this.transformRow(x,(T,E)=>{if(T)return this.rowCount-=1,v(T);if(!E)return v(new Error("expected transform result"));if(E.isValid){if(E.row)return this.pushRow(E.row,v)}else this.emit("data-invalid",E.row,j,E.reason);return v()})};y(0)}transformRow(f,h){try{this.headerTransformer.transform(f,(g,y)=>g?h(g):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:f}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(g){h(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,h){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),h()}catch(g){h(g)}}static wrapDoneCallback(f){let h=!1;return function(g){if(g){if(h)throw g;return h=!0,void f(g)}for(var y=arguments.length,m=new Array(y>1?y-1:0),v=1;v<y;v++)m[v-1]=arguments[v];f(...m)}}}s.CsvParserStream=d}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,s){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const i=a(e("lodash.escaperegexp")),c=a(e("lodash.isnil"));s.ParserOptions=class{constructor(u){var o;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,u||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=i.default(this.delimiter),this.escapeChar=(o=this.escape)!==null&&o!==void 0?o:this.quote,this.supportsComments=!c.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,s){var a=Object.create?function(y,m,v,x){x===void 0&&(x=v),Object.defineProperty(y,x,{enumerable:!0,get:function(){return m[v]}})}:function(y,m,v,x){x===void 0&&(x=v),y[x]=m[v]},i=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},c=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&a(m,y,v);return i(m,y),m},u=function(y,m){for(var v in y)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||a(m,y,v)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const o=c(e("fs")),d=e("stream"),p=e("./ParserOptions"),f=e("./CsvParserStream");u(e("./types"),s);var h=e("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var g=e("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),s.parse=y=>new f.CsvParserStream(new p.ParserOptions(y)),s.parseStream=(y,m)=>y.pipe(new f.CsvParserStream(new p.ParserOptions(m))),s.parseFile=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.createReadStream(y).pipe(new f.CsvParserStream(new p.ParserOptions(m)))},s.parseString=(y,m)=>{const v=new d.Readable;return v.push(y),v.push(null),v.pipe(new f.CsvParserStream(new p.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const a=e("./Scanner"),i=e("./RowParser"),c=e("./Token");class u{constructor(d){this.parserOptions=d,this.rowParser=new i.RowParser(this.parserOptions)}static removeBOM(d){return d&&d.charCodeAt(0)===65279?d.slice(1):d}parse(d,p){const f=new a.Scanner({line:u.removeBOM(d),parserOptions:this.parserOptions,hasMoreData:p});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(d){const p=[];let f=!0;for(;f;)f=this.parseRow(d,p);return{line:d.line,rows:p}}parseWithComments(d){const{parserOptions:p}=this,f=[];for(let h=d.nextCharacterToken;h!==null;h=d.nextCharacterToken)if(c.Token.isTokenComment(h,p)){if(d.advancePastLine()===null)return{line:d.lineFromCursor,rows:f};if(!d.hasMoreCharacters)return{line:d.lineFromCursor,rows:f};d.truncateToCursor()}else if(!this.parseRow(d,f))break;return{line:d.line,rows:f}}parseRow(d,p){if(!d.nextNonSpaceToken)return!1;const f=this.rowParser.parse(d);return f!==null&&(this.parserOptions.ignoreEmpty&&i.RowParser.isEmptyRow(f)||p.push(f),!0)}}s.Parser=u},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const a=e("./column"),i=e("./Token");s.RowParser=class{constructor(c){this.parserOptions=c,this.columnParser=new a.ColumnParser(c)}static isEmptyRow(c){return c.join("").replace(/\s+/g,"")===""}parse(c){const{parserOptions:u}=this,{hasMoreData:o}=c,d=c,p=[];let f=this.getStartToken(d,p);for(;f;){if(i.Token.isTokenRowDelimiter(f))return d.advancePastToken(f),!d.hasMoreCharacters&&i.Token.isTokenCarriageReturn(f,u)&&o?null:(d.truncateToCursor(),p);if(!this.shouldSkipColumnParse(d,f,p)){const h=this.columnParser.parse(d);if(h===null)return null;p.push(h)}f=d.nextNonSpaceToken}return o?null:(d.truncateToCursor(),p)}getStartToken(c,u){const o=c.nextNonSpaceToken;return o!==null&&i.Token.isTokenDelimiter(o,this.parserOptions)?(u.push(""),c.nextNonSpaceToken):o}shouldSkipColumnParse(c,u,o){const{parserOptions:d}=this;if(i.Token.isTokenDelimiter(u,d)){c.advancePastToken(u);const p=c.nextCharacterToken;if(!c.hasMoreCharacters||p!==null&&i.Token.isTokenRowDelimiter(p)||p!==null&&i.Token.isTokenDelimiter(p,d))return o.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const a=e("./Token"),i=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(c){this.cursor=0,this.line=c.line,this.lineLength=this.line.length,this.parserOptions=c.parserOptions,this.hasMoreData=c.hasMoreData,this.cursor=c.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:c}=this,u=this.parserOptions.NEXT_TOKEN_REGEXP;if(c.search(u)===-1)return null;const o=u.exec(c);if(o==null)return null;const d=o[1],p=this.cursor+(o.index||0);return new a.Token({token:d,startCursor:p,endCursor:p+d.length-1})}get nextCharacterToken(){const{cursor:c,lineLength:u}=this;return u<=c?null:new a.Token({token:this.line[c],startCursor:c,endCursor:c})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const c=i.exec(this.lineFromCursor);return c?(this.cursor+=(c.index||0)+c[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(c){return this.cursor=c,this}advanceToToken(c){return this.cursor=c.startCursor,this}advancePastToken(c){return this.cursor=c.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(a){this.token=a.token,this.startCursor=a.startCursor,this.endCursor=a.endCursor}static isTokenRowDelimiter(a){const i=a.token;return i==="\r"||i===`
`||i===`\r
`}static isTokenCarriageReturn(a,i){return a.token===i.carriageReturn}static isTokenComment(a,i){return i.supportsComments&&!!a&&a.token===i.comment}static isTokenEscapeCharacter(a,i){return a.token===i.escapeChar}static isTokenQuote(a,i){return a.token===i.quote}static isTokenDelimiter(a,i){return a.token===i.delimiter}}},{}],160:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(a){a.trim?this.format=i=>i.trim():a.ltrim?this.format=i=>i.trimLeft():a.rtrim?this.format=i=>i.trimRight():this.format=i=>i}}},{}],161:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const a=e("./NonQuotedColumnParser"),i=e("./QuotedColumnParser"),c=e("../Token");s.ColumnParser=class{constructor(u){this.parserOptions=u,this.quotedColumnParser=new i.QuotedColumnParser(u),this.nonQuotedColumnParser=new a.NonQuotedColumnParser(u)}parse(u){const{nextNonSpaceToken:o}=u;return o!==null&&c.Token.isTokenQuote(o,this.parserOptions)?(u.advanceToToken(o),this.quotedColumnParser.parse(u)):this.nonQuotedColumnParser.parse(u)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const a=e("./ColumnFormatter"),i=e("../Token");s.NonQuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new a.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const{parserOptions:u}=this,o=[];let d=c.nextCharacterToken;for(;d&&!i.Token.isTokenDelimiter(d,u)&&!i.Token.isTokenRowDelimiter(d);d=c.nextCharacterToken)o.push(d.token),c.advancePastToken(d);return this.columnFormatter.format(o.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const a=e("./ColumnFormatter"),i=e("../Token");s.QuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new a.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const u=c.cursor,{foundClosingQuote:o,col:d}=this.gatherDataBetweenQuotes(c);if(!o){if(c.advanceTo(u),!c.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${c.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(c),d}gatherDataBetweenQuotes(c){const{parserOptions:u}=this;let o=!1,d=!1;const p=[];let f=c.nextCharacterToken;for(;!d&&f!==null;f=c.nextCharacterToken){const h=i.Token.isTokenQuote(f,u);if(!o&&h)o=!0;else if(o)if(i.Token.isTokenEscapeCharacter(f,u)){c.advancePastToken(f);const g=c.nextCharacterToken;g!==null&&(i.Token.isTokenQuote(g,u)||i.Token.isTokenEscapeCharacter(g,u))?(p.push(g.token),f=g):h?d=!0:p.push(f.token)}else h?d=!0:p.push(f.token);c.advancePastToken(f)}return{col:this.columnFormatter.format(p.join("")),foundClosingQuote:d}}checkForMalformedColumn(c){const{parserOptions:u}=this,{nextNonSpaceToken:o}=c;if(o){const d=i.Token.isTokenDelimiter(o,u),p=i.Token.isTokenRowDelimiter(o);if(!d&&!p){const f=c.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${u.escapedDelimiter}' OR new line got: '${o.token}'. at '${f}`)}c.advanceToToken(o)}else c.hasMoreData||c.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var a=e("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var i=e("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return i.NonQuotedColumnParser}});var c=e("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}});var u=e("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return u.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var a=e("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return a.Parser}});var i=e("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return i.RowParser}});var c=e("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return c.Scanner}});var u=e("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return u.Token}});var o=e("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,s){var a=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const i=a(e("lodash.isundefined")),c=a(e("lodash.isfunction")),u=a(e("lodash.uniq")),o=a(e("lodash.groupby"));s.HeaderTransformer=class{constructor(d){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=d,d.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(d.headers)?this.setHeaders(d.headers):c.default(d.headers)&&(this.headersTransform=d.headers)}transform(d,p){return this.shouldMapRow(d)?p(null,this.processRow(d)):p(null,{row:null,isValid:!0})}shouldMapRow(d){const{parserOptions:p}=this;if(!this.headersTransform&&p.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(d)){if(this.headersTransform)this.setHeaders(this.headersTransform(d));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(d)}return!1}return!0}processRow(d){if(!this.headers)return{row:d,isValid:!0};const{parserOptions:p}=this;if(!p.discardUnmappedColumns&&d.length>this.headersLength){if(!p.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${d.length}`);return{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}}return p.strictColumnHandling&&d.length<this.headersLength?{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}:{row:this.mapHeaders(d),isValid:!0}}mapHeaders(d){const p={},{headers:f,headersLength:h}=this;for(let g=0;g<h;g+=1){const y=f[g];if(!i.default(y)){const m=d[g];i.default(m)?p[y]="":p[y]=m}}return p}setHeaders(d){var p;const f=d.filter(h=>!!h);if(u.default(f).length!==f.length){const h=o.default(f),g=Object.keys(h).filter(y=>h[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=d,this.receivedHeaders=!0,this.headersLength=((p=this.headers)===null||p===void 0?void 0:p.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,s){var a=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const i=a(e("lodash.isfunction")),c=e("../types");class u{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(d){return c.isSyncTransform(d)?(p,f)=>{let h=null;try{h=d(p)}catch(g){return f(g)}return f(null,h)}:d}static createValidator(d){return c.isSyncValidate(d)?(p,f)=>{f(null,{row:p,isValid:d(p)})}:(p,f)=>{d(p,(h,g,y)=>h?f(h):f(null,g?{row:p,isValid:g,reason:y}:{row:p,isValid:!1,reason:y}))}}set rowTransform(d){if(!i.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}set rowValidator(d){if(!i.default(d))throw new TypeError("The validate should be a function");this._rowValidator=u.createValidator(d)}transformAndValidate(d,p){return this.callTransformer(d,(f,h)=>f?p(f):h?this.callValidator(h,(g,y)=>g?p(g):y&&!y.isValid?p(null,{row:h,isValid:!1,reason:y.reason}):p(null,{row:h,isValid:!0})):p(null,{row:null,isValid:!0}))}callTransformer(d,p){return this._rowTransform?this._rowTransform(d,p):p(null,d)}callValidator(d,p){return this._rowValidator?this._rowValidator(d,p):p(null,{row:d,isValid:!0})}}s.RowTransformerValidator=u},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var a=e("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var i=e("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return i.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=a=>a.length===1,s.isSyncValidate=a=>a.length===1},{}],170:[function(e,n,s){const a=s;a.bignum=e("bn.js"),a.define=e("./asn1/api").define,a.base=e("./asn1/base"),a.constants=e("./asn1/constants"),a.decoders=e("./asn1/decoders"),a.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,s){const a=e("./encoders"),i=e("./decoders"),c=e("inherits");function u(o,d){this.name=o,this.body=d,this.decoders={},this.encoders={}}s.define=function(o,d){return new u(o,d)},u.prototype._createNamed=function(o){const d=this.name;function p(f){this._initNamed(f,d)}return c(p,o),p.prototype._initNamed=function(f,h){o.call(this,f,h)},new p(this)},u.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(i[o])),this.decoders[o]},u.prototype.decode=function(o,d,p){return this._getDecoder(d).decode(o,p)},u.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(a[o])),this.encoders[o]},u.prototype.encode=function(o,d,p){return this._getEncoder(d).encode(o,p)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,s){const a=e("inherits"),i=e("../base/reporter").Reporter,c=e("safer-buffer").Buffer;function u(d,p){i.call(this,p),c.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function o(d,p){if(Array.isArray(d))this.length=0,this.value=d.map((function(f){return o.isEncoderBuffer(f)||(f=new o(f,p)),this.length+=f.length,f}),this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return p.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=c.byteLength(d);else{if(!c.isBuffer(d))return p.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}a(u,i),s.DecoderBuffer=u,u.isDecoderBuffer=function(d){return d instanceof u?!0:typeof d=="object"&&c.isBuffer(d.base)&&d.constructor.name==="DecoderBuffer"&&typeof d.offset=="number"&&typeof d.length=="number"&&typeof d.save=="function"&&typeof d.restore=="function"&&typeof d.isEmpty=="function"&&typeof d.readUInt8=="function"&&typeof d.skip=="function"&&typeof d.raw=="function"},u.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},u.prototype.restore=function(d){const p=new u(this.base);return p.offset=d.offset,p.length=this.offset,this.offset=d.offset,i.prototype.restore.call(this,d.reporter),p},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},u.prototype.skip=function(d,p){if(!(this.offset+d<=this.length))return this.error(p||"DecoderBuffer overrun");const f=new u(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+d,this.offset+=d,f},u.prototype.raw=function(d){return this.base.slice(d?d.offset:this.offset,this.length)},s.EncoderBuffer=o,o.isEncoderBuffer=function(d){return d instanceof o?!0:typeof d=="object"&&d.constructor.name==="EncoderBuffer"&&typeof d.length=="number"&&typeof d.join=="function"},o.prototype.join=function(d,p){return d||(d=c.alloc(this.length)),p||(p=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(f){f.join(d,p),p+=f.length})):(typeof this.value=="number"?d[p]=this.value:typeof this.value=="string"?d.write(this.value,p):c.isBuffer(this.value)&&this.value.copy(d,p),p+=this.length)),d}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,s){const a=s;a.Reporter=e("./reporter").Reporter,a.DecoderBuffer=e("./buffer").DecoderBuffer,a.EncoderBuffer=e("./buffer").EncoderBuffer,a.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,s){const a=e("../base/reporter").Reporter,i=e("../base/buffer").EncoderBuffer,c=e("../base/buffer").DecoderBuffer,u=e("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function p(h,g,y){const m={};this._baseState=m,m.name=y,m.enc=h,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=p;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){const h=this._baseState,g={};f.forEach((function(m){g[m]=h[m]}));const y=new this.constructor(g.parent);return y._baseState=g,y},p.prototype._wrap=function(){const h=this._baseState;d.forEach((function(g){this[g]=function(){const y=new this.constructor(this);return h.children.push(y),y[g].apply(y,arguments)}}),this)},p.prototype._init=function(h){const g=this._baseState;u(g.parent===null),h.call(this),g.children=g.children.filter((function(y){return y._baseState.parent===this}),this),u.equal(g.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(h){const g=this._baseState,y=h.filter((function(m){return m instanceof this.constructor}),this);h=h.filter((function(m){return!(m instanceof this.constructor)}),this),y.length!==0&&(u(g.children===null),g.children=y,y.forEach((function(m){m._baseState.parent=this}),this)),h.length!==0&&(u(g.args===null),g.args=h,g.reverseArgs=h.map((function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach((function(x){x==(0|x)&&(x|=0);const j=m[x];v[j]=x})),v})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(h){p.prototype[h]=function(){const g=this._baseState;throw new Error(h+" not implemented for encoding: "+g.enc)}})),o.forEach((function(h){p.prototype[h]=function(){const g=this._baseState,y=Array.prototype.slice.call(arguments);return u(g.tag===null),g.tag=h,this._useArgs(y),this}})),p.prototype.use=function(h){u(h);const g=this._baseState;return u(g.use===null),g.use=h,this},p.prototype.optional=function(){return this._baseState.optional=!0,this},p.prototype.def=function(h){const g=this._baseState;return u(g.default===null),g.default=h,g.optional=!0,this},p.prototype.explicit=function(h){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.explicit=h,this},p.prototype.implicit=function(h){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.implicit=h,this},p.prototype.obj=function(){const h=this._baseState,g=Array.prototype.slice.call(arguments);return h.obj=!0,g.length!==0&&this._useArgs(g),this},p.prototype.key=function(h){const g=this._baseState;return u(g.key===null),g.key=h,this},p.prototype.any=function(){return this._baseState.any=!0,this},p.prototype.choice=function(h){const g=this._baseState;return u(g.choice===null),g.choice=h,this._useArgs(Object.keys(h).map((function(y){return h[y]}))),this},p.prototype.contains=function(h){const g=this._baseState;return u(g.use===null),g.contains=h,this},p.prototype._decode=function(h,g){const y=this._baseState;if(y.parent===null)return h.wrapResult(y.children[0]._decode(h,g));let m,v=y.default,x=!0,j=null;if(y.key!==null&&(j=h.enterKey(y.key)),y.optional){let T=null;if(y.explicit!==null?T=y.explicit:y.implicit!==null?T=y.implicit:y.tag!==null&&(T=y.tag),T!==null||y.any){if(x=this._peekTag(h,T,y.any),h.isError(x))return x}else{const E=h.save();try{y.choice===null?this._decodeGeneric(y.tag,h,g):this._decodeChoice(h,g),x=!0}catch{x=!1}h.restore(E)}}if(y.obj&&x&&(m=h.enterObject()),x){if(y.explicit!==null){const E=this._decodeTag(h,y.explicit);if(h.isError(E))return E;h=E}const T=h.offset;if(y.use===null&&y.choice===null){let E;y.any&&(E=h.save());const B=this._decodeTag(h,y.implicit!==null?y.implicit:y.tag,y.any);if(h.isError(B))return B;y.any?v=h.raw(E):h=B}if(g&&g.track&&y.tag!==null&&g.track(h.path(),T,h.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(h.path(),h.offset,h.length,"content"),y.any||(v=y.choice===null?this._decodeGeneric(y.tag,h,g):this._decodeChoice(h,g)),h.isError(v))return v;if(y.any||y.choice!==null||y.children===null||y.children.forEach((function(E){E._decode(h,g)})),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const E=new c(v);v=this._getUse(y.contains,h._reporterState.obj)._decode(E,g)}}return y.obj&&x&&(v=h.leaveObject(m)),y.key===null||v===null&&x!==!0?j!==null&&h.exitKey(j):h.leaveKey(j,y.key,v),v},p.prototype._decodeGeneric=function(h,g,y){const m=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(g,h,m.args[0],y):/str$/.test(h)?this._decodeStr(g,h,y):h==="objid"&&m.args?this._decodeObjid(g,m.args[0],m.args[1],y):h==="objid"?this._decodeObjid(g,null,null,y):h==="gentime"||h==="utctime"?this._decodeTime(g,h,y):h==="null_"?this._decodeNull(g,y):h==="bool"?this._decodeBool(g,y):h==="objDesc"?this._decodeStr(g,h,y):h==="int"||h==="enum"?this._decodeInt(g,m.args&&m.args[0],y):m.use!==null?this._getUse(m.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+h)},p.prototype._getUse=function(h,g){const y=this._baseState;return y.useDecoder=this._use(h,g),u(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},p.prototype._decodeChoice=function(h,g){const y=this._baseState;let m=null,v=!1;return Object.keys(y.choice).some((function(x){const j=h.save(),T=y.choice[x];try{const E=T._decode(h,g);if(h.isError(E))return!1;m={type:x,value:E},v=!0}catch{return h.restore(j),!1}return!0}),this),v?m:h.error("Choice not matched")},p.prototype._createEncoderBuffer=function(h){return new i(h,this.reporter)},p.prototype._encode=function(h,g,y){const m=this._baseState;if(m.default!==null&&m.default===h)return;const v=this._encodeValue(h,g,y);return v===void 0||this._skipDefault(v,g,y)?void 0:v},p.prototype._encodeValue=function(h,g,y){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(h,g||new a);let v=null;if(this.reporter=g,m.optional&&h===void 0){if(m.default===null)return;h=m.default}let x=null,j=!1;if(m.any)v=this._createEncoderBuffer(h);else if(m.choice)v=this._encodeChoice(h,g);else if(m.contains)x=this._getUse(m.contains,y)._encode(h,g),j=!0;else if(m.children)x=m.children.map((function(T){if(T._baseState.tag==="null_")return T._encode(null,g,h);if(T._baseState.key===null)return g.error("Child should have a key");const E=g.enterKey(T._baseState.key);if(typeof h!="object")return g.error("Child expected, but input is not object");const B=T._encode(h[T._baseState.key],g,h);return g.leaveKey(E),B}),this).filter((function(T){return T})),x=this._createEncoderBuffer(x);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return g.error("Too many args for : "+m.tag);if(!Array.isArray(h))return g.error("seqof/setof, but data is not Array");const T=this.clone();T._baseState.implicit=null,x=this._createEncoderBuffer(h.map((function(E){const B=this._baseState;return this._getUse(B.args[0],h)._encode(E,g)}),T))}else m.use!==null?v=this._getUse(m.use,y)._encode(h,g):(x=this._encodePrimitive(m.tag,h),j=!0);if(!m.any&&m.choice===null){const T=m.implicit!==null?m.implicit:m.tag,E=m.implicit===null?"universal":"context";T===null?m.use===null&&g.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(T,j,E,x))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},p.prototype._encodeChoice=function(h,g){const y=this._baseState,m=y.choice[h.type];return m||u(!1,h.type+" not found in "+JSON.stringify(Object.keys(y.choice))),m._encode(h.value,g)},p.prototype._encodePrimitive=function(h,g){const y=this._baseState;if(/str$/.test(h))return this._encodeStr(g,h);if(h==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(h==="objid")return this._encodeObjid(g,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(g,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(h==="bool")return this._encodeBool(g);if(h==="objDesc")return this._encodeStr(g,h);throw new Error("Unsupported tag: "+h)},p.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},p.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,s){const a=e("inherits");function i(u){this._reporterState={obj:null,path:[],options:u||{},errors:[]}}function c(u,o){this.path=u,this.rethrow(o)}s.Reporter=i,i.prototype.isError=function(u){return u instanceof c},i.prototype.save=function(){const u=this._reporterState;return{obj:u.obj,pathLen:u.path.length}},i.prototype.restore=function(u){const o=this._reporterState;o.obj=u.obj,o.path=o.path.slice(0,u.pathLen)},i.prototype.enterKey=function(u){return this._reporterState.path.push(u)},i.prototype.exitKey=function(u){const o=this._reporterState;o.path=o.path.slice(0,u-1)},i.prototype.leaveKey=function(u,o,d){const p=this._reporterState;this.exitKey(u),p.obj!==null&&(p.obj[o]=d)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const u=this._reporterState,o=u.obj;return u.obj={},o},i.prototype.leaveObject=function(u){const o=this._reporterState,d=o.obj;return o.obj=u,d},i.prototype.error=function(u){let o;const d=this._reporterState,p=u instanceof c;if(o=p?u:new c(d.path.map((function(f){return"["+JSON.stringify(f)+"]"})).join(""),u.message||u,u.stack),!d.options.partial)throw o;return p||d.errors.push(o),o},i.prototype.wrapResult=function(u){const o=this._reporterState;return o.options.partial?{result:this.isError(u)?null:u,errors:o.errors}:u},a(c,Error),c.prototype.rethrow=function(u){if(this.message=u+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this}},{inherits:440}],176:[function(e,n,s){function a(i){const c={};return Object.keys(i).forEach((function(u){(0|u)==u&&(u|=0);const o=i[u];c[o]=u})),c}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=a(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=a(s.tag)},{}],177:[function(e,n,s){const a=s;a._reverse=function(i){const c={};return Object.keys(i).forEach((function(u){(0|u)==u&&(u|=0);const o=i[u];c[o]=u})),c},a.der=e("./der")},{"./der":176}],178:[function(e,n,s){const a=e("inherits"),i=e("bn.js"),c=e("../base/buffer").DecoderBuffer,u=e("../base/node"),o=e("../constants/der");function d(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new p,this.tree._init(g.body)}function p(g){u.call(this,"der",g)}function f(g,y){let m=g.readUInt8(y);if(g.isError(m))return m;const v=o.tagClass[m>>6],x=(32&m)==0;if((31&m)==31){let j=m;for(m=0;(128&j)==128;){if(j=g.readUInt8(y),g.isError(j))return j;m<<=7,m|=127&j}}else m&=31;return{cls:v,primitive:x,tag:m,tagStr:o.tag[m]}}function h(g,y,m){let v=g.readUInt8(m);if(g.isError(v))return v;if(!y&&v===128)return null;if((128&v)==0)return v;const x=127&v;if(x>4)return g.error("length octect is too long");v=0;for(let j=0;j<x;j++){v<<=8;const T=g.readUInt8(m);if(g.isError(T))return T;v|=T}return v}n.exports=d,d.prototype.decode=function(g,y){return c.isDecoderBuffer(g)||(g=new c(g,y)),this.tree._decode(g,y)},a(p,u),p.prototype._peekTag=function(g,y,m){if(g.isEmpty())return!1;const v=g.save(),x=f(g,'Failed to peek tag: "'+y+'"');return g.isError(x)?x:(g.restore(v),x.tag===y||x.tagStr===y||x.tagStr+"of"===y||m)},p.prototype._decodeTag=function(g,y,m){const v=f(g,'Failed to decode tag of "'+y+'"');if(g.isError(v))return v;let x=h(g,v.primitive,'Failed to get length of "'+y+'"');if(g.isError(x))return x;if(!m&&v.tag!==y&&v.tagStr!==y&&v.tagStr+"of"!==y)return g.error('Failed to match tag: "'+y+'"');if(v.primitive||x!==null)return g.skip(x,'Failed to match body of: "'+y+'"');const j=g.save(),T=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(T)?T:(x=g.offset-j.offset,g.restore(j),g.skip(x,'Failed to match body of: "'+y+'"'))},p.prototype._skipUntilEnd=function(g,y){for(;;){const m=f(g,y);if(g.isError(m))return m;const v=h(g,m.primitive,y);if(g.isError(v))return v;let x;if(x=m.primitive||v!==null?g.skip(v):this._skipUntilEnd(g,y),g.isError(x))return x;if(m.tagStr==="end")break}},p.prototype._decodeList=function(g,y,m,v){const x=[];for(;!g.isEmpty();){const j=this._peekTag(g,"end");if(g.isError(j))return j;const T=m.decode(g,"der",v);if(g.isError(T)&&j)break;x.push(T)}return x},p.prototype._decodeStr=function(g,y){if(y==="bitstr"){const m=g.readUInt8();return g.isError(m)?m:{unused:m,data:g.raw()}}if(y==="bmpstr"){const m=g.raw();if(m.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let v="";for(let x=0;x<m.length/2;x++)v+=String.fromCharCode(m.readUInt16BE(2*x));return v}if(y==="numstr"){const m=g.raw().toString("ascii");return this._isNumstr(m)?m:g.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return g.raw();if(y==="printstr"){const m=g.raw().toString("ascii");return this._isPrintstr(m)?m:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?g.raw().toString():g.error("Decoding of string type: "+y+" unsupported")},p.prototype._decodeObjid=function(g,y,m){let v;const x=[];let j=0,T=0;for(;!g.isEmpty();)T=g.readUInt8(),j<<=7,j|=127&T,(128&T)==0&&(x.push(j),j=0);128&T&&x.push(j);const E=x[0]/40|0,B=x[0]%40;if(v=m?x:[E,B].concat(x.slice(1)),y){let W=y[v.join(" ")];W===void 0&&(W=y[v.join(".")]),W!==void 0&&(v=W)}return v},p.prototype._decodeTime=function(g,y){const m=g.raw().toString();let v,x,j,T,E,B;if(y==="gentime")v=0|m.slice(0,4),x=0|m.slice(4,6),j=0|m.slice(6,8),T=0|m.slice(8,10),E=0|m.slice(10,12),B=0|m.slice(12,14);else{if(y!=="utctime")return g.error("Decoding "+y+" time is not supported yet");v=0|m.slice(0,2),x=0|m.slice(2,4),j=0|m.slice(4,6),T=0|m.slice(6,8),E=0|m.slice(8,10),B=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,x-1,j,T,E,B,0)},p.prototype._decodeNull=function(){return null},p.prototype._decodeBool=function(g){const y=g.readUInt8();return g.isError(y)?y:y!==0},p.prototype._decodeInt=function(g,y){const m=g.raw();let v=new i(m);return y&&(v=y[v.toString(10)]||v),v},p.prototype._use=function(g,y){return typeof g=="function"&&(g=g(y)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,s){const a=s;a.der=e("./der"),a.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,s){const a=e("inherits"),i=e("safer-buffer").Buffer,c=e("./der");function u(o){c.call(this,o),this.enc="pem"}a(u,c),n.exports=u,u.prototype.decode=function(o,d){const p=o.toString().split(/[\r\n]+/g),f=d.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,y=-1;for(let x=0;x<p.length;x++){const j=p[x].match(h);if(j!==null&&j[2]===f){if(g!==-1){if(j[1]!=="END")break;y=x;break}if(j[1]!=="BEGIN")break;g=x}}if(g===-1||y===-1)throw new Error("PEM section not found for: "+f);const m=p.slice(g+1,y).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=i.from(m,"base64");return c.prototype.decode.call(this,v,d)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,s){const a=e("inherits"),i=e("safer-buffer").Buffer,c=e("../base/node"),u=e("../constants/der");function o(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new d,this.tree._init(f.body)}function d(f){c.call(this,"der",f)}function p(f){return f<10?"0"+f:f}n.exports=o,o.prototype.encode=function(f,h){return this.tree._encode(f,h).join()},a(d,c),d.prototype._encodeComposite=function(f,h,g,y){const m=(function(j,T,E,B){let W;if(j==="seqof"?j="seq":j==="setof"&&(j="set"),u.tagByName.hasOwnProperty(j))W=u.tagByName[j];else{if(typeof j!="number"||(0|j)!==j)return B.error("Unknown tag: "+j);W=j}return W>=31?B.error("Multi-octet tag encoding unsupported"):(T||(W|=32),W|=u.tagClassByName[E||"universal"]<<6,W)})(f,h,g,this.reporter);if(y.length<128){const j=i.alloc(2);return j[0]=m,j[1]=y.length,this._createEncoderBuffer([j,y])}let v=1;for(let j=y.length;j>=256;j>>=8)v++;const x=i.alloc(2+v);x[0]=m,x[1]=128|v;for(let j=1+v,T=y.length;T>0;j--,T>>=8)x[j]=255&T;return this._createEncoderBuffer([x,y])},d.prototype._encodeStr=function(f,h){if(h==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(h==="bmpstr"){const g=i.alloc(2*f.length);for(let y=0;y<f.length;y++)g.writeUInt16BE(f.charCodeAt(y),2*y);return this._createEncoderBuffer(g)}return h==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+h+" unsupported")},d.prototype._encodeObjid=function(f,h,g){if(typeof f=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=h[f].split(/[\s.]+/g);for(let x=0;x<f.length;x++)f[x]|=0}else if(Array.isArray(f)){f=f.slice();for(let x=0;x<f.length;x++)f[x]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!g){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let y=0;for(let x=0;x<f.length;x++){let j=f[x];for(y++;j>=128;j>>=7)y++}const m=i.alloc(y);let v=m.length-1;for(let x=f.length-1;x>=0;x--){let j=f[x];for(m[v--]=127&j;(j>>=7)>0;)m[v--]=128|127&j}return this._createEncoderBuffer(m)},d.prototype._encodeTime=function(f,h){let g;const y=new Date(f);return h==="gentime"?g=[p(y.getUTCFullYear()),p(y.getUTCMonth()+1),p(y.getUTCDate()),p(y.getUTCHours()),p(y.getUTCMinutes()),p(y.getUTCSeconds()),"Z"].join(""):h==="utctime"?g=[p(y.getUTCFullYear()%100),p(y.getUTCMonth()+1),p(y.getUTCDate()),p(y.getUTCHours()),p(y.getUTCMinutes()),p(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(g,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(f,h){if(typeof f=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=h[f]}if(typeof f!="number"&&!i.isBuffer(f)){const m=f.toArray();!f.sign&&128&m[0]&&m.unshift(0),f=i.from(m)}if(i.isBuffer(f)){let m=f.length;f.length===0&&m++;const v=i.alloc(m);return f.copy(v),f.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let g=1;for(let m=f;m>=256;m>>=8)g++;const y=new Array(g);for(let m=y.length-1;m>=0;m--)y[m]=255&f,f>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(i.from(y))},d.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},d.prototype._use=function(f,h){return typeof f=="function"&&(f=f(h)),f._getEncoder("der").tree},d.prototype._skipDefault=function(f,h,g){const y=this._baseState;let m;if(y.default===null)return!1;const v=f.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,h,g).join()),v.length!==y.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==y.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,s){const a=s;a.der=e("./der"),a.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,s){const a=e("inherits"),i=e("./der");function c(u){i.call(this,u),this.enc="pem"}a(c,i),n.exports=c,c.prototype.encode=function(u,o){const d=i.prototype.encode.call(this,u).toString("base64"),p=["-----BEGIN "+o.label+"-----"];for(let f=0;f<d.length;f+=64)p.push(d.slice(f,f+64));return p.push("-----END "+o.label+"-----"),p.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,s){(function(a,i){function c(M,F){if(!M)throw new Error(F||"Assertion failed")}function u(M,F){M.super_=F;var C=function(){};C.prototype=F.prototype,M.prototype=new C,M.prototype.constructor=M}function o(M,F,C){if(o.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&(F!=="le"&&F!=="be"||(C=F,F=10),this._init(M||0,F||10,C||"be"))}var d;typeof a=="object"?a.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(M,F){var C=M.charCodeAt(F);return C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:C-48&15}function f(M,F,C){var _=p(M,C);return C-1>=F&&(_|=p(M,C-1)<<4),_}function h(M,F,C,_){for(var S=0,k=Math.min(M.length,C),N=F;N<k;N++){var D=M.charCodeAt(N)-48;S*=_,S+=D>=49?D-49+10:D>=17?D-17+10:D}return S}o.isBN=function(M){return M instanceof o||M!==null&&typeof M=="object"&&M.constructor.wordSize===o.wordSize&&Array.isArray(M.words)},o.max=function(M,F){return M.cmp(F)>0?M:F},o.min=function(M,F){return M.cmp(F)<0?M:F},o.prototype._init=function(M,F,C){if(typeof M=="number")return this._initNumber(M,F,C);if(typeof M=="object")return this._initArray(M,F,C);F==="hex"&&(F=16),c(F===(0|F)&&F>=2&&F<=36);var _=0;(M=M.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<M.length&&(F===16?this._parseHex(M,_,C):(this._parseBase(M,F,_),C==="le"&&this._initArray(this.toArray(),F,C)))},o.prototype._initNumber=function(M,F,C){M<0&&(this.negative=1,M=-M),M<67108864?(this.words=[67108863&M],this.length=1):M<4503599627370496?(this.words=[67108863&M,M/67108864&67108863],this.length=2):(c(M<9007199254740992),this.words=[67108863&M,M/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),F,C)},o.prototype._initArray=function(M,F,C){if(c(typeof M.length=="number"),M.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(M.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,k,N=0;if(C==="be")for(_=M.length-1,S=0;_>=0;_-=3)k=M[_]|M[_-1]<<8|M[_-2]<<16,this.words[S]|=k<<N&67108863,this.words[S+1]=k>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if(C==="le")for(_=0,S=0;_<M.length;_+=3)k=M[_]|M[_+1]<<8|M[_+2]<<16,this.words[S]|=k<<N&67108863,this.words[S+1]=k>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},o.prototype._parseHex=function(M,F,C){this.length=Math.ceil((M.length-F)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,k=0,N=0;if(C==="be")for(_=M.length-1;_>=F;_-=2)S=f(M,F,_)<<k,this.words[N]|=67108863&S,k>=18?(k-=18,N+=1,this.words[N]|=S>>>26):k+=8;else for(_=(M.length-F)%2==0?F+1:F;_<M.length;_+=2)S=f(M,F,_)<<k,this.words[N]|=67108863&S,k>=18?(k-=18,N+=1,this.words[N]|=S>>>26):k+=8;this.strip()},o.prototype._parseBase=function(M,F,C){this.words=[0],this.length=1;for(var _=0,S=1;S<=67108863;S*=F)_++;_--,S=S/F|0;for(var k=M.length-C,N=k%_,D=Math.min(k,k-N)+C,L=0,V=C;V<D;V+=_)L=h(M,V,V+_,F),this.imuln(S),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L);if(N!==0){var Q=1;for(L=h(M,V,M.length,F),V=0;V<N;V++)Q*=F;this.imuln(Q),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L)}this.strip()},o.prototype.copy=function(M){M.words=new Array(this.length);for(var F=0;F<this.length;F++)M.words[F]=this.words[F];M.length=this.length,M.negative=this.negative,M.red=this.red},o.prototype.clone=function(){var M=new o(null);return this.copy(M),M},o.prototype._expand=function(M){for(;this.length<M;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(M,F,C){C.negative=F.negative^M.negative;var _=M.length+F.length|0;C.length=_,_=_-1|0;var S=0|M.words[0],k=0|F.words[0],N=S*k,D=67108863&N,L=N/67108864|0;C.words[0]=D;for(var V=1;V<_;V++){for(var Q=L>>>26,Y=67108863&L,re=Math.min(V,F.length-1),O=Math.max(0,V-M.length+1);O<=re;O++){var Z=V-O|0;Q+=(N=(S=0|M.words[Z])*(k=0|F.words[O])+Y)/67108864|0,Y=67108863&N}C.words[V]=0|Y,L=0|Q}return L!==0?C.words[V]=0|L:C.length--,C.strip()}o.prototype.toString=function(M,F){var C;if(F=0|F||1,(M=M||10)===16||M==="hex"){C="";for(var _=0,S=0,k=0;k<this.length;k++){var N=this.words[k],D=(16777215&(N<<_|S)).toString(16);C=(S=N>>>24-_&16777215)!==0||k!==this.length-1?g[6-D.length]+D+C:D+C,(_+=2)>=26&&(_-=26,k--)}for(S!==0&&(C=S.toString(16)+C);C.length%F!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(M===(0|M)&&M>=2&&M<=36){var L=y[M],V=m[M];C="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var Y=Q.modn(V).toString(M);C=(Q=Q.idivn(V)).isZero()?Y+C:g[L-Y.length]+Y+C}for(this.isZero()&&(C="0"+C);C.length%F!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}c(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var M=this.words[0];return this.length===2?M+=67108864*this.words[1]:this.length===3&&this.words[2]===1?M+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-M:M},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(M,F){return c(d!==void 0),this.toArrayLike(d,M,F)},o.prototype.toArray=function(M,F){return this.toArrayLike(Array,M,F)},o.prototype.toArrayLike=function(M,F,C){var _=this.byteLength(),S=C||Math.max(1,_);c(_<=S,"byte array longer than desired length"),c(S>0,"Requested array length <= 0"),this.strip();var k,N,D=F==="le",L=new M(S),V=this.clone();if(D){for(N=0;!V.isZero();N++)k=V.andln(255),V.iushrn(8),L[N]=k;for(;N<S;N++)L[N]=0}else{for(N=0;N<S-_;N++)L[N]=0;for(N=0;!V.isZero();N++)k=V.andln(255),V.iushrn(8),L[S-N-1]=k}return L},Math.clz32?o.prototype._countBits=function(M){return 32-Math.clz32(M)}:o.prototype._countBits=function(M){var F=M,C=0;return F>=4096&&(C+=13,F>>>=13),F>=64&&(C+=7,F>>>=7),F>=8&&(C+=4,F>>>=4),F>=2&&(C+=2,F>>>=2),C+F},o.prototype._zeroBits=function(M){if(M===0)return 26;var F=M,C=0;return(8191&F)==0&&(C+=13,F>>>=13),(127&F)==0&&(C+=7,F>>>=7),(15&F)==0&&(C+=4,F>>>=4),(3&F)==0&&(C+=2,F>>>=2),(1&F)==0&&C++,C},o.prototype.bitLength=function(){var M=this.words[this.length-1],F=this._countBits(M);return 26*(this.length-1)+F},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M=0,F=0;F<this.length;F++){var C=this._zeroBits(this.words[F]);if(M+=C,C!==26)break}return M},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(M){return this.negative!==0?this.abs().inotn(M).iaddn(1):this.clone()},o.prototype.fromTwos=function(M){return this.testn(M-1)?this.notn(M).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(M){for(;this.length<M.length;)this.words[this.length++]=0;for(var F=0;F<M.length;F++)this.words[F]=this.words[F]|M.words[F];return this.strip()},o.prototype.ior=function(M){return c((this.negative|M.negative)==0),this.iuor(M)},o.prototype.or=function(M){return this.length>M.length?this.clone().ior(M):M.clone().ior(this)},o.prototype.uor=function(M){return this.length>M.length?this.clone().iuor(M):M.clone().iuor(this)},o.prototype.iuand=function(M){var F;F=this.length>M.length?M:this;for(var C=0;C<F.length;C++)this.words[C]=this.words[C]&M.words[C];return this.length=F.length,this.strip()},o.prototype.iand=function(M){return c((this.negative|M.negative)==0),this.iuand(M)},o.prototype.and=function(M){return this.length>M.length?this.clone().iand(M):M.clone().iand(this)},o.prototype.uand=function(M){return this.length>M.length?this.clone().iuand(M):M.clone().iuand(this)},o.prototype.iuxor=function(M){var F,C;this.length>M.length?(F=this,C=M):(F=M,C=this);for(var _=0;_<C.length;_++)this.words[_]=F.words[_]^C.words[_];if(this!==F)for(;_<F.length;_++)this.words[_]=F.words[_];return this.length=F.length,this.strip()},o.prototype.ixor=function(M){return c((this.negative|M.negative)==0),this.iuxor(M)},o.prototype.xor=function(M){return this.length>M.length?this.clone().ixor(M):M.clone().ixor(this)},o.prototype.uxor=function(M){return this.length>M.length?this.clone().iuxor(M):M.clone().iuxor(this)},o.prototype.inotn=function(M){c(typeof M=="number"&&M>=0);var F=0|Math.ceil(M/26),C=M%26;this._expand(F),C>0&&F--;for(var _=0;_<F;_++)this.words[_]=67108863&~this.words[_];return C>0&&(this.words[_]=~this.words[_]&67108863>>26-C),this.strip()},o.prototype.notn=function(M){return this.clone().inotn(M)},o.prototype.setn=function(M,F){c(typeof M=="number"&&M>=0);var C=M/26|0,_=M%26;return this._expand(C+1),this.words[C]=F?this.words[C]|1<<_:this.words[C]&~(1<<_),this.strip()},o.prototype.iadd=function(M){var F,C,_;if(this.negative!==0&&M.negative===0)return this.negative=0,F=this.isub(M),this.negative^=1,this._normSign();if(this.negative===0&&M.negative!==0)return M.negative=0,F=this.isub(M),M.negative=1,F._normSign();this.length>M.length?(C=this,_=M):(C=M,_=this);for(var S=0,k=0;k<_.length;k++)F=(0|C.words[k])+(0|_.words[k])+S,this.words[k]=67108863&F,S=F>>>26;for(;S!==0&&k<C.length;k++)F=(0|C.words[k])+S,this.words[k]=67108863&F,S=F>>>26;if(this.length=C.length,S!==0)this.words[this.length]=S,this.length++;else if(C!==this)for(;k<C.length;k++)this.words[k]=C.words[k];return this},o.prototype.add=function(M){var F;return M.negative!==0&&this.negative===0?(M.negative=0,F=this.sub(M),M.negative^=1,F):M.negative===0&&this.negative!==0?(this.negative=0,F=M.sub(this),this.negative=1,F):this.length>M.length?this.clone().iadd(M):M.clone().iadd(this)},o.prototype.isub=function(M){if(M.negative!==0){M.negative=0;var F=this.iadd(M);return M.negative=1,F._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(M),this.negative=1,this._normSign();var C,_,S=this.cmp(M);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(C=this,_=M):(C=M,_=this);for(var k=0,N=0;N<_.length;N++)k=(F=(0|C.words[N])-(0|_.words[N])+k)>>26,this.words[N]=67108863&F;for(;k!==0&&N<C.length;N++)k=(F=(0|C.words[N])+k)>>26,this.words[N]=67108863&F;if(k===0&&N<C.length&&C!==this)for(;N<C.length;N++)this.words[N]=C.words[N];return this.length=Math.max(this.length,N),C!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(M){return this.clone().isub(M)};var x=function(M,F,C){var _,S,k,N=M.words,D=F.words,L=C.words,V=0,Q=0|N[0],Y=8191&Q,re=Q>>>13,O=0|N[1],Z=8191&O,U=O>>>13,z=0|N[2],G=8191&z,ae=z>>>13,pe=0|N[3],de=8191&pe,ge=pe>>>13,te=0|N[4],oe=8191&te,ne=te>>>13,he=0|N[5],ce=8191&he,ie=he>>>13,ee=0|N[6],se=8191&ee,le=ee>>>13,ve=0|N[7],_e=8191&ve,Te=ve>>>13,Fe=0|N[8],Be=8191&Fe,ze=Fe>>>13,Je=0|N[9],ft=8191&Je,bt=Je>>>13,rt=0|D[0],we=8191&rt,me=rt>>>13,Ke=0|D[1],He=8191&Ke,It=Ke>>>13,Zt=0|D[2],kt=8191&Zt,Jt=Zt>>>13,rr=0|D[3],Mt=8191&rr,Ft=rr>>>13,_r=0|D[4],Vt=8191&_r,kr=_r>>>13,Bt=0|D[5],er=8191&Bt,xr=Bt>>>13,nr=0|D[6],Kt=8191&nr,Se=nr>>>13,Re=0|D[7],We=8191&Re,ct=Re>>>13,Ut=0|D[8],dt=8191&Ut,Gt=Ut>>>13,Wt=0|D[9],xe=8191&Wt,Ue=Wt>>>13;C.negative=M.negative^F.negative,C.length=19;var at=(V+(_=Math.imul(Y,we))|0)+((8191&(S=(S=Math.imul(Y,me))+Math.imul(re,we)|0))<<13)|0;V=((k=Math.imul(re,me))+(S>>>13)|0)+(at>>>26)|0,at&=67108863,_=Math.imul(Z,we),S=(S=Math.imul(Z,me))+Math.imul(U,we)|0,k=Math.imul(U,me);var mt=(V+(_=_+Math.imul(Y,He)|0)|0)+((8191&(S=(S=S+Math.imul(Y,It)|0)+Math.imul(re,He)|0))<<13)|0;V=((k=k+Math.imul(re,It)|0)+(S>>>13)|0)+(mt>>>26)|0,mt&=67108863,_=Math.imul(G,we),S=(S=Math.imul(G,me))+Math.imul(ae,we)|0,k=Math.imul(ae,me),_=_+Math.imul(Z,He)|0,S=(S=S+Math.imul(Z,It)|0)+Math.imul(U,He)|0,k=k+Math.imul(U,It)|0;var qt=(V+(_=_+Math.imul(Y,kt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Jt)|0)+Math.imul(re,kt)|0))<<13)|0;V=((k=k+Math.imul(re,Jt)|0)+(S>>>13)|0)+(qt>>>26)|0,qt&=67108863,_=Math.imul(de,we),S=(S=Math.imul(de,me))+Math.imul(ge,we)|0,k=Math.imul(ge,me),_=_+Math.imul(G,He)|0,S=(S=S+Math.imul(G,It)|0)+Math.imul(ae,He)|0,k=k+Math.imul(ae,It)|0,_=_+Math.imul(Z,kt)|0,S=(S=S+Math.imul(Z,Jt)|0)+Math.imul(U,kt)|0,k=k+Math.imul(U,Jt)|0;var Wr=(V+(_=_+Math.imul(Y,Mt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Ft)|0)+Math.imul(re,Mt)|0))<<13)|0;V=((k=k+Math.imul(re,Ft)|0)+(S>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,_=Math.imul(oe,we),S=(S=Math.imul(oe,me))+Math.imul(ne,we)|0,k=Math.imul(ne,me),_=_+Math.imul(de,He)|0,S=(S=S+Math.imul(de,It)|0)+Math.imul(ge,He)|0,k=k+Math.imul(ge,It)|0,_=_+Math.imul(G,kt)|0,S=(S=S+Math.imul(G,Jt)|0)+Math.imul(ae,kt)|0,k=k+Math.imul(ae,Jt)|0,_=_+Math.imul(Z,Mt)|0,S=(S=S+Math.imul(Z,Ft)|0)+Math.imul(U,Mt)|0,k=k+Math.imul(U,Ft)|0;var vt=(V+(_=_+Math.imul(Y,Vt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,kr)|0)+Math.imul(re,Vt)|0))<<13)|0;V=((k=k+Math.imul(re,kr)|0)+(S>>>13)|0)+(vt>>>26)|0,vt&=67108863,_=Math.imul(ce,we),S=(S=Math.imul(ce,me))+Math.imul(ie,we)|0,k=Math.imul(ie,me),_=_+Math.imul(oe,He)|0,S=(S=S+Math.imul(oe,It)|0)+Math.imul(ne,He)|0,k=k+Math.imul(ne,It)|0,_=_+Math.imul(de,kt)|0,S=(S=S+Math.imul(de,Jt)|0)+Math.imul(ge,kt)|0,k=k+Math.imul(ge,Jt)|0,_=_+Math.imul(G,Mt)|0,S=(S=S+Math.imul(G,Ft)|0)+Math.imul(ae,Mt)|0,k=k+Math.imul(ae,Ft)|0,_=_+Math.imul(Z,Vt)|0,S=(S=S+Math.imul(Z,kr)|0)+Math.imul(U,Vt)|0,k=k+Math.imul(U,kr)|0;var yn=(V+(_=_+Math.imul(Y,er)|0)|0)+((8191&(S=(S=S+Math.imul(Y,xr)|0)+Math.imul(re,er)|0))<<13)|0;V=((k=k+Math.imul(re,xr)|0)+(S>>>13)|0)+(yn>>>26)|0,yn&=67108863,_=Math.imul(se,we),S=(S=Math.imul(se,me))+Math.imul(le,we)|0,k=Math.imul(le,me),_=_+Math.imul(ce,He)|0,S=(S=S+Math.imul(ce,It)|0)+Math.imul(ie,He)|0,k=k+Math.imul(ie,It)|0,_=_+Math.imul(oe,kt)|0,S=(S=S+Math.imul(oe,Jt)|0)+Math.imul(ne,kt)|0,k=k+Math.imul(ne,Jt)|0,_=_+Math.imul(de,Mt)|0,S=(S=S+Math.imul(de,Ft)|0)+Math.imul(ge,Mt)|0,k=k+Math.imul(ge,Ft)|0,_=_+Math.imul(G,Vt)|0,S=(S=S+Math.imul(G,kr)|0)+Math.imul(ae,Vt)|0,k=k+Math.imul(ae,kr)|0,_=_+Math.imul(Z,er)|0,S=(S=S+Math.imul(Z,xr)|0)+Math.imul(U,er)|0,k=k+Math.imul(U,xr)|0;var Nn=(V+(_=_+Math.imul(Y,Kt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Se)|0)+Math.imul(re,Kt)|0))<<13)|0;V=((k=k+Math.imul(re,Se)|0)+(S>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,_=Math.imul(_e,we),S=(S=Math.imul(_e,me))+Math.imul(Te,we)|0,k=Math.imul(Te,me),_=_+Math.imul(se,He)|0,S=(S=S+Math.imul(se,It)|0)+Math.imul(le,He)|0,k=k+Math.imul(le,It)|0,_=_+Math.imul(ce,kt)|0,S=(S=S+Math.imul(ce,Jt)|0)+Math.imul(ie,kt)|0,k=k+Math.imul(ie,Jt)|0,_=_+Math.imul(oe,Mt)|0,S=(S=S+Math.imul(oe,Ft)|0)+Math.imul(ne,Mt)|0,k=k+Math.imul(ne,Ft)|0,_=_+Math.imul(de,Vt)|0,S=(S=S+Math.imul(de,kr)|0)+Math.imul(ge,Vt)|0,k=k+Math.imul(ge,kr)|0,_=_+Math.imul(G,er)|0,S=(S=S+Math.imul(G,xr)|0)+Math.imul(ae,er)|0,k=k+Math.imul(ae,xr)|0,_=_+Math.imul(Z,Kt)|0,S=(S=S+Math.imul(Z,Se)|0)+Math.imul(U,Kt)|0,k=k+Math.imul(U,Se)|0;var be=(V+(_=_+Math.imul(Y,We)|0)|0)+((8191&(S=(S=S+Math.imul(Y,ct)|0)+Math.imul(re,We)|0))<<13)|0;V=((k=k+Math.imul(re,ct)|0)+(S>>>13)|0)+(be>>>26)|0,be&=67108863,_=Math.imul(Be,we),S=(S=Math.imul(Be,me))+Math.imul(ze,we)|0,k=Math.imul(ze,me),_=_+Math.imul(_e,He)|0,S=(S=S+Math.imul(_e,It)|0)+Math.imul(Te,He)|0,k=k+Math.imul(Te,It)|0,_=_+Math.imul(se,kt)|0,S=(S=S+Math.imul(se,Jt)|0)+Math.imul(le,kt)|0,k=k+Math.imul(le,Jt)|0,_=_+Math.imul(ce,Mt)|0,S=(S=S+Math.imul(ce,Ft)|0)+Math.imul(ie,Mt)|0,k=k+Math.imul(ie,Ft)|0,_=_+Math.imul(oe,Vt)|0,S=(S=S+Math.imul(oe,kr)|0)+Math.imul(ne,Vt)|0,k=k+Math.imul(ne,kr)|0,_=_+Math.imul(de,er)|0,S=(S=S+Math.imul(de,xr)|0)+Math.imul(ge,er)|0,k=k+Math.imul(ge,xr)|0,_=_+Math.imul(G,Kt)|0,S=(S=S+Math.imul(G,Se)|0)+Math.imul(ae,Kt)|0,k=k+Math.imul(ae,Se)|0,_=_+Math.imul(Z,We)|0,S=(S=S+Math.imul(Z,ct)|0)+Math.imul(U,We)|0,k=k+Math.imul(U,ct)|0;var Ae=(V+(_=_+Math.imul(Y,dt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Gt)|0)+Math.imul(re,dt)|0))<<13)|0;V=((k=k+Math.imul(re,Gt)|0)+(S>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,_=Math.imul(ft,we),S=(S=Math.imul(ft,me))+Math.imul(bt,we)|0,k=Math.imul(bt,me),_=_+Math.imul(Be,He)|0,S=(S=S+Math.imul(Be,It)|0)+Math.imul(ze,He)|0,k=k+Math.imul(ze,It)|0,_=_+Math.imul(_e,kt)|0,S=(S=S+Math.imul(_e,Jt)|0)+Math.imul(Te,kt)|0,k=k+Math.imul(Te,Jt)|0,_=_+Math.imul(se,Mt)|0,S=(S=S+Math.imul(se,Ft)|0)+Math.imul(le,Mt)|0,k=k+Math.imul(le,Ft)|0,_=_+Math.imul(ce,Vt)|0,S=(S=S+Math.imul(ce,kr)|0)+Math.imul(ie,Vt)|0,k=k+Math.imul(ie,kr)|0,_=_+Math.imul(oe,er)|0,S=(S=S+Math.imul(oe,xr)|0)+Math.imul(ne,er)|0,k=k+Math.imul(ne,xr)|0,_=_+Math.imul(de,Kt)|0,S=(S=S+Math.imul(de,Se)|0)+Math.imul(ge,Kt)|0,k=k+Math.imul(ge,Se)|0,_=_+Math.imul(G,We)|0,S=(S=S+Math.imul(G,ct)|0)+Math.imul(ae,We)|0,k=k+Math.imul(ae,ct)|0,_=_+Math.imul(Z,dt)|0,S=(S=S+Math.imul(Z,Gt)|0)+Math.imul(U,dt)|0,k=k+Math.imul(U,Gt)|0;var Xe=(V+(_=_+Math.imul(Y,xe)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Ue)|0)+Math.imul(re,xe)|0))<<13)|0;V=((k=k+Math.imul(re,Ue)|0)+(S>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,_=Math.imul(ft,He),S=(S=Math.imul(ft,It))+Math.imul(bt,He)|0,k=Math.imul(bt,It),_=_+Math.imul(Be,kt)|0,S=(S=S+Math.imul(Be,Jt)|0)+Math.imul(ze,kt)|0,k=k+Math.imul(ze,Jt)|0,_=_+Math.imul(_e,Mt)|0,S=(S=S+Math.imul(_e,Ft)|0)+Math.imul(Te,Mt)|0,k=k+Math.imul(Te,Ft)|0,_=_+Math.imul(se,Vt)|0,S=(S=S+Math.imul(se,kr)|0)+Math.imul(le,Vt)|0,k=k+Math.imul(le,kr)|0,_=_+Math.imul(ce,er)|0,S=(S=S+Math.imul(ce,xr)|0)+Math.imul(ie,er)|0,k=k+Math.imul(ie,xr)|0,_=_+Math.imul(oe,Kt)|0,S=(S=S+Math.imul(oe,Se)|0)+Math.imul(ne,Kt)|0,k=k+Math.imul(ne,Se)|0,_=_+Math.imul(de,We)|0,S=(S=S+Math.imul(de,ct)|0)+Math.imul(ge,We)|0,k=k+Math.imul(ge,ct)|0,_=_+Math.imul(G,dt)|0,S=(S=S+Math.imul(G,Gt)|0)+Math.imul(ae,dt)|0,k=k+Math.imul(ae,Gt)|0;var Ze=(V+(_=_+Math.imul(Z,xe)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Ue)|0)+Math.imul(U,xe)|0))<<13)|0;V=((k=k+Math.imul(U,Ue)|0)+(S>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,_=Math.imul(ft,kt),S=(S=Math.imul(ft,Jt))+Math.imul(bt,kt)|0,k=Math.imul(bt,Jt),_=_+Math.imul(Be,Mt)|0,S=(S=S+Math.imul(Be,Ft)|0)+Math.imul(ze,Mt)|0,k=k+Math.imul(ze,Ft)|0,_=_+Math.imul(_e,Vt)|0,S=(S=S+Math.imul(_e,kr)|0)+Math.imul(Te,Vt)|0,k=k+Math.imul(Te,kr)|0,_=_+Math.imul(se,er)|0,S=(S=S+Math.imul(se,xr)|0)+Math.imul(le,er)|0,k=k+Math.imul(le,xr)|0,_=_+Math.imul(ce,Kt)|0,S=(S=S+Math.imul(ce,Se)|0)+Math.imul(ie,Kt)|0,k=k+Math.imul(ie,Se)|0,_=_+Math.imul(oe,We)|0,S=(S=S+Math.imul(oe,ct)|0)+Math.imul(ne,We)|0,k=k+Math.imul(ne,ct)|0,_=_+Math.imul(de,dt)|0,S=(S=S+Math.imul(de,Gt)|0)+Math.imul(ge,dt)|0,k=k+Math.imul(ge,Gt)|0;var Rt=(V+(_=_+Math.imul(G,xe)|0)|0)+((8191&(S=(S=S+Math.imul(G,Ue)|0)+Math.imul(ae,xe)|0))<<13)|0;V=((k=k+Math.imul(ae,Ue)|0)+(S>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,_=Math.imul(ft,Mt),S=(S=Math.imul(ft,Ft))+Math.imul(bt,Mt)|0,k=Math.imul(bt,Ft),_=_+Math.imul(Be,Vt)|0,S=(S=S+Math.imul(Be,kr)|0)+Math.imul(ze,Vt)|0,k=k+Math.imul(ze,kr)|0,_=_+Math.imul(_e,er)|0,S=(S=S+Math.imul(_e,xr)|0)+Math.imul(Te,er)|0,k=k+Math.imul(Te,xr)|0,_=_+Math.imul(se,Kt)|0,S=(S=S+Math.imul(se,Se)|0)+Math.imul(le,Kt)|0,k=k+Math.imul(le,Se)|0,_=_+Math.imul(ce,We)|0,S=(S=S+Math.imul(ce,ct)|0)+Math.imul(ie,We)|0,k=k+Math.imul(ie,ct)|0,_=_+Math.imul(oe,dt)|0,S=(S=S+Math.imul(oe,Gt)|0)+Math.imul(ne,dt)|0,k=k+Math.imul(ne,Gt)|0;var ot=(V+(_=_+Math.imul(de,xe)|0)|0)+((8191&(S=(S=S+Math.imul(de,Ue)|0)+Math.imul(ge,xe)|0))<<13)|0;V=((k=k+Math.imul(ge,Ue)|0)+(S>>>13)|0)+(ot>>>26)|0,ot&=67108863,_=Math.imul(ft,Vt),S=(S=Math.imul(ft,kr))+Math.imul(bt,Vt)|0,k=Math.imul(bt,kr),_=_+Math.imul(Be,er)|0,S=(S=S+Math.imul(Be,xr)|0)+Math.imul(ze,er)|0,k=k+Math.imul(ze,xr)|0,_=_+Math.imul(_e,Kt)|0,S=(S=S+Math.imul(_e,Se)|0)+Math.imul(Te,Kt)|0,k=k+Math.imul(Te,Se)|0,_=_+Math.imul(se,We)|0,S=(S=S+Math.imul(se,ct)|0)+Math.imul(le,We)|0,k=k+Math.imul(le,ct)|0,_=_+Math.imul(ce,dt)|0,S=(S=S+Math.imul(ce,Gt)|0)+Math.imul(ie,dt)|0,k=k+Math.imul(ie,Gt)|0;var ut=(V+(_=_+Math.imul(oe,xe)|0)|0)+((8191&(S=(S=S+Math.imul(oe,Ue)|0)+Math.imul(ne,xe)|0))<<13)|0;V=((k=k+Math.imul(ne,Ue)|0)+(S>>>13)|0)+(ut>>>26)|0,ut&=67108863,_=Math.imul(ft,er),S=(S=Math.imul(ft,xr))+Math.imul(bt,er)|0,k=Math.imul(bt,xr),_=_+Math.imul(Be,Kt)|0,S=(S=S+Math.imul(Be,Se)|0)+Math.imul(ze,Kt)|0,k=k+Math.imul(ze,Se)|0,_=_+Math.imul(_e,We)|0,S=(S=S+Math.imul(_e,ct)|0)+Math.imul(Te,We)|0,k=k+Math.imul(Te,ct)|0,_=_+Math.imul(se,dt)|0,S=(S=S+Math.imul(se,Gt)|0)+Math.imul(le,dt)|0,k=k+Math.imul(le,Gt)|0;var yr=(V+(_=_+Math.imul(ce,xe)|0)|0)+((8191&(S=(S=S+Math.imul(ce,Ue)|0)+Math.imul(ie,xe)|0))<<13)|0;V=((k=k+Math.imul(ie,Ue)|0)+(S>>>13)|0)+(yr>>>26)|0,yr&=67108863,_=Math.imul(ft,Kt),S=(S=Math.imul(ft,Se))+Math.imul(bt,Kt)|0,k=Math.imul(bt,Se),_=_+Math.imul(Be,We)|0,S=(S=S+Math.imul(Be,ct)|0)+Math.imul(ze,We)|0,k=k+Math.imul(ze,ct)|0,_=_+Math.imul(_e,dt)|0,S=(S=S+Math.imul(_e,Gt)|0)+Math.imul(Te,dt)|0,k=k+Math.imul(Te,Gt)|0;var ar=(V+(_=_+Math.imul(se,xe)|0)|0)+((8191&(S=(S=S+Math.imul(se,Ue)|0)+Math.imul(le,xe)|0))<<13)|0;V=((k=k+Math.imul(le,Ue)|0)+(S>>>13)|0)+(ar>>>26)|0,ar&=67108863,_=Math.imul(ft,We),S=(S=Math.imul(ft,ct))+Math.imul(bt,We)|0,k=Math.imul(bt,ct),_=_+Math.imul(Be,dt)|0,S=(S=S+Math.imul(Be,Gt)|0)+Math.imul(ze,dt)|0,k=k+Math.imul(ze,Gt)|0;var Yt=(V+(_=_+Math.imul(_e,xe)|0)|0)+((8191&(S=(S=S+Math.imul(_e,Ue)|0)+Math.imul(Te,xe)|0))<<13)|0;V=((k=k+Math.imul(Te,Ue)|0)+(S>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,_=Math.imul(ft,dt),S=(S=Math.imul(ft,Gt))+Math.imul(bt,dt)|0,k=Math.imul(bt,Gt);var Ot=(V+(_=_+Math.imul(Be,xe)|0)|0)+((8191&(S=(S=S+Math.imul(Be,Ue)|0)+Math.imul(ze,xe)|0))<<13)|0;V=((k=k+Math.imul(ze,Ue)|0)+(S>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var ur=(V+(_=Math.imul(ft,xe))|0)+((8191&(S=(S=Math.imul(ft,Ue))+Math.imul(bt,xe)|0))<<13)|0;return V=((k=Math.imul(bt,Ue))+(S>>>13)|0)+(ur>>>26)|0,ur&=67108863,L[0]=at,L[1]=mt,L[2]=qt,L[3]=Wr,L[4]=vt,L[5]=yn,L[6]=Nn,L[7]=be,L[8]=Ae,L[9]=Xe,L[10]=Ze,L[11]=Rt,L[12]=ot,L[13]=ut,L[14]=yr,L[15]=ar,L[16]=Yt,L[17]=Ot,L[18]=ur,V!==0&&(L[19]=V,C.length++),C};function j(M,F,C){return new T().mulp(M,F,C)}function T(M,F){this.x=M,this.y=F}Math.imul||(x=v),o.prototype.mulTo=function(M,F){var C=this.length+M.length;return this.length===10&&M.length===10?x(this,M,F):C<63?v(this,M,F):C<1024?(function(_,S,k){k.negative=S.negative^_.negative,k.length=_.length+S.length;for(var N=0,D=0,L=0;L<k.length-1;L++){var V=D;D=0;for(var Q=67108863&N,Y=Math.min(L,S.length-1),re=Math.max(0,L-_.length+1);re<=Y;re++){var O=L-re,Z=(0|_.words[O])*(0|S.words[re]),U=67108863&Z;Q=67108863&(U=U+Q|0),D+=(V=(V=V+(Z/67108864|0)|0)+(U>>>26)|0)>>>26,V&=67108863}k.words[L]=Q,N=V,V=D}return N!==0?k.words[L]=N:k.length--,k.strip()})(this,M,F):j(this,M,F)},T.prototype.makeRBT=function(M){for(var F=new Array(M),C=o.prototype._countBits(M)-1,_=0;_<M;_++)F[_]=this.revBin(_,C,M);return F},T.prototype.revBin=function(M,F,C){if(M===0||M===C-1)return M;for(var _=0,S=0;S<F;S++)_|=(1&M)<<F-S-1,M>>=1;return _},T.prototype.permute=function(M,F,C,_,S,k){for(var N=0;N<k;N++)_[N]=F[M[N]],S[N]=C[M[N]]},T.prototype.transform=function(M,F,C,_,S,k){this.permute(k,M,F,C,_,S);for(var N=1;N<S;N<<=1)for(var D=N<<1,L=Math.cos(2*Math.PI/D),V=Math.sin(2*Math.PI/D),Q=0;Q<S;Q+=D)for(var Y=L,re=V,O=0;O<N;O++){var Z=C[Q+O],U=_[Q+O],z=C[Q+O+N],G=_[Q+O+N],ae=Y*z-re*G;G=Y*G+re*z,z=ae,C[Q+O]=Z+z,_[Q+O]=U+G,C[Q+O+N]=Z-z,_[Q+O+N]=U-G,O!==D&&(ae=L*Y-V*re,re=L*re+V*Y,Y=ae)}},T.prototype.guessLen13b=function(M,F){var C=1|Math.max(F,M),_=1&C,S=0;for(C=C/2|0;C;C>>>=1)S++;return 1<<S+1+_},T.prototype.conjugate=function(M,F,C){if(!(C<=1))for(var _=0;_<C/2;_++){var S=M[_];M[_]=M[C-_-1],M[C-_-1]=S,S=F[_],F[_]=-F[C-_-1],F[C-_-1]=-S}},T.prototype.normalize13b=function(M,F){for(var C=0,_=0;_<F/2;_++){var S=8192*Math.round(M[2*_+1]/F)+Math.round(M[2*_]/F)+C;M[_]=67108863&S,C=S<67108864?0:S/67108864|0}return M},T.prototype.convert13b=function(M,F,C,_){for(var S=0,k=0;k<F;k++)S+=0|M[k],C[2*k]=8191&S,S>>>=13,C[2*k+1]=8191&S,S>>>=13;for(k=2*F;k<_;++k)C[k]=0;c(S===0),c((-8192&S)==0)},T.prototype.stub=function(M){for(var F=new Array(M),C=0;C<M;C++)F[C]=0;return F},T.prototype.mulp=function(M,F,C){var _=2*this.guessLen13b(M.length,F.length),S=this.makeRBT(_),k=this.stub(_),N=new Array(_),D=new Array(_),L=new Array(_),V=new Array(_),Q=new Array(_),Y=new Array(_),re=C.words;re.length=_,this.convert13b(M.words,M.length,N,_),this.convert13b(F.words,F.length,V,_),this.transform(N,k,D,L,_,S),this.transform(V,k,Q,Y,_,S);for(var O=0;O<_;O++){var Z=D[O]*Q[O]-L[O]*Y[O];L[O]=D[O]*Y[O]+L[O]*Q[O],D[O]=Z}return this.conjugate(D,L,_),this.transform(D,L,re,k,_,S),this.conjugate(re,k,_),this.normalize13b(re,_),C.negative=M.negative^F.negative,C.length=M.length+F.length,C.strip()},o.prototype.mul=function(M){var F=new o(null);return F.words=new Array(this.length+M.length),this.mulTo(M,F)},o.prototype.mulf=function(M){var F=new o(null);return F.words=new Array(this.length+M.length),j(this,M,F)},o.prototype.imul=function(M){return this.clone().mulTo(M,this)},o.prototype.imuln=function(M){c(typeof M=="number"),c(M<67108864);for(var F=0,C=0;C<this.length;C++){var _=(0|this.words[C])*M,S=(67108863&_)+(67108863&F);F>>=26,F+=_/67108864|0,F+=S>>>26,this.words[C]=67108863&S}return F!==0&&(this.words[C]=F,this.length++),this},o.prototype.muln=function(M){return this.clone().imuln(M)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(M){var F=(function(k){for(var N=new Array(k.bitLength()),D=0;D<N.length;D++){var L=D/26|0,V=D%26;N[D]=(k.words[L]&1<<V)>>>V}return N})(M);if(F.length===0)return new o(1);for(var C=this,_=0;_<F.length&&F[_]===0;_++,C=C.sqr());if(++_<F.length)for(var S=C.sqr();_<F.length;_++,S=S.sqr())F[_]!==0&&(C=C.mul(S));return C},o.prototype.iushln=function(M){c(typeof M=="number"&&M>=0);var F,C=M%26,_=(M-C)/26,S=67108863>>>26-C<<26-C;if(C!==0){var k=0;for(F=0;F<this.length;F++){var N=this.words[F]&S,D=(0|this.words[F])-N<<C;this.words[F]=D|k,k=N>>>26-C}k&&(this.words[F]=k,this.length++)}if(_!==0){for(F=this.length-1;F>=0;F--)this.words[F+_]=this.words[F];for(F=0;F<_;F++)this.words[F]=0;this.length+=_}return this.strip()},o.prototype.ishln=function(M){return c(this.negative===0),this.iushln(M)},o.prototype.iushrn=function(M,F,C){var _;c(typeof M=="number"&&M>=0),_=F?(F-F%26)/26:0;var S=M%26,k=Math.min((M-S)/26,this.length),N=67108863^67108863>>>S<<S,D=C;if(_-=k,_=Math.max(0,_),D){for(var L=0;L<k;L++)D.words[L]=this.words[L];D.length=k}if(k!==0)if(this.length>k)for(this.length-=k,L=0;L<this.length;L++)this.words[L]=this.words[L+k];else this.words[0]=0,this.length=1;var V=0;for(L=this.length-1;L>=0&&(V!==0||L>=_);L--){var Q=0|this.words[L];this.words[L]=V<<26-S|Q>>>S,V=Q&N}return D&&V!==0&&(D.words[D.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(M,F,C){return c(this.negative===0),this.iushrn(M,F,C)},o.prototype.shln=function(M){return this.clone().ishln(M)},o.prototype.ushln=function(M){return this.clone().iushln(M)},o.prototype.shrn=function(M){return this.clone().ishrn(M)},o.prototype.ushrn=function(M){return this.clone().iushrn(M)},o.prototype.testn=function(M){c(typeof M=="number"&&M>=0);var F=M%26,C=(M-F)/26,_=1<<F;return!(this.length<=C)&&!!(this.words[C]&_)},o.prototype.imaskn=function(M){c(typeof M=="number"&&M>=0);var F=M%26,C=(M-F)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(F!==0&&C++,this.length=Math.min(C,this.length),F!==0){var _=67108863^67108863>>>F<<F;this.words[this.length-1]&=_}return this.strip()},o.prototype.maskn=function(M){return this.clone().imaskn(M)},o.prototype.iaddn=function(M){return c(typeof M=="number"),c(M<67108864),M<0?this.isubn(-M):this.negative!==0?this.length===1&&(0|this.words[0])<M?(this.words[0]=M-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(M),this.negative=1,this):this._iaddn(M)},o.prototype._iaddn=function(M){this.words[0]+=M;for(var F=0;F<this.length&&this.words[F]>=67108864;F++)this.words[F]-=67108864,F===this.length-1?this.words[F+1]=1:this.words[F+1]++;return this.length=Math.max(this.length,F+1),this},o.prototype.isubn=function(M){if(c(typeof M=="number"),c(M<67108864),M<0)return this.iaddn(-M);if(this.negative!==0)return this.negative=0,this.iaddn(M),this.negative=1,this;if(this.words[0]-=M,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var F=0;F<this.length&&this.words[F]<0;F++)this.words[F]+=67108864,this.words[F+1]-=1;return this.strip()},o.prototype.addn=function(M){return this.clone().iaddn(M)},o.prototype.subn=function(M){return this.clone().isubn(M)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(M,F,C){var _,S,k=M.length+C;this._expand(k);var N=0;for(_=0;_<M.length;_++){S=(0|this.words[_+C])+N;var D=(0|M.words[_])*F;N=((S-=67108863&D)>>26)-(D/67108864|0),this.words[_+C]=67108863&S}for(;_<this.length-C;_++)N=(S=(0|this.words[_+C])+N)>>26,this.words[_+C]=67108863&S;if(N===0)return this.strip();for(c(N===-1),N=0,_=0;_<this.length;_++)N=(S=-(0|this.words[_])+N)>>26,this.words[_]=67108863&S;return this.negative=1,this.strip()},o.prototype._wordDiv=function(M,F){var C=(this.length,M.length),_=this.clone(),S=M,k=0|S.words[S.length-1];(C=26-this._countBits(k))!==0&&(S=S.ushln(C),_.iushln(C),k=0|S.words[S.length-1]);var N,D=_.length-S.length;if(F!=="mod"){(N=new o(null)).length=D+1,N.words=new Array(N.length);for(var L=0;L<N.length;L++)N.words[L]=0}var V=_.clone()._ishlnsubmul(S,1,D);V.negative===0&&(_=V,N&&(N.words[D]=1));for(var Q=D-1;Q>=0;Q--){var Y=67108864*(0|_.words[S.length+Q])+(0|_.words[S.length+Q-1]);for(Y=Math.min(Y/k|0,67108863),_._ishlnsubmul(S,Y,Q);_.negative!==0;)Y--,_.negative=0,_._ishlnsubmul(S,1,Q),_.isZero()||(_.negative^=1);N&&(N.words[Q]=Y)}return N&&N.strip(),_.strip(),F!=="div"&&C!==0&&_.iushrn(C),{div:N||null,mod:_}},o.prototype.divmod=function(M,F,C){return c(!M.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&M.negative===0?(k=this.neg().divmod(M,F),F!=="mod"&&(_=k.div.neg()),F!=="div"&&(S=k.mod.neg(),C&&S.negative!==0&&S.iadd(M)),{div:_,mod:S}):this.negative===0&&M.negative!==0?(k=this.divmod(M.neg(),F),F!=="mod"&&(_=k.div.neg()),{div:_,mod:k.mod}):(this.negative&M.negative)!=0?(k=this.neg().divmod(M.neg(),F),F!=="div"&&(S=k.mod.neg(),C&&S.negative!==0&&S.isub(M)),{div:k.div,mod:S}):M.length>this.length||this.cmp(M)<0?{div:new o(0),mod:this}:M.length===1?F==="div"?{div:this.divn(M.words[0]),mod:null}:F==="mod"?{div:null,mod:new o(this.modn(M.words[0]))}:{div:this.divn(M.words[0]),mod:new o(this.modn(M.words[0]))}:this._wordDiv(M,F);var _,S,k},o.prototype.div=function(M){return this.divmod(M,"div",!1).div},o.prototype.mod=function(M){return this.divmod(M,"mod",!1).mod},o.prototype.umod=function(M){return this.divmod(M,"mod",!0).mod},o.prototype.divRound=function(M){var F=this.divmod(M);if(F.mod.isZero())return F.div;var C=F.div.negative!==0?F.mod.isub(M):F.mod,_=M.ushrn(1),S=M.andln(1),k=C.cmp(_);return k<0||S===1&&k===0?F.div:F.div.negative!==0?F.div.isubn(1):F.div.iaddn(1)},o.prototype.modn=function(M){c(M<=67108863);for(var F=(1<<26)%M,C=0,_=this.length-1;_>=0;_--)C=(F*C+(0|this.words[_]))%M;return C},o.prototype.idivn=function(M){c(M<=67108863);for(var F=0,C=this.length-1;C>=0;C--){var _=(0|this.words[C])+67108864*F;this.words[C]=_/M|0,F=_%M}return this.strip()},o.prototype.divn=function(M){return this.clone().idivn(M)},o.prototype.egcd=function(M){c(M.negative===0),c(!M.isZero());var F=this,C=M.clone();F=F.negative!==0?F.umod(M):F.clone();for(var _=new o(1),S=new o(0),k=new o(0),N=new o(1),D=0;F.isEven()&&C.isEven();)F.iushrn(1),C.iushrn(1),++D;for(var L=C.clone(),V=F.clone();!F.isZero();){for(var Q=0,Y=1;(F.words[0]&Y)==0&&Q<26;++Q,Y<<=1);if(Q>0)for(F.iushrn(Q);Q-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(L),S.isub(V)),_.iushrn(1),S.iushrn(1);for(var re=0,O=1;(C.words[0]&O)==0&&re<26;++re,O<<=1);if(re>0)for(C.iushrn(re);re-- >0;)(k.isOdd()||N.isOdd())&&(k.iadd(L),N.isub(V)),k.iushrn(1),N.iushrn(1);F.cmp(C)>=0?(F.isub(C),_.isub(k),S.isub(N)):(C.isub(F),k.isub(_),N.isub(S))}return{a:k,b:N,gcd:C.iushln(D)}},o.prototype._invmp=function(M){c(M.negative===0),c(!M.isZero());var F=this,C=M.clone();F=F.negative!==0?F.umod(M):F.clone();for(var _,S=new o(1),k=new o(0),N=C.clone();F.cmpn(1)>0&&C.cmpn(1)>0;){for(var D=0,L=1;(F.words[0]&L)==0&&D<26;++D,L<<=1);if(D>0)for(F.iushrn(D);D-- >0;)S.isOdd()&&S.iadd(N),S.iushrn(1);for(var V=0,Q=1;(C.words[0]&Q)==0&&V<26;++V,Q<<=1);if(V>0)for(C.iushrn(V);V-- >0;)k.isOdd()&&k.iadd(N),k.iushrn(1);F.cmp(C)>=0?(F.isub(C),S.isub(k)):(C.isub(F),k.isub(S))}return(_=F.cmpn(1)===0?S:k).cmpn(0)<0&&_.iadd(M),_},o.prototype.gcd=function(M){if(this.isZero())return M.abs();if(M.isZero())return this.abs();var F=this.clone(),C=M.clone();F.negative=0,C.negative=0;for(var _=0;F.isEven()&&C.isEven();_++)F.iushrn(1),C.iushrn(1);for(;;){for(;F.isEven();)F.iushrn(1);for(;C.isEven();)C.iushrn(1);var S=F.cmp(C);if(S<0){var k=F;F=C,C=k}else if(S===0||C.cmpn(1)===0)break;F.isub(C)}return C.iushln(_)},o.prototype.invm=function(M){return this.egcd(M).a.umod(M)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(M){return this.words[0]&M},o.prototype.bincn=function(M){c(typeof M=="number");var F=M%26,C=(M-F)/26,_=1<<F;if(this.length<=C)return this._expand(C+1),this.words[C]|=_,this;for(var S=_,k=C;S!==0&&k<this.length;k++){var N=0|this.words[k];S=(N+=S)>>>26,N&=67108863,this.words[k]=N}return S!==0&&(this.words[k]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(M){var F,C=M<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this.strip(),this.length>1)F=1;else{C&&(M=-M),c(M<=67108863,"Number is too big");var _=0|this.words[0];F=_===M?0:_<M?-1:1}return this.negative!==0?0|-F:F},o.prototype.cmp=function(M){if(this.negative!==0&&M.negative===0)return-1;if(this.negative===0&&M.negative!==0)return 1;var F=this.ucmp(M);return this.negative!==0?0|-F:F},o.prototype.ucmp=function(M){if(this.length>M.length)return 1;if(this.length<M.length)return-1;for(var F=0,C=this.length-1;C>=0;C--){var _=0|this.words[C],S=0|M.words[C];if(_!==S){_<S?F=-1:_>S&&(F=1);break}}return F},o.prototype.gtn=function(M){return this.cmpn(M)===1},o.prototype.gt=function(M){return this.cmp(M)===1},o.prototype.gten=function(M){return this.cmpn(M)>=0},o.prototype.gte=function(M){return this.cmp(M)>=0},o.prototype.ltn=function(M){return this.cmpn(M)===-1},o.prototype.lt=function(M){return this.cmp(M)===-1},o.prototype.lten=function(M){return this.cmpn(M)<=0},o.prototype.lte=function(M){return this.cmp(M)<=0},o.prototype.eqn=function(M){return this.cmpn(M)===0},o.prototype.eq=function(M){return this.cmp(M)===0},o.red=function(M){return new K(M)},o.prototype.toRed=function(M){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),M.convertTo(this)._forceRed(M)},o.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(M){return this.red=M,this},o.prototype.forceRed=function(M){return c(!this.red,"Already a number in reduction context"),this._forceRed(M)},o.prototype.redAdd=function(M){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,M)},o.prototype.redIAdd=function(M){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,M)},o.prototype.redSub=function(M){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,M)},o.prototype.redISub=function(M){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,M)},o.prototype.redShl=function(M){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,M)},o.prototype.redMul=function(M){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.mul(this,M)},o.prototype.redIMul=function(M){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.imul(this,M)},o.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(M){return c(this.red&&!M.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,M)};var E={k256:null,p224:null,p192:null,p25519:null};function B(M,F){this.name=M,this.p=new o(F,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function W(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function R(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function $(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function K(M){if(typeof M=="string"){var F=o._prime(M);this.m=F.p,this.prime=F}else c(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}function H(M){K.call(this,M),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}B.prototype._tmp=function(){var M=new o(null);return M.words=new Array(Math.ceil(this.n/13)),M},B.prototype.ireduce=function(M){var F,C=M;do this.split(C,this.tmp),F=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(F>this.n);var _=F<this.n?-1:C.ucmp(this.p);return _===0?(C.words[0]=0,C.length=1):_>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},B.prototype.split=function(M,F){M.iushrn(this.n,0,F)},B.prototype.imulK=function(M){return M.imul(this.k)},u(W,B),W.prototype.split=function(M,F){for(var C=Math.min(M.length,9),_=0;_<C;_++)F.words[_]=M.words[_];if(F.length=C,M.length<=9)return M.words[0]=0,void(M.length=1);var S=M.words[9];for(F.words[F.length++]=4194303&S,_=10;_<M.length;_++){var k=0|M.words[_];M.words[_-10]=(4194303&k)<<4|S>>>22,S=k}S>>>=22,M.words[_-10]=S,S===0&&M.length>10?M.length-=10:M.length-=9},W.prototype.imulK=function(M){M.words[M.length]=0,M.words[M.length+1]=0,M.length+=2;for(var F=0,C=0;C<M.length;C++){var _=0|M.words[C];F+=977*_,M.words[C]=67108863&F,F=64*_+(F/67108864|0)}return M.words[M.length-1]===0&&(M.length--,M.words[M.length-1]===0&&M.length--),M},u(I,B),u(R,B),u($,B),$.prototype.imulK=function(M){for(var F=0,C=0;C<M.length;C++){var _=19*(0|M.words[C])+F,S=67108863&_;_>>>=26,M.words[C]=S,F=_}return F!==0&&(M.words[M.length++]=F),M},o._prime=function(M){if(E[M])return E[M];var F;if(M==="k256")F=new W;else if(M==="p224")F=new I;else if(M==="p192")F=new R;else{if(M!=="p25519")throw new Error("Unknown prime "+M);F=new $}return E[M]=F,F},K.prototype._verify1=function(M){c(M.negative===0,"red works only with positives"),c(M.red,"red works only with red numbers")},K.prototype._verify2=function(M,F){c((M.negative|F.negative)==0,"red works only with positives"),c(M.red&&M.red===F.red,"red works only with red numbers")},K.prototype.imod=function(M){return this.prime?this.prime.ireduce(M)._forceRed(this):M.umod(this.m)._forceRed(this)},K.prototype.neg=function(M){return M.isZero()?M.clone():this.m.sub(M)._forceRed(this)},K.prototype.add=function(M,F){this._verify2(M,F);var C=M.add(F);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},K.prototype.iadd=function(M,F){this._verify2(M,F);var C=M.iadd(F);return C.cmp(this.m)>=0&&C.isub(this.m),C},K.prototype.sub=function(M,F){this._verify2(M,F);var C=M.sub(F);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},K.prototype.isub=function(M,F){this._verify2(M,F);var C=M.isub(F);return C.cmpn(0)<0&&C.iadd(this.m),C},K.prototype.shl=function(M,F){return this._verify1(M),this.imod(M.ushln(F))},K.prototype.imul=function(M,F){return this._verify2(M,F),this.imod(M.imul(F))},K.prototype.mul=function(M,F){return this._verify2(M,F),this.imod(M.mul(F))},K.prototype.isqr=function(M){return this.imul(M,M.clone())},K.prototype.sqr=function(M){return this.mul(M,M)},K.prototype.sqrt=function(M){if(M.isZero())return M.clone();var F=this.m.andln(3);if(c(F%2==1),F===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(M,C)}for(var _=this.m.subn(1),S=0;!_.isZero()&&_.andln(1)===0;)S++,_.iushrn(1);c(!_.isZero());var k=new o(1).toRed(this),N=k.redNeg(),D=this.m.subn(1).iushrn(1),L=this.m.bitLength();for(L=new o(2*L*L).toRed(this);this.pow(L,D).cmp(N)!==0;)L.redIAdd(N);for(var V=this.pow(L,_),Q=this.pow(M,_.addn(1).iushrn(1)),Y=this.pow(M,_),re=S;Y.cmp(k)!==0;){for(var O=Y,Z=0;O.cmp(k)!==0;Z++)O=O.redSqr();c(Z<re);var U=this.pow(V,new o(1).iushln(re-Z-1));Q=Q.redMul(U),V=U.redSqr(),Y=Y.redMul(V),re=Z}return Q},K.prototype.invm=function(M){var F=M._invmp(this.m);return F.negative!==0?(F.negative=0,this.imod(F).redNeg()):this.imod(F)},K.prototype.pow=function(M,F){if(F.isZero())return new o(1).toRed(this);if(F.cmpn(1)===0)return M.clone();var C=new Array(16);C[0]=new o(1).toRed(this),C[1]=M;for(var _=2;_<C.length;_++)C[_]=this.mul(C[_-1],M);var S=C[0],k=0,N=0,D=F.bitLength()%26;for(D===0&&(D=26),_=F.length-1;_>=0;_--){for(var L=F.words[_],V=D-1;V>=0;V--){var Q=L>>V&1;S!==C[0]&&(S=this.sqr(S)),Q!==0||k!==0?(k<<=1,k|=Q,(++N===4||_===0&&V===0)&&(S=this.mul(S,C[k]),N=0,k=0)):N=0}D=26}return S},K.prototype.convertTo=function(M){var F=M.umod(this.m);return F===M?F.clone():F},K.prototype.convertFrom=function(M){var F=M.clone();return F.red=null,F},o.mont=function(M){return new H(M)},u(H,K),H.prototype.convertTo=function(M){return this.imod(M.ushln(this.shift))},H.prototype.convertFrom=function(M){var F=this.imod(M.mul(this.rinv));return F.red=null,F},H.prototype.imul=function(M,F){if(M.isZero()||F.isZero())return M.words[0]=0,M.length=1,M;var C=M.imul(F),_=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(_).iushrn(this.shift),k=S;return S.cmp(this.m)>=0?k=S.isub(this.m):S.cmpn(0)<0&&(k=S.iadd(this.m)),k._forceRed(this)},H.prototype.mul=function(M,F){if(M.isZero()||F.isZero())return new o(0)._forceRed(this);var C=M.mul(F),_=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(_).iushrn(this.shift),k=S;return S.cmp(this.m)>=0?k=S.isub(this.m):S.cmpn(0)<0&&(k=S.iadd(this.m)),k._forceRed(this)},H.prototype.invm=function(M){return this.imod(M._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,s){s.byteLength=function(h){var g=p(h),y=g[0],m=g[1];return 3*(y+m)/4-m},s.toByteArray=function(h){var g,y,m=p(h),v=m[0],x=m[1],j=new c((function(B,W,I){return 3*(W+I)/4-I})(0,v,x)),T=0,E=x>0?v-4:v;for(y=0;y<E;y+=4)g=i[h.charCodeAt(y)]<<18|i[h.charCodeAt(y+1)]<<12|i[h.charCodeAt(y+2)]<<6|i[h.charCodeAt(y+3)],j[T++]=g>>16&255,j[T++]=g>>8&255,j[T++]=255&g;return x===2&&(g=i[h.charCodeAt(y)]<<2|i[h.charCodeAt(y+1)]>>4,j[T++]=255&g),x===1&&(g=i[h.charCodeAt(y)]<<10|i[h.charCodeAt(y+1)]<<4|i[h.charCodeAt(y+2)]>>2,j[T++]=g>>8&255,j[T++]=255&g),j},s.fromByteArray=function(h){for(var g,y=h.length,m=y%3,v=[],x=0,j=y-m;x<j;x+=16383)v.push(f(h,x,x+16383>j?j:x+16383));return m===1?(g=h[y-1],v.push(a[g>>2]+a[g<<4&63]+"==")):m===2&&(g=(h[y-2]<<8)+h[y-1],v.push(a[g>>10]+a[g>>4&63]+a[g<<2&63]+"=")),v.join("")};for(var a=[],i=[],c=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,d=u.length;o<d;++o)a[o]=u[o],i[u.charCodeAt(o)]=o;function p(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");return y===-1&&(y=g),[y,y===g?0:4-y%4]}function f(h,g,y){for(var m,v,x=[],j=g;j<y;j+=3)m=(h[j]<<16&16711680)+(h[j+1]<<8&65280)+(255&h[j+2]),x.push(a[(v=m)>>18&63]+a[v>>12&63]+a[v>>6&63]+a[63&v]);return x.join("")}i[45]=62,i[95]=63},{}],186:[function(e,n,s){(function(a,i){function c(C,_){if(!C)throw new Error(_||"Assertion failed")}function u(C,_){C.super_=_;var S=function(){};S.prototype=_.prototype,C.prototype=new S,C.prototype.constructor=C}function o(C,_,S){if(o.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(_!=="le"&&_!=="be"||(S=_,_=10),this._init(C||0,_||10,S||"be"))}var d;typeof a=="object"?a.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(C,_){var S=C.charCodeAt(_);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void c(!1,"Invalid character in "+C)}function f(C,_,S){var k=p(C,S);return S-1>=_&&(k|=p(C,S-1)<<4),k}function h(C,_,S,k){for(var N=0,D=0,L=Math.min(C.length,S),V=_;V<L;V++){var Q=C.charCodeAt(V)-48;N*=k,D=Q>=49?Q-49+10:Q>=17?Q-17+10:Q,c(Q>=0&&D<k,"Invalid character"),N+=D}return N}function g(C,_){C.words=_.words,C.length=_.length,C.negative=_.negative,C.red=_.red}if(o.isBN=function(C){return C instanceof o||C!==null&&typeof C=="object"&&C.constructor.wordSize===o.wordSize&&Array.isArray(C.words)},o.max=function(C,_){return C.cmp(_)>0?C:_},o.min=function(C,_){return C.cmp(_)<0?C:_},o.prototype._init=function(C,_,S){if(typeof C=="number")return this._initNumber(C,_,S);if(typeof C=="object")return this._initArray(C,_,S);_==="hex"&&(_=16),c(_===(0|_)&&_>=2&&_<=36);var k=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(k++,this.negative=1),k<C.length&&(_===16?this._parseHex(C,k,S):(this._parseBase(C,_,k),S==="le"&&this._initArray(this.toArray(),_,S)))},o.prototype._initNumber=function(C,_,S){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(c(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),_,S)},o.prototype._initArray=function(C,_,S){if(c(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var N,D,L=0;if(S==="be")for(k=C.length-1,N=0;k>=0;k-=3)D=C[k]|C[k-1]<<8|C[k-2]<<16,this.words[N]|=D<<L&67108863,this.words[N+1]=D>>>26-L&67108863,(L+=24)>=26&&(L-=26,N++);else if(S==="le")for(k=0,N=0;k<C.length;k+=3)D=C[k]|C[k+1]<<8|C[k+2]<<16,this.words[N]|=D<<L&67108863,this.words[N+1]=D>>>26-L&67108863,(L+=24)>=26&&(L-=26,N++);return this._strip()},o.prototype._parseHex=function(C,_,S){this.length=Math.ceil((C.length-_)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var N,D=0,L=0;if(S==="be")for(k=C.length-1;k>=_;k-=2)N=f(C,_,k)<<D,this.words[L]|=67108863&N,D>=18?(D-=18,L+=1,this.words[L]|=N>>>26):D+=8;else for(k=(C.length-_)%2==0?_+1:_;k<C.length;k+=2)N=f(C,_,k)<<D,this.words[L]|=67108863&N,D>=18?(D-=18,L+=1,this.words[L]|=N>>>26):D+=8;this._strip()},o.prototype._parseBase=function(C,_,S){this.words=[0],this.length=1;for(var k=0,N=1;N<=67108863;N*=_)k++;k--,N=N/_|0;for(var D=C.length-S,L=D%k,V=Math.min(D,D-L)+S,Q=0,Y=S;Y<V;Y+=k)Q=h(C,Y,Y+k,_),this.imuln(N),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(L!==0){var re=1;for(Q=h(C,Y,C.length,_),Y=0;Y<L;Y++)re*=_;this.imuln(re),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this._strip()},o.prototype.copy=function(C){C.words=new Array(this.length);for(var _=0;_<this.length;_++)C.words[_]=this.words[_];C.length=this.length,C.negative=this.negative,C.red=this.red},o.prototype._move=function(C){g(C,this)},o.prototype.clone=function(){var C=new o(null);return this.copy(C),C},o.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{o.prototype.inspect=y}else o.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(C,_){var S;if(_=0|_||1,(C=C||10)===16||C==="hex"){S="";for(var k=0,N=0,D=0;D<this.length;D++){var L=this.words[D],V=(16777215&(L<<k|N)).toString(16);N=L>>>24-k&16777215,(k+=2)>=26&&(k-=26,D--),S=N!==0||D!==this.length-1?m[6-V.length]+V+S:V+S}for(N!==0&&(S=N.toString(16)+S);S.length%_!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(C===(0|C)&&C>=2&&C<=36){var Q=v[C],Y=x[C];S="";var re=this.clone();for(re.negative=0;!re.isZero();){var O=re.modrn(Y).toString(C);S=(re=re.idivn(Y)).isZero()?O+S:m[Q-O.length]+O+S}for(this.isZero()&&(S="0"+S);S.length%_!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}c(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},o.prototype.toJSON=function(){return this.toString(16,2)},d&&(o.prototype.toBuffer=function(C,_){return this.toArrayLike(d,C,_)}),o.prototype.toArray=function(C,_){return this.toArrayLike(Array,C,_)};function j(C,_,S){S.negative=_.negative^C.negative;var k=C.length+_.length|0;S.length=k,k=k-1|0;var N=0|C.words[0],D=0|_.words[0],L=N*D,V=67108863&L,Q=L/67108864|0;S.words[0]=V;for(var Y=1;Y<k;Y++){for(var re=Q>>>26,O=67108863&Q,Z=Math.min(Y,_.length-1),U=Math.max(0,Y-C.length+1);U<=Z;U++){var z=Y-U|0;re+=(L=(N=0|C.words[z])*(D=0|_.words[U])+O)/67108864|0,O=67108863&L}S.words[Y]=0|O,Q=0|re}return Q!==0?S.words[Y]=0|Q:S.length--,S._strip()}o.prototype.toArrayLike=function(C,_,S){this._strip();var k=this.byteLength(),N=S||Math.max(1,k);c(k<=N,"byte array longer than desired length"),c(N>0,"Requested array length <= 0");var D=(function(L,V){return L.allocUnsafe?L.allocUnsafe(V):new L(V)})(C,N);return this["_toArrayLike"+(_==="le"?"LE":"BE")](D,k),D},o.prototype._toArrayLikeLE=function(C,_){for(var S=0,k=0,N=0,D=0;N<this.length;N++){var L=this.words[N]<<D|k;C[S++]=255&L,S<C.length&&(C[S++]=L>>8&255),S<C.length&&(C[S++]=L>>16&255),D===6?(S<C.length&&(C[S++]=L>>24&255),k=0,D=0):(k=L>>>24,D+=2)}if(S<C.length)for(C[S++]=k;S<C.length;)C[S++]=0},o.prototype._toArrayLikeBE=function(C,_){for(var S=C.length-1,k=0,N=0,D=0;N<this.length;N++){var L=this.words[N]<<D|k;C[S--]=255&L,S>=0&&(C[S--]=L>>8&255),S>=0&&(C[S--]=L>>16&255),D===6?(S>=0&&(C[S--]=L>>24&255),k=0,D=0):(k=L>>>24,D+=2)}if(S>=0)for(C[S--]=k;S>=0;)C[S--]=0},Math.clz32?o.prototype._countBits=function(C){return 32-Math.clz32(C)}:o.prototype._countBits=function(C){var _=C,S=0;return _>=4096&&(S+=13,_>>>=13),_>=64&&(S+=7,_>>>=7),_>=8&&(S+=4,_>>>=4),_>=2&&(S+=2,_>>>=2),S+_},o.prototype._zeroBits=function(C){if(C===0)return 26;var _=C,S=0;return(8191&_)==0&&(S+=13,_>>>=13),(127&_)==0&&(S+=7,_>>>=7),(15&_)==0&&(S+=4,_>>>=4),(3&_)==0&&(S+=2,_>>>=2),(1&_)==0&&S++,S},o.prototype.bitLength=function(){var C=this.words[this.length-1],_=this._countBits(C);return 26*(this.length-1)+_},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,_=0;_<this.length;_++){var S=this._zeroBits(this.words[_]);if(C+=S,S!==26)break}return C},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},o.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var _=0;_<C.length;_++)this.words[_]=this.words[_]|C.words[_];return this._strip()},o.prototype.ior=function(C){return c((this.negative|C.negative)==0),this.iuor(C)},o.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},o.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},o.prototype.iuand=function(C){var _;_=this.length>C.length?C:this;for(var S=0;S<_.length;S++)this.words[S]=this.words[S]&C.words[S];return this.length=_.length,this._strip()},o.prototype.iand=function(C){return c((this.negative|C.negative)==0),this.iuand(C)},o.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},o.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},o.prototype.iuxor=function(C){var _,S;this.length>C.length?(_=this,S=C):(_=C,S=this);for(var k=0;k<S.length;k++)this.words[k]=_.words[k]^S.words[k];if(this!==_)for(;k<_.length;k++)this.words[k]=_.words[k];return this.length=_.length,this._strip()},o.prototype.ixor=function(C){return c((this.negative|C.negative)==0),this.iuxor(C)},o.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},o.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},o.prototype.inotn=function(C){c(typeof C=="number"&&C>=0);var _=0|Math.ceil(C/26),S=C%26;this._expand(_),S>0&&_--;for(var k=0;k<_;k++)this.words[k]=67108863&~this.words[k];return S>0&&(this.words[k]=~this.words[k]&67108863>>26-S),this._strip()},o.prototype.notn=function(C){return this.clone().inotn(C)},o.prototype.setn=function(C,_){c(typeof C=="number"&&C>=0);var S=C/26|0,k=C%26;return this._expand(S+1),this.words[S]=_?this.words[S]|1<<k:this.words[S]&~(1<<k),this._strip()},o.prototype.iadd=function(C){var _,S,k;if(this.negative!==0&&C.negative===0)return this.negative=0,_=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,_=this.isub(C),C.negative=1,_._normSign();this.length>C.length?(S=this,k=C):(S=C,k=this);for(var N=0,D=0;D<k.length;D++)_=(0|S.words[D])+(0|k.words[D])+N,this.words[D]=67108863&_,N=_>>>26;for(;N!==0&&D<S.length;D++)_=(0|S.words[D])+N,this.words[D]=67108863&_,N=_>>>26;if(this.length=S.length,N!==0)this.words[this.length]=N,this.length++;else if(S!==this)for(;D<S.length;D++)this.words[D]=S.words[D];return this},o.prototype.add=function(C){var _;return C.negative!==0&&this.negative===0?(C.negative=0,_=this.sub(C),C.negative^=1,_):C.negative===0&&this.negative!==0?(this.negative=0,_=C.sub(this),this.negative=1,_):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},o.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var _=this.iadd(C);return C.negative=1,_._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var S,k,N=this.cmp(C);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;N>0?(S=this,k=C):(S=C,k=this);for(var D=0,L=0;L<k.length;L++)D=(_=(0|S.words[L])-(0|k.words[L])+D)>>26,this.words[L]=67108863&_;for(;D!==0&&L<S.length;L++)D=(_=(0|S.words[L])+D)>>26,this.words[L]=67108863&_;if(D===0&&L<S.length&&S!==this)for(;L<S.length;L++)this.words[L]=S.words[L];return this.length=Math.max(this.length,L),S!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(C){return this.clone().isub(C)};var T=function(C,_,S){var k,N,D,L=C.words,V=_.words,Q=S.words,Y=0,re=0|L[0],O=8191&re,Z=re>>>13,U=0|L[1],z=8191&U,G=U>>>13,ae=0|L[2],pe=8191&ae,de=ae>>>13,ge=0|L[3],te=8191&ge,oe=ge>>>13,ne=0|L[4],he=8191&ne,ce=ne>>>13,ie=0|L[5],ee=8191&ie,se=ie>>>13,le=0|L[6],ve=8191&le,_e=le>>>13,Te=0|L[7],Fe=8191&Te,Be=Te>>>13,ze=0|L[8],Je=8191&ze,ft=ze>>>13,bt=0|L[9],rt=8191&bt,we=bt>>>13,me=0|V[0],Ke=8191&me,He=me>>>13,It=0|V[1],Zt=8191&It,kt=It>>>13,Jt=0|V[2],rr=8191&Jt,Mt=Jt>>>13,Ft=0|V[3],_r=8191&Ft,Vt=Ft>>>13,kr=0|V[4],Bt=8191&kr,er=kr>>>13,xr=0|V[5],nr=8191&xr,Kt=xr>>>13,Se=0|V[6],Re=8191&Se,We=Se>>>13,ct=0|V[7],Ut=8191&ct,dt=ct>>>13,Gt=0|V[8],Wt=8191&Gt,xe=Gt>>>13,Ue=0|V[9],at=8191&Ue,mt=Ue>>>13;S.negative=C.negative^_.negative,S.length=19;var qt=(Y+(k=Math.imul(O,Ke))|0)+((8191&(N=(N=Math.imul(O,He))+Math.imul(Z,Ke)|0))<<13)|0;Y=((D=Math.imul(Z,He))+(N>>>13)|0)+(qt>>>26)|0,qt&=67108863,k=Math.imul(z,Ke),N=(N=Math.imul(z,He))+Math.imul(G,Ke)|0,D=Math.imul(G,He);var Wr=(Y+(k=k+Math.imul(O,Zt)|0)|0)+((8191&(N=(N=N+Math.imul(O,kt)|0)+Math.imul(Z,Zt)|0))<<13)|0;Y=((D=D+Math.imul(Z,kt)|0)+(N>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,k=Math.imul(pe,Ke),N=(N=Math.imul(pe,He))+Math.imul(de,Ke)|0,D=Math.imul(de,He),k=k+Math.imul(z,Zt)|0,N=(N=N+Math.imul(z,kt)|0)+Math.imul(G,Zt)|0,D=D+Math.imul(G,kt)|0;var vt=(Y+(k=k+Math.imul(O,rr)|0)|0)+((8191&(N=(N=N+Math.imul(O,Mt)|0)+Math.imul(Z,rr)|0))<<13)|0;Y=((D=D+Math.imul(Z,Mt)|0)+(N>>>13)|0)+(vt>>>26)|0,vt&=67108863,k=Math.imul(te,Ke),N=(N=Math.imul(te,He))+Math.imul(oe,Ke)|0,D=Math.imul(oe,He),k=k+Math.imul(pe,Zt)|0,N=(N=N+Math.imul(pe,kt)|0)+Math.imul(de,Zt)|0,D=D+Math.imul(de,kt)|0,k=k+Math.imul(z,rr)|0,N=(N=N+Math.imul(z,Mt)|0)+Math.imul(G,rr)|0,D=D+Math.imul(G,Mt)|0;var yn=(Y+(k=k+Math.imul(O,_r)|0)|0)+((8191&(N=(N=N+Math.imul(O,Vt)|0)+Math.imul(Z,_r)|0))<<13)|0;Y=((D=D+Math.imul(Z,Vt)|0)+(N>>>13)|0)+(yn>>>26)|0,yn&=67108863,k=Math.imul(he,Ke),N=(N=Math.imul(he,He))+Math.imul(ce,Ke)|0,D=Math.imul(ce,He),k=k+Math.imul(te,Zt)|0,N=(N=N+Math.imul(te,kt)|0)+Math.imul(oe,Zt)|0,D=D+Math.imul(oe,kt)|0,k=k+Math.imul(pe,rr)|0,N=(N=N+Math.imul(pe,Mt)|0)+Math.imul(de,rr)|0,D=D+Math.imul(de,Mt)|0,k=k+Math.imul(z,_r)|0,N=(N=N+Math.imul(z,Vt)|0)+Math.imul(G,_r)|0,D=D+Math.imul(G,Vt)|0;var Nn=(Y+(k=k+Math.imul(O,Bt)|0)|0)+((8191&(N=(N=N+Math.imul(O,er)|0)+Math.imul(Z,Bt)|0))<<13)|0;Y=((D=D+Math.imul(Z,er)|0)+(N>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,k=Math.imul(ee,Ke),N=(N=Math.imul(ee,He))+Math.imul(se,Ke)|0,D=Math.imul(se,He),k=k+Math.imul(he,Zt)|0,N=(N=N+Math.imul(he,kt)|0)+Math.imul(ce,Zt)|0,D=D+Math.imul(ce,kt)|0,k=k+Math.imul(te,rr)|0,N=(N=N+Math.imul(te,Mt)|0)+Math.imul(oe,rr)|0,D=D+Math.imul(oe,Mt)|0,k=k+Math.imul(pe,_r)|0,N=(N=N+Math.imul(pe,Vt)|0)+Math.imul(de,_r)|0,D=D+Math.imul(de,Vt)|0,k=k+Math.imul(z,Bt)|0,N=(N=N+Math.imul(z,er)|0)+Math.imul(G,Bt)|0,D=D+Math.imul(G,er)|0;var be=(Y+(k=k+Math.imul(O,nr)|0)|0)+((8191&(N=(N=N+Math.imul(O,Kt)|0)+Math.imul(Z,nr)|0))<<13)|0;Y=((D=D+Math.imul(Z,Kt)|0)+(N>>>13)|0)+(be>>>26)|0,be&=67108863,k=Math.imul(ve,Ke),N=(N=Math.imul(ve,He))+Math.imul(_e,Ke)|0,D=Math.imul(_e,He),k=k+Math.imul(ee,Zt)|0,N=(N=N+Math.imul(ee,kt)|0)+Math.imul(se,Zt)|0,D=D+Math.imul(se,kt)|0,k=k+Math.imul(he,rr)|0,N=(N=N+Math.imul(he,Mt)|0)+Math.imul(ce,rr)|0,D=D+Math.imul(ce,Mt)|0,k=k+Math.imul(te,_r)|0,N=(N=N+Math.imul(te,Vt)|0)+Math.imul(oe,_r)|0,D=D+Math.imul(oe,Vt)|0,k=k+Math.imul(pe,Bt)|0,N=(N=N+Math.imul(pe,er)|0)+Math.imul(de,Bt)|0,D=D+Math.imul(de,er)|0,k=k+Math.imul(z,nr)|0,N=(N=N+Math.imul(z,Kt)|0)+Math.imul(G,nr)|0,D=D+Math.imul(G,Kt)|0;var Ae=(Y+(k=k+Math.imul(O,Re)|0)|0)+((8191&(N=(N=N+Math.imul(O,We)|0)+Math.imul(Z,Re)|0))<<13)|0;Y=((D=D+Math.imul(Z,We)|0)+(N>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,k=Math.imul(Fe,Ke),N=(N=Math.imul(Fe,He))+Math.imul(Be,Ke)|0,D=Math.imul(Be,He),k=k+Math.imul(ve,Zt)|0,N=(N=N+Math.imul(ve,kt)|0)+Math.imul(_e,Zt)|0,D=D+Math.imul(_e,kt)|0,k=k+Math.imul(ee,rr)|0,N=(N=N+Math.imul(ee,Mt)|0)+Math.imul(se,rr)|0,D=D+Math.imul(se,Mt)|0,k=k+Math.imul(he,_r)|0,N=(N=N+Math.imul(he,Vt)|0)+Math.imul(ce,_r)|0,D=D+Math.imul(ce,Vt)|0,k=k+Math.imul(te,Bt)|0,N=(N=N+Math.imul(te,er)|0)+Math.imul(oe,Bt)|0,D=D+Math.imul(oe,er)|0,k=k+Math.imul(pe,nr)|0,N=(N=N+Math.imul(pe,Kt)|0)+Math.imul(de,nr)|0,D=D+Math.imul(de,Kt)|0,k=k+Math.imul(z,Re)|0,N=(N=N+Math.imul(z,We)|0)+Math.imul(G,Re)|0,D=D+Math.imul(G,We)|0;var Xe=(Y+(k=k+Math.imul(O,Ut)|0)|0)+((8191&(N=(N=N+Math.imul(O,dt)|0)+Math.imul(Z,Ut)|0))<<13)|0;Y=((D=D+Math.imul(Z,dt)|0)+(N>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,k=Math.imul(Je,Ke),N=(N=Math.imul(Je,He))+Math.imul(ft,Ke)|0,D=Math.imul(ft,He),k=k+Math.imul(Fe,Zt)|0,N=(N=N+Math.imul(Fe,kt)|0)+Math.imul(Be,Zt)|0,D=D+Math.imul(Be,kt)|0,k=k+Math.imul(ve,rr)|0,N=(N=N+Math.imul(ve,Mt)|0)+Math.imul(_e,rr)|0,D=D+Math.imul(_e,Mt)|0,k=k+Math.imul(ee,_r)|0,N=(N=N+Math.imul(ee,Vt)|0)+Math.imul(se,_r)|0,D=D+Math.imul(se,Vt)|0,k=k+Math.imul(he,Bt)|0,N=(N=N+Math.imul(he,er)|0)+Math.imul(ce,Bt)|0,D=D+Math.imul(ce,er)|0,k=k+Math.imul(te,nr)|0,N=(N=N+Math.imul(te,Kt)|0)+Math.imul(oe,nr)|0,D=D+Math.imul(oe,Kt)|0,k=k+Math.imul(pe,Re)|0,N=(N=N+Math.imul(pe,We)|0)+Math.imul(de,Re)|0,D=D+Math.imul(de,We)|0,k=k+Math.imul(z,Ut)|0,N=(N=N+Math.imul(z,dt)|0)+Math.imul(G,Ut)|0,D=D+Math.imul(G,dt)|0;var Ze=(Y+(k=k+Math.imul(O,Wt)|0)|0)+((8191&(N=(N=N+Math.imul(O,xe)|0)+Math.imul(Z,Wt)|0))<<13)|0;Y=((D=D+Math.imul(Z,xe)|0)+(N>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,k=Math.imul(rt,Ke),N=(N=Math.imul(rt,He))+Math.imul(we,Ke)|0,D=Math.imul(we,He),k=k+Math.imul(Je,Zt)|0,N=(N=N+Math.imul(Je,kt)|0)+Math.imul(ft,Zt)|0,D=D+Math.imul(ft,kt)|0,k=k+Math.imul(Fe,rr)|0,N=(N=N+Math.imul(Fe,Mt)|0)+Math.imul(Be,rr)|0,D=D+Math.imul(Be,Mt)|0,k=k+Math.imul(ve,_r)|0,N=(N=N+Math.imul(ve,Vt)|0)+Math.imul(_e,_r)|0,D=D+Math.imul(_e,Vt)|0,k=k+Math.imul(ee,Bt)|0,N=(N=N+Math.imul(ee,er)|0)+Math.imul(se,Bt)|0,D=D+Math.imul(se,er)|0,k=k+Math.imul(he,nr)|0,N=(N=N+Math.imul(he,Kt)|0)+Math.imul(ce,nr)|0,D=D+Math.imul(ce,Kt)|0,k=k+Math.imul(te,Re)|0,N=(N=N+Math.imul(te,We)|0)+Math.imul(oe,Re)|0,D=D+Math.imul(oe,We)|0,k=k+Math.imul(pe,Ut)|0,N=(N=N+Math.imul(pe,dt)|0)+Math.imul(de,Ut)|0,D=D+Math.imul(de,dt)|0,k=k+Math.imul(z,Wt)|0,N=(N=N+Math.imul(z,xe)|0)+Math.imul(G,Wt)|0,D=D+Math.imul(G,xe)|0;var Rt=(Y+(k=k+Math.imul(O,at)|0)|0)+((8191&(N=(N=N+Math.imul(O,mt)|0)+Math.imul(Z,at)|0))<<13)|0;Y=((D=D+Math.imul(Z,mt)|0)+(N>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,k=Math.imul(rt,Zt),N=(N=Math.imul(rt,kt))+Math.imul(we,Zt)|0,D=Math.imul(we,kt),k=k+Math.imul(Je,rr)|0,N=(N=N+Math.imul(Je,Mt)|0)+Math.imul(ft,rr)|0,D=D+Math.imul(ft,Mt)|0,k=k+Math.imul(Fe,_r)|0,N=(N=N+Math.imul(Fe,Vt)|0)+Math.imul(Be,_r)|0,D=D+Math.imul(Be,Vt)|0,k=k+Math.imul(ve,Bt)|0,N=(N=N+Math.imul(ve,er)|0)+Math.imul(_e,Bt)|0,D=D+Math.imul(_e,er)|0,k=k+Math.imul(ee,nr)|0,N=(N=N+Math.imul(ee,Kt)|0)+Math.imul(se,nr)|0,D=D+Math.imul(se,Kt)|0,k=k+Math.imul(he,Re)|0,N=(N=N+Math.imul(he,We)|0)+Math.imul(ce,Re)|0,D=D+Math.imul(ce,We)|0,k=k+Math.imul(te,Ut)|0,N=(N=N+Math.imul(te,dt)|0)+Math.imul(oe,Ut)|0,D=D+Math.imul(oe,dt)|0,k=k+Math.imul(pe,Wt)|0,N=(N=N+Math.imul(pe,xe)|0)+Math.imul(de,Wt)|0,D=D+Math.imul(de,xe)|0;var ot=(Y+(k=k+Math.imul(z,at)|0)|0)+((8191&(N=(N=N+Math.imul(z,mt)|0)+Math.imul(G,at)|0))<<13)|0;Y=((D=D+Math.imul(G,mt)|0)+(N>>>13)|0)+(ot>>>26)|0,ot&=67108863,k=Math.imul(rt,rr),N=(N=Math.imul(rt,Mt))+Math.imul(we,rr)|0,D=Math.imul(we,Mt),k=k+Math.imul(Je,_r)|0,N=(N=N+Math.imul(Je,Vt)|0)+Math.imul(ft,_r)|0,D=D+Math.imul(ft,Vt)|0,k=k+Math.imul(Fe,Bt)|0,N=(N=N+Math.imul(Fe,er)|0)+Math.imul(Be,Bt)|0,D=D+Math.imul(Be,er)|0,k=k+Math.imul(ve,nr)|0,N=(N=N+Math.imul(ve,Kt)|0)+Math.imul(_e,nr)|0,D=D+Math.imul(_e,Kt)|0,k=k+Math.imul(ee,Re)|0,N=(N=N+Math.imul(ee,We)|0)+Math.imul(se,Re)|0,D=D+Math.imul(se,We)|0,k=k+Math.imul(he,Ut)|0,N=(N=N+Math.imul(he,dt)|0)+Math.imul(ce,Ut)|0,D=D+Math.imul(ce,dt)|0,k=k+Math.imul(te,Wt)|0,N=(N=N+Math.imul(te,xe)|0)+Math.imul(oe,Wt)|0,D=D+Math.imul(oe,xe)|0;var ut=(Y+(k=k+Math.imul(pe,at)|0)|0)+((8191&(N=(N=N+Math.imul(pe,mt)|0)+Math.imul(de,at)|0))<<13)|0;Y=((D=D+Math.imul(de,mt)|0)+(N>>>13)|0)+(ut>>>26)|0,ut&=67108863,k=Math.imul(rt,_r),N=(N=Math.imul(rt,Vt))+Math.imul(we,_r)|0,D=Math.imul(we,Vt),k=k+Math.imul(Je,Bt)|0,N=(N=N+Math.imul(Je,er)|0)+Math.imul(ft,Bt)|0,D=D+Math.imul(ft,er)|0,k=k+Math.imul(Fe,nr)|0,N=(N=N+Math.imul(Fe,Kt)|0)+Math.imul(Be,nr)|0,D=D+Math.imul(Be,Kt)|0,k=k+Math.imul(ve,Re)|0,N=(N=N+Math.imul(ve,We)|0)+Math.imul(_e,Re)|0,D=D+Math.imul(_e,We)|0,k=k+Math.imul(ee,Ut)|0,N=(N=N+Math.imul(ee,dt)|0)+Math.imul(se,Ut)|0,D=D+Math.imul(se,dt)|0,k=k+Math.imul(he,Wt)|0,N=(N=N+Math.imul(he,xe)|0)+Math.imul(ce,Wt)|0,D=D+Math.imul(ce,xe)|0;var yr=(Y+(k=k+Math.imul(te,at)|0)|0)+((8191&(N=(N=N+Math.imul(te,mt)|0)+Math.imul(oe,at)|0))<<13)|0;Y=((D=D+Math.imul(oe,mt)|0)+(N>>>13)|0)+(yr>>>26)|0,yr&=67108863,k=Math.imul(rt,Bt),N=(N=Math.imul(rt,er))+Math.imul(we,Bt)|0,D=Math.imul(we,er),k=k+Math.imul(Je,nr)|0,N=(N=N+Math.imul(Je,Kt)|0)+Math.imul(ft,nr)|0,D=D+Math.imul(ft,Kt)|0,k=k+Math.imul(Fe,Re)|0,N=(N=N+Math.imul(Fe,We)|0)+Math.imul(Be,Re)|0,D=D+Math.imul(Be,We)|0,k=k+Math.imul(ve,Ut)|0,N=(N=N+Math.imul(ve,dt)|0)+Math.imul(_e,Ut)|0,D=D+Math.imul(_e,dt)|0,k=k+Math.imul(ee,Wt)|0,N=(N=N+Math.imul(ee,xe)|0)+Math.imul(se,Wt)|0,D=D+Math.imul(se,xe)|0;var ar=(Y+(k=k+Math.imul(he,at)|0)|0)+((8191&(N=(N=N+Math.imul(he,mt)|0)+Math.imul(ce,at)|0))<<13)|0;Y=((D=D+Math.imul(ce,mt)|0)+(N>>>13)|0)+(ar>>>26)|0,ar&=67108863,k=Math.imul(rt,nr),N=(N=Math.imul(rt,Kt))+Math.imul(we,nr)|0,D=Math.imul(we,Kt),k=k+Math.imul(Je,Re)|0,N=(N=N+Math.imul(Je,We)|0)+Math.imul(ft,Re)|0,D=D+Math.imul(ft,We)|0,k=k+Math.imul(Fe,Ut)|0,N=(N=N+Math.imul(Fe,dt)|0)+Math.imul(Be,Ut)|0,D=D+Math.imul(Be,dt)|0,k=k+Math.imul(ve,Wt)|0,N=(N=N+Math.imul(ve,xe)|0)+Math.imul(_e,Wt)|0,D=D+Math.imul(_e,xe)|0;var Yt=(Y+(k=k+Math.imul(ee,at)|0)|0)+((8191&(N=(N=N+Math.imul(ee,mt)|0)+Math.imul(se,at)|0))<<13)|0;Y=((D=D+Math.imul(se,mt)|0)+(N>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,k=Math.imul(rt,Re),N=(N=Math.imul(rt,We))+Math.imul(we,Re)|0,D=Math.imul(we,We),k=k+Math.imul(Je,Ut)|0,N=(N=N+Math.imul(Je,dt)|0)+Math.imul(ft,Ut)|0,D=D+Math.imul(ft,dt)|0,k=k+Math.imul(Fe,Wt)|0,N=(N=N+Math.imul(Fe,xe)|0)+Math.imul(Be,Wt)|0,D=D+Math.imul(Be,xe)|0;var Ot=(Y+(k=k+Math.imul(ve,at)|0)|0)+((8191&(N=(N=N+Math.imul(ve,mt)|0)+Math.imul(_e,at)|0))<<13)|0;Y=((D=D+Math.imul(_e,mt)|0)+(N>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,k=Math.imul(rt,Ut),N=(N=Math.imul(rt,dt))+Math.imul(we,Ut)|0,D=Math.imul(we,dt),k=k+Math.imul(Je,Wt)|0,N=(N=N+Math.imul(Je,xe)|0)+Math.imul(ft,Wt)|0,D=D+Math.imul(ft,xe)|0;var ur=(Y+(k=k+Math.imul(Fe,at)|0)|0)+((8191&(N=(N=N+Math.imul(Fe,mt)|0)+Math.imul(Be,at)|0))<<13)|0;Y=((D=D+Math.imul(Be,mt)|0)+(N>>>13)|0)+(ur>>>26)|0,ur&=67108863,k=Math.imul(rt,Wt),N=(N=Math.imul(rt,xe))+Math.imul(we,Wt)|0,D=Math.imul(we,xe);var Fr=(Y+(k=k+Math.imul(Je,at)|0)|0)+((8191&(N=(N=N+Math.imul(Je,mt)|0)+Math.imul(ft,at)|0))<<13)|0;Y=((D=D+Math.imul(ft,mt)|0)+(N>>>13)|0)+(Fr>>>26)|0,Fr&=67108863;var Rr=(Y+(k=Math.imul(rt,at))|0)+((8191&(N=(N=Math.imul(rt,mt))+Math.imul(we,at)|0))<<13)|0;return Y=((D=Math.imul(we,mt))+(N>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,Q[0]=qt,Q[1]=Wr,Q[2]=vt,Q[3]=yn,Q[4]=Nn,Q[5]=be,Q[6]=Ae,Q[7]=Xe,Q[8]=Ze,Q[9]=Rt,Q[10]=ot,Q[11]=ut,Q[12]=yr,Q[13]=ar,Q[14]=Yt,Q[15]=Ot,Q[16]=ur,Q[17]=Fr,Q[18]=Rr,Y!==0&&(Q[19]=Y,S.length++),S};function E(C,_,S){S.negative=_.negative^C.negative,S.length=C.length+_.length;for(var k=0,N=0,D=0;D<S.length-1;D++){var L=N;N=0;for(var V=67108863&k,Q=Math.min(D,_.length-1),Y=Math.max(0,D-C.length+1);Y<=Q;Y++){var re=D-Y,O=(0|C.words[re])*(0|_.words[Y]),Z=67108863&O;V=67108863&(Z=Z+V|0),N+=(L=(L=L+(O/67108864|0)|0)+(Z>>>26)|0)>>>26,L&=67108863}S.words[D]=V,k=L,L=N}return k!==0?S.words[D]=k:S.length--,S._strip()}function B(C,_,S){return E(C,_,S)}Math.imul||(T=j),o.prototype.mulTo=function(C,_){var S=this.length+C.length;return this.length===10&&C.length===10?T(this,C,_):S<63?j(this,C,_):S<1024?E(this,C,_):B(this,C,_)},o.prototype.mul=function(C){var _=new o(null);return _.words=new Array(this.length+C.length),this.mulTo(C,_)},o.prototype.mulf=function(C){var _=new o(null);return _.words=new Array(this.length+C.length),B(this,C,_)},o.prototype.imul=function(C){return this.clone().mulTo(C,this)},o.prototype.imuln=function(C){var _=C<0;_&&(C=-C),c(typeof C=="number"),c(C<67108864);for(var S=0,k=0;k<this.length;k++){var N=(0|this.words[k])*C,D=(67108863&N)+(67108863&S);S>>=26,S+=N/67108864|0,S+=D>>>26,this.words[k]=67108863&D}return S!==0&&(this.words[k]=S,this.length++),_?this.ineg():this},o.prototype.muln=function(C){return this.clone().imuln(C)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(C){var _=(function(D){for(var L=new Array(D.bitLength()),V=0;V<L.length;V++){var Q=V/26|0,Y=V%26;L[V]=D.words[Q]>>>Y&1}return L})(C);if(_.length===0)return new o(1);for(var S=this,k=0;k<_.length&&_[k]===0;k++,S=S.sqr());if(++k<_.length)for(var N=S.sqr();k<_.length;k++,N=N.sqr())_[k]!==0&&(S=S.mul(N));return S},o.prototype.iushln=function(C){c(typeof C=="number"&&C>=0);var _,S=C%26,k=(C-S)/26,N=67108863>>>26-S<<26-S;if(S!==0){var D=0;for(_=0;_<this.length;_++){var L=this.words[_]&N,V=(0|this.words[_])-L<<S;this.words[_]=V|D,D=L>>>26-S}D&&(this.words[_]=D,this.length++)}if(k!==0){for(_=this.length-1;_>=0;_--)this.words[_+k]=this.words[_];for(_=0;_<k;_++)this.words[_]=0;this.length+=k}return this._strip()},o.prototype.ishln=function(C){return c(this.negative===0),this.iushln(C)},o.prototype.iushrn=function(C,_,S){var k;c(typeof C=="number"&&C>=0),k=_?(_-_%26)/26:0;var N=C%26,D=Math.min((C-N)/26,this.length),L=67108863^67108863>>>N<<N,V=S;if(k-=D,k=Math.max(0,k),V){for(var Q=0;Q<D;Q++)V.words[Q]=this.words[Q];V.length=D}if(D!==0)if(this.length>D)for(this.length-=D,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+D];else this.words[0]=0,this.length=1;var Y=0;for(Q=this.length-1;Q>=0&&(Y!==0||Q>=k);Q--){var re=0|this.words[Q];this.words[Q]=Y<<26-N|re>>>N,Y=re&L}return V&&Y!==0&&(V.words[V.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(C,_,S){return c(this.negative===0),this.iushrn(C,_,S)},o.prototype.shln=function(C){return this.clone().ishln(C)},o.prototype.ushln=function(C){return this.clone().iushln(C)},o.prototype.shrn=function(C){return this.clone().ishrn(C)},o.prototype.ushrn=function(C){return this.clone().iushrn(C)},o.prototype.testn=function(C){c(typeof C=="number"&&C>=0);var _=C%26,S=(C-_)/26,k=1<<_;return!(this.length<=S)&&!!(this.words[S]&k)},o.prototype.imaskn=function(C){c(typeof C=="number"&&C>=0);var _=C%26,S=(C-_)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(_!==0&&S++,this.length=Math.min(S,this.length),_!==0){var k=67108863^67108863>>>_<<_;this.words[this.length-1]&=k}return this._strip()},o.prototype.maskn=function(C){return this.clone().imaskn(C)},o.prototype.iaddn=function(C){return c(typeof C=="number"),c(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<=C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},o.prototype._iaddn=function(C){this.words[0]+=C;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},o.prototype.isubn=function(C){if(c(typeof C=="number"),c(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},o.prototype.addn=function(C){return this.clone().iaddn(C)},o.prototype.subn=function(C){return this.clone().isubn(C)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(C,_,S){var k,N,D=C.length+S;this._expand(D);var L=0;for(k=0;k<C.length;k++){N=(0|this.words[k+S])+L;var V=(0|C.words[k])*_;L=((N-=67108863&V)>>26)-(V/67108864|0),this.words[k+S]=67108863&N}for(;k<this.length-S;k++)L=(N=(0|this.words[k+S])+L)>>26,this.words[k+S]=67108863&N;if(L===0)return this._strip();for(c(L===-1),L=0,k=0;k<this.length;k++)L=(N=-(0|this.words[k])+L)>>26,this.words[k]=67108863&N;return this.negative=1,this._strip()},o.prototype._wordDiv=function(C,_){var S=(this.length,C.length),k=this.clone(),N=C,D=0|N.words[N.length-1];(S=26-this._countBits(D))!==0&&(N=N.ushln(S),k.iushln(S),D=0|N.words[N.length-1]);var L,V=k.length-N.length;if(_!=="mod"){(L=new o(null)).length=V+1,L.words=new Array(L.length);for(var Q=0;Q<L.length;Q++)L.words[Q]=0}var Y=k.clone()._ishlnsubmul(N,1,V);Y.negative===0&&(k=Y,L&&(L.words[V]=1));for(var re=V-1;re>=0;re--){var O=67108864*(0|k.words[N.length+re])+(0|k.words[N.length+re-1]);for(O=Math.min(O/D|0,67108863),k._ishlnsubmul(N,O,re);k.negative!==0;)O--,k.negative=0,k._ishlnsubmul(N,1,re),k.isZero()||(k.negative^=1);L&&(L.words[re]=O)}return L&&L._strip(),k._strip(),_!=="div"&&S!==0&&k.iushrn(S),{div:L||null,mod:k}},o.prototype.divmod=function(C,_,S){return c(!C.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&C.negative===0?(D=this.neg().divmod(C,_),_!=="mod"&&(k=D.div.neg()),_!=="div"&&(N=D.mod.neg(),S&&N.negative!==0&&N.iadd(C)),{div:k,mod:N}):this.negative===0&&C.negative!==0?(D=this.divmod(C.neg(),_),_!=="mod"&&(k=D.div.neg()),{div:k,mod:D.mod}):(this.negative&C.negative)!=0?(D=this.neg().divmod(C.neg(),_),_!=="div"&&(N=D.mod.neg(),S&&N.negative!==0&&N.isub(C)),{div:D.div,mod:N}):C.length>this.length||this.cmp(C)<0?{div:new o(0),mod:this}:C.length===1?_==="div"?{div:this.divn(C.words[0]),mod:null}:_==="mod"?{div:null,mod:new o(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new o(this.modrn(C.words[0]))}:this._wordDiv(C,_);var k,N,D},o.prototype.div=function(C){return this.divmod(C,"div",!1).div},o.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},o.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},o.prototype.divRound=function(C){var _=this.divmod(C);if(_.mod.isZero())return _.div;var S=_.div.negative!==0?_.mod.isub(C):_.mod,k=C.ushrn(1),N=C.andln(1),D=S.cmp(k);return D<0||N===1&&D===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},o.prototype.modrn=function(C){var _=C<0;_&&(C=-C),c(C<=67108863);for(var S=(1<<26)%C,k=0,N=this.length-1;N>=0;N--)k=(S*k+(0|this.words[N]))%C;return _?-k:k},o.prototype.modn=function(C){return this.modrn(C)},o.prototype.idivn=function(C){var _=C<0;_&&(C=-C),c(C<=67108863);for(var S=0,k=this.length-1;k>=0;k--){var N=(0|this.words[k])+67108864*S;this.words[k]=N/C|0,S=N%C}return this._strip(),_?this.ineg():this},o.prototype.divn=function(C){return this.clone().idivn(C)},o.prototype.egcd=function(C){c(C.negative===0),c(!C.isZero());var _=this,S=C.clone();_=_.negative!==0?_.umod(C):_.clone();for(var k=new o(1),N=new o(0),D=new o(0),L=new o(1),V=0;_.isEven()&&S.isEven();)_.iushrn(1),S.iushrn(1),++V;for(var Q=S.clone(),Y=_.clone();!_.isZero();){for(var re=0,O=1;(_.words[0]&O)==0&&re<26;++re,O<<=1);if(re>0)for(_.iushrn(re);re-- >0;)(k.isOdd()||N.isOdd())&&(k.iadd(Q),N.isub(Y)),k.iushrn(1),N.iushrn(1);for(var Z=0,U=1;(S.words[0]&U)==0&&Z<26;++Z,U<<=1);if(Z>0)for(S.iushrn(Z);Z-- >0;)(D.isOdd()||L.isOdd())&&(D.iadd(Q),L.isub(Y)),D.iushrn(1),L.iushrn(1);_.cmp(S)>=0?(_.isub(S),k.isub(D),N.isub(L)):(S.isub(_),D.isub(k),L.isub(N))}return{a:D,b:L,gcd:S.iushln(V)}},o.prototype._invmp=function(C){c(C.negative===0),c(!C.isZero());var _=this,S=C.clone();_=_.negative!==0?_.umod(C):_.clone();for(var k,N=new o(1),D=new o(0),L=S.clone();_.cmpn(1)>0&&S.cmpn(1)>0;){for(var V=0,Q=1;(_.words[0]&Q)==0&&V<26;++V,Q<<=1);if(V>0)for(_.iushrn(V);V-- >0;)N.isOdd()&&N.iadd(L),N.iushrn(1);for(var Y=0,re=1;(S.words[0]&re)==0&&Y<26;++Y,re<<=1);if(Y>0)for(S.iushrn(Y);Y-- >0;)D.isOdd()&&D.iadd(L),D.iushrn(1);_.cmp(S)>=0?(_.isub(S),N.isub(D)):(S.isub(_),D.isub(N))}return(k=_.cmpn(1)===0?N:D).cmpn(0)<0&&k.iadd(C),k},o.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var _=this.clone(),S=C.clone();_.negative=0,S.negative=0;for(var k=0;_.isEven()&&S.isEven();k++)_.iushrn(1),S.iushrn(1);for(;;){for(;_.isEven();)_.iushrn(1);for(;S.isEven();)S.iushrn(1);var N=_.cmp(S);if(N<0){var D=_;_=S,S=D}else if(N===0||S.cmpn(1)===0)break;_.isub(S)}return S.iushln(k)},o.prototype.invm=function(C){return this.egcd(C).a.umod(C)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(C){return this.words[0]&C},o.prototype.bincn=function(C){c(typeof C=="number");var _=C%26,S=(C-_)/26,k=1<<_;if(this.length<=S)return this._expand(S+1),this.words[S]|=k,this;for(var N=k,D=S;N!==0&&D<this.length;D++){var L=0|this.words[D];N=(L+=N)>>>26,L&=67108863,this.words[D]=L}return N!==0&&(this.words[D]=N,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(C){var _,S=C<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)_=1;else{S&&(C=-C),c(C<=67108863,"Number is too big");var k=0|this.words[0];_=k===C?0:k<C?-1:1}return this.negative!==0?0|-_:_},o.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var _=this.ucmp(C);return this.negative!==0?0|-_:_},o.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var _=0,S=this.length-1;S>=0;S--){var k=0|this.words[S],N=0|C.words[S];if(k!==N){k<N?_=-1:k>N&&(_=1);break}}return _},o.prototype.gtn=function(C){return this.cmpn(C)===1},o.prototype.gt=function(C){return this.cmp(C)===1},o.prototype.gten=function(C){return this.cmpn(C)>=0},o.prototype.gte=function(C){return this.cmp(C)>=0},o.prototype.ltn=function(C){return this.cmpn(C)===-1},o.prototype.lt=function(C){return this.cmp(C)===-1},o.prototype.lten=function(C){return this.cmpn(C)<=0},o.prototype.lte=function(C){return this.cmp(C)<=0},o.prototype.eqn=function(C){return this.cmpn(C)===0},o.prototype.eq=function(C){return this.cmp(C)===0},o.red=function(C){return new M(C)},o.prototype.toRed=function(C){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},o.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(C){return this.red=C,this},o.prototype.forceRed=function(C){return c(!this.red,"Already a number in reduction context"),this._forceRed(C)},o.prototype.redAdd=function(C){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},o.prototype.redIAdd=function(C){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},o.prototype.redSub=function(C){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},o.prototype.redISub=function(C){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},o.prototype.redShl=function(C){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},o.prototype.redMul=function(C){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},o.prototype.redIMul=function(C){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},o.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(C){return c(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var W={k256:null,p224:null,p192:null,p25519:null};function I(C,_){this.name=C,this.p=new o(_,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function R(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function $(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function K(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(C){if(typeof C=="string"){var _=o._prime(C);this.m=_.p,this.prime=_}else c(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function F(C){M.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}I.prototype._tmp=function(){var C=new o(null);return C.words=new Array(Math.ceil(this.n/13)),C},I.prototype.ireduce=function(C){var _,S=C;do this.split(S,this.tmp),_=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(_>this.n);var k=_<this.n?-1:S.ucmp(this.p);return k===0?(S.words[0]=0,S.length=1):k>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},I.prototype.split=function(C,_){C.iushrn(this.n,0,_)},I.prototype.imulK=function(C){return C.imul(this.k)},u(R,I),R.prototype.split=function(C,_){for(var S=Math.min(C.length,9),k=0;k<S;k++)_.words[k]=C.words[k];if(_.length=S,C.length<=9)return C.words[0]=0,void(C.length=1);var N=C.words[9];for(_.words[_.length++]=4194303&N,k=10;k<C.length;k++){var D=0|C.words[k];C.words[k-10]=(4194303&D)<<4|N>>>22,N=D}N>>>=22,C.words[k-10]=N,N===0&&C.length>10?C.length-=10:C.length-=9},R.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var _=0,S=0;S<C.length;S++){var k=0|C.words[S];_+=977*k,C.words[S]=67108863&_,_=64*k+(_/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},u($,I),u(K,I),u(H,I),H.prototype.imulK=function(C){for(var _=0,S=0;S<C.length;S++){var k=19*(0|C.words[S])+_,N=67108863&k;k>>>=26,C.words[S]=N,_=k}return _!==0&&(C.words[C.length++]=_),C},o._prime=function(C){if(W[C])return W[C];var _;if(C==="k256")_=new R;else if(C==="p224")_=new $;else if(C==="p192")_=new K;else{if(C!=="p25519")throw new Error("Unknown prime "+C);_=new H}return W[C]=_,_},M.prototype._verify1=function(C){c(C.negative===0,"red works only with positives"),c(C.red,"red works only with red numbers")},M.prototype._verify2=function(C,_){c((C.negative|_.negative)==0,"red works only with positives"),c(C.red&&C.red===_.red,"red works only with red numbers")},M.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(g(C,C.umod(this.m)._forceRed(this)),C)},M.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},M.prototype.add=function(C,_){this._verify2(C,_);var S=C.add(_);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},M.prototype.iadd=function(C,_){this._verify2(C,_);var S=C.iadd(_);return S.cmp(this.m)>=0&&S.isub(this.m),S},M.prototype.sub=function(C,_){this._verify2(C,_);var S=C.sub(_);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},M.prototype.isub=function(C,_){this._verify2(C,_);var S=C.isub(_);return S.cmpn(0)<0&&S.iadd(this.m),S},M.prototype.shl=function(C,_){return this._verify1(C),this.imod(C.ushln(_))},M.prototype.imul=function(C,_){return this._verify2(C,_),this.imod(C.imul(_))},M.prototype.mul=function(C,_){return this._verify2(C,_),this.imod(C.mul(_))},M.prototype.isqr=function(C){return this.imul(C,C.clone())},M.prototype.sqr=function(C){return this.mul(C,C)},M.prototype.sqrt=function(C){if(C.isZero())return C.clone();var _=this.m.andln(3);if(c(_%2==1),_===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(C,S)}for(var k=this.m.subn(1),N=0;!k.isZero()&&k.andln(1)===0;)N++,k.iushrn(1);c(!k.isZero());var D=new o(1).toRed(this),L=D.redNeg(),V=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new o(2*Q*Q).toRed(this);this.pow(Q,V).cmp(L)!==0;)Q.redIAdd(L);for(var Y=this.pow(Q,k),re=this.pow(C,k.addn(1).iushrn(1)),O=this.pow(C,k),Z=N;O.cmp(D)!==0;){for(var U=O,z=0;U.cmp(D)!==0;z++)U=U.redSqr();c(z<Z);var G=this.pow(Y,new o(1).iushln(Z-z-1));re=re.redMul(G),Y=G.redSqr(),O=O.redMul(Y),Z=z}return re},M.prototype.invm=function(C){var _=C._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},M.prototype.pow=function(C,_){if(_.isZero())return new o(1).toRed(this);if(_.cmpn(1)===0)return C.clone();var S=new Array(16);S[0]=new o(1).toRed(this),S[1]=C;for(var k=2;k<S.length;k++)S[k]=this.mul(S[k-1],C);var N=S[0],D=0,L=0,V=_.bitLength()%26;for(V===0&&(V=26),k=_.length-1;k>=0;k--){for(var Q=_.words[k],Y=V-1;Y>=0;Y--){var re=Q>>Y&1;N!==S[0]&&(N=this.sqr(N)),re!==0||D!==0?(D<<=1,D|=re,(++L===4||k===0&&Y===0)&&(N=this.mul(N,S[D]),L=0,D=0)):L=0}V=26}return N},M.prototype.convertTo=function(C){var _=C.umod(this.m);return _===C?_.clone():_},M.prototype.convertFrom=function(C){var _=C.clone();return _.red=null,_},o.mont=function(C){return new F(C)},u(F,M),F.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},F.prototype.convertFrom=function(C){var _=this.imod(C.mul(this.rinv));return _.red=null,_},F.prototype.imul=function(C,_){if(C.isZero()||_.isZero())return C.words[0]=0,C.length=1,C;var S=C.imul(_),k=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=S.isub(k).iushrn(this.shift),D=N;return N.cmp(this.m)>=0?D=N.isub(this.m):N.cmpn(0)<0&&(D=N.iadd(this.m)),D._forceRed(this)},F.prototype.mul=function(C,_){if(C.isZero()||_.isZero())return new o(0)._forceRed(this);var S=C.mul(_),k=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=S.isub(k).iushrn(this.shift),D=N;return N.cmp(this.m)>=0?D=N.isub(this.m):N.cmpn(0)<0&&(D=N.iadd(this.m)),D._forceRed(this)},F.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,s){var a;function i(u){this.rand=u}if(n.exports=function(u){return a||(a=new i(null)),a.generate(u)},n.exports.Rand=i,i.prototype.generate=function(u){return this._rand(u)},i.prototype._rand=function(u){if(this.rand.getBytes)return this.rand.getBytes(u);for(var o=new Uint8Array(u),d=0;d<o.length;d++)o[d]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(u){var o=new Uint8Array(u);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(u){var o=new Uint8Array(u);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=e("crypto");if(typeof c.randomBytes!="function")throw new Error("Not supported");i.prototype._rand=function(u){return c.randomBytes(u)}}catch{}},{crypto:188}],188:[function(e,n,s){},{}],189:[function(e,n,s){var a=e("safe-buffer").Buffer;function i(f){a.isBuffer(f)||(f=a.from(f));for(var h=f.length/4|0,g=new Array(h),y=0;y<h;y++)g[y]=f.readUInt32BE(4*y);return g}function c(f){for(;0<f.length;f++)f[0]=0}function u(f,h,g,y,m){for(var v,x,j,T,E=g[0],B=g[1],W=g[2],I=g[3],R=f[0]^h[0],$=f[1]^h[1],K=f[2]^h[2],H=f[3]^h[3],M=4,F=1;F<m;F++)v=E[R>>>24]^B[$>>>16&255]^W[K>>>8&255]^I[255&H]^h[M++],x=E[$>>>24]^B[K>>>16&255]^W[H>>>8&255]^I[255&R]^h[M++],j=E[K>>>24]^B[H>>>16&255]^W[R>>>8&255]^I[255&$]^h[M++],T=E[H>>>24]^B[R>>>16&255]^W[$>>>8&255]^I[255&K]^h[M++],R=v,$=x,K=j,H=T;return v=(y[R>>>24]<<24|y[$>>>16&255]<<16|y[K>>>8&255]<<8|y[255&H])^h[M++],x=(y[$>>>24]<<24|y[K>>>16&255]<<16|y[H>>>8&255]<<8|y[255&R])^h[M++],j=(y[K>>>24]<<24|y[H>>>16&255]<<16|y[R>>>8&255]<<8|y[255&$])^h[M++],T=(y[H>>>24]<<24|y[R>>>16&255]<<16|y[$>>>8&255]<<8|y[255&K])^h[M++],[v>>>=0,x>>>=0,j>>>=0,T>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],d=(function(){for(var f=new Array(256),h=0;h<256;h++)f[h]=h<128?h<<1:h<<1^283;for(var g=[],y=[],m=[[],[],[],[]],v=[[],[],[],[]],x=0,j=0,T=0;T<256;++T){var E=j^j<<1^j<<2^j<<3^j<<4;E=E>>>8^255&E^99,g[x]=E,y[E]=x;var B=f[x],W=f[B],I=f[W],R=257*f[E]^16843008*E;m[0][x]=R<<24|R>>>8,m[1][x]=R<<16|R>>>16,m[2][x]=R<<8|R>>>24,m[3][x]=R,R=16843009*I^65537*W^257*B^16843008*x,v[0][E]=R<<24|R>>>8,v[1][E]=R<<16|R>>>16,v[2][E]=R<<8|R>>>24,v[3][E]=R,x===0?x=j=1:(x=B^f[f[f[I^B]]],j^=f[f[j]])}return{SBOX:g,INV_SBOX:y,SUB_MIX:m,INV_SUB_MIX:v}})();function p(f){this._key=i(f),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var f=this._key,h=f.length,g=h+6,y=4*(g+1),m=[],v=0;v<h;v++)m[v]=f[v];for(v=h;v<y;v++){var x=m[v-1];v%h==0?(x=x<<8|x>>>24,x=d.SBOX[x>>>24]<<24|d.SBOX[x>>>16&255]<<16|d.SBOX[x>>>8&255]<<8|d.SBOX[255&x],x^=o[v/h|0]<<24):h>6&&v%h==4&&(x=d.SBOX[x>>>24]<<24|d.SBOX[x>>>16&255]<<16|d.SBOX[x>>>8&255]<<8|d.SBOX[255&x]),m[v]=m[v-h]^x}for(var j=[],T=0;T<y;T++){var E=y-T,B=m[E-(T%4?0:4)];j[T]=T<4||E<=4?B:d.INV_SUB_MIX[0][d.SBOX[B>>>24]]^d.INV_SUB_MIX[1][d.SBOX[B>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[B>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[255&B]]}this._nRounds=g,this._keySchedule=m,this._invKeySchedule=j},p.prototype.encryptBlockRaw=function(f){return u(f=i(f),this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},p.prototype.encryptBlock=function(f){var h=this.encryptBlockRaw(f),g=a.allocUnsafe(16);return g.writeUInt32BE(h[0],0),g.writeUInt32BE(h[1],4),g.writeUInt32BE(h[2],8),g.writeUInt32BE(h[3],12),g},p.prototype.decryptBlock=function(f){var h=(f=i(f))[1];f[1]=f[3],f[3]=h;var g=u(f,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),y=a.allocUnsafe(16);return y.writeUInt32BE(g[0],0),y.writeUInt32BE(g[3],4),y.writeUInt32BE(g[2],8),y.writeUInt32BE(g[1],12),y},p.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},n.exports.AES=p},{"safe-buffer":494}],190:[function(e,n,s){var a=e("./aes"),i=e("safe-buffer").Buffer,c=e("cipher-base"),u=e("inherits"),o=e("./ghash"),d=e("buffer-xor"),p=e("./incr32");function f(h,g,y,m){c.call(this);var v=i.alloc(4,0);this._cipher=new a.AES(g);var x=this._cipher.encryptBlock(v);this._ghash=new o(x),y=(function(j,T,E){if(T.length===12)return j._finID=i.concat([T,i.from([0,0,0,1])]),i.concat([T,i.from([0,0,0,2])]);var B=new o(E),W=T.length,I=W%16;B.update(T),I&&(I=16-I,B.update(i.alloc(I,0))),B.update(i.alloc(8,0));var R=8*W,$=i.alloc(8);$.writeUIntBE(R,0,8),B.update($),j._finID=B.state;var K=i.from(j._finID);return p(K),K})(this,y,x),this._prev=i.from(y),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}u(f,c),f.prototype._update=function(h){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=i.alloc(g,0),this._ghash.update(g))}this._called=!0;var y=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(y),this._len+=h.length,y},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=d(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(g,y){var m=0;g.length!==y.length&&m++;for(var v=Math.min(g.length,y.length),x=0;x<v;++x)m+=g[x]^y[x];return m})(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},f.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},n.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,s){var a=e("./encrypter"),i=e("./decrypter"),c=e("./modes/list.json");s.createCipher=s.Cipher=a.createCipher,s.createCipheriv=s.Cipheriv=a.createCipheriv,s.createDecipher=s.Decipher=i.createDecipher,s.createDecipheriv=s.Decipheriv=i.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(c)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,s){var a=e("./authCipher"),i=e("safe-buffer").Buffer,c=e("./modes"),u=e("./streamCipher"),o=e("cipher-base"),d=e("./aes"),p=e("evp_bytestokey");function f(y,m,v){o.call(this),this._cache=new h,this._last=void 0,this._cipher=new d.AES(m),this._prev=i.from(v),this._mode=y,this._autopadding=!0}function h(){this.cache=i.allocUnsafe(0)}function g(y,m,v){var x=c[y.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=i.from(v)),x.mode!=="GCM"&&v.length!==x.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=i.from(m)),m.length!==x.key/8)throw new TypeError("invalid key length "+m.length);return x.type==="stream"?new u(x.module,m,v,!0):x.type==="auth"?new a(x.module,m,v,!0):new f(x.module,m,v)}e("inherits")(f,o),f.prototype._update=function(y){var m,v;this._cache.add(y);for(var x=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),x.push(v);return i.concat(x)},f.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return(function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var x=-1;++x<v;)if(m[x+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)})(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},h.prototype.add=function(y){this.cache=i.concat([this.cache,y])},h.prototype.get=function(y){var m;if(y){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(y,m){var v=c[y.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var x=p(m,!1,v.key,v.iv);return g(y,x.key,x.iv)},s.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,s){var a=e("./modes"),i=e("./authCipher"),c=e("safe-buffer").Buffer,u=e("./streamCipher"),o=e("cipher-base"),d=e("./aes"),p=e("evp_bytestokey");function f(m,v,x){o.call(this),this._cache=new g,this._cipher=new d.AES(v),this._prev=c.from(x),this._mode=m,this._autopadding=!0}e("inherits")(f,o),f.prototype._update=function(m){var v,x;this._cache.add(m);for(var j=[];v=this._cache.get();)x=this._mode.encrypt(this,v),j.push(x);return c.concat(j)};var h=c.alloc(16,16);function g(){this.cache=c.allocUnsafe(0)}function y(m,v,x){var j=a[m.toLowerCase()];if(!j)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=c.from(v)),v.length!==j.key/8)throw new TypeError("invalid key length "+v.length);if(typeof x=="string"&&(x=c.from(x)),j.mode!=="GCM"&&x.length!==j.iv)throw new TypeError("invalid iv length "+x.length);return j.type==="stream"?new u(j.module,v,x):j.type==="auth"?new i(j.module,v,x):new f(j.module,v,x)}f.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},g.prototype.add=function(m){this.cache=c.concat([this.cache,m])},g.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},g.prototype.flush=function(){for(var m=16-this.cache.length,v=c.allocUnsafe(m),x=-1;++x<m;)v.writeUInt8(m,x);return c.concat([this.cache,v])},s.createCipheriv=y,s.createCipher=function(m,v){var x=a[m.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var j=p(v,!1,x.key,x.iv);return y(m,j.key,j.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,s){var a=e("safe-buffer").Buffer,i=a.alloc(16,0);function c(o){var d=a.allocUnsafe(16);return d.writeUInt32BE(o[0]>>>0,0),d.writeUInt32BE(o[1]>>>0,4),d.writeUInt32BE(o[2]>>>0,8),d.writeUInt32BE(o[3]>>>0,12),d}function u(o){this.h=o,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}u.prototype.ghash=function(o){for(var d=-1;++d<o.length;)this.state[d]^=o[d];this._multiply()},u.prototype._multiply=function(){for(var o,d,p,f=[(o=this.h).readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)],h=[0,0,0,0],g=-1;++g<128;){for((this.state[~~(g/8)]&1<<7-g%8)!=0&&(h[0]^=f[0],h[1]^=f[1],h[2]^=f[2],h[3]^=f[3]),p=(1&f[3])!=0,d=3;d>0;d--)f[d]=f[d]>>>1|(1&f[d-1])<<31;f[0]=f[0]>>>1,p&&(f[0]=f[0]^225<<24)}this.state=c(h)},u.prototype.update=function(o){var d;for(this.cache=a.concat([this.cache,o]);this.cache.length>=16;)d=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(d)},u.prototype.final=function(o,d){return this.cache.length&&this.ghash(a.concat([this.cache,i],16)),this.ghash(c([0,o,0,d])),this.state},n.exports=u},{"safe-buffer":494}],195:[function(e,n,s){n.exports=function(a){for(var i,c=a.length;c--;){if((i=a.readUInt8(c))!==255){i++,a.writeUInt8(i,c);break}a.writeUInt8(0,c)}}},{}],196:[function(e,n,s){var a=e("buffer-xor");s.encrypt=function(i,c){var u=a(c,i._prev);return i._prev=i._cipher.encryptBlock(u),i._prev},s.decrypt=function(i,c){var u=i._prev;i._prev=c;var o=i._cipher.decryptBlock(c);return a(o,u)}},{"buffer-xor":219}],197:[function(e,n,s){var a=e("safe-buffer").Buffer,i=e("buffer-xor");function c(u,o,d){var p=o.length,f=i(o,u._cache);return u._cache=u._cache.slice(p),u._prev=a.concat([u._prev,d?o:f]),f}s.encrypt=function(u,o,d){for(var p,f=a.allocUnsafe(0);o.length;){if(u._cache.length===0&&(u._cache=u._cipher.encryptBlock(u._prev),u._prev=a.allocUnsafe(0)),!(u._cache.length<=o.length)){f=a.concat([f,c(u,o,d)]);break}p=u._cache.length,f=a.concat([f,c(u,o.slice(0,p),d)]),o=o.slice(p)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,s){var a=e("safe-buffer").Buffer;function i(u,o,d){for(var p,f,h=-1,g=0;++h<8;)p=o&1<<7-h?128:0,g+=(128&(f=u._cipher.encryptBlock(u._prev)[0]^p))>>h%8,u._prev=c(u._prev,d?p:f);return g}function c(u,o){var d=u.length,p=-1,f=a.allocUnsafe(u.length);for(u=a.concat([u,a.from([o])]);++p<d;)f[p]=u[p]<<1|u[p+1]>>7;return f}s.encrypt=function(u,o,d){for(var p=o.length,f=a.allocUnsafe(p),h=-1;++h<p;)f[h]=i(u,o[h],d);return f}},{"safe-buffer":494}],199:[function(e,n,s){var a=e("safe-buffer").Buffer;function i(c,u,o){var d=c._cipher.encryptBlock(c._prev)[0]^u;return c._prev=a.concat([c._prev.slice(1),a.from([o?u:d])]),d}s.encrypt=function(c,u,o){for(var d=u.length,p=a.allocUnsafe(d),f=-1;++f<d;)p[f]=i(c,u[f],o);return p}},{"safe-buffer":494}],200:[function(e,n,s){var a=e("buffer-xor"),i=e("safe-buffer").Buffer,c=e("../incr32");function u(o){var d=o._cipher.encryptBlockRaw(o._prev);return c(o._prev),d}s.encrypt=function(o,d){var p=Math.ceil(d.length/16),f=o._cache.length;o._cache=i.concat([o._cache,i.allocUnsafe(16*p)]);for(var h=0;h<p;h++){var g=u(o),y=f+16*h;o._cache.writeUInt32BE(g[0],y+0),o._cache.writeUInt32BE(g[1],y+4),o._cache.writeUInt32BE(g[2],y+8),o._cache.writeUInt32BE(g[3],y+12)}var m=o._cache.slice(0,d.length);return o._cache=o._cache.slice(d.length),a(d,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,s){s.encrypt=function(a,i){return a._cipher.encryptBlock(i)},s.decrypt=function(a,i){return a._cipher.decryptBlock(i)}},{}],202:[function(e,n,s){var a={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},i=e("./list.json");for(var c in i)i[c].module=a[i[c].mode];n.exports=i},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,s){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,s){(function(a){(function(){var i=e("buffer-xor");function c(u){return u._prev=u._cipher.encryptBlock(u._prev),u._prev}s.encrypt=function(u,o){for(;u._cache.length<o.length;)u._cache=a.concat([u._cache,c(u)]);var d=u._cache.slice(0,o.length);return u._cache=u._cache.slice(o.length),i(o,d)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,s){var a=e("./aes"),i=e("safe-buffer").Buffer,c=e("cipher-base");function u(o,d,p,f){c.call(this),this._cipher=new a.AES(d),this._prev=i.from(p),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=f,this._mode=o}e("inherits")(u,c),u.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},n.exports=u},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,s){var a=e("browserify-des"),i=e("browserify-aes/browser"),c=e("browserify-aes/modes"),u=e("browserify-des/modes"),o=e("evp_bytestokey");function d(f,h,g){if(f=f.toLowerCase(),c[f])return i.createCipheriv(f,h,g);if(u[f])return new a({key:h,iv:g,mode:f});throw new TypeError("invalid suite type")}function p(f,h,g){if(f=f.toLowerCase(),c[f])return i.createDecipheriv(f,h,g);if(u[f])return new a({key:h,iv:g,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(f,h){var g,y;if(f=f.toLowerCase(),c[f])g=c[f].key,y=c[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");g=8*u[f].key,y=u[f].iv}var m=o(h,!1,g,y);return d(f,m.key,m.iv)},s.createCipheriv=s.Cipheriv=d,s.createDecipher=s.Decipher=function(f,h){var g,y;if(f=f.toLowerCase(),c[f])g=c[f].key,y=c[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");g=8*u[f].key,y=u[f].iv}var m=o(h,!1,g,y);return p(f,m.key,m.iv)},s.createDecipheriv=s.Decipheriv=p,s.listCiphers=s.getCiphers=function(){return Object.keys(u).concat(i.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,s){var a=e("cipher-base"),i=e("des.js"),c=e("inherits"),u=e("safe-buffer").Buffer,o={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function d(p){a.call(this);var f,h=p.mode.toLowerCase(),g=o[h];f=p.decrypt?"decrypt":"encrypt";var y=p.key;u.isBuffer(y)||(y=u.from(y)),h!=="des-ede"&&h!=="des-ede-cbc"||(y=u.concat([y,y.slice(0,8)]));var m=p.iv;u.isBuffer(m)||(m=u.from(m)),this._des=g.create({key:y,iv:m,type:f})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],n.exports=d,c(d,a),d.prototype._update=function(p){return u.from(this._des.update(p))},d.prototype._final=function(){return u.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,s){(function(a){(function(){var i=e("bn.js"),c=e("randombytes");function u(d){var p,f=d.modulus.byteLength();do p=new i(c(f));while(p.cmp(d.modulus)>=0||!p.umod(d.prime1)||!p.umod(d.prime2));return p}function o(d,p){var f=(function(W){var I=u(W);return{blinder:I.toRed(i.mont(W.modulus)).redPow(new i(W.publicExponent)).fromRed(),unblinder:I.invm(W.modulus)}})(p),h=p.modulus.byteLength(),g=new i(d).mul(f.blinder).umod(p.modulus),y=g.toRed(i.mont(p.prime1)),m=g.toRed(i.mont(p.prime2)),v=p.coefficient,x=p.prime1,j=p.prime2,T=y.redPow(p.exponent1).fromRed(),E=m.redPow(p.exponent2).fromRed(),B=T.isub(E).imul(v).umod(x).imul(j);return E.iadd(B).imul(f.unblinder).umod(p.modulus).toArrayLike(a,"be",h)}o.getr=u,n.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,s){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,s){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,s){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,s){var a=e("safe-buffer").Buffer,i=e("create-hash"),c=e("readable-stream"),u=e("inherits"),o=e("./sign"),d=e("./verify"),p=e("./algorithms.json");function f(m){c.Writable.call(this);var v=p[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=i(v.hash),this._tag=v.id,this._signType=v.sign}function h(m){c.Writable.call(this);var v=p[m];if(!v)throw new Error("Unknown message digest");this._hash=i(v.hash),this._tag=v.id,this._signType=v.sign}function g(m){return new f(m)}function y(m){return new h(m)}Object.keys(p).forEach((function(m){p[m].id=a.from(p[m].id,"hex"),p[m.toLowerCase()]=p[m]})),u(f,c.Writable),f.prototype._write=function(m,v,x){this._hash.update(m),x()},f.prototype.update=function(m,v){return typeof m=="string"&&(m=a.from(m,v)),this._hash.update(m),this},f.prototype.sign=function(m,v){this.end();var x=this._hash.digest(),j=o(x,m,this._hashType,this._signType,this._tag);return v?j.toString(v):j},u(h,c.Writable),h.prototype._write=function(m,v,x){this._hash.update(m),x()},h.prototype.update=function(m,v){return typeof m=="string"&&(m=a.from(m,v)),this._hash.update(m),this},h.prototype.verify=function(m,v,x){typeof v=="string"&&(v=a.from(v,x)),this.end();var j=this._hash.digest();return d(v,j,m,this._signType,this._tag)},n.exports={Sign:g,Verify:y,createSign:g,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,s){var a=e("safe-buffer").Buffer,i=e("create-hmac"),c=e("browserify-rsa"),u=e("elliptic").ec,o=e("bn.js"),d=e("parse-asn1"),p=e("./curves.json");function f(m,v,x,j){if((m=a.from(m.toArray())).length<v.byteLength()){var T=a.alloc(v.byteLength()-m.length);m=a.concat([T,m])}var E=x.length,B=(function(R,$){R=(R=h(R,$)).mod($);var K=a.from(R.toArray());if(K.length<$.byteLength()){var H=a.alloc($.byteLength()-K.length);K=a.concat([H,K])}return K})(x,v),W=a.alloc(E);W.fill(1);var I=a.alloc(E);return I=i(j,I).update(W).update(a.from([0])).update(m).update(B).digest(),W=i(j,I).update(W).digest(),{k:I=i(j,I).update(W).update(a.from([1])).update(m).update(B).digest(),v:W=i(j,I).update(W).digest()}}function h(m,v){var x=new o(m),j=(m.length<<3)-v.bitLength();return j>0&&x.ishrn(j),x}function g(m,v,x){var j,T;do{for(j=a.alloc(0);8*j.length<m.bitLength();)v.v=i(x,v.k).update(v.v).digest(),j=a.concat([j,v.v]);T=h(j,m),v.k=i(x,v.k).update(v.v).update(a.from([0])).digest(),v.v=i(x,v.k).update(v.v).digest()}while(T.cmp(m)!==-1);return T}function y(m,v,x,j){return m.toRed(o.mont(x)).redPow(v).fromRed().mod(j)}n.exports=function(m,v,x,j,T){var E=d(v);if(E.curve){if(j!=="ecdsa"&&j!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(R,$){var K=p[$.curve.join(".")];if(!K)throw new Error("unknown curve "+$.curve.join("."));var H=new u(K).keyFromPrivate($.privateKey).sign(R);return a.from(H.toDER())})(m,E)}if(E.type==="dsa"){if(j!=="dsa")throw new Error("wrong private key type");return(function(R,$,K){for(var H,M=$.params.priv_key,F=$.params.p,C=$.params.q,_=$.params.g,S=new o(0),k=h(R,C).mod(C),N=!1,D=f(M,C,R,K);N===!1;)H=g(C,D,K),S=y(_,H,F,C),(N=H.invm(C).imul(k.add(M.mul(S))).mod(C)).cmpn(0)===0&&(N=!1,S=new o(0));return(function(L,V){L=L.toArray(),V=V.toArray(),128&L[0]&&(L=[0].concat(L)),128&V[0]&&(V=[0].concat(V));var Q=[48,L.length+V.length+4,2,L.length];return Q=Q.concat(L,[2,V.length],V),a.from(Q)})(S,N)})(m,E,x)}if(j!=="rsa"&&j!=="ecdsa/rsa")throw new Error("wrong private key type");m=a.concat([T,m]);for(var B=E.modulus.byteLength(),W=[0,1];m.length+W.length+1<B;)W.push(255);W.push(0);for(var I=-1;++I<m.length;)W.push(m[I]);return c(W,E)},n.exports.getKey=f,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,s){var a=e("safe-buffer").Buffer,i=e("bn.js"),c=e("elliptic").ec,u=e("parse-asn1"),o=e("./curves.json");function d(p,f){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(f)>=f)throw new Error("invalid sig")}n.exports=function(p,f,h,g,y){var m=u(h);if(m.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(W,I,R){var $=o[R.data.algorithm.curve.join(".")];if(!$)throw new Error("unknown curve "+R.data.algorithm.curve.join("."));var K=new c($),H=R.data.subjectPrivateKey.data;return K.verify(I,W,H)})(p,f,m)}if(m.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return(function(W,I,R){var $=R.data.p,K=R.data.q,H=R.data.g,M=R.data.pub_key,F=u.signature.decode(W,"der"),C=F.s,_=F.r;d(C,K),d(_,K);var S=i.mont($),k=C.invm(K);return H.toRed(S).redPow(new i(I).mul(k).mod(K)).fromRed().mul(M.toRed(S).redPow(_.mul(k).mod(K)).fromRed()).mod($).mod(K).cmp(_)===0})(p,f,m)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");f=a.concat([y,f]);for(var v=m.modulus.byteLength(),x=[1],j=0;f.length+x.length+2<v;)x.push(255),j++;x.push(0);for(var T=-1;++T<f.length;)x.push(f[T]);x=a.from(x);var E=i.mont(m.modulus);p=(p=new i(p).toRed(E)).redPow(new i(m.publicExponent)),p=a.from(p.fromRed().toArray());var B=j<8?1:0;for(v=Math.min(p.length,x.length),p.length!==x.length&&(B=1),T=-1;++T<v;)B|=p[T]^x[T];return B===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,s){},{}],217:[function(e,n,s){var a=e("buffer"),i=a.Buffer;function c(o,d){for(var p in o)d[p]=o[p]}function u(o,d,p){return i(o,d,p)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?n.exports=a:(c(a,s),s.Buffer=u),c(i,u),u.from=function(o,d,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,d,p)},u.alloc=function(o,d,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=i(o);return d!==void 0?typeof p=="string"?f.fill(d,p):f.fill(d):f.fill(0),f},u.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},u.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(o)}},{buffer:220}],218:[function(e,n,s){var a=e("safe-buffer").Buffer,i=a.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(m){var v;switch(this.encoding=(function(x){var j=(function(T){if(!T)return"utf8";for(var E;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(E)return;T=(""+T).toLowerCase(),E=!0}})(x);if(typeof j!="string"&&(a.isEncoding===i||!i(x)))throw new Error("Unknown encoding: "+x);return j||x})(m),this.encoding){case"utf16le":this.text=d,this.end=p,v=4;break;case"utf8":this.fillLast=o,v=4;break;case"base64":this.text=f,this.end=h,v=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(v)}function u(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function o(m){var v=this.lastTotal-this.lastNeed,x=(function(j,T,E){if((192&T[0])!=128)return j.lastNeed=0,"";if(j.lastNeed>1&&T.length>1){if((192&T[1])!=128)return j.lastNeed=1,"";if(j.lastNeed>2&&T.length>2&&(192&T[2])!=128)return j.lastNeed=2,""}})(this,m);return x!==void 0?x:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function d(m,v){if((m.length-v)%2==0){var x=m.toString("utf16le",v);if(x){var j=x.charCodeAt(x.length-1);if(j>=55296&&j<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function p(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,x)}return v}function f(m,v){var x=(m.length-v)%3;return x===0?m.toString("base64",v):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-x))}function h(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function g(m){return m.toString(this.encoding)}function y(m){return m&&m.length?this.write(m):""}s.StringDecoder=c,c.prototype.write=function(m){if(m.length===0)return"";var v,x;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<m.length?v?v+this.text(m,x):this.text(m,x):v||""},c.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"":v},c.prototype.text=function(m,v){var x=(function(T,E,B){var W=E.length-1;if(W<B)return 0;var I=u(E[W]);return I>=0?(I>0&&(T.lastNeed=I-1),I):--W<B||I===-2?0:(I=u(E[W]))>=0?(I>0&&(T.lastNeed=I-2),I):--W<B||I===-2?0:(I=u(E[W]))>=0?(I>0&&(I===2?I=0:T.lastNeed=I-3),I):0})(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=x;var j=m.length-(x-this.lastNeed);return m.copy(this.lastChar,0,j),m.toString("utf8",v,j)},c.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(e,n,s){(function(a){(function(){n.exports=function(i,c){for(var u=Math.min(i.length,c.length),o=new a(u),d=0;d<u;++d)o[d]=i[d]^c[d];return o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,s){(function(a){(function(){var i=e("base64-js"),c=e("ieee754");s.Buffer=o,s.SlowBuffer=function(U){return+U!=U&&(U=0),o.alloc(+U)},s.INSPECT_MAX_BYTES=50;function u(U){if(U>2147483647)throw new RangeError('The value "'+U+'" is invalid for option "size"');var z=new Uint8Array(U);return z.__proto__=o.prototype,z}function o(U,z,G){if(typeof U=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(U)}return d(U,z,G)}function d(U,z,G){if(typeof U=="string")return(function(de,ge){if(typeof ge=="string"&&ge!==""||(ge="utf8"),!o.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);var te=0|y(de,ge),oe=u(te),ne=oe.write(de,ge);return ne!==te&&(oe=oe.slice(0,ne)),oe})(U,z);if(ArrayBuffer.isView(U))return h(U);if(U==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(O(U,ArrayBuffer)||U&&O(U.buffer,ArrayBuffer))return(function(de,ge,te){if(ge<0||de.byteLength<ge)throw new RangeError('"offset" is outside of buffer bounds');if(de.byteLength<ge+(te||0))throw new RangeError('"length" is outside of buffer bounds');var oe;return oe=ge===void 0&&te===void 0?new Uint8Array(de):te===void 0?new Uint8Array(de,ge):new Uint8Array(de,ge,te),oe.__proto__=o.prototype,oe})(U,z,G);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ae=U.valueOf&&U.valueOf();if(ae!=null&&ae!==U)return o.from(ae,z,G);var pe=(function(de){if(o.isBuffer(de)){var ge=0|g(de.length),te=u(ge);return te.length===0||de.copy(te,0,0,ge),te}if(de.length!==void 0)return typeof de.length!="number"||Z(de.length)?u(0):h(de);if(de.type==="Buffer"&&Array.isArray(de.data))return h(de.data)})(U);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return o.from(U[Symbol.toPrimitive]("string"),z,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function p(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function f(U){return p(U),u(U<0?0:0|g(U))}function h(U){for(var z=U.length<0?0:0|g(U.length),G=u(z),ae=0;ae<z;ae+=1)G[ae]=255&U[ae];return G}function g(U){if(U>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|U}function y(U,z){if(o.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||O(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var G=U.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&G===0)return 0;for(var pe=!1;;)switch(z){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return Q(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return Y(U).length;default:if(pe)return ae?-1:Q(U).length;z=(""+z).toLowerCase(),pe=!0}}function m(U,z,G){var ae=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0)<=(z>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return F(this,z,G);case"utf8":case"utf-8":return K(this,z,G);case"ascii":return H(this,z,G);case"latin1":case"binary":return M(this,z,G);case"base64":return $(this,z,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,z,G);default:if(ae)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),ae=!0}}function v(U,z,G){var ae=U[z];U[z]=U[G],U[G]=ae}function x(U,z,G,ae,pe){if(U.length===0)return-1;if(typeof G=="string"?(ae=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),Z(G=+G)&&(G=pe?0:U.length-1),G<0&&(G=U.length+G),G>=U.length){if(pe)return-1;G=U.length-1}else if(G<0){if(!pe)return-1;G=0}if(typeof z=="string"&&(z=o.from(z,ae)),o.isBuffer(z))return z.length===0?-1:j(U,z,G,ae,pe);if(typeof z=="number")return z&=255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(U,z,G):Uint8Array.prototype.lastIndexOf.call(U,z,G):j(U,[z],G,ae,pe);throw new TypeError("val must be string, number or Buffer")}function j(U,z,G,ae,pe){var de,ge=1,te=U.length,oe=z.length;if(ae!==void 0&&((ae=String(ae).toLowerCase())==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(U.length<2||z.length<2)return-1;ge=2,te/=2,oe/=2,G/=2}function ne(ee,se){return ge===1?ee[se]:ee.readUInt16BE(se*ge)}if(pe){var he=-1;for(de=G;de<te;de++)if(ne(U,de)===ne(z,he===-1?0:de-he)){if(he===-1&&(he=de),de-he+1===oe)return he*ge}else he!==-1&&(de-=de-he),he=-1}else for(G+oe>te&&(G=te-oe),de=G;de>=0;de--){for(var ce=!0,ie=0;ie<oe;ie++)if(ne(U,de+ie)!==ne(z,ie)){ce=!1;break}if(ce)return de}return-1}function T(U,z,G,ae){G=Number(G)||0;var pe=U.length-G;ae?(ae=Number(ae))>pe&&(ae=pe):ae=pe;var de=z.length;ae>de/2&&(ae=de/2);for(var ge=0;ge<ae;++ge){var te=parseInt(z.substr(2*ge,2),16);if(Z(te))return ge;U[G+ge]=te}return ge}function E(U,z,G,ae){return re(Q(z,U.length-G),U,G,ae)}function B(U,z,G,ae){return re((function(pe){for(var de=[],ge=0;ge<pe.length;++ge)de.push(255&pe.charCodeAt(ge));return de})(z),U,G,ae)}function W(U,z,G,ae){return B(U,z,G,ae)}function I(U,z,G,ae){return re(Y(z),U,G,ae)}function R(U,z,G,ae){return re((function(pe,de){for(var ge,te,oe,ne=[],he=0;he<pe.length&&!((de-=2)<0);++he)ge=pe.charCodeAt(he),te=ge>>8,oe=ge%256,ne.push(oe),ne.push(te);return ne})(z,U.length-G),U,G,ae)}function $(U,z,G){return z===0&&G===U.length?i.fromByteArray(U):i.fromByteArray(U.slice(z,G))}function K(U,z,G){G=Math.min(U.length,G);for(var ae=[],pe=z;pe<G;){var de,ge,te,oe,ne=U[pe],he=null,ce=ne>239?4:ne>223?3:ne>191?2:1;if(pe+ce<=G)switch(ce){case 1:ne<128&&(he=ne);break;case 2:(192&(de=U[pe+1]))==128&&(oe=(31&ne)<<6|63&de)>127&&(he=oe);break;case 3:de=U[pe+1],ge=U[pe+2],(192&de)==128&&(192&ge)==128&&(oe=(15&ne)<<12|(63&de)<<6|63&ge)>2047&&(oe<55296||oe>57343)&&(he=oe);break;case 4:de=U[pe+1],ge=U[pe+2],te=U[pe+3],(192&de)==128&&(192&ge)==128&&(192&te)==128&&(oe=(15&ne)<<18|(63&de)<<12|(63&ge)<<6|63&te)>65535&&oe<1114112&&(he=oe)}he===null?(he=65533,ce=1):he>65535&&(he-=65536,ae.push(he>>>10&1023|55296),he=56320|1023&he),ae.push(he),pe+=ce}return(function(ie){var ee=ie.length;if(ee<=4096)return String.fromCharCode.apply(String,ie);for(var se="",le=0;le<ee;)se+=String.fromCharCode.apply(String,ie.slice(le,le+=4096));return se})(ae)}s.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=(function(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},U.foo()===42}catch{return!1}})(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(U,z,G){return d(U,z,G)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(U,z,G){return(function(ae,pe,de){return p(ae),ae<=0?u(ae):pe!==void 0?typeof de=="string"?u(ae).fill(pe,de):u(ae).fill(pe):u(ae)})(U,z,G)},o.allocUnsafe=function(U){return f(U)},o.allocUnsafeSlow=function(U){return f(U)},o.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==o.prototype},o.compare=function(U,z){if(O(U,Uint8Array)&&(U=o.from(U,U.offset,U.byteLength)),O(z,Uint8Array)&&(z=o.from(z,z.offset,z.byteLength)),!o.isBuffer(U)||!o.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===z)return 0;for(var G=U.length,ae=z.length,pe=0,de=Math.min(G,ae);pe<de;++pe)if(U[pe]!==z[pe]){G=U[pe],ae=z[pe];break}return G<ae?-1:ae<G?1:0},o.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(U,z){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return o.alloc(0);var G;if(z===void 0)for(z=0,G=0;G<U.length;++G)z+=U[G].length;var ae=o.allocUnsafe(z),pe=0;for(G=0;G<U.length;++G){var de=U[G];if(O(de,Uint8Array)&&(de=o.from(de)),!o.isBuffer(de))throw new TypeError('"list" argument must be an Array of Buffers');de.copy(ae,pe),pe+=de.length}return ae},o.byteLength=y,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var z=0;z<U;z+=2)v(this,z,z+1);return this},o.prototype.swap32=function(){var U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var z=0;z<U;z+=4)v(this,z,z+3),v(this,z+1,z+2);return this},o.prototype.swap64=function(){var U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var z=0;z<U;z+=8)v(this,z,z+7),v(this,z+1,z+6),v(this,z+2,z+5),v(this,z+3,z+4);return this},o.prototype.toString=function(){var U=this.length;return U===0?"":arguments.length===0?K(this,0,U):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(U){if(!o.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U||o.compare(this,U)===0},o.prototype.inspect=function(){var U="",z=s.INSPECT_MAX_BYTES;return U=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(U+=" ... "),"<Buffer "+U+">"},o.prototype.compare=function(U,z,G,ae,pe){if(O(U,Uint8Array)&&(U=o.from(U,U.offset,U.byteLength)),!o.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(z===void 0&&(z=0),G===void 0&&(G=U?U.length:0),ae===void 0&&(ae=0),pe===void 0&&(pe=this.length),z<0||G>U.length||ae<0||pe>this.length)throw new RangeError("out of range index");if(ae>=pe&&z>=G)return 0;if(ae>=pe)return-1;if(z>=G)return 1;if(this===U)return 0;for(var de=(pe>>>=0)-(ae>>>=0),ge=(G>>>=0)-(z>>>=0),te=Math.min(de,ge),oe=this.slice(ae,pe),ne=U.slice(z,G),he=0;he<te;++he)if(oe[he]!==ne[he]){de=oe[he],ge=ne[he];break}return de<ge?-1:ge<de?1:0},o.prototype.includes=function(U,z,G){return this.indexOf(U,z,G)!==-1},o.prototype.indexOf=function(U,z,G){return x(this,U,z,G,!0)},o.prototype.lastIndexOf=function(U,z,G){return x(this,U,z,G,!1)},o.prototype.write=function(U,z,G,ae){if(z===void 0)ae="utf8",G=this.length,z=0;else if(G===void 0&&typeof z=="string")ae=z,G=this.length,z=0;else{if(!isFinite(z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");z>>>=0,isFinite(G)?(G>>>=0,ae===void 0&&(ae="utf8")):(ae=G,G=void 0)}var pe=this.length-z;if((G===void 0||G>pe)&&(G=pe),U.length>0&&(G<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");for(var de=!1;;)switch(ae){case"hex":return T(this,U,z,G);case"utf8":case"utf-8":return E(this,U,z,G);case"ascii":return B(this,U,z,G);case"latin1":case"binary":return W(this,U,z,G);case"base64":return I(this,U,z,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,U,z,G);default:if(de)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),de=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(U,z,G){var ae="";G=Math.min(U.length,G);for(var pe=z;pe<G;++pe)ae+=String.fromCharCode(127&U[pe]);return ae}function M(U,z,G){var ae="";G=Math.min(U.length,G);for(var pe=z;pe<G;++pe)ae+=String.fromCharCode(U[pe]);return ae}function F(U,z,G){var ae=U.length;(!z||z<0)&&(z=0),(!G||G<0||G>ae)&&(G=ae);for(var pe="",de=z;de<G;++de)pe+=V(U[de]);return pe}function C(U,z,G){for(var ae=U.slice(z,G),pe="",de=0;de<ae.length;de+=2)pe+=String.fromCharCode(ae[de]+256*ae[de+1]);return pe}function _(U,z,G){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+z>G)throw new RangeError("Trying to access beyond buffer length")}function S(U,z,G,ae,pe,de){if(!o.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>pe||z<de)throw new RangeError('"value" argument is out of bounds');if(G+ae>U.length)throw new RangeError("Index out of range")}function k(U,z,G,ae,pe,de){if(G+ae>U.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function N(U,z,G,ae,pe){return z=+z,G>>>=0,pe||k(U,0,G,4),c.write(U,z,G,ae,23,4),G+4}function D(U,z,G,ae,pe){return z=+z,G>>>=0,pe||k(U,0,G,8),c.write(U,z,G,ae,52,8),G+8}o.prototype.slice=function(U,z){var G=this.length;(U=~~U)<0?(U+=G)<0&&(U=0):U>G&&(U=G),(z=z===void 0?G:~~z)<0?(z+=G)<0&&(z=0):z>G&&(z=G),z<U&&(z=U);var ae=this.subarray(U,z);return ae.__proto__=o.prototype,ae},o.prototype.readUIntLE=function(U,z,G){U>>>=0,z>>>=0,G||_(U,z,this.length);for(var ae=this[U],pe=1,de=0;++de<z&&(pe*=256);)ae+=this[U+de]*pe;return ae},o.prototype.readUIntBE=function(U,z,G){U>>>=0,z>>>=0,G||_(U,z,this.length);for(var ae=this[U+--z],pe=1;z>0&&(pe*=256);)ae+=this[U+--z]*pe;return ae},o.prototype.readUInt8=function(U,z){return U>>>=0,z||_(U,1,this.length),this[U]},o.prototype.readUInt16LE=function(U,z){return U>>>=0,z||_(U,2,this.length),this[U]|this[U+1]<<8},o.prototype.readUInt16BE=function(U,z){return U>>>=0,z||_(U,2,this.length),this[U]<<8|this[U+1]},o.prototype.readUInt32LE=function(U,z){return U>>>=0,z||_(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},o.prototype.readUInt32BE=function(U,z){return U>>>=0,z||_(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},o.prototype.readIntLE=function(U,z,G){U>>>=0,z>>>=0,G||_(U,z,this.length);for(var ae=this[U],pe=1,de=0;++de<z&&(pe*=256);)ae+=this[U+de]*pe;return ae>=(pe*=128)&&(ae-=Math.pow(2,8*z)),ae},o.prototype.readIntBE=function(U,z,G){U>>>=0,z>>>=0,G||_(U,z,this.length);for(var ae=z,pe=1,de=this[U+--ae];ae>0&&(pe*=256);)de+=this[U+--ae]*pe;return de>=(pe*=128)&&(de-=Math.pow(2,8*z)),de},o.prototype.readInt8=function(U,z){return U>>>=0,z||_(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},o.prototype.readInt16LE=function(U,z){U>>>=0,z||_(U,2,this.length);var G=this[U]|this[U+1]<<8;return 32768&G?4294901760|G:G},o.prototype.readInt16BE=function(U,z){U>>>=0,z||_(U,2,this.length);var G=this[U+1]|this[U]<<8;return 32768&G?4294901760|G:G},o.prototype.readInt32LE=function(U,z){return U>>>=0,z||_(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},o.prototype.readInt32BE=function(U,z){return U>>>=0,z||_(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},o.prototype.readFloatLE=function(U,z){return U>>>=0,z||_(U,4,this.length),c.read(this,U,!0,23,4)},o.prototype.readFloatBE=function(U,z){return U>>>=0,z||_(U,4,this.length),c.read(this,U,!1,23,4)},o.prototype.readDoubleLE=function(U,z){return U>>>=0,z||_(U,8,this.length),c.read(this,U,!0,52,8)},o.prototype.readDoubleBE=function(U,z){return U>>>=0,z||_(U,8,this.length),c.read(this,U,!1,52,8)},o.prototype.writeUIntLE=function(U,z,G,ae){U=+U,z>>>=0,G>>>=0,ae||S(this,U,z,G,Math.pow(2,8*G)-1,0);var pe=1,de=0;for(this[z]=255&U;++de<G&&(pe*=256);)this[z+de]=U/pe&255;return z+G},o.prototype.writeUIntBE=function(U,z,G,ae){U=+U,z>>>=0,G>>>=0,ae||S(this,U,z,G,Math.pow(2,8*G)-1,0);var pe=G-1,de=1;for(this[z+pe]=255&U;--pe>=0&&(de*=256);)this[z+pe]=U/de&255;return z+G},o.prototype.writeUInt8=function(U,z,G){return U=+U,z>>>=0,G||S(this,U,z,1,255,0),this[z]=255&U,z+1},o.prototype.writeUInt16LE=function(U,z,G){return U=+U,z>>>=0,G||S(this,U,z,2,65535,0),this[z]=255&U,this[z+1]=U>>>8,z+2},o.prototype.writeUInt16BE=function(U,z,G){return U=+U,z>>>=0,G||S(this,U,z,2,65535,0),this[z]=U>>>8,this[z+1]=255&U,z+2},o.prototype.writeUInt32LE=function(U,z,G){return U=+U,z>>>=0,G||S(this,U,z,4,4294967295,0),this[z+3]=U>>>24,this[z+2]=U>>>16,this[z+1]=U>>>8,this[z]=255&U,z+4},o.prototype.writeUInt32BE=function(U,z,G){return U=+U,z>>>=0,G||S(this,U,z,4,4294967295,0),this[z]=U>>>24,this[z+1]=U>>>16,this[z+2]=U>>>8,this[z+3]=255&U,z+4},o.prototype.writeIntLE=function(U,z,G,ae){if(U=+U,z>>>=0,!ae){var pe=Math.pow(2,8*G-1);S(this,U,z,G,pe-1,-pe)}var de=0,ge=1,te=0;for(this[z]=255&U;++de<G&&(ge*=256);)U<0&&te===0&&this[z+de-1]!==0&&(te=1),this[z+de]=(U/ge>>0)-te&255;return z+G},o.prototype.writeIntBE=function(U,z,G,ae){if(U=+U,z>>>=0,!ae){var pe=Math.pow(2,8*G-1);S(this,U,z,G,pe-1,-pe)}var de=G-1,ge=1,te=0;for(this[z+de]=255&U;--de>=0&&(ge*=256);)U<0&&te===0&&this[z+de+1]!==0&&(te=1),this[z+de]=(U/ge>>0)-te&255;return z+G},o.prototype.writeInt8=function(U,z,G){return U=+U,z>>>=0,G||S(this,U,z,1,127,-128),U<0&&(U=255+U+1),this[z]=255&U,z+1},o.prototype.writeInt16LE=function(U,z,G){return U=+U,z>>>=0,G||S(this,U,z,2,32767,-32768),this[z]=255&U,this[z+1]=U>>>8,z+2},o.prototype.writeInt16BE=function(U,z,G){return U=+U,z>>>=0,G||S(this,U,z,2,32767,-32768),this[z]=U>>>8,this[z+1]=255&U,z+2},o.prototype.writeInt32LE=function(U,z,G){return U=+U,z>>>=0,G||S(this,U,z,4,2147483647,-2147483648),this[z]=255&U,this[z+1]=U>>>8,this[z+2]=U>>>16,this[z+3]=U>>>24,z+4},o.prototype.writeInt32BE=function(U,z,G){return U=+U,z>>>=0,G||S(this,U,z,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[z]=U>>>24,this[z+1]=U>>>16,this[z+2]=U>>>8,this[z+3]=255&U,z+4},o.prototype.writeFloatLE=function(U,z,G){return N(this,U,z,!0,G)},o.prototype.writeFloatBE=function(U,z,G){return N(this,U,z,!1,G)},o.prototype.writeDoubleLE=function(U,z,G){return D(this,U,z,!0,G)},o.prototype.writeDoubleBE=function(U,z,G){return D(this,U,z,!1,G)},o.prototype.copy=function(U,z,G,ae){if(!o.isBuffer(U))throw new TypeError("argument should be a Buffer");if(G||(G=0),ae||ae===0||(ae=this.length),z>=U.length&&(z=U.length),z||(z=0),ae>0&&ae<G&&(ae=G),ae===G||U.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),U.length-z<ae-G&&(ae=U.length-z+G);var pe=ae-G;if(this===U&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(z,G,ae);else if(this===U&&G<z&&z<ae)for(var de=pe-1;de>=0;--de)U[de+z]=this[de+G];else Uint8Array.prototype.set.call(U,this.subarray(G,ae),z);return pe},o.prototype.fill=function(U,z,G,ae){if(typeof U=="string"){if(typeof z=="string"?(ae=z,z=0,G=this.length):typeof G=="string"&&(ae=G,G=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!o.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(U.length===1){var pe=U.charCodeAt(0);(ae==="utf8"&&pe<128||ae==="latin1")&&(U=pe)}}else typeof U=="number"&&(U&=255);if(z<0||this.length<z||this.length<G)throw new RangeError("Out of range index");if(G<=z)return this;var de;if(z>>>=0,G=G===void 0?this.length:G>>>0,U||(U=0),typeof U=="number")for(de=z;de<G;++de)this[de]=U;else{var ge=o.isBuffer(U)?U:o.from(U,ae),te=ge.length;if(te===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(de=0;de<G-z;++de)this[de+z]=ge[de%te]}return this};var L=/[^+/0-9A-Za-z-_]/g;function V(U){return U<16?"0"+U.toString(16):U.toString(16)}function Q(U,z){var G;z=z||1/0;for(var ae=U.length,pe=null,de=[],ge=0;ge<ae;++ge){if((G=U.charCodeAt(ge))>55295&&G<57344){if(!pe){if(G>56319){(z-=3)>-1&&de.push(239,191,189);continue}if(ge+1===ae){(z-=3)>-1&&de.push(239,191,189);continue}pe=G;continue}if(G<56320){(z-=3)>-1&&de.push(239,191,189),pe=G;continue}G=65536+(pe-55296<<10|G-56320)}else pe&&(z-=3)>-1&&de.push(239,191,189);if(pe=null,G<128){if((z-=1)<0)break;de.push(G)}else if(G<2048){if((z-=2)<0)break;de.push(G>>6|192,63&G|128)}else if(G<65536){if((z-=3)<0)break;de.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;de.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return de}function Y(U){return i.toByteArray((function(z){if((z=(z=z.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;z.length%4!=0;)z+="=";return z})(U))}function re(U,z,G,ae){for(var pe=0;pe<ae&&!(pe+G>=z.length||pe>=U.length);++pe)z[pe+G]=U[pe];return pe}function O(U,z){return U instanceof z||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===z.name}function Z(U){return U!=U}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,s){var a=e("safe-buffer").Buffer,i=e("stream").Transform,c=e("string_decoder").StringDecoder;function u(o){i.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(u,i),u.prototype.update=function(o,d,p){typeof o=="string"&&(o=a.from(o,d));var f=this._update(o);return this.hashMode?this:(p&&(f=this._toString(f,p)),f)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(o,d,p){var f;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(h){f=h}finally{p(f)}},u.prototype._flush=function(o){var d;try{this.push(this.__final())}catch(p){d=p}o(d)},u.prototype._finalOrDigest=function(o){var d=this.__final()||a.alloc(0);return o&&(d=this._toString(d,o,!0)),d},u.prototype._toString=function(o,d,p){if(this._decoder||(this._decoder=new c(d),this._encoding=d),this._encoding!==d)throw new Error("can't switch encodings");var f=this._decoder.write(o);return p&&(f+=this._decoder.end()),f},n.exports=u},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,s){var a=e("../internals/is-callable"),i=e("../internals/try-to-string"),c=TypeError;n.exports=function(u){if(a(u))return u;throw new c(i(u)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,s){var a=e("../internals/is-constructor"),i=e("../internals/try-to-string"),c=TypeError;n.exports=function(u){if(a(u))return u;throw new c(i(u)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,s){var a=e("../internals/is-callable"),i=String,c=TypeError;n.exports=function(u){if(typeof u=="object"||a(u))return u;throw new c("Can't set "+i(u)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,s){var a=e("../internals/well-known-symbol"),i=e("../internals/object-create"),c=e("../internals/object-define-property").f,u=a("unscopables"),o=Array.prototype;o[u]===void 0&&c(o,u,{configurable:!0,value:i(null)}),n.exports=function(d){o[u][d]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,s){var a=e("../internals/object-is-prototype-of"),i=TypeError;n.exports=function(c,u){if(a(u,c))return c;throw new i("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,s){var a=e("../internals/is-object"),i=String,c=TypeError;n.exports=function(u){if(a(u))return u;throw new c(i(u)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,s){var a=e("../internals/to-indexed-object"),i=e("../internals/to-absolute-index"),c=e("../internals/length-of-array-like"),u=function(o){return function(d,p,f){var h,g=a(d),y=c(g),m=i(f,y);if(o&&p!=p){for(;y>m;)if((h=g[m++])!=h)return!0}else for(;y>m;m++)if((o||m in g)&&g[m]===p)return o||m||0;return!o&&-1}};n.exports={includes:u(!0),indexOf:u(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,s){var a=e("../internals/function-bind-context"),i=e("../internals/function-uncurry-this"),c=e("../internals/indexed-object"),u=e("../internals/to-object"),o=e("../internals/length-of-array-like"),d=e("../internals/array-species-create"),p=i([].push),f=function(h){var g=h===1,y=h===2,m=h===3,v=h===4,x=h===6,j=h===7,T=h===5||x;return function(E,B,W,I){for(var R,$,K=u(E),H=c(K),M=a(B,W),F=o(H),C=0,_=I||d,S=g?_(E,F):y||j?_(E,0):void 0;F>C;C++)if((T||C in H)&&($=M(R=H[C],C,K),h))if(g)S[C]=$;else if($)switch(h){case 3:return!0;case 5:return R;case 6:return C;case 2:p(S,R)}else switch(h){case 4:return!1;case 7:p(S,R)}return x?-1:m||v?v:S}};n.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,s){var a=e("../internals/to-absolute-index"),i=e("../internals/length-of-array-like"),c=e("../internals/create-property"),u=Array,o=Math.max;n.exports=function(d,p,f){for(var h=i(d),g=a(p,h),y=a(f===void 0?h:f,h),m=u(o(y-g,0)),v=0;g<y;g++,v++)c(m,v,d[g]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,s){var a=e("../internals/function-uncurry-this");n.exports=a([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,s){var a=e("../internals/is-array"),i=e("../internals/is-constructor"),c=e("../internals/is-object"),u=e("../internals/well-known-symbol")("species"),o=Array;n.exports=function(d){var p;return a(d)&&(p=d.constructor,(i(p)&&(p===o||a(p.prototype))||c(p)&&(p=p[u])===null)&&(p=void 0)),p===void 0?o:p}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,s){var a=e("../internals/array-species-constructor");n.exports=function(i,c){return new(a(i))(c===0?0:c)}},{"../internals/array-species-constructor":232}],234:[function(e,n,s){var a=e("../internals/well-known-symbol")("iterator"),i=!1;try{var c=0,u={next:function(){return{done:!!c++}},return:function(){i=!0}};u[a]=function(){return this},Array.from(u,(function(){throw 2}))}catch{}n.exports=function(o,d){try{if(!d&&!i)return!1}catch{return!1}var p=!1;try{var f={};f[a]=function(){return{next:function(){return{done:p=!0}}}},o(f)}catch{}return p}},{"../internals/well-known-symbol":357}],235:[function(e,n,s){var a=e("../internals/function-uncurry-this"),i=a({}.toString),c=a("".slice);n.exports=function(u){return c(i(u),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,s){var a=e("../internals/to-string-tag-support"),i=e("../internals/is-callable"),c=e("../internals/classof-raw"),u=e("../internals/well-known-symbol")("toStringTag"),o=Object,d=c((function(){return arguments})())==="Arguments";n.exports=a?c:function(p){var f,h,g;return p===void 0?"Undefined":p===null?"Null":typeof(h=(function(y,m){try{return y[m]}catch{}})(f=o(p),u))=="string"?h:d?c(f):(g=c(f))==="Object"&&i(f.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,s){var a=e("../internals/has-own-property"),i=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),u=e("../internals/object-define-property");n.exports=function(o,d,p){for(var f=i(d),h=u.f,g=c.f,y=0;y<f.length;y++){var m=f[y];a(o,m)||p&&a(p,m)||h(o,m,g(d,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,s){var a=e("../internals/well-known-symbol")("match");n.exports=function(i){var c=/./;try{"/./"[i](c)}catch{try{return c[a]=!1,"/./"[i](c)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,s){var a=e("../internals/fails");n.exports=!a((function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype}))},{"../internals/fails":260}],240:[function(e,n,s){n.exports=function(a,i){return{value:a,done:i}}},{}],241:[function(e,n,s){var a=e("../internals/descriptors"),i=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");n.exports=a?function(u,o,d){return i.f(u,o,c(1,d))}:function(u,o,d){return u[o]=d,u}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,s){n.exports=function(a,i){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:i}}},{}],243:[function(e,n,s){var a=e("../internals/to-property-key"),i=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");n.exports=function(u,o,d){var p=a(o);p in u?i.f(u,p,c(0,d)):u[p]=d}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,s){var a=e("../internals/make-built-in"),i=e("../internals/object-define-property");n.exports=function(c,u,o){return o.get&&a(o.get,u,{getter:!0}),o.set&&a(o.set,u,{setter:!0}),i.f(c,u,o)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,s){var a=e("../internals/is-callable"),i=e("../internals/object-define-property"),c=e("../internals/make-built-in"),u=e("../internals/define-global-property");n.exports=function(o,d,p,f){f||(f={});var h=f.enumerable,g=f.name!==void 0?f.name:d;if(a(p)&&c(p,g,f),f.global)h?o[d]=p:u(d,p);else{try{f.unsafe?o[d]&&(h=!0):delete o[d]}catch{}h?o[d]=p:i.f(o,d,{value:p,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return o}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,s){var a=e("../internals/global"),i=Object.defineProperty;n.exports=function(c,u){try{i(a,c,{value:u,configurable:!0,writable:!0})}catch{a[c]=u}return u}},{"../internals/global":274}],247:[function(e,n,s){var a=e("../internals/fails");n.exports=!a((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(e,n,s){var a=typeof document=="object"&&document.all,i=a===void 0&&a!==void 0;n.exports={all:a,IS_HTMLDDA:i}},{}],249:[function(e,n,s){var a=e("../internals/global"),i=e("../internals/is-object"),c=a.document,u=i(c)&&i(c.createElement);n.exports=function(o){return u?c.createElement(o):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,s){var a=e("../internals/engine-is-deno"),i=e("../internals/engine-is-node");n.exports=!a&&!i&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,s){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,s){var a=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(a)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,s){var a=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},{"../internals/engine-user-agent":256}],254:[function(e,n,s){var a=e("../internals/global"),i=e("../internals/classof-raw");n.exports=i(a.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,s){var a=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(a)},{"../internals/engine-user-agent":256}],256:[function(e,n,s){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,s){var a,i,c=e("../internals/global"),u=e("../internals/engine-user-agent"),o=c.process,d=c.Deno,p=o&&o.versions||d&&d.version,f=p&&p.v8;f&&(i=(a=f.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!i&&u&&(!(a=u.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=u.match(/Chrome\/(\d+)/))&&(i=+a[1]),n.exports=i},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,s){var a=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),u=e("../internals/define-built-in"),o=e("../internals/define-global-property"),d=e("../internals/copy-constructor-properties"),p=e("../internals/is-forced");n.exports=function(f,h){var g,y,m,v,x,j=f.target,T=f.global,E=f.stat;if(g=T?a:E?a[j]||o(j,{}):(a[j]||{}).prototype)for(y in h){if(v=h[y],m=f.dontCallGetSet?(x=i(g,y))&&x.value:g[y],!p(T?y:j+(E?".":"#")+y,f.forced)&&m!==void 0){if(typeof v==typeof m)continue;d(v,m)}(f.sham||m&&m.sham)&&c(v,"sham",!0),u(g,y,v,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,s){n.exports=function(a){try{return!!a()}catch{return!0}}},{}],261:[function(e,n,s){var a=e("../internals/function-bind-native"),i=Function.prototype,c=i.apply,u=i.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(a?u.bind(c):function(){return u.apply(c,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,s){var a=e("../internals/function-uncurry-this-clause"),i=e("../internals/a-callable"),c=e("../internals/function-bind-native"),u=a(a.bind);n.exports=function(o,d){return i(o),d===void 0?o:c?u(o,d):function(){return o.apply(d,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,s){var a=e("../internals/fails");n.exports=!a((function(){var i=function(){}.bind();return typeof i!="function"||i.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(e,n,s){var a=e("../internals/function-bind-native"),i=Function.prototype.call;n.exports=a?i.bind(i):function(){return i.apply(i,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,s){var a=e("../internals/descriptors"),i=e("../internals/has-own-property"),c=Function.prototype,u=a&&Object.getOwnPropertyDescriptor,o=i(c,"name"),d=o&&function(){}.name==="something",p=o&&(!a||a&&u(c,"name").configurable);n.exports={EXISTS:o,PROPER:d,CONFIGURABLE:p}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,s){var a=e("../internals/function-uncurry-this"),i=e("../internals/a-callable");n.exports=function(c,u,o){try{return a(i(Object.getOwnPropertyDescriptor(c,u)[o]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,s){var a=e("../internals/classof-raw"),i=e("../internals/function-uncurry-this");n.exports=function(c){if(a(c)==="Function")return i(c)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,s){var a=e("../internals/function-bind-native"),i=Function.prototype,c=i.call,u=a&&i.bind.bind(c,c);n.exports=a?u:function(o){return function(){return c.apply(o,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,s){var a=e("../internals/global"),i=e("../internals/is-callable"),c=function(u){return i(u)?u:void 0};n.exports=function(u,o){return arguments.length<2?c(a[u]):a[u]&&a[u][o]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,s){var a=e("../internals/classof"),i=e("../internals/get-method"),c=e("../internals/is-null-or-undefined"),u=e("../internals/iterators"),o=e("../internals/well-known-symbol")("iterator");n.exports=function(d){if(!c(d))return i(d,o)||i(d,"@@iterator")||u[a(d)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,s){var a=e("../internals/function-call"),i=e("../internals/a-callable"),c=e("../internals/an-object"),u=e("../internals/try-to-string"),o=e("../internals/get-iterator-method"),d=TypeError;n.exports=function(p,f){var h=arguments.length<2?o(p):f;if(i(h))return c(a(h,p));throw new d(u(p)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,s){var a=e("../internals/function-uncurry-this"),i=e("../internals/is-array"),c=e("../internals/is-callable"),u=e("../internals/classof-raw"),o=e("../internals/to-string"),d=a([].push);n.exports=function(p){if(c(p))return p;if(i(p)){for(var f=p.length,h=[],g=0;g<f;g++){var y=p[g];typeof y=="string"?d(h,y):typeof y!="number"&&u(y)!=="Number"&&u(y)!=="String"||d(h,o(y))}var m=h.length,v=!0;return function(x,j){if(v)return v=!1,j;if(i(this))return j;for(var T=0;T<m;T++)if(h[T]===x)return j}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,s){var a=e("../internals/a-callable"),i=e("../internals/is-null-or-undefined");n.exports=function(c,u){var o=c[u];return i(o)?void 0:a(o)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,s){(function(a){(function(){var i=function(c){return c&&c.Math===Math&&c};n.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof a=="object"&&a)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,s){var a=e("../internals/function-uncurry-this"),i=e("../internals/to-object"),c=a({}.hasOwnProperty);n.exports=Object.hasOwn||function(u,o){return c(i(u),o)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,s){n.exports={}},{}],277:[function(e,n,s){n.exports=function(a,i){try{arguments.length===1?console.error(a):console.error(a,i)}catch{}}},{}],278:[function(e,n,s){var a=e("../internals/get-built-in");n.exports=a("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,s){var a=e("../internals/descriptors"),i=e("../internals/fails"),c=e("../internals/document-create-element");n.exports=!a&&!i((function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,s){var a=e("../internals/function-uncurry-this"),i=e("../internals/fails"),c=e("../internals/classof-raw"),u=Object,o=a("".split);n.exports=i((function(){return!u("z").propertyIsEnumerable(0)}))?function(d){return c(d)==="String"?o(d,""):u(d)}:u},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,s){var a=e("../internals/function-uncurry-this"),i=e("../internals/is-callable"),c=e("../internals/shared-store"),u=a(Function.toString);i(c.inspectSource)||(c.inspectSource=function(o){return u(o)}),n.exports=c.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,s){var a,i,c,u=e("../internals/weak-map-basic-detection"),o=e("../internals/global"),d=e("../internals/is-object"),p=e("../internals/create-non-enumerable-property"),f=e("../internals/has-own-property"),h=e("../internals/shared-store"),g=e("../internals/shared-key"),y=e("../internals/hidden-keys"),m=o.TypeError,v=o.WeakMap;if(u||h.state){var x=h.state||(h.state=new v);x.get=x.get,x.has=x.has,x.set=x.set,a=function(T,E){if(x.has(T))throw new m("Object already initialized");return E.facade=T,x.set(T,E),E},i=function(T){return x.get(T)||{}},c=function(T){return x.has(T)}}else{var j=g("state");y[j]=!0,a=function(T,E){if(f(T,j))throw new m("Object already initialized");return E.facade=T,p(T,j,E),E},i=function(T){return f(T,j)?T[j]:{}},c=function(T){return f(T,j)}}n.exports={set:a,get:i,has:c,enforce:function(T){return c(T)?i(T):a(T,{})},getterFor:function(T){return function(E){var B;if(!d(E)||(B=i(E)).type!==T)throw new m("Incompatible receiver, "+T+" required");return B}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,s){var a=e("../internals/well-known-symbol"),i=e("../internals/iterators"),c=a("iterator"),u=Array.prototype;n.exports=function(o){return o!==void 0&&(i.Array===o||u[c]===o)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,s){var a=e("../internals/classof-raw");n.exports=Array.isArray||function(i){return a(i)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,s){var a=e("../internals/document-all"),i=a.all;n.exports=a.IS_HTMLDDA?function(c){return typeof c=="function"||c===i}:function(c){return typeof c=="function"}},{"../internals/document-all":248}],286:[function(e,n,s){var a=e("../internals/function-uncurry-this"),i=e("../internals/fails"),c=e("../internals/is-callable"),u=e("../internals/classof"),o=e("../internals/get-built-in"),d=e("../internals/inspect-source"),p=function(){},f=[],h=o("Reflect","construct"),g=/^\s*(?:class|function)\b/,y=a(g.exec),m=!g.test(p),v=function(j){if(!c(j))return!1;try{return h(p,f,j),!0}catch{return!1}},x=function(j){if(!c(j))return!1;switch(u(j)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!y(g,d(j))}catch{return!0}};x.sham=!0,n.exports=!h||i((function(){var j;return v(v.call)||!v(Object)||!v((function(){j=!0}))||j}))?x:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,s){var a=e("../internals/fails"),i=e("../internals/is-callable"),c=/#|\.prototype\./,u=function(h,g){var y=d[o(h)];return y===f||y!==p&&(i(g)?a(g):!!g)},o=u.normalize=function(h){return String(h).replace(c,".").toLowerCase()},d=u.data={},p=u.NATIVE="N",f=u.POLYFILL="P";n.exports=u},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,s){n.exports=function(a){return a==null}},{}],289:[function(e,n,s){var a=e("../internals/is-callable"),i=e("../internals/document-all"),c=i.all;n.exports=i.IS_HTMLDDA?function(u){return typeof u=="object"?u!==null:a(u)||u===c}:function(u){return typeof u=="object"?u!==null:a(u)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,s){n.exports=!1},{}],291:[function(e,n,s){var a=e("../internals/is-object"),i=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("match");n.exports=function(u){var o;return a(u)&&((o=u[c])!==void 0?!!o:i(u)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,s){var a=e("../internals/get-built-in"),i=e("../internals/is-callable"),c=e("../internals/object-is-prototype-of"),u=e("../internals/use-symbol-as-uid"),o=Object;n.exports=u?function(d){return typeof d=="symbol"}:function(d){var p=a("Symbol");return i(p)&&c(p.prototype,o(d))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,s){var a=e("../internals/function-bind-context"),i=e("../internals/function-call"),c=e("../internals/an-object"),u=e("../internals/try-to-string"),o=e("../internals/is-array-iterator-method"),d=e("../internals/length-of-array-like"),p=e("../internals/object-is-prototype-of"),f=e("../internals/get-iterator"),h=e("../internals/get-iterator-method"),g=e("../internals/iterator-close"),y=TypeError,m=function(x,j){this.stopped=x,this.result=j},v=m.prototype;n.exports=function(x,j,T){var E,B,W,I,R,$,K,H=T&&T.that,M=!(!T||!T.AS_ENTRIES),F=!(!T||!T.IS_RECORD),C=!(!T||!T.IS_ITERATOR),_=!(!T||!T.INTERRUPTED),S=a(j,H),k=function(D){return E&&g(E,"normal",D),new m(!0,D)},N=function(D){return M?(c(D),_?S(D[0],D[1],k):S(D[0],D[1])):_?S(D,k):S(D)};if(F)E=x.iterator;else if(C)E=x;else{if(!(B=h(x)))throw new y(u(x)+" is not iterable");if(o(B)){for(W=0,I=d(x);I>W;W++)if((R=N(x[W]))&&p(v,R))return R;return new m(!1)}E=f(x,B)}for($=F?x.next:E.next;!(K=i($,E)).done;){try{R=N(K.value)}catch(D){g(E,"throw",D)}if(typeof R=="object"&&R&&p(v,R))return R}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,s){var a=e("../internals/function-call"),i=e("../internals/an-object"),c=e("../internals/get-method");n.exports=function(u,o,d){var p,f;i(u);try{if(!(p=c(u,"return"))){if(o==="throw")throw d;return d}p=a(p,u)}catch(h){f=!0,p=h}if(o==="throw")throw d;if(f)throw p;return i(p),d}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,s){var a=e("../internals/iterators-core").IteratorPrototype,i=e("../internals/object-create"),c=e("../internals/create-property-descriptor"),u=e("../internals/set-to-string-tag"),o=e("../internals/iterators"),d=function(){return this};n.exports=function(p,f,h,g){var y=f+" Iterator";return p.prototype=i(a,{next:c(+!g,h)}),u(p,y,!1,!0),o[y]=d,p}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/function-call"),c=e("../internals/is-pure"),u=e("../internals/function-name"),o=e("../internals/is-callable"),d=e("../internals/iterator-create-constructor"),p=e("../internals/object-get-prototype-of"),f=e("../internals/object-set-prototype-of"),h=e("../internals/set-to-string-tag"),g=e("../internals/create-non-enumerable-property"),y=e("../internals/define-built-in"),m=e("../internals/well-known-symbol"),v=e("../internals/iterators"),x=e("../internals/iterators-core"),j=u.PROPER,T=u.CONFIGURABLE,E=x.IteratorPrototype,B=x.BUGGY_SAFARI_ITERATORS,W=m("iterator"),I=function(){return this};n.exports=function(R,$,K,H,M,F,C){d(K,$,H);var _,S,k,N=function(O){if(O===M&&Y)return Y;if(!B&&O&&O in V)return V[O];switch(O){case"keys":case"values":case"entries":return function(){return new K(this,O)}}return function(){return new K(this)}},D=$+" Iterator",L=!1,V=R.prototype,Q=V[W]||V["@@iterator"]||M&&V[M],Y=!B&&Q||N(M),re=$==="Array"&&V.entries||Q;if(re&&(_=p(re.call(new R)))!==Object.prototype&&_.next&&(c||p(_)===E||(f?f(_,E):o(_[W])||y(_,W,I)),h(_,D,!0,!0),c&&(v[D]=I)),j&&M==="values"&&Q&&Q.name!=="values"&&(!c&&T?g(V,"name","values"):(L=!0,Y=function(){return i(Q,this)})),M)if(S={values:N("values"),keys:F?Y:N("keys"),entries:N("entries")},C)for(k in S)(B||L||!(k in V))&&y(V,k,S[k]);else a({target:$,proto:!0,forced:B||L},S);return c&&!C||V[W]===Y||y(V,W,Y,{name:M}),v[$]=Y,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,s){var a,i,c,u=e("../internals/fails"),o=e("../internals/is-callable"),d=e("../internals/is-object"),p=e("../internals/object-create"),f=e("../internals/object-get-prototype-of"),h=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),y=e("../internals/is-pure"),m=g("iterator"),v=!1;[].keys&&("next"in(c=[].keys())?(i=f(f(c)))!==Object.prototype&&(a=i):v=!0),!d(a)||u((function(){var x={};return a[m].call(x)!==x}))?a={}:y&&(a=p(a)),o(a[m])||h(a,m,(function(){return this})),n.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(e,n,s){var a=e("../internals/to-length");n.exports=function(i){return a(i.length)}},{"../internals/to-length":343}],300:[function(e,n,s){var a=e("../internals/function-uncurry-this"),i=e("../internals/fails"),c=e("../internals/is-callable"),u=e("../internals/has-own-property"),o=e("../internals/descriptors"),d=e("../internals/function-name").CONFIGURABLE,p=e("../internals/inspect-source"),f=e("../internals/internal-state"),h=f.enforce,g=f.get,y=String,m=Object.defineProperty,v=a("".slice),x=a("".replace),j=a([].join),T=o&&!i((function(){return m((function(){}),"length",{value:8}).length!==8})),E=String(String).split("String"),B=n.exports=function(W,I,R){v(y(I),0,7)==="Symbol("&&(I="["+x(y(I),/^Symbol\(([^)]*)\)/,"$1")+"]"),R&&R.getter&&(I="get "+I),R&&R.setter&&(I="set "+I),(!u(W,"name")||d&&W.name!==I)&&(o?m(W,"name",{value:I,configurable:!0}):W.name=I),T&&R&&u(R,"arity")&&W.length!==R.arity&&m(W,"length",{value:R.arity});try{R&&u(R,"constructor")&&R.constructor?o&&m(W,"prototype",{writable:!1}):W.prototype&&(W.prototype=void 0)}catch{}var $=h(W);return u($,"source")||($.source=j(E,typeof I=="string"?I:"")),W};Function.prototype.toString=B((function(){return c(this)&&g(this).source||p(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,s){var a=Math.ceil,i=Math.floor;n.exports=Math.trunc||function(c){var u=+c;return(u>0?i:a)(u)}},{}],302:[function(e,n,s){var a,i,c,u,o,d=e("../internals/global"),p=e("../internals/function-bind-context"),f=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/task").set,g=e("../internals/queue"),y=e("../internals/engine-is-ios"),m=e("../internals/engine-is-ios-pebble"),v=e("../internals/engine-is-webos-webkit"),x=e("../internals/engine-is-node"),j=d.MutationObserver||d.WebKitMutationObserver,T=d.document,E=d.process,B=d.Promise,W=f(d,"queueMicrotask"),I=W&&W.value;if(!I){var R=new g,$=function(){var K,H;for(x&&(K=E.domain)&&K.exit();H=R.get();)try{H()}catch(M){throw R.head&&a(),M}K&&K.enter()};y||x||v||!j||!T?!m&&B&&B.resolve?((u=B.resolve(void 0)).constructor=B,o=p(u.then,u),a=function(){o($)}):x?a=function(){E.nextTick($)}:(h=p(h,d),a=function(){h($)}):(i=!0,c=T.createTextNode(""),new j($).observe(c,{characterData:!0}),a=function(){c.data=i=!i}),I=function(K){R.head||a(),R.add(K)}}n.exports=I},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,s){var a=e("../internals/a-callable"),i=TypeError,c=function(u){var o,d;this.promise=new u((function(p,f){if(o!==void 0||d!==void 0)throw new i("Bad Promise constructor");o=p,d=f})),this.resolve=a(o),this.reject=a(d)};n.exports.f=function(u){return new c(u)}},{"../internals/a-callable":222}],304:[function(e,n,s){var a=e("../internals/is-regexp"),i=TypeError;n.exports=function(c){if(a(c))throw new i("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":291}],305:[function(e,n,s){var a=e("../internals/descriptors"),i=e("../internals/function-uncurry-this"),c=e("../internals/function-call"),u=e("../internals/fails"),o=e("../internals/object-keys"),d=e("../internals/object-get-own-property-symbols"),p=e("../internals/object-property-is-enumerable"),f=e("../internals/to-object"),h=e("../internals/indexed-object"),g=Object.assign,y=Object.defineProperty,m=i([].concat);n.exports=!g||u((function(){if(a&&g({b:1},g(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},x={},j=Symbol("assign detection");return v[j]=7,"abcdefghijklmnopqrst".split("").forEach((function(T){x[T]=T})),g({},v)[j]!==7||o(g({},x)).join("")!=="abcdefghijklmnopqrst"}))?function(v,x){for(var j=f(v),T=arguments.length,E=1,B=d.f,W=p.f;T>E;)for(var I,R=h(arguments[E++]),$=B?m(o(R),B(R)):o(R),K=$.length,H=0;K>H;)I=$[H++],a&&!c(W,R,I)||(j[I]=R[I]);return j}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,s){var a,i=e("../internals/an-object"),c=e("../internals/object-define-properties"),u=e("../internals/enum-bug-keys"),o=e("../internals/hidden-keys"),d=e("../internals/html"),p=e("../internals/document-create-element"),f=e("../internals/shared-key"),h=f("IE_PROTO"),g=function(){},y=function(x){return"<script>"+x+"<\/script>"},m=function(x){x.write(y("")),x.close();var j=x.parentWindow.Object;return x=null,j},v=function(){try{a=new ActiveXObject("htmlfile")}catch{}var x,j;v=typeof document<"u"?document.domain&&a?m(a):((j=p("iframe")).style.display="none",d.appendChild(j),j.src="javascript:",(x=j.contentWindow.document).open(),x.write(y("document.F=Object")),x.close(),x.F):m(a);for(var T=u.length;T--;)delete v.prototype[u[T]];return v()};o[h]=!0,n.exports=Object.create||function(x,j){var T;return x!==null?(g.prototype=i(x),T=new g,g.prototype=null,T[h]=x):T=v(),j===void 0?T:c.f(T,j)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,s){var a=e("../internals/descriptors"),i=e("../internals/v8-prototype-define-bug"),c=e("../internals/object-define-property"),u=e("../internals/an-object"),o=e("../internals/to-indexed-object"),d=e("../internals/object-keys");s.f=a&&!i?Object.defineProperties:function(p,f){u(p);for(var h,g=o(f),y=d(f),m=y.length,v=0;m>v;)c.f(p,h=y[v++],g[h]);return p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,s){var a=e("../internals/descriptors"),i=e("../internals/ie8-dom-define"),c=e("../internals/v8-prototype-define-bug"),u=e("../internals/an-object"),o=e("../internals/to-property-key"),d=TypeError,p=Object.defineProperty,f=Object.getOwnPropertyDescriptor;s.f=a?c?function(h,g,y){if(u(h),g=o(g),u(y),typeof h=="function"&&g==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var m=f(h,g);m&&m.writable&&(h[g]=y.value,y={configurable:"configurable"in y?y.configurable:m.configurable,enumerable:"enumerable"in y?y.enumerable:m.enumerable,writable:!1})}return p(h,g,y)}:p:function(h,g,y){if(u(h),g=o(g),u(y),i)try{return p(h,g,y)}catch{}if("get"in y||"set"in y)throw new d("Accessors not supported");return"value"in y&&(h[g]=y.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,s){var a=e("../internals/descriptors"),i=e("../internals/function-call"),c=e("../internals/object-property-is-enumerable"),u=e("../internals/create-property-descriptor"),o=e("../internals/to-indexed-object"),d=e("../internals/to-property-key"),p=e("../internals/has-own-property"),f=e("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;s.f=a?h:function(g,y){if(g=o(g),y=d(y),f)try{return h(g,y)}catch{}if(p(g,y))return u(!i(c.f,g,y),g[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,s){var a=e("../internals/classof-raw"),i=e("../internals/to-indexed-object"),c=e("../internals/object-get-own-property-names").f,u=e("../internals/array-slice-simple"),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(d){return o&&a(d)==="Window"?(function(p){try{return c(p)}catch{return u(o)}})(d):c(i(d))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,s){var a=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(c){return a(c,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,s){var a=e("../internals/has-own-property"),i=e("../internals/is-callable"),c=e("../internals/to-object"),u=e("../internals/shared-key"),o=e("../internals/correct-prototype-getter"),d=u("IE_PROTO"),p=Object,f=p.prototype;n.exports=o?p.getPrototypeOf:function(h){var g=c(h);if(a(g,d))return g[d];var y=g.constructor;return i(y)&&g instanceof y?y.prototype:g instanceof p?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,s){var a=e("../internals/function-uncurry-this");n.exports=a({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,s){var a=e("../internals/function-uncurry-this"),i=e("../internals/has-own-property"),c=e("../internals/to-indexed-object"),u=e("../internals/array-includes").indexOf,o=e("../internals/hidden-keys"),d=a([].push);n.exports=function(p,f){var h,g=c(p),y=0,m=[];for(h in g)!i(o,h)&&i(g,h)&&d(m,h);for(;f.length>y;)i(g,h=f[y++])&&(~u(m,h)||d(m,h));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,s){var a=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys");n.exports=Object.keys||function(c){return a(c,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,s){var a={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,c=i&&!a.call({1:2},1);s.f=c?function(u){var o=i(this,u);return!!o&&o.enumerable}:a},{}],318:[function(e,n,s){var a=e("../internals/function-uncurry-this-accessor"),i=e("../internals/an-object"),c=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var u,o=!1,d={};try{(u=a(Object.prototype,"__proto__","set"))(d,[]),o=d instanceof Array}catch{}return function(p,f){return i(p),c(f),o?u(p,f):p.__proto__=f,p}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,s){var a=e("../internals/descriptors"),i=e("../internals/fails"),c=e("../internals/function-uncurry-this"),u=e("../internals/object-get-prototype-of"),o=e("../internals/object-keys"),d=e("../internals/to-indexed-object"),p=c(e("../internals/object-property-is-enumerable").f),f=c([].push),h=a&&i((function(){var y=Object.create(null);return y[2]=2,!p(y,2)})),g=function(y){return function(m){for(var v,x=d(m),j=o(x),T=h&&u(x)===null,E=j.length,B=0,W=[];E>B;)v=j[B++],a&&!(T?v in x:p(x,v))||f(W,y?[v,x[v]]:x[v]);return W}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,s){var a=e("../internals/function-call"),i=e("../internals/is-callable"),c=e("../internals/is-object"),u=TypeError;n.exports=function(o,d){var p,f;if(d==="string"&&i(p=o.toString)&&!c(f=a(p,o))||i(p=o.valueOf)&&!c(f=a(p,o))||d!=="string"&&i(p=o.toString)&&!c(f=a(p,o)))return f;throw new u("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,s){var a=e("../internals/get-built-in"),i=e("../internals/function-uncurry-this"),c=e("../internals/object-get-own-property-names"),u=e("../internals/object-get-own-property-symbols"),o=e("../internals/an-object"),d=i([].concat);n.exports=a("Reflect","ownKeys")||function(p){var f=c.f(o(p)),h=u.f;return h?d(f,h(p)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,s){var a=e("../internals/global");n.exports=a},{"../internals/global":274}],323:[function(e,n,s){n.exports=function(a){try{return{error:!1,value:a()}}catch(i){return{error:!0,value:i}}}},{}],324:[function(e,n,s){var a=e("../internals/global"),i=e("../internals/promise-native-constructor"),c=e("../internals/is-callable"),u=e("../internals/is-forced"),o=e("../internals/inspect-source"),d=e("../internals/well-known-symbol"),p=e("../internals/engine-is-browser"),f=e("../internals/engine-is-deno"),h=e("../internals/is-pure"),g=e("../internals/engine-v8-version"),y=i&&i.prototype,m=d("species"),v=!1,x=c(a.PromiseRejectionEvent),j=u("Promise",(function(){var T=o(i),E=T!==String(i);if(!E&&g===66||h&&(!y.catch||!y.finally))return!0;if(!g||g<51||!/native code/.test(T)){var B=new i((function(I){I(1)})),W=function(I){I((function(){}),(function(){}))};if((B.constructor={})[m]=W,!(v=B.then((function(){}))instanceof W))return!0}return!E&&(p||f)&&!x}));n.exports={CONSTRUCTOR:j,REJECTION_EVENT:x,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,s){var a=e("../internals/global");n.exports=a.Promise},{"../internals/global":274}],326:[function(e,n,s){var a=e("../internals/an-object"),i=e("../internals/is-object"),c=e("../internals/new-promise-capability");n.exports=function(u,o){if(a(u),i(o)&&o.constructor===u)return o;var d=c.f(u);return(0,d.resolve)(o),d.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,s){var a=e("../internals/promise-native-constructor"),i=e("../internals/check-correctness-of-iteration"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=c||!i((function(u){a.all(u).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,s){var a=function(){this.head=null,this.tail=null};a.prototype={add:function(i){var c={item:i,next:null},u=this.tail;u?u.next=c:this.head=c,this.tail=c},get:function(){var i=this.head;if(i)return(this.head=i.next)===null&&(this.tail=null),i.item}},n.exports=a},{}],329:[function(e,n,s){var a=e("../internals/is-null-or-undefined"),i=TypeError;n.exports=function(c){if(a(c))throw new i("Can't call method on "+c);return c}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,s){var a=e("../internals/get-built-in"),i=e("../internals/define-built-in-accessor"),c=e("../internals/well-known-symbol"),u=e("../internals/descriptors"),o=c("species");n.exports=function(d){var p=a(d);u&&p&&!p[o]&&i(p,o,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,s){var a=e("../internals/object-define-property").f,i=e("../internals/has-own-property"),c=e("../internals/well-known-symbol")("toStringTag");n.exports=function(u,o,d){u&&!d&&(u=u.prototype),u&&!i(u,c)&&a(u,c,{configurable:!0,value:o})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,s){var a=e("../internals/shared"),i=e("../internals/uid"),c=a("keys");n.exports=function(u){return c[u]||(c[u]=i(u))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,s){var a=e("../internals/global"),i=e("../internals/define-global-property"),c=a["__core-js_shared__"]||i("__core-js_shared__",{});n.exports=c},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,s){var a=e("../internals/is-pure"),i=e("../internals/shared-store");(n.exports=function(c,u){return i[c]||(i[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,s){var a=e("../internals/an-object"),i=e("../internals/a-constructor"),c=e("../internals/is-null-or-undefined"),u=e("../internals/well-known-symbol")("species");n.exports=function(o,d){var p,f=a(o).constructor;return f===void 0||c(p=a(f)[u])?d:i(p)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,s){var a=e("../internals/engine-v8-version"),i=e("../internals/fails"),c=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!i((function(){var u=Symbol("symbol detection");return!c(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,s){var a=e("../internals/function-call"),i=e("../internals/get-built-in"),c=e("../internals/well-known-symbol"),u=e("../internals/define-built-in");n.exports=function(){var o=i("Symbol"),d=o&&o.prototype,p=d&&d.valueOf,f=c("toPrimitive");d&&!d[f]&&u(d,f,(function(h){return a(p,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,s){var a=e("../internals/symbol-constructor-detection");n.exports=a&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,s){var a,i,c,u,o=e("../internals/global"),d=e("../internals/function-apply"),p=e("../internals/function-bind-context"),f=e("../internals/is-callable"),h=e("../internals/has-own-property"),g=e("../internals/fails"),y=e("../internals/html"),m=e("../internals/array-slice"),v=e("../internals/document-create-element"),x=e("../internals/validate-arguments-length"),j=e("../internals/engine-is-ios"),T=e("../internals/engine-is-node"),E=o.setImmediate,B=o.clearImmediate,W=o.process,I=o.Dispatch,R=o.Function,$=o.MessageChannel,K=o.String,H=0,M={};g((function(){a=o.location}));var F=function(k){if(h(M,k)){var N=M[k];delete M[k],N()}},C=function(k){return function(){F(k)}},_=function(k){F(k.data)},S=function(k){o.postMessage(K(k),a.protocol+"//"+a.host)};E&&B||(E=function(k){x(arguments.length,1);var N=f(k)?k:R(k),D=m(arguments,1);return M[++H]=function(){d(N,void 0,D)},i(H),H},B=function(k){delete M[k]},T?i=function(k){W.nextTick(C(k))}:I&&I.now?i=function(k){I.now(C(k))}:$&&!j?(u=(c=new $).port2,c.port1.onmessage=_,i=p(u.postMessage,u)):o.addEventListener&&f(o.postMessage)&&!o.importScripts&&a&&a.protocol!=="file:"&&!g(S)?(i=S,o.addEventListener("message",_,!1)):i="onreadystatechange"in v("script")?function(k){y.appendChild(v("script")).onreadystatechange=function(){y.removeChild(this),F(k)}}:function(k){setTimeout(C(k),0)}),n.exports={set:E,clear:B}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,s){var a=e("../internals/to-integer-or-infinity"),i=Math.max,c=Math.min;n.exports=function(u,o){var d=a(u);return d<0?i(d+o,0):c(d,o)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,s){var a=e("../internals/indexed-object"),i=e("../internals/require-object-coercible");n.exports=function(c){return a(i(c))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,s){var a=e("../internals/math-trunc");n.exports=function(i){var c=+i;return c!=c||c===0?0:a(c)}},{"../internals/math-trunc":301}],343:[function(e,n,s){var a=e("../internals/to-integer-or-infinity"),i=Math.min;n.exports=function(c){return c>0?i(a(c),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,s){var a=e("../internals/require-object-coercible"),i=Object;n.exports=function(c){return i(a(c))}},{"../internals/require-object-coercible":329}],345:[function(e,n,s){var a=e("../internals/function-call"),i=e("../internals/is-object"),c=e("../internals/is-symbol"),u=e("../internals/get-method"),o=e("../internals/ordinary-to-primitive"),d=e("../internals/well-known-symbol"),p=TypeError,f=d("toPrimitive");n.exports=function(h,g){if(!i(h)||c(h))return h;var y,m=u(h,f);if(m){if(g===void 0&&(g="default"),y=a(m,h,g),!i(y)||c(y))return y;throw new p("Can't convert object to primitive value")}return g===void 0&&(g="number"),o(h,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,s){var a=e("../internals/to-primitive"),i=e("../internals/is-symbol");n.exports=function(c){var u=a(c,"string");return i(u)?u:u+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,s){var a={};a[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,s){var a=e("../internals/classof"),i=String;n.exports=function(c){if(a(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return i(c)}},{"../internals/classof":236}],349:[function(e,n,s){var a=String;n.exports=function(i){try{return a(i)}catch{return"Object"}}},{}],350:[function(e,n,s){var a=e("../internals/function-uncurry-this"),i=0,c=Math.random(),u=a(1 .toString);n.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+u(++i+c,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,s){var a=e("../internals/symbol-constructor-detection");n.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,s){var a=e("../internals/descriptors"),i=e("../internals/fails");n.exports=a&&i((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,s){var a=TypeError;n.exports=function(i,c){if(i<c)throw new a("Not enough arguments");return i}},{}],354:[function(e,n,s){var a=e("../internals/global"),i=e("../internals/is-callable"),c=a.WeakMap;n.exports=i(c)&&/native code/.test(String(c))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,s){var a=e("../internals/path"),i=e("../internals/has-own-property"),c=e("../internals/well-known-symbol-wrapped"),u=e("../internals/object-define-property").f;n.exports=function(o){var d=a.Symbol||(a.Symbol={});i(d,o)||u(d,o,{value:c.f(o)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,s){var a=e("../internals/well-known-symbol");s.f=a},{"../internals/well-known-symbol":357}],357:[function(e,n,s){var a=e("../internals/global"),i=e("../internals/shared"),c=e("../internals/has-own-property"),u=e("../internals/uid"),o=e("../internals/symbol-constructor-detection"),d=e("../internals/use-symbol-as-uid"),p=a.Symbol,f=i("wks"),h=d?p.for||p:p&&p.withoutSetter||u;n.exports=function(g){return c(f,g)||(f[g]=o&&c(p,g)?p[g]:h("Symbol."+g)),f[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/array-iteration").findIndex,c=e("../internals/add-to-unscopables"),u=!0;"findIndex"in[]&&Array(1).findIndex((function(){u=!1})),a({target:"Array",proto:!0,forced:u},{findIndex:function(o){return i(this,o,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/array-iteration").find,c=e("../internals/add-to-unscopables"),u=!0;"find"in[]&&Array(1).find((function(){u=!1})),a({target:"Array",proto:!0,forced:u},{find:function(o){return i(this,o,arguments.length>1?arguments[1]:void 0)}}),c("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/array-includes").includes,c=e("../internals/fails"),u=e("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:c((function(){return!Array(1).includes()}))},{includes:function(o){return i(this,o,arguments.length>1?arguments[1]:void 0)}}),u("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,s){var a=e("../internals/to-indexed-object"),i=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),u=e("../internals/internal-state"),o=e("../internals/object-define-property").f,d=e("../internals/iterator-define"),p=e("../internals/create-iter-result-object"),f=e("../internals/is-pure"),h=e("../internals/descriptors"),g=u.set,y=u.getterFor("Array Iterator");n.exports=d(Array,"Array",(function(v,x){g(this,{type:"Array Iterator",target:a(v),index:0,kind:x})}),(function(){var v=y(this),x=v.target,j=v.kind,T=v.index++;if(!x||T>=x.length)return v.target=void 0,p(void 0,!0);switch(j){case"keys":return p(T,!1);case"values":return p(x[T],!1)}return p([T,x[T]],!1)}),"values");var m=c.Arguments=c.Array;if(i("keys"),i("values"),i("entries"),!f&&h&&m.name!=="values")try{o(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/get-built-in"),c=e("../internals/function-apply"),u=e("../internals/function-call"),o=e("../internals/function-uncurry-this"),d=e("../internals/fails"),p=e("../internals/is-callable"),f=e("../internals/is-symbol"),h=e("../internals/array-slice"),g=e("../internals/get-json-replacer-function"),y=e("../internals/symbol-constructor-detection"),m=String,v=i("JSON","stringify"),x=o(/./.exec),j=o("".charAt),T=o("".charCodeAt),E=o("".replace),B=o(1 .toString),W=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,R=/^[\uDC00-\uDFFF]$/,$=!y||d((function(){var F=i("Symbol")("stringify detection");return v([F])!=="[null]"||v({a:F})!=="{}"||v(Object(F))!=="{}"})),K=d((function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'})),H=function(F,C){var _=h(arguments),S=g(C);if(p(S)||F!==void 0&&!f(F))return _[1]=function(k,N){if(p(S)&&(N=u(S,this,m(k),N)),!f(N))return N},c(v,null,_)},M=function(F,C,_){var S=j(_,C-1),k=j(_,C+1);return x(I,F)&&!x(R,k)||x(R,F)&&!x(I,S)?"\\u"+B(T(F,0),16):F};v&&a({target:"JSON",stat:!0,arity:3,forced:$||K},{stringify:function(F,C,_){var S=h(arguments),k=c($?H:v,null,S);return K&&typeof k=="string"?E(k,W,M):k}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,s){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":259}],364:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/object-assign");a({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/symbol-constructor-detection"),c=e("../internals/fails"),u=e("../internals/object-get-own-property-symbols"),o=e("../internals/to-object");a({target:"Object",stat:!0,forced:!i||c((function(){u.f(1)}))},{getOwnPropertySymbols:function(d){var p=u.f;return p?p(o(d)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/to-object"),c=e("../internals/object-keys");a({target:"Object",stat:!0,forced:e("../internals/fails")((function(){c(1)}))},{keys:function(u){return c(i(u))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(c){return i(c)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/function-call"),c=e("../internals/a-callable"),u=e("../internals/new-promise-capability"),o=e("../internals/perform"),d=e("../internals/iterate");a({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(p){var f=this,h=u.f(f),g=h.resolve,y=h.reject,m=o((function(){var v=c(f.resolve),x=[],j=0,T=1;d(p,(function(E){var B=j++,W=!1;T++,i(v,f,E).then((function(I){W||(W=!0,x[B]=I,--T||g(x))}),y)})),--T||g(x)}));return m.error&&y(m.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/is-pure"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-native-constructor"),o=e("../internals/get-built-in"),d=e("../internals/is-callable"),p=e("../internals/define-built-in"),f=u&&u.prototype;if(a({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(g){return this.then(void 0,g)}}),!i&&d(u)){var h=o("Promise").prototype.catch;f.catch!==h&&p(f,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,s){var a,i,c,u=e("../internals/export"),o=e("../internals/is-pure"),d=e("../internals/engine-is-node"),p=e("../internals/global"),f=e("../internals/function-call"),h=e("../internals/define-built-in"),g=e("../internals/object-set-prototype-of"),y=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),v=e("../internals/a-callable"),x=e("../internals/is-callable"),j=e("../internals/is-object"),T=e("../internals/an-instance"),E=e("../internals/species-constructor"),B=e("../internals/task").set,W=e("../internals/microtask"),I=e("../internals/host-report-errors"),R=e("../internals/perform"),$=e("../internals/queue"),K=e("../internals/internal-state"),H=e("../internals/promise-native-constructor"),M=e("../internals/promise-constructor-detection"),F=e("../internals/new-promise-capability"),C=M.CONSTRUCTOR,_=M.REJECTION_EVENT,S=M.SUBCLASSING,k=K.getterFor("Promise"),N=K.set,D=H&&H.prototype,L=H,V=D,Q=p.TypeError,Y=p.document,re=p.process,O=F.f,Z=O,U=!!(Y&&Y.createEvent&&p.dispatchEvent),z=function(ce){var ie;return!(!j(ce)||!x(ie=ce.then))&&ie},G=function(ce,ie){var ee,se,le,ve=ie.value,_e=ie.state===1,Te=_e?ce.ok:ce.fail,Fe=ce.resolve,Be=ce.reject,ze=ce.domain;try{Te?(_e||(ie.rejection===2&&te(ie),ie.rejection=1),Te===!0?ee=ve:(ze&&ze.enter(),ee=Te(ve),ze&&(ze.exit(),le=!0)),ee===ce.promise?Be(new Q("Promise-chain cycle")):(se=z(ee))?f(se,ee,Fe,Be):Fe(ee)):Be(ve)}catch(Je){ze&&!le&&ze.exit(),Be(Je)}},ae=function(ce,ie){ce.notified||(ce.notified=!0,W((function(){for(var ee,se=ce.reactions;ee=se.get();)G(ee,ce);ce.notified=!1,ie&&!ce.rejection&&de(ce)})))},pe=function(ce,ie,ee){var se,le;U?((se=Y.createEvent("Event")).promise=ie,se.reason=ee,se.initEvent(ce,!1,!0),p.dispatchEvent(se)):se={promise:ie,reason:ee},!_&&(le=p["on"+ce])?le(se):ce==="unhandledrejection"&&I("Unhandled promise rejection",ee)},de=function(ce){f(B,p,(function(){var ie,ee=ce.facade,se=ce.value;if(ge(ce)&&(ie=R((function(){d?re.emit("unhandledRejection",se,ee):pe("unhandledrejection",ee,se)})),ce.rejection=d||ge(ce)?2:1,ie.error))throw ie.value}))},ge=function(ce){return ce.rejection!==1&&!ce.parent},te=function(ce){f(B,p,(function(){var ie=ce.facade;d?re.emit("rejectionHandled",ie):pe("rejectionhandled",ie,ce.value)}))},oe=function(ce,ie,ee){return function(se){ce(ie,se,ee)}},ne=function(ce,ie,ee){ce.done||(ce.done=!0,ee&&(ce=ee),ce.value=ie,ce.state=2,ae(ce,!0))},he=function(ce,ie,ee){if(!ce.done){ce.done=!0,ee&&(ce=ee);try{if(ce.facade===ie)throw new Q("Promise can't be resolved itself");var se=z(ie);se?W((function(){var le={done:!1};try{f(se,ie,oe(he,le,ce),oe(ne,le,ce))}catch(ve){ne(le,ve,ce)}})):(ce.value=ie,ce.state=1,ae(ce,!1))}catch(le){ne({done:!1},le,ce)}}};if(C&&(V=(L=function(ce){T(this,V),v(ce),f(a,this);var ie=k(this);try{ce(oe(he,ie),oe(ne,ie))}catch(ee){ne(ie,ee)}}).prototype,(a=function(ce){N(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new $,rejection:!1,state:0,value:void 0})}).prototype=h(V,"then",(function(ce,ie){var ee=k(this),se=O(E(this,L));return ee.parent=!0,se.ok=!x(ce)||ce,se.fail=x(ie)&&ie,se.domain=d?re.domain:void 0,ee.state===0?ee.reactions.add(se):W((function(){G(se,ee)})),se.promise})),i=function(){var ce=new a,ie=k(ce);this.promise=ce,this.resolve=oe(he,ie),this.reject=oe(ne,ie)},F.f=O=function(ce){return ce===L||ce===void 0?new i(ce):Z(ce)},!o&&x(H)&&D!==Object.prototype)){c=D.then,S||h(D,"then",(function(ce,ie){var ee=this;return new L((function(se,le){f(c,ee,se,le)})).then(ce,ie)}),{unsafe:!0});try{delete D.constructor}catch{}g&&g(D,V)}u({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:L}),y(L,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),u=e("../internals/fails"),o=e("../internals/get-built-in"),d=e("../internals/is-callable"),p=e("../internals/species-constructor"),f=e("../internals/promise-resolve"),h=e("../internals/define-built-in"),g=c&&c.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!c&&u((function(){g.finally.call({then:function(){}},(function(){}))}))},{finally:function(m){var v=p(this,o("Promise")),x=d(m);return this.then(x?function(j){return f(v,m()).then((function(){return j}))}:m,x?function(j){return f(v,m()).then((function(){throw j}))}:m)}}),!i&&d(c)){var y=o("Promise").prototype.finally;g.finally!==y&&h(g,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,s){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/function-call"),c=e("../internals/a-callable"),u=e("../internals/new-promise-capability"),o=e("../internals/perform"),d=e("../internals/iterate");a({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(p){var f=this,h=u.f(f),g=h.reject,y=o((function(){var m=c(f.resolve);d(p,(function(v){i(m,f,v).then(h.resolve,g)}))}));return y.error&&g(y.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/function-call"),c=e("../internals/new-promise-capability");a({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(u){var o=c.f(this);return i(o.reject,void 0,u),o.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/get-built-in"),c=e("../internals/is-pure"),u=e("../internals/promise-native-constructor"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,d=e("../internals/promise-resolve"),p=i("Promise"),f=c&&!o;a({target:"Promise",stat:!0,forced:c||o},{resolve:function(h){return d(f&&this===p?u:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/function-uncurry-this"),c=e("../internals/to-absolute-index"),u=RangeError,o=String.fromCharCode,d=String.fromCodePoint,p=i([].join);a({target:"String",stat:!0,arity:1,forced:!!d&&d.length!==1},{fromCodePoint:function(f){for(var h,g=[],y=arguments.length,m=0;y>m;){if(h=+arguments[m++],c(h,1114111)!==h)throw new u(h+" is not a valid code point");g[m]=h<65536?o(h):o(55296+((h-=65536)>>10),h%1024+56320)}return p(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/function-uncurry-this"),c=e("../internals/not-a-regexp"),u=e("../internals/require-object-coercible"),o=e("../internals/to-string"),d=e("../internals/correct-is-regexp-logic"),p=i("".indexOf);a({target:"String",proto:!0,forced:!d("includes")},{includes:function(f){return!!~p(o(u(this)),o(c(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,s){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/global"),c=e("../internals/function-call"),u=e("../internals/function-uncurry-this"),o=e("../internals/is-pure"),d=e("../internals/descriptors"),p=e("../internals/symbol-constructor-detection"),f=e("../internals/fails"),h=e("../internals/has-own-property"),g=e("../internals/object-is-prototype-of"),y=e("../internals/an-object"),m=e("../internals/to-indexed-object"),v=e("../internals/to-property-key"),x=e("../internals/to-string"),j=e("../internals/create-property-descriptor"),T=e("../internals/object-create"),E=e("../internals/object-keys"),B=e("../internals/object-get-own-property-names"),W=e("../internals/object-get-own-property-names-external"),I=e("../internals/object-get-own-property-symbols"),R=e("../internals/object-get-own-property-descriptor"),$=e("../internals/object-define-property"),K=e("../internals/object-define-properties"),H=e("../internals/object-property-is-enumerable"),M=e("../internals/define-built-in"),F=e("../internals/define-built-in-accessor"),C=e("../internals/shared"),_=e("../internals/shared-key"),S=e("../internals/hidden-keys"),k=e("../internals/uid"),N=e("../internals/well-known-symbol"),D=e("../internals/well-known-symbol-wrapped"),L=e("../internals/well-known-symbol-define"),V=e("../internals/symbol-define-to-primitive"),Q=e("../internals/set-to-string-tag"),Y=e("../internals/internal-state"),re=e("../internals/array-iteration").forEach,O=_("hidden"),Z=Y.set,U=Y.getterFor("Symbol"),z=Object.prototype,G=i.Symbol,ae=G&&G.prototype,pe=i.RangeError,de=i.TypeError,ge=i.QObject,te=R.f,oe=$.f,ne=W.f,he=H.f,ce=u([].push),ie=C("symbols"),ee=C("op-symbols"),se=C("wks"),le=!ge||!ge.prototype||!ge.prototype.findChild,ve=function(rt,we,me){var Ke=te(z,we);Ke&&delete z[we],oe(rt,we,me),Ke&&rt!==z&&oe(z,we,Ke)},_e=d&&f((function(){return T(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a!==7}))?ve:oe,Te=function(rt,we){var me=ie[rt]=T(ae);return Z(me,{type:"Symbol",tag:rt,description:we}),d||(me.description=we),me},Fe=function(rt,we,me){rt===z&&Fe(ee,we,me),y(rt);var Ke=v(we);return y(me),h(ie,Ke)?(me.enumerable?(h(rt,O)&&rt[O][Ke]&&(rt[O][Ke]=!1),me=T(me,{enumerable:j(0,!1)})):(h(rt,O)||oe(rt,O,j(1,{})),rt[O][Ke]=!0),_e(rt,Ke,me)):oe(rt,Ke,me)},Be=function(rt,we){y(rt);var me=m(we),Ke=E(me).concat(bt(me));return re(Ke,(function(He){d&&!c(ze,me,He)||Fe(rt,He,me[He])})),rt},ze=function(rt){var we=v(rt),me=c(he,this,we);return!(this===z&&h(ie,we)&&!h(ee,we))&&(!(me||!h(this,we)||!h(ie,we)||h(this,O)&&this[O][we])||me)},Je=function(rt,we){var me=m(rt),Ke=v(we);if(me!==z||!h(ie,Ke)||h(ee,Ke)){var He=te(me,Ke);return!He||!h(ie,Ke)||h(me,O)&&me[O][Ke]||(He.enumerable=!0),He}},ft=function(rt){var we=ne(m(rt)),me=[];return re(we,(function(Ke){h(ie,Ke)||h(S,Ke)||ce(me,Ke)})),me},bt=function(rt){var we=rt===z,me=ne(we?ee:m(rt)),Ke=[];return re(me,(function(He){!h(ie,He)||we&&!h(z,He)||ce(Ke,ie[He])})),Ke};p||(M(ae=(G=function(){if(g(ae,this))throw new de("Symbol is not a constructor");var rt=arguments.length&&arguments[0]!==void 0?x(arguments[0]):void 0,we=k(rt),me=function(Ke){this===z&&c(me,ee,Ke),h(this,O)&&h(this[O],we)&&(this[O][we]=!1);var He=j(1,Ke);try{_e(this,we,He)}catch(It){if(!(It instanceof pe))throw It;ve(this,we,He)}};return d&&le&&_e(z,we,{configurable:!0,set:me}),Te(we,rt)}).prototype,"toString",(function(){return U(this).tag})),M(G,"withoutSetter",(function(rt){return Te(k(rt),rt)})),H.f=ze,$.f=Fe,K.f=Be,R.f=Je,B.f=W.f=ft,I.f=bt,D.f=function(rt){return Te(N(rt),rt)},d&&(F(ae,"description",{configurable:!0,get:function(){return U(this).description}}),o||M(z,"propertyIsEnumerable",ze,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!p,sham:!p},{Symbol:G}),re(E(se),(function(rt){L(rt)})),a({target:"Symbol",stat:!0,forced:!p},{useSetter:function(){le=!0},useSimple:function(){le=!1}}),a({target:"Object",stat:!0,forced:!p,sham:!d},{create:function(rt,we){return we===void 0?T(rt):Be(T(rt),we)},defineProperty:Fe,defineProperties:Be,getOwnPropertyDescriptor:Je}),a({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:ft}),V(),Q(G,"Symbol"),S[O]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/get-built-in"),c=e("../internals/has-own-property"),u=e("../internals/to-string"),o=e("../internals/shared"),d=e("../internals/symbol-registry-detection"),p=o("string-to-symbol-registry"),f=o("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!d},{for:function(h){var g=u(h);if(c(p,g))return p[g];var y=i("Symbol")(g);return p[g]=y,f[y]=g,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,s){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,s){var a=e("../internals/export"),i=e("../internals/has-own-property"),c=e("../internals/is-symbol"),u=e("../internals/try-to-string"),o=e("../internals/shared"),d=e("../internals/symbol-registry-detection"),p=o("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!d},{keyFor:function(f){if(!c(f))throw new TypeError(u(f)+" is not a symbol");if(i(p,f))return p[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,s){function a(i){return Object.prototype.toString.call(i)}s.isArray=function(i){return Array.isArray?Array.isArray(i):a(i)==="[object Array]"},s.isBoolean=function(i){return typeof i=="boolean"},s.isNull=function(i){return i===null},s.isNullOrUndefined=function(i){return i==null},s.isNumber=function(i){return typeof i=="number"},s.isString=function(i){return typeof i=="string"},s.isSymbol=function(i){return typeof i=="symbol"},s.isUndefined=function(i){return i===void 0},s.isRegExp=function(i){return a(i)==="[object RegExp]"},s.isObject=function(i){return typeof i=="object"&&i!==null},s.isDate=function(i){return a(i)==="[object Date]"},s.isError=function(i){return a(i)==="[object Error]"||i instanceof Error},s.isFunction=function(i){return typeof i=="function"},s.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},s.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,s){(function(a){(function(){var i=e("elliptic"),c=e("bn.js");n.exports=function(p){return new o(p)};var u={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(p){this.curveType=u[p],this.curveType||(this.curveType={name:p}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function d(p,f,h){Array.isArray(p)||(p=p.toArray());var g=new a(p);if(h&&g.length<h){var y=new a(h-g.length);y.fill(0),g=a.concat([y,g])}return f?g.toString(f):g}u.p224=u.secp224r1,u.p256=u.secp256r1=u.prime256v1,u.p192=u.secp192r1=u.prime192v1,u.p384=u.secp384r1,u.p521=u.secp521r1,o.prototype.generateKeys=function(p,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,f)},o.prototype.computeSecret=function(p,f,h){return f=f||"utf8",a.isBuffer(p)||(p=new a(p,f)),d(this.curve.keyFromPublic(p).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},o.prototype.getPublicKey=function(p,f){var h=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),d(h,p)},o.prototype.getPrivateKey=function(p){return d(this.keys.getPrivate(),p)},o.prototype.setPublicKey=function(p,f){return f=f||"utf8",a.isBuffer(p)||(p=new a(p,f)),this.keys._importPublic(p),this},o.prototype.setPrivateKey=function(p,f){f=f||"utf8",a.isBuffer(p)||(p=new a(p,f));var h=new c(p);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(e,n,s){var a=e("inherits"),i=e("md5.js"),c=e("ripemd160"),u=e("sha.js"),o=e("cipher-base");function d(p){o.call(this,"digest"),this._hash=p}a(d,o),d.prototype._update=function(p){this._hash.update(p)},d.prototype._final=function(){return this._hash.digest()},n.exports=function(p){return(p=p.toLowerCase())==="md5"?new i:p==="rmd160"||p==="ripemd160"?new c:new d(u(p))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,s){var a=e("md5.js");n.exports=function(i){return new a().update(i).digest()}},{"md5.js":450}],388:[function(e,n,s){var a=e("inherits"),i=e("./legacy"),c=e("cipher-base"),u=e("safe-buffer").Buffer,o=e("create-hash/md5"),d=e("ripemd160"),p=e("sha.js"),f=u.alloc(128);function h(g,y){c.call(this,"digest"),typeof y=="string"&&(y=u.from(y));var m=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=y,y.length>m?y=(g==="rmd160"?new d:p(g)).update(y).digest():y.length<m&&(y=u.concat([y,f],m));for(var v=this._ipad=u.allocUnsafe(m),x=this._opad=u.allocUnsafe(m),j=0;j<m;j++)v[j]=54^y[j],x[j]=92^y[j];this._hash=g==="rmd160"?new d:p(g),this._hash.update(v)}a(h,c),h.prototype._update=function(g){this._hash.update(g)},h.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new d:p(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,y){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new h("rmd160",y):g==="md5"?new i(o,y):new h(g,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,s){var a=e("inherits"),i=e("safe-buffer").Buffer,c=e("cipher-base"),u=i.alloc(128);function o(d,p){c.call(this,"digest"),typeof p=="string"&&(p=i.from(p)),this._alg=d,this._key=p,p.length>64?p=d(p):p.length<64&&(p=i.concat([p,u],64));for(var f=this._ipad=i.allocUnsafe(64),h=this._opad=i.allocUnsafe(64),g=0;g<64;g++)f[g]=54^p[g],h[g]=92^p[g];this._hash=[f]}a(o,c),o.prototype._update=function(d){this._hash.push(d)},o.prototype._final=function(){var d=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,d]))},n.exports=o},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=e("randombytes"),s.createHash=s.Hash=e("create-hash"),s.createHmac=s.Hmac=e("create-hmac");var a=e("browserify-sign/algos"),i=Object.keys(a),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);s.getHashes=function(){return c};var u=e("pbkdf2");s.pbkdf2=u.pbkdf2,s.pbkdf2Sync=u.pbkdf2Sync;var o=e("browserify-cipher");s.Cipher=o.Cipher,s.createCipher=o.createCipher,s.Cipheriv=o.Cipheriv,s.createCipheriv=o.createCipheriv,s.Decipher=o.Decipher,s.createDecipher=o.createDecipher,s.Decipheriv=o.Decipheriv,s.createDecipheriv=o.createDecipheriv,s.getCiphers=o.getCiphers,s.listCiphers=o.listCiphers;var d=e("diffie-hellman");s.DiffieHellmanGroup=d.DiffieHellmanGroup,s.createDiffieHellmanGroup=d.createDiffieHellmanGroup,s.getDiffieHellman=d.getDiffieHellman,s.createDiffieHellman=d.createDiffieHellman,s.DiffieHellman=d.DiffieHellman;var p=e("browserify-sign");s.createSign=p.createSign,s.Sign=p.Sign,s.createVerify=p.createVerify,s.Verify=p.Verify,s.createECDH=e("create-ecdh");var f=e("public-encrypt");s.publicEncrypt=f.publicEncrypt,s.privateEncrypt=f.privateEncrypt,s.publicDecrypt=f.publicDecrypt,s.privateDecrypt=f.privateDecrypt;var h=e("randomfill");s.randomFill=h.randomFill,s.randomFillSync=h.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,s){(function(a,i){typeof s=="object"&&n!==void 0?n.exports=i():(a=typeof globalThis<"u"?globalThis:a||self).dayjs=i()})(void 0,(function(){var a=6e4,i=36e5,c="millisecond",u="second",o="minute",d="hour",p="day",f="week",h="month",g="quarter",y="year",m="date",v="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var S=["th","st","nd","rd"],k=_%100;return"["+_+(S[(k-20)%10]||S[k]||S[0])+"]"}},E=function(_,S,k){var N=String(_);return!N||N.length>=S?_:""+Array(S+1-N.length).join(k)+_},B={s:E,z:function(_){var S=-_.utcOffset(),k=Math.abs(S),N=Math.floor(k/60),D=k%60;return(S<=0?"+":"-")+E(N,2,"0")+":"+E(D,2,"0")},m:function _(S,k){if(S.date()<k.date())return-_(k,S);var N=12*(k.year()-S.year())+(k.month()-S.month()),D=S.clone().add(N,h),L=k-D<0,V=S.clone().add(N+(L?-1:1),h);return+(-(N+(k-D)/(L?D-V:V-D))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:h,y,w:f,d:p,D:m,h:d,m:o,s:u,ms:c,Q:g}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},W="en",I={};I[W]=T;var R="$isDayjsObject",$=function(_){return _ instanceof F||!(!_||!_[R])},K=function _(S,k,N){var D;if(!S)return W;if(typeof S=="string"){var L=S.toLowerCase();I[L]&&(D=L),k&&(I[L]=k,D=L);var V=S.split("-");if(!D&&V.length>1)return _(V[0])}else{var Q=S.name;I[Q]=S,D=Q}return!N&&D&&(W=D),D||!N&&W},H=function(_,S){if($(_))return _.clone();var k=typeof S=="object"?S:{};return k.date=_,k.args=arguments,new F(k)},M=B;M.l=K,M.i=$,M.w=function(_,S){return H(_,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var F=(function(){function _(k){this.$L=K(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[R]=!0}var S=_.prototype;return S.parse=function(k){this.$d=(function(N){var D=N.date,L=N.utc;if(D===null)return new Date(NaN);if(M.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var V=D.match(x);if(V){var Q=V[2]-1||0,Y=(V[7]||"0").substring(0,3);return L?new Date(Date.UTC(V[1],Q,V[3]||1,V[4]||0,V[5]||0,V[6]||0,Y)):new Date(V[1],Q,V[3]||1,V[4]||0,V[5]||0,V[6]||0,Y)}}return new Date(D)})(k),this.init()},S.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},S.$utils=function(){return M},S.isValid=function(){return this.$d.toString()!==v},S.isSame=function(k,N){var D=H(k);return this.startOf(N)<=D&&D<=this.endOf(N)},S.isAfter=function(k,N){return H(k)<this.startOf(N)},S.isBefore=function(k,N){return this.endOf(N)<H(k)},S.$g=function(k,N,D){return M.u(k)?this[N]:this.set(D,k)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(k,N){var D=this,L=!!M.u(N)||N,V=M.p(k),Q=function(ae,pe){var de=M.w(D.$u?Date.UTC(D.$y,pe,ae):new Date(D.$y,pe,ae),D);return L?de:de.endOf(p)},Y=function(ae,pe){return M.w(D.toDate()[ae].apply(D.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(pe)),D)},re=this.$W,O=this.$M,Z=this.$D,U="set"+(this.$u?"UTC":"");switch(V){case y:return L?Q(1,0):Q(31,11);case h:return L?Q(1,O):Q(0,O+1);case f:var z=this.$locale().weekStart||0,G=(re<z?re+7:re)-z;return Q(L?Z-G:Z+(6-G),O);case p:case m:return Y(U+"Hours",0);case d:return Y(U+"Minutes",1);case o:return Y(U+"Seconds",2);case u:return Y(U+"Milliseconds",3);default:return this.clone()}},S.endOf=function(k){return this.startOf(k,!1)},S.$set=function(k,N){var D,L=M.p(k),V="set"+(this.$u?"UTC":""),Q=(D={},D[p]=V+"Date",D[m]=V+"Date",D[h]=V+"Month",D[y]=V+"FullYear",D[d]=V+"Hours",D[o]=V+"Minutes",D[u]=V+"Seconds",D[c]=V+"Milliseconds",D)[L],Y=L===p?this.$D+(N-this.$W):N;if(L===h||L===y){var re=this.clone().set(m,1);re.$d[Q](Y),re.init(),this.$d=re.set(m,Math.min(this.$D,re.daysInMonth())).$d}else Q&&this.$d[Q](Y);return this.init(),this},S.set=function(k,N){return this.clone().$set(k,N)},S.get=function(k){return this[M.p(k)]()},S.add=function(k,N){var D,L=this;k=Number(k);var V=M.p(N),Q=function(O){var Z=H(L);return M.w(Z.date(Z.date()+Math.round(O*k)),L)};if(V===h)return this.set(h,this.$M+k);if(V===y)return this.set(y,this.$y+k);if(V===p)return Q(1);if(V===f)return Q(7);var Y=(D={},D[o]=a,D[d]=i,D[u]=1e3,D)[V]||1,re=this.$d.getTime()+k*Y;return M.w(re,this)},S.subtract=function(k,N){return this.add(-1*k,N)},S.format=function(k){var N=this,D=this.$locale();if(!this.isValid())return D.invalidDate||v;var L=k||"YYYY-MM-DDTHH:mm:ssZ",V=M.z(this),Q=this.$H,Y=this.$m,re=this.$M,O=D.weekdays,Z=D.months,U=D.meridiem,z=function(pe,de,ge,te){return pe&&(pe[de]||pe(N,L))||ge[de].slice(0,te)},G=function(pe){return M.s(Q%12||12,pe,"0")},ae=U||function(pe,de,ge){var te=pe<12?"AM":"PM";return ge?te.toLowerCase():te};return L.replace(j,(function(pe,de){return de||(function(ge){switch(ge){case"YY":return String(N.$y).slice(-2);case"YYYY":return M.s(N.$y,4,"0");case"M":return re+1;case"MM":return M.s(re+1,2,"0");case"MMM":return z(D.monthsShort,re,Z,3);case"MMMM":return z(Z,re);case"D":return N.$D;case"DD":return M.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return z(D.weekdaysMin,N.$W,O,2);case"ddd":return z(D.weekdaysShort,N.$W,O,3);case"dddd":return O[N.$W];case"H":return String(Q);case"HH":return M.s(Q,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return ae(Q,Y,!0);case"A":return ae(Q,Y,!1);case"m":return String(Y);case"mm":return M.s(Y,2,"0");case"s":return String(N.$s);case"ss":return M.s(N.$s,2,"0");case"SSS":return M.s(N.$ms,3,"0");case"Z":return V}return null})(pe)||V.replace(":","")}))},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(k,N,D){var L,V=this,Q=M.p(N),Y=H(k),re=(Y.utcOffset()-this.utcOffset())*a,O=this-Y,Z=function(){return M.m(V,Y)};switch(Q){case y:L=Z()/12;break;case h:L=Z();break;case g:L=Z()/3;break;case f:L=(O-re)/6048e5;break;case p:L=(O-re)/864e5;break;case d:L=O/i;break;case o:L=O/a;break;case u:L=O/1e3;break;default:L=O}return D?L:M.a(L)},S.daysInMonth=function(){return this.endOf(h).$D},S.$locale=function(){return I[this.$L]},S.locale=function(k,N){if(!k)return this.$L;var D=this.clone(),L=K(k,N,!0);return L&&(D.$L=L),D},S.clone=function(){return M.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},_})(),C=F.prototype;return H.prototype=C,[["$ms",c],["$s",u],["$m",o],["$H",d],["$W",p],["$M",h],["$y",y],["$D",m]].forEach((function(_){C[_[1]]=function(S){return this.$g(S,_[0],_[1])}})),H.extend=function(_,S){return _.$i||(_(S,F,H),_.$i=!0),H},H.locale=K,H.isDayjs=$,H.unix=function(_){return H(1e3*_)},H.en=I[W],H.Ls=I,H.p={},H}))},{}],392:[function(e,n,s){(function(a,i){typeof s=="object"&&n!==void 0?n.exports=i():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_customParseFormat=i()})(void 0,(function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,u=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,d={},p=function(x){return(x=+x)+(x>68?1900:2e3)},f=function(x){return function(j){this[x]=+j}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=(function(j){if(!j||j==="Z")return 0;var T=j.match(/([+-]|\d\d)/g),E=60*T[1]+(+T[2]||0);return E===0?0:T[0]==="+"?-E:E})(x)}],g=function(x){var j=d[x];return j&&(j.indexOf?j:j.s.concat(j.f))},y=function(x,j){var T,E=d.meridiem;if(E){for(var B=1;B<=24;B+=1)if(x.indexOf(E(B,0,j))>-1){T=B>12;break}}else T=x===(j?"pm":"PM");return T},m={A:[o,function(x){this.afternoon=y(x,!1)}],a:[o,function(x){this.afternoon=y(x,!0)}],S:[/\d/,function(x){this.milliseconds=100*+x}],SS:[c,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[u,f("seconds")],ss:[u,f("seconds")],m:[u,f("minutes")],mm:[u,f("minutes")],H:[u,f("hours")],h:[u,f("hours")],HH:[u,f("hours")],hh:[u,f("hours")],D:[u,f("day")],DD:[c,f("day")],Do:[o,function(x){var j=d.ordinal,T=x.match(/\d+/);if(this.day=T[0],j)for(var E=1;E<=31;E+=1)j(E).replace(/\[|\]/g,"")===x&&(this.day=E)}],M:[u,f("month")],MM:[c,f("month")],MMM:[o,function(x){var j=g("months"),T=(g("monthsShort")||j.map((function(E){return E.slice(0,3)}))).indexOf(x)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[o,function(x){var j=g("months").indexOf(x)+1;if(j<1)throw new Error;this.month=j%12||j}],Y:[/[+-]?\d+/,f("year")],YY:[c,function(x){this.year=p(x)}],YYYY:[/\d{4}/,f("year")],Z:h,ZZ:h};function v(x){var j,T;j=x,T=d&&d.formats;for(var E=(x=j.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(H,M,F){var C=F&&F.toUpperCase();return M||T[F]||a[F]||T[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(_,S,k){return S||k.slice(1)}))}))).match(i),B=E.length,W=0;W<B;W+=1){var I=E[W],R=m[I],$=R&&R[0],K=R&&R[1];E[W]=K?{regex:$,parser:K}:I.replace(/^\[|\]$/g,"")}return function(H){for(var M={},F=0,C=0;F<B;F+=1){var _=E[F];if(typeof _=="string")C+=_.length;else{var S=_.regex,k=_.parser,N=H.slice(C),D=S.exec(N)[0];k.call(M,D),H=H.replace(D,"")}}return(function(L){var V=L.afternoon;if(V!==void 0){var Q=L.hours;V?Q<12&&(L.hours+=12):Q===12&&(L.hours=0),delete L.afternoon}})(M),M}}return function(x,j,T){T.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(p=x.parseTwoDigitYear);var E=j.prototype,B=E.parse;E.parse=function(W){var I=W.date,R=W.utc,$=W.args;this.$u=R;var K=$[1];if(typeof K=="string"){var H=$[2]===!0,M=$[3]===!0,F=H||M,C=$[2];M&&(C=$[2]),d=this.$locale(),!H&&C&&(d=T.Ls[C]),this.$d=(function(N,D,L){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*N);var V=v(D)(N),Q=V.year,Y=V.month,re=V.day,O=V.hours,Z=V.minutes,U=V.seconds,z=V.milliseconds,G=V.zone,ae=new Date,pe=re||(Q||Y?1:ae.getDate()),de=Q||ae.getFullYear(),ge=0;Q&&!Y||(ge=Y>0?Y-1:ae.getMonth());var te=O||0,oe=Z||0,ne=U||0,he=z||0;return G?new Date(Date.UTC(de,ge,pe,te,oe,ne,he+60*G.offset*1e3)):L?new Date(Date.UTC(de,ge,pe,te,oe,ne,he)):new Date(de,ge,pe,te,oe,ne,he)}catch{return new Date("")}})(I,K,R),this.init(),C&&C!==!0&&(this.$L=this.locale(C).$L),F&&I!=this.format(K)&&(this.$d=new Date("")),d={}}else if(K instanceof Array)for(var _=K.length,S=1;S<=_;S+=1){$[1]=K[S-1];var k=T.apply(this,$);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}S===_&&(this.$d=new Date(""))}else B.call(this,W)}}}))},{}],393:[function(e,n,s){(function(a,i){typeof s=="object"&&n!==void 0?n.exports=i():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_utc=i()})(void 0,(function(){var a="minute",i=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(u,o,d){var p=o.prototype;d.utc=function(x){var j={date:x,utc:!0,args:arguments};return new o(j)},p.utc=function(x){var j=d(this.toDate(),{locale:this.$L,utc:!0});return x?j.add(this.utcOffset(),a):j},p.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var f=p.parse;p.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),f.call(this,x)};var h=p.init;p.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else h.call(this)};var g=p.utcOffset;p.utcOffset=function(x,j){var T=this.$utils().u;if(T(x))return this.$u?0:T(this.$offset)?g.call(this):this.$offset;if(typeof x=="string"&&(x=(function(I){I===void 0&&(I="");var R=I.match(i);if(!R)return null;var $=(""+R[0]).match(c)||["-",0,0],K=$[0],H=60*+$[1]+ +$[2];return H===0?0:K==="+"?H:-H})(x))===null)return this;var E=Math.abs(x)<=16?60*x:x,B=this;if(j)return B.$offset=E,B.$u=x===0,B;if(x!==0){var W=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(B=this.local().add(E+W,a)).$offset=E,B.$x.$localOffset=W}else B=this.utc();return B};var y=p.format;p.format=function(x){var j=x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,j)},p.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*x},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var m=p.toDate;p.toDate=function(x){return x==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=p.diff;p.diff=function(x,j,T){if(x&&this.$u===x.$u)return v.call(this,x,j,T);var E=this.local(),B=d(x).local();return v.call(E,B,j,T)}}}))},{}],394:[function(e,n,s){s.utils=e("./des/utils"),s.Cipher=e("./des/cipher"),s.DES=e("./des/des"),s.CBC=e("./des/cbc"),s.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,s){var a=e("minimalistic-assert"),i=e("inherits"),c={};function u(o){a.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var d=0;d<this.iv.length;d++)this.iv[d]=o[d]}s.instantiate=function(o){function d(g){o.call(this,g),this._cbcInit()}i(d,o);for(var p=Object.keys(c),f=0;f<p.length;f++){var h=p[f];d.prototype[h]=c[h]}return d.create=function(g){return new d(g)},d},c._cbcInit=function(){var o=new u(this.options.iv);this._cbcState=o},c._update=function(o,d,p,f){var h=this._cbcState,g=this.constructor.super_.prototype,y=h.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)y[m]^=o[d+m];for(g._update.call(this,y,0,p,f),m=0;m<this.blockSize;m++)y[m]=p[f+m]}else{for(g._update.call(this,o,d,p,f),m=0;m<this.blockSize;m++)p[f+m]^=y[m];for(m=0;m<this.blockSize;m++)y[m]=o[d+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,s){var a=e("minimalistic-assert");function i(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}n.exports=i,i.prototype._init=function(){},i.prototype.update=function(c){return c.length===0?[]:this.type==="decrypt"?this._updateDecrypt(c):this._updateEncrypt(c)},i.prototype._buffer=function(c,u){for(var o=Math.min(this.buffer.length-this.bufferOff,c.length-u),d=0;d<o;d++)this.buffer[this.bufferOff+d]=c[u+d];return this.bufferOff+=o,o},i.prototype._flushBuffer=function(c,u){return this._update(this.buffer,0,c,u),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(c){var u=0,o=0,d=(this.bufferOff+c.length)/this.blockSize|0,p=new Array(d*this.blockSize);this.bufferOff!==0&&(u+=this._buffer(c,u),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(p,o)));for(var f=c.length-(c.length-u)%this.blockSize;u<f;u+=this.blockSize)this._update(c,u,p,o),o+=this.blockSize;for(;u<c.length;u++,this.bufferOff++)this.buffer[this.bufferOff]=c[u];return p},i.prototype._updateDecrypt=function(c){for(var u=0,o=0,d=Math.ceil((this.bufferOff+c.length)/this.blockSize)-1,p=new Array(d*this.blockSize);d>0;d--)u+=this._buffer(c,u),o+=this._flushBuffer(p,o);return u+=this._buffer(c,u),p},i.prototype.final=function(c){var u,o;return c&&(u=this.update(c)),o=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),u?u.concat(o):o},i.prototype._pad=function(c,u){if(u===0)return!1;for(;u<c.length;)c[u++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var c=new Array(this.blockSize);return this._update(this.buffer,0,c,0),c},i.prototype._unpad=function(c){return c},i.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var c=new Array(this.blockSize);return this._flushBuffer(c,0),this._unpad(c)}},{"minimalistic-assert":453}],397:[function(e,n,s){var a=e("minimalistic-assert"),i=e("inherits"),c=e("./utils"),u=e("./cipher");function o(){this.tmp=new Array(2),this.keys=null}function d(f){u.call(this,f);var h=new o;this._desState=h,this.deriveKeys(h,f.key)}i(d,u),n.exports=d,d.create=function(f){return new d(f)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(f,h){f.keys=new Array(32),a.equal(h.length,this.blockSize,"Invalid key length");var g=c.readUInt32BE(h,0),y=c.readUInt32BE(h,4);c.pc1(g,y,f.tmp,0),g=f.tmp[0],y=f.tmp[1];for(var m=0;m<f.keys.length;m+=2){var v=p[m>>>1];g=c.r28shl(g,v),y=c.r28shl(y,v),c.pc2(g,y,f.keys,m)}},d.prototype._update=function(f,h,g,y){var m=this._desState,v=c.readUInt32BE(f,h),x=c.readUInt32BE(f,h+4);c.ip(v,x,m.tmp,0),v=m.tmp[0],x=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,x,m.tmp,0):this._decrypt(m,v,x,m.tmp,0),v=m.tmp[0],x=m.tmp[1],c.writeUInt32BE(g,v,y),c.writeUInt32BE(g,x,y+4)},d.prototype._pad=function(f,h){if(this.padding===!1)return!1;for(var g=f.length-h,y=h;y<f.length;y++)f[y]=g;return!0},d.prototype._unpad=function(f){if(this.padding===!1)return f;for(var h=f[f.length-1],g=f.length-h;g<f.length;g++)a.equal(f[g],h);return f.slice(0,f.length-h)},d.prototype._encrypt=function(f,h,g,y,m){for(var v=h,x=g,j=0;j<f.keys.length;j+=2){var T=f.keys[j],E=f.keys[j+1];c.expand(x,f.tmp,0),T^=f.tmp[0],E^=f.tmp[1];var B=c.substitute(T,E),W=x;x=(v^c.permute(B))>>>0,v=W}c.rip(x,v,y,m)},d.prototype._decrypt=function(f,h,g,y,m){for(var v=g,x=h,j=f.keys.length-2;j>=0;j-=2){var T=f.keys[j],E=f.keys[j+1];c.expand(v,f.tmp,0),T^=f.tmp[0],E^=f.tmp[1];var B=c.substitute(T,E),W=v;v=(x^c.permute(B))>>>0,x=W}c.rip(v,x,y,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,s){var a=e("minimalistic-assert"),i=e("inherits"),c=e("./cipher"),u=e("./des");function o(p,f){a.equal(f.length,24,"Invalid key length");var h=f.slice(0,8),g=f.slice(8,16),y=f.slice(16,24);this.ciphers=p==="encrypt"?[u.create({type:"encrypt",key:h}),u.create({type:"decrypt",key:g}),u.create({type:"encrypt",key:y})]:[u.create({type:"decrypt",key:y}),u.create({type:"encrypt",key:g}),u.create({type:"decrypt",key:h})]}function d(p){c.call(this,p);var f=new o(this.type,this.options.key);this._edeState=f}i(d,c),n.exports=d,d.create=function(p){return new d(p)},d.prototype._update=function(p,f,h,g){var y=this._edeState;y.ciphers[0]._update(p,f,h,g),y.ciphers[1]._update(h,g,h,g),y.ciphers[2]._update(h,g,h,g)},d.prototype._pad=u.prototype._pad,d.prototype._unpad=u.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,s){s.readUInt32BE=function(u,o){return(u[0+o]<<24|u[1+o]<<16|u[2+o]<<8|u[3+o])>>>0},s.writeUInt32BE=function(u,o,d){u[0+d]=o>>>24,u[1+d]=o>>>16&255,u[2+d]=o>>>8&255,u[3+d]=255&o},s.ip=function(u,o,d,p){for(var f=0,h=0,g=6;g>=0;g-=2){for(var y=0;y<=24;y+=8)f<<=1,f|=o>>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>>y+g&1}for(g=6;g>=0;g-=2){for(y=1;y<=25;y+=8)h<<=1,h|=o>>>y+g&1;for(y=1;y<=25;y+=8)h<<=1,h|=u>>>y+g&1}d[p+0]=f>>>0,d[p+1]=h>>>0},s.rip=function(u,o,d,p){for(var f=0,h=0,g=0;g<4;g++)for(var y=24;y>=0;y-=8)f<<=1,f|=o>>>y+g&1,f<<=1,f|=u>>>y+g&1;for(g=4;g<8;g++)for(y=24;y>=0;y-=8)h<<=1,h|=o>>>y+g&1,h<<=1,h|=u>>>y+g&1;d[p+0]=f>>>0,d[p+1]=h>>>0},s.pc1=function(u,o,d,p){for(var f=0,h=0,g=7;g>=5;g--){for(var y=0;y<=24;y+=8)f<<=1,f|=o>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>y+g&1}for(y=0;y<=24;y+=8)f<<=1,f|=o>>y+g&1;for(g=1;g<=3;g++){for(y=0;y<=24;y+=8)h<<=1,h|=o>>y+g&1;for(y=0;y<=24;y+=8)h<<=1,h|=u>>y+g&1}for(y=0;y<=24;y+=8)h<<=1,h|=u>>y+g&1;d[p+0]=f>>>0,d[p+1]=h>>>0},s.r28shl=function(u,o){return u<<o&268435455|u>>>28-o};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(u,o,d,p){for(var f=0,h=0,g=a.length>>>1,y=0;y<g;y++)f<<=1,f|=u>>>a[y]&1;for(y=g;y<a.length;y++)h<<=1,h|=o>>>a[y]&1;d[p+0]=f>>>0,d[p+1]=h>>>0},s.expand=function(u,o,d){var p=0,f=0;p=(1&u)<<5|u>>>27;for(var h=23;h>=15;h-=4)p<<=6,p|=u>>>h&63;for(h=11;h>=3;h-=4)f|=u>>>h&63,f<<=6;f|=(31&u)<<1|u>>>31,o[d+0]=p>>>0,o[d+1]=f>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(u,o){for(var d=0,p=0;p<4;p++)d<<=4,d|=i[64*p+(u>>>18-6*p&63)];for(p=0;p<4;p++)d<<=4,d|=i[256+64*p+(o>>>18-6*p&63)];return d>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(u){for(var o=0,d=0;d<c.length;d++)o<<=1,o|=u>>>c[d]&1;return o>>>0},s.padSplit=function(u,o,d){for(var p=u.toString(2);p.length<o;)p="0"+p;for(var f=[],h=0;h<o;h+=d)f.push(p.slice(h,h+d));return f.join(" ")}},{}],400:[function(e,n,s){(function(a){(function(){var i=e("./lib/generatePrime"),c=e("./lib/primes.json"),u=e("./lib/dh"),o={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(d){var p=new a(c[d].prime,"hex"),f=new a(c[d].gen,"hex");return new u(p,f)},s.createDiffieHellman=s.DiffieHellman=function d(p,f,h,g){return a.isBuffer(f)||o[f]===void 0?d(p,"binary",f,h):(f=f||"binary",g=g||"binary",h=h||new a([2]),a.isBuffer(h)||(h=new a(h,g)),typeof p=="number"?new u(i(p,h),h,!0):(a.isBuffer(p)||(p=new a(p,f)),new u(p,h,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,s){(function(a){(function(){var i=e("bn.js"),c=new(e("miller-rabin")),u=new i(24),o=new i(11),d=new i(10),p=new i(3),f=new i(7),h=e("./generatePrime"),g=e("randombytes");function y(T,E){return E=E||"utf8",a.isBuffer(T)||(T=new a(T,E)),this._pub=new i(T),this}function m(T,E){return E=E||"utf8",a.isBuffer(T)||(T=new a(T,E)),this._priv=new i(T),this}n.exports=x;var v={};function x(T,E,B){this.setGenerator(E),this.__prime=new i(T),this._prime=i.mont(this.__prime),this._primeLen=T.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,B?(this.setPublicKey=y,this.setPrivateKey=m):this._primeCode=8}function j(T,E){var B=new a(T.toArray());return E?B.toString(E):B}Object.defineProperty(x.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(T,E){var B=E.toString("hex"),W=[B,T.toString(16)].join("_");if(W in v)return v[W];var I,R=0;if(T.isEven()||!h.simpleSieve||!h.fermatTest(T)||!c.test(T))return R+=1,R+=B==="02"||B==="05"?8:4,v[W]=R,R;switch(c.test(T.shrn(1))||(R+=2),B){case"02":T.mod(u).cmp(o)&&(R+=8);break;case"05":(I=T.mod(d)).cmp(p)&&I.cmp(f)&&(R+=8);break;default:R+=4}return v[W]=R,R})(this.__prime,this.__gen)),this._primeCode}}),x.prototype.generateKeys=function(){return this._priv||(this._priv=new i(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},x.prototype.computeSecret=function(T){var E=(T=(T=new i(T)).toRed(this._prime)).redPow(this._priv).fromRed(),B=new a(E.toArray()),W=this.getPrime();if(B.length<W.length){var I=new a(W.length-B.length);I.fill(0),B=a.concat([I,B])}return B},x.prototype.getPublicKey=function(T){return j(this._pub,T)},x.prototype.getPrivateKey=function(T){return j(this._priv,T)},x.prototype.getPrime=function(T){return j(this.__prime,T)},x.prototype.getGenerator=function(T){return j(this._gen,T)},x.prototype.setGenerator=function(T,E){return E=E||"utf8",a.isBuffer(T)||(T=new a(T,E)),this.__gen=T,this._gen=new i(T),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,s){var a=e("randombytes");n.exports=T,T.simpleSieve=x,T.fermatTest=j;var i=e("bn.js"),c=new i(24),u=new(e("miller-rabin")),o=new i(1),d=new i(2),p=new i(5),f=(new i(16),new i(8),new i(10)),h=new i(3),g=(new i(7),new i(11)),y=new i(4),m=(new i(12),null);function v(){if(m!==null)return m;var E=[];E[0]=2;for(var B=1,W=3;W<1048576;W+=2){for(var I=Math.ceil(Math.sqrt(W)),R=0;R<B&&E[R]<=I&&W%E[R]!=0;R++);B!==R&&E[R]<=I||(E[B++]=W)}return m=E,E}function x(E){for(var B=v(),W=0;W<B.length;W++)if(E.modn(B[W])===0)return E.cmpn(B[W])===0;return!0}function j(E){var B=i.mont(E);return d.toRed(B).redPow(E.subn(1)).fromRed().cmpn(1)===0}function T(E,B){if(E<16)return new i(B===2||B===5?[140,123]:[140,39]);var W,I;for(B=new i(B);;){for(W=new i(a(Math.ceil(E/8)));W.bitLength()>E;)W.ishrn(1);if(W.isEven()&&W.iadd(o),W.testn(1)||W.iadd(d),B.cmp(d)){if(!B.cmp(p))for(;W.mod(f).cmp(h);)W.iadd(y)}else for(;W.mod(c).cmp(g);)W.iadd(y);if(x(I=W.shrn(1))&&x(W)&&j(I)&&j(W)&&u.test(I)&&u.test(W))return W}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,s){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(e,n,s){var a=s;a.version=e("../package.json").version,a.utils=e("./elliptic/utils"),a.rand=e("brorand"),a.curve=e("./elliptic/curve"),a.curves=e("./elliptic/curves"),a.ec=e("./elliptic/ec"),a.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,s){var a=e("bn.js"),i=e("../utils"),c=i.getNAF,u=i.getJSF,o=i.assert;function d(f,h){this.type=f,this.p=new a(h.p,16),this.red=h.prime?a.red(h.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=h.n&&new a(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(f,h){this.curve=f,this.type=h,this.precomputed=null}n.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(f,h){o(f.precomputed);var g=f._getDoubles(),y=c(h,1,this._bitLength),m=(1<<g.step+1)-(g.step%2==0?2:1);m/=3;var v,x,j=[];for(v=0;v<y.length;v+=g.step){x=0;for(var T=v+g.step-1;T>=v;T--)x=(x<<1)+y[T];j.push(x)}for(var E=this.jpoint(null,null,null),B=this.jpoint(null,null,null),W=m;W>0;W--){for(v=0;v<j.length;v++)(x=j[v])===W?B=B.mixedAdd(g.points[v]):x===-W&&(B=B.mixedAdd(g.points[v].neg()));E=E.add(B)}return E.toP()},d.prototype._wnafMul=function(f,h){var g=4,y=f._getNAFPoints(g);g=y.wnd;for(var m=y.points,v=c(h,g,this._bitLength),x=this.jpoint(null,null,null),j=v.length-1;j>=0;j--){for(var T=0;j>=0&&v[j]===0;j--)T++;if(j>=0&&T++,x=x.dblp(T),j<0)break;var E=v[j];o(E!==0),x=f.type==="affine"?E>0?x.mixedAdd(m[E-1>>1]):x.mixedAdd(m[-E-1>>1].neg()):E>0?x.add(m[E-1>>1]):x.add(m[-E-1>>1].neg())}return f.type==="affine"?x.toP():x},d.prototype._wnafMulAdd=function(f,h,g,y,m){var v,x,j,T=this._wnafT1,E=this._wnafT2,B=this._wnafT3,W=0;for(v=0;v<y;v++){var I=(j=h[v])._getNAFPoints(f);T[v]=I.wnd,E[v]=I.points}for(v=y-1;v>=1;v-=2){var R=v-1,$=v;if(T[R]===1&&T[$]===1){var K=[h[R],null,null,h[$]];h[R].y.cmp(h[$].y)===0?(K[1]=h[R].add(h[$]),K[2]=h[R].toJ().mixedAdd(h[$].neg())):h[R].y.cmp(h[$].y.redNeg())===0?(K[1]=h[R].toJ().mixedAdd(h[$]),K[2]=h[R].add(h[$].neg())):(K[1]=h[R].toJ().mixedAdd(h[$]),K[2]=h[R].toJ().mixedAdd(h[$].neg()));var H=[-3,-1,-5,-7,0,7,5,1,3],M=u(g[R],g[$]);for(W=Math.max(M[0].length,W),B[R]=new Array(W),B[$]=new Array(W),x=0;x<W;x++){var F=0|M[0][x],C=0|M[1][x];B[R][x]=H[3*(F+1)+(C+1)],B[$][x]=0,E[R]=K}}else B[R]=c(g[R],T[R],this._bitLength),B[$]=c(g[$],T[$],this._bitLength),W=Math.max(B[R].length,W),W=Math.max(B[$].length,W)}var _=this.jpoint(null,null,null),S=this._wnafT4;for(v=W;v>=0;v--){for(var k=0;v>=0;){var N=!0;for(x=0;x<y;x++)S[x]=0|B[x][v],S[x]!==0&&(N=!1);if(!N)break;k++,v--}if(v>=0&&k++,_=_.dblp(k),v<0)break;for(x=0;x<y;x++){var D=S[x];D!==0&&(D>0?j=E[x][D-1>>1]:D<0&&(j=E[x][-D-1>>1].neg()),_=j.type==="affine"?_.mixedAdd(j):_.add(j))}}for(v=0;v<y;v++)E[v]=null;return m?_:_.toP()},d.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(f,h){f=i.toArray(f,h);var g=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*g)return f[0]===6?o(f[f.length-1]%2==0):f[0]===7&&o(f[f.length-1]%2==1),this.point(f.slice(1,1+g),f.slice(1+g,1+2*g));if((f[0]===2||f[0]===3)&&f.length-1===g)return this.pointFromX(f.slice(1,1+g),f[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(f){return this.encode(f,!0)},p.prototype._encode=function(f){var h=this.curve.p.byteLength(),g=this.getX().toArray("be",h);return f?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",h))},p.prototype.encode=function(f,h){return i.encode(this._encode(h),f)},p.prototype.precompute=function(f){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,f),h.beta=this._getBeta(),this.precomputed=h,this},p.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((f.bitLength()+1)/h.step)},p.prototype._getDoubles=function(f,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],y=this,m=0;m<h;m+=f){for(var v=0;v<f;v++)y=y.dbl();g.push(y)}return{step:f,points:g}},p.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],g=(1<<f)-1,y=g===1?null:this.dbl(),m=1;m<g;m++)h[m]=h[m-1].add(y);return{wnd:f,points:h}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(f){for(var h=this,g=0;g<f;g++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(e,n,s){var a=e("../utils"),i=e("bn.js"),c=e("inherits"),u=e("./base"),o=a.assert;function d(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,u.call(this,"edwards",f),this.a=new i(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function p(f,h,g,y,m){u.BasePoint.call(this,f,"projective"),h===null&&g===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(h,16),this.y=new i(g,16),this.z=y?new i(y,16):this.curve.one,this.t=m&&new i(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(d,u),n.exports=d,d.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},d.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},d.prototype.jpoint=function(f,h,g,y){return this.point(f,h,g,y)},d.prototype.pointFromX=function(f,h){(f=new i(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),y=this.c2.redSub(this.a.redMul(g)),m=this.one.redSub(this.c2.redMul(this.d).redMul(g)),v=y.redMul(m.redInvm()),x=v.redSqrt();if(x.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var j=x.fromRed().isOdd();return(h&&!j||!h&&j)&&(x=x.redNeg()),this.point(f,x)},d.prototype.pointFromY=function(f,h){(f=new i(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),y=g.redSub(this.c2),m=g.redMul(this.d).redMul(this.c2).redSub(this.a),v=y.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,f)}var x=v.redSqrt();if(x.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return x.fromRed().isOdd()!==h&&(x=x.redNeg()),this.point(x,f)},d.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var h=f.x.redSqr(),g=f.y.redSqr(),y=h.redMul(this.a).redAdd(g),m=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(g)));return y.cmp(m)===0},c(p,u.BasePoint),d.prototype.pointFromJSON=function(f){return p.fromJSON(this,f)},d.prototype.point=function(f,h,g,y){return new p(this,f,h,g,y)},p.fromJSON=function(f,h){return new p(f,h[0],h[1],h[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var f=this.x.redSqr(),h=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var y=this.curve._mulA(f),m=this.x.redAdd(this.y).redSqr().redISub(f).redISub(h),v=y.redAdd(h),x=v.redSub(g),j=y.redSub(h),T=m.redMul(x),E=v.redMul(j),B=m.redMul(j),W=x.redMul(v);return this.curve.point(T,E,W,B)},p.prototype._projDbl=function(){var f,h,g,y,m,v,x=this.x.redAdd(this.y).redSqr(),j=this.x.redSqr(),T=this.y.redSqr();if(this.curve.twisted){var E=(y=this.curve._mulA(j)).redAdd(T);this.zOne?(f=x.redSub(j).redSub(T).redMul(E.redSub(this.curve.two)),h=E.redMul(y.redSub(T)),g=E.redSqr().redSub(E).redSub(E)):(m=this.z.redSqr(),v=E.redSub(m).redISub(m),f=x.redSub(j).redISub(T).redMul(v),h=E.redMul(y.redSub(T)),g=E.redMul(v))}else y=j.redAdd(T),m=this.curve._mulC(this.z).redSqr(),v=y.redSub(m).redSub(m),f=this.curve._mulC(x.redISub(y)).redMul(v),h=this.curve._mulC(y).redMul(j.redISub(T)),g=y.redMul(v);return this.curve.point(f,h,g)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(f){var h=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),g=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),y=this.t.redMul(this.curve.dd).redMul(f.t),m=this.z.redMul(f.z.redAdd(f.z)),v=g.redSub(h),x=m.redSub(y),j=m.redAdd(y),T=g.redAdd(h),E=v.redMul(x),B=j.redMul(T),W=v.redMul(T),I=x.redMul(j);return this.curve.point(E,B,I,W)},p.prototype._projAdd=function(f){var h,g,y=this.z.redMul(f.z),m=y.redSqr(),v=this.x.redMul(f.x),x=this.y.redMul(f.y),j=this.curve.d.redMul(v).redMul(x),T=m.redSub(j),E=m.redAdd(j),B=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(v).redISub(x),W=y.redMul(T).redMul(B);return this.curve.twisted?(h=y.redMul(E).redMul(x.redSub(this.curve._mulA(v))),g=T.redMul(E)):(h=y.redMul(E).redMul(x.redSub(v)),g=this.curve._mulC(T).redMul(E)),this.curve.point(W,h,g)},p.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},p.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},p.prototype.mulAdd=function(f,h,g){return this.curve._wnafMulAdd(1,[this,h],[f,g],2,!1)},p.prototype.jmulAdd=function(f,h,g){return this.curve._wnafMulAdd(1,[this,h],[f,g],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},p.prototype.eqXToP=function(f){var h=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var g=f.clone(),y=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(y),this.x.cmp(h)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,s){var a=s;a.base=e("./base"),a.short=e("./short"),a.mont=e("./mont"),a.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,s){var a=e("bn.js"),i=e("inherits"),c=e("./base"),u=e("../utils");function o(p){c.call(this,"mont",p),this.a=new a(p.a,16).toRed(this.red),this.b=new a(p.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function d(p,f,h){c.BasePoint.call(this,p,"projective"),f===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(f,16),this.z=new a(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(o,c),n.exports=o,o.prototype.validate=function(p){var f=p.normalize().x,h=f.redSqr(),g=h.redMul(f).redAdd(h.redMul(this.a)).redAdd(f);return g.redSqrt().redSqr().cmp(g)===0},i(d,c.BasePoint),o.prototype.decodePoint=function(p,f){return this.point(u.toArray(p,f),1)},o.prototype.point=function(p,f){return new d(this,p,f)},o.prototype.pointFromJSON=function(p){return d.fromJSON(this,p)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(p,f){return new d(p,f[0],f[1]||p.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var p=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),h=p.redSub(f),g=p.redMul(f),y=h.redMul(f.redAdd(this.curve.a24.redMul(h)));return this.curve.point(g,y)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(p,f){var h=this.x.redAdd(this.z),g=this.x.redSub(this.z),y=p.x.redAdd(p.z),m=p.x.redSub(p.z).redMul(h),v=y.redMul(g),x=f.z.redMul(m.redAdd(v).redSqr()),j=f.x.redMul(m.redISub(v).redSqr());return this.curve.point(x,j)},d.prototype.mul=function(p){for(var f=p.clone(),h=this,g=this.curve.point(null,null),y=[];f.cmpn(0)!==0;f.iushrn(1))y.push(f.andln(1));for(var m=y.length-1;m>=0;m--)y[m]===0?(h=h.diffAdd(g,this),g=g.dbl()):(g=h.diffAdd(g,this),h=h.dbl());return g},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,s){var a=e("../utils"),i=e("bn.js"),c=e("inherits"),u=e("./base"),o=a.assert;function d(h){u.call(this,"short",h),this.a=new i(h.a,16).toRed(this.red),this.b=new i(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function p(h,g,y,m){u.BasePoint.call(this,h,"affine"),g===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(g,16),this.y=new i(y,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(h,g,y,m){u.BasePoint.call(this,h,"jacobian"),g===null&&y===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(g,16),this.y=new i(y,16),this.z=new i(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(d,u),n.exports=d,d.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,y;if(h.beta)g=new i(h.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);g=(g=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(h.lambda)y=new i(h.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(g))===0?y=v[0]:(y=v[1],o(this.g.mul(y).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:y,basis:h.basis?h.basis.map((function(x){return{a:new i(x.a,16),b:new i(x.b,16)}})):this._getEndoBasis(y)}}},d.prototype._getEndoRoots=function(h){var g=h===this.p?this.red:i.mont(h),y=new i(2).toRed(g).redInvm(),m=y.redNeg(),v=new i(3).toRed(g).redNeg().redSqrt().redMul(y);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},d.prototype._getEndoBasis=function(h){for(var g,y,m,v,x,j,T,E,B,W=this.n.ushrn(Math.floor(this.n.bitLength()/2)),I=h,R=this.n.clone(),$=new i(1),K=new i(0),H=new i(0),M=new i(1),F=0;I.cmpn(0)!==0;){var C=R.div(I);E=R.sub(C.mul(I)),B=H.sub(C.mul($));var _=M.sub(C.mul(K));if(!m&&E.cmp(W)<0)g=T.neg(),y=$,m=E.neg(),v=B;else if(m&&++F==2)break;T=E,R=I,I=E,H=$,$=B,M=K,K=_}x=E.neg(),j=B;var S=m.sqr().add(v.sqr());return x.sqr().add(j.sqr()).cmp(S)>=0&&(x=g,j=y),m.negative&&(m=m.neg(),v=v.neg()),x.negative&&(x=x.neg(),j=j.neg()),[{a:m,b:v},{a:x,b:j}]},d.prototype._endoSplit=function(h){var g=this.endo.basis,y=g[0],m=g[1],v=m.b.mul(h).divRound(this.n),x=y.b.neg().mul(h).divRound(this.n),j=v.mul(y.a),T=x.mul(m.a),E=v.mul(y.b),B=x.mul(m.b);return{k1:h.sub(j).sub(T),k2:E.add(B).neg()}},d.prototype.pointFromX=function(h,g){(h=new i(h,16)).red||(h=h.toRed(this.red));var y=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(g&&!v||!g&&v)&&(m=m.redNeg()),this.point(h,m)},d.prototype.validate=function(h){if(h.inf)return!0;var g=h.x,y=h.y,m=this.a.redMul(g),v=g.redSqr().redMul(g).redIAdd(m).redIAdd(this.b);return y.redSqr().redISub(v).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(h,g,y){for(var m=this._endoWnafT1,v=this._endoWnafT2,x=0;x<h.length;x++){var j=this._endoSplit(g[x]),T=h[x],E=T._getBeta();j.k1.negative&&(j.k1.ineg(),T=T.neg(!0)),j.k2.negative&&(j.k2.ineg(),E=E.neg(!0)),m[2*x]=T,m[2*x+1]=E,v[2*x]=j.k1,v[2*x+1]=j.k2}for(var B=this._wnafMulAdd(1,m,v,2*x,y),W=0;W<2*x;W++)m[W]=null,v[W]=null;return B},c(p,u.BasePoint),d.prototype.point=function(h,g,y){return new p(this,h,g,y)},d.prototype.pointFromJSON=function(h,g){return p.fromJSON(this,h,g)},p.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var y=this.curve,m=function(v){return y.point(v.x.redMul(y.endo.beta),v.y)};h.beta=g,g.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(m)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(m)}}}return g}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(h,g,y){typeof g=="string"&&(g=JSON.parse(g));var m=h.point(g[0],g[1],y);if(!g[2])return m;function v(j){return h.point(j[0],j[1],y)}var x=g[2];return m.precomputed={beta:null,doubles:x.doubles&&{step:x.doubles.step,points:[m].concat(x.doubles.points.map(v))},naf:x.naf&&{wnd:x.naf.wnd,points:[m].concat(x.naf.points.map(v))}},m},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var g=this.y.redSub(h.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(h.x).redInvm()));var y=g.redSqr().redISub(this.x).redISub(h.x),m=g.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,m)},p.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,y=this.x.redSqr(),m=h.redInvm(),v=y.redAdd(y).redIAdd(y).redIAdd(g).redMul(m),x=v.redSqr().redISub(this.x.redAdd(this.x)),j=v.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,j)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(h){return h=new i(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},p.prototype.mulAdd=function(h,g,y){var m=[this,g],v=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},p.prototype.jmulAdd=function(h,g,y){var m=[this,g],v=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},p.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},p.prototype.neg=function(h){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var y=this.precomputed,m=function(v){return v.neg()};g.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(m)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(m)}}}return g},p.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(f,u.BasePoint),d.prototype.jpoint=function(h,g,y){return new f(this,h,g,y)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),g=h.redSqr(),y=this.x.redMul(g),m=this.y.redMul(g).redMul(h);return this.curve.point(y,m)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var g=h.z.redSqr(),y=this.z.redSqr(),m=this.x.redMul(g),v=h.x.redMul(y),x=this.y.redMul(g.redMul(h.z)),j=h.y.redMul(y.redMul(this.z)),T=m.redSub(v),E=x.redSub(j);if(T.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var B=T.redSqr(),W=B.redMul(T),I=m.redMul(B),R=E.redSqr().redIAdd(W).redISub(I).redISub(I),$=E.redMul(I.redISub(R)).redISub(x.redMul(W)),K=this.z.redMul(h.z).redMul(T);return this.curve.jpoint(R,$,K)},f.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var g=this.z.redSqr(),y=this.x,m=h.x.redMul(g),v=this.y,x=h.y.redMul(g).redMul(this.z),j=y.redSub(m),T=v.redSub(x);if(j.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=j.redSqr(),B=E.redMul(j),W=y.redMul(E),I=T.redSqr().redIAdd(B).redISub(W).redISub(W),R=T.redMul(W.redISub(I)).redISub(v.redMul(B)),$=this.z.redMul(j);return this.curve.jpoint(I,R,$)},f.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var y=this;for(g=0;g<h;g++)y=y.dbl();return y}var m=this.curve.a,v=this.curve.tinv,x=this.x,j=this.y,T=this.z,E=T.redSqr().redSqr(),B=j.redAdd(j);for(g=0;g<h;g++){var W=x.redSqr(),I=B.redSqr(),R=I.redSqr(),$=W.redAdd(W).redIAdd(W).redIAdd(m.redMul(E)),K=x.redMul(I),H=$.redSqr().redISub(K.redAdd(K)),M=K.redISub(H),F=$.redMul(M);F=F.redIAdd(F).redISub(R);var C=B.redMul(T);g+1<h&&(E=E.redMul(R)),x=H,T=C,B=F}return this.curve.jpoint(x,B.redMul(v),T)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var h,g,y;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),x=v.redSqr(),j=this.x.redAdd(v).redSqr().redISub(m).redISub(x);j=j.redIAdd(j);var T=m.redAdd(m).redIAdd(m),E=T.redSqr().redISub(j).redISub(j),B=x.redIAdd(x);B=(B=B.redIAdd(B)).redIAdd(B),h=E,g=T.redMul(j.redISub(E)).redISub(B),y=this.y.redAdd(this.y)}else{var W=this.x.redSqr(),I=this.y.redSqr(),R=I.redSqr(),$=this.x.redAdd(I).redSqr().redISub(W).redISub(R);$=$.redIAdd($);var K=W.redAdd(W).redIAdd(W),H=K.redSqr(),M=R.redIAdd(R);M=(M=M.redIAdd(M)).redIAdd(M),h=H.redISub($).redISub($),g=K.redMul($.redISub(h)).redISub(M),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(h,g,y)},f.prototype._threeDbl=function(){var h,g,y;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),x=v.redSqr(),j=this.x.redAdd(v).redSqr().redISub(m).redISub(x);j=j.redIAdd(j);var T=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),E=T.redSqr().redISub(j).redISub(j);h=E;var B=x.redIAdd(x);B=(B=B.redIAdd(B)).redIAdd(B),g=T.redMul(j.redISub(E)).redISub(B),y=this.y.redAdd(this.y)}else{var W=this.z.redSqr(),I=this.y.redSqr(),R=this.x.redMul(I),$=this.x.redSub(W).redMul(this.x.redAdd(W));$=$.redAdd($).redIAdd($);var K=R.redIAdd(R),H=(K=K.redIAdd(K)).redAdd(K);h=$.redSqr().redISub(H),y=this.y.redAdd(this.z).redSqr().redISub(I).redISub(W);var M=I.redSqr();M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M),g=$.redMul(K.redISub(h)).redISub(M)}return this.curve.jpoint(h,g,y)},f.prototype._dbl=function(){var h=this.curve.a,g=this.x,y=this.y,m=this.z,v=m.redSqr().redSqr(),x=g.redSqr(),j=y.redSqr(),T=x.redAdd(x).redIAdd(x).redIAdd(h.redMul(v)),E=g.redAdd(g),B=(E=E.redIAdd(E)).redMul(j),W=T.redSqr().redISub(B.redAdd(B)),I=B.redISub(W),R=j.redSqr();R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R);var $=T.redMul(I).redISub(R),K=y.redAdd(y).redMul(m);return this.curve.jpoint(W,$,K)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),g=this.y.redSqr(),y=this.z.redSqr(),m=g.redSqr(),v=h.redAdd(h).redIAdd(h),x=v.redSqr(),j=this.x.redAdd(g).redSqr().redISub(h).redISub(m),T=(j=(j=(j=j.redIAdd(j)).redAdd(j).redIAdd(j)).redISub(x)).redSqr(),E=m.redIAdd(m);E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var B=v.redIAdd(j).redSqr().redISub(x).redISub(T).redISub(E),W=g.redMul(B);W=(W=W.redIAdd(W)).redIAdd(W);var I=this.x.redMul(T).redISub(W);I=(I=I.redIAdd(I)).redIAdd(I);var R=this.y.redMul(B.redMul(E.redISub(B)).redISub(j.redMul(T)));R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R);var $=this.z.redAdd(j).redSqr().redISub(y).redISub(T);return this.curve.jpoint(I,R,$)},f.prototype.mul=function(h,g){return h=new i(h,g),this.curve._wnafMul(this,h)},f.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var g=this.z.redSqr(),y=h.z.redSqr();if(this.x.redMul(y).redISub(h.x.redMul(g)).cmpn(0)!==0)return!1;var m=g.redMul(this.z),v=y.redMul(h.z);return this.y.redMul(v).redISub(h.y.redMul(m)).cmpn(0)===0},f.prototype.eqXToP=function(h){var g=this.z.redSqr(),y=h.toRed(this.curve.red).redMul(g);if(this.x.cmp(y)===0)return!0;for(var m=h.clone(),v=this.curve.redN.redMul(g);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(v),this.x.cmp(y)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,s){var a,i=s,c=e("hash.js"),u=e("./curve"),o=e("./utils").assert;function d(f){f.type==="short"?this.curve=new u.short(f):f.type==="edwards"?this.curve=new u.edwards(f):this.curve=new u.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(f,h){Object.defineProperty(i,f,{configurable:!0,enumerable:!0,get:function(){var g=new d(h);return Object.defineProperty(i,f,{configurable:!0,enumerable:!0,value:g}),g}})}i.PresetCurve=d,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=e("./precomputed/secp256k1")}catch{a=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,s){var a=e("bn.js"),i=e("hmac-drbg"),c=e("../utils"),u=e("../curves"),o=e("brorand"),d=c.assert,p=e("./key"),f=e("./signature");function h(g){if(!(this instanceof h))return new h(g);typeof g=="string"&&(d(Object.prototype.hasOwnProperty.call(u,g),"Unknown curve "+g),g=u[g]),g instanceof u.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=h,h.prototype.keyPair=function(g){return new p(this,g)},h.prototype.keyFromPrivate=function(g,y){return p.fromPrivate(this,g,y)},h.prototype.keyFromPublic=function(g,y){return p.fromPublic(this,g,y)},h.prototype.genKeyPair=function(g){g||(g={});for(var y=new i({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||o(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new a(2));;){var x=new a(y.generate(m));if(!(x.cmp(v)>0))return x.iaddn(1),this.keyFromPrivate(x)}},h.prototype._truncateToN=function(g,y){var m=8*g.byteLength()-this.n.bitLength();return m>0&&(g=g.ushrn(m)),!y&&g.cmp(this.n)>=0?g.sub(this.n):g},h.prototype.sign=function(g,y,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),y=this.keyFromPrivate(y,m),g=this._truncateToN(new a(g,16));for(var x=this.n.byteLength(),j=y.getPrivate().toArray("be",x),T=g.toArray("be",x),E=new i({hash:this.hash,entropy:j,nonce:T,pers:v.pers,persEnc:v.persEnc||"utf8"}),B=this.n.sub(new a(1)),W=0;;W++){var I=v.k?v.k(W):new a(E.generate(this.n.byteLength()));if(!((I=this._truncateToN(I,!0)).cmpn(1)<=0||I.cmp(B)>=0)){var R=this.g.mul(I);if(!R.isInfinity()){var $=R.getX(),K=$.umod(this.n);if(K.cmpn(0)!==0){var H=I.invm(this.n).mul(K.mul(y.getPrivate()).iadd(g));if((H=H.umod(this.n)).cmpn(0)!==0){var M=(R.getY().isOdd()?1:0)|($.cmp(K)!==0?2:0);return v.canonical&&H.cmp(this.nh)>0&&(H=this.n.sub(H),M^=1),new f({r:K,s:H,recoveryParam:M})}}}}}},h.prototype.verify=function(g,y,m,v){g=this._truncateToN(new a(g,16)),m=this.keyFromPublic(m,v);var x=(y=new f(y,"hex")).r,j=y.s;if(x.cmpn(1)<0||x.cmp(this.n)>=0||j.cmpn(1)<0||j.cmp(this.n)>=0)return!1;var T,E=j.invm(this.n),B=E.mul(g).umod(this.n),W=E.mul(x).umod(this.n);return this.curve._maxwellTrick?!(T=this.g.jmulAdd(B,m.getPublic(),W)).isInfinity()&&T.eqXToP(x):!(T=this.g.mulAdd(B,m.getPublic(),W)).isInfinity()&&T.getX().umod(this.n).cmp(x)===0},h.prototype.recoverPubKey=function(g,y,m,v){d((3&m)===m,"The recovery param is more than two bits"),y=new f(y,v);var x=this.n,j=new a(g),T=y.r,E=y.s,B=1&m,W=m>>1;if(T.cmp(this.curve.p.umod(this.curve.n))>=0&&W)throw new Error("Unable to find sencond key candinate");T=W?this.curve.pointFromX(T.add(this.curve.n),B):this.curve.pointFromX(T,B);var I=y.r.invm(x),R=x.sub(j).mul(I).umod(x),$=E.mul(I).umod(x);return this.g.mulAdd(R,T,$)},h.prototype.getKeyRecoveryParam=function(g,y,m,v){if((y=new f(y,v)).recoveryParam!==null)return y.recoveryParam;for(var x=0;x<4;x++){var j;try{j=this.recoverPubKey(g,y,x)}catch{continue}if(j.eq(m))return x}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,s){var a=e("bn.js"),i=e("../utils").assert;function c(u,o){this.ec=u,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}n.exports=c,c.fromPublic=function(u,o,d){return o instanceof c?o:new c(u,{pub:o,pubEnc:d})},c.fromPrivate=function(u,o,d){return o instanceof c?o:new c(u,{priv:o,privEnc:d})},c.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},c.prototype.getPublic=function(u,o){return typeof u=="string"&&(o=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,u):this.pub},c.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},c.prototype._importPrivate=function(u,o){this.priv=new a(u,o||16),this.priv=this.priv.umod(this.ec.curve.n)},c.prototype._importPublic=function(u,o){if(u.x||u.y)return this.ec.curve.type==="mont"?i(u.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||i(u.x&&u.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(u.x,u.y));this.pub=this.ec.curve.decodePoint(u,o)},c.prototype.derive=function(u){return u.validate()||i(u.validate(),"public point not validated"),u.mul(this.priv).getX()},c.prototype.sign=function(u,o,d){return this.ec.sign(u,this,o,d)},c.prototype.verify=function(u,o){return this.ec.verify(u,o,this)},c.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,s){var a=e("bn.js"),i=e("../utils"),c=i.assert;function u(h,g){if(h instanceof u)return h;this._importDER(h,g)||(c(h.r&&h.s,"Signature without r or s"),this.r=new a(h.r,16),this.s=new a(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function o(){this.place=0}function d(h,g){var y=h[g.place++];if(!(128&y))return y;var m=15&y;if(m===0||m>4)return!1;for(var v=0,x=0,j=g.place;x<m;x++,j++)v<<=8,v|=h[j],v>>>=0;return!(v<=127)&&(g.place=j,v)}function p(h){for(var g=0,y=h.length-1;!h[g]&&!(128&h[g+1])&&g<y;)g++;return g===0?h:h.slice(g)}function f(h,g){if(g<128)h.push(g);else{var y=1+(Math.log(g)/Math.LN2>>>3);for(h.push(128|y);--y;)h.push(g>>>(y<<3)&255);h.push(g)}}n.exports=u,u.prototype._importDER=function(h,g){h=i.toArray(h,g);var y=new o;if(h[y.place++]!==48)return!1;var m=d(h,y);if(m===!1||m+y.place!==h.length||h[y.place++]!==2)return!1;var v=d(h,y);if(v===!1)return!1;var x=h.slice(y.place,v+y.place);if(y.place+=v,h[y.place++]!==2)return!1;var j=d(h,y);if(j===!1||h.length!==j+y.place)return!1;var T=h.slice(y.place,j+y.place);if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}if(T[0]===0){if(!(128&T[1]))return!1;T=T.slice(1)}return this.r=new a(x),this.s=new a(T),this.recoveryParam=null,!0},u.prototype.toDER=function(h){var g=this.r.toArray(),y=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&y[0]&&(y=[0].concat(y)),g=p(g),y=p(y);!(y[0]||128&y[1]);)y=y.slice(1);var m=[2];f(m,g.length),(m=m.concat(g)).push(2),f(m,y.length);var v=m.concat(y),x=[48];return f(x,v.length),x=x.concat(v),i.encode(x,h)}},{"../utils":419,"bn.js":420}],415:[function(e,n,s){var a=e("hash.js"),i=e("../curves"),c=e("../utils"),u=c.assert,o=c.parseBytes,d=e("./key"),p=e("./signature");function f(h){if(u(h==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(h);h=i[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=a.sha512}n.exports=f,f.prototype.sign=function(h,g){h=o(h);var y=this.keyFromSecret(g),m=this.hashInt(y.messagePrefix(),h),v=this.g.mul(m),x=this.encodePoint(v),j=this.hashInt(x,y.pubBytes(),h).mul(y.priv()),T=m.add(j).umod(this.curve.n);return this.makeSignature({R:v,S:T,Rencoded:x})},f.prototype.verify=function(h,g,y){h=o(h),g=this.makeSignature(g);var m=this.keyFromPublic(y),v=this.hashInt(g.Rencoded(),m.pubBytes(),h),x=this.g.mul(g.S());return g.R().add(m.pub().mul(v)).eq(x)},f.prototype.hashInt=function(){for(var h=this.hash(),g=0;g<arguments.length;g++)h.update(arguments[g]);return c.intFromLE(h.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(h){return d.fromPublic(this,h)},f.prototype.keyFromSecret=function(h){return d.fromSecret(this,h)},f.prototype.makeSignature=function(h){return h instanceof p?h:new p(this,h)},f.prototype.encodePoint=function(h){var g=h.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=h.getX().isOdd()?128:0,g},f.prototype.decodePoint=function(h){var g=(h=c.parseBytes(h)).length-1,y=h.slice(0,g).concat(-129&h[g]),m=(128&h[g])!=0,v=c.intFromLE(y);return this.curve.pointFromY(v,m)},f.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(h){return c.intFromLE(h)},f.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,s){var a=e("../utils"),i=a.assert,c=a.parseBytes,u=a.cachedProperty;function o(d,p){this.eddsa=d,this._secret=c(p.secret),d.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=c(p.pub)}o.fromPublic=function(d,p){return p instanceof o?p:new o(d,{pub:p})},o.fromSecret=function(d,p){return p instanceof o?p:new o(d,{secret:p})},o.prototype.secret=function(){return this._secret},u(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),u(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),u(o,"privBytes",(function(){var d=this.eddsa,p=this.hash(),f=d.encodingLength-1,h=p.slice(0,d.encodingLength);return h[0]&=248,h[f]&=127,h[f]|=64,h})),u(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),u(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),u(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(d){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(d,this)},o.prototype.verify=function(d,p){return this.eddsa.verify(d,p,this)},o.prototype.getSecret=function(d){return i(this._secret,"KeyPair is public only"),a.encode(this.secret(),d)},o.prototype.getPublic=function(d){return a.encode(this.pubBytes(),d)},n.exports=o},{"../utils":419}],417:[function(e,n,s){var a=e("bn.js"),i=e("../utils"),c=i.assert,u=i.cachedProperty,o=i.parseBytes;function d(p,f){this.eddsa=p,typeof f!="object"&&(f=o(f)),Array.isArray(f)&&(f={R:f.slice(0,p.encodingLength),S:f.slice(p.encodingLength)}),c(f.R&&f.S,"Signature without R or S"),p.isPoint(f.R)&&(this._R=f.R),f.S instanceof a&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}u(d,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),u(d,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),u(d,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),u(d,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},n.exports=d},{"../utils":419,"bn.js":420}],418:[function(e,n,s){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,s){var a=s,i=e("bn.js"),c=e("minimalistic-assert"),u=e("minimalistic-crypto-utils");a.assert=c,a.toArray=u.toArray,a.zero2=u.zero2,a.toHex=u.toHex,a.encode=u.encode,a.getNAF=function(o,d,p){var f=new Array(Math.max(o.bitLength(),p)+1);f.fill(0);for(var h=1<<d+1,g=o.clone(),y=0;y<f.length;y++){var m,v=g.andln(h-1);g.isOdd()?(m=v>(h>>1)-1?(h>>1)-v:v,g.isubn(m)):m=0,f[y]=m,g.iushrn(1)}return f},a.getJSF=function(o,d){var p=[[],[]];o=o.clone(),d=d.clone();for(var f,h=0,g=0;o.cmpn(-h)>0||d.cmpn(-g)>0;){var y,m,v=o.andln(3)+h&3,x=d.andln(3)+g&3;v===3&&(v=-1),x===3&&(x=-1),y=(1&v)==0?0:(f=o.andln(7)+h&7)!==3&&f!==5||x!==2?v:-v,p[0].push(y),m=(1&x)==0?0:(f=d.andln(7)+g&7)!==3&&f!==5||v!==2?x:-x,p[1].push(m),2*h===y+1&&(h=1-h),2*g===m+1&&(g=1-g),o.iushrn(1),d.iushrn(1)}return p},a.cachedProperty=function(o,d,p){var f="_"+d;o.prototype[d]=function(){return this[f]!==void 0?this[f]:this[f]=p.call(this)}},a.parseBytes=function(o){return typeof o=="string"?a.toArray(o,"hex"):o},a.intFromLE=function(o){return new i(o,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(e,n,s){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,s){var a=Object.create||function(I){var R=function(){};return R.prototype=I,new R},i=Object.keys||function(I){var R=[];for(var $ in I)Object.prototype.hasOwnProperty.call(I,$)&&R.push($);return $},c=Function.prototype.bind||function(I){var R=this;return function(){return R.apply(I,arguments)}};function u(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._maxListeners=void 0;var o,d=10;try{var p={};Object.defineProperty&&Object.defineProperty(p,"x",{value:0}),o=p.x===0}catch{o=!1}function f(I){return I._maxListeners===void 0?u.defaultMaxListeners:I._maxListeners}function h(I,R,$){if(R)I.call($);else for(var K=I.length,H=W(I,K),M=0;M<K;++M)H[M].call($)}function g(I,R,$,K){if(R)I.call($,K);else for(var H=I.length,M=W(I,H),F=0;F<H;++F)M[F].call($,K)}function y(I,R,$,K,H){if(R)I.call($,K,H);else for(var M=I.length,F=W(I,M),C=0;C<M;++C)F[C].call($,K,H)}function m(I,R,$,K,H,M){if(R)I.call($,K,H,M);else for(var F=I.length,C=W(I,F),_=0;_<F;++_)C[_].call($,K,H,M)}function v(I,R,$,K){if(R)I.apply($,K);else for(var H=I.length,M=W(I,H),F=0;F<H;++F)M[F].apply($,K)}function x(I,R,$,K){var H,M,F;if(typeof $!="function")throw new TypeError('"listener" argument must be a function');if((M=I._events)?(M.newListener&&(I.emit("newListener",R,$.listener?$.listener:$),M=I._events),F=M[R]):(M=I._events=a(null),I._eventsCount=0),F){if(typeof F=="function"?F=M[R]=K?[$,F]:[F,$]:K?F.unshift($):F.push($),!F.warned&&(H=f(I))&&H>0&&F.length>H){F.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+F.length+' "'+String(R)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');C.name="MaxListenersExceededWarning",C.emitter=I,C.type=R,C.count=F.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",C.name,C.message)}}else F=M[R]=$,++I._eventsCount;return I}function j(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var I=new Array(arguments.length),R=0;R<I.length;++R)I[R]=arguments[R];this.listener.apply(this.target,I)}}function T(I,R,$){var K={fired:!1,wrapFn:void 0,target:I,type:R,listener:$},H=c.call(j,K);return H.listener=$,K.wrapFn=H,H}function E(I,R,$){var K=I._events;if(!K)return[];var H=K[R];return H?typeof H=="function"?$?[H.listener||H]:[H]:$?(function(M){for(var F=new Array(M.length),C=0;C<F.length;++C)F[C]=M[C].listener||M[C];return F})(H):W(H,H.length):[]}function B(I){var R=this._events;if(R){var $=R[I];if(typeof $=="function")return 1;if($)return $.length}return 0}function W(I,R){for(var $=new Array(R),K=0;K<R;++K)$[K]=I[K];return $}o?Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(I){if(typeof I!="number"||I<0||I!=I)throw new TypeError('"defaultMaxListeners" must be a positive number');d=I}}):u.defaultMaxListeners=d,u.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||isNaN(I))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=I,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(I){var R,$,K,H,M,F,C=I==="error";if(F=this._events)C=C&&F.error==null;else if(!C)return!1;if(C){if(arguments.length>1&&(R=arguments[1]),R instanceof Error)throw R;var _=new Error('Unhandled "error" event. ('+R+")");throw _.context=R,_}if(!($=F[I]))return!1;var S=typeof $=="function";switch(K=arguments.length){case 1:h($,S,this);break;case 2:g($,S,this,arguments[1]);break;case 3:y($,S,this,arguments[1],arguments[2]);break;case 4:m($,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array(K-1),M=1;M<K;M++)H[M-1]=arguments[M];v($,S,this,H)}return!0},u.prototype.addListener=function(I,R){return x(this,I,R,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(I,R){return x(this,I,R,!0)},u.prototype.once=function(I,R){if(typeof R!="function")throw new TypeError('"listener" argument must be a function');return this.on(I,T(this,I,R)),this},u.prototype.prependOnceListener=function(I,R){if(typeof R!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(I,T(this,I,R)),this},u.prototype.removeListener=function(I,R){var $,K,H,M,F;if(typeof R!="function")throw new TypeError('"listener" argument must be a function');if(!(K=this._events))return this;if(!($=K[I]))return this;if($===R||$.listener===R)--this._eventsCount==0?this._events=a(null):(delete K[I],K.removeListener&&this.emit("removeListener",I,$.listener||R));else if(typeof $!="function"){for(H=-1,M=$.length-1;M>=0;M--)if($[M]===R||$[M].listener===R){F=$[M].listener,H=M;break}if(H<0)return this;H===0?$.shift():(function(C,_){for(var S=_,k=S+1,N=C.length;k<N;S+=1,k+=1)C[S]=C[k];C.pop()})($,H),$.length===1&&(K[I]=$[0]),K.removeListener&&this.emit("removeListener",I,F||R)}return this},u.prototype.removeAllListeners=function(I){var R,$,K;if(!($=this._events))return this;if(!$.removeListener)return arguments.length===0?(this._events=a(null),this._eventsCount=0):$[I]&&(--this._eventsCount==0?this._events=a(null):delete $[I]),this;if(arguments.length===0){var H,M=i($);for(K=0;K<M.length;++K)(H=M[K])!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if(typeof(R=$[I])=="function")this.removeListener(I,R);else if(R)for(K=R.length-1;K>=0;K--)this.removeListener(I,R[K]);return this},u.prototype.listeners=function(I){return E(this,I,!0)},u.prototype.rawListeners=function(I){return E(this,I,!1)},u.listenerCount=function(I,R){return typeof I.listenerCount=="function"?I.listenerCount(R):B.call(I,R)},u.prototype.listenerCount=B,u.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,s){var a=e("safe-buffer").Buffer,i=e("md5.js");n.exports=function(c,u,o,d){if(a.isBuffer(c)||(c=a.from(c,"binary")),u&&(a.isBuffer(u)||(u=a.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=o/8,f=a.alloc(p),h=a.alloc(d||0),g=a.alloc(0);p>0||d>0;){var y=new i;y.update(g),y.update(c),u&&y.update(u),g=y.digest();var m=0;if(p>0){var v=f.length-p;m=Math.min(p,g.length),g.copy(f,v,0,m),p-=m}if(m<g.length&&d>0){var x=h.length-d,j=Math.min(d,g.length-m);g.copy(h,x,m,m+j),d-=j}}return g.fill(0),{key:f,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var a=e("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var i=e("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return i.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return i.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return i.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return i.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return i.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return i.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,s){var a=e("safe-buffer").Buffer,i=e("readable-stream").Transform;function c(u){i.call(this),this._block=a.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(c,i),c.prototype._transform=function(u,o,d){var p=null;try{this.update(u,o)}catch(f){p=f}d(p)},c.prototype._flush=function(u){var o=null;try{this.push(this.digest())}catch(d){o=d}u(o)},c.prototype.update=function(u,o){if((function(y,m){if(!a.isBuffer(y)&&typeof y!="string")throw new TypeError(m+" must be a string or a buffer")})(u,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(u)||(u=a.from(u,o));for(var d=this._block,p=0;this._blockOffset+u.length-p>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)d[f++]=u[p++];this._update(),this._blockOffset=0}for(;p<u.length;)d[this._blockOffset++]=u[p++];for(var h=0,g=8*u.length;g>0;++h)this._length[h]+=g,(g=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*g);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();u!==void 0&&(o=o.toString(u)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return o},c.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=c},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,s){var a=s;a.utils=e("./hash/utils"),a.common=e("./hash/common"),a.sha=e("./hash/sha"),a.ripemd=e("./hash/ripemd"),a.hmac=e("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,s){var a=e("./utils"),i=e("minimalistic-assert");function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=c,c.prototype.update=function(u,o){if(u=a.toArray(u,o),this.pending?this.pending=this.pending.concat(u):this.pending=u,this.pendingTotal+=u.length,this.pending.length>=this._delta8){var d=(u=this.pending).length%this._delta8;this.pending=u.slice(u.length-d,u.length),this.pending.length===0&&(this.pending=null),u=a.join32(u,0,u.length-d,this.endian);for(var p=0;p<u.length;p+=this._delta32)this._update(u,p,p+this._delta32)}return this},c.prototype.digest=function(u){return this.update(this._pad()),i(this.pending===null),this._digest(u)},c.prototype._pad=function(){var u=this.pendingTotal,o=this._delta8,d=o-(u+this.padLength)%o,p=new Array(d+this.padLength);p[0]=128;for(var f=1;f<d;f++)p[f]=0;if(u<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)p[f++]=0;p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=u>>>24&255,p[f++]=u>>>16&255,p[f++]=u>>>8&255,p[f++]=255&u}else for(p[f++]=255&u,p[f++]=u>>>8&255,p[f++]=u>>>16&255,p[f++]=u>>>24&255,p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=0,h=8;h<this.padLength;h++)p[f++]=0;return p}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,s){var a=e("./utils"),i=e("minimalistic-assert");function c(u,o,d){if(!(this instanceof c))return new c(u,o,d);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(o,d))}n.exports=c,c.prototype._init=function(u){u.length>this.blockSize&&(u=new this.Hash().update(u).digest()),i(u.length<=this.blockSize);for(var o=u.length;o<this.blockSize;o++)u.push(0);for(o=0;o<u.length;o++)u[o]^=54;for(this.inner=new this.Hash().update(u),o=0;o<u.length;o++)u[o]^=106;this.outer=new this.Hash().update(u)},c.prototype.update=function(u,o){return this.inner.update(u,o),this},c.prototype.digest=function(u){return this.outer.update(this.inner.digest()),this.outer.digest(u)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,s){var a=e("./utils"),i=e("./common"),c=a.rotl32,u=a.sum32,o=a.sum32_3,d=a.sum32_4,p=i.BlockHash;function f(){if(!(this instanceof f))return new f;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(T,E,B,W){return T<=15?E^B^W:T<=31?E&B|~E&W:T<=47?(E|~B)^W:T<=63?E&W|B&~W:E^(B|~W)}function g(T){return T<=15?0:T<=31?1518500249:T<=47?1859775393:T<=63?2400959708:2840853838}function y(T){return T<=15?1352829926:T<=31?1548603684:T<=47?1836072691:T<=63?2053994217:0}a.inherits(f,p),s.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(T,E){for(var B=this.h[0],W=this.h[1],I=this.h[2],R=this.h[3],$=this.h[4],K=B,H=W,M=I,F=R,C=$,_=0;_<80;_++){var S=u(c(d(B,h(_,W,I,R),T[m[_]+E],g(_)),x[_]),$);B=$,$=R,R=c(I,10),I=W,W=S,S=u(c(d(K,h(79-_,H,M,F),T[v[_]+E],y(_)),j[_]),C),K=C,C=F,F=c(M,10),M=H,H=S}S=o(this.h[1],I,F),this.h[1]=o(this.h[2],R,C),this.h[2]=o(this.h[3],$,K),this.h[3]=o(this.h[4],B,H),this.h[4]=o(this.h[0],W,M),this.h[0]=S},f.prototype._digest=function(T){return T==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],j=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,s){s.sha1=e("./sha/1"),s.sha224=e("./sha/224"),s.sha256=e("./sha/256"),s.sha384=e("./sha/384"),s.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,s){var a=e("../utils"),i=e("../common"),c=e("./common"),u=a.rotl32,o=a.sum32,d=a.sum32_5,p=c.ft_1,f=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(g,f),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(y,m){for(var v=this.W,x=0;x<16;x++)v[x]=y[m+x];for(;x<v.length;x++)v[x]=u(v[x-3]^v[x-8]^v[x-14]^v[x-16],1);var j=this.h[0],T=this.h[1],E=this.h[2],B=this.h[3],W=this.h[4];for(x=0;x<v.length;x++){var I=~~(x/20),R=d(u(j,5),p(I,T,E,B),W,v[x],h[I]);W=B,B=E,E=u(T,30),T=j,j=R}this.h[0]=o(this.h[0],j),this.h[1]=o(this.h[1],T),this.h[2]=o(this.h[2],E),this.h[3]=o(this.h[3],B),this.h[4]=o(this.h[4],W)},g.prototype._digest=function(y){return y==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,s){var a=e("../utils"),i=e("./256");function c(){if(!(this instanceof c))return new c;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(c,i),n.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(u){return u==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,s){var a=e("../utils"),i=e("../common"),c=e("./common"),u=e("minimalistic-assert"),o=a.sum32,d=a.sum32_4,p=a.sum32_5,f=c.ch32,h=c.maj32,g=c.s0_256,y=c.s1_256,m=c.g0_256,v=c.g1_256,x=i.BlockHash,j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function T(){if(!(this instanceof T))return new T;x.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=j,this.W=new Array(64)}a.inherits(T,x),n.exports=T,T.blockSize=512,T.outSize=256,T.hmacStrength=192,T.padLength=64,T.prototype._update=function(E,B){for(var W=this.W,I=0;I<16;I++)W[I]=E[B+I];for(;I<W.length;I++)W[I]=d(v(W[I-2]),W[I-7],m(W[I-15]),W[I-16]);var R=this.h[0],$=this.h[1],K=this.h[2],H=this.h[3],M=this.h[4],F=this.h[5],C=this.h[6],_=this.h[7];for(u(this.k.length===W.length),I=0;I<W.length;I++){var S=p(_,y(M),f(M,F,C),this.k[I],W[I]),k=o(g(R),h(R,$,K));_=C,C=F,F=M,M=o(H,S),H=K,K=$,$=R,R=o(S,k)}this.h[0]=o(this.h[0],R),this.h[1]=o(this.h[1],$),this.h[2]=o(this.h[2],K),this.h[3]=o(this.h[3],H),this.h[4]=o(this.h[4],M),this.h[5]=o(this.h[5],F),this.h[6]=o(this.h[6],C),this.h[7]=o(this.h[7],_)},T.prototype._digest=function(E){return E==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,s){var a=e("../utils"),i=e("./512");function c(){if(!(this instanceof c))return new c;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(c,i),n.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(u){return u==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,s){var a=e("../utils"),i=e("../common"),c=e("minimalistic-assert"),u=a.rotr64_hi,o=a.rotr64_lo,d=a.shr64_hi,p=a.shr64_lo,f=a.sum64,h=a.sum64_hi,g=a.sum64_lo,y=a.sum64_4_hi,m=a.sum64_4_lo,v=a.sum64_5_hi,x=a.sum64_5_lo,j=i.BlockHash,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;j.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=T,this.W=new Array(160)}function B(k,N,D,L,V){var Q=k&D^~k&V;return Q<0&&(Q+=4294967296),Q}function W(k,N,D,L,V,Q){var Y=N&L^~N&Q;return Y<0&&(Y+=4294967296),Y}function I(k,N,D,L,V){var Q=k&D^k&V^D&V;return Q<0&&(Q+=4294967296),Q}function R(k,N,D,L,V,Q){var Y=N&L^N&Q^L&Q;return Y<0&&(Y+=4294967296),Y}function $(k,N){var D=u(k,N,28)^u(N,k,2)^u(N,k,7);return D<0&&(D+=4294967296),D}function K(k,N){var D=o(k,N,28)^o(N,k,2)^o(N,k,7);return D<0&&(D+=4294967296),D}function H(k,N){var D=u(k,N,14)^u(k,N,18)^u(N,k,9);return D<0&&(D+=4294967296),D}function M(k,N){var D=o(k,N,14)^o(k,N,18)^o(N,k,9);return D<0&&(D+=4294967296),D}function F(k,N){var D=u(k,N,1)^u(k,N,8)^d(k,N,7);return D<0&&(D+=4294967296),D}function C(k,N){var D=o(k,N,1)^o(k,N,8)^p(k,N,7);return D<0&&(D+=4294967296),D}function _(k,N){var D=u(k,N,19)^u(N,k,29)^d(k,N,6);return D<0&&(D+=4294967296),D}function S(k,N){var D=o(k,N,19)^o(N,k,29)^p(k,N,6);return D<0&&(D+=4294967296),D}a.inherits(E,j),n.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(k,N){for(var D=this.W,L=0;L<32;L++)D[L]=k[N+L];for(;L<D.length;L+=2){var V=_(D[L-4],D[L-3]),Q=S(D[L-4],D[L-3]),Y=D[L-14],re=D[L-13],O=F(D[L-30],D[L-29]),Z=C(D[L-30],D[L-29]),U=D[L-32],z=D[L-31];D[L]=y(V,Q,Y,re,O,Z,U,z),D[L+1]=m(V,Q,Y,re,O,Z,U,z)}},E.prototype._update=function(k,N){this._prepareBlock(k,N);var D=this.W,L=this.h[0],V=this.h[1],Q=this.h[2],Y=this.h[3],re=this.h[4],O=this.h[5],Z=this.h[6],U=this.h[7],z=this.h[8],G=this.h[9],ae=this.h[10],pe=this.h[11],de=this.h[12],ge=this.h[13],te=this.h[14],oe=this.h[15];c(this.k.length===D.length);for(var ne=0;ne<D.length;ne+=2){var he=te,ce=oe,ie=H(z,G),ee=M(z,G),se=B(z,G,ae,pe,de),le=W(z,G,ae,pe,de,ge),ve=this.k[ne],_e=this.k[ne+1],Te=D[ne],Fe=D[ne+1],Be=v(he,ce,ie,ee,se,le,ve,_e,Te,Fe),ze=x(he,ce,ie,ee,se,le,ve,_e,Te,Fe);he=$(L,V),ce=K(L,V),ie=I(L,V,Q,Y,re),ee=R(L,V,Q,Y,re,O);var Je=h(he,ce,ie,ee),ft=g(he,ce,ie,ee);te=de,oe=ge,de=ae,ge=pe,ae=z,pe=G,z=h(Z,U,Be,ze),G=g(U,U,Be,ze),Z=re,U=O,re=Q,O=Y,Q=L,Y=V,L=h(Be,ze,Je,ft),V=g(Be,ze,Je,ft)}f(this.h,0,L,V),f(this.h,2,Q,Y),f(this.h,4,re,O),f(this.h,6,Z,U),f(this.h,8,z,G),f(this.h,10,ae,pe),f(this.h,12,de,ge),f(this.h,14,te,oe)},E.prototype._digest=function(k){return k==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,s){var a=e("../utils").rotr32;function i(o,d,p){return o&d^~o&p}function c(o,d,p){return o&d^o&p^d&p}function u(o,d,p){return o^d^p}s.ft_1=function(o,d,p,f){return o===0?i(d,p,f):o===1||o===3?u(d,p,f):o===2?c(d,p,f):void 0},s.ch32=i,s.maj32=c,s.p32=u,s.s0_256=function(o){return a(o,2)^a(o,13)^a(o,22)},s.s1_256=function(o){return a(o,6)^a(o,11)^a(o,25)},s.g0_256=function(o){return a(o,7)^a(o,18)^o>>>3},s.g1_256=function(o){return a(o,17)^a(o,19)^o>>>10}},{"../utils":437}],437:[function(e,n,s){var a=e("minimalistic-assert"),i=e("inherits");function c(p,f){return(64512&p.charCodeAt(f))==55296&&!(f<0||f+1>=p.length)&&(64512&p.charCodeAt(f+1))==56320}function u(p){return(p>>>24|p>>>8&65280|p<<8&16711680|(255&p)<<24)>>>0}function o(p){return p.length===1?"0"+p:p}function d(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}s.inherits=i,s.toArray=function(p,f){if(Array.isArray(p))return p.slice();if(!p)return[];var h=[];if(typeof p=="string")if(f){if(f==="hex")for((p=p.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(p="0"+p),y=0;y<p.length;y+=2)h.push(parseInt(p[y]+p[y+1],16))}else for(var g=0,y=0;y<p.length;y++){var m=p.charCodeAt(y);m<128?h[g++]=m:m<2048?(h[g++]=m>>6|192,h[g++]=63&m|128):c(p,y)?(m=65536+((1023&m)<<10)+(1023&p.charCodeAt(++y)),h[g++]=m>>18|240,h[g++]=m>>12&63|128,h[g++]=m>>6&63|128,h[g++]=63&m|128):(h[g++]=m>>12|224,h[g++]=m>>6&63|128,h[g++]=63&m|128)}else for(y=0;y<p.length;y++)h[y]=0|p[y];return h},s.toHex=function(p){for(var f="",h=0;h<p.length;h++)f+=o(p[h].toString(16));return f},s.htonl=u,s.toHex32=function(p,f){for(var h="",g=0;g<p.length;g++){var y=p[g];f==="little"&&(y=u(y)),h+=d(y.toString(16))}return h},s.zero2=o,s.zero8=d,s.join32=function(p,f,h,g){var y=h-f;a(y%4==0);for(var m=new Array(y/4),v=0,x=f;v<m.length;v++,x+=4){var j;j=g==="big"?p[x]<<24|p[x+1]<<16|p[x+2]<<8|p[x+3]:p[x+3]<<24|p[x+2]<<16|p[x+1]<<8|p[x],m[v]=j>>>0}return m},s.split32=function(p,f){for(var h=new Array(4*p.length),g=0,y=0;g<p.length;g++,y+=4){var m=p[g];f==="big"?(h[y]=m>>>24,h[y+1]=m>>>16&255,h[y+2]=m>>>8&255,h[y+3]=255&m):(h[y+3]=m>>>24,h[y+2]=m>>>16&255,h[y+1]=m>>>8&255,h[y]=255&m)}return h},s.rotr32=function(p,f){return p>>>f|p<<32-f},s.rotl32=function(p,f){return p<<f|p>>>32-f},s.sum32=function(p,f){return p+f>>>0},s.sum32_3=function(p,f,h){return p+f+h>>>0},s.sum32_4=function(p,f,h,g){return p+f+h+g>>>0},s.sum32_5=function(p,f,h,g,y){return p+f+h+g+y>>>0},s.sum64=function(p,f,h,g){var y=p[f],m=g+p[f+1]>>>0,v=(m<g?1:0)+h+y;p[f]=v>>>0,p[f+1]=m},s.sum64_hi=function(p,f,h,g){return(f+g>>>0<f?1:0)+p+h>>>0},s.sum64_lo=function(p,f,h,g){return f+g>>>0},s.sum64_4_hi=function(p,f,h,g,y,m,v,x){var j=0,T=f;return j+=(T=T+g>>>0)<f?1:0,j+=(T=T+m>>>0)<m?1:0,p+h+y+v+(j+=(T=T+x>>>0)<x?1:0)>>>0},s.sum64_4_lo=function(p,f,h,g,y,m,v,x){return f+g+m+x>>>0},s.sum64_5_hi=function(p,f,h,g,y,m,v,x,j,T){var E=0,B=f;return E+=(B=B+g>>>0)<f?1:0,E+=(B=B+m>>>0)<m?1:0,E+=(B=B+x>>>0)<x?1:0,p+h+y+v+j+(E+=(B=B+T>>>0)<T?1:0)>>>0},s.sum64_5_lo=function(p,f,h,g,y,m,v,x,j,T){return f+g+m+x+T>>>0},s.rotr64_hi=function(p,f,h){return(f<<32-h|p>>>h)>>>0},s.rotr64_lo=function(p,f,h){return(p<<32-h|f>>>h)>>>0},s.shr64_hi=function(p,f,h){return p>>>h},s.shr64_lo=function(p,f,h){return(p<<32-h|f>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,s){var a=e("hash.js"),i=e("minimalistic-crypto-utils"),c=e("minimalistic-assert");function u(o){if(!(this instanceof u))return new u(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=i.toArray(o.entropy,o.entropyEnc||"hex"),p=i.toArray(o.nonce,o.nonceEnc||"hex"),f=i.toArray(o.pers,o.persEnc||"hex");c(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,p,f)}n.exports=u,u.prototype._init=function(o,d,p){var f=o.concat(d).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},u.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},u.prototype._update=function(o){var d=this._hmac().update(this.V).update([0]);o&&(d=d.update(o)),this.K=d.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},u.prototype.reseed=function(o,d,p,f){typeof d!="string"&&(f=p,p=d,d=null),o=i.toArray(o,d),p=i.toArray(p,f),c(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(p||[])),this._reseed=1},u.prototype.generate=function(o,d,p,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof d!="string"&&(f=p,p=d,d=null),p&&(p=i.toArray(p,f||"hex"),this._update(p));for(var h=[];h.length<o;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var g=h.slice(0,o);return this._update(p),this._reseed++,i.encode(g,d)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(a,i,c,u,o){var d,p,f=8*o-u-1,h=(1<<f)-1,g=h>>1,y=-7,m=c?o-1:0,v=c?-1:1,x=a[i+m];for(m+=v,d=x&(1<<-y)-1,x>>=-y,y+=f;y>0;d=256*d+a[i+m],m+=v,y-=8);for(p=d&(1<<-y)-1,d>>=-y,y+=u;y>0;p=256*p+a[i+m],m+=v,y-=8);if(d===0)d=1-g;else{if(d===h)return p?NaN:1/0*(x?-1:1);p+=Math.pow(2,u),d-=g}return(x?-1:1)*p*Math.pow(2,d-u)},s.write=function(a,i,c,u,o,d){var p,f,h,g=8*d-o-1,y=(1<<g)-1,m=y>>1,v=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=u?0:d-1,j=u?1:-1,T=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(f=isNaN(i)?1:0,p=y):(p=Math.floor(Math.log(i)/Math.LN2),i*(h=Math.pow(2,-p))<1&&(p--,h*=2),(i+=p+m>=1?v/h:v*Math.pow(2,1-m))*h>=2&&(p++,h/=2),p+m>=y?(f=0,p=y):p+m>=1?(f=(i*h-1)*Math.pow(2,o),p+=m):(f=i*Math.pow(2,m-1)*Math.pow(2,o),p=0));o>=8;a[c+x]=255&f,x+=j,f/=256,o-=8);for(p=p<<o|f,g+=o;g>0;a[c+x]=255&p,x+=j,p/=256,g-=8);a[c+x-j]|=128*T}},{}],440:[function(e,n,s){typeof Object.create=="function"?n.exports=function(a,i){i&&(a.super_=i,a.prototype=Object.create(i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(a,i){if(i){a.super_=i;var c=function(){};c.prototype=i.prototype,a.prototype=new c,a.prototype.constructor=a}}},{}],441:[function(e,n,s){(function(a,i,c,u,o,d,p,f){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(h){typeof s=="object"&&n!==void 0?n.exports=h():(typeof window<"u"?window:i!==void 0?i:typeof self<"u"?self:this).JSZip=h()})((function(){return(function h(g,y,m){function v(T,E){if(!y[T]){if(!g[T]){var B=typeof e=="function"&&e;if(!E&&B)return B(T,!0);if(x)return x(T,!0);var W=new Error("Cannot find module '"+T+"'");throw W.code="MODULE_NOT_FOUND",W}var I=y[T]={exports:{}};g[T][0].call(I.exports,(function(R){return v(g[T][1][R]||R)}),I,I.exports,h,g,y,m)}return y[T].exports}for(var x=typeof e=="function"&&e,j=0;j<m.length;j++)v(m[j]);return v})({1:[function(h,g,y){var m=h("./utils"),v=h("./support"),x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(j){for(var T,E,B,W,I,R,$,K=[],H=0,M=j.length,F=M,C=m.getTypeOf(j)!=="string";H<j.length;)F=M-H,B=C?(T=j[H++],E=H<M?j[H++]:0,H<M?j[H++]:0):(T=j.charCodeAt(H++),E=H<M?j.charCodeAt(H++):0,H<M?j.charCodeAt(H++):0),W=T>>2,I=(3&T)<<4|E>>4,R=1<F?(15&E)<<2|B>>6:64,$=2<F?63&B:64,K.push(x.charAt(W)+x.charAt(I)+x.charAt(R)+x.charAt($));return K.join("")},y.decode=function(j){var T,E,B,W,I,R,$=0,K=0,H="data:";if(j.substr(0,H.length)===H)throw new Error("Invalid base64 input, it looks like a data url.");var M,F=3*(j=j.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(j.charAt(j.length-1)===x.charAt(64)&&F--,j.charAt(j.length-2)===x.charAt(64)&&F--,F%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=v.uint8array?new Uint8Array(0|F):new Array(0|F);$<j.length;)T=x.indexOf(j.charAt($++))<<2|(W=x.indexOf(j.charAt($++)))>>4,E=(15&W)<<4|(I=x.indexOf(j.charAt($++)))>>2,B=(3&I)<<6|(R=x.indexOf(j.charAt($++))),M[K++]=T,I!==64&&(M[K++]=E),R!==64&&(M[K++]=B);return M}},{"./support":30,"./utils":32}],2:[function(h,g,y){var m=h("./external"),v=h("./stream/DataWorker"),x=h("./stream/Crc32Probe"),j=h("./stream/DataLengthProbe");function T(E,B,W,I,R){this.compressedSize=E,this.uncompressedSize=B,this.crc32=W,this.compression=I,this.compressedContent=R}T.prototype={getContentWorker:function(){var E=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new j("data_length")),B=this;return E.on("end",(function(){if(this.streamInfo.data_length!==B.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),E},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},T.createWorkerFrom=function(E,B,W){return E.pipe(new x).pipe(new j("uncompressedSize")).pipe(B.compressWorker(W)).pipe(new j("compressedSize")).withStreamInfo("compression",B)},g.exports=T},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,g,y){var m=h("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},y.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,g,y){var m=h("./utils"),v=(function(){for(var x,j=[],T=0;T<256;T++){x=T;for(var E=0;E<8;E++)x=1&x?3988292384^x>>>1:x>>>1;j[T]=x}return j})();g.exports=function(x,j){return x!==void 0&&x.length?m.getTypeOf(x)!=="string"?(function(T,E,B,W){var I=v,R=0+B;T^=-1;for(var $=0;$<R;$++)T=T>>>8^I[255&(T^E[$])];return-1^T})(0|j,x,x.length):(function(T,E,B,W){var I=v,R=0+B;T^=-1;for(var $=0;$<R;$++)T=T>>>8^I[255&(T^E.charCodeAt($))];return-1^T})(0|j,x,x.length):0}},{"./utils":32}],5:[function(h,g,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(h,g,y){var m;m=typeof Promise<"u"?Promise:h("lie"),g.exports={Promise:m}},{lie:37}],7:[function(h,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=h("pako"),x=h("./utils"),j=h("./stream/GenericWorker"),T=m?"uint8array":"array";function E(B,W){j.call(this,"FlateWorker/"+B),this._pako=null,this._pakoAction=B,this._pakoOptions=W,this.meta={}}y.magic="\b\0",x.inherits(E,j),E.prototype.processChunk=function(B){this.meta=B.meta,this._pako===null&&this._createPako(),this._pako.push(x.transformTo(T,B.data),!1)},E.prototype.flush=function(){j.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},E.prototype.cleanUp=function(){j.prototype.cleanUp.call(this),this._pako=null},E.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var B=this;this._pako.onData=function(W){B.push({data:W,meta:B.meta})}},y.compressWorker=function(B){return new E("Deflate",B)},y.uncompressWorker=function(){return new E("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,g,y){function m(I,R){var $,K="";for($=0;$<R;$++)K+=String.fromCharCode(255&I),I>>>=8;return K}function v(I,R,$,K,H,M){var F,C,_=I.file,S=I.compression,k=M!==T.utf8encode,N=x.transformTo("string",M(_.name)),D=x.transformTo("string",T.utf8encode(_.name)),L=_.comment,V=x.transformTo("string",M(L)),Q=x.transformTo("string",T.utf8encode(L)),Y=D.length!==_.name.length,re=Q.length!==L.length,O="",Z="",U="",z=_.dir,G=_.date,ae={crc32:0,compressedSize:0,uncompressedSize:0};R&&!$||(ae.crc32=I.crc32,ae.compressedSize=I.compressedSize,ae.uncompressedSize=I.uncompressedSize);var pe=0;R&&(pe|=8),k||!Y&&!re||(pe|=2048);var de=0,ge=0;z&&(de|=16),H==="UNIX"?(ge=798,de|=(function(oe,ne){var he=oe;return oe||(he=ne?16893:33204),(65535&he)<<16})(_.unixPermissions,z)):(ge=20,de|=(function(oe){return 63&(oe||0)})(_.dosPermissions)),F=G.getUTCHours(),F<<=6,F|=G.getUTCMinutes(),F<<=5,F|=G.getUTCSeconds()/2,C=G.getUTCFullYear()-1980,C<<=4,C|=G.getUTCMonth()+1,C<<=5,C|=G.getUTCDate(),Y&&(Z=m(1,1)+m(E(N),4)+D,O+="up"+m(Z.length,2)+Z),re&&(U=m(1,1)+m(E(V),4)+Q,O+="uc"+m(U.length,2)+U);var te="";return te+=`
\0`,te+=m(pe,2),te+=S.magic,te+=m(F,2),te+=m(C,2),te+=m(ae.crc32,4),te+=m(ae.compressedSize,4),te+=m(ae.uncompressedSize,4),te+=m(N.length,2),te+=m(O.length,2),{fileRecord:B.LOCAL_FILE_HEADER+te+N+O,dirRecord:B.CENTRAL_FILE_HEADER+m(ge,2)+te+m(V.length,2)+"\0\0\0\0"+m(de,4)+m(K,4)+N+O+V}}var x=h("../utils"),j=h("../stream/GenericWorker"),T=h("../utf8"),E=h("../crc32"),B=h("../signature");function W(I,R,$,K){j.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=R,this.zipPlatform=$,this.encodeFileName=K,this.streamFiles=I,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}x.inherits(W,j),W.prototype.push=function(I){var R=I.meta.percent||0,$=this.entriesCount,K=this._sources.length;this.accumulate?this.contentBuffer.push(I):(this.bytesWritten+=I.data.length,j.prototype.push.call(this,{data:I.data,meta:{currentFile:this.currentFile,percent:$?(R+100*($-K-1))/$:100}}))},W.prototype.openedSource=function(I){this.currentSourceOffset=this.bytesWritten,this.currentFile=I.file.name;var R=this.streamFiles&&!I.file.dir;if(R){var $=v(I,R,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:$.fileRecord,meta:{percent:0}})}else this.accumulate=!0},W.prototype.closedSource=function(I){this.accumulate=!1;var R=this.streamFiles&&!I.file.dir,$=v(I,R,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push($.dirRecord),R)this.push({data:(function(K){return B.DATA_DESCRIPTOR+m(K.crc32,4)+m(K.compressedSize,4)+m(K.uncompressedSize,4)})(I),meta:{percent:100}});else for(this.push({data:$.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},W.prototype.flush=function(){for(var I=this.bytesWritten,R=0;R<this.dirRecords.length;R++)this.push({data:this.dirRecords[R],meta:{percent:100}});var $=this.bytesWritten-I,K=(function(H,M,F,C,_){var S=x.transformTo("string",_(C));return B.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(H,2)+m(H,2)+m(M,4)+m(F,4)+m(S.length,2)+S})(this.dirRecords.length,$,I,this.zipComment,this.encodeFileName);this.push({data:K,meta:{percent:100}})},W.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},W.prototype.registerPrevious=function(I){this._sources.push(I);var R=this;return I.on("data",(function($){R.processChunk($)})),I.on("end",(function(){R.closedSource(R.previous.streamInfo),R._sources.length?R.prepareNextSource():R.end()})),I.on("error",(function($){R.error($)})),this},W.prototype.resume=function(){return!!j.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},W.prototype.error=function(I){var R=this._sources;if(!j.prototype.error.call(this,I))return!1;for(var $=0;$<R.length;$++)try{R[$].error(I)}catch{}return!0},W.prototype.lock=function(){j.prototype.lock.call(this);for(var I=this._sources,R=0;R<I.length;R++)I[R].lock()},g.exports=W},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,g,y){var m=h("../compressions"),v=h("./ZipFileWorker");y.generateWorker=function(x,j,T){var E=new v(j.streamFiles,T,j.platform,j.encodeFileName),B=0;try{x.forEach((function(W,I){B++;var R=(function(M,F){var C=M||F,_=m[C];if(!_)throw new Error(C+" is not a valid compression method !");return _})(I.options.compression,j.compression),$=I.options.compressionOptions||j.compressionOptions||{},K=I.dir,H=I.date;I._compressWorker(R,$).withStreamInfo("file",{name:W,dir:K,date:H,comment:I.comment||"",unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions}).pipe(E)})),E.entriesCount=B}catch(W){E.error(W)}return E}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,g,y){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var x in this)typeof this[x]!="function"&&(v[x]=this[x]);return v}}(m.prototype=h("./object")).loadAsync=h("./load"),m.support=h("./support"),m.defaults=h("./defaults"),m.version="3.10.1",m.loadAsync=function(v,x){return new m().loadAsync(v,x)},m.external=h("./external"),g.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,g,y){var m=h("./utils"),v=h("./external"),x=h("./utf8"),j=h("./zipEntries"),T=h("./stream/Crc32Probe"),E=h("./nodejsUtils");function B(W){return new v.Promise((function(I,R){var $=W.decompressed.getContentWorker().pipe(new T);$.on("error",(function(K){R(K)})).on("end",(function(){$.streamInfo.crc32!==W.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):I()})).resume()}))}g.exports=function(W,I){var R=this;return I=m.extend(I||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:x.utf8decode}),E.isNode&&E.isStream(W)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",W,!0,I.optimizedBinaryString,I.base64).then((function($){var K=new j(I);return K.load($),K})).then((function($){var K=[v.Promise.resolve($)],H=$.files;if(I.checkCRC32)for(var M=0;M<H.length;M++)K.push(B(H[M]));return v.Promise.all(K)})).then((function($){for(var K=$.shift(),H=K.files,M=0;M<H.length;M++){var F=H[M],C=F.fileNameStr,_=m.resolve(F.fileNameStr);R.file(_,F.decompressed,{binary:!0,optimizedBinaryString:!0,date:F.date,dir:F.dir,comment:F.fileCommentStr.length?F.fileCommentStr:null,unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions,createFolders:I.createFolders}),F.dir||(R.file(_).unsafeOriginalName=C)}return K.zipComment.length&&(R.comment=K.zipComment),R}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,g,y){var m=h("../utils"),v=h("../stream/GenericWorker");function x(j,T){v.call(this,"Nodejs stream input adapter for "+j),this._upstreamEnded=!1,this._bindStream(T)}m.inherits(x,v),x.prototype._bindStream=function(j){var T=this;(this._stream=j).pause(),j.on("data",(function(E){T.push({data:E,meta:{percent:0}})})).on("error",(function(E){T.isPaused?this.generatedError=E:T.error(E)})).on("end",(function(){T.isPaused?T._upstreamEnded=!0:T.end()}))},x.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},x.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=x},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,g,y){var m=h("readable-stream").Readable;function v(x,j,T){m.call(this,j),this._helper=x;var E=this;x.on("data",(function(B,W){E.push(B)||E._helper.pause(),T&&T(W)})).on("error",(function(B){E.emit("error",B)})).on("end",(function(){E.push(null)}))}h("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},g.exports=v},{"../utils":32,"readable-stream":16}],14:[function(h,g,y){g.exports={isNode:c!==void 0,newBufferFrom:function(m,v){if(c.from&&c.from!==Uint8Array.from)return c.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new c(m,v)},allocBuffer:function(m){if(c.alloc)return c.alloc(m);var v=new c(m);return v.fill(0),v},isBuffer:function(m){return c.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(h,g,y){function m(_,S,k){var N,D=x.getTypeOf(S),L=x.extend(k||{},E);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(_=H(_)),L.createFolders&&(N=K(_))&&M.call(this,N,!0);var V=D==="string"&&L.binary===!1&&L.base64===!1;k&&k.binary!==void 0||(L.binary=!V),(S instanceof B&&S.uncompressedSize===0||L.dir||!S||S.length===0)&&(L.base64=!1,L.binary=!0,S="",L.compression="STORE",D="string");var Q;Q=S instanceof B||S instanceof j?S:R.isNode&&R.isStream(S)?new $(_,S):x.prepareContent(_,S,L.binary,L.optimizedBinaryString,L.base64);var Y=new W(_,Q,L);this.files[_]=Y}var v=h("./utf8"),x=h("./utils"),j=h("./stream/GenericWorker"),T=h("./stream/StreamHelper"),E=h("./defaults"),B=h("./compressedObject"),W=h("./zipObject"),I=h("./generate"),R=h("./nodejsUtils"),$=h("./nodejs/NodejsStreamInputAdapter"),K=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var S=_.lastIndexOf("/");return 0<S?_.substring(0,S):""},H=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},M=function(_,S){return S=S!==void 0?S:E.createFolders,_=H(_),this.files[_]||m.call(this,_,null,{dir:!0,createFolders:S}),this.files[_]};function F(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var S,k,N;for(S in this.files)N=this.files[S],(k=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&_(k,N)},filter:function(_){var S=[];return this.forEach((function(k,N){_(k,N)&&S.push(N)})),S},file:function(_,S,k){if(arguments.length!==1)return _=this.root+_,m.call(this,_,S,k),this;if(F(_)){var N=_;return this.filter((function(L,V){return!V.dir&&N.test(L)}))}var D=this.files[this.root+_];return D&&!D.dir?D:null},folder:function(_){if(!_)return this;if(F(_))return this.filter((function(D,L){return L.dir&&_.test(D)}));var S=this.root+_,k=M.call(this,S),N=this.clone();return N.root=k.name,N},remove:function(_){_=this.root+_;var S=this.files[_];if(S||(_.slice(-1)!=="/"&&(_+="/"),S=this.files[_]),S&&!S.dir)delete this.files[_];else for(var k=this.filter((function(D,L){return L.name.slice(0,_.length)===_})),N=0;N<k.length;N++)delete this.files[k[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var S,k={};try{if((k=x.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");x.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var N=k.comment||this.comment||"";S=I.generateWorker(this,k,N)}catch(D){(S=new j("error")).error(D)}return new T(S,k.type||"string",k.mimeType)},generateAsync:function(_,S){return this.generateInternalStream(_).accumulate(S)},generateNodeStream:function(_,S){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(S)}};g.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,g,y){g.exports=h("stream")},{stream:void 0}],17:[function(h,g,y){var m=h("./DataReader");function v(x){m.call(this,x);for(var j=0;j<this.data.length;j++)x[j]=255&x[j]}h("../utils").inherits(v,m),v.prototype.byteAt=function(x){return this.data[this.zero+x]},v.prototype.lastIndexOfSignature=function(x){for(var j=x.charCodeAt(0),T=x.charCodeAt(1),E=x.charCodeAt(2),B=x.charCodeAt(3),W=this.length-4;0<=W;--W)if(this.data[W]===j&&this.data[W+1]===T&&this.data[W+2]===E&&this.data[W+3]===B)return W-this.zero;return-1},v.prototype.readAndCheckSignature=function(x){var j=x.charCodeAt(0),T=x.charCodeAt(1),E=x.charCodeAt(2),B=x.charCodeAt(3),W=this.readData(4);return j===W[0]&&T===W[1]&&E===W[2]&&B===W[3]},v.prototype.readData=function(x){if(this.checkOffset(x),x===0)return[];var j=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,j},g.exports=v},{"../utils":32,"./DataReader":18}],18:[function(h,g,y){var m=h("../utils");function v(x){this.data=x,this.length=x.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(x){this.checkIndex(this.index+x)},checkIndex:function(x){if(this.length<this.zero+x||x<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+x+"). Corrupted zip ?")},setIndex:function(x){this.checkIndex(x),this.index=x},skip:function(x){this.setIndex(this.index+x)},byteAt:function(){},readInt:function(x){var j,T=0;for(this.checkOffset(x),j=this.index+x-1;j>=this.index;j--)T=(T<<8)+this.byteAt(j);return this.index+=x,T},readString:function(x){return m.transformTo("string",this.readData(x))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var x=this.readInt(4);return new Date(Date.UTC(1980+(x>>25&127),(x>>21&15)-1,x>>16&31,x>>11&31,x>>5&63,(31&x)<<1))}},g.exports=v},{"../utils":32}],19:[function(h,g,y){var m=h("./Uint8ArrayReader");function v(x){m.call(this,x)}h("../utils").inherits(v,m),v.prototype.readData=function(x){this.checkOffset(x);var j=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,j},g.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,g,y){var m=h("./DataReader");function v(x){m.call(this,x)}h("../utils").inherits(v,m),v.prototype.byteAt=function(x){return this.data.charCodeAt(this.zero+x)},v.prototype.lastIndexOfSignature=function(x){return this.data.lastIndexOf(x)-this.zero},v.prototype.readAndCheckSignature=function(x){return x===this.readData(4)},v.prototype.readData=function(x){this.checkOffset(x);var j=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,j},g.exports=v},{"../utils":32,"./DataReader":18}],21:[function(h,g,y){var m=h("./ArrayReader");function v(x){m.call(this,x)}h("../utils").inherits(v,m),v.prototype.readData=function(x){if(this.checkOffset(x),x===0)return new Uint8Array(0);var j=this.data.subarray(this.zero+this.index,this.zero+this.index+x);return this.index+=x,j},g.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(h,g,y){var m=h("../utils"),v=h("../support"),x=h("./ArrayReader"),j=h("./StringReader"),T=h("./NodeBufferReader"),E=h("./Uint8ArrayReader");g.exports=function(B){var W=m.getTypeOf(B);return m.checkSupport(W),W!=="string"||v.uint8array?W==="nodebuffer"?new T(B):v.uint8array?new E(m.transformTo("uint8array",B)):new x(m.transformTo("array",B)):new j(B)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,g,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,g,y){var m=h("./GenericWorker"),v=h("../utils");function x(j){m.call(this,"ConvertWorker to "+j),this.destType=j}v.inherits(x,m),x.prototype.processChunk=function(j){this.push({data:v.transformTo(this.destType,j.data),meta:j.meta})},g.exports=x},{"../utils":32,"./GenericWorker":28}],25:[function(h,g,y){var m=h("./GenericWorker"),v=h("../crc32");function x(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(x,m),x.prototype.processChunk=function(j){this.streamInfo.crc32=v(j.data,this.streamInfo.crc32||0),this.push(j)},g.exports=x},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,g,y){var m=h("../utils"),v=h("./GenericWorker");function x(j){v.call(this,"DataLengthProbe for "+j),this.propName=j,this.withStreamInfo(j,0)}m.inherits(x,v),x.prototype.processChunk=function(j){if(j){var T=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=T+j.data.length}v.prototype.processChunk.call(this,j)},g.exports=x},{"../utils":32,"./GenericWorker":28}],27:[function(h,g,y){var m=h("../utils"),v=h("./GenericWorker");function x(j){v.call(this,"DataWorker");var T=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,j.then((function(E){T.dataIsReady=!0,T.data=E,T.max=E&&E.length||0,T.type=m.getTypeOf(E),T.isPaused||T._tickAndRepeat()}),(function(E){T.error(E)}))}m.inherits(x,v),x.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},x.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},x.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},x.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var j=null,T=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":j=this.data.substring(this.index,T);break;case"uint8array":j=this.data.subarray(this.index,T);break;case"array":case"nodebuffer":j=this.data.slice(this.index,T)}return this.index=T,this.push({data:j,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=x},{"../utils":32,"./GenericWorker":28}],28:[function(h,g,y){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,x){return this._listeners[v].push(x),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,x){if(this._listeners[v])for(var j=0;j<this._listeners[v].length;j++)this._listeners[v][j].call(this,x)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var x=this;return v.on("data",(function(j){x.processChunk(j)})),v.on("end",(function(){x.end()})),v.on("error",(function(j){x.error(j)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,x){return this.extraStreamInfo[v]=x,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},g.exports=m},{}],29:[function(h,g,y){var m=h("../utils"),v=h("./ConvertWorker"),x=h("./GenericWorker"),j=h("../base64"),T=h("../support"),E=h("../external"),B=null;if(T.nodestream)try{B=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function W(I,R,$){var K=R;switch(R){case"blob":case"arraybuffer":K="uint8array";break;case"base64":K="string"}try{this._internalType=K,this._outputType=R,this._mimeType=$,m.checkSupport(K),this._worker=I.pipe(new v(K)),I.lock()}catch(H){this._worker=new x("error"),this._worker.error(H)}}W.prototype={accumulate:function(I){return(function(R,$){return new E.Promise((function(K,H){var M=[],F=R._internalType,C=R._outputType,_=R._mimeType;R.on("data",(function(S,k){M.push(S),$&&$(k)})).on("error",(function(S){M=[],H(S)})).on("end",(function(){try{var S=(function(k,N,D){switch(k){case"blob":return m.newBlob(m.transformTo("arraybuffer",N),D);case"base64":return j.encode(N);default:return m.transformTo(k,N)}})(C,(function(k,N){var D,L=0,V=null,Q=0;for(D=0;D<N.length;D++)Q+=N[D].length;switch(k){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(V=new Uint8Array(Q),D=0;D<N.length;D++)V.set(N[D],L),L+=N[D].length;return V;case"nodebuffer":return c.concat(N);default:throw new Error("concat : unsupported type '"+k+"'")}})(F,M),_);K(S)}catch(k){H(k)}M=[]})).resume()}))})(this,I)},on:function(I,R){var $=this;return I==="data"?this._worker.on(I,(function(K){R.call($,K.data,K.meta)})):this._worker.on(I,(function(){m.delay(R,arguments,$)})),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(I){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new B(this,{objectMode:this._outputType!=="nodebuffer"},I)}},g.exports=W},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,g,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=c!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var m=new ArrayBuffer(0);try{y.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),y.blob=v.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!h("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(h,g,y){for(var m=h("./utils"),v=h("./support"),x=h("./nodejsUtils"),j=h("./stream/GenericWorker"),T=new Array(256),E=0;E<256;E++)T[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function B(){j.call(this,"utf-8 decode"),this.leftOver=null}function W(){j.call(this,"utf-8 encode")}T[254]=T[254]=1,y.utf8encode=function(I){return v.nodebuffer?x.newBufferFrom(I,"utf-8"):(function(R){var $,K,H,M,F,C=R.length,_=0;for(M=0;M<C;M++)(64512&(K=R.charCodeAt(M)))==55296&&M+1<C&&(64512&(H=R.charCodeAt(M+1)))==56320&&(K=65536+(K-55296<<10)+(H-56320),M++),_+=K<128?1:K<2048?2:K<65536?3:4;for($=v.uint8array?new Uint8Array(_):new Array(_),M=F=0;F<_;M++)(64512&(K=R.charCodeAt(M)))==55296&&M+1<C&&(64512&(H=R.charCodeAt(M+1)))==56320&&(K=65536+(K-55296<<10)+(H-56320),M++),K<128?$[F++]=K:(K<2048?$[F++]=192|K>>>6:(K<65536?$[F++]=224|K>>>12:($[F++]=240|K>>>18,$[F++]=128|K>>>12&63),$[F++]=128|K>>>6&63),$[F++]=128|63&K);return $})(I)},y.utf8decode=function(I){return v.nodebuffer?m.transformTo("nodebuffer",I).toString("utf-8"):(function(R){var $,K,H,M,F=R.length,C=new Array(2*F);for($=K=0;$<F;)if((H=R[$++])<128)C[K++]=H;else if(4<(M=T[H]))C[K++]=65533,$+=M-1;else{for(H&=M===2?31:M===3?15:7;1<M&&$<F;)H=H<<6|63&R[$++],M--;1<M?C[K++]=65533:H<65536?C[K++]=H:(H-=65536,C[K++]=55296|H>>10&1023,C[K++]=56320|1023&H)}return C.length!==K&&(C.subarray?C=C.subarray(0,K):C.length=K),m.applyFromCharCode(C)})(I=m.transformTo(v.uint8array?"uint8array":"array",I))},m.inherits(B,j),B.prototype.processChunk=function(I){var R=m.transformTo(v.uint8array?"uint8array":"array",I.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var $=R;(R=new Uint8Array($.length+this.leftOver.length)).set(this.leftOver,0),R.set($,this.leftOver.length)}else R=this.leftOver.concat(R);this.leftOver=null}var K=(function(M,F){var C;for((F=F||M.length)>M.length&&(F=M.length),C=F-1;0<=C&&(192&M[C])==128;)C--;return C<0||C===0?F:C+T[M[C]]>F?C:F})(R),H=R;K!==R.length&&(v.uint8array?(H=R.subarray(0,K),this.leftOver=R.subarray(K,R.length)):(H=R.slice(0,K),this.leftOver=R.slice(K,R.length))),this.push({data:y.utf8decode(H),meta:I.meta})},B.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=B,m.inherits(W,j),W.prototype.processChunk=function(I){this.push({data:y.utf8encode(I.data),meta:I.meta})},y.Utf8EncodeWorker=W},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,g,y){var m=h("./support"),v=h("./base64"),x=h("./nodejsUtils"),j=h("./external");function T($){return $}function E($,K){for(var H=0;H<$.length;++H)K[H]=255&$.charCodeAt(H);return K}h("setimmediate"),y.newBlob=function($,K){y.checkSupport("blob");try{return new Blob([$],{type:K})}catch{try{var H=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return H.append($),H.getBlob(K)}catch{throw new Error("Bug : can't construct the Blob.")}}};var B={stringifyByChunk:function($,K,H){var M=[],F=0,C=$.length;if(C<=H)return String.fromCharCode.apply(null,$);for(;F<C;)K==="array"||K==="nodebuffer"?M.push(String.fromCharCode.apply(null,$.slice(F,Math.min(F+H,C)))):M.push(String.fromCharCode.apply(null,$.subarray(F,Math.min(F+H,C)))),F+=H;return M.join("")},stringifyByChar:function($){for(var K="",H=0;H<$.length;H++)K+=String.fromCharCode($[H]);return K},applyCanBeUsed:{uint8array:(function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,x.allocBuffer(1)).length===1}catch{return!1}})()}};function W($){var K=65536,H=y.getTypeOf($),M=!0;if(H==="uint8array"?M=B.applyCanBeUsed.uint8array:H==="nodebuffer"&&(M=B.applyCanBeUsed.nodebuffer),M)for(;1<K;)try{return B.stringifyByChunk($,H,K)}catch{K=Math.floor(K/2)}return B.stringifyByChar($)}function I($,K){for(var H=0;H<$.length;H++)K[H]=$[H];return K}y.applyFromCharCode=W;var R={};R.string={string:T,array:function($){return E($,new Array($.length))},arraybuffer:function($){return R.string.uint8array($).buffer},uint8array:function($){return E($,new Uint8Array($.length))},nodebuffer:function($){return E($,x.allocBuffer($.length))}},R.array={string:W,array:T,arraybuffer:function($){return new Uint8Array($).buffer},uint8array:function($){return new Uint8Array($)},nodebuffer:function($){return x.newBufferFrom($)}},R.arraybuffer={string:function($){return W(new Uint8Array($))},array:function($){return I(new Uint8Array($),new Array($.byteLength))},arraybuffer:T,uint8array:function($){return new Uint8Array($)},nodebuffer:function($){return x.newBufferFrom(new Uint8Array($))}},R.uint8array={string:W,array:function($){return I($,new Array($.length))},arraybuffer:function($){return $.buffer},uint8array:T,nodebuffer:function($){return x.newBufferFrom($)}},R.nodebuffer={string:W,array:function($){return I($,new Array($.length))},arraybuffer:function($){return R.nodebuffer.uint8array($).buffer},uint8array:function($){return I($,new Uint8Array($.length))},nodebuffer:T},y.transformTo=function($,K){if(K=K||"",!$)return K;y.checkSupport($);var H=y.getTypeOf(K);return R[H][$](K)},y.resolve=function($){for(var K=$.split("/"),H=[],M=0;M<K.length;M++){var F=K[M];F==="."||F===""&&M!==0&&M!==K.length-1||(F===".."?H.pop():H.push(F))}return H.join("/")},y.getTypeOf=function($){return typeof $=="string"?"string":Object.prototype.toString.call($)==="[object Array]"?"array":m.nodebuffer&&x.isBuffer($)?"nodebuffer":m.uint8array&&$ instanceof Uint8Array?"uint8array":m.arraybuffer&&$ instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function($){if(!m[$.toLowerCase()])throw new Error($+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function($){var K,H,M="";for(H=0;H<($||"").length;H++)M+="\\x"+((K=$.charCodeAt(H))<16?"0":"")+K.toString(16).toUpperCase();return M},y.delay=function($,K,H){f((function(){$.apply(H||null,K||[])}))},y.inherits=function($,K){function H(){}H.prototype=K.prototype,$.prototype=new H},y.extend=function(){var $,K,H={};for($=0;$<arguments.length;$++)for(K in arguments[$])Object.prototype.hasOwnProperty.call(arguments[$],K)&&H[K]===void 0&&(H[K]=arguments[$][K]);return H},y.prepareContent=function($,K,H,M,F){return j.Promise.resolve(K).then((function(C){return m.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new j.Promise((function(_,S){var k=new FileReader;k.onload=function(N){_(N.target.result)},k.onerror=function(N){S(N.target.error)},k.readAsArrayBuffer(C)})):C})).then((function(C){var _=y.getTypeOf(C);return _?(_==="arraybuffer"?C=y.transformTo("uint8array",C):_==="string"&&(F?C=v.decode(C):H&&M!==!0&&(C=(function(S){return E(S,m.uint8array?new Uint8Array(S.length):new Array(S.length))})(C))),C):j.Promise.reject(new Error("Can't read the data of '"+$+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,g,y){var m=h("./reader/readerFor"),v=h("./utils"),x=h("./signature"),j=h("./zipEntry"),T=h("./support");function E(B){this.files=[],this.loadOptions=B}E.prototype={checkSignature:function(B){if(!this.reader.readAndCheckSignature(B)){this.reader.index-=4;var W=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(W)+", expected "+v.pretty(B)+")")}},isSignature:function(B,W){var I=this.reader.index;this.reader.setIndex(B);var R=this.reader.readString(4)===W;return this.reader.setIndex(I),R},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var B=this.reader.readData(this.zipCommentLength),W=T.uint8array?"uint8array":"array",I=v.transformTo(W,B);this.zipComment=this.loadOptions.decodeFileName(I)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var B,W,I,R=this.zip64EndOfCentralSize-44;0<R;)B=this.reader.readInt(2),W=this.reader.readInt(4),I=this.reader.readData(W),this.zip64ExtensibleData[B]={id:B,length:W,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var B,W;for(B=0;B<this.files.length;B++)W=this.files[B],this.reader.setIndex(W.localHeaderOffset),this.checkSignature(x.LOCAL_FILE_HEADER),W.readLocalPart(this.reader),W.handleUTF8(),W.processAttributes()},readCentralDir:function(){var B;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(x.CENTRAL_FILE_HEADER);)(B=new j({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(B);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var B=this.reader.lastIndexOfSignature(x.CENTRAL_DIRECTORY_END);if(B<0)throw this.isSignature(0,x.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(B);var W=B;if(this.checkSignature(x.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(B=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(B),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,x.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var I=this.centralDirOffset+this.centralDirSize;this.zip64&&(I+=20,I+=12+this.zip64EndOfCentralSize);var R=W-I;if(0<R)this.isSignature(W,x.CENTRAL_FILE_HEADER)||(this.reader.zero=R);else if(R<0)throw new Error("Corrupted zip: missing "+Math.abs(R)+" bytes.")},prepareReader:function(B){this.reader=m(B)},load:function(B){this.prepareReader(B),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=E},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,g,y){var m=h("./reader/readerFor"),v=h("./utils"),x=h("./compressedObject"),j=h("./crc32"),T=h("./utf8"),E=h("./compressions"),B=h("./support");function W(I,R){this.options=I,this.loadOptions=R}W.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(I){var R,$;if(I.skip(22),this.fileNameLength=I.readInt(2),$=I.readInt(2),this.fileName=I.readData(this.fileNameLength),I.skip($),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((R=(function(K){for(var H in E)if(Object.prototype.hasOwnProperty.call(E,H)&&E[H].magic===K)return E[H];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new x(this.compressedSize,this.uncompressedSize,this.crc32,R,I.readData(this.compressedSize))},readCentralPart:function(I){this.versionMadeBy=I.readInt(2),I.skip(2),this.bitFlag=I.readInt(2),this.compressionMethod=I.readString(2),this.date=I.readDate(),this.crc32=I.readInt(4),this.compressedSize=I.readInt(4),this.uncompressedSize=I.readInt(4);var R=I.readInt(2);if(this.extraFieldsLength=I.readInt(2),this.fileCommentLength=I.readInt(2),this.diskNumberStart=I.readInt(2),this.internalFileAttributes=I.readInt(2),this.externalFileAttributes=I.readInt(4),this.localHeaderOffset=I.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");I.skip(R),this.readExtraFields(I),this.parseZIP64ExtraField(I),this.fileComment=I.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var I=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),I==0&&(this.dosPermissions=63&this.externalFileAttributes),I==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var I=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=I.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=I.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=I.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=I.readInt(4))}},readExtraFields:function(I){var R,$,K,H=I.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});I.index+4<H;)R=I.readInt(2),$=I.readInt(2),K=I.readData($),this.extraFields[R]={id:R,length:$,value:K};I.setIndex(H)},handleUTF8:function(){var I=B.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=T.utf8decode(this.fileName),this.fileCommentStr=T.utf8decode(this.fileComment);else{var R=this.findExtraFieldUnicodePath();if(R!==null)this.fileNameStr=R;else{var $=v.transformTo(I,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName($)}var K=this.findExtraFieldUnicodeComment();if(K!==null)this.fileCommentStr=K;else{var H=v.transformTo(I,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(H)}}},findExtraFieldUnicodePath:function(){var I=this.extraFields[28789];if(I){var R=m(I.value);return R.readInt(1)!==1||j(this.fileName)!==R.readInt(4)?null:T.utf8decode(R.readData(I.length-5))}return null},findExtraFieldUnicodeComment:function(){var I=this.extraFields[25461];if(I){var R=m(I.value);return R.readInt(1)!==1||j(this.fileComment)!==R.readInt(4)?null:T.utf8decode(R.readData(I.length-5))}return null}},g.exports=W},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,g,y){function m(R,$,K){this.name=R,this.dir=K.dir,this.date=K.date,this.comment=K.comment,this.unixPermissions=K.unixPermissions,this.dosPermissions=K.dosPermissions,this._data=$,this._dataBinary=K.binary,this.options={compression:K.compression,compressionOptions:K.compressionOptions}}var v=h("./stream/StreamHelper"),x=h("./stream/DataWorker"),j=h("./utf8"),T=h("./compressedObject"),E=h("./stream/GenericWorker");m.prototype={internalStream:function(R){var $=null,K="string";try{if(!R)throw new Error("No output type specified.");var H=(K=R.toLowerCase())==="string"||K==="text";K!=="binarystring"&&K!=="text"||(K="string"),$=this._decompressWorker();var M=!this._dataBinary;M&&!H&&($=$.pipe(new j.Utf8EncodeWorker)),!M&&H&&($=$.pipe(new j.Utf8DecodeWorker))}catch(F){($=new E("error")).error(F)}return new v($,K,"")},async:function(R,$){return this.internalStream(R).accumulate($)},nodeStream:function(R,$){return this.internalStream(R||"nodebuffer").toNodejsStream($)},_compressWorker:function(R,$){if(this._data instanceof T&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var K=this._decompressWorker();return this._dataBinary||(K=K.pipe(new j.Utf8EncodeWorker)),T.createWorkerFrom(K,R,$)},_decompressWorker:function(){return this._data instanceof T?this._data.getContentWorker():this._data instanceof E?this._data:new x(this._data)}};for(var B=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],W=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},I=0;I<B.length;I++)m.prototype[B[I]]=W;g.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,g,y){(function(m){var v,x,j=m.MutationObserver||m.WebKitMutationObserver;if(j){var T=0,E=new j(R),B=m.document.createTextNode("");E.observe(B,{characterData:!0}),v=function(){B.data=T=++T%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var $=m.document.createElement("script");$.onreadystatechange=function(){R(),$.onreadystatechange=null,$.parentNode.removeChild($),$=null},m.document.documentElement.appendChild($)}:function(){setTimeout(R,0)};else{var W=new m.MessageChannel;W.port1.onmessage=R,v=function(){W.port2.postMessage(0)}}var I=[];function R(){var $,K;x=!0;for(var H=I.length;H;){for(K=I,I=[],$=-1;++$<H;)K[$]();H=I.length}x=!1}g.exports=function($){I.push($)!==1||x||v()}}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,g,y){var m=h("immediate");function v(){}var x={},j=["REJECTED"],T=["FULFILLED"],E=["PENDING"];function B(H){if(typeof H!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,H!==v&&$(this,H)}function W(H,M,F){this.promise=H,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}function I(H,M,F){m((function(){var C;try{C=M(F)}catch(_){return x.reject(H,_)}C===H?x.reject(H,new TypeError("Cannot resolve promise with itself")):x.resolve(H,C)}))}function R(H){var M=H&&H.then;if(H&&(typeof H=="object"||typeof H=="function")&&typeof M=="function")return function(){M.apply(H,arguments)}}function $(H,M){var F=!1;function C(k){F||(F=!0,x.reject(H,k))}function _(k){F||(F=!0,x.resolve(H,k))}var S=K((function(){M(_,C)}));S.status==="error"&&C(S.value)}function K(H,M){var F={};try{F.value=H(M),F.status="success"}catch(C){F.status="error",F.value=C}return F}(g.exports=B).prototype.finally=function(H){if(typeof H!="function")return this;var M=this.constructor;return this.then((function(F){return M.resolve(H()).then((function(){return F}))}),(function(F){return M.resolve(H()).then((function(){throw F}))}))},B.prototype.catch=function(H){return this.then(null,H)},B.prototype.then=function(H,M){if(typeof H!="function"&&this.state===T||typeof M!="function"&&this.state===j)return this;var F=new this.constructor(v);return this.state!==E?I(F,this.state===T?H:M,this.outcome):this.queue.push(new W(F,H,M)),F},W.prototype.callFulfilled=function(H){x.resolve(this.promise,H)},W.prototype.otherCallFulfilled=function(H){I(this.promise,this.onFulfilled,H)},W.prototype.callRejected=function(H){x.reject(this.promise,H)},W.prototype.otherCallRejected=function(H){I(this.promise,this.onRejected,H)},x.resolve=function(H,M){var F=K(R,M);if(F.status==="error")return x.reject(H,F.value);var C=F.value;if(C)$(H,C);else{H.state=T,H.outcome=M;for(var _=-1,S=H.queue.length;++_<S;)H.queue[_].callFulfilled(M)}return H},x.reject=function(H,M){H.state=j,H.outcome=M;for(var F=-1,C=H.queue.length;++F<C;)H.queue[F].callRejected(M);return H},B.resolve=function(H){return H instanceof this?H:x.resolve(new this(v),H)},B.reject=function(H){var M=new this(v);return x.reject(M,H)},B.all=function(H){var M=this;if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=H.length,C=!1;if(!F)return this.resolve([]);for(var _=new Array(F),S=0,k=-1,N=new this(v);++k<F;)D(H[k],k);return N;function D(L,V){M.resolve(L).then((function(Q){_[V]=Q,++S!==F||C||(C=!0,x.resolve(N,_))}),(function(Q){C||(C=!0,x.reject(N,Q))}))}},B.race=function(H){if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=H.length,F=!1;if(!M)return this.resolve([]);for(var C,_=-1,S=new this(v);++_<M;)C=H[_],this.resolve(C).then((function(k){F||(F=!0,x.resolve(S,k))}),(function(k){F||(F=!0,x.reject(S,k))}));return S}},{immediate:36}],38:[function(h,g,y){var m={};(0,h("./lib/utils/common").assign)(m,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),g.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,g,y){var m=h("./zlib/deflate"),v=h("./utils/common"),x=h("./utils/strings"),j=h("./zlib/messages"),T=h("./zlib/zstream"),E=Object.prototype.toString;function B(I){if(!(this instanceof B))return new B(I);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},I||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var $=m.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if($!==0)throw new Error(j[$]);if(R.header&&m.deflateSetHeader(this.strm,R.header),R.dictionary){var K;if(K=typeof R.dictionary=="string"?x.string2buf(R.dictionary):E.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,($=m.deflateSetDictionary(this.strm,K))!==0)throw new Error(j[$]);this._dict_set=!0}}function W(I,R){var $=new B(R);if($.push(I,!0),$.err)throw $.msg||j[$.err];return $.result}B.prototype.push=function(I,R){var $,K,H=this.strm,M=this.options.chunkSize;if(this.ended)return!1;K=R===~~R?R:R===!0?4:0,typeof I=="string"?H.input=x.string2buf(I):E.call(I)==="[object ArrayBuffer]"?H.input=new Uint8Array(I):H.input=I,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new v.Buf8(M),H.next_out=0,H.avail_out=M),($=m.deflate(H,K))!==1&&$!==0)return this.onEnd($),!(this.ended=!0);H.avail_out!==0&&(H.avail_in!==0||K!==4&&K!==2)||(this.options.to==="string"?this.onData(x.buf2binstring(v.shrinkBuf(H.output,H.next_out))):this.onData(v.shrinkBuf(H.output,H.next_out)))}while((0<H.avail_in||H.avail_out===0)&&$!==1);return K===4?($=m.deflateEnd(this.strm),this.onEnd($),this.ended=!0,$===0):K!==2||(this.onEnd(0),!(H.avail_out=0))},B.prototype.onData=function(I){this.chunks.push(I)},B.prototype.onEnd=function(I){I===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg},y.Deflate=B,y.deflate=W,y.deflateRaw=function(I,R){return(R=R||{}).raw=!0,W(I,R)},y.gzip=function(I,R){return(R=R||{}).gzip=!0,W(I,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,g,y){var m=h("./zlib/inflate"),v=h("./utils/common"),x=h("./utils/strings"),j=h("./zlib/constants"),T=h("./zlib/messages"),E=h("./zlib/zstream"),B=h("./zlib/gzheader"),W=Object.prototype.toString;function I($){if(!(this instanceof I))return new I($);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},$||{});var K=this.options;K.raw&&0<=K.windowBits&&K.windowBits<16&&(K.windowBits=-K.windowBits,K.windowBits===0&&(K.windowBits=-15)),!(0<=K.windowBits&&K.windowBits<16)||$&&$.windowBits||(K.windowBits+=32),15<K.windowBits&&K.windowBits<48&&(15&K.windowBits)==0&&(K.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var H=m.inflateInit2(this.strm,K.windowBits);if(H!==j.Z_OK)throw new Error(T[H]);this.header=new B,m.inflateGetHeader(this.strm,this.header)}function R($,K){var H=new I(K);if(H.push($,!0),H.err)throw H.msg||T[H.err];return H.result}I.prototype.push=function($,K){var H,M,F,C,_,S,k=this.strm,N=this.options.chunkSize,D=this.options.dictionary,L=!1;if(this.ended)return!1;M=K===~~K?K:K===!0?j.Z_FINISH:j.Z_NO_FLUSH,typeof $=="string"?k.input=x.binstring2buf($):W.call($)==="[object ArrayBuffer]"?k.input=new Uint8Array($):k.input=$,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new v.Buf8(N),k.next_out=0,k.avail_out=N),(H=m.inflate(k,j.Z_NO_FLUSH))===j.Z_NEED_DICT&&D&&(S=typeof D=="string"?x.string2buf(D):W.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,H=m.inflateSetDictionary(this.strm,S)),H===j.Z_BUF_ERROR&&L===!0&&(H=j.Z_OK,L=!1),H!==j.Z_STREAM_END&&H!==j.Z_OK)return this.onEnd(H),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&H!==j.Z_STREAM_END&&(k.avail_in!==0||M!==j.Z_FINISH&&M!==j.Z_SYNC_FLUSH)||(this.options.to==="string"?(F=x.utf8border(k.output,k.next_out),C=k.next_out-F,_=x.buf2string(k.output,F),k.next_out=C,k.avail_out=N-C,C&&v.arraySet(k.output,k.output,F,C,0),this.onData(_)):this.onData(v.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(L=!0)}while((0<k.avail_in||k.avail_out===0)&&H!==j.Z_STREAM_END);return H===j.Z_STREAM_END&&(M=j.Z_FINISH),M===j.Z_FINISH?(H=m.inflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===j.Z_OK):M!==j.Z_SYNC_FLUSH||(this.onEnd(j.Z_OK),!(k.avail_out=0))},I.prototype.onData=function($){this.chunks.push($)},I.prototype.onEnd=function($){$===j.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=$,this.msg=this.strm.msg},y.Inflate=I,y.inflate=R,y.inflateRaw=function($,K){return(K=K||{}).raw=!0,R($,K)},y.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(j){for(var T=Array.prototype.slice.call(arguments,1);T.length;){var E=T.shift();if(E){if(typeof E!="object")throw new TypeError(E+"must be non-object");for(var B in E)E.hasOwnProperty(B)&&(j[B]=E[B])}}return j},y.shrinkBuf=function(j,T){return j.length===T?j:j.subarray?j.subarray(0,T):(j.length=T,j)};var v={arraySet:function(j,T,E,B,W){if(T.subarray&&j.subarray)j.set(T.subarray(E,E+B),W);else for(var I=0;I<B;I++)j[W+I]=T[E+I]},flattenChunks:function(j){var T,E,B,W,I,R;for(T=B=0,E=j.length;T<E;T++)B+=j[T].length;for(R=new Uint8Array(B),T=W=0,E=j.length;T<E;T++)I=j[T],R.set(I,W),W+=I.length;return R}},x={arraySet:function(j,T,E,B,W){for(var I=0;I<B;I++)j[W+I]=T[E+I]},flattenChunks:function(j){return[].concat.apply([],j)}};y.setTyped=function(j){j?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,v)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,x))},y.setTyped(m)},{}],42:[function(h,g,y){var m=h("./common"),v=!0,x=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{x=!1}for(var j=new m.Buf8(256),T=0;T<256;T++)j[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function E(B,W){if(W<65537&&(B.subarray&&x||!B.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(B,W));for(var I="",R=0;R<W;R++)I+=String.fromCharCode(B[R]);return I}j[254]=j[254]=1,y.string2buf=function(B){var W,I,R,$,K,H=B.length,M=0;for($=0;$<H;$++)(64512&(I=B.charCodeAt($)))==55296&&$+1<H&&(64512&(R=B.charCodeAt($+1)))==56320&&(I=65536+(I-55296<<10)+(R-56320),$++),M+=I<128?1:I<2048?2:I<65536?3:4;for(W=new m.Buf8(M),$=K=0;K<M;$++)(64512&(I=B.charCodeAt($)))==55296&&$+1<H&&(64512&(R=B.charCodeAt($+1)))==56320&&(I=65536+(I-55296<<10)+(R-56320),$++),I<128?W[K++]=I:(I<2048?W[K++]=192|I>>>6:(I<65536?W[K++]=224|I>>>12:(W[K++]=240|I>>>18,W[K++]=128|I>>>12&63),W[K++]=128|I>>>6&63),W[K++]=128|63&I);return W},y.buf2binstring=function(B){return E(B,B.length)},y.binstring2buf=function(B){for(var W=new m.Buf8(B.length),I=0,R=W.length;I<R;I++)W[I]=B.charCodeAt(I);return W},y.buf2string=function(B,W){var I,R,$,K,H=W||B.length,M=new Array(2*H);for(I=R=0;I<H;)if(($=B[I++])<128)M[R++]=$;else if(4<(K=j[$]))M[R++]=65533,I+=K-1;else{for($&=K===2?31:K===3?15:7;1<K&&I<H;)$=$<<6|63&B[I++],K--;1<K?M[R++]=65533:$<65536?M[R++]=$:($-=65536,M[R++]=55296|$>>10&1023,M[R++]=56320|1023&$)}return E(M,R)},y.utf8border=function(B,W){var I;for((W=W||B.length)>B.length&&(W=B.length),I=W-1;0<=I&&(192&B[I])==128;)I--;return I<0||I===0?W:I+j[B[I]]>W?I:W}},{"./common":41}],43:[function(h,g,y){g.exports=function(m,v,x,j){for(var T=65535&m|0,E=m>>>16&65535|0,B=0;x!==0;){for(x-=B=2e3<x?2e3:x;E=E+(T=T+v[j++]|0)|0,--B;);T%=65521,E%=65521}return T|E<<16|0}},{}],44:[function(h,g,y){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,g,y){var m=(function(){for(var v,x=[],j=0;j<256;j++){v=j;for(var T=0;T<8;T++)v=1&v?3988292384^v>>>1:v>>>1;x[j]=v}return x})();g.exports=function(v,x,j,T){var E=m,B=T+j;v^=-1;for(var W=T;W<B;W++)v=v>>>8^E[255&(v^x[W])];return-1^v}},{}],46:[function(h,g,y){var m,v=h("../utils/common"),x=h("./trees"),j=h("./adler32"),T=h("./crc32"),E=h("./messages"),B=-2,W=258,I=262,R=113;function $(O,Z){return O.msg=E[Z],Z}function K(O){return(O<<1)-(4<O?9:0)}function H(O){for(var Z=O.length;0<=--Z;)O[Z]=0}function M(O){var Z=O.state,U=Z.pending;U>O.avail_out&&(U=O.avail_out),U!==0&&(v.arraySet(O.output,Z.pending_buf,Z.pending_out,U,O.next_out),O.next_out+=U,Z.pending_out+=U,O.total_out+=U,O.avail_out-=U,Z.pending-=U,Z.pending===0&&(Z.pending_out=0))}function F(O,Z){x._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,Z),O.block_start=O.strstart,M(O.strm)}function C(O,Z){O.pending_buf[O.pending++]=Z}function _(O,Z){O.pending_buf[O.pending++]=Z>>>8&255,O.pending_buf[O.pending++]=255&Z}function S(O,Z){var U,z,G=O.max_chain_length,ae=O.strstart,pe=O.prev_length,de=O.nice_match,ge=O.strstart>O.w_size-I?O.strstart-(O.w_size-I):0,te=O.window,oe=O.w_mask,ne=O.prev,he=O.strstart+W,ce=te[ae+pe-1],ie=te[ae+pe];O.prev_length>=O.good_match&&(G>>=2),de>O.lookahead&&(de=O.lookahead);do if(te[(U=Z)+pe]===ie&&te[U+pe-1]===ce&&te[U]===te[ae]&&te[++U]===te[ae+1]){ae+=2,U++;do;while(te[++ae]===te[++U]&&te[++ae]===te[++U]&&te[++ae]===te[++U]&&te[++ae]===te[++U]&&te[++ae]===te[++U]&&te[++ae]===te[++U]&&te[++ae]===te[++U]&&te[++ae]===te[++U]&&ae<he);if(z=W-(he-ae),ae=he-W,pe<z){if(O.match_start=Z,de<=(pe=z))break;ce=te[ae+pe-1],ie=te[ae+pe]}}while((Z=ne[Z&oe])>ge&&--G!=0);return pe<=O.lookahead?pe:O.lookahead}function k(O){var Z,U,z,G,ae,pe,de,ge,te,oe,ne=O.w_size;do{if(G=O.window_size-O.lookahead-O.strstart,O.strstart>=ne+(ne-I)){for(v.arraySet(O.window,O.window,ne,ne,0),O.match_start-=ne,O.strstart-=ne,O.block_start-=ne,Z=U=O.hash_size;z=O.head[--Z],O.head[Z]=ne<=z?z-ne:0,--U;);for(Z=U=ne;z=O.prev[--Z],O.prev[Z]=ne<=z?z-ne:0,--U;);G+=ne}if(O.strm.avail_in===0)break;if(pe=O.strm,de=O.window,ge=O.strstart+O.lookahead,oe=void 0,(te=G)<(oe=pe.avail_in)&&(oe=te),U=oe===0?0:(pe.avail_in-=oe,v.arraySet(de,pe.input,pe.next_in,oe,ge),pe.state.wrap===1?pe.adler=j(pe.adler,de,oe,ge):pe.state.wrap===2&&(pe.adler=T(pe.adler,de,oe,ge)),pe.next_in+=oe,pe.total_in+=oe,oe),O.lookahead+=U,O.lookahead+O.insert>=3)for(ae=O.strstart-O.insert,O.ins_h=O.window[ae],O.ins_h=(O.ins_h<<O.hash_shift^O.window[ae+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[ae+3-1])&O.hash_mask,O.prev[ae&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=ae,ae++,O.insert--,!(O.lookahead+O.insert<3)););}while(O.lookahead<I&&O.strm.avail_in!==0)}function N(O,Z){for(var U,z;;){if(O.lookahead<I){if(k(O),O.lookahead<I&&Z===0)return 1;if(O.lookahead===0)break}if(U=0,O.lookahead>=3&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,U=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),U!==0&&O.strstart-U<=O.w_size-I&&(O.match_length=S(O,U)),O.match_length>=3)if(z=x._tr_tally(O,O.strstart-O.match_start,O.match_length-3),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=3){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,U=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else z=x._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(z&&(F(O,!1),O.strm.avail_out===0))return 1}return O.insert=O.strstart<2?O.strstart:2,Z===4?(F(O,!0),O.strm.avail_out===0?3:4):O.last_lit&&(F(O,!1),O.strm.avail_out===0)?1:2}function D(O,Z){for(var U,z,G;;){if(O.lookahead<I){if(k(O),O.lookahead<I&&Z===0)return 1;if(O.lookahead===0)break}if(U=0,O.lookahead>=3&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,U=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=2,U!==0&&O.prev_length<O.max_lazy_match&&O.strstart-U<=O.w_size-I&&(O.match_length=S(O,U),O.match_length<=5&&(O.strategy===1||O.match_length===3&&4096<O.strstart-O.match_start)&&(O.match_length=2)),O.prev_length>=3&&O.match_length<=O.prev_length){for(G=O.strstart+O.lookahead-3,z=x._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-3),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=G&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,U=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=2,O.strstart++,z&&(F(O,!1),O.strm.avail_out===0))return 1}else if(O.match_available){if((z=x._tr_tally(O,0,O.window[O.strstart-1]))&&F(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return 1}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(z=x._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<2?O.strstart:2,Z===4?(F(O,!0),O.strm.avail_out===0?3:4):O.last_lit&&(F(O,!1),O.strm.avail_out===0)?1:2}function L(O,Z,U,z,G){this.good_length=O,this.max_lazy=Z,this.nice_length=U,this.max_chain=z,this.func=G}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(O){var Z;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=2,(Z=O.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?42:R,O.adler=Z.wrap===2?0:1,Z.last_flush=0,x._tr_init(Z),0):$(O,B)}function Y(O){var Z=Q(O);return Z===0&&(function(U){U.window_size=2*U.w_size,H(U.head),U.max_lazy_match=m[U.level].max_lazy,U.good_match=m[U.level].good_length,U.nice_match=m[U.level].nice_length,U.max_chain_length=m[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=2,U.match_available=0,U.ins_h=0})(O.state),Z}function re(O,Z,U,z,G,ae){if(!O)return B;var pe=1;if(Z===-1&&(Z=6),z<0?(pe=0,z=-z):15<z&&(pe=2,z-=16),G<1||9<G||U!==8||z<8||15<z||Z<0||9<Z||ae<0||4<ae)return $(O,B);z===8&&(z=9);var de=new V;return(O.state=de).strm=O,de.wrap=pe,de.gzhead=null,de.w_bits=z,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=G+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+3-1)/3),de.window=new v.Buf8(2*de.w_size),de.head=new v.Buf16(de.hash_size),de.prev=new v.Buf16(de.w_size),de.lit_bufsize=1<<G+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new v.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=Z,de.strategy=ae,de.method=U,Y(O)}m=[new L(0,0,0,0,(function(O,Z){var U=65535;for(U>O.pending_buf_size-5&&(U=O.pending_buf_size-5);;){if(O.lookahead<=1){if(k(O),O.lookahead===0&&Z===0)return 1;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var z=O.block_start+U;if((O.strstart===0||O.strstart>=z)&&(O.lookahead=O.strstart-z,O.strstart=z,F(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-I&&(F(O,!1),O.strm.avail_out===0))return 1}return O.insert=0,Z===4?(F(O,!0),O.strm.avail_out===0?3:4):(O.strstart>O.block_start&&(F(O,!1),O.strm.avail_out),1)})),new L(4,4,8,4,N),new L(4,5,16,8,N),new L(4,6,32,32,N),new L(4,4,16,16,D),new L(8,16,32,32,D),new L(8,16,128,128,D),new L(8,32,128,256,D),new L(32,128,258,1024,D),new L(32,258,258,4096,D)],y.deflateInit=function(O,Z){return re(O,Z,8,15,8,0)},y.deflateInit2=re,y.deflateReset=Y,y.deflateResetKeep=Q,y.deflateSetHeader=function(O,Z){return O&&O.state?O.state.wrap!==2?B:(O.state.gzhead=Z,0):B},y.deflate=function(O,Z){var U,z,G,ae;if(!O||!O.state||5<Z||Z<0)return O?$(O,B):B;if(z=O.state,!O.output||!O.input&&O.avail_in!==0||z.status===666&&Z!==4)return $(O,O.avail_out===0?-5:B);if(z.strm=O,U=z.last_flush,z.last_flush=Z,z.status===42)if(z.wrap===2)O.adler=0,C(z,31),C(z,139),C(z,8),z.gzhead?(C(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),C(z,255&z.gzhead.time),C(z,z.gzhead.time>>8&255),C(z,z.gzhead.time>>16&255),C(z,z.gzhead.time>>24&255),C(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),C(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(C(z,255&z.gzhead.extra.length),C(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(O.adler=T(O.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(C(z,0),C(z,0),C(z,0),C(z,0),C(z,0),C(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),C(z,3),z.status=R);else{var pe=8+(z.w_bits-8<<4)<<8;pe|=(2<=z.strategy||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(pe|=32),pe+=31-pe%31,z.status=R,_(z,pe),z.strstart!==0&&(_(z,O.adler>>>16),_(z,65535&O.adler)),O.adler=1}if(z.status===69)if(z.gzhead.extra){for(G=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>G&&(O.adler=T(O.adler,z.pending_buf,z.pending-G,G)),M(O),G=z.pending,z.pending!==z.pending_buf_size));)C(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>G&&(O.adler=T(O.adler,z.pending_buf,z.pending-G,G)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){G=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>G&&(O.adler=T(O.adler,z.pending_buf,z.pending-G,G)),M(O),G=z.pending,z.pending===z.pending_buf_size)){ae=1;break}ae=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,C(z,ae)}while(ae!==0);z.gzhead.hcrc&&z.pending>G&&(O.adler=T(O.adler,z.pending_buf,z.pending-G,G)),ae===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){G=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>G&&(O.adler=T(O.adler,z.pending_buf,z.pending-G,G)),M(O),G=z.pending,z.pending===z.pending_buf_size)){ae=1;break}ae=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,C(z,ae)}while(ae!==0);z.gzhead.hcrc&&z.pending>G&&(O.adler=T(O.adler,z.pending_buf,z.pending-G,G)),ae===0&&(z.status=103)}else z.status=103;if(z.status===103&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&M(O),z.pending+2<=z.pending_buf_size&&(C(z,255&O.adler),C(z,O.adler>>8&255),O.adler=0,z.status=R)):z.status=R),z.pending!==0){if(M(O),O.avail_out===0)return z.last_flush=-1,0}else if(O.avail_in===0&&K(Z)<=K(U)&&Z!==4)return $(O,-5);if(z.status===666&&O.avail_in!==0)return $(O,-5);if(O.avail_in!==0||z.lookahead!==0||Z!==0&&z.status!==666){var de=z.strategy===2?(function(ge,te){for(var oe;;){if(ge.lookahead===0&&(k(ge),ge.lookahead===0)){if(te===0)return 1;break}if(ge.match_length=0,oe=x._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++,oe&&(F(ge,!1),ge.strm.avail_out===0))return 1}return ge.insert=0,te===4?(F(ge,!0),ge.strm.avail_out===0?3:4):ge.last_lit&&(F(ge,!1),ge.strm.avail_out===0)?1:2})(z,Z):z.strategy===3?(function(ge,te){for(var oe,ne,he,ce,ie=ge.window;;){if(ge.lookahead<=W){if(k(ge),ge.lookahead<=W&&te===0)return 1;if(ge.lookahead===0)break}if(ge.match_length=0,ge.lookahead>=3&&0<ge.strstart&&(ne=ie[he=ge.strstart-1])===ie[++he]&&ne===ie[++he]&&ne===ie[++he]){ce=ge.strstart+W;do;while(ne===ie[++he]&&ne===ie[++he]&&ne===ie[++he]&&ne===ie[++he]&&ne===ie[++he]&&ne===ie[++he]&&ne===ie[++he]&&ne===ie[++he]&&he<ce);ge.match_length=W-(ce-he),ge.match_length>ge.lookahead&&(ge.match_length=ge.lookahead)}if(ge.match_length>=3?(oe=x._tr_tally(ge,1,ge.match_length-3),ge.lookahead-=ge.match_length,ge.strstart+=ge.match_length,ge.match_length=0):(oe=x._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++),oe&&(F(ge,!1),ge.strm.avail_out===0))return 1}return ge.insert=0,te===4?(F(ge,!0),ge.strm.avail_out===0?3:4):ge.last_lit&&(F(ge,!1),ge.strm.avail_out===0)?1:2})(z,Z):m[z.level].func(z,Z);if(de!==3&&de!==4||(z.status=666),de===1||de===3)return O.avail_out===0&&(z.last_flush=-1),0;if(de===2&&(Z===1?x._tr_align(z):Z!==5&&(x._tr_stored_block(z,0,0,!1),Z===3&&(H(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),M(O),O.avail_out===0))return z.last_flush=-1,0}return Z!==4?0:z.wrap<=0?1:(z.wrap===2?(C(z,255&O.adler),C(z,O.adler>>8&255),C(z,O.adler>>16&255),C(z,O.adler>>24&255),C(z,255&O.total_in),C(z,O.total_in>>8&255),C(z,O.total_in>>16&255),C(z,O.total_in>>24&255)):(_(z,O.adler>>>16),_(z,65535&O.adler)),M(O),0<z.wrap&&(z.wrap=-z.wrap),z.pending!==0?0:1)},y.deflateEnd=function(O){var Z;return O&&O.state?(Z=O.state.status)!==42&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==R&&Z!==666?$(O,B):(O.state=null,Z===R?$(O,-3):0):B},y.deflateSetDictionary=function(O,Z){var U,z,G,ae,pe,de,ge,te,oe=Z.length;if(!O||!O.state||(ae=(U=O.state).wrap)===2||ae===1&&U.status!==42||U.lookahead)return B;for(ae===1&&(O.adler=j(O.adler,Z,oe,0)),U.wrap=0,oe>=U.w_size&&(ae===0&&(H(U.head),U.strstart=0,U.block_start=0,U.insert=0),te=new v.Buf8(U.w_size),v.arraySet(te,Z,oe-U.w_size,U.w_size,0),Z=te,oe=U.w_size),pe=O.avail_in,de=O.next_in,ge=O.input,O.avail_in=oe,O.next_in=0,O.input=Z,k(U);U.lookahead>=3;){for(z=U.strstart,G=U.lookahead-2;U.ins_h=(U.ins_h<<U.hash_shift^U.window[z+3-1])&U.hash_mask,U.prev[z&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=z,z++,--G;);U.strstart=z,U.lookahead=2,k(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=2,U.match_available=0,O.next_in=de,O.input=ge,O.avail_in=pe,U.wrap=ae,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,g,y){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,g,y){g.exports=function(m,v){var x,j,T,E,B,W,I,R,$,K,H,M,F,C,_,S,k,N,D,L,V,Q,Y,re,O;x=m.state,j=m.next_in,re=m.input,T=j+(m.avail_in-5),E=m.next_out,O=m.output,B=E-(v-m.avail_out),W=E+(m.avail_out-257),I=x.dmax,R=x.wsize,$=x.whave,K=x.wnext,H=x.window,M=x.hold,F=x.bits,C=x.lencode,_=x.distcode,S=(1<<x.lenbits)-1,k=(1<<x.distbits)-1;e:do{F<15&&(M+=re[j++]<<F,F+=8,M+=re[j++]<<F,F+=8),N=C[M&S];t:for(;;){if(M>>>=D=N>>>24,F-=D,(D=N>>>16&255)==0)O[E++]=65535&N;else{if(!(16&D)){if((64&D)==0){N=C[(65535&N)+(M&(1<<D)-1)];continue t}if(32&D){x.mode=12;break e}m.msg="invalid literal/length code",x.mode=30;break e}L=65535&N,(D&=15)&&(F<D&&(M+=re[j++]<<F,F+=8),L+=M&(1<<D)-1,M>>>=D,F-=D),F<15&&(M+=re[j++]<<F,F+=8,M+=re[j++]<<F,F+=8),N=_[M&k];r:for(;;){if(M>>>=D=N>>>24,F-=D,!(16&(D=N>>>16&255))){if((64&D)==0){N=_[(65535&N)+(M&(1<<D)-1)];continue r}m.msg="invalid distance code",x.mode=30;break e}if(V=65535&N,F<(D&=15)&&(M+=re[j++]<<F,(F+=8)<D&&(M+=re[j++]<<F,F+=8)),I<(V+=M&(1<<D)-1)){m.msg="invalid distance too far back",x.mode=30;break e}if(M>>>=D,F-=D,(D=E-B)<V){if($<(D=V-D)&&x.sane){m.msg="invalid distance too far back",x.mode=30;break e}if(Y=H,(Q=0)===K){if(Q+=R-D,D<L){for(L-=D;O[E++]=H[Q++],--D;);Q=E-V,Y=O}}else if(K<D){if(Q+=R+K-D,(D-=K)<L){for(L-=D;O[E++]=H[Q++],--D;);if(Q=0,K<L){for(L-=D=K;O[E++]=H[Q++],--D;);Q=E-V,Y=O}}}else if(Q+=K-D,D<L){for(L-=D;O[E++]=H[Q++],--D;);Q=E-V,Y=O}for(;2<L;)O[E++]=Y[Q++],O[E++]=Y[Q++],O[E++]=Y[Q++],L-=3;L&&(O[E++]=Y[Q++],1<L&&(O[E++]=Y[Q++]))}else{for(Q=E-V;O[E++]=O[Q++],O[E++]=O[Q++],O[E++]=O[Q++],2<(L-=3););L&&(O[E++]=O[Q++],1<L&&(O[E++]=O[Q++]))}break}}break}}while(j<T&&E<W);j-=L=F>>3,M&=(1<<(F-=L<<3))-1,m.next_in=j,m.next_out=E,m.avail_in=j<T?T-j+5:5-(j-T),m.avail_out=E<W?W-E+257:257-(E-W),x.hold=M,x.bits=F}},{}],49:[function(h,g,y){var m=h("../utils/common"),v=h("./adler32"),x=h("./crc32"),j=h("./inffast"),T=h("./inftrees"),E=-2;function B(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function W(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(S){var k;return S&&S.state?(k=S.state,S.total_in=S.total_out=k.total=0,S.msg="",k.wrap&&(S.adler=1&k.wrap),k.mode=1,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new m.Buf32(852),k.distcode=k.distdyn=new m.Buf32(592),k.sane=1,k.back=-1,0):E}function R(S){var k;return S&&S.state?((k=S.state).wsize=0,k.whave=0,k.wnext=0,I(S)):E}function $(S,k){var N,D;return S&&S.state?(D=S.state,k<0?(N=0,k=-k):(N=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?E:(D.window!==null&&D.wbits!==k&&(D.window=null),D.wrap=N,D.wbits=k,R(S))):E}function K(S,k){var N,D;return S?(D=new W,(S.state=D).window=null,(N=$(S,k))!==0&&(S.state=null),N):E}var H,M,F=!0;function C(S){if(F){var k;for(H=new m.Buf32(512),M=new m.Buf32(32),k=0;k<144;)S.lens[k++]=8;for(;k<256;)S.lens[k++]=9;for(;k<280;)S.lens[k++]=7;for(;k<288;)S.lens[k++]=8;for(T(1,S.lens,0,288,H,0,S.work,{bits:9}),k=0;k<32;)S.lens[k++]=5;T(2,S.lens,0,32,M,0,S.work,{bits:5}),F=!1}S.lencode=H,S.lenbits=9,S.distcode=M,S.distbits=5}function _(S,k,N,D){var L,V=S.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new m.Buf8(V.wsize)),D>=V.wsize?(m.arraySet(V.window,k,N-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(D<(L=V.wsize-V.wnext)&&(L=D),m.arraySet(V.window,k,N-D,L,V.wnext),(D-=L)?(m.arraySet(V.window,k,N-D,D,0),V.wnext=D,V.whave=V.wsize):(V.wnext+=L,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=L))),0}y.inflateReset=R,y.inflateReset2=$,y.inflateResetKeep=I,y.inflateInit=function(S){return K(S,15)},y.inflateInit2=K,y.inflate=function(S,k){var N,D,L,V,Q,Y,re,O,Z,U,z,G,ae,pe,de,ge,te,oe,ne,he,ce,ie,ee,se,le=0,ve=new m.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return E;(N=S.state).mode===12&&(N.mode=13),Q=S.next_out,L=S.output,re=S.avail_out,V=S.next_in,D=S.input,Y=S.avail_in,O=N.hold,Z=N.bits,U=Y,z=re,ie=0;e:for(;;)switch(N.mode){case 1:if(N.wrap===0){N.mode=13;break}for(;Z<16;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}if(2&N.wrap&&O===35615){ve[N.check=0]=255&O,ve[1]=O>>>8&255,N.check=x(N.check,ve,2,0),Z=O=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&O)<<8)+(O>>8))%31){S.msg="incorrect header check",N.mode=30;break}if((15&O)!=8){S.msg="unknown compression method",N.mode=30;break}if(Z-=4,ce=8+(15&(O>>>=4)),N.wbits===0)N.wbits=ce;else if(ce>N.wbits){S.msg="invalid window size",N.mode=30;break}N.dmax=1<<ce,S.adler=N.check=1,N.mode=512&O?10:12,Z=O=0;break;case 2:for(;Z<16;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}if(N.flags=O,(255&N.flags)!=8){S.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){S.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=O>>8&1),512&N.flags&&(ve[0]=255&O,ve[1]=O>>>8&255,N.check=x(N.check,ve,2,0)),Z=O=0,N.mode=3;case 3:for(;Z<32;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}N.head&&(N.head.time=O),512&N.flags&&(ve[0]=255&O,ve[1]=O>>>8&255,ve[2]=O>>>16&255,ve[3]=O>>>24&255,N.check=x(N.check,ve,4,0)),Z=O=0,N.mode=4;case 4:for(;Z<16;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}N.head&&(N.head.xflags=255&O,N.head.os=O>>8),512&N.flags&&(ve[0]=255&O,ve[1]=O>>>8&255,N.check=x(N.check,ve,2,0)),Z=O=0,N.mode=5;case 5:if(1024&N.flags){for(;Z<16;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}N.length=O,N.head&&(N.head.extra_len=O),512&N.flags&&(ve[0]=255&O,ve[1]=O>>>8&255,N.check=x(N.check,ve,2,0)),Z=O=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(Y<(G=N.length)&&(G=Y),G&&(N.head&&(ce=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),m.arraySet(N.head.extra,D,V,G,ce)),512&N.flags&&(N.check=x(N.check,D,G,V)),Y-=G,V+=G,N.length-=G),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(Y===0)break e;for(G=0;ce=D[V+G++],N.head&&ce&&N.length<65536&&(N.head.name+=String.fromCharCode(ce)),ce&&G<Y;);if(512&N.flags&&(N.check=x(N.check,D,G,V)),Y-=G,V+=G,ce)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(Y===0)break e;for(G=0;ce=D[V+G++],N.head&&ce&&N.length<65536&&(N.head.comment+=String.fromCharCode(ce)),ce&&G<Y;);if(512&N.flags&&(N.check=x(N.check,D,G,V)),Y-=G,V+=G,ce)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;Z<16;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}if(O!==(65535&N.check)){S.msg="header crc mismatch",N.mode=30;break}Z=O=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),S.adler=N.check=0,N.mode=12;break;case 10:for(;Z<32;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}S.adler=N.check=B(O),Z=O=0,N.mode=11;case 11:if(N.havedict===0)return S.next_out=Q,S.avail_out=re,S.next_in=V,S.avail_in=Y,N.hold=O,N.bits=Z,2;S.adler=N.check=1,N.mode=12;case 12:if(k===5||k===6)break e;case 13:if(N.last){O>>>=7&Z,Z-=7&Z,N.mode=27;break}for(;Z<3;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}switch(N.last=1&O,Z-=1,3&(O>>>=1)){case 0:N.mode=14;break;case 1:if(C(N),N.mode=20,k!==6)break;O>>>=2,Z-=2;break e;case 2:N.mode=17;break;case 3:S.msg="invalid block type",N.mode=30}O>>>=2,Z-=2;break;case 14:for(O>>>=7&Z,Z-=7&Z;Z<32;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}if((65535&O)!=(O>>>16^65535)){S.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&O,Z=O=0,N.mode=15,k===6)break e;case 15:N.mode=16;case 16:if(G=N.length){if(Y<G&&(G=Y),re<G&&(G=re),G===0)break e;m.arraySet(L,D,V,G,Q),Y-=G,V+=G,re-=G,Q+=G,N.length-=G;break}N.mode=12;break;case 17:for(;Z<14;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}if(N.nlen=257+(31&O),O>>>=5,Z-=5,N.ndist=1+(31&O),O>>>=5,Z-=5,N.ncode=4+(15&O),O>>>=4,Z-=4,286<N.nlen||30<N.ndist){S.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;Z<3;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}N.lens[_e[N.have++]]=7&O,O>>>=3,Z-=3}for(;N.have<19;)N.lens[_e[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,ee={bits:N.lenbits},ie=T(0,N.lens,0,19,N.lencode,0,N.work,ee),N.lenbits=ee.bits,ie){S.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ge=(le=N.lencode[O&(1<<N.lenbits)-1])>>>16&255,te=65535&le,!((de=le>>>24)<=Z);){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}if(te<16)O>>>=de,Z-=de,N.lens[N.have++]=te;else{if(te===16){for(se=de+2;Z<se;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}if(O>>>=de,Z-=de,N.have===0){S.msg="invalid bit length repeat",N.mode=30;break}ce=N.lens[N.have-1],G=3+(3&O),O>>>=2,Z-=2}else if(te===17){for(se=de+3;Z<se;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}Z-=de,ce=0,G=3+(7&(O>>>=de)),O>>>=3,Z-=3}else{for(se=de+7;Z<se;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}Z-=de,ce=0,G=11+(127&(O>>>=de)),O>>>=7,Z-=7}if(N.have+G>N.nlen+N.ndist){S.msg="invalid bit length repeat",N.mode=30;break}for(;G--;)N.lens[N.have++]=ce}}if(N.mode===30)break;if(N.lens[256]===0){S.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,ee={bits:N.lenbits},ie=T(1,N.lens,0,N.nlen,N.lencode,0,N.work,ee),N.lenbits=ee.bits,ie){S.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,ee={bits:N.distbits},ie=T(2,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,ee),N.distbits=ee.bits,ie){S.msg="invalid distances set",N.mode=30;break}if(N.mode=20,k===6)break e;case 20:N.mode=21;case 21:if(6<=Y&&258<=re){S.next_out=Q,S.avail_out=re,S.next_in=V,S.avail_in=Y,N.hold=O,N.bits=Z,j(S,z),Q=S.next_out,L=S.output,re=S.avail_out,V=S.next_in,D=S.input,Y=S.avail_in,O=N.hold,Z=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ge=(le=N.lencode[O&(1<<N.lenbits)-1])>>>16&255,te=65535&le,!((de=le>>>24)<=Z);){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}if(ge&&(240&ge)==0){for(oe=de,ne=ge,he=te;ge=(le=N.lencode[he+((O&(1<<oe+ne)-1)>>oe)])>>>16&255,te=65535&le,!(oe+(de=le>>>24)<=Z);){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}O>>>=oe,Z-=oe,N.back+=oe}if(O>>>=de,Z-=de,N.back+=de,N.length=te,ge===0){N.mode=26;break}if(32&ge){N.back=-1,N.mode=12;break}if(64&ge){S.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ge,N.mode=22;case 22:if(N.extra){for(se=N.extra;Z<se;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}N.length+=O&(1<<N.extra)-1,O>>>=N.extra,Z-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ge=(le=N.distcode[O&(1<<N.distbits)-1])>>>16&255,te=65535&le,!((de=le>>>24)<=Z);){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}if((240&ge)==0){for(oe=de,ne=ge,he=te;ge=(le=N.distcode[he+((O&(1<<oe+ne)-1)>>oe)])>>>16&255,te=65535&le,!(oe+(de=le>>>24)<=Z);){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}O>>>=oe,Z-=oe,N.back+=oe}if(O>>>=de,Z-=de,N.back+=de,64&ge){S.msg="invalid distance code",N.mode=30;break}N.offset=te,N.extra=15&ge,N.mode=24;case 24:if(N.extra){for(se=N.extra;Z<se;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}N.offset+=O&(1<<N.extra)-1,O>>>=N.extra,Z-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){S.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(re===0)break e;if(G=z-re,N.offset>G){if((G=N.offset-G)>N.whave&&N.sane){S.msg="invalid distance too far back",N.mode=30;break}ae=G>N.wnext?(G-=N.wnext,N.wsize-G):N.wnext-G,G>N.length&&(G=N.length),pe=N.window}else pe=L,ae=Q-N.offset,G=N.length;for(re<G&&(G=re),re-=G,N.length-=G;L[Q++]=pe[ae++],--G;);N.length===0&&(N.mode=21);break;case 26:if(re===0)break e;L[Q++]=N.length,re--,N.mode=21;break;case 27:if(N.wrap){for(;Z<32;){if(Y===0)break e;Y--,O|=D[V++]<<Z,Z+=8}if(z-=re,S.total_out+=z,N.total+=z,z&&(S.adler=N.check=N.flags?x(N.check,L,z,Q-z):v(N.check,L,z,Q-z)),z=re,(N.flags?O:B(O))!==N.check){S.msg="incorrect data check",N.mode=30;break}Z=O=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;Z<32;){if(Y===0)break e;Y--,O+=D[V++]<<Z,Z+=8}if(O!==(4294967295&N.total)){S.msg="incorrect length check",N.mode=30;break}Z=O=0}N.mode=29;case 29:ie=1;break e;case 30:ie=-3;break e;case 31:return-4;case 32:default:return E}return S.next_out=Q,S.avail_out=re,S.next_in=V,S.avail_in=Y,N.hold=O,N.bits=Z,(N.wsize||z!==S.avail_out&&N.mode<30&&(N.mode<27||k!==4))&&_(S,S.output,S.next_out,z-S.avail_out)?(N.mode=31,-4):(U-=S.avail_in,z-=S.avail_out,S.total_in+=U,S.total_out+=z,N.total+=z,N.wrap&&z&&(S.adler=N.check=N.flags?x(N.check,L,z,S.next_out-z):v(N.check,L,z,S.next_out-z)),S.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(U==0&&z===0||k===4)&&ie===0&&(ie=-5),ie)},y.inflateEnd=function(S){if(!S||!S.state)return E;var k=S.state;return k.window&&(k.window=null),S.state=null,0},y.inflateGetHeader=function(S,k){var N;return S&&S.state?(2&(N=S.state).wrap)==0?E:((N.head=k).done=!1,0):E},y.inflateSetDictionary=function(S,k){var N,D=k.length;return S&&S.state?(N=S.state).wrap!==0&&N.mode!==11?E:N.mode===11&&v(1,k,D,0)!==N.check?-3:_(S,k,D,D)?(N.mode=31,-4):(N.havedict=1,0):E},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,g,y){var m=h("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(E,B,W,I,R,$,K,H){var M,F,C,_,S,k,N,D,L,V=H.bits,Q=0,Y=0,re=0,O=0,Z=0,U=0,z=0,G=0,ae=0,pe=0,de=null,ge=0,te=new m.Buf16(16),oe=new m.Buf16(16),ne=null,he=0;for(Q=0;Q<=15;Q++)te[Q]=0;for(Y=0;Y<I;Y++)te[B[W+Y]]++;for(Z=V,O=15;1<=O&&te[O]===0;O--);if(O<Z&&(Z=O),O===0)return R[$++]=20971520,R[$++]=20971520,H.bits=1,0;for(re=1;re<O&&te[re]===0;re++);for(Z<re&&(Z=re),Q=G=1;Q<=15;Q++)if(G<<=1,(G-=te[Q])<0)return-1;if(0<G&&(E===0||O!==1))return-1;for(oe[1]=0,Q=1;Q<15;Q++)oe[Q+1]=oe[Q]+te[Q];for(Y=0;Y<I;Y++)B[W+Y]!==0&&(K[oe[B[W+Y]]++]=Y);if(k=E===0?(de=ne=K,19):E===1?(de=v,ge-=257,ne=x,he-=257,256):(de=j,ne=T,-1),Q=re,S=$,z=Y=pe=0,C=-1,_=(ae=1<<(U=Z))-1,E===1&&852<ae||E===2&&592<ae)return 1;for(;;){for(N=Q-z,L=K[Y]<k?(D=0,K[Y]):K[Y]>k?(D=ne[he+K[Y]],de[ge+K[Y]]):(D=96,0),M=1<<Q-z,re=F=1<<U;R[S+(pe>>z)+(F-=M)]=N<<24|D<<16|L|0,F!==0;);for(M=1<<Q-1;pe&M;)M>>=1;if(M!==0?(pe&=M-1,pe+=M):pe=0,Y++,--te[Q]==0){if(Q===O)break;Q=B[W+K[Y]]}if(Z<Q&&(pe&_)!==C){for(z===0&&(z=Z),S+=re,G=1<<(U=Q-z);U+z<O&&!((G-=te[U+z])<=0);)U++,G<<=1;if(ae+=1<<U,E===1&&852<ae||E===2&&592<ae)return 1;R[C=pe&_]=Z<<24|U<<16|S-$|0}}return pe!==0&&(R[S+pe]=Q-z<<24|64<<16|0),H.bits=Z,0}},{"../utils/common":41}],51:[function(h,g,y){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,g,y){var m=h("../utils/common");function v(ne){for(var he=ne.length;0<=--he;)ne[he]=0}var x=256,j=286,T=30,E=15,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(576);v($);var K=new Array(60);v(K);var H=new Array(512);v(H);var M=new Array(256);v(M);var F=new Array(29);v(F);var C,_,S,k=new Array(T);function N(ne,he,ce,ie,ee){this.static_tree=ne,this.extra_bits=he,this.extra_base=ce,this.elems=ie,this.max_length=ee,this.has_stree=ne&&ne.length}function D(ne,he){this.dyn_tree=ne,this.max_code=0,this.stat_desc=he}function L(ne){return ne<256?H[ne]:H[256+(ne>>>7)]}function V(ne,he){ne.pending_buf[ne.pending++]=255&he,ne.pending_buf[ne.pending++]=he>>>8&255}function Q(ne,he,ce){ne.bi_valid>16-ce?(ne.bi_buf|=he<<ne.bi_valid&65535,V(ne,ne.bi_buf),ne.bi_buf=he>>16-ne.bi_valid,ne.bi_valid+=ce-16):(ne.bi_buf|=he<<ne.bi_valid&65535,ne.bi_valid+=ce)}function Y(ne,he,ce){Q(ne,ce[2*he],ce[2*he+1])}function re(ne,he){for(var ce=0;ce|=1&ne,ne>>>=1,ce<<=1,0<--he;);return ce>>>1}function O(ne,he,ce){var ie,ee,se=new Array(16),le=0;for(ie=1;ie<=E;ie++)se[ie]=le=le+ce[ie-1]<<1;for(ee=0;ee<=he;ee++){var ve=ne[2*ee+1];ve!==0&&(ne[2*ee]=re(se[ve]++,ve))}}function Z(ne){var he;for(he=0;he<j;he++)ne.dyn_ltree[2*he]=0;for(he=0;he<T;he++)ne.dyn_dtree[2*he]=0;for(he=0;he<19;he++)ne.bl_tree[2*he]=0;ne.dyn_ltree[512]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function U(ne){8<ne.bi_valid?V(ne,ne.bi_buf):0<ne.bi_valid&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function z(ne,he,ce,ie){var ee=2*he,se=2*ce;return ne[ee]<ne[se]||ne[ee]===ne[se]&&ie[he]<=ie[ce]}function G(ne,he,ce){for(var ie=ne.heap[ce],ee=ce<<1;ee<=ne.heap_len&&(ee<ne.heap_len&&z(he,ne.heap[ee+1],ne.heap[ee],ne.depth)&&ee++,!z(he,ie,ne.heap[ee],ne.depth));)ne.heap[ce]=ne.heap[ee],ce=ee,ee<<=1;ne.heap[ce]=ie}function ae(ne,he,ce){var ie,ee,se,le,ve=0;if(ne.last_lit!==0)for(;ie=ne.pending_buf[ne.d_buf+2*ve]<<8|ne.pending_buf[ne.d_buf+2*ve+1],ee=ne.pending_buf[ne.l_buf+ve],ve++,ie===0?Y(ne,ee,he):(Y(ne,(se=M[ee])+x+1,he),(le=B[se])!==0&&Q(ne,ee-=F[se],le),Y(ne,se=L(--ie),ce),(le=W[se])!==0&&Q(ne,ie-=k[se],le)),ve<ne.last_lit;);Y(ne,256,he)}function pe(ne,he){var ce,ie,ee,se=he.dyn_tree,le=he.stat_desc.static_tree,ve=he.stat_desc.has_stree,_e=he.stat_desc.elems,Te=-1;for(ne.heap_len=0,ne.heap_max=573,ce=0;ce<_e;ce++)se[2*ce]!==0?(ne.heap[++ne.heap_len]=Te=ce,ne.depth[ce]=0):se[2*ce+1]=0;for(;ne.heap_len<2;)se[2*(ee=ne.heap[++ne.heap_len]=Te<2?++Te:0)]=1,ne.depth[ee]=0,ne.opt_len--,ve&&(ne.static_len-=le[2*ee+1]);for(he.max_code=Te,ce=ne.heap_len>>1;1<=ce;ce--)G(ne,se,ce);for(ee=_e;ce=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],G(ne,se,1),ie=ne.heap[1],ne.heap[--ne.heap_max]=ce,ne.heap[--ne.heap_max]=ie,se[2*ee]=se[2*ce]+se[2*ie],ne.depth[ee]=(ne.depth[ce]>=ne.depth[ie]?ne.depth[ce]:ne.depth[ie])+1,se[2*ce+1]=se[2*ie+1]=ee,ne.heap[1]=ee++,G(ne,se,1),2<=ne.heap_len;);ne.heap[--ne.heap_max]=ne.heap[1],(function(Fe,Be){var ze,Je,ft,bt,rt,we,me=Be.dyn_tree,Ke=Be.max_code,He=Be.stat_desc.static_tree,It=Be.stat_desc.has_stree,Zt=Be.stat_desc.extra_bits,kt=Be.stat_desc.extra_base,Jt=Be.stat_desc.max_length,rr=0;for(bt=0;bt<=E;bt++)Fe.bl_count[bt]=0;for(me[2*Fe.heap[Fe.heap_max]+1]=0,ze=Fe.heap_max+1;ze<573;ze++)Jt<(bt=me[2*me[2*(Je=Fe.heap[ze])+1]+1]+1)&&(bt=Jt,rr++),me[2*Je+1]=bt,Ke<Je||(Fe.bl_count[bt]++,rt=0,kt<=Je&&(rt=Zt[Je-kt]),we=me[2*Je],Fe.opt_len+=we*(bt+rt),It&&(Fe.static_len+=we*(He[2*Je+1]+rt)));if(rr!==0){do{for(bt=Jt-1;Fe.bl_count[bt]===0;)bt--;Fe.bl_count[bt]--,Fe.bl_count[bt+1]+=2,Fe.bl_count[Jt]--,rr-=2}while(0<rr);for(bt=Jt;bt!==0;bt--)for(Je=Fe.bl_count[bt];Je!==0;)Ke<(ft=Fe.heap[--ze])||(me[2*ft+1]!==bt&&(Fe.opt_len+=(bt-me[2*ft+1])*me[2*ft],me[2*ft+1]=bt),Je--)}})(ne,he),O(se,Te,ne.bl_count)}function de(ne,he,ce){var ie,ee,se=-1,le=he[1],ve=0,_e=7,Te=4;for(le===0&&(_e=138,Te=3),he[2*(ce+1)+1]=65535,ie=0;ie<=ce;ie++)ee=le,le=he[2*(ie+1)+1],++ve<_e&&ee===le||(ve<Te?ne.bl_tree[2*ee]+=ve:ee!==0?(ee!==se&&ne.bl_tree[2*ee]++,ne.bl_tree[32]++):ve<=10?ne.bl_tree[34]++:ne.bl_tree[36]++,se=ee,Te=(ve=0)===le?(_e=138,3):ee===le?(_e=6,3):(_e=7,4))}function ge(ne,he,ce){var ie,ee,se=-1,le=he[1],ve=0,_e=7,Te=4;for(le===0&&(_e=138,Te=3),ie=0;ie<=ce;ie++)if(ee=le,le=he[2*(ie+1)+1],!(++ve<_e&&ee===le)){if(ve<Te)for(;Y(ne,ee,ne.bl_tree),--ve!=0;);else ee!==0?(ee!==se&&(Y(ne,ee,ne.bl_tree),ve--),Y(ne,16,ne.bl_tree),Q(ne,ve-3,2)):ve<=10?(Y(ne,17,ne.bl_tree),Q(ne,ve-3,3)):(Y(ne,18,ne.bl_tree),Q(ne,ve-11,7));se=ee,Te=(ve=0)===le?(_e=138,3):ee===le?(_e=6,3):(_e=7,4)}}v(k);var te=!1;function oe(ne,he,ce,ie){Q(ne,0+(ie?1:0),3),(function(ee,se,le,ve){U(ee),V(ee,le),V(ee,~le),m.arraySet(ee.pending_buf,ee.window,se,le,ee.pending),ee.pending+=le})(ne,he,ce)}y._tr_init=function(ne){te||((function(){var he,ce,ie,ee,se,le=new Array(16);for(ee=ie=0;ee<28;ee++)for(F[ee]=ie,he=0;he<1<<B[ee];he++)M[ie++]=ee;for(M[ie-1]=ee,ee=se=0;ee<16;ee++)for(k[ee]=se,he=0;he<1<<W[ee];he++)H[se++]=ee;for(se>>=7;ee<T;ee++)for(k[ee]=se<<7,he=0;he<1<<W[ee]-7;he++)H[256+se++]=ee;for(ce=0;ce<=E;ce++)le[ce]=0;for(he=0;he<=143;)$[2*he+1]=8,he++,le[8]++;for(;he<=255;)$[2*he+1]=9,he++,le[9]++;for(;he<=279;)$[2*he+1]=7,he++,le[7]++;for(;he<=287;)$[2*he+1]=8,he++,le[8]++;for(O($,287,le),he=0;he<T;he++)K[2*he+1]=5,K[2*he]=re(he,5);C=new N($,B,257,j,E),_=new N(K,W,0,T,E),S=new N(new Array(0),I,0,19,7)})(),te=!0),ne.l_desc=new D(ne.dyn_ltree,C),ne.d_desc=new D(ne.dyn_dtree,_),ne.bl_desc=new D(ne.bl_tree,S),ne.bi_buf=0,ne.bi_valid=0,Z(ne)},y._tr_stored_block=oe,y._tr_flush_block=function(ne,he,ce,ie){var ee,se,le=0;0<ne.level?(ne.strm.data_type===2&&(ne.strm.data_type=(function(ve){var _e,Te=4093624447;for(_e=0;_e<=31;_e++,Te>>>=1)if(1&Te&&ve.dyn_ltree[2*_e]!==0)return 0;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return 1;for(_e=32;_e<x;_e++)if(ve.dyn_ltree[2*_e]!==0)return 1;return 0})(ne)),pe(ne,ne.l_desc),pe(ne,ne.d_desc),le=(function(ve){var _e;for(de(ve,ve.dyn_ltree,ve.l_desc.max_code),de(ve,ve.dyn_dtree,ve.d_desc.max_code),pe(ve,ve.bl_desc),_e=18;3<=_e&&ve.bl_tree[2*R[_e]+1]===0;_e--);return ve.opt_len+=3*(_e+1)+5+5+4,_e})(ne),ee=ne.opt_len+3+7>>>3,(se=ne.static_len+3+7>>>3)<=ee&&(ee=se)):ee=se=ce+5,ce+4<=ee&&he!==-1?oe(ne,he,ce,ie):ne.strategy===4||se===ee?(Q(ne,2+(ie?1:0),3),ae(ne,$,K)):(Q(ne,4+(ie?1:0),3),(function(ve,_e,Te,Fe){var Be;for(Q(ve,_e-257,5),Q(ve,Te-1,5),Q(ve,Fe-4,4),Be=0;Be<Fe;Be++)Q(ve,ve.bl_tree[2*R[Be]+1],3);ge(ve,ve.dyn_ltree,_e-1),ge(ve,ve.dyn_dtree,Te-1)})(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,le+1),ae(ne,ne.dyn_ltree,ne.dyn_dtree)),Z(ne),ie&&U(ne)},y._tr_tally=function(ne,he,ce){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=he>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&he,ne.pending_buf[ne.l_buf+ne.last_lit]=255&ce,ne.last_lit++,he===0?ne.dyn_ltree[2*ce]++:(ne.matches++,he--,ne.dyn_ltree[2*(M[ce]+x+1)]++,ne.dyn_dtree[2*L(he)]++),ne.last_lit===ne.lit_bufsize-1},y._tr_align=function(ne){Q(ne,2,3),Y(ne,256,$),(function(he){he.bi_valid===16?(V(he,he.bi_buf),he.bi_buf=0,he.bi_valid=0):8<=he.bi_valid&&(he.pending_buf[he.pending++]=255&he.bi_buf,he.bi_buf>>=8,he.bi_valid-=8)})(ne)}},{"../utils/common":41}],53:[function(h,g,y){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,g,y){(function(m){(function(v,x){if(!v.setImmediate){var j,T,E,B,W=1,I={},R=!1,$=v.document,K=Object.getPrototypeOf&&Object.getPrototypeOf(v);K=K&&K.setTimeout?K:v,j={}.toString.call(v.process)==="[object process]"?function(C){a.nextTick((function(){M(C)}))}:(function(){if(v.postMessage&&!v.importScripts){var C=!0,_=v.onmessage;return v.onmessage=function(){C=!1},v.postMessage("","*"),v.onmessage=_,C}})()?(B="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",F,!1):v.attachEvent("onmessage",F),function(C){v.postMessage(B+C,"*")}):v.MessageChannel?((E=new MessageChannel).port1.onmessage=function(C){M(C.data)},function(C){E.port2.postMessage(C)}):$&&"onreadystatechange"in $.createElement("script")?(T=$.documentElement,function(C){var _=$.createElement("script");_.onreadystatechange=function(){M(C),_.onreadystatechange=null,T.removeChild(_),_=null},T.appendChild(_)}):function(C){setTimeout(M,0,C)},K.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var _=new Array(arguments.length-1),S=0;S<_.length;S++)_[S]=arguments[S+1];var k={callback:C,args:_};return I[W]=k,j(W),W++},K.clearImmediate=H}function H(C){delete I[C]}function M(C){if(R)setTimeout(M,0,C);else{var _=I[C];if(_){R=!0;try{(function(S){var k=S.callback,N=S.args;switch(N.length){case 0:k();break;case 1:k(N[0]);break;case 2:k(N[0],N[1]);break;case 3:k(N[0],N[1],N[2]);break;default:k.apply(void 0,N)}})(_)}finally{H(C),R=!1}}}}function F(C){C.source===v&&typeof C.data=="string"&&C.data.indexOf(B)===0&&M(+C.data.slice(B.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,e("_process"),typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,s){(function(a){(function(){var i=/[\\^$.*+?()[\]{}|]/g,c=RegExp(i.source),u=typeof a=="object"&&a&&a.Object===Object&&a,o=typeof self=="object"&&self&&self.Object===Object&&self,d=u||o||Function("return this")(),p=Object.prototype.toString,f=d.Symbol,h=f?f.prototype:void 0,g=h?h.toString:void 0;function y(m){if(typeof m=="string")return m;if((function(x){return typeof x=="symbol"||(function(j){return!!j&&typeof j=="object"})(x)&&p.call(x)=="[object Symbol]"})(m))return g?g.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}n.exports=function(m){var v;return(m=(v=m)==null?"":y(v))&&c.test(m)?m.replace(i,"\\$&"):m}}).call(this)}).call(this,typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,s){(function(a){(function(){var i="[object Arguments]",c="[object Map]",u="[object Object]",o="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,f=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[i]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[c]=v["[object Number]"]=v[u]=v["[object RegExp]"]=v[o]=v["[object String]"]=v["[object WeakMap]"]=!1;var x=typeof a=="object"&&a&&a.Object===Object&&a,j=typeof self=="object"&&self&&self.Object===Object&&self,T=x||j||Function("return this")(),E=typeof s=="object"&&s&&!s.nodeType&&s,B=E&&typeof n=="object"&&n&&!n.nodeType&&n,W=B&&B.exports===E&&x.process,I=(function(){try{return W&&W.binding("util")}catch{}})(),R=I&&I.isTypedArray;function $(be,Ae,Xe,Ze){for(var Rt=-1,ot=be?be.length:0;++Rt<ot;){var ut=be[Rt];Ae(Ze,ut,Xe(ut),be)}return Ze}function K(be,Ae){for(var Xe=-1,Ze=be?be.length:0;++Xe<Ze;)if(Ae(be[Xe],Xe,be))return!0;return!1}function H(be){var Ae=!1;if(be!=null&&typeof be.toString!="function")try{Ae=!!(be+"")}catch{}return Ae}function M(be){var Ae=-1,Xe=Array(be.size);return be.forEach((function(Ze,Rt){Xe[++Ae]=[Rt,Ze]})),Xe}function F(be){var Ae=-1,Xe=Array(be.size);return be.forEach((function(Ze){Xe[++Ae]=Ze})),Xe}var C,_,S,k=Array.prototype,N=Function.prototype,D=Object.prototype,L=T["__core-js_shared__"],V=(C=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",Q=N.toString,Y=D.hasOwnProperty,re=D.toString,O=RegExp("^"+Q.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=T.Symbol,U=T.Uint8Array,z=D.propertyIsEnumerable,G=k.splice,ae=(_=Object.keys,S=Object,function(be){return _(S(be))}),pe=Vt(T,"DataView"),de=Vt(T,"Map"),ge=Vt(T,"Promise"),te=Vt(T,"Set"),oe=Vt(T,"WeakMap"),ne=Vt(Object,"create"),he=Re(pe),ce=Re(de),ie=Re(ge),ee=Re(te),se=Re(oe),le=Z?Z.prototype:void 0,ve=le?le.valueOf:void 0,_e=le?le.toString:void 0;function Te(be){var Ae=-1,Xe=be?be.length:0;for(this.clear();++Ae<Xe;){var Ze=be[Ae];this.set(Ze[0],Ze[1])}}function Fe(be){var Ae=-1,Xe=be?be.length:0;for(this.clear();++Ae<Xe;){var Ze=be[Ae];this.set(Ze[0],Ze[1])}}function Be(be){var Ae=-1,Xe=be?be.length:0;for(this.clear();++Ae<Xe;){var Ze=be[Ae];this.set(Ze[0],Ze[1])}}function ze(be){var Ae=-1,Xe=be?be.length:0;for(this.__data__=new Be;++Ae<Xe;)this.add(be[Ae])}function Je(be){this.__data__=new Fe(be)}function ft(be,Ae){var Xe=Wt(be)||Gt(be)?(function(ut,yr){for(var ar=-1,Yt=Array(ut);++ar<ut;)Yt[ar]=yr(ar);return Yt})(be.length,String):[],Ze=Xe.length,Rt=!!Ze;for(var ot in be)!Y.call(be,ot)||Rt&&(ot=="length"||Bt(ot,Ze))||Xe.push(ot);return Xe}function bt(be,Ae){for(var Xe=be.length;Xe--;)if(dt(be[Xe][0],Ae))return Xe;return-1}function rt(be,Ae,Xe,Ze){return me(be,(function(Rt,ot,ut){Ae(Ze,Rt,Xe(Rt),ut)})),Ze}Te.prototype.clear=function(){this.__data__=ne?ne(null):{}},Te.prototype.delete=function(be){return this.has(be)&&delete this.__data__[be]},Te.prototype.get=function(be){var Ae=this.__data__;if(ne){var Xe=Ae[be];return Xe==="__lodash_hash_undefined__"?void 0:Xe}return Y.call(Ae,be)?Ae[be]:void 0},Te.prototype.has=function(be){var Ae=this.__data__;return ne?Ae[be]!==void 0:Y.call(Ae,be)},Te.prototype.set=function(be,Ae){return this.__data__[be]=ne&&Ae===void 0?"__lodash_hash_undefined__":Ae,this},Fe.prototype.clear=function(){this.__data__=[]},Fe.prototype.delete=function(be){var Ae=this.__data__,Xe=bt(Ae,be);return!(Xe<0)&&(Xe==Ae.length-1?Ae.pop():G.call(Ae,Xe,1),!0)},Fe.prototype.get=function(be){var Ae=this.__data__,Xe=bt(Ae,be);return Xe<0?void 0:Ae[Xe][1]},Fe.prototype.has=function(be){return bt(this.__data__,be)>-1},Fe.prototype.set=function(be,Ae){var Xe=this.__data__,Ze=bt(Xe,be);return Ze<0?Xe.push([be,Ae]):Xe[Ze][1]=Ae,this},Be.prototype.clear=function(){this.__data__={hash:new Te,map:new(de||Fe),string:new Te}},Be.prototype.delete=function(be){return _r(this,be).delete(be)},Be.prototype.get=function(be){return _r(this,be).get(be)},Be.prototype.has=function(be){return _r(this,be).has(be)},Be.prototype.set=function(be,Ae){return _r(this,be).set(be,Ae),this},ze.prototype.add=ze.prototype.push=function(be){return this.__data__.set(be,"__lodash_hash_undefined__"),this},ze.prototype.has=function(be){return this.__data__.has(be)},Je.prototype.clear=function(){this.__data__=new Fe},Je.prototype.delete=function(be){return this.__data__.delete(be)},Je.prototype.get=function(be){return this.__data__.get(be)},Je.prototype.has=function(be){return this.__data__.has(be)},Je.prototype.set=function(be,Ae){var Xe=this.__data__;if(Xe instanceof Fe){var Ze=Xe.__data__;if(!de||Ze.length<199)return Ze.push([be,Ae]),this;Xe=this.__data__=new Be(Ze)}return Xe.set(be,Ae),this};var we,me=(we=function(be,Ae){return be&&Ke(be,Ae,yn)},function(be,Ae){if(be==null)return be;if(!xe(be))return we(be,Ae);for(var Xe=be.length,Ze=-1,Rt=Object(be);++Ze<Xe&&Ae(Rt[Ze],Ze,Rt)!==!1;);return be}),Ke=(function(be){return function(Ae,Xe,Ze){for(var Rt=-1,ot=Object(Ae),ut=Ze(Ae),yr=ut.length;yr--;){var ar=ut[++Rt];if(Xe(ot[ar],ar,ot)===!1)break}return Ae}})();function He(be,Ae){for(var Xe=0,Ze=(Ae=er(Ae,be)?[Ae]:Mt(Ae)).length;be!=null&&Xe<Ze;)be=be[Se(Ae[Xe++])];return Xe&&Xe==Ze?be:void 0}function It(be,Ae){return be!=null&&Ae in Object(be)}function Zt(be,Ae,Xe,Ze,Rt){return be===Ae||(be==null||Ae==null||!mt(be)&&!qt(Ae)?be!=be&&Ae!=Ae:(function(ot,ut,yr,ar,Yt,Ot){var ur=Wt(ot),Fr=Wt(ut),Rr="[object Array]",Gr="[object Array]";ur||(Rr=(Rr=kr(ot))==i?u:Rr),Fr||(Gr=(Gr=kr(ut))==i?u:Gr);var sn=Rr==u&&!H(ot),dn=Gr==u&&!H(ut),Bn=Rr==Gr;if(Bn&&!sn)return Ot||(Ot=new Je),ur||vt(ot)?Ft(ot,ut,yr,ar,Yt,Ot):(function(Hr,Tr,_s,Zs,bi,br,Js){switch(_s){case"[object DataView]":if(Hr.byteLength!=Tr.byteLength||Hr.byteOffset!=Tr.byteOffset)return!1;Hr=Hr.buffer,Tr=Tr.buffer;case"[object ArrayBuffer]":return!(Hr.byteLength!=Tr.byteLength||!Zs(new U(Hr),new U(Tr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return dt(+Hr,+Tr);case"[object Error]":return Hr.name==Tr.name&&Hr.message==Tr.message;case"[object RegExp]":case"[object String]":return Hr==Tr+"";case c:var xa=M;case o:var ei=2&br;if(xa||(xa=F),Hr.size!=Tr.size&&!ei)return!1;var qi=Js.get(Hr);if(qi)return qi==Tr;br|=1,Js.set(Hr,Tr);var vi=Ft(xa(Hr),xa(Tr),Zs,bi,br,Js);return Js.delete(Hr),vi;case"[object Symbol]":if(ve)return ve.call(Hr)==ve.call(Tr)}return!1})(ot,ut,Rr,yr,ar,Yt,Ot);if(!(2&Yt)){var Kn=sn&&Y.call(ot,"__wrapped__"),gi=dn&&Y.call(ut,"__wrapped__");if(Kn||gi){var yi=Kn?ot.value():ot,La=gi?ut.value():ut;return Ot||(Ot=new Je),yr(yi,La,ar,Yt,Ot)}}return Bn?(Ot||(Ot=new Je),(function(Hr,Tr,_s,Zs,bi,br){var Js=2&bi,xa=yn(Hr),ei=xa.length,qi=yn(Tr).length;if(ei!=qi&&!Js)return!1;for(var vi=ei;vi--;){var xi=xa[vi];if(!(Js?xi in Tr:Y.call(Tr,xi)))return!1}var su=br.get(Hr);if(su&&br.get(Tr))return su==Tr;var Hi=!0;br.set(Hr,Tr),br.set(Tr,Hr);for(var ea=Js;++vi<ei;){xi=xa[vi];var ta=Hr[xi],Is=Tr[xi];if(Zs)var Ki=Js?Zs(Is,ta,xi,Tr,Hr,br):Zs(ta,Is,xi,Hr,Tr,br);if(!(Ki===void 0?ta===Is||_s(ta,Is,Zs,bi,br):Ki)){Hi=!1;break}ea||(ea=xi=="constructor")}if(Hi&&!ea){var wi=Hr.constructor,wa=Tr.constructor;wi==wa||!("constructor"in Hr)||!("constructor"in Tr)||typeof wi=="function"&&wi instanceof wi&&typeof wa=="function"&&wa instanceof wa||(Hi=!1)}return br.delete(Hr),br.delete(Tr),Hi})(ot,ut,yr,ar,Yt,Ot)):!1})(be,Ae,Zt,Xe,Ze,Rt))}function kt(be){return!(!mt(be)||(function(Ae){return!!V&&V in Ae})(be))&&(Ue(be)||H(be)?O:y).test(Re(be))}function Jt(be){return typeof be=="function"?be:be==null?Nn:typeof be=="object"?Wt(be)?(function(Ze,Rt){return er(Ze)&&xr(Rt)?nr(Se(Ze),Rt):function(ot){var ut=(function(yr,ar,Yt){var Ot=yr==null?void 0:He(yr,ar);return Ot===void 0?Yt:Ot})(ot,Ze);return ut===void 0&&ut===Rt?(function(yr,ar){return yr!=null&&(function(Yt,Ot,ur){Ot=er(Ot,Yt)?[Ot]:Mt(Ot);for(var Fr,Rr=-1,Gr=Ot.length;++Rr<Gr;){var sn=Se(Ot[Rr]);if(!(Fr=Yt!=null&&ur(Yt,sn)))break;Yt=Yt[sn]}return Fr||!!(Gr=Yt?Yt.length:0)&&at(Gr)&&Bt(sn,Gr)&&(Wt(Yt)||Gt(Yt))})(yr,ar,It)})(ot,Ze):Zt(Rt,ut,void 0,3)}})(be[0],be[1]):(function(Ze){var Rt=(function(ot){for(var ut=yn(ot),yr=ut.length;yr--;){var ar=ut[yr],Yt=ot[ar];ut[yr]=[ar,Yt,xr(Yt)]}return ut})(Ze);return Rt.length==1&&Rt[0][2]?nr(Rt[0][0],Rt[0][1]):function(ot){return ot===Ze||(function(ut,yr,ar,Yt){var Ot=ar.length,ur=Ot;if(ut==null)return!ur;for(ut=Object(ut);Ot--;){var Fr=ar[Ot];if(Fr[2]?Fr[1]!==ut[Fr[0]]:!(Fr[0]in ut))return!1}for(;++Ot<ur;){var Rr=(Fr=ar[Ot])[0],Gr=ut[Rr],sn=Fr[1];if(Fr[2]){if(Gr===void 0&&!(Rr in ut))return!1}else{var dn=new Je,Bn;if(!(Bn===void 0?Zt(sn,Gr,Yt,3,dn):Bn))return!1}}return!0})(ot,Ze,Rt)}})(be):er(Ae=be)?(Xe=Se(Ae),function(Ze){return Ze?.[Xe]}):(function(Ze){return function(Rt){return He(Rt,Ze)}})(Ae);var Ae,Xe}function rr(be){if(Xe=(Ae=be)&&Ae.constructor,Ze=typeof Xe=="function"&&Xe.prototype||D,Ae!==Ze)return ae(be);var Ae,Xe,Ze,Rt=[];for(var ot in Object(be))Y.call(be,ot)&&ot!="constructor"&&Rt.push(ot);return Rt}function Mt(be){return Wt(be)?be:Kt(be)}function Ft(be,Ae,Xe,Ze,Rt,ot){var ut=2&Rt,yr=be.length,ar=Ae.length;if(yr!=ar&&!(ut&&ar>yr))return!1;var Yt=ot.get(be);if(Yt&&ot.get(Ae))return Yt==Ae;var Ot=-1,ur=!0,Fr=1&Rt?new ze:void 0;for(ot.set(be,Ae),ot.set(Ae,be);++Ot<yr;){var Rr=be[Ot],Gr=Ae[Ot];if(Ze)var sn=ut?Ze(Gr,Rr,Ot,Ae,be,ot):Ze(Rr,Gr,Ot,be,Ae,ot);if(sn!==void 0){if(sn)continue;ur=!1;break}if(Fr){if(!K(Ae,(function(dn,Bn){if(!Fr.has(Bn)&&(Rr===dn||Xe(Rr,dn,Ze,Rt,ot)))return Fr.add(Bn)}))){ur=!1;break}}else if(Rr!==Gr&&!Xe(Rr,Gr,Ze,Rt,ot)){ur=!1;break}}return ot.delete(be),ot.delete(Ae),ur}function _r(be,Ae){var Xe,Ze,Rt=be.__data__;return((Ze=typeof(Xe=Ae))=="string"||Ze=="number"||Ze=="symbol"||Ze=="boolean"?Xe!=="__proto__":Xe===null)?Rt[typeof Ae=="string"?"string":"hash"]:Rt.map}function Vt(be,Ae){var Xe=(function(Ze,Rt){return Ze?.[Rt]})(be,Ae);return kt(Xe)?Xe:void 0}var kr=function(be){return re.call(be)};function Bt(be,Ae){return!!(Ae=Ae??9007199254740991)&&(typeof be=="number"||m.test(be))&&be>-1&&be%1==0&&be<Ae}function er(be,Ae){if(Wt(be))return!1;var Xe=typeof be;return!(Xe!="number"&&Xe!="symbol"&&Xe!="boolean"&&be!=null&&!Wr(be))||p.test(be)||!d.test(be)||Ae!=null&&be in Object(Ae)}function xr(be){return be==be&&!mt(be)}function nr(be,Ae){return function(Xe){return Xe!=null&&Xe[be]===Ae&&(Ae!==void 0||be in Object(Xe))}}(pe&&kr(new pe(new ArrayBuffer(1)))!="[object DataView]"||de&&kr(new de)!=c||ge&&kr(ge.resolve())!="[object Promise]"||te&&kr(new te)!=o||oe&&kr(new oe)!="[object WeakMap]")&&(kr=function(be){var Ae=re.call(be),Xe=Ae==u?be.constructor:void 0,Ze=Xe?Re(Xe):void 0;if(Ze)switch(Ze){case he:return"[object DataView]";case ce:return c;case ie:return"[object Promise]";case ee:return o;case se:return"[object WeakMap]"}return Ae});var Kt=Ut((function(be){var Ae;be=(Ae=be)==null?"":(function(Ze){if(typeof Ze=="string")return Ze;if(Wr(Ze))return _e?_e.call(Ze):"";var Rt=Ze+"";return Rt=="0"&&1/Ze==-1/0?"-0":Rt})(Ae);var Xe=[];return f.test(be)&&Xe.push(""),be.replace(h,(function(Ze,Rt,ot,ut){Xe.push(ot?ut.replace(g,"$1"):Rt||Ze)})),Xe}));function Se(be){if(typeof be=="string"||Wr(be))return be;var Ae=be+"";return Ae=="0"&&1/be==-1/0?"-0":Ae}function Re(be){if(be!=null){try{return Q.call(be)}catch{}try{return be+""}catch{}}return""}var We,ct=(We=function(be,Ae,Xe){Y.call(be,Xe)?be[Xe].push(Ae):be[Xe]=[Ae]},function(be,Ae){var Xe=Wt(be)?$:rt,Ze={};return Xe(be,We,Jt(Ae),Ze)});function Ut(be,Ae){if(typeof be!="function"||Ae&&typeof Ae!="function")throw new TypeError("Expected a function");var Xe=function(){var Ze=arguments,Rt=Ae?Ae.apply(this,Ze):Ze[0],ot=Xe.cache;if(ot.has(Rt))return ot.get(Rt);var ut=be.apply(this,Ze);return Xe.cache=ot.set(Rt,ut),ut};return Xe.cache=new(Ut.Cache||Be),Xe}function dt(be,Ae){return be===Ae||be!=be&&Ae!=Ae}function Gt(be){return(function(Ae){return qt(Ae)&&xe(Ae)})(be)&&Y.call(be,"callee")&&(!z.call(be,"callee")||re.call(be)==i)}Ut.Cache=Be;var Wt=Array.isArray;function xe(be){return be!=null&&at(be.length)&&!Ue(be)}function Ue(be){var Ae=mt(be)?re.call(be):"";return Ae=="[object Function]"||Ae=="[object GeneratorFunction]"}function at(be){return typeof be=="number"&&be>-1&&be%1==0&&be<=9007199254740991}function mt(be){var Ae=typeof be;return!!be&&(Ae=="object"||Ae=="function")}function qt(be){return!!be&&typeof be=="object"}function Wr(be){return typeof be=="symbol"||qt(be)&&re.call(be)=="[object Symbol]"}var vt=R?(function(be){return function(Ae){return be(Ae)}})(R):function(be){return qt(be)&&at(be.length)&&!!v[re.call(be)]};function yn(be){return xe(be)?ft(be):rr(be)}function Nn(be){return be}n.exports=ct}).call(this)}).call(this,typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,s){var a=Object.prototype.toString;n.exports=function(i){return i===!0||i===!1||(function(c){return!!c&&typeof c=="object"})(i)&&a.call(i)=="[object Boolean]"}},{}],445:[function(e,n,s){(function(a){(function(){var i="[object Arguments]",c="[object Map]",u="[object Object]",o="[object Set]",d=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[i]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[c]=f["[object Number]"]=f[u]=f["[object RegExp]"]=f[o]=f["[object String]"]=f["[object WeakMap]"]=!1;var h=typeof a=="object"&&a&&a.Object===Object&&a,g=typeof self=="object"&&self&&self.Object===Object&&self,y=h||g||Function("return this")(),m=typeof s=="object"&&s&&!s.nodeType&&s,v=m&&typeof n=="object"&&n&&!n.nodeType&&n,x=v&&v.exports===m,j=x&&h.process,T=(function(){try{return j&&j.binding&&j.binding("util")}catch{}})(),E=T&&T.isTypedArray;function B(Se,Re){for(var We=-1,ct=Se==null?0:Se.length;++We<ct;)if(Re(Se[We],We,Se))return!0;return!1}function W(Se){var Re=-1,We=Array(Se.size);return Se.forEach((function(ct,Ut){We[++Re]=[Ut,ct]})),We}function I(Se){var Re=-1,We=Array(Se.size);return Se.forEach((function(ct){We[++Re]=ct})),We}var R,$,K,H=Array.prototype,M=Function.prototype,F=Object.prototype,C=y["__core-js_shared__"],_=M.toString,S=F.hasOwnProperty,k=(R=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",N=F.toString,D=RegExp("^"+_.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=x?y.Buffer:void 0,V=y.Symbol,Q=y.Uint8Array,Y=F.propertyIsEnumerable,re=H.splice,O=V?V.toStringTag:void 0,Z=Object.getOwnPropertySymbols,U=L?L.isBuffer:void 0,z=($=Object.keys,K=Object,function(Se){return $(K(Se))}),G=It(y,"DataView"),ae=It(y,"Map"),pe=It(y,"Promise"),de=It(y,"Set"),ge=It(y,"WeakMap"),te=It(Object,"create"),oe=rr(G),ne=rr(ae),he=rr(pe),ce=rr(de),ie=rr(ge),ee=V?V.prototype:void 0,se=ee?ee.valueOf:void 0;function le(Se){var Re=-1,We=Se==null?0:Se.length;for(this.clear();++Re<We;){var ct=Se[Re];this.set(ct[0],ct[1])}}function ve(Se){var Re=-1,We=Se==null?0:Se.length;for(this.clear();++Re<We;){var ct=Se[Re];this.set(ct[0],ct[1])}}function _e(Se){var Re=-1,We=Se==null?0:Se.length;for(this.clear();++Re<We;){var ct=Se[Re];this.set(ct[0],ct[1])}}function Te(Se){var Re=-1,We=Se==null?0:Se.length;for(this.__data__=new _e;++Re<We;)this.add(Se[Re])}function Fe(Se){var Re=this.__data__=new ve(Se);this.size=Re.size}function Be(Se,Re){var We=_r(Se),ct=!We&&Ft(Se),Ut=!We&&!ct&&Vt(Se),dt=!We&&!ct&&!Ut&&nr(Se),Gt=We||ct||Ut||dt,Wt=Gt?(function(at,mt){for(var qt=-1,Wr=Array(at);++qt<at;)Wr[qt]=mt(qt);return Wr})(Se.length,String):[],xe=Wt.length;for(var Ue in Se)!S.call(Se,Ue)||Gt&&(Ue=="length"||Ut&&(Ue=="offset"||Ue=="parent")||dt&&(Ue=="buffer"||Ue=="byteLength"||Ue=="byteOffset")||Jt(Ue,xe))||Wt.push(Ue);return Wt}function ze(Se,Re){for(var We=Se.length;We--;)if(Mt(Se[We][0],Re))return We;return-1}function Je(Se){return Se==null?Se===void 0?"[object Undefined]":"[object Null]":O&&O in Object(Se)?(function(Re){var We=S.call(Re,O),ct=Re[O];try{Re[O]=void 0;var Ut=!0}catch{}var dt=N.call(Re);return Ut&&(We?Re[O]=ct:delete Re[O]),dt})(Se):(function(Re){return N.call(Re)})(Se)}function ft(Se){return xr(Se)&&Je(Se)==i}function bt(Se,Re,We,ct,Ut){return Se===Re||(Se==null||Re==null||!xr(Se)&&!xr(Re)?Se!=Se&&Re!=Re:(function(dt,Gt,Wt,xe,Ue,at){var mt=_r(dt),qt=_r(Gt),Wr=mt?"[object Array]":kt(dt),vt=qt?"[object Array]":kt(Gt),yn=(Wr=Wr==i?u:Wr)==u,Nn=(vt=vt==i?u:vt)==u,be=Wr==vt;if(be&&Vt(dt)){if(!Vt(Gt))return!1;mt=!0,yn=!1}if(be&&!yn)return at||(at=new Fe),mt||nr(dt)?me(dt,Gt,Wt,xe,Ue,at):(function(ot,ut,yr,ar,Yt,Ot,ur){switch(yr){case"[object DataView]":if(ot.byteLength!=ut.byteLength||ot.byteOffset!=ut.byteOffset)return!1;ot=ot.buffer,ut=ut.buffer;case"[object ArrayBuffer]":return!(ot.byteLength!=ut.byteLength||!Ot(new Q(ot),new Q(ut)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Mt(+ot,+ut);case"[object Error]":return ot.name==ut.name&&ot.message==ut.message;case"[object RegExp]":case"[object String]":return ot==ut+"";case c:var Fr=W;case o:var Rr=1&ar;if(Fr||(Fr=I),ot.size!=ut.size&&!Rr)return!1;var Gr=ur.get(ot);if(Gr)return Gr==ut;ar|=2,ur.set(ot,ut);var sn=me(Fr(ot),Fr(ut),ar,Yt,Ot,ur);return ur.delete(ot),sn;case"[object Symbol]":if(se)return se.call(ot)==se.call(ut)}return!1})(dt,Gt,Wr,Wt,xe,Ue,at);if(!(1&Wt)){var Ae=yn&&S.call(dt,"__wrapped__"),Xe=Nn&&S.call(Gt,"__wrapped__");if(Ae||Xe){var Ze=Ae?dt.value():dt,Rt=Xe?Gt.value():Gt;return at||(at=new Fe),Ue(Ze,Rt,Wt,xe,at)}}return be?(at||(at=new Fe),(function(ot,ut,yr,ar,Yt,Ot){var ur=1&yr,Fr=Ke(ot),Rr=Fr.length,Gr=Ke(ut).length;if(Rr!=Gr&&!ur)return!1;for(var sn=Rr;sn--;){var dn=Fr[sn];if(!(ur?dn in ut:S.call(ut,dn)))return!1}var Bn=Ot.get(ot);if(Bn&&Ot.get(ut))return Bn==ut;var Kn=!0;Ot.set(ot,ut),Ot.set(ut,ot);for(var gi=ur;++sn<Rr;){dn=Fr[sn];var yi=ot[dn],La=ut[dn];if(ar)var Hr=ur?ar(La,yi,dn,ut,ot,Ot):ar(yi,La,dn,ot,ut,Ot);if(!(Hr===void 0?yi===La||Yt(yi,La,yr,ar,Ot):Hr)){Kn=!1;break}gi||(gi=dn=="constructor")}if(Kn&&!gi){var Tr=ot.constructor,_s=ut.constructor;Tr==_s||!("constructor"in ot)||!("constructor"in ut)||typeof Tr=="function"&&Tr instanceof Tr&&typeof _s=="function"&&_s instanceof _s||(Kn=!1)}return Ot.delete(ot),Ot.delete(ut),Kn})(dt,Gt,Wt,xe,Ue,at)):!1})(Se,Re,We,ct,bt,Ut))}function rt(Se){return!(!er(Se)||(function(Re){return!!k&&k in Re})(Se))&&(kr(Se)?D:d).test(rr(Se))}function we(Se){if(We=(Re=Se)&&Re.constructor,ct=typeof We=="function"&&We.prototype||F,Re!==ct)return z(Se);var Re,We,ct,Ut=[];for(var dt in Object(Se))S.call(Se,dt)&&dt!="constructor"&&Ut.push(dt);return Ut}function me(Se,Re,We,ct,Ut,dt){var Gt=1&We,Wt=Se.length,xe=Re.length;if(Wt!=xe&&!(Gt&&xe>Wt))return!1;var Ue=dt.get(Se);if(Ue&&dt.get(Re))return Ue==Re;var at=-1,mt=!0,qt=2&We?new Te:void 0;for(dt.set(Se,Re),dt.set(Re,Se);++at<Wt;){var Wr=Se[at],vt=Re[at];if(ct)var yn=Gt?ct(vt,Wr,at,Re,Se,dt):ct(Wr,vt,at,Se,Re,dt);if(yn!==void 0){if(yn)continue;mt=!1;break}if(qt){if(!B(Re,(function(Nn,be){if(Ae=be,!qt.has(Ae)&&(Wr===Nn||Ut(Wr,Nn,We,ct,dt)))return qt.push(be);var Ae}))){mt=!1;break}}else if(Wr!==vt&&!Ut(Wr,vt,We,ct,dt)){mt=!1;break}}return dt.delete(Se),dt.delete(Re),mt}function Ke(Se){return(function(Re,We,ct){var Ut=We(Re);return _r(Re)?Ut:(function(dt,Gt){for(var Wt=-1,xe=Gt.length,Ue=dt.length;++Wt<xe;)dt[Ue+Wt]=Gt[Wt];return dt})(Ut,ct(Re))})(Se,Kt,Zt)}function He(Se,Re){var We,ct,Ut=Se.__data__;return((ct=typeof(We=Re))=="string"||ct=="number"||ct=="symbol"||ct=="boolean"?We!=="__proto__":We===null)?Ut[typeof Re=="string"?"string":"hash"]:Ut.map}function It(Se,Re){var We=(function(ct,Ut){return ct?.[Ut]})(Se,Re);return rt(We)?We:void 0}le.prototype.clear=function(){this.__data__=te?te(null):{},this.size=0},le.prototype.delete=function(Se){var Re=this.has(Se)&&delete this.__data__[Se];return this.size-=Re?1:0,Re},le.prototype.get=function(Se){var Re=this.__data__;if(te){var We=Re[Se];return We==="__lodash_hash_undefined__"?void 0:We}return S.call(Re,Se)?Re[Se]:void 0},le.prototype.has=function(Se){var Re=this.__data__;return te?Re[Se]!==void 0:S.call(Re,Se)},le.prototype.set=function(Se,Re){var We=this.__data__;return this.size+=this.has(Se)?0:1,We[Se]=te&&Re===void 0?"__lodash_hash_undefined__":Re,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(Se){var Re=this.__data__,We=ze(Re,Se);return!(We<0)&&(We==Re.length-1?Re.pop():re.call(Re,We,1),--this.size,!0)},ve.prototype.get=function(Se){var Re=this.__data__,We=ze(Re,Se);return We<0?void 0:Re[We][1]},ve.prototype.has=function(Se){return ze(this.__data__,Se)>-1},ve.prototype.set=function(Se,Re){var We=this.__data__,ct=ze(We,Se);return ct<0?(++this.size,We.push([Se,Re])):We[ct][1]=Re,this},_e.prototype.clear=function(){this.size=0,this.__data__={hash:new le,map:new(ae||ve),string:new le}},_e.prototype.delete=function(Se){var Re=He(this,Se).delete(Se);return this.size-=Re?1:0,Re},_e.prototype.get=function(Se){return He(this,Se).get(Se)},_e.prototype.has=function(Se){return He(this,Se).has(Se)},_e.prototype.set=function(Se,Re){var We=He(this,Se),ct=We.size;return We.set(Se,Re),this.size+=We.size==ct?0:1,this},Te.prototype.add=Te.prototype.push=function(Se){return this.__data__.set(Se,"__lodash_hash_undefined__"),this},Te.prototype.has=function(Se){return this.__data__.has(Se)},Fe.prototype.clear=function(){this.__data__=new ve,this.size=0},Fe.prototype.delete=function(Se){var Re=this.__data__,We=Re.delete(Se);return this.size=Re.size,We},Fe.prototype.get=function(Se){return this.__data__.get(Se)},Fe.prototype.has=function(Se){return this.__data__.has(Se)},Fe.prototype.set=function(Se,Re){var We=this.__data__;if(We instanceof ve){var ct=We.__data__;if(!ae||ct.length<199)return ct.push([Se,Re]),this.size=++We.size,this;We=this.__data__=new _e(ct)}return We.set(Se,Re),this.size=We.size,this};var Zt=Z?function(Se){return Se==null?[]:(Se=Object(Se),(function(Re,We){for(var ct=-1,Ut=Re==null?0:Re.length,dt=0,Gt=[];++ct<Ut;){var Wt=Re[ct];We(Wt,ct,Re)&&(Gt[dt++]=Wt)}return Gt})(Z(Se),(function(Re){return Y.call(Se,Re)})))}:function(){return[]},kt=Je;function Jt(Se,Re){return!!(Re=Re??9007199254740991)&&(typeof Se=="number"||p.test(Se))&&Se>-1&&Se%1==0&&Se<Re}function rr(Se){if(Se!=null){try{return _.call(Se)}catch{}try{return Se+""}catch{}}return""}function Mt(Se,Re){return Se===Re||Se!=Se&&Re!=Re}(G&&kt(new G(new ArrayBuffer(1)))!="[object DataView]"||ae&&kt(new ae)!=c||pe&&kt(pe.resolve())!="[object Promise]"||de&&kt(new de)!=o||ge&&kt(new ge)!="[object WeakMap]")&&(kt=function(Se){var Re=Je(Se),We=Re==u?Se.constructor:void 0,ct=We?rr(We):"";if(ct)switch(ct){case oe:return"[object DataView]";case ne:return c;case he:return"[object Promise]";case ce:return o;case ie:return"[object WeakMap]"}return Re});var Ft=ft((function(){return arguments})())?ft:function(Se){return xr(Se)&&S.call(Se,"callee")&&!Y.call(Se,"callee")},_r=Array.isArray,Vt=U||function(){return!1};function kr(Se){if(!er(Se))return!1;var Re=Je(Se);return Re=="[object Function]"||Re=="[object GeneratorFunction]"||Re=="[object AsyncFunction]"||Re=="[object Proxy]"}function Bt(Se){return typeof Se=="number"&&Se>-1&&Se%1==0&&Se<=9007199254740991}function er(Se){var Re=typeof Se;return Se!=null&&(Re=="object"||Re=="function")}function xr(Se){return Se!=null&&typeof Se=="object"}var nr=E?(function(Se){return function(Re){return Se(Re)}})(E):function(Se){return xr(Se)&&Bt(Se.length)&&!!f[Je(Se)]};function Kt(Se){return(Re=Se)!=null&&Bt(Re.length)&&!kr(Re)?Be(Se):we(Se);var Re}n.exports=function(Se,Re){return bt(Se,Re)}}).call(this)}).call(this,typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,s){(function(a){(function(){var i=typeof a=="object"&&a&&a.Object===Object&&a,c=typeof self=="object"&&self&&self.Object===Object&&self,u=i||c||Function("return this")(),o=Object.prototype,d=o.hasOwnProperty,p=o.toString,f=u.Symbol,h=f?f.toStringTag:void 0;function g(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":h&&h in Object(y)?(function(m){var v=d.call(m,h),x=m[h];try{m[h]=void 0;var j=!0}catch{}var T=p.call(m);return j&&(v?m[h]=x:delete m[h]),T})(y):(function(m){return p.call(m)})(y)}n.exports=function(y){if(!(function(v){var x=typeof v;return v!=null&&(x=="object"||x=="function")})(y))return!1;var m=g(y);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,s){n.exports=function(a){return a==null}},{}],448:[function(e,n,s){n.exports=function(a){return a===void 0}},{}],449:[function(e,n,s){(function(a){(function(){var i=/^\[object .+?Constructor\]$/,c=typeof a=="object"&&a&&a.Object===Object&&a,u=typeof self=="object"&&self&&self.Object===Object&&self,o=c||u||Function("return this")();function d(V,Q){return!!(V&&V.length)&&(function(Y,re,O){if(re!=re)return(function(z,G,ae,pe){for(var de=z.length,ge=ae+-1;++ge<de;)if(G(z[ge],ge,z))return ge;return-1})(Y,p,O);for(var Z=O-1,U=Y.length;++Z<U;)if(Y[Z]===re)return Z;return-1})(V,Q,0)>-1}function p(V){return V!=V}function f(V,Q){return V.has(Q)}function h(V){var Q=-1,Y=Array(V.size);return V.forEach((function(re){Y[++Q]=re})),Y}var g,y=Array.prototype,m=Function.prototype,v=Object.prototype,x=o["__core-js_shared__"],j=(g=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",T=m.toString,E=v.hasOwnProperty,B=v.toString,W=RegExp("^"+T.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=y.splice,R=D(o,"Map"),$=D(o,"Set"),K=D(Object,"create");function H(V){var Q=-1,Y=V?V.length:0;for(this.clear();++Q<Y;){var re=V[Q];this.set(re[0],re[1])}}function M(V){var Q=-1,Y=V?V.length:0;for(this.clear();++Q<Y;){var re=V[Q];this.set(re[0],re[1])}}function F(V){var Q=-1,Y=V?V.length:0;for(this.clear();++Q<Y;){var re=V[Q];this.set(re[0],re[1])}}function C(V){var Q=-1,Y=V?V.length:0;for(this.__data__=new F;++Q<Y;)this.add(V[Q])}function _(V,Q){for(var Y,re,O=V.length;O--;)if((Y=V[O][0])===(re=Q)||Y!=Y&&re!=re)return O;return-1}function S(V){return!(!L(V)||(Q=V,j&&j in Q))&&((function(Y){var re=L(Y)?B.call(Y):"";return re=="[object Function]"||re=="[object GeneratorFunction]"})(V)||(function(Y){var re=!1;if(Y!=null&&typeof Y.toString!="function")try{re=!!(Y+"")}catch{}return re})(V)?W:i).test((function(Y){if(Y!=null){try{return T.call(Y)}catch{}try{return Y+""}catch{}}return""})(V));var Q}H.prototype.clear=function(){this.__data__=K?K(null):{}},H.prototype.delete=function(V){return this.has(V)&&delete this.__data__[V]},H.prototype.get=function(V){var Q=this.__data__;if(K){var Y=Q[V];return Y==="__lodash_hash_undefined__"?void 0:Y}return E.call(Q,V)?Q[V]:void 0},H.prototype.has=function(V){var Q=this.__data__;return K?Q[V]!==void 0:E.call(Q,V)},H.prototype.set=function(V,Q){return this.__data__[V]=K&&Q===void 0?"__lodash_hash_undefined__":Q,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(V){var Q=this.__data__,Y=_(Q,V);return!(Y<0)&&(Y==Q.length-1?Q.pop():I.call(Q,Y,1),!0)},M.prototype.get=function(V){var Q=this.__data__,Y=_(Q,V);return Y<0?void 0:Q[Y][1]},M.prototype.has=function(V){return _(this.__data__,V)>-1},M.prototype.set=function(V,Q){var Y=this.__data__,re=_(Y,V);return re<0?Y.push([V,Q]):Y[re][1]=Q,this},F.prototype.clear=function(){this.__data__={hash:new H,map:new(R||M),string:new H}},F.prototype.delete=function(V){return N(this,V).delete(V)},F.prototype.get=function(V){return N(this,V).get(V)},F.prototype.has=function(V){return N(this,V).has(V)},F.prototype.set=function(V,Q){return N(this,V).set(V,Q),this},C.prototype.add=C.prototype.push=function(V){return this.__data__.set(V,"__lodash_hash_undefined__"),this},C.prototype.has=function(V){return this.__data__.has(V)};var k=$&&1/h(new $([,-0]))[1]==1/0?function(V){return new $(V)}:function(){};function N(V,Q){var Y,re,O=V.__data__;return((re=typeof(Y=Q))=="string"||re=="number"||re=="symbol"||re=="boolean"?Y!=="__proto__":Y===null)?O[typeof Q=="string"?"string":"hash"]:O.map}function D(V,Q){var Y=(function(re,O){return re?.[O]})(V,Q);return S(Y)?Y:void 0}function L(V){var Q=typeof V;return!!V&&(Q=="object"||Q=="function")}n.exports=function(V){return V&&V.length?(function(Q,Y,re){var O=-1,Z=d,U=Q.length,z=!0,G=[],ae=G;if(U>=200){var pe=k(Q);if(pe)return h(pe);z=!1,Z=f,ae=new C}else ae=G;e:for(;++O<U;){var de=Q[O],ge=de;if(de=de!==0?de:0,z&&ge==ge){for(var te=ae.length;te--;)if(ae[te]===ge)continue e;G.push(de)}else Z(ae,ge,re)||(ae!==G&&ae.push(ge),G.push(de))}return G})(V):[]}}).call(this)}).call(this,typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,s){var a=e("inherits"),i=e("hash-base"),c=e("safe-buffer").Buffer,u=new Array(16);function o(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function d(y,m){return y<<m|y>>>32-m}function p(y,m,v,x,j,T,E){return d(y+(m&v|~m&x)+j+T|0,E)+m|0}function f(y,m,v,x,j,T,E){return d(y+(m&x|v&~x)+j+T|0,E)+m|0}function h(y,m,v,x,j,T,E){return d(y+(m^v^x)+j+T|0,E)+m|0}function g(y,m,v,x,j,T,E){return d(y+(v^(m|~x))+j+T|0,E)+m|0}a(o,i),o.prototype._update=function(){for(var y=u,m=0;m<16;++m)y[m]=this._block.readInt32LE(4*m);var v=this._a,x=this._b,j=this._c,T=this._d;v=p(v,x,j,T,y[0],3614090360,7),T=p(T,v,x,j,y[1],3905402710,12),j=p(j,T,v,x,y[2],606105819,17),x=p(x,j,T,v,y[3],3250441966,22),v=p(v,x,j,T,y[4],4118548399,7),T=p(T,v,x,j,y[5],1200080426,12),j=p(j,T,v,x,y[6],2821735955,17),x=p(x,j,T,v,y[7],4249261313,22),v=p(v,x,j,T,y[8],1770035416,7),T=p(T,v,x,j,y[9],2336552879,12),j=p(j,T,v,x,y[10],4294925233,17),x=p(x,j,T,v,y[11],2304563134,22),v=p(v,x,j,T,y[12],1804603682,7),T=p(T,v,x,j,y[13],4254626195,12),j=p(j,T,v,x,y[14],2792965006,17),v=f(v,x=p(x,j,T,v,y[15],1236535329,22),j,T,y[1],4129170786,5),T=f(T,v,x,j,y[6],3225465664,9),j=f(j,T,v,x,y[11],643717713,14),x=f(x,j,T,v,y[0],3921069994,20),v=f(v,x,j,T,y[5],3593408605,5),T=f(T,v,x,j,y[10],38016083,9),j=f(j,T,v,x,y[15],3634488961,14),x=f(x,j,T,v,y[4],3889429448,20),v=f(v,x,j,T,y[9],568446438,5),T=f(T,v,x,j,y[14],3275163606,9),j=f(j,T,v,x,y[3],4107603335,14),x=f(x,j,T,v,y[8],1163531501,20),v=f(v,x,j,T,y[13],2850285829,5),T=f(T,v,x,j,y[2],4243563512,9),j=f(j,T,v,x,y[7],1735328473,14),v=h(v,x=f(x,j,T,v,y[12],2368359562,20),j,T,y[5],4294588738,4),T=h(T,v,x,j,y[8],2272392833,11),j=h(j,T,v,x,y[11],1839030562,16),x=h(x,j,T,v,y[14],4259657740,23),v=h(v,x,j,T,y[1],2763975236,4),T=h(T,v,x,j,y[4],1272893353,11),j=h(j,T,v,x,y[7],4139469664,16),x=h(x,j,T,v,y[10],3200236656,23),v=h(v,x,j,T,y[13],681279174,4),T=h(T,v,x,j,y[0],3936430074,11),j=h(j,T,v,x,y[3],3572445317,16),x=h(x,j,T,v,y[6],76029189,23),v=h(v,x,j,T,y[9],3654602809,4),T=h(T,v,x,j,y[12],3873151461,11),j=h(j,T,v,x,y[15],530742520,16),v=g(v,x=h(x,j,T,v,y[2],3299628645,23),j,T,y[0],4096336452,6),T=g(T,v,x,j,y[7],1126891415,10),j=g(j,T,v,x,y[14],2878612391,15),x=g(x,j,T,v,y[5],4237533241,21),v=g(v,x,j,T,y[12],1700485571,6),T=g(T,v,x,j,y[3],2399980690,10),j=g(j,T,v,x,y[10],4293915773,15),x=g(x,j,T,v,y[1],2240044497,21),v=g(v,x,j,T,y[8],1873313359,6),T=g(T,v,x,j,y[15],4264355552,10),j=g(j,T,v,x,y[6],2734768916,15),x=g(x,j,T,v,y[13],1309151649,21),v=g(v,x,j,T,y[4],4149444226,6),T=g(T,v,x,j,y[11],3174756917,10),j=g(j,T,v,x,y[2],718787259,15),x=g(x,j,T,v,y[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+x|0,this._c=this._c+j|0,this._d=this._d+T|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=c.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},n.exports=o},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,s){var a=e("bn.js"),i=e("brorand");function c(u){this.rand=u||new i.Rand}n.exports=c,c.create=function(u){return new c(u)},c.prototype._randbelow=function(u){var o=u.bitLength(),d=Math.ceil(o/8);do var p=new a(this.rand.generate(d));while(p.cmp(u)>=0);return p},c.prototype._randrange=function(u,o){var d=o.sub(u);return u.add(this._randbelow(d))},c.prototype.test=function(u,o,d){var p=u.bitLength(),f=a.mont(u),h=new a(1).toRed(f);o||(o=Math.max(1,p/48|0));for(var g=u.subn(1),y=0;!g.testn(y);y++);for(var m=u.shrn(y),v=g.toRed(f);o>0;o--){var x=this._randrange(new a(2),g);d&&d(x);var j=x.toRed(f).redPow(m);if(j.cmp(h)!==0&&j.cmp(v)!==0){for(var T=1;T<y;T++){if((j=j.redSqr()).cmp(h)===0)return!1;if(j.cmp(v)===0)break}if(T===y)return!1}}return!0},c.prototype.getDivisor=function(u,o){var d=u.bitLength(),p=a.mont(u),f=new a(1).toRed(p);o||(o=Math.max(1,d/48|0));for(var h=u.subn(1),g=0;!h.testn(g);g++);for(var y=u.shrn(g),m=h.toRed(p);o>0;o--){var v=this._randrange(new a(2),h),x=u.gcd(v);if(x.cmpn(1)!==0)return x;var j=v.toRed(p).redPow(y);if(j.cmp(f)!==0&&j.cmp(m)!==0){for(var T=1;T<g;T++){if((j=j.redSqr()).cmp(f)===0)return j.fromRed().subn(1).gcd(u);if(j.cmp(m)===0)break}if(T===g)return(j=j.redSqr()).fromRed().subn(1).gcd(u)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(e,n,s){function a(i,c){if(!i)throw new Error(c||"Assertion failed")}n.exports=a,a.equal=function(i,c,u){if(i!=c)throw new Error(u||"Assertion failed: "+i+" != "+c)}},{}],454:[function(e,n,s){var a=s;function i(u){return u.length===1?"0"+u:u}function c(u){for(var o="",d=0;d<u.length;d++)o+=i(u[d].toString(16));return o}a.toArray=function(u,o){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u!="string"){for(var p=0;p<u.length;p++)d[p]=0|u[p];return d}if(o==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),p=0;p<u.length;p+=2)d.push(parseInt(u[p]+u[p+1],16));else for(p=0;p<u.length;p++){var f=u.charCodeAt(p),h=f>>8,g=255&f;h?d.push(h,g):d.push(g)}return d},a.zero2=i,a.toHex=c,a.encode=function(u,o){return o==="hex"?c(u):u}},{}],455:[function(e,n,s){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,s){var a=e("asn1.js");s.certificate=e("./certificate");var i=a.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));s.RSAPrivateKey=i;var c=a.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));s.RSAPublicKey=c;var u=a.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}));s.PublicKey=u;var o=a.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),d=a.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())}));s.PrivateKey=d;var p=a.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));s.EncryptedPrivateKey=p;var f=a.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));s.DSAPrivateKey=f,s.DSAparam=a.define("DSAparam",(function(){this.int()}));var h=a.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())}));s.ECPrivateKey=h;var g=a.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));s.signature=a.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(e,n,s){var a=e("asn1.js"),i=a.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),c=a.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),u=a.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=a.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())})),d=a.define("RelativeDistinguishedName",(function(){this.setof(c)})),p=a.define("RDNSequence",(function(){this.seqof(d)})),f=a.define("Name",(function(){this.choice({rdnSequence:this.use(p)})})),h=a.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),g=a.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),y=a.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(u),this.key("issuer").use(f),this.key("validity").use(h),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())})),m=a.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(u),this.key("signatureValue").bitstr())}));n.exports=m},{"asn1.js":170}],458:[function(e,n,s){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,u=e("evp_bytestokey"),o=e("browserify-aes"),d=e("safe-buffer").Buffer;n.exports=function(p,f){var h,g=p.toString(),y=g.match(a);if(y){var m="aes"+y[1],v=d.from(y[2],"hex"),x=d.from(y[3].replace(/[\r\n]/g,""),"base64"),j=u(f,v.slice(0,8),parseInt(y[1],10)).key,T=[],E=o.createDecipheriv(m,j,v);T.push(E.update(x)),T.push(E.final()),h=d.concat(T)}else{var B=g.match(c);h=d.from(B[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(i)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,s){var a=e("./asn1"),i=e("./aesid.json"),c=e("./fixProc"),u=e("browserify-aes"),o=e("pbkdf2"),d=e("safe-buffer").Buffer;function p(f){var h;typeof f!="object"||d.isBuffer(f)||(h=f.passphrase,f=f.key),typeof f=="string"&&(f=d.from(f));var g,y,m=c(f,h),v=m.tag,x=m.data;switch(v){case"CERTIFICATE":y=a.certificate.decode(x,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=a.PublicKey.decode(x,"der")),g=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=a.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":x=(function(j,T){var E=j.algorithm.decrypt.kde.kdeparams.salt,B=parseInt(j.algorithm.decrypt.kde.kdeparams.iters.toString(),10),W=i[j.algorithm.decrypt.cipher.algo.join(".")],I=j.algorithm.decrypt.cipher.iv,R=j.subjectPrivateKey,$=parseInt(W.split("-")[1],10)/8,K=o.pbkdf2Sync(T,E,B,$,"sha1"),H=u.createDecipheriv(W,K,I),M=[];return M.push(H.update(R)),M.push(H.final()),d.concat(M)})(x=a.EncryptedPrivateKey.decode(x,"der"),h);case"PRIVATE KEY":switch(g=(y=a.PrivateKey.decode(x,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:a.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=a.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(x,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(x,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(x,"der")};case"EC PRIVATE KEY":return{curve:(x=a.ECPrivateKey.decode(x,"der")).parameters.value,privateKey:x.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=p,p.signature=a.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,s){s.pbkdf2=e("./lib/async"),s.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,s){(function(a){(function(){var i,c,u=e("safe-buffer").Buffer,o=e("./precondition"),d=e("./default-encoding"),p=e("./sync"),f=e("./to-buffer"),h=a.crypto&&a.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function m(){return c||(c=a.process&&a.process.nextTick?a.process.nextTick:a.queueMicrotask?a.queueMicrotask:a.setImmediate?a.setImmediate:a.setTimeout)}function v(x,j,T,E,B){return h.importKey("raw",x,{name:"PBKDF2"},!1,["deriveBits"]).then((function(W){return h.deriveBits({name:"PBKDF2",salt:j,iterations:T,hash:{name:B}},W,E<<3)})).then((function(W){return u.from(W)}))}n.exports=function(x,j,T,E,B,W){typeof B=="function"&&(W=B,B=void 0);var I=g[(B=B||"sha1").toLowerCase()];if(I&&typeof a.Promise=="function"){if(o(T,E),x=f(x,d,"Password"),j=f(j,d,"Salt"),typeof W!="function")throw new Error("No callback provided to pbkdf2");(function(R,$){R.then((function(K){m()((function(){$(null,K)}))}),(function(K){m()((function(){$(K)}))}))})((function(R){if(a.process&&!a.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(y[R]!==void 0)return y[R];var $=v(i=i||u.alloc(8),i,10,128,R).then((function(){return!0})).catch((function(){return!1}));return y[R]=$,$})(I).then((function(R){return R?v(x,j,T,E,I):p(x,j,T,E,B)})),W)}else m()((function(){var R;try{R=p(x,j,T,E,B)}catch($){return W($)}W(null,R)}))}}).call(this)}).call(this,typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,s){(function(a,i){(function(){var c;i.process&&i.process.browser?c="utf-8":i.process&&i.process.version?c=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":c="utf-8",n.exports=c}).call(this)}).call(this,e("_process"),typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,s){var a=Math.pow(2,30)-1;n.exports=function(i,c){if(typeof i!="number")throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if(typeof c!="number")throw new TypeError("Key length not a number");if(c<0||c>a||c!=c)throw new TypeError("Bad key length")}},{}],464:[function(e,n,s){var a=e("create-hash/md5"),i=e("ripemd160"),c=e("sha.js"),u=e("safe-buffer").Buffer,o=e("./precondition"),d=e("./default-encoding"),p=e("./to-buffer"),f=u.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(y,m,v){var x=(function(I){function R($){return c(I).update($).digest()}return I==="rmd160"||I==="ripemd160"?function($){return new i().update($).digest()}:I==="md5"?a:R})(y),j=y==="sha512"||y==="sha384"?128:64;m.length>j?m=x(m):m.length<j&&(m=u.concat([m,f],j));for(var T=u.allocUnsafe(j+h[y]),E=u.allocUnsafe(j+h[y]),B=0;B<j;B++)T[B]=54^m[B],E[B]=92^m[B];var W=u.allocUnsafe(j+v+4);T.copy(W,0,0,j),this.ipad1=W,this.ipad2=T,this.opad=E,this.alg=y,this.blocksize=j,this.hash=x,this.size=h[y]}g.prototype.run=function(y,m){return y.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(y,m,v,x,j){o(v,x);var T=new g(j=j||"sha1",y=p(y,d,"Password"),(m=p(m,d,"Salt")).length),E=u.allocUnsafe(x),B=u.allocUnsafe(m.length+4);m.copy(B,0,0,m.length);for(var W=0,I=h[j],R=Math.ceil(x/I),$=1;$<=R;$++){B.writeUInt32BE($,m.length);for(var K=T.run(B,T.ipad1),H=K,M=1;M<v;M++){H=T.run(H,T.ipad2);for(var F=0;F<I;F++)K[F]^=H[F]}K.copy(E,W),W+=I}return E}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,s){var a=e("safe-buffer").Buffer;n.exports=function(i,c,u){if(a.isBuffer(i))return i;if(typeof i=="string")return a.from(i,c);if(ArrayBuffer.isView(i))return a.from(i.buffer);throw new TypeError(u+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,s){(function(a){(function(){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(i,c,u,o){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var d,p,f=arguments.length;switch(f){case 0:case 1:return a.nextTick(i);case 2:return a.nextTick((function(){i.call(null,c)}));case 3:return a.nextTick((function(){i.call(null,c,u)}));case 4:return a.nextTick((function(){i.call(null,c,u,o)}));default:for(d=new Array(f-1),p=0;p<d.length;)d[p++]=arguments[p];return a.nextTick((function(){i.apply(null,d)}))}}}:n.exports=a}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,s){var a,i,c=n.exports={};function u(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function d(j){if(a===setTimeout)return setTimeout(j,0);if((a===u||!a)&&setTimeout)return a=setTimeout,setTimeout(j,0);try{return a(j,0)}catch{try{return a.call(null,j,0)}catch{return a.call(this,j,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:u}catch{a=u}try{i=typeof clearTimeout=="function"?clearTimeout:o}catch{i=o}})();var p,f=[],h=!1,g=-1;function y(){h&&p&&(h=!1,p.length?f=p.concat(f):g=-1,f.length&&m())}function m(){if(!h){var j=d(y);h=!0;for(var T=f.length;T;){for(p=f,f=[];++g<T;)p&&p[g].run();g=-1,T=f.length}p=null,h=!1,(function(E){if(i===clearTimeout)return clearTimeout(E);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(E);try{i(E)}catch{try{return i.call(null,E)}catch{return i.call(this,E)}}})(j)}}function v(j,T){this.fun=j,this.array=T}function x(){}c.nextTick=function(j){var T=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)T[E-1]=arguments[E];f.push(new v(j,T)),f.length!==1||h||d(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=x,c.addListener=x,c.once=x,c.off=x,c.removeListener=x,c.removeAllListeners=x,c.emit=x,c.prependListener=x,c.prependOnceListener=x,c.listeners=function(j){return[]},c.binding=function(j){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(j){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],468:[function(e,n,s){s.publicEncrypt=e("./publicEncrypt"),s.privateDecrypt=e("./privateDecrypt"),s.privateEncrypt=function(a,i){return s.publicEncrypt(a,i,!0)},s.publicDecrypt=function(a,i){return s.privateDecrypt(a,i,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,s){var a=e("create-hash"),i=e("safe-buffer").Buffer;function c(u){var o=i.allocUnsafe(4);return o.writeUInt32BE(u,0),o}n.exports=function(u,o){for(var d,p=i.alloc(0),f=0;p.length<o;)d=c(f++),p=i.concat([p,a("sha1").update(u).update(d).digest()]);return p.slice(0,o)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(e,n,s){var a=e("parse-asn1"),i=e("./mgf"),c=e("./xor"),u=e("bn.js"),o=e("browserify-rsa"),d=e("create-hash"),p=e("./withPublic"),f=e("safe-buffer").Buffer;n.exports=function(h,g,y){var m;m=h.padding?h.padding:y?1:4;var v,x=a(h),j=x.modulus.byteLength();if(g.length>j||new u(g).cmp(x.modulus)>=0)throw new Error("decryption error");v=y?p(new u(g),x):o(g,x);var T=f.alloc(j-v.length);if(v=f.concat([T,v],j),m===4)return(function(E,B){var W=E.modulus.byteLength(),I=d("sha1").update(f.alloc(0)).digest(),R=I.length;if(B[0]!==0)throw new Error("decryption error");var $=B.slice(1,R+1),K=B.slice(R+1),H=c($,i(K,R)),M=c(K,i(H,W-R-1));if((function(C,_){C=f.from(C),_=f.from(_);var S=0,k=C.length;C.length!==_.length&&(S++,k=Math.min(C.length,_.length));for(var N=-1;++N<k;)S+=C[N]^_[N];return S})(I,M.slice(0,R)))throw new Error("decryption error");for(var F=R;M[F]===0;)F++;if(M[F++]!==1)throw new Error("decryption error");return M.slice(F)})(x,v);if(m===1)return(function(E,B,W){for(var I=B.slice(0,2),R=2,$=0;B[R++]!==0;)if(R>=B.length){$++;break}var K=B.slice(2,R-1);if((I.toString("hex")!=="0002"&&!W||I.toString("hex")!=="0001"&&W)&&$++,K.length<8&&$++,$)throw new Error("decryption error");return B.slice(R)})(0,v,y);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,s){var a=e("parse-asn1"),i=e("randombytes"),c=e("create-hash"),u=e("./mgf"),o=e("./xor"),d=e("bn.js"),p=e("./withPublic"),f=e("browserify-rsa"),h=e("safe-buffer").Buffer;n.exports=function(g,y,m){var v;v=g.padding?g.padding:m?1:4;var x,j=a(g);if(v===4)x=(function(T,E){var B=T.modulus.byteLength(),W=E.length,I=c("sha1").update(h.alloc(0)).digest(),R=I.length,$=2*R;if(W>B-$-2)throw new Error("message too long");var K=h.alloc(B-W-$-2),H=B-R-1,M=i(R),F=o(h.concat([I,K,h.alloc(1,1),E],H),u(M,H)),C=o(M,u(F,R));return new d(h.concat([h.alloc(1),C,F],B))})(j,y);else if(v===1)x=(function(T,E,B){var W,I=E.length,R=T.modulus.byteLength();if(I>R-11)throw new Error("message too long");return W=B?h.alloc(R-I-3,255):(function($){for(var K,H=h.allocUnsafe($),M=0,F=i(2*$),C=0;M<$;)C===F.length&&(F=i(2*$),C=0),(K=F[C++])&&(H[M++]=K);return H})(R-I-3),new d(h.concat([h.from([0,B?1:2]),W,h.alloc(1),E],R))})(j,y,m);else{if(v!==3)throw new Error("unknown padding");if((x=new d(y)).cmp(j.modulus)>=0)throw new Error("data too long for modulus")}return m?f(x,j):p(x,j)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,s){var a=e("bn.js"),i=e("safe-buffer").Buffer;n.exports=function(c,u){return i.from(c.toRed(a.mont(u.modulus)).redPow(new a(u.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,s){n.exports=function(a,i){for(var c=a.length,u=-1;++u<c;)a[u]^=i[u];return a}},{}],475:[function(e,n,s){(function(a,i){(function(){var c=e("safe-buffer").Buffer,u=i.crypto||i.msCrypto;u&&u.getRandomValues?n.exports=function(o,d){if(o>4294967295)throw new RangeError("requested too many random bytes");var p=c.allocUnsafe(o);if(o>0)if(o>65536)for(var f=0;f<o;f+=65536)u.getRandomValues(p.slice(f,f+65536));else u.getRandomValues(p);return typeof d=="function"?a.nextTick((function(){d(null,p)})):p}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,s){(function(a,i){(function(){function c(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var u=e("safe-buffer"),o=e("randombytes"),d=u.Buffer,p=u.kMaxLength,f=i.crypto||i.msCrypto,h=Math.pow(2,32)-1;function g(v,x){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>h||v<0)throw new TypeError("offset must be a uint32");if(v>p||v>x)throw new RangeError("offset out of range")}function y(v,x,j){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>h||v<0)throw new TypeError("size must be a uint32");if(v+x>j||v>p)throw new RangeError("buffer too small")}function m(v,x,j,T){if(a.browser){var E=v.buffer,B=new Uint8Array(E,x,j);return f.getRandomValues(B),T?void a.nextTick((function(){T(null,v)})):v}if(!T)return o(j).copy(v,x),v;o(j,(function(W,I){if(W)return T(W);I.copy(v,x),T(null,v)}))}f&&f.getRandomValues||!a.browser?(s.randomFill=function(v,x,j,T){if(!(d.isBuffer(v)||v instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof x=="function")T=x,x=0,j=v.length;else if(typeof j=="function")T=j,j=v.length-x;else if(typeof T!="function")throw new TypeError('"cb" argument must be a function');return g(x,v.length),y(j,x,v.length),m(v,x,j,T)},s.randomFillSync=function(v,x,j){if(x===void 0&&(x=0),!(d.isBuffer(v)||v instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(x,v.length),j===void 0&&(j=v.length-x),y(j,x,v.length),m(v,x,j)}):(s.randomFill=c,s.randomFillSync=c)}).call(this)}).call(this,e("_process"),typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,s){var a={};function i(u,o,d){d||(d=Error);var p=(function(f){var h,g;function y(m,v,x){return f.call(this,(function(j,T,E){return typeof o=="string"?o:o(j,T,E)})(m,v,x))||this}return g=f,(h=y).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,y})(d);p.prototype.name=d.name,p.prototype.code=u,a[u]=p}function c(u,o){if(Array.isArray(u)){var d=u.length;return u=u.map((function(p){return String(p)})),d>2?"one of ".concat(o," ").concat(u.slice(0,d-1).join(", "),", or ")+u[d-1]:d===2?"one of ".concat(o," ").concat(u[0]," or ").concat(u[1]):"of ".concat(o," ").concat(u[0])}return"of ".concat(o," ").concat(String(u))}i("ERR_INVALID_OPT_VALUE",(function(u,o){return'The value "'+o+'" is invalid for option "'+u+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(u,o,d){var p,f,h;if(typeof o=="string"&&(f="not ",o.substr(0,f.length)===f)?(p="must not be",o=o.replace(/^not /,"")):p="must be",(function(y,m,v){return(v===void 0||v>y.length)&&(v=y.length),y.substring(v-m.length,v)===m})(u," argument"))h="The ".concat(u," ").concat(p," ").concat(c(o,"type"));else{var g=(function(y,m,v){return typeof v!="number"&&(v=0),!(v+m.length>y.length)&&y.indexOf(m,v)!==-1})(u,".")?"property":"argument";h='The "'.concat(u,'" ').concat(g," ").concat(p," ").concat(c(o,"type"))}return h+=". Received type ".concat(typeof d)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(u){return"The "+u+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(u){return"Cannot call "+u+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(u){return"Unknown encoding: "+u}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=a},{}],478:[function(e,n,s){(function(a){(function(){var i=Object.keys||function(y){var m=[];for(var v in y)m.push(v);return m};n.exports=f;var c=e("./_stream_readable"),u=e("./_stream_writable");e("inherits")(f,c);for(var o=i(u.prototype),d=0;d<o.length;d++){var p=o[d];f.prototype[p]||(f.prototype[p]=u.prototype[p])}function f(y){if(!(this instanceof f))return new f(y);c.call(this,y),u.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||a.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,s){n.exports=i;var a=e("./_stream_transform");function i(c){if(!(this instanceof i))return new i(c);a.call(this,c)}e("inherits")(i,a),i.prototype._transform=function(c,u,o){o(null,c)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,s){(function(a,i){(function(){var c;n.exports=H,H.ReadableState=K,e("events").EventEmitter;var u=function(U,z){return U.listeners(z).length},o=e("./internal/streams/stream"),d=e("buffer").Buffer,p=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,h=e("util");f=h&&h.debuglog?h.debuglog("stream"):function(){};var g,y,m,v=e("./internal/streams/buffer_list"),x=e("./internal/streams/destroy"),j=e("./internal/streams/state").getHighWaterMark,T=e("../errors").codes,E=T.ERR_INVALID_ARG_TYPE,B=T.ERR_STREAM_PUSH_AFTER_EOF,W=T.ERR_METHOD_NOT_IMPLEMENTED,I=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(H,o);var R=x.errorOrDestroy,$=["error","close","destroy","pause","resume"];function K(U,z,G){c=c||e("./_stream_duplex"),U=U||{},typeof G!="boolean"&&(G=z instanceof c),this.objectMode=!!U.objectMode,G&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=j(this,U,"readableHighWaterMark",G),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(U.encoding),this.encoding=U.encoding)}function H(U){if(c=c||e("./_stream_duplex"),!(this instanceof H))return new H(U);var z=this instanceof c;this._readableState=new K(U,this,z),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),o.call(this)}function M(U,z,G,ae,pe){f("readableAddChunk",z);var de,ge=U._readableState;if(z===null)ge.reading=!1,(function(te,oe){if(f("onEofChunk"),!oe.ended){if(oe.decoder){var ne=oe.decoder.end();ne&&ne.length&&(oe.buffer.push(ne),oe.length+=oe.objectMode?1:ne.length)}oe.ended=!0,oe.sync?_(te):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,S(te)))}})(U,ge);else if(pe||(de=(function(te,oe){var ne;he=oe,d.isBuffer(he)||he instanceof p||typeof oe=="string"||oe===void 0||te.objectMode||(ne=new E("chunk",["string","Buffer","Uint8Array"],oe));var he;return ne})(ge,z)),de)R(U,de);else if(ge.objectMode||z&&z.length>0)if(typeof z=="string"||ge.objectMode||Object.getPrototypeOf(z)===d.prototype||(z=(function(te){return d.from(te)})(z)),ae)ge.endEmitted?R(U,new I):F(U,ge,z,!0);else if(ge.ended)R(U,new B);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!G?(z=ge.decoder.write(z),ge.objectMode||z.length!==0?F(U,ge,z,!1):k(U,ge)):F(U,ge,z,!1)}else ae||(ge.reading=!1,k(U,ge));return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function F(U,z,G,ae){z.flowing&&z.length===0&&!z.sync?(z.awaitDrain=0,U.emit("data",G)):(z.length+=z.objectMode?1:G.length,ae?z.buffer.unshift(G):z.buffer.push(G),z.needReadable&&_(U)),k(U,z)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),H.prototype.destroy=x.destroy,H.prototype._undestroy=x.undestroy,H.prototype._destroy=function(U,z){z(U)},H.prototype.push=function(U,z){var G,ae=this._readableState;return ae.objectMode?G=!0:typeof U=="string"&&((z=z||ae.defaultEncoding)!==ae.encoding&&(U=d.from(U,z),z=""),G=!0),M(this,U,z,!1,G)},H.prototype.unshift=function(U){return M(this,U,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(U){g||(g=e("string_decoder/").StringDecoder);var z=new g(U);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,ae="";G!==null;)ae+=z.write(G.data),G=G.next;return this._readableState.buffer.clear(),ae!==""&&this._readableState.buffer.push(ae),this._readableState.length=ae.length,this};function C(U,z){return U<=0||z.length===0&&z.ended?0:z.objectMode?1:U!=U?z.flowing&&z.length?z.buffer.head.data.length:z.length:(U>z.highWaterMark&&(z.highWaterMark=(function(G){return G>=1073741824?G=1073741824:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G})(U)),U<=z.length?U:z.ended?z.length:(z.needReadable=!0,0))}function _(U){var z=U._readableState;f("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(f("emitReadable",z.flowing),z.emittedReadable=!0,a.nextTick(S,U))}function S(U){var z=U._readableState;f("emitReadable_",z.destroyed,z.length,z.ended),z.destroyed||!z.length&&!z.ended||(U.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,Q(U)}function k(U,z){z.readingMore||(z.readingMore=!0,a.nextTick(N,U,z))}function N(U,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&z.length===0);){var G=z.length;if(f("maybeReadMore read 0"),U.read(0),G===z.length)break}z.readingMore=!1}function D(U){var z=U._readableState;z.readableListening=U.listenerCount("readable")>0,z.resumeScheduled&&!z.paused?z.flowing=!0:U.listenerCount("data")>0&&U.resume()}function L(U){f("readable nexttick read 0"),U.read(0)}function V(U,z){f("resume",z.reading),z.reading||U.read(0),z.resumeScheduled=!1,U.emit("resume"),Q(U),z.flowing&&!z.reading&&U.read(0)}function Q(U){var z=U._readableState;for(f("flow",z.flowing);z.flowing&&U.read()!==null;);}function Y(U,z){return z.length===0?null:(z.objectMode?G=z.buffer.shift():!U||U>=z.length?(G=z.decoder?z.buffer.join(""):z.buffer.length===1?z.buffer.first():z.buffer.concat(z.length),z.buffer.clear()):G=z.buffer.consume(U,z.decoder),G);var G}function re(U){var z=U._readableState;f("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,a.nextTick(O,z,U))}function O(U,z){if(f("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,z.readable=!1,z.emit("end"),U.autoDestroy)){var G=z._writableState;(!G||G.autoDestroy&&G.finished)&&z.destroy()}}function Z(U,z){for(var G=0,ae=U.length;G<ae;G++)if(U[G]===z)return G;return-1}H.prototype.read=function(U){f("read",U),U=parseInt(U,10);var z=this._readableState,G=U;if(U!==0&&(z.emittedReadable=!1),U===0&&z.needReadable&&((z.highWaterMark!==0?z.length>=z.highWaterMark:z.length>0)||z.ended))return f("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?re(this):_(this),null;if((U=C(U,z))===0&&z.ended)return z.length===0&&re(this),null;var ae,pe=z.needReadable;return f("need readable",pe),(z.length===0||z.length-U<z.highWaterMark)&&f("length less than watermark",pe=!0),z.ended||z.reading?f("reading or ended",pe=!1):pe&&(f("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(U=C(G,z))),(ae=U>0?Y(U,z):null)===null?(z.needReadable=z.length<=z.highWaterMark,U=0):(z.length-=U,z.awaitDrain=0),z.length===0&&(z.ended||(z.needReadable=!0),G!==U&&z.ended&&re(this)),ae!==null&&this.emit("data",ae),ae},H.prototype._read=function(U){R(this,new W("_read()"))},H.prototype.pipe=function(U,z){var G=this,ae=this._readableState;switch(ae.pipesCount){case 0:ae.pipes=U;break;case 1:ae.pipes=[ae.pipes,U];break;default:ae.pipes.push(U)}ae.pipesCount+=1,f("pipe count=%d opts=%j",ae.pipesCount,z);var pe=(!z||z.end!==!1)&&U!==a.stdout&&U!==a.stderr?ge:ee;function de(se,le){f("onunpipe"),se===G&&le&&le.hasUnpiped===!1&&(le.hasUnpiped=!0,f("cleanup"),U.removeListener("close",ce),U.removeListener("finish",ie),U.removeListener("drain",te),U.removeListener("error",he),U.removeListener("unpipe",de),G.removeListener("end",ge),G.removeListener("end",ee),G.removeListener("data",ne),oe=!0,!ae.awaitDrain||U._writableState&&!U._writableState.needDrain||te())}function ge(){f("onend"),U.end()}ae.endEmitted?a.nextTick(pe):G.once("end",pe),U.on("unpipe",de);var te=(function(se){return function(){var le=se._readableState;f("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&u(se,"data")&&(le.flowing=!0,Q(se))}})(G);U.on("drain",te);var oe=!1;function ne(se){f("ondata");var le=U.write(se);f("dest.write",le),le===!1&&((ae.pipesCount===1&&ae.pipes===U||ae.pipesCount>1&&Z(ae.pipes,U)!==-1)&&!oe&&(f("false write response, pause",ae.awaitDrain),ae.awaitDrain++),G.pause())}function he(se){f("onerror",se),ee(),U.removeListener("error",he),u(U,"error")===0&&R(U,se)}function ce(){U.removeListener("finish",ie),ee()}function ie(){f("onfinish"),U.removeListener("close",ce),ee()}function ee(){f("unpipe"),G.unpipe(U)}return G.on("data",ne),(function(se,le,ve){if(typeof se.prependListener=="function")return se.prependListener(le,ve);se._events&&se._events[le]?Array.isArray(se._events[le])?se._events[le].unshift(ve):se._events[le]=[ve,se._events[le]]:se.on(le,ve)})(U,"error",he),U.once("close",ce),U.once("finish",ie),U.emit("pipe",G),ae.flowing||(f("pipe resume"),G.resume()),U},H.prototype.unpipe=function(U){var z=this._readableState,G={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return U&&U!==z.pipes||(U||(U=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,U&&U.emit("unpipe",this,G)),this;if(!U){var ae=z.pipes,pe=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var de=0;de<pe;de++)ae[de].emit("unpipe",this,{hasUnpiped:!1});return this}var ge=Z(z.pipes,U);return ge===-1||(z.pipes.splice(ge,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),U.emit("unpipe",this,G)),this},H.prototype.on=function(U,z){var G=o.prototype.on.call(this,U,z),ae=this._readableState;return U==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):U==="readable"&&(ae.endEmitted||ae.readableListening||(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,f("on readable",ae.length,ae.reading),ae.length?_(this):ae.reading||a.nextTick(L,this))),G},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(U,z){var G=o.prototype.removeListener.call(this,U,z);return U==="readable"&&a.nextTick(D,this),G},H.prototype.removeAllListeners=function(U){var z=o.prototype.removeAllListeners.apply(this,arguments);return U!=="readable"&&U!==void 0||a.nextTick(D,this),z},H.prototype.resume=function(){var U=this._readableState;return U.flowing||(f("resume"),U.flowing=!U.readableListening,(function(z,G){G.resumeScheduled||(G.resumeScheduled=!0,a.nextTick(V,z,G))})(this,U)),U.paused=!1,this},H.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},H.prototype.wrap=function(U){var z=this,G=this._readableState,ae=!1;for(var pe in U.on("end",(function(){if(f("wrapped end"),G.decoder&&!G.ended){var ge=G.decoder.end();ge&&ge.length&&z.push(ge)}z.push(null)})),U.on("data",(function(ge){f("wrapped data"),G.decoder&&(ge=G.decoder.write(ge)),G.objectMode&&ge==null||(G.objectMode||ge&&ge.length)&&(z.push(ge)||(ae=!0,U.pause()))})),U)this[pe]===void 0&&typeof U[pe]=="function"&&(this[pe]=(function(ge){return function(){return U[ge].apply(U,arguments)}})(pe));for(var de=0;de<$.length;de++)U.on($[de],this.emit.bind(this,$[de]));return this._read=function(ge){f("wrapped _read",ge),ae&&(ae=!1,U.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=e("./internal/streams/async_iterator")),y(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),H._fromList=Y,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(H.from=function(U,z){return m===void 0&&(m=e("./internal/streams/from")),m(H,U,z)})}).call(this)}).call(this,e("_process"),typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,s){n.exports=f;var a=e("../errors").codes,i=a.ERR_METHOD_NOT_IMPLEMENTED,c=a.ERR_MULTIPLE_CALLBACK,u=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=a.ERR_TRANSFORM_WITH_LENGTH_0,d=e("./_stream_duplex");function p(y,m){var v=this._transformState;v.transforming=!1;var x=v.writecb;if(x===null)return this.emit("error",new c);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),x(y);var j=this._readableState;j.reading=!1,(j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}function f(y){if(!(this instanceof f))return new f(y);d.call(this,y),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",h)}function h(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush((function(m,v){g(y,m,v)}))}function g(y,m,v){if(m)return y.emit("error",m);if(v!=null&&y.push(v),y._writableState.length)throw new o;if(y._transformState.transforming)throw new u;return y.push(null)}e("inherits")(f,d),f.prototype.push=function(y,m){return this._transformState.needTransform=!1,d.prototype.push.call(this,y,m)},f.prototype._transform=function(y,m,v){v(new i("_transform()"))},f.prototype._write=function(y,m,v){var x=this._transformState;if(x.writecb=v,x.writechunk=y,x.writeencoding=m,!x.transforming){var j=this._readableState;(x.needTransform||j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}},f.prototype._read=function(y){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},f.prototype._destroy=function(y,m){d.prototype._destroy.call(this,y,(function(v){m(v)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,s){(function(a,i){(function(){function c(N){var D=this;this.next=null,this.entry=null,this.finish=function(){(function(L,V,Q){var Y=L.entry;for(L.entry=null;Y;){var re=Y.callback;V.pendingcb--,re(Q),Y=Y.next}V.corkedRequestsFree.next=L})(D,N)}}var u;n.exports=H,H.WritableState=K;var o={deprecate:e("util-deprecate")},d=e("./internal/streams/stream"),p=e("buffer").Buffer,f=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,g=e("./internal/streams/destroy"),y=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,x=m.ERR_METHOD_NOT_IMPLEMENTED,j=m.ERR_MULTIPLE_CALLBACK,T=m.ERR_STREAM_CANNOT_PIPE,E=m.ERR_STREAM_DESTROYED,B=m.ERR_STREAM_NULL_VALUES,W=m.ERR_STREAM_WRITE_AFTER_END,I=m.ERR_UNKNOWN_ENCODING,R=g.errorOrDestroy;function $(){}function K(N,D,L){u=u||e("./_stream_duplex"),N=N||{},typeof L!="boolean"&&(L=D instanceof u),this.objectMode=!!N.objectMode,L&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=y(this,N,"writableHighWaterMark",L),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=N.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){(function(Y,re){var O=Y._writableState,Z=O.sync,U=O.writecb;if(typeof U!="function")throw new j;if((function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0})(O),re)(function(G,ae,pe,de,ge){--ae.pendingcb,pe?(a.nextTick(ge,de),a.nextTick(k,G,ae),G._writableState.errorEmitted=!0,R(G,de)):(ge(de),G._writableState.errorEmitted=!0,R(G,de),k(G,ae))})(Y,O,Z,re,U);else{var z=_(O)||Y.destroyed;z||O.corked||O.bufferProcessing||!O.bufferedRequest||C(Y,O),Z?a.nextTick(F,Y,O,z,U):F(Y,O,z,U)}})(D,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function H(N){var D=this instanceof(u=u||e("./_stream_duplex"));if(!D&&!h.call(H,this))return new H(N);this._writableState=new K(N,this,D),this.writable=!0,N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final)),d.call(this)}function M(N,D,L,V,Q,Y,re){D.writelen=V,D.writecb=re,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new E("write")):L?N._writev(Q,D.onwrite):N._write(Q,Y,D.onwrite),D.sync=!1}function F(N,D,L,V){L||(function(Q,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,Q.emit("drain"))})(N,D),D.pendingcb--,V(),k(N,D)}function C(N,D){D.bufferProcessing=!0;var L=D.bufferedRequest;if(N._writev&&L&&L.next){var V=D.bufferedRequestCount,Q=new Array(V),Y=D.corkedRequestsFree;Y.entry=L;for(var re=0,O=!0;L;)Q[re]=L,L.isBuf||(O=!1),L=L.next,re+=1;Q.allBuffers=O,M(N,D,!0,D.length,Q,"",Y.finish),D.pendingcb++,D.lastBufferedRequest=null,Y.next?(D.corkedRequestsFree=Y.next,Y.next=null):D.corkedRequestsFree=new c(D),D.bufferedRequestCount=0}else{for(;L;){var Z=L.chunk,U=L.encoding,z=L.callback;if(M(N,D,!1,D.objectMode?1:Z.length,Z,U,z),L=L.next,D.bufferedRequestCount--,D.writing)break}L===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=L,D.bufferProcessing=!1}function _(N){return N.ending&&N.length===0&&N.bufferedRequest===null&&!N.finished&&!N.writing}function S(N,D){N._final((function(L){D.pendingcb--,L&&R(N,L),D.prefinished=!0,N.emit("prefinish"),k(N,D)}))}function k(N,D){var L=_(D);if(L&&((function(Q,Y){Y.prefinished||Y.finalCalled||(typeof Q._final!="function"||Y.destroyed?(Y.prefinished=!0,Q.emit("prefinish")):(Y.pendingcb++,Y.finalCalled=!0,a.nextTick(S,Q,Y)))})(N,D),D.pendingcb===0&&(D.finished=!0,N.emit("finish"),D.autoDestroy))){var V=N._readableState;(!V||V.autoDestroy&&V.endEmitted)&&N.destroy()}return L}e("inherits")(H,d),K.prototype.getBuffer=function(){for(var N=this.bufferedRequest,D=[];N;)D.push(N),N=N.next;return D},(function(){try{Object.defineProperty(K.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(N){return!!h.call(this,N)||this===H&&N&&N._writableState instanceof K}})):h=function(N){return N instanceof this},H.prototype.pipe=function(){R(this,new T)},H.prototype.write=function(N,D,L){var V,Q=this._writableState,Y=!1,re=!Q.objectMode&&(V=N,p.isBuffer(V)||V instanceof f);return re&&!p.isBuffer(N)&&(N=(function(O){return p.from(O)})(N)),typeof D=="function"&&(L=D,D=null),re?D="buffer":D||(D=Q.defaultEncoding),typeof L!="function"&&(L=$),Q.ending?(function(O,Z){var U=new W;R(O,U),a.nextTick(Z,U)})(this,L):(re||(function(O,Z,U,z){var G;return U===null?G=new B:typeof U=="string"||Z.objectMode||(G=new v("chunk",["string","Buffer"],U)),!G||(R(O,G),a.nextTick(z,G),!1)})(this,Q,N,L))&&(Q.pendingcb++,Y=(function(O,Z,U,z,G,ae){if(!U){var pe=(function(oe,ne,he){return oe.objectMode||oe.decodeStrings===!1||typeof ne!="string"||(ne=p.from(ne,he)),ne})(Z,z,G);z!==pe&&(U=!0,G="buffer",z=pe)}var de=Z.objectMode?1:z.length;Z.length+=de;var ge=Z.length<Z.highWaterMark;if(ge||(Z.needDrain=!0),Z.writing||Z.corked){var te=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:z,encoding:G,isBuf:U,callback:ae,next:null},te?te.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else M(O,Z,!1,de,z,G,ae);return ge})(this,Q,re,N,D,L)),Y},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,N.writing||N.corked||N.bufferProcessing||!N.bufferedRequest||C(this,N))},H.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new I(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),H.prototype._write=function(N,D,L){L(new x("_write()"))},H.prototype._writev=null,H.prototype.end=function(N,D,L){var V=this._writableState;return typeof N=="function"?(L=N,N=null,D=null):typeof D=="function"&&(L=D,D=null),N!=null&&this.write(N,D),V.corked&&(V.corked=1,this.uncork()),V.ending||(function(Q,Y,re){Y.ending=!0,k(Q,Y),re&&(Y.finished?a.nextTick(re):Q.once("finish",re)),Y.ended=!0,Q.writable=!1})(this,V,L),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),H.prototype.destroy=g.destroy,H.prototype._undestroy=g.undestroy,H.prototype._destroy=function(N,D){D(N)}}).call(this)}).call(this,e("_process"),typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,s){(function(a){(function(){var i;function c(E,B,W){return(B=(function(I){var R=(function($,K){if(typeof $!="object"||$===null)return $;var H=$[Symbol.toPrimitive];if(H!==void 0){var M=H.call($,K);if(typeof M!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)($)})(I,"string");return typeof R=="symbol"?R:String(R)})(B))in E?Object.defineProperty(E,B,{value:W,enumerable:!0,configurable:!0,writable:!0}):E[B]=W,E}var u=e("./end-of-stream"),o=Symbol("lastResolve"),d=Symbol("lastReject"),p=Symbol("error"),f=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function m(E,B){return{value:E,done:B}}function v(E){var B=E[o];if(B!==null){var W=E[y].read();W!==null&&(E[h]=null,E[o]=null,E[d]=null,B(m(W,!1)))}}function x(E){a.nextTick(v,E)}var j=Object.getPrototypeOf((function(){})),T=Object.setPrototypeOf((c(i={get stream(){return this[y]},next:function(){var E=this,B=this[p];if(B!==null)return Promise.reject(B);if(this[f])return Promise.resolve(m(void 0,!0));if(this[y].destroyed)return new Promise((function($,K){a.nextTick((function(){E[p]?K(E[p]):$(m(void 0,!0))}))}));var W,I=this[h];if(I)W=new Promise((function($,K){return function(H,M){$.then((function(){K[f]?H(m(void 0,!0)):K[g](H,M)}),M)}})(I,this));else{var R=this[y].read();if(R!==null)return Promise.resolve(m(R,!1));W=new Promise(this[g])}return this[h]=W,W}},Symbol.asyncIterator,(function(){return this})),c(i,"return",(function(){var E=this;return new Promise((function(B,W){E[y].destroy(null,(function(I){I?W(I):B(m(void 0,!0))}))}))})),i),j);n.exports=function(E){var B,W=Object.create(T,(c(B={},y,{value:E,writable:!0}),c(B,o,{value:null,writable:!0}),c(B,d,{value:null,writable:!0}),c(B,p,{value:null,writable:!0}),c(B,f,{value:E._readableState.endEmitted,writable:!0}),c(B,g,{value:function(I,R){var $=W[y].read();$?(W[h]=null,W[o]=null,W[d]=null,I(m($,!1))):(W[o]=I,W[d]=R)},writable:!0}),B));return W[h]=null,u(E,(function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var R=W[d];return R!==null&&(W[h]=null,W[o]=null,W[d]=null,R(I)),void(W[p]=I)}var $=W[o];$!==null&&(W[h]=null,W[o]=null,W[d]=null,$(m(void 0,!0))),W[f]=!0})),E.on("readable",x.bind(null,W)),W}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,s){function a(h,g){var y=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);g&&(m=m.filter((function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable}))),y.push.apply(y,m)}return y}function i(h){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{};g%2?a(Object(y),!0).forEach((function(m){c(h,m,y[m])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(y)):a(Object(y)).forEach((function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(y,m))}))}return h}function c(h,g,y){return(g=o(g))in h?Object.defineProperty(h,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[g]=y,h}function u(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,o(m.key),m)}}function o(h){var g=(function(y,m){if(typeof y!="object"||y===null)return y;var v=y[Symbol.toPrimitive];if(v!==void 0){var x=v.call(y,m);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(y)})(h,"string");return typeof g=="symbol"?g:String(g)}var d=e("buffer").Buffer,p=e("util").inspect,f=p&&p.custom||"inspect";n.exports=(function(){function h(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var g,y;return g=h,(y=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,x=""+v.data;v=v.next;)x+=m+v.data;return x}},{key:"concat",value:function(m){if(this.length===0)return d.alloc(0);for(var v,x,j,T=d.allocUnsafe(m>>>0),E=this.head,B=0;E;)v=E.data,x=T,j=B,d.prototype.copy.call(v,x,j),B+=E.data.length,E=E.next;return T}},{key:"consume",value:function(m,v){var x;return m<this.head.data.length?(x=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):x=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,x=1,j=v.data;for(m-=j.length;v=v.next;){var T=v.data,E=m>T.length?T.length:m;if(E===T.length?j+=T:j+=T.slice(0,m),(m-=E)==0){E===T.length?(++x,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=T.slice(E));break}++x}return this.length-=x,j}},{key:"_getBuffer",value:function(m){var v=d.allocUnsafe(m),x=this.head,j=1;for(x.data.copy(v),m-=x.data.length;x=x.next;){var T=x.data,E=m>T.length?T.length:m;if(T.copy(v,v.length-m,0,E),(m-=E)==0){E===T.length?(++j,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=T.slice(E));break}++j}return this.length-=j,v}},{key:f,value:function(m,v){return p(this,i(i({},v),{},{depth:0,customInspect:!1}))}}])&&u(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),h})()},{buffer:220,util:188}],485:[function(e,n,s){(function(a){(function(){function i(o,d){u(o,d),c(o)}function c(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function u(o,d){o.emit("error",d)}n.exports={destroy:function(o,d){var p=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(d?d(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(u,this,o)):a.nextTick(u,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,(function(g){!d&&g?p._writableState?p._writableState.errorEmitted?a.nextTick(c,p):(p._writableState.errorEmitted=!0,a.nextTick(i,p,g)):a.nextTick(i,p,g):d?(a.nextTick(c,p),d(g)):a.nextTick(c,p)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(o,d){var p=o._readableState,f=o._writableState;p&&p.autoDestroy||f&&f.autoDestroy?o.destroy(d):o.emit("error",d)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,s){var a=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}n.exports=function c(u,o,d){if(typeof o=="function")return c(u,null,o);o||(o={}),d=(function(E){var B=!1;return function(){if(!B){B=!0;for(var W=arguments.length,I=new Array(W),R=0;R<W;R++)I[R]=arguments[R];E.apply(this,I)}}})(d||i);var p=o.readable||o.readable!==!1&&u.readable,f=o.writable||o.writable!==!1&&u.writable,h=function(){u.writable||y()},g=u._writableState&&u._writableState.finished,y=function(){f=!1,g=!0,p||d.call(u)},m=u._readableState&&u._readableState.endEmitted,v=function(){p=!1,m=!0,f||d.call(u)},x=function(E){d.call(u,E)},j=function(){var E;return p&&!m?(u._readableState&&u._readableState.ended||(E=new a),d.call(u,E)):f&&!g?(u._writableState&&u._writableState.ended||(E=new a),d.call(u,E)):void 0},T=function(){u.req.on("finish",y)};return(function(E){return E.setHeader&&typeof E.abort=="function"})(u)?(u.on("complete",y),u.on("abort",j),u.req?T():u.on("request",T)):f&&!u._writableState&&(u.on("end",h),u.on("close",h)),u.on("end",v),u.on("finish",y),o.error!==!1&&u.on("error",x),u.on("close",j),function(){u.removeListener("complete",y),u.removeListener("abort",j),u.removeListener("request",T),u.req&&u.req.removeListener("finish",y),u.removeListener("end",h),u.removeListener("close",h),u.removeListener("finish",y),u.removeListener("end",v),u.removeListener("error",x),u.removeListener("close",j)}}},{"../../../errors":477}],487:[function(e,n,s){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,s){var a,i=e("../../../errors").codes,c=i.ERR_MISSING_ARGS,u=i.ERR_STREAM_DESTROYED;function o(g){if(g)throw g}function d(g,y,m,v){v=(function(T){var E=!1;return function(){E||(E=!0,T.apply(void 0,arguments))}})(v);var x=!1;g.on("close",(function(){x=!0})),a===void 0&&(a=e("./end-of-stream")),a(g,{readable:y,writable:m},(function(T){if(T)return v(T);x=!0,v()}));var j=!1;return function(T){if(!x&&!j)return j=!0,(function(E){return E.setHeader&&typeof E.abort=="function"})(g)?g.abort():typeof g.destroy=="function"?g.destroy():void v(T||new u("pipe"))}}function p(g){g()}function f(g,y){return g.pipe(y)}function h(g){return g.length?typeof g[g.length-1]!="function"?o:g.pop():o}n.exports=function(){for(var g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];var v,x=h(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new c("streams");var j=y.map((function(T,E){var B=E<y.length-1;return d(T,B,E>0,(function(W){v||(v=W),W&&j.forEach(p),B||(j.forEach(p),x(v))}))}));return y.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,s){var a=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(i,c,u,o){var d=(function(p,f,h){return p.highWaterMark!=null?p.highWaterMark:f?p[h]:null})(c,o,u);if(d!=null){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new a(o?u:"highWaterMark",d);return Math.floor(d)}return i.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,s){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js"),s.finished=e("./lib/internal/streams/end-of-stream.js"),s.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,s){var a=(function(i){var c=Object.prototype,u=c.hasOwnProperty,o=Object.defineProperty||function(k,N,D){k[N]=D.value},d=typeof Symbol=="function"?Symbol:{},p=d.iterator||"@@iterator",f=d.asyncIterator||"@@asyncIterator",h=d.toStringTag||"@@toStringTag";function g(k,N,D){return Object.defineProperty(k,N,{value:D,enumerable:!0,configurable:!0,writable:!0}),k[N]}try{g({},"")}catch{g=function(N,D,L){return N[D]=L}}function y(k,N,D,L){var V=N&&N.prototype instanceof x?N:x,Q=Object.create(V.prototype),Y=new C(L||[]);return o(Q,"_invoke",{value:K(k,D,Y)}),Q}function m(k,N,D){try{return{type:"normal",arg:k.call(N,D)}}catch(L){return{type:"throw",arg:L}}}i.wrap=y;var v={};function x(){}function j(){}function T(){}var E={};g(E,p,(function(){return this}));var B=Object.getPrototypeOf,W=B&&B(B(_([])));W&&W!==c&&u.call(W,p)&&(E=W);var I=T.prototype=x.prototype=Object.create(E);function R(k){["next","throw","return"].forEach((function(N){g(k,N,(function(D){return this._invoke(N,D)}))}))}function $(k,N){var D;o(this,"_invoke",{value:function(L,V){function Q(){return new N((function(Y,re){(function O(Z,U,z,G){var ae=m(k[Z],k,U);if(ae.type!=="throw"){var pe=ae.arg,de=pe.value;return de&&typeof de=="object"&&u.call(de,"__await")?N.resolve(de.__await).then((function(ge){O("next",ge,z,G)}),(function(ge){O("throw",ge,z,G)})):N.resolve(de).then((function(ge){pe.value=ge,z(pe)}),(function(ge){return O("throw",ge,z,G)}))}G(ae.arg)})(L,V,Y,re)}))}return D=D?D.then(Q,Q):Q()}})}function K(k,N,D){var L="suspendedStart";return function(V,Q){if(L==="executing")throw new Error("Generator is already running");if(L==="completed"){if(V==="throw")throw Q;return S()}for(D.method=V,D.arg=Q;;){var Y=D.delegate;if(Y){var re=H(Y,D);if(re){if(re===v)continue;return re}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(L==="suspendedStart")throw L="completed",D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);L="executing";var O=m(k,N,D);if(O.type==="normal"){if(L=D.done?"completed":"suspendedYield",O.arg===v)continue;return{value:O.arg,done:D.done}}O.type==="throw"&&(L="completed",D.method="throw",D.arg=O.arg)}}}function H(k,N){var D=N.method,L=k.iterator[D];if(L===void 0)return N.delegate=null,D==="throw"&&k.iterator.return&&(N.method="return",N.arg=void 0,H(k,N),N.method==="throw")||D!=="return"&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+D+"' method")),v;var V=m(L,k.iterator,N.arg);if(V.type==="throw")return N.method="throw",N.arg=V.arg,N.delegate=null,v;var Q=V.arg;return Q?Q.done?(N[k.resultName]=Q.value,N.next=k.nextLoc,N.method!=="return"&&(N.method="next",N.arg=void 0),N.delegate=null,v):Q:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,v)}function M(k){var N={tryLoc:k[0]};1 in k&&(N.catchLoc=k[1]),2 in k&&(N.finallyLoc=k[2],N.afterLoc=k[3]),this.tryEntries.push(N)}function F(k){var N=k.completion||{};N.type="normal",delete N.arg,k.completion=N}function C(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(M,this),this.reset(!0)}function _(k){if(k){var N=k[p];if(N)return N.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var D=-1,L=function V(){for(;++D<k.length;)if(u.call(k,D))return V.value=k[D],V.done=!1,V;return V.value=void 0,V.done=!0,V};return L.next=L}}return{next:S}}function S(){return{value:void 0,done:!0}}return j.prototype=T,o(I,"constructor",{value:T,configurable:!0}),o(T,"constructor",{value:j,configurable:!0}),j.displayName=g(T,h,"GeneratorFunction"),i.isGeneratorFunction=function(k){var N=typeof k=="function"&&k.constructor;return!!N&&(N===j||(N.displayName||N.name)==="GeneratorFunction")},i.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,T):(k.__proto__=T,g(k,h,"GeneratorFunction")),k.prototype=Object.create(I),k},i.awrap=function(k){return{__await:k}},R($.prototype),g($.prototype,f,(function(){return this})),i.AsyncIterator=$,i.async=function(k,N,D,L,V){V===void 0&&(V=Promise);var Q=new $(y(k,N,D,L),V);return i.isGeneratorFunction(N)?Q:Q.next().then((function(Y){return Y.done?Y.value:Q.next()}))},R(I),g(I,h,"Generator"),g(I,p,(function(){return this})),g(I,"toString",(function(){return"[object Generator]"})),i.keys=function(k){var N=Object(k),D=[];for(var L in N)D.push(L);return D.reverse(),function V(){for(;D.length;){var Q=D.pop();if(Q in N)return V.value=Q,V.done=!1,V}return V.done=!0,V}},i.values=_,C.prototype={constructor:C,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(F),!k)for(var N in this)N.charAt(0)==="t"&&u.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=void 0)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var N=this;function D(O,Z){return Q.type="throw",Q.arg=k,N.next=O,Z&&(N.method="next",N.arg=void 0),!!Z}for(var L=this.tryEntries.length-1;L>=0;--L){var V=this.tryEntries[L],Q=V.completion;if(V.tryLoc==="root")return D("end");if(V.tryLoc<=this.prev){var Y=u.call(V,"catchLoc"),re=u.call(V,"finallyLoc");if(Y&&re){if(this.prev<V.catchLoc)return D(V.catchLoc,!0);if(this.prev<V.finallyLoc)return D(V.finallyLoc)}else if(Y){if(this.prev<V.catchLoc)return D(V.catchLoc,!0)}else{if(!re)throw new Error("try statement without catch or finally");if(this.prev<V.finallyLoc)return D(V.finallyLoc)}}}},abrupt:function(k,N){for(var D=this.tryEntries.length-1;D>=0;--D){var L=this.tryEntries[D];if(L.tryLoc<=this.prev&&u.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var V=L;break}}V&&(k==="break"||k==="continue")&&V.tryLoc<=N&&N<=V.finallyLoc&&(V=null);var Q=V?V.completion:{};return Q.type=k,Q.arg=N,V?(this.method="next",this.next=V.finallyLoc,v):this.complete(Q)},complete:function(k,N){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&N&&(this.next=N),v},finish:function(k){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.finallyLoc===k)return this.complete(D.completion,D.afterLoc),F(D),v}},catch:function(k){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc===k){var L=D.completion;if(L.type==="throw"){var V=L.arg;F(D)}return V}}throw new Error("illegal catch attempt")},delegateYield:function(k,N,D){return this.delegate={iterator:_(k),resultName:N,nextLoc:D},this.method==="next"&&(this.arg=void 0),v}},i})(typeof n=="object"?n.exports:{});try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{}],493:[function(e,n,s){var a=e("buffer").Buffer,i=e("inherits"),c=e("hash-base"),u=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function y(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(B,W){return B<<W|B>>>32-W}function v(B,W,I,R,$,K,H,M){return m(B+(W^I^R)+K+H|0,M)+$|0}function x(B,W,I,R,$,K,H,M){return m(B+(W&I|~W&R)+K+H|0,M)+$|0}function j(B,W,I,R,$,K,H,M){return m(B+((W|~I)^R)+K+H|0,M)+$|0}function T(B,W,I,R,$,K,H,M){return m(B+(W&R|I&~R)+K+H|0,M)+$|0}function E(B,W,I,R,$,K,H,M){return m(B+(W^(I|~R))+K+H|0,M)+$|0}i(y,c),y.prototype._update=function(){for(var B=u,W=0;W<16;++W)B[W]=this._block.readInt32LE(4*W);for(var I=0|this._a,R=0|this._b,$=0|this._c,K=0|this._d,H=0|this._e,M=0|this._a,F=0|this._b,C=0|this._c,_=0|this._d,S=0|this._e,k=0;k<80;k+=1){var N,D;k<16?(N=v(I,R,$,K,H,B[o[k]],h[0],p[k]),D=E(M,F,C,_,S,B[d[k]],g[0],f[k])):k<32?(N=x(I,R,$,K,H,B[o[k]],h[1],p[k]),D=T(M,F,C,_,S,B[d[k]],g[1],f[k])):k<48?(N=j(I,R,$,K,H,B[o[k]],h[2],p[k]),D=j(M,F,C,_,S,B[d[k]],g[2],f[k])):k<64?(N=T(I,R,$,K,H,B[o[k]],h[3],p[k]),D=x(M,F,C,_,S,B[d[k]],g[3],f[k])):(N=E(I,R,$,K,H,B[o[k]],h[4],p[k]),D=v(M,F,C,_,S,B[d[k]],g[4],f[k])),I=H,H=K,K=m($,10),$=R,R=N,M=S,S=_,_=m(C,10),C=F,F=D}var L=this._b+$+_|0;this._b=this._c+K+S|0,this._c=this._d+H+M|0,this._d=this._e+I+F|0,this._e=this._a+R+C|0,this._a=L},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var B=a.alloc?a.alloc(20):new a(20);return B.writeInt32LE(this._a,0),B.writeInt32LE(this._b,4),B.writeInt32LE(this._c,8),B.writeInt32LE(this._d,12),B.writeInt32LE(this._e,16),B},n.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=e("buffer"),i=a.Buffer;function c(o,d){for(var p in o)d[p]=o[p]}function u(o,d,p){return i(o,d,p)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?n.exports=a:(c(a,s),s.Buffer=u),u.prototype=Object.create(i.prototype),c(i,u),u.from=function(o,d,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,d,p)},u.alloc=function(o,d,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=i(o);return d!==void 0?typeof p=="string"?f.fill(d,p):f.fill(d):f.fill(0),f},u.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},u.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(o)}},{buffer:220}],495:[function(e,n,s){(function(a){(function(){var i,c=e("buffer"),u=c.Buffer,o={};for(i in c)c.hasOwnProperty(i)&&i!=="SlowBuffer"&&i!=="Buffer"&&(o[i]=c[i]);var d=o.Buffer={};for(i in u)u.hasOwnProperty(i)&&i!=="allocUnsafe"&&i!=="allocUnsafeSlow"&&(d[i]=u[i]);if(o.Buffer.prototype=u.prototype,d.from&&d.from!==Uint8Array.from||(d.from=function(p,f,h){if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof p);if(p&&p.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);return u(p,f,h)}),d.alloc||(d.alloc=function(p,f,h){if(typeof p!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof p);if(p<0||p>=2*(1<<30))throw new RangeError('The value "'+p+'" is invalid for option "size"');var g=u(p);return f&&f.length!==0?typeof h=="string"?g.fill(f,h):g.fill(f):g.fill(0),g}),!o.kStringMaxLength)try{o.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch{}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),n.exports=o}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0});const a=e("xmlchars/xml/1.0/ed5"),i=e("xmlchars/xml/1.1/ed2"),c=e("xmlchars/xmlns/1.0/ed3");var u=a.isS,o=a.isChar,d=a.isNameStartChar,p=a.isNameChar,f=a.S_LIST,h=a.NAME_RE,g=i.isChar,y=c.isNCNameStartChar,m=c.isNCNameChar,v=c.NC_NAME_RE;const x="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",T={__proto__:null,xml:x,xmlns:j},E={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},B=_=>_===34||_===39,W=[34,39],I=[...W,91,62],R=[...W,60,93],$=[61,63,...f],K=[...f,62,38,60];function H(_,S,k){switch(S){case"xml":k!==x&&_.fail(`xml prefix must be bound to ${x}.`);break;case"xmlns":k!==j&&_.fail(`xmlns prefix must be bound to ${j}.`)}switch(k){case j:_.fail(S===""?`the default namespace may not be set to ${k}.`:`may not assign a prefix (even "xmlns") to the URI ${j}.`);break;case x:switch(S){case"xml":break;case"":_.fail(`the default namespace may not be set to ${k}.`);break;default:_.fail("may not assign the xml namespace to another prefix.")}}}const M=_=>v.test(_),F=_=>h.test(_);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const C={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(_){this.opt=_??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=y,this.nameCheck=m,this.isName=M,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},T);const k=this.opt.additionalNamespaces;k!=null&&((function(N,D){for(const L of Object.keys(D))H(N,L,D[L])})(this,k),Object.assign(this.ns,k))}else this.nameStartCheck=d,this.nameCheck=p,this.isName=F,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var _;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:k}=this.opt;if(k===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");k="1.0"}this.setXMLVersion(k),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(E),(_=this.readyHandler)===null||_===void 0||_.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(_,S){this[C[_]]=S}off(_){this[C[_]]=void 0}makeError(_){var S;let k=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(k.length>0&&(k+=":"),k+=`${this.line}:${this.column}`),k.length>0&&(k+=": "),new Error(k+_)}fail(_){const S=this.makeError(_),k=this.errorHandler;if(k===void 0)throw S;return k(S),this}write(_){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;_===null?(S=!0,_=""):typeof _=="object"&&(_=_.toString()),this.carriedFromPrevious!==void 0&&(_=`${this.carriedFromPrevious}${_}`,this.carriedFromPrevious=void 0);let k=_.length;const N=_.charCodeAt(k-1);!S&&(N===13||N>=55296&&N<=56319)&&(this.carriedFromPrevious=_[k-1],k--,_=_.slice(0,k));const{stateTable:D}=this;for(this.chunk=_,this.i=0;this.i<k;)D[this.state].call(this);return this.chunkPosition+=k,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:_,i:S}=this;if(this.prevI=S,this.i=S+1,S>=_.length)return-1;const k=_.charCodeAt(S);if(this.column++,k<55296){if(k>=32||k===9)return k;switch(k){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return _.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const N=65536+1024*(k-55296)+(_.charCodeAt(S+1)-56320);return this.i=S+2,N>1114111&&this.fail("disallowed character."),N}getCode11(){const{chunk:_,i:S}=this;if(this.prevI=S,this.i=S+1,S>=_.length)return-1;const k=_.charCodeAt(S);if(this.column++,k<55296){if(k>31&&k<127||k>159&&k!==8232||k===9)return k;switch(k){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const D=_.charCodeAt(S+1);D!==10&&D!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const N=65536+1024*(k-55296)+(_.charCodeAt(S+1)-56320);return this.i=S+2,N>1114111&&this.fail("disallowed character."),N}getCodeNorm(){const _=this.getCode();return _===-2?10:_}unget(){this.i=this.prevI,this.column--}captureTo(_){let{i:S}=this;const{chunk:k}=this;for(;;){const N=this.getCode(),D=N===-2,L=D?10:N;if(L===-1||_.includes(L))return this.text+=k.slice(S,this.prevI),L;D&&(this.text+=k.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(_){let{i:S}=this;const{chunk:k}=this;for(;;){let N=this.getCode();switch(N){case-2:this.text+=k.slice(S,this.prevI)+`
`,S=this.i,N=10;break;case-1:return this.text+=k.slice(S),!1}if(N===_)return this.text+=k.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:_,i:S}=this;for(;;){const k=this.getCode();if(k===-1)return this.name+=_.slice(S),-1;if(!p(k))return this.name+=_.slice(S,this.prevI),k===-2?10:k}}skipSpaces(){for(;;){const _=this.getCodeNorm();if(_===-1||!u(_))return _}}setXMLVersion(_){this.currentXMLVersion=_,_==="1.0"?(this.isChar=o,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const _=this.i,S=this.skipSpaces();switch(this.prevI!==_&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var _;const S=this.captureTo(I);switch(S){case 62:(_=this.doctypeHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:B(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.q=null,this.state=2)}sDTD(){const _=this.captureTo(R);_!==-1&&(this.text+=String.fromCodePoint(_),_===93?this.state=2:_===60?this.state=6:B(_)&&(this.state=5,this.q=_))}sDTDQuoted(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.state=4,this.q=null)}sDTDOpenWaka(){const _=this.getCodeNorm();switch(this.text+=String.fromCodePoint(_),_){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const _=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=_;this.text+=_,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),this.state=_===45?10:8}sDTDCommentEnded(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:_}=this;const{chunk:S}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(_,this.prevI)+`
`,_=this.i;break;case 59:{const{entityReturnState:k}=this,N=this.entity+S.slice(_,this.prevI);let D;this.state=k,N===""?(this.fail("empty entity name."),D="&;"):(D=this.parseEntity(N),this.entity=""),k===13&&this.textHandler===void 0||(this.text+=D);break e}case-1:this.entity+=S.slice(_);break e}}sOpenWaka(){const _=this.getCode();if(d(_))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(_){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var _;const S=this.getCodeNorm();S===45?(this.state=19,(_=this.commentHandler)===null||_===void 0||_.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const _=this.getCodeNorm();_!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(_),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const _=this.getCodeNorm();_===93?this.state=22:(this.text+="]"+String.fromCodePoint(_),this.state=20)}sCDataEnding2(){var _;const S=this.getCodeNorm();switch(S){case 62:(_=this.cdataHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const _=this.getCodeNorm();this.nameStartCheck(_)?(this.piTarget+=String.fromCodePoint(_),this.state=24):_===63||u(_)?(this.fail("processing instruction without a target."),this.state=_===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_),this.state=24)}sPIRest(){const{chunk:_,i:S}=this;for(;;){const k=this.getCodeNorm();if(k===-1)return void(this.piTarget+=_.slice(S));if(!this.nameCheck(k)){this.piTarget+=_.slice(S,this.prevI);const N=k===63;N||u(k)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=N?33:27):this.state=N?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(k));break}}}sPIBody(){if(this.text.length===0){const _=this.getCodeNorm();_===63?this.state=26:u(_)||(this.text=String.fromCodePoint(_))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var _;const S=this.getCodeNorm();if(S===62){const{piTarget:k}=this;k.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(_=this.piHandler)===null||_===void 0||_.call(this,{target:k,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const _=this.skipSpaces();_!==63?_!==-1&&(this.state=28,this.name=String.fromCodePoint(_)):this.state=33}sXMLDeclName(){const _=this.captureTo($);if(_===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(u(_)||_===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=_===61?30:29}}sXMLDeclEq(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(_)||(_!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(_)||(B(_)?this.q=_:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const _=this.captureTo([this.q,63]);if(_===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(_===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const k=S;this.xmlDecl.version=k,/^1\.[0-9]+$/.test(k)?this.opt.forceXMLVersion||this.setXMLVersion(k):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const _=this.getCodeNorm();_!==63?(u(_)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var _;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(_=this.xmldeclHandler)===null||_===void 0||_.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var _;const S=this.captureNameChars();if(S===-1)return;const k=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=k.ns=Object.create(null)),(_=this.openTagStartHandler)===null||_===void 0||_.call(this,k),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:u(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const _=this.skipSpaces();_!==-1&&(d(_)?(this.unget(),this.state=37):_===62?this.openTag():_===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const _=this.captureNameChars();_===61?this.state=39:u(_)?this.state=38:_===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):_!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const _=this.skipSpaces();switch(_){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",_===62?this.openTag():d(_)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const _=this.getCodeNorm();B(_)?(this.q=_,this.state=40):u(_)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:_,chunk:S}=this;let{i:k}=this;for(;;)switch(this.getCode()){case _:return this.pushAttrib(this.name,this.text+S.slice(k,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(k,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(k,this.prevI)+" ",k=this.i;break;case 60:return this.text+=S.slice(k,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(k))}}sAttribValueClosed(){const _=this.getCodeNorm();u(_)?this.state=36:_===62?this.openTag():_===47?this.state=35:d(_)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const _=this.captureTo(K);switch(_){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",_===62?this.openTag():this.state=36}}sCloseTag(){const _=this.captureNameChars();_===62?this.closeTag():u(_)?this.state=44:_!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:_,forbiddenState:S}=this;const{chunk:k,textHandler:N}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,N!==void 0){const{text:D}=this,L=k.slice(_,this.prevI);D.length!==0?(N(D+L),this.text=""):L.length!==0&&N(L)}S=0;break e;case 38:this.state=14,this.entityReturnState=13,N!==void 0&&(this.text+=k.slice(_,this.prevI)),S=0;break e;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:N!==void 0&&(this.text+=k.slice(_,this.prevI)+`
`),_=this.i,S=0;break;case-1:N!==void 0&&(this.text+=k.slice(_));break e;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:_}=this;const{chunk:S,textHandler:k}=this;let N=!1;e:for(;;){const D=this.getCode();switch(D){case 60:if(this.state=15,k!==void 0){const{text:L}=this,V=S.slice(_,this.prevI);L.length!==0?(k(L+V),this.text=""):V.length!==0&&k(V)}break e;case 38:this.state=14,this.entityReturnState=13,k!==void 0&&(this.text+=S.slice(_,this.prevI)),N=!0;break e;case-2:k!==void 0&&(this.text+=S.slice(_,this.prevI)+`
`),_=this.i;break;case-1:k!==void 0&&(this.text+=S.slice(_));break e;default:u(D)||(N=!0)}}N&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(_,S){var k;const{prefix:N,local:D}=this.qname(_),L={name:_,prefix:N,local:D,value:S};if(this.attribList.push(L),(k=this.attributeHandler)===null||k===void 0||k.call(this,L),N==="xmlns"){const V=S.trim();this.currentXMLVersion==="1.0"&&V===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[D]=V,H(this,D,V)}else if(_==="xmlns"){const V=S.trim();this.topNS[""]=V,H(this,"",V)}}pushAttribPlain(_,S){var k;const N={name:_,value:S};this.attribList.push(N),(k=this.attributeHandler)===null||k===void 0||k.call(this,N)}end(){var _,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:k}=this;for(;k.length>0;){const D=k.pop();this.fail("unclosed tag: "+D.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:N}=this;return N.length!==0&&((_=this.textHandler)===null||_===void 0||_.call(this,N),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(_){var S,k;let N=this.topNS[_];if(N!==void 0)return N;const{tags:D}=this;for(let L=D.length-1;L>=0;L--)if(N=D[L].ns[_],N!==void 0)return N;return N=this.ns[_],N!==void 0?N:(k=(S=this.opt).resolvePrefix)===null||k===void 0?void 0:k.call(S,_)}qname(_){const S=_.indexOf(":");if(S===-1)return{prefix:"",local:_};const k=_.slice(S+1),N=_.slice(0,S);return(N===""||k===""||k.includes(":"))&&this.fail(`malformed name: ${_}.`),{prefix:N,local:k}}processAttribsNS(){var _;const{attribList:S}=this,k=this.tag;{const{prefix:L,local:V}=this.qname(k.name);k.prefix=L,k.local=V;const Q=k.uri=(_=this.resolve(L))!==null&&_!==void 0?_:"";L!==""&&(L==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Q===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(L)}.`),k.uri=L))}if(S.length===0)return;const{attributes:N}=k,D=new Set;for(const L of S){const{name:V,prefix:Q,local:Y}=L;let re,O;Q===""?(re=V==="xmlns"?j:"",O=V):(re=this.resolve(Q),re===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Q)}.`),re=Q),O=`{${re}}${Y}`),D.has(O)&&this.fail(`duplicate attribute: ${O}.`),D.add(O),L.uri=re,N[V]=L}this.attribList=[]}processAttribsPlain(){const{attribList:_}=this,S=this.tag.attributes;for(const{name:k,value:N}of _)S[k]!==void 0&&this.fail(`duplicate attribute: ${k}.`),S[k]=N;this.attribList=[]}openTag(){var _;this.processAttribs();const{tags:S}=this,k=this.tag;k.isSelfClosing=!1,(_=this.openTagHandler)===null||_===void 0||_.call(this,k),S.push(k),this.state=13,this.name=""}openSelfClosingTag(){var _,S,k;this.processAttribs();const{tags:N}=this,D=this.tag;D.isSelfClosing=!0,(_=this.openTagHandler)===null||_===void 0||_.call(this,D),(S=this.closeTagHandler)===null||S===void 0||S.call(this,D),(this.tag=(k=N[N.length-1])!==null&&k!==void 0?k:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:_,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const k=this.closeTagHandler;let N=_.length;for(;N-- >0;){const D=this.tag=_.pop();if(this.topNS=D.ns,k?.(D),D.name===S)break;this.fail("unexpected close tag.")}N===0?this.closedRoot=!0:N<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(_){if(_[0]!=="#"){const k=this.ENTITIES[_];return k!==void 0?k:(this.fail(this.isName(_)?"undefined entity.":"disallowed character in entity name."),`&${_};`)}let S=NaN;return _[1]==="x"&&/^#x[0-9a-f]+$/i.test(_)?S=parseInt(_.slice(2),16):/^#[0-9]+$/.test(_)&&(S=parseInt(_.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${_};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,s){var a=e("safe-buffer").Buffer;function i(c,u){this._block=a.alloc(c),this._finalSize=u,this._blockSize=c,this._len=0}i.prototype.update=function(c,u){typeof c=="string"&&(u=u||"utf8",c=a.from(c,u));for(var o=this._block,d=this._blockSize,p=c.length,f=this._len,h=0;h<p;){for(var g=f%d,y=Math.min(p-h,d-g),m=0;m<y;m++)o[g+m]=c[h+m];h+=y,(f+=y)%d==0&&this._update(o)}return this._len+=p,this},i.prototype.digest=function(c){var u=this._len%this._blockSize;this._block[u]=128,this._block.fill(0,u+1),u>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=8*this._len;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var d=(4294967295&o)>>>0,p=(o-d)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var f=this._hash();return c?f.toString(c):f},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=i},{"safe-buffer":494}],498:[function(e,n,s){var a=n.exports=function(i){i=i.toLowerCase();var c=a[i];if(!c)throw new Error(i+" is not supported (we accept pull requests)");return new c};a.sha=e("./sha"),a.sha1=e("./sha1"),a.sha224=e("./sha224"),a.sha256=e("./sha256"),a.sha384=e("./sha384"),a.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,s){var a=e("inherits"),i=e("./hash"),c=e("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function d(){this.init(),this._w=o,i.call(this,64,56)}function p(h){return h<<30|h>>>2}function f(h,g,y,m){return h===0?g&y|~g&m:h===2?g&y|g&m|y&m:g^y^m}a(d,i),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(h){for(var g,y=this._w,m=0|this._a,v=0|this._b,x=0|this._c,j=0|this._d,T=0|this._e,E=0;E<16;++E)y[E]=h.readInt32BE(4*E);for(;E<80;++E)y[E]=y[E-3]^y[E-8]^y[E-14]^y[E-16];for(var B=0;B<80;++B){var W=~~(B/20),I=0|((g=m)<<5|g>>>27)+f(W,v,x,j)+T+y[B]+u[W];T=j,j=x,x=p(v),v=m,m=I}this._a=m+this._a|0,this._b=v+this._b|0,this._c=x+this._c|0,this._d=j+this._d|0,this._e=T+this._e|0},d.prototype._hash=function(){var h=c.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,s){var a=e("inherits"),i=e("./hash"),c=e("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function d(){this.init(),this._w=o,i.call(this,64,56)}function p(g){return g<<5|g>>>27}function f(g){return g<<30|g>>>2}function h(g,y,m,v){return g===0?y&m|~y&v:g===2?y&m|y&v|m&v:y^m^v}a(d,i),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(g){for(var y,m=this._w,v=0|this._a,x=0|this._b,j=0|this._c,T=0|this._d,E=0|this._e,B=0;B<16;++B)m[B]=g.readInt32BE(4*B);for(;B<80;++B)m[B]=(y=m[B-3]^m[B-8]^m[B-14]^m[B-16])<<1|y>>>31;for(var W=0;W<80;++W){var I=~~(W/20),R=p(v)+h(I,x,j,T)+E+m[W]+u[I]|0;E=T,T=j,j=f(x),x=v,v=R}this._a=v+this._a|0,this._b=x+this._b|0,this._c=j+this._c|0,this._d=T+this._d|0,this._e=E+this._e|0},d.prototype._hash=function(){var g=c.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,s){var a=e("inherits"),i=e("./sha256"),c=e("./hash"),u=e("safe-buffer").Buffer,o=new Array(64);function d(){this.init(),this._w=o,c.call(this,64,56)}a(d,i),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var p=u.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},n.exports=d},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,s){var a=e("inherits"),i=e("./hash"),c=e("safe-buffer").Buffer,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function d(){this.init(),this._w=o,i.call(this,64,56)}function p(m,v,x){return x^m&(v^x)}function f(m,v,x){return m&v|x&(m|v)}function h(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function g(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function y(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}a(d,i),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},d.prototype._update=function(m){for(var v,x=this._w,j=0|this._a,T=0|this._b,E=0|this._c,B=0|this._d,W=0|this._e,I=0|this._f,R=0|this._g,$=0|this._h,K=0;K<16;++K)x[K]=m.readInt32BE(4*K);for(;K<64;++K)x[K]=0|(((v=x[K-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+x[K-7]+y(x[K-15])+x[K-16];for(var H=0;H<64;++H){var M=$+g(W)+p(W,I,R)+u[H]+x[H]|0,F=h(j)+f(j,T,E)|0;$=R,R=I,I=W,W=B+M|0,B=E,E=T,T=j,j=M+F|0}this._a=j+this._a|0,this._b=T+this._b|0,this._c=E+this._c|0,this._d=B+this._d|0,this._e=W+this._e|0,this._f=I+this._f|0,this._g=R+this._g|0,this._h=$+this._h|0},d.prototype._hash=function(){var m=c.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,s){var a=e("inherits"),i=e("./sha512"),c=e("./hash"),u=e("safe-buffer").Buffer,o=new Array(160);function d(){this.init(),this._w=o,c.call(this,128,112)}a(d,i),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var p=u.allocUnsafe(48);function f(h,g,y){p.writeInt32BE(h,y),p.writeInt32BE(g,y+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),p},n.exports=d},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,s){var a=e("inherits"),i=e("./hash"),c=e("safe-buffer").Buffer,u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function d(){this.init(),this._w=o,i.call(this,128,112)}function p(T,E,B){return B^T&(E^B)}function f(T,E,B){return T&E|B&(T|E)}function h(T,E){return(T>>>28|E<<4)^(E>>>2|T<<30)^(E>>>7|T<<25)}function g(T,E){return(T>>>14|E<<18)^(T>>>18|E<<14)^(E>>>9|T<<23)}function y(T,E){return(T>>>1|E<<31)^(T>>>8|E<<24)^T>>>7}function m(T,E){return(T>>>1|E<<31)^(T>>>8|E<<24)^(T>>>7|E<<25)}function v(T,E){return(T>>>19|E<<13)^(E>>>29|T<<3)^T>>>6}function x(T,E){return(T>>>19|E<<13)^(E>>>29|T<<3)^(T>>>6|E<<26)}function j(T,E){return T>>>0<E>>>0?1:0}a(d,i),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},d.prototype._update=function(T){for(var E=this._w,B=0|this._ah,W=0|this._bh,I=0|this._ch,R=0|this._dh,$=0|this._eh,K=0|this._fh,H=0|this._gh,M=0|this._hh,F=0|this._al,C=0|this._bl,_=0|this._cl,S=0|this._dl,k=0|this._el,N=0|this._fl,D=0|this._gl,L=0|this._hl,V=0;V<32;V+=2)E[V]=T.readInt32BE(4*V),E[V+1]=T.readInt32BE(4*V+4);for(;V<160;V+=2){var Q=E[V-30],Y=E[V-30+1],re=y(Q,Y),O=m(Y,Q),Z=v(Q=E[V-4],Y=E[V-4+1]),U=x(Y,Q),z=E[V-14],G=E[V-14+1],ae=E[V-32],pe=E[V-32+1],de=O+G|0,ge=re+z+j(de,O)|0;ge=(ge=ge+Z+j(de=de+U|0,U)|0)+ae+j(de=de+pe|0,pe)|0,E[V]=ge,E[V+1]=de}for(var te=0;te<160;te+=2){ge=E[te],de=E[te+1];var oe=f(B,W,I),ne=f(F,C,_),he=h(B,F),ce=h(F,B),ie=g($,k),ee=g(k,$),se=u[te],le=u[te+1],ve=p($,K,H),_e=p(k,N,D),Te=L+ee|0,Fe=M+ie+j(Te,L)|0;Fe=(Fe=(Fe=Fe+ve+j(Te=Te+_e|0,_e)|0)+se+j(Te=Te+le|0,le)|0)+ge+j(Te=Te+de|0,de)|0;var Be=ce+ne|0,ze=he+oe+j(Be,ce)|0;M=H,L=D,H=K,D=N,K=$,N=k,$=R+Fe+j(k=S+Te|0,S)|0,R=I,S=_,I=W,_=C,W=B,C=F,B=Fe+ze+j(F=Te+Be|0,Te)|0}this._al=this._al+F|0,this._bl=this._bl+C|0,this._cl=this._cl+_|0,this._dl=this._dl+S|0,this._el=this._el+k|0,this._fl=this._fl+N|0,this._gl=this._gl+D|0,this._hl=this._hl+L|0,this._ah=this._ah+B+j(this._al,F)|0,this._bh=this._bh+W+j(this._bl,C)|0,this._ch=this._ch+I+j(this._cl,_)|0,this._dh=this._dh+R+j(this._dl,S)|0,this._eh=this._eh+$+j(this._el,k)|0,this._fh=this._fh+K+j(this._fl,N)|0,this._gh=this._gh+H+j(this._gl,D)|0,this._hh=this._hh+M+j(this._hl,L)|0},d.prototype._hash=function(){var T=c.allocUnsafe(64);function E(B,W,I){T.writeInt32BE(B,I),T.writeInt32BE(W,I+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),T},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,s){n.exports=i;var a=e("events").EventEmitter;function i(){a.call(this)}e("inherits")(i,a),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(c,u){var o=this;function d(v){c.writable&&c.write(v)===!1&&o.pause&&o.pause()}function p(){o.readable&&o.resume&&o.resume()}o.on("data",d),c.on("drain",p),c._isStdio||u&&u.end===!1||(o.on("end",h),o.on("close",g));var f=!1;function h(){f||(f=!0,c.end())}function g(){f||(f=!0,typeof c.destroy=="function"&&c.destroy())}function y(v){if(m(),a.listenerCount(this,"error")===0)throw v}function m(){o.removeListener("data",d),c.removeListener("drain",p),o.removeListener("end",h),o.removeListener("close",g),o.removeListener("error",y),c.removeListener("error",y),o.removeListener("end",m),o.removeListener("close",m),c.removeListener("close",m)}return o.on("error",y),c.on("error",y),o.on("end",m),o.on("close",m),c.on("close",m),c.emit("pipe",o),c}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,s){var a={}.toString;n.exports=Array.isArray||function(i){return a.call(i)=="[object Array]"}},{}],507:[function(e,n,s){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,s){var a=e("process-nextick-args"),i=Object.keys||function(m){var v=[];for(var x in m)v.push(x);return v};n.exports=h;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var u=e("./_stream_readable"),o=e("./_stream_writable");c.inherits(h,u);for(var d=i(o.prototype),p=0;p<d.length;p++){var f=d[p];h.prototype[f]||(h.prototype[f]=o.prototype[f])}function h(m){if(!(this instanceof h))return new h(m);u.call(this,m),o.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||a.nextTick(y,this)}function y(m){m.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),h.prototype._destroy=function(m,v){this.push(null),this.end(),a.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,s){n.exports=c;var a=e("./_stream_transform"),i=Object.create(e("core-util-is"));function c(u){if(!(this instanceof c))return new c(u);a.call(this,u)}i.inherits=e("inherits"),i.inherits(c,a),c.prototype._transform=function(u,o,d){d(null,u)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,s){(function(a,i){(function(){var c=e("process-nextick-args");n.exports=B;var u,o=e("isarray");B.ReadableState=E,e("events").EventEmitter;var d=function(L,V){return L.listeners(V).length},p=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,h=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(e("core-util-is"));g.inherits=e("inherits");var y=e("util"),m=void 0;m=y&&y.debuglog?y.debuglog("stream"):function(){};var v,x=e("./internal/streams/BufferList"),j=e("./internal/streams/destroy");g.inherits(B,p);var T=["error","close","destroy","pause","resume"];function E(L,V){L=L||{};var Q=V instanceof(u=u||e("./_stream_duplex"));this.objectMode=!!L.objectMode,Q&&(this.objectMode=this.objectMode||!!L.readableObjectMode);var Y=L.highWaterMark,re=L.readableHighWaterMark,O=this.objectMode?16:16384;this.highWaterMark=Y||Y===0?Y:Q&&(re||re===0)?re:O,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new x,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(v||(v=e("string_decoder/").StringDecoder),this.decoder=new v(L.encoding),this.encoding=L.encoding)}function B(L){if(u=u||e("./_stream_duplex"),!(this instanceof B))return new B(L);this._readableState=new E(L,this),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),p.call(this)}function W(L,V,Q,Y,re){var O,Z=L._readableState;return V===null?(Z.reading=!1,(function(U,z){if(!z.ended){if(z.decoder){var G=z.decoder.end();G&&G.length&&(z.buffer.push(G),z.length+=z.objectMode?1:G.length)}z.ended=!0,$(U)}})(L,Z)):(re||(O=(function(U,z){var G;ae=z,f.isBuffer(ae)||ae instanceof h||typeof z=="string"||z===void 0||U.objectMode||(G=new TypeError("Invalid non-string/buffer chunk"));var ae;return G})(Z,V)),O?L.emit("error",O):Z.objectMode||V&&V.length>0?(typeof V=="string"||Z.objectMode||Object.getPrototypeOf(V)===f.prototype||(V=(function(U){return f.from(U)})(V)),Y?Z.endEmitted?L.emit("error",new Error("stream.unshift() after end event")):I(L,Z,V,!0):Z.ended?L.emit("error",new Error("stream.push() after EOF")):(Z.reading=!1,Z.decoder&&!Q?(V=Z.decoder.write(V),Z.objectMode||V.length!==0?I(L,Z,V,!1):H(L,Z)):I(L,Z,V,!1))):Y||(Z.reading=!1)),(function(U){return!U.ended&&(U.needReadable||U.length<U.highWaterMark||U.length===0)})(Z)}function I(L,V,Q,Y){V.flowing&&V.length===0&&!V.sync?(L.emit("data",Q),L.read(0)):(V.length+=V.objectMode?1:Q.length,Y?V.buffer.unshift(Q):V.buffer.push(Q),V.needReadable&&$(L)),H(L,V)}Object.defineProperty(B.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),B.prototype.destroy=j.destroy,B.prototype._undestroy=j.undestroy,B.prototype._destroy=function(L,V){this.push(null),V(L)},B.prototype.push=function(L,V){var Q,Y=this._readableState;return Y.objectMode?Q=!0:typeof L=="string"&&((V=V||Y.defaultEncoding)!==Y.encoding&&(L=f.from(L,V),V=""),Q=!0),W(this,L,V,!1,Q)},B.prototype.unshift=function(L){return W(this,L,null,!0,!1)},B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(L){return v||(v=e("string_decoder/").StringDecoder),this._readableState.decoder=new v(L),this._readableState.encoding=L,this};function R(L,V){return L<=0||V.length===0&&V.ended?0:V.objectMode?1:L!=L?V.flowing&&V.length?V.buffer.head.data.length:V.length:(L>V.highWaterMark&&(V.highWaterMark=(function(Q){return Q>=8388608?Q=8388608:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q})(L)),L<=V.length?L:V.ended?V.length:(V.needReadable=!0,0))}function $(L){var V=L._readableState;V.needReadable=!1,V.emittedReadable||(m("emitReadable",V.flowing),V.emittedReadable=!0,V.sync?c.nextTick(K,L):K(L))}function K(L){m("emit readable"),L.emit("readable"),_(L)}function H(L,V){V.readingMore||(V.readingMore=!0,c.nextTick(M,L,V))}function M(L,V){for(var Q=V.length;!V.reading&&!V.flowing&&!V.ended&&V.length<V.highWaterMark&&(m("maybeReadMore read 0"),L.read(0),Q!==V.length);)Q=V.length;V.readingMore=!1}function F(L){m("readable nexttick read 0"),L.read(0)}function C(L,V){V.reading||(m("resume read 0"),L.read(0)),V.resumeScheduled=!1,V.awaitDrain=0,L.emit("resume"),_(L),V.flowing&&!V.reading&&L.read(0)}function _(L){var V=L._readableState;for(m("flow",V.flowing);V.flowing&&L.read()!==null;);}function S(L,V){return V.length===0?null:(V.objectMode?Q=V.buffer.shift():!L||L>=V.length?(Q=V.decoder?V.buffer.join(""):V.buffer.length===1?V.buffer.head.data:V.buffer.concat(V.length),V.buffer.clear()):Q=(function(Y,re,O){var Z;return Y<re.head.data.length?(Z=re.head.data.slice(0,Y),re.head.data=re.head.data.slice(Y)):Z=Y===re.head.data.length?re.shift():O?(function(U,z){var G=z.head,ae=1,pe=G.data;for(U-=pe.length;G=G.next;){var de=G.data,ge=U>de.length?de.length:U;if(ge===de.length?pe+=de:pe+=de.slice(0,U),(U-=ge)===0){ge===de.length?(++ae,G.next?z.head=G.next:z.head=z.tail=null):(z.head=G,G.data=de.slice(ge));break}++ae}return z.length-=ae,pe})(Y,re):(function(U,z){var G=f.allocUnsafe(U),ae=z.head,pe=1;for(ae.data.copy(G),U-=ae.data.length;ae=ae.next;){var de=ae.data,ge=U>de.length?de.length:U;if(de.copy(G,G.length-U,0,ge),(U-=ge)===0){ge===de.length?(++pe,ae.next?z.head=ae.next:z.head=z.tail=null):(z.head=ae,ae.data=de.slice(ge));break}++pe}return z.length-=pe,G})(Y,re),Z})(L,V.buffer,V.decoder),Q);var Q}function k(L){var V=L._readableState;if(V.length>0)throw new Error('"endReadable()" called on non-empty stream');V.endEmitted||(V.ended=!0,c.nextTick(N,V,L))}function N(L,V){L.endEmitted||L.length!==0||(L.endEmitted=!0,V.readable=!1,V.emit("end"))}function D(L,V){for(var Q=0,Y=L.length;Q<Y;Q++)if(L[Q]===V)return Q;return-1}B.prototype.read=function(L){m("read",L),L=parseInt(L,10);var V=this._readableState,Q=L;if(L!==0&&(V.emittedReadable=!1),L===0&&V.needReadable&&(V.length>=V.highWaterMark||V.ended))return m("read: emitReadable",V.length,V.ended),V.length===0&&V.ended?k(this):$(this),null;if((L=R(L,V))===0&&V.ended)return V.length===0&&k(this),null;var Y,re=V.needReadable;return m("need readable",re),(V.length===0||V.length-L<V.highWaterMark)&&m("length less than watermark",re=!0),V.ended||V.reading?m("reading or ended",re=!1):re&&(m("do read"),V.reading=!0,V.sync=!0,V.length===0&&(V.needReadable=!0),this._read(V.highWaterMark),V.sync=!1,V.reading||(L=R(Q,V))),(Y=L>0?S(L,V):null)===null?(V.needReadable=!0,L=0):V.length-=L,V.length===0&&(V.ended||(V.needReadable=!0),Q!==L&&V.ended&&k(this)),Y!==null&&this.emit("data",Y),Y},B.prototype._read=function(L){this.emit("error",new Error("_read() is not implemented"))},B.prototype.pipe=function(L,V){var Q=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=L;break;case 1:Y.pipes=[Y.pipes,L];break;default:Y.pipes.push(L)}Y.pipesCount+=1,m("pipe count=%d opts=%j",Y.pipesCount,V);var re=(!V||V.end!==!1)&&L!==a.stdout&&L!==a.stderr?Z:te;function O(oe,ne){m("onunpipe"),oe===Q&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,m("cleanup"),L.removeListener("close",de),L.removeListener("finish",ge),L.removeListener("drain",U),L.removeListener("error",pe),L.removeListener("unpipe",O),Q.removeListener("end",Z),Q.removeListener("end",te),Q.removeListener("data",ae),z=!0,!Y.awaitDrain||L._writableState&&!L._writableState.needDrain||U())}function Z(){m("onend"),L.end()}Y.endEmitted?c.nextTick(re):Q.once("end",re),L.on("unpipe",O);var U=(function(oe){return function(){var ne=oe._readableState;m("pipeOnDrain",ne.awaitDrain),ne.awaitDrain&&ne.awaitDrain--,ne.awaitDrain===0&&d(oe,"data")&&(ne.flowing=!0,_(oe))}})(Q);L.on("drain",U);var z=!1,G=!1;function ae(oe){m("ondata"),G=!1,L.write(oe)!==!1||G||((Y.pipesCount===1&&Y.pipes===L||Y.pipesCount>1&&D(Y.pipes,L)!==-1)&&!z&&(m("false write response, pause",Y.awaitDrain),Y.awaitDrain++,G=!0),Q.pause())}function pe(oe){m("onerror",oe),te(),L.removeListener("error",pe),d(L,"error")===0&&L.emit("error",oe)}function de(){L.removeListener("finish",ge),te()}function ge(){m("onfinish"),L.removeListener("close",de),te()}function te(){m("unpipe"),Q.unpipe(L)}return Q.on("data",ae),(function(oe,ne,he){if(typeof oe.prependListener=="function")return oe.prependListener(ne,he);oe._events&&oe._events[ne]?o(oe._events[ne])?oe._events[ne].unshift(he):oe._events[ne]=[he,oe._events[ne]]:oe.on(ne,he)})(L,"error",pe),L.once("close",de),L.once("finish",ge),L.emit("pipe",Q),Y.flowing||(m("pipe resume"),Q.resume()),L},B.prototype.unpipe=function(L){var V=this._readableState,Q={hasUnpiped:!1};if(V.pipesCount===0)return this;if(V.pipesCount===1)return L&&L!==V.pipes||(L||(L=V.pipes),V.pipes=null,V.pipesCount=0,V.flowing=!1,L&&L.emit("unpipe",this,Q)),this;if(!L){var Y=V.pipes,re=V.pipesCount;V.pipes=null,V.pipesCount=0,V.flowing=!1;for(var O=0;O<re;O++)Y[O].emit("unpipe",this,{hasUnpiped:!1});return this}var Z=D(V.pipes,L);return Z===-1||(V.pipes.splice(Z,1),V.pipesCount-=1,V.pipesCount===1&&(V.pipes=V.pipes[0]),L.emit("unpipe",this,Q)),this},B.prototype.on=function(L,V){var Q=p.prototype.on.call(this,L,V);if(L==="data")this._readableState.flowing!==!1&&this.resume();else if(L==="readable"){var Y=this._readableState;Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.emittedReadable=!1,Y.reading?Y.length&&$(this):c.nextTick(F,this))}return Q},B.prototype.addListener=B.prototype.on,B.prototype.resume=function(){var L=this._readableState;return L.flowing||(m("resume"),L.flowing=!0,(function(V,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,c.nextTick(C,V,Q))})(this,L)),this},B.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},B.prototype.wrap=function(L){var V=this,Q=this._readableState,Y=!1;for(var re in L.on("end",(function(){if(m("wrapped end"),Q.decoder&&!Q.ended){var Z=Q.decoder.end();Z&&Z.length&&V.push(Z)}V.push(null)})),L.on("data",(function(Z){m("wrapped data"),Q.decoder&&(Z=Q.decoder.write(Z)),Q.objectMode&&Z==null||(Q.objectMode||Z&&Z.length)&&(V.push(Z)||(Y=!0,L.pause()))})),L)this[re]===void 0&&typeof L[re]=="function"&&(this[re]=(function(Z){return function(){return L[Z].apply(L,arguments)}})(re));for(var O=0;O<T.length;O++)L.on(T[O],this.emit.bind(this,T[O]));return this._read=function(Z){m("wrapped _read",Z),Y&&(Y=!1,L.resume())},this},Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),B._fromList=S}).call(this)}).call(this,e("_process"),typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,s){n.exports=u;var a=e("./_stream_duplex"),i=Object.create(e("core-util-is"));function c(p,f){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,f!=null&&this.push(f),g(p);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function u(p){if(!(this instanceof u))return new u(p);a.call(this,p),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",o)}function o(){var p=this;typeof this._flush=="function"?this._flush((function(f,h){d(p,f,h)})):d(this,null,null)}function d(p,f,h){if(f)return p.emit("error",f);if(h!=null&&p.push(h),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}i.inherits=e("inherits"),i.inherits(u,a),u.prototype.push=function(p,f){return this._transformState.needTransform=!1,a.prototype.push.call(this,p,f)},u.prototype._transform=function(p,f,h){throw new Error("_transform() is not implemented")},u.prototype._write=function(p,f,h){var g=this._transformState;if(g.writecb=h,g.writechunk=p,g.writeencoding=f,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},u.prototype._read=function(p){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},u.prototype._destroy=function(p,f){var h=this;a.prototype._destroy.call(this,p,(function(g){f(g),h.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,s){(function(a,i,c){(function(){var u=e("process-nextick-args");function o(H){var M=this;this.next=null,this.entry=null,this.finish=function(){(function(F,C,_){var S=F.entry;for(F.entry=null;S;){var k=S.callback;C.pendingcb--,k(_),S=S.next}C.corkedRequestsFree.next=F})(M,H)}}n.exports=E;var d,p=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?c:u.nextTick;E.WritableState=T;var f=Object.create(e("core-util-is"));f.inherits=e("inherits");var h={deprecate:e("util-deprecate")},g=e("./internal/streams/stream"),y=e("safe-buffer").Buffer,m=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,x=e("./internal/streams/destroy");function j(){}function T(H,M){d=d||e("./_stream_duplex"),H=H||{};var F=M instanceof d;this.objectMode=!!H.objectMode,F&&(this.objectMode=this.objectMode||!!H.writableObjectMode);var C=H.highWaterMark,_=H.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=C||C===0?C:F&&(_||_===0)?_:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var k=H.decodeStrings===!1;this.decodeStrings=!k,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){(function(D,L){var V=D._writableState,Q=V.sync,Y=V.writecb;if((function(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0})(V),L)(function(O,Z,U,z,G){--Z.pendingcb,U?(u.nextTick(G,z),u.nextTick(K,O,Z),O._writableState.errorEmitted=!0,O.emit("error",z)):(G(z),O._writableState.errorEmitted=!0,O.emit("error",z),K(O,Z))})(D,V,Q,L,Y);else{var re=R(V);re||V.corked||V.bufferProcessing||!V.bufferedRequest||I(D,V),Q?p(W,D,V,re,Y):W(D,V,re,Y)}})(M,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function E(H){if(d=d||e("./_stream_duplex"),!(v.call(E,this)||this instanceof d))return new E(H);this._writableState=new T(H,this),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),g.call(this)}function B(H,M,F,C,_,S,k){M.writelen=C,M.writecb=k,M.writing=!0,M.sync=!0,F?H._writev(_,M.onwrite):H._write(_,S,M.onwrite),M.sync=!1}function W(H,M,F,C){F||(function(_,S){S.length===0&&S.needDrain&&(S.needDrain=!1,_.emit("drain"))})(H,M),M.pendingcb--,C(),K(H,M)}function I(H,M){M.bufferProcessing=!0;var F=M.bufferedRequest;if(H._writev&&F&&F.next){var C=M.bufferedRequestCount,_=new Array(C),S=M.corkedRequestsFree;S.entry=F;for(var k=0,N=!0;F;)_[k]=F,F.isBuf||(N=!1),F=F.next,k+=1;_.allBuffers=N,B(H,M,!0,M.length,_,"",S.finish),M.pendingcb++,M.lastBufferedRequest=null,S.next?(M.corkedRequestsFree=S.next,S.next=null):M.corkedRequestsFree=new o(M),M.bufferedRequestCount=0}else{for(;F;){var D=F.chunk,L=F.encoding,V=F.callback;if(B(H,M,!1,M.objectMode?1:D.length,D,L,V),F=F.next,M.bufferedRequestCount--,M.writing)break}F===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=F,M.bufferProcessing=!1}function R(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function $(H,M){H._final((function(F){M.pendingcb--,F&&H.emit("error",F),M.prefinished=!0,H.emit("prefinish"),K(H,M)}))}function K(H,M){var F=R(M);return F&&((function(C,_){_.prefinished||_.finalCalled||(typeof C._final=="function"?(_.pendingcb++,_.finalCalled=!0,u.nextTick($,C,_)):(_.prefinished=!0,C.emit("prefinish")))})(H,M),M.pendingcb===0&&(M.finished=!0,H.emit("finish"))),F}f.inherits(E,g),T.prototype.getBuffer=function(){for(var H=this.bufferedRequest,M=[];H;)M.push(H),H=H.next;return M},(function(){try{Object.defineProperty(T.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(H){return!!v.call(this,H)||this===E&&H&&H._writableState instanceof T}})):v=function(H){return H instanceof this},E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},E.prototype.write=function(H,M,F){var C,_=this._writableState,S=!1,k=!_.objectMode&&(C=H,y.isBuffer(C)||C instanceof m);return k&&!y.isBuffer(H)&&(H=(function(N){return y.from(N)})(H)),typeof M=="function"&&(F=M,M=null),k?M="buffer":M||(M=_.defaultEncoding),typeof F!="function"&&(F=j),_.ended?(function(N,D){var L=new Error("write after end");N.emit("error",L),u.nextTick(D,L)})(this,F):(k||(function(N,D,L,V){var Q=!0,Y=!1;return L===null?Y=new TypeError("May not write null values to stream"):typeof L=="string"||L===void 0||D.objectMode||(Y=new TypeError("Invalid non-string/buffer chunk")),Y&&(N.emit("error",Y),u.nextTick(V,Y),Q=!1),Q})(this,_,H,F))&&(_.pendingcb++,S=(function(N,D,L,V,Q,Y){if(!L){var re=(function(z,G,ae){return z.objectMode||z.decodeStrings===!1||typeof G!="string"||(G=y.from(G,ae)),G})(D,V,Q);V!==re&&(L=!0,Q="buffer",V=re)}var O=D.objectMode?1:V.length;D.length+=O;var Z=D.length<D.highWaterMark;if(Z||(D.needDrain=!0),D.writing||D.corked){var U=D.lastBufferedRequest;D.lastBufferedRequest={chunk:V,encoding:Q,isBuf:L,callback:Y,next:null},U?U.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else B(N,D,!1,O,V,Q,Y);return Z})(this,_,k,H,M,F)),S},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,H.writing||H.corked||H.bufferProcessing||!H.bufferedRequest||I(this,H))},E.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(H,M,F){F(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(H,M,F){var C=this._writableState;typeof H=="function"?(F=H,H=null,M=null):typeof M=="function"&&(F=M,M=null),H!=null&&this.write(H,M),C.corked&&(C.corked=1,this.uncork()),C.ending||(function(_,S,k){S.ending=!0,K(_,S),k&&(S.finished?u.nextTick(k):_.once("finish",k)),S.ended=!0,_.writable=!1})(this,C,F)},Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),E.prototype.destroy=x.destroy,E.prototype._undestroy=x.undestroy,E.prototype._destroy=function(H,M){this.end(),M(H)}}).call(this)}).call(this,e("_process"),typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,s){var a=e("safe-buffer").Buffer,i=e("util");n.exports=(function(){function c(){(function(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(u){var o={data:u,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},c.prototype.unshift=function(u){var o={data:u,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},c.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(u){if(this.length===0)return"";for(var o=this.head,d=""+o.data;o=o.next;)d+=u+o.data;return d},c.prototype.concat=function(u){if(this.length===0)return a.alloc(0);for(var o,d,p,f=a.allocUnsafe(u>>>0),h=this.head,g=0;h;)o=h.data,d=f,p=g,o.copy(d,p),g+=h.data.length,h=h.next;return f},c})(),i&&i.inspect&&i.inspect.custom&&(n.exports.prototype[i.inspect.custom]=function(){var c=i.inspect({length:this.length});return this.constructor.name+" "+c})},{"safe-buffer":520,util:188}],514:[function(e,n,s){var a=e("process-nextick-args");function i(c,u){c.emit("error",u)}n.exports={destroy:function(c,u){var o=this,d=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return d||p?(u?u(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(i,this,c)):a.nextTick(i,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,(function(f){!u&&f?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,a.nextTick(i,o,f)):a.nextTick(i,o,f):u&&u(f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(e,n,s){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,s){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,s){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,s){(function(a,i){(function(){var c=e("process/browser.js").nextTick,u=Function.prototype.apply,o=Array.prototype.slice,d={},p=0;function f(h,g){this._id=h,this._clearFn=g}s.setTimeout=function(){return new f(u.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new f(u.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout((function(){h._onTimeout&&h._onTimeout()}),g))},s.setImmediate=typeof a=="function"?a:function(h){var g=p++,y=!(arguments.length<2)&&o.call(arguments,1);return d[g]=!0,c((function(){d[g]&&(y?h.apply(null,y):h.call(null),s.clearImmediate(g))})),g},s.clearImmediate=typeof i=="function"?i:function(h){delete d[h]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,s){(function(a){(function(){function i(c){try{if(!a.localStorage)return!1}catch{return!1}var u=a.localStorage[c];return u!=null&&String(u).toLowerCase()==="true"}n.exports=function(c,u){if(i("noDeprecation"))return c;var o=!1;return function(){if(!o){if(i("throwDeprecation"))throw new Error(u);i("traceDeprecation")?console.trace(u):console.warn(u),o=!0}return c.apply(this,arguments)}}}).call(this)}).call(this,typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,s){typeof Object.create=="function"?n.exports=function(a,i){a.super_=i,a.prototype=Object.create(i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(a,i){a.super_=i;var c=function(){};c.prototype=i.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],526:[function(e,n,s){n.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],527:[function(e,n,s){(function(a,i){(function(){var c=/%[sdj%]/g;s.format=function(_){if(!T(_)){for(var S=[],k=0;k<arguments.length;k++)S.push(d(arguments[k]));return S.join(" ")}k=1;for(var N=arguments,D=N.length,L=String(_).replace(c,(function(Q){if(Q==="%%")return"%";if(k>=D)return Q;switch(Q){case"%s":return String(N[k++]);case"%d":return Number(N[k++]);case"%j":try{return JSON.stringify(N[k++])}catch{return"[Circular]"}default:return Q}})),V=N[k];k<D;V=N[++k])x(V)||!W(V)?L+=" "+V:L+=" "+d(V);return L},s.deprecate=function(_,S){if(E(i.process))return function(){return s.deprecate(_,S).apply(this,arguments)};if(a.noDeprecation===!0)return _;var k=!1;return function(){if(!k){if(a.throwDeprecation)throw new Error(S);a.traceDeprecation?console.trace(S):console.error(S),k=!0}return _.apply(this,arguments)}};var u,o={};function d(_,S){var k={seen:[],stylize:f};return arguments.length>=3&&(k.depth=arguments[2]),arguments.length>=4&&(k.colors=arguments[3]),v(S)?k.showHidden=S:S&&s._extend(k,S),E(k.showHidden)&&(k.showHidden=!1),E(k.depth)&&(k.depth=2),E(k.colors)&&(k.colors=!1),E(k.customInspect)&&(k.customInspect=!0),k.colors&&(k.stylize=p),h(k,_,k.depth)}function p(_,S){var k=d.styles[S];return k?"\x1B["+d.colors[k][0]+"m"+_+"\x1B["+d.colors[k][1]+"m":_}function f(_,S){return _}function h(_,S,k){if(_.customInspect&&S&&$(S.inspect)&&S.inspect!==s.inspect&&(!S.constructor||S.constructor.prototype!==S)){var N=S.inspect(k,_);return T(N)||(N=h(_,N,k)),N}var D=(function(U,z){if(E(z))return U.stylize("undefined","undefined");if(T(z)){var G="'"+JSON.stringify(z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return U.stylize(G,"string")}if(j(z))return U.stylize(""+z,"number");if(v(z))return U.stylize(""+z,"boolean");if(x(z))return U.stylize("null","null")})(_,S);if(D)return D;var L=Object.keys(S),V=(function(U){var z={};return U.forEach((function(G,ae){z[G]=!0})),z})(L);if(_.showHidden&&(L=Object.getOwnPropertyNames(S)),R(S)&&(L.indexOf("message")>=0||L.indexOf("description")>=0))return g(S);if(L.length===0){if($(S)){var Q=S.name?": "+S.name:"";return _.stylize("[Function"+Q+"]","special")}if(B(S))return _.stylize(RegExp.prototype.toString.call(S),"regexp");if(I(S))return _.stylize(Date.prototype.toString.call(S),"date");if(R(S))return g(S)}var Y,re="",O=!1,Z=["{","}"];return m(S)&&(O=!0,Z=["[","]"]),$(S)&&(re=" [Function"+(S.name?": "+S.name:"")+"]"),B(S)&&(re=" "+RegExp.prototype.toString.call(S)),I(S)&&(re=" "+Date.prototype.toUTCString.call(S)),R(S)&&(re=" "+g(S)),L.length!==0||O&&S.length!=0?k<0?B(S)?_.stylize(RegExp.prototype.toString.call(S),"regexp"):_.stylize("[Object]","special"):(_.seen.push(S),Y=O?(function(U,z,G,ae,pe){for(var de=[],ge=0,te=z.length;ge<te;++ge)C(z,String(ge))?de.push(y(U,z,G,ae,String(ge),!0)):de.push("");return pe.forEach((function(oe){oe.match(/^\d+$/)||de.push(y(U,z,G,ae,oe,!0))})),de})(_,S,k,V,L):L.map((function(U){return y(_,S,k,V,U,O)})),_.seen.pop(),(function(U,z,G){return U.reduce((function(ae,pe){return pe.indexOf(`
`)>=0,ae+pe.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?G[0]+(z===""?"":z+`
 `)+" "+U.join(`,
  `)+" "+G[1]:G[0]+z+" "+U.join(", ")+" "+G[1]})(Y,re,Z)):Z[0]+re+Z[1]}function g(_){return"["+Error.prototype.toString.call(_)+"]"}function y(_,S,k,N,D,L){var V,Q,Y;if((Y=Object.getOwnPropertyDescriptor(S,D)||{value:S[D]}).get?Q=Y.set?_.stylize("[Getter/Setter]","special"):_.stylize("[Getter]","special"):Y.set&&(Q=_.stylize("[Setter]","special")),C(N,D)||(V="["+D+"]"),Q||(_.seen.indexOf(Y.value)<0?(Q=x(k)?h(_,Y.value,null):h(_,Y.value,k-1)).indexOf(`
`)>-1&&(Q=L?Q.split(`
`).map((function(re){return"  "+re})).join(`
`).substr(2):`
`+Q.split(`
`).map((function(re){return"   "+re})).join(`
`)):Q=_.stylize("[Circular]","special")),E(V)){if(L&&D.match(/^\d+$/))return Q;(V=JSON.stringify(""+D)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.substr(1,V.length-2),V=_.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=_.stylize(V,"string"))}return V+": "+Q}function m(_){return Array.isArray(_)}function v(_){return typeof _=="boolean"}function x(_){return _===null}function j(_){return typeof _=="number"}function T(_){return typeof _=="string"}function E(_){return _===void 0}function B(_){return W(_)&&K(_)==="[object RegExp]"}function W(_){return typeof _=="object"&&_!==null}function I(_){return W(_)&&K(_)==="[object Date]"}function R(_){return W(_)&&(K(_)==="[object Error]"||_ instanceof Error)}function $(_){return typeof _=="function"}function K(_){return Object.prototype.toString.call(_)}function H(_){return _<10?"0"+_.toString(10):_.toString(10)}s.debuglog=function(_){if(E(u)&&(u=a.env.NODE_DEBUG||""),_=_.toUpperCase(),!o[_])if(new RegExp("\\b"+_+"\\b","i").test(u)){var S=a.pid;o[_]=function(){var k=s.format.apply(s,arguments);console.error("%s %d: %s",_,S,k)}}else o[_]=function(){};return o[_]},s.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=m,s.isBoolean=v,s.isNull=x,s.isNullOrUndefined=function(_){return _==null},s.isNumber=j,s.isString=T,s.isSymbol=function(_){return typeof _=="symbol"},s.isUndefined=E,s.isRegExp=B,s.isObject=W,s.isDate=I,s.isError=R,s.isFunction=$,s.isPrimitive=function(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||_===void 0},s.isBuffer=e("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var _=new Date,S=[H(_.getHours()),H(_.getMinutes()),H(_.getSeconds())].join(":");return[_.getDate(),M[_.getMonth()],S].join(" ")}function C(_,S){return Object.prototype.hasOwnProperty.call(_,S)}s.log=function(){console.log("%s - %s",F(),s.format.apply(s,arguments))},s.inherits=e("inherits"),s._extend=function(_,S){if(!S||!W(S))return _;for(var k=Object.keys(S),N=k.length;N--;)_[k[N]]=S[k[N]];return _}}).call(this)}).call(this,e("_process"),typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return h.default}});var a=g(e("./v1.js")),i=g(e("./v3.js")),c=g(e("./v4.js")),u=g(e("./v5.js")),o=g(e("./nil.js")),d=g(e("./version.js")),p=g(e("./validate.js")),f=g(e("./stringify.js")),h=g(e("./parse.js"));function g(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,s){function a(h){return 14+(h+64>>>9<<4)+1}function i(h,g){const y=(65535&h)+(65535&g);return(h>>16)+(g>>16)+(y>>16)<<16|65535&y}function c(h,g,y,m,v,x){return i((j=i(i(g,h),i(m,x)))<<(T=v)|j>>>32-T,y);var j,T}function u(h,g,y,m,v,x,j){return c(g&y|~g&m,h,g,v,x,j)}function o(h,g,y,m,v,x,j){return c(g&m|y&~m,h,g,v,x,j)}function d(h,g,y,m,v,x,j){return c(g^y^m,h,g,v,x,j)}function p(h,g,y,m,v,x,j){return c(y^(g|~m),h,g,v,x,j)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var f=function(h){if(typeof h=="string"){const g=unescape(encodeURIComponent(h));h=new Uint8Array(g.length);for(let y=0;y<g.length;++y)h[y]=g.charCodeAt(y)}return(function(g){const y=[],m=32*g.length;for(let v=0;v<m;v+=8){const x=g[v>>5]>>>v%32&255,j=parseInt("0123456789abcdef".charAt(x>>>4&15)+"0123456789abcdef".charAt(15&x),16);y.push(j)}return y})((function(g,y){g[y>>5]|=128<<y%32,g[a(y)-1]=y;let m=1732584193,v=-271733879,x=-1732584194,j=271733878;for(let T=0;T<g.length;T+=16){const E=m,B=v,W=x,I=j;m=u(m,v,x,j,g[T],7,-680876936),j=u(j,m,v,x,g[T+1],12,-389564586),x=u(x,j,m,v,g[T+2],17,606105819),v=u(v,x,j,m,g[T+3],22,-1044525330),m=u(m,v,x,j,g[T+4],7,-176418897),j=u(j,m,v,x,g[T+5],12,1200080426),x=u(x,j,m,v,g[T+6],17,-1473231341),v=u(v,x,j,m,g[T+7],22,-45705983),m=u(m,v,x,j,g[T+8],7,1770035416),j=u(j,m,v,x,g[T+9],12,-1958414417),x=u(x,j,m,v,g[T+10],17,-42063),v=u(v,x,j,m,g[T+11],22,-1990404162),m=u(m,v,x,j,g[T+12],7,1804603682),j=u(j,m,v,x,g[T+13],12,-40341101),x=u(x,j,m,v,g[T+14],17,-1502002290),v=u(v,x,j,m,g[T+15],22,1236535329),m=o(m,v,x,j,g[T+1],5,-165796510),j=o(j,m,v,x,g[T+6],9,-1069501632),x=o(x,j,m,v,g[T+11],14,643717713),v=o(v,x,j,m,g[T],20,-373897302),m=o(m,v,x,j,g[T+5],5,-701558691),j=o(j,m,v,x,g[T+10],9,38016083),x=o(x,j,m,v,g[T+15],14,-660478335),v=o(v,x,j,m,g[T+4],20,-405537848),m=o(m,v,x,j,g[T+9],5,568446438),j=o(j,m,v,x,g[T+14],9,-1019803690),x=o(x,j,m,v,g[T+3],14,-187363961),v=o(v,x,j,m,g[T+8],20,1163531501),m=o(m,v,x,j,g[T+13],5,-1444681467),j=o(j,m,v,x,g[T+2],9,-51403784),x=o(x,j,m,v,g[T+7],14,1735328473),v=o(v,x,j,m,g[T+12],20,-1926607734),m=d(m,v,x,j,g[T+5],4,-378558),j=d(j,m,v,x,g[T+8],11,-2022574463),x=d(x,j,m,v,g[T+11],16,1839030562),v=d(v,x,j,m,g[T+14],23,-35309556),m=d(m,v,x,j,g[T+1],4,-1530992060),j=d(j,m,v,x,g[T+4],11,1272893353),x=d(x,j,m,v,g[T+7],16,-155497632),v=d(v,x,j,m,g[T+10],23,-1094730640),m=d(m,v,x,j,g[T+13],4,681279174),j=d(j,m,v,x,g[T],11,-358537222),x=d(x,j,m,v,g[T+3],16,-722521979),v=d(v,x,j,m,g[T+6],23,76029189),m=d(m,v,x,j,g[T+9],4,-640364487),j=d(j,m,v,x,g[T+12],11,-421815835),x=d(x,j,m,v,g[T+15],16,530742520),v=d(v,x,j,m,g[T+2],23,-995338651),m=p(m,v,x,j,g[T],6,-198630844),j=p(j,m,v,x,g[T+7],10,1126891415),x=p(x,j,m,v,g[T+14],15,-1416354905),v=p(v,x,j,m,g[T+5],21,-57434055),m=p(m,v,x,j,g[T+12],6,1700485571),j=p(j,m,v,x,g[T+3],10,-1894986606),x=p(x,j,m,v,g[T+10],15,-1051523),v=p(v,x,j,m,g[T+1],21,-2054922799),m=p(m,v,x,j,g[T+8],6,1873313359),j=p(j,m,v,x,g[T+15],10,-30611744),x=p(x,j,m,v,g[T+6],15,-1560198380),v=p(v,x,j,m,g[T+13],21,1309151649),m=p(m,v,x,j,g[T+4],6,-145523070),j=p(j,m,v,x,g[T+11],10,-1120210379),x=p(x,j,m,v,g[T+2],15,718787259),v=p(v,x,j,m,g[T+9],21,-343485551),m=i(m,E),v=i(v,B),x=i(x,W),j=i(j,I)}return[m,v,x,j]})((function(g){if(g.length===0)return[];const y=8*g.length,m=new Uint32Array(a(y));for(let v=0;v<y;v+=8)m[v>>5]|=(255&g[v/8])<<v%32;return m})(h),8*h.length))};s.default=f},{}],530:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,i=(a=e("./validate.js"))&&a.__esModule?a:{default:a},c=function(u){if(!(0,i.default)(u))throw TypeError("Invalid UUID");let o;const d=new Uint8Array(16);return d[0]=(o=parseInt(u.slice(0,8),16))>>>24,d[1]=o>>>16&255,d[2]=o>>>8&255,d[3]=255&o,d[4]=(o=parseInt(u.slice(9,13),16))>>>8,d[5]=255&o,d[6]=(o=parseInt(u.slice(14,18),16))>>>8,d[7]=255&o,d[8]=(o=parseInt(u.slice(19,23),16))>>>8,d[9]=255&o,d[10]=(o=parseInt(u.slice(24,36),16))/1099511627776&255,d[11]=o/4294967296&255,d[12]=o>>>24&255,d[13]=o>>>16&255,d[14]=o>>>8&255,d[15]=255&o,d};s.default=c},{"./validate.js":541}],532:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,s){let a;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(i)};const i=new Uint8Array(16)},{}],534:[function(e,n,s){function a(u,o,d,p){switch(u){case 0:return o&d^~o&p;case 1:return o^d^p;case 2:return o&d^o&p^d&p;case 3:return o^d^p}}function i(u,o){return u<<o|u>>>32-o}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=function(u){const o=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof u=="string"){const g=unescape(encodeURIComponent(u));u=[];for(let y=0;y<g.length;++y)u.push(g.charCodeAt(y))}else Array.isArray(u)||(u=Array.prototype.slice.call(u));u.push(128);const p=u.length/4+2,f=Math.ceil(p/16),h=new Array(f);for(let g=0;g<f;++g){const y=new Uint32Array(16);for(let m=0;m<16;++m)y[m]=u[64*g+4*m]<<24|u[64*g+4*m+1]<<16|u[64*g+4*m+2]<<8|u[64*g+4*m+3];h[g]=y}h[f-1][14]=8*(u.length-1)/Math.pow(2,32),h[f-1][14]=Math.floor(h[f-1][14]),h[f-1][15]=8*(u.length-1)&4294967295;for(let g=0;g<f;++g){const y=new Uint32Array(80);for(let E=0;E<16;++E)y[E]=h[g][E];for(let E=16;E<80;++E)y[E]=i(y[E-3]^y[E-8]^y[E-14]^y[E-16],1);let m=d[0],v=d[1],x=d[2],j=d[3],T=d[4];for(let E=0;E<80;++E){const B=Math.floor(E/20),W=i(m,5)+a(B,v,x,j)+T+o[B]+y[E]>>>0;T=j,j=x,x=i(v,30)>>>0,v=m,m=W}d[0]=d[0]+m>>>0,d[1]=d[1]+v>>>0,d[2]=d[2]+x>>>0,d[3]=d[3]+j>>>0,d[4]=d[4]+T>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,255&d[0],d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,255&d[1],d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,255&d[2],d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,255&d[3],d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,255&d[4]]};s.default=c},{}],535:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,i=(a=e("./validate.js"))&&a.__esModule?a:{default:a};const c=[];for(let o=0;o<256;++o)c.push((o+256).toString(16).substr(1));var u=function(o){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const p=(c[o[d+0]]+c[o[d+1]]+c[o[d+2]]+c[o[d+3]]+"-"+c[o[d+4]]+c[o[d+5]]+"-"+c[o[d+6]]+c[o[d+7]]+"-"+c[o[d+8]]+c[o[d+9]]+"-"+c[o[d+10]]+c[o[d+11]]+c[o[d+12]]+c[o[d+13]]+c[o[d+14]]+c[o[d+15]]).toLowerCase();if(!(0,i.default)(p))throw TypeError("Stringified UUID is invalid");return p};s.default=u},{"./validate.js":541}],536:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=c(e("./rng.js")),i=c(e("./stringify.js"));function c(h){return h&&h.__esModule?h:{default:h}}let u,o,d=0,p=0;var f=function(h,g,y){let m=g&&y||0;const v=g||new Array(16);let x=(h=h||{}).node||u,j=h.clockseq!==void 0?h.clockseq:o;if(x==null||j==null){const R=h.random||(h.rng||a.default)();x==null&&(x=u=[1|R[0],R[1],R[2],R[3],R[4],R[5]]),j==null&&(j=o=16383&(R[6]<<8|R[7]))}let T=h.msecs!==void 0?h.msecs:Date.now(),E=h.nsecs!==void 0?h.nsecs:p+1;const B=T-d+(E-p)/1e4;if(B<0&&h.clockseq===void 0&&(j=j+1&16383),(B<0||T>d)&&h.nsecs===void 0&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=T,p=E,o=j,T+=122192928e5;const W=(1e4*(268435455&T)+E)%4294967296;v[m++]=W>>>24&255,v[m++]=W>>>16&255,v[m++]=W>>>8&255,v[m++]=255&W;const I=T/4294967296*1e4&268435455;v[m++]=I>>>8&255,v[m++]=255&I,v[m++]=I>>>24&15|16,v[m++]=I>>>16&255,v[m++]=j>>>8|128,v[m++]=255&j;for(let R=0;R<6;++R)v[m+R]=x[R];return g||(0,i.default)(v)};s.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=c(e("./v35.js")),i=c(e("./md5.js"));function c(o){return o&&o.__esModule?o:{default:o}}var u=(0,a.default)("v3",48,i.default);s.default=u},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(d,p,f){function h(g,y,m,v){if(typeof g=="string"&&(g=(function(j){j=unescape(encodeURIComponent(j));const T=[];for(let E=0;E<j.length;++E)T.push(j.charCodeAt(E));return T})(g)),typeof y=="string"&&(y=(0,i.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let x=new Uint8Array(16+g.length);if(x.set(y),x.set(g,y.length),x=f(x),x[6]=15&x[6]|p,x[8]=63&x[8]|128,m){v=v||0;for(let j=0;j<16;++j)m[v+j]=x[j];return m}return(0,a.default)(x)}try{h.name=d}catch{}return h.DNS=u,h.URL=o,h},s.URL=s.DNS=void 0;var a=c(e("./stringify.js")),i=c(e("./parse.js"));function c(d){return d&&d.__esModule?d:{default:d}}const u="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=u;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=o},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=c(e("./rng.js")),i=c(e("./stringify.js"));function c(o){return o&&o.__esModule?o:{default:o}}var u=function(o,d,p){const f=(o=o||{}).random||(o.rng||a.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,d){p=p||0;for(let h=0;h<16;++h)d[p+h]=f[h];return d}return(0,i.default)(f)};s.default=u},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=c(e("./v35.js")),i=c(e("./sha1.js"));function c(o){return o&&o.__esModule?o:{default:o}}var u=(0,a.default)("v5",80,i.default);s.default=u},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,i=(a=e("./regex.js"))&&a.__esModule?a:{default:a},c=function(u){return typeof u=="string"&&i.default.test(u)};s.default=c},{"./regex.js":532}],542:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,i=(a=e("./validate.js"))&&a.__esModule?a:{default:a},c=function(u){if(!(0,i.default)(u))throw TypeError("Invalid UUID");return parseInt(u.substr(14,1),16)};s.default=c},{"./validate.js":541}],543:[function(e,n,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function a(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(i){return i>=32&&i<=55295||i===10||i===13||i===9||i>=57344&&i<=65533||i>=65536&&i<=1114111},s.isS=function(i){return i===32||i===10||i===13||i===9},s.isNameStartChar=a,s.isNameChar=function(i){return a(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],544:[function(e,n,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function a(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(i){return i>=1&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},s.isRestrictedChar=function(i){return i>=1&&i<=8||i===11||i===12||i>=14&&i<=31||i>=127&&i<=132||i>=134&&i<=159},s.isCharAndNotRestricted=function(i){return i===9||i===10||i===13||i>31&&i<127||i===133||i>159&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},s.isS=function(i){return i===32||i===10||i===13||i===9},s.isNameStartChar=a,s.isNameChar=function(i){return a(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],545:[function(e,n,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function a(i){return i>=65&&i<=90||i===95||i>=97&&i<=122||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8204&&i<=8205||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=a,s.isNCNameChar=function(i){return a(i)||i===45||i===46||i>=48&&i<=57||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}]},{},[15])(15)}))})(C1)),C1.exports}var h3=zue();const p3=z2(h3),jO=f9({__proto__:null,default:p3},[h3]);var qg={exports:{}},Vue=qg.exports,pN;function Uue(){return pN||(pN=1,(function(t,r){(function(e,n){n()})(Vue,function(){function e(o,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function n(o,d,p){var f=new XMLHttpRequest;f.open("GET",o),f.responseType="blob",f.onload=function(){u(f.response,d,p)},f.onerror=function(){console.error("could not download file")},f.send()}function s(o){var d=new XMLHttpRequest;d.open("HEAD",o,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function a(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(d)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof $r=="object"&&$r.global===$r?$r:void 0,c=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(o,d,p){var f=i.URL||i.webkitURL,h=document.createElement("a");d=d||o.name||"download",h.download=d,h.rel="noopener",typeof o=="string"?(h.href=o,h.origin===location.origin?a(h):s(h.href)?n(o,d,p):a(h,h.target="_blank")):(h.href=f.createObjectURL(o),setTimeout(function(){f.revokeObjectURL(h.href)},4e4),setTimeout(function(){a(h)},0))}:"msSaveOrOpenBlob"in navigator?function(o,d,p){if(d=d||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(e(o,p),d);else if(s(o))n(o,d,p);else{var f=document.createElement("a");f.href=o,f.target="_blank",setTimeout(function(){a(f)})}}:function(o,d,p,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof o=="string")return n(o,d,p);var h=o.type==="application/octet-stream",g=/constructor/i.test(i.HTMLElement)||i.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||h&&g||c)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var j=m.result;j=y?j:j.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=j:location=j,f=null},m.readAsDataURL(o)}else{var v=i.URL||i.webkitURL,x=v.createObjectURL(o);f?f.location=x:location.href=x,f=null,setTimeout(function(){v.revokeObjectURL(x)},4e4)}});i.saveAs=u.saveAs=u,t.exports=u})})(qg)),qg.exports}var m3=Uue();async function Wue(t){const r=new p3.Workbook,e=r.addWorksheet(" ");e.views=[{rightToLeft:!0}],e.columns=[{header:"",key:"purchaseDate",width:15},{header:" ",key:"materialName",width:20},{header:"",key:"materialCategory",width:15},{header:"",key:"quantity",width:10},{header:"",key:"unit",width:10},{header:" ",key:"unitPrice",width:12},{header:" ",key:"totalAmount",width:15},{header:" ",key:"purchaseType",width:12},{header:"",key:"supplierName",width:20},{header:" ",key:"invoiceNumber",width:15},{header:"",key:"projectName",width:20},{header:"",key:"notes",width:30}];const n=e.getRow(1);n.font={bold:!0,color:{argb:"FFFFFFFF"}},n.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},n.alignment={vertical:"middle",horizontal:"center"},t.forEach(u=>{const o=e.addRow({purchaseDate:u.purchaseDate?Nr(new Date(u.purchaseDate),"yyyy-MM-dd"):"",materialName:u.materialName||u.material?.name||"",materialCategory:u.materialCategory||u.material?.category||"",quantity:u.quantity,unit:u.materialUnit||u.unit||u.material?.unit||"",unitPrice:u.unitPrice,totalAmount:u.totalAmount,purchaseType:u.purchaseType||"",supplierName:u.supplierName||"",invoiceNumber:u.invoiceNumber||"",projectName:u.projectName||u.project?.name||" ",notes:u.notes||""});o.alignment={vertical:"middle",horizontal:"right"}});const s=t.reduce((u,o)=>u+parseFloat(o.totalAmount||"0"),0),a=e.addRow({purchaseDate:"",totalAmount:s});a.font={bold:!0},a.getCell("totalAmount").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}};const i=await r.xlsx.writeBuffer(),c=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});m3.saveAs(c,`__${Nr(new Date,"yyyy-MM-dd_HH-mm")}.xlsx`)}function que(){const[,t]=Rs(),{selectedProjectId:r,isAllProjects:e,getProjectIdForApi:n}=ko(),[s,a]=P.useState(""),[i,c]=P.useState({paymentType:"all",category:"all",dateRange:void 0,dateFrom:"",dateTo:"",specificDate:""}),[u,o]=P.useState(!1),[d,p]=P.useState(!1),f=P.useCallback((xe,Ue)=>{xe==="selectedDate"?ve(Ue?Nr(new Date(Ue),"yyyy-MM-dd"):""):c(at=>({...at,[xe]:Ue}))},[]),g=new URLSearchParams(window.location.search).get("edit"),[y,m]=P.useState(""),[v,x]=P.useState(""),[j,T]=P.useState(""),[E,B]=P.useState(""),[W,I]=P.useState(""),[R,$]=P.useState(""),[K,H]=P.useState(""),[M,F]=P.useState(""),[C,_]=P.useState(qs()),[S,k]=P.useState(qs()),[N,D]=P.useState(""),[L,V]=P.useState(""),[Q,Y]=P.useState(null),[re,O]=P.useState(!0),[Z,U]=P.useState(!1),[z,G]=P.useState(""),[ae,pe]=P.useState(""),[de,ge]=P.useState(""),[te,oe]=P.useState(""),[ne,he]=P.useState(""),[ce,ie]=P.useState(""),[ee,se]=P.useState(),[le,ve]=P.useState(()=>new URLSearchParams(window.location.search).get("date")||""),{toast:_e}=wn(),Te=xs(),{setFloatingAction:Fe}=jo(),Be=P.useCallback(()=>{a(""),ve(""),c({paymentType:"all",category:"all",dateRange:void 0,dateFrom:"",dateTo:"",specificDate:""}),_e({title:"  ",description:"      "})},[_e]);P.useEffect(()=>{},[]),P.useEffect(()=>(Fe(null),()=>Fe(null)),[Fe]);const ze=async(xe,Ue)=>{if(!(!Ue||typeof Ue!="string"||!Ue.trim()))try{await qe("/api/autocomplete","POST",{category:xe,value:Ue.trim()})}catch(at){console.log(`Failed to save autocomplete value for ${xe}:`,at)}},Je=()=>{G(""),pe(""),ge(""),oe(""),he(""),ie("")},ft=$t({mutationFn:async xe=>(await Promise.all([ze("supplier_name",z),ze("supplier_contact_person",ae),ze("supplier_phone",de),ze("supplier_address",te),ze("supplier_payment_terms",ne)]),qe("/api/suppliers","POST",xe)),onSuccess:xe=>{Te.invalidateQueries({queryKey:["/api/suppliers"]}),_e({title:"   ",description:`   "${z}"   `}),H(z),U(!1),Je()},onError:xe=>{_e({title:"   ",description:xe?.message||"    .    .",variant:"destructive"})}}),bt=async xe=>{if(xe.preventDefault(),!z.trim()){_e({title:"  ",description:"   ",variant:"destructive"});return}const Ue={name:z.trim(),contactPerson:ae.trim()||void 0,phone:de.trim()||void 0,address:te.trim()||void 0,paymentTerms:ne||void 0,notes:ce.trim()||void 0,isActive:!0};ft.mutate(Ue)},{data:rt=[]}=Pt({queryKey:["/api/materials"],queryFn:async()=>{try{const xe=await qe("/api/materials","GET");return xe&&xe.data&&Array.isArray(xe.data)?xe.data:Array.isArray(xe)?xe:[]}catch(xe){return console.error("Error fetching materials:",xe),[]}},staleTime:3e5,gcTime:6e5}),{data:we=[]}=Pt({queryKey:["/api/suppliers"],queryFn:async()=>{try{const xe=await qe("/api/suppliers","GET");return xe&&xe.data&&Array.isArray(xe.data)?xe.data:Array.isArray(xe)?xe:[]}catch(xe){return console.error("Error fetching suppliers:",xe),[]}},staleTime:3e5,gcTime:6e5}),{data:me,isLoading:Ke}=Pt({queryKey:["/api/material-purchases",g],queryFn:async()=>{if(!g)return null;try{console.log(`    : ${g}`);const xe=await qe(`/api/material-purchases/${g}`,"GET");console.log("    :",xe);let Ue=null;if(xe&&xe.data)Ue=xe.data;else if(xe&&xe.id)Ue=xe;else return console.warn("     "),null;return console.log("     :",Ue),Ue}catch(xe){return console.error("      :",xe),null}},enabled:!!g,retry:1,staleTime:0});P.useEffect(()=>{if(me&&g){console.log("    :",me),console.log("   :",{purchaseToEdit:{materialName:me.materialName,materialCategory:me.materialCategory,materialUnit:me.materialUnit,unit:me.unit},material:me.material?{name:me.material.name,category:me.material.category,unit:me.material.unit}:"    "});const xe=me.materialName||me.material?.name||"",Ue=me.materialCategory||me.material?.category||"",at=me.materialUnit||me.unit||me.material?.unit||"";console.log("     :",{materialName:xe,materialCategory:Ue,materialUnit:at}),m(xe),x(Ue),T(at),B(me.quantity?.toString()||""),I(me.unitPrice?.toString()||""),$(me.purchaseType||""),H(me.supplierName||""),F(me.invoiceNumber||""),_(me.invoiceDate||""),k(me.purchaseDate||""),D(me.notes||""),V(me.invoicePhoto||""),Y(me.id),console.log("    :",{materialName:xe,materialCategory:Ue,materialUnit:at,quantity:me.quantity,unitPrice:me.unitPrice,purchaseType:me.purchaseType})}},[me,g]),$t({mutationFn:xe=>qe("/api/materials","POST",xe),onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/materials"]})},onError:xe=>{console.error("Material creation error:",xe);let Ue="    ";xe?.response?.data?.message&&(Ue=xe.response.data.message),_e({title:"",description:Ue,variant:"destructive"})}}),Array.isArray(rt)&&rt.map(xe=>xe.name),Array.isArray(rt)&&Array.from(new Set(rt.map(xe=>xe.unit)));const{data:He=[]}=Pt({queryKey:["/api/projects",r,"material-purchases",le],enabled:!!r,queryFn:async()=>await qe(`/api/projects/${r}/material-purchases?date=${le}`,"GET")}),It=P.useMemo(()=>He&&He.data&&Array.isArray(He.data)?He.data:Array.isArray(He)?He:[],[He]),Zt=P.useMemo(()=>{const xe=Array.isArray(rt)?rt.map(mt=>mt.category):[],Ue=Array.isArray(It)?It.map(mt=>mt.materialCategory):[];return Array.from(new Set([...xe,...Ue])).filter(Boolean).map(mt=>mt.trim()).filter(mt=>mt!=="")},[rt,It]),kt=Array.isArray(we)?we.filter(xe=>xe.isActive):[],Jt=$t({mutationFn:async xe=>(await Promise.all([ze("materialNames",y),ze("materialCategories",v),ze("materialUnits",j),ze("supplierNames",K),ze("invoiceNumbers",M),ze("notes",N)]),qe("/api/material-purchases","POST",xe)),onMutate:async xe=>{await Te.cancelQueries({queryKey:["/api/projects",r,"material-purchases",le]});const Ue=Te.getQueryData(["/api/projects",r,"material-purchases",le]);return Te.setQueryData(["/api/projects",r,"material-purchases",le],at=>{const mt={id:`temp-${Date.now()}`,...xe,createdAt:new Date().toISOString()};return at?[...at,mt]:[mt]}),_e({title:" ",description:"  "}),{previousData:Ue}},onSuccess:async()=>{Te.invalidateQueries({queryKey:["/api/autocomplete"]}),_e({title:" ",description:"    "}),rr(),Te.invalidateQueries({queryKey:["/api/projects",r,"material-purchases",le]})},onError:async xe=>{await Promise.all([ze("materialNames",y),ze("materialCategories",v),ze("materialUnits",j),ze("supplierNames",K),ze("invoiceNumbers",M),ze("notes",N)]),Te.invalidateQueries({queryKey:["/api/autocomplete"]}),console.error("Material purchase error:",xe);let Ue="     ",at=[];if(xe?.response?.data){const qt=xe.response.data;qt.message&&(Ue=qt.message),qt.details&&Array.isArray(qt.details)?at=qt.details:qt.validationErrors&&Array.isArray(qt.validationErrors)&&(at=qt.validationErrors)}const mt=at.length>0?`${Ue}

${at.map(qt=>` ${qt}`).join(`
`)}`:Ue;_e({title:"    ",description:mt,variant:"destructive",duration:8e3})}}),rr=()=>{m(""),x(""),T(""),B(""),I(""),$(""),H(""),F(""),_(qs()),k(qs()),D(""),V(""),Y(null)},Mt=$t({mutationFn:async({id:xe,data:Ue})=>{console.log(" [PATCH]   :",{id:xe,data:Ue}),await Promise.all([ze("materialNames",y),ze("materialCategories",v),ze("materialUnits",j),ze("supplierNames",K),ze("invoiceNumbers",M),ze("notes",N)]);const at=await qe(`/api/material-purchases/${xe}`,"PATCH",Ue);return console.log(" [PATCH]   :",at),at},onSuccess:async()=>{Te.invalidateQueries({queryKey:["/api/autocomplete"]}),_e({title:" ",description:"    "}),rr(),Te.invalidateQueries({queryKey:["/api/projects",r,"material-purchases",le]})},onError:async xe=>{await Promise.all([ze("materialNames",y),ze("materialCategories",v),ze("materialUnits",j),ze("supplierNames",K),ze("invoiceNumbers",M),ze("notes",N)]),Te.invalidateQueries({queryKey:["/api/autocomplete"]}),console.error("Material purchase update error:",xe);let Ue="     ",at=[];if(xe?.response?.data){const qt=xe.response.data;qt.message&&(Ue=qt.message),qt.details&&Array.isArray(qt.details)?at=qt.details:qt.validationErrors&&Array.isArray(qt.validationErrors)&&(at=qt.validationErrors)}const mt=at.length>0?`${Ue}

${at.map(qt=>` ${qt}`).join(`
`)}`:Ue;_e({title:"    ",description:mt,variant:"destructive",duration:8e3})}}),Ft=$t({mutationFn:xe=>qe(`/api/material-purchases/${xe}`,"DELETE"),onMutate:async xe=>{await Te.cancelQueries({queryKey:["/api/projects",r,"material-purchases",le]});const Ue=Te.getQueryData(["/api/projects",r,"material-purchases",le]);return Te.setQueryData(["/api/projects",r,"material-purchases",le],at=>at?at.filter(mt=>mt.id!==xe):[]),_e({title:" ",description:"    "}),{previousData:Ue}},onSuccess:()=>{_e({title:" ",description:"    "}),Te.invalidateQueries({queryKey:["/api/projects",r,"material-purchases",le]})},onError:xe=>{console.error("Material purchase delete error:",xe);let Ue="     ",at=[];if(xe?.response?.data){const qt=xe.response.data;qt.message&&(Ue=qt.message),qt.details&&Array.isArray(qt.details)&&(at=qt.details)}const mt=at.length>0?`${Ue}

${at.map(qt=>` ${qt}`).join(`
`)}`:Ue;_e({title:"    ",description:mt,variant:"destructive",duration:6e3})}}),_r=()=>{const xe=parseFloat(E)||0,Ue=parseFloat(W)||0;return(xe*Ue).toFixed(2)},Vt=xe=>{const Ue=xe.target.files?.[0];if(Ue){const at=new FileReader;at.onload=mt=>{V(mt.target?.result)},at.readAsDataURL(Ue)}},kr=(xe=!1)=>{if(!r||!y||!j||!E||!W){_e({title:"",description:"    ",variant:"destructive"});return}const Ue=parseFloat(_r()),at={projectId:r,materialName:y.trim(),materialCategory:v.trim()||null,materialUnit:j.trim(),quantity:parseFloat(E),unitPrice:parseFloat(W),totalAmount:Ue,purchaseType:R.trim(),paidAmount:R.trim()===""?Ue:0,remainingAmount:R.trim()===""?0:Ue,supplierName:K?.trim()||"",invoiceNumber:M?.trim()||"",invoiceDate:C||new Date().toISOString().split("T")[0],invoicePhoto:L||"",notes:N?.trim()||"",purchaseDate:S,wellId:ee||null};console.log("    :",{materialName:at.materialName,materialCategory:at.materialCategory,materialUnit:at.materialUnit,isEditing:!!Q}),Q?Mt.mutate({id:Q,data:at}):Jt.mutate(at),!xe&&!Q&&t("/daily-expenses")},{data:Bt=[],isLoading:er,refetch:xr}=Pt({queryKey:["/api/material-purchases",n()??"all",le],queryFn:async()=>{const xe=n(),Ue="/api/material-purchases",at=new URLSearchParams;xe&&xe!=="all"&&at.append("projectId",xe),le&&le!==""&&at.append("date",le);const mt=at.toString(),qt=mt?`${Ue}?${mt}`:Ue;console.log(` [Fetching] ${qt}`);const Wr=await qe(qt,"GET"),vt=Wr.data||Wr;return Array.isArray(vt)?vt:[]},enabled:!0,staleTime:0}),nr=P.useMemo(()=>Bt.filter(xe=>{const Ue=e||!r||xe.projectId===r,at=s===""||xe.materialName?.toLowerCase().includes(s.toLowerCase())||xe.supplierName?.toLowerCase().includes(s.toLowerCase())||xe.notes?.toLowerCase().includes(s.toLowerCase())||xe.materialCategory?.toLowerCase().includes(s.toLowerCase()),mt=i.paymentType==="all"||xe.purchaseType===i.paymentType,qt=!i.category||i.category==="all"||xe.materialCategory===i.category,Wr=!le||xe.purchaseDate===le;let vt=!0;if(i.dateRange?.from||i.dateRange?.to){const Nn=new Date(xe.purchaseDate);if(i.dateRange.from){const be=new Date(i.dateRange.from);be.setHours(0,0,0,0),vt=vt&&Nn>=be}if(i.dateRange.to){const be=new Date(i.dateRange.to);be.setHours(23,59,59,999),vt=vt&&Nn<=be}}let yn=!0;if(i.specificDate){const Nn=new Date(xe.purchaseDate),be=new Date(i.specificDate);yn=Nn.getFullYear()===be.getFullYear()&&Nn.getMonth()===be.getMonth()&&Nn.getDate()===be.getDate()}return Ue&&at&&mt&&qt&&vt&&Wr&&yn}),[Bt,r,e,s,i.paymentType,i.category,i.dateRange,i.specificDate,le]),Kt=P.useMemo(()=>({total:Bt.length,cash:Bt.filter(xe=>xe.purchaseType==="").length,credit:Bt.filter(xe=>xe.purchaseType?.includes("")||xe.purchaseType?.includes("")).length,supply:Bt.filter(xe=>xe.purchaseType==="").length,totalValue:Bt.reduce((xe,Ue)=>xe+parseFloat(Ue.totalAmount||"0"),0),avgValue:Bt.length>0?Bt.reduce((xe,Ue)=>xe+parseFloat(Ue.totalAmount||"0"),0)/Bt.length:0}),[Bt]),Se=P.useCallback(async()=>{o(!0);try{await xr()}finally{o(!1)}},[xr]);P.useEffect(()=>{(e||r)&&!Bt.length&&xr()},[r,e,xr,Bt.length]);const Re=xe=>{m(xe.materialName||xe.material?.name||""),x(xe.materialCategory||xe.material?.category||""),T(xe.materialUnit||xe.material?.unit||xe.unit||""),B(xe.quantity),I(xe.unitPrice),$(xe.purchaseType||xe.paymentType||""),H(xe.supplierName||""),F(xe.invoiceNumber||""),_(xe.invoiceDate||""),k(xe.purchaseDate||""),D(xe.notes||""),V(xe.invoicePhoto||""),Y(xe.id),O(!1)},We=xe=>{if(!xe)return"N/A";try{return new Date(xe).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(Ue){return console.error("Error formatting date:",xe,Ue),xe}},ct=xe=>{window.confirm("       ")&&Ft.mutate(xe)},Ut=P.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:Kt.total,icon:jn,color:"blue"},{key:"cash",label:" ",value:Kt.cash,icon:Sr,color:"green"},{key:"credit",label:" ",value:Kt.credit,icon:NA,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"supply",label:"",value:Kt.supply,icon:Bj,color:"purple"},{key:"totalValue",label:" ",value:Ye(Kt.totalValue),icon:Pn,color:"teal"},{key:"avgValue",label:" ",value:Ye(Kt.avgValue),icon:WW,color:"indigo"}]}],[Kt]),dt=P.useMemo(()=>[{key:"selectedDate",label:"",type:"date",placeholder:" "},{key:"category",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...(Zt||[]).map(xe=>({value:xe,label:xe}))]},{key:"paymentType",label:" ",type:"select",placeholder:"  ",options:[{value:"all",label:" "},{value:"",label:""},{value:"",label:""},{value:"",label:""}]},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"specificDate",label:"  ",type:"date",placeholder:"  "}],[Zt]),Gt=P.useCallback(async()=>{if(nr.length===0){_e({title:"  ",description:"       ",variant:"destructive"});return}p(!0);try{await Wue(nr),_e({title:"  ",description:`  ${nr.length}    Excel`})}catch(xe){console.error("Export error:",xe),_e({title:"  ",description:"     ",variant:"destructive"})}finally{p(!1)}},[nr,_e]),Wt=P.useMemo(()=>[{key:"export",label:d?" ...":" ",icon:jm,onClick:Gt,variant:"outline",disabled:d||nr.length===0}],[Gt,d,nr.length]);return l.jsxs("div",{className:"p-4 slide-in",children:[l.jsx(sl,{statsRows:Ut,searchValue:s,onSearchChange:a,searchPlaceholder:"    ...",showSearch:!0,filters:dt,filterValues:i,onFilterChange:f,onReset:Be,onRefresh:Se,isRefreshing:u,actions:Wt}),Ke&&g&&l.jsx(Ir,{className:"mb-4 border-blue-200 bg-blue-50",children:l.jsx(en,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}),l.jsx("span",{className:"text-blue-700",children:"    ..."})]})})}),l.jsx(Ai,{open:!re,onOpenChange:xe=>O(!xe),children:l.jsx(Ir,{className:"mb-4",children:l.jsxs(en,{className:re?"p-2":"p-4",children:[l.jsx(Pi,{asChild:!0,children:l.jsxs("div",{className:`flex items-center justify-between cursor-pointer hover:bg-muted/50 rounded-lg transition-colors ${re?"p-2 -m-2":"p-2 -m-2 mb-2"}`,children:[l.jsxs("h3",{className:`font-semibold text-foreground flex items-center gap-2 ${re?"text-base":"text-lg"}`,children:[l.jsx(jn,{className:re?"h-4 w-4 text-primary":"h-5 w-5 text-primary"}),Q?" ":"  "]}),l.jsx(Oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:re?l.jsx(rs,{className:"h-4 w-4"}):l.jsx(Qu,{className:"h-4 w-4"})})]})}),l.jsx(Mi,{children:l.jsxs("div",{className:"space-y-1 pt-2",children:[l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsx(ss,{value:y,onChange:m,category:"materialNames",placeholder:"    ..."})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsx(ss,{value:v,onChange:x,category:"materialCategories",placeholder:"    ..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground",children:""}),l.jsx(gt,{type:"number",inputMode:"decimal",value:E,onChange:xe=>B(xe.target.value),placeholder:"0",className:"text-center arabic-numbers"})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground",children:""}),l.jsx(ss,{value:j,onChange:T,category:"materialUnits",placeholder:"  ..."})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsx(gt,{type:"number",inputMode:"decimal",value:W,onChange:xe=>I(xe.target.value),placeholder:"0.00",className:"text-center arabic-numbers"})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsx(gt,{type:"number",value:_r(),readOnly:!0,className:"text-center arabic-numbers bg-muted"})]})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsxs(kO,{value:R,onValueChange:$,className:"flex gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[l.jsx(Wg,{value:"",id:"cash"}),l.jsx(Qe,{htmlFor:"cash",className:"text-sm",children:""})]}),l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[l.jsx(Wg,{value:"",id:"credit"}),l.jsx(Qe,{htmlFor:"credit",className:"text-sm",children:""})]}),l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[l.jsx(Wg,{value:"",id:"supply"}),l.jsx(Qe,{htmlFor:"supply",className:"text-sm",children:""})]})]})]}),l.jsx(om,{projectId:r,value:ee,onChange:se,optional:!0}),l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground",children:" /"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ts,{value:K,onValueChange:H,options:kt.map(xe=>({value:xe.name,label:xe.name,description:xe.contactPerson||void 0})),placeholder:" ...",searchPlaceholder:"  ...",emptyText:"   ",className:"flex-1"}),l.jsxs(Ks,{open:Z,onOpenChange:U,children:[l.jsx(Uf,{asChild:!0,children:l.jsx(Oe,{type:"button",variant:"outline",size:"icon",title:"  ",children:l.jsx(cs,{className:"h-4 w-4"})})}),l.jsxs(As,{className:"sm:max-w-[425px]",dir:"rtl",children:[l.jsxs(Gs,{children:[l.jsx(da,{children:"  "}),l.jsx(Pc,{children:"   .      ."})]}),l.jsxs("form",{onSubmit:bt,className:"form-grid",children:[l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Qe,{htmlFor:"supplier-name",children:" / *"}),l.jsx(gt,{id:"supplier-name",value:z,onChange:xe=>G(xe.target.value),placeholder:":   ",required:!0})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Qe,{htmlFor:"supplier-contact",children:" "}),l.jsx(gt,{id:"supplier-contact",value:ae,onChange:xe=>pe(xe.target.value),placeholder:":  "})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Qe,{htmlFor:"supplier-phone",children:" "}),l.jsx(gt,{id:"supplier-phone",value:de,onChange:xe=>ge(xe.target.value),placeholder:": 777123456",type:"tel"})]}),l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Qe,{htmlFor:"supplier-address",children:""}),l.jsx(gt,{id:"supplier-address",value:te,onChange:xe=>oe(xe.target.value),placeholder:":   "})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Qe,{htmlFor:"supplier-payment",children:" "}),l.jsxs(ga,{value:ne,onValueChange:he,children:[l.jsx(Qs,{children:l.jsx(ya,{placeholder:"  "})}),l.jsxs(Ys,{children:[l.jsx(zr,{value:"",children:""}),l.jsx(zr,{value:"",children:""}),l.jsx(zr,{value:" ",children:" "})]})]})]}),l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Qe,{htmlFor:"supplier-notes",children:""}),l.jsx(d3,{id:"supplier-notes",value:ce,onChange:xe=>ie(xe.target.value),placeholder:"  ...",rows:3})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx(Oe,{type:"submit",disabled:ft.isPending||!z.trim(),children:ft.isPending?" ...":" "}),l.jsx(Oe,{type:"button",variant:"outline",onClick:()=>{U(!1),Je()},children:""})]})]})]})]})]}),kt.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"   .  +   "})]}),l.jsx(Go,{label:" ",value:S,onChange:xe=>k(xe?Nr(xe,"yyyy-MM-dd"):"")}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsx(ss,{type:"number",inputMode:"numeric",value:M,onChange:F,category:"invoiceNumbers",placeholder:" ",className:"arabic-numbers"})]}),l.jsx(Go,{label:" ",value:C,onChange:xe=>_(xe?Nr(xe,"yyyy-MM-dd"):"")})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[L?l.jsxs("div",{className:"space-y-2",children:[l.jsx("img",{src:L,alt:"Invoice",className:"max-w-full max-h-32 mx-auto rounded"}),l.jsx("p",{className:"text-sm text-success",children:"   "})]}):l.jsxs(l.Fragment,{children:[l.jsx(wA,{className:"h-12 w-12 text-muted-foreground mx-auto"}),l.jsx("p",{className:"text-muted-foreground",children:"   "})]}),l.jsx(gt,{type:"file",accept:"image/*",onChange:Vt,className:"hidden",id:"invoice-photo"}),l.jsx(Qe,{htmlFor:"invoice-photo",className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg cursor-pointer hover:bg-primary/90 transition-colors inline-block",children:L?" ":" "})]})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground",children:""}),l.jsx(ss,{value:N,onChange:D,category:"notes",placeholder:"  ..."})]}),l.jsxs("div",{className:"space-y-3 pt-4",children:[l.jsxs(Oe,{onClick:()=>kr(!1),disabled:Jt.isPending||Mt.isPending,className:"w-full bg-success hover:bg-success/90 text-success-foreground",children:[l.jsx(Cc,{className:"ml-2 h-4 w-4"}),Jt.isPending||Mt.isPending?" ...":Q?" ":" "]}),!Q&&l.jsxs(Oe,{onClick:()=>kr(!0),disabled:Jt.isPending,variant:"outline",className:"w-full",children:[l.jsx(cs,{className:"ml-2 h-4 w-4"}),"  "]}),Q&&l.jsx(Oe,{onClick:rr,variant:"outline",className:"w-full",children:" "})]})]})})]})})}),er&&l.jsx(Ir,{className:"mt-4",children:l.jsx(en,{className:"p-4",children:l.jsx("div",{className:"text-center text-muted-foreground",children:"  ..."})})}),!er&&nr.length===0&&l.jsx(Ir,{className:"mt-4",children:l.jsx(en,{className:"p-4",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(jn,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),l.jsx("h3",{className:"text-lg font-medium",children:"  "}),l.jsx("p",{className:"text-sm",children:Bt.length>0?"       ":"     "})]})})}),nr.length>0&&l.jsx("div",{className:"mt-4",children:l.jsx(Ps,{columns:3,children:nr.map(xe=>{const Ue=xe.purchaseType===""?"#22c55e":xe.purchaseType===""?"#f97316":"#6366f1";return l.jsx(vn,{title:xe.materialName||"  ",subtitle:We(xe.purchaseDate),titleIcon:Bj,headerColor:Ue,badges:[{label:xe.purchaseType,variant:xe.purchaseType===""?"success":xe.purchaseType===""?"warning":"default"}],fields:[...e||!r?[{label:"",value:xe.projectName||xe.project?.name||" ",icon:bs,color:"info"}]:[],{label:"",value:xe.supplierName||" ",icon:On,color:"default"},{label:"",value:`${xe.quantity} ${xe.materialUnit||xe.unit}`,icon:jn,color:"warning",emphasis:!0},{label:" ",value:Ye(xe.unitPrice),icon:Sr,color:"default"},{label:"",value:Ye(xe.totalAmount),icon:Sr,color:xe.purchaseType===""?"success":xe.purchaseType===""?"warning":"default",emphasis:!0},{label:"",value:We(xe.purchaseDate),icon:ma,color:"muted"}],actions:[{icon:$c,label:"",onClick:()=>Re(xe),color:"blue"},{icon:ys,label:"",onClick:()=>ct(xe.id),color:"red"}],compact:!0},xe.id)})})})]})}function Hue({value:t,onValueChange:r,options:e,placeholder:n="...",emptyText:s="  ",allowCustom:a=!0,customPlaceholder:i=" ..."}){const[c,u]=P.useState(!1),[o,d]=P.useState(""),[p,f]=P.useState(!1),[h,g]=P.useState(""),y=P.useRef(null);P.useEffect(()=>{if(c&&y.current){y.current.focus();const E=setTimeout(()=>{y.current?.focus()},50);return()=>clearTimeout(E)}},[c]);const m=P.useMemo(()=>Array.from(new Set(e)).sort((B,W)=>String(B).localeCompare(String(W),"ar")),[e]),v=P.useMemo(()=>h?m.filter(E=>E.toLowerCase().includes(h.toLowerCase())):m,[m,h]),x=E=>{if(E==="__custom__"){f(!0);return}r(E),u(!1),f(!1),d(""),g("")},j=()=>{o.trim()&&(r(o.trim()),u(!1),f(!1),d(""),g(""))},T=t||n;return l.jsxs(c4,{open:c,onOpenChange:u,children:[l.jsx(u4,{asChild:!0,children:l.jsxs(Oe,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[l.jsx("span",{className:Pe("truncate",!t&&"text-muted-foreground"),children:T}),l.jsx(rs,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsxs(Eb,{className:"w-full p-0",align:"start",children:[l.jsx("div",{className:"border-b p-2",children:l.jsxs("div",{className:"relative",children:[l.jsx(Bl,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(gt,{ref:y,placeholder:"...",value:h,onChange:E=>g(E.target.value),className:"pr-8"})]})}),l.jsxs("div",{className:"max-h-60 overflow-auto",children:[v.length===0&&!a&&l.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:s}),v.map(E=>l.jsxs("button",{onClick:()=>x(E),className:"w-full flex items-center px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer",children:[l.jsx(Al,{className:Pe("mr-2 h-4 w-4",t===E?"opacity-100":"opacity-0")}),E]},E)),a&&l.jsxs("button",{onClick:()=>x("__custom__"),className:"w-full flex items-center px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer text-primary",children:[l.jsx(cs,{className:"mr-2 h-4 w-4"}),i]})]}),p&&l.jsxs("div",{className:"border-t p-3 space-y-2",children:[l.jsx(gt,{value:o,onChange:E=>d(E.target.value),placeholder:"  ...",onKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),j())},autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Oe,{onClick:j,size:"sm",className:"flex-1",disabled:!o.trim(),children:""}),l.jsx(Oe,{onClick:()=>{f(!1),d(""),g("")},size:"sm",variant:"outline",className:"flex-1",children:""})]})]})]})]})}const Kue={worker_transport:"border-l-blue-500",material_delivery:"border-l-green-500",concrete_transport:"border-l-orange-500",iron_platforms:"border-l-slate-500",fuel_shas:"border-l-red-500",fuel_hilux:"border-l-red-400",loading_unloading:"border-l-amber-500",maintenance:"border-l-purple-500",water_supply:"border-l-cyan-500",other:"border-l-slate-400"},Gue={worker_transport:"text-blue-500",material_delivery:"text-green-500",concrete_transport:"text-orange-500",iron_platforms:"text-slate-500",fuel_shas:"text-red-500",fuel_hilux:"text-red-400",loading_unloading:"text-amber-500",maintenance:"text-purple-500",water_supply:"text-cyan-500",other:"text-slate-400"};function Xue(){Rs();const{selectedProjectId:t,isAllProjects:r,getProjectIdForApi:e}=ko(),[n,s]=P.useState(""),[a,i]=P.useState({dateRange:void 0,specificDate:qs()}),[c,u]=P.useState(!1),[o,d]=P.useState(null),[p,f]=P.useState(!1),[h,g]=P.useState(""),[y,m]=P.useState(""),[v,x]=P.useState(""),[j,T]=P.useState(qs()),[E,B]=P.useState(""),[W,I]=P.useState("worker_transport"),[R,$]=P.useState(),{toast:K}=wn(),H=xs(),{setFloatingAction:M}=jo(),F=P.useCallback(()=>{g(""),m(""),x(""),T(qs()),B(""),I("worker_transport"),$(void 0),d(null),u(!1)},[]);P.useEffect(()=>(M(()=>{u(!0),d(null)},"  "),()=>M(null)),[M]);const{data:C=[]}=Pt({queryKey:["/api/workers"]}),{data:_,isLoading:S,refetch:k}=Pt({queryKey:["/api/projects",t,"transportation",a.specificDate,a.dateRange],queryFn:async()=>{let te=r?"/api/transportation-expenses":`/api/projects/${e()}/transportation-expenses`;const oe=new URLSearchParams;a.specificDate&&oe.append("date",a.specificDate),a.dateRange?.from&&oe.append("dateFrom",Uj(a.dateRange.from)),a.dateRange?.to&&oe.append("dateTo",Uj(a.dateRange.to));const ne=oe.toString();return await qe(`${te}${ne?`?${ne}`:""}`,"GET")},enabled:!!t||r}),{data:N}=Pt({queryKey:["/api/autocomplete/transport-categories"],queryFn:async()=>qe("/api/autocomplete/transport-categories","GET")}),D=P.useMemo(()=>{const te={worker_transport:" ",material_delivery:" ",concrete_transport:" ",iron_platforms:"  ",fuel_shas:" ",fuel_hilux:" ",loading_unloading:" ",maintenance:" ",water_supply:" ",other:""};return N?.data&&N.data.forEach(oe=>{te[oe.value]=oe.label}),te},[N]),L=P.useMemo(()=>{const te=[{value:"all",label:" "},{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}];if(!N?.data)return te;const oe=new Set(te.map(he=>he.value)),ne=N.data.map(he=>({value:he.value,label:he.label})).filter(he=>!oe.has(he.value));return[...te,...ne]},[N]),V=P.useMemo(()=>_?.data||[],[_]),Q=P.useMemo(()=>{if(!n)return V;const te=n.toLowerCase();return V.filter(oe=>oe.description.toLowerCase().includes(te)||oe.workerName&&oe.workerName.toLowerCase().includes(te)||oe.projectName&&oe.projectName.toLowerCase().includes(te))},[V,n]),Y=P.useMemo(()=>{const te=V.reduce((le,ve)=>le+Number(ve.amount),0),oe=V.length,ne=V.filter(le=>le.category==="maintenance").reduce((le,ve)=>le+Number(ve.amount),0),he=V.filter(le=>le.category==="fuel_shas"||le.category==="fuel_hilux").reduce((le,ve)=>le+Number(ve.amount),0),ce=V.filter(le=>le.category==="material_delivery").reduce((le,ve)=>le+Number(ve.amount),0),ie=V.filter(le=>le.category==="concrete_transport").reduce((le,ve)=>le+Number(ve.amount),0),ee=V.filter(le=>le.category==="iron_platforms").reduce((le,ve)=>le+Number(ve.amount),0),se=V.filter(le=>le.category==="other"||!["maintenance","fuel_shas","fuel_hilux","material_delivery","concrete_transport","iron_platforms"].includes(le.category)).reduce((le,ve)=>le+Number(ve.amount),0);return[{title:"  ",value:Ye(te),icon:Sr,color:"blue"},{title:" ",value:oe,icon:Hs,color:"green"},{title:"  ",value:Ye(oe>0?te/oe:0),icon:Pn,color:"amber"},{title:" ",value:Ye(ne),icon:tb,color:"purple"},{title:" ",value:Ye(he),icon:HW,color:"red"},{title:" ",value:Ye(ce),icon:jn,color:"indigo"},{title:" ",value:Ye(ie),icon:bs,color:"orange"},{title:"  ",value:Ye(ee),icon:jn,color:"slate"},{title:" ",value:Ye(se),icon:Rp,color:"gray"}]},[V]),re=async()=>{try{const te=new h3.Workbook;te.views=[{activeTab:0,firstSheet:0,showGridLines:!0}];const oe=te.addWorksheet(" ",{views:[{rightToLeft:!0}]});oe.columns=[{header:"",key:"date",width:15},{header:" / ",key:"description",width:30},{header:" (RY)",key:"amount",width:15},{header:"",key:"category",width:20},{header:"",key:"worker",width:20},{header:" ",key:"well",width:12},{header:"",key:"notes",width:30}];const ne=oe.getRow(1);ne.font={bold:!0,color:{argb:"FFFFFF"},size:12},ne.fill={type:"pattern",pattern:"solid",fgColor:{argb:"1E293B"}},ne.alignment={vertical:"middle",horizontal:"center"},V.forEach(ie=>{const ee=oe.addRow({date:ie.date,description:ie.description,amount:Number(ie.amount),category:D[ie.category]||ie.category||"",worker:C.find(se=>se.id===ie.workerId)?.name||" ",well:ie.wellId||"N/A",notes:ie.notes||""});ee.alignment={vertical:"middle",horizontal:"right"}}),oe.eachRow((ie,ee)=>{ie.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},ee>1&&(ie.fill={type:"pattern",pattern:"solid",fgColor:{argb:ee%2===0?"F8FAFC":"FFFFFF"}})});const he=await te.xlsx.writeBuffer(),ce=new Blob([he],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});m3.saveAs(ce,`__${Nr(new Date,"yyyy-MM-dd")}.xlsx`),K({title:"  ",description:"    "})}catch(te){console.error("Export error:",te),K({title:"  ",variant:"destructive"})}},O=()=>{s(""),i({dateRange:void 0,specificDate:qs()}),K({title:"  ",description:"   "})},Z=async()=>{f(!0),await k(),f(!1),K({title:" ",description:"   "})},U=$t({mutationFn:async te=>o?qe(`/api/transportation-expenses/${o}`,"PATCH",te):qe("/api/transportation-expenses","POST",te),onSuccess:()=>{H.invalidateQueries({queryKey:["/api/projects"]}),H.invalidateQueries({queryKey:["/api/transportation-expenses"]}),K({title:o?"  ":"  "}),F()},onError:te=>{K({title:"  ",description:te?.message||"   ",variant:"destructive"})}}),z=$t({mutationFn:te=>qe(`/api/transportation-expenses/${te}`,"DELETE"),onSuccess:()=>{H.invalidateQueries({queryKey:["/api/projects"]}),H.invalidateQueries({queryKey:["/api/transportation-expenses"]}),K({title:"  "})}}),G=te=>{if(te.preventDefault(),!y||!v){K({title:"",description:"   ",variant:"destructive"});return}U.mutate({projectId:t,workerId:h||null,amount:y,description:v,date:j,category:W,notes:E,wellId:R})},ae=te=>{d(te.id),g(te.workerId||""),m(te.amount.toString()),x(te.description),T(te.date),B(te.notes||""),I(te.category||"worker_transport"),$(te.wellId||void 0),u(!0)},pe=P.useCallback((te,oe)=>{if(te==="specificDate")if(oe instanceof Date){const ne=oe.getFullYear(),he=String(oe.getMonth()+1).padStart(2,"0"),ce=String(oe.getDate()).padStart(2,"0");i(ie=>({...ie,specificDate:`${ne}-${he}-${ce}`,dateRange:void 0}))}else i(ne=>({...ne,specificDate:void 0}));else i(te==="dateRange"?ne=>({...ne,[te]:oe,specificDate:void 0}):ne=>({...ne,[te]:oe}))},[]),de=[{key:"specificDate",type:"date",label:" ",placeholder:" "},{key:"dateRange",type:"date-range",label:" "},{key:"category",type:"select",label:"",placeholder:" ",options:L}],ge=[{key:"export",icon:jm,label:" ",onClick:re,variant:"outline",tooltip:"   "}];return l.jsx("div",{className:"flex flex-col h-full w-full bg-slate-50/50 dark:bg-slate-950/50",children:l.jsx("div",{className:"flex-1 overflow-y-auto pb-24",children:l.jsxs("div",{className:"max-w-7xl mx-auto w-full p-4 space-y-6",children:[l.jsx(Wp,{title:"  ",stats:Y,columns:3}),l.jsx(Ks,{open:c,onOpenChange:u,children:l.jsxs(As,{className:"sm:max-w-[500px] p-0 overflow-hidden border-none rounded-2xl shadow-2xl",children:[l.jsx(Gs,{className:"p-6 bg-gradient-to-r from-primary/10 to-primary/5 border-b border-primary/10",children:l.jsxs(da,{className:"flex items-center gap-3 text-xl font-bold text-primary",children:[l.jsx("div",{className:"p-2 bg-white dark:bg-slate-900 rounded-lg shadow-sm",children:l.jsx(Hs,{className:"h-5 w-5"})}),o?"  ":"   "]})}),l.jsx("div",{className:"p-4",children:l.jsxs("form",{onSubmit:G,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"col-span-2 space-y-1",children:[l.jsxs(Qe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[l.jsx($c,{className:"h-3 w-3"}),"  / "]}),l.jsx(ss,{category:"transport_desc",value:v,onChange:x,placeholder:":    ...",className:"h-9 rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-primary/20"})]}),l.jsxs("div",{className:"col-span-1 space-y-1",children:[l.jsxs(Qe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[l.jsx(ry,{className:"h-3 w-3"})," "]}),l.jsx(ts,{options:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}],value:W,onValueChange:te=>I(te),allowCustom:!0,placeholder:" ...",className:"h-9",triggerClassName:"h-9 text-xs"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs(Qe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[l.jsx(Sr,{className:"h-3 w-3"})," "]}),l.jsxs("div",{className:"relative",children:[l.jsx(gt,{type:"number",value:y,onChange:te=>m(te.target.value),placeholder:"0.00",className:"h-9 rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 pl-7 focus:ring-primary/20 text-xs"}),l.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[9px] font-bold text-slate-400",children:"RY"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs(Qe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[l.jsx(ma,{className:"h-3 w-3"})," "]}),l.jsx(Go,{value:j,onChange:te=>T(te?Nr(te,"yyyy-MM-dd"):qs()),className:"h-9"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs(Qe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[l.jsx(cs,{className:"h-3 w-3"}),"  ()"]}),l.jsx(Hue,{options:C.map(te=>String(te.name)),value:C.find(te=>te.id===h)?.name||"",onValueChange:te=>{const oe=C.find(ne=>ne.name===te);oe&&g(oe.id)},placeholder:" ..."})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs(Qe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[l.jsx(Oj,{className:"h-3 w-3"})," "]}),l.jsx(om,{projectId:t,value:R,onChange:$,showLabel:!1})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:""}),l.jsx(d3,{value:E,onChange:te=>B(te.target.value),placeholder:"  ...",className:"min-h-[60px] rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 resize-none py-2 focus:ring-primary/20 text-xs"})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[l.jsx(Oe,{type:"button",variant:"ghost",onClick:F,className:"flex-1 rounded-lg h-9 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 text-xs font-bold",children:""}),l.jsxs(Oe,{type:"submit",className:"flex-[2] rounded-lg h-9 shadow-lg shadow-primary/20 gap-2 text-xs font-bold",disabled:U.isPending,children:[l.jsx(Cc,{className:"h-4 w-4"}),o?"":""]})]})]})})]})}),l.jsx(sl,{filters:de,filterValues:{...a,specificDate:a.specificDate?(()=>{const[te,oe,ne]=a.specificDate.split("-").map(Number);return new Date(te,oe-1,ne,12,0,0,0)})():void 0},onFilterChange:pe,onSearchChange:s,searchValue:n,onReset:O,onRefresh:Z,isRefreshing:p,actions:ge,searchPlaceholder:"   ..."}),S?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(te=>l.jsx("div",{className:"h-48 bg-slate-200 animate-pulse rounded-2xl"},te))}):V.length===0?l.jsxs(Ir,{className:"p-12 border-dashed border-2 flex flex-col items-center justify-center text-center bg-transparent rounded-2xl",children:[l.jsx(Hs,{className:"h-12 w-12 text-slate-300 mb-4"}),l.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"  "}),l.jsx("p",{className:"text-sm text-slate-400 max-w-xs",children:"        ."})]}):l.jsx(Ps,{children:Q.map(te=>l.jsx(vn,{title:te.description,subtitle:(()=>{const oe=te.workerName||" ";return r&&te.projectName?`${oe} - ${te.projectName}`:oe})(),titleIcon:Hs,className:Pe("hover-elevate active-elevate-2 transition-all duration-300 border-l-4 shadow-md hover:shadow-xl group py-2",Kue[te.category]||"border-l-blue-500"),compact:!0,fields:[{label:"",value:Ye(Number(te.amount)),icon:Sr,emphasis:!0,color:"success",iconClassName:"text-green-600 dark:text-green-400"},{label:"",value:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}].find(oe=>oe.value===te.category)?.label||te.category||"",icon:ry,emphasis:!1,iconClassName:Gue[te.category]||"text-blue-500"},{label:"",value:te.date,icon:ma,color:"info",iconClassName:"text-sky-500"},{label:"",value:te.wellId?` ${te.wellId}`:"N/A",icon:Oj,hidden:!te.wellId,color:"info",iconClassName:"text-amber-500"}],actions:[{icon:$c,label:"",onClick:()=>ae(te),variant:"ghost"},{icon:ys,label:"",onClick:()=>{confirm("    ")&&z.mutate(te.id)},variant:"ghost"}],footer:te.notes&&l.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-800",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Rp,{className:"h-3 w-3 text-slate-400 mt-0.5"}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("p",{className:"text-[11px] text-slate-600 dark:text-slate-400 leading-relaxed italic",children:te.notes})})]})})},te.id))})]})})})}const tt=Symbol.for("drizzle:entityKind");function zs(t,r){if(!t||typeof t!="object")return!1;if(t instanceof r)return!0;if(!Object.prototype.hasOwnProperty.call(r,tt))throw new Error(`Class "${r.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let e=Object.getPrototypeOf(t).constructor;if(e)for(;e;){if(tt in e&&e[tt]===r[tt])return!0;e=Object.getPrototypeOf(e)}return!1}var A8;A8=tt;class Zf{constructor(r,e){Me(this,"name");Me(this,"keyAsName");Me(this,"primary");Me(this,"notNull");Me(this,"default");Me(this,"defaultFn");Me(this,"onUpdateFn");Me(this,"hasDefault");Me(this,"isUnique");Me(this,"uniqueName");Me(this,"uniqueType");Me(this,"dataType");Me(this,"columnType");Me(this,"enumValues");Me(this,"generated");Me(this,"generatedIdentity");Me(this,"config");this.table=r,this.config=e,this.name=e.name,this.keyAsName=e.keyAsName,this.notNull=e.notNull,this.default=e.default,this.defaultFn=e.defaultFn,this.onUpdateFn=e.onUpdateFn,this.hasDefault=e.hasDefault,this.primary=e.primaryKey,this.isUnique=e.isUnique,this.uniqueName=e.uniqueName,this.uniqueType=e.uniqueType,this.dataType=e.dataType,this.columnType=e.columnType,this.generated=e.generated,this.generatedIdentity=e.generatedIdentity}mapFromDriverValue(r){return r}mapToDriverValue(r){return r}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}Me(Zf,A8,"Column");var P8;P8=tt;class SO{constructor(r,e,n){Me(this,"config");Me(this,"$default",this.$defaultFn);Me(this,"$onUpdate",this.$onUpdateFn);this.config={name:r,keyAsName:r==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:e,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(r){return this.config.default=r,this.config.hasDefault=!0,this}$defaultFn(r){return this.config.defaultFn=r,this.config.hasDefault=!0,this}$onUpdateFn(r){return this.config.onUpdateFn=r,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(r){this.config.name===""&&(this.config.name=r)}}Me(SO,P8,"ColumnBuilder");const vf=Symbol.for("drizzle:Name");var M8;M8=tt;class NO{constructor(r,e){Me(this,"reference");Me(this,"_onUpdate","no action");Me(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:a}=r();return{name:n,columns:s,foreignTable:a[0].table,foreignColumns:a}},e&&(this._onUpdate=e.onUpdate,this._onDelete=e.onDelete)}onUpdate(r){return this._onUpdate=r===void 0?"no action":r,this}onDelete(r){return this._onDelete=r===void 0?"no action":r,this}build(r){return new CO(r,this)}}Me(NO,M8,"PgForeignKeyBuilder");var R8;R8=tt;class CO{constructor(r,e){Me(this,"reference");Me(this,"onUpdate");Me(this,"onDelete");this.table=r,this.reference=e.reference,this.onUpdate=e._onUpdate,this.onDelete=e._onDelete}getName(){const{name:r,columns:e,foreignColumns:n}=this.reference(),s=e.map(c=>c.name),a=n.map(c=>c.name),i=[this.table[vf],...s,n[0].table[vf],...a];return r??`${i.join("_")}_fk`}}Me(CO,R8,"PgForeignKey");function Que(t,...r){return t(...r)}function Yue(t,r){return`${t[vf]}_${r.join("_")}_unique`}function mN(t,r,e){for(let n=r;n<t.length;n++){const s=t[n];if(s==="\\"){n++;continue}if(s==='"')return[t.slice(r,n).replace(/\\/g,""),n+1];if(!e&&(s===","||s==="}"))return[t.slice(r,n).replace(/\\/g,""),n]}return[t.slice(r).replace(/\\/g,""),t.length]}function TO(t,r=0){const e=[];let n=r,s=!1;for(;n<t.length;){const a=t[n];if(a===","){(s||n===r)&&e.push(""),s=!0,n++;continue}if(s=!1,a==="\\"){n+=2;continue}if(a==='"'){const[u,o]=mN(t,n+1,!0);e.push(u),n=o;continue}if(a==="}")return[e,n+1];if(a==="{"){const[u,o]=TO(t,n+1);e.push(u),n=o;continue}const[i,c]=mN(t,n,!1);e.push(i),n=c}return[e,n]}function Zue(t){const[r]=TO(t,1);return r}function EO(t){return`{${t.map(r=>Array.isArray(r)?EO(r):typeof r=="string"?`"${r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${r}`).join(",")}}`}var D8,I8;class nn extends(I8=SO,D8=tt,I8){constructor(){super(...arguments);Me(this,"foreignKeyConfigs",[])}array(e){return new PO(this.config.name,this,e)}references(e,n={}){return this.foreignKeyConfigs.push({ref:e,actions:n}),this}unique(e,n){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,n){return this.foreignKeyConfigs.map(({ref:s,actions:a})=>Que((i,c)=>{const u=new NO(()=>{const o=i();return{columns:[e],foreignColumns:[o]}});return c.onUpdate&&u.onUpdate(c.onUpdate),c.onDelete&&u.onDelete(c.onDelete),u.build(n)},s,a))}buildExtraConfigColumn(e){return new AO(e,this.config)}}Me(nn,D8,"PgColumnBuilder");var O8,F8;class Mr extends(F8=Zf,O8=tt,F8){constructor(r,e){e.uniqueName||(e.uniqueName=Yue(r,[e.name])),super(r,e),this.table=r}}Me(Mr,O8,"PgColumn");var L8,B8;class AO extends(B8=Mr,L8=tt,B8){constructor(){super(...arguments);Me(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});Me(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}Me(AO,L8,"ExtraConfigColumn");var $8,z8;class PO extends(z8=nn,$8=tt,z8){constructor(r,e,n){super(r,"array","PgArray"),this.config.baseBuilder=e,this.config.size=n}build(r){const e=this.config.baseBuilder.build(r);return new S2(r,this.config,e)}}Me(PO,$8,"PgArrayBuilder");var V8,U8;const Wy=class Wy extends(U8=Mr,V8=tt,U8){constructor(e,n,s,a){super(e,n);Me(this,"size");this.baseColumn=s,this.range=a,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=Zue(e)),e.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(e,n=!1){const s=e.map(a=>a===null?null:zs(this.baseColumn,Wy)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return n?s:EO(s)}};Me(Wy,V8,"PgArray");let S2=Wy;const gN=Symbol.for("drizzle:isPgEnum");function Jue(t){return!!t&&typeof t=="function"&&gN in t&&t[gN]===!0}var W8;W8=tt;class g3{constructor(r,e,n,s=!1){this._={brand:"Subquery",sql:r,selectedFields:e,alias:n,isWith:s}}}Me(g3,W8,"Subquery");const ede={startActiveSpan(t,r){return r()}},xf=Symbol.for("drizzle:ViewBaseConfig"),T1=Symbol.for("drizzle:Schema"),yN=Symbol.for("drizzle:Columns"),bN=Symbol.for("drizzle:ExtraConfigColumns"),E1=Symbol.for("drizzle:OriginalName"),A1=Symbol.for("drizzle:BaseName"),Iy=Symbol.for("drizzle:IsAlias"),vN=Symbol.for("drizzle:ExtraConfigBuilder"),MO=Symbol.for("drizzle:IsDrizzleTable");var q8,H8,K8,G8,X8,Q8,Y8,Z8,J8,eC,Sg;let li=(eC=tt,J8=vf,Z8=E1,Y8=T1,Q8=yN,X8=bN,G8=A1,K8=Iy,H8=MO,q8=vN,Sg=class{constructor(r,e,n){Me(this,J8);Me(this,Z8);Me(this,Y8);Me(this,Q8);Me(this,X8);Me(this,G8);Me(this,K8,!1);Me(this,H8,!0);Me(this,q8);this[vf]=this[E1]=r,this[T1]=e,this[A1]=n}},Me(Sg,eC,"Table"),Me(Sg,"Symbol",{Name:vf,Schema:T1,OriginalName:E1,Columns:yN,ExtraConfigColumns:bN,BaseName:A1,IsAlias:Iy,ExtraConfigBuilder:vN}),Sg);function RO(t){return typeof t=="object"&&t!==null&&MO in t}function tde(t){return t!=null&&typeof t.getSQL=="function"}function rde(t){const r={sql:"",params:[]};for(const e of t)r.sql+=e.sql,r.params.push(...e.params),e.typings?.length&&(r.typings||(r.typings=[]),r.typings.push(...e.typings));return r}var tC;tC=tt;class Di{constructor(r){Me(this,"value");this.value=Array.isArray(r)?r:[r]}getSQL(){return new vs([this])}}Me(Di,tC,"StringChunk");var rC;rC=tt;const Cu=class Cu{constructor(r){Me(this,"decoder",DO);Me(this,"shouldInlineParams",!1);this.queryChunks=r}append(r){return this.queryChunks.push(...r.queryChunks),this}toQuery(r){return ede.startActiveSpan("drizzle.buildSQL",e=>{const n=this.buildQueryFromSourceParams(this.queryChunks,r);return e?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(r,e){const n=Object.assign({},e,{inlineParams:e.inlineParams||this.shouldInlineParams,paramStartIndex:e.paramStartIndex||{value:0}}),{casing:s,escapeName:a,escapeParam:i,prepareTyping:c,inlineParams:u,paramStartIndex:o}=n;return rde(r.map(d=>{if(zs(d,Di))return{sql:d.value.join(""),params:[]};if(zs(d,Oy))return{sql:a(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const p=[new Di("(")];for(const[f,h]of d.entries())p.push(h),f<d.length-1&&p.push(new Di(", "));return p.push(new Di(")")),this.buildQueryFromSourceParams(p,n)}if(zs(d,Cu))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:u||d.shouldInlineParams});if(zs(d,li)){const p=d[li.Symbol.Schema],f=d[li.Symbol.Name];return{sql:p===void 0||d[Iy]?a(f):a(p)+"."+a(f),params:[]}}if(zs(d,Zf)){const p=s.getColumnCasing(d);if(e.invokeSource==="indexes")return{sql:a(p),params:[]};const f=d.table[li.Symbol.Schema];return{sql:d.table[Iy]||f===void 0?a(d.table[li.Symbol.Name])+"."+a(p):a(f)+"."+a(d.table[li.Symbol.Name])+"."+a(p),params:[]}}if(zs(d,FO)){const p=d[xf].schema,f=d[xf].name;return{sql:p===void 0||d[xf].isAlias?a(f):a(p)+"."+a(f),params:[]}}if(zs(d,y3)){if(zs(d.value,Fy))return{sql:i(o.value++,d),params:[d],typings:["none"]};const p=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(zs(p,Cu))return this.buildQueryFromSourceParams([p],n);if(u)return{sql:this.mapInlineParam(p,n),params:[]};let f=["none"];return c&&(f=[c(d.encoder)]),{sql:i(o.value++,p),params:[p],typings:f}}return zs(d,Fy)?{sql:i(o.value++,d),params:[d],typings:["none"]}:zs(d,Cu.Aliased)&&d.fieldAlias!==void 0?{sql:a(d.fieldAlias),params:[]}:zs(d,g3)?d._.isWith?{sql:a(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Di("("),d._.sql,new Di(") "),new Oy(d._.alias)],n):Jue(d)?d.schema?{sql:a(d.schema)+"."+a(d.enumName),params:[]}:{sql:a(d.enumName),params:[]}:tde(d)?d.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new Di("("),d.getSQL(),new Di(")")],n):u?{sql:this.mapInlineParam(d,n),params:[]}:{sql:i(o.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(r,{escapeString:e}){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return r.toString();if(typeof r=="string")return e(r);if(typeof r=="object"){const n=r.toString();return e(n==="[object Object]"?JSON.stringify(r):n)}throw new Error("Unexpected param value: "+r)}getSQL(){return this}as(r){return r===void 0?this:new Cu.Aliased(this,r)}mapWith(r){return this.decoder=typeof r=="function"?{mapFromDriverValue:r}:r,this}inlineParams(){return this.shouldInlineParams=!0,this}if(r){return r?this:void 0}};Me(Cu,rC,"SQL");let vs=Cu;var nC;nC=tt;class Oy{constructor(r){Me(this,"brand");this.value=r}getSQL(){return new vs([this])}}Me(Oy,nC,"Name");const DO={mapFromDriverValue:t=>t},IO={mapToDriverValue:t=>t};({...DO,...IO});var sC;sC=tt;class y3{constructor(r,e=IO){Me(this,"brand");this.value=r,this.encoder=e}getSQL(){return new vs([this])}}Me(y3,sC,"Param");function St(t,...r){const e=[];(r.length>0||t.length>0&&t[0]!=="")&&e.push(new Di(t[0]));for(const[n,s]of r.entries())e.push(s,new Di(t[n+1]));return new vs(e)}(t=>{function r(){return new vs([])}t.empty=r;function e(u){return new vs(u)}t.fromList=e;function n(u){return new vs([new Di(u)])}t.raw=n;function s(u,o){const d=[];for(const[p,f]of u.entries())p>0&&o!==void 0&&d.push(o),d.push(f);return new vs(d)}t.join=s;function a(u){return new Oy(u)}t.identifier=a;function i(u){return new Fy(u)}t.placeholder=i;function c(u,o){return new y3(u,o)}t.param=c})(St||(St={}));(t=>{var e;e=tt;const n=class n{constructor(a,i){Me(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=i}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};Me(n,e,"SQL.Aliased");let r=n;t.Aliased=r})(vs||(vs={}));var aC;aC=tt;class Fy{constructor(r){this.name=r}getSQL(){return new vs([this])}}Me(Fy,aC,"Placeholder");const OO=Symbol.for("drizzle:IsDrizzleView");var iC,oC,lC;lC=tt,oC=xf,iC=OO;class FO{constructor({name:r,schema:e,selectedFields:n,query:s}){Me(this,oC);Me(this,iC,!0);this[xf]={name:r,originalName:r,schema:e,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new vs([this])}}Me(FO,lC,"View");function nde(t){return typeof t=="object"&&t!==null&&OO in t}Zf.prototype.getSQL=function(){return new vs([this])};li.prototype.getSQL=function(){return new vs([this])};g3.prototype.getSQL=function(){return new vs([this])};function sde(t){return t[li.Symbol.Columns]}function ade(t){return t[xf].selectedFields}function Ds(t,r){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:r}}var cC,uC;class Jm extends(uC=nn,cC=tt,uC){generatedAlwaysAsIdentity(r){if(r){const{name:e,...n}=r;this.config.generatedIdentity={type:"always",sequenceName:e,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(r){if(r){const{name:e,...n}=r;this.config.generatedIdentity={type:"byDefault",sequenceName:e,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}Me(Jm,cC,"PgIntColumnBaseBuilder");var dC,fC;class LO extends(fC=Jm,dC=tt,fC){constructor(r){super(r,"number","PgBigInt53")}build(r){return new BO(r,this.config)}}Me(LO,dC,"PgBigInt53Builder");var hC,pC;class BO extends(pC=Mr,hC=tt,pC){getSQLType(){return"bigint"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}Me(BO,hC,"PgBigInt53");var mC,gC;class $O extends(gC=Jm,mC=tt,gC){constructor(r){super(r,"bigint","PgBigInt64")}build(r){return new zO(r,this.config)}}Me($O,mC,"PgBigInt64Builder");var yC,bC;class zO extends(bC=Mr,yC=tt,bC){getSQLType(){return"bigint"}mapFromDriverValue(r){return BigInt(r)}}Me(zO,yC,"PgBigInt64");function ide(t,r){const{name:e,config:n}=Ds(t,r);return n.mode==="number"?new LO(e):new $O(e)}var vC,xC;class VO extends(xC=nn,vC=tt,xC){constructor(r){super(r,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new UO(r,this.config)}}Me(VO,vC,"PgBigSerial53Builder");var wC,_C;class UO extends(_C=Mr,wC=tt,_C){getSQLType(){return"bigserial"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}Me(UO,wC,"PgBigSerial53");var kC,jC;class WO extends(jC=nn,kC=tt,jC){constructor(r){super(r,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(r){return new qO(r,this.config)}}Me(WO,kC,"PgBigSerial64Builder");var SC,NC;class qO extends(NC=Mr,SC=tt,NC){getSQLType(){return"bigserial"}mapFromDriverValue(r){return BigInt(r)}}Me(qO,SC,"PgBigSerial64");function ode(t,r){const{name:e,config:n}=Ds(t,r);return n.mode==="number"?new VO(e):new WO(e)}var CC,TC;class HO extends(TC=nn,CC=tt,TC){constructor(r){super(r,"boolean","PgBoolean")}build(r){return new KO(r,this.config)}}Me(HO,CC,"PgBooleanBuilder");var EC,AC;class KO extends(AC=Mr,EC=tt,AC){getSQLType(){return"boolean"}}Me(KO,EC,"PgBoolean");function Ht(t){return new HO(t??"")}var PC,MC;class GO extends(MC=nn,PC=tt,MC){constructor(r,e){super(r,"string","PgChar"),this.config.length=e.length,this.config.enumValues=e.enum}build(r){return new XO(r,this.config)}}Me(GO,PC,"PgCharBuilder");var RC,DC;class XO extends(DC=Mr,RC=tt,DC){constructor(){super(...arguments);Me(this,"length",this.config.length);Me(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}Me(XO,RC,"PgChar");function lde(t,r={}){const{name:e,config:n}=Ds(t,r);return new GO(e,n)}var IC,OC;class QO extends(OC=nn,IC=tt,OC){constructor(r){super(r,"string","PgCidr")}build(r){return new YO(r,this.config)}}Me(QO,IC,"PgCidrBuilder");var FC,LC;class YO extends(LC=Mr,FC=tt,LC){getSQLType(){return"cidr"}}Me(YO,FC,"PgCidr");function cde(t){return new QO(t??"")}var BC,$C;class ZO extends($C=nn,BC=tt,$C){constructor(r,e,n){super(r,"custom","PgCustomColumn"),this.config.fieldConfig=e,this.config.customTypeParams=n}build(r){return new JO(r,this.config)}}Me(ZO,BC,"PgCustomColumnBuilder");var zC,VC;class JO extends(VC=Mr,zC=tt,VC){constructor(e,n){super(e,n);Me(this,"sqlName");Me(this,"mapTo");Me(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}Me(JO,zC,"PgCustomColumn");function ude(t){return(r,e)=>{const{name:n,config:s}=Ds(r,e);return new ZO(n,s,t)}}var UC,WC;class hh extends(WC=nn,UC=tt,WC){defaultNow(){return this.default(St`now()`)}}Me(hh,UC,"PgDateColumnBaseBuilder");var qC,HC;class eF extends(HC=hh,qC=tt,HC){constructor(r){super(r,"date","PgDate")}build(r){return new tF(r,this.config)}}Me(eF,qC,"PgDateBuilder");var KC,GC;class tF extends(GC=Mr,KC=tt,GC){getSQLType(){return"date"}mapFromDriverValue(r){return new Date(r)}mapToDriverValue(r){return r.toISOString()}}Me(tF,KC,"PgDate");var XC,QC;class rF extends(QC=hh,XC=tt,QC){constructor(r){super(r,"string","PgDateString")}build(r){return new nF(r,this.config)}}Me(rF,XC,"PgDateStringBuilder");var YC,ZC;class nF extends(ZC=Mr,YC=tt,ZC){getSQLType(){return"date"}}Me(nF,YC,"PgDateString");function ha(t,r){const{name:e,config:n}=Ds(t,r);return n?.mode==="date"?new eF(e):new rF(e)}var JC,eT;class sF extends(eT=nn,JC=tt,eT){constructor(r){super(r,"number","PgDoublePrecision")}build(r){return new aF(r,this.config)}}Me(sF,JC,"PgDoublePrecisionBuilder");var tT,rT;class aF extends(rT=Mr,tT=tt,rT){getSQLType(){return"double precision"}mapFromDriverValue(r){return typeof r=="string"?Number.parseFloat(r):r}}Me(aF,tT,"PgDoublePrecision");function dde(t){return new sF(t??"")}var nT,sT;class iF extends(sT=nn,nT=tt,sT){constructor(r){super(r,"string","PgInet")}build(r){return new oF(r,this.config)}}Me(iF,nT,"PgInetBuilder");var aT,iT;class oF extends(iT=Mr,aT=tt,iT){getSQLType(){return"inet"}}Me(oF,aT,"PgInet");function ph(t){return new iF(t??"")}var oT,lT;class lF extends(lT=Jm,oT=tt,lT){constructor(r){super(r,"number","PgInteger")}build(r){return new cF(r,this.config)}}Me(lF,oT,"PgIntegerBuilder");var cT,uT;class cF extends(uT=Mr,cT=tt,uT){getSQLType(){return"integer"}mapFromDriverValue(r){return typeof r=="string"?Number.parseInt(r):r}}Me(cF,cT,"PgInteger");function Ct(t){return new lF(t??"")}var dT,fT;class uF extends(fT=nn,dT=tt,fT){constructor(r,e){super(r,"string","PgInterval"),this.config.intervalConfig=e}build(r){return new dF(r,this.config)}}Me(uF,dT,"PgIntervalBuilder");var hT,pT;class dF extends(pT=Mr,hT=tt,pT){constructor(){super(...arguments);Me(this,"fields",this.config.intervalConfig.fields);Me(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const e=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${e}${n}`}}Me(dF,hT,"PgInterval");function fde(t,r={}){const{name:e,config:n}=Ds(t,r);return new uF(e,n)}var mT,gT;class fF extends(gT=nn,mT=tt,gT){constructor(r){super(r,"json","PgJson")}build(r){return new hF(r,this.config)}}Me(fF,mT,"PgJsonBuilder");var yT,bT;class hF extends(bT=Mr,yT=tt,bT){constructor(r,e){super(r,e)}getSQLType(){return"json"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}Me(hF,yT,"PgJson");function hde(t){return new fF(t??"")}var vT,xT;class pF extends(xT=nn,vT=tt,xT){constructor(r){super(r,"json","PgJsonb")}build(r){return new mF(r,this.config)}}Me(pF,vT,"PgJsonbBuilder");var wT,_T;class mF extends(_T=Mr,wT=tt,_T){constructor(r,e){super(r,e)}getSQLType(){return"jsonb"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}Me(mF,wT,"PgJsonb");function Or(t){return new pF(t??"")}var kT,jT;class gF extends(jT=nn,kT=tt,jT){constructor(r){super(r,"array","PgLine")}build(r){return new yF(r,this.config)}}Me(gF,kT,"PgLineBuilder");var ST,NT;class yF extends(NT=Mr,ST=tt,NT){getSQLType(){return"line"}mapFromDriverValue(r){const[e,n,s]=r.slice(1,-1).split(",");return[Number.parseFloat(e),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(r){return`{${r[0]},${r[1]},${r[2]}}`}}Me(yF,ST,"PgLine");var CT,TT;class bF extends(TT=nn,CT=tt,TT){constructor(r){super(r,"json","PgLineABC")}build(r){return new vF(r,this.config)}}Me(bF,CT,"PgLineABCBuilder");var ET,AT;class vF extends(AT=Mr,ET=tt,AT){getSQLType(){return"line"}mapFromDriverValue(r){const[e,n,s]=r.slice(1,-1).split(",");return{a:Number.parseFloat(e),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(r){return`{${r.a},${r.b},${r.c}}`}}Me(vF,ET,"PgLineABC");function pde(t,r){const{name:e,config:n}=Ds(t,r);return!n?.mode||n.mode==="tuple"?new gF(e):new bF(e)}var PT,MT;class xF extends(MT=nn,PT=tt,MT){constructor(r){super(r,"string","PgMacaddr")}build(r){return new wF(r,this.config)}}Me(xF,PT,"PgMacaddrBuilder");var RT,DT;class wF extends(DT=Mr,RT=tt,DT){getSQLType(){return"macaddr"}}Me(wF,RT,"PgMacaddr");function mde(t){return new xF(t??"")}var IT,OT;class _F extends(OT=nn,IT=tt,OT){constructor(r){super(r,"string","PgMacaddr8")}build(r){return new kF(r,this.config)}}Me(_F,IT,"PgMacaddr8Builder");var FT,LT;class kF extends(LT=Mr,FT=tt,LT){getSQLType(){return"macaddr8"}}Me(kF,FT,"PgMacaddr8");function gde(t){return new _F(t??"")}var BT,$T;class jF extends($T=nn,BT=tt,$T){constructor(r,e,n){super(r,"string","PgNumeric"),this.config.precision=e,this.config.scale=n}build(r){return new SF(r,this.config)}}Me(jF,BT,"PgNumericBuilder");var zT,VT;class SF extends(VT=Mr,zT=tt,VT){constructor(e,n){super(e,n);Me(this,"precision");Me(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}Me(SF,zT,"PgNumeric");function NF(t,r){const{name:e,config:n}=Ds(t,r);return new jF(e,n?.precision,n?.scale)}const xt=NF;var UT,WT;class CF extends(WT=nn,UT=tt,WT){constructor(r){super(r,"array","PgPointTuple")}build(r){return new TF(r,this.config)}}Me(CF,UT,"PgPointTupleBuilder");var qT,HT;class TF extends(HT=Mr,qT=tt,HT){getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[e,n]=r.slice(1,-1).split(",");return[Number.parseFloat(e),Number.parseFloat(n)]}return[r.x,r.y]}mapToDriverValue(r){return`(${r[0]},${r[1]})`}}Me(TF,qT,"PgPointTuple");var KT,GT;class EF extends(GT=nn,KT=tt,GT){constructor(r){super(r,"json","PgPointObject")}build(r){return new AF(r,this.config)}}Me(EF,KT,"PgPointObjectBuilder");var XT,QT;class AF extends(QT=Mr,XT=tt,QT){getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[e,n]=r.slice(1,-1).split(",");return{x:Number.parseFloat(e),y:Number.parseFloat(n)}}return r}mapToDriverValue(r){return`(${r.x},${r.y})`}}Me(AF,XT,"PgPointObject");function yde(t,r){const{name:e,config:n}=Ds(t,r);return!n?.mode||n.mode==="tuple"?new CF(e):new EF(e)}function bde(t){const r=[];for(let e=0;e<t.length;e+=2)r.push(Number.parseInt(t.slice(e,e+2),16));return new Uint8Array(r)}function xN(t,r){const e=new ArrayBuffer(8),n=new DataView(e);for(let s=0;s<8;s++)n.setUint8(s,t[r+s]);return n.getFloat64(0,!0)}function PF(t){const r=bde(t);let e=0;const n=r[e];e+=1;const s=new DataView(r.buffer),a=s.getUint32(e,n===1);if(e+=4,a&536870912&&(s.getUint32(e,n===1),e+=4),(a&65535)===1){const i=xN(r,e);e+=8;const c=xN(r,e);return e+=8,[i,c]}throw new Error("Unsupported geometry type")}var YT,ZT;class MF extends(ZT=nn,YT=tt,ZT){constructor(r){super(r,"array","PgGeometry")}build(r){return new RF(r,this.config)}}Me(MF,YT,"PgGeometryBuilder");var JT,eE;class RF extends(eE=Mr,JT=tt,eE){getSQLType(){return"geometry(point)"}mapFromDriverValue(r){return PF(r)}mapToDriverValue(r){return`point(${r[0]} ${r[1]})`}}Me(RF,JT,"PgGeometry");var tE,rE;class DF extends(rE=nn,tE=tt,rE){constructor(r){super(r,"json","PgGeometryObject")}build(r){return new IF(r,this.config)}}Me(DF,tE,"PgGeometryObjectBuilder");var nE,sE;class IF extends(sE=Mr,nE=tt,sE){getSQLType(){return"geometry(point)"}mapFromDriverValue(r){const e=PF(r);return{x:e[0],y:e[1]}}mapToDriverValue(r){return`point(${r.x} ${r.y})`}}Me(IF,nE,"PgGeometryObject");function vde(t,r){const{name:e,config:n}=Ds(t,r);return!n?.mode||n.mode==="tuple"?new MF(e):new DF(e)}var aE,iE;class OF extends(iE=nn,aE=tt,iE){constructor(r,e){super(r,"number","PgReal"),this.config.length=e}build(r){return new FF(r,this.config)}}Me(OF,aE,"PgRealBuilder");var oE,lE;class FF extends(lE=Mr,oE=tt,lE){constructor(e,n){super(e,n);Me(this,"mapFromDriverValue",e=>typeof e=="string"?Number.parseFloat(e):e)}getSQLType(){return"real"}}Me(FF,oE,"PgReal");function xde(t){return new OF(t??"")}var cE,uE;class LF extends(uE=nn,cE=tt,uE){constructor(r){super(r,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new BF(r,this.config)}}Me(LF,cE,"PgSerialBuilder");var dE,fE;class BF extends(fE=Mr,dE=tt,fE){getSQLType(){return"serial"}}Me(BF,dE,"PgSerial");function Fa(t){return new LF(t??"")}var hE,pE;class $F extends(pE=Jm,hE=tt,pE){constructor(r){super(r,"number","PgSmallInt")}build(r){return new zF(r,this.config)}}Me($F,hE,"PgSmallIntBuilder");var mE,gE;class zF extends(gE=Mr,mE=tt,gE){constructor(){super(...arguments);Me(this,"mapFromDriverValue",e=>typeof e=="string"?Number(e):e)}getSQLType(){return"smallint"}}Me(zF,mE,"PgSmallInt");function wde(t){return new $F(t??"")}var yE,bE;class VF extends(bE=nn,yE=tt,bE){constructor(r){super(r,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new UF(r,this.config)}}Me(VF,yE,"PgSmallSerialBuilder");var vE,xE;class UF extends(xE=Mr,vE=tt,xE){getSQLType(){return"smallserial"}}Me(UF,vE,"PgSmallSerial");function _de(t){return new VF(t??"")}var wE,_E;class WF extends(_E=nn,wE=tt,_E){constructor(r,e){super(r,"string","PgText"),this.config.enumValues=e.enum}build(r){return new qF(r,this.config)}}Me(WF,wE,"PgTextBuilder");var kE,jE;class qF extends(jE=Mr,kE=tt,jE){constructor(){super(...arguments);Me(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}Me(qF,kE,"PgText");function ye(t,r={}){const{name:e,config:n}=Ds(t,r);return new WF(e,n)}var SE,NE;class HF extends(NE=hh,SE=tt,NE){constructor(r,e,n){super(r,"string","PgTime"),this.withTimezone=e,this.precision=n,this.config.withTimezone=e,this.config.precision=n}build(r){return new KF(r,this.config)}}Me(HF,SE,"PgTimeBuilder");var CE,TE;class KF extends(TE=Mr,CE=tt,TE){constructor(e,n){super(e,n);Me(this,"withTimezone");Me(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Me(KF,CE,"PgTime");function kde(t,r={}){const{name:e,config:n}=Ds(t,r);return new HF(e,n.withTimezone??!1,n.precision)}var EE,AE;class GF extends(AE=hh,EE=tt,AE){constructor(r,e,n){super(r,"date","PgTimestamp"),this.config.withTimezone=e,this.config.precision=n}build(r){return new XF(r,this.config)}}Me(GF,EE,"PgTimestampBuilder");var PE,ME;class XF extends(ME=Mr,PE=tt,ME){constructor(e,n){super(e,n);Me(this,"withTimezone");Me(this,"precision");Me(this,"mapFromDriverValue",e=>new Date(this.withTimezone?e:e+"+0000"));Me(this,"mapToDriverValue",e=>e.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}Me(XF,PE,"PgTimestamp");var RE,DE;class QF extends(DE=hh,RE=tt,DE){constructor(r,e,n){super(r,"string","PgTimestampString"),this.config.withTimezone=e,this.config.precision=n}build(r){return new YF(r,this.config)}}Me(QF,RE,"PgTimestampStringBuilder");var IE,OE;class YF extends(OE=Mr,IE=tt,OE){constructor(e,n){super(e,n);Me(this,"withTimezone");Me(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Me(YF,IE,"PgTimestampString");function De(t,r={}){const{name:e,config:n}=Ds(t,r);return n?.mode==="string"?new QF(e,n.withTimezone??!1,n.precision):new GF(e,n?.withTimezone??!1,n?.precision)}var FE,LE;class ZF extends(LE=nn,FE=tt,LE){constructor(r){super(r,"string","PgUUID")}defaultRandom(){return this.default(St`gen_random_uuid()`)}build(r){return new JF(r,this.config)}}Me(ZF,FE,"PgUUIDBuilder");var BE,$E;class JF extends($E=Mr,BE=tt,$E){getSQLType(){return"uuid"}}Me(JF,BE,"PgUUID");function Xc(t){return new ZF(t??"")}var zE,VE;class eL extends(VE=nn,zE=tt,VE){constructor(r,e){super(r,"string","PgVarchar"),this.config.length=e.length,this.config.enumValues=e.enum}build(r){return new tL(r,this.config)}}Me(eL,zE,"PgVarcharBuilder");var UE,WE;class tL extends(WE=Mr,UE=tt,WE){constructor(){super(...arguments);Me(this,"length",this.config.length);Me(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}Me(tL,UE,"PgVarchar");function je(t,r={}){const{name:e,config:n}=Ds(t,r);return new eL(e,n)}var qE,HE;class rL extends(HE=nn,qE=tt,HE){constructor(r,e){super(r,"string","PgBinaryVector"),this.config.dimensions=e.dimensions}build(r){return new nL(r,this.config)}}Me(rL,qE,"PgBinaryVectorBuilder");var KE,GE;class nL extends(GE=Mr,KE=tt,GE){constructor(){super(...arguments);Me(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}Me(nL,KE,"PgBinaryVector");function jde(t,r){const{name:e,config:n}=Ds(t,r);return new rL(e,n)}var XE,QE;class sL extends(QE=nn,XE=tt,QE){constructor(r,e){super(r,"array","PgHalfVector"),this.config.dimensions=e.dimensions}build(r){return new aL(r,this.config)}}Me(sL,XE,"PgHalfVectorBuilder");var YE,ZE;class aL extends(ZE=Mr,YE=tt,ZE){constructor(){super(...arguments);Me(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}Me(aL,YE,"PgHalfVector");function Sde(t,r){const{name:e,config:n}=Ds(t,r);return new sL(e,n)}var JE,e9;class iL extends(e9=nn,JE=tt,e9){constructor(r,e){super(r,"string","PgSparseVector"),this.config.dimensions=e.dimensions}build(r){return new oL(r,this.config)}}Me(iL,JE,"PgSparseVectorBuilder");var t9,r9;class oL extends(r9=Mr,t9=tt,r9){constructor(){super(...arguments);Me(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}Me(oL,t9,"PgSparseVector");function Nde(t,r){const{name:e,config:n}=Ds(t,r);return new iL(e,n)}var n9,s9;class lL extends(s9=nn,n9=tt,s9){constructor(r,e){super(r,"array","PgVector"),this.config.dimensions=e.dimensions}build(r){return new cL(r,this.config)}}Me(lL,n9,"PgVectorBuilder");var a9,i9;class cL extends(i9=Mr,a9=tt,i9){constructor(){super(...arguments);Me(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}Me(cL,a9,"PgVector");function Cde(t,r){const{name:e,config:n}=Ds(t,r);return new lL(e,n)}function Tde(){return{bigint:ide,bigserial:ode,boolean:Ht,char:lde,cidr:cde,customType:ude,date:ha,doublePrecision:dde,inet:ph,integer:Ct,interval:fde,json:hde,jsonb:Or,line:pde,macaddr:mde,macaddr8:gde,numeric:NF,point:yde,geometry:vde,real:xde,serial:Fa,smallint:wde,smallserial:_de,text:ye,time:kde,timestamp:De,uuid:Xc,varchar:je,bit:jde,halfvec:Sde,sparsevec:Nde,vector:Cde}}const N2=Symbol.for("drizzle:PgInlineForeignKeys"),wN=Symbol.for("drizzle:EnableRLS");var o9,l9,c9,u9,d9;class jp extends(d9=li,u9=tt,c9=N2,l9=wN,o9=li.Symbol.ExtraConfigBuilder,d9){constructor(){super(...arguments);Me(this,c9,[]);Me(this,l9,!1);Me(this,o9)}}Me(jp,u9,"PgTable"),Me(jp,"Symbol",Object.assign({},li.Symbol,{InlineForeignKeys:N2,EnableRLS:wN}));function Ede(t,r,e,n,s=t){const a=new jp(t,n,s),i=typeof r=="function"?r(Tde()):r,c=Object.fromEntries(Object.entries(i).map(([d,p])=>{const f=p;f.setName(d);const h=f.build(a);return a[N2].push(...f.buildForeignKeys(h,a)),[d,h]})),u=Object.fromEntries(Object.entries(i).map(([d,p])=>{const f=p;f.setName(d);const h=f.buildExtraConfigColumn(a);return[d,h]})),o=Object.assign(a,c);return o[li.Symbol.Columns]=c,o[li.Symbol.ExtraConfigColumns]=u,e&&(o[jp.Symbol.ExtraConfigBuilder]=e),Object.assign(o,{enableRLS:()=>(o[jp.Symbol.EnableRLS]=!0,o)})}const _t=(t,r,e)=>Ede(t,r,e,void 0),Vn={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function ns(t,r){return r.includes(t.columnType)}function Ade(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const Pde=Ro([Ar(),bf(),Wb(),CI()]),Mde=Ro([Pde,EI(Dy()),TI(Dy())]),Rde=J4(t=>t instanceof Buffer);function uL(t,r){const e=r?.zodInstance??Jle,n=r?.coerce??{};let s;return Ade(t)&&(s=t.enumValues.length?e.enum(t.enumValues):e.string()),s||(ns(t,["PgGeometry","PgPointTuple"])?s=e.tuple([e.number(),e.number()]):ns(t,["PgGeometryObject","PgPointObject"])?s=e.object({x:e.number(),y:e.number()}):ns(t,["PgHalfVector","PgVector"])?(s=e.array(e.number()),s=t.dimensions?s.length(t.dimensions):s):ns(t,["PgLine"])?s=e.tuple([e.number(),e.number(),e.number()]):ns(t,["PgLineABC"])?s=e.object({a:e.number(),b:e.number(),c:e.number()}):ns(t,["PgArray"])?(s=e.array(uL(t.baseColumn,e)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=e.array(e.any()):t.dataType==="number"?s=Dde(t,e,n):t.dataType==="bigint"?s=Ide(t,e,n):t.dataType==="boolean"?s=n===!0||n.boolean?e.coerce.boolean():e.boolean():t.dataType==="date"?s=n===!0||n.date?e.coerce.date():e.date():t.dataType==="string"?s=Ode(t,e,n):t.dataType==="json"?s=Mde:t.dataType==="custom"?s=e.any():t.dataType==="buffer"&&(s=Rde)),s||(s=e.any()),s}function Dde(t,r,e){let n=t.getSQLType().includes("unsigned"),s,a,i=!1;ns(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=n?0:Vn.INT8_MIN,a=n?Vn.INT8_UNSIGNED_MAX:Vn.INT8_MAX,i=!0):ns(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=n?0:Vn.INT16_MIN,a=n?Vn.INT16_UNSIGNED_MAX:Vn.INT16_MAX,i=!0):ns(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=n?0:Vn.INT24_MIN,a=n?Vn.INT24_UNSIGNED_MAX:Vn.INT24_MAX,i=ns(t,["MySqlMediumInt","SingleStoreMediumInt"])):ns(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=n?0:Vn.INT32_MIN,a=n?Vn.INT32_UNSIGNED_MAX:Vn.INT32_MAX,i=!0):ns(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=n?0:Vn.INT48_MIN,a=n?Vn.INT48_UNSIGNED_MAX:Vn.INT48_MAX):ns(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||ns(t,["MySqlSerial","SingleStoreSerial"]),s=n?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,i=!0):ns(t,["MySqlYear","SingleStoreYear"])?(s=1901,a=2155,i=!0):(s=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let c=e===!0||e?.number?r.coerce.number():r.number();return c=c.min(s).max(a),i?c.int():c}function Ide(t,r,e){const n=t.getSQLType().includes("unsigned"),s=n?0n:Vn.INT64_MIN,a=n?Vn.INT64_UNSIGNED_MAX:Vn.INT64_MAX;return(e===!0||e?.bigint?r.coerce.bigint():r.bigint()).min(s).max(a)}function Ode(t,r,e){if(ns(t,["PgUUID"]))return r.string().uuid();let n,s,a=!1;ns(t,["PgVarchar","SQLiteText"])?n=t.length:ns(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??Vn.INT16_UNSIGNED_MAX:ns(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=Vn.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=Vn.INT24_UNSIGNED_MAX:t.textType==="text"?n=Vn.INT16_UNSIGNED_MAX:n=Vn.INT8_UNSIGNED_MAX),ns(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,a=!0),ns(t,["PgBinaryVector"])&&(s=/^[01]+$/,n=t.dimensions);let i=e===!0||e?.string?r.coerce.string():r.string();return i=s?i.regex(s):i,n&&a?i.length(n):n?i.max(n):i}function dL(t){return RO(t)?sde(t):ade(t)}function fL(t,r,e,n){const s={};for(const[a,i]of Object.entries(t)){if(!zs(i,Zf)&&!zs(i,vs)&&!zs(i,vs.Aliased)&&typeof i=="object"){const p=RO(i)||nde(i)?dL(i):i;s[a]=fL(p,r[a]??{},e,n);continue}const c=r[a];if(c!==void 0&&typeof c!="function"){s[a]=c;continue}const u=zs(i,Zf)?i:void 0,o=u?uL(u,n):Dy(),d=typeof c=="function"?c(o):o;e.never(u)||(s[a]=d,u&&(e.nullable(u)&&(s[a]=s[a].nullable()),e.optional(u)&&(s[a]=s[a].optional())))}return bd(s)}const Fde={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Et=(t,r)=>{const e=dL(t);return fL(e,{},Fde)},mh={isLocal:Ht("is_local").default(!1),synced:Ht("synced").default(!0),pendingSync:Ht("pending_sync").default(!1),version:Ct("version").default(1).notNull(),lastModifiedBy:je("last_modified_by")},gr=_t("users",{id:je("id").primaryKey().default(St`gen_random_uuid()`),email:ye("email").notNull().unique(),password:ye("password").notNull(),passwordAlgo:ye("password_algo").default("argon2id").notNull(),firstName:ye("first_name"),lastName:ye("last_name"),fullName:ye("full_name"),phone:ye("phone"),birthDate:ye("birth_date"),birthPlace:ye("birth_place"),gender:ye("gender"),role:ye("role").notNull().default("admin"),isActive:Ht("is_active").default(!0).notNull(),emailVerifiedAt:De("email_verified_at"),totpSecret:ye("totp_secret"),mfaEnabled:Ht("mfa_enabled").default(!1).notNull(),fcmToken:ye("fcm_token"),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull(),lastLogin:De("last_login"),...mh});mh.lastModifiedBy=je("last_modified_by").references(()=>gr.id);const Lde=_t("refresh_tokens",{id:Xc("id").primaryKey().default(St`gen_random_uuid()`),userId:je("user_id").notNull().references(()=>gr.id,{onDelete:"cascade"}),tokenHash:ye("token_hash").notNull(),replacedBy:Xc("replaced_by"),revoked:Ht("revoked").default(!1).notNull(),expiresAt:De("expires_at").notNull(),ipAddress:ye("ip_address"),userAgent:ye("user_agent"),deviceFingerprint:ye("device_fingerprint"),createdAt:De("created_at").defaultNow().notNull()}),Bde=_t("audit_logs",{id:Fa("id").primaryKey(),userId:je("user_id").references(()=>gr.id),action:ye("action").notNull(),meta:Or("meta"),ipAddress:ye("ip_address"),createdAt:De("created_at").defaultNow().notNull()}),$de=_t("emergency_users",{id:je("id").primaryKey(),email:ye("email").notNull().unique(),password:ye("password").notNull(),name:ye("name").notNull(),role:ye("role").notNull().default("admin"),createdAt:De("created_at").defaultNow().notNull()}),vd=Ar().min(1," ").transform(t=>/^\d{4}-\d{2}-\d{2}$/.test(t)?t:/^\d{4}-\d{2}-\d{2}T/.test(t)?t.split("T")[0]:t).refine(t=>/^\d{4}-\d{2}-\d{2}$/.test(t),{message:"     YYYY-MM-DD"});Et($de);const zde=_t("auth_user_sessions",{id:Xc("id").primaryKey().default(St`gen_random_uuid()`),userId:je("user_id").notNull().references(()=>gr.id),sessionToken:je("session_token"),deviceFingerprint:je("device_fingerprint"),userAgent:ye("user_agent"),ipAddress:ph("ip_address"),locationData:Or("location_data"),isTrustedDevice:Ht("is_trusted_device").default(!1).notNull(),expiresAt:De("expires_at").notNull(),lastActivity:De("last_activity").defaultNow(),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull(),deviceId:je("device_id"),deviceName:je("device_name"),browserName:je("browser_name"),browserVersion:je("browser_version"),osName:je("os_name"),osVersion:je("os_version"),country:je("country"),city:je("city"),timezone:je("timezone"),loginMethod:je("login_method"),securityFlags:Or("security_flags"),deviceType:je("device_type"),refreshTokenHash:ye("refresh_token_hash"),accessTokenHash:ye("access_token_hash"),isRevoked:Ht("is_revoked").default(!1).notNull(),revokedAt:De("revoked_at",{withTimezone:!0}),revokedReason:je("revoked_reason")});_t("email_verification_tokens",{id:Xc("id").primaryKey().default(St`gen_random_uuid()`),userId:je("user_id").notNull().references(()=>gr.id),email:ye("email").notNull(),token:je("token").notNull().unique(),tokenHash:je("token_hash").notNull(),verificationLink:ye("verification_link").notNull(),expiresAt:De("expires_at").notNull(),verifiedAt:De("verified_at"),createdAt:De("created_at").defaultNow().notNull(),ipAddress:ph("ip_address"),userAgent:ye("user_agent"),attemptsCount:Ct("attempts_count").default(0).notNull()});_t("password_reset_tokens",{id:Xc("id").primaryKey().default(St`gen_random_uuid()`),userId:je("user_id").notNull().references(()=>gr.id),token:je("token").notNull().unique(),tokenHash:je("token_hash").notNull(),expiresAt:De("expires_at").notNull(),usedAt:De("used_at"),createdAt:De("created_at").defaultNow().notNull(),ipAddress:ph("ip_address"),userAgent:ye("user_agent")});const hL=_t("project_types",{id:Fa("id").primaryKey(),name:je("name",{length:100}).notNull().unique(),description:ye("description"),isActive:Ht("is_active").default(!0).notNull(),createdAt:De("created_at").defaultNow().notNull(),...mh}),gn=_t("projects",{id:je("id").primaryKey().default(St`gen_random_uuid()`),name:ye("name").notNull(),description:ye("description"),location:ye("location"),clientName:ye("client_name"),budget:xt("budget",{precision:15,scale:2}),startDate:ha("start_date"),endDate:ha("end_date"),status:ye("status").notNull().default("active"),engineerId:je("engineer_id"),managerName:ye("manager_name"),contactPhone:ye("contact_phone"),notes:ye("notes"),imageUrl:ye("image_url"),projectTypeId:Ct("project_type_id").references(()=>hL.id,{onDelete:"set null"}),isActive:Ht("is_active").default(!0).notNull(),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull(),...mh}),xd=_t("workers",{id:je("id").primaryKey().default(St`gen_random_uuid()`),name:ye("name").notNull(),type:ye("type").notNull(),dailyWage:xt("daily_wage",{precision:15,scale:2}).notNull(),phone:ye("phone"),hireDate:ye("hire_date"),isActive:Ht("is_active").default(!0).notNull(),createdAt:De("created_at").defaultNow().notNull(),...mh}),nu=_t("wells",{id:Fa("id").primaryKey(),projectId:je("project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),wellNumber:Ct("well_number").notNull(),ownerName:ye("owner_name").notNull(),region:je("region",{length:100}).notNull(),numberOfBases:Ct("number_of_bases").notNull(),baseCount:Ct("base_count"),numberOfPanels:Ct("number_of_panels").notNull(),panelCount:Ct("panel_count"),wellDepth:Ct("well_depth").notNull(),waterLevel:Ct("water_level"),numberOfPipes:Ct("number_of_pipes").notNull(),pipeCount:Ct("pipe_count"),fanType:je("fan_type",{length:100}),pumpPower:Ct("pump_power"),status:ye("status").notNull().default("pending"),completionPercentage:xt("completion_percentage",{precision:5,scale:2}).default("0").notNull(),startDate:ha("start_date"),completionDate:ha("completion_date"),notes:ye("notes"),createdBy:je("created_by").notNull().references(()=>gr.id),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull(),...mh}),Vde=_t("fund_transfers",{id:je("id").primaryKey().default(St`gen_random_uuid()`),projectId:je("project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),amount:xt("amount",{precision:15,scale:2}).notNull(),senderName:ye("sender_name"),transferNumber:ye("transfer_number").unique(),transferType:ye("transfer_type").notNull(),transferDate:ye("transfer_date").notNull(),notes:ye("notes"),createdAt:De("created_at").defaultNow().notNull()}),Ude=_t("worker_attendance",{id:je("id").primaryKey().default(St`gen_random_uuid()`),projectId:je("project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),workerId:je("worker_id").notNull().references(()=>xd.id,{onDelete:"cascade"}),attendanceDate:ye("attendance_date").notNull(),date:ye("date"),startTime:ye("start_time"),endTime:ye("end_time"),workDescription:ye("work_description"),isPresent:Ht("is_present"),hoursWorked:xt("hours_worked",{precision:5,scale:2}).default("8.00"),overtime:xt("overtime",{precision:5,scale:2}).default("0.00"),overtimeRate:xt("overtime_rate",{precision:15,scale:2}).default("0.00"),workDays:xt("work_days",{precision:10,scale:2}).default("0.00"),dailyWage:xt("daily_wage",{precision:15,scale:2}).notNull(),actualWage:xt("actual_wage",{precision:15,scale:2}),totalPay:xt("total_pay",{precision:15,scale:2}).notNull(),paidAmount:xt("paid_amount",{precision:15,scale:2}).default("0"),remainingAmount:xt("remaining_amount",{precision:15,scale:2}).default("0"),paymentType:ye("payment_type").default("partial"),notes:ye("notes"),wellId:Ct("well_id").references(()=>nu.id,{onDelete:"set null"}),createdAt:De("created_at").defaultNow().notNull()},t=>({uniqueWorkerDate:St`UNIQUE (worker_id, attendance_date, project_id)`})),Yb=_t("suppliers",{id:je("id").primaryKey().default(St`gen_random_uuid()`),name:ye("name").notNull().unique(),contactPerson:ye("contact_person"),phone:ye("phone"),address:ye("address"),paymentTerms:ye("payment_terms").default(""),totalDebt:xt("total_debt",{precision:12,scale:2}).default("0").notNull(),isActive:Ht("is_active").default(!0).notNull(),notes:ye("notes"),createdAt:De("created_at").defaultNow().notNull()}),pL=_t("materials",{id:je("id").primaryKey().default(St`gen_random_uuid()`),name:ye("name").notNull(),category:ye("category").notNull(),unit:ye("unit").notNull(),createdAt:De("created_at").defaultNow().notNull()}),b3=_t("material_purchases",{id:je("id").primaryKey().default(St`gen_random_uuid()`),projectId:je("project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),supplierId:je("supplier_id").references(()=>Yb.id,{onDelete:"set null"}),materialId:je("material_id").references(()=>pL.id,{onDelete:"set null"}),materialName:ye("material_name").notNull(),materialCategory:ye("material_category"),materialUnit:ye("material_unit"),quantity:xt("quantity",{precision:10,scale:3}).notNull(),unit:ye("unit").notNull(),unitPrice:xt("unit_price",{precision:15,scale:2}).notNull(),totalAmount:xt("total_amount",{precision:15,scale:2}).notNull(),purchaseType:ye("purchase_type").notNull().default(""),paidAmount:xt("paid_amount",{precision:15,scale:2}).default("0").notNull(),remainingAmount:xt("remaining_amount",{precision:15,scale:2}).default("0").notNull(),supplierName:ye("supplier_name"),receiptNumber:ye("receipt_number"),invoiceNumber:ye("invoice_number"),invoiceDate:ye("invoice_date"),dueDate:ye("due_date"),invoicePhoto:ye("invoice_photo"),notes:ye("notes"),purchaseDate:ye("purchase_date").notNull(),wellId:Ct("well_id").references(()=>nu.id,{onDelete:"set null"}),createdAt:De("created_at").defaultNow().notNull()}),Wde=_t("supplier_payments",{id:je("id").primaryKey().default(St`gen_random_uuid()`),supplierId:je("supplier_id").notNull().references(()=>Yb.id,{onDelete:"cascade"}),projectId:je("project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),purchaseId:je("purchase_id").references(()=>b3.id,{onDelete:"set null"}),amount:xt("amount",{precision:15,scale:2}).notNull(),paymentMethod:ye("payment_method").notNull().default(""),paymentDate:ye("payment_date").notNull(),referenceNumber:ye("reference_number"),notes:ye("notes"),createdAt:De("created_at").defaultNow().notNull()}),qde=_t("transportation_expenses",{id:je("id").primaryKey().default(St`gen_random_uuid()`),projectId:je("project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),workerId:je("worker_id").references(()=>xd.id,{onDelete:"set null"}),amount:xt("amount",{precision:15,scale:2}).notNull(),description:ye("description").notNull(),category:ye("category").notNull().default("other"),date:ye("date").notNull(),notes:ye("notes"),wellId:Ct("well_id").references(()=>nu.id,{onDelete:"set null"}),createdAt:De("created_at").defaultNow().notNull()}),Hde=_t("worker_transfers",{id:je("id").primaryKey().default(St`gen_random_uuid()`),workerId:je("worker_id").notNull().references(()=>xd.id,{onDelete:"cascade"}),projectId:je("project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),amount:xt("amount",{precision:15,scale:2}).notNull(),transferNumber:ye("transfer_number"),senderName:ye("sender_name"),recipientName:ye("recipient_name").notNull(),recipientPhone:ye("recipient_phone"),transferMethod:ye("transfer_method").notNull(),transferDate:ye("transfer_date").notNull(),notes:ye("notes"),createdAt:De("created_at").defaultNow().notNull()}),Kde=_t("worker_balances",{id:je("id").primaryKey().default(St`gen_random_uuid()`),workerId:je("worker_id").notNull().references(()=>xd.id,{onDelete:"cascade"}),projectId:je("project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),totalEarned:xt("total_earned",{precision:15,scale:2}).default("0").notNull(),totalPaid:xt("total_paid",{precision:15,scale:2}).default("0").notNull(),totalTransferred:xt("total_transferred",{precision:15,scale:2}).default("0").notNull(),currentBalance:xt("current_balance",{precision:15,scale:2}).default("0").notNull(),lastUpdated:De("last_updated").defaultNow().notNull(),createdAt:De("created_at").defaultNow().notNull()}),Gde=_t("daily_activity_logs",{id:je("id").primaryKey().default(St`gen_random_uuid()`),projectId:je("project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),engineerId:je("engineer_id").notNull().references(()=>gr.id),logDate:ye("log_date").notNull(),activityTitle:ye("activity_title").notNull(),description:ye("description"),progressPercentage:Ct("progress_percentage").default(0),weatherConditions:ye("weather_conditions"),images:Or("images").default([]),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()});Et(Gde).omit({id:!0,createdAt:!0,updatedAt:!0});const Xde=_t("daily_expense_summaries",{id:je("id").primaryKey().default(St`gen_random_uuid()`),projectId:je("project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),date:ye("date").notNull(),carriedForwardAmount:xt("carried_forward_amount",{precision:15,scale:2}).default("0").notNull(),totalFundTransfers:xt("total_fund_transfers",{precision:15,scale:2}).default("0").notNull(),totalWorkerWages:xt("total_worker_wages",{precision:15,scale:2}).default("0").notNull(),totalMaterialCosts:xt("total_material_costs",{precision:15,scale:2}).default("0").notNull(),totalTransportationCosts:xt("total_transportation_costs",{precision:15,scale:2}).default("0").notNull(),totalWorkerTransfers:xt("total_worker_transfers",{precision:15,scale:2}).default("0").notNull(),totalWorkerMiscExpenses:xt("total_worker_misc_expenses",{precision:15,scale:2}).default("0").notNull(),totalIncome:xt("total_income",{precision:15,scale:2}).notNull(),totalExpenses:xt("total_expenses",{precision:15,scale:2}).notNull(),remainingBalance:xt("remaining_balance",{precision:15,scale:2}).notNull(),notes:ye("notes"),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),Qde=_t("worker_types",{id:je("id").primaryKey().default(St`gen_random_uuid()`),name:ye("name").notNull().unique(),usageCount:Ct("usage_count").default(1).notNull(),lastUsed:De("last_used").defaultNow().notNull(),createdAt:De("created_at").defaultNow().notNull()}),Yde=_t("autocomplete_data",{id:je("id").primaryKey().default(St`gen_random_uuid()`),category:ye("category").notNull(),value:ye("value").notNull(),usageCount:Ct("usage_count").default(1).notNull(),lastUsed:De("last_used").defaultNow().notNull(),createdAt:De("created_at").defaultNow().notNull()}),Zde=_t("worker_misc_expenses",{id:je("id").primaryKey().default(St`gen_random_uuid()`),projectId:je("project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),amount:xt("amount",{precision:15,scale:2}).notNull(),description:ye("description").notNull(),date:ye("date").notNull(),notes:ye("notes"),wellId:Ct("well_id").references(()=>nu.id,{onDelete:"set null"}),createdAt:De("created_at").defaultNow().notNull()}),Jde=_t("backup_logs",{id:Fa("id").primaryKey(),filename:ye("filename").notNull(),size:xt("size",{precision:15,scale:2}),status:ye("status").notNull(),destination:ye("destination").notNull(),errorMessage:ye("error_message"),triggeredBy:je("triggered_by").references(()=>gr.id),createdAt:De("created_at").defaultNow().notNull()}),efe=_t("backup_settings",{id:Fa("id").primaryKey(),autoBackupEnabled:Ht("auto_backup_enabled").default(!0).notNull(),intervalMinutes:Ct("interval_minutes").default(1440).notNull(),telegramNotificationsEnabled:Ht("telegram_notifications_enabled").default(!1).notNull(),gdriveEnabled:Ht("gdrive_enabled").default(!1).notNull(),retentionDays:Ct("retention_days").default(30).notNull(),updatedAt:De("updated_at").defaultNow().notNull()});Et(Jde);Et(efe);const tfe=_t("print_settings",{id:je("id").primaryKey().default(St`gen_random_uuid()`),reportType:ye("report_type").notNull().default("worker_statement"),name:ye("name").notNull(),pageSize:ye("page_size").notNull().default("A4"),pageOrientation:ye("page_orientation").notNull().default("portrait"),marginTop:xt("margin_top",{precision:5,scale:2}).notNull().default("15.00"),marginBottom:xt("margin_bottom",{precision:5,scale:2}).notNull().default("15.00"),marginLeft:xt("margin_left",{precision:5,scale:2}).notNull().default("15.00"),marginRight:xt("margin_right",{precision:5,scale:2}).notNull().default("15.00"),fontFamily:ye("font_family").notNull().default("Arial"),fontSize:Ct("font_size").notNull().default(12),headerFontSize:Ct("header_font_size").notNull().default(16),tableFontSize:Ct("table_font_size").notNull().default(10),headerBackgroundColor:ye("header_background_color").notNull().default("#1e40af"),headerTextColor:ye("header_text_color").notNull().default("#ffffff"),tableHeaderColor:ye("table_header_color").notNull().default("#1e40af"),tableRowEvenColor:ye("table_row_even_color").notNull().default("#ffffff"),tableRowOddColor:ye("table_row_odd_color").notNull().default("#f9fafb"),tableBorderColor:ye("table_border_color").notNull().default("#000000"),tableBorderWidth:Ct("table_border_width").notNull().default(1),tableCellPadding:Ct("table_cell_padding").notNull().default(3),tableColumnWidths:ye("table_column_widths").notNull().default("[8,12,10,30,12,15,15,12]"),showHeader:Ht("show_header").notNull().default(!0),showLogo:Ht("show_logo").notNull().default(!0),showProjectInfo:Ht("show_project_info").notNull().default(!0),showWorkerInfo:Ht("show_worker_info").notNull().default(!0),showAttendanceTable:Ht("show_attendance_table").notNull().default(!0),showTransfersTable:Ht("show_transfers_table").notNull().default(!0),showSummary:Ht("show_summary").notNull().default(!0),showSignatures:Ht("show_signatures").notNull().default(!0),isDefault:Ht("is_default").notNull().default(!1),isActive:Ht("is_active").notNull().default(!0),userId:ye("user_id"),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),rfe=_t("project_fund_transfers",{id:je("id").primaryKey().default(St`gen_random_uuid()`),fromProjectId:je("from_project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),toProjectId:je("to_project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),amount:xt("amount",{precision:15,scale:2}).notNull(),description:ye("description"),transferReason:ye("transfer_reason"),transferDate:ye("transfer_date").notNull(),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),v3=_t("security_policies",{id:je("id").primaryKey().default(St`gen_random_uuid()`),policyId:je("policy_id").notNull().unique(),title:je("title",{length:500}).notNull(),description:ye("description"),category:je("category",{length:100}).notNull(),severity:je("severity",{length:50}).notNull().default("medium"),status:je("status",{length:50}).notNull().default("draft"),complianceLevel:je("compliance_level",{length:100}),requirements:Or("requirements"),implementation:Or("implementation"),checkCriteria:Or("check_criteria"),checkInterval:Ct("check_interval"),nextCheck:De("next_check"),violationsCount:Ct("violations_count").notNull().default(0),lastViolation:De("last_violation"),createdBy:je("created_by"),approvedBy:je("approved_by"),approvedAt:De("approved_at"),createdAt:De("created_at").notNull().defaultNow(),updatedAt:De("updated_at").notNull().defaultNow()});_t("security_policy_suggestions",{id:je("id").primaryKey().default(St`gen_random_uuid()`),suggestedPolicyId:je("suggested_policy_id").notNull(),title:je("title",{length:500}).notNull(),description:ye("description"),category:je("category",{length:100}).notNull(),priority:je("priority",{length:50}).notNull().default("medium"),confidence:Ct("confidence").notNull().default(50),reasoning:ye("reasoning"),estimatedImpact:je("estimated_impact",{length:500}),implementationEffort:je("implementation_effort",{length:100}),prerequisites:Or("prerequisites"),sourceType:je("source_type",{length:100}),sourceData:Or("source_data"),status:je("status",{length:50}).notNull().default("pending"),reviewedBy:je("reviewed_by"),reviewedAt:De("reviewed_at"),implementedAs:je("implemented_as").references(()=>v3.id,{onDelete:"set null"}),implementedAt:De("implemented_at"),createdAt:De("created_at").notNull().defaultNow(),updatedAt:De("updated_at").notNull().defaultNow()});_t("security_policy_implementations",{id:je("id").primaryKey().default(St`gen_random_uuid()`),policyId:je("policy_id").notNull().references(()=>v3.id,{onDelete:"cascade"}),implementationId:je("implementation_id").notNull(),implementationType:je("implementation_type",{length:100}).notNull(),status:je("status",{length:50}).notNull().default("pending"),configuration:Or("configuration"),deploymentDetails:Or("deployment_details"),successCriteria:Or("success_criteria"),rollbackPlan:Or("rollback_plan"),implementedBy:je("implemented_by"),implementationDate:De("implementation_date"),verificationDate:De("verification_date"),nextReview:De("next_review"),createdAt:De("created_at").notNull().defaultNow(),updatedAt:De("updated_at").notNull().defaultNow()});_t("security_policy_violations",{id:je("id").primaryKey().default(St`gen_random_uuid()`),policyId:je("policy_id").notNull().references(()=>v3.id,{onDelete:"cascade"}),violationId:je("violation_id").notNull().unique(),violatedRule:je("violated_rule",{length:500}).notNull(),severity:je("severity",{length:50}).notNull().default("medium"),status:je("status",{length:50}).notNull().default("open"),violationDetails:Or("violation_details"),affectedResources:Or("affected_resources"),impactAssessment:ye("impact_assessment"),remediation_steps:Or("remediation_steps"),detectedAt:De("detected_at").notNull().defaultNow(),resolvedAt:De("resolved_at"),resolvedBy:je("resolved_by"),createdAt:De("created_at").notNull().defaultNow(),updatedAt:De("updated_at").notNull().defaultNow()});const nfe=_t("user_project_permissions",{id:Xc("id").primaryKey().default(St`gen_random_uuid()`),userId:je("user_id").notNull().references(()=>gr.id,{onDelete:"cascade"}),projectId:je("project_id").notNull().references(()=>gn.id,{onDelete:"cascade"}),canView:Ht("can_view").default(!0).notNull(),canAdd:Ht("can_add").default(!1).notNull(),canEdit:Ht("can_edit").default(!1).notNull(),canDelete:Ht("can_delete").default(!1).notNull(),assignedBy:je("assigned_by").references(()=>gr.id),assignedAt:De("assigned_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()},t=>({uniqueUserProject:St`UNIQUE (user_id, project_id)`})),sfe=_t("permission_audit_logs",{id:Xc("id").primaryKey().default(St`gen_random_uuid()`),action:je("action").notNull(),actorId:je("actor_id").notNull().references(()=>gr.id),targetUserId:je("target_user_id").references(()=>gr.id),projectId:je("project_id").references(()=>gn.id),oldPermissions:Or("old_permissions"),newPermissions:Or("new_permissions"),ipAddress:ph("ip_address"),userAgent:ye("user_agent"),notes:ye("notes"),createdAt:De("created_at").defaultNow().notNull()}),_N=Et(gn).omit({id:!0,createdAt:!0});Et(xd).omit({id:!0,createdAt:!0});const afe=Et(Vde).omit({id:!0,createdAt:!0}).extend({transferDate:vd});Et(Ude).omit({id:!0,createdAt:!0}).extend({attendanceDate:vd,dailyWage:mn.string(),actualWage:mn.string().optional(),totalPay:mn.string(),paidAmount:mn.string().optional(),remainingAmount:mn.string().optional(),paymentType:Ar().optional().default("partial"),hoursWorked:mn.string().optional(),overtime:mn.string().optional(),overtimeRate:mn.string().optional(),notes:Ar().optional(),startTime:Ar().optional().refine(t=>t?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(t):!0,"     HH:MM"),endTime:Ar().optional().refine(t=>t?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(t):!0,"     HH:MM")}).refine(t=>{if(t.startTime&&t.endTime){const r=parseInt(t.startTime.split(":")[0])*60+parseInt(t.startTime.split(":")[1]),e=parseInt(t.endTime.split(":")[0])*60+parseInt(t.endTime.split(":")[1]);return r<e||e<r}return!0},{message:"        ( )",path:["endTime"]});Et(pL).omit({id:!0,createdAt:!0});Et(b3).omit({id:!0,createdAt:!0}).extend({purchaseDate:vd,quantity:mn.string(),unit:Ar().min(1,"  ").default(""),unitPrice:mn.string(),totalAmount:mn.string(),purchaseType:Ar().default(""),paidAmount:mn.string().default("0"),remainingAmount:mn.string().default("0")});Et(qde).omit({id:!0,createdAt:!0}).extend({date:vd,amount:mn.string()});Et(Hde).omit({id:!0,createdAt:!0}).extend({transferDate:vd,amount:mn.string()});const ife=Et(rfe).omit({id:!0,createdAt:!0}).extend({transferDate:vd,amount:mn.string()});Et(Xde).omit({id:!0,createdAt:!0,updatedAt:!0});Et(Qde).omit({id:!0,createdAt:!0,lastUsed:!0});Et(Yde).omit({id:!0,createdAt:!0,lastUsed:!0});Et(Zde).omit({id:!0,createdAt:!0}).extend({date:vd,amount:mn.string()});Et(nfe).omit({id:!0,assignedAt:!0,updatedAt:!0});Et(sfe).omit({id:!0,createdAt:!0});Et(gr).omit({id:!0,createdAt:!0,updatedAt:!0,lastLogin:!0}).extend({email:Ar().min(5,"   ").max(255,"   ").email("    ").regex(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"      "),password:Ar().min(8,"     8   ").max(128,"   ").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).*$/,"           "),firstName:Ar().min(1,"  ").max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']+$/,"     "),lastName:Ar().max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']*$/,"      ").optional(),role:e3(["admin","manager","user"],{errorMap:()=>({message:"    admin  manager  user"})})});Et(xd).omit({id:!0,createdAt:!0}).extend({name:Ar().min(2,"   ").max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']+$/,"      "),type:Ar().min(1,"  ").max(100,"   "),dailyWage:Ar().regex(/^\d+(\.\d{1,2})?$/,"      ").refine(t=>parseFloat(t)>0,{message:"       "})});const ofe=Et(gn).omit({id:!0,createdAt:!0}).extend({name:Ar().min(2,"   ").max(200,"   ").regex(/^[a-zA-Z-0-9\s\-_().]+$/,"      "),status:e3(["active","completed","paused"],{errorMap:()=>({message:"     active  completed  paused"})}),imageUrl:Ar().url("   ").optional().or(AI(""))});ofe.partial().omit({}).refine(t=>Object.keys(t).length>0,{message:"      "});Ar().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i," UUID  ").or(Ar().regex(/^[a-z0-9-]{8,50}$/,"  "));Et(Yb).omit({id:!0,createdAt:!0});Et(Wde).omit({id:!0,createdAt:!0}).extend({amount:mn.string()});Et(tfe).omit({id:!0,createdAt:!0,updatedAt:!0});Et(Kde);Et(zde).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0});const lfe=_t("report_templates",{id:ye("id").primaryKey().default(St`gen_random_uuid()`),templateName:ye("template_name").notNull().default("default"),headerTitle:ye("header_title").notNull().default("   "),headerSubtitle:ye("header_subtitle").default(" "),companyName:ye("company_name").notNull().default("  "),companyAddress:ye("company_address").default(" - "),companyPhone:ye("company_phone").default("+967 1 234567"),companyEmail:ye("company_email").default("info@company.com"),footerText:ye("footer_text").default("       "),footerContact:ye("footer_contact").default(": info@company.com | +967 1 234567"),primaryColor:ye("primary_color").notNull().default("#1f2937"),secondaryColor:ye("secondary_color").notNull().default("#3b82f6"),accentColor:ye("accent_color").notNull().default("#10b981"),textColor:ye("text_color").notNull().default("#1f2937"),backgroundColor:ye("background_color").notNull().default("#ffffff"),fontSize:Ct("font_size").notNull().default(11),fontFamily:ye("font_family").notNull().default("Arial"),logoUrl:ye("logo_url"),pageOrientation:ye("page_orientation").notNull().default("portrait"),pageSize:ye("page_size").notNull().default("A4"),margins:Or("margins").default({top:1,bottom:1,left:.75,right:.75}),showHeader:Ht("show_header").notNull().default(!0),showFooter:Ht("show_footer").notNull().default(!0),showLogo:Ht("show_logo").notNull().default(!0),showDate:Ht("show_date").notNull().default(!0),showPageNumbers:Ht("show_page_numbers").notNull().default(!0),isActive:Ht("is_active").notNull().default(!0),createdAt:De("created_at").defaultNow(),updatedAt:De("updated_at").defaultNow()});Et(lfe).omit({id:!0,createdAt:!0,updatedAt:!0});Et(Lde);Et(Bde);const Zb=_t("tool_categories",{id:je("id").primaryKey().default(St`gen_random_uuid()`),name:ye("name").notNull().unique(),description:ye("description"),icon:ye("icon"),color:ye("color").default("#3b82f6"),parentId:je("parent_id").references(()=>Zb.id,{onDelete:"cascade"}),isActive:Ht("is_active").default(!0).notNull(),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),So=_t("tools",{id:je("id").primaryKey().default(St`gen_random_uuid()`),sku:ye("sku").unique(),name:ye("name").notNull(),description:ye("description"),categoryId:je("category_id").references(()=>Zb.id),projectId:je("project_id").references(()=>gn.id),unit:ye("unit").notNull().default(""),isTool:Ht("is_tool").default(!0).notNull(),isConsumable:Ht("is_consumable").default(!1).notNull(),isSerial:Ht("is_serial").default(!1).notNull(),purchasePrice:xt("purchase_price",{precision:12,scale:2}),currentValue:xt("current_value",{precision:12,scale:2}),depreciationRate:xt("depreciation_rate",{precision:5,scale:2}),purchaseDate:ha("purchase_date"),supplierId:je("supplier_id").references(()=>Yb.id),warrantyExpiry:ha("warranty_expiry"),maintenanceInterval:Ct("maintenance_interval"),lastMaintenanceDate:ha("last_maintenance_date"),nextMaintenanceDate:ha("next_maintenance_date"),status:ye("status").notNull().default("available"),condition:ye("condition").notNull().default("excellent"),locationType:ye("location_type"),locationId:ye("location_id"),serialNumber:ye("serial_number"),barcode:ye("barcode"),qrCode:ye("qr_code"),imageUrls:ye("image_urls").array(),notes:ye("notes"),specifications:Or("specifications"),totalUsageHours:xt("total_usage_hours",{precision:15,scale:2}).default("0"),usageCount:Ct("usage_count").default(0),aiRating:xt("ai_rating",{precision:3,scale:2}),aiNotes:ye("ai_notes"),isActive:Ht("is_active").default(!0).notNull(),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),cfe=_t("tool_stock",{id:je("id").primaryKey().default(St`gen_random_uuid()`),toolId:je("tool_id").notNull().references(()=>So.id,{onDelete:"cascade"}),locationType:ye("location_type").notNull(),locationId:je("location_id"),locationName:ye("location_name"),quantity:Ct("quantity").notNull().default(0),availableQuantity:Ct("available_quantity").notNull().default(0),reservedQuantity:Ct("reserved_quantity").notNull().default(0),notes:ye("notes"),lastVerifiedAt:De("last_verified_at"),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()},t=>({uniqueToolLocation:St`UNIQUE (tool_id, location_type, location_id)`})),ufe=_t("tool_movements",{id:je("id").primaryKey().default(St`gen_random_uuid()`),toolId:je("tool_id").notNull().references(()=>So.id,{onDelete:"cascade"}),movementType:ye("movement_type").notNull(),quantity:Ct("quantity").notNull(),fromType:ye("from_type"),fromId:je("from_id"),toType:ye("to_type"),toId:je("to_id"),projectId:je("project_id").references(()=>gn.id),reason:ye("reason"),notes:ye("notes"),referenceNumber:ye("reference_number"),performedBy:ye("performed_by").notNull(),performedAt:De("performed_at").defaultNow().notNull()}),dfe=_t("tool_maintenance_logs",{id:je("id").primaryKey().default(St`gen_random_uuid()`),toolId:je("tool_id").notNull().references(()=>So.id,{onDelete:"cascade"}),maintenanceType:ye("maintenance_type").notNull(),priority:ye("priority").notNull().default("medium"),title:ye("title").notNull(),description:ye("description"),workPerformed:ye("work_performed"),scheduledDate:De("scheduled_date"),startedAt:De("started_at"),completedAt:De("completed_at"),nextDueDate:De("next_due_date"),status:ye("status").notNull().default("scheduled"),laborCost:xt("labor_cost",{precision:12,scale:2}).default("0"),partsCost:xt("parts_cost",{precision:12,scale:2}).default("0"),totalCost:xt("total_cost",{precision:12,scale:2}).default("0"),performedBy:je("performed_by").references(()=>gr.id),assignedTo:je("assigned_to").references(()=>gr.id),conditionBefore:ye("condition_before"),conditionAfter:ye("condition_after"),imageUrls:ye("image_urls").array(),documentUrls:ye("document_urls").array(),notes:ye("notes"),issues:ye("issues"),recommendations:ye("recommendations"),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),ffe=_t("tool_usage_analytics",{id:je("id").primaryKey().default(St`gen_random_uuid()`),toolId:je("tool_id").notNull().references(()=>So.id,{onDelete:"cascade"}),projectId:je("project_id").references(()=>gn.id),analysisDate:ye("analysis_date").notNull(),analysisWeek:ye("analysis_week"),analysisMonth:ye("analysis_month"),usageHours:xt("usage_hours",{precision:15,scale:2}).default("0"),transferCount:Ct("transfer_count").default(0),maintenanceCount:Ct("maintenance_count").default(0),operationalCost:xt("operational_cost",{precision:12,scale:2}).default("0"),maintenanceCost:xt("maintenance_cost",{precision:12,scale:2}).default("0"),utilizationRate:xt("utilization_rate",{precision:5,scale:2}),efficiencyScore:xt("efficiency_score",{precision:5,scale:2}),predictedUsage:xt("predicted_usage",{precision:15,scale:2}),createdAt:De("created_at").defaultNow().notNull()}),hfe=_t("tool_purchase_items",{id:je("id").primaryKey().default(St`gen_random_uuid()`),materialPurchaseId:je("material_purchase_id").notNull().references(()=>b3.id,{onDelete:"cascade"}),itemName:ye("item_name").notNull(),itemDescription:ye("item_description"),quantity:Ct("quantity").notNull().default(1),unitPrice:xt("unit_price",{precision:12,scale:2}).notNull(),totalPrice:xt("total_price",{precision:12,scale:2}).notNull(),isToolItem:Ht("is_tool_item").default(!1).notNull(),suggestedCategoryId:je("suggested_category_id").references(()=>Zb.id),conversionStatus:ye("conversion_status").notNull().default("pending"),toolId:je("tool_id").references(()=>So.id),aiConfidence:xt("ai_confidence",{precision:5,scale:2}),aiSuggestions:Or("ai_suggestions"),notes:ye("notes"),convertedAt:De("converted_at"),convertedBy:je("converted_by").references(()=>gr.id),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),mL=_t("maintenance_schedules",{id:je("id").primaryKey().default(St`gen_random_uuid()`),toolId:je("tool_id").notNull().references(()=>So.id,{onDelete:"cascade"}),scheduleType:ye("schedule_type").notNull(),intervalDays:Ct("interval_days"),intervalWeeks:Ct("interval_weeks"),intervalMonths:Ct("interval_months"),usageHoursInterval:xt("usage_hours_interval",{precision:15,scale:2}),usageCountInterval:Ct("usage_count_interval"),isActive:Ht("is_active").default(!0).notNull(),lastMaintenanceDate:De("last_maintenance_date"),nextDueDate:De("next_due_date").notNull(),maintenanceType:ye("maintenance_type").notNull().default("preventive"),priority:ye("priority").notNull().default("medium"),estimatedDuration:Ct("estimated_duration"),estimatedCost:xt("estimated_cost",{precision:12,scale:2}),assignedTo:je("assigned_to").references(()=>gr.id),createdBy:je("created_by").references(()=>gr.id),title:ye("title").notNull(),description:ye("description"),checklistItems:Or("checklist_items"),enableNotifications:Ht("enable_notifications").default(!0).notNull(),notifyDaysBefore:Ct("notify_days_before").default(3).notNull(),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),pfe=_t("maintenance_tasks",{id:je("id").primaryKey().default(St`gen_random_uuid()`),scheduleId:je("schedule_id").notNull().references(()=>mL.id,{onDelete:"cascade"}),toolId:je("tool_id").notNull().references(()=>So.id,{onDelete:"cascade"}),taskName:ye("task_name").notNull(),taskDescription:ye("task_description"),taskType:ye("task_type").notNull(),priority:ye("priority").notNull().default("medium"),status:ye("status").notNull().default("pending"),dueDate:De("due_date").notNull(),startedAt:De("started_at"),completedAt:De("completed_at"),estimatedDuration:Ct("estimated_duration"),actualDuration:Ct("actual_duration"),estimatedCost:xt("estimated_cost",{precision:12,scale:2}),actualCost:xt("actual_cost",{precision:12,scale:2}),assignedTo:je("assigned_to").references(()=>gr.id),performedBy:je("performed_by").references(()=>gr.id),result:ye("result"),findings:ye("findings"),actionsTaken:ye("actions_taken"),recommendations:ye("recommendations"),beforeImages:ye("before_images").array(),afterImages:ye("after_images").array(),documentUrls:ye("document_urls").array(),materialsUsed:Or("materials_used"),performerSignature:ye("performer_signature"),supervisorSignature:ye("supervisor_signature"),approvedBy:je("approved_by").references(()=>gr.id),approvedAt:De("approved_at"),notes:ye("notes"),internalNotes:ye("internal_notes"),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),mfe=_t("tool_cost_tracking",{id:je("id").primaryKey().default(St`gen_random_uuid()`),toolId:je("tool_id").notNull().references(()=>So.id,{onDelete:"cascade"}),costType:ye("cost_type").notNull(),costCategory:ye("cost_category").notNull(),amount:xt("amount",{precision:12,scale:2}).notNull(),currency:ye("currency").notNull().default("YER"),costDate:ye("cost_date").notNull(),costPeriod:ye("cost_period"),referenceType:ye("reference_type"),referenceId:je("reference_id"),description:ye("description").notNull(),notes:ye("notes"),approvedBy:je("approved_by").references(()=>gr.id),approvedAt:De("approved_at"),projectId:je("project_id").references(()=>gn.id),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()},t=>({uniqueToolDate:St`UNIQUE (tool_id, analysis_date)`})),gfe=_t("tool_reservations",{id:je("id").primaryKey().default(St`gen_random_uuid()`),toolId:je("tool_id").notNull().references(()=>So.id,{onDelete:"cascade"}),projectId:je("project_id").notNull().references(()=>gn.id),quantity:Ct("quantity").notNull(),reservedBy:je("reserved_by").notNull().references(()=>gr.id),reservationDate:De("reservation_date").defaultNow().notNull(),requestedDate:De("requested_date").notNull(),expiryDate:De("expiry_date"),status:ye("status").notNull().default("pending"),priority:ye("priority").notNull().default("normal"),reason:ye("reason"),notes:ye("notes"),approvedBy:je("approved_by").references(()=>gr.id),approvedAt:De("approved_at"),fulfilledBy:je("fulfilled_by").references(()=>gr.id),fulfilledAt:De("fulfilled_at"),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),yfe=_t("system_notifications",{id:je("id").primaryKey().default(St`gen_random_uuid()`),type:ye("type").notNull(),category:ye("category").notNull(),title:ye("title").notNull(),message:ye("message").notNull(),description:ye("description"),priority:ye("priority").notNull().default("medium"),severity:ye("severity").notNull().default("info"),status:ye("status").notNull().default("active"),sourceType:ye("source_type"),sourceId:je("source_id"),sourceName:ye("source_name"),userId:je("user_id").references(()=>gr.id),targetAudience:ye("target_audience").default("all"),actionRequired:Ht("action_required").default(!1).notNull(),actionUrl:ye("action_url"),actionLabel:ye("action_label"),scheduledFor:De("scheduled_for"),expiresAt:De("expires_at"),readAt:De("read_at"),dismissedAt:De("dismissed_at"),metadata:Or("metadata"),attachments:ye("attachments").array(),viewCount:Ct("view_count").default(0).notNull(),clickCount:Ct("click_count").default(0).notNull(),lastViewedAt:De("last_viewed_at"),isSystem:Ht("is_system").default(!1).notNull(),isAutoGenerated:Ht("is_auto_generated").default(!0).notNull(),isPersistent:Ht("is_persistent").default(!1).notNull(),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()},t=>({userStatusIdx:St`CREATE INDEX IF NOT EXISTS notifications_user_status_idx ON ${t} (user_id, status, priority)`,typeSourceIdx:St`CREATE INDEX IF NOT EXISTS notifications_type_source_idx ON ${t} (type, source_type, source_id)`,scheduledIdx:St`CREATE INDEX IF NOT EXISTS notifications_scheduled_idx ON ${t} (scheduled_for, status)`})),bfe=_t("notification_read_states",{id:je("id").primaryKey().default(St`gen_random_uuid()`),notificationId:ye("notification_id").notNull(),userId:je("user_id").references(()=>gr.id),isRead:Ht("is_read").default(!0).notNull(),readAt:De("read_at").defaultNow().notNull(),deviceInfo:ye("device_info"),createdAt:De("created_at").defaultNow().notNull()},t=>({uniqueNotificationUser:St`UNIQUE (notification_id, user_id)`})),vfe=_t("build_deployments",{id:je("id").primaryKey().default(St`gen_random_uuid()`),buildNumber:Ct("build_number").notNull(),status:ye("status").notNull().default("running"),currentStep:ye("current_step").notNull(),progress:Ct("progress").notNull().default(0),version:ye("version").notNull(),appType:ye("app_type").notNull().default("web"),logs:Or("logs").notNull().default([]),steps:Or("steps").notNull().default([]),startTime:De("start_time").defaultNow().notNull(),endTime:De("end_time"),triggeredBy:je("triggered_by").references(()=>gr.id),createdAt:De("created_at").defaultNow().notNull()});Et(vfe).omit({id:!0,createdAt:!0});Et(Zb).omit({id:!0,createdAt:!0,updatedAt:!0});const xfe=Et(So).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({purchasePrice:mn.string().optional(),currentValue:mn.string().optional()});xfe.extend({purchasePrice:Ro([Ar(),bf()]).optional().transform(t=>{if(!(t==null||t===""))return typeof t=="string"?t:t.toString()}),currentValue:Ro([Ar(),bf()]).optional().transform(t=>{if(!(t==null||t===""))return typeof t=="string"?t:t.toString()}),depreciationRate:Ro([Ar(),bf()]).optional().transform(t=>{if(!(t==null||t===""))return typeof t=="string"?t:t.toString()}),purchaseDate:Ro([Ar(),dp()]).optional().transform(t=>{if(!(!t||t==="")){if(typeof t=="string"){const r=new Date(t+"T00:00:00.000Z");return isNaN(r.getTime())?void 0:r}return t}}),warrantyExpiry:Ro([Ar(),dp()]).optional().transform(t=>{if(!(!t||t==="")){if(typeof t=="string"){const r=new Date(t+"T00:00:00.000Z");return isNaN(r.getTime())?void 0:r}return t}}),lastMaintenanceDate:Ro([Ar(),dp()]).optional().transform(t=>{if(!(!t||t==="")){if(typeof t=="string"){const r=new Date(t+"T00:00:00.000Z");return isNaN(r.getTime())?void 0:r}return t}}),nextMaintenanceDate:Ro([Ar(),dp()]).optional().transform(t=>{if(!(!t||t==="")){if(typeof t=="string"){const r=new Date(t+"T00:00:00.000Z");return isNaN(r.getTime())?void 0:r}return t}})}).partial();Et(cfe).omit({id:!0,createdAt:!0,updatedAt:!0});Et(ufe).omit({id:!0,performedAt:!0});Et(dfe).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({laborCost:mn.string().optional(),partsCost:mn.string().optional(),totalCost:mn.string().optional()});Et(ffe).omit({id:!0,createdAt:!0});Et(gfe).omit({id:!0,createdAt:!0,updatedAt:!0});Et(yfe).omit({id:!0,createdAt:!0,updatedAt:!0,viewCount:!0,clickCount:!0,lastViewedAt:!0});Et(hfe).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({unitPrice:mn.string(),totalPrice:mn.string()});Et(mL).omit({id:!0,createdAt:!0,updatedAt:!0});Et(pfe).omit({id:!0,createdAt:!0,updatedAt:!0});Et(mfe).omit({id:!0,createdAt:!0,updatedAt:!0});const wfe=_t("tool_notifications",{id:je("id").primaryKey().default(St`gen_random_uuid()`),type:ye("type").notNull(),title:ye("title").notNull(),message:ye("message").notNull(),toolId:je("tool_id").references(()=>So.id),toolName:ye("tool_name"),priority:ye("priority").notNull().default("medium"),isRead:Ht("is_read").notNull().default(!1),actionRequired:Ht("action_required").notNull().default(!1),metadata:Or("metadata"),createdAt:De("created_at").defaultNow().notNull(),readAt:De("read_at")});Et(wfe);Et(bfe).omit({id:!0,createdAt:!0});const _fe=_t("approvals",{id:je("id").primaryKey().default(St`gen_random_uuid()`),objectType:ye("object_type").notNull(),objectId:je("object_id").notNull(),requestedBy:je("requested_by").notNull().references(()=>gr.id),approverId:je("approver_id").references(()=>gr.id),currentLevel:Ct("current_level").notNull().default(1),totalLevels:Ct("total_levels").notNull().default(1),amount:xt("amount",{precision:12,scale:2}),title:ye("title").notNull(),description:ye("description"),priority:ye("priority").notNull().default("medium"),status:ye("status").notNull().default("pending"),reason:ye("reason"),metadata:Or("metadata"),dueDate:De("due_date"),decidedAt:De("decided_at"),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),gL=_t("channels",{id:je("id").primaryKey().default(St`gen_random_uuid()`),name:ye("name").notNull(),type:ye("type").notNull().default("approval"),relatedObjectType:ye("related_object_type"),relatedObjectId:je("related_object_id"),participantIds:Or("participant_ids").notNull(),isPrivate:Ht("is_private").notNull().default(!1),createdBy:je("created_by").notNull().references(()=>gr.id),lastMessageAt:De("last_message_at"),createdAt:De("created_at").defaultNow().notNull()}),kfe=_t("messages",{id:je("id").primaryKey().default(St`gen_random_uuid()`),channelId:je("channel_id").notNull().references(()=>gL.id,{onDelete:"cascade"}),senderId:je("sender_id").notNull().references(()=>gr.id),content:ye("content").notNull(),messageType:ye("message_type").notNull().default("text"),attachments:Or("attachments"),relatedObjectType:ye("related_object_type"),relatedObjectId:je("related_object_id"),isDecision:Ht("is_decision").notNull().default(!1),decisionType:ye("decision_type"),isEdited:Ht("is_edited").notNull().default(!1),editedAt:De("edited_at"),createdAt:De("created_at").defaultNow().notNull()}),jfe=_t("actions",{id:je("id").primaryKey().default(St`gen_random_uuid()`),title:ye("title").notNull(),description:ye("description").notNull(),category:ye("category").notNull(),priority:ye("priority").notNull().default("medium"),ownerId:je("owner_id").notNull().references(()=>gr.id),assignedTo:je("assigned_to").references(()=>gr.id),relatedObjectType:ye("related_object_type"),relatedObjectId:je("related_object_id"),status:ye("status").notNull().default("open"),progress:Ct("progress").notNull().default(0),estimatedCost:xt("estimated_cost",{precision:15,scale:2}),actualCost:xt("actual_cost",{precision:15,scale:2}),dueDate:ha("due_date"),startedAt:De("started_at"),completedAt:De("completed_at"),notes:ye("notes"),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),Sfe=_t("system_events",{id:je("id").primaryKey().default(St`gen_random_uuid()`),eventType:ye("event_type").notNull(),objectType:ye("object_type").notNull(),objectId:je("object_id").notNull(),userId:je("user_id").references(()=>gr.id),eventData:Or("event_data").notNull(),processed:Ht("processed").notNull().default(!1),processedAt:De("processed_at"),createdAt:De("created_at").defaultNow().notNull()});Et(_fe).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({amount:mn.string().optional()});Et(gL).omit({id:!0,createdAt:!0});Et(kfe).omit({id:!0,createdAt:!0});Et(jfe).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({estimatedCost:mn.string().optional(),actualCost:mn.string().optional()});Et(Sfe).omit({id:!0,createdAt:!0});const lm=_t("accounts",{id:je("id").primaryKey().default(St`gen_random_uuid()`),code:ye("code").unique().notNull(),name:ye("name").notNull(),type:ye("type").notNull(),currency:ye("currency").default("SAR").notNull(),parentId:je("parent_id"),isActive:Ht("is_active").default(!0).notNull(),description:ye("description"),createdAt:De("created_at").defaultNow().notNull()}),Jb=_t("transactions",{id:je("id").primaryKey().default(St`gen_random_uuid()`),docNumber:ye("doc_number"),date:ha("date").notNull(),description:ye("description"),totalAmount:xt("total_amount",{precision:12,scale:2}).notNull(),currency:ye("currency").default("SAR").notNull(),status:ye("status").default("draft").notNull(),transactionType:ye("transaction_type").notNull(),projectId:je("project_id").references(()=>gn.id),relatedObjectType:ye("related_object_type"),relatedObjectId:je("related_object_id"),createdBy:je("created_by").references(()=>gr.id),approvedBy:je("approved_by").references(()=>gr.id),postedBy:je("posted_by").references(()=>gr.id),approvedAt:De("approved_at"),postedAt:De("posted_at"),createdAt:De("created_at").defaultNow().notNull()}),Nfe=_t("transaction_lines",{id:je("id").primaryKey().default(St`gen_random_uuid()`),transactionId:je("transaction_id").notNull().references(()=>Jb.id,{onDelete:"cascade"}),accountId:je("account_id").notNull().references(()=>lm.id),debit:xt("debit",{precision:12,scale:2}).default("0").notNull(),credit:xt("credit",{precision:12,scale:2}).default("0").notNull(),description:ye("description"),costCenter:ye("cost_center"),projectId:je("project_id").references(()=>gn.id),notes:ye("notes"),createdAt:De("created_at").defaultNow().notNull()}),Cfe=_t("journals",{id:je("id").primaryKey().default(St`gen_random_uuid()`),transactionId:je("transaction_id").notNull().references(()=>Jb.id),journalNumber:ye("journal_number").unique(),period:ye("period").notNull(),isReversed:Ht("is_reversed").default(!1).notNull(),reversalJournalId:je("reversal_journal_id"),notes:ye("notes"),createdAt:De("created_at").defaultNow().notNull(),postedAt:De("posted_at")}),Tfe=_t("finance_payments",{id:je("id").primaryKey().default(St`gen_random_uuid()`),transactionId:je("transaction_id").references(()=>Jb.id),paymentNumber:ye("payment_number").unique(),paymentType:ye("payment_type").notNull(),amount:xt("amount",{precision:12,scale:2}).notNull(),currency:ye("currency").default("SAR").notNull(),fromAccount:je("from_account").references(()=>lm.id),toAccount:je("to_account").references(()=>lm.id),bankReference:ye("bank_reference"),checkNumber:ye("check_number"),dueDate:ha("due_date"),paidDate:ha("paid_date"),payerId:je("payer_id"),payeeId:je("payee_id"),status:ye("status").default("pending").notNull(),notes:ye("notes"),createdAt:De("created_at").defaultNow().notNull()}),Efe=_t("finance_events",{id:je("id").primaryKey().default(St`gen_random_uuid()`),eventName:ye("event_name").notNull(),eventType:ye("event_type").notNull(),objectType:ye("object_type"),objectId:je("object_id"),payload:Or("payload"),metadata:Or("metadata"),triggeredBy:je("triggered_by").references(()=>gr.id),processed:Ht("processed").default(!1).notNull(),processedAt:De("processed_at"),createdAt:De("created_at").defaultNow().notNull()});_t("account_balances",{id:je("id").primaryKey().default(St`gen_random_uuid()`),accountId:je("account_id").notNull().references(()=>lm.id),projectId:je("project_id").references(()=>gn.id),period:ye("period").notNull(),openingBalance:xt("opening_balance",{precision:12,scale:2}).default("0").notNull(),debitTotal:xt("debit_total",{precision:12,scale:2}).default("0").notNull(),creditTotal:xt("credit_total",{precision:12,scale:2}).default("0").notNull(),closingBalance:xt("closing_balance",{precision:12,scale:2}).default("0").notNull(),lastUpdated:De("last_updated").defaultNow().notNull(),createdAt:De("created_at").defaultNow().notNull()},t=>({uniqueAccountPeriod:St`UNIQUE (account_id, period, project_id)`}));Et(lm).omit({id:!0,createdAt:!0});Et(Jb).omit({id:!0,createdAt:!0,approvedAt:!0,postedAt:!0});Et(Nfe).omit({id:!0,createdAt:!0});Et(Cfe).omit({id:!0,createdAt:!0,postedAt:!0});Et(Tfe).omit({id:!0,createdAt:!0});Et(Efe).omit({id:!0,createdAt:!0,processedAt:!0});const Afe=_t("notifications",{id:je("id").primaryKey().default(St`gen_random_uuid()`),title:ye("title").notNull(),body:ye("body").notNull(),type:ye("type").notNull(),priority:Ct("priority").notNull().default(3),projectId:je("project_id").references(()=>gn.id),createdBy:je("created_by").references(()=>gr.id),recipients:ye("recipients").array(),payload:Or("payload"),meta:Or("meta"),readBy:ye("read_by").array(),deliveredTo:ye("delivered_to").array(),scheduledAt:De("scheduled_at"),channelPreference:Or("channel_preference"),createdAt:De("created_at").defaultNow().notNull()});Et(Afe).omit({id:!0,createdAt:!0});const yL=_t("ai_chat_sessions",{id:je("id").primaryKey().default(St`gen_random_uuid()`),userId:je("user_id").notNull().references(()=>gr.id,{onDelete:"cascade"}),title:ye("title").default(" "),isActive:Ht("is_active").default(!0).notNull(),lastMessageAt:De("last_message_at"),messagesCount:Ct("messages_count").default(0).notNull(),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),Pfe=_t("ai_chat_messages",{id:je("id").primaryKey().default(St`gen_random_uuid()`),sessionId:je("session_id").notNull().references(()=>yL.id,{onDelete:"cascade"}),role:ye("role").notNull(),content:ye("content").notNull(),model:ye("model"),provider:ye("provider"),tokensUsed:Ct("tokens_used"),action:ye("action"),actionData:Or("action_data"),createdAt:De("created_at").defaultNow().notNull()}),Mfe=_t("ai_usage_stats",{id:je("id").primaryKey().default(St`gen_random_uuid()`),userId:je("user_id").notNull().references(()=>gr.id,{onDelete:"cascade"}),date:ye("date").notNull(),provider:ye("provider").notNull(),model:ye("model").notNull(),requestsCount:Ct("requests_count").default(0).notNull(),tokensUsed:Ct("tokens_used").default(0).notNull(),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()});Et(yL).omit({id:!0,createdAt:!0,updatedAt:!0});Et(Pfe).omit({id:!0,createdAt:!0});Et(Mfe).omit({id:!0,createdAt:!0,updatedAt:!0});const x3=_t("well_tasks",{id:Fa("id").primaryKey(),wellId:Ct("well_id").notNull().references(()=>nu.id,{onDelete:"cascade"}),taskType:je("task_type",{length:50}).notNull(),description:ye("description"),estimatedCost:xt("estimated_cost",{precision:12,scale:2}),actualCost:xt("actual_cost",{precision:12,scale:2}),taskOrder:Ct("task_order").notNull(),status:ye("status").notNull().default("pending"),assignedWorkerId:je("assigned_worker_id").references(()=>xd.id,{onDelete:"set null"}),startDate:ha("start_date"),completionDate:ha("completion_date"),completedBy:je("completed_by").references(()=>gr.id,{onDelete:"set null"}),createdBy:je("created_by").references(()=>gr.id,{onDelete:"set null"}),notes:ye("notes"),createdAt:De("created_at").defaultNow().notNull(),updatedAt:De("updated_at").defaultNow().notNull()}),Rfe=_t("well_task_accounts",{id:Fa("id").primaryKey(),taskId:Ct("task_id").notNull().unique().references(()=>x3.id,{onDelete:"cascade"}),amount:xt("amount",{precision:12,scale:2}).notNull(),accountedBy:je("accounted_by").notNull().references(()=>gr.id),accountedAt:De("accounted_at").defaultNow().notNull(),paymentMethod:je("payment_method",{length:50}),referenceNumber:je("reference_number",{length:100}),notes:ye("notes")}),Dfe=_t("well_expenses",{id:Fa("id").primaryKey(),wellId:Ct("well_id").notNull().references(()=>nu.id,{onDelete:"cascade"}),expenseType:je("expense_type",{length:50}).notNull(),referenceType:je("reference_type",{length:50}),referenceId:je("reference_id"),description:ye("description").notNull(),category:je("category",{length:100}),quantity:xt("quantity",{precision:10,scale:2}).notNull(),unit:je("unit",{length:20}).notNull(),unitPrice:xt("unit_price",{precision:12,scale:2}).notNull(),totalAmount:xt("total_amount",{precision:12,scale:2}).notNull(),expenseDate:ha("expense_date").notNull(),createdBy:je("created_by").notNull().references(()=>gr.id),createdAt:De("created_at").defaultNow().notNull(),notes:ye("notes")}),Ife=_t("well_audit_logs",{id:Fa("id").primaryKey(),wellId:Ct("well_id").references(()=>nu.id,{onDelete:"set null"}),taskId:Ct("task_id").references(()=>x3.id,{onDelete:"set null"}),action:je("action",{length:50}).notNull(),entityType:je("entity_type",{length:50}).notNull(),entityId:Ct("entity_id").notNull(),previousData:Or("previous_data"),newData:Or("new_data"),userId:je("user_id").notNull().references(()=>gr.id),ipAddress:ph("ip_address"),userAgent:ye("user_agent"),createdAt:De("created_at").defaultNow().notNull()}),Ofe=_t("material_categories",{id:Fa("id").primaryKey(),name:je("name",{length:100}).notNull().unique(),nameAr:je("name_ar",{length:100}).notNull(),type:je("type",{length:20}).notNull(),unit:je("unit",{length:20}).notNull(),description:ye("description"),isActive:Ht("is_active").default(!0).notNull(),createdAt:De("created_at").defaultNow().notNull()});Et(hL).omit({id:!0,createdAt:!0});Et(nu).omit({id:!0,createdAt:!0,updatedAt:!0});Et(x3).omit({id:!0,createdAt:!0,updatedAt:!0});Et(Rfe).omit({id:!0,accountedAt:!0});Et(Dfe).omit({id:!0,createdAt:!0});Et(Ife).omit({id:!0,createdAt:!0});Et(Ofe).omit({id:!0});const bL=_t("equipment",{id:Fa("id").primaryKey(),name:ye("name").notNull(),type:ye("type"),status:ye("status").default("active"),projectId:je("project_id").references(()=>gn.id),createdAt:De("created_at").defaultNow().notNull()}),Ffe=_t("equipment_movements",{id:Fa("id").primaryKey(),equipmentId:Ct("equipment_id").references(()=>bL.id),fromProjectId:je("from_project_id").references(()=>gn.id),toProjectId:je("to_project_id").references(()=>gn.id),movementDate:De("movement_date").defaultNow(),notes:ye("notes")});Et(bL).omit({id:!0,createdAt:!0});Et(Ffe).omit({id:!0});const Lfe=_t("incidents",{id:Fa("id").primaryKey(),title:ye("title").notNull(),severity:ye("severity",{enum:["critical","warning","info"]}).notNull(),status:ye("status",{enum:["open","resolved","investigating"]}).notNull(),affectedDevices:Ct("affected_devices").default(0),appVersion:ye("app_version").notNull(),lastOccurrence:De("last_occurrence").defaultNow(),details:Or("details")});_t("monitoring_metrics",{id:Fa("id").primaryKey(),name:ye("name").notNull(),value:ye("value").notNull(),timestamp:De("timestamp").defaultNow()});Et(Lfe).omit({id:!0,lastOccurrence:!0});function Bfe(){const{toast:t}=wn(),r=xs(),{setFloatingAction:e}=jo(),[n,s]=P.useState(null),[a,i]=P.useState(!1),c=[{key:"reason",label:"",type:"select",placeholder:" ",options:[{value:"payroll",label:""},{value:"materials",label:""},{value:"tools",label:""},{value:"maintenance",label:""},{value:"emergency",label:""},{value:"other",label:""}]},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],[u,o]=P.useState(""),[d,p]=P.useState({reason:"",dateRange:{from:void 0,to:void 0}}),f=C=>o(C),h=(C,_)=>{p(S=>({...S,[C]:_}))},g=()=>{o(""),p({reason:"",dateRange:{from:void 0,to:void 0}})},{data:y=[]}=Pt({queryKey:["/api/projects/with-stats"],queryFn:async()=>{const C=await qe("/api/projects/with-stats","GET");return C.data||C||[]}}),m=y,{data:v={data:[]},isLoading:x,refetch:j}=Pt({queryKey:["/api/project-fund-transfers"],queryFn:async()=>await qe("/api/project-fund-transfers","GET")||{data:[]}}),T=P.useMemo(()=>Array.isArray(v?.data)?v.data:[],[v]),E=P.useMemo(()=>{let C=T;if(u){const _=u.toLowerCase();C=C.filter(S=>S.transferReason?.toLowerCase().includes(_)||S.description?.toLowerCase().includes(_)||m.find(k=>k.id===S.fromProjectId)?.name.toLowerCase().includes(_)||m.find(k=>k.id===S.toProjectId)?.name.toLowerCase().includes(_))}if(d.reason&&(C=C.filter(_=>{if(!_.transferReason)return!1;const S=c.find(k=>k.key==="reason")?.options?.find(k=>k.value===d.reason);return _.transferReason===d.reason||_.transferReason===S?.label})),d.dateRange?.from||d.dateRange?.to){const _=d.dateRange.from?new Date(d.dateRange.from).getTime():0,S=d.dateRange.to?new Date(d.dateRange.to).getTime():1/0;C=C.filter(k=>{const N=new Date(k.transferDate).getTime();return N>=_&&N<=S})}return C},[T,u,d,m]),B=P.useMemo(()=>{const C=Array.isArray(T)?T:[];return{total:C.length,totalAmount:C.reduce((_,S)=>_+(parseFloat(S.amount?.toString()||"0")||0),0),filtered:E.length,outgoing:E.filter(_=>!E.some(S=>S.fromProjectId===S.toProjectId)).length,incoming:E.filter(_=>E.some(S=>S.toProjectId===S.fromProjectId)).length}},[T,E]),W=$t({mutationFn:async C=>n?qe(`/api/project-fund-transfers/${n.id}`,"PATCH",C):qe("/api/project-fund-transfers","POST",C),onSuccess:()=>{r.refetchQueries({queryKey:["/api/project-fund-transfers"]}),r.refetchQueries({queryKey:["/api/projects/with-stats"]}),t({title:" ",description:n?"   ":"    "}),R.reset(),s(null),i(!1)},onError:C=>{t({title:"",description:C.message||"    ",variant:"destructive"})}}),I=$t({mutationFn:async C=>{console.log(" [Client]  :",C);const _=await qe(`/api/project-fund-transfers/${C}`,"DELETE");return console.log(" [Client]  :",_),_},onSuccess:(C,_)=>{console.log(" [Client]    ...",_),r.setQueryData(["/api/project-fund-transfers"],S=>{console.log(" [Client]  :",S);const k=S?.data?.filter(D=>D.id!==_)||[],N={...S,data:k,success:!0};return console.log(" [Client]  :",N),N}),r.refetchQueries({queryKey:["/api/project-fund-transfers"]}),r.refetchQueries({queryKey:["/api/projects/with-stats"]}),t({title:" ",description:"    "})},onError:C=>{console.error(" [Client]   :",C),t({title:"",description:C.message||"    ",variant:"destructive"})}}),R=Wl({resolver:ql(ife),defaultValues:{fromProjectId:"",toProjectId:"",amount:"",transferReason:"",transferDate:new Date().toISOString().split("T")[0],description:""}});P.useEffect(()=>(e(()=>{s(null),R.reset({fromProjectId:"",toProjectId:"",amount:"",transferReason:"",transferDate:new Date().toISOString().split("T")[0],description:""}),i(!0)}," "),()=>e(null)),[e,R]);const $=C=>{if(!C.fromProjectId||!C.toProjectId||C.fromProjectId==="all"||C.toProjectId==="all"){t({title:"",description:"    .    ' '   .",variant:"destructive"});return}if(C.fromProjectId===C.toProjectId){t({title:"",description:"      ",variant:"destructive"});return}W.mutate(C)},K=C=>{s(C),R.reset({fromProjectId:C.fromProjectId,toProjectId:C.toProjectId,amount:C.amount,transferReason:C.transferReason||"",transferDate:C.transferDate||new Date().toISOString().split("T")[0],description:C.description||""}),i(!0)},H=C=>m.find(_=>_.id===C)?.name||" ",M=C=>{if(typeof C!="number"){const _=parseFloat(String(C));if(isNaN(_))return"0 .";C=_}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(C)+" ."},F=P.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:B.total,icon:Ap,color:"orange"},{key:"totalAmount",label:" ",value:B.totalAmount,icon:Sr,color:"green",formatter:M},{key:"filtered",label:" ",value:B.filtered,icon:pa,color:"blue"}]},{columns:3,gap:"sm",items:[{key:"today",label:" ",value:E.filter(C=>new Date(C.transferDate).toDateString()===new Date().toDateString()).length,icon:Pn,color:"purple"},{key:"average",label:" ",value:B.total>0?B.totalAmount/B.total:0,icon:ma,color:"red",formatter:M},{key:"projects",label:" ",value:m.length,icon:Nc,color:"indigo"}]}],[B,E,m]);return l.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:[l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-40 md:pb-20",children:[l.jsx(sl,{statsRows:F,searchValue:u,onSearchChange:f,searchPlaceholder:"  ...",showSearch:!0,filters:c,filterValues:d,onFilterChange:h,onReset:g,onRefresh:()=>j(),isRefreshing:x}),l.jsx("div",{className:"space-y-4 md:space-y-6",children:x?l.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(C=>l.jsx(Ir,{className:"bg-white dark:bg-slate-900",children:l.jsx(en,{className:"p-4 md:p-6",children:l.jsx(un,{className:"h-20 w-full"})})},C))}):E.length===0?l.jsx(Ir,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:l.jsx(en,{className:"p-12",children:l.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[l.jsx(Ap,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),l.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"    "})]})})}):l.jsx(Ps,{columns:2,children:E.map(C=>l.jsx(vn,{title:M(parseFloat(C.amount?.toString()||"0")),titleIcon:Sr,headerColor:"#f59e0b",badges:[{label:new Date(C.transferDate).toLocaleDateString("en-GB"),variant:"outline"}],fields:[{label:"",value:`${H(C.fromProjectId)}  ${H(C.toProjectId)}`,icon:bs,color:"info"},{label:"",value:C.transferReason||" ",icon:Xa,color:"default"},{label:"",value:new Date(C.transferDate).toLocaleDateString("en-GB"),icon:ma,color:"info"}],actions:[{icon:$c,label:"",onClick:()=>K(C),color:"blue"},{icon:ys,label:"",onClick:()=>I.mutate(C.id),color:"red"}],compact:!0},C.id))})})]})}),a&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-[999999] flex items-end md:items-center justify-center p-0 md:p-4",children:l.jsxs(Ir,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-2xl w-full max-h-[92vh] md:max-h-[85vh] md:w-full md:max-w-2xl rounded-t-[2rem] md:rounded-xl overflow-hidden flex flex-col mb-0 md:mb-0",children:[l.jsx(Ma,{className:"flex-shrink-0 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 p-4 md:p-5",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Qa,{className:"text-slate-900 dark:text-white text-base md:text-lg",children:n?"  ":"   "}),l.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>{i(!1),s(null),R.reset()},className:"h-8 w-8 p-0 hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-full",children:l.jsx(Es,{className:"h-4 w-4"})})]})}),l.jsx(en,{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-24 md:pb-6",children:l.jsx(Kl,{...R,children:l.jsxs("form",{onSubmit:R.handleSubmit($),className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[l.jsx(tn,{control:R.control,name:"amount",render:({field:C})=>l.jsxs(Jr,{children:[l.jsx(Wn,{className:"text-xs md:text-sm font-semibold",children:" ()"}),l.jsx(on,{children:l.jsx(gt,{type:"number",step:"0.01",placeholder:"0",...C,className:"h-10 md:h-11 border-2 text-xs md:text-sm"})}),l.jsx(An,{className:"text-xs"})]})}),l.jsx(tn,{control:R.control,name:"transferDate",render:({field:C})=>l.jsxs(Jr,{className:"flex flex-col gap-1.5",children:[l.jsx(Wn,{className:"text-xs md:text-sm font-semibold",children:""}),l.jsx(Go,{value:C.value,onChange:_=>C.onChange(_?Nr(_,"yyyy-MM-dd"):"")}),l.jsx(An,{className:"text-xs"})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-4",children:[l.jsx(tn,{control:R.control,name:"fromProjectId",render:({field:C})=>l.jsxs(Jr,{children:[l.jsx(Wn,{className:"text-xs md:text-sm font-semibold",children:"  *"}),l.jsx(on,{children:l.jsxs(ga,{value:C.value||"",onValueChange:C.onChange,children:[l.jsx(Qs,{className:"h-10 md:h-11 border-2 text-xs md:text-sm",children:l.jsx(ya,{placeholder:"  "})}),l.jsx(Ys,{className:"z-[9999999]",children:m.map(_=>l.jsx(zr,{value:_.id||"none",children:_.name},_.id))})]})}),l.jsx(An,{className:"text-xs"})]})}),l.jsx(tn,{control:R.control,name:"toProjectId",render:({field:C})=>l.jsxs(Jr,{children:[l.jsx(Wn,{className:"text-xs md:text-sm font-semibold",children:"  *"}),l.jsx(on,{children:l.jsxs(ga,{value:C.value||"",onValueChange:C.onChange,children:[l.jsx(Qs,{className:"h-10 md:h-11 border-2 text-xs md:text-sm",children:l.jsx(ya,{placeholder:"  "})}),l.jsx(Ys,{className:"z-[9999999]",children:m.map(_=>l.jsx(zr,{value:_.id||"none",children:_.name},_.id))})]})}),l.jsx(An,{className:"text-xs"})]})})]}),l.jsx(tn,{control:R.control,name:"transferReason",render:({field:C})=>l.jsxs(Jr,{children:[l.jsx(Wn,{className:"text-sm font-semibold",children:" "}),l.jsx(on,{children:l.jsx(ss,{category:"transferTypes",placeholder:" ",value:C.value||"",onChange:C.onChange,className:"h-10 md:h-11 border-2"})}),l.jsx(An,{className:"text-xs"})]})}),l.jsx(tn,{control:R.control,name:"description",render:({field:C})=>l.jsxs(Jr,{children:[l.jsx(Wn,{className:"text-sm font-semibold",children:" ()"}),l.jsx(on,{children:l.jsx(ss,{category:"notes",placeholder:"  ",value:C.value||"",onChange:C.onChange,className:"border-2 min-h-24 md:min-h-28"})}),l.jsx(An,{className:"text-xs"})]})}),l.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4 md:p-6 mt-6 -mx-4 md:-mx-6 z-50 flex gap-3 shadow-lg",children:[l.jsx(Oe,{type:"submit",disabled:W.isPending,className:"flex-1 h-10 md:h-11 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold shadow-lg shadow-blue-500/30",children:W.isPending?" ...":n?"":" "}),n&&l.jsx(Oe,{type:"button",variant:"outline",onClick:()=>{s(null),R.reset()},className:"flex-1 h-10 md:h-11 border-2",children:""})]})]})})})]})})]})}const $fe=t=>({income:"",expense:"",deferred:"",transfer_from_project:" "})[t]||t;async function vL(t,r,e,n){const s=(await Fn(async()=>{const{default:I}=await Promise.resolve().then(()=>jO);return{default:I}},void 0)).default,a=new s.Workbook;a.creator=lo.name,a.created=new Date;const i=a.addWorksheet(" ",{views:[{rightToLeft:!0}],pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0,margins:{left:.2,right:.2,top:.4,bottom:.4,header:.2,footer:.2}}});let c=1;i.mergeCells(`A${c}:O${c}`);const u=i.getCell(`A${c}`);u.value=lo.name,u.font={bold:!0,size:16,color:{argb:"FFFFFFFF"}},u.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F5A96"}},u.alignment={horizontal:"center",vertical:"middle"},i.getRow(c).height=30,c++,i.mergeCells(`A${c}:O${c}`);const o=i.getCell(`A${c}`);o.value=lo.subtitle,o.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},o.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E75B6"}},o.alignment={horizontal:"center",vertical:"middle"},i.getRow(c).height=25,c++,i.mergeCells(`A${c}:O${c}`);const d=i.getCell(`A${c}`),p=n?`  - ${n} - ${new Date().toLocaleDateString("ar-SA")}`:`  - ${new Date().toLocaleDateString("ar-SA")}`;d.value=p,d.font={bold:!0,size:14,color:{argb:"FF1F5A96"}},d.alignment={horizontal:"center",vertical:"middle"},i.getRow(c).height=28,c++,c++,[[" ",e(r.totalIncome)],[" ",e(r.totalExpenses)],[" ",e(r.balance)]].forEach(([I,R])=>{const $=i.getRow(c);i.mergeCells(`A${c}:D${c}`);const K=$.getCell(1);K.value=I,K.font={bold:!0,size:11},K.alignment={horizontal:"right",vertical:"middle"},i.mergeCells(`E${c}:H${c}`);const H=$.getCell(5);H.value=R,H.font={bold:!0,size:11,color:{argb:I===" "?r.balance>=0?"FF008000":"FFFF0000":"FF000000"}},H.alignment={horizontal:"left",vertical:"middle"},$.height=22,c++}),c++;const h=["#","","","",""," /"," "," ","",""," "," ","/"," "," "],g=i.getRow(c);h.forEach((I,R)=>{const $=g.getCell(R+1);$.value=I,$.font=Er.tableHeader.font,$.fill=Er.tableHeader.fill,$.alignment=Er.tableHeader.alignment,$.border=Er.tableHeader.border}),g.height=28,c++,i.getColumn(1).width=5,i.getColumn(2).width=12,i.getColumn(3).width=10,i.getColumn(4).width=14,i.getColumn(5).width=14,i.getColumn(6).width=16,i.getColumn(7).width=10,i.getColumn(8).width=11,i.getColumn(9).width=13,i.getColumn(10).width=8,i.getColumn(11).width=10,i.getColumn(12).width=9,i.getColumn(13).width=14,i.getColumn(14).width=11,i.getColumn(15).width=13,t.forEach((I,R)=>{const $=i.getRow(c),K=R%2===0?Er.tableCell:Er.tableCellAlt,M=new Date(I.date).toLocaleDateString("ar-SA"),F=()=>I.workerName?I.workerName:I.materialName?I.materialName:I.description&&I.description!=="-"?I.description:"-",C=()=>I.supplierName?I.supplierName:I.recipientName?I.recipientName:"-";[R+1,M,$fe(I.type),I.category,I.projectName||" ",F(),I.workDays??"-",I.dailyWage?e(I.dailyWage):"-",I.payableAmount?e(I.payableAmount):"-",I.quantity??"-",I.unitPrice?e(I.unitPrice):"-",I.paymentType||"-",C(),I.transferMethod||"-",e(I.amount)].forEach((S,k)=>{const N=$.getCell(k+1);N.value=S,N.font=K.font,K.fill&&(N.fill=K.fill),N.alignment=K.alignment,N.border=K.border,k===2&&(I.type==="income"||I.type==="transfer_from_project"?N.font={...K.font,color:{argb:"FF008000"}}:I.type==="expense"?N.font={...K.font,color:{argb:"FFFF0000"}}:I.type==="deferred"&&(N.font={...K.font,color:{argb:"FFFF8C00"}})),k===8&&I.payableAmount&&I.amount===0&&(N.font={...K.font,bold:!0,color:{argb:"FFFF6600"}}),k===14&&(I.type==="income"||I.type==="transfer_from_project"?N.font={...K.font,bold:!0,color:{argb:"FF008000"}}:I.type==="expense"?N.font={...K.font,bold:!0,color:{argb:"FFFF0000"}}:I.type==="deferred"&&(N.font={...K.font,bold:!0,color:{argb:"FFFF8C00"}}))}),$.height=24,c++}),c++;const y=i.getRow(c);i.mergeCells(`A${c}:G${c}`);const m=y.getCell(1);m.value=` : ${t.length}`,m.font=Er.summaryRow.font,m.fill=Er.summaryRow.fill,m.alignment=Er.summaryRow.alignment,m.border=Er.summaryRow.border,i.mergeCells(`H${c}:O${c}`);const v=y.getCell(8);v.value=` : ${new Date().toLocaleDateString("ar-SA")} ${new Date().toLocaleTimeString("ar-SA")}`,v.font={size:10,italic:!0},v.alignment={horizontal:"center",vertical:"middle"},y.height=26,c+=2;const x=i.getRow(c);i.mergeCells(`A${c}:E${c}`);const j=x.getCell(1);j.value="  : ________________",j.font=Er.signatureBox.font,j.alignment=Er.signatureBox.alignment,j.border=Er.signatureBox.border,i.mergeCells(`K${c}:O${c}`);const T=x.getCell(11);T.value="  : ________________",T.font=Er.signatureBox.font,T.alignment=Er.signatureBox.alignment,T.border=Er.signatureBox.border,x.height=35,c+=2,i.mergeCells(`A${c}:O${c}`);const E=i.getCell(`A${c}`);E.value=`${lo.name} | ${lo.address} |     `,E.font=Er.footer.font,E.alignment=Er.footer.alignment;const B=await a.xlsx.writeBuffer(),W=`__${n?n+"_":""}${new Date().toISOString().split("T")[0]}.xlsx`;await DR(B,W)}function zfe(){const{getProjectIdForApi:t,isAllProjects:r}=ko(),e=t()||"",[n,s]=P.useState("all"),[a,i]=P.useState(""),[c,u]=P.useState({}),[o,d]=P.useState(!1),{user:p}=Gl(),{toast:f}=wn(),h=p?.role==="admin"||p?.role==="",{totals:g,isLoading:y}=dh({projectId:e||"all",enabled:!0}),m=P.useMemo(()=>({totalIncome:g?.totalIncome??0,totalExpenses:g?.totalCashExpenses??0,currentBalance:g?.totalBalance??0,deferredExpenses:g?.materialExpensesCredit??0}),[g]);[{title:"",value:m.totalIncome,icon:Pn,color:"green",formatter:ie=>Ye(ie)},{title:" ()",value:m.totalExpenses,icon:pa,color:"red",formatter:ie=>Ye(ie)},{title:" ",value:m.currentBalance,icon:Sr,color:m.currentBalance>=0?"blue":"red",formatter:ie=>Ye(ie)},{title:" ",value:m.deferredExpenses,icon:ms,color:"orange",formatter:ie=>Ye(ie)}].map((ie,ee)=>l.jsx(Ir,{className:"overflow-hidden",children:l.jsx(en,{className:"p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`p-1.5 rounded-full bg-${ie.color}-100 dark:bg-${ie.color}-900/30`,children:l.jsx(ie.icon,{className:`h-3.5 w-3.5 text-${ie.color}-600 dark:text-${ie.color}-400`})}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("p",{className:"text-[10px] font-medium text-muted-foreground leading-none",children:ie.title}),l.jsx("p",{className:`text-xs font-bold arabic-numbers leading-none ${ie.color==="red"?"text-red-600":ie.color==="green"?"text-green-600":""}`,children:ie.formatter(ie.value)})]})]})})},ee));const x={staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1},{data:j=[]}=Pt({queryKey:["/api/projects"],...x}),{data:T=[],isLoading:E,error:B}=Pt({queryKey:["/api/projects",e,"fund-transfers",r],queryFn:async()=>{try{if(console.log(`    : ${e},  : ${r}`),r){const ie=[];return await Promise.all(j.map(async ee=>{try{const se=await qe(`/api/projects/${ee.id}/fund-transfers`),le=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...le.map(ve=>({...ve,projectId:ee.id,projectName:ee.name})))}catch(se){console.error(`       ${ee.id}:`,se)}})),console.log(`   ${ie.length}     `),ie}else{const ie=await qe(`/api/projects/${e}/fund-transfers`);return console.log(`   ${Array.isArray(ie?.data)?ie.data.length:0}  `),Array.isArray(ie?.data)?ie.data:[]}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&j.length>0,retry:1,staleTime:3e4}),{data:W=[],isLoading:I,error:R}=Pt({queryKey:["/api/projects",e,"fund-transfers","incoming",r],queryFn:async()=>{try{console.log(`    : ${e},  : ${r}`);const ie=r?"/api/project-fund-transfers":`/api/projects/fund-transfers/incoming/${e}`,ee=await fetch(ie,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!ee.ok)return ee.status===401?(console.error("   -     "),[]):(console.error(`     : ${ee.status}`),[]);const se=await ee.json(),le=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];return console.log(`   ${le.length}   `),le.length>0&&console.log("  :",le.map(ve=>({:ve.fromProjectName,:ve.toProjectName,:ve.amount,:ve.transferDate}))),le}catch(ie){return console.error("     :",ie),[]}},enabled:!0,retry:1,staleTime:3e4}),{data:$=[],isLoading:K,error:H}=Pt({queryKey:["/api/projects",e,"fund-transfers","outgoing",r],queryFn:async()=>{try{console.log(`    : ${e},  : ${r}`);const ie=r?"/api/project-fund-transfers":`/api/projects/fund-transfers/outgoing/${e}`,ee=await fetch(ie,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!ee.ok)return ee.status===401?(console.error("   -     "),[]):(console.error(`     : ${ee.status}`),[]);const se=await ee.json(),le=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];return console.log(`   ${le.length}   `),le.length>0&&console.log("  :",le.map(ve=>({:ve.fromProjectName,:ve.toProjectName,:ve.amount,:ve.transferDate}))),le}catch(ie){return console.error("     :",ie),[]}},enabled:!0,retry:1,staleTime:3e4}),{data:M=[],isLoading:F,error:C}=Pt({queryKey:["/api/projects",e,"worker-attendance",r],queryFn:async()=>{try{if(console.log(`    : ${e},  : ${r}`),r){const ie=[];for(const ee of j)try{const se=await qe(`/api/projects/${ee.id}/worker-attendance`),le=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...le.map(ve=>({...ve,projectId:ee.id,projectName:ee.name})))}catch(se){console.error(`      ${ee.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{const ie=await qe(`/api/projects/${e}/worker-attendance`),ee=Array.isArray(ie?.data)?ie.data:Array.isArray(ie)?ie:[];return console.log(`   ${ee.length}   `),ee}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&j.length>0,retry:1,staleTime:3e4}),{data:_=[],isLoading:S,error:k}=Pt({queryKey:["/api/projects",e,"material-purchases",r],queryFn:async()=>{try{if(console.log(`    : ${e},  : ${r}`),r){const ie=[];for(const ee of j)try{const se=await fetch(`/api/projects/${ee.id}/material-purchases`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(se.ok){const le=await se.json(),ve=Array.isArray(le?.data)?le.data:Array.isArray(le)?le:[];ie.push(...ve.map(_e=>({..._e,projectId:ee.id,projectName:ee.name})))}}catch(se){console.error(`      ${ee.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{const ie=await fetch(`/api/projects/${e}/material-purchases`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!ie.ok)return ie.status===401?(console.error("   -     "),[]):(console.error(`     : ${ie.status}`),[]);const ee=await ie.json(),se=Array.isArray(ee?.data)?ee.data:Array.isArray(ee)?ee:[];return console.log(`   ${se.length}  `),se}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&j.length>0,retry:1,staleTime:3e4}),{data:N=[],isLoading:D}=Pt({queryKey:["/api/transportation-expenses",r,e],queryFn:async()=>{try{if(console.log(`    -  : ${r}, : ${e}`),r){const ie=[];for(const ee of j)try{const se=await qe(`/api/transportation-expenses?projectId=${ee.id}`),le=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...le.map(ve=>({...ve,projectId:ee.id,projectName:ee.name})))}catch(se){console.error(`       ${ee.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{let ie="/api/transportation-expenses";e&&(ie=`/api/transportation-expenses?projectId=${e}`);const ee=await qe(ie),se=Array.isArray(ee?.data)?ee.data:Array.isArray(ee)?ee:[];return console.log(`   ${se.length}  `),se}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&j.length>0,retry:1,staleTime:3e4}),{data:L=[],isLoading:V}=Pt({queryKey:["/api/worker-misc-expenses",r,e],queryFn:async()=>{try{if(console.log(`    -  : ${r}, : ${e}`),r){const ie=[];for(const ee of j)try{const se=await qe(`/api/worker-misc-expenses?projectId=${ee.id}`),le=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...le.map(ve=>({...ve,projectId:ee.id,projectName:ee.name})))}catch(se){console.error(`      ${ee.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{let ie="/api/worker-misc-expenses";e&&(ie=`/api/worker-misc-expenses?projectId=${e}`);const ee=await qe(ie),se=Array.isArray(ee?.data)?ee.data:Array.isArray(ee)?ee:[];return console.log(`   ${se.length}  `),se}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&j.length>0,retry:1,staleTime:3e4}),{data:Q=[],isLoading:Y,error:re}=Pt({queryKey:["/api/worker-transfers",e,r],queryFn:async()=>{try{if(console.log(`    : ${e},  : ${r}`),r){const ie=[];for(const ee of j)try{const se=await qe(`/api/worker-transfers?projectId=${ee.id}`),le=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...le.map(ve=>({...ve,projectId:ee.id,projectName:ve.projectName||ee.name})))}catch(se){console.error(`      ${ee.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{const ie=e?`/api/worker-transfers?projectId=${e}`:"/api/worker-transfers",ee=await qe(ie),se=Array.isArray(ee?.data)?ee.data:Array.isArray(ee)?ee:[];return console.log(`   ${se.length}  `),se}}catch(ie){return console.error("     :",ie),[]}},enabled:j.length>0,retry:1,staleTime:3e4}),{data:O=[]}=Pt({queryKey:["/api/workers"]}),Z=ie=>r?!0:ie.projectId===e,U=P.useMemo(()=>{const ie=[],ee=Array.isArray(T)?T:[],se=Array.isArray(W)?W:[],le=Array.isArray($)?$:[],ve=Array.isArray(M)?M:[],_e=Array.isArray(_)?_:[],Te=Array.isArray(N)?N:[],Fe=Array.isArray(L)?L:[],Be=Array.isArray(Q)?Q:[],ze=Array.isArray(O)?O:[];console.log(`     ${e}`),console.log("  :",{fundTransfers:ee?.length||0,incomingProjectTransfers:se?.length||0,outgoingProjectTransfers:le?.length||0,workerAttendance:ve?.length||0,materialPurchases:_e?.length||0,transportExpenses:Te?.length||0,miscExpenses:Fe?.length||0,workerTransfers:Be?.length||0});const Je=me=>me&&j.find(He=>String(He.id)===String(me))?.name||" ";console.log("   :",ee.length),ee.forEach(me=>{const Ke=me.transferDate,He=parseFloat(me.amount);Ke&&!isNaN(He)&&He>0&&ie.push({id:`fund-${me.id}`,date:Ke,type:"income",category:" ",amount:He,description:`: ${me.senderName||" "}`,projectId:me.projectId,projectName:me.projectName||Je(me.projectId)})}),se.length>0?(console.log(`  ${se.length}  `),se.forEach(me=>{const Ke=me.transferDate,He=parseFloat(me.amount);Ke&&!isNaN(He)&&He>0&&(console.log(`   : ${He}  ${me.fromProjectName}`),ie.push({id:`project-in-${me.id}`,date:Ke,type:"transfer_from_project",category:"    ",amount:He,description:`  : ${me.fromProjectName||" "}${me.description?` - ${me.description}`:""}`,projectId:me.toProjectId,projectName:me.toProjectName||Je(me.toProjectId)}))})):console.log(`      ${e}`),le.length>0?(console.log(`  ${le.length}  `),le.forEach(me=>{const Ke=me.transferDate,He=parseFloat(me.amount);Ke&&!isNaN(He)&&He>0&&(console.log(`   : ${He}  ${me.toProjectName}`),ie.push({id:`project-out-${me.id}`,date:Ke,type:"expense",category:"    ",amount:He,description:`  : ${me.toProjectName||" "}${me.description?` - ${me.description}`:""}`,projectId:me.fromProjectId,projectName:me.fromProjectName||Je(me.fromProjectId)}))})):console.log(`      ${e}`),console.log("   :",ve.length),ve.forEach((me,Ke)=>{const He=me.date||me.attendanceDate||me.created_at;let It=0;if(me.paidAmount!==void 0&&me.paidAmount!==null&&me.paidAmount!==""){const Mt=parseFloat(me.paidAmount);!isNaN(Mt)&&Mt>0&&(It=Mt)}else if(me.actualWage!==void 0&&me.actualWage!==null&&me.actualWage!==""){const Mt=parseFloat(me.actualWage);!isNaN(Mt)&&Mt>0&&(It=Mt)}let Zt=0;const kt=me.dailyWage?parseFloat(me.dailyWage):0,Jt=me.workDays?parseFloat(me.workDays):0;!isNaN(kt)&&!isNaN(Jt)&&kt>0&&Jt>0&&(Zt=kt*Jt);const rr=It>0?It:0;if(He&&(Zt>0||rr>0)){const Ft=(Array.isArray(ze)?ze.find(Bt=>Bt.id===me.workerId):void 0)?.name||me.workerName||me.worker?.name||me.name||" ",_r=me.workDays?` (${me.workDays} )`:"",Vt=Zt>0&&It===0?" -  ":"",kr={id:`wage-${me.id}`,date:He,type:"expense",category:Zt>0&&It===0?"  ( )":" ",amount:rr,description:`${Ft}${_r}${Vt}`,workerName:Ft,workDays:Jt>0?Jt:void 0,dailyWage:kt>0?kt:void 0,payableAmount:Zt>0?Zt:void 0,projectId:me.projectId,projectName:me.projectName||Je(me.projectId)};ie.push(kr)}});const ft=_e.filter(Z);console.log("   :",ft.length),ft.forEach(me=>{const Ke=me.purchaseDate||me.date;let He=0;if(me.totalAmount&&!isNaN(parseFloat(me.totalAmount))?He=parseFloat(me.totalAmount):me.amount&&!isNaN(parseFloat(me.amount))?He=parseFloat(me.amount):me.cost&&!isNaN(parseFloat(me.cost))&&(He=parseFloat(me.cost)),Ke&&He>0){const It=me.purchaseType===""||me.paymentType==="deferred"||me.isDeferred||me.deferred;ie.push({id:`material-${me.id}`,date:Ke,type:It?"deferred":"expense",category:It?" ":" ",amount:He,description:`: ${me.materialName||me.name||" "}${It?" ()":""}`,materialName:me.materialName||me.name||" ",quantity:me.quantity?parseFloat(me.quantity):void 0,unitPrice:me.unitPrice?parseFloat(me.unitPrice):void 0,paymentType:It?"":"",supplierName:me.supplierName||me.supplier?.name||"",projectId:me.projectId,projectName:me.projectName||Je(me.projectId)})}});const bt=Te.filter(Z);console.log("   :",bt.length),bt.forEach(me=>{const Ke=me.date,He=parseFloat(me.amount);Ke&&!isNaN(He)&&He>0&&ie.push({id:`transport-${me.id}`,date:Ke,type:"expense",category:"",amount:He,description:`: ${me.description||" "}`,projectId:me.projectId,projectName:me.projectName||Je(me.projectId)})});const rt=Fe.filter(Z);console.log("   :",rt.length),rt.forEach(me=>{const Ke=me.date,He=parseFloat(me.amount);Ke&&!isNaN(He)&&He>0&&ie.push({id:`misc-${me.id}`,date:Ke,type:"expense",category:"",amount:He,description:`: ${me.description||me.workerName||" "}`,projectId:me.projectId,projectName:me.projectName||Je(me.projectId)})}),console.log("   :",Be.length),Be.forEach(me=>{const Ke=me.transferDate||me.date,He=parseFloat(me.amount);if(Ke&&!isNaN(He)&&He>0){const Zt=(Array.isArray(ze)?ze.find(rr=>rr.id===me.workerId):void 0)?.name||me.workerName||"  ",kt=me.recipientName?`  ${me.recipientName}`:"",Jt=me.transferMethod==="hawaleh"?"()":me.transferMethod==="bank"?"( )":"()";ie.push({id:`worker-transfer-${me.id}`,date:Ke,type:"expense",category:" ",amount:He,description:`${Zt}${kt} ${Jt}`,workerName:Zt,recipientName:me.recipientName||"",transferMethod:me.transferMethod==="hawaleh"?"":me.transferMethod==="bank"?"":"",projectId:me.projectId,projectName:me.projectName||Je(me.projectId)})}});const we=ie.filter(me=>me.date&&!isNaN(new Date(me.date).getTime())).sort((me,Ke)=>new Date(Ke.date).getTime()-new Date(me.date).getTime());return console.log(`  : ${we.length}   ${ie.length}`),console.log("   :",{_:we.filter(me=>me.category===" ").length,_:we.filter(me=>me.type==="transfer_from_project").length,_:we.filter(me=>me.category==="    ").length,_:we.filter(me=>me.category===" ").length,_:we.filter(me=>me.category===" ").length,_:we.filter(me=>me.category===" ").length,_:we.filter(me=>me.type==="deferred").length,:we.filter(me=>me.category==="").length,:we.filter(me=>me.category==="").length,:we.length}),we},[e,r,T,W,$,M,_,N,L,Q,O,j]),z=P.useMemo(()=>{let ie=U;return n!=="all"&&(ie=ie.filter(ee=>ee.type===n)),a&&(ie=ie.filter(ee=>ee.description.toLowerCase().includes(a.toLowerCase())||ee.category.toLowerCase().includes(a.toLowerCase()))),c.from&&(ie=ie.filter(ee=>new Date(ee.date)>=c.from)),c.to&&(ie=ie.filter(ee=>new Date(ee.date)<=c.to)),ie},[U,n,a,c]),G=P.useMemo(()=>{const ie=U.filter(Be=>Be.type==="income").reduce((Be,ze)=>Be+(ze.amount||0),0),ee=U.filter(Be=>Be.type==="transfer_from_project").reduce((Be,ze)=>Be+(ze.amount||0),0),se=U.filter(Be=>Be.type==="expense").reduce((Be,ze)=>Be+(ze.amount||0),0),le=U.filter(Be=>Be.type==="deferred").reduce((Be,ze)=>Be+(ze.amount||0),0),ve=U.filter(Be=>Be.category==="    ").reduce((Be,ze)=>Be+(ze.amount||0),0),_e=se-ve,Te=ie+ee,Fe=se+le;return console.log("  :",{income:ie,transferFromProject:ee,expenses:se,deferredExpenses:le,otherExpenses:_e,transferToProjectExpenses:ve,totalIncome:Te,totalExpenses:Fe,balance:Te-Fe}),{income:ie,transferFromProject:ee,otherExpenses:_e,transferToProjectExpenses:ve,deferredExpenses:le,totalIncome:Te,expenses:Fe,totalExpenses:Fe,balance:Te-Fe}},[U]);Array.isArray(j)&&j.find(ie=>ie.id===e)?.name;const ae=ie=>Ye(ie),pe=()=>j.find(ie=>ie.id===e)?.name||"",ge={key:"export",icon:o?Ln:jm,label:" Excel",onClick:async()=>{if(!(o||z.length===0)){d(!0);try{await vL(z,{totalIncome:G.totalIncome,totalExpenses:G.totalExpenses,balance:G.balance},Ye,r?" ":pe()),f({title:"  ",description:`  ${z.length}    Excel`})}catch(ie){console.error("  :",ie),f({title:"  ",description:"    ",variant:"destructive"})}finally{d(!1)}}},variant:"outline",disabled:o||z.length===0,loading:o,tooltip:"     Excel"},te=P.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"totalIncome",label:"",value:G.totalIncome,icon:Pn,color:"green",formatter:ae},{key:"totalExpenses",label:" ()",value:G.totalExpenses,icon:pa,color:"red",formatter:ae},{key:"balance",label:" ",value:G.balance,icon:Sr,color:G.balance>=0?"blue":"red",formatter:ae},{key:"deferred",label:" ",value:G.deferredExpenses,icon:ms,color:"orange",formatter:ae}]}],[G]),{data:oe}=Pt({queryKey:["/api/autocomplete/transaction-categories"],queryFn:async()=>qe("/api/autocomplete/transaction-categories","GET")}),he=[{key:"type",label:" ",type:"select",placeholder:" ",options:P.useMemo(()=>{const ie=[{value:"all",label:" "},{value:"income",label:""},{value:"expense",label:""},{value:"deferred",label:""},{value:"transfer_from_project",label:"    "}];if(!oe?.data)return ie;const ee=new Set(ie.map(le=>le.value)),se=oe.data.map(le=>({value:le.value,label:le.label})).filter(le=>!ee.has(le.value));return[...ie,...se]},[oe])},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],ce=E||I||K||F||S||Y||D||V;return l.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-24 md:pb-20",children:[l.jsx(sl,{statsRows:te,searchValue:a,onSearchChange:i,searchPlaceholder:"    ...",showSearch:!0,filters:he,actions:[ge],filterValues:{type:n,dateRange:c},onFilterChange:(ie,ee)=>{ie==="type"?s(ee):ie==="dateRange"&&u(ee||{})},onReset:()=>{i(""),s("all"),u({})}}),(B||C||k||re||R||H)&&l.jsx(Ir,{className:"bg-red-50 border-red-200",children:l.jsx(en,{className:"p-4",children:l.jsxs("div",{className:"text-red-800",children:[l.jsx("h3",{className:"font-semibold",children:"    :"}),B&&l.jsx("p",{children:"     "}),C&&l.jsx("p",{children:"     "}),k&&l.jsx("p",{children:"     "}),re&&l.jsx("p",{children:"     "}),R&&l.jsx("p",{children:"     "}),H&&l.jsx("p",{children:"     "}),l.jsx("p",{className:"text-sm mt-2 text-red-600",children:"         ."})]})})}),l.jsx("div",{className:"space-y-4 md:space-y-6",children:ce?l.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(ie=>l.jsx(Ir,{className:"bg-white dark:bg-slate-900",children:l.jsx(en,{className:"p-4 md:p-6",children:l.jsx(un,{className:"h-20 w-full"})})},ie))}):z.length===0?l.jsx(Ir,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:l.jsx(en,{className:"p-12",children:l.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[l.jsx(Xa,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),l.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"     "})]})})}):l.jsx(Ps,{columns:2,children:z.map(ie=>{const ee=ie.type==="income"||ie.type==="transfer_from_project",se=ie.type==="deferred",le=ee?"":se?"":"",ve=()=>ie.category===" "?"/daily-expenses":ie.category===" "?"/worker-attendance":ie.category===" "?"/worker-accounts":ie.category===" "||ie.type==="deferred"?"/material-purchase":ie.category===""?"/daily-expenses":ie.category===""?"/worker-misc-expenses":ie.category.includes("")?"/project-transfers":"/daily-expenses";return l.jsx(vn,{title:ae(ie.amount),subtitle:Nr(new Date(ie.date),"dd/MM/yyyy",{locale:Xs}),titleIcon:ee?$W:LW,headerColor:ee?"#10b981":se?"#f59e0b":"#ef4444",badges:[{label:ie.category,variant:ee?"default":se?"warning":"destructive"},{label:le,variant:ee?"success":se?"warning":"destructive"}],fields:[{label:"",value:ie.projectName||" ",icon:bs,color:"info"},{label:"",value:le,icon:ee?Pn:pa,color:ee?"success":se?"warning":"danger",emphasis:!0},{label:"",value:ie.category,icon:Xa,color:"default"},{label:"",value:ae(ie.amount),icon:Sr,color:ee?"success":se?"warning":"danger",emphasis:!0},{label:"",value:ie.description,icon:Xa,color:"default"}],actions:[{icon:$c,label:"",onClick:()=>{const _e=ve();window.location.href=_e},color:"blue"},...h?[{icon:ys,label:"",onClick:()=>{confirm(`      
${ie.category} - ${ae(ie.amount)}`)&&f({title:"",description:"  ...",variant:"destructive"})},color:"red"}]:[]],compact:!0},ie.id)})})})]})})})}function Vfe(){const{toast:t}=wn(),r=xs(),{setFloatingAction:e}=jo(),[n,s]=P.useState(null),[a,i]=P.useState(!1),c=[{key:"project",label:"",type:"select",placeholder:" ",options:[]},{key:"transferType",label:" ",type:"select",placeholder:" ",options:[{value:"",label:""},{value:"",label:""},{value:" ",label:" "}]},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],[u,o]=P.useState(""),[d,p]=P.useState({project:"",transferType:"",dateRange:{from:void 0,to:void 0}}),f=_=>o(_),h=(_,S)=>{p(k=>({...k,[_]:S}))},g=()=>{o(""),p({project:"",transferType:"",dateRange:{from:void 0,to:void 0}})},{data:y=[]}=Pt({queryKey:["/api/projects"],queryFn:async()=>(await qe("/api/projects","GET")).data||[]}),{data:m=[],isLoading:v,refetch:x}=Pt({queryKey:["/api/projects/all/fund-transfers"],queryFn:async()=>(await qe("/api/projects/all/fund-transfers","GET")).data||[]}),j=P.useMemo(()=>{let _=m;if(u){const S=u.toLowerCase();_=_.filter(k=>k.senderName?.toLowerCase().includes(S)||k.transferNumber?.toLowerCase().includes(S)||k.notes?.toLowerCase().includes(S)||k.projectName?.toLowerCase().includes(S))}if(d.project&&d.project!=="all"&&(_=_.filter(S=>S.projectId===d.project)),d.transferType&&(_=_.filter(S=>S.transferType===d.transferType)),d.dateRange?.from||d.dateRange?.to){const S=d.dateRange.from?new Date(d.dateRange.from).getTime():0,k=d.dateRange.to?new Date(d.dateRange.to).getTime():1/0;_=_.filter(N=>{const D=new Date(N.transferDate).getTime();return D>=S&&D<=k})}return _},[m,u,d]),{summary:T,isLoading:E}=dh(),B=P.useMemo(()=>({total:m.length,totalAmount:T?.totalIncome||m.reduce((_,S)=>_+(parseFloat(S.amount?.toString()||"0")||0),0),currentBalance:T?.totalProjectBalance||0,filtered:j.length,today:j.filter(_=>new Date(_.transferDate).toDateString()===new Date().toDateString()).length,thisWeek:j.filter(_=>{const S=new Date(_.transferDate),k=new Date,N=new Date(k.getTime()-10080*60*1e3);return S>=N&&S<=k}).length}),[m,j,T]),W=$t({mutationFn:async _=>n?qe(`/api/fund-transfers/${n.id}`,"PATCH",_):qe("/api/fund-transfers","POST",_),onSuccess:()=>{r.refetchQueries({queryKey:["/api/projects/all/fund-transfers"]}),r.refetchQueries({queryKey:["/api/projects/with-stats"]}),t({title:" ",description:n?"  ":"   "}),R.reset(),s(null),i(!1)},onError:_=>{t({title:"",description:_.message||"   ",variant:"destructive"})}}),I=$t({mutationFn:async _=>qe(`/api/fund-transfers/${_}`,"DELETE"),onSuccess:()=>{r.refetchQueries({queryKey:["/api/projects/all/fund-transfers"]}),r.refetchQueries({queryKey:["/api/projects/with-stats"]}),t({title:" ",description:"   "})},onError:_=>{t({title:"",description:_.message||"   ",variant:"destructive"})}}),R=Wl({resolver:ql(afe),defaultValues:{projectId:"",amount:"",senderName:"",transferNumber:"",transferType:"",transferDate:new Date().toISOString().split("T")[0],notes:""}});P.useEffect(()=>(e(()=>{s(null),R.reset({projectId:"",amount:"",senderName:"",transferNumber:"",transferType:"",transferDate:new Date().toISOString().split("T")[0],notes:""}),i(!0)}," "),()=>e(null)),[e,R]);const $=_=>{if(!_.projectId){t({title:"",description:"  ",variant:"destructive"});return}W.mutate(_)},K=_=>{s(_),R.reset({projectId:_.projectId,amount:_.amount,senderName:_.senderName||"",transferNumber:_.transferNumber||"",transferType:_.transferType||"",transferDate:_.transferDate,notes:_.notes||""}),i(!0)},H=_=>{if(typeof _!="number"){const S=parseFloat(String(_));if(isNaN(S))return"0 .";_=S}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(_)+" ."},M=P.useMemo(()=>y.map(_=>({value:_.id,label:_.name})),[y]),F=P.useMemo(()=>c.map(_=>_.key==="project"?{..._,options:M}:_),[M]),C=P.useMemo(()=>[{columns:4,gap:"sm",items:[{key:"totalAmount",label:" ",value:B.totalAmount,icon:Pn,color:"blue",formatter:H},{key:"totalExpenses",label:" ",value:T?.totalCashExpenses||0,icon:Pn,color:"red",formatter:H},{key:"currentBalance",label:" ",value:B.currentBalance,icon:Sr,color:B.currentBalance>=0?"green":"red",formatter:H},{key:"filtered",label:" ",value:B.filtered,icon:Xa,color:"purple"}]}],[B,T]);return l.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:[l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-24 md:pb-20",children:[l.jsx(sl,{statsRows:C,searchValue:u,onSearchChange:f,searchPlaceholder:"  ...",showSearch:!0,filters:F,filterValues:d,onFilterChange:h,onReset:g,onRefresh:()=>x(),isRefreshing:v}),l.jsx("div",{className:"space-y-4 md:space-y-6",children:v?l.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(_=>l.jsx(Ir,{className:"bg-white dark:bg-slate-900",children:l.jsx(en,{className:"p-4 md:p-6",children:l.jsx(un,{className:"h-20 w-full"})})},_))}):j.length===0?l.jsx(Ir,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:l.jsx(en,{className:"p-12",children:l.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[l.jsx(Sr,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),l.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"   "})]})})}):l.jsx(Ps,{columns:2,children:j.map(_=>l.jsx(vn,{title:H(parseFloat(_.amount?.toString()||"0")),titleIcon:Sr,headerColor:"#10b981",badges:[{label:new Date(_.transferDate).toLocaleDateString("en-GB"),variant:"outline"}],fields:[{label:"",value:_.projectName||" ",icon:bs,color:"info"},{label:"",value:_.senderName||" ",icon:Xa,color:"default"},{label:" ",value:_.transferNumber||" ",icon:Xa,color:"default"},{label:"",value:_.transferType||" ",icon:Xa,color:"default"},{label:"",value:new Date(_.transferDate).toLocaleDateString("en-GB"),icon:ma,color:"info"}],actions:[{icon:$c,label:"",onClick:()=>K(_),color:"blue"},{icon:ys,label:"",onClick:()=>I.mutate(_.id),color:"red"}],compact:!0},_.id))})})]})}),a&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-end md:items-center justify-center p-4",children:l.jsxs(Ir,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-2xl w-full max-h-[90vh] md:max-h-[80vh] md:w-full md:max-w-2xl rounded-t-2xl md:rounded-xl overflow-y-auto",children:[l.jsx(Ma,{className:"sticky top-0 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 p-4 md:p-5 z-10",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Qa,{className:"text-slate-900 dark:text-white text-base md:text-lg",children:n?" ":"  "}),l.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>{i(!1),s(null),R.reset()},className:"h-8 w-8 p-0",children:""})]})}),l.jsx(en,{className:"p-4 md:p-6 pb-4 md:pb-6",children:l.jsx(Kl,{...R,children:l.jsxs("form",{onSubmit:R.handleSubmit($),className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[l.jsx(tn,{control:R.control,name:"amount",render:({field:_})=>l.jsxs(Jr,{children:[l.jsx(Wn,{className:"text-xs md:text-sm font-semibold",children:" () *"}),l.jsx(on,{children:l.jsx(gt,{type:"number",step:"0.01",placeholder:"0",..._,className:"h-10 md:h-11 border-2 text-xs md:text-sm"})}),l.jsx(An,{className:"text-xs"})]})}),l.jsx(kue,{name:"transferDate",control:R.control,label:" *",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[l.jsx(tn,{control:R.control,name:"projectId",render:({field:_})=>l.jsxs(Jr,{children:[l.jsx(Wn,{className:"text-sm font-semibold",children:" *"}),l.jsx(on,{children:l.jsxs(ga,{value:_.value,onValueChange:_.onChange,children:[l.jsx(Qs,{className:"h-10 md:h-11 border-2",children:l.jsx(ya,{placeholder:" "})}),l.jsx(Ys,{className:"z-[100]",children:y.map(S=>l.jsx(zr,{value:S.id,children:S.name},S.id))})]})}),l.jsx(An,{className:"text-xs"})]})}),l.jsx(tn,{control:R.control,name:"transferType",render:({field:_})=>l.jsxs(Jr,{children:[l.jsx(Wn,{className:"text-sm font-semibold",children:" "}),l.jsx(on,{children:l.jsxs(ga,{value:_.value||"",onValueChange:_.onChange,children:[l.jsx(Qs,{className:"h-10 md:h-11 border-2",children:l.jsx(ya,{placeholder:" "})}),l.jsxs(Ys,{className:"z-[100]",children:[l.jsx(zr,{value:"",children:""}),l.jsx(zr,{value:"",children:""}),l.jsx(zr,{value:" ",children:" "})]})]})}),l.jsx(An,{className:"text-xs"})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[l.jsx(tn,{control:R.control,name:"senderName",render:({field:_})=>l.jsxs(Jr,{children:[l.jsx(Wn,{className:"text-sm font-semibold",children:" "}),l.jsx(on,{children:l.jsx(ss,{category:"senderNames",placeholder:" ",value:_.value||"",onChange:_.onChange,className:"h-10 md:h-11 border-2"})}),l.jsx(An,{className:"text-xs"})]})}),l.jsx(tn,{control:R.control,name:"transferNumber",render:({field:_})=>l.jsxs(Jr,{children:[l.jsx(Wn,{className:"text-sm font-semibold",children:" "}),l.jsx(on,{children:l.jsx(ss,{category:"transferNumbers",placeholder:" ",value:_.value||"",onChange:_.onChange,className:"h-10 md:h-11 border-2"})}),l.jsx(An,{className:"text-xs"})]})})]}),l.jsx(tn,{control:R.control,name:"notes",render:({field:_})=>l.jsxs(Jr,{children:[l.jsx(Wn,{className:"text-sm font-semibold",children:""}),l.jsx(on,{children:l.jsx(ss,{category:"notes",placeholder:" ",value:_.value||"",onChange:_.onChange,className:"border-2 min-h-24 md:min-h-28"})}),l.jsx(An,{className:"text-xs"})]})}),l.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4 md:p-6 mt-6 -mx-4 md:-mx-6 z-50 flex gap-3 shadow-lg",children:[l.jsx(Oe,{type:"submit",disabled:W.isPending,className:"flex-1 h-10 md:h-11 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold shadow-lg shadow-green-500/30",children:W.isPending?" ...":n?"":" "}),n&&l.jsx(Oe,{type:"button",variant:"outline",onClick:()=>{s(null),R.reset()},className:"flex-1 h-10 md:h-11 border-2",children:""})]})]})})})]})})]})}var Ufe=Symbol("radix.slottable");function Wfe(t){const r=({children:e})=>l.jsx(l.Fragment,{children:e});return r.displayName=`${t}.Slottable`,r.__radixId=Ufe,r}var xL="AlertDialog",[qfe]=va(xL,[aM]),Xl=aM(),wL=t=>{const{__scopeAlertDialog:r,...e}=t,n=Xl(r);return l.jsx(n4,{...n,...e,modal:!0})};wL.displayName=xL;var Hfe="AlertDialogTrigger",Kfe=P.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=Xl(e);return l.jsx(s4,{...s,...n,ref:r})});Kfe.displayName=Hfe;var Gfe="AlertDialogPortal",_L=t=>{const{__scopeAlertDialog:r,...e}=t,n=Xl(r);return l.jsx(a4,{...n,...e})};_L.displayName=Gfe;var Xfe="AlertDialogOverlay",kL=P.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=Xl(e);return l.jsx(Im,{...s,...n,ref:r})});kL.displayName=Xfe;var wf="AlertDialogContent",[Qfe,Yfe]=qfe(wf),Zfe=Wfe("AlertDialogContent"),jL=P.forwardRef((t,r)=>{const{__scopeAlertDialog:e,children:n,...s}=t,a=Xl(e),i=P.useRef(null),c=Cr(r,i),u=P.useRef(null);return l.jsx(BJ,{contentName:wf,titleName:SL,docsSlug:"alert-dialog",children:l.jsx(Qfe,{scope:e,cancelRef:u,children:l.jsxs(Om,{role:"alertdialog",...a,...s,ref:c,onOpenAutoFocus:pt(s.onOpenAutoFocus,o=>{o.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:o=>o.preventDefault(),onInteractOutside:o=>o.preventDefault(),children:[l.jsx(Zfe,{children:n}),l.jsx(ehe,{contentRef:i})]})})})});jL.displayName=wf;var SL="AlertDialogTitle",NL=P.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=Xl(e);return l.jsx(Fm,{...s,...n,ref:r})});NL.displayName=SL;var CL="AlertDialogDescription",TL=P.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=Xl(e);return l.jsx(Lm,{...s,...n,ref:r})});TL.displayName=CL;var Jfe="AlertDialogAction",EL=P.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=Xl(e);return l.jsx(Bm,{...s,...n,ref:r})});EL.displayName=Jfe;var AL="AlertDialogCancel",PL=P.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,{cancelRef:s}=Yfe(AL,e),a=Xl(e),i=Cr(r,s);return l.jsx(Bm,{...a,...n,ref:i})});PL.displayName=AL;var ehe=({contentRef:t})=>{const r=`\`${wf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wf}\` by passing a \`${CL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return P.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},the=wL,rhe=_L,ML=kL,RL=jL,DL=EL,IL=PL,OL=NL,FL=TL;const nhe=the,she=rhe,LL=P.forwardRef(({className:t,...r},e)=>l.jsx(ML,{className:Pe("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:e}));LL.displayName=ML.displayName;const BL=P.forwardRef(({className:t,...r},e)=>l.jsxs(she,{children:[l.jsx(LL,{}),l.jsx(RL,{ref:e,className:Pe("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),style:{pointerEvents:"auto"},...r})]}));BL.displayName=RL.displayName;const $L=({className:t,...r})=>l.jsx("div",{className:Pe("flex flex-col space-y-2 text-center sm:text-left",t),...r});$L.displayName="AlertDialogHeader";const zL=({className:t,...r})=>l.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});zL.displayName="AlertDialogFooter";const VL=P.forwardRef(({className:t,...r},e)=>l.jsx(OL,{ref:e,className:Pe("text-lg font-semibold",t),...r}));VL.displayName=OL.displayName;const UL=P.forwardRef(({className:t,...r},e)=>l.jsx(FL,{ref:e,className:Pe("text-sm text-muted-foreground",t),...r}));UL.displayName=FL.displayName;const WL=P.forwardRef(({className:t,...r},e)=>l.jsx(DL,{ref:e,className:Pe(Vp(),t),...r}));WL.displayName=DL.displayName;const qL=P.forwardRef(({className:t,...r},e)=>l.jsx(IL,{ref:e,className:Pe(Vp({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));qL.displayName=IL.displayName;function ahe(){return l.jsxs(Ir,{className:"overflow-hidden",children:[l.jsx("div",{className:"h-2 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600"}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(un,{className:"h-10 w-10 rounded-lg"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(un,{className:"h-5 w-32"}),l.jsx(un,{className:"h-3 w-20"})]})]}),l.jsx(un,{className:"h-6 w-16 rounded-full"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:[...Array(6)].map((t,r)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(un,{className:"h-4 w-4 rounded"}),l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx(un,{className:"h-3 w-12"}),l.jsx(un,{className:"h-4 w-16"})]})]},r))}),l.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[l.jsx(un,{className:"h-8 w-8 rounded"}),l.jsx(un,{className:"h-8 w-8 rounded"})]})]})]})}function ihe(){return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",children:[...Array(6)].map((t,r)=>l.jsxs("div",{className:"flex items-center gap-3 p-2",children:[l.jsx(un,{className:"h-10 w-10 rounded-lg"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(un,{className:"h-3 w-16"}),l.jsx(un,{className:"h-5 w-20"})]})]},r))})}function ohe(){return l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",children:[l.jsx(un,{className:"h-9 flex-1 rounded-lg"}),l.jsx(un,{className:"h-8 w-8 rounded-lg"}),l.jsxs("div",{className:"flex items-center gap-1 ps-2 border-r border-gray-200 dark:border-gray-700 pe-2",children:[l.jsx(un,{className:"h-8 w-8 rounded-lg"}),l.jsx(un,{className:"h-8 w-8 rounded-lg"})]})]})}function lhe(){return l.jsxs("div",{className:"space-y-2 p-2 animate-in fade-in duration-300",children:[l.jsx(ihe,{}),l.jsx(ohe,{}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-4",children:[...Array(8)].map((t,r)=>l.jsx(ahe,{},r))})]})}const $s=[];for(let t=0;t<256;++t)$s.push((t+256).toString(16).slice(1));function che(t,r=0){return($s[t[r+0]]+$s[t[r+1]]+$s[t[r+2]]+$s[t[r+3]]+"-"+$s[t[r+4]]+$s[t[r+5]]+"-"+$s[t[r+6]]+$s[t[r+7]]+"-"+$s[t[r+8]]+$s[t[r+9]]+"-"+$s[t[r+10]]+$s[t[r+11]]+$s[t[r+12]]+$s[t[r+13]]+$s[t[r+14]]+$s[t[r+15]]).toLowerCase()}let P1;const uhe=new Uint8Array(16);function dhe(){if(!P1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");P1=crypto.getRandomValues.bind(crypto)}return P1(uhe)}const fhe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kN={randomUUID:fhe};function hhe(t,r,e){t=t||{};const n=t.random??t.rng?.()??dhe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,che(n)}function phe(t,r,e){return kN.randomUUID&&!t?kN.randomUUID():hhe(t)}async function M1(t,r,e){const n=await Hn(),s=phe(),a={id:s,action:t,endpoint:r,payload:e,timestamp:Date.now(),retries:0,lastError:void 0};return await n.add("syncQueue",a),console.log(`[Offline]      : ${s}`),s}async function gh(){return(await(await Hn()).transaction("syncQueue","readonly").objectStore("syncQueue").getAll()).sort((s,a)=>s.timestamp-a.timestamp)}async function C2(t){await(await Hn()).delete("syncQueue",t),console.log(`[Offline]      : ${t}`)}async function mhe(t,r,e,n){const s=await Hn(),a=await s.get("syncQueue",t);a&&(a.retries=r,e&&(a.lastError=e),a.errorType=n,await s.put("syncQueue",a))}async function ghe(t){await(await Hn()).delete("syncQueue",t),console.log(`[Offline]      : ${t}`)}async function yhe(){const t=await Hn(),e=(await gh()).length,n=t.transaction("syncQueue","readwrite");return await n.objectStore("syncQueue").clear(),await n.done,console.log(`[Offline]     : ${e} `),e}async function Rye(){const t=await Hn(),r=await t.count("syncQueue"),e=await t.count("userData");return{pendingSync:r,localUserData:e,lastUpdate:Date.now()}}class bhe{constructor(){this.baseURL=`${Ep.getApiBaseUrl()}/api`}async request(r,e={}){const n=typeof window<"u"?localStorage.getItem("accessToken"):null;if(mo.getPlatform()!=="web"&&typeof navigator<"u"&&!navigator.onLine)throw console.warn(` [API] Offline mode on ${mo.getPlatform()}: skipping direct request to ${r}`),new Error("OFFLINE_MODE");try{const s=`${this.baseURL}${r}`;console.log(` API Request: ${e.method||"GET"} ${r}`,e.body||"");const a={"Content-Type":"application/json"};n&&(a.Authorization=`Bearer ${n}`);const i=await fetch(s,{...e,headers:{...a,...e.headers}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=i.headers.get("content-type");if(c&&c.includes("application/json")){const u=await i.json();return console.log(` API Response: ${e.method||"GET"} ${r}`,u),u}else{const u=await i.text();return console.log(` API Response (non-JSON): ${e.method||"GET"} ${r}`),u}}catch(s){throw console.error(` API Error: ${e.method||"GET"} ${r}`,s),s}}async get(r){return this.request(r,{method:"GET"})}async post(r,e){return this.request(r,{method:"POST",body:e?JSON.stringify(e):void 0})}async put(r,e){return this.request(r,{method:"PUT",body:e?JSON.stringify(e):void 0})}async delete(r){return this.request(r,{method:"DELETE"})}}new bhe;async function yh(t,r="GET",e,n=3e4){const s=Ep.getApiBaseUrl(),a=t.startsWith("http")?t:`${s}${t}`,i={"Content-Type":"application/json"},c=typeof window<"u"?localStorage.getItem("accessToken"):null;c&&(i.Authorization=`Bearer ${c}`);const u=new AbortController,o=setTimeout(()=>u.abort(),n);try{const d=await fetch(a,{method:r,headers:i,body:e?JSON.stringify(e):void 0,signal:u.signal});if(clearTimeout(o),!d.ok){const f=await d.json().catch(()=>({}));throw new Error(f.message||`HTTP error! status: ${d.status}`)}const p=d.headers.get("content-type");return p&&p.includes("application/json")?await d.json():await d.text()}catch(d){throw clearTimeout(o),d}}class vhe{constructor(){this.events=[],this.listeners=[]}logEvent(r){const e={...r,id:crypto.randomUUID(),timestamp:Date.now(),resolved:!1};this.events.push(e),console.log(` [IntelligentMonitor] [${r.severity.toUpperCase()}] ${r.message}`,r.metadata),(r.severity==="high"||r.severity==="critical")&&this.notifyAdmin(e),(r.type==="error"||r.type==="sync")&&this.attemptSelfHealing(e),this.notifyListeners(e)}notifyAdmin(r){B9({title:`  ${r.severity==="critical"?"":""}`,description:r.message,variant:r.severity==="critical"?"destructive":"default"})}async attemptSelfHealing(r){if(r.resolved)return;console.log(` [Self-Healing]   : ${r.id}`);let e="";if(r.type==="sync"){e="      ";try{const{triggerSync:n}=await Fn(async()=>{const{triggerSync:s}=await Promise.resolve().then(()=>XL);return{triggerSync:s}},void 0);setTimeout(()=>n(),5e3)}catch(n){console.error(" [Self-Healing]   :",n)}}else(r.message.includes("storage")||r.message.includes("quota"))&&(e="      ");if(e){this.updateEventStatus(r.id,!0,e);try{const{smartSave:n}=await Fn(async()=>{const{smartSave:s}=await Promise.resolve().then(()=>yw);return{smartSave:s}},void 0);await n("systemEvents",[{id:r.id,type:"monitoring",data:{...r,actionTaken:e},timestamp:Date.now()}])}catch(n){console.error(" [IntelligentMonitor]     DB:",n)}}}updateEventStatus(r,e,n){const s=this.events.find(a=>a.id===r);s&&(s.resolved=e,s.actionTaken=n,console.log(` [IntelligentMonitor]   : ${r}  ${n}`))}subscribe(r){return this.listeners.push(r),()=>{this.listeners=this.listeners.filter(e=>e!==r)}}notifyListeners(r){this.listeners.forEach(e=>e(r))}getEvents(){return[...this.events]}}const Ly=new vhe,HL=["users","emergency_users","auth_user_sessions","email_verification_tokens","password_reset_tokens","project_types","projects","workers","wells","fund_transfers","worker_attendance","suppliers","materials","material_purchases","supplier_payments","transportation_expenses","worker_transfers","worker_balances","daily_expense_summaries","worker_types","autocomplete_data","worker_misc_expenses","backup_logs","backup_settings","print_settings","project_fund_transfers","security_policies","security_policy_suggestions","security_policy_implementations","security_policy_violations","user_project_permissions","permission_audit_logs","report_templates","tool_categories","tools","tool_stock","tool_movements","tool_maintenance_logs","tool_usage_analytics","tool_purchase_items","maintenance_schedules","maintenance_tasks","tool_cost_tracking","tool_reservations","system_notifications","notification_read_states","build_deployments","tool_notifications","approvals","channels","messages","actions","system_events","accounts","transactions","transaction_lines","journals","finance_payments","finance_events","account_balances","notifications","ai_chat_sessions","ai_chat_messages","ai_usage_stats","well_tasks","well_task_accounts","well_expenses","well_audit_logs","material_categories"],xhe=5,whe=2e3;let Pu=!1,Hg=[],Jd=0,Kg={isSyncing:!1,lastSync:0,pendingCount:0,isOnline:typeof navigator<"u"?navigator.onLine:!0,lastErrorType:void 0,lastErrorDetails:void 0};function ev(t){return Hg.push(t),()=>{Hg=Hg.filter(r=>r!==t)}}function Ga(t){Kg={...Kg,...t},Hg.forEach(r=>r(Kg))}function od(){return{...Kg}}function _he(t){return Math.min(3e4,whe*Math.pow(2,t))}async function T2(){if(!localStorage.getItem("accessToken"))return console.warn(" [Sync]      "),!1;if(typeof navigator<"u"&&!navigator.onLine)return console.warn(" [Sync]      "),!1;if(Pu)return console.log(" [Sync]      "),!1;try{console.log(" [Sync]      ..."),Ga({isSyncing:!0});const r=await yh("/api/sync/full-backup","POST",void 0,6e4);if(!r||typeof r=="object"&&r.code==="INVALID_TOKEN")return console.error(" [Sync]          "),!1;if(!r.success||!r.data)return console.error(" [Sync]     :",r?.error||"  "),!1;const{data:e}=r,n=await Hn(),s=Object.entries(e),a=s.length;let i=0,c=0;if(e.users&&Array.isArray(e.users)){i++,Ga({progress:{total:a,current:i,tableName:"users",percentage:Math.round(i/a*100)}}),await qu("users",e.users);const o=e.users.map(d=>({id:d.id.toString(),email:d.email,password:d.password,name:`${d.firstName||""} ${d.lastName||""}`.trim(),role:d.role||"user"}));await qu("emergencyUsers",o)}const u=5;for(let o=0;o<s.length;o+=u){const d=s.slice(o,o+u);for(const[p,f]of d)p!=="users"&&Array.isArray(f)&&(i++,Ga({progress:{total:a,current:i,tableName:p,percentage:Math.min(100,Math.round(i/a*100))}}),await qu(p,f),c+=f.length)}return await n.put("syncMetadata",{key:"lastSync",timestamp:Date.now(),version:"3.1",recordCount:c,lastSyncTime:Date.now()}),console.log(" [Sync]    !"),Ga({isSyncing:!1,lastSync:Date.now(),progress:void 0}),!0}catch(r){const e=r instanceof Error?r.message:"Unknown error";return console.error(" [Sync]    :",e),Ga({isSyncing:!1,lastError:` : ${e}`}),r instanceof Error&&r.name==="AbortError"&&console.warn(" [Sync]         "),!1}finally{Pu=!1}}async function Dc(){if(!Pu){if(!navigator.onLine){Ga({isOnline:!1});return}Pu=!0,Ga({isSyncing:!0,isOnline:!0});try{const t=await gh();if(t.length===0){Ga({isSyncing:!1}),Pu=!1,Jd=0;return}console.log(` [Sync]   ${t.length} ...`);let r=0;for(const e of t)try{const n=Date.now(),s=JSON.stringify(e.payload),a=btoa(s).substring(0,32),i=await yh(e.endpoint,e.action==="create"?"POST":e.action==="update"?"PATCH":"DELETE",{...e.payload,_metadata:{signature:a,version:e.payload.version||1,clientTimestamp:Date.now(),deviceId:localStorage.getItem("deviceId")||"web-client"}}),u=Date.now()-n;if(i){await C2(e.id);const o=await Hn(),d=e.payload.id,p=e.endpoint.split("/")[2];if(p&&d)try{const h=(await Xy(p)).find(g=>(g.id||g.key)===d);h&&(h.synced=!0,h.pendingSync=!1,h.isLocal=!1,await qu(p,[h]),console.log(` [Sync]      ${p}:${d}`))}catch(f){console.warn(` [Sync]       ${p}:`,f)}r++,Ga({latency:u,pendingCount:t.length-r})}else console.error(` [Sync]    ${e.id} -     `),Jd>xhe&&(await C2(e.id),console.warn(` [Sync]    ${e.id}    `))}catch(n){Jd++;const s=_he(Jd);Ly.logEvent({type:"sync",severity:Jd>3?"high":"medium",message:`  : ${n instanceof Error?n.message:"  "}`,metadata:{retryCount:Jd,nextRetryDelay:s,itemId:e.id}}),await new Promise(a=>setTimeout(a,s))}Ga({lastSync:Date.now(),isSyncing:!1,syncedCount:r})}catch(t){console.error(" [Sync]   :",t),Ga({isSyncing:!1}),Ly.logEvent({type:"error",severity:"high",message:`    : ${t instanceof Error?t.message:"  "}`})}finally{Pu=!1}}}function KL(){window.addEventListener("online",()=>{Ga({isOnline:!0}),T2(),Dc()}),window.addEventListener("offline",()=>{Ga({isOnline:!1})}),(async()=>{console.log(" [Sync]    ..."),await T2(),await Dc()})(),setInterval(()=>{navigator.onLine&&Dc()},3e4)}function khe(){}function Gg(){Dc().catch(t=>console.error(" [Sync]    :",t))}async function GL(){try{console.log(" [Sync]       ...");const t=await yh("/api/sync/full-backup","POST",void 0,6e4);if(!t||!t.success||!t.data)throw new Error("Backup failed on server");const{data:r}=t,e=await Hn();let n=0;for(const[s,a]of Object.entries(r))Array.isArray(a)&&(await qu(s,a),console.log(` [Sync]   ${a.length}   ${s}`),n+=a.length);return await e.put("syncMetadata",{key:"lastSync",timestamp:Date.now(),version:"3.0",recordCount:n}),{recordCount:n}}catch(t){throw console.error(" [Sync]     :",t),t}}function jhe(){Pu||Dc().catch(t=>{console.error(" [Sync]   :",t)})}async function She(t,r){try{console.log(" [Sync]   ...");const e=Date.now(),n=await yh("/api/sync/instant-sync","POST",{tables:t||[],lastSyncTime:r},6e4);if(!n||!n.success||!n.data)throw new Error("Instant sync failed");const{data:s}=n;let a=0;for(const[c,u]of Object.entries(s))Array.isArray(u)&&u.length>0&&(await qu(c,u),a+=u.length);const i=Date.now()-e;return console.log(` [Sync]   : ${a}   ${i}ms`),Ga({lastSync:Date.now()}),{success:!0,totalRecords:a,duration:i}}catch(e){return console.error(" [Sync]    :",e),{success:!1,totalRecords:0,duration:0}}}async function By(){try{console.log(" [Sync]    ...");const t={};for(const e of HL)try{const n=await Xy(e);t[e]=n?.length||0}catch{t[e]=0}const r=await yh("/api/sync/verify-sync","POST",{clientCounts:t},3e4);if(!r||!r.success)throw new Error("Verify sync failed");return console.log(` [Sync]  : ${r.isMatched?" ":`${r.differences?.length||0} `}`),{isMatched:r.isMatched,differences:r.differences||[],summary:r.summary||{totalServerRecords:0,totalClientRecords:0,matchedTables:0,mismatchedTables:0}}}catch(t){return console.error(" [Sync]   :",t),{isMatched:!1,differences:[],summary:{totalServerRecords:0,totalClientRecords:0,matchedTables:0,mismatchedTables:0}}}}async function Nhe(){try{const t=await yh("/api/sync/stats","GET",void 0,3e4);return!t||!t.success?{stats:{},totalRecords:0}:{stats:t.stats||{},totalRecords:t.summary?.totalRecords||0}}catch(t){return console.error(" [Sync]    :",t),{stats:{},totalRecords:0}}}const XL=Object.freeze(Object.defineProperty({__proto__:null,ALL_SYNC_TABLES:HL,getSyncState:od,getSyncStats:Nhe,initSyncListener:KL,loadFullBackup:GL,performInitialDataPull:T2,performInstantSync:She,startBackgroundSync:jhe,stopSyncListener:khe,subscribeSyncState:ev,syncOfflineData:Dc,triggerSync:Gg,verifySyncStatus:By},Symbol.toStringTag,{value:"Module"})),Che=({income:t,expenses:r,balance:e,formatCurrencyFn:n})=>l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 dark:text-green-400 mb-1",children:[l.jsx(_A,{className:"h-3 w-3"}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),l.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:n(t)})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-2 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 text-red-600 dark:text-red-400 mb-1",children:[l.jsx(e_,{className:"h-3 w-3"}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),l.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:n(r)})]}),l.jsxs("div",{className:`${e>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-orange-50 dark:bg-orange-900/20"} rounded-lg p-2 text-center`,children:[l.jsxs("div",{className:`flex items-center justify-center gap-1 ${e>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"} mb-1`,children:[l.jsx(Zu,{className:"h-3 w-3"}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),l.jsx("p",{className:`text-xs font-bold ${e>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:n(e)})]})]});function The(){const{toast:t}=wn(),r=xs(),{user:e}=Gl(),n=e?.role==="admin",[s,a]=P.useState(null),[i,c]=P.useState(!1),[u,o]=P.useState(!1),[d,p]=P.useState(null),f=P.useRef(null),h=P.useRef(null),{setFloatingAction:g}=jo(),[y,m]=P.useState(""),[v,x]=P.useState({status:"all",engineerId:"all"}),[j,T]=P.useState(!1),[E,B]=P.useState(null),[W,I]=P.useState(!1),[R,$]=P.useState(null),[K,H]=P.useState(null),[M,F]=P.useState(!1),C=P.useCallback((we,me)=>{x(Ke=>({...Ke,[we]:me}))},[]),_=P.useCallback(()=>{m(""),x({status:"all",engineerId:"all"}),t({title:"  ",description:"   "})},[t]);P.useEffect(()=>(g(()=>c(!0),"  "),()=>g(null)),[g]);const{data:S=[],isLoading:k,refetch:N,error:D}=Pt({queryKey:["/api/projects/with-stats"],queryFn:async()=>{try{console.log(" [Projects]    ...");const we=await qe("/api/projects/with-stats","GET");let me=[];return we&&typeof we=="object"&&(we.success!==void 0&&we.data!==void 0?me=Array.isArray(we.data)?we.data:[]:Array.isArray(we)?me=we:we.id?me=[we]:we.data&&(me=Array.isArray(we.data)?we.data:[])),me}catch(we){return console.error(" [Projects]    :",we),[]}},refetchInterval:6e4}),L=Array.isArray(S)?S:[],V=L,{totals:Q,allProjects:Y,isLoading:re,refetch:O}=dh({projectId:"all",enabled:!0}),Z=P.useMemo(()=>{const we=new Map;return Y?.projects&&Y.projects.forEach(me=>{we.set(me.projectId,me)}),we},[Y?.projects]),U=P.useCallback(we=>{const me=Z.get(we);return me?{totalIncome:me.income?.totalIncome||0,totalExpenses:me.expenses?.totalAllExpenses||0,cashExpenses:me.expenses?.totalCashExpenses||0,currentBalance:me.totalBalance||0,totalWorkers:me.workers?.totalWorkers||0,activeWorkers:me.workers?.activeWorkers||0,completedDays:me.workers?.completedDays||0,materialPurchases:me.expenses?.materialExpenses||0,materialExpensesCredit:me.expenses?.materialExpensesCredit||0,totalTransportation:me.expenses?.transportExpenses||0,totalMiscExpenses:me.expenses?.miscExpenses||0,totalWorkerWages:me.expenses?.workerWages||0,totalFundTransfers:me.income?.fundTransfers||0,totalWorkerTransfers:me.expenses?.workerTransfers||0,incomingProjectTransfers:me.income?.incomingProjectTransfers||0,outgoingProjectTransfers:me.expenses?.outgoingProjectTransfers||0}:null},[Z]),z=P.useCallback(async()=>{T(!0);try{await Promise.all([N(),O()]),t({title:" ",description:"   "})}catch{t({title:"",description:"  ",variant:"destructive"})}finally{T(!1)}},[N,t]),{data:G={users:[]}}=Pt({queryKey:["/api/users/list"],queryFn:async()=>{try{return await qe("/api/users/list","GET")||{users:[]}}catch(we){return console.error(" [Projects]    :",we),{users:[]}}},staleTime:6e4}),ae=P.useMemo(()=>Array.isArray(G?.users)?G.users:[],[G]),{data:pe=[],isLoading:de}=Pt({queryKey:["/api/project-types"],queryFn:async()=>{try{const we=await qe("/api/project-types","GET");return we?.success&&Array.isArray(we.data)?we.data:[]}catch(we){return console.error(" [Projects]     :",we),[]}},staleTime:6e4}),ge=Wl({resolver:ql(_N),defaultValues:{name:"",status:"active",engineerId:null,projectTypeId:null}}),te=Wl({resolver:ql(_N),defaultValues:{name:"",status:"active",engineerId:null,projectTypeId:null}}),oe=async(we,me)=>{if(!(!me||typeof me!="string"||!me.trim()))try{await qe("/api/autocomplete","POST",{category:we,value:me.trim()})}catch(Ke){console.log(`Failed to save autocomplete value for ${we}:`,Ke)}},ne=$t({mutationFn:we=>qe("/api/projects","POST",we),onSuccess:async(we,me)=>{await oe("projectNames",me.name),r.refetchQueries({queryKey:["/api/projects"]}),r.refetchQueries({queryKey:["/api/projects/with-stats"]}),Gg(),t({title:"   "}),c(!1),ge.reset(),p(null),f.current&&(f.current.value="")},onError:we=>{t({title:"   ",description:we.message,variant:"destructive"})}}),he=$t({mutationFn:({id:we,data:me})=>qe(`/api/projects/${we}`,"PATCH",me),onSuccess:async(we,me)=>{await oe("projectNames",me.data.name),r.refetchQueries({queryKey:["/api/projects"]}),r.refetchQueries({queryKey:["/api/projects/with-stats"]}),Gg(),t({title:"   "}),o(!1),a(null),te.reset(),h.current&&(h.current.value="")},onError:we=>{t({title:"   ",description:we.message,variant:"destructive"})}}),ce=$t({mutationFn:({id:we,confirmDeletion:me})=>qe(`/api/projects/${we}`,"DELETE",{confirmDeletion:me}),onSuccess:()=>{Gg(),r.refetchQueries({queryKey:["/api/projects"]}),r.refetchQueries({queryKey:["/api/projects/with-stats"]}),t({title:"   "}),I(!1),$(null),H(null)},onError:we=>{t({title:"   ",description:we.message,variant:"destructive"})}}),ie=async we=>{F(!0);try{const me=await qe(`/api/projects/${we}/deletion-stats`,"GET");me.success&&me.data&&H({stats:me.data.stats,totalLinkedRecords:me.data.totalLinkedRecords,canDelete:me.data.canDelete,deleteBlockReason:me.data.deleteBlockReason||""})}catch(me){t({title:"    ",description:me.message,variant:"destructive"}),I(!1)}finally{F(!1)}},ee=we=>{$(we),I(!0),ie(we.id)},se=$t({mutationFn:({id:we,data:me})=>qe(`/api/projects/${we}`,"PATCH",me),onMutate:async({id:we,data:me})=>{await r.cancelQueries({queryKey:["/api/projects/with-stats"]});const Ke=r.getQueryData(["/api/projects/with-stats"]);return Array.isArray(Ke)&&r.setQueryData(["/api/projects/with-stats"],Ke.map(He=>He.id===we?{...He,status:me.status}:He)),{previousData:Ke}},onSuccess:()=>{t({title:" ",description:"    ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(we,me,Ke)=>{Ke?.previousData&&r.setQueryData(["/api/projects/with-stats"],Ke.previousData),t({title:"",description:we.message||"     ",variant:"destructive"})},onSettled:()=>{B(null),r.invalidateQueries({queryKey:["/api/projects/with-stats"]}),r.invalidateQueries({queryKey:["/api/projects"]})}}),le=we=>{B(we.id);const me=we.status==="active"?"paused":"active";se.mutate({id:we.id,data:{status:me}})},ve=we=>{ne.mutate(we)},_e=we=>{if(!s){t({title:"",description:"    ",variant:"destructive"});return}console.log(" [Projects]  :",{id:s.id,name:s.name,newData:we}),he.mutate({id:s.id,data:we})},Te=(we,me=!1)=>{ce.mutate({id:we,confirmDeletion:me})},Fe=we=>{a(we),te.reset({name:we.name,status:we.status,engineerId:we.engineerId||null,projectTypeId:we.projectTypeId||null}),o(!0)},Be=we=>{switch(we){case"active":return"";case"completed":return"";case"paused":return"";default:return we}};P.useEffect(()=>(g(()=>c(!0),"  "),()=>g(null)),[g]);const ze=P.useMemo(()=>{if(console.log(" [Projects]    ExpenseLedgerService "),Q){const we=V.filter(me=>me.status==="active").length;return{totalProjects:V.length,activeProjects:we,totalIncome:Q.totalIncome||0,totalExpenses:Q.totalAllExpenses||Q.totalExpenses||0,totalWorkers:Q.totalWorkers||0,materialPurchases:0}}return{totalProjects:V.length,activeProjects:V.filter(we=>we.status==="active").length,totalIncome:0,totalExpenses:0,totalWorkers:0,materialPurchases:0}},[Q,V]),Je=Q?.totalBalance??ze.totalIncome-ze.totalExpenses,ft=P.useMemo(()=>V.filter(we=>{if(y&&!we.name.toLowerCase().includes(y.toLowerCase())||v.status&&v.status!=="all"&&we.status!==v.status)return!1;if(v.engineerId&&v.engineerId!=="all"){if(v.engineerId==="none"){if(we.engineerId)return!1}else if(we.engineerId!==v.engineerId)return!1}return!0}),[V,y,v]),bt=P.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"totalProjects",label:" ",value:ze.totalProjects,icon:bs,color:"blue"},{key:"activeProjects",label:" ",value:ze.activeProjects,icon:pi,color:"blue",showDot:!0,dotColor:"bg-green-500"},{key:"currentBalance",label:" ",value:Ye(Je),icon:Zu,color:Je>=0?"blue":"red"}]},{columns:3,gap:"sm",items:[{key:"totalIncome",label:" ",value:Ye(ze.totalIncome),icon:Pn,color:"green"},{key:"totalWorkers",label:" ",subLabel:"  ",value:ze.totalWorkers,icon:On,color:"amber"},{key:"materialPurchases",label:" ",subLabel:" ",value:ze.materialPurchases,icon:jn,color:"gray"}]}],[ze,Je]),rt=P.useMemo(()=>{const we=[{key:"status",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"active",label:""},{value:"paused",label:""},{value:"completed",label:""}]}];return n&&we.push({key:"engineerId",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"none",label:" "},...ae.map(me=>({value:me.id,label:me.name}))]}),we},[ae,n]);return k?l.jsx(lhe,{}):D?(console.error(" [Projects]    :",D),l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center space-y-1",children:[l.jsx("div",{className:"text-6xl",children:""}),l.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"   "}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    .    ."}),l.jsxs(Oe,{onClick:()=>N(),className:"gap-2",children:[l.jsx(cs,{className:"h-4 w-4"})," "]})]})})):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2 p-2",children:[l.jsx(sl,{statsRows:bt,searchValue:y,onSearchChange:m,searchPlaceholder:"  ...",filters:rt,filterValues:v,onFilterChange:C,onReset:_,onRefresh:z,isRefreshing:j,resultsSummary:y||v.status!=="all"?{totalCount:L.length,filteredCount:ft.length,totalLabel:"",filteredLabel:"",totalValue:ft.reduce((we,me)=>{const Ke=U(me.id);return we+(Ke?.currentBalance||0)},0),totalValueLabel:"",unit:"."}:void 0}),l.jsx(Ks,{open:i,onOpenChange:c,children:l.jsxs(As,{children:[l.jsxs(Gs,{children:[l.jsx(da,{children:"  "}),l.jsx(Pc,{children:"   "})]}),l.jsx(Kl,{...ge,children:l.jsxs("form",{onSubmit:ge.handleSubmit(ve),className:"space-y-1",children:[l.jsx(tn,{control:ge.control,name:"name",render:({field:we})=>l.jsxs(Jr,{children:[l.jsx(Wn,{children:" "}),l.jsx(on,{children:l.jsx(ss,{value:we.value,onChange:we.onChange,category:"projectNames",placeholder:" "})}),l.jsx(An,{})]})}),n&&l.jsx(tn,{control:ge.control,name:"engineerId",render:({field:we})=>{const me=[{value:"none",label:" "},...ae.map(Ke=>({value:Ke.id,label:`${Ke.name} (${Ke.role})`}))];return l.jsxs(Jr,{children:[l.jsx(Wn,{children:" / "}),l.jsx(on,{children:l.jsx(ts,{value:we.value||"none",onValueChange:Ke=>we.onChange(Ke==="none"?null:Ke),options:me,placeholder:"  ",searchPlaceholder:"  ...",emptyText:"  "})}),l.jsx(An,{})]})}}),l.jsx(tn,{control:ge.control,name:"projectTypeId",render:({field:we})=>l.jsxs(Jr,{children:[l.jsx(Wn,{children:" "}),l.jsx(on,{children:l.jsx(a2,{value:we.value?.toString()||"",onValueChange:me=>we.onChange(me?parseInt(me):null),projectTypes:pe,placeholder:de?" ...":"  ...",disabled:de})}),l.jsx(An,{})]})}),l.jsx(tn,{control:ge.control,name:"status",render:({field:we})=>l.jsxs(Jr,{children:[l.jsx(Wn,{children:" "}),l.jsxs(ga,{onValueChange:we.onChange,defaultValue:we.value,children:[l.jsx(on,{children:l.jsx(Qs,{children:l.jsx(ya,{placeholder:"  "})})}),l.jsxs(Ys,{children:[l.jsx(zr,{value:"active",children:""}),l.jsx(zr,{value:"paused",children:""}),l.jsx(zr,{value:"completed",children:""})]})]}),l.jsx(An,{})]})}),l.jsx(Zw,{children:l.jsx(Oe,{type:"submit",disabled:ne.isPending,children:ne.isPending?" ...":" "})})]})})]})}),l.jsx(Ks,{open:u,onOpenChange:o,children:l.jsxs(As,{children:[l.jsxs(Gs,{children:[l.jsx(da,{children:" "}),l.jsx(Pc,{children:"  "})]}),l.jsx(Kl,{...te,children:l.jsxs("form",{onSubmit:te.handleSubmit(_e),className:"space-y-1",children:[l.jsx(tn,{control:te.control,name:"name",render:({field:we})=>l.jsxs(Jr,{children:[l.jsx(Wn,{children:" "}),l.jsx(on,{children:l.jsx(ss,{value:we.value,onChange:we.onChange,category:"projectNames",placeholder:" "})}),l.jsx(An,{})]})}),n&&l.jsx(tn,{control:te.control,name:"engineerId",render:({field:we})=>{const me=[{value:"none",label:" "},...ae.map(Ke=>({value:Ke.id,label:`${Ke.name} (${Ke.role})`}))];return l.jsxs(Jr,{children:[l.jsx(Wn,{children:" / "}),l.jsx(on,{children:l.jsx(ts,{value:we.value||"none",onValueChange:Ke=>we.onChange(Ke==="none"?null:Ke),options:me,placeholder:"  ",searchPlaceholder:"  ...",emptyText:"  "})}),l.jsx(An,{})]})}}),l.jsx(tn,{control:te.control,name:"projectTypeId",render:({field:we})=>l.jsxs(Jr,{children:[l.jsx(Wn,{children:" "}),l.jsx(on,{children:l.jsx(a2,{value:we.value?.toString()||"",onValueChange:me=>we.onChange(me?parseInt(me):null),projectTypes:pe,placeholder:de?" ...":"  ...",disabled:de})}),l.jsx(An,{})]})}),l.jsx(tn,{control:te.control,name:"status",render:({field:we})=>l.jsxs(Jr,{children:[l.jsx(Wn,{children:" "}),l.jsxs(ga,{onValueChange:we.onChange,defaultValue:we.value,children:[l.jsx(on,{children:l.jsx(Qs,{children:l.jsx(ya,{placeholder:"  "})})}),l.jsxs(Ys,{children:[l.jsx(zr,{value:"active",children:""}),l.jsx(zr,{value:"paused",children:""}),l.jsx(zr,{value:"completed",children:""})]})]}),l.jsx(An,{})]})}),l.jsxs(Zw,{children:[l.jsx(Oe,{type:"button",variant:"outline",onClick:()=>o(!1),disabled:he.isPending,children:""}),l.jsx(Oe,{type:"submit",disabled:he.isPending||!s,className:"gap-2",children:he.isPending?"  ...":"  "})]})]})})]})}),ft.length===0?l.jsxs(Ir,{className:"p-12 text-center",children:[l.jsx(bs,{className:"h-16 w-16 mx-auto text-muted-foreground"}),l.jsx("h3",{className:"text-xl font-semibold",children:L.length===0?"  ":"  "}),l.jsx("p",{className:"text-muted-foreground",children:L.length===0?"   ":"     "}),L.length===0&&l.jsxs(Oe,{onClick:()=>c(!0),className:"gap-2",children:[l.jsx(cs,{className:"h-4 w-4"}),"  "]})]}):l.jsx(Ps,{columns:4,children:ft.map(we=>{const me=U(we.id),Ke=me?.totalIncome||0,He=me?.totalExpenses||0,It=me?.currentBalance||0;me?.totalWorkers,me?.materialPurchases,me?.completedDays;const Zt=we.status==="active"?"success":we.status==="completed"?"default":"destructive";return l.jsx(vn,{title:we.name,subtitle:io(we.createdAt),titleIcon:bs,headerColor:we.status==="active"?"#22c55e":we.status==="completed"?"#3b82f6":"#ef4444",badges:[{label:Be(we.status),variant:Zt}],fields:[{label:"",value:Ye(me?.materialPurchases||0),icon:jn,color:"warning"},{label:"",value:Ye(me?.totalTransportation||0),icon:Bo,color:"info"},{label:"",value:Ye(me?.totalMiscExpenses||0),icon:Zu,color:"default"},{label:" ",value:Ye(me?.totalWorkerWages||0),icon:On,color:"success"},{label:" ()",value:Ye(me?.outgoingProjectTransfers||0),icon:_A,color:"red"},{label:" ()",value:Ye(me?.incomingProjectTransfers||0),icon:e_,color:"success"},{label:" ",value:Ye(me?.totalWorkerTransfers||0),icon:Sr,color:"orange"},{label:"",value:we.engineerId?ae.find(kt=>kt.id===we.engineerId)?.name||" ":" ",icon:vq,color:we.engineerId?"info":"muted"}],actions:[{icon:$c,label:"",onClick:()=>Fe(we),color:"blue"},{icon:AA,label:we.status==="active"?"":"",onClick:()=>le(we),disabled:E===we.id,color:we.status==="active"?"yellow":"green"},{icon:ys,label:"",onClick:()=>ee(we),color:"red"}],footer:l.jsx(Che,{income:Ke,expenses:He,balance:It,formatCurrencyFn:Ye}),compact:!0},we.id)})})]}),l.jsx(nhe,{open:W,onOpenChange:I,children:l.jsxs(BL,{className:"max-w-md",children:[l.jsxs($L,{children:[l.jsx(VL,{className:"text-right",children:"  "}),l.jsx(UL,{className:"text-right space-y-3",children:M?l.jsx("div",{className:"flex items-center justify-center py-4",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):K?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"font-medium text-base",children:['      "',R?.name,'"']}),K.canDelete?K.totalLinkedRecords>0?l.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3 space-y-2",children:[l.jsxs("p",{className:"text-orange-700 dark:text-orange-300 font-medium",children:["  ",K.totalLinkedRecords,"  :"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-1 text-sm text-orange-600 dark:text-orange-400",children:[K.stats.fundTransfers>0&&l.jsxs("div",{children:[" : ",K.stats.fundTransfers]}),K.stats.workerAttendance>0&&l.jsxs("div",{children:[" : ",K.stats.workerAttendance]}),K.stats.materialPurchases>0&&l.jsxs("div",{children:[" : ",K.stats.materialPurchases]}),K.stats.transportationExpenses>0&&l.jsxs("div",{children:[" : ",K.stats.transportationExpenses]}),K.stats.workerTransfers>0&&l.jsxs("div",{children:[" : ",K.stats.workerTransfers]}),K.stats.workerMiscExpenses>0&&l.jsxs("div",{children:[": ",K.stats.workerMiscExpenses]}),K.stats.dailySummaries>0&&l.jsxs("div",{children:[" : ",K.stats.dailySummaries]}),(K.stats.projectTransfersFrom>0||K.stats.projectTransfersTo>0)&&l.jsxs("div",{children:["  : ",(K.stats.projectTransfersFrom||0)+(K.stats.projectTransfersTo||0)]}),K.stats.workerBalances>0&&l.jsxs("div",{children:[" : ",K.stats.workerBalances]}),K.stats.supplierPayments>0&&l.jsxs("div",{children:[" : ",K.stats.supplierPayments]})]}),l.jsx("p",{className:"text-red-600 dark:text-red-400 font-bold text-sm pt-1",children:"     !"})]}):l.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 text-green-700 dark:text-green-300",children:"     .   ."}):l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 text-red-700 dark:text-red-300",children:K.deleteBlockReason})]}):l.jsx("p",{children:"  ..."})})]}),l.jsxs(zL,{className:"flex-row-reverse gap-2",children:[l.jsx(qL,{children:""}),K?.canDelete&&l.jsx(WL,{onClick:()=>{R&&Te(R.id,!0)},className:"bg-red-600 hover:bg-red-700 text-white",disabled:ce.isPending,children:ce.isPending?" ...":" "})]})]})})]})}const Ehe=async(t,r)=>{const e=new p3.Workbook,n=e.addWorksheet("  ",{views:[{rightToLeft:!0,showGridLines:!1}]}),s="FF1E3A8A",a="FF3B82F6",i="FFF8FAFC",c="FFE2E8F0",u="FF10B981",o="FFF43F5E",d={name:"Calibri",size:11,bold:!0,color:{argb:"FFFFFFFF"}},p={name:"Calibri",size:11,color:{argb:"FF1E293B"}},f={name:"Calibri",size:11,bold:!0,color:{argb:"FF1E293B"}},h={horizontal:"center",vertical:"middle",wrapText:!0},g={horizontal:"right",vertical:"middle",wrapText:!0,indent:1},y={top:{style:"thin",color:{argb:c}},left:{style:"thin",color:{argb:c}},bottom:{style:"thin",color:{argb:c}},right:{style:"thin",color:{argb:c}}};n.mergeCells("A1:I1");const m=n.getCell("A1");m.value="   -   ",m.font={...d,size:18},m.alignment=h,m.fill={type:"pattern",pattern:"solid",fgColor:{argb:s}},n.getRow(1).height=45,n.mergeCells("A2:I2");const v=n.getCell("A2");v.value=` : ${Nr(new Date,"yyyy/MM/dd HH:mm")} |     `,v.font={name:"Calibri",size:9,color:{argb:"FF64748B"}},v.alignment=h,n.getRow(2).height=20;const x=4;n.getRow(x).height=25,n.getRow(x+1).height=25,n.getRow(x+2).height=25;const j=(N,D,L,V,Q)=>{const Y=n.getCell(`${D}${N}`),re=n.getCell(`${String.fromCharCode(D.charCodeAt(0)+1)}${N}`);Y.value=L,Y.font={...f,color:{argb:Q}},Y.fill={type:"pattern",pattern:"solid",fgColor:{argb:i}},Y.alignment=g,Y.border=y,re.value=V,re.font=p,re.alignment=g,re.border=y};j(4,"A","  :",r.name,a),j(4,"D","  :",t.projectName||" ",a),j(5,"A","  :",r.type||"",a),j(5,"D","  :",t.dateRange||" ",a),j(6,"A","  :",`${r.dailyWage} . / `,a),j(6,"D","  :",`W-${r.id.toString().slice(-4).toUpperCase()}`,a),n.getColumn("A").width=18,n.getColumn("B").width=25,n.getColumn("D").width=18,n.getColumn("E").width=25;const T=8,E=["","",""," ","  ","",""," (+)"," (-)",""],B=n.getRow(T);E.forEach((N,D)=>{const L=B.getCell(D+1);L.value=N,L.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF334155"}},L.font={...d,color:{argb:"FFFFFFFF"}},L.alignment=h,L.border=y}),B.height=30,n.columns=[{width:6},{width:14},{width:12},{width:22},{width:48},{width:8},{width:12},{width:16},{width:16},{width:16}];const W=t.statement||[];let I=10;W.forEach((N,D)=>{const L=n.getRow(I),V=new Date(N.date),Q=D%2===0,Y=parseFloat(N.amount||0),re=parseFloat(N.paid||0),O=Y-re,Z=N.workDays!==void 0?parseFloat(N.workDays):N.type===""?1:0;L.values=[D+1,Nr(V,"yyyy/MM/dd"),Nr(V,"EEEE",{locale:ZD}),N.projectName||"-",N.description||(N.type===""?`  ${N.recipientName||"-"}`:"    "),Z,N.hours||(N.type===""?"8h":"-"),Y,re,O],L.eachCell((U,z)=>{U.border=y,U.alignment=h,U.font=p,Q&&(U.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF1F5F9"}}),(z===8||z===9||z===10)&&(U.numFmt='#,##0.00 "."',z===8&&(U.font={...p,color:{argb:u},bold:!0}),z===9&&parseFloat(N.paid||0)>0&&(U.font={...p,color:{argb:o},bold:!0}),z===10&&(U.font={...p,color:{argb:a},bold:!0}))}),I++});const R=n.getRow(I);n.mergeCells(`A${I}:E${I}`);const $=n.getCell(`A${I}`);$.value="  ",$.font=d,$.alignment=h,$.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF475569"}};const K=n.getCell(`F${I}`),H=n.getCell(`H${I}`),M=n.getCell(`I${I}`),F=n.getCell(`J${I}`);K.value=parseFloat(t.summary.totalWorkDays||0),H.value=parseFloat(t.summary.totalEarned||0),M.value=parseFloat(t.summary.totalPaid||0),F.value=parseFloat(t.summary.finalBalance||0),[K,H,M,F].forEach(N=>{N.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF475569"}},N.font=d,N.address.startsWith("F")?N.numFmt="#,##0.00":N.numFmt='#,##0.00 "."',N.alignment=h}),R.height=25,I+=2;const C=8,_=[{label:"  ",isHeader:!0,color:s},{label:"  ",value:t.summary.totalEarned,color:u},{label:"  ",value:t.summary.totalPaid,color:o},{label:"  ",value:t.summary.finalBalance,color:a,isFinal:!0}];_.forEach((N,D)=>{const L=I+D;if(N.isHeader){n.mergeCells(L,C,L,C+1);const V=n.getCell(L,C);V.value=N.label,V.fill={type:"pattern",pattern:"solid",fgColor:{argb:N.color}},V.font=d,V.alignment=h}else{const V=n.getCell(L,C+1),Q=n.getCell(L,C);V.value=N.label,V.fill={type:"pattern",pattern:"solid",fgColor:{argb:i}},V.font=f,V.border=y,V.alignment=g,Q.value=parseFloat(N.value||0),Q.font={...p,bold:!0,color:{argb:N.color}},Q.border=y,Q.alignment=h,Q.numFmt='#,##0.00 "."',N.isFinal&&(Q.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}})}}),I+=_.length+1,n.mergeCells(`A${I}:I${I}`);const S=n.getCell(`A${I}`);S.value="         AXION.        .",S.font={name:"Calibri",size:8,italic:!0,color:{argb:"FF94A3B8"}},S.alignment=h;const k=await e.xlsx.writeBuffer();m3.saveAs(new Blob([k]),`Worker_Statement_${r.name.replace(/\s+/g,"_")}_${Nr(new Date,"yyyyMMdd")}.xlsx`)},Ahe=async(t,r)=>{try{if(!t||!t.statement){console.error("No data provided for PDF generation");return}const e=r?.name||"",n=r?.type||"",s=r?.dailyWage?`${parseFloat(r.dailyWage).toLocaleString()} .`:"-",a=Nr(new Date,"yyyy/MM/dd"),i=parseFloat(t?.summary?.totalEarned||0),c=parseFloat(t?.summary?.totalPaid||0),u=parseFloat(t?.summary?.finalBalance||0),o=`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
      <head>
        <meta charset="UTF-8">
        <title>   - ${e}</title>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap');
          
          * { box-sizing: border-box; -webkit-print-color-adjust: exact; }
          body { font-family: 'Cairo', sans-serif; margin: 0; padding: 0; color: #000; background: #fff; }
          
          @page {
            size: A4;
            margin: 10mm 5mm 15mm 5mm;
          }
          
          .print-container { width: 100%; padding: 0; }

          /*      */
          table { 
            width: 100%; 
            border-collapse: collapse; 
            margin-bottom: 20px;
            table-layout: fixed;
          }
          
          thead { display: table-header-group; }
          tbody { display: table-row-group; }
          
          /*    */
          .report-header-content {
            padding: 0;
            margin: 0;
            width: 100%;
          }

          .main-title-bar {
            background-color: #1F4E79;
            color: white;
            text-align: center;
            padding: 8px 0;
            font-size: 18px;
            font-weight: 800;
            width: 100%;
            margin-bottom: 15px;
            border-bottom: 2px solid #16365C;
          }

          .header-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 0 10px 15px 10px;
            font-size: 13px;
          }
          
          .info-col { display: flex; flex-direction: column; gap: 4px; }
          .info-row { display: flex; justify-content: flex-start; align-items: baseline; }
          .info-label { font-weight: 700; width: 100px; color: #333; }
          .info-value { font-weight: 400; color: #000; }
          
          th {
            background-color: #1F4E79;
            color: #FFFFFF;
            border: 1px solid #16365C;
            padding: 8px 4px;
            font-size: 11px;
            font-weight: 800;
            text-align: center;
          }

          td {
            border: 1px solid #BFBFBF;
            padding: 6px 4px;
            font-size: 10px;
            text-align: center;
            vertical-align: middle;
            word-wrap: break-word;
          }

          .col-m { width: 30px; }
          .col-date { width: 80px; }
          .col-day { width: 60px; }
          .col-project { width: 110px; }
          .col-desc { width: auto; text-align: right; padding-right: 8px; font-size: 9px; line-height: 1.4; }
          .col-days-count { width: 45px; }
          .col-hours { width: 85px; }
          .col-earned { width: 70px; background-color: #E2F0D9; font-weight: 700; }
          .col-paid { width: 70px; background-color: #FBE2D5; font-weight: 700; }
          .col-balance { width: 70px; background-color: #DEEAF6; font-weight: 700; }

          .totals-row td {
            background-color: #00B050;
            color: white;
            font-weight: 800;
            font-size: 12px;
            border: 1px solid #00803A;
          }

          .summary-wrapper {
            display: flex;
            justify-content: flex-start;
            margin-top: 30px;
            page-break-inside: avoid;
          }
          
          .summary-table {
            width: 320px;
            border: 2px solid #1F4E79;
          }
          
          .summary-header {
            background-color: #00B050;
            color: white;
            text-align: center;
            font-weight: 800;
            padding: 6px;
            font-size: 14px;
          }
          
          .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 12px;
            border-bottom: 1px solid #BFBFBF;
            font-size: 13px;
          }
          
          .summary-item:last-child { border-bottom: none; background-color: #F2F2F2; font-weight: 800; }
          .summary-label { font-weight: 700; }
          .summary-val { font-family: sans-serif; }

          .page-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 9px;
            color: #7F7F7F;
            padding: 5px;
            border-top: 1px solid #EEE;
            background: white;
          }

          @media print {
            thead { display: table-header-group; }
            button { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="print-container">
          <table>
            <thead>
              <tr>
                <th colspan="10" style="padding: 0; border: none; background: none;">
                  <div class="report-header-content">
                    <div class="main-title-bar">    </div>
                    <div class="header-info-grid">
                      <div class="info-col">
                        <div class="info-row"><span class="info-label"> :</span><span class="info-value">${e}</span></div>
                        <div class="info-row"><span class="info-label"> :</span><span class="info-value">${n}</span></div>
                        <div class="info-row"><span class="info-label"> :</span><span class="info-value">${s}</span></div>
                      </div>
                      <div class="info-col">
                        <div class="info-row"><span class="info-label"> :</span><span class="info-value">${t?.projectName||" "}</span></div>
                        <div class="info-row"><span class="info-label"> :</span><span class="info-value">${a}</span></div>
                      </div>
                    </div>
                  </div>
                </th>
              </tr>
              <tr>
                <th class="col-m"></th>
                <th class="col-date"></th>
                <th class="col-day"></th>
                <th class="col-project"></th>
                <th class="col-desc"> </th>
                <th class="col-days-count"></th>
                <th class="col-hours"></th>
                <th class="col-earned"> </th>
                <th class="col-paid"> </th>
                <th class="col-balance"></th>
              </tr>
            </thead>
            <tbody>
              ${(t?.statement||[]).map((h,g)=>{const y=parseFloat(h.amount||0),m=parseFloat(h.paid||0),v=y-m;return`
                    <tr>
                      <td class="col-m">${g+1}</td>
                      <td class="col-date">${h.date?Nr(new Date(h.date),"yyyy/MM/dd"):"-"}</td>
                      <td class="col-day">${h.date?Nr(new Date(h.date),"EEEE",{locale:ZD}):"-"}</td>
                      <td class="col-project">${h.projectName||h.project_name||"-"}</td>
                      <td class="col-desc">${h.description||(h.type===""?`  ${h.recipientName||"-"}`:"   ")}</td>
                      <td class="col-days-count">${h.type===""?h.workDays!==void 0?parseFloat(h.workDays).toFixed(2):"1.00":"-"}</td>
                      <td class="col-hours">${h.type===""?h.hours||"07:00-15:00":"-"}</td>
                      <td class="col-earned">${y.toLocaleString()}</td>
                      <td class="col-paid">${m.toLocaleString()}</td>
                      <td class="col-balance">${v.toLocaleString()}</td>
                    </tr>
                  `}).join("")}
              <tr class="totals-row">
                <td colspan="5" style="text-align: center;"></td>
                <td>${parseFloat(t?.summary?.totalWorkDays||0).toLocaleString()}</td>
                <td>-</td>
                <td>${i.toLocaleString()}</td>
                <td>${c.toLocaleString()}</td>
                <td>${u.toLocaleString()}</td>
              </tr>
            </tbody>
          </table>

          <div class="summary-wrapper">
            <div class="summary-table">
              <div class="summary-header"> </div>
              <div class="summary-item">
                <span class="summary-label"> :</span>
                <span class="summary-val">${i.toLocaleString()}</span>
              </div>
              <div class="summary-item">
                <span class="summary-label"> :</span>
                <span class="summary-val">${c.toLocaleString()}</span>
              </div>
              <div class="summary-item">
                <span class="summary-label"> :</span>
                <span class="summary-val">0</span>
              </div>
              <div class="summary-item">
                <span class="summary-label"> :</span>
                <span class="summary-val">${u.toLocaleString()}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="page-footer">
                   | ${Nr(new Date,"dd/MM/yyyy HH:mm")}
        </div>

        <script>
          window.onload = function() {
            setTimeout(function() {
              window.print();
            }, 500);
          };
        <\/script>
      </body>
      </html>
    `,d=new Blob([o],{type:"text/html"}),p=URL.createObjectURL(d);window.open(p,"_blank")||alert("     .")}catch(e){console.error("Critical Print Error:",e),alert("   .")}};function jN({children:t,columns:r=2,className:e,...n}){const s={2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 md:grid-cols-4"};return l.jsx("div",{className:Pe("grid gap-3 md:gap-4",s[r],e),dir:"rtl",...n,children:t})}function Phe({worker:t,onSuccess:r,onCancel:e,submitLabel:n=" "}){const[s,a]=P.useState(t?.name||""),[i,c]=P.useState(t?.type||""),[u,o]=P.useState(t?t.dailyWage:""),[d,p]=P.useState(t?.phone||""),[f,h]=P.useState(t?.hireDate||""),[g,y]=P.useState(!1),[m,v]=P.useState(""),{toast:x}=wn(),j=xs();P.useEffect(()=>{t&&(a(t.name||""),c(t.type||""),o(t.dailyWage||""),p(t.phone||""),h(t.hireDate||""))},[t]);const T=async($,K)=>{if(!(!K||typeof K!="string"||!K.trim()))try{await qe("/api/autocomplete","POST",{category:$,value:K.trim()})}catch{}},{data:E=[]}=Pt({queryKey:["/api/worker-types"]}),B=$t({mutationFn:async $=>(await Promise.all([T("workerNames",$.name),T("workerTypes",$.type)]),t?qe(`/api/workers/${t.id}`,"PATCH",$):qe("/api/workers","POST",$)),onSuccess:async($,K)=>{j.setQueryData(["/api/workers"],H=>H?[$.data,...H]:[$.data]),await Promise.all([j.invalidateQueries({queryKey:["/api/worker-types"]}),j.invalidateQueries({queryKey:["/api/autocomplete"]})]),x({title:" ",description:t?"   ":"   "}),t||(a(""),c(""),o(""),p(""),h("")),r?.()},onError:async($,K)=>{await Promise.all([T("workerNames",K.name),T("workerTypes",K.type)]),await j.invalidateQueries({queryKey:["/api/autocomplete"]});const H=$?.message||(t?"    ":"    ");x({title:t?"   ":"   ",description:H,variant:"destructive"})}}),W=$t({mutationFn:async $=>(await T("workerTypes",$.name),qe("/api/worker-types","POST",$)),onSuccess:async($,K)=>{await j.invalidateQueries({queryKey:["/api/worker-types"]}),await j.invalidateQueries({queryKey:["/api/autocomplete"]}),x({title:" ",description:"    "}),c($.name),v(""),y(!1)},onError:async($,K)=>{await T("workerTypes",K.name),await j.invalidateQueries({queryKey:["/api/autocomplete"]});const H=$?.message||"     ";x({title:"    ",description:H,variant:"destructive"})}}),I=$=>{if($.preventDefault(),!s.trim()||!i||!u){x({title:"",description:"    ",variant:"destructive"});return}const K=parseFloat(u);if(isNaN(K)||K<=0){x({title:"",description:"     ",variant:"destructive"});return}B.mutate({name:s.trim(),type:i,dailyWage:K.toString(),phone:d.trim()||void 0,hireDate:f||void 0,isActive:t?.isActive??!0})},R=$=>{if($.preventDefault(),!m.trim()){x({title:"",description:"    ",variant:"destructive"});return}W.mutate({name:m.trim()})};return l.jsxs("form",{onSubmit:I,className:"space-y-4",children:[l.jsxs(jN,{columns:2,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Qe,{htmlFor:"worker-name",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[l.jsx(Nm,{className:"h-4 w-4 text-blue-500"}),"  *"]}),l.jsx(gt,{id:"worker-name",type:"text",value:s,onChange:$=>a($.target.value),placeholder:"  ...",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Qe,{htmlFor:"worker-type",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[l.jsx(xA,{className:"h-4 w-4 text-purple-500"}),"  *"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ts,{value:i,onValueChange:c,options:Array.isArray(E)&&E.length>0?E.map($=>({value:$.name,label:$.name})):[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],placeholder:"  ...",searchPlaceholder:"  ...",emptyText:"  ",className:"flex-1"}),l.jsxs(Ks,{open:g,onOpenChange:y,children:[l.jsx(Uf,{asChild:!0,children:l.jsx(Oe,{type:"button",variant:"outline",size:"icon",className:"shrink-0",title:"  ",children:l.jsx(cs,{className:"h-4 w-4"})})}),l.jsxs(As,{className:"sm:max-w-md",children:[l.jsx(Gs,{children:l.jsx(da,{children:"   "})}),l.jsxs("form",{onSubmit:R,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Qe,{htmlFor:"new-type-name",className:"block text-sm font-medium text-foreground",children:"  "}),l.jsx(gt,{id:"new-type-name",type:"text",value:m,onChange:$=>v($.target.value),placeholder:":   ...",required:!0})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Oe,{type:"submit",disabled:W.isPending,className:"flex-1",children:W.isPending?" ...":""}),l.jsx(Oe,{type:"button",variant:"outline",onClick:()=>{y(!1),v("")},className:"flex-1",children:""})]})]})]})]})]})]})]}),l.jsxs(jN,{columns:3,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Qe,{htmlFor:"daily-wage",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[l.jsx(Sr,{className:"h-4 w-4 text-green-500"}),"  (.) *"]}),l.jsx(gt,{id:"daily-wage",type:"number",inputMode:"decimal",value:u,onChange:$=>o($.target.value),placeholder:"0",className:"text-center arabic-numbers",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Qe,{htmlFor:"phone",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[l.jsx(EA,{className:"h-4 w-4 text-blue-500"})," "]}),l.jsx(gt,{id:"phone",type:"tel",inputMode:"tel",value:d,onChange:$=>p($.target.value),placeholder:"966XXXXXXXXX+",className:"text-left ltr",dir:"ltr"})]}),l.jsx(Go,{id:"hire-date",label:" ",value:f,onChange:$=>h($?Nr($,"yyyy-MM-dd"):"")})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Oe,{type:"submit",className:"flex-1",disabled:B.isPending,children:B.isPending?" ...":n}),e&&l.jsx(Oe,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:""})]})]})}const Mhe=({worker:t,onClose:r,isOpen:e})=>l.jsx(Ks,{open:e,onOpenChange:r,children:l.jsxs(As,{className:"sm:max-w-md",children:[l.jsxs(Gs,{children:[l.jsx(da,{children:t?" ":"  "}),l.jsx(Pc,{children:t?"    ":"   "})]}),l.jsx("div",{className:"mt-4",children:l.jsx(Phe,{worker:t,onSuccess:r,onCancel:r,submitLabel:t?" ":" "})})]})}),Rhe=({stats:t,formatCurrency:r,isLoading:e})=>{const n=t?.totalEarnings??0,s=t?.totalTransfers??0,a=n-s;return l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 dark:text-green-400 mb-1",children:[l.jsx(Zu,{className:"h-3 w-3"}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),l.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:e?"...":r(n)})]}),l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-2 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-600 dark:text-yellow-400 mb-1",children:[l.jsx(e_,{className:"h-3 w-3"}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),l.jsx("p",{className:"text-xs font-bold text-yellow-600 dark:text-yellow-400",children:e?"...":r(s)})]}),l.jsxs("div",{className:`${a>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-red-50 dark:bg-red-900/20"} rounded-lg p-2 text-center`,children:[l.jsxs("div",{className:`flex items-center justify-center gap-1 ${a>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"} mb-1`,children:[l.jsx(pa,{className:"h-3 w-3"}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),l.jsx("p",{className:`text-xs font-bold ${a>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"}`,children:e?"...":r(a)})]})]})},Dhe=({worker:t,onEdit:r,onDelete:e,onToggleStatus:n,onExport:s,formatCurrency:a,isToggling:i,selectedProjectId:c,isExporting:u,exportProgress:o,exportingWorkerId:d})=>{const p=c===ps?void 0:c,{data:f,isLoading:h}=Pt({queryKey:["/api/workers",t.id,"stats",c],queryFn:async()=>{const m=p?`/api/workers/${t.id}/stats?projectId=${p}`:`/api/workers/${t.id}/stats`;return qe(m,"GET")},staleTime:300*1e3,gcTime:600*1e3,retry:1,placeholderData:m=>m,refetchOnWindowFocus:!1,enabled:t.isActive}),g=f?.data,y=g?.projectsWorked??0;return l.jsxs("div",{className:"relative group",children:[u&&l.jsx("div",{className:"absolute inset-0 z-50 bg-background/80 backdrop-blur-sm flex flex-col items-center justify-center p-6 rounded-lg border-2 border-primary animate-in fade-in zoom-in duration-300",children:l.jsxs("div",{className:"w-full space-y-4 text-center",children:[l.jsxs("div",{className:"relative h-16 w-16 mx-auto",children:[l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"}),l.jsx(Xa,{className:"absolute inset-0 m-auto h-6 w-6 text-primary animate-pulse"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-bold text-primary animate-pulse",children:"   ..."}),l.jsx("div",{className:"h-2 w-full bg-primary/10 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${o}%`}})}),l.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono",children:[o,"%"]})]})]})}),l.jsx(vn,{title:t.name,subtitle:t.hireDate?new Date(t.hireDate).toLocaleDateString("en-GB"):void 0,titleIcon:Nm,headerColor:t.isActive?"#22c55e":"#ef4444",badges:[{label:t.type,variant:"secondary"},{label:t.isActive?"":" ",variant:t.isActive?"success":"destructive"}],fields:[{label:" ",value:a(parseFloat(t.dailyWage)),icon:Sr,emphasis:!0,color:"success"},{label:"",value:t.phone||" ",icon:EA,color:t.phone?"success":"muted"},{label:"",value:h?"...":y>0?`${y} `:" ",icon:Sw,color:y>0?"info":"muted"},{label:" ",value:h?"...":`${g?.totalWorkDays??0} `,icon:ma,color:"warning"}],actions:[{icon:Xa,label:" ",disabled:!!d,color:"green",onClick:()=>{},dropdown:[{label:" PDF ",onClick:()=>s("pdf")},{label:"  Excel",onClick:()=>s("excel")},{label:" ",onClick:()=>window.print()}]},{icon:_l,label:"",onClick:r,color:"blue"},{icon:AA,label:t.isActive?"":"",onClick:n,disabled:i,color:t.isActive?"yellow":"green"},{icon:ys,label:"",onClick:e,color:"red"}],footer:l.jsx(Rhe,{stats:g,formatCurrency:a,isLoading:h}),compact:!0})]})};function Ihe(){const[t,r]=P.useState(),[e,n]=P.useState(!1),[s,a]=P.useState(""),[i,c]=P.useState({status:"all",type:"all"}),[u,o]=P.useState(!1),[d,p]=P.useState(null),[f,h]=P.useState(null),[g,y]=P.useState(0),[m,v]=P.useState(null),{toast:x}=wn(),j=xs(),{setFloatingAction:T}=jo(),{selectedProjectId:E}=ko(),B=P.useCallback((re,O)=>{c(Z=>({...Z,[re]:O}))},[]),W=P.useCallback(()=>{a(""),c({status:"all",type:"all"}),x({title:"  ",description:"   "})},[x]),I=re=>new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(re)+" .",{data:R=[],isLoading:$,refetch:K}=Pt({queryKey:["/api/workers"],queryFn:async()=>{try{const re=await qe("/api/workers","GET");let O=[];return re&&typeof re=="object"&&(re.success&&Array.isArray(re.data)?O=re.data:Array.isArray(re)&&(O=re)),O}catch(re){return console.error("Error fetching workers:",re),[]}},staleTime:3e4,gcTime:6e4,retry:2,placeholderData:re=>re,refetchOnWindowFocus:!0}),{data:H=[]}=Pt({queryKey:["/api/worker-types"],queryFn:async()=>{try{const re=await fetch("/api/worker-types");if(!re.ok)return[];const O=await re.json();let Z=[];return O&&typeof O=="object"&&(O.success!==void 0&&O.data!==void 0?Z=Array.isArray(O.data)?O.data:[]:Array.isArray(O)&&(Z=O)),Array.isArray(Z)?Z:[]}catch{return[]}},staleTime:9e5,gcTime:18e5,retry:1,placeholderData:re=>re,refetchOnWindowFocus:!1}),M=P.useCallback(async()=>{o(!0);try{await K(),x({title:" ",description:"   "})}catch{x({title:"",description:"  ",variant:"destructive"})}finally{o(!1)}},[K,x]),F=$t({mutationFn:re=>qe(`/api/workers/${re}`,"DELETE"),onMutate:async re=>{await j.cancelQueries({queryKey:["/api/workers"]});const O=j.getQueryData(["/api/workers"]);return Array.isArray(O)&&j.setQueryData(["/api/workers"],O.filter(Z=>Z.id!==re)),{previousData:O}},onSuccess:re=>{x({title:"   ",description:re?.message||"     .",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(re,O,Z)=>{Z?.previousData&&j.setQueryData(["/api/workers"],Z.previousData),x({title:"   ",description:re?.message||"    ",variant:"destructive"})},onSettled:()=>{j.invalidateQueries({queryKey:["/api/workers"]}),j.invalidateQueries({queryKey:["/api/projects/with-stats"]})}}),C=$t({mutationFn:({id:re,data:O})=>qe(`/api/workers/${re}`,"PATCH",O),onMutate:async({id:re,data:O})=>{await j.cancelQueries({queryKey:["/api/workers"]});const Z=j.getQueryData(["/api/workers"]);return Array.isArray(Z)&&j.setQueryData(["/api/workers"],Z.map(U=>U.id===re?{...U,...O}:U)),{previousData:Z}},onSuccess:re=>{x({title:" ",description:re?.message||"     ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"}),j.invalidateQueries({queryKey:["/api/workers"]})},onError:(re,O,Z)=>{Z?.previousData&&j.setQueryData(["/api/workers"],Z.previousData),x({title:"",description:re.message||"    ",variant:"destructive"})},onSettled:()=>{p(null),j.invalidateQueries({queryKey:["/api/workers"]}),j.invalidateQueries({queryKey:["/api/projects/with-stats"]})}}),_=P.useMemo(()=>(Array.isArray(R)?R:[]).filter(re=>{const O=re.name.toLowerCase().includes(s.toLowerCase())||re.type.toLowerCase().includes(s.toLowerCase())||re.phone&&re.phone.includes(s),Z=i.status==="all"||i.status==="active"&&re.isActive||i.status==="inactive"&&!re.isActive,U=i.type==="all"||re.type===i.type;return O&&Z&&U}),[R,s,i]),S=P.useMemo(()=>({total:Array.isArray(R)?R.length:0,active:Array.isArray(R)?R.filter(re=>re.isActive).length:0,inactive:Array.isArray(R)?R.filter(re=>!re.isActive).length:0,avgWage:Array.isArray(R)&&R.length>0?R.reduce((re,O)=>re+parseFloat(O.dailyWage),0)/R.length:0}),[R]),k=P.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:S.total,icon:On,color:"blue"},{key:"active",label:" ",value:S.active,icon:pi,color:"green",showDot:!0,dotColor:"bg-green-500"},{key:"inactive",label:" ",value:S.inactive,icon:ms,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"avgWage",label:" ",value:I(S.avgWage),icon:Sr,color:"purple"},{key:"totalTypes",label:" ",value:H.length,icon:xA,color:"teal"},{key:"totalWorkDays",label:"  ",value:"-",icon:ma,color:"indigo"}]}],[S,H]),N=P.useMemo(()=>[{key:"status",label:"",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"active",label:""},{value:"inactive",label:" "}]},{key:"type",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},...Array.isArray(H)?H.map(re=>({value:re.name,label:re.name})):[]]}],[H]),D=()=>{r(void 0),n(!0)},L=re=>{r(re),n(!0)},V=re=>{confirm(`      "${re.name}"`)&&F.mutate(re.id)},Q=re=>{p(re.id),C.mutate({id:re.id,data:{isActive:!re.isActive}})},Y=async(re,O="excel")=>{h(re.id),y(10),v(null);try{const Z=E===ps?void 0:E,U=setInterval(()=>{y(ae=>ae>=90?(clearInterval(U),90):ae+10)},200),z=`/api/reports/worker-statement?workerId=${re.id}${Z?`&projectId=${Z}`:""}`,G=await qe(z,"GET");clearInterval(U),y(100),G.success&&(O==="pdf"?await Ahe(G.data,re):await Ehe(G.data,re),x({title:" ",description:`    ${re.name} `}))}catch(Z){console.error("Error exporting statement:",Z),x({title:"  ",description:"    ",variant:"destructive"})}finally{setTimeout(()=>{h(null),y(0)},500)}};return P.useEffect(()=>(T(D,"  "),()=>T(null)),[T]),l.jsxs("div",{className:"container mx-auto p-4 space-y-4",children:[l.jsx(sl,{title:"  ",subtitle:"       ",statsRows:k,filters:N,onFilterChange:B,onSearchChange:a,searchValue:s,onResetFilters:W,onRefresh:M,isRefreshing:u}),$?l.jsx(Ps,{columns:4,children:Array.from({length:8}).map((re,O)=>l.jsx(vn,{title:"",fields:[],isLoading:!0,compact:!0},O))}):_.length===0?l.jsx(Ir,{className:"p-12 text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4 text-muted-foreground",children:[l.jsx(On,{className:"h-12 w-12 opacity-20"}),l.jsx("p",{className:"text-lg",children:"     "}),l.jsx(Oe,{variant:"outline",onClick:W,children:" "})]})}):l.jsx(Ps,{columns:4,children:_.map(re=>l.jsx(Dhe,{worker:re,onEdit:()=>L(re),onDelete:()=>V(re),onToggleStatus:()=>Q(re),onExport:O=>Y(re,O),formatCurrency:I,isToggling:d===re.id,selectedProjectId:E,isExporting:f===re.id,exportProgress:g,exportingWorkerId:f},re.id))}),l.jsx(Mhe,{worker:t,isOpen:e,onClose:()=>n(!1)})]})}function Ohe(t,r=[]){let e=[];function n(a,i){const c=P.createContext(i);c.displayName=a+"Context";const u=e.length;e=[...e,i];const o=p=>{const{scope:f,children:h,...g}=p,y=f?.[t]?.[u]||c,m=P.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:m,children:h})};o.displayName=a+"Provider";function d(p,f){const h=f?.[t]?.[u]||c,g=P.useContext(h);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[o,d]}const s=()=>{const a=e.map(i=>P.createContext(i));return function(c){const u=c?.[t]||a;return P.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[n,Fhe(s,...r)]}function Fhe(...t){const r=t[0];if(t.length===1)return r;const e=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((c,{useScope:u,scopeName:o})=>{const p=u(a)[`__scope${o}`];return{...c,...p}},{});return P.useMemo(()=>({[`__scope${r.scopeName}`]:i}),[i])}};return e.scopeName=r.scopeName,e}var Lhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],QL=Lhe.reduce((t,r)=>{const e=pb(`Primitive.${r}`),n=P.forwardRef((s,a)=>{const{asChild:i,...c}=s,u=i?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...c,ref:a})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{}),w3="Progress",_3=100,[Bhe]=Ohe(w3),[$he,zhe]=Bhe(w3),YL=P.forwardRef((t,r)=>{const{__scopeProgress:e,value:n=null,max:s,getValueLabel:a=Vhe,...i}=t;(s||s===0)&&!SN(s)&&console.error(Uhe(`${s}`,"Progress"));const c=SN(s)?s:_3;n!==null&&!NN(n,c)&&console.error(Whe(`${n}`,"Progress"));const u=NN(n,c)?n:null,o=$y(u)?a(u,c):void 0;return l.jsx($he,{scope:e,value:u,max:c,children:l.jsx(QL.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":$y(u)?u:void 0,"aria-valuetext":o,role:"progressbar","data-state":eB(u,c),"data-value":u??void 0,"data-max":c,...i,ref:r})})});YL.displayName=w3;var ZL="ProgressIndicator",JL=P.forwardRef((t,r)=>{const{__scopeProgress:e,...n}=t,s=zhe(ZL,e);return l.jsx(QL.div,{"data-state":eB(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:r})});JL.displayName=ZL;function Vhe(t,r){return`${Math.round(t/r*100)}%`}function eB(t,r){return t==null?"indeterminate":t===r?"complete":"loading"}function $y(t){return typeof t=="number"}function SN(t){return $y(t)&&!isNaN(t)&&t>0}function NN(t,r){return $y(t)&&!isNaN(t)&&t<=r&&t>=0}function Uhe(t,r){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_3}\`.`}function Whe(t,r){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_3} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tB=YL,qhe=JL;const Qc=P.forwardRef(({className:t,value:r,...e},n)=>l.jsx(tB,{ref:n,className:Pe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...e,children:l.jsx(qhe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));Qc.displayName=tB.displayName;function Hhe(){const{toast:t}=wn(),[r,e]=P.useState(null),[n,s]=P.useState(""),[a,i]=P.useState(0),[c,u]=P.useState({status:"all"}),{data:o,isLoading:d,refetch:p}=Pt({queryKey:["/api/backups/logs"],refetchInterval:5e3}),f=P.useMemo(()=>Array.isArray(o)?o:[],[o]),h=$t({mutationFn:async()=>await qe("/api/backups/run","POST"),onMutate:()=>{i(5),t({title:"  ",description:"          ..."})},onSuccess:R=>{i(100),xn.invalidateQueries({queryKey:["/api/backups/logs"]}),R.gdriveStatus==="rejected"&&R.gdriveError?.includes("invalid_grant")?t({title:": Google Drive  ",description:"   Telegram      Drive.    .",variant:"destructive"}):t({title:" ",description:R.gdriveStatus==="fulfilled"?"    Google Drive  Telegram ":"   Telegram  Drive ."}),setTimeout(()=>i(0),3e3)},onError:R=>{i(0),t({title:"  ",description:R.message,variant:"destructive"})}}),g=async()=>{try{t({title:" ",description:"     Google Drive..."});const $=await(await fetch("/api/auth/google/url")).json();if($.success&&$.url)window.open($.url,"_blank");else throw new Error($.error||"     ")}catch(R){t({title:"  ",description:R.message,variant:"destructive"})}};P.useEffect(()=>{let R;return h.isPending&&a<95&&(R=setInterval(()=>{i($=>{if($>=95)return $;const K=Math.floor(Math.random()*10)+2;return Math.min($+K,95)})},800)),()=>clearInterval(R)},[h.isPending,a]);const y=$t({mutationFn:async R=>await qe(`/api/backups/restore/${R}`,"POST"),onSuccess:()=>{t({title:" ",description:"   "}),setTimeout(()=>window.location.reload(),2e3)},onSettled:()=>e(null)}),[m,v]=P.useState(null),[x,j]=P.useState(0),T=$t({mutationFn:async R=>{v(R),j(10);const $=setInterval(()=>{j(K=>K>=90?K:K+Math.floor(Math.random()*15)+5)},150);try{await qe(`/api/backups/${R}`,"DELETE"),clearInterval($),j(100)}catch(K){throw clearInterval($),K}},onSuccess:()=>{setTimeout(()=>{t({title:"  ",description:"       .",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"}),xn.invalidateQueries({queryKey:["/api/backups/logs"]}),v(null),j(0)},600)},onError:R=>{v(null),j(0),t({title:" ",description:R.message,variant:"destructive"})}}),E=P.useMemo(()=>f.map(R=>({...R,filename:R.filename||R.path||`backup-${R.id}`,status:R.status||"success",createdAt:R.createdAt||R.timestamp})).filter(R=>{const $=!n||R.filename.toLowerCase().includes(n.toLowerCase()),K=c.status==="all"||R.status===c.status;return $&&K}),[f,n,c.status]);f.find(R=>R.status==="success");const{data:B}=Pt({queryKey:["/api/system/emergency-status"],refetchInterval:1e4}),W=[{items:[{key:"status",label:" ",value:B?.data?.isEmergencyMode?" ":" ()",icon:Pl,color:B?.data?.isEmergencyMode?"orange":"green",subLabel:B?.data?.dbType||"  "},{key:"integrity",label:" ",value:B?.data?.integrity?.status==="success"?"":" ",icon:Ll,color:B?.data?.integrity?.status==="success"?"green":"rose",subLabel:` : ${B?.data?.integrity?.lastChecked?io(B.data.integrity.lastChecked):" "}`},{key:"total_logs",label:" ",value:String(f.length),icon:aq,color:"purple",subLabel:" "}]}],I=[{key:"status",label:"",type:"select",options:[{label:"",value:"all"},{label:"",value:"success"},{label:"",value:"error"}]}];return l.jsxs("div",{className:"fade-in pb-32",dir:"rtl",children:[l.jsx(sl,{statsRows:W,filters:I,searchValue:n,filterValues:c,onSearchChange:s,onFilterChange:(R,$)=>u(K=>({...K,[R]:$})),onReset:()=>{s(""),u({status:"all"})},onRefresh:p,isRefreshing:d||h.isPending,searchPlaceholder:"   ...",actions:[{key:"auth-gdrive",label:" Google Drive",icon:Pp,onClick:g,variant:"outline",className:"border-primary text-primary"},{key:"run-backup",label:h.isPending?" ...":" ",icon:h.isPending?Ln:Pl,onClick:()=>h.mutate(),disabled:h.isPending,variant:"default",className:h.isPending?"animate-pulse":""}]}),h.isPending&&l.jsx("div",{className:"px-4 mt-4",children:l.jsxs("div",{className:"bg-card border rounded-lg p-4 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ln,{className:"h-4 w-4 animate-spin text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"   ..."})]}),l.jsxs("span",{className:"text-sm font-bold text-primary",children:[a,"%"]})]}),l.jsx(Qc,{value:a,className:"h-2"}),l.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"        Google Drive   Telegram."})]})}),l.jsx("div",{className:"mt-6 px-4",children:d&&f.length===0?l.jsx("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(R=>l.jsx("div",{className:"h-40 rounded-xl border bg-muted/20 animate-pulse"},R))}):E.length===0?l.jsxs("div",{className:"text-center py-20 border-2 border-dashed rounded-xl bg-slate-50/50 dark:bg-slate-900/10",children:[l.jsx(Pp,{className:"h-16 w-16 text-muted-foreground/20 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-muted-foreground",children:"  "}),l.jsx("p",{className:"text-sm text-muted-foreground/60 max-w-sm mx-auto mt-2",children:'     .   " " .'})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-3",children:E.map(R=>l.jsxs("div",{className:`group relative bg-white dark:bg-slate-900/40 border border-slate-200 dark:border-slate-800 rounded-xl p-3 hover:shadow-md transition-all duration-500 overflow-hidden ${m===R.id?"ring-2 ring-rose-500/50 scale-[0.98]":""}`,children:[m===R.id&&l.jsx("div",{className:"absolute inset-0 z-50 bg-background/90 backdrop-blur-md flex flex-col items-center justify-center p-4 animate-in fade-in duration-300",children:l.jsxs("div",{className:"w-full max-w-[200px] space-y-3",children:[l.jsxs("div",{className:"relative h-12 w-12 mx-auto",children:[l.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-rose-500/20"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-rose-600 border-t-transparent animate-spin",style:{animationDuration:"0.6s"}}),l.jsx(ys,{className:"absolute inset-0 m-auto h-5 w-5 text-rose-600 animate-pulse"})]}),l.jsxs("div",{className:"space-y-1.5 text-center",children:[l.jsx("p",{className:"text-[11px] font-bold text-rose-600 animate-pulse",children:"  ..."}),l.jsx("div",{className:"h-1.5 w-full bg-rose-100 dark:bg-rose-900/30 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-rose-500 to-rose-600 transition-all duration-300 ease-out shadow-[0_0_10px_rgba(225,29,72,0.4)]",style:{width:`${x}%`}})}),l.jsxs("div",{className:"flex justify-between items-center text-[9px] font-mono text-rose-500/70",children:[l.jsx("span",{children:"DELETING_BLOCKS"}),l.jsxs("span",{children:[x,"%"]})]})]})]})}),l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("div",{className:`p-2 rounded-lg shrink-0 ${R.status==="success"?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:l.jsx(Xa,{className:"h-4 w-4"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-slate-100 truncate",title:R.filename,children:R.filename}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5 text-[10px] text-slate-500 font-medium",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ma,{className:"h-3 w-3"}),io(R.createdAt)]}),l.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),l.jsx("span",{children:R.size?`${R.size} MB`:"..."})]})]})]}),l.jsxs("div",{className:"flex items-center gap-1 shrink-0 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity",children:[l.jsx(Oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:bg-blue-50",asChild:!0,children:l.jsx("a",{href:`/api/backups/download/${R.id}`,target:"_blank",rel:"noopener noreferrer",children:l.jsx(yp,{className:"h-4 w-4"})})}),l.jsx(Oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-orange-600 hover:bg-orange-50",disabled:r!==null,onClick:()=>{window.confirm("    ")&&(e(R.id),y.mutate(R.id))},children:r===R.id?l.jsx(Ln,{className:"h-4 w-4 animate-spin"}):l.jsx(eb,{className:"h-4 w-4"})}),l.jsx(Oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-rose-600 hover:bg-rose-50 active-elevate-2 transition-transform active:scale-90",disabled:m!==null||r!==null,onClick:()=>{const{dismiss:$}=t({title:" ",description:"             .",action:l.jsx(Oe,{variant:"destructive",size:"sm",onClick:()=>{$(),T.mutate(R.id)},children:" "})})},children:l.jsx(ys,{className:"h-4 w-4"})})]})]}),R.status!=="success"&&R.errorMessage&&l.jsx("p",{className:"mt-2 text-[10px] text-rose-500 bg-rose-50 p-1.5 rounded-md border border-rose-100 truncate",children:R.errorMessage})]},R.id))})})]})}const CN={system:{icon:Ml,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-800",borderColor:"border-slate-200 dark:border-slate-700",label:""},security:{icon:Ml,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",label:""},maintenance:{icon:ho,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800",label:""},warranty:{icon:jn,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",borderColor:"border-purple-200 dark:border-purple-800",label:""},damaged:{icon:a_,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",label:""},"user-welcome":{icon:On,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800",label:""},task:{icon:Fl,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",label:""},payroll:{icon:n_,color:"text-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",borderColor:"border-emerald-200 dark:border-emerald-800",label:""},announcement:{icon:Rp,color:"text-indigo-600",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",borderColor:"border-indigo-200 dark:border-indigo-800",label:""},safety:{icon:Da,color:"text-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",borderColor:"border-amber-200 dark:border-amber-800",label:""}},TN={1:{label:"",color:"text-red-700",bgColor:"bg-red-100 dark:bg-red-900/30"},2:{label:"",color:"text-orange-700",bgColor:"bg-orange-100 dark:bg-orange-900/30"},3:{label:"",color:"text-yellow-700",bgColor:"bg-yellow-100 dark:bg-yellow-900/30"},4:{label:"",color:"text-blue-700",bgColor:"bg-blue-100 dark:bg-blue-900/30"},5:{label:"",color:"text-slate-700",bgColor:"bg-slate-100 dark:bg-slate-800"}},Khe=t=>typeof t=="number"?t:{critical:1,high:2,medium:3,low:4,info:5}[t]||3,Ghe=t=>{const r={};return t.forEach(e=>{if(!e.createdAt){r.older||(r.older=[]),r.older.push(e);return}const n=d2(e.createdAt);let s;QD(n)?s="today":Ase(n)?s="yesterday":Ese(n)?s="thisWeek":Tse(n)?s="thisMonth":s="older",r[s]||(r[s]=[]),r[s].push(e)}),r},Xhe={today:"",yesterday:"",thisWeek:" ",thisMonth:" ",older:""},Qhe=["today","yesterday","thisWeek","thisMonth","older"];function Yhe(){const{toast:t}=wn(),{user:r}=Gl(),[e,n]=P.useState(new Set),[s,a]=P.useState(new Set(["today","yesterday","thisWeek"])),[i,c]=P.useState(!1),u=r?.id||"";r?.role==="admin"||r?.role;const o=[{key:"status",label:"",type:"select",placeholder:" ",defaultValue:"all",options:[{value:"all",label:""},{value:"unread",label:" "},{value:"read",label:""}]},{key:"type",label:"",type:"select",placeholder:" ",defaultValue:"all",options:[{value:"all",label:" "},{value:"system",label:""},{value:"security",label:""},{value:"maintenance",label:""},{value:"task",label:""},{value:"announcement",label:""},{value:"payroll",label:""},{value:"safety",label:""}]},{key:"priority",label:"",type:"select",placeholder:" ",defaultValue:"all",options:[{value:"all",label:" "},{value:"1",label:""},{value:"2",label:""},{value:"3",label:""},{value:"4",label:""},{value:"5",label:""}]},{key:"dateRange",label:" ",type:"date-range"}],{searchValue:d,filterValues:p,onSearchChange:f,onFilterChange:h,onReset:g}=zb({status:"all",type:"all",priority:"all",dateRange:void 0}),{data:y,isLoading:m,refetch:v}=Pt({queryKey:["/api/notifications",u],queryFn:async()=>{try{const _=await qe(`/api/notifications?userId=${u}&limit=100`);return _.data||_||{notifications:[],unreadCount:0,total:0}}catch{return{notifications:[],unreadCount:0,total:0}}},refetchInterval:3e4,enabled:!!r}),x=P.useMemo(()=>{let _=y?.notifications||[];if(_=_.map(k=>({...k,priority:Khe(k.priority),status:k.status||(k.isRead?"read":"unread")})),d){const k=d.toLowerCase();_=_.filter(N=>N.title.toLowerCase().includes(k)||(N.body||N.message||"").toLowerCase().includes(k))}p.status&&p.status!=="all"&&(_=_.filter(k=>k.status===p.status)),p.type&&p.type!=="all"&&(_=_.filter(k=>k.type===p.type)),p.priority&&p.priority!=="all"&&(_=_.filter(k=>k.priority===parseInt(p.priority)));const S=p.dateRange;if(S?.from){const k=S.from,N=S.to||new Date;_=_.filter(D=>{if(!D.createdAt)return!1;const L=d2(D.createdAt);return L>=k&&L<=N})}return _},[y,d,p]),j=P.useMemo(()=>Ghe(x),[x]),T=P.useMemo(()=>({total:x.length,unread:x.filter(_=>_.status==="unread").length,critical:x.filter(_=>_.priority===1).length,high:x.filter(_=>_.priority===2).length}),[x]),E=$t({mutationFn:async _=>await qe(`/api/notifications/${_}/mark-read`,"POST"),onMutate:async _=>{await xn.cancelQueries({queryKey:["/api/notifications",u]});const S=xn.getQueryData(["/api/notifications",u]);return xn.setQueryData(["/api/notifications",u],k=>k&&{...k,notifications:k.notifications.map(N=>N.id===_?{...N,isRead:!0,status:"read"}:N),unreadCount:Math.max(0,(k.unreadCount||0)-1)}),{previousData:S}},onError:(_,S,k)=>{k?.previousData&&xn.setQueryData(["/api/notifications",u],k.previousData)},onSettled:()=>{xn.refetchQueries({queryKey:["/api/notifications"],exact:!1})}}),B=$t({mutationFn:async()=>await qe("/api/notifications/mark-all-read","POST"),onMutate:async()=>{await xn.cancelQueries({queryKey:["/api/notifications",u]});const _=xn.getQueryData(["/api/notifications",u]);return xn.setQueryData(["/api/notifications",u],S=>S&&{...S,notifications:S.notifications.map(k=>({...k,isRead:!0,status:"read"})),unreadCount:0}),{previousData:_}},onError:(_,S,k)=>{k?.previousData&&xn.setQueryData(["/api/notifications",u],k.previousData)},onSettled:()=>{xn.refetchQueries({queryKey:["/api/notifications"],exact:!1}),t({title:" ",description:"    "}),n(new Set)}}),W=$t({mutationFn:async _=>(await Promise.all(_.map(S=>fetch(`/api/notifications/${S}/mark-read`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}))),_),onMutate:async _=>{await xn.cancelQueries({queryKey:["/api/notifications",u]});const S=xn.getQueryData(["/api/notifications",u]);return xn.setQueryData(["/api/notifications",u],k=>{if(!k)return k;const N=new Set(_);return{...k,notifications:k.notifications.map(D=>N.has(D.id)?{...D,isRead:!0,status:"read"}:D),unreadCount:Math.max(0,(k.unreadCount||0)-_.length)}}),{previousData:S}},onError:(_,S,k)=>{k?.previousData&&xn.setQueryData(["/api/notifications",u],k.previousData)},onSettled:()=>{xn.refetchQueries({queryKey:["/api/notifications"],exact:!1}),t({title:" ",description:`  ${e.size}  `}),n(new Set)}}),I=P.useCallback(_=>{n(S=>{const k=new Set(S);return k.has(_)?k.delete(_):k.add(_),k})},[]),R=P.useCallback(()=>{e.size===x.length?n(new Set):n(new Set(x.map(_=>_.id)))},[x,e.size]),$=P.useCallback(_=>{a(S=>{const k=new Set(S);return k.has(_)?k.delete(_):k.add(_),k})},[]),K=_=>{if(!_)return" ";const S=d2(_);return QD(S)?Nr(S,"HH:mm",{locale:Xs}):Nr(S,"dd MMM HH:mm",{locale:Xs})},H=({notification:_})=>{const S=CN[_.type]||CN.system,k=TN[_.priority]||TN[3],N=S.icon,D=_.status==="unread",L=e.has(_.id);return l.jsxs("div",{className:Pe("group relative flex items-start gap-3 p-4 rounded-xl border transition-all duration-200","hover:shadow-md active:scale-[0.99]",D?"bg-gradient-to-l from-blue-50/80 to-white dark:from-blue-900/10 dark:to-slate-900 border-blue-200 dark:border-blue-800":"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-700",L&&"ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-slate-900"),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(im,{checked:L,onCheckedChange:()=>I(_.id),className:"mt-1"}),l.jsx("div",{className:Pe("flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-transform group-hover:scale-105",S.bgColor),children:l.jsx(N,{className:Pe("h-5 w-5",S.color)})})]}),l.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("h3",{className:Pe("text-sm font-semibold leading-tight",D?"text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-300"),children:_.title}),D&&l.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsx(Zr,{variant:"outline",className:Pe("text-xs h-5 px-1.5",k.bgColor,k.color),children:k.label}),l.jsx(Zr,{variant:"outline",className:Pe("text-xs h-5 px-1.5",S.bgColor,S.color),children:S.label})]})]}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 leading-relaxed",children:_.body||_.message||"  "}),l.jsxs("div",{className:"flex items-center justify-between pt-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500 dark:text-slate-400",children:[l.jsx(ms,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:K(_.createdAt)})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[D&&l.jsxs(Oe,{size:"sm",variant:"ghost",className:"h-7 px-2 text-xs gap-1",onClick:()=>E.mutate(_.id),disabled:E.isPending,children:[l.jsx(Bc,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"hidden sm:inline",children:""})]}),_.actionRequired&&l.jsxs(Zr,{className:"bg-amber-100 text-amber-700 border-amber-200 text-xs",children:[l.jsx($l,{className:"h-3 w-3 ml-1"})," "]})]})]})]})]})},M=({groupKey:_,notifications:S})=>{const k=s.has(_),N=S.filter(D=>D.status==="unread").length;return l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>$(_),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-2",children:[k?l.jsx(rs,{className:"h-4 w-4 text-slate-500"}):l.jsx(Of,{className:"h-4 w-4 text-slate-500"}),l.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:Xhe[_]}),l.jsx(Zr,{variant:"secondary",className:"text-xs h-5",children:S.length}),N>0&&l.jsxs(Zr,{className:"bg-blue-500 text-white text-xs h-5",children:[N," "]})]})}),k&&l.jsx("div",{className:"space-y-2 animate-in slide-in-from-top-2 duration-200",children:S.map(D=>l.jsx(H,{notification:D},D.id))})]})},F=()=>l.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(_=>l.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[l.jsx(un,{className:"w-10 h-10 rounded-xl"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(un,{className:"h-4 w-3/4"}),l.jsx(un,{className:"h-3 w-full"}),l.jsx(un,{className:"h-3 w-1/2"})]})]},_))}),C=()=>l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[l.jsx("div",{className:"w-20 h-20 rounded-2xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-4",children:l.jsx(hf,{className:"h-10 w-10 text-slate-400"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"  "}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center max-w-sm",children:d||Object.values(p).some(_=>_&&_!=="all")?"       ":"     "}),(d||Object.values(p).some(_=>_&&_!=="all"))&&l.jsxs(Oe,{variant:"outline",className:"mt-4",onClick:g,children:[l.jsx(Es,{className:"h-4 w-4 ml-2"})," "]})]});return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900",dir:"rtl",children:l.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-6 max-w-4xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg",children:l.jsx(hf,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900 dark:text-white",children:""}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:T.unread>0?`${T.unread}  `:"  "})]})]}),l.jsxs(Oe,{variant:"ghost",size:"sm",onClick:()=>v(),className:"gap-2",children:[l.jsx(Bi,{className:Pe("h-4 w-4",m&&"animate-spin")}),l.jsx("span",{className:"hidden sm:inline",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 mb-4 sm:mb-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(hf,{className:"h-5 w-5 text-blue-500"}),l.jsx("span",{className:"text-lg sm:text-xl font-bold text-slate-900 dark:text-white",children:T.total})]}),l.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:""})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Yu,{className:"h-5 w-5 text-orange-500"}),l.jsx("span",{className:"text-lg sm:text-xl font-bold text-slate-900 dark:text-white",children:T.unread})]}),l.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:" "})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Da,{className:"h-5 w-5 text-red-500"}),l.jsx("span",{className:"text-lg sm:text-xl font-bold text-slate-900 dark:text-white",children:T.critical})]}),l.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:""})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(a_,{className:"h-5 w-5 text-amber-500"}),l.jsx("span",{className:"text-lg sm:text-xl font-bold text-slate-900 dark:text-white",children:T.high})]}),l.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:" "})]})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm mb-4",children:l.jsx(V4,{searchValue:d,onSearchChange:f,searchPlaceholder:"  ...",filters:o,filterValues:p,onFilterChange:h,onReset:g,showActiveFilters:!0,className:"p-2"})}),e.size>0&&l.jsxs("div",{className:"sticky top-0 z-10 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-xl p-3 mb-4 flex flex-wrap items-center justify-between gap-2 animate-in slide-in-from-top-2 duration-200",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(im,{checked:e.size===x.length,onCheckedChange:R}),l.jsxs("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:["  ",e.size," "]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Oe,{size:"sm",variant:"outline",className:"gap-1.5 text-xs h-8",onClick:()=>W.mutate(Array.from(e)),disabled:W.isPending,children:[l.jsx(Ij,{className:"h-3.5 w-3.5"})," "]}),l.jsxs(Oe,{size:"sm",variant:"ghost",className:"gap-1.5 text-xs h-8",onClick:()=>n(new Set),children:[l.jsx(Es,{className:"h-3.5 w-3.5"})," "]})]})]}),T.unread>0&&e.size===0&&l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>B.mutate(),disabled:B.isPending,className:"gap-1.5",children:[l.jsx(Ij,{className:"h-4 w-4"}),"  "]})}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsx(ru,{className:"h-[calc(100vh-420px)] sm:h-[calc(100vh-380px)]",children:l.jsx("div",{className:"p-3 sm:p-4 space-y-4",children:m?l.jsx(F,{}):x.length===0?l.jsx(C,{}):Qhe.filter(_=>j[_]?.length>0).map(_=>l.jsx(M,{groupKey:_,notifications:j[_]},_))})})}),l.jsxs("div",{className:"mt-4 text-center text-xs text-slate-500 dark:text-slate-400",children:[" : ",Nr(new Date,"HH:mm:ss",{locale:Xs})]})]})})}function Zhe({totalIncome:t,totalExpenses:r,remainingBalance:e,materialExpensesCredit:n,details:s}){const a=typeof t=="number"?t:parseFloat(String(t||"0"))||0,i=typeof r=="number"?r:parseFloat(String(r||"0"))||0,c=typeof e=="number"?e:parseFloat(String(e||"0"))||0,u=typeof n=="number"?n:parseFloat(String(n||"0"))||0;s?.workerWages,s?.materialCosts,s?.transportation,s?.miscExpenses,s?.workerTransfers,s?.outgoingProjectTransfers;const o=a,d=100,p=o>0?i/o*100:0,f=c>0?"text-green-400":c<0?"text-red-400":"text-yellow-400",h=c>0?"":c<0?"":"";return l.jsx("div",{className:"mt-4 space-y-3",children:l.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/30 rounded-lg p-4 backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h4",{className:"font-bold text-lg text-foreground flex items-center gap-2",children:[l.jsx(Sr,{className:"h-5 w-5 text-primary"})," "]}),l.jsx("div",{className:`text-2xl font-bold ${f}`,children:h})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[l.jsxs("div",{className:"bg-green-50 dark:bg-green-950/30 rounded-lg p-3 border border-green-200 dark:border-green-800",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Pn,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),l.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:""})]}),l.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100 arabic-numbers",children:Ye(a)}),o>0&&l.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[d.toFixed(1),"%  "]})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-950/30 rounded-lg p-3 border border-red-200 dark:border-red-800",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(pa,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),l.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:""})]}),l.jsx("div",{className:"text-lg font-bold text-red-900 dark:text-red-100 arabic-numbers",children:Ye(i)}),o>0&&l.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:[p.toFixed(1),"%  "]})]})]}),s&&l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-4",children:[l.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[l.jsx(On,{className:"h-3 w-3"}),""]}),l.jsx("div",{className:"text-xs font-bold",children:Ye(s.workerWages||0)})]}),l.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[l.jsx(jn,{className:"h-3 w-3"}),""]}),l.jsx("div",{className:"text-xs font-bold",children:Ye(s.materialCosts||0)})]}),l.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[l.jsx(Hs,{className:"h-3 w-3"}),""]}),l.jsx("div",{className:"text-xs font-bold",children:Ye(s.transportation||0)})]}),l.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[l.jsx(Sr,{className:"h-3 w-3"})," "]}),l.jsx("div",{className:"text-xs font-bold",children:Ye(s.workerTransfers||0)})]}),l.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[l.jsx(Ag,{className:"h-3 w-3"})," "]}),l.jsx("div",{className:"text-xs font-bold",children:Ye(s.outgoingProjectTransfers||0)})]}),l.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[l.jsx(Da,{className:"h-3 w-3"}),""]}),l.jsx("div",{className:"text-xs font-bold",children:Ye(s.miscExpenses||0)})]})]}),o>0&&l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:[l.jsx("div",{className:"bg-green-500",style:{width:`${d}%`}}),l.jsx("div",{className:"bg-red-500",style:{width:`${p}%`}})]})}),l.jsxs("div",{className:"bg-gradient-to-r from-primary/20 to-primary/10 rounded-lg p-3 border border-primary/30 mb-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(eq,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"font-medium text-sm text-muted-foreground",children:" "})]}),l.jsx("div",{className:`text-2xl font-bold arabic-numbers ${f}`,children:Ye(c)})]}),l.jsx("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:c>0?"  ":c<0?"  ":"  "})]}),u>0&&l.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 rounded-lg p-3 border border-orange-200 dark:border-orange-800",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ms,{className:"h-5 w-5 text-orange-500"}),l.jsx("span",{className:"font-medium text-sm text-orange-700 dark:text-orange-300",children:"  (   )"})]}),l.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400 arabic-numbers",children:Ye(u)})]})})]})})}function Jhe({projectId:t,selectedDate:r}){const[e,n]=P.useState(""),[s,a]=P.useState(""),[i,c]=P.useState(null),[u,o]=P.useState({}),[d,p]=P.useState(!1),{toast:f}=wn(),h=xs(),{setFloatingAction:g}=jo(),y=async(I,R)=>{if(!(!R||R.trim().length<2))try{await qe("/api/autocomplete","POST",{category:I,value:R.trim(),usageCount:1}),console.log(`     : ${I} = ${R.trim()}`)}catch($){console.warn(`Failed to save autocomplete value for ${I}:`,$)}},{data:m=[]}=Pt({queryKey:["/api/worker-misc-expenses",t,r],queryFn:async()=>{try{const I=await qe(`/api/worker-misc-expenses?projectId=${t}&date=${r}`,"GET");return I&&I.data&&Array.isArray(I.data)?I.data:Array.isArray(I)?I:[]}catch(I){return console.error("Error fetching worker misc expenses:",I),[]}},enabled:!!t});P.useEffect(()=>{p(m.length>0)},[m]);const v=$t({mutationFn:I=>qe("/api/worker-misc-expenses","POST",I),onSuccess:async()=>{e&&await y("workerMiscDescriptions",e),h.invalidateQueries({queryKey:["/api/worker-misc-expenses"]}),n(""),a(""),f({title:"  ",description:"    "})},onError:I=>{const R=I?.response?.data?.message||I?.message||"    ";console.error("Error creating misc expense:",I),f({title:"   ",description:R,variant:"destructive"})}}),x=$t({mutationFn:({id:I,data:R})=>qe(`/api/worker-misc-expenses/${I}`,"PATCH",R),onSuccess:async()=>{e&&await y("workerMiscDescriptions",e),h.invalidateQueries({queryKey:["/api/worker-misc-expenses"]}),E(),f({title:"  ",description:"   "})},onError:I=>{const R=I?.response?.data?.message||I?.message||"    ";console.error("Error updating misc expense:",I),f({title:"   ",description:R,variant:"destructive"})}}),j=$t({mutationFn:I=>qe(`/api/worker-misc-expenses/${I}`,"DELETE"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/worker-misc-expenses"]}),f({title:"  ",description:"   "})},onError:I=>{const R=I?.response?.data?.message||I?.message||"    ";console.error("Error deleting misc expense:",I),f({title:"   ",description:R,variant:"destructive"})}}),T=async()=>{if(!t||t==="all"){f({title:"  ",description:"      ' '.     .",variant:"destructive"});return}if(!e.trim()||!s){f({title:" ",description:"   ",variant:"destructive"});return}e&&e.trim().length>=2&&await y("workerMiscDescriptions",e),i?x.mutate({id:i,data:{description:e,amount:s}}):v.mutate({description:e,amount:s,projectId:t,date:r})},E=()=>{n(""),a(""),c(null)},B=I=>{n(I.description),a(I.amount),c(I.id)},W=Array.isArray(m)?m.reduce((I,R)=>I+parseFloat(R.amount||"0"),0):0;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(ss,{value:e,onChange:n,category:"workerMiscDescriptions",placeholder:""}),l.jsx(gt,{type:"number",inputMode:"decimal",value:s,onChange:I=>a(I.target.value),placeholder:"",className:"text-center arabic-numbers"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Oe,{onClick:T,size:"sm",className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 disabled:opacity-50",disabled:v.isPending||x.isPending,"data-testid":"button-add-misc-expense",children:v.isPending||x.isPending?l.jsx(Ln,{className:"h-4 w-4 animate-spin"}):i?l.jsx(Cc,{className:"h-4 w-4"}):l.jsx(cs,{className:"h-4 w-4"})}),i&&l.jsx(Oe,{onClick:E,size:"sm",variant:"outline",disabled:v.isPending||x.isPending,"data-testid":"button-cancel-edit-misc-expense",children:""})]}),Array.isArray(m)&&m.map((I,R)=>l.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[l.jsx("span",{className:"text-sm flex-1",children:I.description}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium arabic-numbers",children:Ye(I.amount)}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(Oe,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>B(I),children:l.jsx(_l,{className:"h-3 w-3"})}),l.jsx(Oe,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>j.mutate(I.id),disabled:j.isPending,children:l.jsx(ys,{className:"h-3 w-3"})})]})]})]},I.id||R)),Array.isArray(m)&&m.length>0&&l.jsxs("div",{className:"text-left mt-2 pt-2 border-t",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-bold text-purple-600 arabic-numbers",children:Ye(W.toString())})]})]})}class E2 extends P.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(r){return console.error(" [ErrorBoundary]   :",r),{hasError:!0,error:r}}componentDidCatch(r,e){console.error(" [ErrorBoundary]  :",r,e),console.error(" [ErrorBoundary] Stack trace:",r.stack)}render(){return this.state.hasError?this.props.fallback||l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:l.jsxs("div",{className:"text-center p-8",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200",children:"    "}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"      "}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 mr-4",children:"  "}),l.jsx("button",{onClick:()=>{localStorage.clear(),window.location.href="/login"},className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"  "})]}),!1]})}):this.props.children}}function epe(){const{toast:t}=wn(),[,r]=Rs(),{selectedProjectId:e,isAllProjects:n}=ko(),[s,a]=P.useState(null),[i,c]=P.useState("0"),[u,o]=P.useState(!0),[d,p]=P.useState(""),[f,h]=P.useState({dateRange:void 0,type:"all",transportCategory:"all",miscCategory:"all"}),g=P.useCallback((ue,Le)=>{if(ue==="date")if(Le instanceof Date){const yt=Le.getFullYear(),cr=String(Le.getMonth()+1).padStart(2,"0"),Ur=String(Le.getDate()).padStart(2,"0");a(`${yt}-${cr}-${Ur}`)}else a(null);else ue==="dateRange"?(h(yt=>({...yt,[ue]:Le})),Le?.from&&a(null)):h(yt=>({...yt,[ue]:Le}))},[]),y=P.useCallback(()=>{p(""),h({dateRange:void 0,type:"all"}),a(qs()),t({title:"  ",description:"      "})},[t]),[m,v]=P.useState(!1),[x,j]=P.useState(!1),[T,E]=P.useState(),[B,W]=P.useState(!1),[I,R]=P.useState(!1),[$,K]=P.useState(!1),[H,M]=P.useState(!1),[F,C]=P.useState(!1),[_,S]=P.useState(!1),[k,N]=P.useState(!1),[D,L]=P.useState(!0),[V,Q]=P.useState(!1),{data:Y=[],isLoading:re}=Pt({queryKey:["/api/worker-misc-expenses",e,s],queryFn:async()=>{if(!e&&!n||!s)return[];const Le=await qe(`/api/worker-misc-expenses?projectId=${n?"all":e}&date=${s}`,"GET");return Array.isArray(Le)?Le:Le?.data||[]},enabled:(!!e||n)&&!!s});P.useEffect(()=>{!re&&Y.length>0?Q(!0):Q(!1)},[Y.length,re,s]);const[O,Z]=P.useState(""),[U,z]=P.useState(""),[G,ae]=P.useState(""),[pe,de]=P.useState(""),[ge,te]=P.useState(null),[oe,ne]=P.useState(),[he,ce]=P.useState(""),[ie,ee]=P.useState(""),[se,le]=P.useState(""),[ve,_e]=P.useState(null),[Te,Fe]=P.useState("worker_transport"),[Be,ze]=P.useState(""),[Je,ft]=P.useState(""),[bt,rt]=P.useState(""),[we,me]=P.useState(""),[Ke,He]=P.useState(null),[It,Zt]=P.useState(""),[kt,Jt]=P.useState(""),[rr,Mt]=P.useState(""),Ft=xs(),{setFloatingAction:_r}=jo(),Vt=()=>{if(!s)return;const ue=new Date(s);ue.setDate(ue.getDate()+1);const Le=ue.getFullYear(),yt=String(ue.getMonth()+1).padStart(2,"0"),cr=String(ue.getDate()).padStart(2,"0");a(`${Le}-${yt}-${cr}`)},kr=()=>{if(!s)return;const ue=new Date(s);ue.setDate(ue.getDate()-1);const Le=ue.getFullYear(),yt=String(ue.getMonth()+1).padStart(2,"0"),cr=String(ue.getDate()).padStart(2,"0");a(`${Le}-${yt}-${cr}`)},Bt=async(ue,Le)=>{if(!(!Le||Le.trim().length<2))try{await qe("/api/autocomplete","POST",{category:ue,value:Le.trim(),usageCount:1}),console.log(`     : ${ue} = ${Le.trim()}`)}catch(yt){console.warn(`Failed to save autocomplete value for ${ue}:`,yt)}};P.useEffect(()=>{a(qs())},[]),P.useEffect(()=>(_r(null),()=>_r(null)),[_r]);const er=async()=>{const ue=[];U&&U.trim().length>=2&&ue.push(Bt("senderNames",U)),G&&G.trim().length>=1&&ue.push(Bt("transferNumbers",G)),pe&&pe.trim().length>=2&&ue.push(Bt("transferTypes",pe)),ue.length>0&&await Promise.all(ue)},xr={staleTime:1e3*60*10,gcTime:1e3*60*60,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1,placeholderData:ue=>ue},{data:nr=[],error:Kt}=Pt({queryKey:["/api/workers"],queryFn:async()=>{try{const ue=await qe("/api/workers","GET");return Array.isArray(ue?.data)?ue.data:Array.isArray(ue)?ue:[]}catch{return[]}},...xr}),{data:Se=[],error:Re}=Pt({queryKey:["/api/projects"],queryFn:async()=>{try{const ue=await qe("/api/projects","GET");return Array.isArray(ue?.data)?ue.data:Array.isArray(ue)?ue:[]}catch{return[]}},...xr}),We=$t({mutationFn:ue=>qe("/api/worker-attendance","POST",ue),onSuccess:()=>{ut(),ft(""),rt(""),me(""),ze(""),t({title:"  ",description:"    "})},onError:async ue=>{try{const Le={workerId:Be,days:Je?parseFloat(Je):0,amount:bt?parseFloat(bt):0,notes:we,selectedDate:s,projectId:e};await M1("create","/api/worker-attendance",Le),t({title:"  ",description:"   -    ",variant:"default"})}catch{t({title:"",description:ue?.message||"    ",variant:"destructive"})}}}),ct=$t({mutationFn:ue=>qe(`/api/worker-attendance/${ue.id}`,"PATCH",ue),onSuccess:()=>{ut(),He(null),Zt(""),Jt(""),Mt(""),t({title:" ",description:"    "})},onError:ue=>{t({title:"",description:ue?.message||"    ",variant:"destructive"})}}),Ut=()=>{if(!e||e==="all"||n){t({title:"  ",description:"      ' '.     .",variant:"destructive"});return}if(!Be||!Je&&!bt){t({title:" ",description:"        ",variant:"destructive"});return}const ue=nr.find(Kr=>Kr.id===Be);if(!ue){t({title:"",description:"     ",variant:"destructive"});return}const Le=parseFloat(String(ue.dailyWage||"0")),yt=parseFloat(Je||"0"),cr=parseFloat(bt||"0"),Ur=Le*yt,st={workerId:Be,projectId:e,attendanceDate:s||qs(),workDays:yt,dailyWage:Le.toString(),actualWage:Ur.toString(),totalPay:Ur.toString(),paidAmount:bt||"0",remainingAmount:(Ur-cr).toString(),workDescription:we||(yt>0?" ":"  "),notes:we,wellId:T||null,paymentType:cr>0?cr>=Ur&&Ur>0?"full":"partial":"credit"};console.log(" [DailyExpenses]   :",st),We.mutate(st)},{data:dt=[]}=Pt({queryKey:["/api/materials"],queryFn:async()=>{try{const ue=await qe("/api/materials","GET");return ue&&ue.data&&Array.isArray(ue.data)?ue.data:[]}catch(ue){return console.warn("     :",ue),[]}},staleTime:1e3*60*30,gcTime:1e3*60*60,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1}),{data:Gt=[],refetch:Wt}=Pt({queryKey:["/api/daily-project-transfers",n?"all":e,s],queryFn:async()=>{try{const Le=await qe(`/api/daily-project-transfers?projectId=${n?"all":e}&date=${s||""}`,"GET");console.log(" [ProjectTransfers]  API  :",Le);let yt=[];return Le&&Le.data&&Array.isArray(Le.data)?yt=Le.data:Array.isArray(Le)&&(yt=Le),Array.isArray(yt)?(console.log(` [ProjectTransfers]   ${yt.length}   ${s}   `),yt):[]}catch(ue){return console.error("Error fetching daily project transfers:",ue),[]}},enabled:!!e&&!!s&&u,staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:!0,placeholderData:void 0}),xe=Array.isArray(Gt)?Gt:[],{summary:Ue,allProjects:at,totals:mt,isLoading:qt,refetch:Wr}=dh({projectId:e==="all"?"all":e,date:s&&s!=="null"?s:void 0,dateFrom:f.dateRange?.from?io(f.dateRange.from):void 0,dateTo:f.dateRange?.to?io(f.dateRange.to):void 0,enabled:n||!!e}),vt=P.useMemo(()=>n?mt:{totalIncome:Ue?.income?.totalIncome||0,totalCashExpenses:Ue?.expenses?.totalCashExpenses||0,totalAllExpenses:Ue?.expenses?.totalAllExpenses||0,totalExpenses:Ue?.expenses?.totalAllExpenses||0,cashBalance:Ue?.cashBalance||0,totalBalance:Ue?.totalBalance||0,currentBalance:Ue?.totalBalance||0,totalWorkers:Ue?.workers?.totalWorkers||0,activeWorkers:Ue?.workers?.activeWorkers||0,materialExpensesCredit:Ue?.expenses?.materialExpensesCredit||0,carriedForwardBalance:Ue?.income?.carriedForwardBalance||0,totalWorkerWages:Ue?.expenses?.workerWages||0,totalTransportation:Ue?.expenses?.transportExpenses||0,totalMaterialCosts:Ue?.expenses?.materialExpenses||0,totalWorkerTransfers:Ue?.expenses?.workerTransfers||0,totalMiscExpenses:Ue?.expenses?.miscExpenses||0,totalFundTransfers:Ue?.income?.fundTransfers||0,incomingProjectTransfers:Ue?.income?.incomingProjectTransfers||0,outgoingProjectTransfers:Ue?.expenses?.outgoingProjectTransfers||0,remainingBalance:Ue?.totalBalance||0},[n,mt,Ue]);P.useMemo(()=>vt.totalIncome,[vt]);const yn=P.useMemo(()=>vt.totalIncome+parseFloat(String(vt.carriedForwardBalance||0)),[vt]);P.useMemo(()=>vt.totalCashExpenses,[vt]);const Nn=P.useMemo(()=>yn-vt.totalCashExpenses,[yn,vt.totalCashExpenses]),{data:be,isLoading:Ae,error:Xe,refetch:Ze}=Pt({queryKey:["/api/projects",n?"all-projects":e,s?"daily-expenses":"all-expenses",s],queryFn:async()=>{try{if(n){const Le=s&&s!=="null"?`/api/projects/all-projects-total?date=${s}`:"/api/projects/all-projects-total",yt=await qe(Le,"GET"),cr=s&&s!=="null"?`/api/projects/all-projects-expenses?date=${s}`:"/api/projects/all-projects-expenses",Ur=await qe(cr,"GET");return Ur&&Ur.success&&Ur.data?yt&&yt.success&&yt.data?{...Ur.data,carriedForwardBalance:yt.data.carriedForwardBalance}:Ur.data:null}if(!e)return null;if(!s||s==="null"){const Le=await qe(`/api/projects/${e}/all-expenses`,"GET");return Le&&Le.success&&Le.data?Le.data:null}const ue=await qe(`/api/projects/${e}/daily-expenses/${s}`,"GET");return ue&&ue.success&&ue.data?ue.data:null}catch(ue){throw console.error("   :",ue),ue}},enabled:n||!!e,retry:1,staleTime:1e3*60*10,gcTime:1e3*60*60,refetchOnMount:!1,refetchOnWindowFocus:!1,placeholderData:ue=>ue}),Rt=P.useMemo(()=>be?.carriedForwardBalance!==void 0?be.carriedForwardBalance:vt.carriedForwardBalance||0,[vt.carriedForwardBalance,be]),ot=P.useMemo(()=>{const ue=be?.carriedForwardBalance!==void 0?be.carriedForwardBalance:vt.carriedForwardBalance||0;return vt.totalIncome+ue-vt.totalCashExpenses},[vt.totalIncome,vt.totalCashExpenses,vt.carriedForwardBalance,be]);P.useMemo(()=>({totalIncome:vt.totalIncome,totalExpenses:vt.totalCashExpenses,remainingBalance:ot,materialExpensesCredit:vt.materialExpensesCredit,carriedForward:Rt,details:{workerWages:vt.totalWorkerWages,materialCosts:vt.totalMaterialCosts,transportation:vt.totalTransportation,miscExpenses:vt.totalMiscExpenses,workerTransfers:vt.totalWorkerTransfers,outgoingProjectTransfers:vt.outgoingProjectTransfers}}),[vt,ot,Rt]);const ut=P.useCallback(()=>{Ft.invalidateQueries({queryKey:["/api/projects"]}),Ze(),Wt(),Wr()},[Ft,Ze,Wt,Wr]),{todayFundTransfers:yr,todayWorkerAttendance:ar,todayTransportation:Yt,todayMaterialPurchases:Ot,todayWorkerTransfers:ur,todayMiscExpenses:Fr}=P.useMemo(()=>{if(!be)return{todayFundTransfers:[],todayWorkerAttendance:[],todayTransportation:[],todayMaterialPurchases:[],todayWorkerTransfers:[],todayMiscExpenses:[]};const ue=be.data||be;return{todayFundTransfers:Array.isArray(ue.fundTransfers)?ue.fundTransfers:[],todayWorkerAttendance:Array.isArray(ue.workerAttendance)?ue.workerAttendance:[],todayTransportation:Array.isArray(ue.transportationExpenses)?ue.transportationExpenses:[],todayMaterialPurchases:Array.isArray(ue.materialPurchases)?ue.materialPurchases:[],todayWorkerTransfers:Array.isArray(ue.workerTransfers)?ue.workerTransfers:[],todayMiscExpenses:Array.isArray(ue.miscExpenses)?ue.miscExpenses:[]}},[be]),Rr=Array.isArray(ar)?ar:[],Gr=Array.isArray(Yt)?Yt:[],sn=Array.isArray(Ot)?Ot:[],dn=Array.isArray(ur)?ur:[],Bn=Array.isArray(Fr)?Fr:[],Kn=Array.isArray(yr)?yr:[];P.useEffect(()=>{E(void 0),ne(void 0)},[e]),P.useEffect(()=>{R(Kn.length>0),K(Gr.length>0),M(Rr.length>0),C(sn.length>0),S(dn.length>0),N(xe.length>0),Q(Bn.length>0)},[Kn.length,Gr.length,Rr.length,sn.length,dn.length,xe.length,Bn.length]);const gi=P.useMemo(()=>{if(!d.trim())return Kn;const ue=d.toLowerCase().trim();return Kn.filter(Le=>Le.senderName?.toLowerCase().includes(ue)||Le.transferType?.toLowerCase().includes(ue)||Le.transferNumber?.toLowerCase().includes(ue)||Le.amount?.toString().includes(ue))},[Kn,d]),yi=P.useMemo(()=>{if(!d.trim())return Rr;const ue=d.toLowerCase().trim();return Rr.filter(Le=>nr.find(cr=>cr.id===Le.workerId)?.name?.toLowerCase().includes(ue)||Le.workDescription?.toLowerCase().includes(ue)||Le.notes?.toLowerCase().includes(ue))},[Rr,nr,d]),La=P.useMemo(()=>{if(!d.trim())return Gr;const ue=d.toLowerCase().trim();return Gr.filter(Le=>Le.description?.toLowerCase().includes(ue)||Le.notes?.toLowerCase().includes(ue)||Le.amount?.toString().includes(ue))},[Gr,d]),Hr=P.useMemo(()=>{if(!d.trim())return sn;const ue=d.toLowerCase().trim();return sn.filter(Le=>dt.find(cr=>cr.id===Le.materialId)?.name?.toLowerCase().includes(ue)||Le.supplier?.toLowerCase().includes(ue)||Le.notes?.toLowerCase().includes(ue)||Le.totalAmount?.toString().includes(ue))},[sn,dt,d]),Tr=P.useMemo(()=>{if(!d.trim())return dn;const ue=d.toLowerCase().trim();return dn.filter(Le=>nr.find(cr=>cr.id===Le.workerId)?.name?.toLowerCase().includes(ue)||Le.notes?.toLowerCase().includes(ue)||Le.amount?.toString().includes(ue))},[dn,nr,d]),_s=P.useMemo(()=>{if(!d.trim())return Bn;const ue=d.toLowerCase().trim();return Bn.filter(Le=>Le.description?.toLowerCase().includes(ue)||Le.notes?.toLowerCase().includes(ue)||Le.amount?.toString().includes(ue))},[Bn,d]),{data:Zs}=Pt({queryKey:["/api/projects",e,"previous-balance",s],queryFn:async()=>{try{const ue=await qe(`/api/projects/${e}/previous-balance/${s}`,"GET");return ue&&ue.data&&ue.data.balance!==void 0?ue.data.balance||"0":ue?.balance||"0"}catch(ue){return console.error("Error fetching previous balance:",ue),"0"}},enabled:!!e&&!!s&&!n,staleTime:0,gcTime:0,refetchOnMount:"always",placeholderData:void 0});P.useEffect(()=>{Zs!=null&&(console.log("  carriedForward:",{previousBalance:Zs,type:typeof Zs}),c(Zs))},[Zs]),P.useEffect(()=>{(e||n)&&Ft.invalidateQueries({queryKey:["/api/projects"],refetchType:"none"})},[e,s,n,Ft]),P.useEffect(()=>{(async()=>{const Le=[" "," "," "," ","",""];for(const yt of Le)try{await Bt("transferTypes",yt)}catch(cr){console.log(`Type ${yt} initialization skipped:`,cr)}})()},[]);const bi=$t({mutationFn:async ue=>{await er();const Le={...ue,wellId:oe||null};return qe("/api/fund-transfers","POST",Le)},onSuccess:async ue=>{ut(),Ft.invalidateQueries({queryKey:["/api/autocomplete"]}),t({title:"  ",description:"    "}),Z(""),z(""),ae(""),de("")},onError:async ue=>{await er(),Ft.invalidateQueries({queryKey:["/api/autocomplete"]}),console.error("   :",ue);let Le="    ";ue?.response?.data?.message?Le=ue.response.data.message:ue?.message?Le=ue.message:typeof ue=="string"&&(Le=ue);try{const yt={fundAmount:O?parseFloat(O):0,senderName:U,transferNumber:G,transferType:pe,selectedDate:s,projectId:e,wellId:oe||null};await M1("create","/api/fund-transfers",yt),t({title:"  ",description:`${Le} -    `,variant:"default"})}catch{t({title:"   ",description:Le,variant:"destructive"})}}}),br=$t({mutationFn:async ue=>{await Promise.all([Bt("transportDescriptions",he),Bt("notes",se)]);const Le={...ue,wellId:T||null};return qe("/api/transportation-expenses","POST",Le)},onSuccess:async ue=>{ut(),Ft.invalidateQueries({queryKey:["/api/autocomplete"]}),t({title:"  ",description:"    "}),ce(""),ee(""),le("")},onError:async ue=>{await Promise.all([Bt("transportDescriptions",he),Bt("notes",se)]),Ft.invalidateQueries({queryKey:["/api/autocomplete"]});try{const Le={description:he,amount:ie?parseFloat(ie):0,notes:se,selectedDate:s,projectId:e,wellId:T||null};await M1("create","/api/transportation-expenses",Le),t({title:"  ",description:"   -    ",variant:"default"})}catch{t({title:"   ",description:ue?.message||"     ",variant:"destructive"})}}}),Js=$t({mutationFn:ue=>qe("/api/daily-expense-summaries","POST",ue),onSuccess:()=>{ut(),t({title:" ",description:"     "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),xa=$t({mutationFn:ue=>qe(`/api/fund-transfers/${ue}`,"DELETE"),onSuccess:(ue,Le)=>{Ft.setQueryData(["/api/projects",e,"daily-expenses",s],yt=>yt&&{...yt,fundTransfers:yt.fundTransfers?.filter(cr=>cr.id!==Le)||[]}),ut(),t({title:" ",description:"   "})},onError:ue=>{console.error("   :",ue);let Le="    ";ue?.response?.data?.message?Le=ue.response.data.message:ue?.message&&(Le=ue.message),t({title:"   ",description:Le,variant:"destructive"})}}),ei=$t({mutationFn:ue=>qe(`/api/transportation-expenses/${ue}`,"DELETE"),onSuccess:(ue,Le)=>{Ft.setQueryData(["/api/projects",e,"daily-expenses",s],yt=>yt&&{...yt,transportationExpenses:yt.transportationExpenses?.filter(cr=>cr.id!==Le)||[]}),ut(),t({title:" ",description:"    "})},onError:ue=>{console.error("    :",ue);let Le="     ";ue?.response?.data?.message?Le=ue.response.data.message:ue?.response?.data?.error?Le=ue.response.data.error:ue?.message?Le=ue.message:typeof ue=="string"&&(Le=ue),t({title:"    ",description:Le,variant:"destructive"})}}),qi=$t({mutationFn:ue=>qe(`/api/material-purchases/${ue}`,"DELETE"),onMutate:()=>({projectId:e,date:s}),onSuccess:(ue,Le,yt)=>{const{projectId:cr,date:Ur}=yt||{projectId:e,date:s};Ft.setQueryData(["/api/projects",cr,"daily-expenses",Ur],st=>st&&{...st,materialPurchases:st.materialPurchases?.filter(Kr=>Kr.id!==Le)||[]}),Ft.invalidateQueries({queryKey:["/api/projects",cr,"daily-expenses",Ur]}),Ft.invalidateQueries({queryKey:["/api/projects",cr,"material-purchases"]}),Ft.invalidateQueries({queryKey:["/api/projects",cr,"previous-balance"]}),t({title:" ",description:"    "})},onError:ue=>{console.error("    :",ue);let Le="     ";ue?.response?.data?.message?Le=ue.response.data.message:ue?.response?.data?.error?Le=ue.response.data.error:ue?.message?Le=ue.message:typeof ue=="string"&&(Le=ue),t({title:"    ",description:Le,variant:"destructive"})}}),vi=$t({mutationFn:ue=>qe(`/api/project-fund-transfers/${ue}`,"DELETE"),onSuccess:()=>{ut(),Wt(),t({title:" ",description:"    "})},onError:ue=>{t({title:"",description:ue?.message||"    ",variant:"destructive"})}}),[xi,su]=P.useState(null),Hi=ue=>{r(`/project-transfers?edit=${ue.id}`)},ea=$t({mutationFn:ue=>qe(`/api/worker-attendance/${ue}`,"DELETE"),onMutate:()=>({projectId:e,date:s}),onSuccess:(ue,Le,yt)=>{const{projectId:cr,date:Ur}=yt||{projectId:e,date:s};Ft.setQueryData(["/api/projects",cr,"daily-expenses",Ur],st=>st&&{...st,workerAttendance:st.workerAttendance?.filter(Kr=>Kr.id!==Le)||[]}),Ft.invalidateQueries({queryKey:["/api/projects",cr,"daily-expenses",Ur]}),Ft.invalidateQueries({queryKey:["/api/projects",cr,"attendance"]}),Ft.invalidateQueries({queryKey:["/api/projects",cr,"previous-balance"]}),t({title:" ",description:"    "})},onError:ue=>{console.error("    :",ue);let Le="     ";ue?.response?.data?.message?Le=ue.response.data.message:ue?.response?.data?.error?Le=ue.response.data.error:ue?.message?Le=ue.message:typeof ue=="string"&&(Le=ue),t({title:"    ",description:Le,variant:"destructive"})}}),ta=$t({mutationFn:ue=>qe(`/api/worker-transfers/${ue}`,"DELETE"),onMutate:()=>({projectId:e,date:s}),onSuccess:(ue,Le,yt)=>{const{projectId:cr,date:Ur}=yt||{projectId:e,date:s};Ft.setQueryData(["/api/projects",cr,"daily-expenses",Ur],st=>st&&{...st,workerTransfers:st.workerTransfers?.filter(Kr=>Kr.id!==Le)||[]}),Ft.invalidateQueries({queryKey:["/api/projects",cr,"daily-expenses",Ur]}),Ft.invalidateQueries({queryKey:["/api/projects",cr,"previous-balance"]}),t({title:" ",description:"    "})},onError:ue=>{console.error("    :",ue);let Le="     ";ue?.response?.data?.message?Le=ue.response.data.message:ue?.response?.data?.error?Le=ue.response.data.error:ue?.message?Le=ue.message:typeof ue=="string"&&(Le=ue),t({title:"    ",description:Le,variant:"destructive"})}}),Is=$t({mutationFn:({id:ue,data:Le})=>qe(`/api/fund-transfers/${ue}`,"PATCH",Le),onSuccess:async(ue,{id:Le})=>{Ft.invalidateQueries({queryKey:["/api/projects",e,"daily-expenses",s]}),Ft.invalidateQueries({queryKey:["/api/projects",e,"previous-balance"]}),U&&await Bt("senderNames",U),G&&await Bt("transferNumbers",G),Ft.invalidateQueries({queryKey:["/api/autocomplete"]}),Ki(),t({title:" ",description:"   "})},onError:ue=>{console.error("   :",ue);let Le="    ";ue?.response?.data?.message?Le=ue.response.data.message:ue?.message&&(Le=ue.message),t({title:"   ",description:Le,variant:"destructive"})}}),Ki=()=>{Z(""),z(""),ae(""),de(""),te(null)},wi=ue=>{Z(ue.amount),z(ue.senderName||""),ae(ue.transferNumber||""),de(ue.transferType),te(ue.id)},wa=()=>{if(!e||n){t({title:"  ",description:"       .        ",variant:"destructive"});return}if(!O||O.trim()===""||parseFloat(O)<=0){t({title:"",description:"   ",variant:"destructive"});return}if(!pe||pe.trim()===""){t({title:"",description:"   ",variant:"destructive"});return}const ue={projectId:e,amount:O.toString(),senderName:U.trim()||" ",transferNumber:G.trim()||null,transferType:pe,transferDate:new Date(s+"T12:00:00.000Z"),notes:"",wellId:oe||null};ge?Is.mutate({id:ge,data:ue}):bi.mutate(ue)},wh=$t({mutationFn:({id:ue,data:Le})=>qe(`/api/transportation-expenses/${ue}`,"PATCH",Le),onSuccess:async(ue,{id:Le})=>{Ft.invalidateQueries({queryKey:["/api/projects",e,"daily-expenses",s]}),Ft.invalidateQueries({queryKey:["/api/projects",e,"previous-balance"]}),he&&await Bt("transportDescriptions",he),se&&await Bt("notes",se),_h(),t({title:" ",description:"    "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),_h=()=>{ce(""),ee(""),le(""),Fe("worker_transport"),_e(null)},au=ue=>{ce(ue.description),ee(ue.amount),le(ue.notes||""),Fe(ue.category||"worker_transport"),_e(ue.id)},sv=()=>{if(!e||n){t({title:"  ",description:"       .        ",variant:"destructive"});return}if(!he||!ie){t({title:"",description:"    ",variant:"destructive"});return}const ue={projectId:e,description:he,amount:ie,date:s||new Date().toISOString().split("T")[0],category:Te,notes:se,wellId:T||null};ve?wh.mutate({id:ve,data:ue}):br.mutate(ue)},_d=()=>{try{const ue=Array.isArray(ar)?ar.filter(dr=>dr&&typeof dr=="object"):[],Le=Array.isArray(Yt)?Yt.filter(dr=>dr&&typeof dr=="object"):[],yt=Array.isArray(Ot)?Ot.filter(dr=>dr&&typeof dr=="object"):[],cr=Array.isArray(ur)?ur.filter(dr=>dr&&typeof dr=="object"):[],Ur=Array.isArray(Fr)?Fr.filter(dr=>dr&&typeof dr=="object"):[],st=Array.isArray(yr)?yr.filter(dr=>dr&&typeof dr=="object"):[],Kr=Array.isArray(Gt)?Gt.filter(dr=>dr&&typeof dr=="object"):[],as=ue.reduce((dr,Zn)=>{const Os=bn(Zn.paidAmount);return dr+Os},0),_a=Le.reduce((dr,Zn)=>{const Os=bn(Zn.amount);return dr+Os},0),ti=yt.filter(dr=>dr.purchaseType==="").reduce((dr,Zn)=>{const Os=bn(Zn.totalAmount);return dr+Os},0),Gi=cr.reduce((dr,Zn)=>{const Os=bn(Zn.amount);return dr+Os},0),kh=Ur.reduce((dr,Zn)=>{const Os=bn(Zn.amount);return dr+Os},0),ks=st.reduce((dr,Zn)=>{const Os=bn(Zn.amount);return dr+Os},0),Xi=Kr.filter(dr=>dr.toProjectId===e).reduce((dr,Zn)=>{const Os=bn(Zn.amount);return dr+Os},0),Sd=Kr.filter(dr=>dr.fromProjectId===e).reduce((dr,Zn)=>{const Os=bn(Zn.amount);return dr+Os},0),il=bn(i);console.log(" [calculateTotals]  :",{carriedForward:i,carriedAmount:il,totalFundTransfers:ks,incomingProjectTransfers:Xi,calculation:`${il} + ${ks} + ${Xi}`});const jh=Ue?.expenses?.totalAllExpenses||as+_a+ti+Gi+kh+Sd,lu=Ue?.income?.totalIncome||il+ks+Xi,Nd=Ue?.totalBalance??lu-jh;console.log(" [calculateTotals]  :",{totalIncome:lu,totalExpenses:jh,remainingBalance:Nd});const No={totalWorkerWages:as,totalTransportation:_a,totalMaterialCosts:ti,totalWorkerTransfers:Gi,totalMiscExpenses:kh,totalFundTransfers:ks,incomingProjectTransfers:Xi,outgoingProjectTransfers:Sd,totalIncome:lu,totalExpenses:jh,remainingBalance:Nd},Cd=1e8;return Object.keys(No).forEach(dr=>{const Zn=No[dr];typeof Zn=="number"&&Math.abs(Zn)>Cd&&(console.warn(` [DailyExpenses]     ${dr}:`,Zn),dr!=="remainingBalance"&&(No[dr]=0))}),No}catch(ue){return console.error(" [DailyExpenses]   calculateTotals:",ue),{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0,totalIncome:0,totalExpenses:0,remainingBalance:0}}},kd=()=>{if(!e){t({title:"",description:"   ",variant:"destructive"});return}const ue=_d();Js.mutate({projectId:e,date:s||new Date().toISOString().split("T")[0],carriedForwardAmount:i,totalFundTransfers:ue.totalFundTransfers.toString(),totalWorkerWages:ue.totalWorkerWages.toString(),totalMaterialCosts:ue.totalMaterialCosts.toString(),totalTransportationCosts:ue.totalTransportation.toString(),totalIncome:ue.totalIncome.toString(),totalExpenses:ue.totalExpenses.toString(),remainingBalance:ue.remainingBalance.toString()})};P.useMemo(()=>{try{const ue=_d();if(!ue||typeof ue!="object")throw console.warn(" [DailyExpenses] calculateTotals returned invalid result:",ue),new Error("Invalid result from calculateTotals");return ue}catch(ue){return console.error(" [DailyExpenses]    :",ue),{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0,totalIncome:0,totalExpenses:0,remainingBalance:0}}},[ar,Yt,Ot,ur,Fr,yr,Gt,i,e]);const i0=P.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"workerWages",label:" ",value:Ye(vt.totalWorkerWages),icon:On,color:"blue"},{key:"fundTransfers",label:" ",value:Ye(vt.totalFundTransfers),icon:zW,color:"green"},{key:"materials",label:"",value:Ye(vt.totalMaterialCosts),icon:jn,color:"purple"}]},{columns:3,gap:"sm",items:[{key:"transportation",label:"",value:Ye(vt.totalTransportation),icon:Hs,color:"orange"},{key:"miscExpenses",label:"",value:Ye(vt.totalMiscExpenses),icon:Ux,color:"amber"},{key:"projectTransfers",label:"",splitValue:{incoming:vt.incomingProjectTransfers,outgoing:vt.outgoingProjectTransfers},value:Ye(vt.incomingProjectTransfers-vt.outgoingProjectTransfers),icon:bs,color:"teal",isSplitCard:!0}]},{columns:3,gap:"sm",items:[{key:"workerTransfers",label:"",value:Ye(vt.totalWorkerTransfers),icon:Ag,color:"indigo"},{key:"totalExpenses",label:"",value:Ye(vt.totalExpenses),icon:pa,color:"red"},{key:"remainingBalance",label:"",value:Ye(vt.totalBalance),icon:Vo,color:vt.totalBalance>=0?"emerald":"rose"}]}],[vt]),av=["","",""," ",""],iu=P.useMemo(()=>[{key:"date",label:"",type:"date",placeholder:" "},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"type",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"wages",label:" "},{value:"transport",label:""},{value:"materials",label:""},{value:"misc",label:""},{value:"fund",label:""}]},{key:"transportCategory",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}]},{key:"miscCategory",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},...av.map(ue=>({value:ue,label:ue}))]}],[]),ou=async()=>{j(!0);try{await Ft.invalidateQueries({queryKey:["/api/projects",e,"daily-expenses",s]})}finally{j(!1)}},al=P.useCallback(async()=>{v(!0);try{const ue=[];console.log(" [Excel Export]  :",{fundTransfers:gi.length,attendance:yi.length,transportation:La.length,materials:Hr.length,workerTransfers:Tr.length,miscExpenses:_s.length});const Le=bn(i);Le!==0&&ue.push({id:"previous-balance",date:s||new Date().toISOString().split("T")[0],type:"income",category:" ",amount:Math.abs(Le),description:Le>0?"  ()":"  ()",projectName:Se.find(st=>st.id===e)?.name||" "}),gi.forEach(st=>{ue.push({id:st.id,date:st.date||s||new Date().toISOString().split("T")[0],type:"income",category:"",amount:bn(st.amount),description:`  ${st.senderName||" "}`,projectId:st.projectId,projectName:Se.find(Kr=>Kr.id===st.projectId)?.name||" ",transferMethod:st.transferType,recipientName:st.senderName})}),xe.forEach(st=>{const Kr=st.toProjectId===e,as=Se.find(ti=>ti.id===st.fromProjectId),_a=Se.find(ti=>ti.id===st.toProjectId);ue.push({id:st.id,date:st.date||s||new Date().toISOString().split("T")[0],type:Kr?"transfer_from_project":"expense",category:Kr?" ":" ",amount:bn(st.amount),description:Kr?`  ${as?.name||" "}`:`  ${_a?.name||" "}`,projectId:Kr?st.fromProjectId:st.toProjectId,projectName:Kr?as?.name:_a?.name})}),yi.forEach(st=>{const Kr=nr.find(Gi=>Gi.id===st.workerId),as=bn(st.paidAmount),_a=bn(st.payableAmount),ti=as===0&&_a>0;ue.push({id:st.id,date:st.date||s||new Date().toISOString().split("T")[0],type:ti?"deferred":"expense",category:" ",amount:as,description:st.workDescription||" ",projectId:st.projectId,projectName:Se.find(Gi=>Gi.id===st.projectId)?.name||" ",workerName:Kr?.name||" ",workDays:bn(st.workDays)||void 0,dailyWage:bn(st.dailyWage)||void 0,payableAmount:_a||void 0})}),La.forEach(st=>{ue.push({id:st.id,date:st.date||s||new Date().toISOString().split("T")[0],type:"expense",category:"",amount:bn(st.amount),description:st.description||" ",projectId:st.projectId,projectName:Se.find(Kr=>Kr.id===st.projectId)?.name||" "})}),Hr.forEach(st=>{const Kr=dt.find(_a=>_a.id===st.materialId),as=st.purchaseType==="";ue.push({id:st.id,date:st.date||s||new Date().toISOString().split("T")[0],type:as?"expense":"deferred",category:" ",amount:as?bn(st.totalAmount):0,description:` ${Kr?.name||""}`,projectId:st.projectId,projectName:Se.find(_a=>_a.id===st.projectId)?.name||" ",materialName:Kr?.name||st.materialName,quantity:bn(st.quantity)||void 0,unitPrice:bn(st.unitPrice)||void 0,paymentType:st.purchaseType,supplierName:st.supplier||st.supplierName})}),Tr.forEach(st=>{const Kr=nr.find(as=>as.id===st.workerId);ue.push({id:st.id,date:st.date||s||new Date().toISOString().split("T")[0],type:"expense",category:" ",amount:bn(st.amount),description:st.notes||" ",projectId:st.projectId,projectName:Se.find(as=>as.id===st.projectId)?.name||" ",workerName:Kr?.name||" ",recipientName:Kr?.name})}),_s.forEach(st=>{ue.push({id:st.id,date:st.date||s||new Date().toISOString().split("T")[0],type:"expense",category:"",amount:bn(st.amount),description:st.description||" ",projectId:st.projectId,projectName:Se.find(Kr=>Kr.id===st.projectId)?.name||" "})});const yt=_d(),cr={totalIncome:yt.totalIncome,totalExpenses:yt.totalExpenses,balance:yt.remainingBalance},Ur=n?" ":Se.find(st=>st.id===e)?.name||"";await vL(ue,cr,Ye,`${Ur}${s?` - ${s}`:""}`),t({title:"  ",description:`  ${ue.length}    Excel`})}catch(ue){console.error("  :",ue),t({title:" ",description:"    ",variant:"destructive"})}finally{v(!1)}},[gi,yi,La,Hr,Tr,_s,xe,nr,dt,Se,e,s,n,t]),jd=P.useMemo(()=>[{key:"export",icon:jm,label:" Excel",onClick:al,variant:"outline",loading:m,tooltip:"     Excel"}],[m,al]),o0={fundTransfers:Array.isArray(yr)&&yr.length>0,attendance:Array.isArray(ar)&&ar.length>0,transportation:Array.isArray(Yt)&&Yt.length>0,materials:Array.isArray(Ot)&&Ot.length>0,workerTransfers:Array.isArray(ur)&&ur.length>0,miscExpenses:Array.isArray(Fr)&&Fr.length>0};return Object.keys(o0).length,Object.values(o0).filter(Boolean).length,l.jsxs("div",{className:"p-4 slide-in space-y-4",children:[l.jsx(sl,{statsRows:i0,searchValue:d,onSearchChange:p,searchPlaceholder:"  ...",showSearch:!0,filters:iu,filterValues:{date:s?(()=>{const[ue,Le,yt]=s.split("-").map(Number);return new Date(ue,Le-1,yt,12,0,0,0)})():void 0,dateRange:f.dateRange,type:f.type,transportCategory:f.transportCategory,miscCategory:f.miscCategory},onFilterChange:g,onReset:y,onRefresh:ou,isRefreshing:x,actions:jd}),!n&&!f.dateRange?.from&&s&&l.jsxs("div",{className:"flex items-center justify-between gap-2 bg-white dark:bg-slate-900 p-2 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm mx-auto w-full max-w-md",children:[l.jsx(Oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",onClick:kr,title:" ",children:l.jsx(Of,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})}),l.jsxs("div",{className:"flex flex-col items-center flex-1",children:[l.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider",children:" "}),l.jsxs("span",{className:"text-sm font-black text-slate-900 dark:text-white arabic-numbers flex items-center gap-1.5",children:[l.jsx(ma,{className:"h-3.5 w-3.5 text-primary"}),Nr(new Date(s),"EEEE, d MMMM yyyy",{locale:Xs})]})]}),l.jsx(Oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",onClick:Vt,title:" ",children:l.jsx(Cw,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})})]}),be?.groupedByProjectDate&&be.groupedByProjectDate.length>0?l.jsx("div",{className:"space-y-4",children:be.groupedByProjectDate.map((ue,Le)=>l.jsx(vn,{title:ue.projectName,subtitle:`  ${io(ue.date)}`,titleIcon:Sw,headerColor:"#3b82f6",badges:[{label:io(ue.date),variant:"default"},{label:ue.remainingBalance>=0?" ":"",variant:ue.remainingBalance>=0?"success":"destructive"}],fields:[{label:" ",value:Ye(ue.totalIncome||0),icon:Pn,color:"success",emphasis:!0},{label:"",value:Ye(ue.totalExpenses||0),icon:pa,color:"danger",emphasis:!0},{label:" ",value:Ye(ue.totalWorkerWages||0),icon:On,color:"info"},{label:"",value:Ye(ue.totalTransportation||0),icon:Hs,color:"warning"},{label:"",value:Ye(ue.totalMaterialCosts||0),icon:jn,color:"info"},{label:"",value:Ye(ue.totalMiscExpenses||0),icon:Ux,color:"muted"},{label:" ",value:Ye(ue.totalWorkerTransfers||0),icon:Ag,color:"warning"},{label:"",value:Ye(ue.remainingBalance||0),icon:Vo,color:(ue.remainingBalance||0)>=0?"success":"danger",emphasis:!0}]},`${ue.projectId}-${ue.date}-${Le}`))}):e&&s&&l.jsx(vn,{title:Se?.find(ue=>ue.id===e)?.name||"",subtitle:`  ${io(s)}`,titleIcon:Sw,headerColor:"#3b82f6",badges:[{label:io(s),variant:"default"},{label:mt.remainingBalance>=0?" ":"",variant:mt.remainingBalance>=0?"success":"destructive"}],fields:[{label:" ",value:Ye(mt.totalIncome),icon:Pn,color:"success",emphasis:!0},{label:"",value:Ye(mt.totalExpenses),icon:pa,color:"danger",emphasis:!0},{label:" ",value:Ye(mt.totalWorkerWages),icon:On,color:"info"},{label:"",value:Ye(mt.totalTransportation),icon:Hs,color:"warning"},{label:"",value:Ye(mt.totalMaterialCosts),icon:jn,color:"info"},{label:"",value:Ye(mt.totalMiscExpenses),icon:Ux,color:"muted"},{label:" ",value:Ye(mt.totalWorkerTransfers),icon:Ag,color:"warning"},{label:"",value:Ye(mt.remainingBalance),icon:Vo,color:mt.remainingBalance>=0?"success":"danger",emphasis:!0}]}),l.jsx(Ai,{open:B,onOpenChange:W,children:l.jsxs(Ir,{className:"mb-4",children:[l.jsx(Pi,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-muted/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cs,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"font-medium text-foreground",children:"  "})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:B?" ":" "}),B?l.jsx(Qu,{className:"h-5 w-5 text-muted-foreground"}):l.jsx(rs,{className:"h-5 w-5 text-muted-foreground"})]})]})}),l.jsx(Mi,{children:l.jsxs(en,{className:"p-4 pt-0",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsx("div",{children:l.jsx(Go,{label:"",value:s||"",onChange:ue=>a(ue?Nr(ue,"yyyy-MM-dd"):null)})}),l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground",children:"  "}),l.jsx(gt,{type:"number",inputMode:"decimal",value:i,onChange:ue=>c(ue.target.value),placeholder:"0",className:"text-center arabic-numbers"})]})]}),l.jsx("div",{className:"border-t pt-3",children:l.jsxs(Ai,{open:I,onOpenChange:R,children:[l.jsx(Pi,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsx("h4",{className:"font-medium text-foreground",children:"  "}),l.jsxs("div",{className:"flex items-center gap-1",children:[Kn.length>0&&l.jsx(Zr,{variant:"outline",className:"h-5 text-[10px]",children:Kn.length}),l.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]})]})}),l.jsxs(Mi,{className:"pt-2",children:[Xe&&l.jsx("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("p",{className:"text-red-700 text-sm",children:["   : ",Xe.message]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),l.jsx(gt,{type:"number",inputMode:"decimal",value:O,onChange:ue=>Z(ue.target.value),placeholder:" *",className:"text-center arabic-numbers",min:"0",step:"0.01"})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground mb-1",children:" "}),l.jsx(ss,{value:U,onChange:z,category:"senderNames",placeholder:" "})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground mb-1",children:" "}),l.jsx(ss,{type:"number",inputMode:"numeric",value:G,onChange:ae,category:"transferNumbers",placeholder:" ",className:"w-full arabic-numbers"})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground mb-1",children:"  *"}),l.jsx(ss,{value:pe,onChange:de,category:"transferTypes",placeholder:"  *",className:"flex-1"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Oe,{onClick:wa,size:"sm",className:"flex-1 bg-primary",disabled:bi.isPending||Is.isPending,"data-testid":"button-add-fund-transfer",children:bi.isPending||Is.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):ge?l.jsxs(l.Fragment,{children:[l.jsx(Cc,{className:"h-4 w-4 ml-2"}),"  "]}):l.jsxs(l.Fragment,{children:[l.jsx(cs,{className:"h-4 w-4 ml-2"}),"  "]})}),ge&&l.jsx(Oe,{onClick:Ki,size:"sm",variant:"outline",children:""})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t",children:[l.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:"  :"}),Ae?l.jsx("div",{className:"text-center text-muted-foreground",children:" ..."}):Kn.length>0?l.jsxs("div",{className:"space-y-2",children:[Kn.map((ue,Le)=>l.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-blue-100 dark:border-blue-900/20 rounded-lg shadow-sm hover:shadow-md transition-all",children:l.jsxs("div",{className:"flex justify-between items-start gap-3",children:[l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-semibold text-foreground text-sm",children:ue.senderName||" "}),l.jsx(Zr,{variant:"secondary",className:"text-[10px] px-1.5 h-4 bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400 border-none",children:ue.transferType})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px] text-muted-foreground",children:[ue.transferNumber&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"opacity-70",children:" :"}),l.jsx("span",{className:"font-medium text-foreground",children:ue.transferNumber})]}),n&&ue.projectName&&l.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[l.jsx("span",{children:""}),l.jsx("span",{className:"font-medium",children:ue.projectName})]})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsx("span",{className:"font-bold text-primary arabic-numbers text-sm",children:Ye(ue.amount)}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(Oe,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>wi(ue),"data-testid":"button-edit-fund-transfer",children:l.jsx(_l,{className:"h-3.5 w-3.5"})}),l.jsx(Oe,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>xa.mutate(ue.id),disabled:xa.isPending,"data-testid":"button-delete-fund-transfer",children:xa.isPending?l.jsx("div",{className:"h-3.5 w-3.5 animate-spin rounded-full border-2 border-red-600 border-t-transparent"}):l.jsx(ys,{className:"h-3.5 w-3.5"})})]})]})]})},ue.id||Le)),l.jsxs("div",{className:"text-left pt-2 border-t mt-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-bold text-primary arabic-numbers text-base",children:Ye(mt.totalFundTransfers)})]})]}):l.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[l.jsx(Sr,{className:"mx-auto h-8 w-8 text-gray-400"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["     ",s]})]})]})]})]})}),l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(Ai,{open:$,onOpenChange:K,children:[l.jsx(Pi,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(UW,{className:"text-secondary ml-2 h-5 w-5"}),"  "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[Gr.length>0&&l.jsx(Zr,{variant:"outline",className:"h-5 text-[10px]",children:Gr.length}),l.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]})]})}),l.jsxs(Mi,{className:"pt-2",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),l.jsx(ss,{value:he,onChange:ce,category:"transportDescriptions",placeholder:""})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),l.jsxs(ga,{value:Te,onValueChange:Fe,children:[l.jsx(Qs,{className:"arabic-numbers",children:l.jsx(ya,{placeholder:" "})}),l.jsxs(Ys,{children:[l.jsx(zr,{value:"worker_transport",children:" "}),l.jsx(zr,{value:"material_delivery",children:" "}),l.jsx(zr,{value:"concrete_transport",children:" "}),l.jsx(zr,{value:"iron_platforms",children:"  "}),l.jsx(zr,{value:"fuel_shas",children:" "}),l.jsx(zr,{value:"fuel_hilux",children:" "}),l.jsx(zr,{value:"loading_unloading",children:" "}),l.jsx(zr,{value:"maintenance",children:" "}),l.jsx(zr,{value:"water_supply",children:" "}),l.jsx(zr,{value:"other",children:""})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),l.jsx(gt,{type:"number",inputMode:"decimal",value:ie,onChange:ue=>ee(ue.target.value),placeholder:"",className:"text-center arabic-numbers"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx(Qe,{className:"block text-sm font-medium text-foreground mb-1",children:""}),l.jsx(ss,{value:se,onChange:le,category:"notes",placeholder:"",className:"flex-1"})]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-3 mb-3",children:e&&!n&&l.jsx("div",{className:"flex flex-col",children:l.jsx(om,{projectId:e,value:T,onChange:E,optional:!0})})}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(Oe,{onClick:sv,size:"sm",className:"w-full bg-secondary",disabled:br.isPending||wh.isPending,"data-testid":"button-add-transportation",children:br.isPending||wh.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):ve?l.jsxs(l.Fragment,{children:[l.jsx(Cc,{className:"h-4 w-4 ml-2"}),"  "]}):l.jsxs(l.Fragment,{children:[l.jsx(cs,{className:"h-4 w-4 ml-2"}),"  "]})}),ve&&l.jsx(Oe,{onClick:_h,size:"sm",variant:"outline",children:""})]})]}),Gr.length>0&&l.jsxs("div",{className:"mt-3 space-y-2",children:[Gr.map((ue,Le)=>l.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-orange-200 dark:border-orange-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-semibold text-foreground text-sm",children:ue.description}),l.jsx("span",{className:"font-bold text-secondary arabic-numbers text-base",children:Ye(ue.amount)})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(Zr,{variant:"outline",className:"text-[10px] bg-secondary/5 text-secondary border-secondary/20",children:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}].find(yt=>yt.value===ue.category)?.label||""}),ue.notes&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",ue.notes]})]}),ue.wellName&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",ue.wellName]}),n&&ue.projectName&&l.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",ue.projectName]})]}),l.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[l.jsx(Oe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>au(ue),"data-testid":"button-edit-transportation",children:l.jsx(_l,{className:"h-4 w-4"})}),l.jsx(Oe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>ei.mutate(ue.id),disabled:ei.isPending,"data-testid":"button-delete-transportation",children:ei.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):l.jsx(ys,{className:"h-4 w-4"})})]})]})},Le)),l.jsxs("div",{className:"text-left mt-3 pt-3 border-t bg-orange-50 dark:bg-orange-950/20 p-2 rounded",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:" : "}),l.jsx("span",{className:"font-bold text-secondary arabic-numbers",children:Ye(mt.totalTransportation)})]})]})]})]})}),l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(Ai,{open:H,onOpenChange:M,children:[l.jsx(Pi,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(On,{className:"text-primary ml-2 h-5 w-5"}),"   "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[Rr.length>0&&l.jsx(Zr,{variant:"outline",className:"h-5 text-[10px]",children:Rr.length}),l.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]})]})}),l.jsxs(Mi,{className:"pt-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-3 items-end",children:[l.jsxs("div",{className:"col-span-6",children:[l.jsx(Qe,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),l.jsxs(ga,{value:Be||"none",onValueChange:ue=>ze(ue==="none"?"":ue),children:[l.jsx(Qs,{className:"h-9 text-xs","data-testid":"select-worker",children:l.jsx(ya,{placeholder:" "})}),l.jsxs(Ys,{className:"p-0 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b sticky top-0 bg-popover z-50",children:l.jsx(gt,{placeholder:"  ...",className:"h-8 w-full text-xs",onChange:ue=>p(ue.target.value),value:d,onClick:ue=>{ue.preventDefault(),ue.stopPropagation()},onKeyDown:ue=>{ue.key===" "&&ue.stopPropagation()}})}),l.jsxs("div",{className:"max-h-[200px] overflow-y-auto p-1",children:[l.jsx(zr,{value:"none",className:"text-xs",children:" "}),nr&&nr.length>0?nr.filter(ue=>!d||ue.name&&ue.name.toLowerCase().includes(d.toLowerCase())).map(ue=>l.jsx(zr,{value:ue.id?.toString()||"none",className:"text-xs",children:ue.name},`worker-select-${ue.id}`)):null]})]})]})]}),l.jsxs("div",{className:"col-span-3",children:[l.jsx(Qe,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),l.jsx(gt,{type:"number",value:Je,onChange:ue=>ft(ue.target.value),placeholder:"0",className:"text-center h-9 text-xs",min:"0",step:"0.5","data-testid":"input-worker-days"})]}),l.jsxs("div",{className:"col-span-3",children:[l.jsx(Qe,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),l.jsx(gt,{type:"number",value:bt,onChange:ue=>rt(ue.target.value),placeholder:"0",className:"text-center arabic-numbers h-9 text-xs",min:"0",step:"0.01","data-testid":"input-worker-amount"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx(Qe,{className:"text-xs font-bold text-foreground mb-1",children:""}),l.jsx(gt,{type:"text",value:we,onChange:ue=>me(ue.target.value),placeholder:" ",className:"h-9","data-testid":"input-worker-notes"})]}),e&&!n&&l.jsx("div",{className:"mb-3",children:l.jsx(om,{projectId:e,value:T,onChange:E,optional:!0})}),l.jsx("div",{className:"flex gap-2",children:l.jsx(Oe,{onClick:Ut,className:"bg-primary h-9 flex-1",disabled:We.isPending,"data-testid":"button-add-worker-attendance",children:We.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):l.jsxs(l.Fragment,{children:[l.jsx(cs,{className:"h-4 w-4 ml-1"}),"  "]})})}),Ke&&l.jsxs("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-900/30 rounded-lg",children:[l.jsx("h5",{className:"font-medium text-foreground mb-3",children:"  "}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx(Qe,{className:"text-xs font-bold text-foreground mb-1",children:""}),l.jsx(gt,{type:"number",value:It,onChange:ue=>Zt(ue.target.value),className:"text-center h-9",min:"0",step:"0.5","data-testid":"input-edit-worker-days"})]}),l.jsxs("div",{children:[l.jsx(Qe,{className:"text-xs font-bold text-foreground mb-1",children:""}),l.jsx(gt,{type:"number",value:kt,onChange:ue=>Jt(ue.target.value),className:"text-center h-9",min:"0",step:"0.01","data-testid":"input-edit-worker-amount"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx(Qe,{className:"text-xs font-bold text-foreground mb-1",children:""}),l.jsx(gt,{type:"text",value:rr,onChange:ue=>Mt(ue.target.value),placeholder:" ",className:"h-9","data-testid":"input-edit-worker-notes"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Oe,{onClick:()=>{ct.mutate({id:Ke,workDays:It,paidAmount:kt,notes:rr})},className:"bg-primary h-9 flex-1",disabled:ct.isPending,"data-testid":"button-save-edit-worker-attendance",children:ct.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):l.jsxs(l.Fragment,{children:[l.jsx(Cc,{className:"h-4 w-4 ml-1"})," "]})}),l.jsx(Oe,{onClick:()=>{He(null),Zt(""),Jt(""),Mt("")},variant:"outline",className:"h-9",children:""})]})]}),Rr.length>0&&l.jsxs("div",{className:"mt-3",children:[l.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"   :"}),l.jsxs("div",{className:"space-y-2",children:[Rr.map((ue,Le)=>{const yt=nr.find(Kr=>Kr.id===ue.workerId),cr=bn(ue.payableAmount),Ur=bn(ue.paidAmount),st=cr-Ur;return l.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-blue-200 dark:border-blue-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-semibold text-foreground text-sm",children:ue.workerName||yt?.name||` ${Le+1}`}),yt?.type&&l.jsx(Zr,{variant:"outline",className:`text-[10px] px-1.5 h-4 flex items-center border-none ${yt.type.includes("")?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":yt.type.includes("")?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":yt.type.includes("")?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":yt.type.includes("")?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":yt.type.includes("")?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":yt.type.includes("")?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":yt.type.includes("")?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":yt.type.includes("")?"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}`,children:yt.type})]}),l.jsx("span",{className:"font-bold text-primary arabic-numbers text-base",children:Ye(Ur)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"text-muted-foreground",children:[l.jsx("span",{children:": "}),l.jsx("span",{className:"font-medium text-foreground",children:bn(ue.workDays)||0})]}),l.jsxs("div",{className:"text-muted-foreground",children:[l.jsx("span",{children:" : "}),l.jsx("span",{className:"font-medium text-foreground",children:Ye(bn(ue.dailyWage||yt?.dailyWage))})]})]}),st>0&&l.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:[": ",Ye(st)]}),ue.workDescription&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",ue.workDescription]}),l.jsx("div",{className:"flex flex-col gap-1",children:ue.notes&&l.jsxs("p",{className:"text-xs text-muted-foreground bg-amber-50 dark:bg-amber-950/30 p-2 rounded-md border border-amber-200 dark:border-amber-900/50 mt-1",children:[l.jsx("span",{className:"font-bold text-amber-700 dark:text-amber-400",children:": "}),ue.notes]})}),n&&ue.projectName&&l.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",ue.projectName]})]}),l.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[l.jsx(Oe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>{He(ue.id),Zt(bn(ue.workDays).toString()),Jt(bn(ue.paidAmount).toString()),Mt(ue.notes||"")},children:l.jsx(_l,{className:"h-4 w-4"})}),l.jsx(Oe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>ea.mutate(ue.id),disabled:ea.isPending,"data-testid":"button-delete-worker-attendance",children:ea.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):l.jsx(ys,{className:"h-4 w-4"})})]})]})},Le)}),l.jsxs("div",{className:"text-left mt-3 pt-3 border-t bg-blue-50 dark:bg-blue-950/20 p-2 rounded",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:"  : "}),l.jsx("span",{className:"font-bold text-primary arabic-numbers",children:Ye(mt.totalWorkerWages)})]})]})]})]})]})}),l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(Ai,{open:F,onOpenChange:C,children:[l.jsx(Pi,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(jn,{className:"text-green-600 ml-2 h-5 w-5"}),"  "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[sn.length>0&&l.jsx(Zr,{variant:"outline",className:"h-5 text-[10px]",children:sn.length}),l.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]})]})}),l.jsxs(Mi,{className:"pt-2",children:[l.jsxs(Oe,{variant:"outline",onClick:()=>r("/material-purchase"),className:"w-full border-2 border-dashed border-green-300 text-green-600 hover:bg-green-50 mb-3",children:[l.jsx(cs,{className:"ml-2 h-4 w-4"}),"   "]}),sn.length>0&&l.jsxs("div",{className:"space-y-2",children:[sn.map((ue,Le)=>{const yt=ue.materialName||ue.material?.name||"  ",cr=ue.materialUnit||ue.unit||ue.material?.unit||"",Ur=ue.purchaseType==="";return l.jsx("div",{className:`p-3 border rounded-lg shadow-sm hover:shadow-md transition-shadow ${Ur?"bg-white dark:bg-slate-800 border-green-200 dark:border-green-900/30":"bg-white dark:bg-slate-800 border-orange-200 dark:border-orange-900/30"}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-semibold text-foreground text-sm",children:yt}),l.jsx("span",{className:`font-bold arabic-numbers text-base ${Ur?"text-green-600":"text-orange-600"}`,children:Ye(ue.totalAmount)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"text-muted-foreground",children:[l.jsx("span",{children:": "}),l.jsxs("span",{className:"font-medium text-foreground",children:[ue.quantity," ",cr]})]}),l.jsxs("div",{className:"text-muted-foreground",children:[l.jsx("span",{children:": "}),l.jsx("span",{className:"font-medium text-foreground",children:Ye(ue.unitPrice)})]})]}),ue.supplierName&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",ue.supplierName]}),l.jsx("div",{className:`inline-block text-xs font-semibold px-2 py-1 rounded ${Ur?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400"}`,children:Ur?"":""}),n&&ue.projectName&&l.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",ue.projectName]})]}),l.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[l.jsx(Oe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>r(`/material-purchase?edit=${ue.id}`),children:l.jsx(_l,{className:"h-4 w-4"})}),l.jsx(Oe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>qi.mutate(ue.id),disabled:qi.isPending,children:qi.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):l.jsx(ys,{className:"h-4 w-4"})})]})]})},Le)}),l.jsxs("div",{className:"text-left mt-2 pt-2 border-t space-y-1",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-bold text-success arabic-numbers",children:Ye(mt.totalMaterialCosts)})]}),(()=>{const ue=Array.isArray(Ot)?Ot.filter(Le=>Le.purchaseType==="").reduce((Le,yt)=>Le+parseFloat(yt.totalAmount||"0"),0):0;return ue>0?l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-bold text-orange-600 arabic-numbers",children:Ye(ue)})]}):null})()]})]})]})]})}),l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(Ai,{open:_,onOpenChange:S,children:[l.jsx(Pi,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(Sr,{className:"text-yellow-600 ml-2 h-5 w-5"}),"   "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[dn.length>0&&l.jsx(Zr,{variant:"outline",className:"h-5 text-[10px]",children:dn.length}),l.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]})]})}),l.jsxs(Mi,{className:"pt-2",children:[l.jsxs(Oe,{variant:"outline",onClick:()=>r("/worker-accounts"),className:"w-full border-2 border-dashed border-yellow-300 text-yellow-600 hover:bg-yellow-50 mb-3",children:[l.jsx(cs,{className:"ml-2 h-4 w-4"}),"   "]}),dn.length>0&&l.jsxs("div",{className:"space-y-2",children:[dn.map((ue,Le)=>{const yt=nr.find(Ur=>Ur.id===ue.workerId),cr=ue.transferMethod==="hawaleh"?"":ue.transferMethod==="bank"?" ":"";return l.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-yellow-200 dark:border-yellow-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-semibold text-foreground text-sm",children:yt?.name||"  "}),l.jsx("span",{className:"font-bold text-yellow-600 dark:text-yellow-500 arabic-numbers text-base",children:Ye(ue.amount)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"text-muted-foreground",children:[l.jsx("span",{children:": "}),l.jsx("span",{className:"font-medium text-foreground",children:ue.recipientName})]}),l.jsxs("div",{className:"text-muted-foreground",children:[l.jsx("span",{children:": "}),l.jsx("span",{className:"font-medium text-foreground",children:cr})]})]}),ue.transferNumber&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"opacity-70",children:" : "}),l.jsx("span",{className:"font-medium text-foreground",children:ue.transferNumber})]}),n&&ue.projectName&&l.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",ue.projectName]})]}),l.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[l.jsx(Oe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>r(`/worker-accounts?edit=${ue.id}&worker=${ue.workerId}`),children:l.jsx(_l,{className:"h-4 w-4"})}),l.jsx(Oe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{window.confirm("      ")&&ta.mutate(ue.id)},disabled:ta.isPending,children:l.jsx(ys,{className:"h-4 w-4"})})]})]})},Le)}),l.jsxs("div",{className:"text-left mt-2 pt-2 border-t bg-yellow-50 dark:bg-yellow-950/20 p-2 rounded",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-bold text-warning arabic-numbers",children:Ye(vt.totalWorkerTransfers)})]})]})]})]})}),l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(Ai,{open:k,onOpenChange:N,children:[l.jsx(Pi,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(Jy,{className:"text-orange-600 ml-2 h-5 w-5"}),"   "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[xe.length>0&&l.jsx(Zr,{variant:"outline",className:"h-5 text-[10px]",children:xe.length}),l.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]})]})}),l.jsxs(Mi,{className:"pt-2",children:[l.jsxs(Oe,{variant:"outline",onClick:()=>r("/project-transfers"),className:"w-full border-2 border-dashed border-orange-300 text-orange-600 hover:bg-orange-50 mb-3",children:[l.jsx(cs,{className:"ml-2 h-4 w-4"}),"  "]}),xe.length>0&&l.jsx("div",{className:"space-y-3",children:xe.map(ue=>l.jsx("div",{className:`p-3 rounded border-r-4 ${ue.toProjectId===e?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:ue.toProjectId===e?l.jsxs("span",{className:"text-green-700",children:["  : ",ue.fromProjectName]}):l.jsxs("span",{className:"text-red-700",children:["  : ",ue.toProjectName]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:`font-bold arabic-numbers ${ue.toProjectId===e?"text-green-600":"text-red-600"}`,children:[ue.toProjectId===e?"+":"-",Ye(ue.amount)]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(Oe,{size:"icon",variant:"ghost",className:"h-7 w-7 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>Hi(ue),children:l.jsx(_l,{className:"h-3.5 w-3.5"})}),l.jsx(Oe,{size:"icon",variant:"ghost",className:"h-7 w-7 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("      ")&&vi.mutate(ue.id)},disabled:vi.isPending,children:l.jsx(ys,{className:"h-3.5 w-3.5"})})]})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsxs("div",{children:[": ",ue.transferReason||" "]}),ue.description&&l.jsxs("div",{className:"mt-1",children:[": ",ue.description]}),l.jsxs("div",{className:"mt-1",children:[": ",io(ue.transferDate)]})]})]})})},ue.id))})]})]})}),e&&l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(Ai,{open:V,onOpenChange:Q,children:[l.jsx(Pi,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(jn,{className:"text-purple-600 ml-2 h-5 w-5"}),"   "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[Y.length>0&&l.jsx(Zr,{variant:"outline",className:"h-5 text-[10px]",children:Y.length}),l.jsx(rs,{className:`h-4 w-4 text-muted-foreground transition-transform ${V?"rotate-180":""}`})]})]})}),l.jsx(Mi,{className:"pt-2",children:l.jsx(Jhe,{projectId:e,selectedDate:s||new Date().toISOString().split("T")[0]})})]})}),l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(Ai,{open:D,onOpenChange:L,children:[l.jsx(Pi,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(Nc,{className:"text-primary ml-2 h-5 w-5"}),"  "]}),l.jsx(rs,{className:`h-4 w-4 text-muted-foreground transition-transform ${D?"rotate-180":""}`})]})}),l.jsx(Mi,{className:"pt-2",children:l.jsx(Zhe,{totalIncome:vt.totalIncome,totalExpenses:vt.totalCashExpenses,remainingBalance:Nn,details:{workerWages:vt.totalWorkerWages,materialCosts:vt.totalMaterialCosts,transportation:vt.totalTransportation,miscExpenses:vt.totalMiscExpenses,workerTransfers:vt.totalWorkerTransfers,outgoingProjectTransfers:vt.outgoingProjectTransfers}})})]})}),l.jsx("div",{className:"mt-4",children:l.jsxs(Oe,{onClick:kd,disabled:Js.isPending,className:"w-full bg-success hover:bg-success/90 text-success-foreground",children:[l.jsx(Cc,{className:"ml-2 h-4 w-4"}),Js.isPending?" ...":" "]})})]})})]})})]})}function tpe(){return l.jsx(E2,{children:l.jsx(epe,{})})}const rpe=[" "," ","","","","",""," "],EN={pending:{label:" ",color:"bg-gray-100 text-gray-800",badgeVariant:"outline"},in_progress:{label:" ",color:"bg-yellow-100 text-yellow-800",badgeVariant:"warning"},completed:{label:"",color:"bg-green-100 text-green-800",badgeVariant:"success"}};function npe(){const{selectedProjectId:t}=ko(),{toast:r}=wn(),e=xs(),{setFloatingAction:n}=jo(),[s,a]=P.useState(rpe),{searchValue:i,filterValues:c,onSearchChange:u,onFilterChange:o,onReset:d}=zb({region:"all",status:"all"}),[p,f]=P.useState(!1),[h,g]=P.useState({}),[y,m]=P.useState(!1),[v,x]=P.useState(null),[j,T]=P.useState(!1),[E,B]=P.useState(""),[W,I]=P.useState(!1),[R,$]=P.useState(""),{data:K=[]}=Pt({queryKey:["autocomplete/ownerNames",t],queryFn:async()=>{const O=await qe("/api/autocomplete?category=ownerNames");return Array.isArray(O.data)?O.data:[]},enabled:!!t}),{data:H=[]}=Pt({queryKey:["autocomplete/fanTypes",t],queryFn:async()=>{const O=await qe("/api/autocomplete?category=fanTypes");return Array.isArray(O.data)?O.data:[]},enabled:!!t}),{data:M=[]}=Pt({queryKey:["autocomplete/pumpPowers",t],queryFn:async()=>{const O=await qe("/api/autocomplete?category=pumpPowers");return Array.isArray(O.data)?O.data:[]},enabled:!!t});P.useEffect(()=>(n(()=>{f(!0)},"+  "),()=>{n(null)}),[n]);const{data:F=[],isLoading:C,isFetching:_}=Pt({queryKey:["wells",t],queryFn:async()=>t?(await qe(`/api/wells?projectId=${t}`)).data||[]:[],enabled:!!t,staleTime:300*1e3,retry:1}),S=$t({mutationFn:async O=>qe("/api/autocomplete","POST",{category:"fanTypes",value:O}),onSuccess:()=>{r({title:"",description:"    "}),e.invalidateQueries({queryKey:["autocomplete/fanTypes"]}),T(!1),B("")},onError:O=>{r({title:"",description:O.message||"    ",variant:"destructive"})}}),k=$t({mutationFn:async O=>qe("/api/autocomplete","POST",{category:"pumpPowers",value:O}),onSuccess:()=>{r({title:"",description:"    "}),e.invalidateQueries({queryKey:["autocomplete/pumpPowers"]}),I(!1),$("")},onError:O=>{r({title:"",description:O.message||"    ",variant:"destructive"})}}),N=$t({mutationFn:async O=>qe("/api/autocomplete","POST",{category:"ownerNames",value:O}),onSuccess:()=>{e.invalidateQueries({queryKey:["autocomplete/ownerNames"]})},onError:O=>{console.error("    :",O)}}),D=O=>{g({...h,ownerName:O}),O.trim()&&!K.includes(O)&&N.mutate(O)},L=$t({mutationFn:async O=>{if(!t||t==="all")throw new Error("    ");return qe("/api/wells","POST",{...O,projectId:t})},onSuccess:()=>{r({title:"",description:"   "}),e.invalidateQueries({queryKey:["wells"]}),f(!1),g({})},onError:O=>{r({title:"",description:O.message||"   ",variant:"destructive"})}}),V=$t({mutationFn:async O=>{if(!v?.id)throw new Error("   ");return qe(`/api/wells/${v.id}`,"PUT",{...O,projectId:t})},onSuccess:()=>{r({title:"",description:"   "}),e.invalidateQueries({queryKey:["wells"]}),m(!1),x(null)},onError:O=>{r({title:"",description:O.message||"   ",variant:"destructive"})}}),Q=$t({mutationFn:async O=>qe(`/api/wells/${O}`,"DELETE"),onSuccess:()=>{r({title:"",description:"   "}),e.invalidateQueries({queryKey:["wells"]})},onError:O=>{r({title:"",description:O.message||"   ",variant:"destructive"})}}),Y=P.useMemo(()=>F.filter(O=>{const Z=O.ownerName.toLowerCase().includes(i.toLowerCase())||O.wellNumber.toString().includes(i),U=c.region==="all"||O.region===c.region,z=c.status==="all"||O.status===c.status;return Z&&U&&z}),[F,i,c]),re=P.useMemo(()=>({total:F.length,completed:F.filter(O=>O.status==="completed").length,inProgress:F.filter(O=>O.status==="in_progress").length,pending:F.filter(O=>O.status==="pending").length,avgCompletion:F.length>0?Math.round(F.reduce((O,Z)=>O+(Z.completionPercentage||0),0)/F.length):0}),[F]);return!t||t==="all"?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("p",{className:"text-gray-500",children:"      "})}):C?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx(Fj,{className:"w-8 h-8 animate-spin text-blue-500"})}):l.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[l.jsx(Wp,{title:" ",hideHeader:!1,stats:[{title:" ",value:re.total,icon:Nc,color:"blue",status:re.total===0?"normal":void 0},{title:"",value:re.completed,icon:Bo,color:"green",status:re.completed>re.inProgress?"normal":"warning"},{title:" ",value:re.inProgress,icon:Fj,color:"amber",status:re.inProgress>0?"normal":void 0},{title:"  ",value:re.pending,icon:Bo,color:"gray",status:re.pending>re.completed?"warning":void 0},{title:" ",value:`${re.avgCompletion}%`,icon:Nc,color:"indigo"}],columns:3,showStatus:!0}),l.jsx(V4,{searchValue:i,onSearchChange:u,searchPlaceholder:"     ...",showSearch:!0,filters:[{key:"region",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...s.map(O=>({value:O,label:O}))],defaultValue:"all"},{key:"status",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],defaultValue:"all"}],filterValues:c,onFilterChange:o,onReset:d,showResetButton:!0,showActiveFilters:!0,compact:!1}),l.jsx(Ks,{open:p,onOpenChange:f,children:l.jsxs(As,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsx(Gs,{className:"pb-2",children:l.jsx(da,{children:"  "})}),l.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-2",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(gt,{type:"number",value:h.wellNumber||"",onChange:O=>g({...h,wellNumber:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(ts,{value:h.ownerName||"",onValueChange:D,options:K.map(O=>({value:O,label:O})),placeholder:"    ",searchPlaceholder:"   ...",showSearch:!0,allowCustom:!0,onCustomAdd:O=>N.mutate(O)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:" *"}),l.jsx(ts,{value:h.region||"",onValueChange:O=>g({...h,region:O}),options:s.map(O=>({value:O,label:O})),placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  () *"}),l.jsx(gt,{type:"number",value:h.wellDepth||"",onChange:O=>g({...h,wellDepth:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(gt,{type:"number",value:h.numberOfPanels||"",onChange:O=>g({...h,numberOfPanels:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(gt,{type:"number",value:h.numberOfBases||"",onChange:O=>g({...h,numberOfBases:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(gt,{type:"number",value:h.numberOfPipes||"",onChange:O=>g({...h,numberOfPipes:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  ()"}),l.jsx(gt,{type:"number",value:h.waterLevel||"",onChange:O=>g({...h,waterLevel:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(Qe,{className:"text-sm font-semibold flex-1",children:" "}),l.jsx(Oe,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>T(!0),children:"+ "})]}),l.jsx(ts,{value:h.fanType||"",onValueChange:O=>g({...h,fanType:O}),options:H.map(O=>({value:O,label:O})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(Qe,{className:"text-sm font-semibold flex-1",children:" "}),l.jsx(Oe,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>I(!0),children:"+ "})]}),l.jsx(ts,{value:h.pumpPower?String(h.pumpPower):"",onValueChange:O=>g({...h,pumpPower:parseInt(O)}),options:M.map(O=>({value:String(O),label:String(O)})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1 md:col-span-2",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:""}),l.jsx(ts,{value:h.status||"",onValueChange:O=>g({...h,status:O}),options:[{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1 md:col-span-2",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:""}),l.jsx(gt,{value:h.notes||"",onChange:O=>g({...h,notes:O.target.value}),placeholder:"  ",className:"h-10 text-base"})]})]})}),l.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[l.jsx(Oe,{variant:"outline",onClick:()=>f(!1),size:"sm",children:""}),l.jsx(Oe,{onClick:()=>{if(!h.wellNumber||!h.ownerName||!h.region||!h.wellDepth||!h.numberOfPanels||!h.numberOfPipes||!h.numberOfBases){r({title:"",description:"    ",variant:"destructive"});return}L.mutate(h)},size:"sm",disabled:L.isPending||!h.wellNumber||!h.ownerName||!h.region||!h.wellDepth||!h.numberOfPanels||!h.numberOfPipes||!h.numberOfBases,children:L.isPending?"...":""})]})]})}),l.jsx(Ks,{open:j,onOpenChange:T,children:l.jsxs(As,{children:[l.jsx(Gs,{children:l.jsx(da,{children:"   "})}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx(Qe,{children:"  "}),l.jsx(gt,{placeholder:":  ",value:E,onChange:O=>B(O.target.value),onKeyDown:O=>O.key==="Enter"&&S.mutate(E)})]})}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(Oe,{variant:"outline",onClick:()=>T(!1),size:"sm",children:""}),l.jsx(Oe,{onClick:()=>S.mutate(E),size:"sm",children:S.isPending?"...":""})]})]})}),l.jsx(Ks,{open:W,onOpenChange:I,children:l.jsxs(As,{children:[l.jsx(Gs,{children:l.jsx(da,{children:"   "})}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx(Qe,{children:" "}),l.jsx(gt,{placeholder:": 1.5  2.0",value:R,onChange:O=>$(O.target.value),onKeyDown:O=>O.key==="Enter"&&k.mutate(R)})]})}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(Oe,{variant:"outline",onClick:()=>I(!1),size:"sm",children:""}),l.jsx(Oe,{onClick:()=>k.mutate(R),size:"sm",children:k.isPending?"...":""})]})]})}),l.jsx(Ks,{open:y,onOpenChange:m,children:l.jsxs(As,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsx(Gs,{className:"pb-2",children:l.jsx(da,{children:"  "})}),l.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-2",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(gt,{type:"number",value:v?.wellNumber||"",onChange:O=>x({...v,wellNumber:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(ts,{value:v?.ownerName||"",onValueChange:O=>x({...v,ownerName:O}),options:K.map(O=>({value:O,label:O})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0,allowCustom:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:" *"}),l.jsx(ts,{value:v?.region||"",onValueChange:O=>x({...v,region:O}),options:s.map(O=>({value:O,label:O})),placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  () *"}),l.jsx(gt,{type:"number",value:v?.wellDepth||"",onChange:O=>x({...v,wellDepth:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(gt,{type:"number",value:v?.numberOfPanels||"",onChange:O=>x({...v,numberOfPanels:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(gt,{type:"number",value:v?.numberOfBases||"",onChange:O=>x({...v,numberOfBases:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(gt,{type:"number",value:v?.numberOfPipes||"",onChange:O=>x({...v,numberOfPipes:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  ()"}),l.jsx(gt,{type:"number",value:v?.waterLevel||"",onChange:O=>x({...v,waterLevel:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:" "}),l.jsx(ts,{value:v?.fanType||"",onValueChange:O=>x({...v,fanType:O}),options:H.map(O=>({value:O,label:O})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:" "}),l.jsx(ts,{value:v?.pumpPower?String(v.pumpPower):"",onValueChange:O=>x({...v,pumpPower:parseInt(O)}),options:M.map(O=>({value:String(O),label:String(O)})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:""}),l.jsx(ts,{value:v?.status||"",onValueChange:O=>x({...v,status:O}),options:[{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:"  (%)"}),l.jsx(gt,{type:"number",min:"0",max:"100",value:v?.completionPercentage||"",onChange:O=>x({...v,completionPercentage:parseInt(O.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1 md:col-span-2",children:[l.jsx(Qe,{className:"text-sm font-semibold",children:""}),l.jsx(gt,{value:v?.notes||"",onChange:O=>x({...v,notes:O.target.value}),placeholder:"  ",className:"h-10 text-base"})]})]})}),l.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[l.jsx(Oe,{variant:"outline",onClick:()=>m(!1),size:"sm",children:""}),l.jsx(Oe,{onClick:()=>{if(!v?.wellNumber||!v?.ownerName||!v?.region||!v?.wellDepth||!v?.numberOfPanels||!v?.numberOfPipes||!v?.numberOfBases){r({title:"",description:"    ",variant:"destructive"});return}V.mutate(v||{})},size:"sm",disabled:V.isPending||!v?.wellNumber||!v?.ownerName||!v?.region||!v?.wellDepth||!v?.numberOfPanels||!v?.numberOfPipes||!v?.numberOfBases,children:V.isPending?"...":""})]})]})}),l.jsx(Ps,{columns:2,children:Y.map(O=>l.jsx(vn,{title:` #${O.wellNumber} - ${O.ownerName}`,subtitle:O.region,titleIcon:Bo,badges:[{label:EN[O.status]?.label,variant:EN[O.status]?.badgeVariant}],fields:[{label:"",value:O.region,icon:Bo,color:"info"},{label:"",value:O.numberOfPanels,icon:Nc,color:"success"},{label:"",value:O.numberOfPipes,icon:ho,color:"success"},{label:"",value:`${O.wellDepth}`,icon:Pn,color:"warning"},{label:"",value:O.numberOfBases,icon:Nc,color:"info"},{label:" ",value:O.waterLevel?`${O.waterLevel}`:"-",icon:Pn,color:"info"},{label:"",value:`${O.completionPercentage}%`,emphasis:!0,color:"info",icon:Pn},...O.fanType?[{label:" ",value:O.fanType,icon:ho,color:"info"}]:[],...O.pumpPower?[{label:" ",value:`${O.pumpPower}`,icon:ho,color:"warning"}]:[],...O.notes?[{label:"",value:O.notes,color:"muted"}]:[]],actions:[{icon:$c,label:"",onClick:()=>{x(O),m(!0)},color:"blue"},{icon:ys,label:"",onClick:()=>{confirm("      ")&&Q.mutate(O.id)},color:"red"}]},O.id))}),Y.length===0&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"  "})})]})}function spe(){Rs(),wn();const[t,r]=P.useState(null),{selectedProjectId:e}=ko(),{data:n=[]}=Pt({queryKey:["wells",e],queryFn:async()=>e?(await qe(`/wells?projectId=${e}`)).data||[]:[],enabled:!!e}),{data:s}=Pt({queryKey:["project-costs",e],queryFn:async()=>e?(await qe(`/well-expenses/project-costs/${e}`)).data:null,enabled:!!e}),{data:a}=Pt({queryKey:["well-cost-report",t],queryFn:async()=>t?(await qe(`/well-expenses/cost-report/${t}`)).data:null,enabled:!!t}),i=(c,u)=>u>0?(c/u*100).toFixed(1):"0";return l.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-6 space-y-6",children:[s&&l.jsxs(Ps,{columns:2,children:[l.jsx(vn,{title:" ",subtitle:" ",titleIcon:Sr,fields:[{label:"",value:Ye(s.totalCost||0),emphasis:!0,color:"success"}],compact:!0}),l.jsx(vn,{title:" ",subtitle:" ",titleIcon:Pn,fields:[{label:"",value:Ye(s.totalLaborCost||0),emphasis:!0,color:"info"}],compact:!0}),l.jsx(vn,{title:"",subtitle:" ",titleIcon:Sr,fields:[{label:"",value:Ye(s.totalMaterialCost||0),emphasis:!0,color:"warning"}],compact:!0}),l.jsx(vn,{title:"",subtitle:" ",titleIcon:Sr,fields:[{label:"",value:Ye(s.totalTransportCost||0),emphasis:!0,color:"danger"}],compact:!0})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-semibold mb-4",children:" "}),l.jsx(Ps,{columns:3,children:n.map(c=>l.jsx(vn,{title:` #${c.wellNumber}`,subtitle:c.ownerName,titleIcon:Dj,fields:[{label:"",value:c.region},{label:"",value:`${c.completionPercentage}%`,emphasis:!0}],onClick:()=>r(c.id),className:t===c.id?"ring-2 ring-primary":"",badges:[{label:c.status==="completed"?"":c.status==="in_progress"?" ":" ",variant:c.status==="completed"?"success":c.status==="in_progress"?"warning":"outline"}],compact:!0},c.id))})]}),t&&a&&l.jsx(Ps,{columns:1,children:l.jsx(vn,{title:`  -  #${n.find(c=>c.id===t)?.wellNumber}`,titleIcon:Pn,badges:[{label:Ye(a.totalCost||0),variant:"success"},{label:"",variant:"default"}],fields:[{label:" ",value:Ye(a.laborCost||0),emphasis:!0,color:"info"},{label:"",value:`${i(a.laborCost||0,a.totalCost||1)}%`,color:"info"},{label:"",value:Ye(a.materialCost||0),emphasis:!0,color:"warning"},{label:"",value:`${i(a.materialCost||0,a.totalCost||1)}%`,color:"warning"},{label:"",value:Ye(a.transportCost||0),emphasis:!0,color:"danger"},{label:"",value:`${i(a.transportCost||0,a.totalCost||1)}%`,color:"danger"}]})}),!t&&n.length>0&&l.jsx(vn,{title:" ",subtitle:"    ",titleIcon:Dj,fields:[{label:"",value:"  "}]}),n.length===0&&l.jsx(vn,{title:"  ",subtitle:"    ",titleIcon:Sr,fields:[{label:"",value:"   "}]})]})}function ape(){const[t,r]=P.useState([]);P.useEffect(()=>(r(Ly.getEvents()),Ly.subscribe(s=>{r(a=>[s,...a].slice(0,50))})),[]);const e=s=>{switch(s){case"critical":return"bg-red-500/10 text-red-500 border-red-500/20";case"high":return"bg-orange-500/10 text-orange-500 border-orange-500/20";case"medium":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-slate-500/10 text-slate-500 border-slate-500/20"}},n=s=>{switch(s){case"error":return l.jsx(Da,{className:"w-4 h-4"});case"sync":return l.jsx($l,{className:"w-4 h-4"});case"performance":return l.jsx(Rp,{className:"w-4 h-4"});default:return l.jsx(Rp,{className:"w-4 h-4"})}};return l.jsxs(Ir,{className:"h-full flex flex-col",children:[l.jsxs(Ma,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsxs(Qa,{className:"text-sm font-bold flex items-center gap-2",children:[l.jsx($l,{className:"w-4 h-4 text-primary"}),"  "]}),l.jsx(Zr,{variant:"outline",className:"text-[10px]",children:"Active Monitoring"})]}),l.jsx(en,{className:"flex-1 overflow-hidden p-0",children:l.jsx(ru,{className:"h-[400px] px-4",children:l.jsx("div",{className:"space-y-3 py-4",children:t.length===0?l.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm",children:"    "}):t.map(s=>l.jsxs("div",{className:`p-3 rounded-lg border flex flex-col gap-2 transition-all ${e(s.severity)}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 font-medium text-xs",children:[n(s.type),s.message]}),l.jsx("span",{className:"text-[10px] opacity-70",children:new Date(s.timestamp).toLocaleTimeString("ar-SA")})]}),s.actionTaken&&l.jsxs("div",{className:"flex items-center gap-1 text-[10px] bg-white/20 p-1 rounded px-2 w-fit",children:[l.jsx(Ws,{className:"w-3 h-3"}),": ",s.actionTaken]})]},s.id))})})})]})}const ipe=[" "," ","","","","",""," "],ope=[{value:"all",label:" "},{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}];function lpe(){Rs();const{toast:t}=wn(),r=xs(),{selectedProjectId:e}=ko(),[n,s]=P.useState(null),[a,i]=P.useState(!1),[c,u]=P.useState({description:"",amount:"",status:"pending"}),[o]=P.useState(ipe),{searchValue:d,filterValues:p,onSearchChange:f,onFilterChange:h,onReset:g}=zb({status:"all",region:"all"}),{data:y=[]}=Pt({queryKey:["wells",e],queryFn:async()=>{if(!e)return[];try{const $=await rw("wells");if($&&$.length>0)return $.filter(K=>K.projectId===e)}catch($){console.warn("Local wells fetch failed",$)}return(await qe(`/wells?projectId=${e}`)).data||[]},enabled:!!e}),{data:m=[]}=Pt({queryKey:["autocomplete/taskDescriptions",e],queryFn:async()=>{const R=await qe("/api/autocomplete?category=workerMiscDescriptions");return Array.isArray(R.data)?R.data:[]},enabled:!!e,staleTime:300*1e3}),{data:v=[]}=Pt({queryKey:["well-tasks",n],queryFn:async()=>{if(!n)return[];try{const $=await rw("wellTasks");if($&&$.length>0)return $.filter(K=>K.wellId===n)}catch($){console.warn("Local tasks fetch failed",$)}return(await qe(`/api/wells/${n}/tasks`)).data||[]},enabled:!!n}),x=$t({mutationFn:async R=>{if(!n)throw new Error("  ");return Ng("wellTasks","create",{...R,wellId:n,projectId:e,paidAmount:0,expectedAmount:parseFloat(R.amount)||0,createdAt:new Date().toISOString()},`/api/wells/${n}/tasks`)},onSuccess:()=>{t({title:"",description:"    ()"}),u({description:"",amount:"",status:"pending"}),i(!1),r.invalidateQueries({queryKey:["well-tasks",n]})},onError:R=>{t({title:"",description:R.message,variant:"destructive"})}}),j=$t({mutationFn:async({taskId:R,status:$})=>Ng("wellTasks","update",{id:R,status:$},`/api/wells/tasks/${R}/status`),onSuccess:()=>{t({title:"",description:"    ()"}),r.invalidateQueries({queryKey:["well-tasks",n]})},onError:R=>{t({title:"",description:R.message,variant:"destructive"})}});$t({mutationFn:async({taskId:R,amount:$})=>Ng("wellTaskAccounts","create",{taskId:R,amount:parseFloat($)||0,projectId:e,createdAt:new Date().toISOString()},`/wells/tasks/${R}/account`),onSuccess:()=>{t({title:"",description:"   ()"}),r.invalidateQueries({queryKey:["well-tasks",n]})},onError:R=>{t({title:"",description:R.message,variant:"destructive"})}});const{summary:T,isLoading:E}=dh(),B=P.useMemo(()=>v.filter(R=>R.status==="pending"),[v]),W=P.useMemo(()=>v.filter(R=>R.status==="completed"),[v]),I=P.useMemo(()=>y.filter(R=>{const $=R.ownerName.toLowerCase().includes(d.toLowerCase())||R.wellNumber.toString().includes(d),K=p.status==="all"||R.status===p.status,H=p.region==="all"||R.region===p.region;return $&&K&&H}),[y,d,p]);return l.jsx("div",{className:"min-h-screen bg-background p-4 md:p-6 space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[l.jsx("div",{children:l.jsx(V4,{searchValue:d,onSearchChange:f,searchPlaceholder:"     ...",showSearch:!0,filters:[{key:"region",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...o.map(R=>({value:R,label:R}))],defaultValue:"all"},{key:"status",label:"",type:"select",placeholder:" ",options:ope,defaultValue:"all"}],filterValues:p,onFilterChange:h,onReset:g,showResetButton:!0,showActiveFilters:!0,compact:!1})}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-lg font-semibold mb-3",children:["  (",I.length,")"]}),l.jsx(Ps,{columns:n?2:4,children:I.map(R=>l.jsx(vn,{title:` #${R.wellNumber}`,subtitle:R.ownerName,titleIcon:Bo,badges:[{label:R.status==="pending"?" ":R.status==="in_progress"?" ":"",variant:R.status==="completed"?"success":R.status==="in_progress"?"warning":"outline"}],fields:[{label:"",value:R.region,icon:Bo,color:"info"},{label:"",value:R.numberOfPanels,icon:ho,color:"success"},{label:"",value:R.numberOfPipes,icon:ho,color:"success"},{label:"",value:`${R.wellDepth}`,icon:Pn,color:"warning"},{label:"",value:`${R.completionPercentage}%`,emphasis:!0,color:"info",icon:Pn}],onClick:()=>s(R.id),className:n===R.id?"ring-2 ring-primary":"",compact:!0},R.id))})]}),n&&l.jsxs(l.Fragment,{children:[l.jsx(Wp,{title:" ",hideHeader:!1,stats:[{title:" ",value:Ye(T?.totalBalance||0),icon:Sr,color:"blue"},{title:" ",value:v.length,icon:ms,color:"blue"},{title:" ",value:B.length,icon:ms,color:"amber",status:B.length>0?"warning":void 0},{title:" ",value:W.length,icon:Ws,color:"green"}],columns:3,showStatus:!0}),l.jsxs(Ps,{columns:4,children:[l.jsx(vn,{title:" ",titleIcon:ms,fields:[{label:"",value:v.length,emphasis:!0,color:"info"}],compact:!0}),l.jsx(vn,{title:" ",titleIcon:ms,fields:[{label:"",value:B.length,emphasis:!0,color:"warning"}],compact:!0}),l.jsx(vn,{title:" ",titleIcon:Ws,fields:[{label:"",value:W.length,emphasis:!0,color:"success"}],compact:!0}),l.jsxs(Ks,{open:a,onOpenChange:i,children:[l.jsx(Uf,{asChild:!0,children:l.jsx("div",{className:"relative rounded-xl border bg-card text-card-foreground shadow-sm p-4 hover:shadow-md hover:border-primary/20 cursor-pointer",children:l.jsxs(Oe,{className:"w-full h-20",variant:"outline",children:[l.jsx(cs,{className:"h-5 w-5 ml-2"})," "]})})}),l.jsxs(As,{className:"max-w-md",children:[l.jsx(Gs,{children:l.jsx(da,{children:"  "})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Qe,{children:" "}),l.jsx(gt,{value:c.description,onChange:R=>u({...c,description:R.target.value}),placeholder:":  "})]}),l.jsxs("div",{children:[l.jsx(Qe,{children:" "}),l.jsx(gt,{type:"number",value:c.amount,onChange:R=>u({...c,amount:R.target.value}),placeholder:"0"})]}),l.jsx(Oe,{onClick:()=>x.mutate(c),disabled:x.isPending,className:"w-full",children:x.isPending?"...":" "})]})]})]})]}),B.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[l.jsx(ms,{className:"h-5 w-5 text-yellow-600"}),"  (",B.length,")"]}),l.jsx(Ps,{columns:1,children:B.map(R=>l.jsx(vn,{title:R.description,subtitle:`: ${Ye(R.expectedAmount||0)}`,titleIcon:ms,badges:[{label:"",variant:"warning"}],fields:[{label:"",value:"",icon:ms,color:"warning"},{label:" ",value:Ye(R.expectedAmount||0),emphasis:!0,icon:Sr,color:"info"},{label:" ",value:Ye(R.paidAmount||0),icon:Sr,color:"success"}],actions:[{icon:Ws,label:"",onClick:()=>j.mutate({taskId:R.id,status:"completed"}),color:"green"}],compact:!0},R.id))})]}),W.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[l.jsx(Ws,{className:"h-5 w-5 text-green-600"}),"  (",W.length,")"]}),l.jsx(Ps,{columns:1,children:W.map(R=>l.jsx(vn,{title:R.description,subtitle:`: ${Ye(R.expectedAmount||0)}`,titleIcon:Ws,badges:[{label:"",variant:"success"}],fields:[{label:"",value:"",icon:Ws,color:"success"},{label:" ",value:Ye(R.expectedAmount||0),emphasis:!0,icon:Sr,color:"info"},{label:" ",value:Ye(R.paidAmount||0),icon:Sr,color:"success"}],compact:!0},R.id))})]}),v.length===0&&l.jsx(vn,{title:"  ",subtitle:"  ",titleIcon:Da,fields:[{label:"",value:"   "}]})]})]}),l.jsx("div",{className:"lg:col-span-1 space-y-6",children:l.jsx(ape,{})})]})})}function cpe(){const[t,r]=P.useState(od()),[e,n]=P.useState(null),{data:s,isLoading:a,refetch:i}=Pt({queryKey:["/api/admin/data-health"]});if(P.useEffect(()=>{const o=document.querySelector(".layout-header h1, .layout-header .text-lg");o&&(o.textContent="    ");const d=setInterval(()=>{r(od())},2e3);return By().then(n),()=>clearInterval(d)},[]),a)return l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[l.jsx(CA,{className:"h-12 w-12 text-primary animate-pulse"}),l.jsx("p",{className:"text-muted-foreground animate-pulse font-medium",children:"     ..."})]});const c=s?.data,u=e?.differences?.slice(0,5).map(o=>({name:o.table,central:100,local:Math.round(o.clientCount/(o.serverCount||1)*100)}))||[{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100}];return l.jsxs("div",{className:"space-y-6 pb-10",dir:"rtl",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-card p-4 rounded-xl border shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(pi,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-sm font-semibold text-foreground",children:" "}),l.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:t.isOnline?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"relative flex h-2 w-2",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),l.jsx("span",{className:"text-xs text-green-600 font-medium font-mono",children:"ONLINE - CENTRAL SYNC ACTIVE"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"relative flex h-2 w-2",children:l.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-orange-500"})}),l.jsx("span",{className:"text-xs text-orange-600 font-medium font-mono",children:"OFFLINE - EMERGENCY MODE"})]})})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex flex-col items-end px-3 border-r border-dashed",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold",children:"Pending Sync"}),l.jsx("span",{className:"text-sm font-black font-mono",children:t.pendingCount})]}),l.jsxs(Oe,{onClick:()=>i(),variant:"default",size:"sm",className:"gap-2 hover-elevate active-elevate-2",children:[l.jsx(Bi,{className:`h-4 w-4 ${t.isSyncing?"animate-spin":""}`})," "]})]})]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:c?.databases.map((o,d)=>l.jsxs(Ir,{className:"overflow-hidden border-none shadow-md bg-gradient-to-br from-card to-muted/30 hover-elevate group",children:[l.jsx("div",{className:`h-1 w-full ${o.status==="online"||o.status==="active"?"bg-green-500":"bg-red-500"}`}),l.jsxs(Ma,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-md ${o.status==="online"||o.status==="active"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"}`,children:o.name.includes("Central")?l.jsx(Ff,{className:"h-4 w-4"}):o.name.includes("Supabase")?l.jsx(t_,{className:"h-4 w-4"}):l.jsx(Pp,{className:"h-4 w-4"})}),l.jsxs("div",{children:[l.jsx(Qa,{className:"text-sm font-bold",children:o.name}),l.jsx(Ac,{className:"text-[10px] uppercase",children:o.status==="online"||o.status==="active"?"Active":o.status==="standby"?"Standby":"Disconnected"})]})]}),l.jsx(Zr,{variant:o.status==="online"||o.status==="active"?"success":"outline",className:"h-5 text-[10px]",children:o.status==="online"||o.status==="active"?"":""})]}),l.jsx(en,{children:l.jsxs("div",{className:"space-y-3 mt-2",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsx("span",{className:"text-2xl font-black font-mono tracking-tighter",children:o.latency}),l.jsx("span",{className:"text-[10px] text-muted-foreground font-medium uppercase",children:"Response Time"})]}),l.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-muted",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-muted-foreground font-bold text-[10px] uppercase",children:"Tables"}),l.jsx("span",{className:"font-bold",children:o.tablesCount})]}),l.jsxs("div",{className:"flex flex-col text-left",children:[l.jsx("span",{className:"text-muted-foreground font-bold text-[10px] uppercase",children:"Integrity"}),l.jsx("span",{className:"font-bold text-green-600",children:"VALID"})]})]})]})})]},d))}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsxs(Ir,{className:"border-none shadow-lg",children:[l.jsxs(Ma,{children:[l.jsxs(Qa,{className:"text-lg flex items-center gap-2 text-primary",children:[l.jsx(Ap,{className:"h-5 w-5"}),"  "]}),l.jsx(Ac,{children:"      "})]}),l.jsxs(en,{children:[l.jsx("div",{className:"space-y-6",children:u.map((o,d)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:o.name}),l.jsxs("div",{className:"flex gap-2 font-mono text-[10px]",children:[l.jsxs("span",{className:"text-blue-600",children:["CENTRAL: ",o.central,"%"]}),l.jsxs("span",{className:"text-green-600",children:["LOCAL: ",o.local,"%"]})]})]}),l.jsx(Qc,{value:o.local,className:"h-1.5"})]},d))}),l.jsx("div",{className:"mt-8 p-4 bg-primary/5 rounded-xl border border-dashed border-primary/20",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-green-500/10 rounded-full",children:l.jsx(Pl,{className:"h-5 w-5 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-bold",children:"  (Emergency Failover)"}),l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"    SQLite    PostgreSQL"})]})]})})]})]}),l.jsxs(Ir,{className:"border-none shadow-lg",children:[l.jsxs(Ma,{children:[l.jsxs(Qa,{className:"text-lg flex items-center gap-2 text-primary",children:[l.jsx($l,{className:"h-5 w-5"}),"  "]}),l.jsx(Ac,{children:"    "})]}),l.jsxs(en,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Latency"}),l.jsxs("div",{className:"text-xl font-black font-mono text-primary",children:[t.latency||0,"ms"]})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Success Rate"}),l.jsx("div",{className:"text-xl font-black font-mono text-green-600",children:"99.9%"})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Synced Records"}),l.jsx("div",{className:"text-xl font-black font-mono",children:c?.integrity.totalRecords.toLocaleString()})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Engine Mode"}),l.jsx("div",{className:"text-xl font-black font-mono text-blue-600 uppercase",children:t.isOnline?"Cloud":"Edge"})]})]}),l.jsxs("div",{className:"mt-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs font-bold",children:[l.jsx("span",{children:"   "}),l.jsx("span",{className:"text-green-500",children:"100%"})]}),l.jsx(Qc,{value:100,className:"h-2 bg-green-500/20"}),l.jsx("p",{className:"text-[10px] text-muted-foreground leading-relaxed italic",children:"*    CRC64               ."})]})]})]})]})]})}const rB=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:e,className:Pe("w-full caption-bottom text-sm",t),...r})}));rB.displayName="Table";const nB=P.forwardRef(({className:t,...r},e)=>l.jsx("thead",{ref:e,className:Pe("[&_tr]:border-b",t),...r}));nB.displayName="TableHeader";const sB=P.forwardRef(({className:t,...r},e)=>l.jsx("tbody",{ref:e,className:Pe("[&_tr:last-child]:border-0",t),...r}));sB.displayName="TableBody";const upe=P.forwardRef(({className:t,...r},e)=>l.jsx("tfoot",{ref:e,className:Pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r}));upe.displayName="TableFooter";const Xg=P.forwardRef(({className:t,...r},e)=>l.jsx("tr",{ref:e,className:Pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r}));Xg.displayName="TableRow";const hp=P.forwardRef(({className:t,...r},e)=>l.jsx("th",{ref:e,className:Pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r}));hp.displayName="TableHead";const wl=P.forwardRef(({className:t,...r},e)=>l.jsx("td",{ref:e,className:Pe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r}));wl.displayName="TableCell";const dpe=P.forwardRef(({className:t,...r},e)=>l.jsx("caption",{ref:e,className:Pe("mt-4 text-sm text-muted-foreground",t),...r}));dpe.displayName="TableCaption";function fpe(){wn();const[t,r]=P.useState(""),[e,n]=P.useState(od()),[s,a]=P.useState(null),[i,c]=P.useState({}),{data:u,isLoading:o,refetch:d}=Pt({queryKey:["/api/admin/data-health"]});P.useEffect(()=>{const f=setInterval(()=>{n(od())},2e3);return(async()=>{try{const g=await Hn(),y={},m=Array.from(g.objectStoreNames);for(const v of m)try{const j=await g.transaction(v,"readonly").store.count();y[v]=j}catch{y[v]=0}c(y)}catch(g){console.error("Local stats error:",g)}})(),By().then(a),()=>clearInterval(f)},[]);const p=u?.data;return l.jsxs("div",{className:"container mx-auto p-6 space-y-8",dir:"rtl",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-black tracking-tight flex items-center gap-3",children:[l.jsx(CA,{className:"h-8 w-8 text-primary"}),"   "]}),l.jsx("p",{className:"text-muted-foreground mt-1 font-medium",children:"     "})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Zr,{variant:e.isOnline?"success":"destructive",className:"h-8 px-4 text-xs font-mono uppercase tracking-widest border-2",children:[e.isOnline?l.jsx(ny,{className:"w-3 h-3 ml-2"}):l.jsx(i_,{className:"w-3 h-3 ml-2"}),e.isOnline?"Online":"Offline / Emergency"]}),l.jsxs(Oe,{onClick:()=>{d(),By().then(a)},variant:"outline",size:"sm",className:"gap-2 hover-elevate",children:[l.jsx(Bi,{className:`h-4 w-4 ${o?"animate-spin":""}`})," "]})]})]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:p?.databases.map((f,h)=>l.jsxs(Ir,{className:"overflow-hidden border-2 shadow-sm hover-elevate group transition-all",children:[l.jsx("div",{className:`h-1.5 w-full ${f.status==="online"||f.status==="active"?"bg-green-500":f.status==="standby"?"bg-blue-500":"bg-red-500"}`}),l.jsxs(Ma,{className:"pb-2",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("div",{className:`p-2.5 rounded-xl ${f.status==="online"||f.status==="active"?"bg-green-500/10 text-green-600":"bg-slate-500/10 text-slate-600"}`,children:f.name.includes("Central")?l.jsx(Ff,{className:"h-5 w-5"}):f.name.includes("Supabase")?l.jsx(t_,{className:"h-5 w-5"}):l.jsx(Pp,{className:"h-5 w-5"})}),l.jsx(Zr,{variant:f.status==="online"||f.status==="active"?"success":"outline",className:"text-[10px] font-mono",children:f.status==="online"||f.status==="active"?"ACTIVE":"STANDBY"})]}),l.jsx(Qa,{className:"text-lg font-black mt-3",children:f.name}),l.jsx(Ac,{className:"text-xs font-mono",children:f.latency!=="N/A"?`Response: ${f.latency}`:"Waiting for connection..."})]}),l.jsx(en,{children:l.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase block",children:"Tables"}),l.jsx("span",{className:"text-xl font-black font-mono",children:f.tablesCount})]}),l.jsxs("div",{className:"text-left space-y-0.5",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase block",children:"Health"}),l.jsx("span",{className:"text-xs font-bold text-green-600",children:"VERIFIED"})]})]})})]},h))}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[l.jsxs(Ir,{className:"lg:col-span-2 border-none shadow-xl bg-card/50 backdrop-blur-sm",children:[l.jsx(Ma,{children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs(Qa,{className:"text-xl flex items-center gap-2",children:[l.jsx(bq,{className:"h-5 w-5 text-primary"}),"  (Master vs Local)"]}),l.jsx(Ac,{children:"      "})]}),l.jsx(Zr,{variant:"outline",className:"font-mono",children:"Real-time Check"})]})}),l.jsx(en,{children:l.jsxs(rB,{children:[l.jsx(nB,{children:l.jsxs(Xg,{className:"hover:bg-transparent",children:[l.jsx(hp,{className:"text-right",children:""}),l.jsx(hp,{className:"text-center",children:" (Cloud)"}),l.jsx(hp,{className:"text-center",children:" (Local)"}),l.jsx(hp,{className:"text-left",children:""})]})}),l.jsx(sB,{children:s?.differences?.length>0?s.differences.map((f,h)=>l.jsxs(Xg,{children:[l.jsx(wl,{className:"font-bold",children:f.table}),l.jsx(wl,{className:"text-center font-mono",children:f.serverCount}),l.jsx(wl,{className:"text-center font-mono",children:f.clientCount}),l.jsx(wl,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qc,{value:Math.min(100,f.clientCount/(f.serverCount||1)*100),className:"h-1.5 w-20"}),l.jsx("span",{className:`text-[10px] font-bold ${f.diff===0?"text-green-600":"text-orange-600"}`,children:f.diff===0?" ":` ${f.diff}`})]})})]},h)):Object.keys(i).map((f,h)=>l.jsxs(Xg,{children:[l.jsx(wl,{className:"font-bold",children:f}),l.jsx(wl,{className:"text-center font-mono",children:"--"}),l.jsx(wl,{className:"text-center font-mono",children:i[f]||0}),l.jsx(wl,{children:l.jsx("span",{className:"text-[10px] text-muted-foreground italic",children:"  ..."})})]},h))})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Ir,{className:"border-none shadow-xl bg-primary text-primary-foreground",children:[l.jsx(Ma,{className:"pb-2",children:l.jsxs(Qa,{className:"text-lg flex items-center gap-2",children:[l.jsx(Pl,{className:"h-5 w-5"})," "]})}),l.jsxs(en,{className:"space-y-4",children:[l.jsxs("div",{className:"bg-white/10 p-4 rounded-xl space-y-1",children:[l.jsx("span",{className:"text-[10px] uppercase font-bold opacity-70",children:"Integrity Score"}),l.jsx("div",{className:"text-3xl font-black font-mono tracking-tighter",children:"100%"})]}),l.jsxs("div",{className:"flex justify-between items-center text-xs",children:[l.jsx("span",{className:"opacity-80",children:" :"}),l.jsx("span",{className:"font-mono font-bold bg-white/20 px-2 py-0.5 rounded",children:"CRC64-AES"})]}),l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between mb-1.5 text-xs font-bold",children:[l.jsx("span",{children:"  "}),l.jsx("span",{children:"100%"})]}),l.jsx(Qc,{value:100,className:"h-1.5 bg-white/20"})]})]})]}),l.jsxs(Ir,{className:"border-none shadow-xl",children:[l.jsx(Ma,{className:"pb-2",children:l.jsxs(Qa,{className:"text-lg flex items-center gap-2",children:[l.jsx(pi,{className:"h-5 w-5 text-primary"})," "]})}),l.jsxs(en,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 border",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold block",children:"Latency"}),l.jsx("span",{className:"text-lg font-black font-mono text-primary",children:e.latency||p?.databases[0]?.latency||"--"})]}),l.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 border",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold block",children:"Pending"}),l.jsx("span",{className:"text-lg font-black font-mono text-orange-600",children:e.pendingCount})]})]}),l.jsx("div",{className:"p-4 rounded-xl border border-dashed text-center",children:l.jsx("p",{className:"text-[10px] text-muted-foreground leading-relaxed",children:"    30        ."})})]})]})]})]})]})}function hpe(){const[t,r]=P.useState(()=>od()),[e,n]=P.useState(navigator.onLine);P.useEffect(()=>{const c=ev(d=>{r(d)}),u=()=>{n(!0),Dc().catch(console.error)},o=()=>{n(!1)};return window.addEventListener("online",u),window.addEventListener("offline",o),()=>{c(),window.removeEventListener("online",u),window.removeEventListener("offline",o)}},[]);const s=async()=>{e&&await Dc()},a=async c=>{await ghe(c);const u=await gh();r(o=>({...o,pendingCount:u.length}))},i=async()=>{const c=await yhe();r(u=>({...u,pendingCount:0,lastError:`  ${c}  `}))};return{isSyncing:t.isSyncing,offlineCount:t.pendingCount,lastSync:t.lastSync,lastError:t.lastError,lastErrorType:t.lastErrorType,lastErrorDetails:t.lastErrorDetails,isOnline:e,manualSync:s,cancelOperation:a,cancelAllOperations:i,latency:t.latency}}function ppe(){const{isSyncing:t,offlineCount:r,isOnline:e,lastSync:n,lastError:s,lastErrorType:a,manualSync:i,cancelAllOperations:c,latency:u}=hpe(),[o,d]=P.useState(!1),p=async()=>{d(!0),await i(),d(!1)},f=async()=>{window.confirm("       ")&&await c()},h=y=>y<200?"text-green-500":y<500?"text-yellow-500":"text-red-500",g=y=>{switch(y){case"timeout":return"  ";case"network":return"  ";case"server":return"  ";case"validation":return"  ";default:return" "}};return l.jsxs(k4,{children:[l.jsx(j4,{asChild:!0,children:l.jsxs(Oe,{variant:"ghost",size:"sm",className:"p-2 rounded-full hover:bg-primary/80 relative",title:" ",children:[t||o?l.jsx(Ln,{className:"h-4 w-4 md:h-5 md:w-5 animate-spin"}):e?r>0?l.jsx(Bi,{className:"h-4 w-4 md:h-5 md:w-5 text-orange-500"}):l.jsx(ny,{className:"h-4 w-4 md:h-5 md:w-5 text-green-500"}):l.jsx(i_,{className:"h-4 w-4 md:h-5 md:w-5 text-yellow-500"}),r>0&&l.jsx(Zr,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-[10px] rounded-full",children:r})]})}),l.jsxs(Ob,{align:"end",className:"w-64",children:[l.jsxs(S4,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Bi,{className:"h-4 w-4"})," "]}),u&&e&&l.jsxs("span",{className:`text-[10px] font-mono ${h(u)}`,children:[u,"ms"]})]}),l.jsx(N4,{}),l.jsxs("div",{className:"px-3 py-2 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:" :"}),l.jsx("div",{className:"flex items-center gap-1.5",children:e?l.jsxs(l.Fragment,{children:[l.jsx(Zr,{variant:"outline",className:"text-green-600 bg-green-50 border-green-200",children:""}),l.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Zr,{variant:"outline",className:"text-yellow-600 bg-yellow-50 border-yellow-200",children:""}),l.jsx("div",{className:"h-2 w-2 rounded-full bg-yellow-500 animate-pulse"})]})})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:" :"}),l.jsx("span",{className:`font-bold ${r>0?"text-orange-600":"text-green-600"}`,children:r})]}),(t||o)&&l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[l.jsx("span",{children:" ..."}),l.jsx("span",{children:" "})]}),l.jsx(Qc,{value:void 0,className:"h-1"})]}),l.jsx("div",{className:"text-[10px] text-muted-foreground pt-1 border-t",children:n>0?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ws,{className:"h-3 w-3 text-green-500"}),l.jsxs("span",{children:[" : ",wse(n,{addSuffix:!0,locale:Xs})]})]}):l.jsx("span",{children:"   "})}),s&&l.jsxs("div",{className:"text-[10px] text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-2 rounded flex gap-2 items-start mt-2 flex-col",children:[l.jsxs("div",{className:"flex gap-1 items-start w-full",children:[l.jsx(Da,{className:"h-3 w-3 mt-0.5 shrink-0 text-red-500"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold",children:g(a)}),l.jsx("span",{className:"break-words line-clamp-2 text-red-500",children:s})]})]}),r>0&&l.jsxs("button",{onClick:f,className:"text-xs bg-red-200 dark:bg-red-800 text-red-700 dark:text-red-200 px-2 py-1 rounded hover:bg-red-300 dark:hover:bg-red-700 transition-colors w-full","data-testid":"button-cancel-all-operations",children:["   (",r,")"]})]}),l.jsx(Oe,{className:"w-full mt-2 h-8 text-xs gap-2",onClick:p,disabled:!e||t||o||r===0,children:t||o?l.jsxs(l.Fragment,{children:[l.jsx(Ln,{className:"h-3 w-3 animate-spin"})," ..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Bi,{className:"h-3 w-3"})," "]})})]})]})]})}const mpe={"/":{title:" ",icon:Mp},"/projects":{title:" ",icon:bs},"/workers":{title:" ",icon:On},"/suppliers-pro":{title:" ",icon:Hs},"/worker-attendance":{title:" ",icon:Sm},"/worker-accounts":{title:" ",icon:Sr},"/material-purchase":{title:" ",icon:jn},"/project-transfers":{title:"  ",icon:Jy},"/project-transactions":{title:" ",icon:Xa},"/well-accounting":{title:" ",icon:Vo},"/well-cost-report":{title:"  ",icon:Xa},"/wells":{title:" ",icon:TA},"/transport-management":{title:" ",icon:Hs},"/daily-expenses":{title:" ",icon:Sr},"/deployment":{title:"   ",icon:pi},"/settings":{title:" ",icon:tb},"/project-fund-custody":{title:"  ",icon:Zu},"/admin-notifications":{title:" ",icon:Ml},"/ai-chat":{title:" ",icon:n_},"/security-policies":{title:" ",icon:lq},"/equipment":{title:" ",icon:ho},"/real-reports":{title:" ",icon:XW},"/professional-reports":{title:" ",icon:QW},"/local-db":{title:"   ",icon:Ll}};function gpe(){const[t]=Rs(),{toast:r}=wn(),{selectedProjectId:e,selectedProjectName:n,selectProject:s}=ko(),[a,i]=P.useState({isOnline:!0,pendingCount:0}),[c,u]=P.useState(()=>typeof window<"u"&&document.documentElement.classList.contains("dark")?"dark":"light");P.useEffect(()=>{const v=window.document.documentElement;c==="dark"?v.classList.add("dark"):v.classList.remove("dark"),localStorage.setItem("theme",c)},[c]);const o=()=>{u(v=>v==="light"?"dark":"light")};P.useEffect(()=>{const v=ev(x=>{i({isOnline:x.isOnline,pendingCount:x.pendingCount||0})});return()=>v()},[]);const{isOnline:d,pendingCount:p}=a,{data:f=[],isLoading:h}=Pt({queryKey:["/api/projects"],queryFn:async()=>{try{const v=await qe("/api/projects","GET");return v?.data||v||[]}catch{return[]}}}),g=mpe[t]||{title:" ",icon:nq},y=g.icon,m=(v,x)=>{s(v,x),r({title:"  ",description:x})};return l.jsxs("div",{className:"flex items-center justify-between h-full w-full",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-primary/10 p-1.5 rounded-lg text-primary",children:l.jsx(y,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex flex-col justify-center",children:[l.jsx("h1",{className:"text-sm font-bold leading-tight text-slate-900 dark:text-white",children:g.title}),l.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-black uppercase tracking-widest",children:"Orax System"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ppe,{}),l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800",children:[d?l.jsx(qW,{className:"h-4 w-4 text-green-500"}):l.jsx(jA,{className:"h-4 w-4 text-yellow-500"}),p>0&&l.jsxs("div",{className:"flex items-center gap-1 border-r border-slate-200 dark:border-slate-700 pr-1 mr-1",children:[l.jsx(Bi,{className:"h-3 w-3 animate-spin text-primary"}),l.jsx("span",{className:"text-[10px] font-bold text-primary",children:p})]})]}),l.jsx(Oe,{variant:"outline",size:"icon",onClick:o,className:"h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",title:c==="light"?" ":" ",children:c==="light"?l.jsx(uq,{className:"h-4 w-4 text-slate-700"}):l.jsx(yq,{className:"h-4 w-4 text-amber-400"})}),l.jsxs(k4,{children:[l.jsx(j4,{asChild:!0,children:l.jsx(Oe,{variant:"outline",size:"icon",className:"h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",title:e?e===ps?Mo:n:" ",children:l.jsx(ZW,{className:"h-4 w-4 text-primary"})})}),l.jsxs(Ob,{align:"end",className:"w-64 max-h-80",children:[l.jsx(S4,{className:"text-right",children:" "}),l.jsx(N4,{}),h?l.jsx("div",{className:"p-4 text-center text-xs",children:" ..."}):l.jsxs(l.Fragment,{children:[l.jsxs(ky,{onClick:()=>m(ps,Mo),className:"flex justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(TA,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{children:Mo})]}),e===ps&&l.jsx(Ws,{className:"h-4 w-4 text-green-500"})]}),f.map(v=>l.jsxs(ky,{onClick:()=>m(v.id.toString(),v.name),className:"flex justify-between",children:[l.jsx("span",{children:v.name}),e===v.id.toString()&&l.jsx(Ws,{className:"h-4 w-4 text-green-500"})]},v.id))]})]})]})]})]})}const ype=[{path:"/",icon:Mp,label:"",key:"dashboard"},{path:"/projects",icon:bs,label:"",key:"projects"},{path:"/workers",icon:On,label:"",key:"workers"},{path:"/material-purchase",icon:jn,label:"",key:"material_purchase"},{path:"/transport-management",icon:Hs,label:"",key:"transport_management"},{path:"/worker-attendance",icon:Sm,label:"",key:"attendance"},{path:"/daily-expenses",icon:Vo,label:"",key:"expenses"}],bpe=[{category:" ",pages:[{path:"/",icon:Mp,label:" ",description:"   ",requireAdmin:!1},{path:"/projects",icon:bs,label:" ",description:"  ",requireAdmin:!1},{path:"/workers",icon:On,label:" ",description:"   ",requireAdmin:!1},{path:"/suppliers-pro",icon:Hs,label:" ",description:"  ",requireAdmin:!1}]},{category:" ",pages:[{path:"/wells",icon:Bo,label:" ",description:"   ",requireAdmin:!1},{path:"/well-accounting",icon:Vo,label:" ",description:"   ",requireAdmin:!1},{path:"/well-cost-report",icon:Nw,label:" ",description:"   ",requireAdmin:!1},{path:"/worker-attendance",icon:Sm,label:" ",description:"   ",requireAdmin:!1},{path:"/daily-expenses",icon:Vo,label:" ",description:"   ",requireAdmin:!1},{path:"/material-purchase",icon:jn,label:" ",description:"   ",requireAdmin:!1},{path:"/transport-management",icon:Hs,label:" ",description:"    ",requireAdmin:!1},{path:"/worker-accounts",icon:Sr,label:" ",description:"   ",requireAdmin:!0},{path:"/equipment",icon:tb,label:" ",description:"    ",requireAdmin:!0},{path:"/project-fund-custody",icon:Sr,label:" ",description:"   ",requireAdmin:!0},{path:"/project-transfers",icon:Jy,label:"  ",description:"    ",requireAdmin:!0},{path:"/project-transactions",icon:Xa,label:" ",description:"    ",requireAdmin:!0}]},{category:" ",pages:[{path:"/supplier-accounts",icon:NA,label:" ",description:"   ",requireAdmin:!0}]},{category:"",pages:[{path:"/professional-reports",icon:Nw,label:" ",description:"      ",requireAdmin:!1}]},{category:" ",pages:[{path:"/users-management",icon:On,label:" ",description:"   ",requireAdmin:!0}]},{category:" ",pages:[{path:"/notifications",icon:hf,label:"",description:"   ",requireAdmin:!1}]},{category:" ",pages:[{path:"/security-policies",icon:Ml,label:" ",description:"   ",requireAdmin:!0},{path:"/smart-errors",icon:Ll,label:"  ",description:"      ",requireAdmin:!0}]},{category:" ",pages:[{path:"/autocomplete-admin",icon:ho,label:"  ",description:"   ",requireAdmin:!0},{path:"/admin-notifications",icon:hf,label:" ",description:"   ",requireAdmin:!0},{path:"/deployment",icon:PA,label:"  ",description:"     ",requireAdmin:!0}]},{category:" ",pages:[{path:"/ai-chat",icon:vA,label:" ",description:"    ",requireAdmin:!0},{path:"/local-db",icon:Ll,label:"  ",description:"    ",requireAdmin:!0},{path:"/admin/backups",icon:Ml,label:" ",description:"   ",requireAdmin:!0}]}];function vpe(){const[t,r]=Rs(),[e,n]=P.useState(!1),[s,a]=P.useState(""),{user:i}=Gl(),c=i?.role==="admin",u=bpe.map(f=>({...f,pages:f.pages.filter(h=>!h.requireAdmin||c)})).filter(f=>f.pages.length>0),o=P.useMemo(()=>{if(!s.trim())return u;const f=s.toLowerCase();return u.map(h=>({...h,pages:h.pages.filter(g=>g.label.toLowerCase().includes(f)||g.description.toLowerCase().includes(f))})).filter(h=>h.pages.length>0)},[s,u]),d=f=>{r(f),n(!1),a("")},p=u.reduce((f,h)=>f+h.pages.length,0);return l.jsx("nav",{className:"bg-white dark:bg-slate-900 flex-shrink-0 h-full w-full relative z-[50]",onClick:f=>f.stopPropagation(),children:l.jsxs("div",{className:"flex justify-around items-center h-full w-full max-w-screen-xl mx-auto px-2 relative",children:[ype.map(f=>{const h=f.icon,g=t===f.path;return l.jsxs(Oe,{variant:"ghost","data-testid":`nav-item-${f.key}`,className:`flex flex-col items-center justify-center gap-1 h-full min-w-[50px] px-1 rounded-xl transition-all duration-500 relative group no-default-hover-elevate no-default-active-elevate ${g?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,onClick:()=>r(f.path),children:[l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx(cy,{children:g&&l.jsx(kn.div,{layoutId:"nav-bg",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"absolute inset-[-6px] bg-blue-50 dark:bg-blue-900/20 rounded-xl z-0"})}),l.jsx(h,{className:`h-[22px] w-[22px] z-10 transition-transform duration-500 ${g?"scale-110":"group-hover:scale-105"}`})]}),l.jsx("span",{className:`text-[11px] font-medium z-10 transition-all duration-500 ${g?"opacity-100 translate-y-0":"opacity-70 group-hover:opacity-100"}`,children:f.label}),g&&l.jsx(kn.div,{layoutId:"nav-dot",className:"absolute -top-[1px] left-1/2 -translate-x-1/2 w-5 h-[3px] bg-blue-600 dark:bg-blue-400 rounded-full",initial:{opacity:0},animate:{opacity:1}})]},f.key)}),l.jsxs(Fb,{open:e,onOpenChange:n,modal:!0,children:[l.jsx(C4,{asChild:!0,children:l.jsxs(Oe,{variant:"ghost","data-testid":"nav-more-button",className:`flex flex-col items-center justify-center gap-1 h-full min-w-[50px] px-1 rounded-xl transition-all duration-500 relative group no-default-hover-elevate no-default-active-elevate ${e?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,children:[l.jsxs("div",{className:"relative flex items-center justify-center",children:[e&&l.jsx("div",{className:"absolute inset-[-6px] bg-blue-50 dark:bg-blue-900/20 rounded-xl"}),l.jsx(KW,{className:`h-[22px] w-[22px] z-10 transition-transform duration-500 ${e?"scale-110":"group-hover:scale-105"}`})]}),l.jsx("span",{className:`text-[11px] font-medium z-10 transition-all duration-500 ${e?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:""})]})}),l.jsxs(qm,{side:"bottom",className:"h-[90vh] rounded-t-[28px] px-0 border-none shadow-[0_-15px_50px_rgba(0,0,0,0.15)] bg-white dark:bg-slate-950 backdrop-blur-2xl z-[20002]",onPointerDownOutside:()=>n(!1),onInteractOutside:()=>n(!1),children:[l.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-800 rounded-full mx-auto my-3"}),l.jsxs("div",{className:"px-4 mb-4 space-y-3",children:[l.jsx(T4,{children:l.jsx(Hm,{className:"text-right text-2xl font-bold bg-gradient-to-l from-blue-600 to-blue-500 bg-clip-text text-transparent dark:from-blue-400 dark:to-blue-300",children:" "})}),l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-100 dark:border-blue-800/30",children:[l.jsxs("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:[o.reduce((f,h)=>f+h.pages.length,0),"  ",p]}),l.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:" "})]}),l.jsxs("div",{className:"relative group",children:[l.jsx(Bl,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 dark:text-slate-500 z-10 pointer-events-none"}),l.jsx(gt,{"data-testid":"input-menu-search",type:"text",placeholder:"  ...",value:s,onChange:f=>a(f.target.value),className:"w-full h-10 pr-10 pl-4 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-600 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-0 dark:focus-visible:ring-offset-0 transition-all duration-300"}),s&&l.jsx(Oe,{type:"button",variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 h-6 w-6 z-10 hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>a(""),children:l.jsx(Es,{className:"h-4 w-4 text-slate-400 dark:text-slate-500"})})]})]}),l.jsx(ru,{className:"h-[calc(90vh-180px)]",children:l.jsx("div",{className:"px-4 pb-24",children:o.length>0?l.jsx("div",{className:"space-y-6",children:l.jsx(cy,{mode:"wait",children:o.map((f,h)=>l.jsxs(kn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:h*.05},className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3 px-2 mb-3",children:[l.jsx("div",{className:"h-0.5 flex-1 bg-gradient-to-l from-slate-200 dark:from-slate-800 to-transparent"}),l.jsx("h3",{className:"font-bold text-xs text-slate-500 dark:text-slate-400 uppercase tracking-widest whitespace-nowrap",children:f.category}),l.jsx("div",{className:"h-0.5 flex-1 bg-gradient-to-r from-slate-200 dark:from-slate-800 to-transparent"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.pages.map((g,y)=>{const m=g.icon,v=t===g.path;return l.jsx(kn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:y*.03},whileHover:{scale:1.02},whileTap:{scale:.98},children:l.jsxs(Oe,{variant:"ghost","data-testid":`menu-item-${g.path}`,className:`w-full h-auto p-4 rounded-2xl border-2 transition-all duration-300 overflow-hidden relative group cursor-pointer ${v?"bg-gradient-to-br from-blue-600 to-blue-700 text-white border-blue-600 shadow-lg shadow-blue-200 dark:shadow-blue-950 dark:from-blue-600 dark:to-blue-700":"bg-white dark:bg-slate-900/40 border-slate-100 dark:border-slate-800/50 text-slate-900 dark:text-white hover:border-blue-300 dark:hover:border-blue-700/50 hover:bg-blue-50/50 dark:hover:bg-blue-900/10"}`,onClick:()=>d(g.path),children:[!v&&l.jsx(kn.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-400/0 to-blue-500/0 opacity-0 group-hover:opacity-10 dark:group-hover:opacity-20 transition-opacity duration-300",whileHover:{opacity:1}}),l.jsxs("div",{className:"flex items-center gap-3 w-full relative z-10",children:[l.jsx(kn.div,{className:`p-2.5 rounded-2xl transition-all duration-300 flex-shrink-0 ${v?"bg-white/25 shadow-lg":"bg-slate-100 dark:bg-slate-800/80 text-blue-600 dark:text-blue-400 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/40"}`,whileHover:{scale:1.15,rotate:5},transition:{type:"spring",stiffness:400},children:l.jsx(m,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex-1 min-w-0 text-right",children:[l.jsx("div",{className:`font-bold text-sm leading-tight mb-1 truncate transition-all duration-300 ${v?"text-white":"text-slate-900 dark:text-slate-100"}`,children:g.label}),l.jsx("div",{className:`text-[11px] leading-tight truncate transition-all duration-300 ${v?"text-white/85":"text-slate-500 dark:text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300"}`,children:g.description})]})]})]})},y)})})]},h))})}):l.jsxs(kn.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx(Bl,{className:"h-12 w-12 text-slate-300 dark:text-slate-700 mb-3"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"  "}),l.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs",children:"   "})]})})})]})]})]})})}function xpe(){const{floatingAction:t,floatingLabel:r}=jo();if(!t)return null;const e=()=>{t&&t()};return l.jsx("div",{className:"fixed bottom-[calc(90px+env(safe-area-inset-bottom,0px))] right-6 z-[110] pointer-events-auto",children:l.jsx(Oe,{onClick:e,className:"h-12 w-12 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 border-0 text-white",size:"icon",title:r,"data-testid":"button-floating-add",children:l.jsx(cs,{className:"h-5 w-5"})})})}function wpe(){return l.jsx("div",{title:"PRODUCTION",className:"p-1.5 rounded-lg transition-all duration-300 text-emerald-600 bg-emerald-50 dark:bg-emerald-950/20 border border-emerald-500/30",children:l.jsx(Pl,{className:"h-4 w-4"})})}const R1=768;function _pe(){const[t,r]=P.useState(void 0);return P.useEffect(()=>{const e=window.matchMedia(`(max-width: ${R1-1}px)`),n=()=>{r(window.innerWidth<R1)};return e.addEventListener("change",n),r(window.innerWidth<R1),()=>e.removeEventListener("change",n)},[]),!!t}var kpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jpe=kpe.reduce((t,r)=>{const e=pb(`Primitive.${r}`),n=P.forwardRef((s,a)=>{const{asChild:i,...c}=s,u=i?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...c,ref:a})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{}),Spe="Separator",AN="horizontal",Npe=["horizontal","vertical"],aB=P.forwardRef((t,r)=>{const{decorative:e,orientation:n=AN,...s}=t,a=Cpe(n)?n:AN,c=e?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(jpe.div,{"data-orientation":a,...c,...s,ref:r})});aB.displayName=Spe;function Cpe(t){return Npe.includes(t)}var iB=aB;const oB=P.forwardRef(({className:t,orientation:r="horizontal",decorative:e=!0,...n},s)=>l.jsx(iB,{ref:s,decorative:e,orientation:r,className:Pe("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));oB.displayName=iB.displayName;const Tpe="sidebar_state",Epe=3600*24*7,Ape="16rem",Ppe="16rem",Mpe="3rem",Rpe="b",lB=P.createContext(null);function e0(){const t=P.useContext(lB);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const cB=P.forwardRef(({defaultOpen:t=!0,open:r,onOpenChange:e,className:n,style:s,children:a,...i},c)=>{const u=_pe(),[o,d]=P.useState(!1),[p,f]=P.useState(t),h=r??p,g=P.useCallback(x=>{const j=typeof x=="function"?x(h):x;e?e(j):f(j),document.cookie=`${Tpe}=${j}; path=/; max-age=${Epe}`},[e,h]),y=P.useCallback(()=>u?d(x=>!x):g(x=>!x),[u,g,d]);P.useEffect(()=>{const x=j=>{j.key===Rpe&&(j.metaKey||j.ctrlKey)&&(j.preventDefault(),y())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[y]);const m=h?"expanded":"collapsed",v=P.useMemo(()=>({state:m,open:h,setOpen:g,isMobile:u,openMobile:o,setOpenMobile:d,toggleSidebar:y}),[m,h,g,u,o,d,y]);return l.jsx(lB.Provider,{value:v,children:l.jsx(fb,{delayDuration:0,children:l.jsx("div",{style:{"--sidebar-width":Ape,"--sidebar-width-icon":Mpe,...s},className:Pe("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...i,children:a})})})});cB.displayName="SidebarProvider";const uB=P.forwardRef(({side:t="left",variant:r="sidebar",collapsible:e="offcanvas",className:n,children:s,...a},i)=>{const{isMobile:c,state:u,openMobile:o,setOpenMobile:d}=e0();return e==="none"?l.jsx("div",{className:Pe("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:i,...a,children:s}):c?l.jsx(Fb,{open:o,onOpenChange:d,...a,children:l.jsxs(qm,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden z-[20001]",style:{"--sidebar-width":Ppe},side:t,children:[l.jsxs(T4,{className:"sr-only",children:[l.jsx(Hm,{children:"Sidebar"}),l.jsx(BD,{children:"Displays the mobile sidebar."})]}),l.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):l.jsxs("div",{ref:i,className:"group peer hidden text-sidebar-foreground md:block","data-state":u,"data-collapsible":u==="collapsed"?e:"","data-variant":r,"data-side":t,children:[l.jsx("div",{className:Pe("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),l.jsx("div",{className:Pe("fixed inset-y-0 z-[60] hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:l.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});uB.displayName="Sidebar";const dB=P.forwardRef(({className:t,onClick:r,...e},n)=>{const{toggleSidebar:s}=e0();return l.jsxs(Oe,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Pe("h-7 w-7",t),onClick:a=>{r?.(a),s()},...e,children:[l.jsx(fq,{}),l.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});dB.displayName="SidebarTrigger";const Dpe=P.forwardRef(({className:t,...r},e)=>{const{toggleSidebar:n}=e0();return l.jsx("button",{ref:e,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Pe("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...r})});Dpe.displayName="SidebarRail";const fB=P.forwardRef(({className:t,...r},e)=>l.jsx("main",{ref:e,className:Pe("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...r}));fB.displayName="SidebarInset";const Ipe=P.forwardRef(({className:t,...r},e)=>l.jsx(gt,{ref:e,"data-sidebar":"input",className:Pe("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...r}));Ipe.displayName="SidebarInput";const hB=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,"data-sidebar":"header",className:Pe("flex flex-col gap-2 p-2",t),...r}));hB.displayName="SidebarHeader";const pB=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,"data-sidebar":"footer",className:Pe("flex flex-col gap-2 p-2",t),...r}));pB.displayName="SidebarFooter";const Ope=P.forwardRef(({className:t,...r},e)=>l.jsx(oB,{ref:e,"data-sidebar":"separator",className:Pe("mx-2 w-auto bg-sidebar-border",t),...r}));Ope.displayName="SidebarSeparator";const mB=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,"data-sidebar":"content",className:Pe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...r}));mB.displayName="SidebarContent";const gB=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,"data-sidebar":"group",className:Pe("relative flex w-full min-w-0 flex-col p-2",t),...r}));gB.displayName="SidebarGroup";const yB=P.forwardRef(({className:t,asChild:r=!1,...e},n)=>{const s=r?pd:"div";return l.jsx(s,{ref:n,"data-sidebar":"group-label",className:Pe("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...e})});yB.displayName="SidebarGroupLabel";const Fpe=P.forwardRef(({className:t,asChild:r=!1,...e},n)=>{const s=r?pd:"button";return l.jsx(s,{ref:n,"data-sidebar":"group-action",className:Pe("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...e})});Fpe.displayName="SidebarGroupAction";const bB=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,"data-sidebar":"group-content",className:Pe("w-full text-sm",t),...r}));bB.displayName="SidebarGroupContent";const A2=P.forwardRef(({className:t,...r},e)=>l.jsx("ul",{ref:e,"data-sidebar":"menu",className:Pe("flex w-full min-w-0 flex-col gap-1",t),...r}));A2.displayName="SidebarMenu";const Qg=P.forwardRef(({className:t,...r},e)=>l.jsx("li",{ref:e,"data-sidebar":"menu-item",className:Pe("group/menu-item relative",t),...r}));Qg.displayName="SidebarMenuItem";const Lpe=hd("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Yg=P.forwardRef(({asChild:t=!1,isActive:r=!1,variant:e="default",size:n="default",tooltip:s,className:a,...i},c)=>{const u=t?pd:"button",{isMobile:o,state:d}=e0(),p=l.jsx(u,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":r,className:Pe(Lpe({variant:e,size:n}),a),...i});return s?(typeof s=="string"&&(s={children:s}),l.jsxs(b_,{children:[l.jsx(v_,{asChild:!0,children:p}),l.jsx(hb,{side:"right",align:"center",hidden:d!=="collapsed"||o,...s})]})):p});Yg.displayName="SidebarMenuButton";const Bpe=P.forwardRef(({className:t,asChild:r=!1,showOnHover:e=!1,...n},s)=>{const a=r?pd:"button";return l.jsx(a,{ref:s,"data-sidebar":"menu-action",className:Pe("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});Bpe.displayName="SidebarMenuAction";const $pe=P.forwardRef(({className:t,...r},e)=>l.jsx("div",{ref:e,"data-sidebar":"menu-badge",className:Pe("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...r}));$pe.displayName="SidebarMenuBadge";const zpe=P.forwardRef(({className:t,showIcon:r=!1,...e},n)=>{const s=P.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return l.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Pe("flex h-8 items-center gap-2 rounded-md px-2",t),...e,children:[r&&l.jsx(un,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),l.jsx(un,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});zpe.displayName="SidebarMenuSkeleton";const Vpe=P.forwardRef(({className:t,...r},e)=>l.jsx("ul",{ref:e,"data-sidebar":"menu-sub",className:Pe("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...r}));Vpe.displayName="SidebarMenuSub";const Upe=P.forwardRef(({...t},r)=>l.jsx("li",{ref:r,...t}));Upe.displayName="SidebarMenuSubItem";const Wpe=P.forwardRef(({asChild:t=!1,size:r="md",isActive:e,className:n,...s},a)=>{const i=t?pd:"a";return l.jsx(i,{ref:a,"data-sidebar":"menu-sub-button","data-size":r,"data-active":e,className:Pe("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});Wpe.displayName="SidebarMenuSubButton";const qpe=[{title:"",icon:Mp,items:[{title:" ",url:"/",icon:Mp},{title:" ",url:"/projects",icon:bs}]},{title:" ",icon:On,items:[{title:" ",url:"/workers",icon:On},{title:" ",url:"/worker-attendance",icon:Sm},{title:" ",url:"/worker-accounts",icon:Zu}]},{title:" ",icon:jn,items:[{title:" ",url:"/material-purchase",icon:jn},{title:"",url:"/suppliers-pro",icon:Hs},{title:" ",url:"/transport-management",icon:Hs},{title:"",url:"/customers",icon:On},{title:" ",icon:ho,url:"/equipment"}]},{title:" ",icon:Vo,items:[{title:" ",url:"/daily-expenses",icon:Vo},{title:" ",url:"/well-accounting",icon:Vo},{title:" ",url:"/well-cost-report",icon:Nc},{title:" ",url:"/professional-reports",icon:Nc}]},{title:" ",icon:Pl,items:[{title:" ",icon:n_,url:"/ai-chat"},{title:" ",icon:Pl,url:"/security-policies"},{title:" ",icon:pi,url:"/admin/data-health"},{title:" ",icon:Pl,url:"/admin/backups"},{title:" ",icon:Ll,url:"/local-db"}]}];function Hpe(){const[t,r]=Rs(),{logout:e,user:n}=Gl(),{setOpenMobile:s,isMobile:a}=e0(),i=c=>{r(c),a&&s(!1)};return l.jsxs(uB,{side:"right",variant:"sidebar",collapsible:"icon",className:"border-l-0 bg-white dark:bg-slate-950 text-slate-900 dark:text-white transition-colors duration-500",children:[l.jsx(hB,{className:"border-b border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-950 px-4 py-5 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-xl bg-[#3b82f6] dark:bg-[#1a1c1e] shadow-xl shadow-blue-600/20 dark:shadow-black/40 transition-all border border-white/10 dark:border-slate-800 overflow-hidden relative group/logo",children:l.jsxs("div",{className:"relative flex items-center justify-center w-full h-full translate-y-[1px]",children:[l.jsx("span",{className:"font-black text-2xl leading-none text-white drop-shadow-sm",children:""}),l.jsx("span",{className:"font-black text-xs leading-none text-white/30 ml-[-2px] italic -skew-x-6",children:"A"}),l.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-blue-400 rounded-full border border-white dark:border-[#1a1c1e] shadow-sm"})]})}),l.jsxs("div",{className:"flex flex-col overflow-hidden group-data-[collapsible=icon]:hidden text-right",children:[l.jsxs("div",{className:"flex items-center gap-2 leading-none",children:[l.jsx("span",{className:"font-black text-lg tracking-[-0.05em] text-slate-900 dark:text-white uppercase",children:"AXION"}),l.jsx("div",{className:"h-4 w-[1px] bg-slate-200 dark:bg-slate-800"}),l.jsx("span",{className:"font-black text-sm text-[#3b82f6] dark:text-blue-500",children:""})]}),l.jsx("span",{className:"text-[8px] text-slate-400 dark:text-slate-500 truncate font-black uppercase tracking-[0.4em] mt-1.5 opacity-80",children:"Enterprise Operations"})]})]})}),l.jsxs(mB,{className:"bg-white dark:bg-slate-950 gap-0 pt-2 custom-scrollbar overflow-y-auto overflow-x-hidden flex-1 scrolling-touch",children:[qpe.map(c=>l.jsx(Ai,{defaultOpen:!0,className:"group/collapsible",children:l.jsxs(gB,{children:[l.jsx(yB,{asChild:!0,children:l.jsxs(Pi,{className:"flex w-full items-center justify-between px-4 py-2 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors group-data-[collapsible=icon]:hidden",children:[l.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:c.title}),l.jsx(rs,{className:"h-3 w-3 transition-transform duration-200 group-data-[state=open]/collapsible:rotate-180"})]})}),l.jsx(Mi,{children:l.jsx(bB,{children:l.jsx(A2,{children:c.items.map(u=>l.jsx(Qg,{children:l.jsx(Yg,{asChild:!0,isActive:t===u.url,className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg transition-all duration-200 data-[active=true]:bg-blue-600 dark:data-[active=true]:bg-white data-[active=true]:text-white dark:data-[active=true]:text-slate-900 hover:bg-slate-100 dark:hover:bg-slate-900 text-slate-700 dark:text-slate-300",children:l.jsxs("a",{href:u.url,onClick:o=>{o.preventDefault(),i(u.url)},children:[l.jsx(u.icon,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium text-sm",children:u.title})]})})},u.title))})})})]})},c.title)),l.jsx("div",{className:"h-24 w-full","aria-hidden":"true"})]}),l.jsxs(pB,{className:"border-t border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950 p-2 flex-shrink-0",children:[l.jsxs("div",{className:"px-4 py-3 flex items-center gap-3 group-data-[collapsible=icon]:hidden border-b border-slate-200/50 dark:border-slate-800 mb-2",children:[l.jsx("div",{className:"h-9 w-9 rounded-full bg-blue-600 dark:bg-white flex items-center justify-center text-white dark:text-slate-900 font-bold text-sm uppercase border border-white/10 shadow-sm transition-colors",children:n?.name?.charAt(0)||"U"}),l.jsxs("div",{className:"flex flex-col overflow-hidden text-right",children:[l.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:n?.name||""}),l.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 truncate",children:n?.email})]})]}),l.jsxs(A2,{children:[l.jsx(Qg,{children:l.jsxs(Yg,{className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors text-slate-700 dark:text-slate-300",onClick:()=>i("/settings"),children:[l.jsx(tb,{className:"h-5 w-5 opacity-60"}),l.jsx("span",{className:"text-sm font-medium",children:""})]})}),l.jsx(Qg,{children:l.jsxs(Yg,{className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 hover:text-red-700 dark:hover:text-red-400 transition-colors",onClick:()=>{e(),a&&s(!1)},children:[l.jsx(cq,{className:"h-5 w-5"}),l.jsx("span",{className:"text-sm font-medium",children:" "})]})})]}),l.jsx("div",{className:"px-4 py-2 group-data-[collapsible=icon]:hidden",children:l.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-500 text-center border border-slate-200 dark:border-slate-800 rounded py-1 bg-slate-100 dark:bg-slate-900/50",children:[": ",""]})})]})]})}function Kpe(){const[t,r]=P.useState(!1),[e,n]=P.useState(0),[s,a]=P.useState("idle");return P.useEffect(()=>{const i=()=>{navigator.onLine?s==="offline"&&a("idle"):a("offline")};return window.addEventListener("online",i),window.addEventListener("offline",i),i(),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",i)}},[s]),s==="idle"&&!t?null:l.jsx("div",{className:Pe("fixed top-4 left-1/2 -translate-x-1/2 z-[2000] w-[90%] max-w-md transition-all duration-500 transform",t||s==="offline"?"translate-y-0 opacity-100":"-translate-y-20 opacity-0"),dir:"rtl",children:l.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md border border-slate-200 dark:border-slate-800 rounded-2xl shadow-2xl p-4 flex flex-col gap-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:Pe("p-2 rounded-xl",s==="syncing"&&"bg-primary/10 text-primary animate-pulse",s==="completed"&&"bg-green-100 text-green-600 dark:bg-green-900/30",s==="offline"&&"bg-red-100 text-red-600 dark:bg-red-900/30"),children:[s==="syncing"&&l.jsx(Bi,{className:"w-5 h-5 animate-spin"}),s==="completed"&&l.jsx(Ws,{className:"w-5 h-5"}),s==="offline"&&l.jsx(jA,{className:"w-5 h-5"})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[s==="syncing"&&"  ...",s==="completed"&&"  ",s==="offline"&&"   "]}),l.jsxs("p",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:[s==="syncing"&&`  ${Math.round(e)}%   `,s==="completed"&&"     ",s==="offline"&&"      "]})]})]}),s==="syncing"&&l.jsxs("span",{className:"text-xs font-mono font-bold text-primary",children:[Math.round(e),"%"]})]}),s==="syncing"&&l.jsx(Qc,{value:e,className:"h-1.5 bg-slate-100 dark:bg-slate-800"})]})})}function Gpe({children:t,showHeader:r=!0,showNav:e=!0,showFloatingButton:n=!0}){const[s]=Rs(),i=["/ai-chat","/admin/data-health"].some(d=>s===d),u=[].some(d=>s===d),o={"--sidebar-width":"18rem","--sidebar-width-icon":"4rem"};return l.jsxs(cB,{style:o,children:[l.jsx(Kpe,{}),l.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden",dir:"rtl",children:[l.jsx(Hpe,{}),l.jsx(fB,{className:"flex flex-col flex-1 h-full overflow-hidden relative",children:l.jsxs("div",{className:"layout-shell flex flex-col h-full overflow-hidden relative",children:[r&&!i&&l.jsx("header",{className:"layout-header flex-shrink-0 w-full border-b bg-white dark:bg-slate-900 shadow-sm relative z-30",children:l.jsxs("div",{className:"flex h-[60px] items-center px-4 gap-4",children:[l.jsx(dB,{className:"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}),l.jsxs("div",{className:"flex-1 overflow-hidden text-slate-900 dark:text-white flex items-center justify-between",children:[l.jsx(gpe,{}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(wpe,{})})]})]})}),l.jsx("main",{className:"layout-main flex-1 overflow-y-auto overflow-x-hidden relative scrolling-touch overscroll-none pb-[80px]",children:l.jsx("div",{className:i?"h-full":"layout-content p-4 md:p-6 max-w-7xl mx-auto w-full",children:t})}),e&&!u&&l.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-[100] bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border-t border-slate-200 dark:border-slate-800 h-[72px] shadow-[0_-8px_20px_rgba(0,0,0,0.1)] flex items-center justify-center safe-area-bottom",children:l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(vpe,{})})}),n&&!i&&l.jsx("div",{className:"fixed bottom-24 right-6 md:bottom-8 md:right-8 z-40",children:l.jsx(xpe,{})})]})})]})]})}function Xpe({children:t}){const{isAuthenticated:r,isLoading:e,user:n}=Gl();return console.log(" [ProtectedRoute]  :",{isLoading:e,isAuthenticated:r,hasUser:!!n,userEmail:n?.email||" ",timestamp:new Date().toISOString()}),e?(console.log(" [ProtectedRoute]  ..."),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center p-8 bg-card rounded-lg border shadow-sm",children:[l.jsx(Ln,{className:"h-10 w-10 animate-spin text-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground text-sm animate-pulse",children:"   ..."}),l.jsx(Oe,{variant:"ghost",size:"sm",className:"mt-4 text-xs opacity-50 hover:opacity-100",onClick:()=>window.location.reload(),children:"  "})]})})):!r||!n?["/check","/permissions","/setup","/login","/verify-email","/reset-password"].includes(window.location.pathname)?(console.log(" [ProtectedRoute]    "),l.jsx(l.Fragment,{children:t})):(console.log(" [ProtectedRoute]     /login"),l.jsx(Jg,{to:"/login"})):(console.log(" [ProtectedRoute]     :",n.email),l.jsx(l.Fragment,{children:t}))}const PN=({variant:t,size:r})=>{const e=r==="sm"?"h-4 w-4":r==="md"?"h-6 w-6":"h-8 w-8",n={default:l.jsx(Ln,{className:Pe(e,"animate-spin text-blue-500")}),database:l.jsx(Ll,{className:Pe(e,"animate-pulse text-green-500")}),processing:l.jsx($l,{className:Pe(e,"animate-bounce text-orange-500")})};return n[t]||n.default},Qpe=({step:t,index:r})=>{const e=()=>{switch(t.status){case"completed":return l.jsx(Fl,{className:"h-4 w-4 text-green-500"});case"loading":return l.jsx(Ln,{className:"h-4 w-4 animate-spin text-blue-500"});case"error":return l.jsx(Da,{className:"h-4 w-4 text-red-500"});default:return l.jsx(ms,{className:"h-4 w-4 text-gray-400"})}},n=()=>t.startTime&&t.status==="loading"?`${Math.floor((Date.now()-t.startTime)/1e3)}`:null;return l.jsxs(kn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:Pe("flex items-center gap-3 p-3 rounded-lg transition-all duration-300",t.status==="loading"&&"bg-blue-50 border border-blue-200",t.status==="completed"&&"bg-green-50 border border-green-200",t.status==="error"&&"bg-red-50 border border-red-200",t.status==="pending"&&"bg-gray-50 border border-gray-200"),children:[l.jsx("div",{className:"flex-shrink-0",children:e()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:Pe("text-sm font-medium truncate",t.status==="loading"&&"text-blue-700",t.status==="completed"&&"text-green-700",t.status==="error"&&"text-red-700",t.status==="pending"&&"text-gray-600"),children:t.label}),n()&&l.jsx("span",{className:"text-xs text-blue-600 font-mono",children:n()})]}),t.progress!==void 0&&t.status==="loading"&&l.jsx(kn.div,{className:"mt-2 bg-gray-200 rounded-full h-1.5 overflow-hidden",initial:{scaleX:0},animate:{scaleX:1},children:l.jsx(kn.div,{className:"bg-blue-500 h-full rounded-full",initial:{width:0},animate:{width:`${t.progress}%`},transition:{duration:.5}})})]})]})},Ype=({progress:t,size:r})=>{const e=2*Math.PI*(r/2-8),n=e,s=e-t/100*e;return l.jsxs("div",{className:"relative",children:[l.jsxs("svg",{className:"transform -rotate-90",width:r,height:r,children:[l.jsx("circle",{cx:r/2,cy:r/2,r:r/2-8,stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-gray-200"}),l.jsx(kn.circle,{cx:r/2,cy:r/2,r:r/2-8,stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:n,strokeDashoffset:s,strokeLinecap:"round",className:"text-blue-500",initial:{strokeDashoffset:e},animate:{strokeDashoffset:s},transition:{duration:.5,ease:"easeInOut"}})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[Math.round(t),"%"]})})]})},vB=({isLoading:t,steps:r=[],message:e=" ...",progress:n,showSteps:s=!1,size:a="md",variant:i="default",onComplete:c,estimatedTime:u,className:o})=>{const[d,p]=tr.useState(0),f=tr.useRef(Date.now());if(tr.useEffect(()=>{if(!t)return;f.current=Date.now();const y=setInterval(()=>{p(Math.floor((Date.now()-f.current)/1e3))},1e3);return()=>clearInterval(y)},[t]),tr.useEffect(()=>{!t&&d>0&&(c?.(),p(0))},[t,d,c]),!t)return null;const h=()=>l.jsxs(kn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:Pe("flex items-center gap-3",o),children:[l.jsx(PN,{variant:i,size:a}),l.jsx("span",{className:"text-sm text-gray-600",children:e})]}),g=()=>l.jsxs(kn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:Pe("bg-white rounded-xl shadow-lg border border-gray-200 p-6 max-w-md mx-auto",o),children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"flex justify-center mb-4",children:n!==void 0?l.jsx(Ype,{progress:n,size:80}):l.jsx(PN,{variant:i,size:"lg"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:e}),l.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500",children:[l.jsxs("span",{children:[" : ",d,""]}),u&&l.jsxs("span",{children:[": ",u,""]})]})]}),s&&r.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:" :"}),r.map((y,m)=>l.jsx(Qpe,{step:y,index:m},y.id))]}),n!==void 0&&!s&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[l.jsx("span",{children:""}),l.jsxs("span",{children:[Math.round(n),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:l.jsx(kn.div,{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.5}})})]})]});return i==="minimal"?h():l.jsx(cy,{children:t&&l.jsx(kn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:g()})})};function ia({children:t,requiredRole:r="admin"}){const{user:e,isAuthenticated:n,isLoading:s}=Gl();return s?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(vB,{})}):n?!e||e.role!==r?l.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-indigo-900/20",children:l.jsxs("div",{className:"max-w-lg w-full",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-6 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full mb-4",children:l.jsx(pq,{className:"h-12 w-12 text-white",strokeWidth:1.5})}),l.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"   "}),l.jsx("p",{className:"text-white/90 text-sm",children:"      "})]}),l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-5 h-5 text-orange-600 dark:text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:" "}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"    "})]})]})}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-5 border border-blue-200 dark:border-blue-800",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:" "}),l.jsx("p",{className:"text-sm font-bold text-blue-900 dark:text-blue-100",children:e?.role==="user"?" ":e?.role||" "})]})]}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"        "})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[l.jsxs("a",{href:"/",className:"flex-1 inline-flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"  "]}),l.jsxs("button",{onClick:()=>window.history.back(),className:"flex-1 inline-flex items-center justify-center gap-2 px-5 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 font-medium border border-gray-300 dark:border-gray-600",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),""]})]})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"             "})})]})}):l.jsx(l.Fragment,{children:t}):l.jsx(Jg,{to:"/login"})}function Zpe({children:t}){const{user:r,isLoading:e}=Gl();return e?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:l.jsx(vB,{isLoading:!0,message:"    ..."})}):r?r.emailVerified!==!0?(console.log(" [EmailVerificationGuard]        ",{emailVerified:r.emailVerified}),l.jsx(Jg,{to:`/verify-email?userId=${r.id}&email=${encodeURIComponent(r.email)}`})):l.jsx(l.Fragment,{children:t}):l.jsx(Jg,{to:"/login"})}function Jpe(t){return new Blob([JSON.stringify(t)]).size}async function eme(t){try{const n=(await(await Hn()).getAll(t)).reduce((a,i)=>a+Jpe(i),0),s=Math.round(n*.75);return{originalSize:n,compressedSize:s,ratio:s/n*100,savedBytes:n-s}}catch(r){return console.error(" [Compression]    :",r),{originalSize:0,compressedSize:0,ratio:0,savedBytes:0}}}async function tme(){try{const t=["projects","workers","materials","suppliers","workerAttendance","materialPurchases","transportationExpenses","fundTransfers","workerTransfers","workerMiscExpenses","wells","projectTypes"];let r=0;for(const s of t){const a=await eme(s);r+=a.originalSize}const e=50*1024*1024,n=r/e*100;return{used:r,percentage:Math.round(n)}}catch(t){return console.error(" [Compression]     :",t),{used:0,percentage:0}}}async function D1(){const t=await gh();if(t.length!==0){console.log(`[Silent-Sync]   ${t.length}  ...`);for(const r of t)try{if(await new Promise(n=>setTimeout(n,500)),(await qe(r.endpoint,r.action==="create"?"POST":"PATCH",r.payload)).success){await C2(r.id);const n=await Hn(),s=r.endpoint.split("/")[2];if(s){const a=await n.get(s,r.payload.id);a&&(a._pendingSync=!1,a._isLocal=!1,await n.put(s,a))}console.log(`[Silent-Sync]    : ${r.id}`)}}catch(e){console.error(`[Silent-Sync]    ${r.id}:`,e),await mhe(r.id,r.retries+1,e.message,"network")}}}function rme(t=3e4){D1(),setInterval(()=>{navigator.onLine&&D1()},t),window.addEventListener("online",()=>{console.log("[Silent-Sync]    ..."),D1()})}async function nme(){return(await gh()).length}async function sme(){const t=await gh(),r=t.filter(a=>a.action==="create").length,e=t.filter(a=>a.action==="update").length,n=t.filter(a=>a.action==="delete").length,s=t.filter(a=>a.retries>0).length;return{totalPending:t.length,creates:r,updates:e,deletes:n,failedOperations:s,oldestOperation:t.length>0?new Date(t[0].timestamp):null}}async function ame(){const t=od(),r=await tme(),e=await nme(),n=await sme();return{timestamp:Date.now(),syncStatus:{isSyncing:t.isSyncing,lastSync:t.lastSync,pendingCount:t.pendingCount,isOnline:t.isOnline},storage:{used:r.used,usagePercentage:r.percentage},operations:{pending:e,creates:n.creates,updates:n.updates,deletes:n.deletes,failedOps:n.failedOperations},timing:{lastSyncDuration:void 0}}}let MN=null;function ime(t=6e4){if(MN){console.warn(" [PerformanceMonitor]   ");return}MN=setInterval(async()=>{const r=await ame();r.storage.usagePercentage>80&&console.warn(` [PerformanceMonitor]   : ${r.storage.usagePercentage}%`),r.operations.failedOps>5&&console.warn(` [PerformanceMonitor]  : ${r.operations.failedOps}`)},t),console.log(" [PerformanceMonitor]   ")}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const ome=4,RN=0,DN=1,lme=2;function bh(t){let r=t.length;for(;--r>=0;)t[r]=0}const cme=0,xB=1,ume=2,dme=3,fme=258,k3=29,t0=256,cm=t0+1+k3,_f=30,j3=19,wB=2*cm+1,Mu=15,I1=16,hme=7,S3=256,_B=16,kB=17,jB=18,P2=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Zg=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),pme=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),SB=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mme=512,jl=new Array((cm+2)*2);bh(jl);const Sp=new Array(_f*2);bh(Sp);const um=new Array(mme);bh(um);const dm=new Array(fme-dme+1);bh(dm);const N3=new Array(k3);bh(N3);const zy=new Array(_f);bh(zy);function O1(t,r,e,n,s){this.static_tree=t,this.extra_bits=r,this.extra_base=e,this.elems=n,this.max_length=s,this.has_stree=t&&t.length}let NB,CB,TB;function F1(t,r){this.dyn_tree=t,this.max_code=0,this.stat_desc=r}const EB=t=>t<256?um[t]:um[256+(t>>>7)],fm=(t,r)=>{t.pending_buf[t.pending++]=r&255,t.pending_buf[t.pending++]=r>>>8&255},Ya=(t,r,e)=>{t.bi_valid>I1-e?(t.bi_buf|=r<<t.bi_valid&65535,fm(t,t.bi_buf),t.bi_buf=r>>I1-t.bi_valid,t.bi_valid+=e-I1):(t.bi_buf|=r<<t.bi_valid&65535,t.bi_valid+=e)},Lo=(t,r,e)=>{Ya(t,e[r*2],e[r*2+1])},AB=(t,r)=>{let e=0;do e|=t&1,t>>>=1,e<<=1;while(--r>0);return e>>>1},gme=t=>{t.bi_valid===16?(fm(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},yme=(t,r)=>{const e=r.dyn_tree,n=r.max_code,s=r.stat_desc.static_tree,a=r.stat_desc.has_stree,i=r.stat_desc.extra_bits,c=r.stat_desc.extra_base,u=r.stat_desc.max_length;let o,d,p,f,h,g,y=0;for(f=0;f<=Mu;f++)t.bl_count[f]=0;for(e[t.heap[t.heap_max]*2+1]=0,o=t.heap_max+1;o<wB;o++)d=t.heap[o],f=e[e[d*2+1]*2+1]+1,f>u&&(f=u,y++),e[d*2+1]=f,!(d>n)&&(t.bl_count[f]++,h=0,d>=c&&(h=i[d-c]),g=e[d*2],t.opt_len+=g*(f+h),a&&(t.static_len+=g*(s[d*2+1]+h)));if(y!==0){do{for(f=u-1;t.bl_count[f]===0;)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[u]--,y-=2}while(y>0);for(f=u;f!==0;f--)for(d=t.bl_count[f];d!==0;)p=t.heap[--o],!(p>n)&&(e[p*2+1]!==f&&(t.opt_len+=(f-e[p*2+1])*e[p*2],e[p*2+1]=f),d--)}},PB=(t,r,e)=>{const n=new Array(Mu+1);let s=0,a,i;for(a=1;a<=Mu;a++)s=s+e[a-1]<<1,n[a]=s;for(i=0;i<=r;i++){let c=t[i*2+1];c!==0&&(t[i*2]=AB(n[c]++,c))}},bme=()=>{let t,r,e,n,s;const a=new Array(Mu+1);for(e=0,n=0;n<k3-1;n++)for(N3[n]=e,t=0;t<1<<P2[n];t++)dm[e++]=n;for(dm[e-1]=n,s=0,n=0;n<16;n++)for(zy[n]=s,t=0;t<1<<Zg[n];t++)um[s++]=n;for(s>>=7;n<_f;n++)for(zy[n]=s<<7,t=0;t<1<<Zg[n]-7;t++)um[256+s++]=n;for(r=0;r<=Mu;r++)a[r]=0;for(t=0;t<=143;)jl[t*2+1]=8,t++,a[8]++;for(;t<=255;)jl[t*2+1]=9,t++,a[9]++;for(;t<=279;)jl[t*2+1]=7,t++,a[7]++;for(;t<=287;)jl[t*2+1]=8,t++,a[8]++;for(PB(jl,cm+1,a),t=0;t<_f;t++)Sp[t*2+1]=5,Sp[t*2]=AB(t,5);NB=new O1(jl,P2,t0+1,cm,Mu),CB=new O1(Sp,Zg,0,_f,Mu),TB=new O1(new Array(0),pme,0,j3,hme)},MB=t=>{let r;for(r=0;r<cm;r++)t.dyn_ltree[r*2]=0;for(r=0;r<_f;r++)t.dyn_dtree[r*2]=0;for(r=0;r<j3;r++)t.bl_tree[r*2]=0;t.dyn_ltree[S3*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},RB=t=>{t.bi_valid>8?fm(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},IN=(t,r,e,n)=>{const s=r*2,a=e*2;return t[s]<t[a]||t[s]===t[a]&&n[r]<=n[e]},L1=(t,r,e)=>{const n=t.heap[e];let s=e<<1;for(;s<=t.heap_len&&(s<t.heap_len&&IN(r,t.heap[s+1],t.heap[s],t.depth)&&s++,!IN(r,n,t.heap[s],t.depth));)t.heap[e]=t.heap[s],e=s,s<<=1;t.heap[e]=n},ON=(t,r,e)=>{let n,s,a=0,i,c;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+a++]&255,n+=(t.pending_buf[t.sym_buf+a++]&255)<<8,s=t.pending_buf[t.sym_buf+a++],n===0?Lo(t,s,r):(i=dm[s],Lo(t,i+t0+1,r),c=P2[i],c!==0&&(s-=N3[i],Ya(t,s,c)),n--,i=EB(n),Lo(t,i,e),c=Zg[i],c!==0&&(n-=zy[i],Ya(t,n,c)));while(a<t.sym_next);Lo(t,S3,r)},M2=(t,r)=>{const e=r.dyn_tree,n=r.stat_desc.static_tree,s=r.stat_desc.has_stree,a=r.stat_desc.elems;let i,c,u=-1,o;for(t.heap_len=0,t.heap_max=wB,i=0;i<a;i++)e[i*2]!==0?(t.heap[++t.heap_len]=u=i,t.depth[i]=0):e[i*2+1]=0;for(;t.heap_len<2;)o=t.heap[++t.heap_len]=u<2?++u:0,e[o*2]=1,t.depth[o]=0,t.opt_len--,s&&(t.static_len-=n[o*2+1]);for(r.max_code=u,i=t.heap_len>>1;i>=1;i--)L1(t,e,i);o=a;do i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],L1(t,e,1),c=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=c,e[o*2]=e[i*2]+e[c*2],t.depth[o]=(t.depth[i]>=t.depth[c]?t.depth[i]:t.depth[c])+1,e[i*2+1]=e[c*2+1]=o,t.heap[1]=o++,L1(t,e,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],yme(t,r),PB(e,u,t.bl_count)},FN=(t,r,e)=>{let n,s=-1,a,i=r[1],c=0,u=7,o=4;for(i===0&&(u=138,o=3),r[(e+1)*2+1]=65535,n=0;n<=e;n++)a=i,i=r[(n+1)*2+1],!(++c<u&&a===i)&&(c<o?t.bl_tree[a*2]+=c:a!==0?(a!==s&&t.bl_tree[a*2]++,t.bl_tree[_B*2]++):c<=10?t.bl_tree[kB*2]++:t.bl_tree[jB*2]++,c=0,s=a,i===0?(u=138,o=3):a===i?(u=6,o=3):(u=7,o=4))},LN=(t,r,e)=>{let n,s=-1,a,i=r[1],c=0,u=7,o=4;for(i===0&&(u=138,o=3),n=0;n<=e;n++)if(a=i,i=r[(n+1)*2+1],!(++c<u&&a===i)){if(c<o)do Lo(t,a,t.bl_tree);while(--c!==0);else a!==0?(a!==s&&(Lo(t,a,t.bl_tree),c--),Lo(t,_B,t.bl_tree),Ya(t,c-3,2)):c<=10?(Lo(t,kB,t.bl_tree),Ya(t,c-3,3)):(Lo(t,jB,t.bl_tree),Ya(t,c-11,7));c=0,s=a,i===0?(u=138,o=3):a===i?(u=6,o=3):(u=7,o=4)}},vme=t=>{let r;for(FN(t,t.dyn_ltree,t.l_desc.max_code),FN(t,t.dyn_dtree,t.d_desc.max_code),M2(t,t.bl_desc),r=j3-1;r>=3&&t.bl_tree[SB[r]*2+1]===0;r--);return t.opt_len+=3*(r+1)+5+5+4,r},xme=(t,r,e,n)=>{let s;for(Ya(t,r-257,5),Ya(t,e-1,5),Ya(t,n-4,4),s=0;s<n;s++)Ya(t,t.bl_tree[SB[s]*2+1],3);LN(t,t.dyn_ltree,r-1),LN(t,t.dyn_dtree,e-1)},wme=t=>{let r=4093624447,e;for(e=0;e<=31;e++,r>>>=1)if(r&1&&t.dyn_ltree[e*2]!==0)return RN;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return DN;for(e=32;e<t0;e++)if(t.dyn_ltree[e*2]!==0)return DN;return RN};let BN=!1;const _me=t=>{BN||(bme(),BN=!0),t.l_desc=new F1(t.dyn_ltree,NB),t.d_desc=new F1(t.dyn_dtree,CB),t.bl_desc=new F1(t.bl_tree,TB),t.bi_buf=0,t.bi_valid=0,MB(t)},DB=(t,r,e,n)=>{Ya(t,(cme<<1)+(n?1:0),3),RB(t),fm(t,e),fm(t,~e),e&&t.pending_buf.set(t.window.subarray(r,r+e),t.pending),t.pending+=e},kme=t=>{Ya(t,xB<<1,3),Lo(t,S3,jl),gme(t)},jme=(t,r,e,n)=>{let s,a,i=0;t.level>0?(t.strm.data_type===lme&&(t.strm.data_type=wme(t)),M2(t,t.l_desc),M2(t,t.d_desc),i=vme(t),s=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=s&&(s=a)):s=a=e+5,e+4<=s&&r!==-1?DB(t,r,e,n):t.strategy===ome||a===s?(Ya(t,(xB<<1)+(n?1:0),3),ON(t,jl,Sp)):(Ya(t,(ume<<1)+(n?1:0),3),xme(t,t.l_desc.max_code+1,t.d_desc.max_code+1,i+1),ON(t,t.dyn_ltree,t.dyn_dtree)),MB(t),n&&RB(t)},Sme=(t,r,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=r,t.pending_buf[t.sym_buf+t.sym_next++]=r>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,r===0?t.dyn_ltree[e*2]++:(t.matches++,r--,t.dyn_ltree[(dm[e]+t0+1)*2]++,t.dyn_dtree[EB(r)*2]++),t.sym_next===t.sym_end);var Nme=_me,Cme=DB,Tme=jme,Eme=Sme,Ame=kme,Pme={_tr_init:Nme,_tr_stored_block:Cme,_tr_flush_block:Tme,_tr_tally:Eme,_tr_align:Ame};const Mme=(t,r,e,n)=>{let s=t&65535|0,a=t>>>16&65535|0,i=0;for(;e!==0;){i=e>2e3?2e3:e,e-=i;do s=s+r[n++]|0,a=a+s|0;while(--i);s%=65521,a%=65521}return s|a<<16|0};var hm=Mme;const Rme=()=>{let t,r=[];for(var e=0;e<256;e++){t=e;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;r[e]=t}return r},Dme=new Uint32Array(Rme()),Ime=(t,r,e,n)=>{const s=Dme,a=n+e;t^=-1;for(let i=n;i<a;i++)t=t>>>8^s[(t^r[i])&255];return t^-1};var Ts=Ime,ld={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},r0={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ome,_tr_stored_block:R2,_tr_flush_block:Fme,_tr_tally:Ic,_tr_align:Lme}=Pme,{Z_NO_FLUSH:Oc,Z_PARTIAL_FLUSH:Bme,Z_FULL_FLUSH:$me,Z_FINISH:Li,Z_BLOCK:$N,Z_OK:Vs,Z_STREAM_END:zN,Z_STREAM_ERROR:Xo,Z_DATA_ERROR:zme,Z_BUF_ERROR:B1,Z_DEFAULT_COMPRESSION:Vme,Z_FILTERED:Ume,Z_HUFFMAN_ONLY:xg,Z_RLE:Wme,Z_FIXED:qme,Z_DEFAULT_STRATEGY:Hme,Z_UNKNOWN:Kme,Z_DEFLATED:tv}=r0,Gme=9,Xme=15,Qme=8,Yme=29,Zme=256,D2=Zme+1+Yme,Jme=30,e0e=19,t0e=2*D2+1,r0e=15,Yr=3,Tc=258,Qo=Tc+Yr+1,n0e=32,Jf=42,C3=57,I2=69,O2=73,F2=91,L2=103,Ru=113,pp=666,Ra=1,vh=2,cd=3,xh=4,s0e=3,Du=(t,r)=>(t.msg=ld[r],r),VN=t=>t*2-(t>4?9:0),gc=t=>{let r=t.length;for(;--r>=0;)t[r]=0},a0e=t=>{let r,e,n,s=t.w_size;r=t.hash_size,n=r;do e=t.head[--n],t.head[n]=e>=s?e-s:0;while(--r);r=s,n=r;do e=t.prev[--n],t.prev[n]=e>=s?e-s:0;while(--r)};let i0e=(t,r,e)=>(r<<t.hash_shift^e)&t.hash_mask,Fc=i0e;const ai=t=>{const r=t.state;let e=r.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+e),t.next_out),t.next_out+=e,r.pending_out+=e,t.total_out+=e,t.avail_out-=e,r.pending-=e,r.pending===0&&(r.pending_out=0))},ui=(t,r)=>{Fme(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,r),t.block_start=t.strstart,ai(t.strm)},cn=(t,r)=>{t.pending_buf[t.pending++]=r},sp=(t,r)=>{t.pending_buf[t.pending++]=r>>>8&255,t.pending_buf[t.pending++]=r&255},B2=(t,r,e,n)=>{let s=t.avail_in;return s>n&&(s=n),s===0?0:(t.avail_in-=s,r.set(t.input.subarray(t.next_in,t.next_in+s),e),t.state.wrap===1?t.adler=hm(t.adler,r,s,e):t.state.wrap===2&&(t.adler=Ts(t.adler,r,s,e)),t.next_in+=s,t.total_in+=s,s)},IB=(t,r)=>{let e=t.max_chain_length,n=t.strstart,s,a,i=t.prev_length,c=t.nice_match;const u=t.strstart>t.w_size-Qo?t.strstart-(t.w_size-Qo):0,o=t.window,d=t.w_mask,p=t.prev,f=t.strstart+Tc;let h=o[n+i-1],g=o[n+i];t.prev_length>=t.good_match&&(e>>=2),c>t.lookahead&&(c=t.lookahead);do if(s=r,!(o[s+i]!==g||o[s+i-1]!==h||o[s]!==o[n]||o[++s]!==o[n+1])){n+=2,s++;do;while(o[++n]===o[++s]&&o[++n]===o[++s]&&o[++n]===o[++s]&&o[++n]===o[++s]&&o[++n]===o[++s]&&o[++n]===o[++s]&&o[++n]===o[++s]&&o[++n]===o[++s]&&n<f);if(a=Tc-(f-n),n=f-Tc,a>i){if(t.match_start=r,i=a,a>=c)break;h=o[n+i-1],g=o[n+i]}}while((r=p[r&d])>u&&--e!==0);return i<=t.lookahead?i:t.lookahead},eh=t=>{const r=t.w_size;let e,n,s;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-Qo)&&(t.window.set(t.window.subarray(r,r+r-n),0),t.match_start-=r,t.strstart-=r,t.block_start-=r,t.insert>t.strstart&&(t.insert=t.strstart),a0e(t),n+=r),t.strm.avail_in===0)break;if(e=B2(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=e,t.lookahead+t.insert>=Yr)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Fc(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Fc(t,t.ins_h,t.window[s+Yr-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<Yr)););}while(t.lookahead<Qo&&t.strm.avail_in!==0)},OB=(t,r)=>{let e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,s,a,i=0,c=t.strm.avail_in;do{if(n=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,s=t.strstart-t.block_start,n>s+t.strm.avail_in&&(n=s+t.strm.avail_in),n>a&&(n=a),n<e&&(n===0&&r!==Li||r===Oc||n!==s+t.strm.avail_in)))break;i=r===Li&&n===s+t.strm.avail_in?1:0,R2(t,0,0,i),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,ai(t.strm),s&&(s>n&&(s=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,n-=s),n&&(B2(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(i===0);return c-=t.strm.avail_in,c&&(c>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=c&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-c,t.strm.next_in),t.strstart),t.strstart+=c,t.insert+=c>t.w_size-t.insert?t.w_size-t.insert:c),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),i?xh:r!==Oc&&r!==Li&&t.strm.avail_in===0&&t.strstart===t.block_start?vh:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(B2(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,e=a>t.w_size?t.w_size:a,s=t.strstart-t.block_start,(s>=e||(s||r===Li)&&r!==Oc&&t.strm.avail_in===0&&s<=a)&&(n=s>a?a:s,i=r===Li&&t.strm.avail_in===0&&n===s?1:0,R2(t,t.block_start,n,i),t.block_start+=n,ai(t.strm)),i?cd:Ra)},$1=(t,r)=>{let e,n;for(;;){if(t.lookahead<Qo){if(eh(t),t.lookahead<Qo&&r===Oc)return Ra;if(t.lookahead===0)break}if(e=0,t.lookahead>=Yr&&(t.ins_h=Fc(t,t.ins_h,t.window[t.strstart+Yr-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),e!==0&&t.strstart-e<=t.w_size-Qo&&(t.match_length=IB(t,e)),t.match_length>=Yr)if(n=Ic(t,t.strstart-t.match_start,t.match_length-Yr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Yr){t.match_length--;do t.strstart++,t.ins_h=Fc(t,t.ins_h,t.window[t.strstart+Yr-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Fc(t,t.ins_h,t.window[t.strstart+1]);else n=Ic(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(ui(t,!1),t.strm.avail_out===0))return Ra}return t.insert=t.strstart<Yr-1?t.strstart:Yr-1,r===Li?(ui(t,!0),t.strm.avail_out===0?cd:xh):t.sym_next&&(ui(t,!1),t.strm.avail_out===0)?Ra:vh},ef=(t,r)=>{let e,n,s;for(;;){if(t.lookahead<Qo){if(eh(t),t.lookahead<Qo&&r===Oc)return Ra;if(t.lookahead===0)break}if(e=0,t.lookahead>=Yr&&(t.ins_h=Fc(t,t.ins_h,t.window[t.strstart+Yr-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Yr-1,e!==0&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-Qo&&(t.match_length=IB(t,e),t.match_length<=5&&(t.strategy===Ume||t.match_length===Yr&&t.strstart-t.match_start>4096)&&(t.match_length=Yr-1)),t.prev_length>=Yr&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-Yr,n=Ic(t,t.strstart-1-t.prev_match,t.prev_length-Yr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=s&&(t.ins_h=Fc(t,t.ins_h,t.window[t.strstart+Yr-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Yr-1,t.strstart++,n&&(ui(t,!1),t.strm.avail_out===0))return Ra}else if(t.match_available){if(n=Ic(t,0,t.window[t.strstart-1]),n&&ui(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Ra}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Ic(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Yr-1?t.strstart:Yr-1,r===Li?(ui(t,!0),t.strm.avail_out===0?cd:xh):t.sym_next&&(ui(t,!1),t.strm.avail_out===0)?Ra:vh},o0e=(t,r)=>{let e,n,s,a;const i=t.window;for(;;){if(t.lookahead<=Tc){if(eh(t),t.lookahead<=Tc&&r===Oc)return Ra;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Yr&&t.strstart>0&&(s=t.strstart-1,n=i[s],n===i[++s]&&n===i[++s]&&n===i[++s])){a=t.strstart+Tc;do;while(n===i[++s]&&n===i[++s]&&n===i[++s]&&n===i[++s]&&n===i[++s]&&n===i[++s]&&n===i[++s]&&n===i[++s]&&s<a);t.match_length=Tc-(a-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Yr?(e=Ic(t,1,t.match_length-Yr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=Ic(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(ui(t,!1),t.strm.avail_out===0))return Ra}return t.insert=0,r===Li?(ui(t,!0),t.strm.avail_out===0?cd:xh):t.sym_next&&(ui(t,!1),t.strm.avail_out===0)?Ra:vh},l0e=(t,r)=>{let e;for(;;){if(t.lookahead===0&&(eh(t),t.lookahead===0)){if(r===Oc)return Ra;break}if(t.match_length=0,e=Ic(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(ui(t,!1),t.strm.avail_out===0))return Ra}return t.insert=0,r===Li?(ui(t,!0),t.strm.avail_out===0?cd:xh):t.sym_next&&(ui(t,!1),t.strm.avail_out===0)?Ra:vh};function Po(t,r,e,n,s){this.good_length=t,this.max_lazy=r,this.nice_length=e,this.max_chain=n,this.func=s}const mp=[new Po(0,0,0,0,OB),new Po(4,4,8,4,$1),new Po(4,5,16,8,$1),new Po(4,6,32,32,$1),new Po(4,4,16,16,ef),new Po(8,16,32,32,ef),new Po(8,16,128,128,ef),new Po(8,32,128,256,ef),new Po(32,128,258,1024,ef),new Po(32,258,258,4096,ef)],c0e=t=>{t.window_size=2*t.w_size,gc(t.head),t.max_lazy_match=mp[t.level].max_lazy,t.good_match=mp[t.level].good_length,t.nice_match=mp[t.level].nice_length,t.max_chain_length=mp[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Yr-1,t.match_available=0,t.ins_h=0};function u0e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tv,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(t0e*2),this.dyn_dtree=new Uint16Array((2*Jme+1)*2),this.bl_tree=new Uint16Array((2*e0e+1)*2),gc(this.dyn_ltree),gc(this.dyn_dtree),gc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(r0e+1),this.heap=new Uint16Array(2*D2+1),gc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*D2+1),gc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const n0=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.status!==Jf&&r.status!==C3&&r.status!==I2&&r.status!==O2&&r.status!==F2&&r.status!==L2&&r.status!==Ru&&r.status!==pp?1:0},FB=t=>{if(n0(t))return Du(t,Xo);t.total_in=t.total_out=0,t.data_type=Kme;const r=t.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap===2?C3:r.wrap?Jf:Ru,t.adler=r.wrap===2?0:1,r.last_flush=-2,Ome(r),Vs},LB=t=>{const r=FB(t);return r===Vs&&c0e(t.state),r},d0e=(t,r)=>n0(t)||t.state.wrap!==2?Xo:(t.state.gzhead=r,Vs),BB=(t,r,e,n,s,a)=>{if(!t)return Xo;let i=1;if(r===Vme&&(r=6),n<0?(i=0,n=-n):n>15&&(i=2,n-=16),s<1||s>Gme||e!==tv||n<8||n>15||r<0||r>9||a<0||a>qme||n===8&&i!==1)return Du(t,Xo);n===8&&(n=9);const c=new u0e;return t.state=c,c.strm=t,c.status=Jf,c.wrap=i,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=s+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+Yr-1)/Yr),c.window=new Uint8Array(c.w_size*2),c.head=new Uint16Array(c.hash_size),c.prev=new Uint16Array(c.w_size),c.lit_bufsize=1<<s+6,c.pending_buf_size=c.lit_bufsize*4,c.pending_buf=new Uint8Array(c.pending_buf_size),c.sym_buf=c.lit_bufsize,c.sym_end=(c.lit_bufsize-1)*3,c.level=r,c.strategy=a,c.method=e,LB(t)},f0e=(t,r)=>BB(t,r,tv,Xme,Qme,Hme),h0e=(t,r)=>{if(n0(t)||r>$N||r<0)return t?Du(t,Xo):Xo;const e=t.state;if(!t.output||t.avail_in!==0&&!t.input||e.status===pp&&r!==Li)return Du(t,t.avail_out===0?B1:Xo);const n=e.last_flush;if(e.last_flush=r,e.pending!==0){if(ai(t),t.avail_out===0)return e.last_flush=-1,Vs}else if(t.avail_in===0&&VN(r)<=VN(n)&&r!==Li)return Du(t,B1);if(e.status===pp&&t.avail_in!==0)return Du(t,B1);if(e.status===Jf&&e.wrap===0&&(e.status=Ru),e.status===Jf){let s=tv+(e.w_bits-8<<4)<<8,a=-1;if(e.strategy>=xg||e.level<2?a=0:e.level<6?a=1:e.level===6?a=2:a=3,s|=a<<6,e.strstart!==0&&(s|=n0e),s+=31-s%31,sp(e,s),e.strstart!==0&&(sp(e,t.adler>>>16),sp(e,t.adler&65535)),t.adler=1,e.status=Ru,ai(t),e.pending!==0)return e.last_flush=-1,Vs}if(e.status===C3){if(t.adler=0,cn(e,31),cn(e,139),cn(e,8),e.gzhead)cn(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),cn(e,e.gzhead.time&255),cn(e,e.gzhead.time>>8&255),cn(e,e.gzhead.time>>16&255),cn(e,e.gzhead.time>>24&255),cn(e,e.level===9?2:e.strategy>=xg||e.level<2?4:0),cn(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(cn(e,e.gzhead.extra.length&255),cn(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=Ts(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=I2;else if(cn(e,0),cn(e,0),cn(e,0),cn(e,0),cn(e,0),cn(e,e.level===9?2:e.strategy>=xg||e.level<2?4:0),cn(e,s0e),e.status=Ru,ai(t),e.pending!==0)return e.last_flush=-1,Vs}if(e.status===I2){if(e.gzhead.extra){let s=e.pending,a=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+a>e.pending_buf_size;){let c=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+c),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>s&&(t.adler=Ts(t.adler,e.pending_buf,e.pending-s,s)),e.gzindex+=c,ai(t),e.pending!==0)return e.last_flush=-1,Vs;s=0,a-=c}let i=new Uint8Array(e.gzhead.extra);e.pending_buf.set(i.subarray(e.gzindex,e.gzindex+a),e.pending),e.pending+=a,e.gzhead.hcrc&&e.pending>s&&(t.adler=Ts(t.adler,e.pending_buf,e.pending-s,s)),e.gzindex=0}e.status=O2}if(e.status===O2){if(e.gzhead.name){let s=e.pending,a;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>s&&(t.adler=Ts(t.adler,e.pending_buf,e.pending-s,s)),ai(t),e.pending!==0)return e.last_flush=-1,Vs;s=0}e.gzindex<e.gzhead.name.length?a=e.gzhead.name.charCodeAt(e.gzindex++)&255:a=0,cn(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>s&&(t.adler=Ts(t.adler,e.pending_buf,e.pending-s,s)),e.gzindex=0}e.status=F2}if(e.status===F2){if(e.gzhead.comment){let s=e.pending,a;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>s&&(t.adler=Ts(t.adler,e.pending_buf,e.pending-s,s)),ai(t),e.pending!==0)return e.last_flush=-1,Vs;s=0}e.gzindex<e.gzhead.comment.length?a=e.gzhead.comment.charCodeAt(e.gzindex++)&255:a=0,cn(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>s&&(t.adler=Ts(t.adler,e.pending_buf,e.pending-s,s))}e.status=L2}if(e.status===L2){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(ai(t),e.pending!==0))return e.last_flush=-1,Vs;cn(e,t.adler&255),cn(e,t.adler>>8&255),t.adler=0}if(e.status=Ru,ai(t),e.pending!==0)return e.last_flush=-1,Vs}if(t.avail_in!==0||e.lookahead!==0||r!==Oc&&e.status!==pp){let s=e.level===0?OB(e,r):e.strategy===xg?l0e(e,r):e.strategy===Wme?o0e(e,r):mp[e.level].func(e,r);if((s===cd||s===xh)&&(e.status=pp),s===Ra||s===cd)return t.avail_out===0&&(e.last_flush=-1),Vs;if(s===vh&&(r===Bme?Lme(e):r!==$N&&(R2(e,0,0,!1),r===$me&&(gc(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),ai(t),t.avail_out===0))return e.last_flush=-1,Vs}return r!==Li?Vs:e.wrap<=0?zN:(e.wrap===2?(cn(e,t.adler&255),cn(e,t.adler>>8&255),cn(e,t.adler>>16&255),cn(e,t.adler>>24&255),cn(e,t.total_in&255),cn(e,t.total_in>>8&255),cn(e,t.total_in>>16&255),cn(e,t.total_in>>24&255)):(sp(e,t.adler>>>16),sp(e,t.adler&65535)),ai(t),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?Vs:zN)},p0e=t=>{if(n0(t))return Xo;const r=t.state.status;return t.state=null,r===Ru?Du(t,zme):Vs},m0e=(t,r)=>{let e=r.length;if(n0(t))return Xo;const n=t.state,s=n.wrap;if(s===2||s===1&&n.status!==Jf||n.lookahead)return Xo;if(s===1&&(t.adler=hm(t.adler,r,e,0)),n.wrap=0,e>=n.w_size){s===0&&(gc(n.head),n.strstart=0,n.block_start=0,n.insert=0);let u=new Uint8Array(n.w_size);u.set(r.subarray(e-n.w_size,e),0),r=u,e=n.w_size}const a=t.avail_in,i=t.next_in,c=t.input;for(t.avail_in=e,t.next_in=0,t.input=r,eh(n);n.lookahead>=Yr;){let u=n.strstart,o=n.lookahead-(Yr-1);do n.ins_h=Fc(n,n.ins_h,n.window[u+Yr-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++;while(--o);n.strstart=u,n.lookahead=Yr-1,eh(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Yr-1,n.match_available=0,t.next_in=i,t.input=c,t.avail_in=a,n.wrap=s,Vs};var g0e=f0e,y0e=BB,b0e=LB,v0e=FB,x0e=d0e,w0e=h0e,_0e=p0e,k0e=m0e,j0e="pako deflate (from Nodeca project)",Np={deflateInit:g0e,deflateInit2:y0e,deflateReset:b0e,deflateResetKeep:v0e,deflateSetHeader:x0e,deflate:w0e,deflateEnd:_0e,deflateSetDictionary:k0e,deflateInfo:j0e};const S0e=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);var N0e=function(t){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const e=r.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)S0e(e,n)&&(t[n]=e[n])}}return t},C0e=t=>{let r=0;for(let n=0,s=t.length;n<s;n++)r+=t[n].length;const e=new Uint8Array(r);for(let n=0,s=0,a=t.length;n<a;n++){let i=t[n];e.set(i,s),s+=i.length}return e},rv={assign:N0e,flattenChunks:C0e};let $B=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$B=!1}const pm=new Uint8Array(256);for(let t=0;t<256;t++)pm[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;pm[254]=pm[254]=1;var T0e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let r,e,n,s,a,i=t.length,c=0;for(s=0;s<i;s++)e=t.charCodeAt(s),(e&64512)===55296&&s+1<i&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),c+=e<128?1:e<2048?2:e<65536?3:4;for(r=new Uint8Array(c),a=0,s=0;a<c;s++)e=t.charCodeAt(s),(e&64512)===55296&&s+1<i&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),e<128?r[a++]=e:e<2048?(r[a++]=192|e>>>6,r[a++]=128|e&63):e<65536?(r[a++]=224|e>>>12,r[a++]=128|e>>>6&63,r[a++]=128|e&63):(r[a++]=240|e>>>18,r[a++]=128|e>>>12&63,r[a++]=128|e>>>6&63,r[a++]=128|e&63);return r};const E0e=(t,r)=>{if(r<65534&&t.subarray&&$B)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let e="";for(let n=0;n<r;n++)e+=String.fromCharCode(t[n]);return e};var A0e=(t,r)=>{const e=r||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,r));let n,s;const a=new Array(e*2);for(s=0,n=0;n<e;){let i=t[n++];if(i<128){a[s++]=i;continue}let c=pm[i];if(c>4){a[s++]=65533,n+=c-1;continue}for(i&=c===2?31:c===3?15:7;c>1&&n<e;)i=i<<6|t[n++]&63,c--;if(c>1){a[s++]=65533;continue}i<65536?a[s++]=i:(i-=65536,a[s++]=55296|i>>10&1023,a[s++]=56320|i&1023)}return E0e(a,s)},P0e=(t,r)=>{r=r||t.length,r>t.length&&(r=t.length);let e=r-1;for(;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?r:e+pm[t[e]]>r?e:r},mm={string2buf:T0e,buf2string:A0e,utf8border:P0e};function M0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zB=M0e;const VB=Object.prototype.toString,{Z_NO_FLUSH:R0e,Z_SYNC_FLUSH:D0e,Z_FULL_FLUSH:I0e,Z_FINISH:O0e,Z_OK:Vy,Z_STREAM_END:F0e,Z_DEFAULT_COMPRESSION:L0e,Z_DEFAULT_STRATEGY:B0e,Z_DEFLATED:$0e}=r0;function s0(t){this.options=rv.assign({level:L0e,method:$0e,chunkSize:16384,windowBits:15,memLevel:8,strategy:B0e},t||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zB,this.strm.avail_out=0;let e=Np.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(e!==Vy)throw new Error(ld[e]);if(r.header&&Np.deflateSetHeader(this.strm,r.header),r.dictionary){let n;if(typeof r.dictionary=="string"?n=mm.string2buf(r.dictionary):VB.call(r.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(r.dictionary):n=r.dictionary,e=Np.deflateSetDictionary(this.strm,n),e!==Vy)throw new Error(ld[e]);this._dict_set=!0}}s0.prototype.push=function(t,r){const e=this.strm,n=this.options.chunkSize;let s,a;if(this.ended)return!1;for(r===~~r?a=r:a=r===!0?O0e:R0e,typeof t=="string"?e.input=mm.string2buf(t):VB.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(a===D0e||a===I0e)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(s=Np.deflate(e,a),s===F0e)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),s=Np.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Vy;if(e.avail_out===0){this.onData(e.output);continue}if(a>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};s0.prototype.onData=function(t){this.chunks.push(t)};s0.prototype.onEnd=function(t){t===Vy&&(this.result=rv.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function T3(t,r){const e=new s0(r);if(e.push(t,!0),e.err)throw e.msg||ld[e.err];return e.result}function z0e(t,r){return r=r||{},r.raw=!0,T3(t,r)}function V0e(t,r){return r=r||{},r.gzip=!0,T3(t,r)}var U0e=s0,W0e=T3,q0e=z0e,H0e=V0e,K0e={Deflate:U0e,deflate:W0e,deflateRaw:q0e,gzip:H0e};const wg=16209,G0e=16191;var X0e=function(r,e){let n,s,a,i,c,u,o,d,p,f,h,g,y,m,v,x,j,T,E,B,W,I,R,$;const K=r.state;n=r.next_in,R=r.input,s=n+(r.avail_in-5),a=r.next_out,$=r.output,i=a-(e-r.avail_out),c=a+(r.avail_out-257),u=K.dmax,o=K.wsize,d=K.whave,p=K.wnext,f=K.window,h=K.hold,g=K.bits,y=K.lencode,m=K.distcode,v=(1<<K.lenbits)-1,x=(1<<K.distbits)-1;e:do{g<15&&(h+=R[n++]<<g,g+=8,h+=R[n++]<<g,g+=8),j=y[h&v];t:for(;;){if(T=j>>>24,h>>>=T,g-=T,T=j>>>16&255,T===0)$[a++]=j&65535;else if(T&16){E=j&65535,T&=15,T&&(g<T&&(h+=R[n++]<<g,g+=8),E+=h&(1<<T)-1,h>>>=T,g-=T),g<15&&(h+=R[n++]<<g,g+=8,h+=R[n++]<<g,g+=8),j=m[h&x];r:for(;;){if(T=j>>>24,h>>>=T,g-=T,T=j>>>16&255,T&16){if(B=j&65535,T&=15,g<T&&(h+=R[n++]<<g,g+=8,g<T&&(h+=R[n++]<<g,g+=8)),B+=h&(1<<T)-1,B>u){r.msg="invalid distance too far back",K.mode=wg;break e}if(h>>>=T,g-=T,T=a-i,B>T){if(T=B-T,T>d&&K.sane){r.msg="invalid distance too far back",K.mode=wg;break e}if(W=0,I=f,p===0){if(W+=o-T,T<E){E-=T;do $[a++]=f[W++];while(--T);W=a-B,I=$}}else if(p<T){if(W+=o+p-T,T-=p,T<E){E-=T;do $[a++]=f[W++];while(--T);if(W=0,p<E){T=p,E-=T;do $[a++]=f[W++];while(--T);W=a-B,I=$}}}else if(W+=p-T,T<E){E-=T;do $[a++]=f[W++];while(--T);W=a-B,I=$}for(;E>2;)$[a++]=I[W++],$[a++]=I[W++],$[a++]=I[W++],E-=3;E&&($[a++]=I[W++],E>1&&($[a++]=I[W++]))}else{W=a-B;do $[a++]=$[W++],$[a++]=$[W++],$[a++]=$[W++],E-=3;while(E>2);E&&($[a++]=$[W++],E>1&&($[a++]=$[W++]))}}else if((T&64)===0){j=m[(j&65535)+(h&(1<<T)-1)];continue r}else{r.msg="invalid distance code",K.mode=wg;break e}break}}else if((T&64)===0){j=y[(j&65535)+(h&(1<<T)-1)];continue t}else if(T&32){K.mode=G0e;break e}else{r.msg="invalid literal/length code",K.mode=wg;break e}break}}while(n<s&&a<c);E=g>>3,n-=E,g-=E<<3,h&=(1<<g)-1,r.next_in=n,r.next_out=a,r.avail_in=n<s?5+(s-n):5-(n-s),r.avail_out=a<c?257+(c-a):257-(a-c),K.hold=h,K.bits=g};const tf=15,UN=852,WN=592,qN=0,z1=1,HN=2,Q0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Y0e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Z0e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),J0e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ege=(t,r,e,n,s,a,i,c)=>{const u=c.bits;let o=0,d=0,p=0,f=0,h=0,g=0,y=0,m=0,v=0,x=0,j,T,E,B,W,I=null,R;const $=new Uint16Array(tf+1),K=new Uint16Array(tf+1);let H=null,M,F,C;for(o=0;o<=tf;o++)$[o]=0;for(d=0;d<n;d++)$[r[e+d]]++;for(h=u,f=tf;f>=1&&$[f]===0;f--);if(h>f&&(h=f),f===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,c.bits=1,0;for(p=1;p<f&&$[p]===0;p++);for(h<p&&(h=p),m=1,o=1;o<=tf;o++)if(m<<=1,m-=$[o],m<0)return-1;if(m>0&&(t===qN||f!==1))return-1;for(K[1]=0,o=1;o<tf;o++)K[o+1]=K[o]+$[o];for(d=0;d<n;d++)r[e+d]!==0&&(i[K[r[e+d]]++]=d);if(t===qN?(I=H=i,R=20):t===z1?(I=Q0e,H=Y0e,R=257):(I=Z0e,H=J0e,R=0),x=0,d=0,o=p,W=a,g=h,y=0,E=-1,v=1<<h,B=v-1,t===z1&&v>UN||t===HN&&v>WN)return 1;for(;;){M=o-y,i[d]+1<R?(F=0,C=i[d]):i[d]>=R?(F=H[i[d]-R],C=I[i[d]-R]):(F=96,C=0),j=1<<o-y,T=1<<g,p=T;do T-=j,s[W+(x>>y)+T]=M<<24|F<<16|C|0;while(T!==0);for(j=1<<o-1;x&j;)j>>=1;if(j!==0?(x&=j-1,x+=j):x=0,d++,--$[o]===0){if(o===f)break;o=r[e+i[d]]}if(o>h&&(x&B)!==E){for(y===0&&(y=h),W+=p,g=o-y,m=1<<g;g+y<f&&(m-=$[g+y],!(m<=0));)g++,m<<=1;if(v+=1<<g,t===z1&&v>UN||t===HN&&v>WN)return 1;E=x&B,s[E]=h<<24|g<<16|W-a|0}}return x!==0&&(s[W+x]=o-y<<24|64<<16|0),c.bits=h,0};var Cp=ege;const tge=0,UB=1,WB=2,{Z_FINISH:KN,Z_BLOCK:rge,Z_TREES:_g,Z_OK:ud,Z_STREAM_END:nge,Z_NEED_DICT:sge,Z_STREAM_ERROR:Ui,Z_DATA_ERROR:qB,Z_MEM_ERROR:HB,Z_BUF_ERROR:age,Z_DEFLATED:GN}=r0,nv=16180,XN=16181,QN=16182,YN=16183,ZN=16184,JN=16185,e8=16186,t8=16187,r8=16188,n8=16189,Uy=16190,bl=16191,V1=16192,s8=16193,U1=16194,a8=16195,i8=16196,o8=16197,l8=16198,kg=16199,jg=16200,c8=16201,u8=16202,d8=16203,f8=16204,h8=16205,W1=16206,p8=16207,m8=16208,Dn=16209,KB=16210,GB=16211,ige=852,oge=592,lge=15,cge=lge,g8=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function uge(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wd=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.mode<nv||r.mode>GB?1:0},XB=t=>{if(wd(t))return Ui;const r=t.state;return t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=r.wrap&1),r.mode=nv,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(ige),r.distcode=r.distdyn=new Int32Array(oge),r.sane=1,r.back=-1,ud},QB=t=>{if(wd(t))return Ui;const r=t.state;return r.wsize=0,r.whave=0,r.wnext=0,XB(t)},YB=(t,r)=>{let e;if(wd(t))return Ui;const n=t.state;return r<0?(e=0,r=-r):(e=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?Ui:(n.window!==null&&n.wbits!==r&&(n.window=null),n.wrap=e,n.wbits=r,QB(t))},ZB=(t,r)=>{if(!t)return Ui;const e=new uge;t.state=e,e.strm=t,e.window=null,e.mode=nv;const n=YB(t,r);return n!==ud&&(t.state=null),n},dge=t=>ZB(t,cge);let y8=!0,q1,H1;const fge=t=>{if(y8){q1=new Int32Array(512),H1=new Int32Array(32);let r=0;for(;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for(Cp(UB,t.lens,0,288,q1,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;Cp(WB,t.lens,0,32,H1,0,t.work,{bits:5}),y8=!1}t.lencode=q1,t.lenbits=9,t.distcode=H1,t.distbits=5},JB=(t,r,e,n)=>{let s;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(r.subarray(e-a.wsize,e),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>n&&(s=n),a.window.set(r.subarray(e-n,e-n+s),a.wnext),n-=s,n?(a.window.set(r.subarray(e-n,e),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0},hge=(t,r)=>{let e,n,s,a,i,c,u,o,d,p,f,h,g,y,m=0,v,x,j,T,E,B,W,I;const R=new Uint8Array(4);let $,K;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wd(t)||!t.output||!t.input&&t.avail_in!==0)return Ui;e=t.state,e.mode===bl&&(e.mode=V1),i=t.next_out,s=t.output,u=t.avail_out,a=t.next_in,n=t.input,c=t.avail_in,o=e.hold,d=e.bits,p=c,f=u,I=ud;e:for(;;)switch(e.mode){case nv:if(e.wrap===0){e.mode=V1;break}for(;d<16;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}if(e.wrap&2&&o===35615){e.wbits===0&&(e.wbits=15),e.check=0,R[0]=o&255,R[1]=o>>>8&255,e.check=Ts(e.check,R,2,0),o=0,d=0,e.mode=XN;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((o&255)<<8)+(o>>8))%31){t.msg="incorrect header check",e.mode=Dn;break}if((o&15)!==GN){t.msg="unknown compression method",e.mode=Dn;break}if(o>>>=4,d-=4,W=(o&15)+8,e.wbits===0&&(e.wbits=W),W>15||W>e.wbits){t.msg="invalid window size",e.mode=Dn;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=o&512?n8:bl,o=0,d=0;break;case XN:for(;d<16;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}if(e.flags=o,(e.flags&255)!==GN){t.msg="unknown compression method",e.mode=Dn;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=Dn;break}e.head&&(e.head.text=o>>8&1),e.flags&512&&e.wrap&4&&(R[0]=o&255,R[1]=o>>>8&255,e.check=Ts(e.check,R,2,0)),o=0,d=0,e.mode=QN;case QN:for(;d<32;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}e.head&&(e.head.time=o),e.flags&512&&e.wrap&4&&(R[0]=o&255,R[1]=o>>>8&255,R[2]=o>>>16&255,R[3]=o>>>24&255,e.check=Ts(e.check,R,4,0)),o=0,d=0,e.mode=YN;case YN:for(;d<16;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}e.head&&(e.head.xflags=o&255,e.head.os=o>>8),e.flags&512&&e.wrap&4&&(R[0]=o&255,R[1]=o>>>8&255,e.check=Ts(e.check,R,2,0)),o=0,d=0,e.mode=ZN;case ZN:if(e.flags&1024){for(;d<16;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}e.length=o,e.head&&(e.head.extra_len=o),e.flags&512&&e.wrap&4&&(R[0]=o&255,R[1]=o>>>8&255,e.check=Ts(e.check,R,2,0)),o=0,d=0}else e.head&&(e.head.extra=null);e.mode=JN;case JN:if(e.flags&1024&&(h=e.length,h>c&&(h=c),h&&(e.head&&(W=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(a,a+h),W)),e.flags&512&&e.wrap&4&&(e.check=Ts(e.check,n,h,a)),c-=h,a+=h,e.length-=h),e.length))break e;e.length=0,e.mode=e8;case e8:if(e.flags&2048){if(c===0)break e;h=0;do W=n[a+h++],e.head&&W&&e.length<65536&&(e.head.name+=String.fromCharCode(W));while(W&&h<c);if(e.flags&512&&e.wrap&4&&(e.check=Ts(e.check,n,h,a)),c-=h,a+=h,W)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=t8;case t8:if(e.flags&4096){if(c===0)break e;h=0;do W=n[a+h++],e.head&&W&&e.length<65536&&(e.head.comment+=String.fromCharCode(W));while(W&&h<c);if(e.flags&512&&e.wrap&4&&(e.check=Ts(e.check,n,h,a)),c-=h,a+=h,W)break e}else e.head&&(e.head.comment=null);e.mode=r8;case r8:if(e.flags&512){for(;d<16;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}if(e.wrap&4&&o!==(e.check&65535)){t.msg="header crc mismatch",e.mode=Dn;break}o=0,d=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=bl;break;case n8:for(;d<32;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}t.adler=e.check=g8(o),o=0,d=0,e.mode=Uy;case Uy:if(e.havedict===0)return t.next_out=i,t.avail_out=u,t.next_in=a,t.avail_in=c,e.hold=o,e.bits=d,sge;t.adler=e.check=1,e.mode=bl;case bl:if(r===rge||r===_g)break e;case V1:if(e.last){o>>>=d&7,d-=d&7,e.mode=W1;break}for(;d<3;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}switch(e.last=o&1,o>>>=1,d-=1,o&3){case 0:e.mode=s8;break;case 1:if(fge(e),e.mode=kg,r===_g){o>>>=2,d-=2;break e}break;case 2:e.mode=i8;break;case 3:t.msg="invalid block type",e.mode=Dn}o>>>=2,d-=2;break;case s8:for(o>>>=d&7,d-=d&7;d<32;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}if((o&65535)!==(o>>>16^65535)){t.msg="invalid stored block lengths",e.mode=Dn;break}if(e.length=o&65535,o=0,d=0,e.mode=U1,r===_g)break e;case U1:e.mode=a8;case a8:if(h=e.length,h){if(h>c&&(h=c),h>u&&(h=u),h===0)break e;s.set(n.subarray(a,a+h),i),c-=h,a+=h,u-=h,i+=h,e.length-=h;break}e.mode=bl;break;case i8:for(;d<14;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}if(e.nlen=(o&31)+257,o>>>=5,d-=5,e.ndist=(o&31)+1,o>>>=5,d-=5,e.ncode=(o&15)+4,o>>>=4,d-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=Dn;break}e.have=0,e.mode=o8;case o8:for(;e.have<e.ncode;){for(;d<3;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}e.lens[H[e.have++]]=o&7,o>>>=3,d-=3}for(;e.have<19;)e.lens[H[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,$={bits:e.lenbits},I=Cp(tge,e.lens,0,19,e.lencode,0,e.work,$),e.lenbits=$.bits,I){t.msg="invalid code lengths set",e.mode=Dn;break}e.have=0,e.mode=l8;case l8:for(;e.have<e.nlen+e.ndist;){for(;m=e.lencode[o&(1<<e.lenbits)-1],v=m>>>24,x=m>>>16&255,j=m&65535,!(v<=d);){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}if(j<16)o>>>=v,d-=v,e.lens[e.have++]=j;else{if(j===16){for(K=v+2;d<K;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}if(o>>>=v,d-=v,e.have===0){t.msg="invalid bit length repeat",e.mode=Dn;break}W=e.lens[e.have-1],h=3+(o&3),o>>>=2,d-=2}else if(j===17){for(K=v+3;d<K;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}o>>>=v,d-=v,W=0,h=3+(o&7),o>>>=3,d-=3}else{for(K=v+7;d<K;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}o>>>=v,d-=v,W=0,h=11+(o&127),o>>>=7,d-=7}if(e.have+h>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=Dn;break}for(;h--;)e.lens[e.have++]=W}}if(e.mode===Dn)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=Dn;break}if(e.lenbits=9,$={bits:e.lenbits},I=Cp(UB,e.lens,0,e.nlen,e.lencode,0,e.work,$),e.lenbits=$.bits,I){t.msg="invalid literal/lengths set",e.mode=Dn;break}if(e.distbits=6,e.distcode=e.distdyn,$={bits:e.distbits},I=Cp(WB,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,$),e.distbits=$.bits,I){t.msg="invalid distances set",e.mode=Dn;break}if(e.mode=kg,r===_g)break e;case kg:e.mode=jg;case jg:if(c>=6&&u>=258){t.next_out=i,t.avail_out=u,t.next_in=a,t.avail_in=c,e.hold=o,e.bits=d,X0e(t,f),i=t.next_out,s=t.output,u=t.avail_out,a=t.next_in,n=t.input,c=t.avail_in,o=e.hold,d=e.bits,e.mode===bl&&(e.back=-1);break}for(e.back=0;m=e.lencode[o&(1<<e.lenbits)-1],v=m>>>24,x=m>>>16&255,j=m&65535,!(v<=d);){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}if(x&&(x&240)===0){for(T=v,E=x,B=j;m=e.lencode[B+((o&(1<<T+E)-1)>>T)],v=m>>>24,x=m>>>16&255,j=m&65535,!(T+v<=d);){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}o>>>=T,d-=T,e.back+=T}if(o>>>=v,d-=v,e.back+=v,e.length=j,x===0){e.mode=h8;break}if(x&32){e.back=-1,e.mode=bl;break}if(x&64){t.msg="invalid literal/length code",e.mode=Dn;break}e.extra=x&15,e.mode=c8;case c8:if(e.extra){for(K=e.extra;d<K;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}e.length+=o&(1<<e.extra)-1,o>>>=e.extra,d-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=u8;case u8:for(;m=e.distcode[o&(1<<e.distbits)-1],v=m>>>24,x=m>>>16&255,j=m&65535,!(v<=d);){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}if((x&240)===0){for(T=v,E=x,B=j;m=e.distcode[B+((o&(1<<T+E)-1)>>T)],v=m>>>24,x=m>>>16&255,j=m&65535,!(T+v<=d);){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}o>>>=T,d-=T,e.back+=T}if(o>>>=v,d-=v,e.back+=v,x&64){t.msg="invalid distance code",e.mode=Dn;break}e.offset=j,e.extra=x&15,e.mode=d8;case d8:if(e.extra){for(K=e.extra;d<K;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}e.offset+=o&(1<<e.extra)-1,o>>>=e.extra,d-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=Dn;break}e.mode=f8;case f8:if(u===0)break e;if(h=f-u,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=Dn;break}h>e.wnext?(h-=e.wnext,g=e.wsize-h):g=e.wnext-h,h>e.length&&(h=e.length),y=e.window}else y=s,g=i-e.offset,h=e.length;h>u&&(h=u),u-=h,e.length-=h;do s[i++]=y[g++];while(--h);e.length===0&&(e.mode=jg);break;case h8:if(u===0)break e;s[i++]=e.length,u--,e.mode=jg;break;case W1:if(e.wrap){for(;d<32;){if(c===0)break e;c--,o|=n[a++]<<d,d+=8}if(f-=u,t.total_out+=f,e.total+=f,e.wrap&4&&f&&(t.adler=e.check=e.flags?Ts(e.check,s,f,i-f):hm(e.check,s,f,i-f)),f=u,e.wrap&4&&(e.flags?o:g8(o))!==e.check){t.msg="incorrect data check",e.mode=Dn;break}o=0,d=0}e.mode=p8;case p8:if(e.wrap&&e.flags){for(;d<32;){if(c===0)break e;c--,o+=n[a++]<<d,d+=8}if(e.wrap&4&&o!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=Dn;break}o=0,d=0}e.mode=m8;case m8:I=nge;break e;case Dn:I=qB;break e;case KB:return HB;case GB:default:return Ui}return t.next_out=i,t.avail_out=u,t.next_in=a,t.avail_in=c,e.hold=o,e.bits=d,(e.wsize||f!==t.avail_out&&e.mode<Dn&&(e.mode<W1||r!==KN))&&JB(t,t.output,t.next_out,f-t.avail_out),p-=t.avail_in,f-=t.avail_out,t.total_in+=p,t.total_out+=f,e.total+=f,e.wrap&4&&f&&(t.adler=e.check=e.flags?Ts(e.check,s,f,t.next_out-f):hm(e.check,s,f,t.next_out-f)),t.data_type=e.bits+(e.last?64:0)+(e.mode===bl?128:0)+(e.mode===kg||e.mode===U1?256:0),(p===0&&f===0||r===KN)&&I===ud&&(I=age),I},pge=t=>{if(wd(t))return Ui;let r=t.state;return r.window&&(r.window=null),t.state=null,ud},mge=(t,r)=>{if(wd(t))return Ui;const e=t.state;return(e.wrap&2)===0?Ui:(e.head=r,r.done=!1,ud)},gge=(t,r)=>{const e=r.length;let n,s,a;return wd(t)||(n=t.state,n.wrap!==0&&n.mode!==Uy)?Ui:n.mode===Uy&&(s=1,s=hm(s,r,e,0),s!==n.check)?qB:(a=JB(t,r,e,e),a?(n.mode=KB,HB):(n.havedict=1,ud))};var yge=QB,bge=YB,vge=XB,xge=dge,wge=ZB,_ge=hge,kge=pge,jge=mge,Sge=gge,Nge="pako inflate (from Nodeca project)",Sl={inflateReset:yge,inflateReset2:bge,inflateResetKeep:vge,inflateInit:xge,inflateInit2:wge,inflate:_ge,inflateEnd:kge,inflateGetHeader:jge,inflateSetDictionary:Sge,inflateInfo:Nge};function Cge(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Tge=Cge;const e$=Object.prototype.toString,{Z_NO_FLUSH:Ege,Z_FINISH:Age,Z_OK:gm,Z_STREAM_END:K1,Z_NEED_DICT:G1,Z_STREAM_ERROR:Pge,Z_DATA_ERROR:b8,Z_MEM_ERROR:Mge}=r0;function a0(t){this.options=rv.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zB,this.strm.avail_out=0;let e=Sl.inflateInit2(this.strm,r.windowBits);if(e!==gm)throw new Error(ld[e]);if(this.header=new Tge,Sl.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=mm.string2buf(r.dictionary):e$.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(e=Sl.inflateSetDictionary(this.strm,r.dictionary),e!==gm)))throw new Error(ld[e])}a0.prototype.push=function(t,r){const e=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let a,i,c;if(this.ended)return!1;for(r===~~r?i=r:i=r===!0?Age:Ege,e$.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),a=Sl.inflate(e,i),a===G1&&s&&(a=Sl.inflateSetDictionary(e,s),a===gm?a=Sl.inflate(e,i):a===b8&&(a=G1));e.avail_in>0&&a===K1&&e.state.wrap>0&&t[e.next_in]!==0;)Sl.inflateReset(e),a=Sl.inflate(e,i);switch(a){case Pge:case b8:case G1:case Mge:return this.onEnd(a),this.ended=!0,!1}if(c=e.avail_out,e.next_out&&(e.avail_out===0||a===K1))if(this.options.to==="string"){let u=mm.utf8border(e.output,e.next_out),o=e.next_out-u,d=mm.buf2string(e.output,u);e.next_out=o,e.avail_out=n-o,o&&e.output.set(e.output.subarray(u,u+o),0),this.onData(d)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(a===gm&&c===0)){if(a===K1)return a=Sl.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};a0.prototype.onData=function(t){this.chunks.push(t)};a0.prototype.onEnd=function(t){t===gm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rv.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function E3(t,r){const e=new a0(r);if(e.push(t),e.err)throw e.msg||ld[e.err];return e.result}function Rge(t,r){return r=r||{},r.raw=!0,E3(t,r)}var Dge=a0,Ige=E3,Oge=Rge,Fge=E3,Lge={Inflate:Dge,inflate:Ige,inflateRaw:Oge,ungzip:Fge};const{Deflate:Bge,deflate:$ge,deflateRaw:zge,gzip:Vge}=K0e,{Inflate:Uge,inflate:Wge,inflateRaw:qge,ungzip:Hge}=Lge;var Kge=Bge,Gge=$ge,Xge=zge,Qge=Vge,Yge=Uge,Zge=Wge,Jge=qge,eye=Hge,tye=r0,rye={Deflate:Kge,deflate:Gge,deflateRaw:Xge,gzip:Qge,Inflate:Yge,inflate:Zge,inflateRaw:Jge,ungzip:eye,constants:tye};const nye=()=>"web",sye=t=>{switch(t){case"android":return" ";case"ios":return" iOS";default:return" "}};function X1(){const[,t]=Rs(),r=nye(),[e,n]=P.useState(navigator.onLine),[s,a]=P.useState("permissions"),[i,c]=P.useState(!1),[u,o]=P.useState(null),[d,p]=P.useState(""),[f,h]=P.useState(null),[g,y]=P.useState(!1),m=P.useRef(null),v=[{id:"storage",label:" ",description:"   ",status:"pending",required:!0,platforms:["web"]},{id:"notifications",label:"",description:"  ",status:"pending",required:!0,platforms:["web"]},{id:"network",label:" ",description:"   ",status:"pending",required:!0,platforms:["web"]},{id:"geolocation",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"camera",label:"",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"vibration",label:"",description:" ",status:"pending",required:!1,platforms:["web"]},{id:"battery",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"networkInfo",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"database",label:" ",description:"  ",status:"pending",required:!0,platforms:["web"]},{id:"server",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"backup",label:" ",description:"   ",status:"pending",required:!1,platforms:["web"]},{id:"emergency",label:" ",description:"    ",status:"pending",required:!0,platforms:["web"]},{id:"tables",label:" ",description:"  ",status:"pending",required:!0,platforms:["web"]}],[x,j]=P.useState(v.filter(te=>te.platforms.includes(r))),T=P.useCallback((te,oe)=>{j(ne=>ne.map(he=>he.id===te?{...he,...oe}:he))},[]);P.useEffect(()=>{const te=()=>n(!0),oe=()=>n(!1);return window.addEventListener("online",te),window.addEventListener("offline",oe),()=>{window.removeEventListener("online",te),window.removeEventListener("offline",oe)}},[]);const E=async()=>{try{if("storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persisted())return"granted";const te="__storage_test__";return localStorage.setItem(te,te),localStorage.removeItem(te),"indexedDB"in window?new Promise(oe=>{const ne=indexedDB.open("__test_db__",1);ne.onerror=()=>oe("denied"),ne.onsuccess=()=>{ne.result.close(),indexedDB.deleteDatabase("__test_db__"),oe("granted")}}):"granted"}catch{return"denied"}},B=async()=>{try{return"Notification"in window?Notification.permission==="granted"?"granted":Notification.permission==="denied"?"denied":"pending":"unavailable"}catch{return"unavailable"}},W=async()=>{if(!navigator.onLine)return"denied";try{const te=new AbortController,oe=setTimeout(()=>te.abort(),5e3),ne=await fetch("/api/health",{method:"GET",signal:te.signal,cache:"no-store"});return clearTimeout(oe),ne.ok?"granted":"warning"}catch{return navigator.onLine?"warning":"denied"}},I=async()=>{try{if(!("geolocation"in navigator))return"unavailable";if("permissions"in navigator){const te=await navigator.permissions.query({name:"geolocation"});if(te.state==="granted")return"granted";if(te.state==="denied")return"denied"}return"pending"}catch{return"unavailable"}},R=async()=>{try{if(!("mediaDevices"in navigator))return"unavailable";if("permissions"in navigator)try{const te=await navigator.permissions.query({name:"camera"});if(te.state==="granted")return"granted";if(te.state==="denied")return"denied"}catch{}return"pending"}catch{return"unavailable"}},$=async()=>{try{return"vibrate"in navigator?(navigator.vibrate(1),"granted"):"unavailable"}catch{return"unavailable"}},K=async()=>{try{if("getBattery"in navigator){const te=await navigator.getBattery();return T("battery",{details:`${Math.round(te.level*100)}%`}),"granted"}return"unavailable"}catch{return"unavailable"}},H=async()=>{try{const te=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return te?(T("networkInfo",{details:te.effectiveType||te.type}),"granted"):"unavailable"}catch{return"unavailable"}},M=async()=>{try{await Lc();const te=await Hn();if(te){const oe=["projects","workers","financialTransfers","wells","wellExpenses"];let ne=0;const he={};for(const ie of oe)try{const ee=await te.count(ie);ne+=ee,he[ie]=ee}catch{he[ie]=0}const ce={totalRecords:ne,tables:he,timestamp:new Date().toLocaleString("ar-SA"),isEmpty:ne===0};T("database",{details:ne>0?`${ne} `:"",expandedDetails:ce})}return"granted"}catch(te){return console.error("[DB Check] :",te),"denied"}},F=async()=>{try{const te=new AbortController,oe=setTimeout(()=>te.abort(),8e3),ne=performance.now(),he=await fetch("/api/health",{signal:te.signal,cache:"no-store"}),ce=Math.round(performance.now()-ne);if(clearTimeout(oe),he.ok){const ie=await he.json().catch(()=>({})),ee=ie.database==="connected"?"":"",se=localStorage.getItem("emergency_mode")==="true",le={dbStatus:ee,responseTime:`${ce}ms`,status:he.status,emergencyMode:se?"":"",timestamp:new Date().toLocaleString("ar-SA")};return T("server",{details:ee,expandedDetails:le}),ie.database==="connected"?"granted":"warning"}return T("server",{details:"  ",expandedDetails:{status:he.status,timestamp:new Date().toLocaleString("ar-SA")}}),"warning"}catch(te){return T("server",{details:" ",expandedDetails:{error:te.message,timestamp:new Date().toLocaleString("ar-SA")}}),"denied"}},C=async()=>{try{const te="latest_backup_timestamp",oe=localStorage.getItem(te);let ne=!1,he="";if(navigator.onLine)try{const ie=new AbortController,ee=setTimeout(()=>ie.abort(),1e4),se=await fetch("/api/sync/latest-backup",{signal:ie.signal,cache:"no-store"});if(clearTimeout(ee),se.ok){const le=await se.json();if(le.timestamp)return ne=!0,he=new Date(le.timestamp).toLocaleString("ar-SA"),localStorage.setItem(te,le.timestamp),T("backup",{details:" ",expandedDetails:{source:"",timestamp:he,status:""}}),"granted"}}catch{}if(oe){const ie=new Date(oe),se=(new Date().getTime()-ie.getTime())/(1e3*60*60),le=ie.toLocaleString("ar-SA");if(se<24){const ve={source:"",timestamp:le,ageHours:Math.round(se),status:""};return T("backup",{details:" ",expandedDetails:ve}),"granted"}else if(se<168){const ve={source:"",timestamp:le,ageHours:Math.round(se),status:""};return T("backup",{details:" ",expandedDetails:ve}),"warning"}}return T("backup",{details:" ",expandedDetails:{source:" ",status:"   "}}),"unavailable"}catch{return"unavailable"}},_=async()=>{try{const te=localStorage.getItem("emergency_mode")==="true",oe=localStorage.getItem("offline_queue");let ne=0;if(oe)try{const se=JSON.parse(oe);ne=Array.isArray(se)?se.length:0}catch{}const he=await Hn();let ce=!1,ie=0;he&&(ie=await he.count("projects").catch(()=>0),ce=ie>0);const ee={mode:te?"":"",queueCount:ne,hasLocalData:ce,projectsCount:ie,timestamp:new Date().toLocaleString("ar-SA")};return te?(T("emergency",{details:` (${ne} )`,expandedDetails:ee}),"warning"):ce?(T("emergency",{details:" ",expandedDetails:ee}),"granted"):(T("emergency",{details:" ",expandedDetails:ee}),"pending")}catch{return"denied"}},S=async()=>{try{const te=await Hn();if(!te)return T("tables",{details:"  "}),"denied";const oe=["projects","workers","financialTransfers","wells","wellExpenses","recentActivities"],ne={},he=[];let ce=!0;for(const le of oe)try{const ve=await te.count(le);ne[le]=ve,he.push({name:le,count:ve,status:"ok"})}catch{ne[le]=-1,he.push({name:le,count:0,status:"error"}),ce=!1}const ie=Object.values(ne).filter(le=>le>=0).reduce((le,ve)=>le+ve,0),ee=Object.values(ne).filter(le=>le>=0).length,se={tables:he,totalRecords:ie,validTables:ee,totalTables:oe.length,timestamp:new Date().toLocaleString("ar-SA")};return T("tables",{details:`${ee}/${oe.length}  (${ie} )`,expandedDetails:se}),ce?"granted":"warning"}catch(te){return console.error("[Tables Check] Error:",te),"denied"}},k=async()=>{try{return"storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persist(),await Lc(),"granted"}catch{return"denied"}},N=async()=>{try{return"Notification"in window?await Notification.requestPermission()==="granted"?"granted":"denied":"unavailable"}catch{return"unavailable"}},D=async()=>{try{return"geolocation"in navigator?new Promise(te=>{navigator.geolocation.getCurrentPosition(()=>te("granted"),oe=>te(oe.code===oe.PERMISSION_DENIED?"denied":"warning"),{timeout:1e4,enableHighAccuracy:!1})}):"unavailable"}catch{return"unavailable"}},L=async()=>{try{if(!("mediaDevices"in navigator))return"unavailable";try{return(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(oe=>oe.stop()),"granted"}catch(te){return te.name==="NotAllowedError"?"denied":te.name==="NotFoundError"?"unavailable":"denied"}}catch{return"unavailable"}},V=async()=>{try{return await GL(),localStorage.setItem("setup_complete","true"),localStorage.setItem("latest_backup_timestamp",new Date().toISOString()),"granted"}catch{return localStorage.setItem("setup_complete","true"),"warning"}},Q=async te=>new Promise((oe,ne)=>{const he=new FileReader;he.onload=async ce=>{try{const ie=ce.target?.result;if(te.name.endsWith(".gz")||te.name.endsWith(".gzip")){const ee=new Uint8Array(ie),se=rye.ungzip(ee,{to:"string"});if(te.name.includes(".sql"))oe({type:"sql",content:se});else try{const le=JSON.parse(se);oe({type:"json",content:le})}catch{oe({type:"sql",content:se})}}else if(te.name.endsWith(".sql"))oe({type:"sql",content:ie});else if(te.name.endsWith(".json")){const ee=JSON.parse(ie);oe({type:"json",content:ee})}else try{const ee=JSON.parse(ie);oe({type:"json",content:ee})}catch{oe({type:"sql",content:ie})}}catch(ie){ne(ie)}},he.onerror=()=>ne(new Error("   ")),te.name.endsWith(".gz")||te.name.endsWith(".gzip")?he.readAsArrayBuffer(te):he.readAsText(te)}),Y=async te=>{const oe=await Hn();if(!oe)throw new Error("   ");if(te.type==="json"){const ne=te.content,he=["projects","workers","financialTransfers","wells","wellExpenses","recentActivities"];for(const ce of he)if(ne[ce]&&Array.isArray(ne[ce]))for(const ie of ne[ce])try{await oe.put(ce,ie)}catch(ee){console.warn(`[Import]    ${ce}:`,ee)}}else if(te.type==="sql"){const ne=te.content,he=/INSERT INTO (\w+)\s*\((.*?)\)\s*VALUES\s*\((.*?)\);/gi;let ce;for(;(ce=he.exec(ne))!==null;){const ie=ce[1].toLowerCase(),ee=ce[2].split(",").map(_e=>_e.trim().replace(/"/g,"")),le=ce[3].split(",").map(_e=>(_e=_e.trim(),_e==="NULL"||_e==="null"?null:_e.startsWith("'")&&_e.endsWith("'")?_e.slice(1,-1):isNaN(Number(_e))?_e:Number(_e))),ve={};ee.forEach((_e,Te)=>{ve[_e]=le[Te]});try{await oe.put(ie,ve)}catch(_e){console.warn("[SQL Import] :",_e)}}}},re=async te=>{const oe=te.target.files?.[0];if(oe){p("  ...");try{const ne=await Q(oe);p("  ..."),await Y(ne),localStorage.setItem("setup_complete","true"),localStorage.setItem("latest_backup_timestamp",new Date().toISOString()),localStorage.setItem("backup_source",oe.name),T("backup",{status:"granted",details:" "}),T("database",{status:"granted",details:" "}),p("  !"),setTimeout(()=>p(""),3e3)}catch(ne){console.error("[Import] :",ne),p(`: ${ne.message}`),setTimeout(()=>p(""),5e3)}m.current&&(m.current.value="")}},O=te=>{switch(te){case"granted":return"";case"denied":return"";case"pending":return" ";case"unavailable":return" ";case"warning":return"";default:return""}};P.useEffect(()=>{const te=localStorage.getItem("permissions_granted")==="true",oe=localStorage.getItem("setup_complete")==="true";if(te&&oe){t("/login");return}(async()=>{const he=["storage","notifications","network","geolocation","camera","vibration","battery","networkInfo"];for(const ce of he){if(!x.find(ee=>ee.id===ce))continue;o(ce);let ie="pending";ce==="storage"?ie=await E():ce==="notifications"?ie=await B():ce==="network"?ie=await W():ce==="geolocation"?ie=await I():ce==="camera"?ie=await R():ce==="vibration"?ie=await $():ce==="battery"?ie=await K():ce==="networkInfo"&&(ie=await H()),T(ce,{status:ie,details:x.find(ee=>ee.id===ce)?.details||O(ie)})}o(null)})()},[t,T,r,x]);const Z=async()=>{c(!0);const te=[{id:"storage",fn:k},{id:"notifications",fn:N},{id:"geolocation",fn:D},{id:"camera",fn:L}];for(const ce of te){if(!x.find(ee=>ee.id===ce.id))continue;o(ce.id),T(ce.id,{status:"checking"});const ie=await ce.fn();T(ce.id,{status:ie,details:O(ie)})}a("system");const oe=[{id:"database",fn:M},{id:"server",fn:F},{id:"backup",fn:C},{id:"emergency",fn:_},{id:"tables",fn:S}];let ne="denied";for(const ce of oe){if(!x.find(ee=>ee.id===ce.id))continue;o(ce.id),T(ce.id,{status:"checking"});const ie=await ce.fn();ce.id==="database"&&(ne=ie),ce.id==="server"&&ie==="denied"&&localStorage.setItem("emergency_mode","true"),T(ce.id,{status:ie,details:x.find(ee=>ee.id===ce.id)?.details||O(ie)})}const he=x.find(ce=>ce.id==="backup");if(he&&(he.status==="granted"||he.status==="warning")){o("backup"),T("backup",{status:"checking",details:" ..."});const ce=await V();T("backup",{status:ce,details:ce==="granted"?" ":" "})}o(null),c(!1),(ne==="granted"||ne==="warning")&&(localStorage.setItem("permissions_granted","true"),localStorage.setItem("permissions_timestamp",new Date().toISOString()),a("complete"),setTimeout(()=>t("/login"),1500))},U=()=>{localStorage.setItem("permissions_granted","true"),localStorage.setItem("emergency_mode","true"),t("/login")},z=async()=>{y(!0),h(null);const te=[{id:"database",fn:M},{id:"server",fn:F},{id:"backup",fn:C},{id:"emergency",fn:_},{id:"tables",fn:S}];for(const oe of te)if(x.find(he=>he.id===oe.id)){o(oe.id),T(oe.id,{status:"checking"});try{const he=await oe.fn();T(oe.id,{status:he})}catch(he){console.error(`[Refresh] Error checking ${oe.id}:`,he),T(oe.id,{status:"warning"})}}o(null),y(!1)},G=te=>({storage:Ll,notifications:hf,network:ny,geolocation:Bo,camera:wA,database:Pp,server:Ff,backup:Bi,vibration:wq,battery:VW,networkInfo:mq,emergency:Ml,tables:Ll})[te]||Ml,ae=Math.round(x.filter(te=>["granted","warning","unavailable","denied"].includes(te.status)).length/x.length*100),pe=x.filter(te=>["storage","notifications","network","geolocation","camera","vibration","battery","networkInfo"].includes(te.id)),de=x.filter(te=>["database","server","backup","emergency","tables"].includes(te.id)),ge=s==="permissions"?pe:s==="system"?de:x;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background to-muted/30 flex flex-col",children:[l.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${ae}%`}})}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"relative inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-4",children:s==="complete"?l.jsx(Ws,{className:"w-8 h-8 text-green-500"}):l.jsx($l,{className:"w-8 h-8 text-primary"})}),l.jsx("h1",{className:"text-xl font-semibold text-foreground mb-1",children:s==="permissions"?" ":s==="system"?" ":" "}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[e?l.jsxs(l.Fragment,{children:[l.jsx(ny,{className:"w-3.5 h-3.5 text-green-500"})," "]}):l.jsxs(l.Fragment,{children:[l.jsx(i_,{className:"w-3.5 h-3.5 text-amber-500"}),"  "]}),l.jsx("span",{className:"text-muted-foreground/50",children:""}),l.jsxs(l.Fragment,{children:[l.jsx(t_,{className:"w-3.5 h-3.5"})," "]})]})]}),l.jsx("div",{className:"space-y-2 mb-6 max-h-[50vh] overflow-y-auto",children:ge.map(te=>{const oe=G(te.id),ne=u===te.id,he=f===te.id,ce=te.expandedDetails&&Object.keys(te.expandedDetails).length>0;return l.jsxs("div",{"data-testid":`check-${te.id}`,className:Pe("rounded-xl border transition-all duration-200",te.status==="checking"&&"border-primary/40 bg-primary/5",te.status==="granted"&&"border-green-200 dark:border-green-800/50 bg-green-50/50 dark:bg-green-900/10",te.status==="warning"&&"border-amber-200 dark:border-amber-800/50 bg-amber-50/50 dark:bg-amber-900/10",te.status==="denied"&&"border-red-200 dark:border-red-800/50 bg-red-50/50 dark:bg-red-900/10",te.status==="unavailable"&&"border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30",te.status==="pending"&&"border-border/50 bg-muted/30"),children:[l.jsxs("div",{className:"flex items-center gap-3 p-3",children:[l.jsx("div",{className:Pe("flex items-center justify-center w-9 h-9 rounded-lg transition-colors shrink-0",te.status==="checking"&&"bg-primary/15 text-primary",te.status==="granted"&&"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",te.status==="warning"&&"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",te.status==="denied"&&"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",te.status==="unavailable"&&"bg-slate-100 dark:bg-slate-800 text-slate-400",te.status==="pending"&&"bg-muted text-muted-foreground"),children:te.status==="checking"||ne?l.jsx(Ln,{className:"w-4 h-4 animate-spin"}):te.status==="granted"?l.jsx(Ws,{className:"w-4 h-4"}):["denied","warning"].includes(te.status)?l.jsx(Da,{className:"w-4 h-4"}):l.jsx(oe,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:Pe("text-sm font-medium truncate",te.status==="pending"?"text-muted-foreground":"text-foreground"),children:te.label}),te.required&&te.status!=="granted"&&l.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",children:""})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[te.details&&l.jsx("span",{className:Pe("text-xs shrink-0",te.status==="granted"&&"text-green-600 dark:text-green-400",te.status==="warning"&&"text-amber-600 dark:text-amber-400",te.status==="denied"&&"text-red-600 dark:text-red-400",te.status==="unavailable"&&"text-slate-400"),children:te.details}),ce&&l.jsx("button",{onClick:()=>h(he?null:te.id),className:"p-0.5 hover:bg-black/5 dark:hover:bg-white/5 rounded transition-colors","data-testid":`btn-expand-${te.id}`,children:he?l.jsx(Qu,{className:"w-4 h-4"}):l.jsx(rs,{className:"w-4 h-4"})})]})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:te.description})]})]}),he&&ce&&l.jsx("div",{className:"px-3 pb-3 border-t border-current/10",children:l.jsx("div",{className:"mt-3 space-y-2 text-xs",children:te.id==="tables"&&te.expandedDetails?.tables?l.jsx(l.Fragment,{children:te.expandedDetails.tables.map(ie=>l.jsxs("div",{className:"flex justify-between items-center p-2 bg-black/2.5 dark:bg-white/2.5 rounded",children:[l.jsx("span",{className:"font-medium",children:ie.name}),l.jsxs("span",{className:ie.status==="ok"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[ie.count," "]})]},ie.name))}):Object.entries(te.expandedDetails||{}).map(([ie,ee])=>l.jsxs("div",{className:"flex justify-between items-center p-2 bg-black/2.5 dark:bg-white/2.5 rounded",children:[l.jsx("span",{className:"text-muted-foreground",children:ie}),l.jsx("span",{className:"font-medium",children:String(ee)})]},ie))})})]},te.id)})}),s!=="complete"&&l.jsxs("div",{className:"space-y-2",children:[s==="system"&&l.jsx(Oe,{"data-testid":"btn-refresh-checks",variant:"outline",className:"w-full h-10",onClick:z,disabled:i||g,children:g?l.jsxs(l.Fragment,{children:[l.jsx(Ln,{className:"w-4 h-4 animate-spin ml-2"}),"  ..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Bi,{className:"w-4 h-4 ml-2"})," "]})}),l.jsx(Oe,{"data-testid":"btn-request-all",className:"w-full h-11",onClick:Z,disabled:i||g,children:i?l.jsxs(l.Fragment,{children:[l.jsx(Ln,{className:"w-4 h-4 animate-spin ml-2"}),"  ..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ml,{className:"w-4 h-4 ml-2"}),"   "]})}),l.jsx("input",{ref:m,type:"file",accept:".sql,.json,.gz,.gzip,.backup",onChange:re,className:"hidden","data-testid":"input-backup-file"}),l.jsxs(Oe,{"data-testid":"btn-import-backup",variant:"outline",className:"w-full h-10",onClick:()=>m.current?.click(),disabled:i,children:[l.jsx(GW,{className:"w-4 h-4 ml-2"}),"  "]}),d&&l.jsx("div",{className:Pe("text-center text-sm p-2 rounded-lg",d.includes("")?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400":d.includes("")?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"),children:d}),l.jsx(Oe,{"data-testid":"btn-skip",variant:"ghost",className:"w-full h-9 text-sm text-muted-foreground",onClick:U,disabled:i,children:" ( )"})]}),s==="complete"&&l.jsxs("div",{className:"text-center p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800/50",children:[l.jsx(Ws,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),l.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"   "}),l.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:" ..."})]}),l.jsxs("p",{className:"text-center text-[10px] text-muted-foreground/60 mt-6",children:["v3.1  ",sye(r),"   "]})]})})]})}if(typeof window<"u"){const t=window.ResizeObserver;window.ResizeObserver=class extends t{constructor(e){super((n,s)=>{window.requestAnimationFrame(()=>{!Array.isArray(n)||!n.length||e(n,s)})})}}}const aye=P.lazy(()=>Fn(()=>import("./worker-accounts-CjCo5LGx.js"),__vite__mapDeps([0,1]))),iye=P.lazy(()=>Fn(()=>import("./suppliers-professional--op5RhD_.js"),__vite__mapDeps([2,3]))),oye=P.lazy(()=>Fn(()=>import("./customers-VafRlSqY.js"),[])),lye=P.lazy(()=>Fn(()=>import("./supplier-accounts-DZ2GY9or.js"),[])),cye=P.lazy(()=>Fn(()=>import("./autocomplete-admin-Jp9TDxdq.js"),__vite__mapDeps([4,5]))),uye=P.lazy(()=>Fn(()=>import("./equipment-management-BOwJdKE9.js"),__vite__mapDeps([6,7])).then(t=>({default:t.EquipmentManagement}))),dye=P.lazy(()=>Fn(()=>import("./admin-notifications-CD-t_uyz.js"),__vite__mapDeps([8,5,9,7]))),fye=P.lazy(()=>Fn(()=>import("./SmartErrorsPage-BnnD7LX_.js"),__vite__mapDeps([10,5,3]))),hye=P.lazy(()=>Fn(()=>import("./SecurityPoliciesPage-BgTozjjj.js"),__vite__mapDeps([11,5,12])).then(t=>({default:t.SecurityPoliciesPage}))),Q1=P.lazy(()=>Fn(()=>import("./axion-reports-ChK6ihHA.js"),__vite__mapDeps([13,12]))),pye=P.lazy(()=>Fn(()=>import("./settings-B8QUC8hf.js"),__vite__mapDeps([14,3,5,7]))),mye=P.lazy(()=>Fn(()=>import("./users-management-CbMJMtND.js"),[])),gye=P.lazy(()=>Fn(()=>import("./ai-chat-CajsE27u.js"),__vite__mapDeps([15,9]))),yye=P.lazy(()=>Fn(()=>import("./sync-comparison-CcceDLrX.js"),[]));function Bs(){return l.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col items-center justify-center bg-white/80 dark:bg-slate-900/80 backdrop-blur-md gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ln,{className:"h-12 w-12 animate-spin text-blue-600"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full animate-pulse"})})]}),l.jsx("p",{className:"text-sm font-medium text-slate-500 animate-pulse",children:"  ..."})]})}L9().catch(console.error);ime(3e4);const bye=P.lazy(()=>Fn(()=>import("./index-2UQEtthl.js"),__vite__mapDeps([16,12])));function vye(){return hue(),P.useEffect(()=>{(async()=>{try{await Lc(),console.log("     "),KL(),console.log("     ");const r=ev(e=>{!e.isSyncing&&e.lastSync>0&&e.pendingCount===0&&(console.log(" [Sync]    -   ..."),requestAnimationFrame(()=>{try{xn.invalidateQueries()}catch(n){console.error("    :",n)}}))});return()=>r()}catch(r){console.error("     :",r)}})()},[]),l.jsxs(N9,{children:[l.jsx(jr,{path:"/",component:Aoe}),l.jsx(jr,{path:"/deployment",component:Aue}),l.jsx(jr,{path:"/projects",component:The}),l.jsx(jr,{path:"/workers",component:Ihe}),l.jsx(jr,{path:"/worker-accounts",children:l.jsx(ia,{children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(aye,{})})})}),l.jsx(jr,{path:"/suppliers-pro",children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(iye,{})})}),l.jsx(jr,{path:"/customers",children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(oye,{})})}),l.jsx(jr,{path:"/supplier-accounts",children:l.jsx(ia,{children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(lye,{})})})}),l.jsx(jr,{path:"/worker-attendance",component:Cue}),l.jsx(jr,{path:"/material-purchase",component:que}),l.jsx(jr,{path:"/transport-management",component:Xue}),l.jsx(jr,{path:"/project-transfers",children:l.jsx(ia,{children:l.jsx(Bfe,{})})}),l.jsx(jr,{path:"/project-transactions",children:l.jsx(ia,{children:l.jsx(zfe,{})})}),l.jsx(jr,{path:"/project-fund-custody",children:l.jsx(ia,{children:l.jsx(Vfe,{})})}),l.jsx(jr,{path:"/autocomplete-admin",children:l.jsx(ia,{children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(cye,{})})})}),l.jsx(jr,{path:"/equipment",children:l.jsx(ia,{children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(uye,{})})})}),l.jsx(jr,{path:"/notifications",component:Yhe}),l.jsx(jr,{path:"/admin-notifications",children:l.jsx(ia,{children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(dye,{})})})}),l.jsx(jr,{path:"/smart-errors",children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(fye,{})})}),l.jsx(jr,{path:"/security-policies",children:l.jsx(ia,{children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(hye,{})})})}),l.jsx(jr,{path:"/daily-expenses",component:tpe}),l.jsx(jr,{path:"/wells",component:npe}),l.jsx(jr,{path:"/admin/backups",children:l.jsx(ia,{children:l.jsx(Hhe,{})})}),l.jsx(jr,{path:"/settings",children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(pye,{})})}),l.jsx(jr,{path:"/well-cost-report",component:spe}),l.jsx(jr,{path:"/well-accounting",component:lpe}),l.jsx(jr,{path:"/reports",children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(Q1,{})})}),l.jsx(jr,{path:"/real-reports",children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(Q1,{})})}),l.jsx(jr,{path:"/axion-reports",children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(Q1,{})})}),l.jsx(jr,{path:"/users-management",children:l.jsx(ia,{children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(mye,{})})})}),l.jsx(jr,{path:"/ai-chat",children:l.jsx(ia,{children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(gye,{})})})}),l.jsx(jr,{path:"/admin/monitoring",children:l.jsx(ia,{children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(bye,{})})})}),l.jsx(jr,{path:"/sync-comparison",children:l.jsx(ia,{children:l.jsx(P.Suspense,{fallback:l.jsx(Bs,{}),children:l.jsx(yye,{})})})}),l.jsx(jr,{path:"/admin/data-health",children:l.jsx(ia,{children:l.jsx(cpe,{})})}),l.jsx(jr,{path:"/local-db",children:l.jsx(ia,{children:l.jsx(fpe,{})})}),l.jsx(jr,{component:HK})]})}function xye(){return P.useEffect(()=>{rme()},[]),l.jsx(E2,{children:l.jsx(eU,{client:xn,children:l.jsx(ece,{children:l.jsx(fb,{children:l.jsx(vue,{children:l.jsxs("div",{dir:"rtl",children:[l.jsx(E2,{children:l.jsxs(N9,{children:[l.jsx(jr,{path:"/check",component:X1}),l.jsx(jr,{path:"/setup",component:X1}),l.jsx(jr,{path:"/permissions",component:X1}),l.jsx(jr,{path:"/login",component:ace}),l.jsx(jr,{path:"/register",component:fce}),l.jsx(jr,{path:"/verify-email",component:xce}),l.jsx(jr,{path:"/forgot-password",component:gce}),l.jsx(jr,{path:"/reset-password",component:pce}),l.jsx(jr,{path:"*",component:()=>l.jsx(Xpe,{children:l.jsx(Zpe,{children:l.jsx(fte,{children:l.jsx(Gpe,{children:l.jsx(vye,{})})})})})})]})}),l.jsx(nH,{})]})})})})})})}const wye=async()=>{const t=document.getElementById("root");if(t)try{"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then(e=>{for(let n of e)n.update(),n.addEventListener("updatefound",()=>{const s=n.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(console.log("      ..."),window.location.reload())})})}),"caches"in window&&caches.keys().then(e=>{e.forEach(n=>{n.includes("binarjoin-v")&&!n.includes("binarjoin-v3")&&(caches.delete(n),console.log("    :",n))})})),Lc().catch(console.error),Dz.createRoot(t).render(l.jsx(xye,{}))}catch(r){console.error("Fatal startup error:",r),t.innerHTML='<div style="padding:20px;text-align:center;direction:rtl;">    .   .</div>'}};wye();export{Bo as $,Pc as A,Oe as B,NA as C,Sr as D,Nye as E,Cye as F,Go as G,Nr as H,gt as I,ss as J,ga as K,Qe as L,Qs as M,ya as N,Ys as O,cs as P,zr as Q,DR as R,Ag as S,Pn as T,On as U,qe as V,Zu as W,jN as X,Sw as Y,Da as Z,Fn as _,wn as a,n_ as a$,xq as a0,Ma as a1,Bl as a2,jn as a3,Bj as a4,pa as a5,Ux as a6,Xa as a7,bs as a8,Qa as a9,aq as aA,ho as aB,Ws as aC,Hs as aD,$c as aE,Ye as aF,io as aG,lo as aH,Eye as aI,Er as aJ,Gl as aK,Sm as aL,Tye as aM,e3 as aN,bf as aO,zb as aP,hf as aQ,Pe as aR,k4 as aS,j4 as aT,Ob as aU,ky as aV,N4 as aW,a_ as aX,Wp as aY,s_ as aZ,r_ as a_,Ll as aa,Nc as ab,ms as ac,Ml as ad,pi as ae,tb as af,Zr as ag,Qc as ah,Bi as ai,oB as aj,Ge as ak,Wl as al,Kl as am,tn as an,Jr as ao,Wn as ap,on as aq,An as ar,Hue as as,ts as at,wA as au,Es as av,d3 as aw,ql as ax,bd as ay,Ar as az,xs as b,$l as b0,Pl as b1,Xs as b2,UI as b3,WI as b4,Ac as b5,Bc as b6,Dj as b7,Rp as b8,V4 as b9,ws as bA,Mb as bB,Ln as bC,rB as bD,nB as bE,Xg as bF,hp as bG,sB as bH,wl as bI,xA as bJ,xn as bK,ru as bL,jm as bM,$W as bN,Fj as bO,Fl as bP,SA as bQ,rs as bR,Of as bS,Pp as bT,$r as bU,g9 as bV,cy as ba,kn as bb,lq as bc,yA as bd,tr as be,z2 as bf,hte as bg,ZD as bh,m3 as bi,ps as bj,Hn as bk,hpe as bl,uq as bm,yq as bn,Rye as bo,Cr as bp,go as bq,ir as br,pt as bs,i4 as bt,p_ as bu,va as bv,$m as bw,$i as bx,VR as by,UR as bz,jo as c,ko as d,jO as e,Pt as f,$t as g,dh as h,sl as i,l as j,yp as k,Ir as l,en as m,Ps as n,vn as o,_l as p,ys as q,P as r,ma as s,Nm as t,Rs as u,EA as v,Ks as w,As as x,Gs as y,da as z};
