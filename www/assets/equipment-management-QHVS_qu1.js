const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BY9Zsom9.js","assets/index-qGee2fQI.css"])))=>i.map(i=>d[i]);
import{ap as re,a as pe,b as je,r as u,aq as Ue,g as fe,X as K,j as e,w as le,x as ne,y as be,z as ye,A as ve,ar as $e,Y as B,as as N,at as w,au as k,av as C,I as V,aw as P,ax as rt,K as Ee,M as Fe,N as Te,O as Re,R as _,ay as Ve,B as F,az as lt,aA as he,aB as Oe,aC as Le,aD as ze,aE as b,Q as O,f as ge,l as se,m as xe,a8 as ue,a0 as H,al as ae,s as Be,t as nt,c as it,aF as Q,aG as ct,aj as ot,aH as dt,ac as xt,i as ut,k as mt,P as ht,n as gt,o as pt,aI as jt,q as ft,D as bt,aJ as te,aK as me,_ as yt,aL as vt,aM as Nt,aN as R,V as wt}from"./index-BY9Zsom9.js";import{U as kt}from"./upload-DklvYdDY.js";import{H as G}from"./history-DSznN48t.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=re("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=re("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),It=["Ù‚Ø·Ø¹Ø©","Ù…Ø¬Ù…ÙˆØ¹Ø©","ØµÙ†Ø¯ÙˆÙ‚","Ù…ØªØ±","ÙƒÙŠÙ„Ùˆ","Ù„ØªØ±","Ø·Ù†","Ø¹Ø¯Ø¯","Ø¹Ù„Ø¨Ø©","ÙƒØ±ØªÙˆÙ†"],At=ze({name:b().min(1,"Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ø¯Ø© Ù…Ø·Ù„ÙˆØ¨"),sku:b().optional(),categoryId:b().optional(),unit:b().min(1,"Ø§Ù„ÙˆØ­Ø¯Ø© Ù…Ø·Ù„ÙˆØ¨Ø©"),status:b().min(1,"Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ø¯Ø© Ù…Ø·Ù„ÙˆØ¨Ø©"),condition:b().min(1,"Ø­Ø§Ù„Ø© Ø§Ù„Ø¬ÙˆØ¯Ø© Ù…Ø·Ù„ÙˆØ¨Ø©"),description:b().optional(),purchaseDate:b().optional(),purchasePrice:b().optional(),projectId:b().nullable().optional(),imageUrl:b().optional()});function Me({open:l,onOpenChange:T,projects:n,equipment:r}){const{toast:y}=pe(),D=je(),d=u.useRef(null),[E,a]=u.useState(null),[m,i]=u.useState(null),j=!!r,c=Ue({resolver:Le(At),defaultValues:{name:r?.name||"",sku:r?.sku||"",categoryId:r?.categoryId||"",unit:r?.unit||"Ù‚Ø·Ø¹Ø©",status:r?.status||"available",condition:r?.condition||"excellent",description:r?.description||"",purchaseDate:r?.purchaseDate||"",purchasePrice:r?.purchasePrice?.toString()||"",projectId:r?.projectId||null,imageUrl:r?.imageUrl||""}}),Y=s=>{if(s&&s.type.startsWith("image/")){const p=new FileReader;p.onload=S=>{const U=S.target?.result;a(U),i(s),c.setValue("imageUrl",U)},p.readAsDataURL(s)}else y({title:"Ø®Ø·Ø£",description:"ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù ØµÙˆØ±Ø© ØµØ§Ù„Ø­",variant:"destructive"})},X=s=>{d.current&&(d.current.accept="image/*",s?d.current.setAttribute("capture","environment"):d.current.removeAttribute("capture"),d.current.click())},W=()=>{a(null),i(null),c.setValue("imageUrl",""),d.current&&(d.current.value="")},L=fe({mutationFn:s=>j&&r?.id?K(`/api/equipment/${r.id}`,"PUT",s):K("/api/equipment","POST",s),onSuccess:()=>{D.refetchQueries({predicate:s=>Array.isArray(s.queryKey)&&s.queryKey[0]==="equipment"}),D.refetchQueries({predicate:s=>Array.isArray(s.queryKey)&&s.queryKey[0]==="equipment"}),y({title:"Ù†Ø¬Ø­ Ø§Ù„Ø­ÙØ¸",description:j?"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø¯Ø© Ø¨Ù†Ø¬Ø§Ø­":"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¹Ø¯Ø© Ø¨Ù†Ø¬Ø§Ø­",variant:"default"}),c.reset(),W(),T(!1)},onError:s=>{y({title:"Ø®Ø·Ø£",description:s.message||(j?"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø¯Ø©":"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¹Ø¯Ø©"),variant:"destructive"})}});u.useEffect(()=>{r&&j&&(c.reset({name:r.name||"",sku:r.sku||"",categoryId:r.categoryId||"",unit:r.unit||"Ù‚Ø·Ø¹Ø©",status:r.status||"available",condition:r.condition||"excellent",description:r.description||"",purchaseDate:r.purchaseDate||"",purchasePrice:r.purchasePrice?.toString()||"",projectId:r.projectId||null,imageUrl:r.imageUrl||""}),r.imageUrl&&a(r.imageUrl))},[r,j,c]);const J=s=>{const p={...s,purchasePrice:s.purchasePrice?s.purchasePrice:void 0,projectId:s.projectId||null,categoryId:s.categoryId||void 0};L.mutate(p)};return e.jsx(le,{open:l,onOpenChange:T,children:e.jsxs(ne,{className:"w-[95vw] max-w-[500px] max-h-[90vh] overflow-y-auto",dir:"rtl",children:[e.jsxs(be,{className:"pb-2",children:[e.jsx(ye,{className:"text-lg",children:j?"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø¯Ø©":"Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©"}),e.jsx(ve,{className:"text-sm text-gray-600",children:j?"Ù‚Ù… Ø¨ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ø¯Ø©":"Ø£Ø¯Ø®Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø¹Ø¯Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©"})]}),e.jsx($e,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(J),className:"space-y-3",children:[e.jsxs(B,{columns:2,children:[e.jsx(N,{control:c.control,name:"name",render:({field:s})=>e.jsxs(w,{children:[e.jsx(k,{className:"text-sm font-medium",children:"Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ø¯Ø© *"}),e.jsx(C,{children:e.jsx(V,{placeholder:"Ù…Ø«Ø§Ù„: Ø­ÙØ§Ø± ØµØºÙŠØ±",className:"h-9 text-sm",...s,autoWidth:!0,maxWidth:300,"data-testid":"input-equipment-name"})}),e.jsx(P,{})]})}),e.jsx(N,{control:c.control,name:"sku",render:({field:s})=>e.jsxs(w,{children:[e.jsx(k,{className:"text-sm font-medium",children:"Ø§Ù„ÙƒÙˆØ¯"}),e.jsx(C,{children:e.jsx(V,{placeholder:"Ù…Ø«Ø§Ù„: EQ-001",className:"h-9 text-sm",...s,"data-testid":"input-equipment-sku"})}),e.jsx(P,{})]})})]}),e.jsxs(B,{columns:2,children:[e.jsx(N,{control:c.control,name:"unit",render:({field:s})=>e.jsxs(w,{children:[e.jsx(k,{className:"text-sm font-medium",children:"Ø§Ù„ÙˆØ­Ø¯Ø© *"}),e.jsx(C,{children:e.jsx(rt,{value:s.value,onValueChange:s.onChange,options:It,placeholder:"Ø§Ø®ØªØ± Ø§Ù„ÙˆØ­Ø¯Ø©",allowCustom:!0,customPlaceholder:"Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©..."})}),e.jsx(P,{})]})}),e.jsx(N,{control:c.control,name:"status",render:({field:s})=>e.jsxs(w,{children:[e.jsx(k,{className:"text-sm font-medium",children:"Ø§Ù„Ø­Ø§Ù„Ø© *"}),e.jsxs(Ee,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(C,{children:e.jsx(Fe,{"data-testid":"select-equipment-status",className:"h-9 text-sm",children:e.jsx(Te,{placeholder:"Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©"})})}),e.jsxs(Re,{children:[e.jsx(_,{value:"available",children:"Ù…ØªØ§Ø­"}),e.jsx(_,{value:"assigned",children:"Ù…Ø®ØµØµ"}),e.jsx(_,{value:"maintenance",children:"ØµÙŠØ§Ù†Ø©"}),e.jsx(_,{value:"lost",children:"Ù…ÙÙ‚ÙˆØ¯"}),e.jsx(_,{value:"consumed",children:"Ù…Ø³ØªÙ‡Ù„Ùƒ"})]})]}),e.jsx(P,{})]})})]}),e.jsxs(B,{columns:2,children:[e.jsx(N,{control:c.control,name:"condition",render:({field:s})=>e.jsxs(w,{children:[e.jsx(k,{className:"text-sm font-medium",children:"Ø­Ø§Ù„Ø© Ø§Ù„Ø¬ÙˆØ¯Ø© *"}),e.jsxs(Ee,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(C,{children:e.jsx(Fe,{"data-testid":"select-equipment-condition",className:"h-9 text-sm",children:e.jsx(Te,{placeholder:"Ø§Ø®ØªØ± Ø§Ù„Ø¬ÙˆØ¯Ø©"})})}),e.jsxs(Re,{children:[e.jsx(_,{value:"excellent",children:"Ù…Ù…ØªØ§Ø²"}),e.jsx(_,{value:"good",children:"Ø¬ÙŠØ¯"}),e.jsx(_,{value:"fair",children:"Ù…Ù‚Ø¨ÙˆÙ„"}),e.jsx(_,{value:"poor",children:"Ø¶Ø¹ÙŠÙ"}),e.jsx(_,{value:"damaged",children:"ØªØ§Ù„Ù"})]})]}),e.jsx(P,{})]})}),e.jsx(N,{control:c.control,name:"projectId",render:({field:s})=>{const p=[{value:"warehouse",label:"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹"},...Array.isArray(n)?n.map(S=>({value:S.id,label:S.name})):[]];return e.jsxs(w,{children:[e.jsx(k,{className:"text-sm font-medium",children:"Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"}),e.jsx(C,{children:e.jsx(Ve,{value:s.value||"warehouse",onValueChange:S=>s.onChange(S==="warehouse"?null:S),options:p,placeholder:"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹",searchPlaceholder:"Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø´Ø±ÙˆØ¹...",emptyText:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙŠØ¹",triggerClassName:"h-9 text-sm"})}),e.jsx(P,{})]})}})]}),e.jsxs(B,{columns:2,children:[e.jsx(N,{control:c.control,name:"purchaseDate",render:({field:s})=>e.jsxs(w,{children:[e.jsx(k,{className:"text-sm font-medium",children:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø´Ø±Ø§Ø¡"}),e.jsx(C,{children:e.jsx(V,{type:"date",className:"h-9 text-sm",...s,"data-testid":"input-purchase-date"})}),e.jsx(P,{})]})}),e.jsx(N,{control:c.control,name:"purchasePrice",render:({field:s})=>e.jsxs(w,{children:[e.jsx(k,{className:"text-sm font-medium",children:"Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡"}),e.jsx(C,{children:e.jsx(V,{type:"number",placeholder:"0",className:"h-9 text-sm",...s,"data-testid":"input-purchase-price"})}),e.jsx(P,{})]})})]}),e.jsx(N,{control:c.control,name:"imageUrl",render:({field:s})=>e.jsxs(w,{children:[e.jsx(k,{className:"text-sm font-medium",children:"ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø¯Ø©"}),e.jsx(C,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{ref:d,type:"file",accept:"image/*",className:"hidden",onChange:p=>{const S=p.target.files?.[0];S&&Y(S)},"data-testid":"input-file-image"}),e.jsxs(B,{columns:2,children:[e.jsxs(F,{type:"button",variant:"outline",size:"sm",onClick:()=>X(!0),className:"h-9 text-xs w-full","data-testid":"button-camera",children:[e.jsx(lt,{className:"h-4 w-4 ml-1"}),"ØªØµÙˆÙŠØ± Ø¨Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§"]}),e.jsxs(F,{type:"button",variant:"outline",size:"sm",onClick:()=>X(!1),className:"h-9 text-xs w-full","data-testid":"button-gallery",children:[e.jsx(kt,{className:"h-4 w-4 ml-1"}),"Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ù…Ø¹Ø±Ø¶"]})]}),E&&e.jsxs("div",{className:"relative w-full h-28 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[e.jsx("img",{src:E,alt:"Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:W,className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 transition-colors","data-testid":"button-remove-image",children:e.jsx(he,{className:"h-3 w-3"})}),e.jsxs("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded",children:[e.jsx(Pt,{className:"h-3 w-3 inline ml-1"}),m?.name||"ØµÙˆØ±Ø© Ù…Ø­Ø¯Ø¯Ø©"]})]})]})}),e.jsx(P,{})]})}),e.jsx(N,{control:c.control,name:"description",render:({field:s})=>e.jsxs(w,{children:[e.jsx(k,{className:"text-sm font-medium",children:"Ø§Ù„ÙˆØµÙ"}),e.jsx(C,{children:e.jsx(Oe,{placeholder:"ÙˆØµÙ Ø¥Ø¶Ø§ÙÙŠ Ù„Ù„Ù…Ø¹Ø¯Ø©...",className:"resize-none text-sm",...s,autoHeight:!0,minRows:2,maxRows:6,"data-testid":"textarea-description"})}),e.jsx(P,{})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:justify-end pt-2",children:[e.jsx(F,{type:"button",variant:"outline",onClick:()=>T(!1),className:"order-2 sm:order-1 h-9 text-sm","data-testid":"button-cancel",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(F,{type:"submit",disabled:L.isPending,className:"order-1 sm:order-2 h-9 text-sm","data-testid":"button-submit",children:L.isPending?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...":j?"ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø¯Ø©":"Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¹Ø¯Ø©"})]})]})})]})})}const Dt=ze({toProjectId:b().nullable(),reason:b().min(1,"Ø³Ø¨Ø¨ Ø§Ù„Ù†Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨"),performedBy:b().min(1,"Ø§Ø³Ù… Ù…Ù† Ù‚Ø§Ù… Ø¨Ø§Ù„Ù†Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨"),notes:b().optional()});function Et({equipment:l,open:T,onOpenChange:n,projects:r}){const{toast:y}=pe(),D=je(),d=Ue({resolver:Le(Dt),defaultValues:{toProjectId:null,reason:"",performedBy:"",notes:""}}),E=fe({mutationFn:i=>K(`/api/equipment/${l?.id}/transfer`,"POST",i),onSuccess:async()=>{await D.invalidateQueries({queryKey:O.equipment}),await D.invalidateQueries({queryKey:O.equipmentMovements}),await D.invalidateQueries({queryKey:O.projects}),await D.invalidateQueries({queryKey:O.projectsWithStats}),y({title:"Ù†Ø¬Ø­ Ø§Ù„Ù†Ù‚Ù„",description:"ØªÙ… Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ø¯Ø© Ø¨Ù†Ø¬Ø§Ø­",variant:"default"}),d.reset(),n(!1)},onError:i=>{y({title:"Ø®Ø·Ø£",description:i.message||"ÙØ´Ù„ ÙÙŠ Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ø¯Ø©",variant:"destructive"})}}),a=i=>{E.mutate({...i,toProjectId:i.toProjectId||null})},m=()=>{if(!l)return"";if(!l.currentProjectId)return"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹";const i=Array.isArray(r)?r.find(j=>j.id===l.currentProjectId):void 0;return i?i.name:"Ù…Ø´Ø±ÙˆØ¹ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"};return l?e.jsx(le,{open:T,onOpenChange:n,children:e.jsxs(ne,{className:"sm:max-w-[450px]",dir:"rtl",children:[e.jsxs(be,{className:"pb-2",children:[e.jsxs(ye,{className:"flex items-center gap-2 text-lg",children:[e.jsx(_e,{className:"h-5 w-5"}),"Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ø¯Ø©"]}),e.jsxs(ve,{className:"text-sm",children:['Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ø¯Ø© "',l.name,'" Ø¥Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ Ø¬Ø¯ÙŠØ¯']})]}),e.jsx($e,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(a),className:"space-y-3",children:[e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ:"}),e.jsx("p",{className:"font-medium","data-testid":"text-current-location",children:m()})]}),e.jsx(_e,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯:"}),e.jsx("p",{className:"font-medium text-blue-600","data-testid":"text-new-location",children:d.watch("toProjectId")&&d.watch("toProjectId")!=="warehouse"&&r.find(i=>i.id===d.watch("toProjectId"))?.name||"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹"})]})]})}),e.jsx(N,{control:d.control,name:"toProjectId",render:({field:i})=>{const j=[{value:"warehouse",label:"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹"},...r.filter(c=>c.id!==l?.currentProjectId).map(c=>({value:c.id,label:c.name}))];return e.jsxs(w,{children:[e.jsx(k,{className:"text-sm",children:"Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ù‚ØµÙˆØ¯"}),e.jsx(C,{children:e.jsx(Ve,{value:i.value||"warehouse",onValueChange:c=>i.onChange(c==="warehouse"?null:c),options:j,placeholder:"Ø§Ø®ØªØ± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ù‚ØµÙˆØ¯",searchPlaceholder:"Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø´Ø±ÙˆØ¹...",emptyText:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙŠØ¹",triggerClassName:"h-9"})}),e.jsx(P,{})]})}}),e.jsxs(B,{columns:2,children:[e.jsx(N,{control:d.control,name:"reason",render:({field:i})=>e.jsxs(w,{children:[e.jsx(k,{className:"text-sm",children:"Ø³Ø¨Ø¨ Ø§Ù„Ù†Ù‚Ù„ *"}),e.jsx(C,{children:e.jsx(V,{placeholder:"Ø³Ø¨Ø¨ Ø§Ù„Ù†Ù‚Ù„",className:"h-9 text-sm",...i,"data-testid":"input-transfer-reason"})}),e.jsx(P,{})]})}),e.jsx(N,{control:d.control,name:"performedBy",render:({field:i})=>e.jsxs(w,{children:[e.jsx(k,{className:"text-sm",children:"ØªÙ… Ø¨ÙˆØ§Ø³Ø·Ø© *"}),e.jsx(C,{children:e.jsx(V,{placeholder:"Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„",className:"h-9 text-sm",...i,"data-testid":"input-performed-by"})}),e.jsx(P,{})]})})]}),e.jsx(N,{control:d.control,name:"notes",render:({field:i})=>e.jsxs(w,{children:[e.jsx(k,{className:"text-sm",children:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©"}),e.jsx(C,{children:e.jsx(Oe,{placeholder:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ùˆ ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ©...",className:"resize-none text-sm",...i,autoHeight:!0,minRows:2,maxRows:6,"data-testid":"textarea-transfer-notes"})}),e.jsx(P,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2 space-x-reverse pt-2",children:[e.jsx(F,{type:"button",variant:"outline",onClick:()=>n(!1),className:"h-9 text-sm","data-testid":"button-cancel-transfer",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(F,{type:"submit",disabled:E.isPending,className:"h-9 text-sm","data-testid":"button-confirm-transfer",children:E.isPending?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù†Ù‚Ù„...":"ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù†Ù‚Ù„"})]})]})})]})}):null}function Ft({equipment:l,open:T,onOpenChange:n,projects:r}){const{data:y=[],isLoading:D}=ge({queryKey:O.equipmentMovementsById(l?.id??""),queryFn:async()=>{const a=localStorage.getItem("accessToken"),m=await fetch(`/api/equipment/${l?.id}/movements`,{headers:{Authorization:a?`Bearer ${a}`:""}});if(!m.ok)throw new Error("ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø³Ø¬Ù„ Ø§Ù„Ø­Ø±ÙƒØ§Øª");return m.json()},enabled:!!l?.id&&T,staleTime:3e4}),d=a=>{if(!a)return"ØºÙŠØ± Ù…Ø­Ø¯Ø¯";const m=Array.isArray(r)?r.find(i=>i.id===a):void 0;return m?m.name:"Ù…Ø´Ø±ÙˆØ¹ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"},E=a=>{try{const m=new Date(a);return m.toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",weekday:"short"})+" - "+m.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}catch{return a}};return e.jsx(le,{open:T,onOpenChange:n,children:e.jsxs(ne,{className:"w-[95vw] max-w-[900px] h-[90vh] overflow-hidden flex flex-col",dir:"rtl",children:[e.jsxs(be,{className:"pb-4 border-b bg-gradient-to-r from-blue-50 to-indigo-50 -m-6 p-6 rounded-t-lg",children:[e.jsxs(ye,{className:"flex items-center gap-3 text-xl font-bold",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(G,{className:"w-6 h-6 text-blue-700"})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-blue-900",children:"Ø³Ø¬Ù„ Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø¹Ø¯Ø©"})})]}),e.jsxs(ve,{className:"text-sm font-normal text-blue-600 mt-1",children:[l?.name," - Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª ÙˆØ§Ù„Ø­Ø±ÙƒØ§Øª"]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 mt-4 px-1",children:[e.jsx(se,{className:"border-0 shadow-lg bg-gradient-to-br from-white to-gray-50",children:e.jsx(xe,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ue,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600",children:"ÙƒÙˆØ¯ Ø§Ù„Ù…Ø¹Ø¯Ø©"}),e.jsx("div",{className:"font-bold text-gray-900",children:l?.code})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(H,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ"}),e.jsx("div",{className:"font-bold text-gray-900 truncate",children:d(l?.currentProjectId||null)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(ue,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¹Ø¯Ø©"}),e.jsx("div",{className:"font-bold text-gray-900",children:l?.type})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("div",{className:`w-3 h-3 rounded-full ${l?.status==="active"?"bg-green-500":l?.status==="maintenance"?"bg-yellow-500":l?.status==="damaged"?"bg-red-500":"bg-gray-400"}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ø¯Ø©"}),e.jsx(ae,{className:`font-bold ${l?.status==="active"?"bg-green-100 text-green-800":l?.status==="maintenance"?"bg-yellow-100 text-yellow-800":l?.status==="damaged"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:l?.status==="active"?"Ù†Ø´Ø·":l?.status==="maintenance"?"ÙÙŠ Ø§Ù„ØµÙŠØ§Ù†Ø©":l?.status==="damaged"?"Ù…Ø¹Ø·Ù„":"ØºÙŠØ± Ù†Ø´Ø·"})]})]})]})]})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-indigo-50 to-blue-50 rounded-xl border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:e.jsx(G,{className:"w-5 h-5 text-indigo-700"})}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Ø³Ø¬Ù„ Ø§Ù„Ø­Ø±ÙƒØ§Øª"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(ae,{className:"bg-indigo-100 text-indigo-800 font-bold px-3 py-1",children:[y.length," Ø­Ø±ÙƒØ©"]})})]}),D?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200"}),e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent absolute top-0 left-0"})]}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø³Ø¬Ù„ Ø§Ù„Ø­Ø±ÙƒØ§Øª..."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"})]})]}):y.length===0?e.jsx(se,{className:"border-0 shadow-lg bg-gradient-to-br from-gray-50 to-slate-50",children:e.jsx(xe,{className:"py-12 text-center",children:e.jsxs("div",{className:"max-w-sm mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(G,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-700",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø±ÙƒØ§Øª Ù…Ø³Ø¬Ù„Ø©"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø£ÙŠ Ø­Ø±ÙƒØ§Øª Ù†Ù‚Ù„ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ø¯Ø© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†."}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsx("p",{className:"text-xs text-blue-600",children:"ğŸ’¡ Ø³ØªØ¸Ù‡Ø± Ø¬Ù…ÙŠØ¹ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù†Ù‚Ù„ Ù‡Ù†Ø§ Ø¹Ù†Ø¯ ØªØ³Ø¬ÙŠÙ„Ù‡Ø§"})})]})})}):e.jsx("div",{className:"space-y-4",children:y.map((a,m)=>e.jsx(se,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-white to-gray-50/50",children:e.jsxs(xe,{className:"p-0",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-slate-50 to-gray-50 border-b border-gray-100",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-bold text-blue-700",children:["#",y.length-m]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-gray-900",children:["Ø­Ø±ÙƒØ© Ø±Ù‚Ù… ",y.length-m]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-1",children:[e.jsx(Be,{className:"w-3 h-3"}),E(a.movementDate)]})]})]})})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 p-4 rounded-xl border border-blue-100",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(H,{className:"w-3 h-3 text-green-600"})}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Ù…Ù†"})]}),e.jsx("div",{className:"bg-white/70 p-3 rounded-lg border border-green-200",children:e.jsx("span",{className:"text-sm font-bold text-gray-900 block truncate",children:d(a.fromProjectId)})})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(Ct,{className:"w-4 h-4 text-blue-600"})})}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(H,{className:"w-3 h-3 text-blue-600"})}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Ø¥Ù„Ù‰"})]}),e.jsx("div",{className:"bg-white/70 p-3 rounded-lg border border-blue-200",children:e.jsx("span",{className:"text-sm font-bold text-gray-900 block truncate",children:d(a.toProjectId)})})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(nt,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Ù‚Ø§Ù… Ø¨Ø§Ù„Ù†Ù‚Ù„"}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:a.performedBy})]})]}),a.reason&&e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-amber-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center mt-0.5",children:e.jsx(ue,{className:"w-4 h-4 text-amber-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Ø§Ù„Ø³Ø¨Ø¨"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 break-words",children:a.reason})]})]}),a.notes&&e.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-l-4 border-yellow-400 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-yellow-100 rounded-full flex items-center justify-center mt-0.5",children:e.jsx("span",{className:"text-xs",children:"ğŸ’¡"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-800 font-bold text-xs block",children:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©"}),e.jsx("span",{className:"text-yellow-700 text-sm break-words",children:a.notes})]})]})})]})]})]})},a.id))})]})]})]})})}function Ut(){const[l,T]=u.useState(""),[n,r]=u.useState({status:"all",type:"all",project:"all"}),[y,D]=u.useState(!1),[d,E]=u.useState(!1),[a,m]=u.useState(null),[i,j]=u.useState(!1),[c,Y]=u.useState(!1),[X,W]=u.useState(!1),[L,J]=u.useState(null),[s,p]=u.useState(!1),[S,U]=u.useState(!1),Ke=je(),{setFloatingAction:ie}=it(),{toast:I}=pe(),He=u.useCallback((t,o)=>{r(f=>({...f,[t]:o}))},[]),We=u.useCallback(()=>{T(""),r({status:"all",type:"all",project:"all"}),I({title:"ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†",description:"ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙ„Ø§ØªØ±"})},[I]);u.useEffect(()=>(ie(()=>E(!0),"Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©"),()=>ie(null)),[ie]);const{data:h=[],isLoading:qe,refetch:Ne}=ge({queryKey:O.equipmentFiltered(l,n.status,n.type,n.project),queryFn:async()=>{const t=new URLSearchParams;l&&t.append("searchTerm",l),n.status!=="all"&&t.append("status",n.status),n.type!=="all"&&t.append("type",n.type),n.project!=="all"&&n.project!=="warehouse"?t.append("projectId",n.project):n.project==="warehouse"&&t.append("projectId","");try{const o=await K(`/api/equipment?${t}`);return o.data||o||[]}catch{throw new Error("ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª")}},staleTime:1800*1e3,gcTime:7200*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,retry:0,enabled:!0}),{data:g=[]}=ge({queryKey:O.projects,queryFn:async()=>await K("/api/projects","GET"),staleTime:900*1e3,gcTime:3600*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,retry:1,retryDelay:1e3}),Qe=u.useCallback(async()=>{D(!0);try{await Ne(),I({title:"ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«",description:"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­"})}catch{I({title:"Ø®Ø·Ø£",description:"ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",variant:"destructive"})}finally{D(!1)}},[Ne,I]),ce=fe({mutationFn:async t=>await K(`/api/equipment/${t}`,"DELETE"),onSuccess:()=>{Ke.refetchQueries({predicate:t=>Array.isArray(t.queryKey)&&t.queryKey[0]==="equipment"}),I({title:"ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø¹Ø¯Ø© Ø¨Ù†Ø¬Ø§Ø­",description:"ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø¹Ø¯Ø© Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹"}),p(!1)},onError:t=>{I({title:"Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ø¹Ø¯Ø©",description:t.message||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ù…Ø¹Ø¯Ø©",variant:"destructive"})}}),$=u.useMemo(()=>({total:Array.isArray(h)?h.length:0,active:Array.isArray(h)?h.filter(t=>t.status==="active"||t.status==="available").length:0,assigned:Array.isArray(h)?h.filter(t=>t.status==="assigned").length:0,maintenance:Array.isArray(h)?h.filter(t=>t.status==="maintenance").length:0,outOfService:Array.isArray(h)?h.filter(t=>t.status==="out_of_service"||t.status==="lost").length:0,inWarehouse:Array.isArray(h)?h.filter(t=>!t.currentProjectId).length:0}),[h]),Ge=u.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª",value:$.total,icon:Q,color:"blue"},{key:"active",label:"Ù…ØªØ§Ø­Ø©",value:$.active,icon:ct,color:"green"},{key:"assigned",label:"Ù…Ø®ØµØµØ©",value:$.assigned,icon:H,color:"purple"}]},{columns:3,gap:"sm",items:[{key:"maintenance",label:"ÙÙŠ Ø§Ù„ØµÙŠØ§Ù†Ø©",value:$.maintenance,icon:ot,color:"orange"},{key:"outOfService",label:"Ø®Ø§Ø±Ø¬ Ø§Ù„Ø®Ø¯Ù…Ø©",value:$.outOfService,icon:dt,color:"red"},{key:"inWarehouse",label:"ÙÙŠ Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹",value:$.inWarehouse,icon:xt,color:"gray"}]}],[$]),Ye=u.useMemo(()=>[{key:"status",label:"Ø§Ù„Ø­Ø§Ù„Ø©",type:"select",defaultValue:"all",options:[{value:"all",label:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª"},{value:"active",label:"Ù†Ø´Ø·"},{value:"maintenance",label:"ØµÙŠØ§Ù†Ø©"},{value:"out_of_service",label:"Ø®Ø§Ø±Ø¬ Ø§Ù„Ø®Ø¯Ù…Ø©"},{value:"inactive",label:"ØºÙŠØ± Ù†Ø´Ø·"}]},{key:"type",label:"Ø§Ù„ÙØ¦Ø©",type:"select",defaultValue:"all",options:[{value:"all",label:"Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª"},{value:"Ø£Ø¯ÙˆØ§Øª ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©",label:"Ø£Ø¯ÙˆØ§Øª ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©"},{value:"Ø£Ø¯ÙˆØ§Øª ÙŠØ¯ÙˆÙŠØ©",label:"Ø£Ø¯ÙˆØ§Øª ÙŠØ¯ÙˆÙŠØ©"},{value:"Ø£Ø¯ÙˆØ§Øª Ù‚ÙŠØ§Ø³",label:"Ø£Ø¯ÙˆØ§Øª Ù‚ÙŠØ§Ø³"},{value:"Ù…Ø¹Ø¯Ø§Øª Ù„Ø­Ø§Ù…",label:"Ù…Ø¹Ø¯Ø§Øª Ù„Ø­Ø§Ù…"},{value:"Ù…Ø¹Ø¯Ø§Øª Ø­ÙØ±",label:"Ù…Ø¹Ø¯Ø§Øª Ø­ÙØ±"},{value:"Ù…Ø¹Ø¯Ø§Øª Ù‚Ø·Ø¹",label:"Ù…Ø¹Ø¯Ø§Øª Ù‚Ø·Ø¹"},{value:"Ø£Ø¯ÙˆØ§Øª Ø±Ø¨Ø·",label:"Ø£Ø¯ÙˆØ§Øª Ø±Ø¨Ø·"},{value:"Ù…ÙˆØ§Ø¯ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©",label:"Ù…ÙˆØ§Ø¯ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©"},{value:"Ù…Ø¹Ø¯Ø§Øª Ø£Ù…Ø§Ù†",label:"Ù…Ø¹Ø¯Ø§Øª Ø£Ù…Ø§Ù†"},{value:"Ø£Ø¯ÙˆØ§Øª Ù†Ù‚Ù„",label:"Ø£Ø¯ÙˆØ§Øª Ù†Ù‚Ù„"}]},{key:"project",label:"Ø§Ù„Ù…Ø´Ø±ÙˆØ¹",type:"select",defaultValue:"all",options:[{value:"all",label:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹"},{value:"warehouse",label:"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹"},...Array.isArray(g)?g.map(t=>({value:t.id,label:t.name})):[]]}],[g]),Xe=t=>{const o={active:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",maintenance:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300",out_of_service:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300",inactive:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"};return o[t]||o.active},Z=t=>({active:"Ù†Ø´Ø·",maintenance:"ØµÙŠØ§Ù†Ø©",out_of_service:"Ø®Ø§Ø±Ø¬ Ø§Ù„Ø®Ø¯Ù…Ø©",inactive:"ØºÙŠØ± Ù†Ø´Ø·"})[t]||t,Je=t=>({active:"success",maintenance:"warning",out_of_service:"destructive",inactive:"secondary"})[t]||"secondary",Ze=t=>({active:"#22c55e",maintenance:"#eab308",out_of_service:"#ef4444",inactive:"#6b7280"})[t]||"#6b7280",et=t=>{m(t),p(!0)},we=(t,o)=>{o?.stopPropagation(),m(t),Y(!0)},ke=(t,o)=>{m(t),j(!0)},Ce=(t,o)=>{m(t),W(!0)},Pe=(t,o)=>{confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ù…Ø¹Ø¯Ø© "${t.name}" Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ

Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.`)&&ce.mutate(t.id)},Se=()=>Array.isArray(h)?h:[],tt=async()=>{const t=Se();if(t.length===0){I({title:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø¯Ø§Øª Ù„Ù„ØªØµØ¯ÙŠØ±",description:"ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©",variant:"destructive"});return}try{U(!0);const o=await yt(()=>import("./index-BY9Zsom9.js").then(x=>x.e),__vite__mapDeps([0,1])),f=new o.Workbook;f.creator=vt.name,f.lastModifiedBy="Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¹Ø¯Ø§Øª",f.created=new Date,f.modified=new Date;const v=f.addWorksheet("ÙƒØ´Ù Ø§Ù„Ù…Ø¹Ø¯Ø§Øª");v.views=[{rightToLeft:!0}];const ee=n.project==="all"?"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹":n.project==="warehouse"?"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹":(Array.isArray(g)?g.find(x=>x.id===n.project)?.name:void 0)||"Ù…Ø´Ø±ÙˆØ¹ Ù…Ø­Ø¯Ø¯";let q=Nt(v,"ÙƒØ´Ù Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠ",`Ø§Ù„Ù…Ø´Ø±ÙˆØ¹: ${ee}`,[`ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØµØ¯Ø§Ø±: ${me(new Date().toISOString().split("T")[0])}`,`Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª: ${t.length}`,`Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©: ${t.filter(x=>x.status==="active").length}`,`ÙÙŠ Ø§Ù„ØµÙŠØ§Ù†Ø©: ${t.filter(x=>x.status==="maintenance").length}`]);const A=["Ø§Ù„ÙƒÙˆØ¯","Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ø¯Ø©","Ø§Ù„ÙØ¦Ø©","Ø§Ù„Ø­Ø§Ù„Ø©","Ø§Ù„Ù…ÙˆÙ‚Ø¹","Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡","ØªØ§Ø±ÙŠØ® Ø§Ù„Ø´Ø±Ø§Ø¡","Ø§Ù„ÙˆØµÙ"],oe=v.addRow(A);A.forEach((x,de)=>{const z=oe.getCell(de+1);z.font=R.fonts.header,z.fill={type:"pattern",pattern:"solid",fgColor:{argb:R.colors.headerBg}},z.border={top:R.borders.medium,bottom:R.borders.medium,left:R.borders.thin,right:R.borders.thin},z.alignment={horizontal:"center",vertical:"middle"}}),v.getColumn(1).width=15,v.getColumn(2).width=25,v.getColumn(3).width=15,v.getColumn(4).width=15,v.getColumn(5).width=25,v.getColumn(6).width=18,v.getColumn(7).width=15,v.getColumn(8).width=30,q++,t.forEach((x,de)=>{const z=x.currentProjectId?(Array.isArray(g)?g.find(M=>M.id===x.currentProjectId)?.name:void 0)||"Ù…Ø´Ø±ÙˆØ¹ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ":"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹";v.addRow([x.code,x.name,x.type||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯",Z(x.status),z,x.purchasePrice?te(Number(x.purchasePrice)):"ØºÙŠØ± Ù…Ø­Ø¯Ø¯",x.purchaseDate?me(x.purchaseDate):"ØºÙŠØ± Ù…Ø­Ø¯Ø¯",x.description||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"]).eachCell((M,De)=>{M.font=R.fonts.data,M.border={top:R.borders.thin,bottom:R.borders.thin,left:R.borders.thin,right:R.borders.thin},M.alignment={horizontal:"center",vertical:"middle"},De===6&&x.purchasePrice&&(M.numFmt='#,##0 "Ø±ÙŠØ§Ù„"',M.alignment={horizontal:"left",vertical:"middle"}),De===8&&(M.alignment={horizontal:"right",vertical:"middle"}),de%2===0&&(M.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF9FAFB"}})}),q++});const Ae=`ÙƒØ´Ù_Ø§Ù„Ù…Ø¹Ø¯Ø§Øª_${n.project==="all"?"Ø¬Ù…ÙŠØ¹_Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹":n.project==="warehouse"?"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹":(Array.isArray(g)?g.find(x=>x.id===n.project)?.name:void 0)?.replace(/\s/g,"_")||"Ù…Ø´Ø±ÙˆØ¹_Ù…Ø­Ø¯Ø¯"}_${new Date().toISOString().split("T")[0]}.xlsx`,at=await f.xlsx.writeBuffer();await wt(at,Ae),I({title:"ØªÙ… ØªØµØ¯ÙŠØ± ÙƒØ´Ù Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­",description:`ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ù: ${Ae}`})}catch(o){console.error("Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Excel:",o),I({title:"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØµØ¯ÙŠØ±",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØµØ¯ÙŠØ± ÙƒØ´Ù Ø§Ù„Ù…Ø¹Ø¯Ø§Øª",variant:"destructive"})}finally{U(!1)}},st=async()=>{const t=Se();if(t.length===0){I({title:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø¯Ø§Øª Ù„Ù„ØªØµØ¯ÙŠØ±",description:"ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©",variant:"destructive"});return}try{U(!0);const o=n.project==="all"?"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹":n.project==="warehouse"?"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹":(Array.isArray(g)?g.find(A=>A.id===n.project)?.name:void 0)||"Ù…Ø´Ø±ÙˆØ¹ Ù…Ø­Ø¯Ø¯",f=`
        <html dir="rtl">
          <head>
            <meta charset="UTF-8">
            <title>ÙƒØ´Ù Ø§Ù„Ù…Ø¹Ø¯Ø§Øª - ${o}</title>
            <style>
              @page { margin: 2cm 1.5cm; size: A4; }
              body { font-family: 'Arial', sans-serif; margin: 0; padding: 0; direction: rtl; }
              .company-header { background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); color: white; padding: 25px; text-align: center; border-radius: 12px; margin-bottom: 30px; }
              .company-name { font-size: 24px; font-weight: bold; margin: 0 0 10px 0; }
              .report-header { background: white; padding: 20px; border-radius: 10px; text-align: center; margin-bottom: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border-left: 6px solid #3b82f6; }
              .report-title { font-size: 22px; color: #1e293b; margin: 0; font-weight: bold; }
              table { width: 100%; border-collapse: collapse; margin-bottom: 25px; background: white; }
              th { background: linear-gradient(135deg, #334155 0%, #475569 100%); color: white; padding: 15px 10px; text-align: center; font-weight: bold; }
              td { padding: 12px 8px; text-align: center; border-bottom: 1px solid #e2e8f0; }
              tr:nth-child(even) td { background-color: #f8fafc; }
            </style>
          </head>
          <body>
            <div class="company-header">
              <div class="company-name">Ø§Ù„ÙØªÙŠÙ†ÙŠ Ù„Ù„Ù…Ù‚Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©</div>
            </div>
            <div class="report-header">
              <div class="report-title">ÙƒØ´Ù Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠ - ${o}</div>
            </div>
            <table>
              <thead>
                <tr>
                  <th>Ø§Ù„ÙƒÙˆØ¯</th>
                  <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ø¯Ø©</th>
                  <th>Ø§Ù„ÙØ¦Ø©</th>
                  <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                  <th>Ø§Ù„Ù…ÙˆÙ‚Ø¹</th>
                  <th>Ø§Ù„Ø³Ø¹Ø±</th>
                </tr>
              </thead>
              <tbody>
                ${t.map(A=>{const oe=A.currentProjectId?(Array.isArray(g)?g.find(Ie=>Ie.id===A.currentProjectId)?.name:void 0)||"Ù…Ø´Ø±ÙˆØ¹ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ":"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹";return`
                    <tr>
                      <td>${A.code}</td>
                      <td>${A.name}</td>
                      <td>${A.type||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}</td>
                      <td>${Z(A.status)}</td>
                      <td>${oe}</td>
                      <td>${A.purchasePrice?te(Number(A.purchasePrice)):"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}</td>
                    </tr>
                  `}).join("")}
              </tbody>
            </table>
          </body>
        </html>
      `,v=new Blob([f],{type:"text/html"}),ee=URL.createObjectURL(v),q=window.open(ee,"_blank","width=1200,height=800,scrollbars=yes,resizable=yes");q&&(setTimeout(()=>{q.print(),setTimeout(()=>{URL.revokeObjectURL(ee)},2e3)},1500),I({title:"Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©",description:"Ø§Ù†ØªØ¸Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù„ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰"}))}catch(o){console.error("Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± PDF:",o),I({title:"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØµØ¯ÙŠØ±",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØµØ¯ÙŠØ± ÙƒØ´Ù Ø§Ù„Ù…Ø¹Ø¯Ø§Øª",variant:"destructive"})}finally{U(!1)}};return qe?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª..."})]})})}):e.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-4",dir:"rtl",children:[e.jsx(ut,{statsRows:Ge,searchValue:l,onSearchChange:T,searchPlaceholder:"Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„ÙƒÙˆØ¯...",filters:Ye,filterValues:n,onFilterChange:He,onReset:We,onRefresh:Qe,isRefreshing:y,actions:[{key:"export-excel",icon:mt,label:"ØªØµØ¯ÙŠØ± Excel",onClick:tt,variant:"outline",disabled:h.length===0||S,tooltip:"ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ Excel"},{key:"export-pdf",icon:St,label:"Ø·Ø¨Ø§Ø¹Ø© PDF",onClick:st,variant:"outline",disabled:h.length===0||S,tooltip:"Ø·Ø¨Ø§Ø¹Ø© ÙƒØ´Ù Ø§Ù„Ù…Ø¹Ø¯Ø§Øª"}]}),h.length===0?e.jsxs(se,{className:"p-8 text-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"text-gray-400",children:e.jsx(Q,{className:"h-16 w-16 mx-auto opacity-50"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mt-4",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø¯Ø§Øª"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ Ù…Ø¹Ø¯Ø§Øª ØªØ·Ø§Ø¨Ù‚ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©"}),e.jsxs(F,{onClick:()=>E(!0),className:"bg-blue-500 hover:bg-blue-600 text-white mt-4",children:[e.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©"]})]}):e.jsx(gt,{columns:3,children:Array.isArray(h)&&h.map(t=>{const o=t.currentProjectId?(Array.isArray(g)?g.find(f=>f.id===t.currentProjectId)?.name:void 0)||"Ù…Ø´Ø±ÙˆØ¹ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ":"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹";return e.jsx(pt,{title:t.name,subtitle:t.code,titleIcon:Q,headerColor:Ze(t.status),onClick:()=>et(t),badges:[{label:Z(t.status),variant:Je(t.status)},...t.type?[{label:t.type,variant:"secondary"}]:[]],fields:[{label:"Ø§Ù„Ù…ÙˆÙ‚Ø¹",value:o,icon:H},{label:"Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡",value:t.purchasePrice?te(Number(t.purchasePrice)):"ØºÙŠØ± Ù…Ø­Ø¯Ø¯",icon:bt,emphasis:!!t.purchasePrice,color:t.purchasePrice?"success":"muted"},{label:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø´Ø±Ø§Ø¡",value:t.purchaseDate?me(t.purchaseDate):"ØºÙŠØ± Ù…Ø­Ø¯Ø¯",icon:Be},...t.description?[{label:"Ø§Ù„ÙˆØµÙ",value:t.description,icon:Q}]:[]],actions:[{icon:jt,label:"ØªØ¹Ø¯ÙŠÙ„",onClick:()=>ke(t)},{icon:G,label:"Ø§Ù„Ø³Ø¬Ù„",onClick:()=>Ce(t)},{icon:ft,label:"Ø­Ø°Ù",variant:"ghost",onClick:()=>Pe(t)}],footer:e.jsx(F,{onClick:f=>{f.stopPropagation(),we(t,f)},className:"w-full bg-blue-500 hover:bg-blue-600 text-white text-sm",size:"sm",children:"Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ø¯Ø©"}),compact:!0},t.id)})}),e.jsx(Me,{open:d,onOpenChange:E,projects:g}),e.jsx(Me,{open:i,onOpenChange:j,projects:g,equipment:a}),e.jsx(Et,{equipment:a,open:c,onOpenChange:Y,projects:g}),e.jsx(Ft,{equipment:a,open:X,onOpenChange:W,projects:g}),e.jsx(le,{open:s,onOpenChange:p,children:e.jsx(ne,{className:"max-w-md mx-auto bg-white dark:bg-gray-800 rounded-3xl p-0 overflow-hidden border-0 shadow-2xl",children:a&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>p(!1),className:"absolute top-4 right-4 z-10 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors",children:e.jsx(he,{className:"h-4 w-4"})}),e.jsx("div",{className:"relative h-48 bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:e.jsx(Q,{className:"h-16 w-16 text-white opacity-50"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:a.name}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[e.jsx(ae,{className:`text-xs ${Xe(a.status)}`,children:Z(a.status)}),e.jsx(ae,{variant:"outline",className:"text-xs",children:a.code})]})]}),a.purchasePrice&&e.jsxs("div",{className:"text-center bg-orange-100 dark:bg-orange-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-400",children:"Ø§Ù„Ø³Ø¹Ø±"}),e.jsx("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:te(Number(a.purchasePrice))})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.currentProjectId?g.find(t=>t.id===a.currentProjectId)?.name||"Ù…Ø´Ø±ÙˆØ¹ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ":"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(F,{onClick:()=>{p(!1),ke(a)},className:"bg-blue-500 hover:bg-blue-600 text-white rounded-full py-3 font-medium text-sm",children:"ØªØ¹Ø¯ÙŠÙ„"}),e.jsxs(F,{onClick:()=>{p(!1),Ce(a)},className:"bg-purple-500 hover:bg-purple-600 text-white rounded-full py-3 font-medium text-sm flex items-center gap-1 justify-center",children:[e.jsx(G,{className:"w-4 h-4"}),"Ø§Ù„Ø³Ø¬Ù„"]}),e.jsx(F,{onClick:()=>{p(!1),Pe(a)},disabled:ce.isPending,className:"bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-full py-3 font-medium text-sm",children:ce.isPending?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­Ø°Ù...":"Ø­Ø°Ù"}),e.jsx(F,{onClick:()=>{p(!1),we(a)},className:"bg-green-500 hover:bg-green-600 text-white rounded-full py-3 font-medium text-sm",children:"Ù†Ù‚Ù„"})]})]})]})})}),L&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>J(null),children:e.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[e.jsx("button",{onClick:()=>J(null),className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsx(he,{size:24})}),e.jsx("img",{src:L,alt:"ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø¯Ø© Ø¨Ø§Ù„Ø­Ø¬Ù… Ø§Ù„ÙƒØ§Ù…Ù„",className:"max-w-full max-h-[90vh] object-contain rounded-lg"})]})})]})}export{Ut as EquipmentManagement,Ut as default};
