import{r as c,c as H}from"./vendor-Bzsngnqy.js";function M(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,o,a=[],f="",l=e.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(a.push(n),f+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),o=s.indexOf(".",1),a.push(s.substring(1,~r?r:~o?o:s.length)),f+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(f+=(~r?"?":"")+"\\"+s.substring(o))):f+="/"+s;return{keys:a,pattern:new RegExp("^"+f+(t?"(?=$|/)":"/?$"),"i")}}var O={exports:{}},j={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p=c;function N(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var T=typeof Object.is=="function"?Object.is:N,G=p.useState,q=p.useEffect,z=p.useLayoutEffect,J=p.useDebugValue;function Q(e,t){var n=t(),r=G({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return z(function(){s.value=n,s.getSnapshot=t,E(s)&&o({inst:s})},[e,n,t]),q(function(){return E(s)&&o({inst:s}),e(function(){E(s)&&o({inst:s})})},[e]),J(n),n}function E(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!T(e,n)}catch{return!0}}function W(e,t){return t()}var X=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?W:Q;j.useSyncExternalStore=p.useSyncExternalStore!==void 0?p.useSyncExternalStore:X;O.exports=j;var Y=O.exports;const Z=H.useInsertionEffect,ee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_=ee?c.useLayoutEffect:c.useEffect,te=Z||_,v=e=>{const t=c.useRef([e,(...n)=>t[0](...n)]).current;return te(()=>{t[0]=e}),t[1]},ne="popstate",S="pushState",g="replaceState",se="hashchange",P=[ne,S,g,se],re=e=>{for(const t of P)addEventListener(t,e);return()=>{for(const t of P)removeEventListener(t,e)}},I=(e,t)=>Y.useSyncExternalStore(re,e,t),oe=()=>location.search,ce=({ssrSearch:e=""}={})=>I(oe,()=>e),R=()=>location.pathname,ae=({ssrPath:e}={})=>I(R,e?()=>e:R),ue=(e,{replace:t=!1,state:n=null}={})=>history[t?g:S](n,"",e),ie=(e={})=>[ae(e),ue],k=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[k]>"u"){for(const e of[S,g]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,k,{value:!0})}const fe=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",$=(e="")=>e==="/"?"":e,le=(e,t)=>e[0]==="~"?e.slice(1):$(t)+e,he=(e="",t)=>fe(C($(e)),C(t)),C=e=>{try{return decodeURI(e)}catch{return e}},D={hook:ie,searchHook:ce,parser:M,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},K=c.createContext(D),m=()=>c.useContext(K),U={},V=c.createContext(U),de=()=>c.useContext(V),y=e=>{const[t,n]=e.hook(e);return[he(e.base,t),v((r,s)=>n(le(r,e.base),s))]},Ee=()=>y(m()),A=(e,t,n,r)=>{const{pattern:s,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=s.exec(n)||[],[f,...l]=a;return f!==void 0?[!0,(()=>{const i=o!==!1?Object.fromEntries(o.map((d,x)=>[d,l[x]])):a.groups;let u={...l};return i&&Object.assign(u,i),u})(),...r?[f]:[]]:[!1,null]},pe=({children:e,...t})=>{const n=m(),r=t.hook?D:n;let s=r;const[o,a]=t.ssrPath?.split("?")??[];a&&(t.ssrSearch=a,t.ssrPath=o),t.hrefs=t.hrefs??t.hook?.hrefs;let f=c.useRef({}),l=f.current,i=l;for(let u in r){const d=u==="base"?r[u]+(t[u]||""):t[u]||r[u];l===i&&d!==i[u]&&(f.current=i={...i}),i[u]=d,(d!==r[u]||d!==s[u])&&(s=i)}return c.createElement(K.Provider,{value:s,children:e})},L=({children:e,component:t},n)=>t?c.createElement(t,{params:n}):typeof e=="function"?e(n):e,me=e=>{let t=c.useRef(U);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,s])=>s!==n[r])?e:n},ve=({path:e,nest:t,match:n,...r})=>{const s=m(),[o]=y(s),[a,f,l]=n??A(s.parser,e,o,t),i=me({...de(),...f});if(!a)return null;const u=l?c.createElement(pe,{base:l},L(r,i)):L(r,i);return c.createElement(V.Provider,{value:i,children:u})},Se=c.forwardRef((e,t)=>{const n=m(),[r,s]=y(n),{to:o="",href:a=o,onClick:f,asChild:l,children:i,className:u,replace:d,state:x,...F}=e,w=v(h=>{h.ctrlKey||h.metaKey||h.altKey||h.shiftKey||h.button!==0||(f?.(h),h.defaultPrevented||(h.preventDefault(),s(a,e)))}),b=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return l&&c.isValidElement(i)?c.cloneElement(i,{onClick:w,href:b}):c.createElement("a",{...F,onClick:w,href:b,className:u?.call?u(r===a):u,children:i,ref:t})}),B=e=>Array.isArray(e)?e.flatMap(t=>B(t&&t.type===c.Fragment?t.props.children:t)):[e],ge=({children:e,location:t})=>{const n=m(),[r]=y(n);for(const s of B(e)){let o=0;if(c.isValidElement(s)&&(o=A(n.parser,s.props.path,t||r,s.props.nest))[0])return c.cloneElement(s,{match:o})}return null},xe=e=>{const{to:t,href:n=t}=e,r=m(),[,s]=y(r),o=v(()=>s(t||n,e)),{ssrContext:a}=r;return _(()=>{o()},[]),a&&(a.redirectTo=t),null};export{Se as L,xe as R,ge as S,ve as a,Ee as u};
