const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/worker-accounts-CH4lxxbv.js","assets/worker-accounts-S6QwB5fq.css","assets/suppliers-professional-BFuV92N0.js","assets/switch-DUUCDhzR.js","assets/equipment-management-BqXKcqyS.js","assets/upload-47naOTVV.js","assets/admin-notifications-52MrVasb.js","assets/sparkles-BzN8_yLT.js","assets/SmartErrorsPage-BmzlVkcM.js","assets/SecurityPoliciesPage-BF0WICuY.js","assets/shield-alert-Dnp00M0N.js","assets/AreaChart-tjKfzHw4.js","assets/axion-reports-BQ9ZjqHc.js","assets/settings-iplE6wRV.js","assets/ai-chat-Uu2s-X3K.js","assets/index-CxhpW18Q.js","assets/AdminDashboard-DDJt8rqt.js"])))=>i.map(i=>d[i]);
var Rte=Object.defineProperty;var GN=e=>{throw TypeError(e)};var $te=(e,t,r)=>t in e?Rte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ke=(e,t,r)=>$te(e,typeof t!="symbol"?t+"":t,r),Y1=(e,t,r)=>t.has(e)||GN("Cannot "+r);var ye=(e,t,r)=>(Y1(e,t,"read from private field"),r?r.call(e):t.get(e)),At=(e,t,r)=>t.has(e)?GN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ct=(e,t,r,n)=>(Y1(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ur=(e,t,r)=>(Y1(e,t,"access private method"),r);var R0=(e,t,r,n)=>({set _(s){ct(e,t,s,r)},get _(){return ye(e,t,n)}});function vM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xM={exports:{}},Iv={},wM={exports:{}},br={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=Symbol.for("react.element"),Ote=Symbol.for("react.portal"),Fte=Symbol.for("react.fragment"),Lte=Symbol.for("react.strict_mode"),zte=Symbol.for("react.profiler"),Bte=Symbol.for("react.provider"),Ute=Symbol.for("react.context"),Vte=Symbol.for("react.forward_ref"),Wte=Symbol.for("react.suspense"),qte=Symbol.for("react.memo"),Hte=Symbol.for("react.lazy"),XN=Symbol.iterator;function Kte(e){return e===null||typeof e!="object"?null:(e=XN&&e[XN]||e["@@iterator"],typeof e=="function"?e:null)}var _M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kM=Object.assign,SM={};function Ph(e,t,r){this.props=e,this.context=t,this.refs=SM,this.updater=r||_M}Ph.prototype.isReactComponent={};Ph.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ph.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jM(){}jM.prototype=Ph.prototype;function rS(e,t,r){this.props=e,this.context=t,this.refs=SM,this.updater=r||_M}var nS=rS.prototype=new jM;nS.constructor=rS;kM(nS,Ph.prototype);nS.isPureReactComponent=!0;var QN=Array.isArray,NM=Object.prototype.hasOwnProperty,sS={current:null},CM={key:!0,ref:!0,__self:!0,__source:!0};function TM(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)NM.call(t,n)&&!CM.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:xg,type:e,key:i,ref:a,props:s,_owner:sS.current}}function Zte(e,t){return{$$typeof:xg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iS(e){return typeof e=="object"&&e!==null&&e.$$typeof===xg}function Gte(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var YN=/\/+/g;function J1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gte(""+e.key):t.toString(36)}function Ny(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case xg:case Ote:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+J1(a,0):n,QN(s)?(r="",e!=null&&(r=e.replace(YN,"$&/")+"/"),Ny(s,t,r,"",function(c){return c})):s!=null&&(iS(s)&&(s=Zte(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(YN,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",QN(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+J1(i,o);a+=Ny(i,t,r,u,s)}else if(u=Kte(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+J1(i,o++),a+=Ny(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function $0(e,t,r){if(e==null)return e;var n=[],s=0;return Ny(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Xte(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xi={current:null},Cy={transition:null},Qte={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:Cy,ReactCurrentOwner:sS};function EM(){throw Error("act(...) is not supported in production builds of React.")}br.Children={map:$0,forEach:function(e,t,r){$0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $0(e,function(){t++}),t},toArray:function(e){return $0(e,function(t){return t})||[]},only:function(e){if(!iS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};br.Component=Ph;br.Fragment=Fte;br.Profiler=zte;br.PureComponent=rS;br.StrictMode=Lte;br.Suspense=Wte;br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qte;br.act=EM;br.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=kM({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=sS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)NM.call(t,u)&&!CM.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:xg,type:e.type,key:s,ref:i,props:n,_owner:a}};br.createContext=function(e){return e={$$typeof:Ute,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bte,_context:e},e.Consumer=e};br.createElement=TM;br.createFactory=function(e){var t=TM.bind(null,e);return t.type=e,t};br.createRef=function(){return{current:null}};br.forwardRef=function(e){return{$$typeof:Vte,render:e}};br.isValidElement=iS;br.lazy=function(e){return{$$typeof:Hte,_payload:{_status:-1,_result:e},_init:Xte}};br.memo=function(e,t){return{$$typeof:qte,type:e,compare:t===void 0?null:t}};br.startTransition=function(e){var t=Cy.transition;Cy.transition={};try{e()}finally{Cy.transition=t}};br.unstable_act=EM;br.useCallback=function(e,t){return xi.current.useCallback(e,t)};br.useContext=function(e){return xi.current.useContext(e)};br.useDebugValue=function(){};br.useDeferredValue=function(e){return xi.current.useDeferredValue(e)};br.useEffect=function(e,t){return xi.current.useEffect(e,t)};br.useId=function(){return xi.current.useId()};br.useImperativeHandle=function(e,t,r){return xi.current.useImperativeHandle(e,t,r)};br.useInsertionEffect=function(e,t){return xi.current.useInsertionEffect(e,t)};br.useLayoutEffect=function(e,t){return xi.current.useLayoutEffect(e,t)};br.useMemo=function(e,t){return xi.current.useMemo(e,t)};br.useReducer=function(e,t,r){return xi.current.useReducer(e,t,r)};br.useRef=function(e){return xi.current.useRef(e)};br.useState=function(e){return xi.current.useState(e)};br.useSyncExternalStore=function(e,t,r){return xi.current.useSyncExternalStore(e,t,r)};br.useTransition=function(){return xi.current.useTransition()};br.version="18.3.1";wM.exports=br;var T=wM.exports;const jt=tS(T),Dv=vM({__proto__:null,default:jt},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yte=T,Jte=Symbol.for("react.element"),ere=Symbol.for("react.fragment"),tre=Object.prototype.hasOwnProperty,rre=Yte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nre={key:!0,ref:!0,__self:!0,__source:!0};function AM(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)tre.call(t,n)&&!nre.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Jte,type:e,key:i,ref:a,props:s,_owner:rre.current}}Iv.Fragment=ere;Iv.jsx=AM;Iv.jsxs=AM;xM.exports=Iv;var l=xM.exports,PM={exports:{}},ra={},IM={exports:{}},DM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,S){var D=k.length;k.push(S);e:for(;0<D;){var O=D-1>>>1,B=k[O];if(0<s(B,S))k[O]=S,k[D]=B,D=O;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var S=k[0],D=k.pop();if(D!==S){k[0]=D;e:for(var O=0,B=k.length,q=B>>>1;O<q;){var H=2*(O+1)-1,Q=k[H],M=H+1,K=k[M];if(0>s(Q,D))M<B&&0>s(K,Q)?(k[O]=K,k[M]=D,O=M):(k[O]=Q,k[H]=D,O=H);else if(M<B&&0>s(K,D))k[O]=K,k[M]=D,O=M;else break e}}return S}function s(k,S){var D=k.sortIndex-S.sortIndex;return D!==0?D:k.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,h=null,f=3,p=!1,g=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(k){for(var S=r(c);S!==null;){if(S.callback===null)n(c);else if(S.startTime<=k)n(c),S.sortIndex=S.expirationTime,t(u,S);else break;S=r(c)}}function j(k){if(y=!1,x(k),!g)if(r(u)!==null)g=!0,w(C);else{var S=r(c);S!==null&&_(j,S.startTime-k)}}function C(k,S){g=!1,y&&(y=!1,v(A),A=-1),p=!0;var D=f;try{for(x(S),h=r(u);h!==null&&(!(h.expirationTime>S)||k&&!V());){var O=h.callback;if(typeof O=="function"){h.callback=null,f=h.priorityLevel;var B=O(h.expirationTime<=S);S=e.unstable_now(),typeof B=="function"?h.callback=B:h===r(u)&&n(u),x(S)}else n(u);h=r(u)}if(h!==null)var q=!0;else{var H=r(c);H!==null&&_(j,H.startTime-S),q=!1}return q}finally{h=null,f=D,p=!1}}var R=!1,L=null,A=-1,P=5,$=-1;function V(){return!(e.unstable_now()-$<P)}function U(){if(L!==null){var k=e.unstable_now();$=k;var S=!0;try{S=L(!0,k)}finally{S?E():(R=!1,L=null)}}else R=!1}var E;if(typeof b=="function")E=function(){b(U)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,N=I.port2;I.port1.onmessage=U,E=function(){N.postMessage(null)}}else E=function(){m(U,0)};function w(k){L=k,R||(R=!0,E())}function _(k,S){A=m(function(){k(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,w(C))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(k){switch(f){case 1:case 2:case 3:var S=3;break;default:S=f}var D=f;f=S;try{return k()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,S){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var D=f;f=k;try{return S()}finally{f=D}},e.unstable_scheduleCallback=function(k,S,D){var O=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?O+D:O):D=O,k){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=D+B,k={id:d++,callback:S,priorityLevel:k,startTime:D,expirationTime:B,sortIndex:-1},D>O?(k.sortIndex=D,t(c,k),r(u)===null&&k===r(c)&&(y?(v(A),A=-1):y=!0,_(j,D-O))):(k.sortIndex=B,t(u,k),g||p||(g=!0,w(C))),k},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(k){var S=f;return function(){var D=f;f=S;try{return k.apply(this,arguments)}finally{f=D}}}})(DM);IM.exports=DM;var sre=IM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ire=T,ea=sre;function Ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MM=new Set,fm={};function Pd(e,t){Jf(e,t),Jf(e+"Capture",t)}function Jf(e,t){for(fm[e]=t,e=0;e<t.length;e++)MM.add(t[e])}var Tl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a_=Object.prototype.hasOwnProperty,are=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JN={},eC={};function ore(e){return a_.call(eC,e)?!0:a_.call(JN,e)?!1:are.test(e)?eC[e]=!0:(JN[e]=!0,!1)}function lre(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cre(e,t,r,n){if(t===null||typeof t>"u"||lre(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wi(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Os={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Os[e]=new wi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Os[t]=new wi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Os[e]=new wi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Os[e]=new wi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Os[e]=new wi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Os[e]=new wi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Os[e]=new wi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Os[e]=new wi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Os[e]=new wi(e,5,!1,e.toLowerCase(),null,!1,!1)});var aS=/[\-:]([a-z])/g;function oS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(aS,oS);Os[t]=new wi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(aS,oS);Os[t]=new wi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(aS,oS);Os[t]=new wi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Os[e]=new wi(e,1,!1,e.toLowerCase(),null,!1,!1)});Os.xlinkHref=new wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Os[e]=new wi(e,1,!1,e.toLowerCase(),null,!0,!0)});function lS(e,t,r,n){var s=Os.hasOwnProperty(t)?Os[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cre(t,r,s,n)&&(r=null),n||s===null?ore(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bl=ire.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O0=Symbol.for("react.element"),af=Symbol.for("react.portal"),of=Symbol.for("react.fragment"),cS=Symbol.for("react.strict_mode"),o_=Symbol.for("react.profiler"),RM=Symbol.for("react.provider"),$M=Symbol.for("react.context"),uS=Symbol.for("react.forward_ref"),l_=Symbol.for("react.suspense"),c_=Symbol.for("react.suspense_list"),dS=Symbol.for("react.memo"),ic=Symbol.for("react.lazy"),OM=Symbol.for("react.offscreen"),tC=Symbol.iterator;function cp(e){return e===null||typeof e!="object"?null:(e=tC&&e[tC]||e["@@iterator"],typeof e=="function"?e:null)}var Pn=Object.assign,ew;function Tp(e){if(ew===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ew=t&&t[1]||""}return`
`+ew+e}var tw=!1;function rw(e,t){if(!e||tw)return"";tw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{tw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Tp(e):""}function ure(e){switch(e.tag){case 5:return Tp(e.type);case 16:return Tp("Lazy");case 13:return Tp("Suspense");case 19:return Tp("SuspenseList");case 0:case 2:case 15:return e=rw(e.type,!1),e;case 11:return e=rw(e.type.render,!1),e;case 1:return e=rw(e.type,!0),e;default:return""}}function u_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case of:return"Fragment";case af:return"Portal";case o_:return"Profiler";case cS:return"StrictMode";case l_:return"Suspense";case c_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $M:return(e.displayName||"Context")+".Consumer";case RM:return(e._context.displayName||"Context")+".Provider";case uS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dS:return t=e.displayName||null,t!==null?t:u_(e.type)||"Memo";case ic:t=e._payload,e=e._init;try{return u_(e(t))}catch{}}return null}function dre(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return u_(t);case 8:return t===cS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function FM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fre(e){var t=FM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function F0(e){e._valueTracker||(e._valueTracker=fre(e))}function LM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=FM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function d_(e,t){var r=t.checked;return Pn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zM(e,t){t=t.checked,t!=null&&lS(e,"checked",t,!1)}function f_(e,t){zM(e,t);var r=qc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?h_(e,t.type,r):t.hasOwnProperty("defaultValue")&&h_(e,t.type,qc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function h_(e,t,r){(t!=="number"||fb(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ep=Array.isArray;function Cf(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qc(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function p_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return Pn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ye(92));if(Ep(r)){if(1<r.length)throw Error(Ye(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qc(r)}}function BM(e,t){var r=qc(t.value),n=qc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function iC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function UM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?UM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var L0,VM=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(L0=L0||document.createElement("div"),L0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=L0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Up={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hre=["Webkit","ms","Moz","O"];Object.keys(Up).forEach(function(e){hre.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Up[t]=Up[e]})});function WM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Up.hasOwnProperty(e)&&Up[e]?(""+t).trim():t+"px"}function qM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=WM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var pre=Pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g_(e,t){if(t){if(pre[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ye(62))}}function y_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b_=null;function fS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var v_=null,Tf=null,Ef=null;function aC(e){if(e=kg(e)){if(typeof v_!="function")throw Error(Ye(280));var t=e.stateNode;t&&(t=Fv(t),v_(e.stateNode,e.type,t))}}function HM(e){Tf?Ef?Ef.push(e):Ef=[e]:Tf=e}function KM(){if(Tf){var e=Tf,t=Ef;if(Ef=Tf=null,aC(e),t)for(e=0;e<t.length;e++)aC(t[e])}}function ZM(e,t){return e(t)}function GM(){}var nw=!1;function XM(e,t,r){if(nw)return e(t,r);nw=!0;try{return ZM(e,t,r)}finally{nw=!1,(Tf!==null||Ef!==null)&&(GM(),KM())}}function pm(e,t){var r=e.stateNode;if(r===null)return null;var n=Fv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ye(231,t,typeof r));return r}var x_=!1;if(Tl)try{var up={};Object.defineProperty(up,"passive",{get:function(){x_=!0}}),window.addEventListener("test",up,up),window.removeEventListener("test",up,up)}catch{x_=!1}function mre(e,t,r,n,s,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Vp=!1,hb=null,pb=!1,w_=null,gre={onError:function(e){Vp=!0,hb=e}};function yre(e,t,r,n,s,i,a,o,u){Vp=!1,hb=null,mre.apply(gre,arguments)}function bre(e,t,r,n,s,i,a,o,u){if(yre.apply(this,arguments),Vp){if(Vp){var c=hb;Vp=!1,hb=null}else throw Error(Ye(198));pb||(pb=!0,w_=c)}}function Id(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function QM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oC(e){if(Id(e)!==e)throw Error(Ye(188))}function vre(e){var t=e.alternate;if(!t){if(t=Id(e),t===null)throw Error(Ye(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return oC(s),e;if(i===n)return oC(s),t;i=i.sibling}throw Error(Ye(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(Ye(189))}}if(r.alternate!==n)throw Error(Ye(190))}if(r.tag!==3)throw Error(Ye(188));return r.stateNode.current===r?e:t}function YM(e){return e=vre(e),e!==null?JM(e):null}function JM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=JM(e);if(t!==null)return t;e=e.sibling}return null}var eR=ea.unstable_scheduleCallback,lC=ea.unstable_cancelCallback,xre=ea.unstable_shouldYield,wre=ea.unstable_requestPaint,Bn=ea.unstable_now,_re=ea.unstable_getCurrentPriorityLevel,hS=ea.unstable_ImmediatePriority,tR=ea.unstable_UserBlockingPriority,mb=ea.unstable_NormalPriority,kre=ea.unstable_LowPriority,rR=ea.unstable_IdlePriority,Mv=null,$o=null;function Sre(e){if($o&&typeof $o.onCommitFiberRoot=="function")try{$o.onCommitFiberRoot(Mv,e,void 0,(e.current.flags&128)===128)}catch{}}var ro=Math.clz32?Math.clz32:Cre,jre=Math.log,Nre=Math.LN2;function Cre(e){return e>>>=0,e===0?32:31-(jre(e)/Nre|0)|0}var z0=64,B0=4194304;function Ap(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gb(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Ap(o):(i&=a,i!==0&&(n=Ap(i)))}else a=r&~s,a!==0?n=Ap(a):i!==0&&(n=Ap(i));if(n===0)return 0;if(t!==0&&t!==n&&(t&s)===0&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ro(t),s=1<<r,n|=e[r],t&=~s;return n}function Tre(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ere(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ro(i),o=1<<a,u=s[a];u===-1?((o&r)===0||(o&n)!==0)&&(s[a]=Tre(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function __(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nR(){var e=z0;return z0<<=1,(z0&4194240)===0&&(z0=64),e}function sw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ro(t),e[t]=r}function Are(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ro(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function pS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ro(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Vr=0;function sR(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var iR,mS,aR,oR,lR,k_=!1,U0=[],kc=null,Sc=null,jc=null,mm=new Map,gm=new Map,oc=[],Pre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cC(e,t){switch(e){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":Sc=null;break;case"mouseover":case"mouseout":jc=null;break;case"pointerover":case"pointerout":mm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gm.delete(t.pointerId)}}function dp(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=kg(t),t!==null&&mS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ire(e,t,r,n,s){switch(t){case"focusin":return kc=dp(kc,e,t,r,n,s),!0;case"dragenter":return Sc=dp(Sc,e,t,r,n,s),!0;case"mouseover":return jc=dp(jc,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return mm.set(i,dp(mm.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,gm.set(i,dp(gm.get(i)||null,e,t,r,n,s)),!0}return!1}function cR(e){var t=Pu(e.target);if(t!==null){var r=Id(t);if(r!==null){if(t=r.tag,t===13){if(t=QM(r),t!==null){e.blockedOn=t,lR(e.priority,function(){aR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ty(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=S_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);b_=n,r.target.dispatchEvent(n),b_=null}else return t=kg(r),t!==null&&mS(t),e.blockedOn=r,!1;t.shift()}return!0}function uC(e,t,r){Ty(e)&&r.delete(t)}function Dre(){k_=!1,kc!==null&&Ty(kc)&&(kc=null),Sc!==null&&Ty(Sc)&&(Sc=null),jc!==null&&Ty(jc)&&(jc=null),mm.forEach(uC),gm.forEach(uC)}function fp(e,t){e.blockedOn===t&&(e.blockedOn=null,k_||(k_=!0,ea.unstable_scheduleCallback(ea.unstable_NormalPriority,Dre)))}function ym(e){function t(s){return fp(s,e)}if(0<U0.length){fp(U0[0],e);for(var r=1;r<U0.length;r++){var n=U0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(kc!==null&&fp(kc,e),Sc!==null&&fp(Sc,e),jc!==null&&fp(jc,e),mm.forEach(t),gm.forEach(t),r=0;r<oc.length;r++)n=oc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<oc.length&&(r=oc[0],r.blockedOn===null);)cR(r),r.blockedOn===null&&oc.shift()}var Af=Bl.ReactCurrentBatchConfig,yb=!0;function Mre(e,t,r,n){var s=Vr,i=Af.transition;Af.transition=null;try{Vr=1,gS(e,t,r,n)}finally{Vr=s,Af.transition=i}}function Rre(e,t,r,n){var s=Vr,i=Af.transition;Af.transition=null;try{Vr=4,gS(e,t,r,n)}finally{Vr=s,Af.transition=i}}function gS(e,t,r,n){if(yb){var s=S_(e,t,r,n);if(s===null)pw(e,t,n,bb,r),cC(e,n);else if(Ire(s,e,t,r,n))n.stopPropagation();else if(cC(e,n),t&4&&-1<Pre.indexOf(e)){for(;s!==null;){var i=kg(s);if(i!==null&&iR(i),i=S_(e,t,r,n),i===null&&pw(e,t,n,bb,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else pw(e,t,n,null,r)}}var bb=null;function S_(e,t,r,n){if(bb=null,e=fS(n),e=Pu(e),e!==null)if(t=Id(e),t===null)e=null;else if(r=t.tag,r===13){if(e=QM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bb=e,null}function uR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_re()){case hS:return 1;case tR:return 4;case mb:case kre:return 16;case rR:return 536870912;default:return 16}default:return 16}}var vc=null,yS=null,Ey=null;function dR(){if(Ey)return Ey;var e,t=yS,r=t.length,n,s="value"in vc?vc.value:vc.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ey=s.slice(e,1<n?1-n:void 0)}function Ay(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function V0(){return!0}function dC(){return!1}function na(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?V0:dC,this.isPropagationStopped=dC,this}return Pn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=V0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=V0)},persist:function(){},isPersistent:V0}),t}var Ih={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bS=na(Ih),_g=Pn({},Ih,{view:0,detail:0}),$re=na(_g),iw,aw,hp,Rv=Pn({},_g,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hp&&(hp&&e.type==="mousemove"?(iw=e.screenX-hp.screenX,aw=e.screenY-hp.screenY):aw=iw=0,hp=e),iw)},movementY:function(e){return"movementY"in e?e.movementY:aw}}),fC=na(Rv),Ore=Pn({},Rv,{dataTransfer:0}),Fre=na(Ore),Lre=Pn({},_g,{relatedTarget:0}),ow=na(Lre),zre=Pn({},Ih,{animationName:0,elapsedTime:0,pseudoElement:0}),Bre=na(zre),Ure=Pn({},Ih,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vre=na(Ure),Wre=Pn({},Ih,{data:0}),hC=na(Wre),qre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zre(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kre[e])?!!t[e]:!1}function vS(){return Zre}var Gre=Pn({},_g,{key:function(e){if(e.key){var t=qre[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ay(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hre[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vS,charCode:function(e){return e.type==="keypress"?Ay(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ay(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xre=na(Gre),Qre=Pn({},Rv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pC=na(Qre),Yre=Pn({},_g,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vS}),Jre=na(Yre),ene=Pn({},Ih,{propertyName:0,elapsedTime:0,pseudoElement:0}),tne=na(ene),rne=Pn({},Rv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nne=na(rne),sne=[9,13,27,32],xS=Tl&&"CompositionEvent"in window,Wp=null;Tl&&"documentMode"in document&&(Wp=document.documentMode);var ine=Tl&&"TextEvent"in window&&!Wp,fR=Tl&&(!xS||Wp&&8<Wp&&11>=Wp),mC=" ",gC=!1;function hR(e,t){switch(e){case"keyup":return sne.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lf=!1;function ane(e,t){switch(e){case"compositionend":return pR(t);case"keypress":return t.which!==32?null:(gC=!0,mC);case"textInput":return e=t.data,e===mC&&gC?null:e;default:return null}}function one(e,t){if(lf)return e==="compositionend"||!xS&&hR(e,t)?(e=dR(),Ey=yS=vc=null,lf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fR&&t.locale!=="ko"?null:t.data;default:return null}}var lne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lne[e.type]:t==="textarea"}function mR(e,t,r,n){HM(n),t=vb(t,"onChange"),0<t.length&&(r=new bS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qp=null,bm=null;function cne(e){NR(e,0)}function $v(e){var t=df(e);if(LM(t))return e}function une(e,t){if(e==="change")return t}var gR=!1;if(Tl){var lw;if(Tl){var cw="oninput"in document;if(!cw){var bC=document.createElement("div");bC.setAttribute("oninput","return;"),cw=typeof bC.oninput=="function"}lw=cw}else lw=!1;gR=lw&&(!document.documentMode||9<document.documentMode)}function vC(){qp&&(qp.detachEvent("onpropertychange",yR),bm=qp=null)}function yR(e){if(e.propertyName==="value"&&$v(bm)){var t=[];mR(t,bm,e,fS(e)),XM(cne,t)}}function dne(e,t,r){e==="focusin"?(vC(),qp=t,bm=r,qp.attachEvent("onpropertychange",yR)):e==="focusout"&&vC()}function fne(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $v(bm)}function hne(e,t){if(e==="click")return $v(t)}function pne(e,t){if(e==="input"||e==="change")return $v(t)}function mne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ao=typeof Object.is=="function"?Object.is:mne;function vm(e,t){if(ao(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!a_.call(t,s)||!ao(e[s],t[s]))return!1}return!0}function xC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wC(e,t){var r=xC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xC(r)}}function bR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vR(){for(var e=window,t=fb();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fb(e.document)}return t}function wS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gne(e){var t=vR(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bR(r.ownerDocument.documentElement,r)){if(n!==null&&wS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=wC(r,i);var a=wC(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yne=Tl&&"documentMode"in document&&11>=document.documentMode,cf=null,j_=null,Hp=null,N_=!1;function _C(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;N_||cf==null||cf!==fb(n)||(n=cf,"selectionStart"in n&&wS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hp&&vm(Hp,n)||(Hp=n,n=vb(j_,"onSelect"),0<n.length&&(t=new bS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=cf)))}function W0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var uf={animationend:W0("Animation","AnimationEnd"),animationiteration:W0("Animation","AnimationIteration"),animationstart:W0("Animation","AnimationStart"),transitionend:W0("Transition","TransitionEnd")},uw={},xR={};Tl&&(xR=document.createElement("div").style,"AnimationEvent"in window||(delete uf.animationend.animation,delete uf.animationiteration.animation,delete uf.animationstart.animation),"TransitionEvent"in window||delete uf.transitionend.transition);function Ov(e){if(uw[e])return uw[e];if(!uf[e])return e;var t=uf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xR)return uw[e]=t[r];return e}var wR=Ov("animationend"),_R=Ov("animationiteration"),kR=Ov("animationstart"),SR=Ov("transitionend"),jR=new Map,kC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ou(e,t){jR.set(e,t),Pd(t,[e])}for(var dw=0;dw<kC.length;dw++){var fw=kC[dw],bne=fw.toLowerCase(),vne=fw[0].toUpperCase()+fw.slice(1);ou(bne,"on"+vne)}ou(wR,"onAnimationEnd");ou(_R,"onAnimationIteration");ou(kR,"onAnimationStart");ou("dblclick","onDoubleClick");ou("focusin","onFocus");ou("focusout","onBlur");ou(SR,"onTransitionEnd");Jf("onMouseEnter",["mouseout","mouseover"]);Jf("onMouseLeave",["mouseout","mouseover"]);Jf("onPointerEnter",["pointerout","pointerover"]);Jf("onPointerLeave",["pointerout","pointerover"]);Pd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xne=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pp));function SC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bre(n,t,void 0,e),e.currentTarget=null}function NR(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;SC(s,o,c),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;SC(s,o,c),i=u}}}if(pb)throw e=w_,pb=!1,w_=null,e}function an(e,t){var r=t[P_];r===void 0&&(r=t[P_]=new Set);var n=e+"__bubble";r.has(n)||(CR(t,e,2,!1),r.add(n))}function hw(e,t,r){var n=0;t&&(n|=4),CR(r,e,n,t)}var q0="_reactListening"+Math.random().toString(36).slice(2);function xm(e){if(!e[q0]){e[q0]=!0,MM.forEach(function(r){r!=="selectionchange"&&(xne.has(r)||hw(r,!1,e),hw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[q0]||(t[q0]=!0,hw("selectionchange",!1,t))}}function CR(e,t,r,n){switch(uR(t)){case 1:var s=Mre;break;case 4:s=Rre;break;default:s=gS}r=s.bind(null,t,r,e),s=void 0,!x_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function pw(e,t,r,n,s){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Pu(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}XM(function(){var c=i,d=fS(r),h=[];e:{var f=jR.get(e);if(f!==void 0){var p=bS,g=e;switch(e){case"keypress":if(Ay(r)===0)break e;case"keydown":case"keyup":p=Xre;break;case"focusin":g="focus",p=ow;break;case"focusout":g="blur",p=ow;break;case"beforeblur":case"afterblur":p=ow;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Fre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Jre;break;case wR:case _R:case kR:p=Bre;break;case SR:p=tne;break;case"scroll":p=$re;break;case"wheel":p=nne;break;case"copy":case"cut":case"paste":p=Vre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pC}var y=(t&4)!==0,m=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var b=c,x;b!==null;){x=b;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,v!==null&&(j=pm(b,v),j!=null&&y.push(wm(b,j,x)))),m)break;b=b.return}0<y.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:y}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==b_&&(g=r.relatedTarget||r.fromElement)&&(Pu(g)||g[El]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Pu(g):null,g!==null&&(m=Id(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=fC,j="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=pC,j="onPointerLeave",v="onPointerEnter",b="pointer"),m=p==null?f:df(p),x=g==null?f:df(g),f=new y(j,b+"leave",p,r,d),f.target=m,f.relatedTarget=x,j=null,Pu(d)===c&&(y=new y(v,b+"enter",g,r,d),y.target=x,y.relatedTarget=m,j=y),m=j,p&&g)t:{for(y=p,v=g,b=0,x=y;x;x=Gd(x))b++;for(x=0,j=v;j;j=Gd(j))x++;for(;0<b-x;)y=Gd(y),b--;for(;0<x-b;)v=Gd(v),x--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=Gd(y),v=Gd(v)}y=null}else y=null;p!==null&&jC(h,f,p,y,!1),g!==null&&m!==null&&jC(h,m,g,y,!0)}}e:{if(f=c?df(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=une;else if(yC(f))if(gR)C=pne;else{C=fne;var R=dne}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=hne);if(C&&(C=C(e,c))){mR(h,C,r,d);break e}R&&R(e,f,c),e==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&h_(f,"number",f.value)}switch(R=c?df(c):window,e){case"focusin":(yC(R)||R.contentEditable==="true")&&(cf=R,j_=c,Hp=null);break;case"focusout":Hp=j_=cf=null;break;case"mousedown":N_=!0;break;case"contextmenu":case"mouseup":case"dragend":N_=!1,_C(h,r,d);break;case"selectionchange":if(yne)break;case"keydown":case"keyup":_C(h,r,d)}var L;if(xS)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else lf?hR(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(fR&&r.locale!=="ko"&&(lf||A!=="onCompositionStart"?A==="onCompositionEnd"&&lf&&(L=dR()):(vc=d,yS="value"in vc?vc.value:vc.textContent,lf=!0)),R=vb(c,A),0<R.length&&(A=new hC(A,e,null,r,d),h.push({event:A,listeners:R}),L?A.data=L:(L=pR(r),L!==null&&(A.data=L)))),(L=ine?ane(e,r):one(e,r))&&(c=vb(c,"onBeforeInput"),0<c.length&&(d=new hC("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=L))}NR(h,t)})}function wm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vb(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pm(e,r),i!=null&&n.unshift(wm(e,i,s)),i=pm(e,t),i!=null&&n.push(wm(e,i,s))),e=e.return}return n}function Gd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jC(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,s?(u=pm(r,i),u!=null&&a.unshift(wm(r,u,o))):s||(u=pm(r,i),u!=null&&a.push(wm(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var wne=/\r\n?/g,_ne=/\u0000|\uFFFD/g;function NC(e){return(typeof e=="string"?e:""+e).replace(wne,`
`).replace(_ne,"")}function H0(e,t,r){if(t=NC(t),NC(e)!==t&&r)throw Error(Ye(425))}function xb(){}var C_=null,T_=null;function E_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var A_=typeof setTimeout=="function"?setTimeout:void 0,kne=typeof clearTimeout=="function"?clearTimeout:void 0,CC=typeof Promise=="function"?Promise:void 0,Sne=typeof queueMicrotask=="function"?queueMicrotask:typeof CC<"u"?function(e){return CC.resolve(null).then(e).catch(jne)}:A_;function jne(e){setTimeout(function(){throw e})}function mw(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ym(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ym(t)}function Nc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function TC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dh=Math.random().toString(36).slice(2),To="__reactFiber$"+Dh,_m="__reactProps$"+Dh,El="__reactContainer$"+Dh,P_="__reactEvents$"+Dh,Nne="__reactListeners$"+Dh,Cne="__reactHandles$"+Dh;function Pu(e){var t=e[To];if(t)return t;for(var r=e.parentNode;r;){if(t=r[El]||r[To]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=TC(e);e!==null;){if(r=e[To])return r;e=TC(e)}return t}e=r,r=e.parentNode}return null}function kg(e){return e=e[To]||e[El],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function df(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ye(33))}function Fv(e){return e[_m]||null}var I_=[],ff=-1;function lu(e){return{current:e}}function cn(e){0>ff||(e.current=I_[ff],I_[ff]=null,ff--)}function en(e,t){ff++,I_[ff]=e.current,e.current=t}var Hc={},si=lu(Hc),Ri=lu(!1),id=Hc;function eh(e,t){var r=e.type.contextTypes;if(!r)return Hc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $i(e){return e=e.childContextTypes,e!=null}function wb(){cn(Ri),cn(si)}function EC(e,t,r){if(si.current!==Hc)throw Error(Ye(168));en(si,t),en(Ri,r)}function TR(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Ye(108,dre(e)||"Unknown",s));return Pn({},r,n)}function _b(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hc,id=si.current,en(si,e),en(Ri,Ri.current),!0}function AC(e,t,r){var n=e.stateNode;if(!n)throw Error(Ye(169));r?(e=TR(e,t,id),n.__reactInternalMemoizedMergedChildContext=e,cn(Ri),cn(si),en(si,e)):cn(Ri),en(Ri,r)}var ll=null,Lv=!1,gw=!1;function ER(e){ll===null?ll=[e]:ll.push(e)}function Tne(e){Lv=!0,ER(e)}function cu(){if(!gw&&ll!==null){gw=!0;var e=0,t=Vr;try{var r=ll;for(Vr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ll=null,Lv=!1}catch(s){throw ll!==null&&(ll=ll.slice(e+1)),eR(hS,cu),s}finally{Vr=t,gw=!1}}return null}var hf=[],pf=0,kb=null,Sb=0,ba=[],va=0,ad=null,yl=1,bl="";function Su(e,t){hf[pf++]=Sb,hf[pf++]=kb,kb=e,Sb=t}function AR(e,t,r){ba[va++]=yl,ba[va++]=bl,ba[va++]=ad,ad=e;var n=yl;e=bl;var s=32-ro(n)-1;n&=~(1<<s),r+=1;var i=32-ro(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,yl=1<<32-ro(t)+s|r<<s|n,bl=i+e}else yl=1<<i|r<<s|n,bl=e}function _S(e){e.return!==null&&(Su(e,1),AR(e,1,0))}function kS(e){for(;e===kb;)kb=hf[--pf],hf[pf]=null,Sb=hf[--pf],hf[pf]=null;for(;e===ad;)ad=ba[--va],ba[va]=null,bl=ba[--va],ba[va]=null,yl=ba[--va],ba[va]=null}var Gi=null,Hi=null,gn=!1,Qa=null;function PR(e,t){var r=ja(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function PC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gi=e,Hi=Nc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gi=e,Hi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ad!==null?{id:yl,overflow:bl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ja(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Gi=e,Hi=null,!0):!1;default:return!1}}function D_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function M_(e){if(gn){var t=Hi;if(t){var r=t;if(!PC(e,t)){if(D_(e))throw Error(Ye(418));t=Nc(r.nextSibling);var n=Gi;t&&PC(e,t)?PR(n,r):(e.flags=e.flags&-4097|2,gn=!1,Gi=e)}}else{if(D_(e))throw Error(Ye(418));e.flags=e.flags&-4097|2,gn=!1,Gi=e}}}function IC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gi=e}function K0(e){if(e!==Gi)return!1;if(!gn)return IC(e),gn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!E_(e.type,e.memoizedProps)),t&&(t=Hi)){if(D_(e))throw IR(),Error(Ye(418));for(;t;)PR(e,t),t=Nc(t.nextSibling)}if(IC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hi=Nc(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hi=null}}else Hi=Gi?Nc(e.stateNode.nextSibling):null;return!0}function IR(){for(var e=Hi;e;)e=Nc(e.nextSibling)}function th(){Hi=Gi=null,gn=!1}function SS(e){Qa===null?Qa=[e]:Qa.push(e)}var Ene=Bl.ReactCurrentBatchConfig;function pp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ye(309));var n=r.stateNode}if(!n)throw Error(Ye(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ye(284));if(!r._owner)throw Error(Ye(290,e))}return e}function Z0(e,t){throw e=Object.prototype.toString.call(t),Error(Ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function DC(e){var t=e._init;return t(e._payload)}function DR(e){function t(v,b){if(e){var x=v.deletions;x===null?(v.deletions=[b],v.flags|=16):x.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(v,b){return v=Ac(v,b),v.index=0,v.sibling=null,v}function i(v,b,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<b?(v.flags|=2,b):x):(v.flags|=2,b)):(v.flags|=1048576,b)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,b,x,j){return b===null||b.tag!==6?(b=kw(x,v.mode,j),b.return=v,b):(b=s(b,x),b.return=v,b)}function u(v,b,x,j){var C=x.type;return C===of?d(v,b,x.props.children,j,x.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ic&&DC(C)===b.type)?(j=s(b,x.props),j.ref=pp(v,b,x),j.return=v,j):(j=Oy(x.type,x.key,x.props,null,v.mode,j),j.ref=pp(v,b,x),j.return=v,j)}function c(v,b,x,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Sw(x,v.mode,j),b.return=v,b):(b=s(b,x.children||[]),b.return=v,b)}function d(v,b,x,j,C){return b===null||b.tag!==7?(b=Ju(x,v.mode,j,C),b.return=v,b):(b=s(b,x),b.return=v,b)}function h(v,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=kw(""+b,v.mode,x),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case O0:return x=Oy(b.type,b.key,b.props,null,v.mode,x),x.ref=pp(v,null,b),x.return=v,x;case af:return b=Sw(b,v.mode,x),b.return=v,b;case ic:var j=b._init;return h(v,j(b._payload),x)}if(Ep(b)||cp(b))return b=Ju(b,v.mode,x,null),b.return=v,b;Z0(v,b)}return null}function f(v,b,x,j){var C=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:o(v,b,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case O0:return x.key===C?u(v,b,x,j):null;case af:return x.key===C?c(v,b,x,j):null;case ic:return C=x._init,f(v,b,C(x._payload),j)}if(Ep(x)||cp(x))return C!==null?null:d(v,b,x,j,null);Z0(v,x)}return null}function p(v,b,x,j,C){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(x)||null,o(b,v,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case O0:return v=v.get(j.key===null?x:j.key)||null,u(b,v,j,C);case af:return v=v.get(j.key===null?x:j.key)||null,c(b,v,j,C);case ic:var R=j._init;return p(v,b,x,R(j._payload),C)}if(Ep(j)||cp(j))return v=v.get(x)||null,d(b,v,j,C,null);Z0(b,j)}return null}function g(v,b,x,j){for(var C=null,R=null,L=b,A=b=0,P=null;L!==null&&A<x.length;A++){L.index>A?(P=L,L=null):P=L.sibling;var $=f(v,L,x[A],j);if($===null){L===null&&(L=P);break}e&&L&&$.alternate===null&&t(v,L),b=i($,b,A),R===null?C=$:R.sibling=$,R=$,L=P}if(A===x.length)return r(v,L),gn&&Su(v,A),C;if(L===null){for(;A<x.length;A++)L=h(v,x[A],j),L!==null&&(b=i(L,b,A),R===null?C=L:R.sibling=L,R=L);return gn&&Su(v,A),C}for(L=n(v,L);A<x.length;A++)P=p(L,v,A,x[A],j),P!==null&&(e&&P.alternate!==null&&L.delete(P.key===null?A:P.key),b=i(P,b,A),R===null?C=P:R.sibling=P,R=P);return e&&L.forEach(function(V){return t(v,V)}),gn&&Su(v,A),C}function y(v,b,x,j){var C=cp(x);if(typeof C!="function")throw Error(Ye(150));if(x=C.call(x),x==null)throw Error(Ye(151));for(var R=C=null,L=b,A=b=0,P=null,$=x.next();L!==null&&!$.done;A++,$=x.next()){L.index>A?(P=L,L=null):P=L.sibling;var V=f(v,L,$.value,j);if(V===null){L===null&&(L=P);break}e&&L&&V.alternate===null&&t(v,L),b=i(V,b,A),R===null?C=V:R.sibling=V,R=V,L=P}if($.done)return r(v,L),gn&&Su(v,A),C;if(L===null){for(;!$.done;A++,$=x.next())$=h(v,$.value,j),$!==null&&(b=i($,b,A),R===null?C=$:R.sibling=$,R=$);return gn&&Su(v,A),C}for(L=n(v,L);!$.done;A++,$=x.next())$=p(L,v,A,$.value,j),$!==null&&(e&&$.alternate!==null&&L.delete($.key===null?A:$.key),b=i($,b,A),R===null?C=$:R.sibling=$,R=$);return e&&L.forEach(function(U){return t(v,U)}),gn&&Su(v,A),C}function m(v,b,x,j){if(typeof x=="object"&&x!==null&&x.type===of&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case O0:e:{for(var C=x.key,R=b;R!==null;){if(R.key===C){if(C=x.type,C===of){if(R.tag===7){r(v,R.sibling),b=s(R,x.props.children),b.return=v,v=b;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ic&&DC(C)===R.type){r(v,R.sibling),b=s(R,x.props),b.ref=pp(v,R,x),b.return=v,v=b;break e}r(v,R);break}else t(v,R);R=R.sibling}x.type===of?(b=Ju(x.props.children,v.mode,j,x.key),b.return=v,v=b):(j=Oy(x.type,x.key,x.props,null,v.mode,j),j.ref=pp(v,b,x),j.return=v,v=j)}return a(v);case af:e:{for(R=x.key;b!==null;){if(b.key===R)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(v,b.sibling),b=s(b,x.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=Sw(x,v.mode,j),b.return=v,v=b}return a(v);case ic:return R=x._init,m(v,b,R(x._payload),j)}if(Ep(x))return g(v,b,x,j);if(cp(x))return y(v,b,x,j);Z0(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(v,b.sibling),b=s(b,x),b.return=v,v=b):(r(v,b),b=kw(x,v.mode,j),b.return=v,v=b),a(v)):r(v,b)}return m}var rh=DR(!0),MR=DR(!1),jb=lu(null),Nb=null,mf=null,jS=null;function NS(){jS=mf=Nb=null}function CS(e){var t=jb.current;cn(jb),e._currentValue=t}function R_(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pf(e,t){Nb=e,jS=mf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ii=!0),e.firstContext=null)}function Pa(e){var t=e._currentValue;if(jS!==e)if(e={context:e,memoizedValue:t,next:null},mf===null){if(Nb===null)throw Error(Ye(308));mf=e,Nb.dependencies={lanes:0,firstContext:e}}else mf=mf.next=e;return t}var Iu=null;function TS(e){Iu===null?Iu=[e]:Iu.push(e)}function RR(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,TS(t)):(r.next=s.next,s.next=r),t.interleaved=r,Al(e,n)}function Al(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ac=!1;function ES(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $R(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cc(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ir&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Al(e,r)}return s=n.interleaved,s===null?(t.next=t,TS(n)):(t.next=s.next,s.next=t),n.interleaved=t,Al(e,r)}function Py(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pS(e,r)}}function MC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Cb(e,t,r,n){var s=e.updateQueue;ac=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,d=c=u=null,o=i;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(f=t,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Pn({},h,f);break e;case 2:ac=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,u=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ld|=a,e.lanes=a,e.memoizedState=h}}function RC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ye(191,s));s.call(n)}}}var Sg={},Oo=lu(Sg),km=lu(Sg),Sm=lu(Sg);function Du(e){if(e===Sg)throw Error(Ye(174));return e}function AS(e,t){switch(en(Sm,t),en(km,e),en(Oo,Sg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:m_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=m_(t,e)}cn(Oo),en(Oo,t)}function nh(){cn(Oo),cn(km),cn(Sm)}function OR(e){Du(Sm.current);var t=Du(Oo.current),r=m_(t,e.type);t!==r&&(en(km,e),en(Oo,r))}function PS(e){km.current===e&&(cn(Oo),cn(km))}var kn=lu(0);function Tb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yw=[];function IS(){for(var e=0;e<yw.length;e++)yw[e]._workInProgressVersionPrimary=null;yw.length=0}var Iy=Bl.ReactCurrentDispatcher,bw=Bl.ReactCurrentBatchConfig,od=0,Tn=null,rs=null,bs=null,Eb=!1,Kp=!1,jm=0,Ane=0;function Ws(){throw Error(Ye(321))}function DS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ao(e[r],t[r]))return!1;return!0}function MS(e,t,r,n,s,i){if(od=i,Tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Iy.current=e===null||e.memoizedState===null?Mne:Rne,e=r(n,s),Kp){i=0;do{if(Kp=!1,jm=0,25<=i)throw Error(Ye(301));i+=1,bs=rs=null,t.updateQueue=null,Iy.current=$ne,e=r(n,s)}while(Kp)}if(Iy.current=Ab,t=rs!==null&&rs.next!==null,od=0,bs=rs=Tn=null,Eb=!1,t)throw Error(Ye(300));return e}function RS(){var e=jm!==0;return jm=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bs===null?Tn.memoizedState=bs=e:bs=bs.next=e,bs}function Ia(){if(rs===null){var e=Tn.alternate;e=e!==null?e.memoizedState:null}else e=rs.next;var t=bs===null?Tn.memoizedState:bs.next;if(t!==null)bs=t,rs=e;else{if(e===null)throw Error(Ye(310));rs=e,e={memoizedState:rs.memoizedState,baseState:rs.baseState,baseQueue:rs.baseQueue,queue:rs.queue,next:null},bs===null?Tn.memoizedState=bs=e:bs=bs.next=e}return bs}function Nm(e,t){return typeof t=="function"?t(e):t}function vw(e){var t=Ia(),r=t.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=e;var n=rs,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,c=i;do{var d=c.lane;if((od&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,a=n):u=u.next=h,Tn.lanes|=d,ld|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=o,ao(n,t.memoizedState)||(Ii=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Tn.lanes|=i,ld|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xw(e){var t=Ia(),r=t.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);ao(i,t.memoizedState)||(Ii=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function FR(){}function LR(e,t){var r=Tn,n=Ia(),s=t(),i=!ao(n.memoizedState,s);if(i&&(n.memoizedState=s,Ii=!0),n=n.queue,$S(UR.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||bs!==null&&bs.memoizedState.tag&1){if(r.flags|=2048,Cm(9,BR.bind(null,r,n,s,t),void 0,null),ks===null)throw Error(Ye(349));(od&30)!==0||zR(r,t,s)}return s}function zR(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Tn.updateQueue,t===null?(t={lastEffect:null,stores:null},Tn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function BR(e,t,r,n){t.value=r,t.getSnapshot=n,VR(t)&&WR(e)}function UR(e,t,r){return r(function(){VR(t)&&WR(e)})}function VR(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ao(e,r)}catch{return!0}}function WR(e){var t=Al(e,1);t!==null&&no(t,e,1,-1)}function $C(e){var t=ko();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nm,lastRenderedState:e},t.queue=e,e=e.dispatch=Dne.bind(null,Tn,e),[t.memoizedState,e]}function Cm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Tn.updateQueue,t===null?(t={lastEffect:null,stores:null},Tn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qR(){return Ia().memoizedState}function Dy(e,t,r,n){var s=ko();Tn.flags|=e,s.memoizedState=Cm(1|t,r,void 0,n===void 0?null:n)}function zv(e,t,r,n){var s=Ia();n=n===void 0?null:n;var i=void 0;if(rs!==null){var a=rs.memoizedState;if(i=a.destroy,n!==null&&DS(n,a.deps)){s.memoizedState=Cm(t,r,i,n);return}}Tn.flags|=e,s.memoizedState=Cm(1|t,r,i,n)}function OC(e,t){return Dy(8390656,8,e,t)}function $S(e,t){return zv(2048,8,e,t)}function HR(e,t){return zv(4,2,e,t)}function KR(e,t){return zv(4,4,e,t)}function ZR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GR(e,t,r){return r=r!=null?r.concat([e]):null,zv(4,4,ZR.bind(null,t,e),r)}function OS(){}function XR(e,t){var r=Ia();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&DS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function QR(e,t){var r=Ia();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&DS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function YR(e,t,r){return(od&21)===0?(e.baseState&&(e.baseState=!1,Ii=!0),e.memoizedState=r):(ao(r,t)||(r=nR(),Tn.lanes|=r,ld|=r,e.baseState=!0),t)}function Pne(e,t){var r=Vr;Vr=r!==0&&4>r?r:4,e(!0);var n=bw.transition;bw.transition={};try{e(!1),t()}finally{Vr=r,bw.transition=n}}function JR(){return Ia().memoizedState}function Ine(e,t,r){var n=Ec(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},e$(e))t$(t,r);else if(r=RR(e,t,r,n),r!==null){var s=bi();no(r,e,n,s),r$(r,t,n)}}function Dne(e,t,r){var n=Ec(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(e$(e))t$(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,ao(o,a)){var u=t.interleaved;u===null?(s.next=s,TS(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=RR(e,t,s,n),r!==null&&(s=bi(),no(r,e,n,s),r$(r,t,n))}}function e$(e){var t=e.alternate;return e===Tn||t!==null&&t===Tn}function t$(e,t){Kp=Eb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function r$(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pS(e,r)}}var Ab={readContext:Pa,useCallback:Ws,useContext:Ws,useEffect:Ws,useImperativeHandle:Ws,useInsertionEffect:Ws,useLayoutEffect:Ws,useMemo:Ws,useReducer:Ws,useRef:Ws,useState:Ws,useDebugValue:Ws,useDeferredValue:Ws,useTransition:Ws,useMutableSource:Ws,useSyncExternalStore:Ws,useId:Ws,unstable_isNewReconciler:!1},Mne={readContext:Pa,useCallback:function(e,t){return ko().memoizedState=[e,t===void 0?null:t],e},useContext:Pa,useEffect:OC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Dy(4194308,4,ZR.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Dy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dy(4,2,e,t)},useMemo:function(e,t){var r=ko();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ko();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ine.bind(null,Tn,e),[n.memoizedState,e]},useRef:function(e){var t=ko();return e={current:e},t.memoizedState=e},useState:$C,useDebugValue:OS,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=$C(!1),t=e[0];return e=Pne.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Tn,s=ko();if(gn){if(r===void 0)throw Error(Ye(407));r=r()}else{if(r=t(),ks===null)throw Error(Ye(349));(od&30)!==0||zR(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,OC(UR.bind(null,n,i,e),[e]),n.flags|=2048,Cm(9,BR.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ko(),t=ks.identifierPrefix;if(gn){var r=bl,n=yl;r=(n&~(1<<32-ro(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=jm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ane++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rne={readContext:Pa,useCallback:XR,useContext:Pa,useEffect:$S,useImperativeHandle:GR,useInsertionEffect:HR,useLayoutEffect:KR,useMemo:QR,useReducer:vw,useRef:qR,useState:function(){return vw(Nm)},useDebugValue:OS,useDeferredValue:function(e){var t=Ia();return YR(t,rs.memoizedState,e)},useTransition:function(){var e=vw(Nm)[0],t=Ia().memoizedState;return[e,t]},useMutableSource:FR,useSyncExternalStore:LR,useId:JR,unstable_isNewReconciler:!1},$ne={readContext:Pa,useCallback:XR,useContext:Pa,useEffect:$S,useImperativeHandle:GR,useInsertionEffect:HR,useLayoutEffect:KR,useMemo:QR,useReducer:xw,useRef:qR,useState:function(){return xw(Nm)},useDebugValue:OS,useDeferredValue:function(e){var t=Ia();return rs===null?t.memoizedState=e:YR(t,rs.memoizedState,e)},useTransition:function(){var e=xw(Nm)[0],t=Ia().memoizedState;return[e,t]},useMutableSource:FR,useSyncExternalStore:LR,useId:JR,unstable_isNewReconciler:!1};function qa(e,t){if(e&&e.defaultProps){t=Pn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $_(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bv={isMounted:function(e){return(e=e._reactInternals)?Id(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=bi(),s=Ec(e),i=vl(n,s);i.payload=t,r!=null&&(i.callback=r),t=Cc(e,i,s),t!==null&&(no(t,e,s,n),Py(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=bi(),s=Ec(e),i=vl(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Cc(e,i,s),t!==null&&(no(t,e,s,n),Py(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=bi(),n=Ec(e),s=vl(r,n);s.tag=2,t!=null&&(s.callback=t),t=Cc(e,s,n),t!==null&&(no(t,e,n,r),Py(t,e,n))}};function FC(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!vm(r,n)||!vm(s,i):!0}function n$(e,t,r){var n=!1,s=Hc,i=t.contextType;return typeof i=="object"&&i!==null?i=Pa(i):(s=$i(t)?id:si.current,n=t.contextTypes,i=(n=n!=null)?eh(e,s):Hc),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function LC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bv.enqueueReplaceState(t,t.state,null)}function O_(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ES(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Pa(i):(i=$i(t)?id:si.current,s.context=eh(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&($_(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bv.enqueueReplaceState(s,s.state,null),Cb(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function sh(e,t){try{var r="",n=t;do r+=ure(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ww(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function F_(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var One=typeof WeakMap=="function"?WeakMap:Map;function s$(e,t,r){r=vl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ib||(Ib=!0,Z_=n),F_(e,t)},r}function i$(e,t,r){r=vl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){F_(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){F_(e,t),typeof n!="function"&&(Tc===null?Tc=new Set([this]):Tc.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function zC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new One;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Qne.bind(null,e,t,r),t.then(e,e))}function BC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function UC(e,t,r,n,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vl(-1,1),t.tag=2,Cc(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var Fne=Bl.ReactCurrentOwner,Ii=!1;function di(e,t,r,n){t.child=e===null?MR(t,null,r,n):rh(t,e.child,r,n)}function VC(e,t,r,n,s){r=r.render;var i=t.ref;return Pf(t,s),n=MS(e,t,r,n,i,s),r=RS(),e!==null&&!Ii?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pl(e,t,s)):(gn&&r&&_S(t),t.flags|=1,di(e,t,n,s),t.child)}function WC(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!qS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,a$(e,t,i,n,s)):(e=Oy(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&s)===0){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:vm,r(a,n)&&e.ref===t.ref)return Pl(e,t,s)}return t.flags|=1,e=Ac(i,n),e.ref=t.ref,e.return=t,t.child=e}function a$(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(vm(i,n)&&e.ref===t.ref)if(Ii=!1,t.pendingProps=n=i,(e.lanes&s)!==0)(e.flags&131072)!==0&&(Ii=!0);else return t.lanes=e.lanes,Pl(e,t,s)}return L_(e,t,r,n,s)}function o$(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},en(yf,Ui),Ui|=r;else{if((r&1073741824)===0)return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,en(yf,Ui),Ui|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,en(yf,Ui),Ui|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,en(yf,Ui),Ui|=n;return di(e,t,s,r),t.child}function l$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function L_(e,t,r,n,s){var i=$i(r)?id:si.current;return i=eh(t,i),Pf(t,s),r=MS(e,t,r,n,i,s),n=RS(),e!==null&&!Ii?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pl(e,t,s)):(gn&&n&&_S(t),t.flags|=1,di(e,t,r,s),t.child)}function qC(e,t,r,n,s){if($i(r)){var i=!0;_b(t)}else i=!1;if(Pf(t,s),t.stateNode===null)My(e,t),n$(t,r,n),O_(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Pa(c):(c=$i(r)?id:si.current,c=eh(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&LC(t,a,n,c),ac=!1;var f=t.memoizedState;a.state=f,Cb(t,n,a,s),u=t.memoizedState,o!==n||f!==u||Ri.current||ac?(typeof d=="function"&&($_(t,r,d,n),u=t.memoizedState),(o=ac||FC(t,r,o,n,f,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,$R(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:qa(t.type,o),a.props=c,h=t.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Pa(u):(u=$i(r)?id:si.current,u=eh(t,u));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==u)&&LC(t,a,n,u),ac=!1,f=t.memoizedState,a.state=f,Cb(t,n,a,s);var g=t.memoizedState;o!==h||f!==g||Ri.current||ac?(typeof p=="function"&&($_(t,r,p,n),g=t.memoizedState),(c=ac||FC(t,r,c,n,f,g,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return z_(e,t,r,n,i,s)}function z_(e,t,r,n,s,i){l$(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&AC(t,r,!1),Pl(e,t,i);n=t.stateNode,Fne.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=rh(t,e.child,null,i),t.child=rh(t,null,o,i)):di(e,t,o,i),t.memoizedState=n.state,s&&AC(t,r,!0),t.child}function c$(e){var t=e.stateNode;t.pendingContext?EC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&EC(e,t.context,!1),AS(e,t.containerInfo)}function HC(e,t,r,n,s){return th(),SS(s),t.flags|=256,di(e,t,r,n),t.child}var B_={dehydrated:null,treeContext:null,retryLane:0};function U_(e){return{baseLanes:e,cachePool:null,transitions:null}}function u$(e,t,r){var n=t.pendingProps,s=kn.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),en(kn,s&1),e===null)return M_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},(n&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Wv(a,n,0,null),e=Ju(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=U_(r),t.memoizedState=B_,e):FS(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Lne(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return(a&1)===0&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Ac(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Ac(o,i):(i=Ju(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?U_(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=B_,n}return i=e.child,e=i.sibling,n=Ac(i,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function FS(e,t){return t=Wv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function G0(e,t,r,n){return n!==null&&SS(n),rh(t,e.child,null,r),e=FS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lne(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ww(Error(Ye(422))),G0(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Wv({mode:"visible",children:n.children},s,0,null),i=Ju(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,(t.mode&1)!==0&&rh(t,e.child,null,a),t.child.memoizedState=U_(a),t.memoizedState=B_,i);if((t.mode&1)===0)return G0(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Ye(419)),n=ww(i,n,void 0),G0(e,t,a,n)}if(o=(a&e.childLanes)!==0,Ii||o){if(n=ks,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(n.suspendedLanes|a))!==0?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Al(e,s),no(n,e,s,-1))}return WS(),n=ww(Error(Ye(421))),G0(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Yne.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Hi=Nc(s.nextSibling),Gi=t,gn=!0,Qa=null,e!==null&&(ba[va++]=yl,ba[va++]=bl,ba[va++]=ad,yl=e.id,bl=e.overflow,ad=t),t=FS(t,n.children),t.flags|=4096,t)}function KC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),R_(e.return,t,r)}function _w(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function d$(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(di(e,t,n.children,r),n=kn.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&KC(e,r,t);else if(e.tag===19)KC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(en(kn,n),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Tb(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),_w(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Tb(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}_w(t,!0,r,null,i);break;case"together":_w(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function My(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ld|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(Ye(153));if(t.child!==null){for(e=t.child,r=Ac(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ac(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zne(e,t,r){switch(t.tag){case 3:c$(t),th();break;case 5:OR(t);break;case 1:$i(t.type)&&_b(t);break;case 4:AS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;en(jb,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(en(kn,kn.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?u$(e,t,r):(en(kn,kn.current&1),e=Pl(e,t,r),e!==null?e.sibling:null);en(kn,kn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return d$(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),en(kn,kn.current),n)break;return null;case 22:case 23:return t.lanes=0,o$(e,t,r)}return Pl(e,t,r)}var f$,V_,h$,p$;f$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};V_=function(){};h$=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Du(Oo.current);var i=null;switch(r){case"input":s=d_(e,s),n=d_(e,n),i=[];break;case"select":s=Pn({},s,{value:void 0}),n=Pn({},n,{value:void 0}),i=[];break;case"textarea":s=p_(e,s),n=p_(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xb)}g_(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fm.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=s?.[c],n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fm.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&an("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};p$=function(e,t,r,n){r!==n&&(t.flags|=4)};function mp(e,t){if(!gn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Bne(e,t,r){var n=t.pendingProps;switch(kS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:return $i(t.type)&&wb(),qs(t),null;case 3:return n=t.stateNode,nh(),cn(Ri),cn(si),IS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(K0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qa!==null&&(Q_(Qa),Qa=null))),V_(e,t),qs(t),null;case 5:PS(t);var s=Du(Sm.current);if(r=t.type,e!==null&&t.stateNode!=null)h$(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ye(166));return qs(t),null}if(e=Du(Oo.current),K0(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[To]=t,n[_m]=i,e=(t.mode&1)!==0,r){case"dialog":an("cancel",n),an("close",n);break;case"iframe":case"object":case"embed":an("load",n);break;case"video":case"audio":for(s=0;s<Pp.length;s++)an(Pp[s],n);break;case"source":an("error",n);break;case"img":case"image":case"link":an("error",n),an("load",n);break;case"details":an("toggle",n);break;case"input":rC(n,i),an("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},an("invalid",n);break;case"textarea":sC(n,i),an("invalid",n)}g_(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&H0(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&H0(n.textContent,o,e),s=["children",""+o]):fm.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&an("scroll",n)}switch(r){case"input":F0(n),nC(n,i,!0);break;case"textarea":F0(n),iC(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xb)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=UM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[To]=t,e[_m]=n,f$(e,t,!1,!1),t.stateNode=e;e:{switch(a=y_(r,n),r){case"dialog":an("cancel",e),an("close",e),s=n;break;case"iframe":case"object":case"embed":an("load",e),s=n;break;case"video":case"audio":for(s=0;s<Pp.length;s++)an(Pp[s],e);s=n;break;case"source":an("error",e),s=n;break;case"img":case"image":case"link":an("error",e),an("load",e),s=n;break;case"details":an("toggle",e),s=n;break;case"input":rC(e,n),s=d_(e,n),an("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Pn({},n,{value:void 0}),an("invalid",e);break;case"textarea":sC(e,n),s=p_(e,n),an("invalid",e);break;default:s=n}g_(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?qM(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&VM(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&hm(e,u):typeof u=="number"&&hm(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fm.hasOwnProperty(i)?u!=null&&i==="onScroll"&&an("scroll",e):u!=null&&lS(e,i,u,a))}switch(r){case"input":F0(e),nC(e,n,!1);break;case"textarea":F0(e),iC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qc(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Cf(e,!!n.multiple,i,!1):n.defaultValue!=null&&Cf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&t.stateNode!=null)p$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ye(166));if(r=Du(Sm.current),Du(Oo.current),K0(t)){if(n=t.stateNode,r=t.memoizedProps,n[To]=t,(i=n.nodeValue!==r)&&(e=Gi,e!==null))switch(e.tag){case 3:H0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&H0(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[To]=t,t.stateNode=n}return qs(t),null;case 13:if(cn(kn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gn&&Hi!==null&&(t.mode&1)!==0&&(t.flags&128)===0)IR(),th(),t.flags|=98560,i=!1;else if(i=K0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ye(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ye(317));i[To]=t}else th(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qs(t),i=!1}else Qa!==null&&(Q_(Qa),Qa=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(kn.current&1)!==0?as===0&&(as=3):WS())),t.updateQueue!==null&&(t.flags|=4),qs(t),null);case 4:return nh(),V_(e,t),e===null&&xm(t.stateNode.containerInfo),qs(t),null;case 10:return CS(t.type._context),qs(t),null;case 17:return $i(t.type)&&wb(),qs(t),null;case 19:if(cn(kn),i=t.memoizedState,i===null)return qs(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)mp(i,!1);else{if(as!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=Tb(e),a!==null){for(t.flags|=128,mp(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return en(kn,kn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Bn()>ih&&(t.flags|=128,n=!0,mp(i,!1),t.lanes=4194304)}else{if(!n)if(e=Tb(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),mp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!gn)return qs(t),null}else 2*Bn()-i.renderingStartTime>ih&&r!==1073741824&&(t.flags|=128,n=!0,mp(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Bn(),t.sibling=null,r=kn.current,en(kn,n?r&1|2:r&1),t):(qs(t),null);case 22:case 23:return VS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(Ui&1073741824)!==0&&(qs(t),t.subtreeFlags&6&&(t.flags|=8192)):qs(t),null;case 24:return null;case 25:return null}throw Error(Ye(156,t.tag))}function Une(e,t){switch(kS(t),t.tag){case 1:return $i(t.type)&&wb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nh(),cn(Ri),cn(si),IS(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return PS(t),null;case 13:if(cn(kn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ye(340));th()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return cn(kn),null;case 4:return nh(),null;case 10:return CS(t.type._context),null;case 22:case 23:return VS(),null;case 24:return null;default:return null}}var X0=!1,Qs=!1,Vne=typeof WeakSet=="function"?WeakSet:Set,pt=null;function gf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rn(e,t,n)}else r.current=null}function W_(e,t,r){try{r()}catch(n){Rn(e,t,n)}}var ZC=!1;function Wne(e,t){if(C_=yb,e=vR(),wS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++c===s&&(o=a),f===i&&++d===n&&(u=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(T_={focusedElem:e,selectionRange:r},yb=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){t=pt;try{var g=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,m=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:qa(t.type,y),m);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(j){Rn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}return g=ZC,ZC=!1,g}function Zp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&W_(t,r,i)}s=s.next}while(s!==n)}}function Uv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function q_(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function m$(e){var t=e.alternate;t!==null&&(e.alternate=null,m$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[To],delete t[_m],delete t[P_],delete t[Nne],delete t[Cne])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function g$(e){return e.tag===5||e.tag===3||e.tag===4}function GC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||g$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function H_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xb));else if(n!==4&&(e=e.child,e!==null))for(H_(e,t,r),e=e.sibling;e!==null;)H_(e,t,r),e=e.sibling}function K_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(K_(e,t,r),e=e.sibling;e!==null;)K_(e,t,r),e=e.sibling}var As=null,Za=!1;function Ql(e,t,r){for(r=r.child;r!==null;)y$(e,t,r),r=r.sibling}function y$(e,t,r){if($o&&typeof $o.onCommitFiberUnmount=="function")try{$o.onCommitFiberUnmount(Mv,r)}catch{}switch(r.tag){case 5:Qs||gf(r,t);case 6:var n=As,s=Za;As=null,Ql(e,t,r),As=n,Za=s,As!==null&&(Za?(e=As,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):As.removeChild(r.stateNode));break;case 18:As!==null&&(Za?(e=As,r=r.stateNode,e.nodeType===8?mw(e.parentNode,r):e.nodeType===1&&mw(e,r),ym(e)):mw(As,r.stateNode));break;case 4:n=As,s=Za,As=r.stateNode.containerInfo,Za=!0,Ql(e,t,r),As=n,Za=s;break;case 0:case 11:case 14:case 15:if(!Qs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&((i&2)!==0||(i&4)!==0)&&W_(r,t,a),s=s.next}while(s!==n)}Ql(e,t,r);break;case 1:if(!Qs&&(gf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Rn(r,t,o)}Ql(e,t,r);break;case 21:Ql(e,t,r);break;case 22:r.mode&1?(Qs=(n=Qs)||r.memoizedState!==null,Ql(e,t,r),Qs=n):Ql(e,t,r);break;default:Ql(e,t,r)}}function XC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Vne),t.forEach(function(n){var s=Jne.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ua(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:As=o.stateNode,Za=!1;break e;case 3:As=o.stateNode.containerInfo,Za=!0;break e;case 4:As=o.stateNode.containerInfo,Za=!0;break e}o=o.return}if(As===null)throw Error(Ye(160));y$(i,a,s),As=null,Za=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Rn(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)b$(t,e),t=t.sibling}function b$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ua(t,e),wo(e),n&4){try{Zp(3,e,e.return),Uv(3,e)}catch(y){Rn(e,e.return,y)}try{Zp(5,e,e.return)}catch(y){Rn(e,e.return,y)}}break;case 1:Ua(t,e),wo(e),n&512&&r!==null&&gf(r,r.return);break;case 5:if(Ua(t,e),wo(e),n&512&&r!==null&&gf(r,r.return),e.flags&32){var s=e.stateNode;try{hm(s,"")}catch(y){Rn(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&zM(s,i),y_(o,a);var c=y_(o,i);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?qM(s,h):d==="dangerouslySetInnerHTML"?VM(s,h):d==="children"?hm(s,h):lS(s,d,h,c)}switch(o){case"input":f_(s,i);break;case"textarea":BM(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Cf(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Cf(s,!!i.multiple,i.defaultValue,!0):Cf(s,!!i.multiple,i.multiple?[]:"",!1))}s[_m]=i}catch(y){Rn(e,e.return,y)}}break;case 6:if(Ua(t,e),wo(e),n&4){if(e.stateNode===null)throw Error(Ye(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){Rn(e,e.return,y)}}break;case 3:if(Ua(t,e),wo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ym(t.containerInfo)}catch(y){Rn(e,e.return,y)}break;case 4:Ua(t,e),wo(e);break;case 13:Ua(t,e),wo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(BS=Bn())),n&4&&XC(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Qs=(c=Qs)||d,Ua(t,e),Qs=c):Ua(t,e),wo(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&(e.mode&1)!==0)for(pt=e,d=e.child;d!==null;){for(h=pt=d;pt!==null;){switch(f=pt,p=f.child,f.tag){case 0:case 11:case 14:case 15:Zp(4,f,f.return);break;case 1:gf(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Rn(n,r,y)}}break;case 5:gf(f,f.return);break;case 22:if(f.memoizedState!==null){YC(h);continue}}p!==null?(p.return=f,pt=p):YC(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=WM("display",a))}catch(y){Rn(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Rn(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ua(t,e),wo(e),n&4&&XC(e);break;case 21:break;default:Ua(t,e),wo(e)}}function wo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(g$(r)){var n=r;break e}r=r.return}throw Error(Ye(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(hm(s,""),n.flags&=-33);var i=GC(e);K_(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=GC(e);H_(e,o,a);break;default:throw Error(Ye(161))}}catch(u){Rn(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qne(e,t,r){pt=e,v$(e)}function v$(e,t,r){for(var n=(e.mode&1)!==0;pt!==null;){var s=pt,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||X0;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Qs;o=X0;var c=Qs;if(X0=a,(Qs=u)&&!c)for(pt=s;pt!==null;)a=pt,u=a.child,a.tag===22&&a.memoizedState!==null?JC(s):u!==null?(u.return=a,pt=u):JC(s);for(;i!==null;)pt=i,v$(i),i=i.sibling;pt=s,X0=o,Qs=c}QC(e)}else(s.subtreeFlags&8772)!==0&&i!==null?(i.return=s,pt=i):QC(e)}}function QC(e){for(;pt!==null;){var t=pt;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Qs||Uv(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qs)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:qa(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&RC(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}RC(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ym(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}Qs||t.flags&512&&q_(t)}catch(f){Rn(t,t.return,f)}}if(t===e){pt=null;break}if(r=t.sibling,r!==null){r.return=t.return,pt=r;break}pt=t.return}}function YC(e){for(;pt!==null;){var t=pt;if(t===e){pt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pt=r;break}pt=t.return}}function JC(e){for(;pt!==null;){var t=pt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Uv(4,t)}catch(u){Rn(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){Rn(t,s,u)}}var i=t.return;try{q_(t)}catch(u){Rn(t,i,u)}break;case 5:var a=t.return;try{q_(t)}catch(u){Rn(t,a,u)}}}catch(u){Rn(t,t.return,u)}if(t===e){pt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,pt=o;break}pt=t.return}}var Hne=Math.ceil,Pb=Bl.ReactCurrentDispatcher,LS=Bl.ReactCurrentOwner,Ta=Bl.ReactCurrentBatchConfig,Ir=0,ks=null,Zn=null,$s=0,Ui=0,yf=lu(0),as=0,Tm=null,ld=0,Vv=0,zS=0,Gp=null,Ei=null,BS=0,ih=1/0,al=null,Ib=!1,Z_=null,Tc=null,Q0=!1,xc=null,Db=0,Xp=0,G_=null,Ry=-1,$y=0;function bi(){return(Ir&6)!==0?Bn():Ry!==-1?Ry:Ry=Bn()}function Ec(e){return(e.mode&1)===0?1:(Ir&2)!==0&&$s!==0?$s&-$s:Ene.transition!==null?($y===0&&($y=nR()),$y):(e=Vr,e!==0||(e=window.event,e=e===void 0?16:uR(e.type)),e)}function no(e,t,r,n){if(50<Xp)throw Xp=0,G_=null,Error(Ye(185));wg(e,r,n),((Ir&2)===0||e!==ks)&&(e===ks&&((Ir&2)===0&&(Vv|=r),as===4&&lc(e,$s)),Oi(e,n),r===1&&Ir===0&&(t.mode&1)===0&&(ih=Bn()+500,Lv&&cu()))}function Oi(e,t){var r=e.callbackNode;Ere(e,t);var n=gb(e,e===ks?$s:0);if(n===0)r!==null&&lC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&lC(r),t===1)e.tag===0?Tne(e8.bind(null,e)):ER(e8.bind(null,e)),Sne(function(){(Ir&6)===0&&cu()}),r=null;else{switch(sR(n)){case 1:r=hS;break;case 4:r=tR;break;case 16:r=mb;break;case 536870912:r=rR;break;default:r=mb}r=C$(r,x$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function x$(e,t){if(Ry=-1,$y=0,(Ir&6)!==0)throw Error(Ye(327));var r=e.callbackNode;if(If()&&e.callbackNode!==r)return null;var n=gb(e,e===ks?$s:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=Mb(e,n);else{t=n;var s=Ir;Ir|=2;var i=_$();(ks!==e||$s!==t)&&(al=null,ih=Bn()+500,Yu(e,t));do try{Gne();break}catch(o){w$(e,o)}while(!0);NS(),Pb.current=i,Ir=s,Zn!==null?t=0:(ks=null,$s=0,t=as)}if(t!==0){if(t===2&&(s=__(e),s!==0&&(n=s,t=X_(e,s))),t===1)throw r=Tm,Yu(e,0),lc(e,n),Oi(e,Bn()),r;if(t===6)lc(e,n);else{if(s=e.current.alternate,(n&30)===0&&!Kne(s)&&(t=Mb(e,n),t===2&&(i=__(e),i!==0&&(n=i,t=X_(e,i))),t===1))throw r=Tm,Yu(e,0),lc(e,n),Oi(e,Bn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Ye(345));case 2:ju(e,Ei,al);break;case 3:if(lc(e,n),(n&130023424)===n&&(t=BS+500-Bn(),10<t)){if(gb(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){bi(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=A_(ju.bind(null,e,Ei,al),t);break}ju(e,Ei,al);break;case 4:if(lc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-ro(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Bn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hne(n/1960))-n,10<n){e.timeoutHandle=A_(ju.bind(null,e,Ei,al),n);break}ju(e,Ei,al);break;case 5:ju(e,Ei,al);break;default:throw Error(Ye(329))}}}return Oi(e,Bn()),e.callbackNode===r?x$.bind(null,e):null}function X_(e,t){var r=Gp;return e.current.memoizedState.isDehydrated&&(Yu(e,t).flags|=256),e=Mb(e,t),e!==2&&(t=Ei,Ei=r,t!==null&&Q_(t)),e}function Q_(e){Ei===null?Ei=e:Ei.push.apply(Ei,e)}function Kne(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ao(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lc(e,t){for(t&=~zS,t&=~Vv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ro(t),n=1<<r;e[r]=-1,t&=~n}}function e8(e){if((Ir&6)!==0)throw Error(Ye(327));If();var t=gb(e,0);if((t&1)===0)return Oi(e,Bn()),null;var r=Mb(e,t);if(e.tag!==0&&r===2){var n=__(e);n!==0&&(t=n,r=X_(e,n))}if(r===1)throw r=Tm,Yu(e,0),lc(e,t),Oi(e,Bn()),r;if(r===6)throw Error(Ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ju(e,Ei,al),Oi(e,Bn()),null}function US(e,t){var r=Ir;Ir|=1;try{return e(t)}finally{Ir=r,Ir===0&&(ih=Bn()+500,Lv&&cu())}}function cd(e){xc!==null&&xc.tag===0&&(Ir&6)===0&&If();var t=Ir;Ir|=1;var r=Ta.transition,n=Vr;try{if(Ta.transition=null,Vr=1,e)return e()}finally{Vr=n,Ta.transition=r,Ir=t,(Ir&6)===0&&cu()}}function VS(){Ui=yf.current,cn(yf)}function Yu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,kne(r)),Zn!==null)for(r=Zn.return;r!==null;){var n=r;switch(kS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wb();break;case 3:nh(),cn(Ri),cn(si),IS();break;case 5:PS(n);break;case 4:nh();break;case 13:cn(kn);break;case 19:cn(kn);break;case 10:CS(n.type._context);break;case 22:case 23:VS()}r=r.return}if(ks=e,Zn=e=Ac(e.current,null),$s=Ui=t,as=0,Tm=null,zS=Vv=ld=0,Ei=Gp=null,Iu!==null){for(t=0;t<Iu.length;t++)if(r=Iu[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Iu=null}return e}function w$(e,t){do{var r=Zn;try{if(NS(),Iy.current=Ab,Eb){for(var n=Tn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Eb=!1}if(od=0,bs=rs=Tn=null,Kp=!1,jm=0,LS.current=null,r===null||r.return===null){as=1,Tm=t,Zn=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=$s,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,h=d.tag;if((d.mode&1)===0&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=BC(a);if(p!==null){p.flags&=-257,UC(p,a,o,i,t),p.mode&1&&zC(i,c,t),t=p,u=c;var g=t.updateQueue;if(g===null){var y=new Set;y.add(u),t.updateQueue=y}else g.add(u);break e}else{if((t&1)===0){zC(i,c,t),WS();break e}u=Error(Ye(426))}}else if(gn&&o.mode&1){var m=BC(a);if(m!==null){(m.flags&65536)===0&&(m.flags|=256),UC(m,a,o,i,t),SS(sh(u,o));break e}}i=u=sh(u,o),as!==4&&(as=2),Gp===null?Gp=[i]:Gp.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=s$(i,u,t);MC(i,v);break e;case 1:o=u;var b=i.type,x=i.stateNode;if((i.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Tc===null||!Tc.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=i$(i,o,t);MC(i,j);break e}}i=i.return}while(i!==null)}S$(r)}catch(C){t=C,Zn===r&&r!==null&&(Zn=r=r.return);continue}break}while(!0)}function _$(){var e=Pb.current;return Pb.current=Ab,e===null?Ab:e}function WS(){(as===0||as===3||as===2)&&(as=4),ks===null||(ld&268435455)===0&&(Vv&268435455)===0||lc(ks,$s)}function Mb(e,t){var r=Ir;Ir|=2;var n=_$();(ks!==e||$s!==t)&&(al=null,Yu(e,t));do try{Zne();break}catch(s){w$(e,s)}while(!0);if(NS(),Ir=r,Pb.current=n,Zn!==null)throw Error(Ye(261));return ks=null,$s=0,as}function Zne(){for(;Zn!==null;)k$(Zn)}function Gne(){for(;Zn!==null&&!xre();)k$(Zn)}function k$(e){var t=N$(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,t===null?S$(e):Zn=t,LS.current=null}function S$(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Bne(r,t,Ui),r!==null){Zn=r;return}}else{if(r=Une(r,t),r!==null){r.flags&=32767,Zn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{as=6,Zn=null;return}}if(t=t.sibling,t!==null){Zn=t;return}Zn=t=e}while(t!==null);as===0&&(as=5)}function ju(e,t,r){var n=Vr,s=Ta.transition;try{Ta.transition=null,Vr=1,Xne(e,t,r,n)}finally{Ta.transition=s,Vr=n}return null}function Xne(e,t,r,n){do If();while(xc!==null);if((Ir&6)!==0)throw Error(Ye(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ye(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Are(e,i),e===ks&&(Zn=ks=null,$s=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Q0||(Q0=!0,C$(mb,function(){return If(),null})),i=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||i){i=Ta.transition,Ta.transition=null;var a=Vr;Vr=1;var o=Ir;Ir|=4,LS.current=null,Wne(e,r),b$(r,e),gne(T_),yb=!!C_,T_=C_=null,e.current=r,qne(r),wre(),Ir=o,Vr=a,Ta.transition=i}else e.current=r;if(Q0&&(Q0=!1,xc=e,Db=s),i=e.pendingLanes,i===0&&(Tc=null),Sre(r.stateNode),Oi(e,Bn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ib)throw Ib=!1,e=Z_,Z_=null,e;return(Db&1)!==0&&e.tag!==0&&If(),i=e.pendingLanes,(i&1)!==0?e===G_?Xp++:(Xp=0,G_=e):Xp=0,cu(),null}function If(){if(xc!==null){var e=sR(Db),t=Ta.transition,r=Vr;try{if(Ta.transition=null,Vr=16>e?16:e,xc===null)var n=!1;else{if(e=xc,xc=null,Db=0,(Ir&6)!==0)throw Error(Ye(331));var s=Ir;for(Ir|=4,pt=e.current;pt!==null;){var i=pt,a=i.child;if((pt.flags&16)!==0){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(pt=c;pt!==null;){var d=pt;switch(d.tag){case 0:case 11:case 15:Zp(8,d,i)}var h=d.child;if(h!==null)h.return=d,pt=h;else for(;pt!==null;){d=pt;var f=d.sibling,p=d.return;if(m$(d),d===c){pt=null;break}if(f!==null){f.return=p,pt=f;break}pt=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(y!==null)}}pt=i}}if((i.subtreeFlags&2064)!==0&&a!==null)a.return=i,pt=a;else e:for(;pt!==null;){if(i=pt,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Zp(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,pt=v;break e}pt=i.return}}var b=e.current;for(pt=b;pt!==null;){a=pt;var x=a.child;if((a.subtreeFlags&2064)!==0&&x!==null)x.return=a,pt=x;else e:for(a=b;pt!==null;){if(o=pt,(o.flags&2048)!==0)try{switch(o.tag){case 0:case 11:case 15:Uv(9,o)}}catch(C){Rn(o,o.return,C)}if(o===a){pt=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,pt=j;break e}pt=o.return}}if(Ir=s,cu(),$o&&typeof $o.onPostCommitFiberRoot=="function")try{$o.onPostCommitFiberRoot(Mv,e)}catch{}n=!0}return n}finally{Vr=r,Ta.transition=t}}return!1}function t8(e,t,r){t=sh(r,t),t=s$(e,t,1),e=Cc(e,t,1),t=bi(),e!==null&&(wg(e,1,t),Oi(e,t))}function Rn(e,t,r){if(e.tag===3)t8(e,e,r);else for(;t!==null;){if(t.tag===3){t8(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Tc===null||!Tc.has(n))){e=sh(r,e),e=i$(t,e,1),t=Cc(t,e,1),e=bi(),t!==null&&(wg(t,1,e),Oi(t,e));break}}t=t.return}}function Qne(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=bi(),e.pingedLanes|=e.suspendedLanes&r,ks===e&&($s&r)===r&&(as===4||as===3&&($s&130023424)===$s&&500>Bn()-BS?Yu(e,0):zS|=r),Oi(e,t)}function j$(e,t){t===0&&((e.mode&1)===0?t=1:(t=B0,B0<<=1,(B0&130023424)===0&&(B0=4194304)));var r=bi();e=Al(e,t),e!==null&&(wg(e,t,r),Oi(e,r))}function Yne(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),j$(e,r)}function Jne(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ye(314))}n!==null&&n.delete(t),j$(e,r)}var N$;N$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ri.current)Ii=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Ii=!1,zne(e,t,r);Ii=(e.flags&131072)!==0}else Ii=!1,gn&&(t.flags&1048576)!==0&&AR(t,Sb,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;My(e,t),e=t.pendingProps;var s=eh(t,si.current);Pf(t,r),s=MS(null,t,n,e,s,r);var i=RS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$i(n)?(i=!0,_b(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ES(t),s.updater=Bv,t.stateNode=s,s._reactInternals=t,O_(t,n,e,r),t=z_(null,t,n,!0,i,r)):(t.tag=0,gn&&i&&_S(t),di(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(My(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=tse(n),e=qa(n,e),s){case 0:t=L_(null,t,n,e,r);break e;case 1:t=qC(null,t,n,e,r);break e;case 11:t=VC(null,t,n,e,r);break e;case 14:t=WC(null,t,n,qa(n.type,e),r);break e}throw Error(Ye(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qa(n,s),L_(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qa(n,s),qC(e,t,n,s,r);case 3:e:{if(c$(t),e===null)throw Error(Ye(387));n=t.pendingProps,i=t.memoizedState,s=i.element,$R(e,t),Cb(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=sh(Error(Ye(423)),t),t=HC(e,t,n,r,s);break e}else if(n!==s){s=sh(Error(Ye(424)),t),t=HC(e,t,n,r,s);break e}else for(Hi=Nc(t.stateNode.containerInfo.firstChild),Gi=t,gn=!0,Qa=null,r=MR(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(th(),n===s){t=Pl(e,t,r);break e}di(e,t,n,r)}t=t.child}return t;case 5:return OR(t),e===null&&M_(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,E_(n,s)?a=null:i!==null&&E_(n,i)&&(t.flags|=32),l$(e,t),di(e,t,a,r),t.child;case 6:return e===null&&M_(t),null;case 13:return u$(e,t,r);case 4:return AS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=rh(t,null,n,r):di(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qa(n,s),VC(e,t,n,s,r);case 7:return di(e,t,t.pendingProps,r),t.child;case 8:return di(e,t,t.pendingProps.children,r),t.child;case 12:return di(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,en(jb,n._currentValue),n._currentValue=a,i!==null)if(ao(i.value,a)){if(i.children===s.children&&!Ri.current){t=Pl(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=vl(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),R_(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ye(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),R_(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}di(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Pf(t,r),s=Pa(s),n=n(s),t.flags|=1,di(e,t,n,r),t.child;case 14:return n=t.type,s=qa(n,t.pendingProps),s=qa(n.type,s),WC(e,t,n,s,r);case 15:return a$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qa(n,s),My(e,t),t.tag=1,$i(n)?(e=!0,_b(t)):e=!1,Pf(t,r),n$(t,n,s),O_(t,n,s,r),z_(null,t,n,!0,e,r);case 19:return d$(e,t,r);case 22:return o$(e,t,r)}throw Error(Ye(156,t.tag))};function C$(e,t){return eR(e,t)}function ese(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(e,t,r,n){return new ese(e,t,r,n)}function qS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tse(e){if(typeof e=="function")return qS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uS)return 11;if(e===dS)return 14}return 2}function Ac(e,t){var r=e.alternate;return r===null?(r=ja(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Oy(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")qS(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case of:return Ju(r.children,s,i,t);case cS:a=8,s|=8;break;case o_:return e=ja(12,r,t,s|2),e.elementType=o_,e.lanes=i,e;case l_:return e=ja(13,r,t,s),e.elementType=l_,e.lanes=i,e;case c_:return e=ja(19,r,t,s),e.elementType=c_,e.lanes=i,e;case OM:return Wv(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case RM:a=10;break e;case $M:a=9;break e;case uS:a=11;break e;case dS:a=14;break e;case ic:a=16,n=null;break e}throw Error(Ye(130,e==null?e:typeof e,""))}return t=ja(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ju(e,t,r,n){return e=ja(7,e,n,t),e.lanes=r,e}function Wv(e,t,r,n){return e=ja(22,e,n,t),e.elementType=OM,e.lanes=r,e.stateNode={isHidden:!1},e}function kw(e,t,r){return e=ja(6,e,null,t),e.lanes=r,e}function Sw(e,t,r){return t=ja(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rse(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sw(0),this.expirationTimes=sw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sw(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function HS(e,t,r,n,s,i,a,o,u){return e=new rse(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ja(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ES(i),e}function nse(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:af,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function T$(e){if(!e)return Hc;e=e._reactInternals;e:{if(Id(e)!==e||e.tag!==1)throw Error(Ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($i(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ye(171))}if(e.tag===1){var r=e.type;if($i(r))return TR(e,r,t)}return t}function E$(e,t,r,n,s,i,a,o,u){return e=HS(r,n,!0,e,s,i,a,o,u),e.context=T$(null),r=e.current,n=bi(),s=Ec(r),i=vl(n,s),i.callback=t??null,Cc(r,i,s),e.current.lanes=s,wg(e,s,n),Oi(e,n),e}function qv(e,t,r,n){var s=t.current,i=bi(),a=Ec(s);return r=T$(r),t.context===null?t.context=r:t.pendingContext=r,t=vl(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Cc(s,t,a),e!==null&&(no(e,s,a,i),Py(e,s,a)),a}function Rb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function r8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function KS(e,t){r8(e,t),(e=e.alternate)&&r8(e,t)}function sse(){return null}var A$=typeof reportError=="function"?reportError:function(e){console.error(e)};function ZS(e){this._internalRoot=e}Hv.prototype.render=ZS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ye(409));qv(e,t,null,null)};Hv.prototype.unmount=ZS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cd(function(){qv(null,e,null,null)}),t[El]=null}};function Hv(e){this._internalRoot=e}Hv.prototype.unstable_scheduleHydration=function(e){if(e){var t=oR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<oc.length&&t!==0&&t<oc[r].priority;r++);oc.splice(r,0,e),r===0&&cR(e)}};function GS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function n8(){}function ise(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Rb(a);i.call(c)}}var a=E$(t,n,e,0,null,!1,!1,"",n8);return e._reactRootContainer=a,e[El]=a.current,xm(e.nodeType===8?e.parentNode:e),cd(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Rb(u);o.call(c)}}var u=HS(e,0,!1,null,null,!1,!1,"",n8);return e._reactRootContainer=u,e[El]=u.current,xm(e.nodeType===8?e.parentNode:e),cd(function(){qv(t,u,r,n)}),u}function Zv(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=Rb(a);o.call(u)}}qv(t,a,e,s)}else a=ise(r,t,e,s,n);return Rb(a)}iR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ap(t.pendingLanes);r!==0&&(pS(t,r|1),Oi(t,Bn()),(Ir&6)===0&&(ih=Bn()+500,cu()))}break;case 13:cd(function(){var n=Al(e,1);if(n!==null){var s=bi();no(n,e,1,s)}}),KS(e,1)}};mS=function(e){if(e.tag===13){var t=Al(e,134217728);if(t!==null){var r=bi();no(t,e,134217728,r)}KS(e,134217728)}};aR=function(e){if(e.tag===13){var t=Ec(e),r=Al(e,t);if(r!==null){var n=bi();no(r,e,t,n)}KS(e,t)}};oR=function(){return Vr};lR=function(e,t){var r=Vr;try{return Vr=e,t()}finally{Vr=r}};v_=function(e,t,r){switch(t){case"input":if(f_(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Fv(n);if(!s)throw Error(Ye(90));LM(n),f_(n,s)}}}break;case"textarea":BM(e,r);break;case"select":t=r.value,t!=null&&Cf(e,!!r.multiple,t,!1)}};ZM=US;GM=cd;var ase={usingClientEntryPoint:!1,Events:[kg,df,Fv,HM,KM,US]},gp={findFiberByHostInstance:Pu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ose={bundleType:gp.bundleType,version:gp.version,rendererPackageName:gp.rendererPackageName,rendererConfig:gp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=YM(e),e===null?null:e.stateNode},findFiberByHostInstance:gp.findFiberByHostInstance||sse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Y0.isDisabled&&Y0.supportsFiber)try{Mv=Y0.inject(ose),$o=Y0}catch{}}ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ase;ra.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GS(t))throw Error(Ye(200));return nse(e,t,null,r)};ra.createRoot=function(e,t){if(!GS(e))throw Error(Ye(299));var r=!1,n="",s=A$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=HS(e,1,!1,null,null,r,!1,n,s),e[El]=t.current,xm(e.nodeType===8?e.parentNode:e),new ZS(t)};ra.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ye(188)):(e=Object.keys(e).join(","),Error(Ye(268,e)));return e=YM(t),e=e===null?null:e.stateNode,e};ra.flushSync=function(e){return cd(e)};ra.hydrate=function(e,t,r){if(!Kv(t))throw Error(Ye(200));return Zv(null,e,t,!0,r)};ra.hydrateRoot=function(e,t,r){if(!GS(e))throw Error(Ye(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=A$;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=E$(t,null,e,1,r??null,s,!1,i,a),e[El]=t.current,xm(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Hv(t)};ra.render=function(e,t,r){if(!Kv(t))throw Error(Ye(200));return Zv(null,e,t,!1,r)};ra.unmountComponentAtNode=function(e){if(!Kv(e))throw Error(Ye(40));return e._reactRootContainer?(cd(function(){Zv(null,null,e,!1,function(){e._reactRootContainer=null,e[El]=null})}),!0):!1};ra.unstable_batchedUpdates=US;ra.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Kv(r))throw Error(Ye(200));if(e==null||e._reactInternals===void 0)throw Error(Ye(38));return Zv(e,t,r,!1,n)};ra.version="18.3.1-next-f1338f8080-20240426";function P$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P$)}catch(e){console.error(e)}}P$(),PM.exports=ra;var uu=PM.exports;const lse=tS(uu);var I$,s8=uu;I$=s8.createRoot,s8.hydrateRoot;const cse="modulepreload",use=function(e){return"/"+e},i8={},Mr=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");s=Promise.allSettled(r.map(u=>{if(u=use(u),u in i8)return;i8[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":cse,c||(h.as="script"),h.crossOrigin="",h.href=u,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},Y_=(e,t)=>t.some(r=>e instanceof r);let a8,o8;function dse(){return a8||(a8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fse(){return o8||(o8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J_=new WeakMap,jw=new WeakMap,Gv=new WeakMap;function hse(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{r(ed(e.result)),s()},a=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return Gv.set(t,e),t}function pse(e){if(J_.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});J_.set(e,t)}let ek={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return J_.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ed(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function D$(e){ek=e(ek)}function mse(e){return fse().includes(e)?function(...t){return e.apply(tk(this),t),ed(this.request)}:function(...t){return ed(e.apply(tk(this),t))}}function gse(e){return typeof e=="function"?mse(e):(e instanceof IDBTransaction&&pse(e),Y_(e,dse())?new Proxy(e,ek):e)}function ed(e){if(e instanceof IDBRequest)return hse(e);if(jw.has(e))return jw.get(e);const t=gse(e);return t!==e&&(jw.set(e,t),Gv.set(t,e)),t}const tk=e=>Gv.get(e);function yse(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=ed(a);return n&&a.addEventListener("upgradeneeded",u=>{n(ed(a.result),u.oldVersion,u.newVersion,ed(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),o.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const bse=["get","getKey","getAll","getAllKeys","count"],vse=["put","add","delete","clear"],Nw=new Map;function l8(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Nw.get(t))return Nw.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=vse.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||bse.includes(r)))return;const i=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),s&&u.done]))[0]};return Nw.set(t,i),i}D$(e=>({...e,get:(t,r,n)=>l8(t,r)||e.get(t,r,n),has:(t,r)=>!!l8(t,r)||e.has(t,r)}));const xse=["continue","continuePrimaryKey","advance"],c8={},rk=new WeakMap,M$=new WeakMap,wse={get(e,t){if(!xse.includes(t))return e[t];let r=c8[t];return r||(r=c8[t]=function(...n){rk.set(this,M$.get(this)[t](...n))}),r}};async function*_se(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,wse);for(M$.set(r,t),Gv.set(r,tk(t));t;)yield r,t=await(rk.get(r)||t.continue()),rk.delete(r)}function u8(e,t){return t===Symbol.asyncIterator&&Y_(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Y_(e,[IDBIndex,IDBObjectStore])}D$(e=>({...e,get(t,r,n){return u8(t,r)?_se:e.get(t,r,n)},has(t,r){return u8(t,r)||e.has(t,r)}}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var ah;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(ah||(ah={}));class Cw extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const kse=e=>{var t,r;return e?.androidBridge?"android":!((r=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Sse=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},n=r.Plugins=r.Plugins||{},s=()=>t!==null?t.name:kse(e),i=()=>s()!=="web",a=h=>{const f=c.get(h);return!!(f?.platforms.has(s())||o(h))},o=h=>{var f;return(f=r.PluginHeaders)===null||f===void 0?void 0:f.find(p=>p.name===h)},u=h=>e.console.error(h),c=new Map,d=(h,f={})=>{const p=c.get(h);if(p)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),p.proxy;const g=s(),y=o(h);let m;const v=async()=>(!m&&g in f?m=typeof f[g]=="function"?m=await f[g]():m=f[g]:t!==null&&!m&&"web"in f&&(m=typeof f.web=="function"?m=await f.web():m=f.web),m),b=(A,P)=>{var $,V;if(y){const U=y?.methods.find(E=>P===E.name);if(U)return U.rtype==="promise"?E=>r.nativePromise(h,P.toString(),E):(E,I)=>r.nativeCallback(h,P.toString(),E,I);if(A)return($=A[P])===null||$===void 0?void 0:$.bind(A)}else{if(A)return(V=A[P])===null||V===void 0?void 0:V.bind(A);throw new Cw(`"${h}" plugin is not implemented on ${g}`,ah.Unimplemented)}},x=A=>{let P;const $=(...V)=>{const U=v().then(E=>{const I=b(E,A);if(I){const N=I(...V);return P=N?.remove,N}else throw new Cw(`"${h}.${A}()" is not implemented on ${g}`,ah.Unimplemented)});return A==="addListener"&&(U.remove=async()=>P()),U};return $.toString=()=>`${A.toString()}() { [capacitor code] }`,Object.defineProperty($,"name",{value:A,writable:!1,configurable:!1}),$},j=x("addListener"),C=x("removeListener"),R=(A,P)=>{const $=j({eventName:A},P),V=async()=>{const E=await $;C({eventName:A,callbackId:E},P)},U=new Promise(E=>$.then(()=>E({remove:V})));return U.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await V()},U},L=new Proxy({},{get(A,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?R:j;case"removeListener":return C;default:return x(P)}}});return n[h]=L,c.set(h,{name:h,proxy:L,platforms:new Set([...Object.keys(f),...y?[g]:[]])}),L};return r.convertFileSrc||(r.convertFileSrc=h=>h),r.getPlatform=s,r.handleError=u,r.isNativePlatform=i,r.isPluginAvailable=a,r.registerPlugin=d,r.Exception=Cw,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},jse=e=>e.Capacitor=Sse(e),Ho=jse(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),XS=Ho.registerPlugin;class R${constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(t);const a=async()=>this.removeListener(t,r);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,n){const s=this.listeners[t];if(!s){if(n){let i=this.retainedEventArguments[t];i||(i=[]),i.push(r),this.retainedEventArguments[t]=i}return}s.forEach(i=>i(r))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new Ho.Exception(t,ah.Unimplemented)}unavailable(t="not available"){return new Ho.Exception(t,ah.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const s=n.indexOf(r);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const d8=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),f8=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Nse extends R${async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=f8(s).trim(),i=f8(i).trim(),r[s]=i}),r}async setCookie(t){try{const r=d8(t.key),n=d8(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),a=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${i}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}XS("CapacitorCookies",{web:()=>new Nse});const Cse=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(e)}),Tse=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,i,a)=>(s[i]=e[t[a]],s),{})},Ese=(e,t=!0)=>e?Object.entries(e).reduce((n,s)=>{const[i,a]=s;let o,u;return Array.isArray(a)?(u="",a.forEach(c=>{o=t?encodeURIComponent(c):c,u+=`${i}=${o}&`}),u.slice(0,-1)):(o=t?encodeURIComponent(a):a,u=`${i}=${o}`),`${n}&${u}`},"").substr(1):null,Ase=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),s=Tse(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,o]of Object.entries(e.data||{}))i.set(a,o);r.body=i.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((o,u)=>{i.append(u,o)});else for(const o of Object.keys(e.data))i.append(o,e.data[o]);r.body=i;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(s.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class Pse extends R${async request(t){const r=Ase(t,t.webFetchExtra),n=Ese(t.params,t.shouldEncodeUrlParams),s=n?`${t.url}?${n}`:t.url,i=await fetch(s,r),a=i.headers.get("content-type")||"";let{responseType:o="text"}=i.ok?t:{};a.includes("application/json")&&(o="json");let u,c;switch(o){case"arraybuffer":case"blob":c=await i.blob(),u=await Cse(c);break;case"json":u=await i.json();break;case"document":case"text":default:u=await i.text()}const d={};return i.headers.forEach((h,f)=>{d[f]=h}),{data:u,headers:d,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}XS("CapacitorHttp",{web:()=>new Pse});class Ise{constructor(t){this.sqlite=t,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(t){return Promise.reject(t)}}async saveToStore(t){try{return await this.sqlite.saveToStore({database:t}),Promise.resolve()}catch(r){return Promise.reject(r)}}async saveToLocalDisk(t){try{return await this.sqlite.saveToLocalDisk({database:t}),Promise.resolve()}catch(r){return Promise.reject(r)}}async getFromLocalDiskToStore(t){const r=t??!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:r}),Promise.resolve()}catch(n){return Promise.reject(n)}}async echo(t){try{const r=await this.sqlite.echo({value:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isSecretStored(){try{const t=await this.sqlite.isSecretStored();return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async setEncryptionSecret(t){try{return await this.sqlite.setEncryptionSecret({passphrase:t}),Promise.resolve()}catch(r){return Promise.reject(r)}}async changeEncryptionSecret(t,r){try{return await this.sqlite.changeEncryptionSecret({passphrase:t,oldpassphrase:r}),Promise.resolve()}catch(n){return Promise.reject(n)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(t){return Promise.reject(t)}}async checkEncryptionSecret(t){try{const r=await this.sqlite.checkEncryptionSecret({passphrase:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async addUpgradeStatement(t,r){try{return t.endsWith(".db")&&(t=t.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:t,upgrade:r}),Promise.resolve()}catch(n){return Promise.reject(n)}}async createConnection(t,r,n,s,i){try{t.endsWith(".db")&&(t=t.slice(0,-3)),await this.sqlite.createConnection({database:t,encrypted:r,mode:n,version:s,readonly:i});const a=new h8(t,i,this.sqlite),o=i?`RO_${t}`:`RW_${t}`;return this._connectionDict.set(o,a),Promise.resolve(a)}catch(a){return Promise.reject(a)}}async closeConnection(t,r){try{t.endsWith(".db")&&(t=t.slice(0,-3)),await this.sqlite.closeConnection({database:t,readonly:r});const n=r?`RO_${t}`:`RW_${t}`;return this._connectionDict.delete(n),Promise.resolve()}catch(n){return Promise.reject(n)}}async isConnection(t,r){const n={};t.endsWith(".db")&&(t=t.slice(0,-3));const s=r?`RO_${t}`:`RW_${t}`;return n.result=this._connectionDict.has(s),Promise.resolve(n)}async retrieveConnection(t,r){t.endsWith(".db")&&(t=t.slice(0,-3));const n=r?`RO_${t}`:`RW_${t}`;if(this._connectionDict.has(n)){const s=this._connectionDict.get(n);return typeof s<"u"?Promise.resolve(s):Promise.reject(`Connection ${t} is undefined`)}else return Promise.reject(`Connection ${t} does not exist`)}async getNCDatabasePath(t,r){try{const n=await this.sqlite.getNCDatabasePath({path:t,database:r});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async createNCConnection(t,r){try{await this.sqlite.createNCConnection({databasePath:t,version:r});const n=new h8(t,!0,this.sqlite),s=`RO_${t})`;return this._connectionDict.set(s,n),Promise.resolve(n)}catch(n){return Promise.reject(n)}}async closeNCConnection(t){try{await this.sqlite.closeNCConnection({databasePath:t});const r=`RO_${t})`;return this._connectionDict.delete(r),Promise.resolve()}catch(r){return Promise.reject(r)}}async isNCConnection(t){const r={},n=`RO_${t})`;return r.result=this._connectionDict.has(n),Promise.resolve(r)}async retrieveNCConnection(t){if(this._connectionDict.has(t)){const r=`RO_${t})`,n=this._connectionDict.get(r);return typeof n<"u"?Promise.resolve(n):Promise.reject(`Connection ${t} is undefined`)}else return Promise.reject(`Connection ${t} does not exist`)}async isNCDatabase(t){try{const r=await this.sqlite.isNCDatabase({databasePath:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const t=new Map;try{for(const r of this._connectionDict.keys()){const n=r.substring(3),s=r.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:n,readonly:s}),t.set(r,null)}for(const r of t.keys())this._connectionDict.delete(r);return Promise.resolve()}catch(r){return Promise.reject(r)}}async checkConnectionsConsistency(){try{const t=[...this._connectionDict.keys()],r=[],n=[];for(const i of t)r.push(i.substring(0,2)),n.push(i.substring(3));const s=await this.sqlite.checkConnectionsConsistency({dbNames:n,openModes:r});return s.result||(this._connectionDict=new Map),Promise.resolve(s)}catch(t){return this._connectionDict=new Map,Promise.reject(t)}}async importFromJson(t){try{const r=await this.sqlite.importFromJson({jsonstring:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isJsonValid(t){try{const r=await this.sqlite.isJsonValid({jsonstring:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async copyFromAssets(t){const r=t??!0;try{return await this.sqlite.copyFromAssets({overwrite:r}),Promise.resolve()}catch(n){return Promise.reject(n)}}async getFromHTTPRequest(t,r){const n=r??!0;try{return await this.sqlite.getFromHTTPRequest({url:t,overwrite:n}),Promise.resolve()}catch(s){return Promise.reject(s)}}async isDatabaseEncrypted(t){t.endsWith(".db")&&(t=t.slice(0,-3));try{const r=await this.sqlite.isDatabaseEncrypted({database:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isInConfigEncryption(){try{const t=await this.sqlite.isInConfigEncryption();return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isInConfigBiometricAuth(){try{const t=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isDatabase(t){t.endsWith(".db")&&(t=t.slice(0,-3));try{const r=await this.sqlite.isDatabase({database:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async getDatabaseList(){try{const r=(await this.sqlite.getDatabaseList()).values;r.sort();const n={values:r};return Promise.resolve(n)}catch(t){return Promise.reject(t)}}async getMigratableDbList(t){const r=t||"default";try{const n=await this.sqlite.getMigratableDbList({folderPath:r});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async addSQLiteSuffix(t,r){const n=t||"default",s=r||[];try{const i=await this.sqlite.addSQLiteSuffix({folderPath:n,dbNameList:s});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async deleteOldDatabases(t,r){const n=t||"default",s=r||[];try{const i=await this.sqlite.deleteOldDatabases({folderPath:n,dbNameList:s});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async moveDatabasesAndAddSuffix(t,r){const n=t||"default",s=r||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:n,dbNameList:s})}}class h8{constructor(t,r,n){this.dbName=t,this.readonly=r,this.sqlite=n}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async beginTransaction(){try{const t=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async commitTransaction(){try{const t=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async rollbackTransaction(){try{const t=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isTransactionActive(){try{const t=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async loadExtension(t){try{return await this.sqlite.loadExtension({database:this.dbName,path:t,readonly:this.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}}async enableLoadExtension(t){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:t,readonly:this.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}}async getUrl(){try{const t=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async getVersion(){try{const t=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async getTableList(){try{const t=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async execute(t,r=!0,n=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const s=await this.sqlite.execute({database:this.dbName,statements:t,transaction:r,readonly:!1,isSQL92:n});return Promise.resolve(s)}}catch(s){return Promise.reject(s)}}async query(t,r,n=!0){let s;try{return r&&r.length>0?s=await this.sqlite.query({database:this.dbName,statement:t,values:r,readonly:this.readonly,isSQL92:!0}):s=await this.sqlite.query({database:this.dbName,statement:t,values:[],readonly:this.readonly,isSQL92:n}),s=await this.reorderRows(s),Promise.resolve(s)}catch(i){return Promise.reject(i)}}async run(t,r,n=!0,s="no",i=!0){let a;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(r&&r.length>0?a=await this.sqlite.run({database:this.dbName,statement:t,values:r,transaction:n,readonly:!1,returnMode:s,isSQL92:!0}):a=await this.sqlite.run({database:this.dbName,statement:t,values:[],transaction:n,readonly:!1,returnMode:s,isSQL92:i}),a.changes=await this.reorderRows(a.changes),Promise.resolve(a))}catch(o){return Promise.reject(o)}}async executeSet(t,r=!0,n="no",s=!0){let i;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(i=await this.sqlite.executeSet({database:this.dbName,set:t,transaction:r,readonly:!1,returnMode:n,isSQL92:s}),i.changes=await this.reorderRows(i.changes),Promise.resolve(i))}catch(a){return Promise.reject(a)}}async isExists(){try{const t=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isTable(t){try{const r=await this.sqlite.isTableExists({database:this.dbName,table:t,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isDBOpen(){try{const t=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const t=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(t)}}catch(t){return Promise.reject(t)}}async setSyncDate(t){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:t,readonly:!1}),Promise.resolve())}catch(r){return Promise.reject(r)}}async getSyncDate(){try{const t=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let r="";return t.syncDate>0&&(r=new Date(t.syncDate*1e3).toISOString()),Promise.resolve(r)}catch(t){return Promise.reject(t)}}async exportToJson(t,r=!1){try{const n=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:t,readonly:this.readonly,encrypted:r});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}}async executeTransaction(t,r=!0){let n=0,s=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");if(await this.sqlite.beginTransaction({database:this.dbName}),s=await this.sqlite.isTransactionActive({database:this.dbName}),!s)return Promise.reject("After Begin Transaction, no transaction active");try{for(const o of t){if(typeof o!="object"||!("statement"in o))throw new Error("Error a task.statement must be provided");if("values"in o&&o.values&&o.values.length>0){const u=o.statement.toUpperCase().includes("RETURNING")?"all":"no",c=await this.sqlite.run({database:this.dbName,statement:o.statement,values:o.values,transaction:!1,readonly:!1,returnMode:u,isSQL92:r});if(c.changes.changes<0)throw new Error("Error in transaction method run ");n+=c.changes.changes}else{const u=await this.sqlite.execute({database:this.dbName,statements:o.statement,transaction:!1,readonly:!1});if(u.changes.changes<0)throw new Error("Error in transaction method execute ");n+=u.changes.changes}}const i=await this.sqlite.commitTransaction({database:this.dbName});n+=i.changes.changes;const a={changes:{changes:n}};return Promise.resolve(a)}catch(i){const a=i.message?i.message:i;return await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(a)}}async reorderRows(t){const r=t;if(t?.values&&typeof t.values[0]=="object"&&Object.keys(t.values[0]).includes("ios_columns")){const n=t.values[0].ios_columns,s=[];for(let i=1;i<t.values.length;i++){const a=t.values[i],o={};for(const u of n)o[u]=a[u];s.push(o)}r.values=s}return Promise.resolve(r)}}const Dse=XS("CapacitorSQLite",{web:()=>Mr(()=>import("./web-BFBFcfmT.js"),[]).then(e=>new e.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite});class Mse{constructor(){this.db=null,this.dbName="binarjoin_native.db",this._initialized=!1,this._initPromise=null,this.sqlite=new Ise(Dse),this._initPromise=this.initialize().catch(t=>console.error("[SQLite] Auto-Init Failed:",t))}async initialize(){if(!(this._initialized&&this.db||Ho.getPlatform()==="web"))try{let r=!1;try{r=(await this.sqlite.isConnection(this.dbName,!1)).result??!1}catch{r=!1}if(r)this.db=await this.sqlite.retrieveConnection(this.dbName,!1);else try{this.db=await this.sqlite.createConnection(this.dbName,!1,"no-encryption",1,!1)}catch(n){if(n?.message?.includes("already exists"))this.db=await this.sqlite.retrieveConnection(this.dbName,!1);else throw n}await this.db.open(),await this.createTables(),this._initialized=!0}catch(r){throw console.error("[SQLite] Critical Init Error:",r),this.db=null,r}}async waitForReady(){this._initPromise&&await this._initPromise}get isReady(){return this._initialized&&this.db!==null}async createTables(){if(!this.db)return;const t=["users","authUserSessions","emailVerificationTokens","passwordResetTokens","projectTypes","projects","workers","wells","fundTransfers","workerAttendance","suppliers","materials","materialPurchases","supplierPayments","transportationExpenses","workerTransfers","workerBalances","dailyExpenseSummaries","workerTypes","autocompleteData","workerMiscExpenses","printSettings","projectFundTransfers","securityPolicies","securityPolicyImplementations","securityPolicySuggestions","securityPolicyViolations","permissionAuditLogs","userProjectPermissions","materialCategories","wellTasks","wellExpenses","wellAuditLogs","wellTaskAccounts","notifications","notificationReadStates","aiChatSessions","aiChatMessages","aiUsageStats","buildDeployments","reportTemplates","emergencyUsers","syncQueue","syncMetadata","userData","syncHistory","equipment","equipmentMovements"];for(const r of t)await this.db.execute(`
        CREATE TABLE IF NOT EXISTS ${r} (
          id TEXT PRIMARY KEY, 
          data TEXT,
          synced INTEGER DEFAULT 1,
          isLocal INTEGER DEFAULT 0,
          pendingSync INTEGER DEFAULT 0
        );
      `)}async get(t,r){if(!this.db)return null;try{await this.ensureTable(t);const n=await this.db.query(`SELECT data FROM ${t} WHERE id = ?`,[r]);return n.values&&n.values.length>0?JSON.parse(n.values[0].data):null}catch(n){return console.warn(`[SQLite] get ${t}/${r}:`,n),null}}async set(t,r,n){if(this.db)try{await this.ensureTable(t),await this.db.run(`INSERT OR REPLACE INTO ${t} (id, data) VALUES (?, ?)`,[r.toString(),JSON.stringify(n)])}catch(s){console.warn(`[SQLite] set ${t}/${r}:`,s)}}async getAll(t){if(!this.db)return[];try{await this.ensureTable(t);const r=await this.db.query(`SELECT data FROM ${t}`);return r.values?r.values.map(n=>JSON.parse(n.data)):[]}catch(r){return console.warn(`[SQLite] getAll ${t}:`,r),[]}}async delete(t,r){if(this.db)try{await this.ensureTable(t),await this.db.run(`DELETE FROM ${t} WHERE id = ?`,[r])}catch(n){console.warn(`[SQLite] delete ${t}/${r}:`,n)}}async clearTable(t){if(this.db)try{await this.ensureTable(t),await this.db.run(`DELETE FROM ${t}`,[])}catch(r){console.warn(`[SQLite] clearTable ${t}:`,r)}}async count(t){if(!this.db)return 0;try{await this.ensureTable(t);const r=await this.db.query(`SELECT COUNT(*) as cnt FROM ${t}`);return r.values&&r.values.length>0&&r.values[0].cnt||0}catch(r){return console.warn(`[SQLite] count ${t}:`,r),0}}async query(t,r){return(await this.getAll(t)).filter(r)}async ensureTable(t){if(this.db)try{await this.db.execute(`
        CREATE TABLE IF NOT EXISTS ${t} (
          id TEXT PRIMARY KEY,
          data TEXT,
          synced INTEGER DEFAULT 1,
          isLocal INTEGER DEFAULT 0,
          pendingSync INTEGER DEFAULT 0
        );
      `)}catch{}}}const oo=new Mse;async function $$(){const e=Ho.getPlatform();if(e==="android"||e==="ios")try{console.log(" [DB]    SQLite ...");const t=oo.waitForReady(),r=new Promise((n,s)=>setTimeout(()=>s(new Error("SQLite Initialization Timeout")),5e3));return await Promise.race([t,r]),console.log(" [DB]    SQLite "),oo}catch(t){return console.error(" SQLite Engine Critical Failure, falling back to IDB:",t),xa||(xa=await ud()),xa}return xa||(xa=await ud()),xa}let xa=null;const Rse=["users","authUserSessions","emailVerificationTokens","passwordResetTokens","projectTypes","projects","workers","wells","fundTransfers","workerAttendance","suppliers","materials","materialPurchases","supplierPayments","transportationExpenses","workerTransfers","workerBalances","dailyExpenseSummaries","workerTypes","autocompleteData","workerMiscExpenses","printSettings","projectFundTransfers","securityPolicies","securityPolicyImplementations","securityPolicySuggestions","securityPolicyViolations","permissionAuditLogs","userProjectPermissions","materialCategories","wellTasks","wellExpenses","wellAuditLogs","wellTaskAccounts","notifications","notificationReadStates","aiChatSessions","aiChatMessages","aiUsageStats","buildDeployments","reportTemplates","backupLogs","backupSettings","emergencyUsers","syncQueue","syncMetadata","userData","syncHistory","deadLetterQueue","localAuditLog"];async function ud(){if(xa)return xa;try{xa=await yse("binarjoin-db",14,{upgrade(e,t,r){console.log(`[DB] Upgrading from ${t} to ${r}`);for(const n of Rse)if(!e.objectStoreNames.contains(n))if(n==="syncQueue"){const s=e.createObjectStore(n,{keyPath:"id"});s.createIndex("timestamp","timestamp"),s.createIndex("action","action"),s.createIndex("status","status")}else if(n==="syncHistory"){const s=e.createObjectStore(n,{keyPath:"id"});s.createIndex("timestamp","timestamp"),s.createIndex("status","status")}else if(n==="userData")e.createObjectStore(n,{keyPath:"id"}).createIndex("type","type");else if(n==="syncMetadata")e.createObjectStore(n,{keyPath:"key"});else if(n==="deadLetterQueue"){const s=e.createObjectStore(n,{keyPath:"id"});s.createIndex("movedAt","movedAt"),s.createIndex("errorType","errorType")}else if(n==="localAuditLog"){const s=e.createObjectStore(n,{keyPath:"id"});s.createIndex("timestamp","timestamp"),s.createIndex("sequence","sequence"),s.createIndex("entityType","entityType")}else{const s=e.createObjectStore(n,{keyPath:"id"});try{s.createIndex("synced","synced"),s.createIndex("_pendingSync","_pendingSync")}catch{}}}})}catch(e){throw console.error("[DB] Critical initialization error:",e),e}return xa}async function $se(){const e=Ho.getPlatform();if(e==="android"||e==="ios"){const t=await $$();if(t)return t}return xa||await ud()}async function Fy(e,t,r,n){const{smartPut:s,smartDelete:i,smartAdd:a}=await Mr(async()=>{const{smartPut:d,smartDelete:h,smartAdd:f}=await Promise.resolve().then(()=>Am);return{smartPut:d,smartDelete:h,smartAdd:f}},void 0),o=r.id||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2)),u={...r,id:o,_isLocal:!0,_pendingSync:!0};t==="delete"?await i(e,o):await s(e,u);const c=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2);return await a("syncQueue",{id:c,action:t,endpoint:n,payload:u,timestamp:Date.now(),retries:0}),u}async function nk(e){const{smartGetAll:t}=await Mr(async()=>{const{smartGetAll:n}=await Promise.resolve().then(()=>Am);return{smartGetAll:n}},void 0);return(await t(e)).sort((n,s)=>{const i=new Date(n.createdAt||0).getTime();return new Date(s.createdAt||0).getTime()-i})}const Ose=Object.freeze(Object.defineProperty({__proto__:null,getDB:$se,getListLocal:nk,getSmartStorage:$$,initializeDB:ud,performLocalOperation:Fy},Symbol.toStringTag,{value:"Module"}));function Fse(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,i,a=[],o="",u=e.split("/");for(u[0]||u.shift();s=u.shift();)r=s[0],r==="*"?(a.push(r),o+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~n?n:~i?i:s.length)),o+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+s.substring(i))):o+="/"+s;return{keys:a,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}var O$={exports:{}},F$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=T;function Lse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zse=typeof Object.is=="function"?Object.is:Lse,Bse=oh.useState,Use=oh.useEffect,Vse=oh.useLayoutEffect,Wse=oh.useDebugValue;function qse(e,t){var r=t(),n=Bse({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return Vse(function(){s.value=r,s.getSnapshot=t,Tw(s)&&i({inst:s})},[e,r,t]),Use(function(){return Tw(s)&&i({inst:s}),e(function(){Tw(s)&&i({inst:s})})},[e]),Wse(r),r}function Tw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zse(e,r)}catch{return!0}}function Hse(e,t){return t()}var Kse=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Hse:qse;F$.useSyncExternalStore=oh.useSyncExternalStore!==void 0?oh.useSyncExternalStore:Kse;O$.exports=F$;var Zse=O$.exports;const Gse=Dv.useInsertionEffect,Xse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L$=Xse?T.useLayoutEffect:T.useEffect,Qse=Gse||L$,QS=e=>{const t=T.useRef([e,(...r)=>t[0](...r)]).current;return Qse(()=>{t[0]=e}),t[1]},Yse="popstate",YS="pushState",JS="replaceState",Jse="hashchange",p8=[Yse,YS,JS,Jse],eie=e=>{for(const t of p8)addEventListener(t,e);return()=>{for(const t of p8)removeEventListener(t,e)}},z$=(e,t)=>Zse.useSyncExternalStore(eie,e,t),m8=()=>location.search,tie=({ssrSearch:e}={})=>z$(m8,e!=null?()=>e:m8),g8=()=>location.pathname,rie=({ssrPath:e}={})=>z$(g8,e!=null?()=>e:g8),nie=(e,{replace:t=!1,state:r=null}={})=>history[t?JS:YS](r,"",e),sie=(e={})=>[rie(e),nie],y8=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[y8]>"u"){for(const e of[YS,JS]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,y8,{value:!0})}const iie=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",B$=(e="")=>e==="/"?"":e,aie=(e,t)=>e[0]==="~"?e.slice(1):B$(t)+e,oie=(e="",t)=>iie(b8(B$(e)),b8(t)),b8=e=>{try{return decodeURI(e)}catch{return e}},U$={hook:sie,searchHook:tie,parser:Fse,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,r)=>e(t,r)},V$=T.createContext(U$),Mh=()=>T.useContext(V$),W$={},q$=T.createContext(W$),lie=()=>T.useContext(q$),jg=e=>{const[t,r]=e.hook(e);return[oie(e.base,t),QS((n,s)=>e.aroundNav(r,aie(n,e.base),s))]},fs=()=>jg(Mh()),H$=(e,t,r,n)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),a=s.exec(r)||[],[o,...u]=a;return o!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((h,f)=>[h,u[f]])):a.groups;let d={...u};return c&&Object.assign(d,c),d})(),...n?[o]:[]]:[!1,null]},cie=({children:e,...t})=>{const r=Mh(),n=t.hook?U$:r;let s=n;const[i,a=t.ssrSearch??""]=t.ssrPath?.split("?")??[];i&&(t.ssrSearch=a,t.ssrPath=i),t.hrefs=t.hrefs??t.hook?.hrefs,t.searchHook=t.searchHook??t.hook?.searchHook;let o=T.useRef({}),u=o.current,c=u;for(let d in n){const h=d==="base"?n[d]+(t[d]??""):t[d]??n[d];u===c&&h!==c[d]&&(o.current=c={...c}),c[d]=h,(h!==n[d]||h!==s[d])&&(s=c)}return T.createElement(V$.Provider,{value:s,children:e})},v8=({children:e,component:t},r)=>t?T.createElement(t,{params:r}):typeof e=="function"?e(r):e,uie=e=>{let t=T.useRef(W$);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,s])=>s!==r[n])?e:r},Yt=({path:e,nest:t,match:r,...n})=>{const s=Mh(),[i]=jg(s),[a,o,u]=r??H$(s.parser,e,i,t),c=uie({...lie(),...o});if(!a)return null;const d=u?T.createElement(cie,{base:u},v8(n,c)):v8(n,c);return T.createElement(q$.Provider,{value:c,children:d})};T.forwardRef((e,t)=>{const r=Mh(),[n,s]=jg(r),{to:i="",href:a=i,onClick:o,asChild:u,children:c,className:d,replace:h,state:f,transition:p,...g}=e,y=QS(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(o?.(v),v.defaultPrevented||(v.preventDefault(),s(a,e)))}),m=r.hrefs(a[0]==="~"?a.slice(1):r.base+a,r);return u&&T.isValidElement(c)?T.cloneElement(c,{onClick:y,href:m}):T.createElement("a",{...g,onClick:y,href:m,className:d?.call?d(n===a):d,children:c,ref:t})});const K$=e=>Array.isArray(e)?e.flatMap(t=>K$(t&&t.type===T.Fragment?t.props.children:t)):[e],Z$=({children:e,location:t})=>{const r=Mh(),[n]=jg(r);for(const s of K$(e)){let i=0;if(T.isValidElement(s)&&(i=H$(r.parser,s.props.path,t||n,s.props.nest))[0])return T.cloneElement(s,{match:i})}return null},$b=e=>{const{to:t,href:r=t}=e,n=Mh(),[,s]=jg(n),i=QS(()=>s(t||r,e)),{ssrContext:a}=n;return L$(()=>{i()},[]),a&&(a.redirectTo=t),null};var Rh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},die={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},uc,eS,yP,fie=(yP=class{constructor(){At(this,uc,die);At(this,eS,!1)}setTimeoutProvider(e){ct(this,uc,e)}setTimeout(e,t){return ye(this,uc).setTimeout(e,t)}clearTimeout(e){ye(this,uc).clearTimeout(e)}setInterval(e,t){return ye(this,uc).setInterval(e,t)}clearInterval(e){ye(this,uc).clearInterval(e)}},uc=new WeakMap,eS=new WeakMap,yP),Mu=new fie;function hie(e){setTimeout(e,0)}var dd=typeof window>"u"||"Deno"in globalThis;function fi(){}function pie(e,t){return typeof e=="function"?e(t):e}function sk(e){return typeof e=="number"&&e>=0&&e!==1/0}function G$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pc(e,t){return typeof e=="function"?e(t):e}function ya(e,t){return typeof e=="function"?e(t):e}function x8(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==ej(a,t.options))return!1}else if(!Em(t.queryKey,a))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function w8(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(fd(t.options.mutationKey)!==fd(i))return!1}else if(!Em(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function ej(e,t){return(t?.queryKeyHashFn||fd)(e)}function fd(e){return JSON.stringify(e,(t,r)=>ik(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Em(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Em(e[r],t[r])):!1}var mie=Object.prototype.hasOwnProperty;function X$(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=_8(e)&&_8(t);if(!n&&!(ik(e)&&ik(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,u=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const h=n?d:a[d],f=e[h],p=t[h];if(f===p){u[h]=f,(n?d<i:mie.call(e,h))&&c++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){u[h]=p;continue}const g=X$(f,p,r+1);u[h]=g,g===f&&c++}return i===o&&c===i?e:u}function Ob(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function _8(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ik(e){if(!k8(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!k8(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function k8(e){return Object.prototype.toString.call(e)==="[object Object]"}function gie(e){return new Promise(t=>{Mu.setTimeout(t,e)})}function ak(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?X$(e,t):t}function yie(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function bie(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var tj=Symbol();function Q$(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===tj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function rj(e,t){return typeof e=="function"?e(...t):!!e}function vie(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Vu,dc,Bf,bP,xie=(bP=class extends Rh{constructor(){super();At(this,Vu);At(this,dc);At(this,Bf);ct(this,Bf,t=>{if(!dd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ye(this,dc)||this.setEventListener(ye(this,Bf))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,dc))==null||t.call(this),ct(this,dc,void 0))}setEventListener(t){var r;ct(this,Bf,t),(r=ye(this,dc))==null||r.call(this),ct(this,dc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ye(this,Vu)!==t&&(ct(this,Vu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){return typeof ye(this,Vu)=="boolean"?ye(this,Vu):globalThis.document?.visibilityState!=="hidden"}},Vu=new WeakMap,dc=new WeakMap,Bf=new WeakMap,bP),nj=new xie;function ok(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var wie=hie;function _ie(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=wie;const i=o=>{t?e.push(o):s(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||a()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var ss=_ie(),Uf,fc,Vf,vP,kie=(vP=class extends Rh{constructor(){super();At(this,Uf,!0);At(this,fc);At(this,Vf);ct(this,Vf,t=>{if(!dd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ye(this,fc)||this.setEventListener(ye(this,Vf))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,fc))==null||t.call(this),ct(this,fc,void 0))}setEventListener(t){var r;ct(this,Vf,t),(r=ye(this,fc))==null||r.call(this),ct(this,fc,t(this.setOnline.bind(this)))}setOnline(t){ye(this,Uf)!==t&&(ct(this,Uf,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ye(this,Uf)}},Uf=new WeakMap,fc=new WeakMap,Vf=new WeakMap,vP),Fb=new kie;function Sie(e){return Math.min(1e3*2**e,3e4)}function Y$(e){return(e??"online")==="online"?Fb.isOnline():!0}var lk=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function J$(e){let t=!1,r=0,n;const s=ok(),i=()=>s.status!=="pending",a=y=>{if(!i()){const m=new lk(y);f(m),e.onCancel?.(m)}},o=()=>{t=!0},u=()=>{t=!1},c=()=>nj.isFocused()&&(e.networkMode==="always"||Fb.isOnline())&&e.canRun(),d=()=>Y$(e.networkMode)&&e.canRun(),h=y=>{i()||(n?.(),s.resolve(y))},f=y=>{i()||(n?.(),s.reject(y))},p=()=>new Promise(y=>{n=m=>{(i()||c())&&y(m)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),g=()=>{if(i())return;let y;const m=r===0?e.initialPromise:void 0;try{y=m??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(h).catch(v=>{if(i())return;const b=e.retry??(dd?0:3),x=e.retryDelay??Sie,j=typeof x=="function"?x(r,v):x,C=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,v);if(t||!C){f(v);return}r++,e.onFail?.(r,v),gie(j).then(()=>c()?void 0:p()).then(()=>{t?f(v):g()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n?.(),s),cancelRetry:o,continueRetry:u,canStart:d,start:()=>(d()?g():p().then(g),s)}}var Wu,xP,eO=(xP=class{constructor(){At(this,Wu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sk(this.gcTime)&&ct(this,Wu,Mu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(dd?1/0:300*1e3))}clearGcTimeout(){ye(this,Wu)&&(Mu.clearTimeout(ye(this,Wu)),ct(this,Wu,void 0))}},Wu=new WeakMap,xP),qu,Wf,ma,Hu,ps,mg,Ku,Ha,il,wP,jie=(wP=class extends eO{constructor(t){super();At(this,Ha);At(this,qu);At(this,Wf);At(this,ma);At(this,Hu);At(this,ps);At(this,mg);At(this,Ku);ct(this,Ku,!1),ct(this,mg,t.defaultOptions),this.setOptions(t.options),this.observers=[],ct(this,Hu,t.client),ct(this,ma,ye(this,Hu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ct(this,qu,j8(this.options)),this.state=t.state??ye(this,qu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return ye(this,ps)?.promise}setOptions(t){if(this.options={...ye(this,mg),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=j8(this.options);r.data!==void 0&&(this.setState(S8(r.data,r.dataUpdatedAt)),ct(this,qu,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ye(this,ma).remove(this)}setData(t,r){const n=ak(this.state.data,t,this.options);return ur(this,Ha,il).call(this,{data:n,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),n}setState(t,r){ur(this,Ha,il).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){const r=ye(this,ps)?.promise;return ye(this,ps)?.cancel(t),r?r.then(fi).catch(fi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ye(this,qu))}isActive(){return this.observers.some(t=>ya(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Pc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!G$(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),ye(this,ps)?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),ye(this,ps)?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ye(this,ma).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ye(this,ps)&&(ye(this,Ku)?ye(this,ps).cancel({revert:!0}):ye(this,ps).cancelRetry()),this.scheduleGc()),ye(this,ma).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ur(this,Ha,il).call(this,{type:"invalidate"})}async fetch(t,r){if(this.state.fetchStatus!=="idle"&&ye(this,ps)?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(ye(this,ps))return ye(this,ps).continueRetry(),ye(this,ps).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(c=>c.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,s=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(ct(this,Ku,!0),n.signal)})},i=()=>{const u=Q$(this.options,r),d=(()=>{const h={client:ye(this,Hu),queryKey:this.queryKey,meta:this.meta};return s(h),h})();return ct(this,Ku,!1),this.options.persister?this.options.persister(u,d,this):u(d)},o=(()=>{const u={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ye(this,Hu),state:this.state,fetchFn:i};return s(u),u})();this.options.behavior?.onFetch(o,this),ct(this,Wf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&ur(this,Ha,il).call(this,{type:"fetch",meta:o.fetchOptions?.meta}),ct(this,ps,J$({initialPromise:r?.initialPromise,fn:o.fetchFn,onCancel:u=>{u instanceof lk&&u.revert&&this.setState({...ye(this,Wf),fetchStatus:"idle"}),n.abort()},onFail:(u,c)=>{ur(this,Ha,il).call(this,{type:"failed",failureCount:u,error:c})},onPause:()=>{ur(this,Ha,il).call(this,{type:"pause"})},onContinue:()=>{ur(this,Ha,il).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const u=await ye(this,ps).start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),ye(this,ma).config.onSuccess?.(u,this),ye(this,ma).config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof lk){if(u.silent)return ye(this,ps).promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw ur(this,Ha,il).call(this,{type:"error",error:u}),ye(this,ma).config.onError?.(u,this),ye(this,ma).config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}},qu=new WeakMap,Wf=new WeakMap,ma=new WeakMap,Hu=new WeakMap,ps=new WeakMap,mg=new WeakMap,Ku=new WeakMap,Ha=new WeakSet,il=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tO(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...S8(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ct(this,Wf,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ss.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ye(this,ma).notify({query:this,type:"updated",action:t})})},wP);function tO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function S8(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function j8(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ji,jr,gg,ci,Zu,qf,fl,hc,yg,Hf,Kf,Gu,Xu,pc,Zf,Lr,Ip,ck,uk,dk,fk,hk,pk,mk,rO,_P,Nie=(_P=class extends Rh{constructor(t,r){super();At(this,Lr);At(this,ji);At(this,jr);At(this,gg);At(this,ci);At(this,Zu);At(this,qf);At(this,fl);At(this,hc);At(this,yg);At(this,Hf);At(this,Kf);At(this,Gu);At(this,Xu);At(this,pc);At(this,Zf,new Set);this.options=r,ct(this,ji,t),ct(this,hc,null),ct(this,fl,ok()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ye(this,jr).addObserver(this),N8(ye(this,jr),this.options)?ur(this,Lr,Ip).call(this):this.updateResult(),ur(this,Lr,fk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gk(ye(this,jr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gk(ye(this,jr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ur(this,Lr,hk).call(this),ur(this,Lr,pk).call(this),ye(this,jr).removeObserver(this)}setOptions(t){const r=this.options,n=ye(this,jr);if(this.options=ye(this,ji).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ya(this.options.enabled,ye(this,jr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ur(this,Lr,mk).call(this),ye(this,jr).setOptions(this.options),r._defaulted&&!Ob(this.options,r)&&ye(this,ji).getQueryCache().notify({type:"observerOptionsUpdated",query:ye(this,jr),observer:this});const s=this.hasListeners();s&&C8(ye(this,jr),n,this.options,r)&&ur(this,Lr,Ip).call(this),this.updateResult(),s&&(ye(this,jr)!==n||ya(this.options.enabled,ye(this,jr))!==ya(r.enabled,ye(this,jr))||Pc(this.options.staleTime,ye(this,jr))!==Pc(r.staleTime,ye(this,jr)))&&ur(this,Lr,ck).call(this);const i=ur(this,Lr,uk).call(this);s&&(ye(this,jr)!==n||ya(this.options.enabled,ye(this,jr))!==ya(r.enabled,ye(this,jr))||i!==ye(this,pc))&&ur(this,Lr,dk).call(this,i)}getOptimisticResult(t){const r=ye(this,ji).getQueryCache().build(ye(this,ji),t),n=this.createResult(r,t);return Tie(this,n)&&(ct(this,ci,n),ct(this,qf,this.options),ct(this,Zu,ye(this,jr).state)),n}getCurrentResult(){return ye(this,ci)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&ye(this,fl).status==="pending"&&ye(this,fl).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){ye(this,Zf).add(t)}getCurrentQuery(){return ye(this,jr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ye(this,ji).defaultQueryOptions(t),n=ye(this,ji).getQueryCache().build(ye(this,ji),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ur(this,Lr,Ip).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ye(this,ci)))}createResult(t,r){const n=ye(this,jr),s=this.options,i=ye(this,ci),a=ye(this,Zu),o=ye(this,qf),c=t!==n?t.state:ye(this,gg),{state:d}=t;let h={...d},f=!1,p;if(r._optimisticResults){const P=this.hasListeners(),$=!P&&N8(t,r),V=P&&C8(t,n,r,s);($||V)&&(h={...h,...tO(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:m}=h;p=h.data;let v=!1;if(r.placeholderData!==void 0&&p===void 0&&m==="pending"){let P;i?.isPlaceholderData&&r.placeholderData===o?.placeholderData?(P=i.data,v=!0):P=typeof r.placeholderData=="function"?r.placeholderData(ye(this,Kf)?.state.data,ye(this,Kf)):r.placeholderData,P!==void 0&&(m="success",p=ak(i?.data,P,r),f=!0)}if(r.select&&p!==void 0&&!v)if(i&&p===a?.data&&r.select===ye(this,yg))p=ye(this,Hf);else try{ct(this,yg,r.select),p=r.select(p),p=ak(i?.data,p,r),ct(this,Hf,p),ct(this,hc,null)}catch(P){ct(this,hc,P)}ye(this,hc)&&(g=ye(this,hc),p=ye(this,Hf),y=Date.now(),m="error");const b=h.fetchStatus==="fetching",x=m==="pending",j=m==="error",C=x&&b,R=p!==void 0,A={status:m,fetchStatus:h.fetchStatus,isPending:x,isSuccess:m==="success",isError:j,isInitialLoading:C,isLoading:C,data:p,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:j&&!R,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&R,isStale:sj(t,r),refetch:this.refetch,promise:ye(this,fl),isEnabled:ya(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=A.data!==void 0,$=A.status==="error"&&!P,V=I=>{$?I.reject(A.error):P&&I.resolve(A.data)},U=()=>{const I=ct(this,fl,A.promise=ok());V(I)},E=ye(this,fl);switch(E.status){case"pending":t.queryHash===n.queryHash&&V(E);break;case"fulfilled":($||A.data!==E.value)&&U();break;case"rejected":(!$||A.error!==E.reason)&&U();break}}return A}updateResult(){const t=ye(this,ci),r=this.createResult(ye(this,jr),this.options);if(ct(this,Zu,ye(this,jr).state),ct(this,qf,this.options),ye(this,Zu).data!==void 0&&ct(this,Kf,ye(this,jr)),Ob(r,t))return;ct(this,ci,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!ye(this,Zf).size)return!0;const a=new Set(i??ye(this,Zf));return this.options.throwOnError&&a.add("error"),Object.keys(ye(this,ci)).some(o=>{const u=o;return ye(this,ci)[u]!==t[u]&&a.has(u)})};ur(this,Lr,rO).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ur(this,Lr,fk).call(this)}},ji=new WeakMap,jr=new WeakMap,gg=new WeakMap,ci=new WeakMap,Zu=new WeakMap,qf=new WeakMap,fl=new WeakMap,hc=new WeakMap,yg=new WeakMap,Hf=new WeakMap,Kf=new WeakMap,Gu=new WeakMap,Xu=new WeakMap,pc=new WeakMap,Zf=new WeakMap,Lr=new WeakSet,Ip=function(t){ur(this,Lr,mk).call(this);let r=ye(this,jr).fetch(this.options,t);return t?.throwOnError||(r=r.catch(fi)),r},ck=function(){ur(this,Lr,hk).call(this);const t=Pc(this.options.staleTime,ye(this,jr));if(dd||ye(this,ci).isStale||!sk(t))return;const n=G$(ye(this,ci).dataUpdatedAt,t)+1;ct(this,Gu,Mu.setTimeout(()=>{ye(this,ci).isStale||this.updateResult()},n))},uk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ye(this,jr)):this.options.refetchInterval)??!1},dk=function(t){ur(this,Lr,pk).call(this),ct(this,pc,t),!(dd||ya(this.options.enabled,ye(this,jr))===!1||!sk(ye(this,pc))||ye(this,pc)===0)&&ct(this,Xu,Mu.setInterval(()=>{(this.options.refetchIntervalInBackground||nj.isFocused())&&ur(this,Lr,Ip).call(this)},ye(this,pc)))},fk=function(){ur(this,Lr,ck).call(this),ur(this,Lr,dk).call(this,ur(this,Lr,uk).call(this))},hk=function(){ye(this,Gu)&&(Mu.clearTimeout(ye(this,Gu)),ct(this,Gu,void 0))},pk=function(){ye(this,Xu)&&(Mu.clearInterval(ye(this,Xu)),ct(this,Xu,void 0))},mk=function(){const t=ye(this,ji).getQueryCache().build(ye(this,ji),this.options);if(t===ye(this,jr))return;const r=ye(this,jr);ct(this,jr,t),ct(this,gg,t.state),this.hasListeners()&&(r?.removeObserver(this),t.addObserver(this))},rO=function(t){ss.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ye(this,ci))}),ye(this,ji).getQueryCache().notify({query:ye(this,jr),type:"observerResultsUpdated"})})},_P);function Cie(e,t){return ya(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function N8(e,t){return Cie(e,t)||e.state.data!==void 0&&gk(e,t,t.refetchOnMount)}function gk(e,t,r){if(ya(t.enabled,e)!==!1&&Pc(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&sj(e,t)}return!1}function C8(e,t,r,n){return(e!==t||ya(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&sj(e,r)}function sj(e,t){return ya(t.enabled,e)!==!1&&e.isStaleByTime(Pc(t.staleTime,e))}function Tie(e,t){return!Ob(e.getCurrentResult(),t)}function T8(e){return{onFetch:(t,r)=>{const n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let d=!1;const h=g=>{vie(g,()=>t.signal,()=>d=!0)},f=Q$(t.options,t.fetchOptions),p=async(g,y,m)=>{if(d)return Promise.reject();if(y==null&&g.pages.length)return Promise.resolve(g);const b=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:y,direction:m?"backward":"forward",meta:t.options.meta};return h(R),R})(),x=await f(b),{maxPages:j}=t.options,C=m?bie:yie;return{pages:C(g.pages,x,j),pageParams:C(g.pageParams,y,j)}};if(s&&i.length){const g=s==="backward",y=g?Eie:E8,m={pages:i,pageParams:a},v=y(n,m);o=await p(m,v,g)}else{const g=e??i.length;do{const y=u===0?a[0]??n.initialPageParam:E8(n,o);if(u>0&&y==null)break;o=await p(o,y),u++}while(u<g)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function E8(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Eie(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var bg,jo,Ks,Qu,No,rc,kP,Aie=(kP=class extends eO{constructor(t){super();At(this,No);At(this,bg);At(this,jo);At(this,Ks);At(this,Qu);ct(this,bg,t.client),this.mutationId=t.mutationId,ct(this,Ks,t.mutationCache),ct(this,jo,[]),this.state=t.state||nO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ye(this,jo).includes(t)||(ye(this,jo).push(t),this.clearGcTimeout(),ye(this,Ks).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ct(this,jo,ye(this,jo).filter(r=>r!==t)),this.scheduleGc(),ye(this,Ks).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ye(this,jo).length||(this.state.status==="pending"?this.scheduleGc():ye(this,Ks).remove(this))}continue(){return ye(this,Qu)?.continue()??this.execute(this.state.variables)}async execute(t){const r=()=>{ur(this,No,rc).call(this,{type:"continue"})},n={client:ye(this,bg),meta:this.options.meta,mutationKey:this.options.mutationKey};ct(this,Qu,J$({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{ur(this,No,rc).call(this,{type:"failed",failureCount:a,error:o})},onPause:()=>{ur(this,No,rc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ye(this,Ks).canRun(this)}));const s=this.state.status==="pending",i=!ye(this,Qu).canStart();try{if(s)r();else{ur(this,No,rc).call(this,{type:"pending",variables:t,isPaused:i}),ye(this,Ks).config.onMutate&&await ye(this,Ks).config.onMutate(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&ur(this,No,rc).call(this,{type:"pending",context:o,variables:t,isPaused:i})}const a=await ye(this,Qu).start();return await ye(this,Ks).config.onSuccess?.(a,t,this.state.context,this,n),await this.options.onSuccess?.(a,t,this.state.context,n),await ye(this,Ks).config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,t,this.state.context,n),ur(this,No,rc).call(this,{type:"success",data:a}),a}catch(a){try{await ye(this,Ks).config.onError?.(a,t,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onError?.(a,t,this.state.context,n)}catch(o){Promise.reject(o)}try{await ye(this,Ks).config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,a,t,this.state.context,n)}catch(o){Promise.reject(o)}throw ur(this,No,rc).call(this,{type:"error",error:a}),a}finally{ye(this,Ks).runNext(this)}}},bg=new WeakMap,jo=new WeakMap,Ks=new WeakMap,Qu=new WeakMap,No=new WeakSet,rc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ss.batch(()=>{ye(this,jo).forEach(n=>{n.onMutationUpdate(t)}),ye(this,Ks).notify({mutation:this,type:"updated",action:t})})},kP);function nO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hl,Ka,vg,SP,Pie=(SP=class extends Rh{constructor(t={}){super();At(this,hl);At(this,Ka);At(this,vg);this.config=t,ct(this,hl,new Set),ct(this,Ka,new Map),ct(this,vg,0)}build(t,r,n){const s=new Aie({client:t,mutationCache:this,mutationId:++R0(this,vg)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){ye(this,hl).add(t);const r=J0(t);if(typeof r=="string"){const n=ye(this,Ka).get(r);n?n.push(t):ye(this,Ka).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ye(this,hl).delete(t)){const r=J0(t);if(typeof r=="string"){const n=ye(this,Ka).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&ye(this,Ka).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=J0(t);if(typeof r=="string"){const s=ye(this,Ka).get(r)?.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){const r=J0(t);return typeof r=="string"?ye(this,Ka).get(r)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ss.batch(()=>{ye(this,hl).forEach(t=>{this.notify({type:"removed",mutation:t})}),ye(this,hl).clear(),ye(this,Ka).clear()})}getAll(){return Array.from(ye(this,hl))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>w8(r,n))}findAll(t={}){return this.getAll().filter(r=>w8(t,r))}notify(t){ss.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ss.batch(()=>Promise.all(t.map(r=>r.continue().catch(fi))))}},hl=new WeakMap,Ka=new WeakMap,vg=new WeakMap,SP);function J0(e){return e.options.scope?.id}var pl,mc,Ni,ml,Cl,Ly,yk,jP,Iie=(jP=class extends Rh{constructor(r,n){super();At(this,Cl);At(this,pl);At(this,mc);At(this,Ni);At(this,ml);ct(this,pl,r),this.setOptions(n),this.bindMethods(),ur(this,Cl,Ly).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){const n=this.options;this.options=ye(this,pl).defaultMutationOptions(r),Ob(this.options,n)||ye(this,pl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ye(this,Ni),observer:this}),n?.mutationKey&&this.options.mutationKey&&fd(n.mutationKey)!==fd(this.options.mutationKey)?this.reset():ye(this,Ni)?.state.status==="pending"&&ye(this,Ni).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||ye(this,Ni)?.removeObserver(this)}onMutationUpdate(r){ur(this,Cl,Ly).call(this),ur(this,Cl,yk).call(this,r)}getCurrentResult(){return ye(this,mc)}reset(){ye(this,Ni)?.removeObserver(this),ct(this,Ni,void 0),ur(this,Cl,Ly).call(this),ur(this,Cl,yk).call(this)}mutate(r,n){return ct(this,ml,n),ye(this,Ni)?.removeObserver(this),ct(this,Ni,ye(this,pl).getMutationCache().build(ye(this,pl),this.options)),ye(this,Ni).addObserver(this),ye(this,Ni).execute(r)}},pl=new WeakMap,mc=new WeakMap,Ni=new WeakMap,ml=new WeakMap,Cl=new WeakSet,Ly=function(){const r=ye(this,Ni)?.state??nO();ct(this,mc,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},yk=function(r){ss.batch(()=>{if(ye(this,ml)&&this.hasListeners()){const n=ye(this,mc).variables,s=ye(this,mc).context,i={client:ye(this,pl),meta:this.options.meta,mutationKey:this.options.mutationKey};if(r?.type==="success"){try{ye(this,ml).onSuccess?.(r.data,n,s,i)}catch(a){Promise.reject(a)}try{ye(this,ml).onSettled?.(r.data,null,n,s,i)}catch(a){Promise.reject(a)}}else if(r?.type==="error"){try{ye(this,ml).onError?.(r.error,n,s,i)}catch(a){Promise.reject(a)}try{ye(this,ml).onSettled?.(void 0,r.error,n,s,i)}catch(a){Promise.reject(a)}}}this.listeners.forEach(n=>{n(ye(this,mc))})})},jP),Co,NP,Die=(NP=class extends Rh{constructor(t={}){super();At(this,Co);this.config=t,ct(this,Co,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??ej(s,r);let a=this.get(i);return a||(a=new jie({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){ye(this,Co).has(t.queryHash)||(ye(this,Co).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ye(this,Co).get(t.queryHash);r&&(t.destroy(),r===t&&ye(this,Co).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ss.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ye(this,Co).get(t)}getAll(){return[...ye(this,Co).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>x8(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>x8(t,n)):r}notify(t){ss.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ss.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ss.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Co=new WeakMap,NP),Dn,gc,yc,Gf,Xf,bc,Qf,Yf,CP,Mie=(CP=class{constructor(e={}){At(this,Dn);At(this,gc);At(this,yc);At(this,Gf);At(this,Xf);At(this,bc);At(this,Qf);At(this,Yf);ct(this,Dn,e.queryCache||new Die),ct(this,gc,e.mutationCache||new Pie),ct(this,yc,e.defaultOptions||{}),ct(this,Gf,new Map),ct(this,Xf,new Map),ct(this,bc,0)}mount(){R0(this,bc)._++,ye(this,bc)===1&&(ct(this,Qf,nj.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,Dn).onFocus())})),ct(this,Yf,Fb.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,Dn).onOnline())})))}unmount(){var e,t;R0(this,bc)._--,ye(this,bc)===0&&((e=ye(this,Qf))==null||e.call(this),ct(this,Qf,void 0),(t=ye(this,Yf))==null||t.call(this),ct(this,Yf,void 0))}isFetching(e){return ye(this,Dn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ye(this,gc).findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return ye(this,Dn).get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ye(this,Dn).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Pc(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ye(this,Dn).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=ye(this,Dn).get(n.queryHash)?.state.data,a=pie(t,i);if(a!==void 0)return ye(this,Dn).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return ss.batch(()=>ye(this,Dn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return ye(this,Dn).get(t.queryHash)?.state}removeQueries(e){const t=ye(this,Dn);ss.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ye(this,Dn);return ss.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ss.batch(()=>ye(this,Dn).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(fi).catch(fi)}invalidateQueries(e,t={}){return ss.batch(()=>(ye(this,Dn).findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ss.batch(()=>ye(this,Dn).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(fi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(fi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ye(this,Dn).build(this,t);return r.isStaleByTime(Pc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fi).catch(fi)}fetchInfiniteQuery(e){return e.behavior=T8(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fi).catch(fi)}ensureInfiniteQueryData(e){return e.behavior=T8(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Fb.isOnline()?ye(this,gc).resumePausedMutations():Promise.resolve()}getQueryCache(){return ye(this,Dn)}getMutationCache(){return ye(this,gc)}getDefaultOptions(){return ye(this,yc)}setDefaultOptions(e){ct(this,yc,e)}setQueryDefaults(e,t){ye(this,Gf).set(fd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ye(this,Gf).values()],r={};return t.forEach(n=>{Em(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ye(this,Xf).set(fd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ye(this,Xf).values()],r={};return t.forEach(n=>{Em(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ye(this,yc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ej(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tj&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...ye(this,yc).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ye(this,Dn).clear(),ye(this,gc).clear()}},Dn=new WeakMap,gc=new WeakMap,yc=new WeakMap,Gf=new WeakMap,Xf=new WeakMap,bc=new WeakMap,Qf=new WeakMap,Yf=new WeakMap,CP),sO=T.createContext(void 0),Yn=e=>{const t=T.useContext(sO);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Rie=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(sO.Provider,{value:e,children:t})),iO=T.createContext(!1),$ie=()=>T.useContext(iO);iO.Provider;function Oie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Fie=T.createContext(Oie()),Lie=()=>T.useContext(Fie),zie=(e,t,r)=>{const n=r?.state.error&&typeof e.throwOnError=="function"?rj(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},Bie=e=>{T.useEffect(()=>{e.clearReset()},[e])},Uie=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||rj(r,[e.error,n])),Vie=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Wie=(e,t)=>e.isLoading&&e.isFetching&&!t,qie=(e,t)=>e?.suspense&&t.isPending,A8=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Hie(e,t,r){const n=$ie(),s=Lie(),i=Yn(),a=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const o=i.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",Vie(a),zie(a,s,o),Bie(s);const u=!i.getQueryCache().get(a.queryHash),[c]=T.useState(()=>new t(i,a)),d=c.getOptimisticResult(a),h=!n&&e.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(f=>{const p=h?c.subscribe(ss.batchCalls(f)):fi;return c.updateResult(),p},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),T.useEffect(()=>{c.setOptions(a)},[a,c]),qie(a,d))throw A8(a,c,s);if(Uie({result:d,errorResetBoundary:s,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!dd&&Wie(d,n)&&(u?A8(a,c,s):o?.promise)?.catch(fi).finally(()=>{c.updateResult()}),a.notifyOnChangeProps?d:c.trackResult(d)}function st(e,t){return Hie(e,Nie)}function ht(e,t){const r=Yn(),[n]=T.useState(()=>new Iie(r,e));T.useEffect(()=>{n.setOptions(e)},[n,e]);const s=T.useSyncExternalStore(T.useCallback(a=>n.subscribe(ss.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=T.useCallback((a,o)=>{n.mutate(a,o).catch(fi)},[n]);if(s.error&&rj(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Ul(){try{const e=Ho.getPlatform();return e==="android"||e==="ios"}catch{return!1}}let Qp=null;async function Vl(){const{getDB:e}=await Mr(async()=>{const{getDB:t}=await Promise.resolve().then(()=>Ose);return{getDB:t}},void 0);return await e()}async function Xv(){Qp||(Qp=Ul()?oo.waitForReady():Vl().then(()=>{})),await Qp}async function du(){Qp?await Qp:await Xv()}async function Da(e,t){if(await du(),Ul())return await oo.get(e,t);const r=await Vl();try{return await r.get(e,t)}catch{return null}}async function _i(e){if(await du(),Ul())return await oo.getAll(e);const t=await Vl();try{return await t.getAll(e)}catch{return[]}}async function ii(e,t){await du();const r=(t.id||t.key||"").toString();r&&(Ul()?await oo.set(e,r,t):await(await Vl()).put(e,t))}async function Ng(e,t){await du();const r=(t.id||t.key||"").toString();r&&(Ul()?await oo.set(e,r,t):await(await Vl()).add(e,t))}async function Cg(e,t){await du(),Ul()?await oo.delete(e,t):await(await Vl()).delete(e,t)}async function ij(e){if(await du(),Ul())await oo.clearTable(e);else{const t=await Vl();try{await t.clear(e)}catch(r){console.warn(`[smartClear] Failed to clear ${e}:`,r)}}}async function td(e){if(await du(),Ul())return await oo.count(e);const t=await Vl();try{return await t.count(e)}catch{return 0}}async function Ic(e,t){if(!t||t.length===0)return 0;if(await du(),Ul()){let r=0;for(const n of t)if(n&&(n.id||n.key)){const s=(n.id||n.key).toString();await oo.set(e,s,n),r++}return r}else{const r=await Vl();let n=0;try{const s=r.transaction(e,"readwrite"),i=s.objectStore(e);for(const a of t)if(a&&(a.id||a.key))try{i.put(a),n++}catch(o){console.warn(`[smartSave] Failed to put record in ${e}:`,o)}await s.done}catch(s){console.warn(`[smartSave] Transaction failed for ${e}, falling back to individual puts:`,s);for(const i of t)if(i&&(i.id||i.key))try{await r.put(e,i),n++}catch(a){console.warn(`[smartSave] Fallback put failed in ${e}:`,a)}}return n}}const Am=Object.freeze(Object.defineProperty({__proto__:null,initializeStorage:Xv,smartAdd:Ng,smartClear:ij,smartCount:td,smartDelete:Cg,smartGet:Da,smartGetAll:_i,smartPut:ii,smartSave:Ic},Symbol.toStringTag,{value:"Module"}));function P8(){return typeof navigator<"u"?navigator.onLine:!0}var Kie={};const Ew="https://app2.binarjoinanelytic.info";function Aw(){if(typeof window>"u")return!1;const e=window.Capacitor;if(e?.isNativePlatform?.()||e?.isNative===!0||e?.getPlatform?.()==="android"||e?.getPlatform?.()==="ios")return!0;const t=window.location.protocol;return t==="capacitor:"||t==="ionic:"}const lh={isProduction:typeof window<"u"?window.location.hostname==="binarjoinanelytic.info"||window.location.hostname==="www.binarjoinanelytic.info"||Aw():!0,isAndroid:typeof window<"u"&&Aw(),getApiBaseUrl:()=>{if(typeof window>"u")return Kie.VITE_API_BASE_URL||"";if(Aw())return Ew;const e=window.location.hostname;return e==="binarjoinanelytic.info"||e==="www.binarjoinanelytic.info"||e==="app2.binarjoinanelytic.info"?Ew:""},getExternalServerUrl:()=>Ew},Es=[];for(let e=0;e<256;++e)Es.push((e+256).toString(16).slice(1));function Zie(e,t=0){return(Es[e[t+0]]+Es[e[t+1]]+Es[e[t+2]]+Es[e[t+3]]+"-"+Es[e[t+4]]+Es[e[t+5]]+"-"+Es[e[t+6]]+Es[e[t+7]]+"-"+Es[e[t+8]]+Es[e[t+9]]+"-"+Es[e[t+10]]+Es[e[t+11]]+Es[e[t+12]]+Es[e[t+13]]+Es[e[t+14]]+Es[e[t+15]]).toLowerCase()}let Pw;const Gie=new Uint8Array(16);function Xie(){if(!Pw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Pw=crypto.getRandomValues.bind(crypto)}return Pw(Gie)}const Qie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),I8={randomUUID:Qie};function Yie(e,t,r){e=e||{};const n=e.random??e.rng?.()??Xie();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Zie(n)}function Tg(e,t,r){return I8.randomUUID&&!e?I8.randomUUID():Yie(e)}function Jie(e,t,r){const n=r.id||r.transferNumber||"";return`${e}:${t}:${n}`}function eae(e){const t=["transferDate","selectedDate","date","paymentDate","attendanceDate","expenseDate"],r={...e};for(const n of t)if(r[n]){const s=r[n];typeof s=="string"&&s.includes("T")?r[n]=s.split("T")[0]:s instanceof Date?r[n]=s.toISOString().split("T")[0]:typeof s=="number"&&(r[n]=new Date(s).toISOString().split("T")[0])}return r.selectedDate&&!r.transferDate&&(r.transferDate=r.selectedDate),r}function Qv(e){const t=[];return e.transferNumber&&t.push(`: ${e.transferNumber}`),e.amount&&t.push(`: ${e.amount}`),e.name&&t.push(`: ${e.name}`),e.projectId&&t.push(`: ${e.projectId}`),e.id&&t.push(`ID: ${String(e.id).substring(0,8)}`),t.join(" | ")||" "}async function Df(e,t,r){r=eae(r);const n=Jie(e,t,r),i=(await _i("syncQueue")).find(u=>u.idempotencyKey===n&&u.status!=="failed"&&u.status!=="duplicate-resolved");if(i)return console.log(` [Queue]    : ${n}`),e==="update"&&(i.payload={...i.payload,...r},i.timestamp=Date.now(),await ii("syncQueue",i),console.log(` [Queue]   payload  : ${i.id}`)),i.id;const a=Tg(),o={id:a,action:e,endpoint:t,payload:r,timestamp:Date.now(),retries:0,status:"pending",idempotencyKey:n};return await Ng("syncQueue",o),a}async function Kc(){return(await _i("syncQueue")).filter(t=>t.status==="pending"||t.status==="failed"||!t.status).sort((t,r)=>t.timestamp-r.timestamp)}async function tae(){return(await _i("syncQueue")).sort((t,r)=>r.timestamp-t.timestamp)}async function Yv(e){await Cg("syncQueue",e)}async function aj(e){const t=await Da("syncQueue",e);t&&(t.status="in-flight",t.lastAttemptAt=Date.now(),await ii("syncQueue",t))}async function gl(e,t,r){const n=await Da("syncQueue",e);n&&(n.status="failed",n.retries=(n.retries||0)+1,n.lastError=t,n.errorType=r||"unknown",n.lastAttemptAt=Date.now(),await ii("syncQueue",n))}async function aO(e,t){const r=await Da("syncQueue",e);r&&(r.status="duplicate-resolved",r.lastError=t,r.lastAttemptAt=Date.now(),await ii("syncQueue",r),await Na({queueItemId:e,action:r.action,endpoint:r.endpoint,status:"duplicate",errorMessage:t,payloadSummary:Qv(r.payload),retryCount:r.retries}))}async function rae(e){const t=await Da("syncQueue",e);t&&await Na({queueItemId:e,action:t.action,endpoint:t.endpoint,status:"skipped",errorMessage:"    ",payloadSummary:Qv(t.payload),retryCount:t.retries}),await Cg("syncQueue",e)}async function nae(){const e=await Kc(),t=e.length;for(const r of e)await Na({queueItemId:r.id,action:r.action,endpoint:r.endpoint,status:"skipped",errorMessage:"   ( )",payloadSummary:Qv(r.payload),retryCount:r.retries});return await ij("syncQueue"),t}async function Na(e){const t={id:Tg(),timestamp:Date.now(),...e};try{await Ng("syncHistory",t);const r=await _i("syncHistory");if(r.length>500){const s=r.sort((i,a)=>a.timestamp-i.timestamp).slice(500);for(const i of s)await Cg("syncHistory",i.id)}}catch(r){console.warn(" [SyncLog]   :",r)}}async function oO(e=50){try{return(await _i("syncHistory")).sort((r,n)=>n.timestamp-r.timestamp).slice(0,e)}catch{return[]}}async function lO(){return(await _i("syncQueue")).filter(t=>t.status==="failed"||t.status==="conflict").sort((t,r)=>r.lastAttemptAt-t.lastAttemptAt)}async function sae(){return(await _i("syncQueue")).filter(t=>t.status==="duplicate-resolved").sort((t,r)=>r.lastAttemptAt-t.lastAttemptAt)}async function iae(e){const t=await Da("syncQueue",e);t&&(t.status==="failed"||t.status==="conflict")&&(t.status="pending",t.lastError=void 0,await ii("syncQueue",t))}async function aae(){const e=await lO();let t=0;for(const r of e)r.status="pending",r.lastError=void 0,await ii("syncQueue",r),t++;return t}async function oae(){const e=await td("syncQueue"),t=await td("userData"),r=await _i("syncQueue"),n=r.filter(c=>c.status==="failed"||c.status==="conflict").length,s=r.filter(c=>c.status==="duplicate-resolved").length;let i=[];try{i=await oO(100)}catch{}const a=i.filter(c=>c.status==="success").length,o=i.filter(c=>c.status==="failed").length,u=await td("deadLetterQueue");return{pendingSync:e-n-s,failedSync:n,duplicateResolved:s,deadLetterCount:u,localUserData:t,totalSuccessful:a,totalRecentFailures:o,lastUpdate:Date.now()}}async function bk(e){const t={id:Tg(),originalId:e.id,action:e.action,endpoint:e.endpoint,payload:e.payload,timestamp:e.timestamp,movedAt:Date.now(),totalRetries:e.retries,lastError:e.lastError||"   ",errorType:e.errorType||"max_retries",idempotencyKey:e.idempotencyKey};await Ng("deadLetterQueue",t),await Yv(e.id),await Na({queueItemId:e.id,action:e.action,endpoint:e.endpoint,status:"failed",errorMessage:`       ${e.retries} `,payloadSummary:Qv(e.payload),retryCount:e.retries})}let Iw=!1;const Yp={maxRetries:8,baseDelayMs:500,maxDelayMs:6e4,jitterFactor:.3,nonRetryableStatuses:[400,401,403,404,422]};function zy(e){const t=Yp.baseDelayMs*Math.pow(2,e),r=Math.min(t,Yp.maxDelayMs),n=r*Yp.jitterFactor*(Math.random()*2-1);return Math.max(0,Math.round(r+n))}function cO(e){return e===409?!1:!Yp.nonRetryableStatuses.includes(e)}async function By(){if(!Iw){Iw=!0;try{await cae()}finally{Iw=!1}}}function uO(e){if(e?.status)return e.status;if(e?.statusCode)return e.statusCode;const t=e?.message||String(e),r=t.match(/status:\s*(\d{3})/i);return r?parseInt(r[1],10):t.includes(" ")||t.includes("duplicate")||t.includes("already exists")?409:t.includes(" ")||t.includes("validation")||t.includes("")?400:0}function bf(e){const t=[];return e.transferNumber&&t.push(`: ${e.transferNumber}`),e.amount&&t.push(`: ${e.amount}`),e.id&&t.push(`ID: ${String(e.id).substring(0,8)}`),t.join(" | ")||" "}async function lae(e,t){const r=Date.now();console.log(`[Silent-Sync]   ${e} (${t.length} )...`);for(const n of t)await aj(n.id);try{const n=t.map(a=>({action:a.action==="create"?"POST":a.action==="update"?"PATCH":"DELETE",endpoint:a.endpoint,payload:a.payload})),s=`batch:${e}:${t[0]?.retries||0}`,i=await Ie("/api/sync/batch","POST",{operations:n},0,{"x-idempotency-key":s});if(i&&i.success){for(const a of t)await Yv(a.id),await vk(a,!0),await Na({queueItemId:a.id,action:a.action,endpoint:a.endpoint,status:"success",duration:Date.now()-r,payloadSummary:bf(a.payload),retryCount:a.retries});console.log(`[Silent-Sync]  ${e}  (${Date.now()-r}ms)`)}else{const a=i?.message||i?.error||" ";throw new Error(a)}}catch(n){const s=uO(n),i=n?.message||String(n);console.error(`[Silent-Sync]   ${e}:`,i);for(const a of t){if(!cO(s)&&s>0)await bk({...a,retries:a.retries+1,lastError:i,errorType:"validation"});else{const o=Date.now()+zy(a.retries+1);await gl(a.id,i,"batch");const u=await Da("syncQueue",a.id);u&&(u.nextRetryAt=o,await ii("syncQueue",u))}await Na({queueItemId:a.id,action:a.action,endpoint:a.endpoint,status:"failed",duration:Date.now()-r,errorMessage:i,errorCode:String(s),payloadSummary:bf(a.payload),retryCount:a.retries+1})}}}async function cae(){const e=await Kc();if(e.length===0)return;const t=Date.now(),r=e.filter(i=>!(i.nextRetryAt&&i.nextRetryAt>t));if(r.length===0)return;const n=new Map,s=[];for(const i of r)i.batchId?(n.has(i.batchId)||n.set(i.batchId,[]),n.get(i.batchId).push(i)):s.push(i);console.log(`[Silent-Sync]   ${r.length}  (${n.size}  ${s.length} )   ${e.length}...`);for(const[i,a]of n)await lae(i,a);for(const i of s)try{if(i.retries>=Yp.maxRetries){console.warn(`[Silent-Sync]  ${i.id}  DLQ  ${i.retries} `),await bk(i);continue}if(await aj(i.id),i.retries>0){const d=zy(i.retries);await new Promise(h=>setTimeout(h,d))}else await new Promise(d=>setTimeout(d,100));const a=i.action==="create"?"POST":i.action==="update"?"PATCH":"DELETE",o=Date.now();let u;try{const d=i.idempotencyKey||`sync:${i.id}:${i.retries}`;u=await Ie(i.endpoint,a,i.payload,0,{"x-idempotency-key":d})}catch(d){const h=uO(d),f=d?.message||d?.error||String(d);if(h===409){console.log(`[Silent-Sync]   (409): ${i.id}`),await aO(i.id,f),await vk(i,!0);continue}if(!cO(h)){console.error(`[Silent-Sync]     (${h}): ${i.id}`),await bk({...i,retries:i.retries+1,lastError:f,errorType:"validation"}),await Na({queueItemId:i.id,action:i.action,endpoint:i.endpoint,status:"failed",duration:Date.now()-o,errorMessage:`  DLQ: ${f}`,errorCode:String(h),payloadSummary:bf(i.payload),retryCount:i.retries+1});continue}const p=Date.now()+zy(i.retries+1);await gl(i.id,f,"network");const g=await Da("syncQueue",i.id);g&&(g.nextRetryAt=p,await ii("syncQueue",g)),await Na({queueItemId:i.id,action:i.action,endpoint:i.endpoint,status:"failed",duration:Date.now()-o,errorMessage:f,errorCode:String(h),payloadSummary:bf(i.payload),retryCount:i.retries+1});continue}const c=Date.now()-o;if(u&&u.success!==!1)await Yv(i.id),await vk(i,!0),await Na({queueItemId:i.id,action:i.action,endpoint:i.endpoint,status:"success",duration:c,payloadSummary:bf(i.payload),retryCount:i.retries}),console.log(`[Silent-Sync] : ${i.id} (${c}ms)`);else{const d=u?.message||u?.error||"  ",h=Date.now()+zy(i.retries+1);await gl(i.id,d,"server");const f=await Da("syncQueue",i.id);f&&(f.nextRetryAt=h,await ii("syncQueue",f)),await Na({queueItemId:i.id,action:i.action,endpoint:i.endpoint,status:"failed",duration:c,errorMessage:d,payloadSummary:bf(i.payload),retryCount:i.retries+1})}}catch(a){console.error(`[Silent-Sync]    ${i.id}:`,a),await gl(i.id,a.message||String(a),"unknown")}}async function vk(e,t){try{const r=e.endpoint.split("/")[2],n=e.payload?.id;if(!r||!n)return;const s=await Da(r,n);s&&(s._pendingSync=!t,s._isLocal=!t,await ii(r,s))}catch{}}let D8=null,M8=null;function uae(e=3e4){D8===null&&(By(),D8=setInterval(()=>{navigator.onLine&&By()},e),M8=()=>{By()},window.addEventListener("online",M8))}let Uy=0,xk="0";async function dae(e){const t=new TextEncoder,r=await crypto.subtle.digest("SHA-256",t.encode(e));return Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("")}async function fae(){const e=await _i("localAuditLog");if(e.length>0){const t=e.sort((r,n)=>n.sequence-r.sequence);Uy=t[0].sequence,xk=t[0].hash}}async function oj(e,t,r,n){Uy++;const s=xk,i=Date.now(),a=`${Uy}:${e}:${t}:${r}:${s}:${i}`,o=await dae(a),u={id:Tg(),action:e,entityType:t,entityId:r,payload:{...n},timestamp:i,sequence:Uy,hash:o,previousHash:s};await Ng("localAuditLog",u),xk=o}const dO={"/api/fund-transfers":"fundTransfers","/api/worker-attendance":"workerAttendance","/api/transportation-expenses":"transportationExpenses","/api/material-purchases":"materialPurchases","/api/worker-transfers":"workerTransfers","/api/worker-misc-expenses":"workerMiscExpenses","/api/workers":"workers","/api/projects":"projects","/api/suppliers":"suppliers","/api/materials":"materials","/api/wells":"wells","/api/project-types":"projectTypes","/api/autocomplete":"autocompleteData","/api/supplier-payments":"supplierPayments"};function fO(e){const t=e.split("?")[0];for(const[r,n]of Object.entries(dO))if(t===r||t.startsWith(r+"/"))return n;return t.startsWith("/api/projects/")&&t.includes("/fund-transfers")?"fundTransfers":t.startsWith("/api/projects/")&&t.includes("/worker-attendance")?"workerAttendance":t.startsWith("/api/projects/")&&t.includes("/material-purchases")?"materialPurchases":t.startsWith("/api/projects/")&&t.includes("/transportation")?"transportationExpenses":(t.startsWith("/api/projects/")&&t.includes("/daily-expenses"),null)}function lj(e){const t=e.split("?")[0];t.split("/");for(const[r]of Object.entries(dO))if(t.startsWith(r+"/")){const s=t.substring(r.length+1).split("/")[0];if(s&&s.length>0)return s}return null}async function R8(e,t,r){const n=fO(e);if(!n)throw new Error(`[Offline]    ${e}  `);if(t==="POST")return hae(e,n,r);if(t==="PATCH"||t==="PUT")return pae(e,n,r);if(t==="DELETE")return mae(e,n);if(t==="GET")return gae(e,n);throw new Error(`[Offline]  ${t}    `)}async function hae(e,t,r){const n=r?.id||Tg(),s={...r,id:n,_isLocal:!0,_pendingSync:!0,_offlineCreatedAt:Date.now(),createdAt:r?.createdAt||new Date().toISOString()};return await ii(t,s),await Df("create",e,s),oj("create",t,n,s).catch(i=>console.warn("[Audit]  :",i)),{success:!0,data:{success:!0,data:s,message:"  "},isOffline:!0,pendingSync:!0}}async function pae(e,t,r){const n=lj(e)||r?.id;if(!n)throw new Error("[Offline]     ");const i={...await Da(t,n)||{},...r,id:n,_pendingSync:!0,_offlineUpdatedAt:Date.now(),updatedAt:new Date().toISOString()};return await ii(t,i),await Df("update",e,i),oj("update",t,n,i).catch(a=>console.warn("[Audit]  :",a)),{success:!0,data:{success:!0,data:i,message:"  "},isOffline:!0,pendingSync:!0}}async function mae(e,t){const r=lj(e);if(!r)throw new Error("[Offline]     ");return await Cg(t,r),await Df("delete",e,{id:r}),oj("delete",t,r,{id:r}).catch(n=>console.warn("[Audit]  :",n)),{success:!0,data:{success:!0,message:"  "},isOffline:!0,pendingSync:!0}}async function gae(e,t){const r=lj(e);if(r){const s=await Da(t,r);return{success:!!s,data:s?{success:!0,data:s}:{success:!1,data:null},isOffline:!0,pendingSync:!1}}const n=await _i(t);return{success:!0,data:{success:!0,data:n,count:n.length},isOffline:!0,pendingSync:!1}}function $8(e){return fO(e)!==null}const fe={projects:["/api/projects"],projectsWithStats:["/api/projects/with-stats"],projectTypes:["/api/project-types"],materials:["/api/materials"],suppliers:["/api/suppliers"],workers:["/api/workers"],workerTypes:["/api/worker-types"],notifications:["/api/notifications"],autocomplete:["/api/autocomplete"],tasks:["/api/tasks"],transportationExpenses:["/api/transportation-expenses"],workerMiscExpenses:["/api/worker-misc-expenses"],financialSummary:["/api/financial-summary"],healthStats:["/api/health/stats"],users:["/api/users"],usersList:["/api/users/list"],aiSessions:["/api/ai/sessions"],backupsStatus:["/api/backups/status"],backupsLogs:["/api/backups/logs"],backupsDatabases:["/api/backups/databases"],equipment:["equipment"],equipmentMovements:["equipment-movements"],wells:["wells"],recentActivities:["/api/recent-activities"],recentActivitiesByProject:e=>["/api/recent-activities",e],healthFull:["/api/health/full"],incidents:["/api/incidents"],metricsSummary:["/api/metrics/summary"],aiAccess:["/api/ai/access"],dbConnections:["/api/db/connections"],dbStats:["/api/stats"],adminDataHealth:["/api/admin/data-health"],autocompleteTransportCategories:["/api/autocomplete/transport-categories"],autocompleteTransactionCategories:["/api/autocomplete/transaction-categories"],syncProjects:["/api/projects"],syncAuditLogs:["/api/sync-audit/logs"],syncAuditStats:["/api/sync-audit/stats"],syncAuditModules:["/api/sync-audit/modules"],syncAuditLogsFiltered:e=>["/api/sync-audit/logs",e],projectTransportation:(e,t,r)=>["/api/projects",e,"transportation",t,r].filter(Boolean),projectFundTransfersFiltered:(e,t)=>["/api/projects",e,"fund-transfers",t].filter(r=>r!==void 0),projectFundTransfersIncoming:(e,t)=>["/api/projects",e,"fund-transfers","incoming",t].filter(r=>r!==void 0),projectFundTransfersOutgoing:(e,t)=>["/api/projects",e,"fund-transfers","outgoing",t].filter(r=>r!==void 0),projectWorkerAttendanceFiltered:(e,t)=>["/api/projects",e,"worker-attendance",t].filter(r=>r!==void 0),projectMaterialPurchasesFiltered:(e,t)=>["/api/projects",e,"material-purchases",t].filter(r=>r!==void 0),transportationExpensesFiltered:(e,t)=>["/api/transportation-expenses",e,t].filter(r=>r!==void 0),workerMiscExpensesFiltered:(e,t)=>["/api/worker-misc-expenses",e,t].filter(Boolean),workerTransfersFiltered:(e,t)=>["/api/worker-transfers",e,t].filter(r=>r!==void 0),workerStats:(e,t)=>["/api/workers",e,"stats",t].filter(Boolean),projectAttendance:e=>["/api/projects",e,"attendance"],dailyExpensesComplex:(e,t,r)=>["/api/projects",e,t,r].filter(Boolean),materialPurchases:(e,t)=>["/api/projects",e,"material-purchases",t].filter(Boolean),workerAttendance:(e,t)=>["/api/projects",e,"worker-attendance",t].filter(Boolean),workerAttendanceAll:e=>["/api/projects",e,"worker-attendance"],dailyExpenses:(e,t)=>["/api/projects",e,"daily-expenses",t].filter(Boolean),previousBalance:(e,t)=>["/api/projects",e,"previous-balance",t].filter(Boolean),dailySummary:(e,t)=>["/api/projects",e,"daily-summary",t].filter(Boolean),projectStats:e=>["/api/projects",e,"stats"],workerTransfers:e=>["/api/worker-transfers",e],projectFundTransfers:["/api/project-fund-transfers"],allFundTransfers:["/api/projects/all/fund-transfers"],supplierStatistics:["/api/suppliers/statistics"],supplierStatisticsFiltered:(...e)=>["/api/suppliers/statistics",...e],materialPurchasesDateRange:["/api/material-purchases/date-range"],materialPurchasesFiltered:(...e)=>["/api/material-purchases",...e],dailyProjectTransfers:(e,t)=>["/api/daily-project-transfers",e,t].filter(Boolean),dailyExpenseSummaries:["/api/daily-expense-summaries"],wellTasks:e=>["well-tasks",e],wellExpenses:e=>["well-expenses",e],wellCostReport:e=>["well-cost-report",e],wellById:e=>["well",e],wellsByProject:e=>["wells",e],autocompleteCategory:e=>["autocomplete",e],autocompleteOwnerNames:e=>["autocomplete/ownerNames",e],autocompleteFanTypes:e=>["autocomplete/fanTypes",e],autocompletePumpPowers:e=>["autocomplete/pumpPowers",e],autocompleteTaskDescriptions:e=>["autocomplete/taskDescriptions",e],notificationsByUser:e=>["/api/notifications",e],adminNotifications:(...e)=>["admin-notifications",...e],userActivity:["user-activity"],metrics:["/api/metrics/current"],diagnostics:["/api/diagnostics/checks"],workerAttendanceEdit:e=>["/api/worker-attendance",e],materialPurchaseEdit:e=>["/api/material-purchases",e],reportsWorkerStatement:(...e)=>["/api/reports/worker-statement",...e],reportsDashboardKpis:(...e)=>["/api/reports/dashboard-kpis",...e],securityPolicies:["/api/security/policies"],securityViolations:["/api/security/violations"],securitySuggestions:["/api/security/suggestions"],projectCosts:e=>["project-costs",e],errorLogs:["/api/error-logs"],usersWithRoles:["/api/users","with-roles"],workerStatsSimple:e=>["/api/workers",e,"stats"],equipmentFiltered:(...e)=>["equipment",...e],equipmentMovementsById:e=>["equipment-movements",e],autocompleteAdmin:(...e)=>["autocomplete-admin",...e],autocompleteFanTypesPrefix:["autocomplete/fanTypes"],autocompletePumpPowersPrefix:["autocomplete/pumpPowers"],autocompleteOwnerNamesPrefix:["autocomplete/ownerNames"]};let wk=null;function O8(e){wk=e}function yae(){return wk?wk.getAccessToken():localStorage.getItem("accessToken")}async function Ie(e,t="GET",r,n=0,s){const i=lh.getApiBaseUrl();let a=e;if(!e.startsWith("http")){const d=e.startsWith("/")?e:`/${e}`;a=`${i}${d}`}const o=typeof window<"u"?localStorage.getItem("accessToken"):null;o||(console.warn(` [apiRequest]    : ${t} ${e}`),typeof window<"u"&&!window.location.pathname.includes("/login")&&e.includes("/auth/login"));const u={"Content-Type":"application/json",...s||{}};o&&(u.Authorization=`Bearer ${o}`);const c={method:t,headers:u,credentials:"include"};r&&t!=="GET"&&(c.body=JSON.stringify(r));try{if(!navigator.onLine&&t!=="GET"&&$8(e)){console.log(` [apiRequest]   -   : ${t} ${e}`);const p=await R8(e,t,r);if(p.success)return window.dispatchEvent(new CustomEvent("offline-mutation-queued",{detail:{endpoint:e,method:t,pendingSync:!0}})),{...p.data,isOffline:!0,pendingSync:!0}}console.log(` API Request: ${t} ${e}`,r||"");const d=await fetch(a,c),h=d.headers.get("content-type");if(d.status===401){console.log(" [apiRequest] 401 Unauthorized - Checking tokens...");const p=localStorage.getItem("refreshToken");if(p&&n===0)try{const y=`${lh.getApiBaseUrl()}/api/auth/refresh`;console.log(" [apiRequest] Attempting silent refresh...");const m=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:p})});if(m.ok){const v=await m.json(),b=v.data?.accessToken||v.accessToken,x=v.data?.refreshToken||v.refreshToken;if(b){console.log(" [apiRequest] Refresh successful, retrying request"),localStorage.setItem("accessToken",b),x&&localStorage.setItem("refreshToken",x);const j={...u,Authorization:`Bearer ${b}`},C={...c,headers:j},R=await fetch(a,C);if(!R.ok)throw new Error("    ");return await R.json()}}else console.error(" [apiRequest] Refresh response not OK:",m.status)}catch(g){console.error(" [apiRequest] Refresh failed:",g)}if(!window.location.pathname.includes("/login"))return console.warn(" [apiRequest] Session expired, but staying in-place for offline support."),null;throw new Error(" ")}if(!d.ok){let p=`HTTP error! status: ${d.status}`;try{if(h&&h.includes("application/json"))p=(await d.json()).message||p;else{const g=await d.text();console.error(" [apiRequest]   text/html; charset=UTF-8   JSON:",{url:e,method:t,status:d.status,contentType:h,responsePreview:g.substring(0,200)})}}catch{}throw new Error(p)}if(!h||!h.includes("application/json")){const p=await d.text();throw console.error(" [apiRequest]   text/html; charset=UTF-8   JSON:",{url:e,method:t,status:d.status,contentType:h,responsePreview:p.substring(0,200)}),new Error(`   :  JSON    ${h}`)}const f=await d.json();return console.log(` API Response: ${t} ${e}`,f),f}catch(d){if(d instanceof TypeError&&(d.message.includes("Failed to fetch")||d.message.includes("NetworkError")||d.message.includes("Network request failed"))&&t!=="GET"&&$8(e)){console.log(` [apiRequest]   -   : ${t} ${e}`);try{const h=await R8(e,t,r);if(h.success)return window.dispatchEvent(new CustomEvent("offline-mutation-queued",{detail:{endpoint:e,method:t,pendingSync:!0}})),{...h.data,isOffline:!0,pendingSync:!0}}catch(h){console.error(" [apiRequest]    :",h)}}throw console.error(` API Error: ${t} ${e}`,d),d}}const bae=({on401:e,useLocalFallback:t=!0})=>async({queryKey:r})=>{const n=lh.getApiBaseUrl(),s=r.join("/");let i=s;if(!s.startsWith("http"))if(n){const o=s.startsWith("/")?s:`/${s}`;i=`${n}${o}`}else s.startsWith("/")||(i=`/${s}`);async function a(o=0){const u=new AbortController,c=setTimeout(()=>u.abort(),3e4);try{const d=P8();if(console.log(` [QueryClient]  : ${d?"":" "}`),!d&&t){console.log(` [QueryClient]   -     : ${r.join("/")}`);try{const y=r[0].startsWith("/api/")?r[0].substring(5):r[0],m=await _i(y);if(m&&Array.isArray(m)&&m.length>0)return console.log(` [QueryClient]   ${m.length}  `),m}catch(y){console.error(" [QueryClient]    :",y)}}const h={},f=yae();f&&(h.Authorization=`Bearer ${f}`),console.log(` [QueryClient]  : ${i}`,{hasToken:!!f,online:P8()});const p=await fetch(i,{headers:h,credentials:"include",signal:u.signal});if(clearTimeout(c),!p.ok){if(p.status===401&&o===0){console.log(" [QueryClient] 401 -   ...");const m=localStorage.getItem("refreshToken");if(m)try{const b=`${lh.getApiBaseUrl()}/api/auth/refresh`,x=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:m})});if(x.ok){const j=await x.json(),C=j.data?.accessToken||j.accessToken,R=j.data?.refreshToken||j.refreshToken;if(C)return console.log(" [QueryClient]      ..."),localStorage.setItem("accessToken",C),R&&localStorage.setItem("refreshToken",R),a(o+1)}}catch(v){console.error(" [QueryClient]   :",v)}throw console.error(" [QueryClient] Unauthorized (401) -  "),new Error("Authentication Error (401)")}if(p.status===401)throw new Error("Authentication Error (401)");const y=await p.json().catch(()=>({message:`Error ${p.status}`}));throw new Error(y?.message||`Error ${p.status}`)}const g=await p.json();if(console.log(` [QueryClient]    ${r.join("/")}:`,{hasData:!!g,dataType:typeof g}),console.log(` [QueryClient]    ${r.join("/")}:`,{dataType:typeof g,isObject:g&&typeof g=="object",hasSuccess:g?.success!==void 0,hasDataProperty:g?.data!==void 0,actualDataValue:g?.data,rawData:g}),g&&typeof g=="object"){const y=typeof r[0]=="string"&&r[0].includes("migration");if(g.success!==void 0&&g.hasOwnProperty("data"))return console.log(` [QueryClient]  API   ${r.join("/")}:`,{success:g.success,dataExists:g.data!==void 0,dataType:typeof g.data}),y?g.data:g.data===null||g.data===void 0?[]:g.data;if(Array.isArray(g))return console.log(` [QueryClient]    ${r.join("/")}:`,g.length),g;if(g.data!==void 0)return console.log(` [QueryClient]  data   ${r.join("/")}:`,g.data),g.data!==null?g.data:[]}return console.log(` [QueryClient]      ${r.join("/")}:`,g),g}catch(d){throw clearTimeout(c),d instanceof Error&&d.name==="AbortError"?(console.log(` [QueryClient] timeout  ${r.join("/")}`),new Error("      ")):(console.error(` [QueryClient]   ${r.join("/")}`,d),d)}}return a()},wu={REFERENCE_DATA:1e3*60*10,ACTIVE_DATA:1e3*60*5},vs=new Mie({defaultOptions:{queries:{queryFn:bae({on401:"throw",useLocalFallback:!0}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1e3*60*5,gcTime:1e3*60*60,retry:!1,refetchOnReconnect:!1,refetchOnMount:!1,placeholderData:e=>e},mutations:{retry:1}}}),_u=fe;async function vae(){console.log(" [Prefetch]     ...");const e=Date.now(),t=[vs.prefetchQuery({queryKey:_u.projects,staleTime:wu.REFERENCE_DATA}),vs.prefetchQuery({queryKey:_u.projectsWithStats,staleTime:wu.REFERENCE_DATA}),vs.prefetchQuery({queryKey:_u.workers,staleTime:wu.REFERENCE_DATA}),vs.prefetchQuery({queryKey:_u.materials,staleTime:wu.REFERENCE_DATA}),vs.prefetchQuery({queryKey:_u.suppliers,staleTime:wu.REFERENCE_DATA}),vs.prefetchQuery({queryKey:_u.autocomplete,staleTime:wu.REFERENCE_DATA}),vs.prefetchQuery({queryKey:_u.notifications,staleTime:wu.ACTIVE_DATA})];try{await Promise.all(t);const r=Date.now()-e;console.log(` [Prefetch]       ${r}ms`)}catch(r){console.warn(" [Prefetch]    :",r)}}function xae(){console.log(" [Cache]    ..."),vs.clear()}const wae=3,_ae=5e3;let Dw=0;function kae(){return Dw=(Dw+1)%Number.MAX_SAFE_INTEGER,Dw.toString()}const Mw=new Map,F8=e=>{if(Mw.has(e))return;const t=setTimeout(()=>{Mw.delete(e),Jp({type:"REMOVE_TOAST",toastId:e})},_ae);Mw.set(e,t)},Sae=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,wae)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?F8(r):e.toasts.forEach(n=>{F8(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Vy=[];let Wy={toasts:[]};function Jp(e){Wy=Sae(Wy,e),Vy.forEach(t=>{t(Wy)})}function cj({...e}){const t=kae(),r=s=>Jp({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Jp({type:"DISMISS_TOAST",toastId:t});return Jp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function zr(){const[e,t]=T.useState(Wy);return T.useEffect(()=>(Vy.push(t),()=>{const r=Vy.indexOf(t);r>-1&&Vy.splice(r,1)}),[e]),{...e,toast:cj,dismiss:r=>Jp({type:"DISMISS_TOAST",toastId:r})}}function et(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function L8(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Go(...e){return t=>{let r=!1;const n=e.map(s=>{const i=L8(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():L8(e[s],null)}}}}function tr(...e){return T.useCallback(Go(...e),e)}function jae(e,t){const r=T.createContext(t),n=i=>{const{children:a,...o}=i,u=T.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:u,children:a})};n.displayName=e+"Provider";function s(i){const a=T.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Ls(e,t=[]){let r=[];function n(i,a){const o=T.createContext(a),u=r.length;r=[...r,a];const c=h=>{const{scope:f,children:p,...g}=h,y=f?.[e]?.[u]||o,m=T.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:m,children:p})};c.displayName=i+"Provider";function d(h,f){const p=f?.[e]?.[u]||o,g=T.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=r.map(a=>T.createContext(a));return function(o){const u=o?.[e]||i;return T.useMemo(()=>({[`__scope${e}`]:{...o,[e]:u}}),[o,u])}};return s.scopeName=e,[n,Nae(s,...t)]}function Nae(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:u,scopeName:c})=>{const h=u(i)[`__scope${c}`];return{...o,...h}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function z8(e){const t=Cae(e),r=T.forwardRef((n,s)=>{const{children:i,...a}=n,o=T.Children.toArray(i),u=o.find(Eae);if(u){const c=u.props.children,d=o.map(h=>h===u?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:h);return l.jsx(t,{...a,ref:s,children:T.isValidElement(c)?T.cloneElement(c,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Cae(e){const t=T.forwardRef((r,n)=>{const{children:s,...i}=r;if(T.isValidElement(s)){const a=Pae(s),o=Aae(i,s.props);return s.type!==T.Fragment&&(o.ref=n?Go(n,a):a),T.cloneElement(s,o)}return T.Children.count(s)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Tae=Symbol("radix.slottable");function Eae(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tae}function Aae(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Pae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Jv(e){const t=e+"CollectionProvider",[r,n]=Ls(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:m,children:v}=y,b=jt.useRef(null),x=jt.useRef(new Map).current;return l.jsx(s,{scope:m,itemMap:x,collectionRef:b,children:v})};a.displayName=t;const o=e+"CollectionSlot",u=z8(o),c=jt.forwardRef((y,m)=>{const{scope:v,children:b}=y,x=i(o,v),j=tr(m,x.collectionRef);return l.jsx(u,{ref:j,children:b})});c.displayName=o;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=z8(d),p=jt.forwardRef((y,m)=>{const{scope:v,children:b,...x}=y,j=jt.useRef(null),C=tr(m,j),R=i(d,v);return jt.useEffect(()=>(R.itemMap.set(j,{ref:j,...x}),()=>void R.itemMap.delete(j))),l.jsx(f,{[h]:"",ref:C,children:b})});p.displayName=d;function g(y){const m=i(e+"CollectionConsumer",y);return jt.useCallback(()=>{const b=m.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(m.itemMap.values()).sort((R,L)=>x.indexOf(R.ref.current)-x.indexOf(L.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},g,n]}function Rw(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function Iae(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function hO(...e){return t=>e.forEach(r=>Iae(r,t))}function pO(...e){return T.useCallback(hO(...e),e)}var mO=T.forwardRef((e,t)=>{const{children:r,...n}=e,s=T.Children.toArray(r),i=s.find(Mae);if(i){const a=i.props.children,o=s.map(u=>u===i?T.Children.count(a)>1?T.Children.only(null):T.isValidElement(a)?a.props.children:null:u);return l.jsx(_k,{...n,ref:t,children:T.isValidElement(a)?T.cloneElement(a,void 0,o):null})}return l.jsx(_k,{...n,ref:t,children:r})});mO.displayName="Slot";var _k=T.forwardRef((e,t)=>{const{children:r,...n}=e;if(T.isValidElement(r)){const s=$ae(r);return T.cloneElement(r,{...Rae(n,r.props),ref:t?hO(t,s):s})}return T.Children.count(r)>1?T.Children.only(null):null});_k.displayName="SlotClone";var Dae=({children:e})=>l.jsx(l.Fragment,{children:e});function Mae(e){return T.isValidElement(e)&&e.type===Dae}function Rae(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{i(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function $ae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Oae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gO=Oae.reduce((e,t)=>{const r=T.forwardRef((n,s)=>{const{asChild:i,...a}=n,o=i?mO:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Fae(e,t){e&&uu.flushSync(()=>e.dispatchEvent(t))}function yO(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...r)=>t.current?.(...r),[])}function Lae(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...r)=>t.current?.(...r),[])}function zae(e,t=globalThis?.document){const r=Lae(e);T.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Bae="DismissableLayer",kk="dismissableLayer.update",Uae="dismissableLayer.pointerDownOutside",Vae="dismissableLayer.focusOutside",B8,bO=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dd=T.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...u}=e,c=T.useContext(bO),[d,h]=T.useState(null),f=d?.ownerDocument??globalThis?.document,[,p]=T.useState({}),g=pO(t,L=>h(L)),y=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(m),b=d?y.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,j=b>=v,C=qae(L=>{const A=L.target,P=[...c.branches].some($=>$.contains(A));!j||P||(s?.(L),a?.(L),L.defaultPrevented||o?.())},f),R=Hae(L=>{const A=L.target;[...c.branches].some($=>$.contains(A))||(i?.(L),a?.(L),L.defaultPrevented||o?.())},f);return zae(L=>{b===c.layers.size-1&&(n?.(L),!L.defaultPrevented&&o&&(L.preventDefault(),o()))},f),T.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(B8=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),U8(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=B8)}},[d,f,r,c]),T.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),U8())},[d,c]),T.useEffect(()=>{const L=()=>p({});return document.addEventListener(kk,L),()=>document.removeEventListener(kk,L)},[]),l.jsx(gO.div,{...u,ref:g,style:{pointerEvents:x?j?"auto":"none":void 0,...e.style},onFocusCapture:Rw(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Rw(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Rw(e.onPointerDownCapture,C.onPointerDownCapture)})});Dd.displayName=Bae;var Wae="DismissableLayerBranch",vO=T.forwardRef((e,t)=>{const r=T.useContext(bO),n=T.useRef(null),s=pO(t,n);return T.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),l.jsx(gO.div,{...e,ref:s})});vO.displayName=Wae;function qae(e,t=globalThis?.document){const r=yO(e),n=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let u=function(){xO(Uae,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Hae(e,t=globalThis?.document){const r=yO(e),n=T.useRef(!1);return T.useEffect(()=>{const s=i=>{i.target&&!n.current&&xO(Vae,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function U8(){const e=new CustomEvent(kk);document.dispatchEvent(e)}function xO(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Fae(s,i):s.dispatchEvent(i)}var Kae=Dd,Zae=vO;function Gae(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Xae(...e){return t=>e.forEach(r=>Gae(r,t))}var wO=T.forwardRef((e,t)=>{const{children:r,...n}=e,s=T.Children.toArray(r),i=s.find(Yae);if(i){const a=i.props.children,o=s.map(u=>u===i?T.Children.count(a)>1?T.Children.only(null):T.isValidElement(a)?a.props.children:null:u);return l.jsx(Sk,{...n,ref:t,children:T.isValidElement(a)?T.cloneElement(a,void 0,o):null})}return l.jsx(Sk,{...n,ref:t,children:r})});wO.displayName="Slot";var Sk=T.forwardRef((e,t)=>{const{children:r,...n}=e;if(T.isValidElement(r)){const s=eoe(r);return T.cloneElement(r,{...Jae(n,r.props),ref:t?Xae(t,s):s})}return T.Children.count(r)>1?T.Children.only(null):null});Sk.displayName="SlotClone";var Qae=({children:e})=>l.jsx(l.Fragment,{children:e});function Yae(e){return T.isValidElement(e)&&e.type===Qae}function Jae(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{i(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function eoe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var toe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],roe=toe.reduce((e,t)=>{const r=T.forwardRef((n,s)=>{const{asChild:i,...a}=n,o=i?wO:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),noe=globalThis?.document?T.useLayoutEffect:()=>{},soe="Portal",$h=T.forwardRef((e,t)=>{const{container:r,...n}=e,[s,i]=T.useState(!1);noe(()=>i(!0),[]);const a=r||s&&globalThis?.document?.body;return a?lse.createPortal(l.jsx(roe.div,{...n,ref:t}),a):null});$h.displayName=soe;var js=globalThis?.document?T.useLayoutEffect:()=>{};function ioe(e,t){return T.useReducer((r,n)=>t[r][n]??r,e)}var Jn=e=>{const{present:t,children:r}=e,n=aoe(t),s=typeof r=="function"?r({present:n.isPresent}):T.Children.only(r),i=tr(n.ref,ooe(s));return typeof r=="function"||n.isPresent?T.cloneElement(s,{ref:i}):null};Jn.displayName="Presence";function aoe(e){const[t,r]=T.useState(),n=T.useRef(null),s=T.useRef(e),i=T.useRef("none"),a=e?"mounted":"unmounted",[o,u]=ioe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=ey(n.current);i.current=o==="mounted"?c:"none"},[o]),js(()=>{const c=n.current,d=s.current;if(d!==e){const f=i.current,p=ey(c);e?u("MOUNT"):p==="none"||c?.display==="none"?u("UNMOUNT"):u(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),js(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=p=>{const y=ey(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&y&&(u("ANIMATION_END"),!s.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},f=p=>{p.target===t&&(i.current=ey(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:T.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function ey(e){return e?.animationName||"none"}function ooe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function loe(e){const t=coe(e),r=T.forwardRef((n,s)=>{const{children:i,...a}=n,o=T.Children.toArray(i),u=o.find(doe);if(u){const c=u.props.children,d=o.map(h=>h===u?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:h);return l.jsx(t,{...a,ref:s,children:T.isValidElement(c)?T.cloneElement(c,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function coe(e){const t=T.forwardRef((r,n)=>{const{children:s,...i}=r;if(T.isValidElement(s)){const a=hoe(s),o=foe(i,s.props);return s.type!==T.Fragment&&(o.ref=n?Go(n,a):a),T.cloneElement(s,o)}return T.Children.count(s)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uoe=Symbol("radix.slottable");function doe(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uoe}function foe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function hoe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var poe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wt=poe.reduce((e,t)=>{const r=loe(`Primitive.${t}`),n=T.forwardRef((s,i)=>{const{asChild:a,...o}=s,u=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function _O(e,t){e&&uu.flushSync(()=>e.dispatchEvent(t))}function Ys(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...r)=>t.current?.(...r),[])}var moe=Dv[" useInsertionEffect ".trim().toString()]||js;function Ma({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,a]=goe({defaultProp:t,onChange:r}),o=e!==void 0,u=o?e:s;{const d=T.useRef(e!==void 0);T.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const c=T.useCallback(d=>{if(o){const h=yoe(d)?d(e):d;h!==e&&a.current?.(h)}else i(d)},[o,e,i,a]);return[u,c]}function goe({defaultProp:e,onChange:t}){const[r,n]=T.useState(e),s=T.useRef(r),i=T.useRef(t);return moe(()=>{i.current=t},[t]),T.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,n,i]}function yoe(e){return typeof e=="function"}var boe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),voe="VisuallyHidden",uj=T.forwardRef((e,t)=>l.jsx(wt.span,{...e,ref:t,style:{...boe,...e.style}}));uj.displayName=voe;var dj="ToastProvider",[fj,xoe,woe]=Jv("Toast"),[kO]=Ls("Toast",[woe]),[_oe,ex]=kO(dj),SO=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[o,u]=T.useState(null),[c,d]=T.useState(0),h=T.useRef(!1),f=T.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${dj}\`. Expected non-empty \`string\`.`),l.jsx(fj.Provider,{scope:t,children:l.jsx(_oe,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:o,onViewportChange:u,onToastAdd:T.useCallback(()=>d(p=>p+1),[]),onToastRemove:T.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};SO.displayName=dj;var jO="ToastViewport",koe=["F8"],jk="toast.viewportPause",Nk="toast.viewportResume",NO=T.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=koe,label:s="Notifications ({hotkey})",...i}=e,a=ex(jO,r),o=xoe(r),u=T.useRef(null),c=T.useRef(null),d=T.useRef(null),h=T.useRef(null),f=tr(t,h,a.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;T.useEffect(()=>{const m=v=>{n.length!==0&&n.every(x=>v[x]||v.code===x)&&h.current?.focus()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),T.useEffect(()=>{const m=u.current,v=h.current;if(g&&m&&v){const b=()=>{if(!a.isClosePausedRef.current){const R=new CustomEvent(jk);v.dispatchEvent(R),a.isClosePausedRef.current=!0}},x=()=>{if(a.isClosePausedRef.current){const R=new CustomEvent(Nk);v.dispatchEvent(R),a.isClosePausedRef.current=!1}},j=R=>{!m.contains(R.relatedTarget)&&x()},C=()=>{m.contains(document.activeElement)||x()};return m.addEventListener("focusin",b),m.addEventListener("focusout",j),m.addEventListener("pointermove",b),m.addEventListener("pointerleave",C),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{m.removeEventListener("focusin",b),m.removeEventListener("focusout",j),m.removeEventListener("pointermove",b),m.removeEventListener("pointerleave",C),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[g,a.isClosePausedRef]);const y=T.useCallback(({tabbingDirection:m})=>{const b=o().map(x=>{const j=x.ref.current,C=[j,...$oe(j)];return m==="forwards"?C:C.reverse()});return(m==="forwards"?b.reverse():b).flat()},[o]);return T.useEffect(()=>{const m=h.current;if(m){const v=b=>{const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const C=document.activeElement,R=b.shiftKey;if(b.target===m&&R){c.current?.focus();return}const P=y({tabbingDirection:R?"backwards":"forwards"}),$=P.findIndex(V=>V===C);$w(P.slice($+1))?b.preventDefault():R?c.current?.focus():d.current?.focus()}};return m.addEventListener("keydown",v),()=>m.removeEventListener("keydown",v)}},[o,y]),l.jsxs(Zae,{ref:u,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx(Ck,{ref:c,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"forwards"});$w(m)}}),l.jsx(fj.Slot,{scope:r,children:l.jsx(wt.ol,{tabIndex:-1,...i,ref:f})}),g&&l.jsx(Ck,{ref:d,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"backwards"});$w(m)}})]})});NO.displayName=jO;var CO="ToastFocusProxy",Ck=T.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=ex(CO,r);return l.jsx(uj,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{const o=a.relatedTarget;!i.viewport?.contains(o)&&n()}})});Ck.displayName=CO;var Eg="Toast",Soe="toast.swipeStart",joe="toast.swipeMove",Noe="toast.swipeCancel",Coe="toast.swipeEnd",TO=T.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=e,[o,u]=Ma({prop:n,defaultProp:s??!0,onChange:i,caller:Eg});return l.jsx(Jn,{present:r||o,children:l.jsx(Aoe,{open:o,...a,ref:t,onClose:()=>u(!1),onPause:Ys(e.onPause),onResume:Ys(e.onResume),onSwipeStart:et(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:et(e.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:et(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:et(e.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),u(!1)})})})});TO.displayName=Eg;var[Toe,Eoe]=kO(Eg,{onClose(){}}),Aoe=T.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:o,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...g}=e,y=ex(Eg,r),[m,v]=T.useState(null),b=tr(t,I=>v(I)),x=T.useRef(null),j=T.useRef(null),C=s||y.duration,R=T.useRef(0),L=T.useRef(C),A=T.useRef(0),{onToastAdd:P,onToastRemove:$}=y,V=Ys(()=>{m?.contains(document.activeElement)&&y.viewport?.focus(),a()}),U=T.useCallback(I=>{!I||I===1/0||(window.clearTimeout(A.current),R.current=new Date().getTime(),A.current=window.setTimeout(V,I))},[V]);T.useEffect(()=>{const I=y.viewport;if(I){const N=()=>{U(L.current),c?.()},w=()=>{const _=new Date().getTime()-R.current;L.current=L.current-_,window.clearTimeout(A.current),u?.()};return I.addEventListener(jk,w),I.addEventListener(Nk,N),()=>{I.removeEventListener(jk,w),I.removeEventListener(Nk,N)}}},[y.viewport,C,u,c,U]),T.useEffect(()=>{i&&!y.isClosePausedRef.current&&U(C)},[i,C,y.isClosePausedRef,U]),T.useEffect(()=>(P(),()=>$()),[P,$]);const E=T.useMemo(()=>m?RO(m):null,[m]);return y.viewport?l.jsxs(l.Fragment,{children:[E&&l.jsx(Poe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:E}),l.jsx(Toe,{scope:r,onClose:V,children:uu.createPortal(l.jsx(fj.ItemSlot,{scope:r,children:l.jsx(Kae,{asChild:!0,onEscapeKeyDown:et(o,()=>{y.isFocusedToastEscapeKeyDownRef.current||V(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(wt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:et(e.onKeyDown,I=>{I.key==="Escape"&&(o?.(I.nativeEvent),I.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:et(e.onPointerDown,I=>{I.button===0&&(x.current={x:I.clientX,y:I.clientY})}),onPointerMove:et(e.onPointerMove,I=>{if(!x.current)return;const N=I.clientX-x.current.x,w=I.clientY-x.current.y,_=!!j.current,k=["left","right"].includes(y.swipeDirection),S=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,D=k?S(0,N):0,O=k?0:S(0,w),B=I.pointerType==="touch"?10:2,q={x:D,y:O},H={originalEvent:I,delta:q};_?(j.current=q,ty(joe,h,H,{discrete:!1})):V8(q,y.swipeDirection,B)?(j.current=q,ty(Soe,d,H,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(N)>B||Math.abs(w)>B)&&(x.current=null)}),onPointerUp:et(e.onPointerUp,I=>{const N=j.current,w=I.target;if(w.hasPointerCapture(I.pointerId)&&w.releasePointerCapture(I.pointerId),j.current=null,x.current=null,N){const _=I.currentTarget,k={originalEvent:I,delta:N};V8(N,y.swipeDirection,y.swipeThreshold)?ty(Coe,p,k,{discrete:!0}):ty(Noe,f,k,{discrete:!0}),_.addEventListener("click",S=>S.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Poe=e=>{const{__scopeToast:t,children:r,...n}=e,s=ex(Eg,t),[i,a]=T.useState(!1),[o,u]=T.useState(!1);return Moe(()=>a(!0)),T.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:l.jsx($h,{asChild:!0,children:l.jsx(uj,{...n,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},Ioe="ToastTitle",EO=T.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(wt.div,{...n,ref:t})});EO.displayName=Ioe;var Doe="ToastDescription",AO=T.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(wt.div,{...n,ref:t})});AO.displayName=Doe;var PO="ToastAction",IO=T.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(MO,{altText:r,asChild:!0,children:l.jsx(hj,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${PO}\`. Expected non-empty \`string\`.`),null)});IO.displayName=PO;var DO="ToastClose",hj=T.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Eoe(DO,r);return l.jsx(MO,{asChild:!0,children:l.jsx(wt.button,{type:"button",...n,ref:t,onClick:et(e.onClick,s.onClose)})})});hj.displayName=DO;var MO=T.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function RO(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Roe(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...RO(n))}}),t}function ty(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?_O(s,i):s.dispatchEvent(i)}var V8=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function Moe(e=()=>{}){const t=Ys(e);js(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Roe(e){return e.nodeType===e.ELEMENT_NODE}function $oe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function $w(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Ooe=SO,$O=NO,OO=TO,FO=EO,LO=AO,zO=IO,BO=hj;function UO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=UO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function VO(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=UO(e))&&(n&&(n+=" "),n+=t);return n}const W8=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,q8=VO,Md=(e,t)=>r=>{var n;if(t?.variants==null)return q8(e,r?.class,r?.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(c=>{const d=r?.[c],h=i?.[c];if(d===null)return null;const f=W8(d)||W8(h);return s[c][f]}),o=r&&Object.entries(r).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(g=>{let[y,m]=g;return Array.isArray(m)?m.includes({...i,...o}[y]):{...i,...o}[y]===m})?[...c,h,f]:c},[]);return q8(e,a,u,r?.class,r?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WO=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Loe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},u)=>T.createElement("svg",{ref:u,...Loe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:WO("lucide",s),...o},[...a.map(([c,d])=>T.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(e,t)=>{const r=T.forwardRef(({className:n,...s},i)=>T.createElement(zoe,{ref:i,iconNode:t,className:WO(`lucide-${Foe(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Me("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=Me("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=Me("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=Me("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Me("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=Me("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=Me("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=Me("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=Me("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=Me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Me("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Me("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=Me("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=Me("ChartGantt",[["path",{d:"M10 6h8",key:"zvc2xc"}],["path",{d:"M12 16h6",key:"yi5mkt"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 11h7",key:"wz2hg0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Me("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=Me("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=Me("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=Me("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=Me("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=Me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=Me("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=Me("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=Me("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=Me("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=Me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=Me("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=Me("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=Me("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=Me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Me("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=Me("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Me("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=Me("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=Me("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=Me("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=Me("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=Me("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Me("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=Me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=Me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=Me("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Me("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=Me("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=Me("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=Me("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=Me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=Me("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=Me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=Me("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=Me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=Me("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mle=Me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=Me("MonitorSmartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=Me("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=Me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ble=Me("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Me("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=Me("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=Me("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=Me("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=Me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=Me("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Me("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=Me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=Me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=Me("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Me("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=Me("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=Me("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=Me("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=Me("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Me("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=Me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=Me("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=Me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Me("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=Me("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Me("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=Me("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=Me("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=Me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=Me("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Me("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Me("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=Me("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Me("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),vj="-",Ele=e=>{const t=Ple(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const o=a.split(vj);return o[0]===""&&o.length!==1&&o.shift(),tF(o,t)||Ale(a)},getConflictingClassGroupIds:(a,o)=>{const u=r[a]||[];return o&&n[a]?[...u,...n[a]]:u}}},tF=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?tF(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(vj);return t.validators.find(({validator:a})=>a(i))?.classGroupId},tT=/^\[(.+)\]$/,Ale=e=>{if(tT.test(e)){const t=tT.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Ple=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Dle(Object.entries(e.classGroups),r).forEach(([i,a])=>{Ik(a,n,i,t)}),n},Ik=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:rT(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Ile(s)){Ik(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{Ik(a,rT(t,i),r,n)})})},rT=(e,t)=>{let r=e;return t.split(vj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ile=e=>e.isThemeGetter,Dle=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[r,s]}):e,Mle=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},rF="!",Rle=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=o=>{const u=[];let c=0,d=0,h;for(let m=0;m<o.length;m++){let v=o[m];if(c===0){if(v===s&&(n||o.slice(m,m+i)===t)){u.push(o.slice(d,m)),d=m+i;continue}if(v==="/"){h=m;continue}}v==="["?c++:v==="]"&&c--}const f=u.length===0?o:o.substring(d),p=f.startsWith(rF),g=p?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}};return r?o=>r({className:o,parseClassName:a}):a},$le=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Ole=e=>({cache:Mle(e.cacheSize),parseClassName:Rle(e),...Ele(e)}),Fle=/\s+/,Lle=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(Fle);let o="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(c);let g=!!p,y=n(g?f.substring(0,p):f);if(!y){if(!g){o=c+(o.length>0?" "+o:o);continue}if(y=n(f),!y){o=c+(o.length>0?" "+o:o);continue}g=!1}const m=$le(d).join(":"),v=h?m+rF:m,b=v+y;if(i.includes(b))continue;i.push(b);const x=s(y,g);for(let j=0;j<x.length;++j){const C=x[j];i.push(v+C)}o=c+(o.length>0?" "+o:o)}return o};function zle(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=nF(t))&&(n&&(n+=" "),n+=r);return n}const nF=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=nF(e[n]))&&(r&&(r+=" "),r+=t);return r};function Ble(e,...t){let r,n,s,i=a;function a(u){const c=t.reduce((d,h)=>h(d),e());return r=Ole(c),n=r.cache.get,s=r.cache.set,i=o,o(u)}function o(u){const c=n(u);if(c)return c;const d=Lle(u,r);return s(u,d),d}return function(){return i(zle.apply(null,arguments))}}const sn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},sF=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ule=/^\d+\/\d+$/,Vle=new Set(["px","full","screen"]),Wle=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kle=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tl=e=>Mf(e)||Vle.has(e)||Ule.test(e),Yl=e=>Fh(e,"length",rce),Mf=e=>!!e&&!Number.isNaN(Number(e)),Fw=e=>Fh(e,"number",Mf),yp=e=>!!e&&Number.isInteger(Number(e)),Gle=e=>e.endsWith("%")&&Mf(e.slice(0,-1)),lr=e=>sF.test(e),Jl=e=>Wle.test(e),Xle=new Set(["length","size","percentage"]),Qle=e=>Fh(e,Xle,iF),Yle=e=>Fh(e,"position",iF),Jle=new Set(["image","url"]),ece=e=>Fh(e,Jle,sce),tce=e=>Fh(e,"",nce),bp=()=>!0,Fh=(e,t,r)=>{const n=sF.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},rce=e=>qle.test(e)&&!Hle.test(e),iF=()=>!1,nce=e=>Kle.test(e),sce=e=>Zle.test(e),ice=()=>{const e=sn("colors"),t=sn("spacing"),r=sn("blur"),n=sn("brightness"),s=sn("borderColor"),i=sn("borderRadius"),a=sn("borderSpacing"),o=sn("borderWidth"),u=sn("contrast"),c=sn("grayscale"),d=sn("hueRotate"),h=sn("invert"),f=sn("gap"),p=sn("gradientColorStops"),g=sn("gradientColorStopPositions"),y=sn("inset"),m=sn("margin"),v=sn("opacity"),b=sn("padding"),x=sn("saturate"),j=sn("scale"),C=sn("sepia"),R=sn("skew"),L=sn("space"),A=sn("translate"),P=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",lr,t],U=()=>[lr,t],E=()=>["",tl,Yl],I=()=>["auto",Mf,lr],N=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],w=()=>["solid","dashed","dotted","double","none"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],S=()=>["","0",lr],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Mf,lr];return{cacheSize:500,separator:":",theme:{colors:[bp],spacing:[tl,Yl],blur:["none","",Jl,lr],brightness:O(),borderColor:[e],borderRadius:["none","","full",Jl,lr],borderSpacing:U(),borderWidth:E(),contrast:O(),grayscale:S(),hueRotate:O(),invert:S(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[Gle,Yl],inset:V(),margin:V(),opacity:O(),padding:U(),saturate:O(),scale:O(),sepia:S(),skew:O(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",lr]}],container:["container"],columns:[{columns:[Jl]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...N(),lr]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yp,lr]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lr]}],grow:[{grow:S()}],shrink:[{shrink:S()}],order:[{order:["first","last","none",yp,lr]}],"grid-cols":[{"grid-cols":[bp]}],"col-start-end":[{col:["auto",{span:["full",yp,lr]},lr]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[bp]}],"row-start-end":[{row:["auto",{span:[yp,lr]},lr]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lr,t]}],"min-w":[{"min-w":[lr,t,"min","max","fit"]}],"max-w":[{"max-w":[lr,t,"none","full","min","max","fit","prose",{screen:[Jl]},Jl]}],h:[{h:[lr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Jl,Yl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fw]}],"font-family":[{font:[bp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lr]}],"line-clamp":[{"line-clamp":["none",Mf,Fw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tl,lr]}],"list-image":[{"list-image":["none",lr]}],"list-style-type":[{list:["none","disc","decimal",lr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...w(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tl,Yl]}],"underline-offset":[{"underline-offset":["auto",tl,lr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...N(),Yle]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qle]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ece]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...w(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:w()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...w()]}],"outline-offset":[{"outline-offset":[tl,lr]}],"outline-w":[{outline:[tl,Yl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[tl,Yl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Jl,tce]}],"shadow-color":[{shadow:[bp]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[..._(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Jl,lr]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lr]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",lr]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",lr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[yp,lr]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[tl,Yl,Fw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ace=Ble(ice);function we(...e){return ace(VO(e))}const ze=e=>{if(e==null)return"0 .";let t;if(typeof e=="string"){if(e.match(/^(\d{1,3})\1{2,}$/))return"0 .";const r=e.replace(/[^\d.-]/g,"");t=parseFloat(r)}else t=e;return isNaN(t)||!isFinite(t)?"0 .":Math.abs(t)>1e11?(console.warn("    :",t),"0 ."):`${t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})} .`},es=e=>{if(e==null)return 0;if(typeof e=="number")return isNaN(e)||!isFinite(e)||Math.abs(e)>1e11?0:e;if(typeof e=="string"){if(e.match(/^(\d{1,3})\1{2,}$/)||e.match(/^(\d)\1{5,}$/))return 0;const t=e.replace(/[^\d.-]/g,""),r=parseFloat(t);return isNaN(r)||!isFinite(r)||Math.abs(r)>1e11?0:r}return 0},Ga=e=>{const t=typeof e=="string"?new Date(e):e;return isNaN(t.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}).format(t).replace(/[-]/g,n=>"0123456789"["".indexOf(n)])},nT=e=>{const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"";const r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${s}`};function Ds(){return new Date().toISOString().split("T")[0]}const oce=Ooe,aF=T.forwardRef(({className:e,...t},r)=>l.jsx($O,{ref:r,className:we("fixed top-4 left-4 z-[9999] flex max-h-screen w-full max-w-md flex-col gap-3 p-4 sm:max-w-[420px]",e),...t}));aF.displayName=$O.displayName;const lce=Md("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-2xl border p-4 pr-8 shadow-2xl transition-all duration-300 ease-out data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-right-full data-[state=open]:slide-in-from-top-8 backdrop-blur-md hover:scale-[1.02] hover:shadow-3xl",{variants:{variant:{default:"border-border bg-card dark:bg-slate-900 text-foreground shadow-lg",destructive:"destructive group border-destructive/50 bg-destructive/10 dark:bg-destructive/20 text-destructive shadow-lg backdrop-blur-xl",success:"border-green-500/50 bg-green-500/10 dark:bg-green-500/20 text-green-600 dark:text-green-400 shadow-lg",warning:"border-yellow-500/50 bg-yellow-500/10 dark:bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 shadow-lg"}},defaultVariants:{variant:"default"}}),oF=T.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(OO,{ref:n,className:we(lce({variant:t}),e),...r}));oF.displayName=OO.displayName;const cce=T.forwardRef(({className:e,...t},r)=>l.jsx(zO,{ref:r,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-xl border bg-transparent px-3 text-sm font-medium ring-offset-background transition-all duration-200 hover:bg-secondary hover:scale-105 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-red-300/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400",e),...t}));cce.displayName=zO.displayName;const lF=T.forwardRef(({className:e,...t},r)=>l.jsx(BO,{ref:r,className:we("absolute right-2 top-2 rounded-xl p-1.5 text-foreground/50 opacity-0 transition-all duration-200 hover:text-foreground hover:bg-gray-100/80 hover:scale-110 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:hover:bg-red-500/20 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(os,{className:"h-4 w-4 transition-transform duration-200 hover:rotate-90"})}));lF.displayName=BO.displayName;const cF=T.forwardRef(({className:e,...t},r)=>l.jsx(FO,{ref:r,className:we("text-sm font-bold tracking-wide",e),...t}));cF.displayName=FO.displayName;const uF=T.forwardRef(({className:e,...t},r)=>l.jsx(LO,{ref:r,className:we("text-sm opacity-90 leading-relaxed",e),...t}));uF.displayName=LO.displayName;function uce(){const{toasts:e}=zr();return l.jsxs(oce,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return l.jsxs(oF,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(cF,{children:r}),n&&l.jsx(uF,{children:n})]}),s,l.jsx(lF,{})]},t)}),l.jsx(aF,{})]})}var dce=Dv[" useId ".trim().toString()]||(()=>{}),fce=0;function Qi(e){const[t,r]=T.useState(dce());return js(()=>{r(n=>n??String(fce++))},[e]),t?`radix-${t}`:""}const hce=["top","right","bottom","left"],Xc=Math.min,Wi=Math.max,Vb=Math.round,ry=Math.floor,Lo=e=>({x:e,y:e}),pce={left:"right",right:"left",bottom:"top",top:"bottom"},mce={start:"end",end:"start"};function Dk(e,t,r){return Wi(e,Xc(t,r))}function Dl(e,t){return typeof e=="function"?e(t):e}function Ml(e){return e.split("-")[0]}function Lh(e){return e.split("-")[1]}function xj(e){return e==="x"?"y":"x"}function wj(e){return e==="y"?"height":"width"}const gce=new Set(["top","bottom"]);function Do(e){return gce.has(Ml(e))?"y":"x"}function _j(e){return xj(Do(e))}function yce(e,t,r){r===void 0&&(r=!1);const n=Lh(e),s=_j(e),i=wj(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Wb(a)),[a,Wb(a)]}function bce(e){const t=Wb(e);return[Mk(e),t,Mk(t)]}function Mk(e){return e.replace(/start|end/g,t=>mce[t])}const sT=["left","right"],iT=["right","left"],vce=["top","bottom"],xce=["bottom","top"];function wce(e,t,r){switch(e){case"top":case"bottom":return r?t?iT:sT:t?sT:iT;case"left":case"right":return t?vce:xce;default:return[]}}function _ce(e,t,r,n){const s=Lh(e);let i=wce(Ml(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(Mk)))),i}function Wb(e){return e.replace(/left|right|bottom|top/g,t=>pce[t])}function kce(e){return{top:0,right:0,bottom:0,left:0,...e}}function dF(e){return typeof e!="number"?kce(e):{top:e,right:e,bottom:e,left:e}}function qb(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function aT(e,t,r){let{reference:n,floating:s}=e;const i=Do(t),a=_j(t),o=wj(a),u=Ml(t),c=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[o]/2-s[o]/2;let p;switch(u){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-s.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Lh(t)){case"start":p[a]-=f*(r&&c?-1:1);break;case"end":p[a]+=f*(r&&c?-1:1);break}return p}const Sce=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,o=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=aT(c,n,u),f=n,p={},g=0;for(let y=0;y<o.length;y++){const{name:m,fn:v}=o[y],{x:b,y:x,data:j,reset:C}=await v({x:d,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});d=b??d,h=x??h,p={...p,[m]:{...p[m],...j}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:h}=aT(c,f,u)),y=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Rm(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:o,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Dl(t,e),g=dF(p),m=o[f?h==="floating"?"reference":"floating":h],v=qb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(m)))==null||r?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:u})),b=h==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),j=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},C=qb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:x,strategy:u}):b);return{top:(v.top-C.top+g.top)/j.y,bottom:(C.bottom-v.bottom+g.bottom)/j.y,left:(v.left-C.left+g.left)/j.x,right:(C.right-v.right+g.right)/j.x}}const jce=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:o,middlewareData:u}=t,{element:c,padding:d=0}=Dl(e,t)||{};if(c==null)return{};const h=dF(d),f={x:r,y:n},p=_j(s),g=wj(p),y=await a.getDimensions(c),m=p==="y",v=m?"top":"left",b=m?"bottom":"right",x=m?"clientHeight":"clientWidth",j=i.reference[g]+i.reference[p]-f[p]-i.floating[g],C=f[p]-i.reference[p],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let L=R?R[x]:0;(!L||!await(a.isElement==null?void 0:a.isElement(R)))&&(L=o.floating[x]||i.floating[g]);const A=j/2-C/2,P=L/2-y[g]/2-1,$=Xc(h[v],P),V=Xc(h[b],P),U=$,E=L-y[g]-V,I=L/2-y[g]/2+A,N=Dk(U,I,E),w=!u.arrow&&Lh(s)!=null&&I!==N&&i.reference[g]/2-(I<U?$:V)-y[g]/2<0,_=w?I<U?I-U:I-E:0;return{[p]:f[p]+_,data:{[p]:N,centerOffset:I-N-_,...w&&{alignmentOffset:_}},reset:w}}}),Nce=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:u,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...m}=Dl(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Ml(s),b=Do(o),x=Ml(o)===o,j=await(u.isRTL==null?void 0:u.isRTL(c.floating)),C=f||(x||!y?[Wb(o)]:bce(o)),R=g!=="none";!f&&R&&C.push(..._ce(o,y,g,j));const L=[o,...C],A=await Rm(t,m),P=[];let $=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(A[v]),h){const I=yce(s,a,j);P.push(A[I[0]],A[I[1]])}if($=[...$,{placement:s,overflows:P}],!P.every(I=>I<=0)){var V,U;const I=(((V=i.flip)==null?void 0:V.index)||0)+1,N=L[I];if(N&&(!(h==="alignment"?b!==Do(N):!1)||$.every(k=>Do(k.placement)===b?k.overflows[0]>0:!0)))return{data:{index:I,overflows:$},reset:{placement:N}};let w=(U=$.filter(_=>_.overflows[0]<=0).sort((_,k)=>_.overflows[1]-k.overflows[1])[0])==null?void 0:U.placement;if(!w)switch(p){case"bestFit":{var E;const _=(E=$.filter(k=>{if(R){const S=Do(k.placement);return S===b||S==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(S=>S>0).reduce((S,D)=>S+D,0)]).sort((k,S)=>k[1]-S[1])[0])==null?void 0:E[0];_&&(w=_);break}case"initialPlacement":w=o;break}if(s!==w)return{reset:{placement:w}}}return{}}}};function oT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lT(e){return hce.some(t=>e[t]>=0)}const Cce=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Dl(e,t);switch(n){case"referenceHidden":{const i=await Rm(t,{...s,elementContext:"reference"}),a=oT(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:lT(a)}}}case"escaped":{const i=await Rm(t,{...s,altBoundary:!0}),a=oT(i,r.floating);return{data:{escapedOffsets:a,escaped:lT(a)}}}default:return{}}}}},fF=new Set(["left","top"]);async function Tce(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Ml(r),o=Lh(r),u=Do(r)==="y",c=fF.has(a)?-1:1,d=i&&u?-1:1,h=Dl(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),u?{x:p*d,y:f*c}:{x:f*c,y:p*d}}const Ece=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:o}=t,u=await Tce(t,e);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:a}}}}},Ace=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:m=>{let{x:v,y:b}=m;return{x:v,y:b}}},...u}=Dl(e,t),c={x:r,y:n},d=await Rm(t,u),h=Do(Ml(s)),f=xj(h);let p=c[f],g=c[h];if(i){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=p+d[m],x=p-d[v];p=Dk(b,p,x)}if(a){const m=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=g+d[m],x=g-d[v];g=Dk(b,g,x)}const y=o.fn({...t,[f]:p,[h]:g});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[f]:i,[h]:a}}}}}},Pce=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:o=0,mainAxis:u=!0,crossAxis:c=!0}=Dl(e,t),d={x:r,y:n},h=Do(s),f=xj(h);let p=d[f],g=d[h];const y=Dl(o,t),m=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const x=f==="y"?"height":"width",j=i.reference[f]-i.floating[x]+m.mainAxis,C=i.reference[f]+i.reference[x]-m.mainAxis;p<j?p=j:p>C&&(p=C)}if(c){var v,b;const x=f==="y"?"width":"height",j=fF.has(Ml(s)),C=i.reference[h]-i.floating[x]+(j&&((v=a.offset)==null?void 0:v[h])||0)+(j?0:m.crossAxis),R=i.reference[h]+i.reference[x]+(j?0:((b=a.offset)==null?void 0:b[h])||0)-(j?m.crossAxis:0);g<C?g=C:g>R&&(g=R)}return{[f]:p,[h]:g}}}},Ice=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:o}=t,{apply:u=()=>{},...c}=Dl(e,t),d=await Rm(t,c),h=Ml(s),f=Lh(s),p=Do(s)==="y",{width:g,height:y}=i.floating;let m,v;h==="top"||h==="bottom"?(m=h,v=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=h,m=f==="end"?"top":"bottom");const b=y-d.top-d.bottom,x=g-d.left-d.right,j=Xc(y-d[m],b),C=Xc(g-d[v],x),R=!t.middlewareData.shift;let L=j,A=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(L=b),R&&!f){const $=Wi(d.left,0),V=Wi(d.right,0),U=Wi(d.top,0),E=Wi(d.bottom,0);p?A=g-2*($!==0||V!==0?$+V:Wi(d.left,d.right)):L=y-2*(U!==0||E!==0?U+E:Wi(d.top,d.bottom))}await u({...t,availableWidth:A,availableHeight:L});const P=await a.getDimensions(o.floating);return g!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function tx(){return typeof window<"u"}function zh(e){return hF(e)?(e.nodeName||"").toLowerCase():"#document"}function Yi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xo(e){var t;return(t=(hF(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hF(e){return tx()?e instanceof Node||e instanceof Yi(e).Node:!1}function fo(e){return tx()?e instanceof Element||e instanceof Yi(e).Element:!1}function Ko(e){return tx()?e instanceof HTMLElement||e instanceof Yi(e).HTMLElement:!1}function cT(e){return!tx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yi(e).ShadowRoot}const Dce=new Set(["inline","contents"]);function Ig(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=ho(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Dce.has(s)}const Mce=new Set(["table","td","th"]);function Rce(e){return Mce.has(zh(e))}const $ce=[":popover-open",":modal"];function rx(e){return $ce.some(t=>{try{return e.matches(t)}catch{return!1}})}const Oce=["transform","translate","scale","rotate","perspective"],Fce=["transform","translate","scale","rotate","perspective","filter"],Lce=["paint","layout","strict","content"];function kj(e){const t=Sj(),r=fo(e)?ho(e):e;return Oce.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Fce.some(n=>(r.willChange||"").includes(n))||Lce.some(n=>(r.contain||"").includes(n))}function zce(e){let t=Qc(e);for(;Ko(t)&&!uh(t);){if(kj(t))return t;if(rx(t))return null;t=Qc(t)}return null}function Sj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Bce=new Set(["html","body","#document"]);function uh(e){return Bce.has(zh(e))}function ho(e){return Yi(e).getComputedStyle(e)}function nx(e){return fo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qc(e){if(zh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cT(e)&&e.host||Xo(e);return cT(t)?t.host:t}function pF(e){const t=Qc(e);return uh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ko(t)&&Ig(t)?t:pF(t)}function $m(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=pF(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=Yi(s);if(i){const o=Rk(a);return t.concat(a,a.visualViewport||[],Ig(s)?s:[],o&&r?$m(o):[])}return t.concat(s,$m(s,[],r))}function Rk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mF(e){const t=ho(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ko(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,o=Vb(r)!==i||Vb(n)!==a;return o&&(r=i,n=a),{width:r,height:n,$:o}}function jj(e){return fo(e)?e:e.contextElement}function Rf(e){const t=jj(e);if(!Ko(t))return Lo(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=mF(t);let a=(i?Vb(r.width):r.width)/n,o=(i?Vb(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Uce=Lo(0);function gF(e){const t=Yi(e);return!Sj()||!t.visualViewport?Uce:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Vce(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Yi(e)?!1:t}function gd(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=jj(e);let a=Lo(1);t&&(n?fo(n)&&(a=Rf(n)):a=Rf(e));const o=Vce(i,r,n)?gF(i):Lo(0);let u=(s.left+o.x)/a.x,c=(s.top+o.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const f=Yi(i),p=n&&fo(n)?Yi(n):n;let g=f,y=Rk(g);for(;y&&n&&p!==g;){const m=Rf(y),v=y.getBoundingClientRect(),b=ho(y),x=v.left+(y.clientLeft+parseFloat(b.paddingLeft))*m.x,j=v.top+(y.clientTop+parseFloat(b.paddingTop))*m.y;u*=m.x,c*=m.y,d*=m.x,h*=m.y,u+=x,c+=j,g=Yi(y),y=Rk(g)}}return qb({width:d,height:h,x:u,y:c})}function sx(e,t){const r=nx(e).scrollLeft;return t?t.left+r:gd(Xo(e)).left+r}function yF(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-sx(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function Wce(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=Xo(n),o=t?rx(t.floating):!1;if(n===a||o&&i)return r;let u={scrollLeft:0,scrollTop:0},c=Lo(1);const d=Lo(0),h=Ko(n);if((h||!h&&!i)&&((zh(n)!=="body"||Ig(a))&&(u=nx(n)),Ko(n))){const p=gd(n);c=Rf(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const f=a&&!h&&!i?yF(a,u):Lo(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-u.scrollLeft*c.x+d.x+f.x,y:r.y*c.y-u.scrollTop*c.y+d.y+f.y}}function qce(e){return Array.from(e.getClientRects())}function Hce(e){const t=Xo(e),r=nx(e),n=e.ownerDocument.body,s=Wi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Wi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+sx(e);const o=-r.scrollTop;return ho(n).direction==="rtl"&&(a+=Wi(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:o}}const uT=25;function Kce(e,t){const r=Yi(e),n=Xo(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,o=0,u=0;if(s){i=s.width,a=s.height;const d=Sj();(!d||d&&t==="fixed")&&(o=s.offsetLeft,u=s.offsetTop)}const c=sx(n);if(c<=0){const d=n.ownerDocument,h=d.body,f=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(n.clientWidth-h.clientWidth-p);g<=uT&&(i-=g)}else c<=uT&&(i+=c);return{width:i,height:a,x:o,y:u}}const Zce=new Set(["absolute","fixed"]);function Gce(e,t){const r=gd(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Ko(e)?Rf(e):Lo(1),a=e.clientWidth*i.x,o=e.clientHeight*i.y,u=s*i.x,c=n*i.y;return{width:a,height:o,x:u,y:c}}function dT(e,t,r){let n;if(t==="viewport")n=Kce(e,r);else if(t==="document")n=Hce(Xo(e));else if(fo(t))n=Gce(t,r);else{const s=gF(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return qb(n)}function bF(e,t){const r=Qc(e);return r===t||!fo(r)||uh(r)?!1:ho(r).position==="fixed"||bF(r,t)}function Xce(e,t){const r=t.get(e);if(r)return r;let n=$m(e,[],!1).filter(o=>fo(o)&&zh(o)!=="body"),s=null;const i=ho(e).position==="fixed";let a=i?Qc(e):e;for(;fo(a)&&!uh(a);){const o=ho(a),u=kj(a);!u&&o.position==="fixed"&&(s=null),(i?!u&&!s:!u&&o.position==="static"&&!!s&&Zce.has(s.position)||Ig(a)&&!u&&bF(e,a))?n=n.filter(d=>d!==a):s=o,a=Qc(a)}return t.set(e,n),n}function Qce(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?rx(t)?[]:Xce(t,this._c):[].concat(r),n],o=a[0],u=a.reduce((c,d)=>{const h=dT(t,d,s);return c.top=Wi(h.top,c.top),c.right=Xc(h.right,c.right),c.bottom=Xc(h.bottom,c.bottom),c.left=Wi(h.left,c.left),c},dT(t,o,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Yce(e){const{width:t,height:r}=mF(e);return{width:t,height:r}}function Jce(e,t,r){const n=Ko(t),s=Xo(t),i=r==="fixed",a=gd(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const u=Lo(0);function c(){u.x=sx(s)}if(n||!n&&!i)if((zh(t)!=="body"||Ig(s))&&(o=nx(t)),n){const p=gd(t,!0,i,t);u.x=p.x+t.clientLeft,u.y=p.y+t.clientTop}else s&&c();i&&!n&&s&&c();const d=s&&!n&&!i?yF(s,o):Lo(0),h=a.left+o.scrollLeft-u.x-d.x,f=a.top+o.scrollTop-u.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function Lw(e){return ho(e).position==="static"}function fT(e,t){if(!Ko(e)||ho(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xo(e)===r&&(r=r.ownerDocument.body),r}function vF(e,t){const r=Yi(e);if(rx(e))return r;if(!Ko(e)){let s=Qc(e);for(;s&&!uh(s);){if(fo(s)&&!Lw(s))return s;s=Qc(s)}return r}let n=fT(e,t);for(;n&&Rce(n)&&Lw(n);)n=fT(n,t);return n&&uh(n)&&Lw(n)&&!kj(n)?r:n||zce(e)||r}const eue=async function(e){const t=this.getOffsetParent||vF,r=this.getDimensions,n=await r(e.floating);return{reference:Jce(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tue(e){return ho(e).direction==="rtl"}const rue={convertOffsetParentRelativeRectToViewportRelativeRect:Wce,getDocumentElement:Xo,getClippingRect:Qce,getOffsetParent:vF,getElementRects:eue,getClientRects:qce,getDimensions:Yce,getScale:Rf,isElement:fo,isRTL:tue};function xF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nue(e,t){let r=null,n;const s=Xo(e);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,u){o===void 0&&(o=!1),u===void 0&&(u=1),i();const c=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=c;if(o||t(),!f||!p)return;const g=ry(h),y=ry(s.clientWidth-(d+f)),m=ry(s.clientHeight-(h+p)),v=ry(d),x={rootMargin:-g+"px "+-y+"px "+-m+"px "+-v+"px",threshold:Wi(0,Xc(1,u))||1};let j=!0;function C(R){const L=R[0].intersectionRatio;if(L!==u){if(!j)return a();L?a(!1,L):n=setTimeout(()=>{a(!1,1e-7)},1e3)}L===1&&!xF(c,e.getBoundingClientRect())&&a(),j=!1}try{r=new IntersectionObserver(C,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,x)}r.observe(e)}return a(!0),i}function sue(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,c=jj(e),d=s||i?[...c?$m(c):[],...$m(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const h=c&&o?nue(c,r):null;let f=-1,p=null;a&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),r()}),c&&!u&&p.observe(c),p.observe(t));let g,y=u?gd(e):null;u&&m();function m(){const v=gd(e);y&&!xF(y,v)&&r(),y=v,g=requestAnimationFrame(m)}return r(),()=>{var v;d.forEach(b=>{s&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),h?.(),(v=p)==null||v.disconnect(),p=null,u&&cancelAnimationFrame(g)}}const iue=Ece,aue=Ace,oue=Nce,lue=Ice,cue=Cce,hT=jce,uue=Pce,due=(e,t,r)=>{const n=new Map,s={platform:rue,...r},i={...s.platform,_c:n};return Sce(e,t,{...s,platform:i})};var fue=typeof document<"u",hue=function(){},Hy=fue?T.useLayoutEffect:hue;function Hb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Hb(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Hb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function wF(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pT(e,t){const r=wF(e);return Math.round(t*r)/r}function zw(e){const t=T.useRef(e);return Hy(()=>{t.current=e}),t}function pue(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:u,open:c}=e,[d,h]=T.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=T.useState(n);Hb(f,n)||p(n);const[g,y]=T.useState(null),[m,v]=T.useState(null),b=T.useCallback(k=>{k!==R.current&&(R.current=k,y(k))},[]),x=T.useCallback(k=>{k!==L.current&&(L.current=k,v(k))},[]),j=i||g,C=a||m,R=T.useRef(null),L=T.useRef(null),A=T.useRef(d),P=u!=null,$=zw(u),V=zw(s),U=zw(c),E=T.useCallback(()=>{if(!R.current||!L.current)return;const k={placement:t,strategy:r,middleware:f};V.current&&(k.platform=V.current),due(R.current,L.current,k).then(S=>{const D={...S,isPositioned:U.current!==!1};I.current&&!Hb(A.current,D)&&(A.current=D,uu.flushSync(()=>{h(D)}))})},[f,t,r,V,U]);Hy(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(k=>({...k,isPositioned:!1})))},[c]);const I=T.useRef(!1);Hy(()=>(I.current=!0,()=>{I.current=!1}),[]),Hy(()=>{if(j&&(R.current=j),C&&(L.current=C),j&&C){if($.current)return $.current(j,C,E);E()}},[j,C,E,$,P]);const N=T.useMemo(()=>({reference:R,floating:L,setReference:b,setFloating:x}),[b,x]),w=T.useMemo(()=>({reference:j,floating:C}),[j,C]),_=T.useMemo(()=>{const k={position:r,left:0,top:0};if(!w.floating)return k;const S=pT(w.floating,d.x),D=pT(w.floating,d.y);return o?{...k,transform:"translate("+S+"px, "+D+"px)",...wF(w.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:S,top:D}},[r,o,w.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:E,refs:N,elements:w,floatingStyles:_}),[d,E,N,w,_])}const mue=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?hT({element:n.current,padding:s}).fn(r):{}:n?hT({element:n,padding:s}).fn(r):{}}}},gue=(e,t)=>({...iue(e),options:[e,t]}),yue=(e,t)=>({...aue(e),options:[e,t]}),bue=(e,t)=>({...uue(e),options:[e,t]}),vue=(e,t)=>({...oue(e),options:[e,t]}),xue=(e,t)=>({...lue(e),options:[e,t]}),wue=(e,t)=>({...cue(e),options:[e,t]}),_ue=(e,t)=>({...mue(e),options:[e,t]});var kue="Arrow",_F=T.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return l.jsx(wt.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});_F.displayName=kue;var Sue=_F;function Nj(e){const[t,r]=T.useState(void 0);return js(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;a=c.inlineSize,o=c.blockSize}else a=e.offsetWidth,o=e.offsetHeight;r({width:a,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Cj="Popper",[kF,fu]=Ls(Cj),[jue,SF]=kF(Cj),jF=e=>{const{__scopePopper:t,children:r}=e,[n,s]=T.useState(null);return l.jsx(jue,{scope:t,anchor:n,onAnchorChange:s,children:r})};jF.displayName=Cj;var NF="PopperAnchor",CF=T.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=SF(NF,r),a=T.useRef(null),o=tr(t,a),u=T.useRef(null);return T.useEffect(()=>{const c=u.current;u.current=n?.current||a.current,c!==u.current&&i.onAnchorChange(u.current)}),n?null:l.jsx(wt.div,{...s,ref:o})});CF.displayName=NF;var Tj="PopperContent",[Nue,Cue]=kF(Tj),TF=T.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...y}=e,m=SF(Tj,r),[v,b]=T.useState(null),x=tr(t,K=>b(K)),[j,C]=T.useState(null),R=Nj(j),L=R?.width??0,A=R?.height??0,P=n+(i!=="center"?"-"+i:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(c)?c:[c],U=V.length>0,E={padding:$,boundary:V.filter(Eue),altBoundary:U},{refs:I,floatingStyles:N,placement:w,isPositioned:_,middlewareData:k}=pue({strategy:"fixed",placement:P,whileElementsMounted:(...K)=>sue(...K,{animationFrame:p==="always"}),elements:{reference:m.anchor},middleware:[gue({mainAxis:s+A,alignmentAxis:a}),u&&yue({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?bue():void 0,...E}),u&&vue({...E}),xue({...E,apply:({elements:K,rects:z,availableWidth:F,availableHeight:W})=>{const{width:J,height:le}=z.reference,ne=K.floating.style;ne.setProperty("--radix-popper-available-width",`${F}px`),ne.setProperty("--radix-popper-available-height",`${W}px`),ne.setProperty("--radix-popper-anchor-width",`${J}px`),ne.setProperty("--radix-popper-anchor-height",`${le}px`)}}),j&&_ue({element:j,padding:o}),Aue({arrowWidth:L,arrowHeight:A}),f&&wue({strategy:"referenceHidden",...E})]}),[S,D]=PF(w),O=Ys(g);js(()=>{_&&O?.()},[_,O]);const B=k.arrow?.x,q=k.arrow?.y,H=k.arrow?.centerOffset!==0,[Q,M]=T.useState();return js(()=>{v&&M(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...N,transform:_?N.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[k.transformOrigin?.x,k.transformOrigin?.y].join(" "),...k.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(Nue,{scope:r,placedSide:S,onArrowChange:C,arrowX:B,arrowY:q,shouldHideArrow:H,children:l.jsx(wt.div,{"data-side":S,"data-align":D,...y,ref:x,style:{...y.style,animation:_?void 0:"none"}})})})});TF.displayName=Tj;var EF="PopperArrow",Tue={top:"bottom",right:"left",bottom:"top",left:"right"},AF=T.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=Cue(EF,n),a=Tue[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(Sue,{...s,ref:r,style:{...s.style,display:"block"}})})});AF.displayName=EF;function Eue(e){return e!==null}var Aue=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:s}=t,a=s.arrow?.centerOffset!==0,o=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[c,d]=PF(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(s.arrow?.x??0)+o/2,p=(s.arrow?.y??0)+u/2;let g="",y="";return c==="bottom"?(g=a?h:`${f}px`,y=`${-u}px`):c==="top"?(g=a?h:`${f}px`,y=`${n.floating.height+u}px`):c==="right"?(g=`${-u}px`,y=a?h:`${p}px`):c==="left"&&(g=`${n.floating.width+u}px`,y=a?h:`${p}px`),{data:{x:g,y}}}});function PF(e){const[t,r="center"]=e.split("-");return[t,r]}var ix=jF,Dg=CF,ax=TF,ox=AF,Pue=Symbol("radix.slottable");function Iue(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Pue,t}var Due=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Mue="VisuallyHidden",IF=T.forwardRef((e,t)=>l.jsx(wt.span,{...e,ref:t,style:{...Due,...e.style}}));IF.displayName=Mue;var Rue=IF,[lx]=Ls("Tooltip",[fu]),cx=fu(),DF="TooltipProvider",$ue=700,$k="tooltip.open",[Oue,Ej]=lx(DF),MF=e=>{const{__scopeTooltip:t,delayDuration:r=$ue,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,a=T.useRef(!0),o=T.useRef(!1),u=T.useRef(0);return T.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),l.jsx(Oue,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:T.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:T.useCallback(c=>{o.current=c},[]),disableHoverableContent:s,children:i})};MF.displayName=DF;var Om="Tooltip",[Fue,ux]=lx(Om),RF=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:a,delayDuration:o}=e,u=Ej(Om,e.__scopeTooltip),c=cx(t),[d,h]=T.useState(null),f=Qi(),p=T.useRef(0),g=a??u.disableHoverableContent,y=o??u.delayDuration,m=T.useRef(!1),[v,b]=Ma({prop:n,defaultProp:s??!1,onChange:L=>{L?(u.onOpen(),document.dispatchEvent(new CustomEvent($k))):u.onClose(),i?.(L)},caller:Om}),x=T.useMemo(()=>v?m.current?"delayed-open":"instant-open":"closed",[v]),j=T.useCallback(()=>{window.clearTimeout(p.current),p.current=0,m.current=!1,b(!0)},[b]),C=T.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),R=T.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{m.current=!0,b(!0),p.current=0},y)},[y,b]);return T.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(ix,{...c,children:l.jsx(Fue,{scope:t,contentId:f,open:v,stateAttribute:x,trigger:d,onTriggerChange:h,onTriggerEnter:T.useCallback(()=>{u.isOpenDelayedRef.current?R():j()},[u.isOpenDelayedRef,R,j]),onTriggerLeave:T.useCallback(()=>{g?C():(window.clearTimeout(p.current),p.current=0)},[C,g]),onOpen:j,onClose:C,disableHoverableContent:g,children:r})})};RF.displayName=Om;var Ok="TooltipTrigger",$F=T.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=ux(Ok,r),i=Ej(Ok,r),a=cx(r),o=T.useRef(null),u=tr(t,o,s.onTriggerChange),c=T.useRef(!1),d=T.useRef(!1),h=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(Dg,{asChild:!0,...a,children:l.jsx(wt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:u,onPointerMove:et(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:et(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:et(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:et(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:et(e.onBlur,s.onClose),onClick:et(e.onClick,s.onClose)})})});$F.displayName=Ok;var Lue="TooltipPortal",[jIe,zue]=lx(Lue,{forceMount:void 0}),dh="TooltipContent",OF=T.forwardRef((e,t)=>{const r=zue(dh,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,a=ux(dh,e.__scopeTooltip);return l.jsx(Jn,{present:n||a.open,children:a.disableHoverableContent?l.jsx(FF,{side:s,...i,ref:t}):l.jsx(Bue,{side:s,...i,ref:t})})}),Bue=T.forwardRef((e,t)=>{const r=ux(dh,e.__scopeTooltip),n=Ej(dh,e.__scopeTooltip),s=T.useRef(null),i=tr(t,s),[a,o]=T.useState(null),{trigger:u,onClose:c}=r,d=s.current,{onPointerInTransitChange:h}=n,f=T.useCallback(()=>{o(null),h(!1)},[h]),p=T.useCallback((g,y)=>{const m=g.currentTarget,v={x:g.clientX,y:g.clientY},b=Hue(v,m.getBoundingClientRect()),x=Kue(v,b),j=Zue(y.getBoundingClientRect()),C=Xue([...x,...j]);o(C),h(!0)},[h]);return T.useEffect(()=>()=>f(),[f]),T.useEffect(()=>{if(u&&d){const g=m=>p(m,d),y=m=>p(m,u);return u.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[u,d,p,f]),T.useEffect(()=>{if(a){const g=y=>{const m=y.target,v={x:y.clientX,y:y.clientY},b=u?.contains(m)||d?.contains(m),x=!Gue(v,a);b?f():x&&(f(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[u,d,a,c,f]),l.jsx(FF,{...e,ref:i})}),[Uue,Vue]=lx(Om,{isInside:!1}),Wue=Iue("TooltipContent"),FF=T.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=e,u=ux(dh,r),c=cx(r),{onClose:d}=u;return T.useEffect(()=>(document.addEventListener($k,d),()=>document.removeEventListener($k,d)),[d]),T.useEffect(()=>{if(u.trigger){const h=f=>{f.target?.contains(u.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,d]),l.jsx(Dd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(ax,{"data-state":u.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Wue,{children:n}),l.jsx(Uue,{scope:r,isInside:!0,children:l.jsx(Rue,{id:u.contentId,role:"tooltip",children:s||n})})]})})});OF.displayName=dh;var LF="TooltipArrow",que=T.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=cx(r);return Vue(LF,r).isInside?null:l.jsx(ox,{...s,...n,ref:t})});que.displayName=LF;function Hue(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Kue(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Zue(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Gue(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i],u=t[a],c=o.x,d=o.y,h=u.x,f=u.y;d>n!=f>n&&r<(h-c)*(n-d)/(f-d)+c&&(s=!s)}return s}function Xue(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Que(t)}function Que(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Yue=MF,Jue=RF,ede=$F,zF=OF;const dx=Yue,Aj=Jue,Pj=ede,fx=T.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(zF,{ref:n,sideOffset:t,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));fx.displayName=zF.displayName;const Dt=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Dt.displayName="Card";const zn=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:we("flex flex-col space-y-1.5 p-6",e),...t}));zn.displayName="CardHeader";const Kn=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:we("text-2xl font-semibold leading-none tracking-tight",e),...t}));Kn.displayName="CardTitle";const Mc=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:we("text-sm text-muted-foreground",e),...t}));Mc.displayName="CardDescription";const Ht=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:we("p-6 pt-0",e),...t}));Ht.displayName="CardContent";const tde=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:we("flex items-center p-6 pt-0",e),...t}));tde.displayName="CardFooter";function rde(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(Dt,{className:"w-full max-w-md mx-4",children:l.jsxs(Ht,{className:"pt-6",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ss,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Mg=e=>e.type==="checkbox",Ru=e=>e instanceof Date,Ci=e=>e==null;const BF=e=>typeof e=="object";var Xn=e=>!Ci(e)&&!Array.isArray(e)&&BF(e)&&!Ru(e),UF=e=>Xn(e)&&e.target?Mg(e.target)?e.target.checked:e.target.value:e,nde=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,VF=(e,t)=>e.has(nde(t)),sde=e=>{const t=e.constructor&&e.constructor.prototype;return Xn(t)&&t.hasOwnProperty("isPrototypeOf")},Ij=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wn(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Ij&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Xn(e)&&sde(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Wn(e[s]));return n}var hx=e=>/^\w*$/.test(e),hn=e=>e===void 0,Dj=e=>Array.isArray(e)?e.filter(Boolean):[],Mj=e=>Dj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ot=(e,t,r)=>{if(!t||!Xn(e))return r;const n=(hx(t)?[t]:Mj(t)).reduce((s,i)=>Ci(s)?s:s[i],e);return hn(n)||n===e?hn(e[t])?r:e[t]:n},Vi=e=>typeof e=="boolean",pi=e=>typeof e=="function",Br=(e,t,r)=>{let n=-1;const s=hx(t)?[t]:Mj(t),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let u=r;if(n!==a){const c=e[o];u=Xn(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=u,e=e[o]}};const Kb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ya={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},rl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Rj=jt.createContext(null);Rj.displayName="HookFormControlContext";const $j=()=>jt.useContext(Rj);var WF=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==Ya.all&&(t._proxyFormState[a]=!n||Ya.all),r&&(r[a]=!0),e[a]}});return s};const Oj=typeof window<"u"?jt.useLayoutEffect:jt.useEffect;function ide(e){const t=$j(),{control:r=t,disabled:n,name:s,exact:i}=e||{},[a,o]=jt.useState(r._formState),u=jt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Oj(()=>r._subscribe({name:s,formState:u.current,exact:i,callback:c=>{!n&&o({...r._formState,...c})}}),[s,n,i]),jt.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),jt.useMemo(()=>WF(a,r,u.current,!1),[a,r])}var qi=e=>typeof e=="string",Fk=(e,t,r,n,s)=>qi(e)?(n&&t.watch.add(e),ot(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ot(r,i))):(n&&(t.watchAll=!0),r),Lk=e=>Ci(e)||!BF(e);function Ja(e,t,r=new WeakSet){if(Lk(e)||Lk(t))return Object.is(e,t);if(Ru(e)&&Ru(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Ru(a)&&Ru(o)||Xn(a)&&Xn(o)||Array.isArray(a)&&Array.isArray(o)?!Ja(a,o,r):!Object.is(a,o))return!1}}return!0}function ade(e){const t=$j(),{control:r=t,name:n,defaultValue:s,disabled:i,exact:a,compute:o}=e||{},u=jt.useRef(s),c=jt.useRef(o),d=jt.useRef(void 0),h=jt.useRef(r),f=jt.useRef(n);c.current=o;const[p,g]=jt.useState(()=>{const j=r._getWatch(n,u.current);return c.current?c.current(j):j}),y=jt.useCallback(j=>{const C=Fk(n,r._names,j||r._formValues,!1,u.current);return c.current?c.current(C):C},[r._formValues,r._names,n]),m=jt.useCallback(j=>{if(!i){const C=Fk(n,r._names,j||r._formValues,!1,u.current);if(c.current){const R=c.current(C);Ja(R,d.current)||(g(R),d.current=R)}else g(C)}},[r._formValues,r._names,i,n]);Oj(()=>((h.current!==r||!Ja(f.current,n))&&(h.current=r,f.current=n,m()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:j=>{m(j.values)}})),[r,a,n,m]),jt.useEffect(()=>r._removeUnmounted());const v=h.current!==r,b=f.current,x=jt.useMemo(()=>{if(i)return null;const j=!v&&!Ja(b,n);return v||j?y():null},[i,v,n,b,y]);return x!==null?x:p}function ode(e){const t=$j(),{name:r,disabled:n,control:s=t,shouldUnregister:i,defaultValue:a,exact:o=!0}=e,u=VF(s._names.array,r),c=jt.useMemo(()=>ot(s._formValues,r,ot(s._defaultValues,r,a)),[s,r,a]),d=ade({control:s,name:r,defaultValue:c,exact:o}),h=ide({control:s,name:r,exact:o}),f=jt.useRef(e),p=jt.useRef(void 0),g=jt.useRef(s.register(r,{...e.rules,value:d,...Vi(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const y=jt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ot(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ot(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ot(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ot(h.validatingFields,r)},error:{enumerable:!0,get:()=>ot(h.errors,r)}}),[h,r]),m=jt.useCallback(j=>g.current.onChange({target:{value:UF(j),name:r},type:Kb.CHANGE}),[r]),v=jt.useCallback(()=>g.current.onBlur({target:{value:ot(s._formValues,r),name:r},type:Kb.BLUR}),[r,s._formValues]),b=jt.useCallback(j=>{const C=ot(s._fields,r);C&&C._f&&j&&(C._f.ref={focus:()=>pi(j.focus)&&j.focus(),select:()=>pi(j.select)&&j.select(),setCustomValidity:R=>pi(j.setCustomValidity)&&j.setCustomValidity(R),reportValidity:()=>pi(j.reportValidity)&&j.reportValidity()})},[s._fields,r]),x=jt.useMemo(()=>({name:r,value:d,...Vi(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:m,onBlur:v,ref:b}),[r,n,h.disabled,m,v,b,d]);return jt.useEffect(()=>{const j=s._options.shouldUnregister||i,C=p.current;C&&C!==r&&!u&&s.unregister(C),s.register(r,{...f.current.rules,...Vi(f.current.disabled)?{disabled:f.current.disabled}:{}});const R=(L,A)=>{const P=ot(s._fields,L);P&&P._f&&(P._f.mount=A)};if(R(r,!0),j){const L=Wn(ot(s._options.defaultValues,r,f.current.defaultValue));Br(s._defaultValues,r,L),hn(ot(s._formValues,r))&&Br(s._formValues,r,L)}return!u&&s.register(r),p.current=r,()=>{(u?j&&!s._state.action:j)?s.unregister(r):R(r,!1)}},[r,s,u,i]),jt.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),jt.useMemo(()=>({field:x,formState:h,fieldState:y}),[x,h,y])}const qF=e=>e.render(ode(e)),Fj=jt.createContext(null);Fj.displayName="HookFormContext";const lde=()=>jt.useContext(Fj),cde=e=>{const{children:t,watch:r,getValues:n,getFieldState:s,setError:i,clearErrors:a,setValue:o,trigger:u,formState:c,resetField:d,reset:h,handleSubmit:f,unregister:p,control:g,register:y,setFocus:m,subscribe:v}=e;return jt.createElement(Fj.Provider,{value:jt.useMemo(()=>({watch:r,getValues:n,getFieldState:s,setError:i,clearErrors:a,setValue:o,trigger:u,formState:c,resetField:d,reset:h,handleSubmit:f,unregister:p,control:g,register:y,setFocus:m,subscribe:v}),[a,g,c,s,n,f,y,h,d,i,m,o,v,u,p,r])},jt.createElement(Rj.Provider,{value:g},t))};var HF=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},tm=e=>Array.isArray(e)?e:[e],mT=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function KF(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&Xn(s)&&i){const a=KF(s,i);Xn(a)&&(r[n]=a)}else e[n]&&(r[n]=i)}return r}var ui=e=>Xn(e)&&!Object.keys(e).length,Lj=e=>e.type==="file",Zb=e=>{if(!Ij)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ZF=e=>e.type==="select-multiple",zj=e=>e.type==="radio",ude=e=>zj(e)||Mg(e),Bw=e=>Zb(e)&&e.isConnected;function dde(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=hn(e)?n++:e[t[n++]];return e}function fde(e){for(const t in e)if(e.hasOwnProperty(t)&&!hn(e[t]))return!1;return!0}function qn(e,t){const r=Array.isArray(t)?t:hx(t)?[t]:Mj(t),n=r.length===1?e:dde(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Xn(n)&&ui(n)||Array.isArray(n)&&fde(n))&&qn(e,r.slice(0,-1)),e}var hde=e=>{for(const t in e)if(pi(e[t]))return!0;return!1};function GF(e){return Array.isArray(e)||Xn(e)&&!hde(e)}function zk(e,t={}){for(const r in e){const n=e[r];GF(n)?(t[r]=Array.isArray(n)?[]:{},zk(n,t[r])):hn(n)||(t[r]=!0)}return t}function sf(e,t,r){r||(r=zk(t));for(const n in e){const s=e[n];if(GF(s))hn(t)||Lk(r[n])?r[n]=zk(s,Array.isArray(s)?[]:{}):sf(s,Ci(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!Ja(s,i)}}return r}const gT={value:!1,isValid:!1},yT={value:!0,isValid:!0};var XF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!hn(e[0].attributes.value)?hn(e[0].value)||e[0].value===""?yT:{value:e[0].value,isValid:!0}:yT:gT}return gT},QF=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>hn(e)?e:t?e===""?NaN:e&&+e:r&&qi(e)?new Date(e):n?n(e):e;const bT={isValid:!1,value:null};var YF=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,bT):bT;function vT(e){const t=e.ref;return Lj(t)?t.files:zj(t)?YF(e.refs).value:ZF(t)?[...t.selectedOptions].map(({value:r})=>r):Mg(t)?XF(e.refs).value:QF(hn(t.value)?e.ref.value:t.value,e)}var pde=(e,t,r,n)=>{const s={};for(const i of e){const a=ot(t,i);a&&Br(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Gb=e=>e instanceof RegExp,vp=e=>hn(e)?e:Gb(e)?e.source:Xn(e)?Gb(e.value)?e.value.source:e.value:e,xT=e=>({isOnSubmit:!e||e===Ya.onSubmit,isOnBlur:e===Ya.onBlur,isOnChange:e===Ya.onChange,isOnAll:e===Ya.all,isOnTouch:e===Ya.onTouched});const wT="AsyncFunction";var mde=e=>!!e&&!!e.validate&&!!(pi(e.validate)&&e.validate.constructor.name===wT||Xn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===wT)),gde=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),_T=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const rm=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=ot(e,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(rm(o,t))break}else if(Xn(o)&&rm(o,t))break}}};function kT(e,t,r){const n=ot(e,r);if(n||hx(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=ot(t,i),o=ot(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var yde=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return ui(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||Ya.all))},bde=(e,t,r)=>!e||!t||e===t||tm(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),vde=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,xde=(e,t)=>!Dj(ot(e,t)).length&&qn(e,t),wde=(e,t,r)=>{const n=tm(ot(e,r));return Br(n,"root",t[r]),Br(e,r,n),e};function ST(e,t,r="validate"){if(qi(e)||Array.isArray(e)&&e.every(qi)||Vi(e)&&!e)return{type:r,message:qi(e)?e:"",ref:t}}var Xd=e=>Xn(e)&&!Gb(e)?e:{value:e,message:""},jT=async(e,t,r,n,s,i)=>{const{ref:a,refs:o,required:u,maxLength:c,minLength:d,min:h,max:f,pattern:p,validate:g,name:y,valueAsNumber:m,mount:v}=e._f,b=ot(r,y);if(!v||t.has(y))return{};const x=o?o[0]:a,j=U=>{s&&x.reportValidity&&(x.setCustomValidity(Vi(U)?"":U||""),x.reportValidity())},C={},R=zj(a),L=Mg(a),A=R||L,P=(m||Lj(a))&&hn(a.value)&&hn(b)||Zb(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,$=HF.bind(null,y,n,C),V=(U,E,I,N=rl.maxLength,w=rl.minLength)=>{const _=U?E:I;C[y]={type:U?N:w,message:_,ref:a,...$(U?N:w,_)}};if(i?!Array.isArray(b)||!b.length:u&&(!A&&(P||Ci(b))||Vi(b)&&!b||L&&!XF(o).isValid||R&&!YF(o).isValid)){const{value:U,message:E}=qi(u)?{value:!!u,message:u}:Xd(u);if(U&&(C[y]={type:rl.required,message:E,ref:x,...$(rl.required,E)},!n))return j(E),C}if(!P&&(!Ci(h)||!Ci(f))){let U,E;const I=Xd(f),N=Xd(h);if(!Ci(b)&&!isNaN(b)){const w=a.valueAsNumber||b&&+b;Ci(I.value)||(U=w>I.value),Ci(N.value)||(E=w<N.value)}else{const w=a.valueAsDate||new Date(b),_=D=>new Date(new Date().toDateString()+" "+D),k=a.type=="time",S=a.type=="week";qi(I.value)&&b&&(U=k?_(b)>_(I.value):S?b>I.value:w>new Date(I.value)),qi(N.value)&&b&&(E=k?_(b)<_(N.value):S?b<N.value:w<new Date(N.value))}if((U||E)&&(V(!!U,I.message,N.message,rl.max,rl.min),!n))return j(C[y].message),C}if((c||d)&&!P&&(qi(b)||i&&Array.isArray(b))){const U=Xd(c),E=Xd(d),I=!Ci(U.value)&&b.length>+U.value,N=!Ci(E.value)&&b.length<+E.value;if((I||N)&&(V(I,U.message,E.message),!n))return j(C[y].message),C}if(p&&!P&&qi(b)){const{value:U,message:E}=Xd(p);if(Gb(U)&&!b.match(U)&&(C[y]={type:rl.pattern,message:E,ref:a,...$(rl.pattern,E)},!n))return j(E),C}if(g){if(pi(g)){const U=await g(b,r),E=ST(U,x);if(E&&(C[y]={...E,...$(rl.validate,E.message)},!n))return j(E.message),C}else if(Xn(g)){let U={};for(const E in g){if(!ui(U)&&!n)break;const I=ST(await g[E](b,r),x,E);I&&(U={...I,...$(E,I.message)},j(I.message),n&&(C[y]=U))}if(!ui(U)&&(C[y]={ref:x,...U},!n))return C}}return j(!0),C};const _de={mode:Ya.onSubmit,reValidateMode:Ya.onChange,shouldFocusError:!0};function kde(e={}){let t={..._de,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:pi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Xn(t.defaultValues)||Xn(t.values)?Wn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Wn(s),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:mT(),state:mT()},g=t.criteriaMode===Ya.all,y=G=>Y=>{clearTimeout(c),c=setTimeout(G,Y)},m=async G=>{if(!a.keepIsValid&&!t.disabled&&(h.isValid||f.isValid||G)){let Y;t.resolver?(Y=ui((await A()).errors),v()):Y=await $(n,!0),Y!==r.isValid&&p.state.next({isValid:Y})}},v=(G,Y)=>{!t.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((G||Array.from(o.mount)).forEach(ie=>{ie&&(Y?Br(r.validatingFields,ie,Y):qn(r.validatingFields,ie))}),p.state.next({validatingFields:r.validatingFields,isValidating:!ui(r.validatingFields)}))},b=(G,Y=[],ie,ce,me=!0,xe=!0)=>{if(ce&&ie&&!t.disabled){if(a.action=!0,xe&&Array.isArray(ot(n,G))){const Ce=ie(ot(n,G),ce.argA,ce.argB);me&&Br(n,G,Ce)}if(xe&&Array.isArray(ot(r.errors,G))){const Ce=ie(ot(r.errors,G),ce.argA,ce.argB);me&&Br(r.errors,G,Ce),xde(r.errors,G)}if((h.touchedFields||f.touchedFields)&&xe&&Array.isArray(ot(r.touchedFields,G))){const Ce=ie(ot(r.touchedFields,G),ce.argA,ce.argB);me&&Br(r.touchedFields,G,Ce)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=sf(s,i)),p.state.next({name:G,isDirty:U(G,Y),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Br(i,G,Y)},x=(G,Y)=>{Br(r.errors,G,Y),p.state.next({errors:r.errors})},j=G=>{r.errors=G,p.state.next({errors:r.errors,isValid:!1})},C=(G,Y,ie,ce)=>{const me=ot(n,G);if(me){const xe=ot(i,G,hn(ie)?ot(s,G):ie);hn(xe)||ce&&ce.defaultChecked||Y?Br(i,G,Y?xe:vT(me._f)):N(G,xe),a.mount&&!a.action&&m()}},R=(G,Y,ie,ce,me)=>{let xe=!1,Ce=!1;const Ae={name:G};if(!t.disabled){if(!ie||ce){(h.isDirty||f.isDirty)&&(Ce=r.isDirty,r.isDirty=Ae.isDirty=U(),xe=Ce!==Ae.isDirty);const $e=Ja(ot(s,G),Y);Ce=!!ot(r.dirtyFields,G),$e?qn(r.dirtyFields,G):Br(r.dirtyFields,G,!0),Ae.dirtyFields=r.dirtyFields,xe=xe||(h.dirtyFields||f.dirtyFields)&&Ce!==!$e}if(ie){const $e=ot(r.touchedFields,G);$e||(Br(r.touchedFields,G,ie),Ae.touchedFields=r.touchedFields,xe=xe||(h.touchedFields||f.touchedFields)&&$e!==ie)}xe&&me&&p.state.next(Ae)}return xe?Ae:{}},L=(G,Y,ie,ce)=>{const me=ot(r.errors,G),xe=(h.isValid||f.isValid)&&Vi(Y)&&r.isValid!==Y;if(t.delayError&&ie?(u=y(()=>x(G,ie)),u(t.delayError)):(clearTimeout(c),u=null,ie?Br(r.errors,G,ie):qn(r.errors,G)),(ie?!Ja(me,ie):me)||!ui(ce)||xe){const Ce={...ce,...xe&&Vi(Y)?{isValid:Y}:{},errors:r.errors,name:G};r={...r,...Ce},p.state.next(Ce)}},A=async G=>(v(G,!0),await t.resolver(i,t.context,pde(G||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),P=async G=>{const{errors:Y}=await A(G);if(v(G),G)for(const ie of G){const ce=ot(Y,ie);ce?Br(r.errors,ie,ce):qn(r.errors,ie)}else r.errors=Y;return Y},$=async(G,Y,ie={valid:!0})=>{for(const ce in G){const me=G[ce];if(me){const{_f:xe,...Ce}=me;if(xe){const Ae=o.array.has(xe.name),$e=me._f&&mde(me._f);$e&&h.validatingFields&&v([xe.name],!0);const Le=await jT(me,o.disabled,i,g,t.shouldUseNativeValidation&&!Y,Ae);if($e&&h.validatingFields&&v([xe.name]),Le[xe.name]&&(ie.valid=!1,Y||e.shouldUseNativeValidation))break;!Y&&(ot(Le,xe.name)?Ae?wde(r.errors,Le,xe.name):Br(r.errors,xe.name,Le[xe.name]):qn(r.errors,xe.name))}!ui(Ce)&&await $(Ce,Y,ie)}}return ie.valid},V=()=>{for(const G of o.unMount){const Y=ot(n,G);Y&&(Y._f.refs?Y._f.refs.every(ie=>!Bw(ie)):!Bw(Y._f.ref))&&z(G)}o.unMount=new Set},U=(G,Y)=>!t.disabled&&(G&&Y&&Br(i,G,Y),!Ja(O(),s)),E=(G,Y,ie)=>Fk(G,o,{...a.mount?i:hn(Y)?s:qi(G)?{[G]:Y}:Y},ie,Y),I=G=>Dj(ot(a.mount?i:s,G,t.shouldUnregister?ot(s,G,[]):[])),N=(G,Y,ie={})=>{const ce=ot(n,G);let me=Y;if(ce){const xe=ce._f;xe&&(!xe.disabled&&Br(i,G,QF(Y,xe)),me=Zb(xe.ref)&&Ci(Y)?"":Y,ZF(xe.ref)?[...xe.ref.options].forEach(Ce=>Ce.selected=me.includes(Ce.value)):xe.refs?Mg(xe.ref)?xe.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(me)?Ce.checked=!!me.find(Ae=>Ae===Ce.value):Ce.checked=me===Ce.value||!!me)}):xe.refs.forEach(Ce=>Ce.checked=Ce.value===me):Lj(xe.ref)?xe.ref.value="":(xe.ref.value=me,xe.ref.type||p.state.next({name:G,values:Wn(i)})))}(ie.shouldDirty||ie.shouldTouch)&&R(G,me,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&D(G)},w=(G,Y,ie)=>{for(const ce in Y){if(!Y.hasOwnProperty(ce))return;const me=Y[ce],xe=G+"."+ce,Ce=ot(n,xe);(o.array.has(G)||Xn(me)||Ce&&!Ce._f)&&!Ru(me)?w(xe,me,ie):N(xe,me,ie)}},_=(G,Y,ie={})=>{const ce=ot(n,G),me=o.array.has(G),xe=Wn(Y);Br(i,G,xe),me?(p.array.next({name:G,values:Wn(i)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&ie.shouldDirty&&p.state.next({name:G,dirtyFields:sf(s,i),isDirty:U(G,xe)})):ce&&!ce._f&&!Ci(xe)?w(G,xe,ie):N(G,xe,ie),_T(G,o)?p.state.next({...r,name:G,values:Wn(i)}):p.state.next({name:a.mount?G:void 0,values:Wn(i)})},k=async G=>{a.mount=!0;const Y=G.target;let ie=Y.name,ce=!0;const me=ot(n,ie),xe=$e=>{ce=Number.isNaN($e)||Ru($e)&&isNaN($e.getTime())||Ja($e,ot(i,ie,$e))},Ce=xT(t.mode),Ae=xT(t.reValidateMode);if(me){let $e,Le;const rt=Y.type?vT(me._f):UF(G),qe=G.type===Kb.BLUR||G.type===Kb.FOCUS_OUT,Ve=!gde(me._f)&&!t.resolver&&!ot(r.errors,ie)&&!me._f.deps||vde(qe,ot(r.touchedFields,ie),r.isSubmitted,Ae,Ce),he=_T(ie,o,qe);Br(i,ie,rt),qe?(!Y||!Y.readOnly)&&(me._f.onBlur&&me._f.onBlur(G),u&&u(0)):me._f.onChange&&me._f.onChange(G);const de=R(ie,rt,qe),Pe=!ui(de)||he;if(!qe&&p.state.next({name:ie,type:G.type,values:Wn(i)}),Ve)return(h.isValid||f.isValid)&&(t.mode==="onBlur"?qe&&m():qe||m()),Pe&&p.state.next({name:ie,...he?{}:de});if(!qe&&he&&p.state.next({...r}),t.resolver){const{errors:Oe}=await A([ie]);if(v([ie]),xe(rt),ce){const yt=kT(r.errors,n,ie),Mt=kT(Oe,n,yt.name||ie);$e=Mt.error,ie=Mt.name,Le=ui(Oe)}}else v([ie],!0),$e=(await jT(me,o.disabled,i,g,t.shouldUseNativeValidation))[ie],v([ie]),xe(rt),ce&&($e?Le=!1:(h.isValid||f.isValid)&&(Le=await $(n,!0)));ce&&(me._f.deps&&(!Array.isArray(me._f.deps)||me._f.deps.length>0)&&D(me._f.deps),L(ie,Le,$e,de))}},S=(G,Y)=>{if(ot(r.errors,Y)&&G.focus)return G.focus(),1},D=async(G,Y={})=>{let ie,ce;const me=tm(G);if(t.resolver){const xe=await P(hn(G)?G:me);ie=ui(xe),ce=G?!me.some(Ce=>ot(xe,Ce)):ie}else G?(ce=(await Promise.all(me.map(async xe=>{const Ce=ot(n,xe);return await $(Ce&&Ce._f?{[xe]:Ce}:Ce)}))).every(Boolean),!(!ce&&!r.isValid)&&m()):ce=ie=await $(n);return p.state.next({...!qi(G)||(h.isValid||f.isValid)&&ie!==r.isValid?{}:{name:G},...t.resolver||!G?{isValid:ie}:{},errors:r.errors}),Y.shouldFocus&&!ce&&rm(n,S,G?me:o.mount),ce},O=(G,Y)=>{let ie={...a.mount?i:s};return Y&&(ie=KF(Y.dirtyFields?r.dirtyFields:r.touchedFields,ie)),hn(G)?ie:qi(G)?ot(ie,G):G.map(ce=>ot(ie,ce))},B=(G,Y)=>({invalid:!!ot((Y||r).errors,G),isDirty:!!ot((Y||r).dirtyFields,G),error:ot((Y||r).errors,G),isValidating:!!ot(r.validatingFields,G),isTouched:!!ot((Y||r).touchedFields,G)}),q=G=>{G&&tm(G).forEach(Y=>qn(r.errors,Y)),p.state.next({errors:G?r.errors:{}})},H=(G,Y,ie)=>{const ce=(ot(n,G,{_f:{}})._f||{}).ref,me=ot(r.errors,G)||{},{ref:xe,message:Ce,type:Ae,...$e}=me;Br(r.errors,G,{...$e,...Y,ref:ce}),p.state.next({name:G,errors:r.errors,isValid:!1}),ie&&ie.shouldFocus&&ce&&ce.focus&&ce.focus()},Q=(G,Y)=>pi(G)?p.state.subscribe({next:ie=>"values"in ie&&G(E(void 0,Y),ie)}):E(G,Y,!0),M=G=>p.state.subscribe({next:Y=>{bde(G.name,Y.name,G.exact)&&yde(Y,G.formState||h,ae,G.reRenderRoot)&&G.callback({values:{...i},...r,...Y,defaultValues:s})}}).unsubscribe,K=G=>(a.mount=!0,f={...f,...G.formState},M({...G,formState:{...d,...G.formState}})),z=(G,Y={})=>{for(const ie of G?tm(G):o.mount)o.mount.delete(ie),o.array.delete(ie),Y.keepValue||(qn(n,ie),qn(i,ie)),!Y.keepError&&qn(r.errors,ie),!Y.keepDirty&&qn(r.dirtyFields,ie),!Y.keepTouched&&qn(r.touchedFields,ie),!Y.keepIsValidating&&qn(r.validatingFields,ie),!t.shouldUnregister&&!Y.keepDefaultValue&&qn(s,ie);p.state.next({values:Wn(i)}),p.state.next({...r,...Y.keepDirty?{isDirty:U()}:{}}),!Y.keepIsValid&&m()},F=({disabled:G,name:Y})=>{if(Vi(G)&&a.mount||G||o.disabled.has(Y)){const me=o.disabled.has(Y)!==!!G;G?o.disabled.add(Y):o.disabled.delete(Y),me&&a.mount&&!a.action&&m()}},W=(G,Y={})=>{let ie=ot(n,G);const ce=Vi(Y.disabled)||Vi(t.disabled);return Br(n,G,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:G}},name:G,mount:!0,...Y}}),o.mount.add(G),ie?F({disabled:Vi(Y.disabled)?Y.disabled:t.disabled,name:G}):C(G,!0,Y.value),{...ce?{disabled:Y.disabled||t.disabled}:{},...t.progressive?{required:!!Y.required,min:vp(Y.min),max:vp(Y.max),minLength:vp(Y.minLength),maxLength:vp(Y.maxLength),pattern:vp(Y.pattern)}:{},name:G,onChange:k,onBlur:k,ref:me=>{if(me){W(G,Y),ie=ot(n,G);const xe=hn(me.value)&&me.querySelectorAll&&me.querySelectorAll("input,select,textarea")[0]||me,Ce=ude(xe),Ae=ie._f.refs||[];if(Ce?Ae.find($e=>$e===xe):xe===ie._f.ref)return;Br(n,G,{_f:{...ie._f,...Ce?{refs:[...Ae.filter(Bw),xe,...Array.isArray(ot(s,G))?[{}]:[]],ref:{type:xe.type,name:G}}:{ref:xe}}}),C(G,!1,void 0,xe)}else ie=ot(n,G,{}),ie._f&&(ie._f.mount=!1),(t.shouldUnregister||Y.shouldUnregister)&&!(VF(o.array,G)&&a.action)&&o.unMount.add(G)}}},J=()=>t.shouldFocusError&&rm(n,S,o.mount),le=G=>{Vi(G)&&(p.state.next({disabled:G}),rm(n,(Y,ie)=>{const ce=ot(n,ie);ce&&(Y.disabled=ce._f.disabled||G,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(me=>{me.disabled=ce._f.disabled||G}))},0,!1))},ne=(G,Y)=>async ie=>{let ce;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let me=Wn(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:xe,values:Ce}=await A();v(),r.errors=xe,me=Wn(Ce)}else await $(n);if(o.disabled.size)for(const xe of o.disabled)qn(me,xe);if(qn(r.errors,"root"),ui(r.errors)){p.state.next({errors:{}});try{await G(me,ie)}catch(xe){ce=xe}}else Y&&await Y({...r.errors},ie),J(),setTimeout(J);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ui(r.errors)&&!ce,submitCount:r.submitCount+1,errors:r.errors}),ce)throw ce},ue=(G,Y={})=>{ot(n,G)&&(hn(Y.defaultValue)?_(G,Wn(ot(s,G))):(_(G,Y.defaultValue),Br(s,G,Wn(Y.defaultValue))),Y.keepTouched||qn(r.touchedFields,G),Y.keepDirty||(qn(r.dirtyFields,G),r.isDirty=Y.defaultValue?U(G,Wn(ot(s,G))):U()),Y.keepError||(qn(r.errors,G),h.isValid&&m()),p.state.next({...r}))},Z=(G,Y={})=>{const ie=G?Wn(G):s,ce=Wn(ie),me=ui(G),xe=me?s:ce;if(Y.keepDefaultValues||(s=ie),!Y.keepValues){if(Y.keepDirtyValues){const Ce=new Set([...o.mount,...Object.keys(sf(s,i))]);for(const Ae of Array.from(Ce)){const $e=ot(r.dirtyFields,Ae),Le=ot(i,Ae),rt=ot(xe,Ae);$e&&!hn(Le)?Br(xe,Ae,Le):!$e&&!hn(rt)&&_(Ae,rt)}}else{if(Ij&&hn(G))for(const Ce of o.mount){const Ae=ot(n,Ce);if(Ae&&Ae._f){const $e=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(Zb($e)){const Le=$e.closest("form");if(Le){Le.reset();break}}}}if(Y.keepFieldsRef)for(const Ce of o.mount)_(Ce,ot(xe,Ce));else n={}}i=t.shouldUnregister?Y.keepDefaultValues?Wn(s):{}:Wn(xe),p.array.next({values:{...xe}}),p.state.next({values:{...xe}})}o={mount:Y.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues||!t.shouldUnregister&&!ui(xe),a.watch=!!t.shouldUnregister,a.keepIsValid=!!Y.keepIsValid,a.action=!1,Y.keepErrors||(r.errors={}),p.state.next({submitCount:Y.keepSubmitCount?r.submitCount:0,isDirty:me?!1:Y.keepDirty?r.isDirty:!!(Y.keepDefaultValues&&!Ja(G,s)),isSubmitted:Y.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:me?{}:Y.keepDirtyValues?Y.keepDefaultValues&&i?sf(s,i):r.dirtyFields:Y.keepDefaultValues&&G?sf(s,G):Y.keepDirty?r.dirtyFields:{},touchedFields:Y.keepTouched?r.touchedFields:{},errors:Y.keepErrors?r.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},te=(G,Y)=>Z(pi(G)?G(i):G,{...t.resetOptions,...Y}),X=(G,Y={})=>{const ie=ot(n,G),ce=ie&&ie._f;if(ce){const me=ce.refs?ce.refs[0]:ce.ref;me.focus&&setTimeout(()=>{me.focus(),Y.shouldSelect&&pi(me.select)&&me.select()})}},ae=G=>{r={...r,...G}},ee={control:{register:W,unregister:z,getFieldState:B,handleSubmit:ne,setError:H,_subscribe:M,_runSchema:A,_updateIsValidating:v,_focusError:J,_getWatch:E,_getDirty:U,_setValid:m,_setFieldArray:b,_setDisabledField:F,_setErrors:j,_getFieldArray:I,_reset:Z,_resetDefaultValues:()=>pi(t.defaultValues)&&t.defaultValues().then(G=>{te(G,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:le,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(G){a=G},get _defaultValues(){return s},get _names(){return o},set _names(G){o=G},get _formState(){return r},get _options(){return t},set _options(G){t={...t,...G}}},subscribe:K,trigger:D,register:W,handleSubmit:ne,watch:Q,setValue:_,getValues:O,reset:te,resetField:ue,clearErrors:q,unregister:z,setError:H,setFocus:X,getFieldState:B};return{...ee,formControl:ee}}function Rl(e={}){const t=jt.useRef(void 0),r=jt.useRef(void 0),[n,s]=jt.useState({isDirty:!1,isValidating:!1,isLoading:pi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:pi(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!pi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=kde(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,Oj(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),jt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),jt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),jt.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),jt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),jt.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),jt.useEffect(()=>{var a;e.values&&!Ja(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),jt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=jt.useMemo(()=>WF(n,i),[i,n]),t.current}const NT=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ot(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},JF=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?NT(n.ref,r,e):n.refs&&n.refs.forEach(s=>NT(s,r,e))}},Sde=(e,t)=>{t.shouldUseNativeValidation&&JF(e,t);const r={};for(const n in e){const s=ot(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(jde(t.names||Object.keys(e),n)){const a=Object.assign({},ot(r,n));Br(a,"root",i),Br(r,n,a)}else Br(r,n,i)}return r},jde=(e,t)=>e.some(r=>r.startsWith(t+"."));var Nde=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var u=r[a].types,c=u&&u[n.code];r[a]=HF(a,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r},$l=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve((function(a,o){try{var u=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(c){return i.shouldUseNativeValidation&&JF({},i),{errors:{},values:r.raw?n:c}})}catch(c){return o(c)}return u&&u.then?u.then(void 0,o):u})(0,function(a){if((function(o){return Array.isArray(o?.errors)})(a))return{values:{},errors:Sde(Nde(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};const eL=Object.freeze({status:"aborted"});function je(e,t,r){function n(o,u){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,u);const c=a.prototype,d=Object.keys(c);for(let h=0;h<d.length;h++){const f=d[h];f in o||(o[f]=c[f].bind(o))}}const s=r?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function a(o){var u;const c=r?.Parent?new i:this;n(c,o),(u=c._zod).deferred??(u.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>r?.Parent&&o instanceof r.Parent?!0:o?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}const tL=Symbol("zod_brand");class nd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class px extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Xb={};function ai(e){return e&&Object.assign(Xb,e),Xb}function Cde(e){return e}function Tde(e){return e}function Ede(e){}function Ade(e){throw new Error("Unexpected value in exhaustive check")}function Pde(e){}function Bj(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function Ge(e,t="|"){return e.map(r=>Lt(r)).join(t)}function Qb(e,t){return typeof t=="bigint"?t.toString():t}function Rg(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function $d(e){return e==null}function mx(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function rL(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let s=(n.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(n)){const u=n.match(/\d?e-(\d?)/);u?.[1]&&(s=Number.parseInt(u[1]))}const i=r>s?r:s,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}const CT=Symbol("evaluating");function fr(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==CT)return n===void 0&&(n=CT,n=r()),n},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Ide(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function hu(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Qo(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function Dde(e){return Qo(e._zod.def)}function Mde(e,t){return t?t.reduce((r,n)=>r?.[n],e):e}function Rde(e){const t=Object.keys(e),r=t.map(n=>e[n]);return Promise.all(r).then(n=>{const s={};for(let i=0;i<t.length;i++)s[t[i]]=n[i];return s})}function $de(e=10){const t="abcdefghijklmnopqrstuvwxyz";let r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function Bk(e){return JSON.stringify(e)}function nL(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Uj="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function fh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const sL=Rg(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function yd(e){if(fh(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(fh(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function gx(e){return yd(e)?{...e}:Array.isArray(e)?[...e]:e}function Ode(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}const Fde=e=>{const t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},Yb=new Set(["string","number","symbol"]),iL=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Ol(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fa(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function Be(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Lde(e){let t;return new Proxy({},{get(r,n,s){return t??(t=e()),Reflect.get(t,n,s)},set(r,n,s,i){return t??(t=e()),Reflect.set(t,n,s,i)},has(r,n){return t??(t=e()),Reflect.has(t,n)},deleteProperty(r,n){return t??(t=e()),Reflect.deleteProperty(t,n)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,n){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)},defineProperty(r,n,s){return t??(t=e()),Reflect.defineProperty(t,n,s)}})}function Lt(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function aL(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const oL={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},lL={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function cL(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=Qo(e._zod.def,{get shape(){const a={};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(a[o]=r.shape[o])}return hu(this,"shape",a),a},checks:[]});return Fa(e,i)}function uL(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=Qo(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete a[o]}return hu(this,"shape",a),a},checks:[]});return Fa(e,i)}function dL(e,t){if(!yd(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const i=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(i,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=Qo(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return hu(this,"shape",i),i}});return Fa(e,s)}function fL(e,t){if(!yd(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=Qo(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return hu(this,"shape",n),n}});return Fa(e,r)}function hL(e,t){const r=Qo(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return hu(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Fa(e,r)}function pL(e,t,r){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=Qo(t._zod.def,{get shape(){const o=t._zod.def.shape,u={...o};if(r)for(const c in r){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);r[c]&&(u[c]=e?new e({type:"optional",innerType:o[c]}):o[c])}else for(const c in o)u[c]=e?new e({type:"optional",innerType:o[c]}):o[c];return hu(this,"shape",u),u},checks:[]});return Fa(t,a)}function mL(e,t,r){const n=Qo(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(r)for(const a in r){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(i[a]=new e({type:"nonoptional",innerType:s[a]}))}else for(const a in s)i[a]=new e({type:"nonoptional",innerType:s[a]});return hu(this,"shape",i),i}});return Fa(t,n)}function $u(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function to(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Dp(e){return typeof e=="string"?e:e?.message}function Ra(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const s=Dp(e.inst?._zod.def?.error?.(e))??Dp(t?.error?.(e))??Dp(r.customError?.(e))??Dp(r.localeError?.(e))??"Invalid input";n.message=s}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function yx(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function bx(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Zt(e){const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"nan":"number";case"object":{if(e===null)return"null";if(Array.isArray(e))return"array";const r=e;if(r&&Object.getPrototypeOf(r)!==Object.prototype&&"constructor"in r&&r.constructor)return r.constructor.name}}return t}function hh(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}function zde(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}function gL(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}function yL(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function Bde(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return gL(t+r)}function Ude(e){return yL(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Vde(e){const t=e.replace(/^0x/,"");if(t.length%2!==0)throw new Error("Invalid hex string length");const r=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)r[n/2]=Number.parseInt(t.slice(n,n+2),16);return r}function Wde(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}class qde{constructor(...t){}}const bL=Object.freeze(Object.defineProperty({__proto__:null,BIGINT_FORMAT_RANGES:lL,Class:qde,NUMBER_FORMAT_RANGES:oL,aborted:$u,allowsEval:sL,assert:Pde,assertEqual:Cde,assertIs:Ede,assertNever:Ade,assertNotEqual:Tde,assignProp:hu,base64ToUint8Array:gL,base64urlToUint8Array:Bde,cached:Rg,captureStackTrace:Uj,cleanEnum:zde,cleanRegex:mx,clone:Fa,cloneDef:Dde,createTransparentProxy:Lde,defineLazy:fr,esc:Bk,escapeRegex:Ol,extend:dL,finalizeIssue:Ra,floatSafeRemainder:rL,getElementAtPath:Mde,getEnumValues:Bj,getLengthableOrigin:bx,getParsedType:Fde,getSizableOrigin:yx,hexToUint8Array:Vde,isObject:fh,isPlainObject:yd,issue:hh,joinValues:Ge,jsonStringifyReplacer:Qb,merge:hL,mergeDefs:Qo,normalizeParams:Be,nullish:$d,numKeys:Ode,objectClone:Ide,omit:uL,optionalKeys:aL,parsedType:Zt,partial:pL,pick:cL,prefixIssues:to,primitiveTypes:iL,promiseAllObject:Rde,propertyKeyTypes:Yb,randomString:$de,required:mL,safeExtend:fL,shallowClone:gx,slugify:nL,stringifyPrimitive:Lt,uint8ArrayToBase64:yL,uint8ArrayToBase64url:Ude,uint8ArrayToHex:Wde,unwrapMessage:Dp},Symbol.toStringTag,{value:"Module"})),vL=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Qb,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Vj=je("$ZodError",vL),sa=je("$ZodError",vL,{Parent:Error});function Wj(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function qj(e,t=r=>r.message){const r={_errors:[]},n=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>n({issues:a}));else if(i.code==="invalid_key")n({issues:i.issues});else if(i.code==="invalid_element")n({issues:i.issues});else if(i.path.length===0)r._errors.push(t(i));else{let a=r,o=0;for(;o<i.path.length;){const u=i.path[o];o===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(t(i))):a[u]=a[u]||{_errors:[]},a=a[u],o++}}};return n(e),r}function xL(e,t=r=>r.message){const r={errors:[]},n=(s,i=[])=>{var a,o;for(const u of s.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(c=>n({issues:c},u.path));else if(u.code==="invalid_key")n({issues:u.issues},u.path);else if(u.code==="invalid_element")n({issues:u.issues},u.path);else{const c=[...i,...u.path];if(c.length===0){r.errors.push(t(u));continue}let d=r,h=0;for(;h<c.length;){const f=c[h],p=h===c.length-1;typeof f=="string"?(d.properties??(d.properties={}),(a=d.properties)[f]??(a[f]={errors:[]}),d=d.properties[f]):(d.items??(d.items=[]),(o=d.items)[f]??(o[f]={errors:[]}),d=d.items[f]),p&&d.errors.push(t(u)),h++}}};return n(e),r}function wL(e){const t=[],r=e.map(n=>typeof n=="object"?n.key:n);for(const n of r)typeof n=="number"?t.push(`[${n}]`):typeof n=="symbol"?t.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?t.push(`[${JSON.stringify(n)}]`):(t.length&&t.push("."),t.push(n));return t.join("")}function _L(e){const t=[],r=[...e.issues].sort((n,s)=>(n.path??[]).length-(s.path??[]).length);for(const n of r)t.push(` ${n.message}`),n.path?.length&&t.push(`   at ${wL(n.path)}`);return t.join(`
`)}const $g=e=>(t,r,n,s)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new nd;if(a.issues.length){const o=new(s?.Err??e)(a.issues.map(u=>Ra(u,i,ai())));throw Uj(o,s?.callee),o}return a.value},Uk=$g(sa),Og=e=>async(t,r,n,s)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new(s?.Err??e)(a.issues.map(u=>Ra(u,i,ai())));throw Uj(o,s?.callee),o}return a.value},Vk=Og(sa),Fg=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new nd;return i.issues.length?{success:!1,error:new(e??Vj)(i.issues.map(a=>Ra(a,s,ai())))}:{success:!0,data:i.value}},kL=Fg(sa),Lg=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(a=>Ra(a,s,ai())))}:{success:!0,data:i.value}},SL=Lg(sa),Hj=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return $g(e)(t,r,s)},Hde=Hj(sa),Kj=e=>(t,r,n)=>$g(e)(t,r,n),Kde=Kj(sa),Zj=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Og(e)(t,r,s)},Zde=Zj(sa),Gj=e=>async(t,r,n)=>Og(e)(t,r,n),Gde=Gj(sa),Xj=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Fg(e)(t,r,s)},Xde=Xj(sa),Qj=e=>(t,r,n)=>Fg(e)(t,r,n),Qde=Qj(sa),Yj=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Lg(e)(t,r,s)},Yde=Yj(sa),Jj=e=>async(t,r,n)=>Lg(e)(t,r,n),Jde=Jj(sa),jL=/^[cC][^\s-]{8,}$/,NL=/^[0-9a-z]+$/,CL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,TL=/^[0-9a-vA-V]{20}$/,EL=/^[A-Za-z0-9]{27}$/,AL=/^[a-zA-Z0-9_-]{21}$/,PL=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,efe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,IL=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ph=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,tfe=ph(4),rfe=ph(6),nfe=ph(7),DL=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,sfe=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ife=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ML=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,afe=ML,ofe=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,lfe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function RL(){return new RegExp(lfe,"u")}const $L=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,FL=e=>{const t=Ol(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},LL=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,zL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,BL=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,e3=/^[A-Za-z0-9_-]*$/,UL=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,VL=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,WL=/^\+[1-9]\d{6,14}$/,qL="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",HL=new RegExp(`^${qL}$`);function KL(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ZL(e){return new RegExp(`^${KL(e)}$`)}function GL(e){const t=KL({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${qL}T(?:${n})$`)}const XL=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},QL=/^-?\d+n?$/,YL=/^-?\d+$/,t3=/^-?\d+(?:\.\d+)?$/,JL=/^(?:true|false)$/i,ez=/^null$/i,tz=/^undefined$/i,rz=/^[^A-Z]*$/,nz=/^[^a-z]*$/,sz=/^[0-9a-fA-F]*$/;function zg(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function Bg(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}const cfe=/^[0-9a-fA-F]{32}$/,ufe=zg(22,"=="),dfe=Bg(22),ffe=/^[0-9a-fA-F]{40}$/,hfe=zg(27,"="),pfe=Bg(27),mfe=/^[0-9a-fA-F]{64}$/,gfe=zg(43,"="),yfe=Bg(43),bfe=/^[0-9a-fA-F]{96}$/,vfe=zg(64,""),xfe=Bg(64),wfe=/^[0-9a-fA-F]{128}$/,_fe=zg(86,"=="),kfe=Bg(86),r3=Object.freeze(Object.defineProperty({__proto__:null,base64:BL,base64url:e3,bigint:QL,boolean:JL,browserEmail:ofe,cidrv4:LL,cidrv6:zL,cuid:jL,cuid2:NL,date:HL,datetime:GL,domain:VL,duration:PL,e164:WL,email:DL,emoji:RL,extendedDuration:efe,guid:IL,hex:sz,hostname:UL,html5Email:sfe,idnEmail:afe,integer:YL,ipv4:$L,ipv6:OL,ksuid:EL,lowercase:rz,mac:FL,md5_base64:ufe,md5_base64url:dfe,md5_hex:cfe,nanoid:AL,null:ez,number:t3,rfc5322Email:ife,sha1_base64:hfe,sha1_base64url:pfe,sha1_hex:ffe,sha256_base64:gfe,sha256_base64url:yfe,sha256_hex:mfe,sha384_base64:vfe,sha384_base64url:xfe,sha384_hex:bfe,sha512_base64:_fe,sha512_base64url:kfe,sha512_hex:wfe,string:XL,time:ZL,ulid:CL,undefined:tz,unicodeEmail:ML,uppercase:nz,uuid:ph,uuid4:tfe,uuid6:rfe,uuid7:nfe,xid:TL},Symbol.toStringTag,{value:"Module"})),xn=je("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),iz={number:"number",bigint:"bigint",object:"date"},n3=je("$ZodCheckLessThan",(e,t)=>{xn.init(e,t);const r=iz[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,i=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),s3=je("$ZodCheckGreaterThan",(e,t)=>{xn.init(e,t);const r=iz[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,i=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),az=je("$ZodCheckMultipleOf",(e,t)=>{xn.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):rL(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),oz=je("$ZodCheckNumberFormat",(e,t)=>{xn.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[s,i]=oL[t.format];e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,o.minimum=s,o.maximum=i,r&&(o.pattern=YL)}),e._zod.check=a=>{const o=a.value;if(r){if(!Number.isInteger(o)){a.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});return}if(!Number.isSafeInteger(o)){o>0?a.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort}):a.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort});return}}o<s&&a.issues.push({origin:"number",input:o,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),o>i&&a.issues.push({origin:"number",input:o,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!t.abort})}}),lz=je("$ZodCheckBigIntFormat",(e,t)=>{xn.init(e,t);const[r,n]=lL[t.format];e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,i.minimum=r,i.maximum=n}),e._zod.check=s=>{const i=s.value;i<r&&s.issues.push({origin:"bigint",input:i,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),i>n&&s.issues.push({origin:"bigint",input:i,code:"too_big",maximum:n,inclusive:!0,inst:e,continue:!t.abort})}}),cz=je("$ZodCheckMaxSize",(e,t)=>{var r;xn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!$d(s)&&s.size!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;s.size<=t.maximum||n.issues.push({origin:yx(s),code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),uz=je("$ZodCheckMinSize",(e,t)=>{var r;xn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!$d(s)&&s.size!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;s.size>=t.minimum||n.issues.push({origin:yx(s),code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),dz=je("$ZodCheckSizeEquals",(e,t)=>{var r;xn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!$d(s)&&s.size!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.size,s.maximum=t.size,s.size=t.size}),e._zod.check=n=>{const s=n.value,i=s.size;if(i===t.size)return;const a=i>t.size;n.issues.push({origin:yx(s),...a?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),fz=je("$ZodCheckMaxLength",(e,t)=>{var r;xn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!$d(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const a=bx(s);n.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),hz=je("$ZodCheckMinLength",(e,t)=>{var r;xn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!$d(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const a=bx(s);n.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),pz=je("$ZodCheckLengthEquals",(e,t)=>{var r;xn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!$d(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,i=s.length;if(i===t.length)return;const a=bx(s),o=i>t.length;n.issues.push({origin:a,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Ug=je("$ZodCheckStringFormat",(e,t)=>{var r,n;xn.init(e,t),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),mz=je("$ZodCheckRegex",(e,t)=>{Ug.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),gz=je("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=rz),Ug.init(e,t)}),yz=je("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=nz),Ug.init(e,t)}),bz=je("$ZodCheckIncludes",(e,t)=>{xn.init(e,t);const r=Ol(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),vz=je("$ZodCheckStartsWith",(e,t)=>{xn.init(e,t);const r=new RegExp(`^${Ol(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),xz=je("$ZodCheckEndsWith",(e,t)=>{xn.init(e,t);const r=new RegExp(`.*${Ol(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function TT(e,t,r){e.issues.length&&t.issues.push(...to(r,e.issues))}const wz=je("$ZodCheckProperty",(e,t)=>{xn.init(e,t),e._zod.check=r=>{const n=t.schema._zod.run({value:r.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(s=>TT(s,r,t.property));TT(n,r,t.property)}}),_z=je("$ZodCheckMimeType",(e,t)=>{xn.init(e,t);const r=new Set(t.mime);e._zod.onattach.push(n=>{n._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e,continue:!t.abort})}}),kz=je("$ZodCheckOverwrite",(e,t)=>{xn.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Sz{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(a=>a),s=Math.min(...n.map(a=>a.length-a.trimStart().length)),i=n.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of i)this.content.push(a)}compile(){const t=Function,r=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,s.join(`
`))}}const jz={major:4,minor:3,patch:6},rr=je("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=jz;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const s of n)for(const i of s._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(a,o,u)=>{let c=$u(a),d;for(const h of o){if(h._zod.def.when){if(!h._zod.def.when(a))continue}else if(c)continue;const f=a.issues.length,p=h._zod.check(a);if(p instanceof Promise&&u?.async===!1)throw new nd;if(d||p instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await p,a.issues.length!==f&&(c||(c=$u(a,f)))});else{if(a.issues.length===f)continue;c||(c=$u(a,f))}}return d?d.then(()=>a):a},i=(a,o,u)=>{if($u(a))return a.aborted=!0,a;const c=s(o,n,u);if(c instanceof Promise){if(u.async===!1)throw new nd;return c.then(d=>e._zod.parse(d,u))}return e._zod.parse(c,u)};e._zod.run=(a,o)=>{if(o.skipChecks)return e._zod.parse(a,o);if(o.direction==="backward"){const c=e._zod.parse({value:a.value,issues:[]},{...o,skipChecks:!0});return c instanceof Promise?c.then(d=>i(d,a,o)):i(c,a,o)}const u=e._zod.parse(a,o);if(u instanceof Promise){if(o.async===!1)throw new nd;return u.then(c=>s(c,n,o))}return s(u,n,o)}}fr(e,"~standard",()=>({validate:s=>{try{const i=kL(e,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return SL(e,s).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),Vg=je("$ZodString",(e,t)=>{rr.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??XL(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Yr=je("$ZodStringFormat",(e,t)=>{Ug.init(e,t),Vg.init(e,t)}),Nz=je("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=IL),Yr.init(e,t)}),Cz=je("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=ph(n))}else t.pattern??(t.pattern=ph());Yr.init(e,t)}),Tz=je("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=DL),Yr.init(e,t)}),Ez=je("$ZodURL",(e,t)=>{Yr.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Az=je("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=RL()),Yr.init(e,t)}),Pz=je("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=AL),Yr.init(e,t)}),Iz=je("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=jL),Yr.init(e,t)}),Dz=je("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=NL),Yr.init(e,t)}),Mz=je("$ZodULID",(e,t)=>{t.pattern??(t.pattern=CL),Yr.init(e,t)}),Rz=je("$ZodXID",(e,t)=>{t.pattern??(t.pattern=TL),Yr.init(e,t)}),$z=je("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=EL),Yr.init(e,t)}),Oz=je("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=GL(t)),Yr.init(e,t)}),Fz=je("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=HL),Yr.init(e,t)}),Lz=je("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=ZL(t)),Yr.init(e,t)}),zz=je("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=PL),Yr.init(e,t)}),Bz=je("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=$L),Yr.init(e,t),e._zod.bag.format="ipv4"}),Uz=je("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=OL),Yr.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),Vz=je("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=FL(t.delimiter)),Yr.init(e,t),e._zod.bag.format="mac"}),Wz=je("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=LL),Yr.init(e,t)}),qz=je("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=zL),Yr.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[s,i]=n;if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function i3(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Hz=je("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=BL),Yr.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{i3(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function Kz(e){if(!e3.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return i3(r)}const Zz=je("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=e3),Yr.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{Kz(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),Gz=je("$ZodE164",(e,t)=>{t.pattern??(t.pattern=WL),Yr.init(e,t)});function Xz(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const Qz=je("$ZodJWT",(e,t)=>{Yr.init(e,t),e._zod.check=r=>{Xz(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),Yz=je("$ZodCustomStringFormat",(e,t)=>{Yr.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),a3=je("$ZodNumber",(e,t)=>{rr.init(e,t),e._zod.pattern=e._zod.bag.pattern??t3,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...i?{received:i}:{}}),r}}),Jz=je("$ZodNumberFormat",(e,t)=>{oz.init(e,t),a3.init(e,t)}),o3=je("$ZodBoolean",(e,t)=>{rr.init(e,t),e._zod.pattern=JL,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),r}}),l3=je("$ZodBigInt",(e,t)=>{rr.init(e,t),e._zod.pattern=QL,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),eB=je("$ZodBigIntFormat",(e,t)=>{lz.init(e,t),l3.init(e,t)}),tB=je("$ZodSymbol",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;return typeof s=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:s,inst:e}),r}}),rB=je("$ZodUndefined",(e,t)=>{rr.init(e,t),e._zod.pattern=tz,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(r,n)=>{const s=r.value;return typeof s>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:s,inst:e}),r}}),nB=je("$ZodNull",(e,t)=>{rr.init(e,t),e._zod.pattern=ez,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{const s=r.value;return s===null||r.issues.push({expected:"null",code:"invalid_type",input:s,inst:e}),r}}),sB=je("$ZodAny",(e,t)=>{rr.init(e,t),e._zod.parse=r=>r}),iB=je("$ZodUnknown",(e,t)=>{rr.init(e,t),e._zod.parse=r=>r}),aB=je("$ZodNever",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),oB=je("$ZodVoid",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;return typeof s>"u"||r.issues.push({expected:"void",code:"invalid_type",input:s,inst:e}),r}}),lB=je("$ZodDate",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}const s=r.value,i=s instanceof Date;return i&&!Number.isNaN(s.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:s,...i?{received:"Invalid Date"}:{},inst:e}),r}});function ET(e,t,r){e.issues.length&&t.issues.push(...to(r,e.issues)),t.value[r]=e.value}const cB=je("$ZodArray",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const i=[];for(let a=0;a<s.length;a++){const o=s[a],u=t.element._zod.run({value:o,issues:[]},n);u instanceof Promise?i.push(u.then(c=>ET(c,r,a))):ET(u,r,a)}return i.length?Promise.all(i).then(()=>r):r}});function Jb(e,t,r,n,s){if(e.issues.length){if(s&&!(r in n))return;t.issues.push(...to(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function uB(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=aL(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function dB(e,t,r,n,s,i){const a=[],o=s.keySet,u=s.catchall._zod,c=u.def.type,d=u.optout==="optional";for(const h in t){if(o.has(h))continue;if(c==="never"){a.push(h);continue}const f=u.run({value:t[h],issues:[]},n);f instanceof Promise?e.push(f.then(p=>Jb(p,r,h,t,d))):Jb(f,r,h,t,d)}return a.length&&r.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}const fB=je("$ZodObject",(e,t)=>{if(rr.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...o};return Object.defineProperty(t,"shape",{value:u}),u}})}const n=Rg(()=>uB(t));fr(e._zod,"propValues",()=>{const o=t.shape,u={};for(const c in o){const d=o[c]._zod;if(d.values){u[c]??(u[c]=new Set);for(const h of d.values)u[c].add(h)}}return u});const s=fh,i=t.catchall;let a;e._zod.parse=(o,u)=>{a??(a=n.value);const c=o.value;if(!s(c))return o.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),o;o.value={};const d=[],h=a.shape;for(const f of a.keys){const p=h[f],g=p._zod.optout==="optional",y=p._zod.run({value:c[f],issues:[]},u);y instanceof Promise?d.push(y.then(m=>Jb(m,o,f,c,g))):Jb(y,o,f,c,g)}return i?dB(d,c,o,u,n.value,e):d.length?Promise.all(d).then(()=>o):o}}),hB=je("$ZodObjectJIT",(e,t)=>{fB.init(e,t);const r=e._zod.parse,n=Rg(()=>uB(t)),s=f=>{const p=new Sz(["shape","payload","ctx"]),g=n.value,y=x=>{const j=Bk(x);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};p.write("const input = payload.value;");const m=Object.create(null);let v=0;for(const x of g.keys)m[x]=`key_${v++}`;p.write("const newResult = {};");for(const x of g.keys){const j=m[x],C=Bk(x),L=f[x]?._zod?.optout==="optional";p.write(`const ${j} = ${y(x)};`),L?p.write(`
        if (${j}.issues.length) {
          if (${C} in input) {
            payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${C}, ...iss.path] : [${C}]
            })));
          }
        }
        
        if (${j}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${j}.value;
        }
        
      `):p.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${C}, ...iss.path] : [${C}]
          })));
        }
        
        if (${j}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${j}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const b=p.compile();return(x,j)=>b(f,x,j)};let i;const a=fh,o=!Xb.jitless,c=o&&sL.value,d=t.catchall;let h;e._zod.parse=(f,p)=>{h??(h=n.value);const g=f.value;return a(g)?o&&c&&p?.async===!1&&p.jitless!==!0?(i||(i=s(t.shape)),f=i(f,p),d?dB([],g,f,p,h,e):f):r(f,p):(f.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),f)}});function AT(e,t,r,n){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const s=e.filter(i=>!$u(i));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(a=>Ra(a,n,ai())))}),t)}const vx=je("$ZodUnion",(e,t)=>{rr.init(e,t),fr(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),fr(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),fr(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),fr(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>mx(i.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(r)return n(s,i);let a=!1;const o=[];for(const u of t.options){const c=u._zod.run({value:s.value,issues:[]},i);if(c instanceof Promise)o.push(c),a=!0;else{if(c.issues.length===0)return c;o.push(c)}}return a?Promise.all(o).then(u=>AT(u,s,e,i)):AT(o,s,e,i)}});function PT(e,t,r,n){const s=e.filter(i=>i.issues.length===0);return s.length===1?(t.value=s[0].value,t):(s.length===0?t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(a=>Ra(a,n,ai())))}):t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:[],inclusive:!1}),t)}const pB=je("$ZodXor",(e,t)=>{vx.init(e,t),t.inclusive=!1;const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(r)return n(s,i);let a=!1;const o=[];for(const u of t.options){const c=u._zod.run({value:s.value,issues:[]},i);c instanceof Promise?(o.push(c),a=!0):o.push(c)}return a?Promise.all(o).then(u=>PT(u,s,e,i)):PT(o,s,e,i)}}),mB=je("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,vx.init(e,t);const r=e._zod.parse;fr(e._zod,"propValues",()=>{const s={};for(const i of t.options){const a=i._zod.propValues;if(!a||Object.keys(a).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(const[o,u]of Object.entries(a)){s[o]||(s[o]=new Set);for(const c of u)s[o].add(c)}}return s});const n=Rg(()=>{const s=t.options,i=new Map;for(const a of s){const o=a._zod.propValues?.[t.discriminator];if(!o||o.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(a)}"`);for(const u of o){if(i.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);i.set(u,a)}}return i});e._zod.parse=(s,i)=>{const a=s.value;if(!fh(a))return s.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),s;const o=n.value.get(a?.[t.discriminator]);return o?o._zod.run(s,i):t.unionFallback?r(s,i):(s.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:a,path:[t.discriminator],inst:e}),s)}}),gB=je("$ZodIntersection",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,i=t.left._zod.run({value:s,issues:[]},n),a=t.right._zod.run({value:s,issues:[]},n);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([u,c])=>IT(r,u,c)):IT(r,i,a)}});function Wk(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(yd(e)&&yd(t)){const r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),s={...e,...t};for(const i of n){const a=Wk(e[i],t[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};s[i]=a.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],i=t[n],a=Wk(s,i);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};r.push(a.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function IT(e,t,r){const n=new Map;let s;for(const o of t.issues)if(o.code==="unrecognized_keys"){s??(s=o);for(const u of o.keys)n.has(u)||n.set(u,{}),n.get(u).l=!0}else e.issues.push(o);for(const o of r.issues)if(o.code==="unrecognized_keys")for(const u of o.keys)n.has(u)||n.set(u,{}),n.get(u).r=!0;else e.issues.push(o);const i=[...n].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(i.length&&s&&e.issues.push({...s,keys:i}),$u(e))return e;const a=Wk(t.value,r.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const c3=je("$ZodTuple",(e,t)=>{rr.init(e,t);const r=t.items;e._zod.parse=(n,s)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),n;n.value=[];const a=[],o=[...r].reverse().findIndex(d=>d._zod.optin!=="optional"),u=o===-1?0:r.length-o;if(!t.rest){const d=i.length>r.length,h=i.length<u-1;if(d||h)return n.issues.push({...d?{code:"too_big",maximum:r.length,inclusive:!0}:{code:"too_small",minimum:r.length},input:i,inst:e,origin:"array"}),n}let c=-1;for(const d of r){if(c++,c>=i.length&&c>=u)continue;const h=d._zod.run({value:i[c],issues:[]},s);h instanceof Promise?a.push(h.then(f=>ny(f,n,c))):ny(h,n,c)}if(t.rest){const d=i.slice(r.length);for(const h of d){c++;const f=t.rest._zod.run({value:h,issues:[]},s);f instanceof Promise?a.push(f.then(p=>ny(p,n,c))):ny(f,n,c)}}return a.length?Promise.all(a).then(()=>n):n}});function ny(e,t,r){e.issues.length&&t.issues.push(...to(r,e.issues)),t.value[r]=e.value}const yB=je("$ZodRecord",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!yd(s))return r.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),r;const i=[],a=t.keyType._zod.values;if(a){r.value={};const o=new Set;for(const c of a)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){o.add(typeof c=="number"?c.toString():c);const d=t.valueType._zod.run({value:s[c],issues:[]},n);d instanceof Promise?i.push(d.then(h=>{h.issues.length&&r.issues.push(...to(c,h.issues)),r.value[c]=h.value})):(d.issues.length&&r.issues.push(...to(c,d.issues)),r.value[c]=d.value)}let u;for(const c in s)o.has(c)||(u=u??[],u.push(c));u&&u.length>0&&r.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:u})}else{r.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;let u=t.keyType._zod.run({value:o,issues:[]},n);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof o=="string"&&t3.test(o)&&u.issues.length){const h=t.keyType._zod.run({value:Number(o),issues:[]},n);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");h.issues.length===0&&(u=h)}if(u.issues.length){t.mode==="loose"?r.value[o]=s[o]:r.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(h=>Ra(h,n,ai())),input:o,path:[o],inst:e});continue}const d=t.valueType._zod.run({value:s[o],issues:[]},n);d instanceof Promise?i.push(d.then(h=>{h.issues.length&&r.issues.push(...to(o,h.issues)),r.value[u.value]=h.value})):(d.issues.length&&r.issues.push(...to(o,d.issues)),r.value[u.value]=d.value)}}return i.length?Promise.all(i).then(()=>r):r}}),bB=je("$ZodMap",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!(s instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:s,inst:e}),r;const i=[];r.value=new Map;for(const[a,o]of s){const u=t.keyType._zod.run({value:a,issues:[]},n),c=t.valueType._zod.run({value:o,issues:[]},n);u instanceof Promise||c instanceof Promise?i.push(Promise.all([u,c]).then(([d,h])=>{DT(d,h,r,a,s,e,n)})):DT(u,c,r,a,s,e,n)}return i.length?Promise.all(i).then(()=>r):r}});function DT(e,t,r,n,s,i,a){e.issues.length&&(Yb.has(typeof n)?r.issues.push(...to(n,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:s,inst:i,issues:e.issues.map(o=>Ra(o,a,ai()))})),t.issues.length&&(Yb.has(typeof n)?r.issues.push(...to(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:s,inst:i,key:n,issues:t.issues.map(o=>Ra(o,a,ai()))})),r.value.set(e.value,t.value)}const vB=je("$ZodSet",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!(s instanceof Set))return r.issues.push({input:s,inst:e,expected:"set",code:"invalid_type"}),r;const i=[];r.value=new Set;for(const a of s){const o=t.valueType._zod.run({value:a,issues:[]},n);o instanceof Promise?i.push(o.then(u=>MT(u,r))):MT(o,r)}return i.length?Promise.all(i).then(()=>r):r}});function MT(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}const xB=je("$ZodEnum",(e,t)=>{rr.init(e,t);const r=Bj(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>Yb.has(typeof s)).map(s=>typeof s=="string"?Ol(s):s.toString()).join("|")})$`),e._zod.parse=(s,i)=>{const a=s.value;return n.has(a)||s.issues.push({code:"invalid_value",values:r,input:a,inst:e}),s}}),wB=je("$ZodLiteral",(e,t)=>{if(rr.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?Ol(n):n?Ol(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,s)=>{const i=n.value;return r.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),_B=je("$ZodFile",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;return s instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:s,inst:e}),r}}),kB=je("$ZodTransform",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new px(e.constructor.name);const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(r.value=a,r));if(s instanceof Promise)throw new nd;return r.value=s,r}});function RT(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const u3=je("$ZodOptional",(e,t)=>{rr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",fr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),fr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${mx(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>RT(i,r.value)):RT(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),SB=je("$ZodExactOptional",(e,t)=>{u3.init(e,t),fr(e._zod,"values",()=>t.innerType._zod.values),fr(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),jB=je("$ZodNullable",(e,t)=>{rr.init(e,t),fr(e._zod,"optin",()=>t.innerType._zod.optin),fr(e._zod,"optout",()=>t.innerType._zod.optout),fr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${mx(r.source)}|null)$`):void 0}),fr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),NB=je("$ZodDefault",(e,t)=>{rr.init(e,t),e._zod.optin="optional",fr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>$T(i,t)):$T(s,t)}});function $T(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const CB=je("$ZodPrefault",(e,t)=>{rr.init(e,t),e._zod.optin="optional",fr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),TB=je("$ZodNonOptional",(e,t)=>{rr.init(e,t),fr(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>OT(i,e)):OT(s,e)}});function OT(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const EB=je("$ZodSuccess",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new px("ZodSuccess");const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>(r.value=i.issues.length===0,r)):(r.value=s.issues.length===0,r)}}),AB=je("$ZodCatch",(e,t)=>{rr.init(e,t),fr(e._zod,"optin",()=>t.innerType._zod.optin),fr(e._zod,"optout",()=>t.innerType._zod.optout),fr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(a=>Ra(a,n,ai()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(i=>Ra(i,n,ai()))},input:r.value}),r.issues=[]),r)}}),PB=je("$ZodNaN",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:e,expected:"nan",code:"invalid_type"}),r)}),IB=je("$ZodPipe",(e,t)=>{rr.init(e,t),fr(e._zod,"values",()=>t.in._zod.values),fr(e._zod,"optin",()=>t.in._zod.optin),fr(e._zod,"optout",()=>t.out._zod.optout),fr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const i=t.out._zod.run(r,n);return i instanceof Promise?i.then(a=>sy(a,t.in,n)):sy(i,t.in,n)}const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(i=>sy(i,t.out,n)):sy(s,t.out,n)}});function sy(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const d3=je("$ZodCodec",(e,t)=>{rr.init(e,t),fr(e._zod,"values",()=>t.in._zod.values),fr(e._zod,"optin",()=>t.in._zod.optin),fr(e._zod,"optout",()=>t.out._zod.optout),fr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if((n.direction||"forward")==="forward"){const i=t.in._zod.run(r,n);return i instanceof Promise?i.then(a=>iy(a,t,n)):iy(i,t,n)}else{const i=t.out._zod.run(r,n);return i instanceof Promise?i.then(a=>iy(a,t,n)):iy(i,t,n)}}});function iy(e,t,r){if(e.issues.length)return e.aborted=!0,e;if((r.direction||"forward")==="forward"){const s=t.transform(e.value,e);return s instanceof Promise?s.then(i=>ay(e,i,t.out,r)):ay(e,s,t.out,r)}else{const s=t.reverseTransform(e.value,e);return s instanceof Promise?s.then(i=>ay(e,i,t.in,r)):ay(e,s,t.in,r)}}function ay(e,t,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},n)}const DB=je("$ZodReadonly",(e,t)=>{rr.init(e,t),fr(e._zod,"propValues",()=>t.innerType._zod.propValues),fr(e._zod,"values",()=>t.innerType._zod.values),fr(e._zod,"optin",()=>t.innerType?._zod?.optin),fr(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(FT):FT(s)}});function FT(e){return e.value=Object.freeze(e.value),e}const MB=je("$ZodTemplateLiteral",(e,t)=>{rr.init(e,t);const r=[];for(const n of t.parts)if(typeof n=="object"&&n!==null){if(!n._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);const s=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!s)throw new Error(`Invalid template literal part: ${n._zod.traits}`);const i=s.startsWith("^")?1:0,a=s.endsWith("$")?s.length-1:s.length;r.push(s.slice(i,a))}else if(n===null||iL.has(typeof n))r.push(Ol(`${n}`));else throw new Error(`Invalid template literal part: ${n}`);e._zod.pattern=new RegExp(`^${r.join("")}$`),e._zod.parse=(n,s)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:e,expected:"string",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),RB=je("$ZodFunction",(e,t)=>(rr.init(e,t),e._def=t,e._zod.def=t,e.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...n){const s=e._def.input?Uk(e._def.input,n):n,i=Reflect.apply(r,this,s);return e._def.output?Uk(e._def.output,i):i}},e.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...n){const s=e._def.input?await Vk(e._def.input,n):n,i=await Reflect.apply(r,this,s);return e._def.output?await Vk(e._def.output,i):i}},e._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:e}),r):(e._def.output&&e._def.output._zod.def.type==="promise"?r.value=e.implementAsync(r.value):r.value=e.implement(r.value),r),e.input=(...r)=>{const n=e.constructor;return Array.isArray(r[0])?new n({type:"function",input:new c3({type:"tuple",items:r[0],rest:r[1]}),output:e._def.output}):new n({type:"function",input:r[0],output:e._def.output})},e.output=r=>{const n=e.constructor;return new n({type:"function",input:e._def.input,output:r})},e)),$B=je("$ZodPromise",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>Promise.resolve(r.value).then(s=>t.innerType._zod.run({value:s,issues:[]},n))}),OB=je("$ZodLazy",(e,t)=>{rr.init(e,t),fr(e._zod,"innerType",()=>t.getter()),fr(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),fr(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),fr(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),fr(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),FB=je("$ZodCustom",(e,t)=>{xn.init(e,t),rr.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(i=>LT(i,r,n,e));LT(s,r,n,e)}});function LT(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(hh(s))}}const Sfe=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(s){return e[s]??null}const r={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`  :   instanceof ${s.expected}    ${o}`:`  :   ${i}    ${o}`}case"invalid_value":return s.values.length===1?`  :   ${Lt(s.values[0])}`:`  :     : ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`   :    ${s.origin??""} ${i} ${s.maximum.toString()} ${a.unit??""}`:`  :    ${s.origin??""} ${i} ${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`  :   ${s.origin}   ${i} ${s.minimum.toString()} ${a.unit}`:`  :   ${s.origin}   ${i} ${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`  :     "${s.prefix}"`:i.format==="ends_with"?`  :     "${i.suffix}"`:i.format==="includes"?`  :    "${i.includes}"`:i.format==="regex"?`  :     ${i.pattern}`:`${r[i.format]??s.format}  `}case"not_multiple_of":return`  :      ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"":""} ${s.keys.length>1?"":""}: ${Ge(s.keys," ")}`;case"invalid_key":return`    ${s.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${s.origin}`;default:return"  "}}};function jfe(){return{localeError:Sfe()}}const Nfe=()=>{const e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function t(s){return e[s]??null}const r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Yanl dyr: gzlniln instanceof ${s.expected}, daxil olan ${o}`:`Yanl dyr: gzlniln ${i}, daxil olan ${o}`}case"invalid_value":return s.values.length===1?`Yanl dyr: gzlniln ${Lt(s.values[0])}`:`Yanl seim: aadaklardan biri olmaldr: ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`ox byk: gzlniln ${s.origin??"dyr"} ${i}${s.maximum.toString()} ${a.unit??"element"}`:`ox byk: gzlniln ${s.origin??"dyr"} ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`ox kiik: gzlniln ${s.origin} ${i}${s.minimum.toString()} ${a.unit}`:`ox kiik: gzlniln ${s.origin} ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Yanl mtn: "${i.prefix}" il balamaldr`:i.format==="ends_with"?`Yanl mtn: "${i.suffix}" il bitmlidir`:i.format==="includes"?`Yanl mtn: "${i.includes}" daxil olmaldr`:i.format==="regex"?`Yanl mtn: ${i.pattern} ablonuna uyun olmaldr`:`Yanl ${r[i.format]??s.format}`}case"not_multiple_of":return`Yanl dd: ${s.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${s.keys.length>1?"lar":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`${s.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${s.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}};function Cfe(){return{localeError:Nfe()}}function zT(e,t,r,n){const s=Math.abs(e),i=s%10,a=s%100;return a>=11&&a<=19?n:i===1?t:i>=2&&i<=4?r:n}const Tfe=()=>{const e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected},  ${o}`:` :  ${i},  ${o}`}case"invalid_value":return s.values.length===1?` :  ${Lt(s.values[0])}`:` :    ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);if(a){const o=Number(s.maximum),u=zT(o,a.unit.one,a.unit.few,a.unit.many);return` : ,  ${s.origin??""}  ${a.verb} ${i}${s.maximum.toString()} ${u}`}return` : ,  ${s.origin??""}   ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);if(a){const o=Number(s.minimum),u=zT(o,a.unit.one,a.unit.few,a.unit.many);return` : ,  ${s.origin}  ${a.verb} ${i}${s.minimum.toString()} ${u}`}return` : ,  ${s.origin}   ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` :    "${i.prefix}"`:i.format==="ends_with"?` :    "${i.suffix}"`:i.format==="includes"?` :   "${i.includes}"`:i.format==="regex"?` :    ${i.pattern}`:` ${r[i.format]??s.format}`}case"not_multiple_of":return` :    ${s.divisor}`;case"unrecognized_keys":return` ${s.keys.length>1?"":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`   ${s.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${s.origin}`;default:return" "}}};function Efe(){return{localeError:Tfe()}}const Afe=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(s){return e[s]??null}const r={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected},  ${o}`:` :  ${i},  ${o}`}case"invalid_value":return s.values.length===1?` :  ${Lt(s.values[0])}`:` :    ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` :   ${s.origin??""}   ${i}${s.maximum.toString()} ${a.unit??""}`:` :   ${s.origin??""}   ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` :   ${s.origin}   ${i}${s.minimum.toString()} ${a.unit}`:` :   ${s.origin}   ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;if(i.format==="starts_with")return` :     "${i.prefix}"`;if(i.format==="ends_with")return` :     "${i.suffix}"`;if(i.format==="includes")return` :    "${i.includes}"`;if(i.format==="regex")return` :     ${i.pattern}`;let a="";return i.format==="emoji"&&(a=""),i.format==="datetime"&&(a=""),i.format==="date"&&(a=""),i.format==="time"&&(a=""),i.format==="duration"&&(a=""),`${a} ${r[i.format]??s.format}`}case"not_multiple_of":return` :      ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"":""} ${s.keys.length>1?"":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`   ${s.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${s.origin}`;default:return" "}}};function Pfe(){return{localeError:Afe()}}const Ife=()=>{const e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(s){return e[s]??null}const r={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Tipus invlid: s'esperava instanceof ${s.expected}, s'ha rebut ${o}`:`Tipus invlid: s'esperava ${i}, s'ha rebut ${o}`}case"invalid_value":return s.values.length===1?`Valor invlid: s'esperava ${Lt(s.values[0])}`:`Opci invlida: s'esperava una de ${Ge(s.values," o ")}`;case"too_big":{const i=s.inclusive?"com a mxim":"menys de",a=t(s.origin);return a?`Massa gran: s'esperava que ${s.origin??"el valor"} contingus ${i} ${s.maximum.toString()} ${a.unit??"elements"}`:`Massa gran: s'esperava que ${s.origin??"el valor"} fos ${i} ${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?"com a mnim":"ms de",a=t(s.origin);return a?`Massa petit: s'esperava que ${s.origin} contingus ${i} ${s.minimum.toString()} ${a.unit}`:`Massa petit: s'esperava que ${s.origin} fos ${i} ${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Format invlid: ha de comenar amb "${i.prefix}"`:i.format==="ends_with"?`Format invlid: ha d'acabar amb "${i.suffix}"`:i.format==="includes"?`Format invlid: ha d'incloure "${i.includes}"`:i.format==="regex"?`Format invlid: ha de coincidir amb el patr ${i.pattern}`:`Format invlid per a ${r[i.format]??s.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${s.divisor}`;case"unrecognized_keys":return`Clau${s.keys.length>1?"s":""} no reconeguda${s.keys.length>1?"s":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Clau invlida a ${s.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${s.origin}`;default:return"Entrada invlida"}}};function Dfe(){return{localeError:Ife()}}const Mfe=()=>{const e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function t(s){return e[s]??null}const r={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},n={nan:"NaN",number:"slo",string:"etzec",function:"funkce",array:"pole"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Neplatn vstup: oekvno instanceof ${s.expected}, obdreno ${o}`:`Neplatn vstup: oekvno ${i}, obdreno ${o}`}case"invalid_value":return s.values.length===1?`Neplatn vstup: oekvno ${Lt(s.values[0])}`:`Neplatn monost: oekvna jedna z hodnot ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Hodnota je pli velk: ${s.origin??"hodnota"} mus mt ${i}${s.maximum.toString()} ${a.unit??"prvk"}`:`Hodnota je pli velk: ${s.origin??"hodnota"} mus bt ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Hodnota je pli mal: ${s.origin??"hodnota"} mus mt ${i}${s.minimum.toString()} ${a.unit??"prvk"}`:`Hodnota je pli mal: ${s.origin??"hodnota"} mus bt ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Neplatn etzec: mus zanat na "${i.prefix}"`:i.format==="ends_with"?`Neplatn etzec: mus konit na "${i.suffix}"`:i.format==="includes"?`Neplatn etzec: mus obsahovat "${i.includes}"`:i.format==="regex"?`Neplatn etzec: mus odpovdat vzoru ${i.pattern}`:`Neplatn formt ${r[i.format]??s.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${s.divisor}`;case"unrecognized_keys":return`Neznm kle: ${Ge(s.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${s.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${s.origin}`;default:return"Neplatn vstup"}}};function Rfe(){return{localeError:Mfe()}}const $fe=()=>{const e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function t(s){return e[s]??null}const r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Ugyldigt input: forventede instanceof ${s.expected}, fik ${o}`:`Ugyldigt input: forventede ${i}, fik ${o}`}case"invalid_value":return s.values.length===1?`Ugyldig vrdi: forventede ${Lt(s.values[0])}`:`Ugyldigt valg: forventede en af flgende ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin),o=n[s.origin]??s.origin;return a?`For stor: forventede ${o??"value"} ${a.verb} ${i} ${s.maximum.toString()} ${a.unit??"elementer"}`:`For stor: forventede ${o??"value"} havde ${i} ${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin),o=n[s.origin]??s.origin;return a?`For lille: forventede ${o} ${a.verb} ${i} ${s.minimum.toString()} ${a.unit}`:`For lille: forventede ${o} havde ${i} ${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Ugyldig streng: skal starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: skal ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: skal indeholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: skal matche mnsteret ${i.pattern}`:`Ugyldig ${r[i.format]??s.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${s.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${s.origin}`;default:return"Ugyldigt input"}}};function Ofe(){return{localeError:$fe()}}const Ffe=()=>{const e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(s){return e[s]??null}const r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},n={nan:"NaN",number:"Zahl",array:"Array"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Ungltige Eingabe: erwartet instanceof ${s.expected}, erhalten ${o}`:`Ungltige Eingabe: erwartet ${i}, erhalten ${o}`}case"invalid_value":return s.values.length===1?`Ungltige Eingabe: erwartet ${Lt(s.values[0])}`:`Ungltige Option: erwartet eine von ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Zu gro: erwartet, dass ${s.origin??"Wert"} ${i}${s.maximum.toString()} ${a.unit??"Elemente"} hat`:`Zu gro: erwartet, dass ${s.origin??"Wert"} ${i}${s.maximum.toString()} ist`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Zu klein: erwartet, dass ${s.origin} ${i}${s.minimum.toString()} ${a.unit} hat`:`Zu klein: erwartet, dass ${s.origin} ${i}${s.minimum.toString()} ist`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Ungltiger String: muss mit "${i.prefix}" beginnen`:i.format==="ends_with"?`Ungltiger String: muss mit "${i.suffix}" enden`:i.format==="includes"?`Ungltiger String: muss "${i.includes}" enthalten`:i.format==="regex"?`Ungltiger String: muss dem Muster ${i.pattern} entsprechen`:`Ungltig: ${r[i.format]??s.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${s.divisor} sein`;case"unrecognized_keys":return`${s.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${s.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${s.origin}`;default:return"Ungltige Eingabe"}}};function Lfe(){return{localeError:Ffe()}}const zfe=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function t(s){return e[s]??null}const r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return`Invalid input: expected ${i}, received ${o}`}case"invalid_value":return s.values.length===1?`Invalid input: expected ${Lt(s.values[0])}`:`Invalid option: expected one of ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Too big: expected ${s.origin??"value"} to have ${i}${s.maximum.toString()} ${a.unit??"elements"}`:`Too big: expected ${s.origin??"value"} to be ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Too small: expected ${s.origin} to have ${i}${s.minimum.toString()} ${a.unit}`:`Too small: expected ${s.origin} to be ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${r[i.format]??s.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${s.divisor}`;case"unrecognized_keys":return`Unrecognized key${s.keys.length>1?"s":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Invalid key in ${s.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${s.origin}`;default:return"Invalid input"}}};function LB(){return{localeError:zfe()}}const Bfe=()=>{const e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(s){return e[s]??null}const r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},n={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Nevalida enigo: atendiis instanceof ${s.expected}, riceviis ${o}`:`Nevalida enigo: atendiis ${i}, riceviis ${o}`}case"invalid_value":return s.values.length===1?`Nevalida enigo: atendiis ${Lt(s.values[0])}`:`Nevalida opcio: atendiis unu el ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Tro granda: atendiis ke ${s.origin??"valoro"} havu ${i}${s.maximum.toString()} ${a.unit??"elementojn"}`:`Tro granda: atendiis ke ${s.origin??"valoro"} havu ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Tro malgranda: atendiis ke ${s.origin} havu ${i}${s.minimum.toString()} ${a.unit}`:`Tro malgranda: atendiis ke ${s.origin} estu ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Nevalida karaktraro: devas komencii per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas finii per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${r[i.format]??s.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${s.divisor}`;case"unrecognized_keys":return`Nekonata${s.keys.length>1?"j":""} losilo${s.keys.length>1?"j":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${s.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${s.origin}`;default:return"Nevalida enigo"}}};function Ufe(){return{localeError:Bfe()}}const Vfe=()=>{const e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function t(s){return e[s]??null}const r={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN",string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Entrada invlida: se esperaba instanceof ${s.expected}, recibido ${o}`:`Entrada invlida: se esperaba ${i}, recibido ${o}`}case"invalid_value":return s.values.length===1?`Entrada invlida: se esperaba ${Lt(s.values[0])}`:`Opcin invlida: se esperaba una de ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin),o=n[s.origin]??s.origin;return a?`Demasiado grande: se esperaba que ${o??"valor"} tuviera ${i}${s.maximum.toString()} ${a.unit??"elementos"}`:`Demasiado grande: se esperaba que ${o??"valor"} fuera ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin),o=n[s.origin]??s.origin;return a?`Demasiado pequeo: se esperaba que ${o} tuviera ${i}${s.minimum.toString()} ${a.unit}`:`Demasiado pequeo: se esperaba que ${o} fuera ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Cadena invlida: debe comenzar con "${i.prefix}"`:i.format==="ends_with"?`Cadena invlida: debe terminar en "${i.suffix}"`:i.format==="includes"?`Cadena invlida: debe incluir "${i.includes}"`:i.format==="regex"?`Cadena invlida: debe coincidir con el patrn ${i.pattern}`:`Invlido ${r[i.format]??s.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${s.divisor}`;case"unrecognized_keys":return`Llave${s.keys.length>1?"s":""} desconocida${s.keys.length>1?"s":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Llave invlida en ${n[s.origin]??s.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${n[s.origin]??s.origin}`;default:return"Entrada invlida"}}};function Wfe(){return{localeError:Vfe()}}const qfe=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(s){return e[s]??null}const r={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected}  ${o}  `:` :  ${i}  ${o}  `}case"invalid_value":return s.values.length===1?` :  ${Lt(s.values[0])} `:` :    ${Ge(s.values,"|")} `;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` : ${s.origin??""}  ${i}${s.maximum.toString()} ${a.unit??""} `:` : ${s.origin??""}  ${i}${s.maximum.toString()} `}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` : ${s.origin}  ${i}${s.minimum.toString()} ${a.unit} `:` : ${s.origin}  ${i}${s.minimum.toString()} `}case"invalid_format":{const i=s;return i.format==="starts_with"?` :   "${i.prefix}"  `:i.format==="ends_with"?` :   "${i.suffix}"  `:i.format==="includes"?` :   "${i.includes}" `:i.format==="regex"?` :    ${i.pattern}   `:`${r[i.format]??s.format} `}case"not_multiple_of":return` :   ${s.divisor} `;case"unrecognized_keys":return`${s.keys.length>1?"":""} : ${Ge(s.keys,", ")}`;case"invalid_key":return`   ${s.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${s.origin}`;default:return" "}}};function Hfe(){return{localeError:qfe()}}const Kfe=()=>{const e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function t(s){return e[s]??null}const r={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Virheellinen tyyppi: odotettiin instanceof ${s.expected}, oli ${o}`:`Virheellinen tyyppi: odotettiin ${i}, oli ${o}`}case"invalid_value":return s.values.length===1?`Virheellinen syte: tytyy olla ${Lt(s.values[0])}`:`Virheellinen valinta: tytyy olla yksi seuraavista: ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Liian suuri: ${a.subject} tytyy olla ${i}${s.maximum.toString()} ${a.unit}`.trim():`Liian suuri: arvon tytyy olla ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Liian pieni: ${a.subject} tytyy olla ${i}${s.minimum.toString()} ${a.unit}`.trim():`Liian pieni: arvon tytyy olla ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Virheellinen syte: tytyy alkaa "${i.prefix}"`:i.format==="ends_with"?`Virheellinen syte: tytyy loppua "${i.suffix}"`:i.format==="includes"?`Virheellinen syte: tytyy sislt "${i.includes}"`:i.format==="regex"?`Virheellinen syte: tytyy vastata snnllist lauseketta ${i.pattern}`:`Virheellinen ${r[i.format]??s.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${s.divisor} monikerta`;case"unrecognized_keys":return`${s.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${Ge(s.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}};function Zfe(){return{localeError:Kfe()}}const Gfe=()=>{const e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(s){return e[s]??null}const r={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},n={nan:"NaN",number:"nombre",array:"tableau"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Entre invalide : instanceof ${s.expected} attendu, ${o} reu`:`Entre invalide : ${i} attendu, ${o} reu`}case"invalid_value":return s.values.length===1?`Entre invalide : ${Lt(s.values[0])} attendu`:`Option invalide : une valeur parmi ${Ge(s.values,"|")} attendue`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Trop grand : ${s.origin??"valeur"} doit ${a.verb} ${i}${s.maximum.toString()} ${a.unit??"lment(s)"}`:`Trop grand : ${s.origin??"valeur"} doit tre ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Trop petit : ${s.origin} doit ${a.verb} ${i}${s.minimum.toString()} ${a.unit}`:`Trop petit : ${s.origin} doit tre ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Chane invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Chane invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Chane invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Chane invalide : doit correspondre au modle ${i.pattern}`:`${r[i.format]??s.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${s.divisor}`;case"unrecognized_keys":return`Cl${s.keys.length>1?"s":""} non reconnue${s.keys.length>1?"s":""} : ${Ge(s.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${s.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${s.origin}`;default:return"Entre invalide"}}};function Xfe(){return{localeError:Gfe()}}const Qfe=()=>{const e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(s){return e[s]??null}const r={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Entre invalide : attendu instanceof ${s.expected}, reu ${o}`:`Entre invalide : attendu ${i}, reu ${o}`}case"invalid_value":return s.values.length===1?`Entre invalide : attendu ${Lt(s.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"":"<",a=t(s.origin);return a?`Trop grand : attendu que ${s.origin??"la valeur"} ait ${i}${s.maximum.toString()} ${a.unit}`:`Trop grand : attendu que ${s.origin??"la valeur"} soit ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?"":">",a=t(s.origin);return a?`Trop petit : attendu que ${s.origin} ait ${i}${s.minimum.toString()} ${a.unit}`:`Trop petit : attendu que ${s.origin} soit ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Chane invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Chane invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Chane invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Chane invalide : doit correspondre au motif ${i.pattern}`:`${r[i.format]??s.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${s.divisor}`;case"unrecognized_keys":return`Cl${s.keys.length>1?"s":""} non reconnue${s.keys.length>1?"s":""} : ${Ge(s.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${s.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${s.origin}`;default:return"Entre invalide"}}};function Yfe(){return{localeError:Qfe()}}const Jfe=()=>{const e={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},t={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},r=c=>c?e[c]:void 0,n=c=>{const d=r(c);return d?d.label:c??e.unknown.label},s=c=>`${n(c)}`,i=c=>(r(c)?.gender??"m")==="f"?" ":" ",a=c=>c?t[c]??null:null,o={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}},u={nan:"NaN"};return c=>{switch(c.code){case"invalid_type":{const d=c.expected,h=u[d??""]??n(d),f=Zt(c.input),p=u[f]??e[f]?.label??f;return/^[A-Z]/.test(c.expected)?`  :   instanceof ${c.expected},  ${p}`:`  :   ${h},  ${p}`}case"invalid_value":{if(c.values.length===1)return`  :    ${Lt(c.values[0])}`;const d=c.values.map(p=>Lt(p));if(c.values.length===2)return`  :    ${d[0]}  ${d[1]}`;const h=d[d.length-1];return`  :    ${d.slice(0,-1).join(", ")}  ${h}`}case"too_big":{const d=a(c.origin),h=s(c.origin??"value");if(c.origin==="string")return`${d?.longLabel??""} : ${h}   ${c.maximum.toString()} ${d?.unit??""} ${c.inclusive?" ":" "}`.trim();if(c.origin==="number"){const g=c.inclusive?`   -${c.maximum}`:` -${c.maximum}`;return` : ${h}   ${g}`}if(c.origin==="array"||c.origin==="set"){const g=c.origin==="set"?"":"",y=c.inclusive?`${c.maximum} ${d?.unit??""}  `:` -${c.maximum} ${d?.unit??""}`;return` : ${h} ${g}  ${y}`.trim()}const f=c.inclusive?"<=":"<",p=i(c.origin??"value");return d?.unit?`${d.longLabel} : ${h} ${p} ${f}${c.maximum.toString()} ${d.unit}`:`${d?.longLabel??""} : ${h} ${p} ${f}${c.maximum.toString()}`}case"too_small":{const d=a(c.origin),h=s(c.origin??"value");if(c.origin==="string")return`${d?.shortLabel??""} : ${h}   ${c.minimum.toString()} ${d?.unit??""} ${c.inclusive?" ":""}`.trim();if(c.origin==="number"){const g=c.inclusive?`   -${c.minimum}`:` -${c.minimum}`;return` : ${h}   ${g}`}if(c.origin==="array"||c.origin==="set"){const g=c.origin==="set"?"":"";if(c.minimum===1&&c.inclusive){const m=(c.origin==="set","  ");return` : ${h} ${g}  ${m}`}const y=c.inclusive?`${c.minimum} ${d?.unit??""}  `:` -${c.minimum} ${d?.unit??""}`;return` : ${h} ${g}  ${y}`.trim()}const f=c.inclusive?">=":">",p=i(c.origin??"value");return d?.unit?`${d.shortLabel} : ${h} ${p} ${f}${c.minimum.toString()} ${d.unit}`:`${d?.shortLabel??""} : ${h} ${p} ${f}${c.minimum.toString()}`}case"invalid_format":{const d=c;if(d.format==="starts_with")return`    "${d.prefix}"`;if(d.format==="ends_with")return`    "${d.suffix}"`;if(d.format==="includes")return`   "${d.includes}"`;if(d.format==="regex")return`    ${d.pattern}`;const h=o[d.format],f=h?.label??d.format,g=(h?.gender??"m")==="f"?"":"";return`${f}  ${g}`}case"not_multiple_of":return`  :     ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"":""}  ${c.keys.length>1?"":""}: ${Ge(c.keys,", ")}`;case"invalid_key":return"   ";case"invalid_union":return"  ";case"invalid_element":return`   ${s(c.origin??"array")}`;default:return"  "}}};function ehe(){return{localeError:Jfe()}}const the=()=>{const e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(s){return e[s]??null}const r={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},n={nan:"NaN",number:"szm",array:"tmb"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`rvnytelen bemenet: a vrt rtk instanceof ${s.expected}, a kapott rtk ${o}`:`rvnytelen bemenet: a vrt rtk ${i}, a kapott rtk ${o}`}case"invalid_value":return s.values.length===1?`rvnytelen bemenet: a vrt rtk ${Lt(s.values[0])}`:`rvnytelen opci: valamelyik rtk vrt ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Tl nagy: ${s.origin??"rtk"} mrete tl nagy ${i}${s.maximum.toString()} ${a.unit??"elem"}`:`Tl nagy: a bemeneti rtk ${s.origin??"rtk"} tl nagy: ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Tl kicsi: a bemeneti rtk ${s.origin} mrete tl kicsi ${i}${s.minimum.toString()} ${a.unit}`:`Tl kicsi: a bemeneti rtk ${s.origin} tl kicsi ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`rvnytelen string: "${i.prefix}" rtkkel kell kezddnie`:i.format==="ends_with"?`rvnytelen string: "${i.suffix}" rtkkel kell vgzdnie`:i.format==="includes"?`rvnytelen string: "${i.includes}" rtket kell tartalmaznia`:i.format==="regex"?`rvnytelen string: ${i.pattern} mintnak kell megfelelnie`:`rvnytelen ${r[i.format]??s.format}`}case"not_multiple_of":return`rvnytelen szm: ${s.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${s.keys.length>1?"s":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${s.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${s.origin}`;default:return"rvnytelen bemenet"}}};function rhe(){return{localeError:the()}}function BT(e,t,r){return Math.abs(e)===1?t:r}function Qd(e){if(!e)return"";const t=["","","","","","",""],r=e[e.length-1];return e+(t.includes(r)?"":"")}const nhe=()=>{const e={string:{unit:{one:"",many:""},verb:""},file:{unit:{one:"",many:""},verb:""},array:{unit:{one:"",many:""},verb:""},set:{unit:{one:"",many:""},verb:""}};function t(s){return e[s]??null}const r={regex:"",email:". ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`    instanceof ${s.expected},   ${o}`:`    ${i},   ${o}`}case"invalid_value":return s.values.length===1?`    ${Lt(s.values[1])}`:`      ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);if(a){const o=Number(s.maximum),u=BT(o,a.unit.one,a.unit.many);return`    ,  ${Qd(s.origin??"")}  ${i}${s.maximum.toString()} ${u}`}return`    ,  ${Qd(s.origin??"")}  ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);if(a){const o=Number(s.minimum),u=BT(o,a.unit.one,a.unit.many);return`    ,  ${Qd(s.origin)}  ${i}${s.minimum.toString()} ${u}`}return`    ,  ${Qd(s.origin)}  ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`     "${i.prefix}"-`:i.format==="ends_with"?`     "${i.suffix}"-`:i.format==="includes"?`     "${i.includes}"`:i.format==="regex"?`     ${i.pattern} `:` ${r[i.format]??s.format}`}case"not_multiple_of":return`      ${s.divisor}-`;case"unrecognized_keys":return` ${s.keys.length>1?"":""}. ${Ge(s.keys,", ")}`;case"invalid_key":return`  ${Qd(s.origin)}-`;case"invalid_union":return" ";case"invalid_element":return`  ${Qd(s.origin)}-`;default:return" "}}};function she(){return{localeError:nhe()}}const ihe=()=>{const e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(s){return e[s]??null}const r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Input tidak valid: diharapkan instanceof ${s.expected}, diterima ${o}`:`Input tidak valid: diharapkan ${i}, diterima ${o}`}case"invalid_value":return s.values.length===1?`Input tidak valid: diharapkan ${Lt(s.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Terlalu besar: diharapkan ${s.origin??"value"} memiliki ${i}${s.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: diharapkan ${s.origin??"value"} menjadi ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Terlalu kecil: diharapkan ${s.origin} memiliki ${i}${s.minimum.toString()} ${a.unit}`:`Terlalu kecil: diharapkan ${s.origin} menjadi ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`String tidak valid: harus dimulai dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak valid: harus berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak valid: harus menyertakan "${i.includes}"`:i.format==="regex"?`String tidak valid: harus sesuai pola ${i.pattern}`:`${r[i.format]??s.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${s.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${s.keys.length>1?"s":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${s.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${s.origin}`;default:return"Input tidak valid"}}};function ahe(){return{localeError:ihe()}}const ohe=()=>{const e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function t(s){return e[s]??null}const r={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},n={nan:"NaN",number:"nmer",array:"fylki"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Rangt gildi:  slst inn ${o} ar sem  a vera instanceof ${s.expected}`:`Rangt gildi:  slst inn ${o} ar sem  a vera ${i}`}case"invalid_value":return s.values.length===1?`Rangt gildi: gert r fyrir ${Lt(s.values[0])}`:`gilt val: m vera eitt af eftirfarandi ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Of strt: gert er r fyrir a ${s.origin??"gildi"} hafi ${i}${s.maximum.toString()} ${a.unit??"hluti"}`:`Of strt: gert er r fyrir a ${s.origin??"gildi"} s ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Of lti: gert er r fyrir a ${s.origin} hafi ${i}${s.minimum.toString()} ${a.unit}`:`Of lti: gert er r fyrir a ${s.origin} s ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`gildur strengur: verur a byrja  "${i.prefix}"`:i.format==="ends_with"?`gildur strengur: verur a enda  "${i.suffix}"`:i.format==="includes"?`gildur strengur: verur a innihalda "${i.includes}"`:i.format==="regex"?`gildur strengur: verur a fylgja mynstri ${i.pattern}`:`Rangt ${r[i.format]??s.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${s.divisor}`;case"unrecognized_keys":return`ekkt ${s.keys.length>1?"ir lyklar":"ur lykill"}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${s.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${s.origin}`;default:return"Rangt gildi"}}};function lhe(){return{localeError:ohe()}}const che=()=>{const e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(s){return e[s]??null}const r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"numero",array:"vettore"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Input non valido: atteso instanceof ${s.expected}, ricevuto ${o}`:`Input non valido: atteso ${i}, ricevuto ${o}`}case"invalid_value":return s.values.length===1?`Input non valido: atteso ${Lt(s.values[0])}`:`Opzione non valida: atteso uno tra ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Troppo grande: ${s.origin??"valore"} deve avere ${i}${s.maximum.toString()} ${a.unit??"elementi"}`:`Troppo grande: ${s.origin??"valore"} deve essere ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Troppo piccolo: ${s.origin} deve avere ${i}${s.minimum.toString()} ${a.unit}`:`Troppo piccolo: ${s.origin} deve essere ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Stringa non valida: deve iniziare con "${i.prefix}"`:i.format==="ends_with"?`Stringa non valida: deve terminare con "${i.suffix}"`:i.format==="includes"?`Stringa non valida: deve includere "${i.includes}"`:i.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${i.pattern}`:`Invalid ${r[i.format]??s.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${s.divisor}`;case"unrecognized_keys":return`Chiav${s.keys.length>1?"i":"e"} non riconosciut${s.keys.length>1?"e":"a"}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${s.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${s.origin}`;default:return"Input non valido"}}};function uhe(){return{localeError:che()}}const dhe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`: instanceof ${s.expected}${o}`:`: ${i}${o}`}case"invalid_value":return s.values.length===1?`: ${Lt(s.values[0])}`:`: ${Ge(s.values,"")}`;case"too_big":{const i=s.inclusive?"":"",a=t(s.origin);return a?`: ${s.origin??""}${s.maximum.toString()}${a.unit??""}${i}`:`: ${s.origin??""}${s.maximum.toString()}${i}`}case"too_small":{const i=s.inclusive?"":"",a=t(s.origin);return a?`: ${s.origin}${s.minimum.toString()}${a.unit}${i}`:`: ${s.origin}${s.minimum.toString()}${i}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`: "${i.prefix}"`:i.format==="ends_with"?`: "${i.suffix}"`:i.format==="includes"?`: "${i.includes}"`:i.format==="regex"?`: ${i.pattern}`:`${r[i.format]??s.format}`}case"not_multiple_of":return`: ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"":""}: ${Ge(s.keys,"")}`;case"invalid_key":return`${s.origin}`;case"invalid_union":return"";case"invalid_element":return`${s.origin}`;default:return""}}};function fhe(){return{localeError:dhe()}}const hhe=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(s){return e[s]??null}const r={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",string:"",boolean:"",function:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected},  ${o}`:` :  ${i},  ${o}`}case"invalid_value":return s.values.length===1?` :  ${Lt(s.values[0])}`:` :  - ${Ge(s.values,"|")}-`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` :  ${s.origin??""} ${a.verb} ${i}${s.maximum.toString()} ${a.unit}`:` :  ${s.origin??""}  ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` :  ${s.origin} ${a.verb} ${i}${s.minimum.toString()} ${a.unit}`:` :  ${s.origin}  ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` :   "${i.prefix}"-`:i.format==="ends_with"?` :   "${i.suffix}"-`:i.format==="includes"?` :   "${i.includes}"-`:i.format==="regex"?` :    ${i.pattern}`:` ${r[i.format]??s.format}`}case"not_multiple_of":return` :   ${s.divisor}- `;case"unrecognized_keys":return` ${s.keys.length>1?"":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`  ${s.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${s.origin}-`;default:return" "}}};function phe(){return{localeError:hhe()}}const mhe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:" (Array)",null:" (null)"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`  instanceof ${s.expected}  ${o}`:`  ${i}  ${o}`}case"invalid_value":return s.values.length===1?`  ${Lt(s.values[0])}`:`  ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`  ${s.origin??""} ${i} ${s.maximum.toString()} ${a.unit??""}`:`  ${s.origin??""} ${i} ${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`  ${s.origin} ${i} ${s.minimum.toString()} ${a.unit}`:`  ${s.origin} ${i} ${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`  "${i.prefix}"`:i.format==="ends_with"?`  "${i.suffix}"`:i.format==="includes"?`  "${i.includes}"`:i.format==="regex"?`  ${i.pattern}`:` ${r[i.format]??s.format}`}case"not_multiple_of":return`  ${s.divisor}`;case"unrecognized_keys":return` ${Ge(s.keys,", ")}`;case"invalid_key":return` ${s.origin}`;case"invalid_union":return"";case"invalid_element":return` ${s.origin}`;default:return""}}};function zB(){return{localeError:mhe()}}function ghe(){return zB()}const yhe=()=>{const e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function t(s){return e[s]??null}const r={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :   instanceof ${s.expected},   ${o}`:` :   ${i},   ${o}`}case"invalid_value":return s.values.length===1?` :  ${Lt(s.values[0])}  `:` : ${Ge(s.values," ")}   `;case"too_big":{const i=s.inclusive?"":"",a=i===""?" ":" ",o=t(s.origin),u=o?.unit??"";return o?`${s.origin??""}  : ${s.maximum.toString()}${u} ${i}${a}`:`${s.origin??""}  : ${s.maximum.toString()} ${i}${a}`}case"too_small":{const i=s.inclusive?"":"",a=i===""?" ":" ",o=t(s.origin),u=o?.unit??"";return o?`${s.origin??""}  : ${s.minimum.toString()}${u} ${i}${a}`:`${s.origin??""}  : ${s.minimum.toString()} ${i}${a}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` : "${i.prefix}"()  `:i.format==="ends_with"?` : "${i.suffix}"()  `:i.format==="includes"?` : "${i.includes}"()  `:i.format==="regex"?` :  ${i.pattern}   `:` ${r[i.format]??s.format}`}case"not_multiple_of":return` : ${s.divisor}  `;case"unrecognized_keys":return`   : ${Ge(s.keys,", ")}`;case"invalid_key":return` : ${s.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${s.origin}`;default:return" "}}};function bhe(){return{localeError:yhe()}}const xp=e=>e.charAt(0).toUpperCase()+e.slice(1);function UT(e){const t=Math.abs(e),r=t%10,n=t%100;return n>=11&&n<=19||r===0?"many":r===1?"one":"few"}const vhe=()=>{const e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(s,i,a,o){const u=e[s]??null;return u===null?u:{unit:u.unit[i],verb:u.verb[o][a?"inclusive":"notInclusive"]}}const r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"},n={nan:"NaN",number:"skaiius",bigint:"sveikasis skaiius",string:"eilut",boolean:"login reikm",undefined:"neapibrta reikm",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin reikm"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Gautas tipas ${o}, o tiktasi - instanceof ${s.expected}`:`Gautas tipas ${o}, o tiktasi - ${i}`}case"invalid_value":return s.values.length===1?`Privalo bti ${Lt(s.values[0])}`:`Privalo bti vienas i ${Ge(s.values,"|")} pasirinkim`;case"too_big":{const i=n[s.origin]??s.origin,a=t(s.origin,UT(Number(s.maximum)),s.inclusive??!1,"smaller");if(a?.verb)return`${xp(i??s.origin??"reikm")} ${a.verb} ${s.maximum.toString()} ${a.unit??"element"}`;const o=s.inclusive?"ne didesnis kaip":"maesnis kaip";return`${xp(i??s.origin??"reikm")} turi bti ${o} ${s.maximum.toString()} ${a?.unit}`}case"too_small":{const i=n[s.origin]??s.origin,a=t(s.origin,UT(Number(s.minimum)),s.inclusive??!1,"bigger");if(a?.verb)return`${xp(i??s.origin??"reikm")} ${a.verb} ${s.minimum.toString()} ${a.unit??"element"}`;const o=s.inclusive?"ne maesnis kaip":"didesnis kaip";return`${xp(i??s.origin??"reikm")} turi bti ${o} ${s.minimum.toString()} ${a?.unit}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Eilut privalo prasidti "${i.prefix}"`:i.format==="ends_with"?`Eilut privalo pasibaigti "${i.suffix}"`:i.format==="includes"?`Eilut privalo traukti "${i.includes}"`:i.format==="regex"?`Eilut privalo atitikti ${i.pattern}`:`Neteisingas ${r[i.format]??s.format}`}case"not_multiple_of":return`Skaiius privalo bti ${s.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${s.keys.length>1?"i":"as"} rakt${s.keys.length>1?"ai":"as"}: ${Ge(s.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga vestis";case"invalid_element":{const i=n[s.origin]??s.origin;return`${xp(i??s.origin??"reikm")} turi klaiding vest`}default:return"Klaidinga vestis"}}};function xhe(){return{localeError:vhe()}}const whe=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(s){return e[s]??null}const r={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :   instanceof ${s.expected},  ${o}`:` :   ${i},  ${o}`}case"invalid_value":return s.values.length===1?`Invalid input: expected ${Lt(s.values[0])}`:` :    ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` :   ${s.origin??""}   ${i}${s.maximum.toString()} ${a.unit??""}`:` :   ${s.origin??""}   ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` :   ${s.origin}   ${i}${s.minimum.toString()} ${a.unit}`:` :   ${s.origin}   ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` :     "${i.prefix}"`:i.format==="ends_with"?` :     "${i.suffix}"`:i.format==="includes"?` :    "${i.includes}"`:i.format==="regex"?` :      ${i.pattern}`:`Invalid ${r[i.format]??s.format}`}case"not_multiple_of":return` :      ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?" ":" "}: ${Ge(s.keys,", ")}`;case"invalid_key":return`   ${s.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${s.origin}`;default:return" "}}};function _he(){return{localeError:whe()}}const khe=()=>{const e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(s){return e[s]??null}const r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"nombor"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Input tidak sah: dijangka instanceof ${s.expected}, diterima ${o}`:`Input tidak sah: dijangka ${i}, diterima ${o}`}case"invalid_value":return s.values.length===1?`Input tidak sah: dijangka ${Lt(s.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Terlalu besar: dijangka ${s.origin??"nilai"} ${a.verb} ${i}${s.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: dijangka ${s.origin??"nilai"} adalah ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Terlalu kecil: dijangka ${s.origin} ${a.verb} ${i}${s.minimum.toString()} ${a.unit}`:`Terlalu kecil: dijangka ${s.origin} adalah ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`String tidak sah: mesti bermula dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak sah: mesti mengandungi "${i.includes}"`:i.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${i.pattern}`:`${r[i.format]??s.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${s.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${Ge(s.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${s.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${s.origin}`;default:return"Input tidak sah"}}};function She(){return{localeError:khe()}}const jhe=()=>{const e={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function t(s){return e[s]??null}const r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},n={nan:"NaN",number:"getal"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Ongeldige invoer: verwacht instanceof ${s.expected}, ontving ${o}`:`Ongeldige invoer: verwacht ${i}, ontving ${o}`}case"invalid_value":return s.values.length===1?`Ongeldige invoer: verwacht ${Lt(s.values[0])}`:`Ongeldige optie: verwacht n van ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin),o=s.origin==="date"?"laat":s.origin==="string"?"lang":"groot";return a?`Te ${o}: verwacht dat ${s.origin??"waarde"} ${i}${s.maximum.toString()} ${a.unit??"elementen"} ${a.verb}`:`Te ${o}: verwacht dat ${s.origin??"waarde"} ${i}${s.maximum.toString()} is`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin),o=s.origin==="date"?"vroeg":s.origin==="string"?"kort":"klein";return a?`Te ${o}: verwacht dat ${s.origin} ${i}${s.minimum.toString()} ${a.unit} ${a.verb}`:`Te ${o}: verwacht dat ${s.origin} ${i}${s.minimum.toString()} is`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Ongeldige tekst: moet met "${i.prefix}" beginnen`:i.format==="ends_with"?`Ongeldige tekst: moet op "${i.suffix}" eindigen`:i.format==="includes"?`Ongeldige tekst: moet "${i.includes}" bevatten`:i.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${i.pattern}`:`Ongeldig: ${r[i.format]??s.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${s.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${s.keys.length>1?"s":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${s.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${s.origin}`;default:return"Ongeldige invoer"}}};function Nhe(){return{localeError:jhe()}}const Che=()=>{const e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function t(s){return e[s]??null}const r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"tall",array:"liste"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Ugyldig input: forventet instanceof ${s.expected}, fikk ${o}`:`Ugyldig input: forventet ${i}, fikk ${o}`}case"invalid_value":return s.values.length===1?`Ugyldig verdi: forventet ${Lt(s.values[0])}`:`Ugyldig valg: forventet en av ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`For stor(t): forventet ${s.origin??"value"} til  ha ${i}${s.maximum.toString()} ${a.unit??"elementer"}`:`For stor(t): forventet ${s.origin??"value"} til  ha ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`For lite(n): forventet ${s.origin} til  ha ${i}${s.minimum.toString()} ${a.unit}`:`For lite(n): forventet ${s.origin} til  ha ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Ugyldig streng: m starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: m ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: m inneholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: m matche mnsteret ${i.pattern}`:`Ugyldig ${r[i.format]??s.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${s.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${s.origin}`;default:return"Ugyldig input"}}};function The(){return{localeError:Che()}}const Ehe=()=>{const e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function t(s){return e[s]??null}const r={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},n={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Fsit giren: umulan instanceof ${s.expected}, alnan ${o}`:`Fsit giren: umulan ${i}, alnan ${o}`}case"invalid_value":return s.values.length===1?`Fsit giren: umulan ${Lt(s.values[0])}`:`Fsit tercih: mteberler ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Fazla byk: ${s.origin??"value"}, ${i}${s.maximum.toString()} ${a.unit??"elements"} sahip olmalyd.`:`Fazla byk: ${s.origin??"value"}, ${i}${s.maximum.toString()} olmalyd.`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Fazla kk: ${s.origin}, ${i}${s.minimum.toString()} ${a.unit} sahip olmalyd.`:`Fazla kk: ${s.origin}, ${i}${s.minimum.toString()} olmalyd.`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Fsit metin: "${i.prefix}" ile balamal.`:i.format==="ends_with"?`Fsit metin: "${i.suffix}" ile bitmeli.`:i.format==="includes"?`Fsit metin: "${i.includes}" ihtiv etmeli.`:i.format==="regex"?`Fsit metin: ${i.pattern} nakna uymal.`:`Fsit ${r[i.format]??s.format}`}case"not_multiple_of":return`Fsit say: ${s.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${s.keys.length>1?"s":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`${s.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${s.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}};function Ahe(){return{localeError:Ehe()}}const Phe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected} ,  ${o}  `:` :  ${i} ,  ${o}  `}case"invalid_value":return s.values.length===1?` :  ${Lt(s.values[0])} `:` :    ${Ge(s.values,"|")}  `;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` : ${s.origin??""}  ${i}${s.maximum.toString()} ${a.unit??""} `:` : ${s.origin??""}  ${i}${s.maximum.toString()} `}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` : ${s.origin}  ${i}${s.minimum.toString()} ${a.unit} `:` : ${s.origin}  ${i}${s.minimum.toString()} `}case"invalid_format":{const i=s;return i.format==="starts_with"?` :   "${i.prefix}"   `:i.format==="ends_with"?` :   "${i.suffix}"    `:i.format==="includes"?` :  "${i.includes}" `:i.format==="regex"?` :   ${i.pattern}   `:`${r[i.format]??s.format}  `}case"not_multiple_of":return` :   ${s.divisor}  `;case"unrecognized_keys":return` ${s.keys.length>1?"":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`   ${s.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${s.origin} `;default:return" "}}};function Ihe(){return{localeError:Phe()}}const Dhe=()=>{const e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function t(s){return e[s]??null}const r={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},n={nan:"NaN",number:"liczba",array:"tablica"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Nieprawidowe dane wejciowe: oczekiwano instanceof ${s.expected}, otrzymano ${o}`:`Nieprawidowe dane wejciowe: oczekiwano ${i}, otrzymano ${o}`}case"invalid_value":return s.values.length===1?`Nieprawidowe dane wejciowe: oczekiwano ${Lt(s.values[0])}`:`Nieprawidowa opcja: oczekiwano jednej z wartoci ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Za dua warto: oczekiwano, e ${s.origin??"warto"} bdzie mie ${i}${s.maximum.toString()} ${a.unit??"elementw"}`:`Zbyt du(y/a/e): oczekiwano, e ${s.origin??"warto"} bdzie wynosi ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Za maa warto: oczekiwano, e ${s.origin??"warto"} bdzie mie ${i}${s.minimum.toString()} ${a.unit??"elementw"}`:`Zbyt ma(y/a/e): oczekiwano, e ${s.origin??"warto"} bdzie wynosi ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Nieprawidowy cig znakw: musi zaczyna si od "${i.prefix}"`:i.format==="ends_with"?`Nieprawidowy cig znakw: musi koczy si na "${i.suffix}"`:i.format==="includes"?`Nieprawidowy cig znakw: musi zawiera "${i.includes}"`:i.format==="regex"?`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${i.pattern}`:`Nieprawidow(y/a/e) ${r[i.format]??s.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${s.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${s.keys.length>1?"s":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${s.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${s.origin}`;default:return"Nieprawidowe dane wejciowe"}}};function Mhe(){return{localeError:Dhe()}}const Rhe=()=>{const e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(s){return e[s]??null}const r={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN",number:"nmero",null:"nulo"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Tipo invlido: esperado instanceof ${s.expected}, recebido ${o}`:`Tipo invlido: esperado ${i}, recebido ${o}`}case"invalid_value":return s.values.length===1?`Entrada invlida: esperado ${Lt(s.values[0])}`:`Opo invlida: esperada uma das ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Muito grande: esperado que ${s.origin??"valor"} tivesse ${i}${s.maximum.toString()} ${a.unit??"elementos"}`:`Muito grande: esperado que ${s.origin??"valor"} fosse ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Muito pequeno: esperado que ${s.origin} tivesse ${i}${s.minimum.toString()} ${a.unit}`:`Muito pequeno: esperado que ${s.origin} fosse ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Texto invlido: deve comear com "${i.prefix}"`:i.format==="ends_with"?`Texto invlido: deve terminar com "${i.suffix}"`:i.format==="includes"?`Texto invlido: deve incluir "${i.includes}"`:i.format==="regex"?`Texto invlido: deve corresponder ao padro ${i.pattern}`:`${r[i.format]??s.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${s.divisor}`;case"unrecognized_keys":return`Chave${s.keys.length>1?"s":""} desconhecida${s.keys.length>1?"s":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Chave invlida em ${s.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${s.origin}`;default:return"Campo invlido"}}};function $he(){return{localeError:Rhe()}}function VT(e,t,r,n){const s=Math.abs(e),i=s%10,a=s%100;return a>=11&&a<=19?n:i===1?t:i>=2&&i<=4?r:n}const Ohe=()=>{const e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected},  ${o}`:` :  ${i},  ${o}`}case"invalid_value":return s.values.length===1?` :  ${Lt(s.values[0])}`:` :    ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);if(a){const o=Number(s.maximum),u=VT(o,a.unit.one,a.unit.few,a.unit.many);return`  : ,  ${s.origin??""}   ${i}${s.maximum.toString()} ${u}`}return`  : ,  ${s.origin??""}  ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);if(a){const o=Number(s.minimum),u=VT(o,a.unit.one,a.unit.few,a.unit.many);return`  : ,  ${s.origin}   ${i}${s.minimum.toString()} ${u}`}return`  : ,  ${s.origin}  ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` :    "${i.prefix}"`:i.format==="ends_with"?` :    "${i.suffix}"`:i.format==="includes"?` :   "${i.includes}"`:i.format==="regex"?` :    ${i.pattern}`:` ${r[i.format]??s.format}`}case"not_multiple_of":return` :    ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"":""} ${s.keys.length>1?"":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`   ${s.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${s.origin}`;default:return"  "}}};function Fhe(){return{localeError:Ohe()}}const Lhe=()=>{const e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(s){return e[s]??null}const r={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},n={nan:"NaN",number:"tevilo",array:"tabela"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Neveljaven vnos: priakovano instanceof ${s.expected}, prejeto ${o}`:`Neveljaven vnos: priakovano ${i}, prejeto ${o}`}case"invalid_value":return s.values.length===1?`Neveljaven vnos: priakovano ${Lt(s.values[0])}`:`Neveljavna monost: priakovano eno izmed ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Preveliko: priakovano, da bo ${s.origin??"vrednost"} imelo ${i}${s.maximum.toString()} ${a.unit??"elementov"}`:`Preveliko: priakovano, da bo ${s.origin??"vrednost"} ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Premajhno: priakovano, da bo ${s.origin} imelo ${i}${s.minimum.toString()} ${a.unit}`:`Premajhno: priakovano, da bo ${s.origin} ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Neveljaven niz: mora se zaeti z "${i.prefix}"`:i.format==="ends_with"?`Neveljaven niz: mora se konati z "${i.suffix}"`:i.format==="includes"?`Neveljaven niz: mora vsebovati "${i.includes}"`:i.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${i.pattern}`:`Neveljaven ${r[i.format]??s.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${s.divisor}`;case"unrecognized_keys":return`Neprepoznan${s.keys.length>1?"i kljui":" klju"}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${s.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${s.origin}`;default:return"Neveljaven vnos"}}};function zhe(){return{localeError:Lhe()}}const Bhe=()=>{const e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function t(s){return e[s]??null}const r={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},n={nan:"NaN",number:"antal",array:"lista"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Ogiltig inmatning: frvntat instanceof ${s.expected}, fick ${o}`:`Ogiltig inmatning: frvntat ${i}, fick ${o}`}case"invalid_value":return s.values.length===1?`Ogiltig inmatning: frvntat ${Lt(s.values[0])}`:`Ogiltigt val: frvntade en av ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Fr stor(t): frvntade ${s.origin??"vrdet"} att ha ${i}${s.maximum.toString()} ${a.unit??"element"}`:`Fr stor(t): frvntat ${s.origin??"vrdet"} att ha ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Fr lite(t): frvntade ${s.origin??"vrdet"} att ha ${i}${s.minimum.toString()} ${a.unit}`:`Fr lite(t): frvntade ${s.origin??"vrdet"} att ha ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Ogiltig strng: mste brja med "${i.prefix}"`:i.format==="ends_with"?`Ogiltig strng: mste sluta med "${i.suffix}"`:i.format==="includes"?`Ogiltig strng: mste innehlla "${i.includes}"`:i.format==="regex"?`Ogiltig strng: mste matcha mnstret "${i.pattern}"`:`Ogiltig(t) ${r[i.format]??s.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${Ge(s.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${s.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${s.origin??"vrdet"}`;default:return"Ogiltig input"}}};function Uhe(){return{localeError:Bhe()}}const Vhe=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(s){return e[s]??null}const r={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"",array:"",null:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected},  ${o}`:` :  ${i},  ${o}`}case"invalid_value":return s.values.length===1?` :  ${Lt(s.values[0])}`:` :  ${Ge(s.values,"|")}  `;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` :  ${s.origin??""} ${i}${s.maximum.toString()} ${a.unit??""}   `:` :  ${s.origin??""} ${i}${s.maximum.toString()}   `}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` :  ${s.origin} ${i}${s.minimum.toString()} ${a.unit}   `:` :  ${s.origin} ${i}${s.minimum.toString()}   `}case"invalid_format":{const i=s;return i.format==="starts_with"?` : "${i.prefix}"   `:i.format==="ends_with"?` : "${i.suffix}"   `:i.format==="includes"?` : "${i.includes}"   `:i.format==="regex"?` : ${i.pattern}   `:` ${r[i.format]??s.format}`}case"not_multiple_of":return` : ${s.divisor}    `;case"unrecognized_keys":return`  ${s.keys.length>1?"":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`${s.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${s.origin}   `;default:return" "}}};function Whe(){return{localeError:Vhe()}}const qhe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},n={nan:"NaN",number:"",array:" (Array)",null:" (null)"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`:  instanceof ${s.expected}  ${o}`:`:  ${i}  ${o}`}case"invalid_value":return s.values.length===1?`:  ${Lt(s.values[0])}`:`:  ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"":"",a=t(s.origin);return a?`: ${s.origin??""} ${i} ${s.maximum.toString()} ${a.unit??""}`:`: ${s.origin??""} ${i} ${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?"":"",a=t(s.origin);return a?`: ${s.origin} ${i} ${s.minimum.toString()} ${a.unit}`:`: ${s.origin} ${i} ${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`:  "${i.prefix}"`:i.format==="ends_with"?`:  "${i.suffix}"`:i.format==="includes"?`:  "${i.includes}" `:i.format==="regex"?`:  ${i.pattern}`:`: ${r[i.format]??s.format}`}case"not_multiple_of":return`:  ${s.divisor} `;case"unrecognized_keys":return`: ${Ge(s.keys,", ")}`;case"invalid_key":return` ${s.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${s.origin}`;default:return""}}};function Hhe(){return{localeError:qhe()}}const Khe=()=>{const e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function t(s){return e[s]??null}const r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Geersiz deer: beklenen instanceof ${s.expected}, alnan ${o}`:`Geersiz deer: beklenen ${i}, alnan ${o}`}case"invalid_value":return s.values.length===1?`Geersiz deer: beklenen ${Lt(s.values[0])}`:`Geersiz seenek: aadakilerden biri olmal: ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`ok byk: beklenen ${s.origin??"deer"} ${i}${s.maximum.toString()} ${a.unit??"e"}`:`ok byk: beklenen ${s.origin??"deer"} ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`ok kk: beklenen ${s.origin} ${i}${s.minimum.toString()} ${a.unit}`:`ok kk: beklenen ${s.origin} ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Geersiz metin: "${i.prefix}" ile balamal`:i.format==="ends_with"?`Geersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Geersiz metin: "${i.includes}" iermeli`:i.format==="regex"?`Geersiz metin: ${i.pattern} desenine uymal`:`Geersiz ${r[i.format]??s.format}`}case"not_multiple_of":return`Geersiz say: ${s.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${s.keys.length>1?"lar":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`${s.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${s.origin} iinde geersiz deer`;default:return"Geersiz deer"}}};function Zhe(){return{localeError:Khe()}}const Ghe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`  :  instanceof ${s.expected},  ${o}`:`  :  ${i},  ${o}`}case"invalid_value":return s.values.length===1?`  :  ${Lt(s.values[0])}`:` :    ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` : ,  ${s.origin??""} ${a.verb} ${i}${s.maximum.toString()} ${a.unit??""}`:` : ,  ${s.origin??""}  ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` : ,  ${s.origin} ${a.verb} ${i}${s.minimum.toString()} ${a.unit}`:` : ,  ${s.origin}  ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` :    "${i.prefix}"`:i.format==="ends_with"?` :    "${i.suffix}"`:i.format==="includes"?` :   "${i.includes}"`:i.format==="regex"?` :    ${i.pattern}`:` ${r[i.format]??s.format}`}case"not_multiple_of":return` :    ${s.divisor}`;case"unrecognized_keys":return` ${s.keys.length>1?"":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`   ${s.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${s.origin}`;default:return"  "}}};function BB(){return{localeError:Ghe()}}function Xhe(){return BB()}const Qhe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},n={nan:"NaN",number:"",array:"",null:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`  : instanceof ${s.expected}   ${o}  `:`  : ${i}   ${o}  `}case"invalid_value":return s.values.length===1?`  : ${Lt(s.values[0])}  `:` : ${Ge(s.values,"|")}     `;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` : ${s.origin??""}  ${i}${s.maximum.toString()} ${a.unit??""}   `:` : ${s.origin??""}  ${i}${s.maximum.toString()}   `}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` : ${s.origin}  ${i}${s.minimum.toString()} ${a.unit}   `:` : ${s.origin}  ${i}${s.minimum.toString()}   `}case"invalid_format":{const i=s;return i.format==="starts_with"?` : "${i.prefix}"    `:i.format==="ends_with"?` : "${i.suffix}"    `:i.format==="includes"?` : "${i.includes}"   `:i.format==="regex"?` :  ${i.pattern}    `:` ${r[i.format]??s.format}`}case"not_multiple_of":return` : ${s.divisor}    `;case"unrecognized_keys":return`   ${s.keys.length>1?"":""}: ${Ge(s.keys," ")}`;case"invalid_key":return`${s.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${s.origin}   `;default:return"  "}}};function Yhe(){return{localeError:Qhe()}}const Jhe=()=>{const e={string:{unit:"belgi",verb:"bolishi kerak"},file:{unit:"bayt",verb:"bolishi kerak"},array:{unit:"element",verb:"bolishi kerak"},set:{unit:"element",verb:"bolishi kerak"}};function t(s){return e[s]??null}const r={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},n={nan:"NaN",number:"raqam",array:"massiv"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Notogri kirish: kutilgan instanceof ${s.expected}, qabul qilingan ${o}`:`Notogri kirish: kutilgan ${i}, qabul qilingan ${o}`}case"invalid_value":return s.values.length===1?`Notogri kirish: kutilgan ${Lt(s.values[0])}`:`Notogri variant: quyidagilardan biri kutilgan ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Juda katta: kutilgan ${s.origin??"qiymat"} ${i}${s.maximum.toString()} ${a.unit} ${a.verb}`:`Juda katta: kutilgan ${s.origin??"qiymat"} ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Juda kichik: kutilgan ${s.origin} ${i}${s.minimum.toString()} ${a.unit} ${a.verb}`:`Juda kichik: kutilgan ${s.origin} ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Notogri satr: "${i.prefix}" bilan boshlanishi kerak`:i.format==="ends_with"?`Notogri satr: "${i.suffix}" bilan tugashi kerak`:i.format==="includes"?`Notogri satr: "${i.includes}" ni oz ichiga olishi kerak`:i.format==="regex"?`Notogri satr: ${i.pattern} shabloniga mos kelishi kerak`:`Notogri ${r[i.format]??s.format}`}case"not_multiple_of":return`Notogri raqam: ${s.divisor} ning karralisi bolishi kerak`;case"unrecognized_keys":return`Nomalum kalit${s.keys.length>1?"lar":""}: ${Ge(s.keys,", ")}`;case"invalid_key":return`${s.origin} dagi kalit notogri`;case"invalid_union":return"Notogri kirish";case"invalid_element":return`${s.origin} da notogri qiymat`;default:return"Notogri kirish"}}};function epe(){return{localeError:Jhe()}}const tpe=()=>{const e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function t(s){return e[s]??null}const r={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},n={nan:"NaN",number:"s",array:"mng"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`u vo khng hp l: mong i instanceof ${s.expected}, nhn c ${o}`:`u vo khng hp l: mong i ${i}, nhn c ${o}`}case"invalid_value":return s.values.length===1?`u vo khng hp l: mong i ${Lt(s.values[0])}`:`Ty chn khng hp l: mong i mt trong cc gi tr ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Qu ln: mong i ${s.origin??"gi tr"} ${a.verb} ${i}${s.maximum.toString()} ${a.unit??"phn t"}`:`Qu ln: mong i ${s.origin??"gi tr"} ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Qu nh: mong i ${s.origin} ${a.verb} ${i}${s.minimum.toString()} ${a.unit}`:`Qu nh: mong i ${s.origin} ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Chui khng hp l: phi bt u bng "${i.prefix}"`:i.format==="ends_with"?`Chui khng hp l: phi kt thc bng "${i.suffix}"`:i.format==="includes"?`Chui khng hp l: phi bao gm "${i.includes}"`:i.format==="regex"?`Chui khng hp l: phi khp vi mu ${i.pattern}`:`${r[i.format]??s.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${s.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${Ge(s.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${s.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${s.origin}`;default:return"u vo khng hp l"}}};function rpe(){return{localeError:tpe()}}const npe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:"",null:"(null)"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` instanceof ${s.expected} ${o}`:` ${i} ${o}`}case"invalid_value":return s.values.length===1?` ${Lt(s.values[0])}`:` ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` ${s.origin??""} ${i}${s.maximum.toString()} ${a.unit??""}`:` ${s.origin??""} ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` ${s.origin} ${i}${s.minimum.toString()} ${a.unit}`:` ${s.origin} ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` "${i.prefix}" `:i.format==="ends_with"?` "${i.suffix}" `:i.format==="includes"?` "${i.includes}"`:i.format==="regex"?` ${i.pattern}`:`${r[i.format]??s.format}`}case"not_multiple_of":return` ${s.divisor} `;case"unrecognized_keys":return`(key): ${Ge(s.keys,", ")}`;case"invalid_key":return`${s.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${s.origin} (value)`;default:return""}}};function spe(){return{localeError:npe()}}const ipe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` instanceof ${s.expected} ${o}`:` ${i} ${o}`}case"invalid_value":return s.values.length===1?` ${Lt(s.values[0])}`:` ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` ${s.origin??""}  ${i}${s.maximum.toString()} ${a.unit??""}`:` ${s.origin??""}  ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` ${s.origin}  ${i}${s.minimum.toString()} ${a.unit}`:` ${s.origin}  ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` "${i.prefix}" `:i.format==="ends_with"?` "${i.suffix}" `:i.format==="includes"?` "${i.includes}"`:i.format==="regex"?` ${i.pattern}`:` ${r[i.format]??s.format}`}case"not_multiple_of":return` ${s.divisor} `;case"unrecognized_keys":return`${s.keys.length>1?"":""}${Ge(s.keys,"")}`;case"invalid_key":return`${s.origin} `;case"invalid_union":return"";case"invalid_element":return`${s.origin} `;default:return""}}};function ape(){return{localeError:ipe()}}const ope=()=>{const e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function t(s){return e[s]??null}const r={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},n={nan:"NaN",number:"nmb",array:"akop"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Zt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`bwl ae: a n lti fi instanceof ${s.expected}, m a r ${o}`:`bwl ae: a n lti fi ${i}, m a r ${o}`}case"invalid_value":return s.values.length===1?`bwl ae: a n lti fi ${Lt(s.values[0])}`:`yn ae: yan kan lra ${Ge(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`T p j: a n lti j p ${s.origin??"iye"} ${a.verb} ${i}${s.maximum} ${a.unit}`:`T p j: a n lti j ${i}${s.maximum}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Kr ju: a n lti j p ${s.origin} ${a.verb} ${i}${s.minimum} ${a.unit}`:`Kr ju: a n lti j ${i}${s.minimum}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`r ae: gbd br pl "${i.prefix}"`:i.format==="ends_with"?`r ae: gbd par pl "${i.suffix}"`:i.format==="includes"?`r ae: gbd n "${i.includes}"`:i.format==="regex"?`r ae: gbd b pr mu ${i.pattern}`:`Ae: ${r[i.format]??s.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${s.divisor}`;case"unrecognized_keys":return`Btn m: ${Ge(s.keys,", ")}`;case"invalid_key":return`Btn ae nn ${s.origin}`;case"invalid_union":return"bwl ae";case"invalid_element":return`Iye ae nn ${s.origin}`;default:return"bwl ae"}}};function lpe(){return{localeError:ope()}}const UB=Object.freeze(Object.defineProperty({__proto__:null,ar:jfe,az:Cfe,be:Efe,bg:Pfe,ca:Dfe,cs:Rfe,da:Ofe,de:Lfe,en:LB,eo:Ufe,es:Wfe,fa:Hfe,fi:Zfe,fr:Xfe,frCA:Yfe,he:ehe,hu:rhe,hy:she,id:ahe,is:lhe,it:uhe,ja:fhe,ka:phe,kh:ghe,km:zB,ko:bhe,lt:xhe,mk:_he,ms:She,nl:Nhe,no:The,ota:Ahe,pl:Mhe,ps:Ihe,pt:$he,ru:Fhe,sl:zhe,sv:Uhe,ta:Whe,th:Hhe,tr:Zhe,ua:Xhe,uk:BB,ur:Yhe,uz:epe,vi:rpe,yo:lpe,zhCN:spe,zhTW:ape},Symbol.toStringTag,{value:"Module"}));var WT;const VB=Symbol("ZodOutput"),WB=Symbol("ZodInput");class qB{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function f3(){return new qB}(WT=globalThis).__zod_globalRegistry??(WT.__zod_globalRegistry=f3());const Ca=globalThis.__zod_globalRegistry;function HB(e,t){return new e({type:"string",...Be(t)})}function KB(e,t){return new e({type:"string",coerce:!0,...Be(t)})}function h3(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Be(t)})}function ev(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Be(t)})}function p3(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Be(t)})}function m3(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Be(t)})}function g3(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Be(t)})}function y3(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Be(t)})}function xx(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Be(t)})}function b3(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Be(t)})}function v3(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Be(t)})}function x3(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Be(t)})}function w3(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Be(t)})}function _3(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Be(t)})}function k3(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Be(t)})}function S3(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Be(t)})}function j3(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Be(t)})}function N3(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Be(t)})}function ZB(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...Be(t)})}function C3(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Be(t)})}function T3(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Be(t)})}function E3(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Be(t)})}function A3(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Be(t)})}function P3(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Be(t)})}function I3(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Be(t)})}const GB={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function XB(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Be(t)})}function QB(e,t){return new e({type:"string",format:"date",check:"string_format",...Be(t)})}function YB(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Be(t)})}function JB(e,t){return new e({type:"string",format:"duration",check:"string_format",...Be(t)})}function eU(e,t){return new e({type:"number",checks:[],...Be(t)})}function tU(e,t){return new e({type:"number",coerce:!0,checks:[],...Be(t)})}function rU(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Be(t)})}function nU(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...Be(t)})}function sU(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...Be(t)})}function iU(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...Be(t)})}function aU(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...Be(t)})}function oU(e,t){return new e({type:"boolean",...Be(t)})}function lU(e,t){return new e({type:"boolean",coerce:!0,...Be(t)})}function cU(e,t){return new e({type:"bigint",...Be(t)})}function uU(e,t){return new e({type:"bigint",coerce:!0,...Be(t)})}function dU(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...Be(t)})}function fU(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...Be(t)})}function hU(e,t){return new e({type:"symbol",...Be(t)})}function pU(e,t){return new e({type:"undefined",...Be(t)})}function mU(e,t){return new e({type:"null",...Be(t)})}function gU(e){return new e({type:"any"})}function yU(e){return new e({type:"unknown"})}function bU(e,t){return new e({type:"never",...Be(t)})}function vU(e,t){return new e({type:"void",...Be(t)})}function xU(e,t){return new e({type:"date",...Be(t)})}function wU(e,t){return new e({type:"date",coerce:!0,...Be(t)})}function _U(e,t){return new e({type:"nan",...Be(t)})}function Yc(e,t){return new n3({check:"less_than",...Be(t),value:e,inclusive:!1})}function Ea(e,t){return new n3({check:"less_than",...Be(t),value:e,inclusive:!0})}function Jc(e,t){return new s3({check:"greater_than",...Be(t),value:e,inclusive:!1})}function Pi(e,t){return new s3({check:"greater_than",...Be(t),value:e,inclusive:!0})}function D3(e){return Jc(0,e)}function M3(e){return Yc(0,e)}function R3(e){return Ea(0,e)}function $3(e){return Pi(0,e)}function mh(e,t){return new az({check:"multiple_of",...Be(t),value:e})}function Bh(e,t){return new cz({check:"max_size",...Be(t),maximum:e})}function eu(e,t){return new uz({check:"min_size",...Be(t),minimum:e})}function Wg(e,t){return new dz({check:"size_equals",...Be(t),size:e})}function qg(e,t){return new fz({check:"max_length",...Be(t),maximum:e})}function bd(e,t){return new hz({check:"min_length",...Be(t),minimum:e})}function Hg(e,t){return new pz({check:"length_equals",...Be(t),length:e})}function wx(e,t){return new mz({check:"string_format",format:"regex",...Be(t),pattern:e})}function _x(e){return new gz({check:"string_format",format:"lowercase",...Be(e)})}function kx(e){return new yz({check:"string_format",format:"uppercase",...Be(e)})}function Sx(e,t){return new bz({check:"string_format",format:"includes",...Be(t),includes:e})}function jx(e,t){return new vz({check:"string_format",format:"starts_with",...Be(t),prefix:e})}function Nx(e,t){return new xz({check:"string_format",format:"ends_with",...Be(t),suffix:e})}function O3(e,t,r){return new wz({check:"property",property:e,schema:t,...Be(r)})}function Cx(e,t){return new _z({check:"mime_type",mime:e,...Be(t)})}function Wl(e){return new kz({check:"overwrite",tx:e})}function Tx(e){return Wl(t=>t.normalize(e))}function Ex(){return Wl(e=>e.trim())}function Ax(){return Wl(e=>e.toLowerCase())}function Px(){return Wl(e=>e.toUpperCase())}function Ix(){return Wl(e=>nL(e))}function kU(e,t,r){return new e({type:"array",element:t,...Be(r)})}function cpe(e,t,r){return new e({type:"union",options:t,...Be(r)})}function upe(e,t,r){return new e({type:"union",options:t,inclusive:!1,...Be(r)})}function dpe(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...Be(n)})}function fpe(e,t,r){return new e({type:"intersection",left:t,right:r})}function hpe(e,t,r,n){const s=r instanceof rr,i=s?n:r,a=s?r:null;return new e({type:"tuple",items:t,rest:a,...Be(i)})}function ppe(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...Be(n)})}function mpe(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...Be(n)})}function gpe(e,t,r){return new e({type:"set",valueType:t,...Be(r)})}function ype(e,t,r){const n=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new e({type:"enum",entries:n,...Be(r)})}function bpe(e,t,r){return new e({type:"enum",entries:t,...Be(r)})}function vpe(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...Be(r)})}function SU(e,t){return new e({type:"file",...Be(t)})}function xpe(e,t){return new e({type:"transform",transform:t})}function wpe(e,t){return new e({type:"optional",innerType:t})}function _pe(e,t){return new e({type:"nullable",innerType:t})}function kpe(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return typeof r=="function"?r():gx(r)}})}function Spe(e,t,r){return new e({type:"nonoptional",innerType:t,...Be(r)})}function jpe(e,t){return new e({type:"success",innerType:t})}function Npe(e,t,r){return new e({type:"catch",innerType:t,catchValue:typeof r=="function"?r:()=>r})}function Cpe(e,t,r){return new e({type:"pipe",in:t,out:r})}function Tpe(e,t){return new e({type:"readonly",innerType:t})}function Epe(e,t,r){return new e({type:"template_literal",parts:t,...Be(r)})}function Ape(e,t){return new e({type:"lazy",getter:t})}function Ppe(e,t){return new e({type:"promise",innerType:t})}function jU(e,t,r){const n=Be(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function NU(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Be(r)})}function CU(e){const t=TU(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(hh(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(hh(s))}},e(r.value,r)));return t}function TU(e,t){const r=new xn({check:"custom",...Be(t)});return r._zod.check=e,r}function EU(e){const t=new xn({check:"describe"});return t._zod.onattach=[r=>{const n=Ca.get(r)??{};Ca.add(r,{...n,description:e})}],t._zod.check=()=>{},t}function AU(e){const t=new xn({check:"meta"});return t._zod.onattach=[r=>{const n=Ca.get(r)??{};Ca.add(r,{...n,...e})}],t._zod.check=()=>{},t}function PU(e,t){const r=Be(t);let n=r.truthy??["true","1","yes","on","y","enabled"],s=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(p=>typeof p=="string"?p.toLowerCase():p),s=s.map(p=>typeof p=="string"?p.toLowerCase():p));const i=new Set(n),a=new Set(s),o=e.Codec??d3,u=e.Boolean??o3,c=e.String??Vg,d=new c({type:"string",error:r.error}),h=new u({type:"boolean",error:r.error}),f=new o({type:"pipe",in:d,out:h,transform:((p,g)=>{let y=p;return r.case!=="sensitive"&&(y=y.toLowerCase()),i.has(y)?!0:a.has(y)?!1:(g.issues.push({code:"invalid_value",expected:"stringbool",values:[...i,...a],input:g.value,inst:f,continue:!1}),{})}),reverseTransform:((p,g)=>p===!0?n[0]||"true":s[0]||"false"),error:r.error});return f}function Kg(e,t,r,n={}){const s=Be(n),i={...Be(n),check:"string_format",type:"string",format:t,fn:typeof r=="function"?r:o=>r.test(o),...s};return r instanceof RegExp&&(i.pattern=r),new e(i)}function gh(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??Ca,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Gr(e,t,r={path:[],schemaPath:[]}){var n;const s=e._zod.def,i=t.seen.get(e);if(i)return i.count++,r.schemaPath.includes(e)&&(i.cycle=r.path),i.schema;const a={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,a);const o=e._zod.toJSONSchema?.();if(o)a.schema=o;else{const d={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,d);else{const f=a.schema,p=t.processors[s.type];if(!p)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);p(e,t,f,d)}const h=e._zod.parent;h&&(a.ref||(a.ref=h),Gr(h,t,d),t.seen.get(h).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(a.schema,u),t.io==="input"&&li(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((n=a.schema).default??(n.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function yh(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const a of e.seen.entries()){const o=e.metadataRegistry.get(a[0])?.id;if(o){const u=n.get(o);if(u&&u!==a[0])throw new Error(`Duplicate schema id "${o}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(o,a[0])}}const s=a=>{const o=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const h=e.external.registry.get(a[0])?.id,f=e.external.uri??(g=>g);if(h)return{ref:f(h)};const p=a[1].defId??a[1].schema.id??`schema${e.counter++}`;return a[1].defId=p,{defId:p,ref:`${f("__shared")}#/${o}/${p}`}}if(a[1]===r)return{ref:"#"};const c=`#/${o}/`,d=a[1].schema.id??`__schema${e.counter++}`;return{defId:d,ref:c+d}},i=a=>{if(a[1].schema.$ref)return;const o=a[1],{ref:u,defId:c}=s(a);o.def={...o.schema},c&&(o.defId=c);const d=o.schema;for(const h in d)delete d[h];d.$ref=u};if(e.cycles==="throw")for(const a of e.seen.entries()){const o=a[1];if(o.cycle)throw new Error(`Cycle detected: #/${o.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of e.seen.entries()){const o=a[1];if(t===a[0]){i(a);continue}if(e.external){const c=e.external.registry.get(a[0])?.id;if(t!==a[0]&&c){i(a);continue}}if(e.metadataRegistry.get(a[0])?.id){i(a);continue}if(o.cycle){i(a);continue}if(o.count>1&&e.reused==="ref"){i(a);continue}}}function bh(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=a=>{const o=e.seen.get(a);if(o.ref===null)return;const u=o.def??o.schema,c={...u},d=o.ref;if(o.ref=null,d){n(d);const f=e.seen.get(d),p=f.schema;if(p.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(p)):Object.assign(u,p),Object.assign(u,c),a._zod.parent===d)for(const y in u)y==="$ref"||y==="allOf"||y in c||delete u[y];if(p.$ref&&f.def)for(const y in u)y==="$ref"||y==="allOf"||y in f.def&&JSON.stringify(u[y])===JSON.stringify(f.def[y])&&delete u[y]}const h=a._zod.parent;if(h&&h!==d){n(h);const f=e.seen.get(h);if(f?.schema.$ref&&(u.$ref=f.schema.$ref,f.def))for(const p in u)p==="$ref"||p==="allOf"||p in f.def&&JSON.stringify(u[p])===JSON.stringify(f.def[p])&&delete u[p]}e.override({zodSchema:a,jsonSchema:u,path:o.path??[]})};for(const a of[...e.seen.entries()].reverse())n(a[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const a=e.external.registry.get(t)?.id;if(!a)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(a)}Object.assign(s,r.def??r.schema);const i=e.external?.defs??{};for(const a of e.seen.entries()){const o=a[1];o.def&&o.defId&&(i[o.defId]=o.def)}e.external||Object.keys(i).length>0&&(e.target==="draft-2020-12"?s.$defs=i:s.definitions=i);try{const a=JSON.parse(JSON.stringify(s));return Object.defineProperty(a,"~standard",{value:{...t["~standard"],jsonSchema:{input:Fm(t,"input",e.processors),output:Fm(t,"output",e.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function li(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return li(n.element,r);if(n.type==="set")return li(n.valueType,r);if(n.type==="lazy")return li(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return li(n.innerType,r);if(n.type==="intersection")return li(n.left,r)||li(n.right,r);if(n.type==="record"||n.type==="map")return li(n.keyType,r)||li(n.valueType,r);if(n.type==="pipe")return li(n.in,r)||li(n.out,r);if(n.type==="object"){for(const s in n.shape)if(li(n.shape[s],r))return!0;return!1}if(n.type==="union"){for(const s of n.options)if(li(s,r))return!0;return!1}if(n.type==="tuple"){for(const s of n.items)if(li(s,r))return!0;return!!(n.rest&&li(n.rest,r))}return!1}const IU=(e,t={})=>r=>{const n=gh({...r,processors:t});return Gr(e,n),yh(n,e),bh(n,e)},Fm=(e,t,r={})=>n=>{const{libraryOptions:s,target:i}=n??{},a=gh({...s??{},target:i,io:t,processors:r});return Gr(e,a),yh(a,e),bh(a,e)},Ipe={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},DU=(e,t,r,n)=>{const s=r;s.type="string";const{minimum:i,maximum:a,format:o,patterns:u,contentEncoding:c}=e._zod.bag;if(typeof i=="number"&&(s.minLength=i),typeof a=="number"&&(s.maxLength=a),o&&(s.format=Ipe[o]??o,s.format===""&&delete s.format,o==="time"&&delete s.format),c&&(s.contentEncoding=c),u&&u.size>0){const d=[...u];d.length===1?s.pattern=d[0].source:d.length>1&&(s.allOf=[...d.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},MU=(e,t,r,n)=>{const s=r,{minimum:i,maximum:a,format:o,multipleOf:u,exclusiveMaximum:c,exclusiveMinimum:d}=e._zod.bag;typeof o=="string"&&o.includes("int")?s.type="integer":s.type="number",typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=d,s.exclusiveMinimum=!0):s.exclusiveMinimum=d),typeof i=="number"&&(s.minimum=i,typeof d=="number"&&t.target!=="draft-04"&&(d>=i?delete s.minimum:delete s.exclusiveMinimum)),typeof c=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=c,s.exclusiveMaximum=!0):s.exclusiveMaximum=c),typeof a=="number"&&(s.maximum=a,typeof c=="number"&&t.target!=="draft-04"&&(c<=a?delete s.maximum:delete s.exclusiveMaximum)),typeof u=="number"&&(s.multipleOf=u)},RU=(e,t,r,n)=>{r.type="boolean"},$U=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},OU=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},FU=(e,t,r,n)=>{t.target==="openapi-3.0"?(r.type="string",r.nullable=!0,r.enum=[null]):r.type="null"},LU=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},zU=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},BU=(e,t,r,n)=>{r.not={}},UU=(e,t,r,n)=>{},VU=(e,t,r,n)=>{},WU=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},qU=(e,t,r,n)=>{const s=e._zod.def,i=Bj(s.entries);i.every(a=>typeof a=="number")&&(r.type="number"),i.every(a=>typeof a=="string")&&(r.type="string"),r.enum=i},HU=(e,t,r,n)=>{const s=e._zod.def,i=[];for(const a of s.values)if(a===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof a=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(a))}else i.push(a);if(i.length!==0)if(i.length===1){const a=i[0];r.type=a===null?"null":typeof a,t.target==="draft-04"||t.target==="openapi-3.0"?r.enum=[a]:r.const=a}else i.every(a=>typeof a=="number")&&(r.type="number"),i.every(a=>typeof a=="string")&&(r.type="string"),i.every(a=>typeof a=="boolean")&&(r.type="boolean"),i.every(a=>a===null)&&(r.type="null"),r.enum=i},KU=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},ZU=(e,t,r,n)=>{const s=r,i=e._zod.pattern;if(!i)throw new Error("Pattern not found in template literal");s.type="string",s.pattern=i.source},GU=(e,t,r,n)=>{const s=r,i={type:"string",format:"binary",contentEncoding:"binary"},{minimum:a,maximum:o,mime:u}=e._zod.bag;a!==void 0&&(i.minLength=a),o!==void 0&&(i.maxLength=o),u?u.length===1?(i.contentMediaType=u[0],Object.assign(s,i)):(Object.assign(s,i),s.anyOf=u.map(c=>({contentMediaType:c}))):Object.assign(s,i)},XU=(e,t,r,n)=>{r.type="boolean"},QU=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},YU=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},JU=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},eV=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},tV=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},rV=(e,t,r,n)=>{const s=r,i=e._zod.def,{minimum:a,maximum:o}=e._zod.bag;typeof a=="number"&&(s.minItems=a),typeof o=="number"&&(s.maxItems=o),s.type="array",s.items=Gr(i.element,t,{...n,path:[...n.path,"items"]})},nV=(e,t,r,n)=>{const s=r,i=e._zod.def;s.type="object",s.properties={};const a=i.shape;for(const c in a)s.properties[c]=Gr(a[c],t,{...n,path:[...n.path,"properties",c]});const o=new Set(Object.keys(a)),u=new Set([...o].filter(c=>{const d=i.shape[c]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));u.size>0&&(s.required=Array.from(u)),i.catchall?._zod.def.type==="never"?s.additionalProperties=!1:i.catchall?i.catchall&&(s.additionalProperties=Gr(i.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},F3=(e,t,r,n)=>{const s=e._zod.def,i=s.inclusive===!1,a=s.options.map((o,u)=>Gr(o,t,{...n,path:[...n.path,i?"oneOf":"anyOf",u]}));i?r.oneOf=a:r.anyOf=a},sV=(e,t,r,n)=>{const s=e._zod.def,i=Gr(s.left,t,{...n,path:[...n.path,"allOf",0]}),a=Gr(s.right,t,{...n,path:[...n.path,"allOf",1]}),o=c=>"allOf"in c&&Object.keys(c).length===1,u=[...o(i)?i.allOf:[i],...o(a)?a.allOf:[a]];r.allOf=u},iV=(e,t,r,n)=>{const s=r,i=e._zod.def;s.type="array";const a=t.target==="draft-2020-12"?"prefixItems":"items",o=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",u=i.items.map((f,p)=>Gr(f,t,{...n,path:[...n.path,a,p]})),c=i.rest?Gr(i.rest,t,{...n,path:[...n.path,o,...t.target==="openapi-3.0"?[i.items.length]:[]]}):null;t.target==="draft-2020-12"?(s.prefixItems=u,c&&(s.items=c)):t.target==="openapi-3.0"?(s.items={anyOf:u},c&&s.items.anyOf.push(c),s.minItems=u.length,c||(s.maxItems=u.length)):(s.items=u,c&&(s.additionalItems=c));const{minimum:d,maximum:h}=e._zod.bag;typeof d=="number"&&(s.minItems=d),typeof h=="number"&&(s.maxItems=h)},aV=(e,t,r,n)=>{const s=r,i=e._zod.def;s.type="object";const a=i.keyType,u=a._zod.bag?.patterns;if(i.mode==="loose"&&u&&u.size>0){const d=Gr(i.valueType,t,{...n,path:[...n.path,"patternProperties","*"]});s.patternProperties={};for(const h of u)s.patternProperties[h.source]=d}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(s.propertyNames=Gr(i.keyType,t,{...n,path:[...n.path,"propertyNames"]})),s.additionalProperties=Gr(i.valueType,t,{...n,path:[...n.path,"additionalProperties"]});const c=a._zod.values;if(c){const d=[...c].filter(h=>typeof h=="string"||typeof h=="number");d.length>0&&(s.required=d)}},oV=(e,t,r,n)=>{const s=e._zod.def,i=Gr(s.innerType,t,n),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=s.innerType,r.nullable=!0):r.anyOf=[i,{type:"null"}]},lV=(e,t,r,n)=>{const s=e._zod.def;Gr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType},cV=(e,t,r,n)=>{const s=e._zod.def;Gr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType,r.default=JSON.parse(JSON.stringify(s.defaultValue))},uV=(e,t,r,n)=>{const s=e._zod.def;Gr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},dV=(e,t,r,n)=>{const s=e._zod.def;Gr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType;let a;try{a=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=a},fV=(e,t,r,n)=>{const s=e._zod.def,i=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;Gr(i,t,n);const a=t.seen.get(e);a.ref=i},hV=(e,t,r,n)=>{const s=e._zod.def;Gr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType,r.readOnly=!0},pV=(e,t,r,n)=>{const s=e._zod.def;Gr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType},L3=(e,t,r,n)=>{const s=e._zod.def;Gr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType},mV=(e,t,r,n)=>{const s=e._zod.innerType;Gr(s,t,n);const i=t.seen.get(e);i.ref=s},qk={string:DU,number:MU,boolean:RU,bigint:$U,symbol:OU,null:FU,undefined:LU,void:zU,never:BU,any:UU,unknown:VU,date:WU,enum:qU,literal:HU,nan:KU,template_literal:ZU,file:GU,success:XU,custom:QU,function:YU,transform:JU,map:eV,set:tV,array:rV,object:nV,union:F3,intersection:sV,tuple:iV,record:aV,nullable:oV,nonoptional:lV,default:cV,prefault:uV,catch:dV,pipe:fV,readonly:hV,promise:pV,optional:L3,lazy:mV};function gV(e,t){if("_idmap"in e){const n=e,s=gh({...t,processors:qk}),i={};for(const u of n._idmap.entries()){const[c,d]=u;Gr(d,s)}const a={},o={registry:n,uri:t?.uri,defs:i};s.external=o;for(const u of n._idmap.entries()){const[c,d]=u;yh(s,d),a[c]=bh(s,d)}if(Object.keys(i).length>0){const u=s.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[u]:i}}return{schemas:a}}const r=gh({...t,processors:qk});return Gr(e,r),yh(r,e),bh(r,e)}class Dpe{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(t){this.ctx.counter=t}get seen(){return this.ctx.seen}constructor(t){let r=t?.target??"draft-2020-12";r==="draft-4"&&(r="draft-04"),r==="draft-7"&&(r="draft-07"),this.ctx=gh({processors:qk,target:r,...t?.metadata&&{metadata:t.metadata},...t?.unrepresentable&&{unrepresentable:t.unrepresentable},...t?.override&&{override:t.override},...t?.io&&{io:t.io}})}process(t,r={path:[],schemaPath:[]}){return Gr(t,this.ctx,r)}emit(t,r){r&&(r.cycles&&(this.ctx.cycles=r.cycles),r.reused&&(this.ctx.reused=r.reused),r.external&&(this.ctx.external=r.external)),yh(this.ctx,t);const n=bh(this.ctx,t),{"~standard":s,...i}=n;return i}}const Mpe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Rpe=Object.freeze(Object.defineProperty({__proto__:null,$ZodAny:sB,$ZodArray:cB,$ZodAsyncError:nd,$ZodBase64:Hz,$ZodBase64URL:Zz,$ZodBigInt:l3,$ZodBigIntFormat:eB,$ZodBoolean:o3,$ZodCIDRv4:Wz,$ZodCIDRv6:qz,$ZodCUID:Iz,$ZodCUID2:Dz,$ZodCatch:AB,$ZodCheck:xn,$ZodCheckBigIntFormat:lz,$ZodCheckEndsWith:xz,$ZodCheckGreaterThan:s3,$ZodCheckIncludes:bz,$ZodCheckLengthEquals:pz,$ZodCheckLessThan:n3,$ZodCheckLowerCase:gz,$ZodCheckMaxLength:fz,$ZodCheckMaxSize:cz,$ZodCheckMimeType:_z,$ZodCheckMinLength:hz,$ZodCheckMinSize:uz,$ZodCheckMultipleOf:az,$ZodCheckNumberFormat:oz,$ZodCheckOverwrite:kz,$ZodCheckProperty:wz,$ZodCheckRegex:mz,$ZodCheckSizeEquals:dz,$ZodCheckStartsWith:vz,$ZodCheckStringFormat:Ug,$ZodCheckUpperCase:yz,$ZodCodec:d3,$ZodCustom:FB,$ZodCustomStringFormat:Yz,$ZodDate:lB,$ZodDefault:NB,$ZodDiscriminatedUnion:mB,$ZodE164:Gz,$ZodEmail:Tz,$ZodEmoji:Az,$ZodEncodeError:px,$ZodEnum:xB,$ZodError:Vj,$ZodExactOptional:SB,$ZodFile:_B,$ZodFunction:RB,$ZodGUID:Nz,$ZodIPv4:Bz,$ZodIPv6:Uz,$ZodISODate:Fz,$ZodISODateTime:Oz,$ZodISODuration:zz,$ZodISOTime:Lz,$ZodIntersection:gB,$ZodJWT:Qz,$ZodKSUID:$z,$ZodLazy:OB,$ZodLiteral:wB,$ZodMAC:Vz,$ZodMap:bB,$ZodNaN:PB,$ZodNanoID:Pz,$ZodNever:aB,$ZodNonOptional:TB,$ZodNull:nB,$ZodNullable:jB,$ZodNumber:a3,$ZodNumberFormat:Jz,$ZodObject:fB,$ZodObjectJIT:hB,$ZodOptional:u3,$ZodPipe:IB,$ZodPrefault:CB,$ZodPromise:$B,$ZodReadonly:DB,$ZodRealError:sa,$ZodRecord:yB,$ZodRegistry:qB,$ZodSet:vB,$ZodString:Vg,$ZodStringFormat:Yr,$ZodSuccess:EB,$ZodSymbol:tB,$ZodTemplateLiteral:MB,$ZodTransform:kB,$ZodTuple:c3,$ZodType:rr,$ZodULID:Mz,$ZodURL:Ez,$ZodUUID:Cz,$ZodUndefined:rB,$ZodUnion:vx,$ZodUnknown:iB,$ZodVoid:oB,$ZodXID:Rz,$ZodXor:pB,$brand:tL,$constructor:je,$input:WB,$output:VB,Doc:Sz,JSONSchema:Mpe,JSONSchemaGenerator:Dpe,NEVER:eL,TimePrecision:GB,_any:gU,_array:kU,_base64:E3,_base64url:A3,_bigint:cU,_boolean:oU,_catch:Npe,_check:TU,_cidrv4:C3,_cidrv6:T3,_coercedBigint:uU,_coercedBoolean:lU,_coercedDate:wU,_coercedNumber:tU,_coercedString:KB,_cuid:x3,_cuid2:w3,_custom:jU,_date:xU,_decode:Kj,_decodeAsync:Gj,_default:kpe,_discriminatedUnion:dpe,_e164:P3,_email:h3,_emoji:b3,_encode:Hj,_encodeAsync:Zj,_endsWith:Nx,_enum:ype,_file:SU,_float32:nU,_float64:sU,_gt:Jc,_gte:Pi,_guid:ev,_includes:Sx,_int:rU,_int32:iU,_int64:dU,_intersection:fpe,_ipv4:j3,_ipv6:N3,_isoDate:QB,_isoDateTime:XB,_isoDuration:JB,_isoTime:YB,_jwt:I3,_ksuid:S3,_lazy:Ape,_length:Hg,_literal:vpe,_lowercase:_x,_lt:Yc,_lte:Ea,_mac:ZB,_map:mpe,_max:Ea,_maxLength:qg,_maxSize:Bh,_mime:Cx,_min:Pi,_minLength:bd,_minSize:eu,_multipleOf:mh,_nan:_U,_nanoid:v3,_nativeEnum:bpe,_negative:M3,_never:bU,_nonnegative:$3,_nonoptional:Spe,_nonpositive:R3,_normalize:Tx,_null:mU,_nullable:_pe,_number:eU,_optional:wpe,_overwrite:Wl,_parse:$g,_parseAsync:Og,_pipe:Cpe,_positive:D3,_promise:Ppe,_property:O3,_readonly:Tpe,_record:ppe,_refine:NU,_regex:wx,_safeDecode:Qj,_safeDecodeAsync:Jj,_safeEncode:Xj,_safeEncodeAsync:Yj,_safeParse:Fg,_safeParseAsync:Lg,_set:gpe,_size:Wg,_slugify:Ix,_startsWith:jx,_string:HB,_stringFormat:Kg,_stringbool:PU,_success:jpe,_superRefine:CU,_symbol:hU,_templateLiteral:Epe,_toLowerCase:Ax,_toUpperCase:Px,_transform:xpe,_trim:Ex,_tuple:hpe,_uint32:aU,_uint64:fU,_ulid:_3,_undefined:pU,_union:cpe,_unknown:yU,_uppercase:kx,_url:xx,_uuid:p3,_uuidv4:m3,_uuidv6:g3,_uuidv7:y3,_void:vU,_xid:k3,_xor:upe,clone:Fa,config:ai,createStandardJSONSchemaMethod:Fm,createToJSONSchemaMethod:IU,decode:Kde,decodeAsync:Gde,describe:EU,encode:Hde,encodeAsync:Zde,extractDefs:yh,finalize:bh,flattenError:Wj,formatError:qj,globalConfig:Xb,globalRegistry:Ca,initializeContext:gh,isValidBase64:i3,isValidBase64URL:Kz,isValidJWT:Xz,locales:UB,meta:AU,parse:Uk,parseAsync:Vk,prettifyError:_L,process:Gr,regexes:r3,registry:f3,safeDecode:Qde,safeDecodeAsync:Jde,safeEncode:Xde,safeEncodeAsync:Yde,safeParse:kL,safeParseAsync:SL,toDotPath:wL,toJSONSchema:gV,treeifyError:xL,util:bL,version:jz},Symbol.toStringTag,{value:"Module"})),$pe=Object.freeze(Object.defineProperty({__proto__:null,endsWith:Nx,gt:Jc,gte:Pi,includes:Sx,length:Hg,lowercase:_x,lt:Yc,lte:Ea,maxLength:qg,maxSize:Bh,mime:Cx,minLength:bd,minSize:eu,multipleOf:mh,negative:M3,nonnegative:$3,nonpositive:R3,normalize:Tx,overwrite:Wl,positive:D3,property:O3,regex:wx,size:Wg,slugify:Ix,startsWith:jx,toLowerCase:Ax,toUpperCase:Px,trim:Ex,uppercase:kx},Symbol.toStringTag,{value:"Module"})),z3=je("ZodISODateTime",(e,t)=>{Oz.init(e,t),Jr.init(e,t)});function yV(e){return XB(z3,e)}const B3=je("ZodISODate",(e,t)=>{Fz.init(e,t),Jr.init(e,t)});function bV(e){return QB(B3,e)}const U3=je("ZodISOTime",(e,t)=>{Lz.init(e,t),Jr.init(e,t)});function vV(e){return YB(U3,e)}const V3=je("ZodISODuration",(e,t)=>{zz.init(e,t),Jr.init(e,t)});function xV(e){return JB(V3,e)}const wV=Object.freeze(Object.defineProperty({__proto__:null,ZodISODate:B3,ZodISODateTime:z3,ZodISODuration:V3,ZodISOTime:U3,date:bV,datetime:yV,duration:xV,time:vV},Symbol.toStringTag,{value:"Module"})),_V=(e,t)=>{Vj.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>qj(e,r)},flatten:{value:r=>Wj(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Qb,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Qb,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ope=je("ZodError",_V),ia=je("ZodError",_V,{Parent:Error}),kV=$g(ia),SV=Og(ia),jV=Fg(ia),NV=Lg(ia),CV=Hj(ia),TV=Kj(ia),EV=Zj(ia),AV=Gj(ia),PV=Xj(ia),IV=Qj(ia),DV=Yj(ia),MV=Jj(ia),or=je("ZodType",(e,t)=>(rr.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Fm(e,"input"),output:Fm(e,"output")}}),e.toJSONSchema=IU(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(Qo(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>Fa(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>kV(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>jV(e,r,n),e.parseAsync=async(r,n)=>SV(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>NV(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>CV(e,r,n),e.decode=(r,n)=>TV(e,r,n),e.encodeAsync=async(r,n)=>EV(e,r,n),e.decodeAsync=async(r,n)=>AV(e,r,n),e.safeEncode=(r,n)=>PV(e,r,n),e.safeDecode=(r,n)=>IV(e,r,n),e.safeEncodeAsync=async(r,n)=>DV(e,r,n),e.safeDecodeAsync=async(r,n)=>MV(e,r,n),e.refine=(r,n)=>e.check(A6(r,n)),e.superRefine=r=>e.check(P6(r)),e.overwrite=r=>e.check(Wl(r)),e.optional=()=>Um(e),e.exactOptional=()=>d6(e),e.nullable=()=>Vm(e),e.nullish=()=>Um(Vm(e)),e.nonoptional=r=>y6(e,r),e.array=()=>Vh(e),e.or=r=>Wh([e,r]),e.and=r=>r6(e,r),e.transform=r=>Wm(e,r1(r)),e.default=r=>p6(e,r),e.prefault=r=>g6(e,r),e.catch=r=>x6(e,r),e.pipe=r=>Wm(e,r),e.readonly=()=>k6(e),e.describe=r=>{const n=e.clone();return Ca.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return Ca.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Ca.get(e);const n=e.clone();return Ca.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),Dx=je("_ZodString",(e,t)=>{Vg.init(e,t),or.init(e,t),e._zod.processJSONSchema=(n,s,i)=>DU(e,n,s);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(wx(...n)),e.includes=(...n)=>e.check(Sx(...n)),e.startsWith=(...n)=>e.check(jx(...n)),e.endsWith=(...n)=>e.check(Nx(...n)),e.min=(...n)=>e.check(bd(...n)),e.max=(...n)=>e.check(qg(...n)),e.length=(...n)=>e.check(Hg(...n)),e.nonempty=(...n)=>e.check(bd(1,...n)),e.lowercase=n=>e.check(_x(n)),e.uppercase=n=>e.check(kx(n)),e.trim=()=>e.check(Ex()),e.normalize=(...n)=>e.check(Tx(...n)),e.toLowerCase=()=>e.check(Ax()),e.toUpperCase=()=>e.check(Px()),e.slugify=()=>e.check(Ix())}),Zg=je("ZodString",(e,t)=>{Vg.init(e,t),Dx.init(e,t),e.email=r=>e.check(h3(Mx,r)),e.url=r=>e.check(xx(Gg,r)),e.jwt=r=>e.check(I3(Gx,r)),e.emoji=r=>e.check(b3(Rx,r)),e.guid=r=>e.check(ev(Lm,r)),e.uuid=r=>e.check(p3(Mo,r)),e.uuidv4=r=>e.check(m3(Mo,r)),e.uuidv6=r=>e.check(g3(Mo,r)),e.uuidv7=r=>e.check(y3(Mo,r)),e.nanoid=r=>e.check(v3($x,r)),e.guid=r=>e.check(ev(Lm,r)),e.cuid=r=>e.check(x3(Ox,r)),e.cuid2=r=>e.check(w3(Fx,r)),e.ulid=r=>e.check(_3(Lx,r)),e.base64=r=>e.check(E3(Hx,r)),e.base64url=r=>e.check(A3(Kx,r)),e.xid=r=>e.check(k3(zx,r)),e.ksuid=r=>e.check(S3(Bx,r)),e.ipv4=r=>e.check(j3(Ux,r)),e.ipv6=r=>e.check(N3(Vx,r)),e.cidrv4=r=>e.check(C3(Wx,r)),e.cidrv6=r=>e.check(T3(qx,r)),e.e164=r=>e.check(P3(Zx,r)),e.datetime=r=>e.check(yV(r)),e.date=r=>e.check(bV(r)),e.time=r=>e.check(vV(r)),e.duration=r=>e.check(xV(r))});function mr(e){return HB(Zg,e)}const Jr=je("ZodStringFormat",(e,t)=>{Yr.init(e,t),Dx.init(e,t)}),Mx=je("ZodEmail",(e,t)=>{Tz.init(e,t),Jr.init(e,t)});function RV(e){return h3(Mx,e)}const Lm=je("ZodGUID",(e,t)=>{Nz.init(e,t),Jr.init(e,t)});function $V(e){return ev(Lm,e)}const Mo=je("ZodUUID",(e,t)=>{Cz.init(e,t),Jr.init(e,t)});function OV(e){return p3(Mo,e)}function FV(e){return m3(Mo,e)}function LV(e){return g3(Mo,e)}function zV(e){return y3(Mo,e)}const Gg=je("ZodURL",(e,t)=>{Ez.init(e,t),Jr.init(e,t)});function BV(e){return xx(Gg,e)}function UV(e){return xx(Gg,{protocol:/^https?$/,hostname:VL,...Be(e)})}const Rx=je("ZodEmoji",(e,t)=>{Az.init(e,t),Jr.init(e,t)});function VV(e){return b3(Rx,e)}const $x=je("ZodNanoID",(e,t)=>{Pz.init(e,t),Jr.init(e,t)});function WV(e){return v3($x,e)}const Ox=je("ZodCUID",(e,t)=>{Iz.init(e,t),Jr.init(e,t)});function qV(e){return x3(Ox,e)}const Fx=je("ZodCUID2",(e,t)=>{Dz.init(e,t),Jr.init(e,t)});function HV(e){return w3(Fx,e)}const Lx=je("ZodULID",(e,t)=>{Mz.init(e,t),Jr.init(e,t)});function KV(e){return _3(Lx,e)}const zx=je("ZodXID",(e,t)=>{Rz.init(e,t),Jr.init(e,t)});function ZV(e){return k3(zx,e)}const Bx=je("ZodKSUID",(e,t)=>{$z.init(e,t),Jr.init(e,t)});function GV(e){return S3(Bx,e)}const Ux=je("ZodIPv4",(e,t)=>{Bz.init(e,t),Jr.init(e,t)});function XV(e){return j3(Ux,e)}const W3=je("ZodMAC",(e,t)=>{Vz.init(e,t),Jr.init(e,t)});function QV(e){return ZB(W3,e)}const Vx=je("ZodIPv6",(e,t)=>{Uz.init(e,t),Jr.init(e,t)});function YV(e){return N3(Vx,e)}const Wx=je("ZodCIDRv4",(e,t)=>{Wz.init(e,t),Jr.init(e,t)});function JV(e){return C3(Wx,e)}const qx=je("ZodCIDRv6",(e,t)=>{qz.init(e,t),Jr.init(e,t)});function eW(e){return T3(qx,e)}const Hx=je("ZodBase64",(e,t)=>{Hz.init(e,t),Jr.init(e,t)});function tW(e){return E3(Hx,e)}const Kx=je("ZodBase64URL",(e,t)=>{Zz.init(e,t),Jr.init(e,t)});function rW(e){return A3(Kx,e)}const Zx=je("ZodE164",(e,t)=>{Gz.init(e,t),Jr.init(e,t)});function nW(e){return P3(Zx,e)}const Gx=je("ZodJWT",(e,t)=>{Qz.init(e,t),Jr.init(e,t)});function sW(e){return I3(Gx,e)}const Uh=je("ZodCustomStringFormat",(e,t)=>{Yz.init(e,t),Jr.init(e,t)});function iW(e,t,r={}){return Kg(Uh,e,t,r)}function aW(e){return Kg(Uh,"hostname",UL,e)}function oW(e){return Kg(Uh,"hex",sz,e)}function lW(e,t){const r=t?.enc??"hex",n=`${e}_${r}`,s=r3[n];if(!s)throw new Error(`Unrecognized hash format: ${n}`);return Kg(Uh,n,s,t)}const Xg=je("ZodNumber",(e,t)=>{a3.init(e,t),or.init(e,t),e._zod.processJSONSchema=(n,s,i)=>MU(e,n,s),e.gt=(n,s)=>e.check(Jc(n,s)),e.gte=(n,s)=>e.check(Pi(n,s)),e.min=(n,s)=>e.check(Pi(n,s)),e.lt=(n,s)=>e.check(Yc(n,s)),e.lte=(n,s)=>e.check(Ea(n,s)),e.max=(n,s)=>e.check(Ea(n,s)),e.int=n=>e.check(tv(n)),e.safe=n=>e.check(tv(n)),e.positive=n=>e.check(Jc(0,n)),e.nonnegative=n=>e.check(Pi(0,n)),e.negative=n=>e.check(Yc(0,n)),e.nonpositive=n=>e.check(Ea(0,n)),e.multipleOf=(n,s)=>e.check(mh(n,s)),e.step=(n,s)=>e.check(mh(n,s)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Xx(e){return eU(Xg,e)}const Od=je("ZodNumberFormat",(e,t)=>{Jz.init(e,t),Xg.init(e,t)});function tv(e){return rU(Od,e)}function cW(e){return nU(Od,e)}function uW(e){return sU(Od,e)}function dW(e){return iU(Od,e)}function fW(e){return aU(Od,e)}const Qg=je("ZodBoolean",(e,t)=>{o3.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>RU(e,r,n)});function Yg(e){return oU(Qg,e)}const Jg=je("ZodBigInt",(e,t)=>{l3.init(e,t),or.init(e,t),e._zod.processJSONSchema=(n,s,i)=>$U(e,n),e.gte=(n,s)=>e.check(Pi(n,s)),e.min=(n,s)=>e.check(Pi(n,s)),e.gt=(n,s)=>e.check(Jc(n,s)),e.gte=(n,s)=>e.check(Pi(n,s)),e.min=(n,s)=>e.check(Pi(n,s)),e.lt=(n,s)=>e.check(Yc(n,s)),e.lte=(n,s)=>e.check(Ea(n,s)),e.max=(n,s)=>e.check(Ea(n,s)),e.positive=n=>e.check(Jc(BigInt(0),n)),e.negative=n=>e.check(Yc(BigInt(0),n)),e.nonpositive=n=>e.check(Ea(BigInt(0),n)),e.nonnegative=n=>e.check(Pi(BigInt(0),n)),e.multipleOf=(n,s)=>e.check(mh(n,s));const r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function hW(e){return cU(Jg,e)}const Qx=je("ZodBigIntFormat",(e,t)=>{eB.init(e,t),Jg.init(e,t)});function pW(e){return dU(Qx,e)}function mW(e){return fU(Qx,e)}const q3=je("ZodSymbol",(e,t)=>{tB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>OU(e,r)});function gW(e){return hU(q3,e)}const H3=je("ZodUndefined",(e,t)=>{rB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>LU(e,r)});function yW(e){return pU(H3,e)}const K3=je("ZodNull",(e,t)=>{nB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>FU(e,r,n)});function Yx(e){return mU(K3,e)}const Z3=je("ZodAny",(e,t)=>{sB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>UU()});function zm(){return gU(Z3)}const G3=je("ZodUnknown",(e,t)=>{iB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>VU()});function vd(){return yU(G3)}const X3=je("ZodNever",(e,t)=>{aB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>BU(e,r,n)});function Jx(e){return bU(X3,e)}const Q3=je("ZodVoid",(e,t)=>{oB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>zU(e,r)});function bW(e){return vU(Q3,e)}const e1=je("ZodDate",(e,t)=>{lB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(n,s,i)=>WU(e,n),e.min=(n,s)=>e.check(Pi(n,s)),e.max=(n,s)=>e.check(Ea(n,s));const r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function vW(e){return xU(e1,e)}const Y3=je("ZodArray",(e,t)=>{cB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>rV(e,r,n,s),e.element=t.element,e.min=(r,n)=>e.check(bd(r,n)),e.nonempty=r=>e.check(bd(1,r)),e.max=(r,n)=>e.check(qg(r,n)),e.length=(r,n)=>e.check(Hg(r,n)),e.unwrap=()=>e.element});function Vh(e,t){return kU(Y3,e,t)}function xW(e){const t=e._zod.def.shape;return qh(Object.keys(t))}const e0=je("ZodObject",(e,t)=>{hB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>nV(e,r,n,s),fr(e,"shape",()=>t.shape),e.keyof=()=>qh(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:vd()}),e.loose=()=>e.clone({...e._zod.def,catchall:vd()}),e.strict=()=>e.clone({...e._zod.def,catchall:Jx()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>dL(e,r),e.safeExtend=r=>fL(e,r),e.merge=r=>hL(e,r),e.pick=r=>cL(e,r),e.omit=r=>uL(e,r),e.partial=(...r)=>pL(n1,e,r[0]),e.required=(...r)=>mL(s1,e,r[0])});function pu(e,t){const r={type:"object",shape:e??{},...Be(t)};return new e0(r)}function wW(e,t){return new e0({type:"object",shape:e,catchall:Jx(),...Be(t)})}function _W(e,t){return new e0({type:"object",shape:e,catchall:vd(),...Be(t)})}const t0=je("ZodUnion",(e,t)=>{vx.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>F3(e,r,n,s),e.options=t.options});function Wh(e,t){return new t0({type:"union",options:e,...Be(t)})}const J3=je("ZodXor",(e,t)=>{t0.init(e,t),pB.init(e,t),e._zod.processJSONSchema=(r,n,s)=>F3(e,r,n,s),e.options=t.options});function kW(e,t){return new J3({type:"union",options:e,inclusive:!1,...Be(t)})}const e6=je("ZodDiscriminatedUnion",(e,t)=>{t0.init(e,t),mB.init(e,t)});function SW(e,t,r){return new e6({type:"union",options:t,discriminator:e,...Be(r)})}const t6=je("ZodIntersection",(e,t)=>{gB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>sV(e,r,n,s)});function r6(e,t){return new t6({type:"intersection",left:e,right:t})}const n6=je("ZodTuple",(e,t)=>{c3.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>iV(e,r,n,s),e.rest=r=>e.clone({...e._zod.def,rest:r})});function s6(e,t,r){const n=t instanceof rr,s=n?r:t,i=n?t:null;return new n6({type:"tuple",items:e,rest:i,...Be(s)})}const r0=je("ZodRecord",(e,t)=>{yB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>aV(e,r,n,s),e.keyType=t.keyType,e.valueType=t.valueType});function t1(e,t,r){return new r0({type:"record",keyType:e,valueType:t,...Be(r)})}function jW(e,t,r){const n=Fa(e);return n._zod.values=void 0,new r0({type:"record",keyType:n,valueType:t,...Be(r)})}function NW(e,t,r){return new r0({type:"record",keyType:e,valueType:t,mode:"loose",...Be(r)})}const i6=je("ZodMap",(e,t)=>{bB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>eV(e,r),e.keyType=t.keyType,e.valueType=t.valueType,e.min=(...r)=>e.check(eu(...r)),e.nonempty=r=>e.check(eu(1,r)),e.max=(...r)=>e.check(Bh(...r)),e.size=(...r)=>e.check(Wg(...r))});function CW(e,t,r){return new i6({type:"map",keyType:e,valueType:t,...Be(r)})}const a6=je("ZodSet",(e,t)=>{vB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>tV(e,r),e.min=(...r)=>e.check(eu(...r)),e.nonempty=r=>e.check(eu(1,r)),e.max=(...r)=>e.check(Bh(...r)),e.size=(...r)=>e.check(Wg(...r))});function TW(e,t){return new a6({type:"set",valueType:e,...Be(t)})}const vh=je("ZodEnum",(e,t)=>{xB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(n,s,i)=>qU(e,n,s),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const i={};for(const a of n)if(r.has(a))i[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new vh({...t,checks:[],...Be(s),entries:i})},e.exclude=(n,s)=>{const i={...t.entries};for(const a of n)if(r.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new vh({...t,checks:[],...Be(s),entries:i})}});function qh(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new vh({type:"enum",entries:r,...Be(t)})}function EW(e,t){return new vh({type:"enum",entries:e,...Be(t)})}const o6=je("ZodLiteral",(e,t)=>{wB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>HU(e,r,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Bm(e,t){return new o6({type:"literal",values:Array.isArray(e)?e:[e],...Be(t)})}const l6=je("ZodFile",(e,t)=>{_B.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>GU(e,r,n),e.min=(r,n)=>e.check(eu(r,n)),e.max=(r,n)=>e.check(Bh(r,n)),e.mime=(r,n)=>e.check(Cx(Array.isArray(r)?r:[r],n))});function AW(e){return SU(l6,e)}const c6=je("ZodTransform",(e,t)=>{kB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>JU(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new px(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(hh(i,r.value,t));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=e),r.issues.push(hh(a))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(i=>(r.value=i,r)):(r.value=s,r)}});function r1(e){return new c6({type:"transform",transform:e})}const n1=je("ZodOptional",(e,t)=>{u3.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>L3(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Um(e){return new n1({type:"optional",innerType:e})}const u6=je("ZodExactOptional",(e,t)=>{SB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>L3(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function d6(e){return new u6({type:"optional",innerType:e})}const f6=je("ZodNullable",(e,t)=>{jB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>oV(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Vm(e){return new f6({type:"nullable",innerType:e})}function PW(e){return Um(Vm(e))}const h6=je("ZodDefault",(e,t)=>{NB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>cV(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function p6(e,t){return new h6({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():gx(t)}})}const m6=je("ZodPrefault",(e,t)=>{CB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>uV(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function g6(e,t){return new m6({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():gx(t)}})}const s1=je("ZodNonOptional",(e,t)=>{TB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>lV(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function y6(e,t){return new s1({type:"nonoptional",innerType:e,...Be(t)})}const b6=je("ZodSuccess",(e,t)=>{EB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>XU(e,r,n),e.unwrap=()=>e._zod.def.innerType});function IW(e){return new b6({type:"success",innerType:e})}const v6=je("ZodCatch",(e,t)=>{AB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>dV(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function x6(e,t){return new v6({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const w6=je("ZodNaN",(e,t)=>{PB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>KU(e,r)});function DW(e){return _U(w6,e)}const i1=je("ZodPipe",(e,t)=>{IB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>fV(e,r,n,s),e.in=t.in,e.out=t.out});function Wm(e,t){return new i1({type:"pipe",in:e,out:t})}const a1=je("ZodCodec",(e,t)=>{i1.init(e,t),d3.init(e,t)});function MW(e,t,r){return new a1({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}const _6=je("ZodReadonly",(e,t)=>{DB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>hV(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function k6(e){return new _6({type:"readonly",innerType:e})}const S6=je("ZodTemplateLiteral",(e,t)=>{MB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>ZU(e,r,n)});function RW(e,t){return new S6({type:"template_literal",parts:e,...Be(t)})}const j6=je("ZodLazy",(e,t)=>{OB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>mV(e,r,n,s),e.unwrap=()=>e._zod.def.getter()});function N6(e){return new j6({type:"lazy",getter:e})}const C6=je("ZodPromise",(e,t)=>{$B.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>pV(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function $W(e){return new C6({type:"promise",innerType:e})}const T6=je("ZodFunction",(e,t)=>{RB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>YU(e,r)});function rv(e){return new T6({type:"function",input:Array.isArray(e?.input)?s6(e?.input):e?.input??Vh(vd()),output:e?.output??vd()})}const n0=je("ZodCustom",(e,t)=>{FB.init(e,t),or.init(e,t),e._zod.processJSONSchema=(r,n,s)=>QU(e,r)});function OW(e){const t=new xn({check:"custom"});return t._zod.check=e,t}function E6(e,t){return jU(n0,e??(()=>!0),t)}function A6(e,t={}){return NU(n0,e,t)}function P6(e){return CU(e)}const FW=EU,LW=AU;function zW(e,t={}){const r=new n0({type:"custom",check:"custom",fn:n=>n instanceof e,abort:!0,...Be(t)});return r._zod.bag.Class=e,r._zod.check=n=>{n.value instanceof e||n.issues.push({code:"invalid_type",expected:e.name,input:n.value,inst:r,path:[...r._zod.def.path??[]]})},r}const BW=(...e)=>PU({Codec:a1,Boolean:Qg,String:Zg},...e);function UW(e){const t=N6(()=>Wh([mr(e),Xx(),Yg(),Yx(),Vh(t),t1(mr(),t)]));return t}function o1(e,t){return Wm(r1(e),t)}const Fpe=Object.freeze(Object.defineProperty({__proto__:null,ZodAny:Z3,ZodArray:Y3,ZodBase64:Hx,ZodBase64URL:Kx,ZodBigInt:Jg,ZodBigIntFormat:Qx,ZodBoolean:Qg,ZodCIDRv4:Wx,ZodCIDRv6:qx,ZodCUID:Ox,ZodCUID2:Fx,ZodCatch:v6,ZodCodec:a1,ZodCustom:n0,ZodCustomStringFormat:Uh,ZodDate:e1,ZodDefault:h6,ZodDiscriminatedUnion:e6,ZodE164:Zx,ZodEmail:Mx,ZodEmoji:Rx,ZodEnum:vh,ZodExactOptional:u6,ZodFile:l6,ZodFunction:T6,ZodGUID:Lm,ZodIPv4:Ux,ZodIPv6:Vx,ZodIntersection:t6,ZodJWT:Gx,ZodKSUID:Bx,ZodLazy:j6,ZodLiteral:o6,ZodMAC:W3,ZodMap:i6,ZodNaN:w6,ZodNanoID:$x,ZodNever:X3,ZodNonOptional:s1,ZodNull:K3,ZodNullable:f6,ZodNumber:Xg,ZodNumberFormat:Od,ZodObject:e0,ZodOptional:n1,ZodPipe:i1,ZodPrefault:m6,ZodPromise:C6,ZodReadonly:_6,ZodRecord:r0,ZodSet:a6,ZodString:Zg,ZodStringFormat:Jr,ZodSuccess:b6,ZodSymbol:q3,ZodTemplateLiteral:S6,ZodTransform:c6,ZodTuple:n6,ZodType:or,ZodULID:Lx,ZodURL:Gg,ZodUUID:Mo,ZodUndefined:H3,ZodUnion:t0,ZodUnknown:G3,ZodVoid:Q3,ZodXID:zx,ZodXor:J3,_ZodString:Dx,_default:p6,_function:rv,any:zm,array:Vh,base64:tW,base64url:rW,bigint:hW,boolean:Yg,catch:x6,check:OW,cidrv4:JV,cidrv6:eW,codec:MW,cuid:qV,cuid2:HV,custom:E6,date:vW,describe:FW,discriminatedUnion:SW,e164:nW,email:RV,emoji:VV,enum:qh,exactOptional:d6,file:AW,float32:cW,float64:uW,function:rv,guid:$V,hash:lW,hex:oW,hostname:aW,httpUrl:UV,instanceof:zW,int:tv,int32:dW,int64:pW,intersection:r6,ipv4:XV,ipv6:YV,json:UW,jwt:sW,keyof:xW,ksuid:GV,lazy:N6,literal:Bm,looseObject:_W,looseRecord:NW,mac:QV,map:CW,meta:LW,nan:DW,nanoid:WV,nativeEnum:EW,never:Jx,nonoptional:y6,null:Yx,nullable:Vm,nullish:PW,number:Xx,object:pu,optional:Um,partialRecord:jW,pipe:Wm,prefault:g6,preprocess:o1,promise:$W,readonly:k6,record:t1,refine:A6,set:TW,strictObject:wW,string:mr,stringFormat:iW,stringbool:BW,success:IW,superRefine:P6,symbol:gW,templateLiteral:RW,transform:r1,tuple:s6,uint32:fW,uint64:mW,ulid:KV,undefined:yW,union:Wh,unknown:vd,url:BV,uuid:OV,uuidv4:FV,uuidv6:LV,uuidv7:zV,void:bW,xid:ZV,xor:kW},Symbol.toStringTag,{value:"Module"})),Lpe={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function zpe(e){ai({customError:e})}function Bpe(){return ai().customError}var Hk;Hk||(Hk={});const lt={...Fpe,...$pe,iso:wV},Upe=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function Vpe(e,t){const r=e.$schema;return r==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":r==="http://json-schema.org/draft-07/schema#"?"draft-7":r==="http://json-schema.org/draft-04/schema#"?"draft-4":t??"draft-2020-12"}function Wpe(e,t){if(!e.startsWith("#"))throw new Error("External $ref is not supported, only local refs (#/...) are allowed");const r=e.slice(1).split("/").filter(Boolean);if(r.length===0)return t.rootSchema;const n=t.version==="draft-2020-12"?"$defs":"definitions";if(r[0]===n){const s=r[1];if(!s||!t.defs[s])throw new Error(`Reference not found: ${e}`);return t.defs[s]}throw new Error(`Reference not found: ${e}`)}function VW(e,t){if(e.not!==void 0){if(typeof e.not=="object"&&Object.keys(e.not).length===0)return lt.never();throw new Error("not is not supported in Zod (except { not: {} } for never)")}if(e.unevaluatedItems!==void 0)throw new Error("unevaluatedItems is not supported");if(e.unevaluatedProperties!==void 0)throw new Error("unevaluatedProperties is not supported");if(e.if!==void 0||e.then!==void 0||e.else!==void 0)throw new Error("Conditional schemas (if/then/else) are not supported");if(e.dependentSchemas!==void 0||e.dependentRequired!==void 0)throw new Error("dependentSchemas and dependentRequired are not supported");if(e.$ref){const s=e.$ref;if(t.refs.has(s))return t.refs.get(s);if(t.processing.has(s))return lt.lazy(()=>{if(!t.refs.has(s))throw new Error(`Circular reference not resolved: ${s}`);return t.refs.get(s)});t.processing.add(s);const i=Wpe(s,t),a=Zs(i,t);return t.refs.set(s,a),t.processing.delete(s),a}if(e.enum!==void 0){const s=e.enum;if(t.version==="openapi-3.0"&&e.nullable===!0&&s.length===1&&s[0]===null)return lt.null();if(s.length===0)return lt.never();if(s.length===1)return lt.literal(s[0]);if(s.every(a=>typeof a=="string"))return lt.enum(s);const i=s.map(a=>lt.literal(a));return i.length<2?i[0]:lt.union([i[0],i[1],...i.slice(2)])}if(e.const!==void 0)return lt.literal(e.const);const r=e.type;if(Array.isArray(r)){const s=r.map(i=>{const a={...e,type:i};return VW(a,t)});return s.length===0?lt.never():s.length===1?s[0]:lt.union(s)}if(!r)return lt.any();let n;switch(r){case"string":{let s=lt.string();if(e.format){const i=e.format;i==="email"?s=s.check(lt.email()):i==="uri"||i==="uri-reference"?s=s.check(lt.url()):i==="uuid"||i==="guid"?s=s.check(lt.uuid()):i==="date-time"?s=s.check(lt.iso.datetime()):i==="date"?s=s.check(lt.iso.date()):i==="time"?s=s.check(lt.iso.time()):i==="duration"?s=s.check(lt.iso.duration()):i==="ipv4"?s=s.check(lt.ipv4()):i==="ipv6"?s=s.check(lt.ipv6()):i==="mac"?s=s.check(lt.mac()):i==="cidr"?s=s.check(lt.cidrv4()):i==="cidr-v6"?s=s.check(lt.cidrv6()):i==="base64"?s=s.check(lt.base64()):i==="base64url"?s=s.check(lt.base64url()):i==="e164"?s=s.check(lt.e164()):i==="jwt"?s=s.check(lt.jwt()):i==="emoji"?s=s.check(lt.emoji()):i==="nanoid"?s=s.check(lt.nanoid()):i==="cuid"?s=s.check(lt.cuid()):i==="cuid2"?s=s.check(lt.cuid2()):i==="ulid"?s=s.check(lt.ulid()):i==="xid"?s=s.check(lt.xid()):i==="ksuid"&&(s=s.check(lt.ksuid()))}typeof e.minLength=="number"&&(s=s.min(e.minLength)),typeof e.maxLength=="number"&&(s=s.max(e.maxLength)),e.pattern&&(s=s.regex(new RegExp(e.pattern))),n=s;break}case"number":case"integer":{let s=r==="integer"?lt.number().int():lt.number();typeof e.minimum=="number"&&(s=s.min(e.minimum)),typeof e.maximum=="number"&&(s=s.max(e.maximum)),typeof e.exclusiveMinimum=="number"?s=s.gt(e.exclusiveMinimum):e.exclusiveMinimum===!0&&typeof e.minimum=="number"&&(s=s.gt(e.minimum)),typeof e.exclusiveMaximum=="number"?s=s.lt(e.exclusiveMaximum):e.exclusiveMaximum===!0&&typeof e.maximum=="number"&&(s=s.lt(e.maximum)),typeof e.multipleOf=="number"&&(s=s.multipleOf(e.multipleOf)),n=s;break}case"boolean":{n=lt.boolean();break}case"null":{n=lt.null();break}case"object":{const s={},i=e.properties||{},a=new Set(e.required||[]);for(const[u,c]of Object.entries(i)){const d=Zs(c,t);s[u]=a.has(u)?d:d.optional()}if(e.propertyNames){const u=Zs(e.propertyNames,t),c=e.additionalProperties&&typeof e.additionalProperties=="object"?Zs(e.additionalProperties,t):lt.any();if(Object.keys(s).length===0){n=lt.record(u,c);break}const d=lt.object(s).passthrough(),h=lt.looseRecord(u,c);n=lt.intersection(d,h);break}if(e.patternProperties){const u=e.patternProperties,c=Object.keys(u),d=[];for(const f of c){const p=Zs(u[f],t),g=lt.string().regex(new RegExp(f));d.push(lt.looseRecord(g,p))}const h=[];if(Object.keys(s).length>0&&h.push(lt.object(s).passthrough()),h.push(...d),h.length===0)n=lt.object({}).passthrough();else if(h.length===1)n=h[0];else{let f=lt.intersection(h[0],h[1]);for(let p=2;p<h.length;p++)f=lt.intersection(f,h[p]);n=f}break}const o=lt.object(s);e.additionalProperties===!1?n=o.strict():typeof e.additionalProperties=="object"?n=o.catchall(Zs(e.additionalProperties,t)):n=o.passthrough();break}case"array":{const s=e.prefixItems,i=e.items;if(s&&Array.isArray(s)){const a=s.map(u=>Zs(u,t)),o=i&&typeof i=="object"&&!Array.isArray(i)?Zs(i,t):void 0;o?n=lt.tuple(a).rest(o):n=lt.tuple(a),typeof e.minItems=="number"&&(n=n.check(lt.minLength(e.minItems))),typeof e.maxItems=="number"&&(n=n.check(lt.maxLength(e.maxItems)))}else if(Array.isArray(i)){const a=i.map(u=>Zs(u,t)),o=e.additionalItems&&typeof e.additionalItems=="object"?Zs(e.additionalItems,t):void 0;o?n=lt.tuple(a).rest(o):n=lt.tuple(a),typeof e.minItems=="number"&&(n=n.check(lt.minLength(e.minItems))),typeof e.maxItems=="number"&&(n=n.check(lt.maxLength(e.maxItems)))}else if(i!==void 0){const a=Zs(i,t);let o=lt.array(a);typeof e.minItems=="number"&&(o=o.min(e.minItems)),typeof e.maxItems=="number"&&(o=o.max(e.maxItems)),n=o}else n=lt.array(lt.any());break}default:throw new Error(`Unsupported type: ${r}`)}return e.description&&(n=n.describe(e.description)),e.default!==void 0&&(n=n.default(e.default)),n}function Zs(e,t){if(typeof e=="boolean")return e?lt.any():lt.never();let r=VW(e,t);const n=e.type||e.enum!==void 0||e.const!==void 0;if(e.anyOf&&Array.isArray(e.anyOf)){const o=e.anyOf.map(c=>Zs(c,t)),u=lt.union(o);r=n?lt.intersection(r,u):u}if(e.oneOf&&Array.isArray(e.oneOf)){const o=e.oneOf.map(c=>Zs(c,t)),u=lt.xor(o);r=n?lt.intersection(r,u):u}if(e.allOf&&Array.isArray(e.allOf))if(e.allOf.length===0)r=n?r:lt.any();else{let o=n?r:Zs(e.allOf[0],t);const u=n?0:1;for(let c=u;c<e.allOf.length;c++)o=lt.intersection(o,Zs(e.allOf[c],t));r=o}e.nullable===!0&&t.version==="openapi-3.0"&&(r=lt.nullable(r)),e.readOnly===!0&&(r=lt.readonly(r));const s={},i=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(const o of i)o in e&&(s[o]=e[o]);const a=["contentEncoding","contentMediaType","contentSchema"];for(const o of a)o in e&&(s[o]=e[o]);for(const o of Object.keys(e))Upe.has(o)||(s[o]=e[o]);return Object.keys(s).length>0&&t.registry.add(r,s),r}function qpe(e,t){if(typeof e=="boolean")return e?lt.any():lt.never();const r=Vpe(e,t?.defaultTarget),n=e.$defs||e.definitions||{},s={version:r,defs:n,refs:new Map,processing:new Set,rootSchema:e,registry:t?.registry??Ca};return Zs(e,s)}function ns(e){return KB(Zg,e)}function Hpe(e){return tU(Xg,e)}function Kpe(e){return lU(Qg,e)}function Zpe(e){return uU(Jg,e)}function Gpe(e){return wU(e1,e)}const Xpe=Object.freeze(Object.defineProperty({__proto__:null,bigint:Zpe,boolean:Kpe,date:Gpe,number:Hpe,string:ns},Symbol.toStringTag,{value:"Module"}));ai(LB());const Qpe=Object.freeze(Object.defineProperty({__proto__:null,$brand:tL,$input:WB,$output:VB,NEVER:eL,TimePrecision:GB,ZodAny:Z3,ZodArray:Y3,ZodBase64:Hx,ZodBase64URL:Kx,ZodBigInt:Jg,ZodBigIntFormat:Qx,ZodBoolean:Qg,ZodCIDRv4:Wx,ZodCIDRv6:qx,ZodCUID:Ox,ZodCUID2:Fx,ZodCatch:v6,ZodCodec:a1,ZodCustom:n0,ZodCustomStringFormat:Uh,ZodDate:e1,ZodDefault:h6,ZodDiscriminatedUnion:e6,ZodE164:Zx,ZodEmail:Mx,ZodEmoji:Rx,ZodEnum:vh,ZodError:Ope,ZodExactOptional:u6,ZodFile:l6,get ZodFirstPartyTypeKind(){return Hk},ZodFunction:T6,ZodGUID:Lm,ZodIPv4:Ux,ZodIPv6:Vx,ZodISODate:B3,ZodISODateTime:z3,ZodISODuration:V3,ZodISOTime:U3,ZodIntersection:t6,ZodIssueCode:Lpe,ZodJWT:Gx,ZodKSUID:Bx,ZodLazy:j6,ZodLiteral:o6,ZodMAC:W3,ZodMap:i6,ZodNaN:w6,ZodNanoID:$x,ZodNever:X3,ZodNonOptional:s1,ZodNull:K3,ZodNullable:f6,ZodNumber:Xg,ZodNumberFormat:Od,ZodObject:e0,ZodOptional:n1,ZodPipe:i1,ZodPrefault:m6,ZodPromise:C6,ZodReadonly:_6,ZodRealError:ia,ZodRecord:r0,ZodSet:a6,ZodString:Zg,ZodStringFormat:Jr,ZodSuccess:b6,ZodSymbol:q3,ZodTemplateLiteral:S6,ZodTransform:c6,ZodTuple:n6,ZodType:or,ZodULID:Lx,ZodURL:Gg,ZodUUID:Mo,ZodUndefined:H3,ZodUnion:t0,ZodUnknown:G3,ZodVoid:Q3,ZodXID:zx,ZodXor:J3,_ZodString:Dx,_default:p6,_function:rv,any:zm,array:Vh,base64:tW,base64url:rW,bigint:hW,boolean:Yg,catch:x6,check:OW,cidrv4:JV,cidrv6:eW,clone:Fa,codec:MW,coerce:Xpe,config:ai,core:Rpe,cuid:qV,cuid2:HV,custom:E6,date:vW,decode:TV,decodeAsync:AV,describe:FW,discriminatedUnion:SW,e164:nW,email:RV,emoji:VV,encode:CV,encodeAsync:EV,endsWith:Nx,enum:qh,exactOptional:d6,file:AW,flattenError:Wj,float32:cW,float64:uW,formatError:qj,fromJSONSchema:qpe,function:rv,getErrorMap:Bpe,globalRegistry:Ca,gt:Jc,gte:Pi,guid:$V,hash:lW,hex:oW,hostname:aW,httpUrl:UV,includes:Sx,instanceof:zW,int:tv,int32:dW,int64:pW,intersection:r6,ipv4:XV,ipv6:YV,iso:wV,json:UW,jwt:sW,keyof:xW,ksuid:GV,lazy:N6,length:Hg,literal:Bm,locales:UB,looseObject:_W,looseRecord:NW,lowercase:_x,lt:Yc,lte:Ea,mac:QV,map:CW,maxLength:qg,maxSize:Bh,meta:LW,mime:Cx,minLength:bd,minSize:eu,multipleOf:mh,nan:DW,nanoid:WV,nativeEnum:EW,negative:M3,never:Jx,nonnegative:$3,nonoptional:y6,nonpositive:R3,normalize:Tx,null:Yx,nullable:Vm,nullish:PW,number:Xx,object:pu,optional:Um,overwrite:Wl,parse:kV,parseAsync:SV,partialRecord:jW,pipe:Wm,positive:D3,prefault:g6,preprocess:o1,prettifyError:_L,promise:$W,property:O3,readonly:k6,record:t1,refine:A6,regex:wx,regexes:r3,registry:f3,safeDecode:IV,safeDecodeAsync:MV,safeEncode:PV,safeEncodeAsync:DV,safeParse:jV,safeParseAsync:NV,set:TW,setErrorMap:zpe,size:Wg,slugify:Ix,startsWith:jx,strictObject:wW,string:mr,stringFormat:iW,stringbool:BW,success:IW,superRefine:P6,symbol:gW,templateLiteral:RW,toJSONSchema:gV,toLowerCase:Ax,toUpperCase:Px,transform:r1,treeifyError:xL,trim:Ex,tuple:s6,uint32:fW,uint64:mW,ulid:KV,undefined:yW,union:Wh,unknown:vd,uppercase:kx,url:BV,util:bL,uuid:OV,uuidv4:FV,uuidv6:LV,uuidv7:zV,void:bW,xid:ZV,xor:kW},Symbol.toStringTag,{value:"Module"})),WW=T.createContext(void 0);function ql(){const e=T.useContext(WW);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Ype({children:e}){const[t,r]=T.useState(null),[n,s]=T.useState(!0),i=Yn(),a=t!==null,o=()=>localStorage.getItem("accessToken"),u=()=>localStorage.getItem("refreshToken"),[c,d]=T.useState(0),[h,f]=T.useState(null);T.useEffect(()=>{O8({getAccessToken:o,refreshToken:L,logout:m})},[]);const g=(()=>{if(typeof window<"u"){const $=window.location.origin;if($.includes("binarjoinanelytic.info"))return`${$}/api`;if($.includes("replit.dev"))return`${$}/api`;if($.startsWith("http://localhost")||$.startsWith("file://")||$==="null")return"https://app2.binarjoinanelytic.info/api"}const P="https://app2.binarjoinanelytic.info/api";return P.endsWith("/api")?P:`${P}/api`})();T.useEffect(()=>{(async()=>{try{const{smartGetAll:$,smartSave:V}=await Mr(async()=>{const{smartGetAll:E,smartSave:I}=await Promise.resolve().then(()=>Am);return{smartGetAll:E,smartSave:I}},void 0);(await $("emergencyUsers")).length===0&&(console.log(" [AuthProvider]    ..."),await V("emergencyUsers",[{id:"emergency-admin",email:"admin@binarjoin.com",password:"admin",name:" ",role:"admin",createdAt:new Date().toISOString()}]))}catch{}})()},[]),T.useEffect(()=>{(async()=>{console.log(" [AuthProvider]   ...",new Date().toISOString());try{const $=localStorage.getItem("accessToken"),V=localStorage.getItem("user");if(!$||!V){console.log(" [AuthProvider]     "),s(!1);return}try{const U=JSON.parse(V);r(U),s(!1),console.log(" [AuthProvider]     ..."),fetch(`${g}/auth/me`,{headers:{Authorization:`Bearer ${$}`}}).then(async E=>{if(E.ok){const I=await E.json();I.user&&(r(I.user),localStorage.setItem("user",JSON.stringify(I.user)))}else console.warn(" [AuthProvider]    (401)      .")}).catch(()=>{})}catch(U){console.error(" [AuthProvider]     :",U),await m()}}catch($){console.error(" [AuthProvider]  :",$)}finally{s(!1)}})()},[]),T.useEffect(()=>{const P=$=>{$.key==="accessToken"&&!$.newValue&&(console.log(" [AuthProvider]       "),r(null))};return window.addEventListener("storage",P),()=>window.removeEventListener("storage",P)},[]);const y=async(P,$)=>{console.log(" [AuthProvider.login]   :",P,new Date().toISOString());let V=null,U=null;try{console.log(` [AuthProvider.login]    ${g}/auth/login...`),U=await fetch(`${g}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:P,password:$})}),U.ok?V=await U.json():U.status===503||U.status===500?console.warn(` [AuthProvider]       (${U.status})    ...`):console.warn(` [AuthProvider]    ${U.status}    ...`)}catch(S){console.warn(" [AuthProvider]       ...",S)}if(!V||U&&!U.ok){console.log(" [AuthProvider]    /...");try{const{smartGetAll:S}=await Mr(async()=>{const{smartGetAll:B}=await Promise.resolve().then(()=>Am);return{smartGetAll:B}},void 0),D=await S("emergencyUsers");console.log(` [AuthProvider]  ${D.length}  `);const O=D.find(B=>B.email.toLowerCase()===P.toLowerCase()&&B.password===$);if(O)console.log(" [AuthProvider]     "),V={success:!0,data:{user:{...O,emailVerified:!0},tokens:{accessToken:"emergency-token",refreshToken:"emergency-refresh"}}};else{const B=await S("users");console.log(` [AuthProvider]  ${B.length}  `);const q=B.find(H=>H.email.toLowerCase()===P.toLowerCase());q&&(console.log(" [AuthProvider]      ()"),V={success:!0,data:{user:q,tokens:{accessToken:"offline-token",refreshToken:"offline-refresh"}}})}}catch(S){console.error(" [AuthProvider]    :",S)}}if(U&&!U.ok&&!V){const S=await U.json().catch(()=>({}));if(U.status===403&&S.requireEmailVerification){const D=new Error(S.message||"     ");throw D.requireEmailVerification=!0,D.userId=S.data?.userId,D.email=S.data?.email,D.status=403,D.data=S.data,D}throw new Error(S.message||"  ")}const E=V?.data||V,I=E?.user||V?.user;let N=E?.tokens?.accessToken||V?.tokens?.accessToken||E?.accessToken||V?.accessToken||V?.data?.accessToken||E?.token||V?.token,w=E?.tokens?.refreshToken||V?.tokens?.refreshToken||E?.refreshToken||V?.refreshToken||V?.data?.refreshToken;if(!N&&V&&typeof V=="object"){const S=["accessToken","token","jwt","auth_token"];for(const D of S)if(V[D]){N=V[D];break}}if(console.log(" [AuthProvider.login]   :",{hasUser:!!I,hasToken:!!N,tokenType:typeof N}),!N)throw console.error(" [AuthProvider.login]    :",V),new Error("       .    .");const _={id:I?.id||"unknown",email:I?.email||P,name:I?.name||I?.fullName||`${I?.firstName||""} ${I?.lastName||""}`.trim()||P,role:I?.role||"admin",mfaEnabled:!!I?.mfaEnabled,emailVerified:I?.emailVerified===!0||!0};return console.log(" [AuthProvider.login]    localStorage..."),localStorage.setItem("user",JSON.stringify(_)),localStorage.setItem("accessToken",N),w&&localStorage.setItem("refreshToken",w),r(_),(async()=>{try{console.log(" [AuthProvider]   ...");const S=await Mr(()=>Promise.resolve().then(()=>cJ),void 0),D=S.startSync||S.default?.startSync;typeof D=="function"&&await D()}catch(S){console.warn(" [AuthProvider]     :",S)}})().then(()=>{console.log(" [AuthProvider]   "),[["/api/projects"],["/api/projects/with-stats"],["/api/workers"],["/api/materials"],["/api/suppliers"],["/api/notifications"]].forEach(D=>i.invalidateQueries({queryKey:D,refetchType:"active",exact:!1}))}).catch(()=>{}),await new Promise(S=>setTimeout(S,50)),vae().catch(console.warn),console.log(" [AuthProvider.login]    "),V},m=async()=>{try{const P=localStorage.getItem("accessToken");if(P)try{await fetch(`${g}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${P}`}})}catch{}}catch{}finally{r(null),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),xae()}},[v,b]=T.useState(0),[x,j]=T.useState(!1),C=P=>new Promise($=>setTimeout($,P)),R=P=>Math.min(100*Math.pow(2,P),5e3),L=async(P=!1)=>{if(console.log(" [AuthProvider.refreshToken]    ..."),x&&!P){for(console.log(" [AuthProvider.refreshToken]    ...");x;)await C(100);return localStorage.getItem("accessToken")!==null}j(!0);const $=Date.now();try{const V=localStorage.getItem("refreshToken");if(!V)return console.log(" [AuthProvider.refreshToken]   refresh token"),!1;const U=3;for(let I=0;I<U;I++){const N=Date.now();console.log(` [AuthProvider.refreshToken]  ${I+1}/${U}...`);try{const w=new AbortController,_=setTimeout(()=>{w.abort(),console.log(` [AuthProvider.refreshToken] timeout  ${I+1}`)},1e4),k=await fetch(`${g}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:V}),signal:w.signal}),S=k.headers.get("content-type");if(!S||!S.includes("application/json")){console.error(" [AuthProvider.refreshToken]      ( JSON):",S),await C(2e3);continue}clearTimeout(_);const D=Date.now()-N;console.log(` [AuthProvider.refreshToken]  ${I+1}  ${D}ms`);const O=await k.json();if(k.ok&&O.success&&O.tokens){console.log(" [AuthProvider.refreshToken]  :",{success:O.success,hasTokens:!!O.tokens}),localStorage.setItem("accessToken",O.tokens.accessToken),localStorage.setItem("refreshToken",O.tokens.refreshToken),b(0);const B=Date.now()-$;return console.log(` [AuthProvider.refreshToken]    ${B}ms  ${I+1} `),!0}else console.log(` [AuthProvider.refreshToken]  ${k.status}:`,O.message||responseText);if(k.status===401||k.status===403){console.log(" [AuthProvider.refreshToken] refresh token   -     ");break}}catch(w){const _=Date.now()-N;w instanceof Error?w.name==="AbortError"?console.log(` [AuthProvider.refreshToken] timeout   ${I+1}  ${_}ms`):console.log(` [AuthProvider.refreshToken]     ${I+1}:`,w.message):console.log(` [AuthProvider.refreshToken]      ${I+1}:`,w)}if(I<U-1){const w=R(I);console.log(` [AuthProvider.refreshToken]  ${w}ms   ...`),await C(w)}}b(I=>I+1);const E=Date.now()-$;return console.log(` [AuthProvider.refreshToken]     ${E}ms ${U} `),localStorage.getItem("user")?(console.warn(" [AuthProvider]           Offline"),!1):(await m(),window.location.href="/login",!1)}catch(V){const U=Date.now()-$;return console.error(` [AuthProvider.refreshToken]    ${U}ms:`,V),b(E=>E+1),!1}finally{j(!1)}},A={user:t,isAuthenticated:a,isLoading:n,login:y,logout:m,refreshToken:L,getAccessToken:o,getRefreshToken:u};return T.useEffect(()=>{O8({getAccessToken:o,refreshToken:L,logout:m})},[]),l.jsx(WW.Provider,{value:A,children:e})}var Jpe=Symbol.for("react.lazy"),nv=Dv[" use ".trim().toString()];function eme(e){return typeof e=="object"&&e!==null&&"then"in e}function qW(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Jpe&&"_payload"in e&&eme(e._payload)}function s0(e){const t=tme(e),r=T.forwardRef((n,s)=>{let{children:i,...a}=n;qW(i)&&typeof nv=="function"&&(i=nv(i._payload));const o=T.Children.toArray(i),u=o.find(nme);if(u){const c=u.props.children,d=o.map(h=>h===u?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:h);return l.jsx(t,{...a,ref:s,children:T.isValidElement(c)?T.cloneElement(c,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var Fd=s0("Slot");function tme(e){const t=T.forwardRef((r,n)=>{let{children:s,...i}=r;if(qW(s)&&typeof nv=="function"&&(s=nv(s._payload)),T.isValidElement(s)){const a=ime(s),o=sme(i,s.props);return s.type!==T.Fragment&&(o.ref=n?Go(n,a):a),T.cloneElement(s,o)}return T.Children.count(s)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rme=Symbol("radix.slottable");function nme(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rme}function sme(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function ime(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ame=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ome=ame.reduce((e,t)=>{const r=s0(`Primitive.${t}`),n=T.forwardRef((s,i)=>{const{asChild:a,...o}=s,u=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),lme="Label",HW=T.forwardRef((e,t)=>l.jsx(ome.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));HW.displayName=lme;var KW=HW;const cme=Md("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=T.forwardRef(({className:e,...t},r)=>l.jsx(KW,{ref:r,className:we(cme(),e),...t}));Fe.displayName=KW.displayName;const Fl=cde,ZW=T.createContext({}),Ar=({...e})=>l.jsx(ZW.Provider,{value:{name:e.name},children:l.jsx(qF,{...e})}),l1=()=>{const e=T.useContext(ZW),t=T.useContext(GW),{getFieldState:r,formState:n}=lde(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},GW=T.createContext({}),Tr=T.forwardRef(({className:e,...t},r)=>{const n=T.useId();return l.jsx(GW.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:we("space-y-2",e),...t})})});Tr.displayName="FormItem";const Sn=T.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=l1();return l.jsx(Fe,{ref:r,className:we(n&&"text-destructive",e),htmlFor:s,...t})});Sn.displayName="FormLabel";const Pr=T.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=l1();return l.jsx(Fd,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});Pr.displayName="FormControl";const ume=T.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=l1();return l.jsx("p",{ref:r,id:n,className:we("text-sm text-muted-foreground",e),...t})});ume.displayName="FormDescription";const ln=T.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=l1(),a=s?String(s?.message??""):t;return a?l.jsx("p",{ref:n,id:i,className:we("text-[10px] font-black text-destructive text-right uppercase tracking-tighter mt-1 animate-in fade-in slide-in-from-top-1 duration-200",e),...r,children:a}):null});ln.displayName="FormMessage";const I6=T.createContext({});function D6(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const c1=T.createContext(null),M6=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class dme extends T.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function fme({children:e,isPresent:t}){const r=T.useId(),n=T.useRef(null),s=T.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=T.useContext(M6);return T.useInsertionEffect(()=>{const{width:a,height:o,top:u,left:c}=s.current;if(t||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${u}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),l.jsx(dme,{isPresent:t,childRef:n,sizeRef:s,children:T.cloneElement(e,{ref:n})})}const hme=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=D6(pme),u=T.useId(),c=T.useCallback(h=>{o.set(h,!0);for(const f of o.values())if(!f)return;n&&n()},[o,n]),d=T.useMemo(()=>({id:u,initial:t,isPresent:r,custom:s,onExitComplete:c,register:h=>(o.set(h,!1),()=>o.delete(h))}),i?[Math.random(),c]:[r,c]);return T.useMemo(()=>{o.forEach((h,f)=>o.set(f,!1))},[r]),T.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),a==="popLayout"&&(e=l.jsx(fme,{isPresent:r,children:e})),l.jsx(c1.Provider,{value:d,children:e})};function pme(){return new Map}function XW(e=!0){const t=T.useContext(c1);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=T.useId();T.useEffect(()=>{e&&s(i)},[e]);const a=T.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,a]:[!0]}const oy=e=>e.key||"";function qT(e){const t=[];return T.Children.forEach(e,r=>{T.isValidElement(r)&&t.push(r)}),t}const R6=typeof window<"u",QW=R6?T.useLayoutEffect:T.useEffect,qm=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[o,u]=XW(a),c=T.useMemo(()=>qT(e),[e]),d=a&&!o?[]:c.map(oy),h=T.useRef(!0),f=T.useRef(c),p=D6(()=>new Map),[g,y]=T.useState(c),[m,v]=T.useState(c);QW(()=>{h.current=!1,f.current=c;for(let j=0;j<m.length;j++){const C=oy(m[j]);d.includes(C)?p.delete(C):p.get(C)!==!0&&p.set(C,!1)}},[m,d.length,d.join("-")]);const b=[];if(c!==g){let j=[...c];for(let C=0;C<m.length;C++){const R=m[C],L=oy(R);d.includes(L)||(j.splice(C,0,R),b.push(R))}i==="wait"&&b.length&&(j=b),v(qT(j)),y(c);return}const{forceRender:x}=T.useContext(I6);return l.jsx(l.Fragment,{children:m.map(j=>{const C=oy(j),R=a&&!o?!1:c===m||d.includes(C),L=()=>{if(p.has(C))p.set(C,!0);else return;let A=!0;p.forEach(P=>{P||(A=!1)}),A&&(x?.(),v(f.current),a&&u?.(),n&&n())};return l.jsx(hme,{isPresent:R,initial:!h.current||r?void 0:!1,custom:R?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:R?void 0:L,children:j},C)})})},Ji=e=>e;let YW=Ji;function $6(e){let t;return()=>(t===void 0&&(t=e()),t)}const xh=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},_l=e=>e*1e3,kl=e=>e/1e3,mme={useManualTiming:!1};function gme(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){i.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,d=!1,h=!1)=>{const p=h&&n?t:r;return d&&i.add(c),p.has(c)||p.add(c),c},cancel:c=>{r.delete(c),i.delete(c)},process:c=>{if(a=c,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(o),t.clear(),n=!1,s&&(s=!1,u.process(c))}};return u}const ly=["read","resolveKeyframes","update","preRender","render","postRender"],yme=40;function JW(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=ly.reduce((v,b)=>(v[b]=gme(i),v),{}),{read:o,resolveKeyframes:u,update:c,preRender:d,render:h,postRender:f}=a,p=()=>{const v=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(v-s.timestamp,yme),1),s.timestamp=v,s.isProcessing=!0,o.process(s),u.process(s),c.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(p))},g=()=>{r=!0,n=!0,s.isProcessing||e(p)};return{schedule:ly.reduce((v,b)=>{const x=a[b];return v[b]=(j,C=!1,R=!1)=>(r||g(),x.schedule(j,C,R)),v},{}),cancel:v=>{for(let b=0;b<ly.length;b++)a[ly[b]].cancel(v)},state:s,steps:a}}const{schedule:dn,cancel:tu,state:Is,steps:Uw}=JW(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ji,!0),eq=T.createContext({strict:!1}),HT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wh={};for(const e in HT)wh[e]={isEnabled:t=>HT[e].some(r=>!!t[r])};function bme(e){for(const t in e)wh[t]={...wh[t],...e[t]}}const vme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vme.has(e)}let tq=e=>!sv(e);function xme(e){e&&(tq=t=>t.startsWith("on")?!sv(t):e(t))}try{xme(require("@emotion/is-prop-valid").default)}catch{}function wme(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(tq(s)||r===!0&&sv(s)||!t&&!sv(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function _me(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const u1=T.createContext({});function Hm(e){return typeof e=="string"||Array.isArray(e)}function d1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const O6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],F6=["initial",...O6];function f1(e){return d1(e.animate)||F6.some(t=>Hm(e[t]))}function rq(e){return!!(f1(e)||e.variants)}function kme(e,t){if(f1(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Hm(r)?r:void 0,animate:Hm(n)?n:void 0}}return e.inherit!==!1?t:{}}function Sme(e){const{initial:t,animate:r}=kme(e,T.useContext(u1));return T.useMemo(()=>({initial:t,animate:r}),[KT(t),KT(r)])}function KT(e){return Array.isArray(e)?e.join(" "):e}const jme=Symbol.for("motionComponentSymbol");function _f(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Nme(e,t,r){return T.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):_f(r)&&(r.current=n))},[t])}const L6=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Cme="framerAppearId",nq="data-"+L6(Cme),{schedule:z6}=JW(queueMicrotask,!1),sq=T.createContext({});function Tme(e,t,r,n,s){var i,a;const{visualElement:o}=T.useContext(u1),u=T.useContext(eq),c=T.useContext(c1),d=T.useContext(M6).reducedMotion,h=T.useRef(null);n=n||u.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=T.useContext(sq);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Eme(h.current,r,s,p);const g=T.useRef(!1);T.useInsertionEffect(()=>{f&&g.current&&f.update(r,c)});const y=r[nq],m=T.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,y)));return QW(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),z6.render(f.render),m.current&&f.animationState&&f.animationState.animateChanges())}),T.useEffect(()=>{f&&(!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),m.current=!1))}),f}function Eme(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:u,layoutRoot:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:iq(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&_f(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:u,layoutRoot:c})}function iq(e){if(e)return e.options.allowProjection!==!1?e.projection:iq(e.parent)}function Ame({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var i,a;e&&bme(e);function o(c,d){let h;const f={...T.useContext(M6),...c,layoutId:Pme(c)},{isStatic:p}=f,g=Sme(c),y=n(c,p);if(!p&&R6){Ime();const m=Dme(f);h=m.MeasureLayout,g.visualElement=Tme(s,y,f,t,m.ProjectionNode)}return l.jsxs(u1.Provider,{value:g,children:[h&&g.visualElement?l.jsx(h,{visualElement:g.visualElement,...f}):null,r(s,c,Nme(y,g.visualElement,d),y,p,g.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const u=T.forwardRef(o);return u[jme]=s,u}function Pme({layoutId:e}){const t=T.useContext(I6).id;return t&&e!==void 0?t+"-"+e:e}function Ime(e,t){T.useContext(eq).strict}function Dme(e){const{drag:t,layout:r}=wh;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Mme=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function B6(e){return typeof e!="string"||e.includes("-")?!1:!!(Mme.indexOf(e)>-1||/[A-Z]/u.test(e))}function ZT(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function U6(e,t,r,n){if(typeof t=="function"){const[s,i]=ZT(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=ZT(n);t=t(r!==void 0?r:e.custom,s,i)}return t}const Kk=e=>Array.isArray(e),Rme=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),$me=e=>Kk(e)?e[e.length-1]||0:e,ei=e=>!!(e&&e.getVelocity);function Ky(e){const t=ei(e)?e.get():e;return Rme(t)?t.toValue():t}function Ome({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,i){const a={latestValues:Fme(n,s,i,e),renderState:t()};return r&&(a.onMount=o=>r({props:n,current:o,...a}),a.onUpdate=o=>r(o)),a}const aq=e=>(t,r)=>{const n=T.useContext(u1),s=T.useContext(c1),i=()=>Ome(e,t,n,s);return r?i():D6(i)};function Fme(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=Ky(i[f]);let{initial:a,animate:o}=e;const u=f1(e),c=rq(e);t&&c&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!d1(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const g=U6(e,f[p]);if(g){const{transitionEnd:y,transition:m,...v}=g;for(const b in v){let x=v[b];if(Array.isArray(x)){const j=d?x.length-1:0;x=x[j]}x!==null&&(s[b]=x)}for(const b in y)s[b]=y[b]}}}return s}const Hh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ld=new Set(Hh),oq=e=>t=>typeof t=="string"&&t.startsWith(e),lq=oq("--"),Lme=oq("var(--"),V6=e=>Lme(e)?zme.test(e.split("/*")[0].trim()):!1,zme=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cq=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ll=(e,t,r)=>r>t?t:r<e?e:r,Kh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Km={...Kh,transform:e=>Ll(0,1,e)},cy={...Kh,default:1},i0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),nc=i0("deg"),zo=i0("%"),Ft=i0("px"),Bme=i0("vh"),Ume=i0("vw"),GT={...zo,parse:e=>zo.parse(e)/100,transform:e=>zo.transform(e*100)},Vme={borderWidth:Ft,borderTopWidth:Ft,borderRightWidth:Ft,borderBottomWidth:Ft,borderLeftWidth:Ft,borderRadius:Ft,radius:Ft,borderTopLeftRadius:Ft,borderTopRightRadius:Ft,borderBottomRightRadius:Ft,borderBottomLeftRadius:Ft,width:Ft,maxWidth:Ft,height:Ft,maxHeight:Ft,top:Ft,right:Ft,bottom:Ft,left:Ft,padding:Ft,paddingTop:Ft,paddingRight:Ft,paddingBottom:Ft,paddingLeft:Ft,margin:Ft,marginTop:Ft,marginRight:Ft,marginBottom:Ft,marginLeft:Ft,backgroundPositionX:Ft,backgroundPositionY:Ft},Wme={rotate:nc,rotateX:nc,rotateY:nc,rotateZ:nc,scale:cy,scaleX:cy,scaleY:cy,scaleZ:cy,skew:nc,skewX:nc,skewY:nc,distance:Ft,translateX:Ft,translateY:Ft,translateZ:Ft,x:Ft,y:Ft,z:Ft,perspective:Ft,transformPerspective:Ft,opacity:Km,originX:GT,originY:GT,originZ:Ft},XT={...Kh,transform:Math.round},W6={...Vme,...Wme,zIndex:XT,size:Ft,fillOpacity:Km,strokeOpacity:Km,numOctaves:XT},qme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hme=Hh.length;function Kme(e,t,r){let n="",s=!0;for(let i=0;i<Hme;i++){const a=Hh[i],o=e[a];if(o===void 0)continue;let u=!0;if(typeof o=="number"?u=o===(a.startsWith("scale")?1:0):u=parseFloat(o)===0,!u||r){const c=cq(o,W6[a]);if(!u){s=!1;const d=qme[a]||a;n+=`${d}(${c}) `}r&&(t[a]=c)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function q6(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const u in t){const c=t[u];if(Ld.has(u)){a=!0;continue}else if(lq(u)){s[u]=c;continue}else{const d=cq(c,W6[u]);u.startsWith("origin")?(o=!0,i[u]=d):n[u]=d}}if(t.transform||(a||r?n.transform=Kme(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:u="50%",originY:c="50%",originZ:d=0}=i;n.transformOrigin=`${u} ${c} ${d}`}}const Zme={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gme={offset:"strokeDashoffset",array:"strokeDasharray"};function Xme(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?Zme:Gme;e[i.offset]=Ft.transform(-n);const a=Ft.transform(t),o=Ft.transform(r);e[i.array]=`${a} ${o}`}function QT(e,t,r){return typeof e=="string"?e:Ft.transform(t+r*e)}function Qme(e,t,r){const n=QT(t,e.x,e.width),s=QT(r,e.y,e.height);return`${n} ${s}`}function H6(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...c},d,h){if(q6(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:g}=e;f.transform&&(g&&(p.transform=f.transform),delete f.transform),g&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=Qme(g,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Xme(f,a,o,u,!1)}const K6=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),uq=()=>({...K6(),attrs:{}}),Z6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dq(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const fq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hq(e,t,r,n){dq(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(fq.has(s)?s:L6(s),t.attrs[s])}const iv={};function Yme(e){Object.assign(iv,e)}function pq(e,{layout:t,layoutId:r}){return Ld.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!iv[e]||e==="opacity")}function G6(e,t,r){var n;const{style:s}=e,i={};for(const a in s)(ei(s[a])||t.style&&ei(t.style[a])||pq(a,e)||((n=r?.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function mq(e,t,r){const n=G6(e,t,r);for(const s in e)if(ei(e[s])||ei(t[s])){const i=Hh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function Jme(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const YT=["x","y","width","height","cx","cy","r"],ege={useVisualState:aq({scrapeMotionValuesFromProps:mq,createRenderState:uq,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const o in s)if(Ld.has(o)){i=!0;break}}if(!i)return;let a=!t;if(t)for(let o=0;o<YT.length;o++){const u=YT[o];e[u]!==t[u]&&(a=!0)}a&&dn.read(()=>{Jme(r,n),dn.render(()=>{H6(n,s,Z6(r.tagName),e.transformTemplate),hq(r,n)})})}})},tge={useVisualState:aq({scrapeMotionValuesFromProps:G6,createRenderState:K6})};function gq(e,t,r){for(const n in t)!ei(t[n])&&!pq(n,r)&&(e[n]=t[n])}function rge({transformTemplate:e},t){return T.useMemo(()=>{const r=K6();return q6(r,t,e),Object.assign({},r.vars,r.style)},[t])}function nge(e,t){const r=e.style||{},n={};return gq(n,r,e),Object.assign(n,rge(e,t)),n}function sge(e,t){const r={},n=nge(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function ige(e,t,r,n){const s=T.useMemo(()=>{const i=uq();return H6(i,t,Z6(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};gq(i,e.style,e),s.style={...i,...s.style}}return s}function age(e=!1){return(r,n,s,{latestValues:i},a)=>{const u=(B6(r)?ige:sge)(n,i,a,r),c=wme(n,typeof r=="string",e),d=r!==T.Fragment?{...c,...u,ref:s}:{},{children:h}=n,f=T.useMemo(()=>ei(h)?h.get():h,[h]);return T.createElement(r,{...d,children:f})}}function oge(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...B6(n)?ege:tge,preloadedFeatures:e,useRender:age(s),createVisualElement:t,Component:n};return Ame(a)}}function yq(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function h1(e,t,r){const n=e.getProps();return U6(n,t,r!==void 0?r:n.custom,e)}const lge=$6(()=>window.ScrollTimeline!==void 0);class cge{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(lge()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class uge extends cge{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function X6(e,t){return e?e[t]||e.default||e:void 0}const Zk=2e4;function bq(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Zk;)t+=r,n=e.next(t);return t>=Zk?1/0:t}function Q6(e){return typeof e=="function"}function JT(e,t){e.timeline=t,e.onfinish=null}const Y6=e=>Array.isArray(e)&&typeof e[0]=="number",dge={linearEasing:void 0};function fge(e,t){const r=$6(e);return()=>{var n;return(n=dge[t])!==null&&n!==void 0?n:r()}}const av=fge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vq=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(xh(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function xq(e){return!!(typeof e=="function"&&av()||!e||typeof e=="string"&&(e in Gk||av())||Y6(e)||Array.isArray(e)&&e.every(xq))}const Mp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Gk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mp([0,.65,.55,1]),circOut:Mp([.55,0,1,.45]),backIn:Mp([.31,.01,.66,-.59]),backOut:Mp([.33,1.53,.69,.99])};function wq(e,t){if(e)return typeof e=="function"&&av()?vq(e,t):Y6(e)?Mp(e):Array.isArray(e)?e.map(r=>wq(r,t)||Gk.easeOut):Gk[e]}const Va={x:!1,y:!1};function _q(){return Va.x||Va.y}function hge(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function kq(e,t){const r=hge(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function eE(e){return t=>{t.pointerType==="touch"||_q()||e(t)}}function pge(e,t,r={}){const[n,s,i]=kq(e,r),a=eE(o=>{const{target:u}=o,c=t(o);if(typeof c!="function"||!u)return;const d=eE(h=>{c(h),u.removeEventListener("pointerleave",d)});u.addEventListener("pointerleave",d,s)});return n.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const Sq=(e,t)=>t?e===t?!0:Sq(e,t.parentElement):!1,J6=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mge=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gge(e){return mge.has(e.tagName)||e.tabIndex!==-1}const Rp=new WeakSet;function tE(e){return t=>{t.key==="Enter"&&e(t)}}function Vw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yge=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=tE(()=>{if(Rp.has(r))return;Vw(r,"down");const s=tE(()=>{Vw(r,"up")}),i=()=>Vw(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function rE(e){return J6(e)&&!_q()}function bge(e,t,r={}){const[n,s,i]=kq(e,r),a=o=>{const u=o.currentTarget;if(!rE(o)||Rp.has(u))return;Rp.add(u);const c=t(o),d=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!rE(p)||!Rp.has(u))&&(Rp.delete(u),typeof c=="function"&&c(p,{success:g}))},h=p=>{d(p,r.useGlobalTarget||Sq(u,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(o=>{!gge(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",c=>yge(c,s),s)}),i}function vge(e){return e==="x"||e==="y"?Va[e]?null:(Va[e]=!0,()=>{Va[e]=!1}):Va.x||Va.y?null:(Va.x=Va.y=!0,()=>{Va.x=Va.y=!1})}const jq=new Set(["width","height","top","left","right","bottom",...Hh]);let Zy;function xge(){Zy=void 0}const Bo={now:()=>(Zy===void 0&&Bo.set(Is.isProcessing||mme.useManualTiming?Is.timestamp:performance.now()),Zy),set:e=>{Zy=e,queueMicrotask(xge)}};function e5(e,t){e.indexOf(t)===-1&&e.push(t)}function t5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class r5{constructor(){this.subscriptions=[]}add(t){return e5(this.subscriptions,t),()=>t5(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Nq(e,t){return t?e*(1e3/t):0}const nE=30,wge=e=>!isNaN(parseFloat(e));class _ge{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=Bo.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Bo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wge(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new r5);const n=this.events[t].add(r);return t==="change"?()=>{n(),dn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Bo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>nE)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,nE);return Nq(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zm(e,t){return new _ge(e,t)}function kge(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Zm(r))}function Sge(e,t){const r=h1(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const o=$me(i[a]);kge(e,a,o)}}function jge(e){return!!(ei(e)&&e.add)}function Xk(e,t){const r=e.getValue("willChange");if(jge(r))return r.add(t)}function Cq(e){return e.props[nq]}const Tq=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Nge=1e-7,Cge=12;function Tge(e,t,r,n,s){let i,a,o=0;do a=t+(r-t)/2,i=Tq(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>Nge&&++o<Cge);return a}function a0(e,t,r,n){if(e===t&&r===n)return Ji;const s=i=>Tge(i,0,1,e,r);return i=>i===0||i===1?i:Tq(s(i),t,n)}const Eq=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Aq=e=>t=>1-e(1-t),Pq=a0(.33,1.53,.69,.99),n5=Aq(Pq),Iq=Eq(n5),Dq=e=>(e*=2)<1?.5*n5(e):.5*(2-Math.pow(2,-10*(e-1))),s5=e=>1-Math.sin(Math.acos(e)),Mq=Aq(s5),Rq=Eq(s5),$q=e=>/^0[^.\s]+$/u.test(e);function Ege(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$q(e):!0}const nm=e=>Math.round(e*1e5)/1e5,i5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Age(e){return e==null}const Pge=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,a5=(e,t)=>r=>!!(typeof r=="string"&&Pge.test(r)&&r.startsWith(e)||t&&!Age(r)&&Object.prototype.hasOwnProperty.call(r,t)),Oq=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,o]=n.match(i5);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Ige=e=>Ll(0,255,e),Ww={...Kh,transform:e=>Math.round(Ige(e))},Ou={test:a5("rgb","red"),parse:Oq("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Ww.transform(e)+", "+Ww.transform(t)+", "+Ww.transform(r)+", "+nm(Km.transform(n))+")"};function Dge(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Qk={test:a5("#"),parse:Dge,transform:Ou.transform},kf={test:a5("hsl","hue"),parse:Oq("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+zo.transform(nm(t))+", "+zo.transform(nm(r))+", "+nm(Km.transform(n))+")"},Gs={test:e=>Ou.test(e)||Qk.test(e)||kf.test(e),parse:e=>Ou.test(e)?Ou.parse(e):kf.test(e)?kf.parse(e):Qk.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ou.transform(e):kf.transform(e)},Mge=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Rge(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(i5))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Mge))===null||r===void 0?void 0:r.length)||0)>0}const Fq="number",Lq="color",$ge="var",Oge="var(",sE="${}",Fge=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gm(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(Fge,u=>(Gs.test(u)?(n.color.push(i),s.push(Lq),r.push(Gs.parse(u))):u.startsWith(Oge)?(n.var.push(i),s.push($ge),r.push(u)):(n.number.push(i),s.push(Fq),r.push(parseFloat(u))),++i,sE)).split(sE);return{values:r,split:o,indexes:n,types:s}}function zq(e){return Gm(e).values}function Bq(e){const{split:t,types:r}=Gm(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const o=r[a];o===Fq?i+=nm(s[a]):o===Lq?i+=Gs.transform(s[a]):i+=s[a]}return i}}const Lge=e=>typeof e=="number"?0:e;function zge(e){const t=zq(e);return Bq(e)(t.map(Lge))}const ru={test:Rge,parse:zq,createTransformer:Bq,getAnimatableNone:zge},Bge=new Set(["brightness","contrast","saturate","opacity"]);function Uge(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(i5)||[];if(!n)return e;const s=r.replace(n,"");let i=Bge.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const Vge=/\b([a-z-]*)\(.*?\)/gu,Yk={...ru,getAnimatableNone:e=>{const t=e.match(Vge);return t?t.map(Uge).join(" "):e}},Wge={...W6,color:Gs,backgroundColor:Gs,outlineColor:Gs,fill:Gs,stroke:Gs,borderColor:Gs,borderTopColor:Gs,borderRightColor:Gs,borderBottomColor:Gs,borderLeftColor:Gs,filter:Yk,WebkitFilter:Yk},o5=e=>Wge[e];function Uq(e,t){let r=o5(e);return r!==Yk&&(r=ru),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const qge=new Set(["auto","none","0"]);function Hge(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!qge.has(i)&&Gm(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Uq(r,s)}const iE=e=>e===Kh||e===Ft,aE=(e,t)=>parseFloat(e.split(", ")[t]),oE=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return aE(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?aE(i[1],e):0}},Kge=new Set(["x","y","z"]),Zge=Hh.filter(e=>!Kge.has(e));function Gge(e){const t=[];return Zge.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const _h={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:oE(4,13),y:oE(5,14)};_h.translateX=_h.x;_h.translateY=_h.y;const sd=new Set;let Jk=!1,e4=!1;function Vq(){if(e4){const e=Array.from(sd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=Gge(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var o;(o=n.getValue(i))===null||o===void 0||o.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}e4=!1,Jk=!1,sd.forEach(e=>e.complete()),sd.clear()}function Wq(){sd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(e4=!0)})}function Xge(){Wq(),Vq()}class l5{constructor(t,r,n,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(sd.add(this),Jk||(Jk=!0,dn.read(Wq),dn.resolveKeyframes(Vq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const a=s?.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const u=n.readValue(r,o);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),sd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,sd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const qq=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Qge=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yge(e){const t=Qge.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function Hq(e,t,r=1){const[n,s]=Yge(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return qq(a)?parseFloat(a):a}return V6(s)?Hq(s,t,r+1):s}const Kq=e=>t=>t.test(e),Jge={test:e=>e==="auto",parse:e=>e},Zq=[Kh,Ft,zo,nc,Ume,Bme,Jge],lE=e=>Zq.find(Kq(e));class Gq extends l5{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let c=t[u];if(typeof c=="string"&&(c=c.trim(),V6(c))){const d=Hq(c,r.current);d!==void 0&&(t[u]=d),u===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!jq.has(n)||t.length!==2)return;const[s,i]=t,a=lE(s),o=lE(i);if(a!==o)if(iE(a)&&iE(o))for(let u=0;u<t.length;u++){const c=t[u];typeof c=="string"&&(t[u]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)Ege(t[s])&&n.push(s);n.length&&Hge(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_h[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=_h[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,c])=>{r.getValue(u).set(c)}),this.resolveNoneKeyframes()}}const cE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ru.test(e)||e==="0")&&!e.startsWith("url("));function e0e(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function t0e(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=cE(s,t),o=cE(i,t);return!a||!o?!1:e0e(e)||(r==="spring"||Q6(r))&&n}const r0e=e=>e!==null;function p1(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(r0e),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const n0e=40;class Xq{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Bo.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>n0e?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Xge(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Bo.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:a,onComplete:o,onUpdate:u,isGenerator:c}=this.options;if(!c&&!t0e(t,n,s,i))if(a)this.options.duration=0;else{u&&u(p1(t,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Cn=(e,t,r)=>e+(t-e)*r;function qw(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function s0e({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const o=r<.5?r*(1+t):r+t-r*t,u=2*r-o;s=qw(u,o,e+1/3),i=qw(u,o,e),a=qw(u,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function ov(e,t){return r=>r>0?t:e}const Hw=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},i0e=[Qk,Ou,kf],a0e=e=>i0e.find(t=>t.test(e));function uE(e){const t=a0e(e);if(!t)return!1;let r=t.parse(e);return t===kf&&(r=s0e(r)),r}const dE=(e,t)=>{const r=uE(e),n=uE(t);if(!r||!n)return ov(e,t);const s={...r};return i=>(s.red=Hw(r.red,n.red,i),s.green=Hw(r.green,n.green,i),s.blue=Hw(r.blue,n.blue,i),s.alpha=Cn(r.alpha,n.alpha,i),Ou.transform(s))},o0e=(e,t)=>r=>t(e(r)),o0=(...e)=>e.reduce(o0e),t4=new Set(["none","hidden"]);function l0e(e,t){return t4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function c0e(e,t){return r=>Cn(e,t,r)}function c5(e){return typeof e=="number"?c0e:typeof e=="string"?V6(e)?ov:Gs.test(e)?dE:f0e:Array.isArray(e)?Qq:typeof e=="object"?Gs.test(e)?dE:u0e:ov}function Qq(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>c5(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function u0e(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=c5(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function d0e(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],u=(r=e.values[o])!==null&&r!==void 0?r:0;n[i]=u,s[a]++}return n}const f0e=(e,t)=>{const r=ru.createTransformer(t),n=Gm(e),s=Gm(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?t4.has(e)&&!s.values.length||t4.has(t)&&!n.values.length?l0e(e,t):o0(Qq(d0e(n,s),s.values),r):ov(e,t)};function Yq(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Cn(e,t,r):c5(e)(e,t)}const h0e=5;function Jq(e,t,r){const n=Math.max(t-h0e,0);return Nq(r-e(n),t-n)}const Mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kw=.001;function p0e({duration:e=Mn.duration,bounce:t=Mn.bounce,velocity:r=Mn.velocity,mass:n=Mn.mass}){let s,i,a=1-t;a=Ll(Mn.minDamping,Mn.maxDamping,a),e=Ll(Mn.minDuration,Mn.maxDuration,kl(e)),a<1?(s=c=>{const d=c*a,h=d*e,f=d-r,p=r4(c,a),g=Math.exp(-h);return Kw-f/p*g},i=c=>{const h=c*a*e,f=h*r+r,p=Math.pow(a,2)*Math.pow(c,2)*e,g=Math.exp(-h),y=r4(Math.pow(c,2),a);return(-s(c)+Kw>0?-1:1)*((f-p)*g)/y}):(s=c=>{const d=Math.exp(-c*e),h=(c-r)*e+1;return-Kw+d*h},i=c=>{const d=Math.exp(-c*e),h=(r-c)*(e*e);return d*h});const o=5/e,u=g0e(s,i,o);if(e=_l(e),isNaN(u))return{stiffness:Mn.stiffness,damping:Mn.damping,duration:e};{const c=Math.pow(u,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:e}}}const m0e=12;function g0e(e,t,r){let n=r;for(let s=1;s<m0e;s++)n=n-e(n)/t(n);return n}function r4(e,t){return e*Math.sqrt(1-t*t)}const y0e=["duration","bounce"],b0e=["stiffness","damping","mass"];function fE(e,t){return t.some(r=>e[r]!==void 0)}function v0e(e){let t={velocity:Mn.velocity,stiffness:Mn.stiffness,damping:Mn.damping,mass:Mn.mass,isResolvedFromDuration:!1,...e};if(!fE(e,b0e)&&fE(e,y0e))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Ll(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Mn.mass,stiffness:s,damping:i}}else{const r=p0e(e);t={...t,...r,mass:Mn.mass},t.isResolvedFromDuration=!0}return t}function eH(e=Mn.visualDuration,t=Mn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:u,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=v0e({...r,velocity:-kl(r.velocity||0)}),g=f||0,y=c/(2*Math.sqrt(u*d)),m=a-i,v=kl(Math.sqrt(u/d)),b=Math.abs(m)<5;n||(n=b?Mn.restSpeed.granular:Mn.restSpeed.default),s||(s=b?Mn.restDelta.granular:Mn.restDelta.default);let x;if(y<1){const C=r4(v,y);x=R=>{const L=Math.exp(-y*v*R);return a-L*((g+y*v*m)/C*Math.sin(C*R)+m*Math.cos(C*R))}}else if(y===1)x=C=>a-Math.exp(-v*C)*(m+(g+v*m)*C);else{const C=v*Math.sqrt(y*y-1);x=R=>{const L=Math.exp(-y*v*R),A=Math.min(C*R,300);return a-L*((g+y*v*m)*Math.sinh(A)+C*m*Math.cosh(A))/C}}const j={calculatedDuration:p&&h||null,next:C=>{const R=x(C);if(p)o.done=C>=h;else{let L=0;y<1&&(L=C===0?_l(g):Jq(x,C,R));const A=Math.abs(L)<=n,P=Math.abs(a-R)<=s;o.done=A&&P}return o.value=o.done?a:R,o},toString:()=>{const C=Math.min(bq(j),Zk),R=vq(L=>j.next(C*L).value,C,30);return C+"ms "+R}};return j}function hE({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:u,restDelta:c=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=A=>o!==void 0&&A<o||u!==void 0&&A>u,g=A=>o===void 0?u:u===void 0||Math.abs(o-A)<Math.abs(u-A)?o:u;let y=r*t;const m=h+y,v=a===void 0?m:a(m);v!==m&&(y=v-h);const b=A=>-y*Math.exp(-A/n),x=A=>v+b(A),j=A=>{const P=b(A),$=x(A);f.done=Math.abs(P)<=c,f.value=f.done?v:$};let C,R;const L=A=>{p(f.value)&&(C=A,R=eH({keyframes:[f.value,g(f.value)],velocity:Jq(x,A,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return L(0),{calculatedDuration:null,next:A=>{let P=!1;return!R&&C===void 0&&(P=!0,j(A),L(A)),C!==void 0&&A>=C?R.next(A-C):(!P&&j(A),f)}}}const x0e=a0(.42,0,1,1),w0e=a0(0,0,.58,1),tH=a0(.42,0,.58,1),_0e=e=>Array.isArray(e)&&typeof e[0]!="number",k0e={linear:Ji,easeIn:x0e,easeInOut:tH,easeOut:w0e,circIn:s5,circInOut:Rq,circOut:Mq,backIn:n5,backInOut:Iq,backOut:Pq,anticipate:Dq},pE=e=>{if(Y6(e)){YW(e.length===4);const[t,r,n,s]=e;return a0(t,r,n,s)}else if(typeof e=="string")return k0e[e];return e};function S0e(e,t,r){const n=[],s=r||Yq,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||Ji:t;o=o0(u,o)}n.push(o)}return n}function j0e(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(YW(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=S0e(t,n,s),u=o.length,c=d=>{if(a&&d<e[0])return t[0];let h=0;if(u>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=xh(e[h],e[h+1],d);return o[h](f)};return r?d=>c(Ll(e[0],e[i-1],d)):c}function N0e(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=xh(0,t,n);e.push(Cn(r,1,s))}}function C0e(e){const t=[0];return N0e(t,e.length-1),t}function T0e(e,t){return e.map(r=>r*t)}function E0e(e,t){return e.map(()=>t||tH).splice(0,e.length-1)}function lv({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=_0e(n)?n.map(pE):pE(n),i={done:!1,value:t[0]},a=T0e(r&&r.length===t.length?r:C0e(t),e),o=j0e(a,t,{ease:Array.isArray(s)?s:E0e(t,s)});return{calculatedDuration:e,next:u=>(i.value=o(u),i.done=u>=e,i)}}const A0e=e=>{const t=({timestamp:r})=>e(r);return{start:()=>dn.update(t,!0),stop:()=>tu(t),now:()=>Is.isProcessing?Is.timestamp:Bo.now()}},P0e={decay:hE,inertia:hE,tween:lv,keyframes:lv,spring:eH},I0e=e=>e/100;class u5 extends Xq{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,a=s?.KeyframeResolver||l5,o=(u,c)=>this.onKeyframesResolved(u,c);this.resolver=new a(i,o,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=Q6(r)?r:P0e[r]||lv;let u,c;o!==lv&&typeof t[0]!="number"&&(u=o0(I0e,Yq(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});i==="mirror"&&(c=o({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=bq(d));const{calculatedDuration:h}=d,f=h+s,p=f*(n+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:u,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:u,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:g,repeatDelay:y,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let x=this.currentTime,j=i;if(p){const A=Math.min(this.currentTime,d)/h;let P=Math.floor(A),$=A%1;!$&&A>=1&&($=1),$===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(g==="reverse"?($=1-$,y&&($-=y/h)):g==="mirror"&&(j=a)),x=Ll(0,1,$)*h}const C=b?{done:!1,value:u[0]}:j.next(x);o&&(C.value=o(C.value));let{done:R}=C;!b&&c!==null&&(R=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return L&&s!==void 0&&(C.value=p1(u,this.options,s)),m&&m(C.value),L&&this.finish(),C}get duration(){const{resolved:t}=this;return t?kl(t.calculatedDuration):0}get time(){return kl(this.currentTime)}set time(t){t=_l(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=kl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=A0e,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const D0e=new Set(["opacity","clipPath","filter","transform"]);function M0e(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:u}={}){const c={[t]:r};u&&(c.offset=u);const d=wq(o,s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const R0e=$6(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cv=10,$0e=2e4;function O0e(e){return Q6(e.type)||e.type==="spring"||!xq(e.ease)}function F0e(e,t){const r=new u5({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<$0e;)n=r.sample(i),s.push(n.value),i+=cv;return{times:void 0,keyframes:s,duration:i-cv,ease:"linear"}}const rH={anticipate:Dq,backInOut:Iq,circInOut:Rq};function L0e(e){return e in rH}class mE extends Xq{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new Gq(i,(a,o)=>this.onKeyframesResolved(a,o),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:i,type:a,motionValue:o,name:u,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&av()&&L0e(i)&&(i=rH[i]),O0e(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:g,...y}=this.options,m=F0e(t,y);t=m.keyframes,t.length===1&&(t[1]=t[0]),n=m.duration,s=m.times,i=m.ease,a="keyframes"}const d=M0e(o.owner.current,u,t,{...this.options,duration:n,times:s,ease:i});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(JT(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(p1(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return kl(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return kl(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=_l(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Ji;const{animation:n}=r;JT(n,t)}return Ji}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:a,times:o}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...p}=this.options,g=new u5({...p,keyframes:n,duration:s,type:i,ease:a,times:o,isGenerator:!0}),y=_l(this.time);c.setWithVelocity(g.sample(y-cv).value,g.sample(y).value,cv)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=r.owner.getProps();return R0e()&&n&&D0e.has(n)&&!u&&!c&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const z0e={type:"spring",stiffness:500,damping:25,restSpeed:10},B0e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),U0e={type:"keyframes",duration:.8},V0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W0e=(e,{keyframes:t})=>t.length>2?U0e:Ld.has(e)?e.startsWith("scale")?B0e(t[1]):z0e:V0e;function q0e({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:u,elapsed:c,...d}){return!!Object.keys(d).length}const d5=(e,t,r,n={},s,i)=>a=>{const o=X6(n,e)||{},u=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-_l(u);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};q0e(o)||(d={...d,...W0e(e,d)}),d.duration&&(d.duration=_l(d.duration)),d.repeatDelay&&(d.repeatDelay=_l(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=p1(d.keyframes,o);if(f!==void 0)return dn.update(()=>{d.onUpdate(f),d.onComplete()}),new uge([])}return!i&&mE.supports(d)?new mE(d):new u5(d)};function H0e({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function nH(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...u}=t;n&&(a=n);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in u){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),p=u[h];if(p===void 0||d&&H0e(d,h))continue;const g={delay:r,...X6(a||{},h)};let y=!1;if(window.MotionHandoffAnimation){const v=Cq(e);if(v){const b=window.MotionHandoffAnimation(v,h,dn);b!==null&&(g.startTime=b,y=!0)}}Xk(e,h),f.start(d5(h,f,p,e.shouldReduceMotion&&jq.has(h)?{type:!1}:g,e,y));const m=f.animation;m&&c.push(m)}return o&&Promise.all(c).then(()=>{dn.update(()=>{o&&Sge(e,o)})}),c}function n4(e,t,r={}){var n;const s=h1(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const a=s?()=>Promise.all(nH(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return K0e(e,t,d+c,h,f,r)}:()=>Promise.resolve(),{when:u}=i;if(u){const[c,d]=u==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function K0e(e,t,r=0,n=0,s=1,i){const a=[],o=(e.variantChildren.size-1)*n,u=s===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(Z0e).forEach((c,d)=>{c.notify("AnimationStart",t),a.push(n4(c,t,{...i,delay:r+u(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(a)}function Z0e(e,t){return e.sortNodePosition(t)}function G0e(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>n4(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=n4(e,t,r);else{const s=typeof t=="function"?h1(e,t,r.custom):t;n=Promise.all(nH(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const X0e=F6.length;function sH(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?sH(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<X0e;r++){const n=F6[r],s=e.props[n];(Hm(s)||s===!1)&&(t[n]=s)}return t}const Q0e=[...O6].reverse(),Y0e=O6.length;function J0e(e){return t=>Promise.all(t.map(({animation:r,options:n})=>G0e(e,r,n)))}function eye(e){let t=J0e(e),r=gE(),n=!0;const s=u=>(c,d)=>{var h;const f=h1(e,d,u==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...y}=f;c={...c,...y,...g}}return c};function i(u){t=u(e)}function a(u){const{props:c}=e,d=sH(e.parent)||{},h=[],f=new Set;let p={},g=1/0;for(let m=0;m<Y0e;m++){const v=Q0e[m],b=r[v],x=c[v]!==void 0?c[v]:d[v],j=Hm(x),C=v===u?b.isActive:null;C===!1&&(g=m);let R=x===d[v]&&x!==c[v]&&j;if(R&&n&&e.manuallyAnimateOnMount&&(R=!1),b.protectedKeys={...p},!b.isActive&&C===null||!x&&!b.prevProp||d1(x)||typeof x=="boolean")continue;const L=tye(b.prevProp,x);let A=L||v===u&&b.isActive&&!R&&j||m>g&&j,P=!1;const $=Array.isArray(x)?x:[x];let V=$.reduce(s(v),{});C===!1&&(V={});const{prevResolvedValues:U={}}=b,E={...U,...V},I=_=>{A=!0,f.has(_)&&(P=!0,f.delete(_)),b.needsAnimating[_]=!0;const k=e.getValue(_);k&&(k.liveStyle=!1)};for(const _ in E){const k=V[_],S=U[_];if(p.hasOwnProperty(_))continue;let D=!1;Kk(k)&&Kk(S)?D=!yq(k,S):D=k!==S,D?k!=null?I(_):f.add(_):k!==void 0&&f.has(_)?I(_):b.protectedKeys[_]=!0}b.prevProp=x,b.prevResolvedValues=V,b.isActive&&(p={...p,...V}),n&&e.blockInitialAnimation&&(A=!1),A&&(!(R&&L)||P)&&h.push(...$.map(_=>({animation:_,options:{type:v}})))}if(f.size){const m={};f.forEach(v=>{const b=e.getBaseTarget(v),x=e.getValue(v);x&&(x.liveStyle=!0),m[v]=b??null}),h.push({animation:m})}let y=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(h):Promise.resolve()}function o(u,c){var d;if(r[u].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(u,c)}),r[u].isActive=c;const h=a(u);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=gE(),n=!0}}}function tye(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yq(t,e):!1}function ku(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gE(){return{animate:ku(!0),whileInView:ku(),whileHover:ku(),whileTap:ku(),whileDrag:ku(),whileFocus:ku(),exit:ku()}}class mu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class rye extends mu{constructor(t){super(t),t.animationState||(t.animationState=eye(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();d1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let nye=0;class sye extends mu{constructor(){super(...arguments),this.id=nye++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const iye={animation:{Feature:rye},exit:{Feature:sye}};function Xm(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function l0(e){return{point:{x:e.pageX,y:e.pageY}}}const aye=e=>t=>J6(t)&&e(t,l0(t));function sm(e,t,r,n){return Xm(e,t,aye(r),n)}const yE=(e,t)=>Math.abs(e-t);function oye(e,t){const r=yE(e.x,t.x),n=yE(e.y,t.y);return Math.sqrt(r**2+n**2)}class iH{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Gw(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=oye(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=h,{timestamp:y}=Is;this.history.push({...g,timestamp:y});const{onStart:m,onMove:v}=this.handlers;f||(m&&m(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Zw(f,this.transformPagePoint),dn.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Gw(h.type==="pointercancel"?this.lastMoveEventInfo:Zw(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,m),g&&g(h,m)},!J6(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=l0(t),o=Zw(a,this.transformPagePoint),{point:u}=o,{timestamp:c}=Is;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=r;d&&d(t,Gw(o,this.history)),this.removeListeners=o0(sm(this.contextWindow,"pointermove",this.handlePointerMove),sm(this.contextWindow,"pointerup",this.handlePointerUp),sm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),tu(this.updatePoint)}}function Zw(e,t){return t?{point:t(e.point)}:e}function bE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gw({point:e},t){return{point:e,delta:bE(e,aH(t)),offset:bE(e,lye(t)),velocity:cye(t,.1)}}function lye(e){return e[0]}function aH(e){return e[e.length-1]}function cye(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=aH(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>_l(t)));)r--;if(!n)return{x:0,y:0};const i=kl(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const oH=1e-4,uye=1-oH,dye=1+oH,lH=.01,fye=0-lH,hye=0+lH;function ta(e){return e.max-e.min}function pye(e,t,r){return Math.abs(e-t)<=r}function vE(e,t,r,n=.5){e.origin=n,e.originPoint=Cn(t.min,t.max,e.origin),e.scale=ta(r)/ta(t),e.translate=Cn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=uye&&e.scale<=dye||isNaN(e.scale))&&(e.scale=1),(e.translate>=fye&&e.translate<=hye||isNaN(e.translate))&&(e.translate=0)}function im(e,t,r,n){vE(e.x,t.x,r.x,n?n.originX:void 0),vE(e.y,t.y,r.y,n?n.originY:void 0)}function xE(e,t,r){e.min=r.min+t.min,e.max=e.min+ta(t)}function mye(e,t,r){xE(e.x,t.x,r.x),xE(e.y,t.y,r.y)}function wE(e,t,r){e.min=t.min-r.min,e.max=e.min+ta(t)}function am(e,t,r){wE(e.x,t.x,r.x),wE(e.y,t.y,r.y)}function gye(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Cn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Cn(r,e,n.max):Math.min(e,r)),e}function _E(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function yye(e,{top:t,left:r,bottom:n,right:s}){return{x:_E(e.x,r,s),y:_E(e.y,t,n)}}function kE(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function bye(e,t){return{x:kE(e.x,t.x),y:kE(e.y,t.y)}}function vye(e,t){let r=.5;const n=ta(e),s=ta(t);return s>n?r=xh(t.min,t.max-n,e.min):n>s&&(r=xh(e.min,e.max-s,t.min)),Ll(0,1,r)}function xye(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const s4=.35;function wye(e=s4){return e===!1?e=0:e===!0&&(e=s4),{x:SE(e,"left","right"),y:SE(e,"top","bottom")}}function SE(e,t,r){return{min:jE(e,t),max:jE(e,r)}}function jE(e,t){return typeof e=="number"?e:e[t]||0}const NE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sf=()=>({x:NE(),y:NE()}),CE=()=>({min:0,max:0}),On=()=>({x:CE(),y:CE()});function da(e){return[e("x"),e("y")]}function cH({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function _ye({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kye(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Xw(e){return e===void 0||e===1}function i4({scale:e,scaleX:t,scaleY:r}){return!Xw(e)||!Xw(t)||!Xw(r)}function Nu(e){return i4(e)||uH(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function uH(e){return TE(e.x)||TE(e.y)}function TE(e){return e&&e!=="0%"}function uv(e,t,r){const n=e-r,s=t*n;return r+s}function EE(e,t,r,n,s){return s!==void 0&&(e=uv(e,s,n)),uv(e,r,n)+t}function a4(e,t=0,r=1,n,s){e.min=EE(e.min,t,r,n,s),e.max=EE(e.max,t,r,n,s)}function dH(e,{x:t,y:r}){a4(e.x,t.translate,t.scale,t.originPoint),a4(e.y,r.translate,r.scale,r.originPoint)}const AE=.999999999999,PE=1.0000000000001;function Sye(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Nf(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,dH(e,a)),n&&Nu(i.latestValues)&&Nf(e,i.latestValues))}t.x<PE&&t.x>AE&&(t.x=1),t.y<PE&&t.y>AE&&(t.y=1)}function jf(e,t){e.min=e.min+t,e.max=e.max+t}function IE(e,t,r,n,s=.5){const i=Cn(e.min,e.max,s);a4(e,t,r,i,n)}function Nf(e,t){IE(e.x,t.x,t.scaleX,t.scale,t.originX),IE(e.y,t.y,t.scaleY,t.scale,t.originY)}function fH(e,t){return cH(kye(e.getBoundingClientRect(),t))}function jye(e,t,r){const n=fH(e,r),{scroll:s}=t;return s&&(jf(n.x,s.offset.x),jf(n.y,s.offset.y)),n}const hH=({current:e})=>e?e.ownerDocument.defaultView:null,Nye=new WeakMap;class Cye{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=On(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(l0(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vge(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),da(m=>{let v=this.getAxisMotionValue(m).get()||0;if(zo.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[m];x&&(v=ta(x)*(parseFloat(v)/100))}}this.originPoint[m]=v}),g&&dn.postRender(()=>g(d,h)),Xk(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:m}=h;if(p&&this.currentDirection===null){this.currentDirection=Tye(m),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,m),this.updateAxis("y",h.point,m),this.visualElement.render(),y&&y(d,h)},o=(d,h)=>this.stop(d,h),u=()=>da(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new iH(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:hH(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&dn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!uy(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=gye(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&_f(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=yye(s.layoutBox,r):this.constraints=!1,this.elastic=wye(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&da(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=xye(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!_f(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=jye(n,s.root,this.visualElement.getTransformPagePoint());let a=bye(s.layout.layoutBox,i);if(r){const o=r(_ye(a));this.hasMutatedConstraints=!!o,o&&(a=cH(o))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},c=da(d=>{if(!uy(d,r,this.currentDirection))return;let h=u&&u[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Xk(this.visualElement,t),n.start(d5(t,n,0,r,this.visualElement,!1))}stopAnimation(){da(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){da(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){da(r=>{const{drag:n}=this.getProps();if(!uy(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r];i.set(t[r]-Cn(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!_f(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};da(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const u=o.get();s[a]=vye({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),da(a=>{if(!uy(a,t,null))return;const o=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];o.set(Cn(u,c,s[a]))})}addListeners(){if(!this.visualElement.current)return;Nye.set(this.visualElement,this);const t=this.visualElement.current,r=sm(t,"pointerdown",u=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();_f(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),dn.read(n);const a=Xm(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(da(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=u[d].translate,h.set(h.get()+u[d].translate))}),this.visualElement.render())}));return()=>{a(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=s4,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function uy(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Tye(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Eye extends mu{constructor(t){super(t),this.removeGroupControls=Ji,this.removeListeners=Ji,this.controls=new Cye(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ji}unmount(){this.removeGroupControls(),this.removeListeners()}}const DE=e=>(t,r)=>{e&&dn.postRender(()=>e(t,r))};class Aye extends mu{constructor(){super(...arguments),this.removePointerDownListener=Ji}onPointerDown(t){this.session=new iH(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hH(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:DE(t),onStart:DE(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&dn.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=sm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ME(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ft.test(e))e=parseFloat(e);else return e;const r=ME(e,t.target.x),n=ME(e,t.target.y);return`${r}% ${n}%`}},Pye={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=ru.parse(e);if(s.length>5)return n;const i=ru.createTransformer(e),a=typeof s[0]!="number"?1:0,o=r.x.scale*t.x,u=r.y.scale*t.y;s[0+a]/=o,s[1+a]/=u;const c=Cn(o,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=c),typeof s[3+a]=="number"&&(s[3+a]/=c),i(s)}};class Iye extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;Yme(Dye),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Gy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,a=n.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||dn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),z6.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function pH(e){const[t,r]=XW(),n=T.useContext(I6);return l.jsx(Iye,{...e,layoutGroup:n,switchLayoutGroup:T.useContext(sq),isPresent:t,safeToRemove:r})}const Dye={borderRadius:{...wp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wp,borderTopRightRadius:wp,borderBottomLeftRadius:wp,borderBottomRightRadius:wp,boxShadow:Pye};function Mye(e,t,r){const n=ei(e)?e:Zm(e);return n.start(d5("",n,t,r)),n.animation}function Rye(e){return e instanceof SVGElement&&e.tagName!=="svg"}const $ye=(e,t)=>e.depth-t.depth;class Oye{constructor(){this.children=[],this.isDirty=!1}add(t){e5(this.children,t),this.isDirty=!0}remove(t){t5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($ye),this.isDirty=!1,this.children.forEach(t)}}function Fye(e,t){const r=Bo.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(tu(n),e(i-t))};return dn.read(n,!0),()=>tu(n)}const mH=["TopLeft","TopRight","BottomLeft","BottomRight"],Lye=mH.length,RE=e=>typeof e=="string"?parseFloat(e):e,$E=e=>typeof e=="number"||Ft.test(e);function zye(e,t,r,n,s,i){s?(e.opacity=Cn(0,r.opacity!==void 0?r.opacity:1,Bye(n)),e.opacityExit=Cn(t.opacity!==void 0?t.opacity:1,0,Uye(n))):i&&(e.opacity=Cn(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<Lye;a++){const o=`border${mH[a]}Radius`;let u=OE(t,o),c=OE(r,o);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||$E(u)===$E(c)?(e[o]=Math.max(Cn(RE(u),RE(c),n),0),(zo.test(c)||zo.test(u))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Cn(t.rotate||0,r.rotate||0,n))}function OE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Bye=gH(0,.5,Mq),Uye=gH(.5,.95,Ji);function gH(e,t,r){return n=>n<e?0:n>t?1:r(xh(e,t,n))}function FE(e,t){e.min=t.min,e.max=t.max}function ua(e,t){FE(e.x,t.x),FE(e.y,t.y)}function LE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function zE(e,t,r,n,s){return e-=t,e=uv(e,1/r,n),s!==void 0&&(e=uv(e,1/s,n)),e}function Vye(e,t=0,r=1,n=.5,s,i=e,a=e){if(zo.test(t)&&(t=parseFloat(t),t=Cn(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Cn(i.min,i.max,n);e===i&&(o-=t),e.min=zE(e.min,t,r,o,s),e.max=zE(e.max,t,r,o,s)}function BE(e,t,[r,n,s],i,a){Vye(e,t[r],t[n],t[s],t.scale,i,a)}const Wye=["x","scaleX","originX"],qye=["y","scaleY","originY"];function UE(e,t,r,n){BE(e.x,t,Wye,r?r.x:void 0,n?n.x:void 0),BE(e.y,t,qye,r?r.y:void 0,n?n.y:void 0)}function VE(e){return e.translate===0&&e.scale===1}function yH(e){return VE(e.x)&&VE(e.y)}function WE(e,t){return e.min===t.min&&e.max===t.max}function Hye(e,t){return WE(e.x,t.x)&&WE(e.y,t.y)}function qE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bH(e,t){return qE(e.x,t.x)&&qE(e.y,t.y)}function HE(e){return ta(e.x)/ta(e.y)}function KE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Kye{constructor(){this.members=[]}add(t){e5(this.members,t),t.scheduleRender()}remove(t){if(t5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zye(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=r?.z||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,u=e.y.scale*t.y;return(o!==1||u!==1)&&(n+=`scale(${o}, ${u})`),n||"none"}const Cu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},$p=typeof window<"u"&&window.MotionDebug!==void 0,Qw=["","X","Y","Z"],Gye={visibility:"hidden"},ZE=1e3;let Xye=0;function Yw(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function vH(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Cq(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",dn,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&vH(n)}function xH({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=t?.()){this.id=Xye++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$p&&(Cu.totalNodes=Cu.resolvedTargetDeltas=Cu.recalculatedProjection=0),this.nodes.forEach(Jye),this.nodes.forEach(sbe),this.nodes.forEach(ibe),this.nodes.forEach(ebe),$p&&window.MotionDebug.record(Cu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Oye)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new r5),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const u=this.eventHandlers.get(a);u&&u.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Rye(a),this.instance=a;const{layoutId:u,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||u)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Fye(f,250),Gy.hasAnimatedSinceResize&&(Gy.hasAnimatedSinceResize=!1,this.nodes.forEach(XE))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||ube,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=d.getProps(),b=!this.targetLayout||!bH(this.targetLayout,g)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const j={...X6(y,"layout"),onPlay:m,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||XE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,tu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(abe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GE);return}this.isUpdating||this.nodes.forEach(rbe),this.isUpdating=!1,this.nodes.forEach(nbe),this.nodes.forEach(Qye),this.nodes.forEach(Yye),this.clearAllSnapshots();const o=Bo.now();Is.delta=Ll(0,1e3/60,o-Is.timestamp),Is.timestamp=o,Is.isProcessing=!0,Uw.update.process(Is),Uw.preRender.process(Is),Uw.render.process(Is),Is.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,z6.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tbe),this.sharedNodes.forEach(obe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=On(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!yH(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(o||Nu(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return a&&(u=this.removeTransform(u)),dbe(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return On();const u=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(fbe))){const{scroll:d}=this.root;d&&(jf(u.x,d.offset.x),jf(u.y,d.offset.y))}return u}removeElementScroll(a){var o;const u=On();if(ua(u,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return u;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ua(u,a),jf(u.x,h.offset.x),jf(u.y,h.offset.y))}return u}applyTransform(a,o=!1){const u=On();ua(u,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Nf(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Nu(d.latestValues)&&Nf(u,d.latestValues)}return Nu(this.latestValues)&&Nf(u,this.latestValues),u}removeTransform(a){const o=On();ua(o,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Nu(c.latestValues))continue;i4(c.latestValues)&&c.updateSnapshot();const d=On(),h=c.measurePageBox();ua(d,h),UE(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Nu(this.latestValues)&&UE(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Is.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Is.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=On(),this.relativeTargetOrigin=On(),am(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ua(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=On(),this.targetWithTransforms=On()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mye(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ua(this.target,this.layout.layoutBox),dH(this.target,this.targetDelta)):ua(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=On(),this.relativeTargetOrigin=On(),am(this.relativeTargetOrigin,this.target,p.target),ua(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$p&&Cu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||i4(this.parent.latestValues)||uH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Is.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ua(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Sye(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=On());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LE(this.prevProjectionDelta.x,this.projectionDelta.x),LE(this.prevProjectionDelta.y,this.projectionDelta.y)),im(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!KE(this.projectionDelta.x,this.prevProjectionDelta.x)||!KE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),$p&&Cu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sf(),this.projectionDelta=Sf(),this.projectionDeltaWithTransform=Sf()}setAnimationOrigin(a,o=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},h=Sf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=On(),p=u?u.source:void 0,g=this.layout?this.layout.source:void 0,y=p!==g,m=this.getStack(),v=!m||m.members.length<=1,b=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(cbe));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const C=j/1e3;QE(h.x,a.x,C),QE(h.y,a.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(am(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lbe(this.relativeTarget,this.relativeTargetOrigin,f,C),x&&Hye(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=On()),ua(x,this.relativeTarget)),y&&(this.animationValues=d,zye(d,c,this.latestValues,C,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(tu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dn.update(()=>{Gy.hasAnimatedSinceResize=!0,this.currentAnimation=Mye(0,ZE,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:u,layout:c,latestValues:d}=a;if(!(!o||!u||!c)){if(this!==a&&this.layout&&c&&wH(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||On();const h=ta(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+h;const f=ta(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+f}ua(o,u),Nf(o,d),im(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Kye),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const c={};u.z&&Yw("z",a,c,this.animationValues);for(let d=0;d<Qw.length;d++)Yw(`rotate${Qw[d]}`,a,c,this.animationValues),Yw(`skew${Qw[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}getProjectionStyles(a){var o,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Gye;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ky(a?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Ky(a?.pointerEvents)||""),this.hasProjected&&!Nu(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=Zye(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(u=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in iv){if(f[y]===void 0)continue;const{correct:m,applyTo:v}=iv[y],b=c.transform==="none"?f[y]:m(f[y],h);if(v){const x=v.length;for(let j=0;j<x;j++)c[v[j]]=b}else c[y]=b}return this.options.layoutId&&(c.pointerEvents=h===this?Ky(a?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(GE),this.root.sharedNodes.clear()}}}function Qye(e){e.updateLayout()}function Yye(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=r.source!==e.layout.source;i==="size"?da(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],p=ta(f);f.min=n[h].min,f.max=f.min+p}):wH(i,r.layoutBox,n)&&da(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],p=ta(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const o=Sf();im(o,n,r.layoutBox);const u=Sf();a?im(u,e.applyTransform(s,!0),r.measuredBox):im(u,n,r.layoutBox);const c=!yH(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=On();am(g,r.layoutBox,f.layoutBox);const y=On();am(y,n,p.layoutBox),bH(g,y)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:u,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Jye(e){$p&&Cu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ebe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function tbe(e){e.clearSnapshot()}function GE(e){e.clearMeasurements()}function rbe(e){e.isLayoutDirty=!1}function nbe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function XE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sbe(e){e.resolveTargetDelta()}function ibe(e){e.calcProjection()}function abe(e){e.resetSkewAndRotation()}function obe(e){e.removeLeadSnapshot()}function QE(e,t,r){e.translate=Cn(t.translate,0,r),e.scale=Cn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function YE(e,t,r,n){e.min=Cn(t.min,r.min,n),e.max=Cn(t.max,r.max,n)}function lbe(e,t,r,n){YE(e.x,t.x,r.x,n),YE(e.y,t.y,r.y,n)}function cbe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ube={duration:.45,ease:[.4,0,.1,1]},JE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),eA=JE("applewebkit/")&&!JE("chrome/")?Math.round:Ji;function tA(e){e.min=eA(e.min),e.max=eA(e.max)}function dbe(e){tA(e.x),tA(e.y)}function wH(e,t,r){return e==="position"||e==="preserve-aspect"&&!pye(HE(t),HE(r),.2)}function fbe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const hbe=xH({attachResizeListener:(e,t)=>Xm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jw={current:void 0},_H=xH({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Jw.current){const e=new hbe({});e.mount(window),e.setOptions({layoutScroll:!0}),Jw.current=e}return Jw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),pbe={pan:{Feature:Aye},drag:{Feature:Eye,ProjectionNode:_H,MeasureLayout:pH}};function rA(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&dn.postRender(()=>i(t,l0(t)))}class mbe extends mu{mount(){const{current:t}=this.node;t&&(this.unmount=pge(t,r=>(rA(this.node,r,"Start"),n=>rA(this.node,n,"End"))))}unmount(){}}class gbe extends mu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=o0(Xm(this.node.current,"focus",()=>this.onFocus()),Xm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nA(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&dn.postRender(()=>i(t,l0(t)))}class ybe extends mu{mount(){const{current:t}=this.node;t&&(this.unmount=bge(t,r=>(nA(this.node,r,"Start"),(n,{success:s})=>nA(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const o4=new WeakMap,e2=new WeakMap,bbe=e=>{const t=o4.get(e.target);t&&t(e)},vbe=e=>{e.forEach(bbe)};function xbe({root:e,...t}){const r=e||document;e2.has(r)||e2.set(r,{});const n=e2.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(vbe,{root:e,...t})),n[s]}function wbe(e,t,r){const n=xbe(t);return o4.set(e,r),n.observe(e),()=>{o4.delete(e),n.unobserve(e)}}const _be={some:0,all:1};class kbe extends mu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:_be[s]},o=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(u)};return wbe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Sbe(t,r))&&this.startObserver()}unmount(){}}function Sbe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const jbe={inView:{Feature:kbe},tap:{Feature:ybe},focus:{Feature:gbe},hover:{Feature:mbe}},Nbe={layout:{ProjectionNode:_H,MeasureLayout:pH}},l4={current:null},kH={current:!1};function Cbe(){if(kH.current=!0,!!R6)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>l4.current=e.matches;e.addListener(t),t()}else l4.current=!1}const Tbe=[...Zq,Gs,ru],Ebe=e=>Tbe.find(Kq(e)),sA=new WeakMap;function Abe(e,t,r){for(const n in t){const s=t[n],i=r[n];if(ei(s))e.addValue(n,s);else if(ei(i))e.addValue(n,Zm(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,Zm(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const iA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Pbe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=l5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Bo.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,dn.render(this.render,!1,!0))};const{latestValues:u,renderState:c,onUpdate:d}=a;this.onUpdate=d,this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=f1(r),this.isVariantNode=rq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in f){const g=f[p];u[p]!==void 0&&ei(g)&&g.set(u[p],!1)}}mount(t){this.current=t,sA.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),kH.current||Cbe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:l4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sA.delete(this.current),this.projection&&this.projection.unmount(),tu(this.notifyUpdate),tu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Ld.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&dn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wh){const r=wh[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):On()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<iA.length;n++){const s=iA[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Abe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Zm(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(qq(s)||$q(s))?s=parseFloat(s):!Ebe(s)&&ru.test(r)&&(s=Uq(t,r)),this.setBaseTarget(t,ei(s)?s.get():s)),ei(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=U6(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ei(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new r5),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class SH extends Pbe{constructor(){super(...arguments),this.KeyframeResolver=Gq}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ei(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Ibe(e){return window.getComputedStyle(e)}class Dbe extends SH{constructor(){super(...arguments),this.type="html",this.renderInstance=dq}readValueFromInstance(t,r){if(Ld.has(r)){const n=o5(r);return n&&n.default||0}else{const n=Ibe(t),s=(lq(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return fH(t,r)}build(t,r,n){q6(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return G6(t,r,n)}}class Mbe extends SH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=On}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ld.has(r)){const n=o5(r);return n&&n.default||0}return r=fq.has(r)?r:L6(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return mq(t,r,n)}build(t,r,n){H6(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){hq(t,r,n,s)}mount(t){this.isSVGTag=Z6(t.tagName),super.mount(t)}}const Rbe=(e,t)=>B6(e)?new Mbe(t):new Dbe(t,{allowProjection:e!==T.Fragment}),$be=oge({...iye,...jbe,...pbe,...Nbe},Rbe),Kr=_me($be),Obe=(e,t="")=>{const[r,n]=T.useState(()=>typeof window<"u"&&localStorage.getItem(`form-memory-${e}`)||t),s=T.useCallback(a=>{n(a),typeof window<"u"&&(a?localStorage.setItem(`form-memory-${e}`,a):localStorage.removeItem(`form-memory-${e}`))},[e]),i=T.useCallback(()=>{n(""),typeof window<"u"&&localStorage.removeItem(`form-memory-${e}`)},[e]);return{value:r,updateValue:s,clearMemory:i}},Fbe=(e,t,r,n)=>{const[s,i]=T.useState({isValid:!0});return T.useEffect(()=>{if(!e){i({isValid:!0});return}if(r){i(o=>({...o,isValidating:!0}));const a=setTimeout(()=>{const o=r(e);i({...o,isValidating:!1})},300);return()=>clearTimeout(a)}if(t&&(t==="email"||t==="password")){if(t==="email"&&e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){i({isValid:!1,message:"    ",isValidating:!1});return}i(o=>({...o,isValidating:!0}));const a=setTimeout(async()=>{try{const u=await(await fetch("/api/auth/validate-field",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field:t,value:e,context:n||"register"})})).json();u.success?i({isValid:u.isValid,message:u.message,strength:u.strength,suggestions:u.suggestions,isValidating:!1}):i({isValid:!1,message:"   ",isValidating:!1})}catch(o){console.error("  :",o),i({isValid:!1,message:"   ",isValidating:!1})}},500);return()=>clearTimeout(a)}},[e,r,t,n]),s},tt=T.forwardRef(({className:e,type:t="text",enableMemory:r=!1,memoryKey:n,validator:s,showValidation:i=!0,leftIcon:a,rightIcon:o,loading:u=!1,strengthIndicator:c=!1,fieldType:d,validationContext:h,hidePasswordToggle:f=!1,autoWidth:p=!1,maxWidth:g=420,onChange:y,value:m,...v},b)=>{const[x,j]=T.useState(!1),[C,R]=T.useState(!1),L=T.useRef(null),[A,P]=T.useState("100%"),{value:$,updateValue:V}=Obe(n||`input-${v.name||"default"}`,typeof m=="string"?m:""),U=m!==void 0?String(m):$,E=Fbe(U,d,s,h);T.useEffect(()=>{if(p&&L.current){L.current.textContent=U||v.placeholder||"";const O=L.current.offsetWidth+32;P(Math.max(60,Math.min(O,g)))}else p||P("100%")},[U,p,v.placeholder,g]);const I=T.useCallback(O=>{const B=O.target.value;r&&m===void 0&&V(B),y?.(O)},[r,m,V,y]),N=T.useCallback(()=>{j(O=>!O)},[]),w=t==="password"?x?"text":"password":t,_=a||u,k=o||t==="password"||i&&E.message,S=()=>E.isValidating?"border-blue-300 ring-blue-100":E.isValid?E.isValid&&U?"border-green-300 ring-green-100 focus:border-green-500 focus:ring-green-200":"border-input focus:border-blue-500 focus:ring-blue-200":"border-red-300 ring-red-100 focus:border-red-500 focus:ring-red-200",D=T.useMemo(()=>{const O={position:"relative"};return p?(O.width=typeof A=="number"?`${A}px`:A,O.minWidth="60px"):O.width="100%",O},[p,A]);return l.jsxs("div",{className:we("relative",p?"inline-block align-bottom":"w-full"),children:[p&&l.jsx("span",{ref:L,className:"absolute invisible whitespace-pre font-inherit px-4 text-sm pointer-events-none",style:{font:"inherit",letterSpacing:"inherit"},"aria-hidden":"true"}),l.jsxs(Kr.div,{animate:{scale:C?1.01:1},transition:{type:"spring",stiffness:300,damping:25},style:D,children:[l.jsx("input",{type:w,className:we("flex h-11 w-full rounded-xl border-2 bg-transparent px-4 py-2.5 text-sm ring-offset-background transition-all duration-300","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground/70","focus-visible:outline-none focus-visible:ring-0","disabled:cursor-not-allowed disabled:opacity-50","selection:bg-blue-200 dark:selection:bg-blue-900",_&&"pr-11",k&&"pl-11",S(),e),ref:b,value:U,onChange:I,onFocus:()=>R(!0),onBlur:()=>R(!1),...v}),_&&l.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:u?l.jsx(Dr,{className:"h-4 w-4 animate-spin"}):a}),k&&l.jsxs("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[t==="password"&&!f&&l.jsx(Kr.div,{whileTap:{scale:.95},style:{background:"none",border:"none",padding:"4px",borderRadius:"6px",cursor:"pointer",color:"var(--muted-foreground)",transition:"colors 0.2s"},onTap:N,children:x?l.jsx(ch,{className:"h-4 w-4"}):l.jsx(Zc,{className:"h-4 w-4"})}),i&&U&&!E.isValidating&&l.jsx(Kr.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:30},children:E.isValid?l.jsx(co,{className:"h-4 w-4 text-green-500"}):l.jsx(Ss,{className:"h-4 w-4 text-red-500"})}),E.isValidating&&l.jsx(Dr,{className:"h-4 w-4 animate-spin text-blue-500"}),o]})]}),c&&t==="password"&&U&&typeof E.strength=="number"&&l.jsxs(Kr.div,{style:{marginTop:"8px"},initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[l.jsx("div",{className:"flex space-x-1 rtl:space-x-reverse",style:{marginBottom:"4px"},children:[1,2,3,4].map(O=>l.jsx("div",{style:{height:"4px",flex:1,borderRadius:"2px",transition:"all 0.3s",backgroundColor:E.strength>=O?O<=2?"#ef4444":O===3?"#eab308":"#22c55e":"#e5e7eb"}},O))}),l.jsxs("p",{style:{fontSize:"12px",color:"var(--muted-foreground)"},children:["  : ",E.strength<=2?"":E.strength===3?"":""]})]}),l.jsx(qm,{children:i&&E.message&&l.jsxs(Kr.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.2},style:{marginTop:"8px",fontSize:"12px",padding:"8px 12px",borderRadius:"8px",border:"1px solid",display:"flex",alignItems:"center",gap:"8px",color:E.isValid?"#15803d":"#dc2626",backgroundColor:E.isValid?"#f0fdf4":"#fef2f2",borderColor:E.isValid?"#bbf7d0":"#fecaca"},children:[E.isValid?l.jsx(co,{className:"h-3 w-3 text-green-500"}):l.jsx(Ss,{className:"h-3 w-3 text-red-500"}),E.message]})})]})});tt.displayName="Input";const Lbe=(e=1e3)=>{const[t,r]=T.useState(!1),n=T.useRef(0),s=T.useCallback(()=>{const i=Date.now();return i-n.current<e?(r(!0),!1):(n.current=i,r(!1),!0)},[e]);return{isLimited:t,checkRateLimit:s}},Qm=Md("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 transform-gpu relative overflow-hidden",{variants:{variant:{default:"bg-gradient-to-r from-blue-600 to-blue-700 text-primary-foreground hover:from-blue-700 hover:to-blue-800 hover:shadow-lg hover:shadow-blue-500/25 active:scale-95",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-destructive-foreground hover:from-red-700 hover:to-red-800 hover:shadow-lg hover:shadow-red-500/25 active:scale-95",outline:"border-2 border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-blue-300 hover:shadow-md active:scale-95",secondary:"bg-gradient-to-r from-gray-200 to-gray-300 text-secondary-foreground hover:from-gray-300 hover:to-gray-400 hover:shadow-md active:scale-95",ghost:"hover:bg-accent hover:text-accent-foreground hover:shadow-sm active:scale-95",link:"text-primary underline-offset-4 hover:underline hover:text-blue-600 active:scale-95",success:"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 hover:shadow-lg hover:shadow-green-500/25 active:scale-95",warning:"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 hover:shadow-lg hover:shadow-orange-500/25 active:scale-95"},size:{default:"h-11 px-6 py-2.5",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-xl px-8 text-base",icon:"h-11 w-11",xs:"h-7 px-2 text-xs rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),_e=T.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,loading:s=!1,loadingText:i=" ...",enableRateLimit:a=!1,rateLimitDelay:o=1e3,ripple:u=!0,onClick:c,children:d,disabled:h,...f},p)=>{const g=n?Fd:"button",{isLimited:y,checkRateLimit:m}=Lbe(o),[v,b]=T.useState({}),[x,j]=T.useState(!1),C=T.useCallback(A=>{if(!(s||h)){if(a&&!m()){A.preventDefault();return}if(u){const $=A.currentTarget.getBoundingClientRect(),V=A.clientX-$.left,U=A.clientY-$.top;b({left:V-10,top:U-10,width:20,height:20}),j(!0),setTimeout(()=>j(!1),600)}c?.(A)}},[s,h,a,m,u,c]),R=h||s||a&&y,L=l.jsxs(l.Fragment,{children:[x&&u&&l.jsx(Kr.span,{className:"absolute bg-white/30 rounded-full pointer-events-none",style:v,initial:{scale:0,opacity:1},animate:{scale:4,opacity:0},transition:{duration:.6,ease:"easeOut"}}),s?l.jsxs(l.Fragment,{children:[l.jsx(Dr,{className:"h-4 w-4 animate-spin"}),i]}):d,a&&y&&l.jsx(Kr.div,{className:"absolute inset-0 bg-gray-400/20 rounded-lg flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsx("span",{className:"text-xs text-gray-600",children:"..."})})]});return l.jsx(Kr.div,{whileHover:{scale:R?1:1.02},whileTap:{scale:R?1:.98},transition:{type:"spring",stiffness:400,damping:25},children:l.jsx(g,{className:we(Qm({variant:t,size:r,className:e})),ref:p,onClick:C,disabled:R,...f,children:L})})});_e.displayName="Button";const jH="/assets/logo_header_light.png",zbe="/assets/logo_header_dark.png",NH="/assets/app_icon_light.png",Bbe="/assets/app_icon_dark.png",Ube=pu({email:mr().email("   "),password:mr().min(1,"  ")});function Vbe(){const[,e]=fs(),{toast:t}=zr(),{login:r}=ql(),[n,s]=T.useState("online"),[i,a]=T.useState(!1),[o,u]=T.useState(!1),c=Rl({resolver:$l(Ube),defaultValues:{email:"",password:""}}),d=ht({mutationFn:async h=>await r(h.email,h.password),onSuccess:()=>{t({title:"  ",description:"    "}),e("/")},onError:h=>{if(h.requireEmailVerification||h.status===403){t({title:"    ",description:"       ",variant:"default"});const f=h.userId||h.data?.userId,p=h.email||h.data?.email||c.getValues("email");e(`/verify-email?userId=${f}&email=${encodeURIComponent(p)}`);return}t({title:"  ",description:h.message||"    ",variant:"destructive"})}});return l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%230f172a' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[l.jsxs("div",{className:"flex flex-col flex-1 gap-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[l.jsxs("div",{className:"text-right flex flex-col items-end",children:[l.jsx("h2",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest leading-none",children:" "}),l.jsx("span",{className:"text-[8px] text-gray-300 dark:text-slate-600 font-bold",children:"WELCOME BACK"})]}),l.jsx(_e,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-slate-100 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",children:l.jsxs("div",{className:"flex gap-0.5",children:[l.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"})]})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[l.jsxs("div",{className:"relative mb-4 group cursor-pointer",children:[l.jsx("div",{className:"absolute -inset-1.5 bg-blue-500/10 rounded-[24px] blur-md opacity-0 group-hover:opacity-100 transition duration-500"}),l.jsxs("div",{className:"w-24 h-24 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative bg-white/50 dark:bg-white/5 backdrop-blur-sm rounded-2xl p-2 border border-white/20",children:[l.jsx("img",{src:NH,alt:"AXION Logo",className:"w-full h-full object-contain","data-testid":"img-logo-light"}),l.jsx("div",{className:"absolute top-2 right-2 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md ring-2 ring-blue-400/20 animate-pulse"})]})]}),l.jsxs("div",{className:"text-center relative",children:[l.jsx("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:l.jsx("img",{src:jH,alt:"AXION | ",className:"h-12 object-contain bg-white/30 dark:bg-white/5 backdrop-blur-sm rounded-lg px-4 py-1 border border-white/10","data-testid":"img-header-light"})}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[l.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-r from-transparent to-blue-200 dark:to-blue-900"}),l.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-[9px] font-black tracking-[0.5em] uppercase",children:"Real Assets Management"}),l.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-l from-transparent to-blue-200 dark:to-blue-900"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 animate-in slide-in-from-bottom duration-500 delay-300 fill-mode-both",children:[l.jsxs("button",{type:"button",onClick:()=>s("offline"),className:`flex items-center justify-between p-2 rounded-xl border transition-all h-14 shadow-sm active:scale-95 ${n==="offline"?"bg-blue-600 dark:bg-white text-white dark:text-slate-900 border-blue-600 dark:border-white ring-2 ring-blue-600/10":"bg-card dark:bg-slate-900 border-border dark:border-slate-800 text-gray-500"}`,children:[l.jsxs("div",{className:"flex flex-col items-start leading-none text-right w-full",children:[l.jsx("span",{className:`text-[8px] font-bold ${n==="offline"?"text-slate-300 dark:text-slate-600":"text-gray-400"}`,children:""}),l.jsx("span",{className:"text-[11px] font-black",children:" "})]}),l.jsx("div",{className:`p-1.5 rounded-lg ${n==="offline"?"bg-white/10 dark:bg-slate-900/10 text-white dark:text-slate-900":"bg-gray-50 dark:bg-slate-800 text-gray-400"}`,children:l.jsx(Y8,{className:"w-4 h-4"})})]}),l.jsxs("button",{type:"button",onClick:()=>s("online"),className:`flex items-center justify-between p-2 rounded-xl border transition-all h-14 shadow-sm active:scale-95 ${n==="online"?"bg-blue-600 dark:bg-white text-white dark:text-slate-900 border-blue-600 dark:border-white ring-2 ring-blue-600/10":"bg-card dark:bg-slate-900 border-border dark:border-slate-800 text-gray-500"}`,children:[l.jsxs("div",{className:"flex flex-col items-start leading-none text-right w-full",children:[l.jsx("span",{className:`text-[8px] font-bold ${n==="online"?"text-slate-300 dark:text-slate-600":"text-gray-400"}`,children:""}),l.jsx("span",{className:"text-[11px] font-black",children:" "})]}),l.jsx("div",{className:`p-1.5 rounded-lg ${n==="online"?"bg-white/10 dark:bg-slate-900/10 text-white dark:text-slate-900":"bg-gray-50 dark:bg-slate-800 text-gray-400"}`,children:l.jsx(bj,{className:"w-4 h-4"})})]})]}),l.jsx(Fl,{...c,children:l.jsxs("form",{onSubmit:c.handleSubmit(h=>d.mutate(h)),className:"space-y-2 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[l.jsx(Ar,{control:c.control,name:"email",render:({field:h})=>l.jsx(Tr,{children:l.jsxs("div",{className:`bg-card dark:bg-slate-900 rounded-xl border shadow-sm h-16 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-slate-900/5 dark:focus-within:ring-white/5 ${c.formState.errors.email?"border-red-500":"border-border dark:border-slate-800"}`,children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-gray-400 dark:text-slate-500 font-black text-right uppercase tracking-tighter",children:"Identity / "}),l.jsx(Pr,{children:l.jsx(tt,{...h,type:"text",autoComplete:"off",placeholder:"username@axion.system",className:"border-none p-0 h-6 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none","data-testid":"input-email"})})]}),l.jsx("button",{type:"button",onClick:()=>u(!0),className:"flex items-center justify-center ml-2 text-slate-300 dark:text-slate-700 hover:text-slate-600 dark:hover:text-slate-400 transition-colors","data-testid":"button-switch-account",children:l.jsx(yn,{className:"w-5 h-5",strokeWidth:1.5})})]})})}),l.jsx(Ar,{control:c.control,name:"password",render:({field:h})=>l.jsx(Tr,{children:l.jsxs("div",{className:`bg-card dark:bg-slate-900 rounded-xl border shadow-sm h-16 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-slate-900/5 dark:focus-within:ring-white/5 ${c.formState.errors.password?"border-red-500":"border-border dark:border-slate-800"}`,children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-gray-400 dark:text-slate-500 font-black text-right uppercase tracking-tighter",children:"Security /  "}),l.jsx(Pr,{children:l.jsx(tt,{...h,type:i?"text":"password",autoComplete:"off",placeholder:"",className:"border-none p-0 h-6 text-base font-black text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-password",hidePasswordToggle:!0})})]}),l.jsx("button",{type:"button",onClick:()=>a(!i),className:"flex items-center justify-center ml-2 transition-colors","data-testid":"button-toggle-password",children:i?l.jsx(Zc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400",strokeWidth:2}):l.jsx(ch,{className:"w-5 h-5 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})}),l.jsxs("div",{className:"flex justify-between px-1",children:[l.jsx("button",{type:"button",onClick:()=>e("/forgot-password"),className:"text-[10px] font-bold text-slate-400 dark:text-slate-600 hover:text-slate-900 dark:hover:text-white transition-colors","data-testid":"link-forgot-password",children:" "}),l.jsx("button",{type:"button",className:"text-[10px] font-bold text-blue-600 dark:text-blue-400",children:" "})]}),l.jsxs("div",{className:"space-y-2 pt-2",children:[l.jsx(_e,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:d.isPending,"data-testid":"button-login",children:d.isPending?l.jsx(Dr,{className:"animate-spin h-5 w-5"}):" "}),l.jsx(_e,{type:"button",variant:"ghost",className:"w-full h-10 text-blue-600/70 dark:text-blue-400/70 text-sm font-bold rounded-xl hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>e("/register"),"data-testid":"button-create-account",children:"    "})]})]})})]}),l.jsxs("div",{className:"flex flex-col items-center gap-3 pb-12 relative animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[l.jsxs("div",{className:"flex items-center gap-4 w-full",children:[l.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30"}),l.jsx("span",{className:"text-[8px] font-black text-blue-400 dark:text-blue-700 tracking-[0.2em] uppercase",children:"Axion Security v2.0"}),l.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30"})]}),l.jsx("div",{className:"flex gap-4 mb-4",children:[{Icon:nle,label:"Biometric",testId:"button-fingerprint"},{Icon:Y8,label:"QR Scan",testId:"button-scan-qr"},{Icon:ule,label:"Support",testId:"button-support"}].map(({Icon:h,label:f,testId:p},g)=>l.jsx("button",{type:"button",onClick:()=>{alert(`${f} feature coming soon on Axion Mobile.`)},className:"w-12 h-12 bg-card dark:bg-slate-900 rounded-2xl shadow-sm border border-border dark:border-slate-800 flex items-center justify-center text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:shadow-md transition-all active:scale-90","data-testid":p,children:l.jsx(h,{className:"w-5 h-5",strokeWidth:1.5})},g))}),l.jsxs("div",{className:"w-full flex flex-col items-center gap-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-[9px] font-black text-slate-400 dark:text-slate-600 tracking-wider",children:"AXION CORE v3.9.1 - SECURE"})]}),l.jsx("span",{className:"text-[8px] text-gray-300 dark:text-slate-700",children:" 2026 AXION OPERATIONS MANAGEMENT"})]}),o&&l.jsx("div",{className:"absolute bottom-16 left-0 right-0 px-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:l.jsxs("div",{className:"bg-blue-600 dark:bg-white h-12 rounded-xl flex items-center justify-between px-4 shadow-2xl border border-white/10 dark:border-black/5",children:[l.jsx("span",{className:"text-white dark:text-slate-900 text-[11px] font-medium text-right w-full ml-4",children:"      "}),l.jsx("button",{onClick:()=>u(!1),className:"w-6 h-6 bg-white/10 dark:bg-slate-900/10 rounded-lg flex items-center justify-center hover:bg-white/20 dark:hover:bg-slate-900/20 transition-colors",children:l.jsx(os,{className:"w-4 h-4 text-white dark:text-slate-900",strokeWidth:2})})]})})]})]})]})}function f5(e){const t=T.useRef({value:e,previous:e});return T.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var m1="Checkbox",[Wbe]=Ls(m1),[qbe,h5]=Wbe(m1);function Hbe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:a,name:o,onCheckedChange:u,required:c,value:d="on",internal_do_not_use_render:h}=e,[f,p]=Ma({prop:r,defaultProp:s??!1,onChange:u,caller:m1}),[g,y]=T.useState(null),[m,v]=T.useState(null),b=T.useRef(!1),x=g?!!a||!!g.closest("form"):!0,j={checked:f,disabled:i,setChecked:p,control:g,setControl:y,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:b,required:c,defaultChecked:Rc(s)?!1:s,isFormControl:x,bubbleInput:m,setBubbleInput:v};return l.jsx(qbe,{scope:t,...j,children:Kbe(h)?h(j):n})}var CH="CheckboxTrigger",TH=T.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:a,disabled:o,checked:u,required:c,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:g}=h5(CH,e),y=tr(s,d),m=T.useRef(u);return T.useEffect(()=>{const v=i?.form;if(v){const b=()=>h(m.current);return v.addEventListener("reset",b),()=>v.removeEventListener("reset",b)}},[i,h]),l.jsx(wt.button,{type:"button",role:"checkbox","aria-checked":Rc(u)?"mixed":u,"aria-required":c,"data-state":DH(u),"data-disabled":o?"":void 0,disabled:o,value:a,...n,ref:y,onKeyDown:et(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:et(r,v=>{h(b=>Rc(b)?!0:!b),g&&p&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});TH.displayName=CH;var p5=T.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:a,disabled:o,value:u,onCheckedChange:c,form:d,...h}=e;return l.jsx(Hbe,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:o,required:a,onCheckedChange:c,name:n,form:d,value:u,internal_do_not_use_render:({isFormControl:f})=>l.jsxs(l.Fragment,{children:[l.jsx(TH,{...h,ref:t,__scopeCheckbox:r}),f&&l.jsx(IH,{__scopeCheckbox:r})]})})});p5.displayName=m1;var EH="CheckboxIndicator",AH=T.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=h5(EH,r);return l.jsx(Jn,{present:n||Rc(i.checked)||i.checked===!0,children:l.jsx(wt.span,{"data-state":DH(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});AH.displayName=EH;var PH="CheckboxBubbleInput",IH=T.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:o,disabled:u,name:c,value:d,form:h,bubbleInput:f,setBubbleInput:p}=h5(PH,e),g=tr(r,p),y=f5(i),m=Nj(n);T.useEffect(()=>{const b=f;if(!b)return;const x=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(x,"checked").set,R=!s.current;if(y!==i&&C){const L=new Event("click",{bubbles:R});b.indeterminate=Rc(i),C.call(b,Rc(i)?!1:i),b.dispatchEvent(L)}},[f,y,i,s]);const v=T.useRef(Rc(i)?!1:i);return l.jsx(wt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??v.current,required:o,disabled:u,name:c,value:d,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});IH.displayName=PH;function Kbe(e){return typeof e=="function"}function Rc(e){return e==="indeterminate"}function DH(e){return Rc(e)?"indeterminate":e?"checked":"unchecked"}const c0=T.forwardRef(({className:e,...t},r)=>l.jsx(p5,{ref:r,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(AH,{className:we("flex items-center justify-center text-current"),children:l.jsx(so,{className:"h-4 w-4"})})}));c0.displayName=p5.displayName;function Zbe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function MH(...e){return t=>e.forEach(r=>Zbe(r,t))}function Gbe(...e){return T.useCallback(MH(...e),e)}var RH=T.forwardRef((e,t)=>{const{children:r,...n}=e,s=T.Children.toArray(r),i=s.find(Qbe);if(i){const a=i.props.children,o=s.map(u=>u===i?T.Children.count(a)>1?T.Children.only(null):T.isValidElement(a)?a.props.children:null:u);return l.jsx(c4,{...n,ref:t,children:T.isValidElement(a)?T.cloneElement(a,void 0,o):null})}return l.jsx(c4,{...n,ref:t,children:r})});RH.displayName="Slot";var c4=T.forwardRef((e,t)=>{const{children:r,...n}=e;if(T.isValidElement(r)){const s=Jbe(r);return T.cloneElement(r,{...Ybe(n,r.props),ref:t?MH(t,s):s})}return T.Children.count(r)>1?T.Children.only(null):null});c4.displayName="SlotClone";var Xbe=({children:e})=>l.jsx(l.Fragment,{children:e});function Qbe(e){return T.isValidElement(e)&&e.type===Xbe}function Ybe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{i(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Jbe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var eve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tve=eve.reduce((e,t)=>{const r=T.forwardRef((n,s)=>{const{asChild:i,...a}=n,o=i?RH:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function aA(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...r)=>t.current?.(...r),[])}var t2="focusScope.autoFocusOnMount",r2="focusScope.autoFocusOnUnmount",oA={bubbles:!1,cancelable:!0},rve="FocusScope",u0=T.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[o,u]=T.useState(null),c=aA(s),d=aA(i),h=T.useRef(null),f=Gbe(t,y=>u(y)),p=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(n){let y=function(x){if(p.paused||!o)return;const j=x.target;o.contains(j)?h.current=j:sc(h.current,{select:!0})},m=function(x){if(p.paused||!o)return;const j=x.relatedTarget;j!==null&&(o.contains(j)||sc(h.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const C of x)C.removedNodes.length>0&&sc(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",m);const b=new MutationObserver(v);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",m),b.disconnect()}}},[n,o,p.paused]),T.useEffect(()=>{if(o){cA.add(p);const y=document.activeElement;if(!o.contains(y)){const v=new CustomEvent(t2,oA);o.addEventListener(t2,c),o.dispatchEvent(v),v.defaultPrevented||(nve(lve($H(o)),{select:!0}),document.activeElement===y&&sc(o))}return()=>{o.removeEventListener(t2,c),setTimeout(()=>{const v=new CustomEvent(r2,oA);o.addEventListener(r2,d),o.dispatchEvent(v),v.defaultPrevented||sc(y??document.body,{select:!0}),o.removeEventListener(r2,d),cA.remove(p)},0)}}},[o,c,d,p]);const g=T.useCallback(y=>{if(!r&&!n||p.paused)return;const m=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(m&&v){const b=y.currentTarget,[x,j]=sve(b);x&&j?!y.shiftKey&&v===j?(y.preventDefault(),r&&sc(x,{select:!0})):y.shiftKey&&v===x&&(y.preventDefault(),r&&sc(j,{select:!0})):v===b&&y.preventDefault()}},[r,n,p.paused]);return l.jsx(tve.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});u0.displayName=rve;function nve(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(sc(n,{select:t}),document.activeElement!==r)return}function sve(e){const t=$H(e),r=lA(t,e),n=lA(t.reverse(),e);return[r,n]}function $H(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lA(e,t){for(const r of e)if(!ive(r,{upTo:t}))return r}function ive(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ave(e){return e instanceof HTMLInputElement&&"select"in e}function sc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ave(e)&&t&&e.select()}}var cA=ove();function ove(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=uA(e,t),e.unshift(t)},remove(t){e=uA(e,t),e[0]?.resume()}}}function uA(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function lve(e){return e.filter(t=>t.tagName!=="A")}var n2=0;function g1(){T.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dA()),document.body.insertAdjacentElement("beforeend",e[1]??dA()),n2++,()=>{n2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),n2--}},[])}function dA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Eo=function(){return Eo=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Eo.apply(this,arguments)};function OH(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function cve(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Xy="right-scroll-bar-position",Qy="width-before-scroll-bar",uve="with-scroll-bars-hidden",dve="--removed-body-scroll-bar-size";function s2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fve(e,t){var r=T.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var hve=typeof window<"u"?T.useLayoutEffect:T.useEffect,fA=new WeakMap;function pve(e,t){var r=fve(null,function(n){return e.forEach(function(s){return s2(s,n)})});return hve(function(){var n=fA.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(o){i.has(o)||s2(o,null)}),i.forEach(function(o){s.has(o)||s2(o,a)})}fA.set(r,e)},[e]),r}function mve(e){return e}function gve(e,t){t===void 0&&(t=mve);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(i),a=r}var u=function(){var d=a;a=[],d.forEach(i)},c=function(){return Promise.resolve().then(u)};c(),r={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),r}}}};return s}function yve(e){e===void 0&&(e={});var t=gve(null);return t.options=Eo({async:!0,ssr:!1},e),t}var FH=function(e){var t=e.sideCar,r=OH(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return T.createElement(n,Eo({},r))};FH.isSideCarExport=!0;function bve(e,t){return e.useMedium(t),FH}var LH=yve(),i2=function(){},y1=T.forwardRef(function(e,t){var r=T.useRef(null),n=T.useState({onScrollCapture:i2,onWheelCapture:i2,onTouchMoveCapture:i2}),s=n[0],i=n[1],a=e.forwardProps,o=e.children,u=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,g=e.noIsolation,y=e.inert,m=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,x=e.gapMode,j=OH(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,R=pve([r,t]),L=Eo(Eo({},j),s);return T.createElement(T.Fragment,null,d&&T.createElement(C,{sideCar:LH,removeScrollBar:c,shards:h,noRelative:p,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:x}),a?T.cloneElement(T.Children.only(o),Eo(Eo({},L),{ref:R})):T.createElement(b,Eo({},L,{className:u,ref:R}),o))});y1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};y1.classNames={fullWidth:Qy,zeroRight:Xy};var vve=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xve(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vve();return t&&e.setAttribute("nonce",t),e}function wve(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _ve(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kve=function(){var e=0,t=null;return{add:function(r){e==0&&(t=xve())&&(wve(t,r),_ve(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Sve=function(){var e=kve();return function(t,r){T.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},zH=function(){var e=Sve(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},jve={left:0,top:0,right:0,gap:0},a2=function(e){return parseInt(e||"",10)||0},Nve=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[a2(r),a2(n),a2(s)]},Cve=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jve;var t=Nve(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Tve=zH(),$f="data-scroll-locked",Eve=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(uve,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat($f,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xy,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Qy,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Xy," .").concat(Xy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Qy," .").concat(Qy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat($f,`] {
    `).concat(dve,": ").concat(o,`px;
  }
`)},hA=function(){var e=parseInt(document.body.getAttribute($f)||"0",10);return isFinite(e)?e:0},Ave=function(){T.useEffect(function(){return document.body.setAttribute($f,(hA()+1).toString()),function(){var e=hA()-1;e<=0?document.body.removeAttribute($f):document.body.setAttribute($f,e.toString())}},[])},Pve=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;Ave();var i=T.useMemo(function(){return Cve(s)},[s]);return T.createElement(Tve,{styles:Eve(i,!t,s,r?"":"!important")})},u4=!1;if(typeof window<"u")try{var dy=Object.defineProperty({},"passive",{get:function(){return u4=!0,!0}});window.addEventListener("test",dy,dy),window.removeEventListener("test",dy,dy)}catch{u4=!1}var Yd=u4?{passive:!1}:!1,Ive=function(e){return e.tagName==="TEXTAREA"},BH=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ive(e)&&r[t]==="visible")},Dve=function(e){return BH(e,"overflowY")},Mve=function(e){return BH(e,"overflowX")},pA=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=UH(e,n);if(s){var i=VH(e,n),a=i[1],o=i[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Rve=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},$ve=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},UH=function(e,t){return e==="v"?Dve(t):Mve(t)},VH=function(e,t){return e==="v"?Rve(t):$ve(t)},Ove=function(e,t){return e==="h"&&t==="rtl"?-1:1},Fve=function(e,t,r,n,s){var i=Ove(e,window.getComputedStyle(t).direction),a=i*n,o=r.target,u=t.contains(o),c=!1,d=a>0,h=0,f=0;do{if(!o)break;var p=VH(e,o),g=p[0],y=p[1],m=p[2],v=y-m-i*g;(g||v)&&UH(e,o)&&(h+=v,f+=g);var b=o.parentNode;o=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!u&&o!==document.body||u&&(t.contains(o)||t===o));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(c=!0),c},fy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mA=function(e){return[e.deltaX,e.deltaY]},gA=function(e){return e&&"current"in e?e.current:e},Lve=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zve=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Bve=0,Jd=[];function Uve(e){var t=T.useRef([]),r=T.useRef([0,0]),n=T.useRef(),s=T.useState(Bve++)[0],i=T.useState(zH)[0],a=T.useRef(e);T.useEffect(function(){a.current=e},[e]),T.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=cve([e.lockRef.current],(e.shards||[]).map(gA),!0).filter(Boolean);return y.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=T.useCallback(function(y,m){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var v=fy(y),b=r.current,x="deltaX"in y?y.deltaX:b[0]-v[0],j="deltaY"in y?y.deltaY:b[1]-v[1],C,R=y.target,L=Math.abs(x)>Math.abs(j)?"h":"v";if("touches"in y&&L==="h"&&R.type==="range")return!1;var A=window.getSelection(),P=A&&A.anchorNode,$=P?P===R||P.contains(R):!1;if($)return!1;var V=pA(L,R);if(!V)return!0;if(V?C=L:(C=L==="v"?"h":"v",V=pA(L,R)),!V)return!1;if(!n.current&&"changedTouches"in y&&(x||j)&&(n.current=C),!C)return!0;var U=n.current||C;return Fve(U,m,y,U==="h"?x:j)},[]),u=T.useCallback(function(y){var m=y;if(!(!Jd.length||Jd[Jd.length-1]!==i)){var v="deltaY"in m?mA(m):fy(m),b=t.current.filter(function(C){return C.name===m.type&&(C.target===m.target||m.target===C.shadowParent)&&Lve(C.delta,v)})[0];if(b&&b.should){m.cancelable&&m.preventDefault();return}if(!b){var x=(a.current.shards||[]).map(gA).filter(Boolean).filter(function(C){return C.contains(m.target)}),j=x.length>0?o(m,x[0]):!a.current.noIsolation;j&&m.cancelable&&m.preventDefault()}}},[]),c=T.useCallback(function(y,m,v,b){var x={name:y,delta:m,target:v,should:b,shadowParent:Vve(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(j){return j!==x})},1)},[]),d=T.useCallback(function(y){r.current=fy(y),n.current=void 0},[]),h=T.useCallback(function(y){c(y.type,mA(y),y.target,o(y,e.lockRef.current))},[]),f=T.useCallback(function(y){c(y.type,fy(y),y.target,o(y,e.lockRef.current))},[]);T.useEffect(function(){return Jd.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",u,Yd),document.addEventListener("touchmove",u,Yd),document.addEventListener("touchstart",d,Yd),function(){Jd=Jd.filter(function(y){return y!==i}),document.removeEventListener("wheel",u,Yd),document.removeEventListener("touchmove",u,Yd),document.removeEventListener("touchstart",d,Yd)}},[]);var p=e.removeScrollBar,g=e.inert;return T.createElement(T.Fragment,null,g?T.createElement(i,{styles:zve(s)}):null,p?T.createElement(Pve,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Vve(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Wve=bve(LH,Uve);var d0=T.forwardRef(function(e,t){return T.createElement(y1,Eo({},e,{ref:t,sideCar:Wve}))});d0.classNames=y1.classNames;var qve=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ef=new WeakMap,hy=new WeakMap,py={},o2=0,WH=function(e){return e&&(e.host||WH(e.parentNode))},Hve=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=WH(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Kve=function(e,t,r,n){var s=Hve(t,Array.isArray(e)?e:[e]);py[r]||(py[r]=new WeakMap);var i=py[r],a=[],o=new Set,u=new Set(s),c=function(h){!h||o.has(h)||(o.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var p=f.getAttribute(n),g=p!==null&&p!=="false",y=(ef.get(f)||0)+1,m=(i.get(f)||0)+1;ef.set(f,y),i.set(f,m),a.push(f),y===1&&g&&hy.set(f,!0),m===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(t),o.clear(),o2++,function(){a.forEach(function(h){var f=ef.get(h)-1,p=i.get(h)-1;ef.set(h,f),i.set(h,p),f||(hy.has(h)||h.removeAttribute(n),hy.delete(h)),p||h.removeAttribute(r)}),o2--,o2||(ef=new WeakMap,ef=new WeakMap,hy=new WeakMap,py={})}},b1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=qve(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),Kve(n,s,r,"aria-hidden")):function(){return null}};function Zve(e){const t=Gve(e),r=T.forwardRef((n,s)=>{const{children:i,...a}=n,o=T.Children.toArray(i),u=o.find(Qve);if(u){const c=u.props.children,d=o.map(h=>h===u?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:h);return l.jsx(t,{...a,ref:s,children:T.isValidElement(c)?T.cloneElement(c,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Gve(e){const t=T.forwardRef((r,n)=>{const{children:s,...i}=r;if(T.isValidElement(s)){const a=Jve(s),o=Yve(i,s.props);return s.type!==T.Fragment&&(o.ref=n?Go(n,a):a),T.cloneElement(s,o)}return T.Children.count(s)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xve=Symbol("radix.slottable");function Qve(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xve}function Yve(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Jve(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var v1="Dialog",[qH,HH]=Ls(v1),[exe,go]=qH(v1),KH=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,o=T.useRef(null),u=T.useRef(null),[c,d]=Ma({prop:n,defaultProp:s??!1,onChange:i,caller:v1});return l.jsx(exe,{scope:t,triggerRef:o,contentRef:u,contentId:Qi(),titleId:Qi(),descriptionId:Qi(),open:c,onOpenChange:d,onOpenToggle:T.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};KH.displayName=v1;var ZH="DialogTrigger",GH=T.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=go(ZH,r),i=tr(t,s.triggerRef);return l.jsx(wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":y5(s.open),...n,ref:i,onClick:et(e.onClick,s.onOpenToggle)})});GH.displayName=ZH;var m5="DialogPortal",[txe,XH]=qH(m5,{forceMount:void 0}),QH=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=go(m5,t);return l.jsx(txe,{scope:t,forceMount:r,children:T.Children.map(n,a=>l.jsx(Jn,{present:r||i.open,children:l.jsx($h,{asChild:!0,container:s,children:a})}))})};QH.displayName=m5;var dv="DialogOverlay",YH=T.forwardRef((e,t)=>{const r=XH(dv,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=go(dv,e.__scopeDialog);return i.modal?l.jsx(Jn,{present:n||i.open,children:l.jsx(nxe,{...s,ref:t})}):null});YH.displayName=dv;var rxe=Zve("DialogOverlay.RemoveScroll"),nxe=T.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=go(dv,r);return l.jsx(d0,{as:rxe,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(wt.div,{"data-state":y5(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),xd="DialogContent",JH=T.forwardRef((e,t)=>{const r=XH(xd,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=go(xd,e.__scopeDialog);return l.jsx(Jn,{present:n||i.open,children:i.modal?l.jsx(sxe,{...s,ref:t}):l.jsx(ixe,{...s,ref:t})})});JH.displayName=xd;var sxe=T.forwardRef((e,t)=>{const r=go(xd,e.__scopeDialog),n=T.useRef(null),s=tr(t,r.contentRef,n);return T.useEffect(()=>{const i=n.current;if(i)return b1(i)},[]),l.jsx(eK,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:et(e.onFocusOutside,i=>i.preventDefault())})}),ixe=T.forwardRef((e,t)=>{const r=go(xd,e.__scopeDialog),n=T.useRef(!1),s=T.useRef(!1);return l.jsx(eK,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;r.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),eK=T.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,o=go(xd,r),u=T.useRef(null),c=tr(t,u);return g1(),l.jsxs(l.Fragment,{children:[l.jsx(u0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Dd,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":y5(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(oxe,{titleId:o.titleId}),l.jsx(cxe,{contentRef:u,descriptionId:o.descriptionId})]})]})}),g5="DialogTitle",tK=T.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=go(g5,r);return l.jsx(wt.h2,{id:s.titleId,...n,ref:t})});tK.displayName=g5;var rK="DialogDescription",nK=T.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=go(rK,r);return l.jsx(wt.p,{id:s.descriptionId,...n,ref:t})});nK.displayName=rK;var sK="DialogClose",iK=T.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=go(sK,r);return l.jsx(wt.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>s.onOpenChange(!1))})});iK.displayName=sK;function y5(e){return e?"open":"closed"}var aK="DialogTitleWarning",[axe,oK]=jae(aK,{contentName:xd,titleName:g5,docsSlug:"dialog"}),oxe=({titleId:e})=>{const t=oK(aK),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return T.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},lxe="DialogDescriptionWarning",cxe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oK(lxe).contentName}}.`;return T.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},b5=KH,v5=GH,x5=QH,f0=YH,h0=JH,Zh=tK,Gh=nK,p0=iK,uxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dxe=uxe.reduce((e,t)=>{const r=s0(`Primitive.${t}`),n=T.forwardRef((s,i)=>{const{asChild:a,...o}=s,u=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),fxe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hxe="VisuallyHidden",lK=T.forwardRef((e,t)=>l.jsx(dxe.span,{...e,ref:t,style:{...fxe,...e.style}}));lK.displayName=hxe;var pxe=lK;const xs=b5,kh=v5,mxe=x5,cK=T.forwardRef(({className:e,...t},r)=>l.jsx(f0,{ref:r,className:we("fixed inset-0 z-[9998] bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));cK.displayName=f0.displayName;const ls=T.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(mxe,{children:[l.jsx(cK,{}),l.jsxs(h0,{ref:n,className:we("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","bg-background opacity-100",e),style:{pointerEvents:"auto"},...r,children:[l.jsxs(pxe,{children:[l.jsx(Zh,{children:"Dialog Content"}),l.jsx(Gh,{children:"Accessibility description for the dialog content."})]}),t,l.jsxs(p0,{className:"absolute left-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(os,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ls.displayName=h0.displayName;const ws=({className:e,...t})=>l.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-right",e),...t});ws.displayName="DialogHeader";const fv=({className:e,...t})=>l.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});fv.displayName="DialogFooter";const Rs=T.forwardRef(({className:e,...t},r)=>l.jsx(Zh,{ref:r,className:we("text-lg font-semibold leading-none tracking-tight",e),...t}));Rs.displayName=Zh.displayName;const Sl=T.forwardRef(({className:e,...t},r)=>l.jsx(Gh,{ref:r,className:we("text-sm text-muted-foreground",e),...t}));Sl.displayName=Gh.displayName;const dr=[{name:"",code:"+967",flag:"https://flagcdn.com/w20/ye.png"},{name:"",code:"+966",flag:"https://flagcdn.com/w20/sa.png"},{name:"",code:"+971",flag:"https://flagcdn.com/w20/ae.png"},{name:"",code:"+968",flag:"https://flagcdn.com/w20/om.png"},{name:"",code:"+965",flag:"https://flagcdn.com/w20/kw.png"},{name:"",code:"+974",flag:"https://flagcdn.com/w20/qa.png"},{name:"",code:"+973",flag:"https://flagcdn.com/w20/bh.png"},{name:"",code:"+20",flag:"https://flagcdn.com/w20/eg.png"},{name:"",code:"+962",flag:"https://flagcdn.com/w20/jo.png"},{name:"",code:"+964",flag:"https://flagcdn.com/w20/iq.png"},{name:"",code:"+963",flag:"https://flagcdn.com/w20/sy.png"},{name:"",code:"+961",flag:"https://flagcdn.com/w20/lb.png"},{name:"",code:"+970",flag:"https://flagcdn.com/w20/ps.png"},{name:"",code:"+212",flag:"https://flagcdn.com/w20/ma.png"},{name:"",code:"+213",flag:"https://flagcdn.com/w20/dz.png"},{name:"",code:"+216",flag:"https://flagcdn.com/w20/tn.png"},{name:"",code:"+218",flag:"https://flagcdn.com/w20/ly.png"},{name:"",code:"+249",flag:"https://flagcdn.com/w20/sd.png"},{name:"",code:"+222",flag:"https://flagcdn.com/w20/mr.png"},{name:"",code:"+90",flag:"https://flagcdn.com/w20/tr.png"},{name:" ",code:"+1",flag:"https://flagcdn.com/w20/us.png"},{name:" ",code:"+44",flag:"https://flagcdn.com/w20/gb.png"}],gxe=pu({fullName:mr().min(1,"  "),email:mr().email("   "),phone:mr().min(9,"   "),password:mr().min(6,"       6 "),confirmPassword:mr().min(1,"   "),birthDate:mr().min(1,"  "),birthPlace:mr().min(1,"  "),gender:mr().min(1," "),terms:Yg().refine(e=>e===!0,"   ")}).refine(e=>e.password===e.confirmPassword,{message:"   ",path:["confirmPassword"]}),yxe=()=>l.jsxs("div",{className:"flex flex-col items-center justify-center mb-4 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[l.jsx("div",{className:"relative mb-3 group cursor-pointer",children:l.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[l.jsx("img",{src:NH,alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),l.jsx("img",{src:Bbe,alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),l.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),l.jsxs("div",{className:"text-center relative",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[l.jsx("img",{src:jH,alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),l.jsx("img",{src:zbe,alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]}),l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-r from-transparent to-blue-200 dark:to-blue-900"}),l.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-[9px] font-black tracking-[0.5em] uppercase",children:"Real Assets Management"}),l.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-l from-transparent to-blue-200 dark:to-blue-900"})]})]})]});function bxe(){const[,e]=fs(),{toast:t}=zr(),[r,n]=T.useState(dr[0]),[s,i]=T.useState(""),[a,o]=T.useState(!1),[u,c]=T.useState(!1),[d,h]=T.useState(!1),[f,p]=T.useState(!1),[g,y]=T.useState(2e3),[m,v]=T.useState(1),[b,x]=T.useState(1);T.useEffect(()=>{(()=>{try{const A=Intl.DateTimeFormat().resolvedOptions().timeZone;A.includes("Aden")||A.includes("Sanaa")?n(dr.find(P=>P.code==="+967")||dr[0]):A.includes("Riyadh")?n(dr.find(P=>P.code==="+966")||dr[0]):A.includes("Dubai")||A.includes("Abu_Dhabi")?n(dr.find(P=>P.code==="+971")||dr[0]):A.includes("Cairo")?n(dr.find(P=>P.code==="+20")||dr[0]):A.includes("Muscat")?n(dr.find(P=>P.code==="+968")||dr[0]):A.includes("Kuwait")?n(dr.find(P=>P.code==="+965")||dr[0]):A.includes("Qatar")?n(dr.find(P=>P.code==="+974")||dr[0]):A.includes("Bahrain")?n(dr.find(P=>P.code==="+973")||dr[0]):A.includes("Amman")?n(dr.find(P=>P.code==="+962")||dr[0]):A.includes("Baghdad")?n(dr.find(P=>P.code==="+964")||dr[0]):A.includes("Damascus")?n(dr.find(P=>P.code==="+963")||dr[0]):A.includes("Beirut")?n(dr.find(P=>P.code==="+961")||dr[0]):A.includes("Gaza")||A.includes("Hebron")?n(dr.find(P=>P.code==="+970")||dr[0]):A.includes("Casablanca")?n(dr.find(P=>P.code==="+212")||dr[0]):A.includes("Algiers")?n(dr.find(P=>P.code==="+213")||dr[0]):A.includes("Tunis")?n(dr.find(P=>P.code==="+216")||dr[0]):A.includes("Tripoli")?n(dr.find(P=>P.code==="+218")||dr[0]):A.includes("Khartoum")?n(dr.find(P=>P.code==="+249")||dr[0]):A.includes("Istanbul")&&n(dr.find(P=>P.code==="+90")||dr[0])}catch(A){console.error("Failed to detect country:",A)}})()},[]);const j=dr.filter(L=>L.name.includes(s)||L.code.includes(s)),C=Rl({resolver:$l(gxe),defaultValues:{fullName:"",email:"",phone:"",password:"",confirmPassword:"",birthDate:"",birthPlace:"",gender:"",terms:!1}}),R=ht({mutationFn:async L=>{const A=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!A.ok){const P=await A.json();throw new Error(P.message||"  ")}return A.json()},onSuccess:L=>{t({title:"   ",description:"      "});const A=L?.data?.user?.id,P=L?.data?.user?.email||C.getValues("email");e(`/verify-email?userId=${A}&email=${encodeURIComponent(P)}`)},onError:L=>{t({title:"  ",description:L.message,variant:"destructive"})}});return l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsx("div",{className:"w-full max-w-[420px] h-full z-10 flex flex-col p-4 pt-safe justify-center relative",children:l.jsxs("div",{className:"flex flex-col gap-2 px-1 pt-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[l.jsxs("div",{className:"text-right flex flex-col items-end",children:[l.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),l.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"JOIN AXION OPS"})]}),l.jsx(_e,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>e("/login"),"data-testid":"button-back",children:l.jsxs("div",{className:"flex gap-0.5",children:[l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),l.jsx(yxe,{}),l.jsx(Fl,{...C,children:l.jsxs("form",{onSubmit:C.handleSubmit(L=>R.mutate(L)),className:"space-y-2 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[l.jsx(Ar,{control:C.control,name:"fullName",render:({field:L})=>l.jsx(Tr,{className:"space-y-0",children:l.jsx("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Full Name / "}),l.jsx(Pr,{children:l.jsx(tt,{...L,placeholder:" ",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-fullname"})})]})})})}),l.jsx(Ar,{control:C.control,name:"email",render:({field:L})=>l.jsx(Tr,{className:"space-y-0",children:l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Identity / "}),l.jsx(Pr,{children:l.jsx(tt,{...L,type:"email",placeholder:"username@axion.system",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-email"})})]}),l.jsx(gj,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})}),l.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[l.jsxs(xs,{open:a,onOpenChange:o,children:[l.jsx(kh,{asChild:!0,children:l.jsxs("button",{type:"button",className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-2 justify-between hover:bg-muted/50 transition-colors",children:[l.jsx(pn,{className:"w-3 h-3 text-blue-600/30"}),l.jsx("span",{className:"text-xs font-black text-foreground",dir:"ltr",children:r.code}),l.jsx("img",{src:r.flag,alt:r.name,className:"w-4 h-auto rounded-sm"})]})}),l.jsx(ls,{className:"max-w-[400px] w-[95%] p-0 rounded-3xl border-border dark:border-slate-800 bg-card dark:bg-slate-900 shadow-2xl overflow-hidden",dir:"rtl",children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"relative mb-4",children:[l.jsx(tt,{placeholder:"",value:s,onChange:L=>i(L.target.value),className:"w-full h-12 bg-muted/50 dark:bg-slate-800/50 border-none rounded-xl text-right pr-10 pl-4 text-sm font-bold focus-visible:ring-0"}),l.jsx(uo,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground/40"})]}),l.jsx("div",{className:"max-h-[40vh] overflow-y-auto custom-scrollbar",children:j.map(L=>l.jsxs("button",{onClick:()=>{n(L),o(!1)},className:"w-full flex items-center justify-between p-3 hover:bg-muted/50 dark:hover:bg-slate-800/50 rounded-xl transition-colors mb-1",children:[l.jsx("img",{src:L.flag,alt:L.name,className:"w-6 h-auto rounded-sm shadow-sm"}),l.jsx("span",{className:"text-sm font-bold text-foreground flex-1 text-right px-4",dir:"ltr",children:L.code}),l.jsx("span",{className:"text-sm font-bold text-muted-foreground min-w-[100px] text-left",children:L.name})]},L.name+L.code))})]})})]}),l.jsx(Ar,{control:C.control,name:"phone",render:({field:L})=>l.jsx(Tr,{className:"space-y-0",children:l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Smartphone / "}),l.jsx(Pr,{children:l.jsx(tt,{...L,placeholder:"7xxxxxxxx",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-phone"})})]}),l.jsx(bj,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(Ar,{control:C.control,name:"password",render:({field:L})=>l.jsx(Tr,{className:"space-y-0",children:l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Security /  "}),l.jsx(Pr,{children:l.jsx(tt,{...L,type:d?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-password",hidePasswordToggle:!0})})]}),l.jsx("button",{type:"button",onClick:()=>h(!d),className:"flex items-center justify-center ml-1 transition-colors",children:d?l.jsx(Zc,{className:"w-4 h-4 text-blue-600 dark:text-blue-400",strokeWidth:2}):l.jsx(ch,{className:"w-4 h-4 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})}),l.jsx(Ar,{control:C.control,name:"confirmPassword",render:({field:L})=>l.jsx(Tr,{className:"space-y-0",children:l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Verify / "}),l.jsx(Pr,{children:l.jsx(tt,{...L,type:f?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-confirm-password",hidePasswordToggle:!0})})]}),l.jsx("button",{type:"button",onClick:()=>p(!f),className:"flex items-center justify-center ml-1 transition-colors",children:f?l.jsx(Zc,{className:"w-4 h-4 text-blue-600 dark:text-blue-400",strokeWidth:2}):l.jsx(ch,{className:"w-4 h-4 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(Ar,{control:C.control,name:"birthPlace",render:({field:L})=>l.jsx(Tr,{className:"space-y-0",children:l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Location /  "}),l.jsx(Pr,{children:l.jsx(tt,{...L,placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none"})})]}),l.jsx(Io,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})}),l.jsx(Ar,{control:C.control,name:"birthDate",render:({field:L})=>l.jsx(Tr,{className:"space-y-0",children:l.jsxs(xs,{open:u,onOpenChange:c,children:[l.jsx(kh,{asChild:!0,children:l.jsxs("button",{type:"button",className:"w-full bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 justify-between hover:bg-muted/50 transition-colors","data-testid":"button-birth-date",children:[l.jsx(Qn,{className:"w-4 h-4 text-blue-600/30"}),l.jsx("span",{className:`text-xs font-bold ${L.value?"text-foreground":"text-muted-foreground/30"}`,children:L.value||" "})]})}),l.jsx(ls,{className:"max-w-[350px] w-[95%] p-0 rounded-3xl border-border dark:border-slate-800 bg-card dark:bg-slate-900 shadow-2xl overflow-hidden",dir:"rtl",children:l.jsxs("div",{className:"p-4",children:[l.jsx(ws,{className:"pb-4 border-b border-border dark:border-slate-800",children:l.jsx(Rs,{className:"text-center text-lg font-black text-foreground",children:" "})}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 py-6",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),l.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:Array.from({length:80},(A,P)=>2025-P).map(A=>l.jsx("button",{type:"button",onClick:()=>y(A),className:`w-full py-2 text-center font-bold transition-colors ${g===A?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:A},A))})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),l.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:["","","","","","","","","","","",""].map((A,P)=>l.jsx("button",{type:"button",onClick:()=>v(P+1),className:`w-full py-2 text-center font-bold text-sm transition-colors ${m===P+1?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:A},A))})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),l.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:Array.from({length:31},(A,P)=>P+1).map(A=>l.jsx("button",{type:"button",onClick:()=>x(A),className:`w-full py-2 text-center font-bold transition-colors ${b===A?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:A},A))})]})]}),l.jsx(_e,{onClick:()=>{const A=`${g}-${String(m).padStart(2,"0")}-${String(b).padStart(2,"0")}`;C.setValue("birthDate",A),c(!1)},className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-xl",children:" "})]})})]})})})]}),l.jsx(Ar,{control:C.control,name:"terms",render:({field:L})=>l.jsxs(Tr,{className:"flex flex-row items-center justify-center space-x-2 space-y-0 py-1",children:[l.jsx(Pr,{children:l.jsx(c0,{checked:L.value,onCheckedChange:L.onChange,className:"rounded-sm border-blue-600/30 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"})}),l.jsx("div",{className:"leading-none text-right px-2",children:l.jsxs(Sn,{className:"text-[10px] font-bold text-muted-foreground",children:["  ",l.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" "}),"  ",l.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" "})]})})]})}),l.jsx(_e,{type:"submit",className:"w-full h-12 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-xl font-black text-base shadow-lg shadow-blue-600/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 group",disabled:R.isPending,"data-testid":"button-submit",children:R.isPending?l.jsx(Dr,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"  "}),l.jsx(wl,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"})]})})]})}),l.jsx("div",{className:"mt-2 text-center pb-2 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:l.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:["  ",l.jsx("button",{onClick:()=>e("/login"),className:"text-blue-600 dark:text-blue-400 mr-1 hover:underline underline-offset-4",children:" "})]})})]})})]})}const vxe=pu({newPassword:mr().min(8,"     8   ").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"         "),confirmPassword:mr().min(1,"   ")}).refine(e=>e.newPassword===e.confirmPassword,{message:"   ",path:["confirmPassword"]});function xxe(){const[,e]=fs(),{toast:t}=zr(),[r,n]=T.useState(!1),[s,i]=T.useState(null),[a,o]=T.useState(null),[u,c]=T.useState(!1),[d,h]=T.useState(!1),f=Rl({resolver:$l(vxe),defaultValues:{newPassword:"",confirmPassword:""}});T.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("token");m?(i(m),o(!0)):o(!1)},[]);const p=ht({mutationFn:async y=>{if(!s)throw new Error("   ");const m=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,newPassword:y.newPassword})});if(!m.ok){const v=await m.json();throw new Error(v.message||"     ")}return m.json()},onSuccess:y=>{y.success?(n(!0),t({title:"    ",description:"      "})):t({title:"     ",description:y.message,variant:"destructive"})},onError:y=>{t({title:"     ",description:y.message||"   ",variant:"destructive"})}}),g=y=>{p.mutate(y)};return a===!1?l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[l.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center",children:l.jsx(Il,{className:"w-12 h-12 text-red-500"})}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h2",{className:"text-xl font-black text-red-600",children:"  "}),l.jsx("p",{className:"text-sm text-red-600/60 font-bold",children:"        .    ."})]}),l.jsxs("div",{className:"w-full space-y-2",children:[l.jsx(_e,{onClick:()=>e("/forgot-password"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",children:"  "}),l.jsx(_e,{variant:"ghost",onClick:()=>e("/login"),className:"w-full h-12 text-blue-600 font-bold",children:"  "})]})]})]}):r?l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[l.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center",children:l.jsx(co,{className:"w-12 h-12 text-blue-600"})}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h2",{className:"text-xl font-black text-blue-600 dark:text-blue-400",children:" !"}),l.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"     .    ."})]}),l.jsx(_e,{onClick:()=>e("/login"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",children:"  "})]})]}):l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[l.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[l.jsxs("div",{className:"text-right flex flex-col items-end",children:[l.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),l.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"SECURE ACCOUNT"})]}),l.jsx(_e,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>e("/login"),children:l.jsxs("div",{className:"flex gap-0.5",children:[l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[l.jsx("div",{className:"relative mb-4 group cursor-pointer",children:l.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[l.jsx("img",{src:"/assets/app_icon_light.png",alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),l.jsx("img",{src:"/assets/app_icon_dark.png",alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),l.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),l.jsx("div",{className:"text-center relative",children:l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[l.jsx("img",{src:"/assets/logo_header_light.png",alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),l.jsx("img",{src:"/assets/logo_header_dark.png",alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]})})]}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h2",{className:"text-lg font-black text-blue-600 dark:text-blue-400 mb-1",children:"   "}),l.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"     "})]}),l.jsx(Fl,{...f,children:l.jsxs("form",{onSubmit:f.handleSubmit(g),className:"space-y-4 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[l.jsx(Ar,{control:f.control,name:"newPassword",render:({field:y})=>l.jsxs(Tr,{children:[l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Security /  "}),l.jsx(Pr,{children:l.jsx(tt,{...y,type:u?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none",hidePasswordToggle:!0})})]}),l.jsx("button",{type:"button",onClick:()=>c(!u),className:"flex items-center justify-center ml-2 transition-colors",children:u?l.jsx(Zc,{className:"w-5 h-5 text-blue-600"}):l.jsx(ch,{className:"w-5 h-5 text-blue-600/30"})})]}),l.jsx(ln,{})]})}),l.jsx(Ar,{control:f.control,name:"confirmPassword",render:({field:y})=>l.jsxs(Tr,{children:[l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Verify / "}),l.jsx(Pr,{children:l.jsx(tt,{...y,type:d?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none",hidePasswordToggle:!0})})]}),l.jsx("button",{type:"button",onClick:()=>h(!d),className:"flex items-center justify-center ml-2 transition-colors",children:d?l.jsx(Zc,{className:"w-5 h-5 text-blue-600"}):l.jsx(ch,{className:"w-5 h-5 text-blue-600/30"})})]}),l.jsx(ln,{})]})}),l.jsx(_e,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:p.isPending,children:p.isPending?l.jsx(Dr,{className:"animate-spin h-5 w-5"}):"   "})]})})]}),l.jsxs("div",{className:"flex flex-col items-center gap-2 pb-4 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[l.jsxs("div",{className:"flex items-center gap-4 w-full px-4",children:[l.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"}),l.jsx("span",{className:"text-[8px] font-black text-blue-600/30 dark:text-blue-400/30 tracking-[0.2em] uppercase",children:"Secure System"}),l.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"})]}),l.jsx("span",{className:"text-[8px] text-blue-600/20 dark:text-blue-400/20",children:" 2026 AXION OPERATIONS MANAGEMENT"})]})]})]})}const wxe=pu({email:mr().email("   ")});function _xe(){const[,e]=fs(),{toast:t}=zr(),[r,n]=T.useState(!1),s=Rl({resolver:$l(wxe),defaultValues:{email:""}}),i=ht({mutationFn:async a=>{const o=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){const u=await o.json();throw new Error(u.message||"   ")}return o.json()},onSuccess:()=>{n(!0),t({title:"  ",description:"        "})},onError:a=>{t({title:"  ",description:a.message,variant:"destructive"})}});return r?l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[l.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center",children:l.jsx(co,{className:"w-12 h-12 text-blue-600"})}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h2",{className:"text-xl font-black text-blue-600 dark:text-blue-400",children:"   "}),l.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"        .     ."})]}),l.jsx(_e,{onClick:()=>e("/login"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none","data-testid":"button-back-to-login",children:"  "})]})]}):l.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),l.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[l.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[l.jsxs("div",{className:"text-right flex flex-col items-end",children:[l.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),l.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"RECOVER ACCESS"})]}),l.jsx(_e,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>e("/login"),"data-testid":"button-back",children:l.jsxs("div",{className:"flex gap-0.5",children:[l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[l.jsx("div",{className:"relative mb-4 group cursor-pointer",children:l.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[l.jsx("img",{src:"/assets/app_icon_light.png",alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),l.jsx("img",{src:"/assets/app_icon_dark.png",alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),l.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),l.jsx("div",{className:"text-center relative",children:l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[l.jsx("img",{src:"/assets/logo_header_light.png",alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),l.jsx("img",{src:"/assets/logo_header_dark.png",alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]})})]}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h2",{className:"text-lg font-black text-blue-600 dark:text-blue-400 mb-1",children:"  "}),l.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"        "})]}),l.jsx(Fl,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(a=>i.mutate(a)),className:"space-y-4 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[l.jsx(Ar,{control:s.control,name:"email",render:({field:a})=>l.jsxs(Tr,{children:[l.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Identity / "}),l.jsx(Pr,{children:l.jsx(tt,{...a,type:"email",autoComplete:"email",placeholder:"username@axion.system",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none","data-testid":"input-email"})})]}),l.jsx(gj,{className:"w-5 h-5 text-blue-600/30 dark:text-blue-400/30 ml-2",strokeWidth:1.5})]}),l.jsx(ln,{})]})}),l.jsx(_e,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:i.isPending,"data-testid":"button-submit",children:i.isPending?l.jsx(Dr,{className:"animate-spin h-5 w-5"}):"  "}),l.jsx("div",{className:"text-center pt-2",children:l.jsxs("button",{type:"button",onClick:()=>e("/login"),className:"text-xs font-bold text-blue-600/60 dark:text-blue-400/60","data-testid":"link-login",children:["   ",l.jsx("span",{className:"text-blue-600 underline",children:" "})]})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center gap-2 pb-4 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[l.jsxs("div",{className:"flex items-center gap-4 w-full px-4",children:[l.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"}),l.jsx("span",{className:"text-[8px] font-black text-blue-600/30 dark:text-blue-400/30 tracking-[0.2em] uppercase",children:"Secure Recovery"}),l.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"})]}),l.jsx("span",{className:"text-[8px] text-blue-600/20 dark:text-blue-400/20",children:" 2026 AXION OPERATIONS MANAGEMENT"})]})]})]})}const kxe=Md("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),uK=T.forwardRef(({className:e,variant:t,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:we(kxe({variant:t}),e),...r}));uK.displayName="Alert";const Sxe=T.forwardRef(({className:e,...t},r)=>l.jsx("h5",{ref:r,className:we("mb-1 font-medium leading-none tracking-tight",e),...t}));Sxe.displayName="AlertTitle";const dK=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:we("text-sm [&_p]:leading-relaxed",e),...t}));dK.displayName="AlertDescription";const jxe=pu({code:mr().length(6,"     6 ").regex(/^\d+$/,"       ")}),yA=()=>l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute -top-40 -right-32 w-96 h-96 bg-gradient-to-br from-green-400/20 to-blue-600/20 rounded-full blur-3xl animate-blob"}),l.jsx("div",{className:"absolute -bottom-32 -left-40 w-96 h-96 bg-gradient-to-tr from-blue-400/20 to-purple-600/20 rounded-full blur-3xl animate-blob animation-delay-2000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-r from-purple-400/20 to-pink-600/20 rounded-full blur-3xl animate-blob animation-delay-4000"})]});function Nxe(){const[,e]=fs(),{toast:t}=zr(),[r,n]=T.useState("input"),[s,i]=T.useState({}),[a,o]=T.useState(0),[u,c]=T.useState(!1);T.useEffect(()=>{const m=new URLSearchParams(window.location.search),v=m.get("userId"),b=m.get("email"),x=m.get("token");v&&b&&i({id:v,email:b}),x&&v&&(console.log(" [EmailVerification]    :",{token:x,userId:v}),h.mutate({code:x,userId:v}))},[]),T.useEffect(()=>{let m;return a>0&&(m=setTimeout(()=>o(a-1),1e3)),()=>clearTimeout(m)},[a]);const d=Rl({resolver:$l(jxe),defaultValues:{code:""}}),h=ht({mutationFn:async m=>{console.log(" [EmailVerification]    :",{code:m.code,userId:m.userId||s.id});const v=m.userId||s.id;if(!v)throw new Error("  ");const b=await fetch("/api/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:v,code:m.code})}),x=await b.json();if(!b.ok)throw new Error(x.message||"   ");return x},onSuccess:m=>{console.log(" [EmailVerification]   :",m),m.success?(n("verified"),t({title:" ! ",description:m.message}),setTimeout(()=>{e("/login")},3e3)):(n("error"),t({title:" ",description:m.message,variant:"destructive"}))},onError:m=>{console.error(" [EmailVerification]   :",m),n("error"),t({title:" ",description:m instanceof Error?m.message:"   ",variant:"destructive"})}}),f=ht({mutationFn:async()=>{if(console.log(" [EmailVerification]    "),!s.id||!s.email)throw new Error("  ");const m=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s.id,email:s.email})}),v=await m.json();if(!m.ok)throw new Error(v.message||"  ");return v},onSuccess:m=>{console.log(" [EmailVerification]    :",m),t({title:"  ",description:m.message}),o(60),d.reset()},onError:m=>{console.error(" [EmailVerification]    :",m),t({title:"  ",description:m instanceof Error?m.message:"   ",variant:"destructive"})}}),p=m=>{h.mutate(m)},g=()=>{a===0&&f.mutate()},y=async()=>{const m=d.getValues("code");if(m&&m.length===6)try{await navigator.clipboard.writeText(m),c(!0),t({title:" !",description:"     "}),setTimeout(()=>c(!1),2e3)}catch{t({title:" ",description:"    ",variant:"destructive"})}else t({title:"   ",description:"    ",variant:"destructive"})};return r==="verified"?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4 relative",children:[l.jsx(yA,{}),l.jsxs(Dt,{className:"w-full max-w-md shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[l.jsxs(zn,{className:"text-center space-y-1",children:[l.jsx("div",{className:"mx-auto bg-blue-600 dark:bg-white rounded-full p-4 w-20 h-20 flex items-center justify-center shadow-lg shadow-blue-600/20",children:l.jsx(co,{className:"w-10 h-10 text-white dark:text-blue-600"})}),l.jsx(Kn,{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"  ! "}),l.jsx(Mc,{className:"text-lg",children:"    "})]}),l.jsx(Ht,{className:"space-y-1",children:l.jsxs("div",{className:"text-center space-y-1",children:[l.jsx("p",{className:"text-gray-600",children:"       ..."}),l.jsx(_e,{onClick:()=>e("/login"),className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700","data-testid":"button-continue-login",children:"   "})]})})]})]}):l.jsxs("div",{className:"w-full bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4 relative py-8",children:[l.jsx(yA,{}),l.jsxs(Dt,{className:"w-full max-w-md shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[l.jsxs(zn,{className:"text-center space-y-1",children:[l.jsx("div",{className:"mx-auto bg-blue-600 dark:bg-white rounded-full p-4 w-20 h-20 flex items-center justify-center shadow-lg shadow-blue-600/20",children:l.jsx(gj,{className:"w-10 h-10 text-white dark:text-blue-600"})}),l.jsx(Kn,{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"   "}),l.jsx(Mc,{className:"text-lg",children:"      "}),s.email&&l.jsxs("p",{className:"text-sm text-gray-600 bg-gray-100 p-2 rounded-lg",children:[" ",s.email]})]}),l.jsxs(Ht,{className:"space-y-1",children:[r==="error"&&l.jsx(uK,{className:"border-red-200 bg-red-50",children:l.jsx(dK,{className:"text-red-700",children:"    .        ."})}),l.jsx(Fl,{...d,children:l.jsxs("form",{onSubmit:d.handleSubmit(p),className:"space-y-1",children:[l.jsx(Ar,{control:d.control,name:"code",render:({field:m})=>l.jsxs(Tr,{children:[l.jsx(Sn,{className:"text-gray-700 font-medium",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Pr,{children:l.jsx(tt,{...m,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"000000",className:"text-center text-2xl font-mono tracking-widest h-14 border-2 focus:border-blue-500 pr-12",disabled:h.isPending,"data-testid":"input-verification-code",onChange:v=>{const b=v.target.value.replace(/\D/g,"");m.onChange(b)}})}),l.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:y,className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-10 w-10 p-0 hover:bg-blue-100",title:"   ","data-testid":"button-copy-verification-code",children:u?l.jsx(so,{className:"h-4 w-4 text-green-600"}):l.jsx(vf,{className:"h-4 w-4 text-gray-500"})})]}),l.jsx(ln,{})]})}),l.jsx(_e,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold text-lg shadow-lg",disabled:h.isPending,"data-testid":"button-verify-email",children:h.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Dr,{className:"w-5 h-5 mr-2 animate-spin"})," ..."]}):l.jsxs(l.Fragment,{children:[l.jsx(io,{className:"w-5 h-5 mr-2"}),"  "]})})]})}),l.jsxs("div",{className:"text-center space-y-1",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:""})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(_e,{variant:"outline",onClick:g,disabled:a>0||f.isPending,className:"w-full border-2 hover:bg-gray-50","data-testid":"button-resend-code",children:f.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Dr,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):a>0?l.jsxs(l.Fragment,{children:[l.jsx(mn,{className:"w-4 h-4 mr-2"})," ",a," "]}):l.jsxs(l.Fragment,{children:[l.jsx(ds,{className:"w-4 h-4 mr-2"}),"  "]})}),l.jsxs(_e,{variant:"ghost",onClick:()=>e("/login"),className:"w-full text-gray-600 hover:text-gray-800","data-testid":"button-back-login",children:[l.jsx(Voe,{className:"w-4 h-4 mr-2"}),"   "]})]})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-blue-900",children:"  :"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:"       "}),l.jsx("li",{children:"    24  "}),l.jsx("li",{children:"    6 "})]})]})]})]})]})}const Zo=Object.create(null);Zo.open="0";Zo.close="1";Zo.ping="2";Zo.pong="3";Zo.message="4";Zo.upgrade="5";Zo.noop="6";const Yy=Object.create(null);Object.keys(Zo).forEach(e=>{Yy[Zo[e]]=e});const d4={type:"error",data:"parser error"},fK=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",hK=typeof ArrayBuffer=="function",pK=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,w5=({type:e,data:t},r,n)=>fK&&t instanceof Blob?r?n(t):bA(t,n):hK&&(t instanceof ArrayBuffer||pK(t))?r?n(t):bA(new Blob([t]),n):n(Zo[e]+(t||"")),bA=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function vA(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let l2;function Cxe(e,t){if(fK&&e.data instanceof Blob)return e.data.arrayBuffer().then(vA).then(t);if(hK&&(e.data instanceof ArrayBuffer||pK(e.data)))return t(vA(e.data));w5(e,!1,r=>{l2||(l2=new TextEncoder),t(l2.encode(r))})}const xA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Op=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<xA.length;e++)Op[xA.charCodeAt(e)]=e;const Txe=e=>{let t=e.length*.75,r=e.length,n,s=0,i,a,o,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),d=new Uint8Array(c);for(n=0;n<r;n+=4)i=Op[e.charCodeAt(n)],a=Op[e.charCodeAt(n+1)],o=Op[e.charCodeAt(n+2)],u=Op[e.charCodeAt(n+3)],d[s++]=i<<2|a>>4,d[s++]=(a&15)<<4|o>>2,d[s++]=(o&3)<<6|u&63;return c},Exe=typeof ArrayBuffer=="function",_5=(e,t)=>{if(typeof e!="string")return{type:"message",data:mK(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Axe(e.substring(1),t)}:Yy[r]?e.length>1?{type:Yy[r],data:e.substring(1)}:{type:Yy[r]}:d4},Axe=(e,t)=>{if(Exe){const r=Txe(e);return mK(r,t)}else return{base64:!0,data:e}},mK=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},gK="",Pxe=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((i,a)=>{w5(i,!1,o=>{n[a]=o,++s===r&&t(n.join(gK))})})},Ixe=(e,t)=>{const r=e.split(gK),n=[];for(let s=0;s<r.length;s++){const i=_5(r[s],t);if(n.push(i),i.type==="error")break}return n};function Dxe(){return new TransformStream({transform(e,t){Cxe(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let c2;function my(e){return e.reduce((t,r)=>t+r.length,0)}function gy(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Mxe(e,t){c2||(c2=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(a,o){for(r.push(a);;){if(n===0){if(my(r)<1)break;const u=gy(r,1);i=(u[0]&128)===128,s=u[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(my(r)<2)break;const u=gy(r,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(my(r)<8)break;const u=gy(r,8),c=new DataView(u.buffer,u.byteOffset,u.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){o.enqueue(d4);break}s=d*Math.pow(2,32)+c.getUint32(4),n=3}else{if(my(r)<s)break;const u=gy(r,s);o.enqueue(_5(i?u:c2.decode(u),t)),n=0}if(s===0||s>e){o.enqueue(d4);break}}}})}const yK=4;function Gn(e){if(e)return Rxe(e)}function Rxe(e){for(var t in Gn.prototype)e[t]=Gn.prototype[t];return e}Gn.prototype.on=Gn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Gn.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Gn.prototype.off=Gn.prototype.removeListener=Gn.prototype.removeAllListeners=Gn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Gn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};Gn.prototype.emitReserved=Gn.prototype.emit;Gn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Gn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const x1=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),wa=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),$xe="arraybuffer";function bK(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const Oxe=wa.setTimeout,Fxe=wa.clearTimeout;function w1(e,t){t.useNativeTimers?(e.setTimeoutFn=Oxe.bind(wa),e.clearTimeoutFn=Fxe.bind(wa)):(e.setTimeoutFn=wa.setTimeout.bind(wa),e.clearTimeoutFn=wa.clearTimeout.bind(wa))}const Lxe=1.33;function zxe(e){return typeof e=="string"?Bxe(e):Math.ceil((e.byteLength||e.size)*Lxe)}function Bxe(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function vK(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Uxe(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Vxe(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class Wxe extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class k5 extends Gn{constructor(t){super(),this.writable=!1,w1(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new Wxe(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=_5(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Uxe(t);return r.length?"?"+r:""}}class qxe extends k5{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Ixe(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Pxe(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=vK()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let xK=!1;try{xK=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Hxe=xK;function Kxe(){}class Zxe extends qxe{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Uo extends Gn{constructor(t,r,n){super(),this.createRequest=t,w1(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=bK(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Uo.requestsCount++,Uo.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Kxe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Uo.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Uo.requestsCount=0;Uo.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",wA);else if(typeof addEventListener=="function"){const e="onpagehide"in wa?"pagehide":"unload";addEventListener(e,wA,!1)}}function wA(){for(let e in Uo.requests)Uo.requests.hasOwnProperty(e)&&Uo.requests[e].abort()}const Gxe=(function(){const e=wK({xdomain:!1});return e&&e.responseType!==null})();class Xxe extends Zxe{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Gxe&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Uo(wK,this.uri(),t)}}function wK(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Hxe))return new XMLHttpRequest}catch{}if(!t)try{return new wa[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const _K=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Qxe extends k5{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=_K?{}:bK(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;w5(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&x1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=vK()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const u2=wa.WebSocket||wa.MozWebSocket;class Yxe extends Qxe{createSocket(t,r,n){return _K?new u2(t,r,n):r?new u2(t,r):new u2(t)}doWrite(t,r){this.ws.send(r)}}class Jxe extends k5{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=Mxe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=Dxe();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:o,value:u})=>{o||(this.onPacket(u),i())}).catch(o=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&x1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const e1e={websocket:Yxe,webtransport:Jxe,polling:Xxe},t1e=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r1e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function f4(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=t1e.exec(e||""),i={},a=14;for(;a--;)i[r1e[a]]=s[a]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=n1e(i,i.path),i.queryKey=s1e(i,i.query),i}function n1e(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function s1e(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const h4=typeof addEventListener=="function"&&typeof removeEventListener=="function",Jy=[];h4&&addEventListener("offline",()=>{Jy.forEach(e=>e())},!1);class $c extends Gn{constructor(t,r){if(super(),this.binaryType=$xe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=f4(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=f4(r.host).host);w1(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Vxe(this.opts.query)),h4&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Jy.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=yK,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&$c.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",$c.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=zxe(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,x1(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if($c.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),h4&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Jy.indexOf(this._offlineEventListener);n!==-1&&Jy.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}$c.protocol=yK;class i1e extends $c{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;$c.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;$c.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function i(){n||(n=!0,d(),r.close(),r=null)}const a=h=>{const f=new Error("probe error: "+h);f.transport=r.name,i(),this.emitReserved("upgradeError",f)};function o(){a("transport closed")}function u(){a("socket closed")}function c(h){r&&h.name!==r.name&&i()}const d=()=>{r.removeListener("open",s),r.removeListener("error",a),r.removeListener("close",o),this.off("close",u),this.off("upgrading",c)};r.once("open",s),r.once("error",a),r.once("close",o),this.once("close",u),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let a1e=class extends i1e{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>e1e[s]).filter(s=>!!s)),super(t,n)}};function o1e(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=f4(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const l1e=typeof ArrayBuffer=="function",c1e=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,kK=Object.prototype.toString,u1e=typeof Blob=="function"||typeof Blob<"u"&&kK.call(Blob)==="[object BlobConstructor]",d1e=typeof File=="function"||typeof File<"u"&&kK.call(File)==="[object FileConstructor]";function S5(e){return l1e&&(e instanceof ArrayBuffer||c1e(e))||u1e&&e instanceof Blob||d1e&&e instanceof File}function eb(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(eb(e[r]))return!0;return!1}if(S5(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return eb(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&eb(e[r]))return!0;return!1}function f1e(e){const t=[],r=e.data,n=e;return n.data=p4(r,t),n.attachments=t.length,{packet:n,buffers:t}}function p4(e,t){if(!e)return e;if(S5(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=p4(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=p4(e[n],t));return r}return e}function h1e(e,t){return e.data=m4(e.data,t),delete e.attachments,e}function m4(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=m4(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=m4(e[r],t));return e}const p1e=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Nr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Nr||(Nr={}));class m1e{constructor(t){this.replacer=t}encode(t){return(t.type===Nr.EVENT||t.type===Nr.ACK)&&eb(t)?this.encodeAsBinary({type:t.type===Nr.EVENT?Nr.BINARY_EVENT:Nr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Nr.BINARY_EVENT||t.type===Nr.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=f1e(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}class j5 extends Gn{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Nr.BINARY_EVENT;n||r.type===Nr.BINARY_ACK?(r.type=n?Nr.EVENT:Nr.ACK,this.reconstructor=new g1e(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(S5(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Nr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Nr.BINARY_EVENT||n.type===Nr.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const a=t.substring(i,r);if(a!=Number(a)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const a=t.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(j5.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Nr.CONNECT:return _A(r);case Nr.DISCONNECT:return r===void 0;case Nr.CONNECT_ERROR:return typeof r=="string"||_A(r);case Nr.EVENT:case Nr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&p1e.indexOf(r[0])===-1);case Nr.ACK:case Nr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class g1e{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=h1e(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function _A(e){return Object.prototype.toString.call(e)==="[object Object]"}const y1e=Object.freeze(Object.defineProperty({__proto__:null,Decoder:j5,Encoder:m1e,get PacketType(){return Nr}},Symbol.toStringTag,{value:"Module"}));function Xa(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const b1e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class SK extends Gn{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Xa(t,"open",this.onopen.bind(this)),Xa(t,"packet",this.onpacket.bind(this)),Xa(t,"error",this.onerror.bind(this)),Xa(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,i;if(b1e.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const a={type:Nr.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,h=r.pop();this._registerAckCallback(d,h),a.id=d}const o=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(u?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},s),a=(...o)=>{this.io.clearTimeoutFn(i),r.apply(this,o)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...r){return new Promise((n,s)=>{const i=(a,o)=>a?s(a):n(o);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>(this._queue[0],s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Nr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Nr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Nr.EVENT:case Nr.BINARY_EVENT:this.onevent(t);break;case Nr.ACK:case Nr.BINARY_ACK:this.onack(t);break;case Nr.DISCONNECT:this.ondisconnect();break;case Nr.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Nr.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Nr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Xh(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Xh.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Xh.prototype.reset=function(){this.attempts=0};Xh.prototype.setMin=function(e){this.ms=e};Xh.prototype.setMax=function(e){this.max=e};Xh.prototype.setJitter=function(e){this.jitter=e};class g4 extends Gn{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,w1(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Xh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||y1e;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new a1e(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Xa(r,"open",function(){n.onopen(),t&&t()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},a=Xa(r,"error",i);if(this._timeout!==!1){const o=this._timeout,u=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},o);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Xa(t,"ping",this.onping.bind(this)),Xa(t,"data",this.ondata.bind(this)),Xa(t,"error",this.onerror.bind(this)),Xa(t,"close",this.onclose.bind(this)),Xa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){x1(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new SK(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const _p={};function tb(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=o1e(e,t.path||"/socket.io"),n=r.source,s=r.id,i=r.path,a=_p[s]&&i in _p[s].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let u;return o?u=new g4(n,t):(_p[s]||(_p[s]=new g4(n,t)),u=_p[s]),r.query&&!t.query&&(t.query=r.queryKey),u.socket(r.path,t)}Object.assign(tb,{Manager:g4,Socket:SK,io:tb,connect:tb});function v1e(){const e=Yn(),{toast:t}=zr(),r=T.useRef(null);T.useEffect(()=>((()=>{try{console.log(" [Socket.IO]  ...");const s=tb({reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:10,transports:["websocket","polling"],...window.location.hostname==="localhost"&&{}});r.current=s,s.on("connect",()=>{console.log(" [Socket.IO]   !",s.id)}),s.on("disconnect",i=>{console.log(" [Socket.IO]   :",i)}),s.on("error",i=>{console.error(" [Socket.IO] :",i)}),s.on("message",i=>{try{if(console.log(" [Socket.IO]  :",i),i.type==="INVALIDATE"){const a=[i.entity,i.id].filter(Boolean);console.log(" [Socket.IO]   cache:",a),e.invalidateQueries({queryKey:a})}else i.type==="UPDATE_ALL"&&e.invalidateQueries({queryKey:[i.entity],exact:!1})}catch(a){console.error(" [Socket.IO]    :",a)}})}catch(s){console.error(" [Socket.IO]   :",s)}})(),()=>{r.current&&r.current.disconnect()}),[e,t])}var _1="Collapsible",[x1e]=Ls(_1),[w1e,N5]=x1e(_1),jK=T.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:a,...o}=e,[u,c]=Ma({prop:n,defaultProp:s??!1,onChange:a,caller:_1});return l.jsx(w1e,{scope:r,disabled:i,contentId:Qi(),open:u,onOpenToggle:T.useCallback(()=>c(d=>!d),[c]),children:l.jsx(wt.div,{"data-state":T5(u),"data-disabled":i?"":void 0,...o,ref:t})})});jK.displayName=_1;var NK="CollapsibleTrigger",CK=T.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=N5(NK,r);return l.jsx(wt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":T5(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:et(e.onClick,s.onOpenToggle)})});CK.displayName=NK;var C5="CollapsibleContent",TK=T.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=N5(C5,e.__scopeCollapsible);return l.jsx(Jn,{present:r||s.open,children:({present:i})=>l.jsx(_1e,{...n,ref:t,present:i})})});TK.displayName=C5;var _1e=T.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,a=N5(C5,r),[o,u]=T.useState(n),c=T.useRef(null),d=tr(t,c),h=T.useRef(0),f=h.current,p=T.useRef(0),g=p.current,y=a.open||o,m=T.useRef(y),v=T.useRef(void 0);return T.useEffect(()=>{const b=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(b)},[]),js(()=>{const b=c.current;if(b){v.current=v.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const x=b.getBoundingClientRect();h.current=x.height,p.current=x.width,m.current||(b.style.transitionDuration=v.current.transitionDuration,b.style.animationName=v.current.animationName),u(n)}},[a.open,n]),l.jsx(wt.div,{"data-state":T5(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:y&&s})});function T5(e){return e?"open":"closed"}var k1e=jK;const fa=k1e,ha=CK,pa=TK;function y4(e,[t,r]){return Math.min(r,Math.max(t,e))}var S1e=T.createContext(void 0);function Qh(e){const t=T.useContext(S1e);return e||t||"ltr"}function j1e(e){const t=N1e(e),r=T.forwardRef((n,s)=>{const{children:i,...a}=n,o=T.Children.toArray(i),u=o.find(T1e);if(u){const c=u.props.children,d=o.map(h=>h===u?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:h);return l.jsx(t,{...a,ref:s,children:T.isValidElement(c)?T.cloneElement(c,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function N1e(e){const t=T.forwardRef((r,n)=>{const{children:s,...i}=r;if(T.isValidElement(s)){const a=A1e(s),o=E1e(i,s.props);return s.type!==T.Fragment&&(o.ref=n?Go(n,a):a),T.cloneElement(s,o)}return T.Children.count(s)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var C1e=Symbol("radix.slottable");function T1e(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===C1e}function E1e(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function A1e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var EK=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),P1e="VisuallyHidden",I1e=T.forwardRef((e,t)=>l.jsx(wt.span,{...e,ref:t,style:{...EK,...e.style}}));I1e.displayName=P1e;var D1e=[" ","Enter","ArrowUp","ArrowDown"],M1e=[" ","Enter"],wd="Select",[k1,S1,R1e]=Jv(wd),[Yh]=Ls(wd,[R1e,fu]),j1=fu(),[$1e,gu]=Yh(wd),[O1e,F1e]=Yh(wd),AK=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:u,dir:c,name:d,autoComplete:h,disabled:f,required:p,form:g}=e,y=j1(t),[m,v]=T.useState(null),[b,x]=T.useState(null),[j,C]=T.useState(!1),R=Qh(c),[L,A]=Ma({prop:n,defaultProp:s??!1,onChange:i,caller:wd}),[P,$]=Ma({prop:a,defaultProp:o,onChange:u,caller:wd}),V=T.useRef(null),U=m?g||!!m.closest("form"):!0,[E,I]=T.useState(new Set),N=Array.from(E).map(w=>w.props.value).join(";");return l.jsx(ix,{...y,children:l.jsxs($1e,{required:p,scope:t,trigger:m,onTriggerChange:v,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:j,onValueNodeHasChildrenChange:C,contentId:Qi(),value:P,onValueChange:$,open:L,onOpenChange:A,dir:R,triggerPointerDownPosRef:V,disabled:f,children:[l.jsx(k1.Provider,{scope:t,children:l.jsx(O1e,{scope:e.__scopeSelect,onNativeOptionAdd:T.useCallback(w=>{I(_=>new Set(_).add(w))},[]),onNativeOptionRemove:T.useCallback(w=>{I(_=>{const k=new Set(_);return k.delete(w),k})},[]),children:r})}),U?l.jsxs(eZ,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:P,onChange:w=>$(w.target.value),disabled:f,form:g,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(E)]},N):null]})})};AK.displayName=wd;var PK="SelectTrigger",IK=T.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=j1(r),a=gu(PK,r),o=a.disabled||n,u=tr(t,a.onTriggerChange),c=S1(r),d=T.useRef("touch"),[h,f,p]=rZ(y=>{const m=c().filter(x=>!x.disabled),v=m.find(x=>x.value===a.value),b=nZ(m,y,v);b!==void 0&&a.onValueChange(b.value)}),g=y=>{o||(a.onOpenChange(!0),p()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(Dg,{asChild:!0,...i,children:l.jsx(wt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":tZ(a.value)?"":void 0,...s,ref:u,onClick:et(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:et(s.onPointerDown,y=>{d.current=y.pointerType;const m=y.target;m.hasPointerCapture(y.pointerId)&&m.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:et(s.onKeyDown,y=>{const m=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(m&&y.key===" ")&&D1e.includes(y.key)&&(g(),y.preventDefault())})})})});IK.displayName=PK;var DK="SelectValue",MK=T.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...o}=e,u=gu(DK,r),{onValueNodeHasChildrenChange:c}=u,d=i!==void 0,h=tr(t,u.onValueNodeChange);return js(()=>{c(d)},[c,d]),l.jsx(wt.span,{...o,ref:h,style:{pointerEvents:"none"},children:tZ(u.value)?l.jsx(l.Fragment,{children:a}):i})});MK.displayName=DK;var L1e="SelectIcon",RK=T.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(wt.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});RK.displayName=L1e;var z1e="SelectPortal",$K=e=>l.jsx($h,{asChild:!0,...e});$K.displayName=z1e;var _d="SelectContent",OK=T.forwardRef((e,t)=>{const r=gu(_d,e.__scopeSelect),[n,s]=T.useState();if(js(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?uu.createPortal(l.jsx(FK,{scope:e.__scopeSelect,children:l.jsx(k1.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(LK,{...e,ref:t})});OK.displayName=_d;var Wa=10,[FK,yu]=Yh(_d),B1e="SelectContentImpl",U1e=j1e("SelectContent.RemoveScroll"),LK=T.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:u,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:m,...v}=e,b=gu(_d,r),[x,j]=T.useState(null),[C,R]=T.useState(null),L=tr(t,K=>j(K)),[A,P]=T.useState(null),[$,V]=T.useState(null),U=S1(r),[E,I]=T.useState(!1),N=T.useRef(!1);T.useEffect(()=>{if(x)return b1(x)},[x]),g1();const w=T.useCallback(K=>{const[z,...F]=U().map(le=>le.ref.current),[W]=F.slice(-1),J=document.activeElement;for(const le of K)if(le===J||(le?.scrollIntoView({block:"nearest"}),le===z&&C&&(C.scrollTop=0),le===W&&C&&(C.scrollTop=C.scrollHeight),le?.focus(),document.activeElement!==J))return},[U,C]),_=T.useCallback(()=>w([A,x]),[w,A,x]);T.useEffect(()=>{E&&_()},[E,_]);const{onOpenChange:k,triggerPointerDownPosRef:S}=b;T.useEffect(()=>{if(x){let K={x:0,y:0};const z=W=>{K={x:Math.abs(Math.round(W.pageX)-(S.current?.x??0)),y:Math.abs(Math.round(W.pageY)-(S.current?.y??0))}},F=W=>{K.x<=10&&K.y<=10?W.preventDefault():x.contains(W.target)||k(!1),document.removeEventListener("pointermove",z),S.current=null};return S.current!==null&&(document.addEventListener("pointermove",z),document.addEventListener("pointerup",F,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",F,{capture:!0})}}},[x,k,S]),T.useEffect(()=>{const K=()=>k(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[k]);const[D,O]=rZ(K=>{const z=U().filter(J=>!J.disabled),F=z.find(J=>J.ref.current===document.activeElement),W=nZ(z,K,F);W&&setTimeout(()=>W.ref.current.focus())}),B=T.useCallback((K,z,F)=>{const W=!N.current&&!F;(b.value!==void 0&&b.value===z||W)&&(P(K),W&&(N.current=!0))},[b.value]),q=T.useCallback(()=>x?.focus(),[x]),H=T.useCallback((K,z,F)=>{const W=!N.current&&!F;(b.value!==void 0&&b.value===z||W)&&V(K)},[b.value]),Q=n==="popper"?b4:zK,M=Q===b4?{side:o,sideOffset:u,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:m}:{};return l.jsx(FK,{scope:r,content:x,viewport:C,onViewportChange:R,itemRefCallback:B,selectedItem:A,onItemLeave:q,itemTextRefCallback:H,focusSelectedItem:_,selectedItemText:$,position:n,isPositioned:E,searchRef:D,children:l.jsx(d0,{as:U1e,allowPinchZoom:!0,children:l.jsx(u0,{asChild:!0,trapped:b.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:et(s,K=>{b.trigger?.focus({preventScroll:!0}),K.preventDefault()}),children:l.jsx(Dd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:l.jsx(Q,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:K=>K.preventDefault(),...v,...M,onPlaced:()=>I(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:et(v.onKeyDown,K=>{const z=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!z&&K.key.length===1&&O(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let W=U().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(K.key)&&(W=W.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const J=K.target,le=W.indexOf(J);W=W.slice(le+1)}setTimeout(()=>w(W)),K.preventDefault()}})})})})})})});LK.displayName=B1e;var V1e="SelectItemAlignedPosition",zK=T.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=gu(_d,r),a=yu(_d,r),[o,u]=T.useState(null),[c,d]=T.useState(null),h=tr(t,L=>d(L)),f=S1(r),p=T.useRef(!1),g=T.useRef(!0),{viewport:y,selectedItem:m,selectedItemText:v,focusSelectedItem:b}=a,x=T.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&c&&y&&m&&v){const L=i.trigger.getBoundingClientRect(),A=c.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),$=v.getBoundingClientRect();if(i.dir!=="rtl"){const J=$.left-A.left,le=P.left-J,ne=L.left-le,ue=L.width+ne,Z=Math.max(ue,A.width),te=window.innerWidth-Wa,X=y4(le,[Wa,Math.max(Wa,te-Z)]);o.style.minWidth=ue+"px",o.style.left=X+"px"}else{const J=A.right-$.right,le=window.innerWidth-P.right-J,ne=window.innerWidth-L.right-le,ue=L.width+ne,Z=Math.max(ue,A.width),te=window.innerWidth-Wa,X=y4(le,[Wa,Math.max(Wa,te-Z)]);o.style.minWidth=ue+"px",o.style.right=X+"px"}const V=f(),U=window.innerHeight-Wa*2,E=y.scrollHeight,I=window.getComputedStyle(c),N=parseInt(I.borderTopWidth,10),w=parseInt(I.paddingTop,10),_=parseInt(I.borderBottomWidth,10),k=parseInt(I.paddingBottom,10),S=N+w+E+k+_,D=Math.min(m.offsetHeight*5,S),O=window.getComputedStyle(y),B=parseInt(O.paddingTop,10),q=parseInt(O.paddingBottom,10),H=L.top+L.height/2-Wa,Q=U-H,M=m.offsetHeight/2,K=m.offsetTop+M,z=N+w+K,F=S-z;if(z<=H){const J=V.length>0&&m===V[V.length-1].ref.current;o.style.bottom="0px";const le=c.clientHeight-y.offsetTop-y.offsetHeight,ne=Math.max(Q,M+(J?q:0)+le+_),ue=z+ne;o.style.height=ue+"px"}else{const J=V.length>0&&m===V[0].ref.current;o.style.top="0px";const ne=Math.max(H,N+y.offsetTop+(J?B:0)+M)+F;o.style.height=ne+"px",y.scrollTop=z-H+y.offsetTop}o.style.margin=`${Wa}px 0`,o.style.minHeight=D+"px",o.style.maxHeight=U+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,o,c,y,m,v,i.dir,n]);js(()=>x(),[x]);const[j,C]=T.useState();js(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const R=T.useCallback(L=>{L&&g.current===!0&&(x(),b?.(),g.current=!1)},[x,b]);return l.jsx(q1e,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:R,children:l.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:l.jsx(wt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});zK.displayName=V1e;var W1e="SelectPopperPosition",b4=T.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Wa,...i}=e,a=j1(r);return l.jsx(ax,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});b4.displayName=W1e;var[q1e,E5]=Yh(_d,{}),v4="SelectViewport",BK=T.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=yu(v4,r),a=E5(v4,r),o=tr(t,i.onViewportChange),u=T.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(k1.Slot,{scope:r,children:l.jsx(wt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:et(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f?.current&&h){const p=Math.abs(u.current-d.scrollTop);if(p>0){const g=window.innerHeight-Wa*2,y=parseFloat(h.style.minHeight),m=parseFloat(h.style.height),v=Math.max(y,m);if(v<g){const b=v+p,x=Math.min(g,b),j=b-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});BK.displayName=v4;var UK="SelectGroup",[H1e,K1e]=Yh(UK),Z1e=T.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Qi();return l.jsx(H1e,{scope:r,id:s,children:l.jsx(wt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Z1e.displayName=UK;var VK="SelectLabel",WK=T.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=K1e(VK,r);return l.jsx(wt.div,{id:s.id,...n,ref:t})});WK.displayName=VK;var hv="SelectItem",[G1e,qK]=Yh(hv),HK=T.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,o=gu(hv,r),u=yu(hv,r),c=o.value===n,[d,h]=T.useState(i??""),[f,p]=T.useState(!1),g=tr(t,b=>u.itemRefCallback?.(b,n,s)),y=Qi(),m=T.useRef("touch"),v=()=>{s||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(G1e,{scope:r,value:n,disabled:s,textId:y,isSelected:c,onItemTextChange:T.useCallback(b=>{h(x=>x||(b?.textContent??"").trim())},[]),children:l.jsx(k1.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(wt.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:g,onFocus:et(a.onFocus,()=>p(!0)),onBlur:et(a.onBlur,()=>p(!1)),onClick:et(a.onClick,()=>{m.current!=="mouse"&&v()}),onPointerUp:et(a.onPointerUp,()=>{m.current==="mouse"&&v()}),onPointerDown:et(a.onPointerDown,b=>{m.current=b.pointerType}),onPointerMove:et(a.onPointerMove,b=>{m.current=b.pointerType,s?u.onItemLeave?.():m.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(a.onPointerLeave,b=>{b.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:et(a.onKeyDown,b=>{u.searchRef?.current!==""&&b.key===" "||(M1e.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});HK.displayName=hv;var Fp="SelectItemText",KK=T.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=gu(Fp,r),o=yu(Fp,r),u=qK(Fp,r),c=F1e(Fp,r),[d,h]=T.useState(null),f=tr(t,v=>h(v),u.onItemTextChange,v=>o.itemTextRefCallback?.(v,u.value,u.disabled)),p=d?.textContent,g=T.useMemo(()=>l.jsx("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:m}=c;return js(()=>(y(g),()=>m(g)),[y,m,g]),l.jsxs(l.Fragment,{children:[l.jsx(wt.span,{id:u.textId,...i,ref:f}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?uu.createPortal(i.children,a.valueNode):null]})});KK.displayName=Fp;var ZK="SelectItemIndicator",GK=T.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return qK(ZK,r).isSelected?l.jsx(wt.span,{"aria-hidden":!0,...n,ref:t}):null});GK.displayName=ZK;var x4="SelectScrollUpButton",XK=T.forwardRef((e,t)=>{const r=yu(x4,e.__scopeSelect),n=E5(x4,e.__scopeSelect),[s,i]=T.useState(!1),a=tr(t,n.onScrollButtonChange);return js(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=u.scrollTop>0;i(c)};const u=r.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?l.jsx(YK,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=r;o&&u&&(o.scrollTop=o.scrollTop-u.offsetHeight)}}):null});XK.displayName=x4;var w4="SelectScrollDownButton",QK=T.forwardRef((e,t)=>{const r=yu(w4,e.__scopeSelect),n=E5(w4,e.__scopeSelect),[s,i]=T.useState(!1),a=tr(t,n.onScrollButtonChange);return js(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<c;i(d)};const u=r.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?l.jsx(YK,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=r;o&&u&&(o.scrollTop=o.scrollTop+u.offsetHeight)}}):null});QK.displayName=w4;var YK=T.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=yu("SelectScrollButton",r),a=T.useRef(null),o=S1(r),u=T.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return T.useEffect(()=>()=>u(),[u]),js(()=>{o().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),l.jsx(wt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:et(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:et(s.onPointerMove,()=>{i.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:et(s.onPointerLeave,()=>{u()})})}),X1e="SelectSeparator",JK=T.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(wt.div,{"aria-hidden":!0,...n,ref:t})});JK.displayName=X1e;var _4="SelectArrow",Q1e=T.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=j1(r),i=gu(_4,r),a=yu(_4,r);return i.open&&a.position==="popper"?l.jsx(ox,{...s,...n,ref:t}):null});Q1e.displayName=_4;var Y1e="SelectBubbleInput",eZ=T.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=T.useRef(null),i=tr(n,s),a=f5(t);return T.useEffect(()=>{const o=s.current;if(!o)return;const u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(h)}},[a,t]),l.jsx(wt.select,{...r,style:{...EK,...r.style},ref:i,defaultValue:t})});eZ.displayName=Y1e;function tZ(e){return e===""||e===void 0}function rZ(e){const t=Ys(e),r=T.useRef(""),n=T.useRef(0),s=T.useCallback(a=>{const o=r.current+a;t(o),(function u(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(o)},[t]),i=T.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function nZ(e,t,r){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=J1e(e,Math.max(i,0));s.length===1&&(a=a.filter(c=>c!==r));const u=a.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function J1e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ewe=AK,sZ=IK,twe=MK,rwe=RK,nwe=$K,iZ=OK,swe=BK,aZ=WK,oZ=HK,iwe=KK,awe=GK,lZ=XK,cZ=QK,uZ=JK;const En=e=>l.jsx(ewe,{modal:!1,...e}),An=twe,bn=T.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(sZ,{ref:n,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(rwe,{asChild:!0,children:l.jsx(pn,{className:"h-4 w-4 opacity-50"})})]}));bn.displayName=sZ.displayName;const dZ=T.forwardRef(({className:e,...t},r)=>l.jsx(lZ,{ref:r,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(lo,{className:"h-4 w-4"})}));dZ.displayName=lZ.displayName;const fZ=T.forwardRef(({className:e,...t},r)=>l.jsx(cZ,{ref:r,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(pn,{className:"h-4 w-4"})}));fZ.displayName=cZ.displayName;const vn=T.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(nwe,{children:l.jsxs(iZ,{ref:s,className:we("relative z-[99999] max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,style:{pointerEvents:"auto"},...n,children:[l.jsx(dZ,{}),l.jsx(swe,{className:we("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(fZ,{})]})}));vn.displayName=iZ.displayName;const owe=T.forwardRef(({className:e,...t},r)=>l.jsx(aZ,{ref:r,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));owe.displayName=aZ.displayName;const vt=T.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(oZ,{ref:n,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(awe,{children:l.jsx(so,{className:"h-4 w-4"})})}),l.jsx(iwe,{children:t})]}));vt.displayName=oZ.displayName;const lwe=T.forwardRef(({className:e,...t},r)=>l.jsx(uZ,{ref:r,className:we("-mx-1 my-1 h-px bg-muted",e),...t}));lwe.displayName=uZ.displayName;function is({value:e,onChange:t,placeholder:r,category:n,disabled:s=!1,className:i="",type:a="text",inputMode:o="text",autoWidth:u=!1,maxWidth:c=420}){const[d,h]=T.useState(!1),[f,p]=T.useState(""),g=T.useRef(null),y=T.useRef(null),m=Yn(),{data:v=[],isLoading:b}=st({queryKey:fe.autocompleteCategory(n),queryFn:async()=>{const U=await Ie(`/api/autocomplete/${n}`,"GET");return U&&typeof U=="object"?U.data||U:[]},enabled:!!n,staleTime:1e3*60*5}),x=ht({mutationFn:U=>Ie("/api/autocomplete","POST",U),onSuccess:async()=>{await m.invalidateQueries({queryKey:fe.autocompleteCategory(n)})},onError:U=>{console.error("Error saving autocomplete data:",U)}}),j=ht({mutationFn:({category:U,value:E})=>Ie(`/api/autocomplete/${U}/${encodeURIComponent(E)}`,"DELETE"),onSuccess:async()=>{await m.invalidateQueries({queryKey:fe.autocompleteCategory(n)})}}),C=Array.isArray(v)?v.filter(U=>U?.value&&typeof U.value=="string"?U.value.toLowerCase().includes(f.toLowerCase()):!1):[],R=T.useCallback(U=>{t(U),h(!1),p(""),U&&typeof U=="string"&&U.trim()&&x.mutate({category:n,value:U.trim()})},[t,n,x]),L=T.useCallback(U=>{setTimeout(()=>{y.current&&!y.current.contains(U.relatedTarget)&&(h(!1),p(""),e&&typeof e=="string"&&e.trim()&&e.trim().length>=2&&x.mutate({category:n,value:e.trim()}))},150)},[e,n,x]),A=T.useCallback((U,E)=>{E.stopPropagation(),j.mutate({category:n,value:U})},[n,j]);T.useEffect(()=>{const U=E=>{y.current&&!y.current.contains(E.target)&&g.current&&!g.current.contains(E.target)&&(h(!1),p(""))};if(d)return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[d]);const P=U=>{const E=U.target.value;t(E),p(E),!d&&E&&E.length>=1&&h(!0)},$=T.useCallback(U=>{U.key==="Enter"&&e.trim()&&e.trim().length>=2&&(U.preventDefault(),h(!1),p(""),x.mutate({category:n,value:e.trim()}))},[e,n,x]),V=()=>{h(!0),m.refetchQueries({queryKey:fe.autocompleteCategory(n)})};return l.jsxs("div",{className:we("relative",u?"inline-block align-bottom":"w-full"),children:[l.jsx(tt,{ref:g,value:e,onChange:P,onFocus:V,onBlur:L,onKeyDown:$,placeholder:r,disabled:s,className:`arabic-numbers ${i}`,type:a,inputMode:o,autoWidth:u,maxWidth:c}),d&&!s&&l.jsx("div",{ref:y,className:"absolute z-50 w-full mt-1",children:l.jsx(Dt,{className:"max-h-64 overflow-y-auto shadow-lg border",children:b?l.jsxs("div",{className:"p-3 text-center text-gray-500",children:[l.jsx(uo,{className:"w-4 h-4 animate-spin mx-auto"})," ..."]}):Array.isArray(C)&&C.length>0?l.jsx("div",{className:"py-1",children:C.slice(0,10).map(U=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 hover:bg-gray-100 cursor-pointer group",onClick:()=>R(U.value),children:[l.jsx("span",{className:"flex-1 text-right",children:U.value}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("span",{className:"text-xs text-gray-400",children:U.usageCount}),l.jsx(_e,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 hover:bg-red-100 hover:text-red-600",onClick:E=>A(U.value,E),children:l.jsx(Nn,{className:"w-3 h-3"})})]})]},U.id))}):f?l.jsxs("div",{className:"p-3 text-center text-gray-500",children:[l.jsx(uo,{className:"w-4 h-4 mx-auto"}),'    "',f,'"']}):l.jsx("div",{className:"p-3 text-center text-gray-500",children:"    "})})})]})}const kp="construction-app-selected-project",Sp="construction-app-selected-project-name",ts="all",So=" ",cwe=[fe.projects,fe.projectsWithStats,fe.workers,fe.workerTypes,fe.materials,fe.projectFundTransfers,fe.transportationExpenses,fe.workerMiscExpenses,fe.suppliers,fe.dailyExpenseSummaries,fe.notifications],hZ=T.createContext(null);function uwe({children:e}){const[t,r]=T.useState(ts),[n,s]=T.useState(So),[i,a]=T.useState(!1),o=Yn(),{data:u,isLoading:c,error:d}=st({queryKey:fe.projects,queryFn:async()=>{const R=await fetch("/api/projects",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`}});if(!R.ok)throw new Error("   ");const L=await R.json();return Array.isArray(L?.data)?L.data:Array.isArray(L)?L:[]},staleTime:1e3*5,gcTime:1e3*60*2,retry:2,refetchOnWindowFocus:!0,refetchOnMount:!0}),h=T.useMemo(()=>Array.isArray(u)?u:[],[u]);T.useEffect(()=>{try{const R=localStorage.getItem(kp),L=localStorage.getItem(Sp);R&&R!=="undefined"&&R!=="null"?(r(R),L&&s(L)):(r(ts),s(So))}catch{localStorage.removeItem(kp),localStorage.removeItem(Sp),r(ts),s(So)}finally{a(!0)}},[]);const f=!i||c,p=T.useCallback(async R=>{console.log(" [SelectedProjectContext]    ...",R);const L=Date.now();await o.cancelQueries();const A=cwe.map($=>o.invalidateQueries({queryKey:$,refetchType:"all",exact:!1}));R&&R!==ts&&A.push(o.invalidateQueries({predicate:$=>{const V=$.queryKey;return Array.isArray(V)&&V.some(U=>String(U)===R)},refetchType:"all"})),await Promise.all(A),await o.refetchQueries({type:"active",exact:!1});const P=Date.now()-L;console.log(` [SelectedProjectContext]      ${P}ms`)},[o]),g=T.useCallback(async(R,L)=>{console.log(" [SelectedProjectContext]   :",{projectId:R,projectName:L}),r(R),L?s(L):R===ts&&s(So);try{R&&R!=="undefined"&&R!=="null"?(localStorage.setItem(kp,R),L?localStorage.setItem(Sp,L):R===ts&&localStorage.setItem(Sp,So)):(localStorage.removeItem(kp),localStorage.removeItem(Sp),s(""))}catch(A){console.error(" [SelectedProjectContext]    :",A)}await p(R)},[p]),y=T.useCallback(()=>{g(ts,So)},[g]),m=T.useCallback(()=>{console.log(" [SelectedProjectContext]   "),g(ts,So)},[g]),v=T.useCallback(()=>{try{const R=localStorage.getItem(kp);return!!(R&&R!=="undefined"&&R!=="null"&&R!==ts)}catch{return!1}},[]),b=T.useCallback(()=>{if(!(t===ts||!t))return t},[t]),x=t===ts,j=T.useCallback(async()=>{await p(t)},[p,t]),C=T.useMemo(()=>({selectedProjectId:t,selectedProjectName:n,isLoading:f,isAllProjects:x,selectProject:g,clearProject:m,selectAllProjects:y,hasStoredProject:v,getProjectIdForApi:b,projects:h,projectsError:d,isProjectsLoading:c,refreshAllData:j}),[t,n,f,x,g,m,y,v,b,h,d,c,j]);return l.jsx(hZ.Provider,{value:C,children:e})}function dwe(){const e=T.useContext(hZ);if(!e)throw new Error("useSelectedProjectContext must be used within a SelectedProjectProvider");return e}function yo(){const e=dwe();return{...e,refreshAllData:e.refreshAllData}}const fwe=Md("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ft({className:e,variant:t,...r}){return l.jsx("div",{className:we(fwe({variant:t}),e),...r})}function hwe({worker:e,attendance:t,onAttendanceChange:r,selectedDate:n=Ds()}){const[s,i]=T.useState(t),[a,o]=T.useState(!1),[u,c]=T.useState(t.recordType||"work"),{data:d}=st({queryKey:fe.workerStatsSimple(e.id),queryFn:async()=>{try{const C=await Ie(`/api/workers/${e.id}/stats`,"GET");return C&&C.data?C.data:C||{totalWorkDays:0,totalProjects:0,totalEarnings:0}}catch(C){return console.error("Error fetching worker stats:",C),{totalWorkDays:0,totalProjects:0,totalEarnings:0}}},staleTime:3e4}),h=s.isPresent&&n===Ds();T.useEffect(()=>{i(t)},[t]);const f=C=>{const R={...s,...C};R.isPresent&&(C.workDays!==void 0||C.paidAmount!==void 0||C.overtime!==void 0||C.overtimeRate!==void 0)&&(R.actualWage=y(),R.totalPay=v(),R.remainingAmount=b(),R.hoursWorked=g()),i(R),r(R)},p=C=>{const R=C===!0;R||o(!1),f(R&&u==="work"?{isPresent:R,startTime:s.startTime||"07:00",endTime:s.endTime||"15:00",workDescription:s.workDescription,workDays:s.workDays===void 0?0:s.workDays,paidAmount:s.paidAmount,paymentType:s.paymentType||"partial"}:R&&u==="advance"?{isPresent:R,workDays:0,paidAmount:s.paidAmount||"0",paymentType:"advance",startTime:void 0,endTime:void 0}:{isPresent:R})},g=()=>{if(!s.startTime||!s.endTime)return 0;const C=new Date(`2000-01-01T${s.startTime}:00`);let L=new Date(`2000-01-01T${s.endTime}:00`).getTime()-C.getTime();L<0&&(L+=1440*60*1e3);const A=L/(1e3*60*60);return Math.max(0,A)},y=()=>{if(!s.isPresent||u==="advance")return 0;const C=s.workDays||0,R=parseFloat(String(e.dailyWage||"0"));return Math.max(0,R*C)},m=()=>{const C=s.overtime||0,R=s.overtimeRate||0;return C*R},v=()=>{const C=y(),R=m();return Math.max(0,C+R)},b=()=>{if(u==="advance")return-parseFloat(s.paidAmount||"0");const C=v(),R=parseFloat(s.paidAmount||"0");return C-R},x=C=>{switch(C){case"":return l.jsx(yn,{className:"h-5 w-5"});case"":return l.jsx(lle,{className:"h-5 w-5"});case"":return l.jsx(ole,{className:"h-5 w-5"});case"":return l.jsx(vle,{className:"h-5 w-5"});case"":return l.jsx(Xi,{className:"h-5 w-5"});default:return l.jsx(Rd,{className:"h-5 w-5"})}},j=C=>{const R=C.toLowerCase();return R.includes("")||R.includes("master")?"bg-gradient-to-br from-primary to-primary/80":R.includes("")||R.includes("smith")?"bg-gradient-to-br from-orange-500 to-orange-600":R.includes("")||R.includes("tile")?"bg-gradient-to-br from-blue-500 to-blue-600":R.includes("")||R.includes("paint")?"bg-gradient-to-br from-green-500 to-green-600":R.includes("")||R.includes("labor")?"bg-gradient-to-br from-purple-500 to-purple-600":R.includes("")||R.includes("carpenter")?"bg-gradient-to-br from-amber-600 to-amber-700":R.includes("")||R.includes("electric")?"bg-gradient-to-br from-yellow-500 to-yellow-600":R.includes("")||R.includes("plumb")?"bg-gradient-to-br from-cyan-500 to-cyan-600":"bg-gradient-to-br from-gray-500 to-gray-600"};return l.jsx(Dt,{className:`mb-3 shadow-sm border-r-4 w-full max-w-full overflow-hidden ${h?"border-r-green-400 bg-green-50/50 dark:bg-green-950/20":"border-r-primary/20"}`,"data-testid":`worker-card-detailed-${e.id}`,children:l.jsxs(Ht,{className:"p-2 sm:p-3 max-w-full overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-border/30 w-full max-w-full",children:[l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 flex-1 min-w-0 max-w-full overflow-hidden",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md profession-icon-container ${j(e.type)}`,children:x(e.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 mb-1",children:[l.jsx("h4",{className:"font-bold text-lg text-foreground truncate","data-testid":`worker-name-detailed-${e.id}`,children:e.name}),e.isActive?l.jsx(co,{className:"h-4 w-4 text-green-500 flex-shrink-0","data-testid":`worker-status-active-${e.id}`}):l.jsx(Ss,{className:"h-4 w-4 text-red-500 flex-shrink-0","data-testid":`worker-status-inactive-${e.id}`})]}),l.jsxs("div",{className:"flex items-center space-x-reverse space-x-4 text-xs text-muted-foreground",children:[l.jsx("span",{className:"flex items-center space-x-reverse space-x-1",children:l.jsx(ft,{variant:"secondary",className:`${j(e.type)} text-white border-none shadow-sm text-[10px] px-2 py-0 h-5`,children:e.type})}),l.jsxs("span",{className:"flex items-center space-x-reverse space-x-1",children:[l.jsx(Jt,{className:"h-3 w-3"}),l.jsx("span",{className:"font-bold arabic-numbers","data-testid":`worker-daily-wage-${e.id}`,children:ze(e.dailyWage)})]}),l.jsxs("span",{className:"flex items-center space-x-reverse space-x-1",children:[l.jsx(us,{className:"h-3 w-3"}),l.jsxs("span",{className:"arabic-numbers",children:[d?.totalWorkDays||0," "]})]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 flex-shrink-0",children:[s.isPresent&&l.jsxs(l.Fragment,{children:[l.jsx(_e,{variant:u==="work"?"default":"outline",size:"sm",onClick:()=>c("work"),className:"px-2 py-1 h-8 text-xs","data-testid":`record-type-work-${e.id}`,children:""}),l.jsx(_e,{variant:u==="advance"?"default":"outline",size:"sm",onClick:()=>c("advance"),className:"px-2 py-1 h-8 text-xs","data-testid":`record-type-advance-${e.id}`,children:""}),l.jsxs(_e,{variant:a?"default":"ghost",size:"sm",onClick:()=>o(!a),className:"px-2 py-1 h-8 flex items-center gap-1","data-testid":`toggle-details-${e.id}`,children:[a?l.jsx(lo,{className:"h-4 w-4"}):l.jsx(pn,{className:"h-4 w-4"}),l.jsx("span",{className:"text-xs",children:a?"":""})]})]}),l.jsx(Fe,{htmlFor:`present-${e.id}`,className:"text-sm font-medium text-foreground cursor-pointer",children:""}),l.jsx(c0,{id:`present-${e.id}`,checked:s.isPresent,onCheckedChange:p,className:"w-5 h-5","data-testid":`attendance-checkbox-${e.id}`})]})]}),s.isPresent&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-950/30 dark:to-blue-900/20 p-2 rounded-lg border border-blue-200 dark:border-blue-800",children:l.jsxs("div",{className:"space-y-1.5 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:""}),l.jsx("span",{className:"font-bold text-foreground",children:e.name})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),l.jsx("span",{className:"font-bold text-foreground arabic-numbers",children:ze(e.dailyWage||"0")})]}),l.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-blue-200 dark:border-blue-700",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:""}),l.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:ze(y())})]})]})}),l.jsx("div",{className:`bg-gradient-to-br ${u==="advance"?"from-red-50 to-red-100/50 dark:from-red-950/30 dark:to-red-900/20 border-red-200 dark:border-red-800":"from-purple-50 to-purple-100/50 dark:from-purple-950/30 dark:to-purple-900/20 border-purple-200 dark:border-purple-800"} p-2 rounded-lg border`,children:l.jsx("div",{className:"space-y-1.5 text-sm",children:u==="work"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),l.jsx(tt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"10.0",value:s.workDays||"",onChange:C=>{const R=C.target.value;f({workDays:R===""?0:parseFloat(R)||0})},placeholder:"0",className:"w-24 text-center text-sm h-7 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"},"data-testid":`work-days-summary-${e.id}`})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:""}),l.jsx("span",{className:"font-bold text-foreground arabic-numbers",children:ze(parseFloat(s.paidAmount||"0"))})]}),l.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-purple-200 dark:border-purple-700",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:""}),l.jsx("span",{className:`font-bold arabic-numbers ${b()>0?"text-red-600 dark:text-red-400":"text-slate-700 dark:text-slate-300"}`,children:ze(Math.abs(b()))})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),l.jsx(tt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",placeholder:"0",value:s.paidAmount||"",onChange:C=>f({paidAmount:C.target.value}),className:"w-24 text-center arabic-numbers text-sm h-7"})]}),l.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-red-200 dark:border-red-700",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:""}),l.jsx("span",{className:"font-bold text-red-600 dark:text-red-400 arabic-numbers",children:ze(Math.abs(b()))})]})]})})})]}),s.isPresent&&a&&l.jsx("div",{className:"space-y-2 w-full max-w-full overflow-hidden",children:l.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-950/30 dark:to-gray-950/30 p-2 rounded-lg border border-slate-200 dark:border-slate-700 w-full max-w-full overflow-hidden",children:[l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 mb-2",children:[l.jsx(mn,{className:"h-4 w-4 text-slate-600"}),l.jsx("h5",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm",children:"  "})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),l.jsx(tt,{type:"time",value:s.startTime||"07:00",onChange:C=>f({startTime:C.target.value}),className:"text-center font-mono text-xs h-8 px-1"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),l.jsx(tt,{type:"time",value:s.endTime||"15:00",onChange:C=>f({endTime:C.target.value}),className:"text-center font-mono text-xs h-8 px-1"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),l.jsx(tt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"2.0",value:s.workDays||"",onChange:C=>{const R=C.target.value;f({workDays:R===""?0:parseFloat(R)||0})},placeholder:"0",className:"text-center font-mono english-numbers text-xs h-8"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),l.jsx(tt,{type:"number",inputMode:"decimal",placeholder:"0",value:s.paidAmount||"",onChange:C=>f({paidAmount:C.target.value}),className:"text-center arabic-numbers text-xs h-8"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:""}),l.jsx("div",{className:"h-8 px-2 py-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-md flex items-center justify-center",children:l.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 arabic-numbers text-sm",children:g().toFixed(1)})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),l.jsx(tt,{type:"number",inputMode:"decimal",step:"0.5",min:"0",max:"8",value:s.overtime===void 0?"":s.overtime,onChange:C=>{const R=C.target.value;f({overtime:R===""?0:parseFloat(R)||0})},placeholder:"0",className:"text-center english-numbers text-sm h-8"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),l.jsx(tt,{type:"number",inputMode:"decimal",placeholder:"0",value:s.overtimeRate===void 0?"":s.overtimeRate,onChange:C=>{const R=C.target.value;f({overtimeRate:R===""?0:parseFloat(R)||0})},className:"text-center english-numbers text-sm h-8"})]})]}),l.jsxs("div",{className:"space-y-1 mb-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[l.jsx(Fe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),l.jsx(is,{value:s.workDescription||"",onChange:C=>f({workDescription:C}),placeholder:"   ...",category:"workDescriptions",autoWidth:!0,maxWidth:500,className:"w-full text-sm"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:""}),l.jsx(tt,{type:"text",value:s.notes||"",onChange:C=>f({notes:C.target.value}),placeholder:" ...",autoWidth:!0,maxWidth:500,className:"text-sm h-8"})]})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"  "}),l.jsx("div",{className:"h-8 px-2 py-1 bg-slate-200/50 dark:bg-slate-700/50 rounded-md flex items-center justify-center",children:l.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 arabic-numbers text-sm",children:ze(v())})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),l.jsx("div",{className:"h-8 px-2 py-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-md flex items-center justify-center",children:l.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 arabic-numbers text-sm",children:ze(m())})})]})]})]})})]})})}function pwe(e){const t=mwe(e),r=T.forwardRef((n,s)=>{const{children:i,...a}=n,o=T.Children.toArray(i),u=o.find(ywe);if(u){const c=u.props.children,d=o.map(h=>h===u?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:h);return l.jsx(t,{...a,ref:s,children:T.isValidElement(c)?T.cloneElement(c,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function mwe(e){const t=T.forwardRef((r,n)=>{const{children:s,...i}=r;if(T.isValidElement(s)){const a=vwe(s),o=bwe(i,s.props);return s.type!==T.Fragment&&(o.ref=n?Go(n,a):a),T.cloneElement(s,o)}return T.Children.count(s)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gwe=Symbol("radix.slottable");function ywe(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gwe}function bwe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function vwe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var N1="Popover",[pZ]=Ls(N1,[fu]),m0=fu(),[xwe,bu]=pZ(N1),mZ=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,o=m0(t),u=T.useRef(null),[c,d]=T.useState(!1),[h,f]=Ma({prop:n,defaultProp:s??!1,onChange:i,caller:N1});return l.jsx(ix,{...o,children:l.jsx(xwe,{scope:t,contentId:Qi(),triggerRef:u,open:h,onOpenChange:f,onOpenToggle:T.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:c,onCustomAnchorAdd:T.useCallback(()=>d(!0),[]),onCustomAnchorRemove:T.useCallback(()=>d(!1),[]),modal:a,children:r})})};mZ.displayName=N1;var gZ="PopoverAnchor",wwe=T.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=bu(gZ,r),i=m0(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=s;return T.useEffect(()=>(a(),()=>o()),[a,o]),l.jsx(Dg,{...i,...n,ref:t})});wwe.displayName=gZ;var yZ="PopoverTrigger",bZ=T.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=bu(yZ,r),i=m0(r),a=tr(t,s.triggerRef),o=l.jsx(wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kZ(s.open),...n,ref:a,onClick:et(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?o:l.jsx(Dg,{asChild:!0,...i,children:o})});bZ.displayName=yZ;var A5="PopoverPortal",[_we,kwe]=pZ(A5,{forceMount:void 0}),vZ=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=bu(A5,t);return l.jsx(_we,{scope:t,forceMount:r,children:l.jsx(Jn,{present:r||i.open,children:l.jsx($h,{asChild:!0,container:s,children:n})})})};vZ.displayName=A5;var Sh="PopoverContent",xZ=T.forwardRef((e,t)=>{const r=kwe(Sh,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=bu(Sh,e.__scopePopover);return l.jsx(Jn,{present:n||i.open,children:i.modal?l.jsx(jwe,{...s,ref:t}):l.jsx(Nwe,{...s,ref:t})})});xZ.displayName=Sh;var Swe=pwe("PopoverContent.RemoveScroll"),jwe=T.forwardRef((e,t)=>{const r=bu(Sh,e.__scopePopover),n=T.useRef(null),s=tr(t,n),i=T.useRef(!1);return T.useEffect(()=>{const a=n.current;if(a)return b1(a)},[]),l.jsx(d0,{as:Swe,allowPinchZoom:!0,children:l.jsx(wZ,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,a=>{a.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0,c=o.button===2||u;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:et(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Nwe=T.forwardRef((e,t)=>{const r=bu(Sh,e.__scopePopover),n=T.useRef(!1),s=T.useRef(!1);return l.jsx(wZ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;r.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),wZ=T.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,...h}=e,f=bu(Sh,r),p=m0(r);return g1(),l.jsx(u0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Dd,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:l.jsx(ax,{"data-state":kZ(f.open),role:"dialog",id:f.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_Z="PopoverClose",Cwe=T.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=bu(_Z,r);return l.jsx(wt.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>s.onOpenChange(!1))})});Cwe.displayName=_Z;var Twe="PopoverArrow",Ewe=T.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=m0(r);return l.jsx(ox,{...s,...n,ref:t})});Ewe.displayName=Twe;function kZ(e){return e?"open":"closed"}var Awe=mZ,Pwe=bZ,Iwe=vZ,SZ=xZ;const C1=e=>l.jsx(Awe,{modal:!1,...e}),T1=Pwe,g0=T.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>l.jsx(Iwe,{children:l.jsx(SZ,{ref:s,align:t,sideOffset:r,className:we("z-[99999] w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","bg-popover opacity-100",e),style:{pointerEvents:"auto"},...n})}));g0.displayName=SZ.displayName;function Dwe(e,t){return T.useReducer((r,n)=>t[r][n]??r,e)}var P5="ScrollArea",[jZ]=Ls(P5),[Mwe,La]=jZ(P5),NZ=T.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...a}=e,[o,u]=T.useState(null),[c,d]=T.useState(null),[h,f]=T.useState(null),[p,g]=T.useState(null),[y,m]=T.useState(null),[v,b]=T.useState(0),[x,j]=T.useState(0),[C,R]=T.useState(!1),[L,A]=T.useState(!1),P=tr(t,V=>u(V)),$=Qh(s);return l.jsx(Mwe,{scope:r,type:n,dir:$,scrollHideDelay:i,scrollArea:o,viewport:c,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:R,scrollbarY:y,onScrollbarYChange:m,scrollbarYEnabled:L,onScrollbarYEnabledChange:A,onCornerWidthChange:b,onCornerHeightChange:j,children:l.jsx(wt.div,{dir:$,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});NZ.displayName=P5;var CZ="ScrollAreaViewport",TZ=T.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,a=La(CZ,r),o=T.useRef(null),u=tr(t,o,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(wt.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});TZ.displayName=CZ;var Yo="ScrollAreaScrollbar",I5=T.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=La(Yo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,o=e.orientation==="horizontal";return T.useEffect(()=>(o?i(!0):a(!0),()=>{o?i(!1):a(!1)}),[o,i,a]),s.type==="hover"?l.jsx(Rwe,{...n,ref:t,forceMount:r}):s.type==="scroll"?l.jsx($we,{...n,ref:t,forceMount:r}):s.type==="auto"?l.jsx(EZ,{...n,ref:t,forceMount:r}):s.type==="always"?l.jsx(D5,{...n,ref:t}):null});I5.displayName=Yo;var Rwe=T.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=La(Yo,e.__scopeScrollArea),[i,a]=T.useState(!1);return T.useEffect(()=>{const o=s.scrollArea;let u=0;if(o){const c=()=>{window.clearTimeout(u),a(!0)},d=()=>{u=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Jn,{present:r||i,children:l.jsx(EZ,{"data-state":i?"visible":"hidden",...n,ref:t})})}),$we=T.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=La(Yo,e.__scopeScrollArea),i=e.orientation==="horizontal",a=A1(()=>u("SCROLL_END"),100),[o,u]=Dwe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return T.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,s.scrollHideDelay,u]),T.useEffect(()=>{const c=s.viewport,d=i?"scrollLeft":"scrollTop";if(c){let h=c[d];const f=()=>{const p=c[d];h!==p&&(u("SCROLL"),a()),h=p};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[s.viewport,i,u,a]),l.jsx(Jn,{present:r||o!=="hidden",children:l.jsx(D5,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:et(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:et(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),EZ=T.forwardRef((e,t)=>{const r=La(Yo,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,a]=T.useState(!1),o=e.orientation==="horizontal",u=A1(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(o?c:d)}},10);return jh(r.viewport,u),jh(r.content,u),l.jsx(Jn,{present:n||i,children:l.jsx(D5,{"data-state":i?"visible":"hidden",...s,ref:t})})}),D5=T.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=La(Yo,e.__scopeScrollArea),i=T.useRef(null),a=T.useRef(0),[o,u]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=MZ(o.viewport,o.content),d={...n,sizes:o,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function h(f,p){return Uwe(f,a.current,o,p)}return r==="horizontal"?l.jsx(Owe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,p=kA(f,o,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):r==="vertical"?l.jsx(Fwe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,p=kA(f,o);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),Owe=T.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=La(Yo,e.__scopeScrollArea),[a,o]=T.useState(),u=T.useRef(null),c=tr(t,u,i.onScrollbarXChange);return T.useEffect(()=>{u.current&&o(getComputedStyle(u.current))},[u]),l.jsx(PZ,{"data-orientation":"horizontal",...s,ref:c,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":E1(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),$Z(f,h)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:mv(a.paddingLeft),paddingEnd:mv(a.paddingRight)}})}})}),Fwe=T.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=La(Yo,e.__scopeScrollArea),[a,o]=T.useState(),u=T.useRef(null),c=tr(t,u,i.onScrollbarYChange);return T.useEffect(()=>{u.current&&o(getComputedStyle(u.current))},[u]),l.jsx(PZ,{"data-orientation":"vertical",...s,ref:c,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":E1(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),$Z(f,h)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:mv(a.paddingTop),paddingEnd:mv(a.paddingBottom)}})}})}),[Lwe,AZ]=jZ(Yo),PZ=T.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:u,onDragScroll:c,onWheelScroll:d,onResize:h,...f}=e,p=La(Yo,r),[g,y]=T.useState(null),m=tr(t,P=>y(P)),v=T.useRef(null),b=T.useRef(""),x=p.viewport,j=n.content-n.viewport,C=Ys(d),R=Ys(u),L=A1(h,10);function A(P){if(v.current){const $=P.clientX-v.current.left,V=P.clientY-v.current.top;c({x:$,y:V})}}return T.useEffect(()=>{const P=$=>{const V=$.target;g?.contains(V)&&C($,j)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[x,g,j,C]),T.useEffect(R,[n,R]),jh(g,L),jh(p.content,L),l.jsx(Lwe,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:Ys(i),onThumbPointerUp:Ys(a),onThumbPositionChange:R,onThumbPointerDown:Ys(o),children:l.jsx(wt.div,{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:et(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),v.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(P))}),onPointerMove:et(e.onPointerMove,A),onPointerUp:et(e.onPointerUp,P=>{const $=P.target;$.hasPointerCapture(P.pointerId)&&$.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),pv="ScrollAreaThumb",IZ=T.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=AZ(pv,e.__scopeScrollArea);return l.jsx(Jn,{present:r||s.hasThumb,children:l.jsx(zwe,{ref:t,...n})})}),zwe=T.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=La(pv,r),a=AZ(pv,r),{onThumbPositionChange:o}=a,u=tr(t,h=>a.onThumbChange(h)),c=T.useRef(void 0),d=A1(()=>{c.current&&(c.current(),c.current=void 0)},100);return T.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!c.current){const p=Vwe(h,o);c.current=p,o()}};return o(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,o]),l.jsx(wt.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:et(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,y=h.clientY-p.top;a.onThumbPointerDown({x:g,y})}),onPointerUp:et(e.onPointerUp,a.onThumbPointerUp)})});IZ.displayName=pv;var M5="ScrollAreaCorner",DZ=T.forwardRef((e,t)=>{const r=La(M5,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l.jsx(Bwe,{...e,ref:t}):null});DZ.displayName=M5;var Bwe=T.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=La(M5,r),[i,a]=T.useState(0),[o,u]=T.useState(0),c=!!(i&&o);return jh(s.scrollbarX,()=>{const d=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(d),u(d)}),jh(s.scrollbarY,()=>{const d=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(d),a(d)}),c?l.jsx(wt.div,{...n,ref:t,style:{width:i,height:o,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function mv(e){return e?parseInt(e,10):0}function MZ(e,t){const r=e/t;return isNaN(r)?0:r}function E1(e){const t=MZ(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Uwe(e,t,r,n="ltr"){const s=E1(r),i=s/2,a=t||i,o=s-a,u=r.scrollbar.paddingStart+a,c=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return RZ([u,c],h)(e)}function kA(e,t,r="ltr"){const n=E1(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,o=i-n,u=r==="ltr"?[0,a]:[a*-1,0],c=y4(e,u);return RZ([0,a],[0,o])(c)}function RZ(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function $Z(e,t){return e>0&&e<t}var Vwe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,o=r.top!==i.top;(a||o)&&t(),r=i,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function A1(e,t){const r=Ys(e),n=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(n.current),[]),T.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function jh(e,t){const r=Ys(t);js(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var OZ=NZ,Wwe=TZ,qwe=DZ;const bo=T.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(OZ,{ref:n,className:we("relative overflow-hidden",e),...r,children:[l.jsx(Wwe,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(R5,{}),l.jsx(qwe,{})]}));bo.displayName=OZ.displayName;const R5=T.forwardRef(({className:e,orientation:t="vertical",...r},n)=>l.jsx(I5,{ref:n,orientation:t,className:we("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:l.jsx(IZ,{className:"relative flex-1 rounded-full bg-border"})}));R5.displayName=I5.displayName;function Fn({value:e,onValueChange:t,options:r,placeholder:n="...",searchPlaceholder:s="...",emptyText:i="  ",disabled:a=!1,className:o="",triggerClassName:u="",contentClassName:c="",showSearch:d=!0,maxHeight:h=300,allowCustom:f=!1,onCustomAdd:p}){const[g,y]=T.useState(!1),[m,v]=T.useState(""),b=T.useRef(null),x=T.useMemo(()=>{if(!m.trim())return r;const A=m.toLowerCase().trim();return r.filter(P=>P.label.toLowerCase().includes(A)||P.value.toLowerCase().includes(A)||P.description?.toLowerCase().includes(A))},[r,m]),j=T.useMemo(()=>r.find(A=>A.value===e),[r,e]),C=T.useCallback(A=>{t(A),y(!1),v("")},[t]),R=T.useCallback(A=>{A.stopPropagation(),t("")},[t]);T.useEffect(()=>{if(g&&d&&b.current){b.current.focus();const A=setTimeout(()=>{b.current?.focus()},50);return()=>clearTimeout(A)}g||v("")},[g,d]);const L=T.useCallback(A=>{A.key==="Escape"&&y(!1)},[]);return l.jsx("div",{className:we("w-full",o),children:l.jsxs(C1,{open:g,onOpenChange:y,children:[l.jsx(T1,{asChild:!0,children:l.jsxs(_e,{variant:"outline",role:"combobox","aria-expanded":g,disabled:a,className:we("w-full justify-between h-10 font-normal",!e&&"text-muted-foreground",u),children:[l.jsx("span",{className:"truncate text-right flex-1",children:j?.label||n}),l.jsxs("div",{className:"flex items-center gap-1 mr-2",children:[e&&!a&&l.jsx(os,{className:"h-4 w-4 opacity-50 hover:opacity-100 cursor-pointer",onClick:R}),l.jsx(pn,{className:"h-4 w-4 opacity-50"})]})]})}),l.jsxs(g0,{className:we("w-[var(--radix-popover-trigger-width)] p-0",c),align:"start",onKeyDown:L,children:[d&&l.jsx("div",{className:"border-b p-2",children:l.jsxs("div",{className:"relative",children:[l.jsx(uo,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none"}),l.jsx(tt,{ref:b,placeholder:s,value:m,onChange:A=>v(A.target.value),className:"pr-8 h-9"})]})}),l.jsx(bo,{className:"w-full",style:{maxHeight:`${h}px`},children:l.jsx("div",{className:"p-1 min-w-[var(--radix-popover-trigger-width)]",children:x.length===0?l.jsx("div",{children:f&&m.trim()?l.jsxs("button",{onClick:()=>{C(m.trim()),p?.(m.trim())},className:we("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150 bg-blue-50"),children:[l.jsx(Hn,{className:"h-4 w-4 shrink-0"}),l.jsx("div",{className:"flex-1 text-right",children:l.jsxs("div",{children:['+  "',m.trim(),'"']})})]}):l.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:i})}):l.jsxs(l.Fragment,{children:[x.map(A=>l.jsxs("button",{onClick:()=>!A.disabled&&C(A.value),disabled:A.disabled,className:we("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150",e===A.value&&"bg-accent/50",A.disabled&&"opacity-50 cursor-not-allowed"),children:[l.jsx(so,{className:we("h-4 w-4 shrink-0",e===A.value?"opacity-100":"opacity-0")}),l.jsxs("div",{className:"flex-1 text-right",children:[l.jsx("div",{children:A.label}),A.description&&l.jsx("div",{className:"text-xs text-muted-foreground",children:A.description})]})]},A.value)),f&&m.trim()&&!x.some(A=>A.value===m.trim())&&l.jsxs("button",{onClick:()=>{C(m.trim()),p?.(m.trim())},className:we("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right mt-1","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150 bg-blue-50"),children:[l.jsx(Hn,{className:"h-4 w-4 shrink-0"}),l.jsx("div",{className:"flex-1 text-right",children:l.jsxs("div",{children:['+  "',m.trim(),'"']})})]})]})})})]})]})})}function TIe({value:e,onValueChange:t,workers:r,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:i=" ",showInactiveWorkers:a=!0,disabled:o=!1,className:u=""}){const c=T.useMemo(()=>{const h=(a?r:r.filter(f=>f.isActive!==!1)).map(f=>({value:f.id,label:f.name,description:f.type?`${f.type}${f.isActive===!1?" ( )":""}`:f.isActive===!1?"( )":void 0}));return s?[{value:"all",label:i},...h]:h},[r,s,i,a]);return l.jsx(Fn,{value:e,onValueChange:t,options:c,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:o,className:u})}function EIe({value:e,onValueChange:t,projects:r,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:i=" ",disabled:a=!1,className:o=""}){const u=T.useMemo(()=>{const c=r.map(d=>({value:d.id,label:d.name,description:d.status||void 0}));return s?[{value:"all",label:i},...c]:c},[r,s,i]);return l.jsx(Fn,{value:e,onValueChange:t,options:u,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:a,className:o})}function AIe({value:e,onValueChange:t,users:r,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:i=" ",disabled:a=!1,className:o=""}){const u=T.useMemo(()=>{const c=r.map(d=>({value:d.id,label:d.fullName||d.username||d.email||d.id,description:d.email||void 0}));return s?[{value:"all",label:i},...c]:c},[r,s,i]);return l.jsx(Fn,{value:e,onValueChange:t,options:u,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:a,className:o})}function k4({value:e,onValueChange:t,projectTypes:r,placeholder:n="  ",showNoneOption:s=!0,noneOptionLabel:i=" ",disabled:a=!1,className:o=""}){const u=T.useMemo(()=>{const c=r.map(d=>({value:d.id.toString(),label:d.name,description:d.description||void 0}));return s?[{value:"",label:i},...c]:c},[r,s,i]);return l.jsx(Fn,{value:e,onValueChange:t,options:u,placeholder:n,searchPlaceholder:"   ...",emptyText:"    ",disabled:a,className:o})}function Ym({projectId:e,value:t,onChange:r,showLabel:n=!0,disabled:s=!1,optional:i=!0}){const{data:a=[],isLoading:o}=st({queryKey:fe.wellsByProject(e),queryFn:async()=>{if(!e)return[];try{const c=await Ie(`/api/wells?projectId=${e}`);return c&&c.success&&Array.isArray(c.data)?c.data:Array.isArray(c)?c:c.data||[]}catch(c){return console.error("Error fetching wells:",c),[]}},enabled:!!e,staleTime:3e5}),u=T.useMemo(()=>{const c=a.map(d=>({value:String(d.id),label:` #${d.wellNumber} - ${d.ownerName}`}));return i?[{value:"none",label:" "},...c]:c},[a,i]);return!e||a.length===0?null:l.jsxs("div",{className:"space-y-1",children:[n&&l.jsxs(Fe,{className:"text-xs font-bold text-foreground mb-1",children:[" ",!i&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Fn,{options:u,value:t?String(t):"none",onValueChange:c=>r(c==="none"?void 0:parseInt(c)),placeholder:" ",searchPlaceholder:"  ...",emptyText:"   ",disabled:s||o})]})}const FZ=T.createContext(void 0);function Hwe({children:e}){const[t,r]=T.useState(null),[n,s]=T.useState(null),[i,a]=T.useState(" "),[o,u]=T.useState(!1),c=T.useCallback((h,f=" ")=>{r(p=>p===h?p:h),a(p=>p===f?p:f)},[]),d=T.useCallback(h=>{s(f=>f===h?f:h)},[]);return l.jsx(FZ.Provider,{value:{setFloatingAction:c,setRefreshAction:d,floatingAction:t,floatingLabel:i,refreshAction:n,setShowAddButton:u,showAddButton:o},children:e})}function vo(){const e=T.useContext(FZ);if(e===void 0)throw new Error("useFloatingButton must be used within a FloatingButtonProvider");return e}const SA={blue:{bg:"bg-gradient-to-br from-blue-50 to-sky-50 dark:from-blue-900/30 dark:to-sky-900/20",border:"border-blue-100 dark:border-blue-800/50",text:"text-blue-600 dark:text-blue-400",icon:"text-blue-500",gradient:"from-blue-500 to-sky-500"},green:{bg:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/20",border:"border-green-100 dark:border-green-800/50",text:"text-green-600 dark:text-green-400",icon:"text-green-500",gradient:"from-green-500 to-emerald-500"},orange:{bg:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/30 dark:to-amber-900/20",border:"border-orange-100 dark:border-orange-800/50",text:"text-orange-600 dark:text-orange-400",icon:"text-orange-500",gradient:"from-orange-500 to-amber-500"},red:{bg:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/20",border:"border-red-100 dark:border-red-800/50",text:"text-red-600 dark:text-red-400",icon:"text-red-500",gradient:"from-red-500 to-rose-500"},purple:{bg:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/20",border:"border-purple-100 dark:border-purple-800/50",text:"text-purple-600 dark:text-purple-400",icon:"text-purple-500",gradient:"from-purple-500 to-violet-500"},teal:{bg:"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/30 dark:to-cyan-900/20",border:"border-teal-100 dark:border-teal-800/50",text:"text-teal-600 dark:text-teal-400",icon:"text-teal-500",gradient:"from-teal-500 to-cyan-500"},indigo:{bg:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/30 dark:to-blue-900/20",border:"border-indigo-100 dark:border-indigo-800/50",text:"text-indigo-600 dark:text-indigo-400",icon:"text-indigo-500",gradient:"from-indigo-500 to-blue-500"},emerald:{bg:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/20",border:"border-emerald-100 dark:border-emerald-800/50",text:"text-emerald-600 dark:text-emerald-400",icon:"text-emerald-500",gradient:"from-emerald-500 to-green-500"},amber:{bg:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/30 dark:to-yellow-900/20",border:"border-amber-100 dark:border-amber-800/50",text:"text-amber-600 dark:text-amber-400",icon:"text-amber-500",gradient:"from-amber-500 to-yellow-500"},gray:{bg:"bg-gradient-to-br from-gray-50 to-slate-50 dark:from-gray-900/30 dark:to-slate-900/20",border:"border-gray-100 dark:border-gray-800/50",text:"text-gray-600 dark:text-gray-400",icon:"text-gray-500",gradient:"from-gray-500 to-slate-500"},cyan:{bg:"bg-gradient-to-br from-cyan-50 to-sky-50 dark:from-cyan-900/30 dark:to-sky-900/20",border:"border-cyan-100 dark:border-cyan-800/50",text:"text-cyan-600 dark:text-cyan-400",icon:"text-cyan-500",gradient:"from-cyan-500 to-sky-500"},rose:{bg:"bg-gradient-to-br from-rose-50 to-pink-50 dark:from-rose-900/30 dark:to-pink-900/20",border:"border-rose-100 dark:border-rose-800/50",text:"text-rose-600 dark:text-rose-400",icon:"text-rose-500",gradient:"from-rose-500 to-pink-500"},yellow:{bg:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/30 dark:to-amber-900/20",border:"border-yellow-100 dark:border-yellow-800/50",text:"text-yellow-600 dark:text-yellow-400",icon:"text-yellow-500",gradient:"from-yellow-500 to-amber-500"}};function jA(e){return isNaN(e)||!isFinite(e)||Math.abs(e)>1e11?"0":e.toLocaleString("en-US")}function Kwe({item:e}){const t=e.splitValue;return t?l.jsxs("div",{className:we("relative flex flex-col rounded-xl border transition-all overflow-hidden h-[50px]","bg-gradient-to-b from-slate-50 to-white dark:from-slate-900/50 dark:to-slate-900/30","border-slate-200 dark:border-slate-700","hover:shadow-sm"),children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 py-0.5 px-2 bg-slate-100/80 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700",children:[l.jsx(e.icon,{className:"h-2.5 w-2.5 text-slate-600 dark:text-slate-400"}),l.jsx("span",{className:"text-[8px] font-bold text-slate-700 dark:text-slate-300 uppercase tracking-tighter",children:e.label})]}),l.jsxs("div",{className:"grid grid-cols-2 divide-x divide-slate-200 dark:divide-slate-700 rtl:divide-x-reverse flex-1",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center px-1 py-0 bg-teal-50/50 dark:bg-teal-900/20",children:[l.jsx("span",{className:"text-[7px] font-medium text-teal-600 dark:text-teal-400 leading-tight",children:""}),l.jsx("span",{className:"text-[10px] font-extrabold text-teal-700 dark:text-teal-300 arabic-numbers leading-none",children:jA(t.incoming)})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center px-1 py-0 bg-rose-50/50 dark:bg-rose-900/20",children:[l.jsx("span",{className:"text-[7px] font-medium text-rose-600 dark:text-rose-400 leading-tight",children:""}),l.jsx("span",{className:"text-[10px] font-extrabold text-rose-700 dark:text-rose-300 arabic-numbers leading-none",children:jA(t.outgoing)})]})]})]}):null}function Zwe({item:e}){if(e.isSplitCard)return l.jsx(Kwe,{item:e});const t=SA[e.color]||SA.blue,r=e.icon,s=(a=>typeof a=="number"?isNaN(a)||!isFinite(a)||Math.abs(a)>1e11?"0":e.formatter?e.formatter(a):a.toLocaleString("en-US"):String(a))(e.value),i=a=>{const o=a.length;return o<=4?"0.75rem":o<=7?"0.65rem":o<=10?"0.6rem":o<=13?"0.55rem":"0.5rem"};return l.jsxs("div",{className:we("relative flex flex-col p-1 rounded-xl border transition-all h-[50px]",t.bg,t.border,"hover:shadow-sm",e.onClick&&"cursor-pointer"),onClick:e.onClick,children:[l.jsxs("div",{className:"flex items-center justify-between gap-1 mb-0",children:[l.jsx("span",{className:"text-[8px] font-bold text-muted-foreground truncate flex-1 leading-tight uppercase tracking-tighter",children:e.label}),l.jsx("div",{className:we("p-0.5 rounded-md flex-shrink-0",t.bg),children:l.jsx(r,{className:we("h-2.5 w-2.5",t.icon)})})]}),e.showDot&&l.jsx("div",{className:we("absolute top-2 right-10 h-2.5 w-2.5 rounded-full",e.dotColor||"bg-green-500")}),l.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[l.jsx("span",{className:we("font-bold arabic-numbers leading-none whitespace-nowrap",t.text),style:{fontSize:i(s)},children:s}),e.unit&&l.jsx("span",{className:"text-[9px] text-muted-foreground leading-none",children:e.unit}),e.subLabel&&l.jsx("span",{className:"text-[9px] text-muted-foreground/70 truncate w-full mt-0.5",children:e.subLabel}),e.trend&&l.jsxs("span",{className:we("text-[9px] flex items-center gap-0.5 mt-0.5",e.trend.isPositive?"text-green-500":"text-red-500"),children:[e.trend.isPositive?l.jsx(un,{className:"h-2 w-2"}):l.jsx(ri,{className:"h-2 w-2"}),e.trend.value,"%"]})]})]})}function Gwe({rows:e,className:t}){if(!e||e.length===0)return null;const r=(s=3)=>{switch(s){case 2:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4";case 5:return"grid-cols-5";case 6:return"grid-cols-6";default:return"grid-cols-3"}},n=(s="sm")=>{switch(s){case"sm":return"gap-2";case"md":return"gap-3";case"lg":return"gap-4";default:return"gap-2"}};return l.jsx("div",{className:we("space-y-2",t),children:e.map((s,i)=>l.jsx("div",{className:we("grid",r(s.columns),n(s.gap)),children:s.items.map(a=>l.jsx(Zwe,{item:a},a.key))},i))})}const P1=b5,$5=v5,LZ=p0,Xwe=x5,zZ=T.forwardRef(({className:e,...t},r)=>l.jsx(f0,{className:we("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));zZ.displayName=f0.displayName;const Qwe=Md("fixed z-[9999] gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 bg-background opacity-100",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),y0=T.forwardRef(({side:e="right",className:t,children:r,...n},s)=>l.jsxs(Xwe,{children:[l.jsx(zZ,{}),l.jsxs(h0,{ref:s,className:we(Qwe({side:e}),t),style:{pointerEvents:"auto"},...n,children:[r,l.jsxs(p0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(os,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));y0.displayName=h0.displayName;const O5=({className:e,...t})=>l.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",e),...t});O5.displayName="SheetHeader";const b0=T.forwardRef(({className:e,...t},r)=>l.jsx(Zh,{ref:r,className:we("text-lg font-semibold text-foreground",e),...t}));b0.displayName=Zh.displayName;const BZ=T.forwardRef(({className:e,...t},r)=>l.jsx(Gh,{ref:r,className:we("text-sm text-muted-foreground",e),...t}));BZ.displayName=Gh.displayName;function Rr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function zi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function hi(e,t){const r=Rr(e);return isNaN(t)?zi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function po(e,t){const r=Rr(e);if(isNaN(t))return zi(e,NaN);if(!t)return r;const n=r.getDate(),s=zi(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const F5=6048e5,Ywe=864e5,UZ=6e4,VZ=36e5;let Jwe={};function v0(){return Jwe}function $a(e,t){const r=v0(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Rr(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function kd(e){return $a(e,{weekStartsOn:1})}function WZ(e){const t=Rr(e),r=t.getFullYear(),n=zi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=kd(n),i=zi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=kd(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Nh(e){const t=Rr(e);return t.setHours(0,0,0,0),t}function gv(e){const t=Rr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ro(e,t){const r=Nh(e),n=Nh(t),s=+r-gv(r),i=+n-gv(n);return Math.round((s-i)/Ywe)}function e2e(e){const t=WZ(e),r=zi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),kd(r)}function S4(e,t){const r=t*7;return hi(e,r)}function t2e(e,t){return po(e,t*12)}function r2e(e){let t;return e.forEach(function(r){const n=Rr(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function n2e(e){let t;return e.forEach(r=>{const n=Rr(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function I1(e){return zi(e,Date.now())}function ti(e,t){const r=Nh(e),n=Nh(t);return+r==+n}function L5(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function s2e(e){if(!L5(e)&&typeof e!="number")return!1;const t=Rr(e);return!isNaN(Number(t))}function Jm(e,t){const r=Rr(e),n=Rr(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function i2e(e,t,r){const n=$a(e,r),s=$a(t,r),i=+n-gv(n),a=+s-gv(s);return Math.round((i-a)/F5)}function z5(e){const t=Rr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Fi(e){const t=Rr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function qZ(e){const t=Rr(e),r=zi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function B5(e,t){const r=v0(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Rr(e),i=s.getDay(),a=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function HZ(e){return B5(e,{weekStartsOn:1})}const a2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o2e=(e,t,r)=>{let n;const s=a2e[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function jl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const l2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},c2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},u2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},d2e={date:jl({formats:l2e,defaultWidth:"full"}),time:jl({formats:c2e,defaultWidth:"full"}),dateTime:jl({formats:u2e,defaultWidth:"full"})},f2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},h2e=(e,t,r,n)=>f2e[e];function mi(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=r?.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=r?.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const p2e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},m2e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},g2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},y2e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},b2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},v2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},x2e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},w2e={ordinalNumber:x2e,era:mi({values:p2e,defaultWidth:"wide"}),quarter:mi({values:m2e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mi({values:g2e,defaultWidth:"wide"}),day:mi({values:y2e,defaultWidth:"wide"}),dayPeriod:mi({values:b2e,defaultWidth:"wide",formattingValues:v2e,defaultFormattingWidth:"wide"})};function gi(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(o)?k2e(o,h=>h.test(a)):_2e(o,h=>h.test(a));let c;c=e.valueCallback?e.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(a.length);return{value:c,rest:d}}}function _2e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function k2e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function U5(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const S2e=/^(\d+)(th|st|nd|rd)?/i,j2e=/\d+/i,N2e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},C2e={any:[/^b/i,/^(a|c)/i]},T2e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},E2e={any:[/1/i,/2/i,/3/i,/4/i]},A2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},P2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},I2e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},D2e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},M2e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},R2e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$2e={ordinalNumber:U5({matchPattern:S2e,parsePattern:j2e,valueCallback:e=>parseInt(e,10)}),era:gi({matchPatterns:N2e,defaultMatchWidth:"wide",parsePatterns:C2e,defaultParseWidth:"any"}),quarter:gi({matchPatterns:T2e,defaultMatchWidth:"wide",parsePatterns:E2e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:gi({matchPatterns:A2e,defaultMatchWidth:"wide",parsePatterns:P2e,defaultParseWidth:"any"}),day:gi({matchPatterns:I2e,defaultMatchWidth:"wide",parsePatterns:D2e,defaultParseWidth:"any"}),dayPeriod:gi({matchPatterns:M2e,defaultMatchWidth:"any",parsePatterns:R2e,defaultParseWidth:"any"})},KZ={code:"en-US",formatDistance:o2e,formatLong:d2e,formatRelative:h2e,localize:w2e,match:$2e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function O2e(e){const t=Rr(e);return Ro(t,qZ(t))+1}function ZZ(e){const t=Rr(e),r=+kd(t)-+e2e(t);return Math.round(r/F5)+1}function GZ(e,t){const r=Rr(e),n=r.getFullYear(),s=v0(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=zi(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=$a(a,t),u=zi(e,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const c=$a(u,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function F2e(e,t){const r=v0(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=GZ(e,t),i=zi(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),$a(i,t)}function XZ(e,t){const r=Rr(e),n=+$a(r,t)-+F2e(r,t);return Math.round(n/F5)+1}function Ur(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ec={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ur(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ur(r+1,2)},d(e,t){return Ur(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ur(e.getHours()%12||12,t.length)},H(e,t){return Ur(e.getHours(),t.length)},m(e,t){return Ur(e.getMinutes(),t.length)},s(e,t){return Ur(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ur(s,t.length)}},tf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NA={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return ec.y(e,t)},Y:function(e,t,r,n){const s=GZ(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Ur(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ur(i,t.length)},R:function(e,t){const r=WZ(e);return Ur(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ur(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ur(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ur(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ec.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ur(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=XZ(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ur(s,t.length)},I:function(e,t,r){const n=ZZ(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ur(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ec.d(e,t)},D:function(e,t,r){const n=O2e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ur(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ur(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ur(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ur(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=tf.noon:n===0?s=tf.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=tf.evening:n>=12?s=tf.afternoon:n>=4?s=tf.morning:s=tf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ec.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ec.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ur(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ur(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ec.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ec.s(e,t)},S:function(e,t){return ec.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return TA(n);case"XXXX":case"XX":return Tu(n);case"XXXXX":case"XXX":default:return Tu(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return TA(n);case"xxxx":case"xx":return Tu(n);case"xxxxx":case"xxx":default:return Tu(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+CA(n,":");case"OOOO":default:return"GMT"+Tu(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+CA(n,":");case"zzzz":default:return"GMT"+Tu(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ur(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ur(n,t.length)}};function CA(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Ur(i,2)}function TA(e,t){return e%60===0?(e>0?"-":"+")+Ur(Math.abs(e)/60,2):Tu(e,t)}function Tu(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ur(Math.trunc(n/60),2),i=Ur(n%60,2);return r+s+t+i}const EA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},QZ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},L2e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return EA(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",EA(n,t)).replace("{{time}}",QZ(s,t))},z2e={p:QZ,P:L2e},B2e=/^D+$/,U2e=/^Y+$/,V2e=["D","DD","YY","YYYY"];function W2e(e){return B2e.test(e)}function q2e(e){return U2e.test(e)}function H2e(e,t,r){const n=K2e(e,t,r);if(console.warn(n),V2e.includes(e))throw new RangeError(n)}function K2e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Z2e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G2e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,X2e=/^'([^]*?)'?$/,Q2e=/''/g,Y2e=/[a-zA-Z]/;function cr(e,t,r){const n=v0(),s=r?.locale??n.locale??KZ,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Rr(e);if(!s2e(o))throw new RangeError("Invalid time value");let u=t.match(G2e).map(d=>{const h=d[0];if(h==="p"||h==="P"){const f=z2e[h];return f(d,s.formatLong)}return d}).join("").match(Z2e).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const h=d[0];if(h==="'")return{isToken:!1,value:J2e(d)};if(NA[h])return{isToken:!0,value:d};if(h.match(Y2e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:d}});s.localize.preprocessor&&(u=s.localize.preprocessor(o,u));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return u.map(d=>{if(!d.isToken)return d.value;const h=d.value;(!r?.useAdditionalWeekYearTokens&&q2e(h)||!r?.useAdditionalDayOfYearTokens&&W2e(h))&&H2e(h,t,String(e));const f=NA[h[0]];return f(o,h,s.localize,c)}).join("")}function J2e(e){const t=e.match(X2e);return t?t[1].replace(Q2e,"'"):e}function e_e(e){const t=Rr(e),r=t.getFullYear(),n=t.getMonth(),s=zi(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function t_e(e){return Math.trunc(+Rr(e)/1e3)}function r_e(e){const t=Rr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function n_e(e,t){return i2e(r_e(e),Fi(e),t)+1}function j4(e,t){const r=Rr(e),n=Rr(t);return r.getTime()>n.getTime()}function YZ(e,t){const r=Rr(e),n=Rr(t);return+r<+n}function s_e(e,t,r){const n=$a(e,r),s=$a(t,r);return+n==+s}function D1(e,t){const r=Rr(e),n=Rr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function i_e(e,t){const r=Rr(e),n=Rr(t);return r.getFullYear()===n.getFullYear()}function a_e(e){return D1(e,I1(e))}function o_e(e,t){return s_e(e,I1(e),t)}function l_e(e){return ti(e,I1(e))}function rb(e,t){return hi(e,-t)}function c_e(e){return ti(e,rb(I1(e),1))}function N4(e,t){const n=h_e(e);let s;if(n.date){const u=p_e(n.date,2);s=m_e(u.restDateString,u.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,o;if(n.time&&(a=g_e(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=y_e(n.timezone),isNaN(o))return new Date(NaN)}else{const u=new Date(i+a),c=new Date(0);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return new Date(i+a+o)}const yy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},u_e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,d_e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,f_e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function h_e(e){const t={},r=e.split(yy.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],yy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(yy.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=yy.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function p_e(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function m_e(e,t){if(t===null)return new Date(NaN);const r=e.match(u_e);if(!r)return new Date(NaN);const n=!!r[4],s=jp(r[1]),i=jp(r[2])-1,a=jp(r[3]),o=jp(r[4]),u=jp(r[5])-1;if(n)return __e(t,o,u)?b_e(t,o,u):new Date(NaN);{const c=new Date(0);return!x_e(t,i,a)||!w_e(t,s)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(s,a)),c)}}function jp(e){return e?parseInt(e):1}function g_e(e){const t=e.match(d_e);if(!t)return NaN;const r=d2(t[1]),n=d2(t[2]),s=d2(t[3]);return k_e(r,n,s)?r*VZ+n*UZ+s*1e3:NaN}function d2(e){return e&&parseFloat(e.replace(",","."))||0}function y_e(e){if(e==="Z")return 0;const t=e.match(f_e);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return S_e(n,s)?r*(n*VZ+s*UZ):NaN}function b_e(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const v_e=[31,null,31,30,31,30,31,31,30,31,30,31];function JZ(e){return e%400===0||e%4===0&&e%100!==0}function x_e(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(v_e[t]||(JZ(e)?29:28))}function w_e(e,t){return t>=1&&t<=(JZ(e)?366:365)}function __e(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function k_e(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function S_e(e,t){return t>=0&&t<=59}function f2(e,t){const r=Rr(e),n=r.getFullYear(),s=r.getDate(),i=zi(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const a=e_e(i);return r.setMonth(t,Math.min(s,a)),r}function AA(e,t){const r=Rr(e);return isNaN(+r)?zi(e,NaN):(r.setFullYear(t),r)}const j_e={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},N_e=(e,t,r)=>{const n=j_e[e];let s;return typeof n=="string"?s=n:t===1?s=n.one:t===2?s=n.two:t<=10?s=n.threeToTen.replace("{{count}}",String(t)):s=n.other.replace("{{count}}",String(t)),r?.addSuffix?r.comparison&&r.comparison>0?" "+s:" "+s:s},C_e={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},T_e={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},E_e={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},A_e={date:jl({formats:C_e,defaultWidth:"full"}),time:jl({formats:T_e,defaultWidth:"full"}),dateTime:jl({formats:E_e,defaultWidth:"full"})},P_e={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},I_e=e=>P_e[e],D_e={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},M_e={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},R_e={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},$_e={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},O_e={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},F_e={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},L_e=e=>String(e),z_e={ordinalNumber:L_e,era:mi({values:D_e,defaultWidth:"wide"}),quarter:mi({values:M_e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mi({values:R_e,defaultWidth:"wide"}),day:mi({values:$_e,defaultWidth:"wide"}),dayPeriod:mi({values:O_e,defaultWidth:"wide",formattingValues:F_e,defaultFormattingWidth:"wide"})},B_e=/^(\d+)(th|st|nd|rd)?/i,U_e=/\d+/i,V_e={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},W_e={any:[//,//]},q_e={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},H_e={any:[/1/i,/2/i,/3/i,/4/i]},K_e={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},Z_e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},G_e={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},X_e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Q_e={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},Y_e={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},J_e={ordinalNumber:U5({matchPattern:B_e,parsePattern:U_e,valueCallback:e=>parseInt(e,10)}),era:gi({matchPatterns:V_e,defaultMatchWidth:"wide",parsePatterns:W_e,defaultParseWidth:"any"}),quarter:gi({matchPatterns:q_e,defaultMatchWidth:"wide",parsePatterns:H_e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:gi({matchPatterns:K_e,defaultMatchWidth:"wide",parsePatterns:Z_e,defaultParseWidth:"any"}),day:gi({matchPatterns:G_e,defaultMatchWidth:"wide",parsePatterns:X_e,defaultParseWidth:"any"}),dayPeriod:gi({matchPatterns:Q_e,defaultMatchWidth:"any",parsePatterns:Y_e,defaultParseWidth:"any"})},Di={code:"ar",formatDistance:N_e,formatLong:A_e,formatRelative:I_e,localize:z_e,match:J_e,options:{weekStartsOn:6,firstWeekContainsDate:1}},eke={lessThanXSeconds:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "}},tke=(e,t,r)=>{let n;const s=eke[e];return typeof s=="string"?n=s:t===1?n=s.one:t===2?n=s.two:t<=10?n=s.threeToTen.replace("{{count}}",String(t)):n=s.other.replace("{{count}}",String(t)),r?.addSuffix?r.comparison&&r.comparison>0?"  "+n:" "+n:n},rke={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ske={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ike={date:jl({formats:rke,defaultWidth:"full"}),time:jl({formats:nke,defaultWidth:"full"}),dateTime:jl({formats:ske,defaultWidth:"full"})},ake={lastWeek:"'' eeee '' p",yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:"eeee '' p",other:"P"},oke=(e,t,r,n)=>ake[e],lke={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},cke={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},uke={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},dke={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},fke={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""}},hke={narrow:{am:"",pm:"",midnight:"",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:" ",night:" "}},pke=e=>String(e),mke={ordinalNumber:pke,era:mi({values:lke,defaultWidth:"wide"}),quarter:mi({values:cke,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mi({values:uke,defaultWidth:"wide"}),day:mi({values:dke,defaultWidth:"wide"}),dayPeriod:mi({values:fke,defaultWidth:"wide",formattingValues:hke,defaultFormattingWidth:"wide"})},gke=/^(\d+)(th|st|nd|rd)?/i,yke=/\d+/i,bke={narrow:/^(|)/i,abbreviated:/^(\.?\s?\.?|\.?\s?\.?\s?|a\.?\s?d\.?|c\.?\s?)/i,wide:/^( | | | )/i},vke={any:[/^/i,/^/i]},xke={narrow:/^[1234]/i,abbreviated:/^[1234]/i,wide:/^ [1234]/i},wke={any:[/1/i,/2/i,/3/i,/4/i]},_ke={narrow:/^[]/i,abbreviated:/^(|||||||||||)/i,wide:/^(|||||||||||)/i},kke={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Ske={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},jke={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Nke={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cke={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tke={ordinalNumber:U5({matchPattern:gke,parsePattern:yke,valueCallback:e=>parseInt(e,10)}),era:gi({matchPatterns:bke,defaultMatchWidth:"wide",parsePatterns:vke,defaultParseWidth:"any"}),quarter:gi({matchPatterns:xke,defaultMatchWidth:"wide",parsePatterns:wke,defaultParseWidth:"any",valueCallback:e=>e+1}),month:gi({matchPatterns:_ke,defaultMatchWidth:"wide",parsePatterns:kke,defaultParseWidth:"any"}),day:gi({matchPatterns:Ske,defaultMatchWidth:"wide",parsePatterns:jke,defaultParseWidth:"any"}),dayPeriod:gi({matchPatterns:Nke,defaultMatchWidth:"any",parsePatterns:Cke,defaultParseWidth:"any"})},eG={code:"ar-SA",formatDistance:tke,formatLong:ike,formatRelative:oke,localize:mke,match:Tke,options:{weekStartsOn:0,firstWeekContainsDate:1}};var qt=function(){return qt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},qt.apply(this,arguments)};function Eke(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function tG(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function x0(e){return e.mode==="multiple"}function w0(e){return e.mode==="range"}function M1(e){return e.mode==="single"}var Ake={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Pke(e,t){return cr(e,"LLLL y",t)}function Ike(e,t){return cr(e,"d",t)}function Dke(e,t){return cr(e,"LLLL",t)}function Mke(e){return"".concat(e)}function Rke(e,t){return cr(e,"cccccc",t)}function $ke(e,t){return cr(e,"yyyy",t)}var Oke=Object.freeze({__proto__:null,formatCaption:Pke,formatDay:Ike,formatMonthCaption:Dke,formatWeekNumber:Mke,formatWeekdayName:Rke,formatYearCaption:$ke}),Fke=function(e,t,r){return cr(e,"do MMMM (EEEE)",r)},Lke=function(){return"Month: "},zke=function(){return"Go to next month"},Bke=function(){return"Go to previous month"},Uke=function(e,t){return cr(e,"cccc",t)},Vke=function(e){return"Week n. ".concat(e)},Wke=function(){return"Year: "},qke=Object.freeze({__proto__:null,labelDay:Fke,labelMonthDropdown:Lke,labelNext:zke,labelPrevious:Bke,labelWeekNumber:Vke,labelWeekday:Uke,labelYearDropdown:Wke});function Hke(){var e="buttons",t=Ake,r=KZ,n={},s={},i=1,a={},o=new Date;return{captionLayout:e,classNames:t,formatters:Oke,labels:qke,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:a,today:o,mode:"default"}}function Kke(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,i=e.fromDate,a=e.toDate;return n?i=Fi(n):t&&(i=new Date(t,0,1)),s?a=z5(s):r&&(a=new Date(r,11,31)),{fromDate:i?Nh(i):void 0,toDate:a?Nh(a):void 0}}var rG=T.createContext(void 0);function Zke(e){var t,r=e.initialProps,n=Hke(),s=Kke(r),i=s.fromDate,a=s.toDate,o=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;o!=="buttons"&&(!i||!a)&&(o="buttons");var u;(M1(r)||x0(r)||w0(r))&&(u=r.onSelect);var c=qt(qt(qt({},n),r),{captionLayout:o,classNames:qt(qt({},n.classNames),r.classNames),components:qt({},r.components),formatters:qt(qt({},n.formatters),r.formatters),fromDate:i,labels:qt(qt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:qt(qt({},n.modifiers),r.modifiers),modifiersClassNames:qt(qt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:u,styles:qt(qt({},n.styles),r.styles),toDate:a});return l.jsx(rG.Provider,{value:c,children:e.children})}function rn(){var e=T.useContext(rG);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function nG(e){var t=rn(),r=t.locale,n=t.classNames,s=t.styles,i=t.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Gke(e){return l.jsx("svg",qt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function sG(e){var t,r,n=e.onChange,s=e.value,i=e.children,a=e.caption,o=e.className,u=e.style,c=rn(),d=(r=(t=c.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Gke;return l.jsxs("div",{className:o,style:u,children:[l.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:s,onChange:n,children:i}),l.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[a,l.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function Xke(e){var t,r=rn(),n=r.fromDate,s=r.toDate,i=r.styles,a=r.locale,o=r.formatters.formatMonthCaption,u=r.classNames,c=r.components,d=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var h=[];if(i_e(n,s))for(var f=Fi(n),p=n.getMonth();p<=s.getMonth();p++)h.push(f2(f,p));else for(var f=Fi(new Date),p=0;p<=11;p++)h.push(f2(f,p));var g=function(m){var v=Number(m.target.value),b=f2(Fi(e.displayMonth),v);e.onChange(b)},y=(t=c?.Dropdown)!==null&&t!==void 0?t:sG;return l.jsx(y,{name:"months","aria-label":d(),className:u.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:a}),children:h.map(function(m){return l.jsx("option",{value:m.getMonth(),children:o(m,{locale:a})},m.getMonth())})})}function Qke(e){var t,r=e.displayMonth,n=rn(),s=n.fromDate,i=n.toDate,a=n.locale,o=n.styles,u=n.classNames,c=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,f=[];if(!s)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});for(var p=s.getFullYear(),g=i.getFullYear(),y=p;y<=g;y++)f.push(AA(qZ(new Date),y));var m=function(b){var x=AA(Fi(r),Number(b.target.value));e.onChange(x)},v=(t=c?.Dropdown)!==null&&t!==void 0?t:sG;return l.jsx(v,{name:"years","aria-label":h(),className:u.dropdown_year,style:o.dropdown_year,onChange:m,value:r.getFullYear(),caption:d(r,{locale:a}),children:f.map(function(b){return l.jsx("option",{value:b.getFullYear(),children:d(b,{locale:a})},b.getFullYear())})})}function Yke(e,t){var r=T.useState(e),n=r[0],s=r[1],i=t===void 0?n:t;return[i,s]}function Jke(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,i=e.toDate,a=e.fromDate,o=e.numberOfMonths,u=o===void 0?1:o;if(i&&Jm(i,s)<0){var c=-1*(u-1);s=po(i,c)}return a&&Jm(s,a)<0&&(s=a),Fi(s)}function e4e(){var e=rn(),t=Jke(e),r=Yke(t,e.month),n=r[0],s=r[1],i=function(a){var o;if(!e.disableNavigation){var u=Fi(a);s(u),(o=e.onMonthChange)===null||o===void 0||o.call(e,u)}};return[n,i]}function t4e(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Fi(e),i=Fi(po(s,n)),a=Jm(i,s),o=[],u=0;u<a;u++){var c=po(s,u);o.push(c)}return r&&(o=o.reverse()),o}function r4e(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=n?i:1,o=Fi(e);if(!r)return po(o,a);var u=Jm(r,e);if(!(u<i))return po(o,a)}}function n4e(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=n?i:1,o=Fi(e);if(!r)return po(o,-a);var u=Jm(o,r);if(!(u<=0))return po(o,-a)}}var iG=T.createContext(void 0);function s4e(e){var t=rn(),r=e4e(),n=r[0],s=r[1],i=t4e(n,t),a=r4e(n,t),o=n4e(n,t),u=function(h){return i.some(function(f){return D1(h,f)})},c=function(h,f){u(h)||(f&&YZ(h,f)?s(po(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:c,previousMonth:o,nextMonth:a,isDateDisplayed:u};return l.jsx(iG.Provider,{value:d,children:e.children})}function _0(){var e=T.useContext(iG);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function PA(e){var t,r=rn(),n=r.classNames,s=r.styles,i=r.components,a=_0().goToMonth,o=function(d){a(po(d,e.displayIndex?-e.displayIndex:0))},u=(t=i?.CaptionLabel)!==null&&t!==void 0?t:nG,c=l.jsx(u,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:c}),l.jsx(Xke,{onChange:o,displayMonth:e.displayMonth}),l.jsx(Qke,{onChange:o,displayMonth:e.displayMonth})]})}function i4e(e){return l.jsx("svg",qt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function a4e(e){return l.jsx("svg",qt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var yv=T.forwardRef(function(e,t){var r=rn(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var a=i.join(" "),o=qt(qt({},s.button_reset),s.button);return e.style&&Object.assign(o,e.style),l.jsx("button",qt({},e,{ref:t,type:"button",className:a,style:o}))});function o4e(e){var t,r,n=rn(),s=n.dir,i=n.locale,a=n.classNames,o=n.styles,u=n.labels,c=u.labelPrevious,d=u.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var f=c(e.previousMonth,{locale:i}),p=[a.nav_button,a.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),y=[a.nav_button,a.nav_button_next].join(" "),m=(t=h?.IconRight)!==null&&t!==void 0?t:a4e,v=(r=h?.IconLeft)!==null&&r!==void 0?r:i4e;return l.jsxs("div",{className:a.nav,style:o.nav,children:[!e.hidePrevious&&l.jsx(yv,{name:"previous-month","aria-label":f,className:p,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(m,{className:a.nav_icon,style:o.nav_icon}):l.jsx(v,{className:a.nav_icon,style:o.nav_icon})}),!e.hideNext&&l.jsx(yv,{name:"next-month","aria-label":g,className:y,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(v,{className:a.nav_icon,style:o.nav_icon}):l.jsx(m,{className:a.nav_icon,style:o.nav_icon})})]})}function IA(e){var t=rn().numberOfMonths,r=_0(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,a=r.displayMonths,o=a.findIndex(function(g){return D1(e.displayMonth,g)}),u=o===0,c=o===a.length-1,d=t>1&&(u||!c),h=t>1&&(c||!u),f=function(){n&&i(n)},p=function(){s&&i(s)};return l.jsx(o4e,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:f,onNextClick:p})}function l4e(e){var t,r=rn(),n=r.classNames,s=r.disableNavigation,i=r.styles,a=r.captionLayout,o=r.components,u=(t=o?.CaptionLabel)!==null&&t!==void 0?t:nG,c;return s?c=l.jsx(u,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?c=l.jsx(PA,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?c=l.jsxs(l.Fragment,{children:[l.jsx(PA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(IA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=l.jsxs(l.Fragment,{children:[l.jsx(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(IA,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:n.caption,style:i.caption,children:c})}function c4e(e){var t=rn(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?l.jsx("tfoot",{className:s,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function u4e(e,t,r){for(var n=r?kd(new Date):$a(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var a=hi(n,i);s.push(a)}return s}function d4e(){var e=rn(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,a=e.ISOWeek,o=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,c=u4e(s,i,a);return l.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:t.head_cell}),c.map(function(d,h){return l.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":u(d,{locale:s}),children:o(d,{locale:s})},h)})]})}function f4e(){var e,t=rn(),r=t.classNames,n=t.styles,s=t.components,i=(e=s?.HeadRow)!==null&&e!==void 0?e:d4e;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(i,{})})}function h4e(e){var t=rn(),r=t.locale,n=t.formatters.formatDay;return l.jsx(l.Fragment,{children:n(e.date,{locale:r})})}var V5=T.createContext(void 0);function p4e(e){if(!x0(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(V5.Provider,{value:t,children:e.children})}return l.jsx(m4e,{initialProps:e.initialProps,children:e.children})}function m4e(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,i=t.max,a=function(c,d,h){var f,p;(f=t.onDayClick)===null||f===void 0||f.call(t,c,d,h);var g=!!(d.selected&&s&&n?.length===s);if(!g){var y=!!(!d.selected&&i&&n?.length===i);if(!y){var m=n?tG([],n):[];if(d.selected){var v=m.findIndex(function(b){return ti(c,b)});m.splice(v,1)}else m.push(c);(p=t.onSelect)===null||p===void 0||p.call(t,m,c,d,h)}}},o={disabled:[]};n&&o.disabled.push(function(c){var d=i&&n.length>i-1,h=n.some(function(f){return ti(f,c)});return!!(d&&!h)});var u={selected:n,onDayClick:a,modifiers:o};return l.jsx(V5.Provider,{value:u,children:r})}function W5(){var e=T.useContext(V5);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function g4e(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?ti(s,e)&&ti(n,e)?void 0:ti(s,e)?{from:s,to:void 0}:ti(n,e)?void 0:j4(n,e)?{from:e,to:s}:{from:n,to:e}:s?j4(e,s)?{from:s,to:e}:{from:e,to:s}:n?YZ(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var q5=T.createContext(void 0);function y4e(e){if(!w0(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(q5.Provider,{value:t,children:e.children})}return l.jsx(b4e,{initialProps:e.initialProps,children:e.children})}function b4e(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},i=s.from,a=s.to,o=t.min,u=t.max,c=function(p,g,y){var m,v;(m=t.onDayClick)===null||m===void 0||m.call(t,p,g,y);var b=g4e(p,n);(v=t.onSelect)===null||v===void 0||v.call(t,b,p,g,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],ti(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),o&&(i&&!a&&d.disabled.push({after:rb(i,o-1),before:hi(i,o-1)}),i&&a&&d.disabled.push({after:i,before:hi(i,o-1)}),!i&&a&&d.disabled.push({after:rb(a,o-1),before:hi(a,o-1)})),u){if(i&&!a&&(d.disabled.push({before:hi(i,-u+1)}),d.disabled.push({after:hi(i,u-1)})),i&&a){var h=Ro(a,i)+1,f=u-h;d.disabled.push({before:rb(i,f)}),d.disabled.push({after:hi(a,f)})}!i&&a&&(d.disabled.push({before:hi(a,-u+1)}),d.disabled.push({after:hi(a,u-1)}))}return l.jsx(q5.Provider,{value:{selected:n,onDayClick:c,modifiers:d},children:r})}function H5(){var e=T.useContext(q5);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function nb(e){return Array.isArray(e)?tG([],e):e!==void 0?[e]:[]}function v4e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=nb(s)}),t}var mo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(mo||(mo={}));var x4e=mo.Selected,nl=mo.Disabled,w4e=mo.Hidden,_4e=mo.Today,h2=mo.RangeEnd,p2=mo.RangeMiddle,m2=mo.RangeStart,k4e=mo.Outside;function S4e(e,t,r){var n,s=(n={},n[x4e]=nb(e.selected),n[nl]=nb(e.disabled),n[w4e]=nb(e.hidden),n[_4e]=[e.today],n[h2]=[],n[p2]=[],n[m2]=[],n[k4e]=[],n);return e.fromDate&&s[nl].push({before:e.fromDate}),e.toDate&&s[nl].push({after:e.toDate}),x0(e)?s[nl]=s[nl].concat(t.modifiers[nl]):w0(e)&&(s[nl]=s[nl].concat(r.modifiers[nl]),s[m2]=r.modifiers[m2],s[p2]=r.modifiers[p2],s[h2]=r.modifiers[h2]),s}var aG=T.createContext(void 0);function j4e(e){var t=rn(),r=W5(),n=H5(),s=S4e(t,r,n),i=v4e(t.modifiers),a=qt(qt({},s),i);return l.jsx(aG.Provider,{value:a,children:e.children})}function oG(){var e=T.useContext(aG);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function N4e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function C4e(e){return!!(e&&typeof e=="object"&&"from"in e)}function T4e(e){return!!(e&&typeof e=="object"&&"after"in e)}function E4e(e){return!!(e&&typeof e=="object"&&"before"in e)}function A4e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function P4e(e,t){var r,n=t.from,s=t.to;if(n&&s){var i=Ro(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var a=Ro(e,n)>=0&&Ro(s,e)>=0;return a}return s?ti(s,e):n?ti(n,e):!1}function I4e(e){return L5(e)}function D4e(e){return Array.isArray(e)&&e.every(L5)}function M4e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(I4e(r))return ti(e,r);if(D4e(r))return r.includes(e);if(C4e(r))return P4e(e,r);if(A4e(r))return r.dayOfWeek.includes(e.getDay());if(N4e(r)){var n=Ro(r.before,e),s=Ro(r.after,e),i=n>0,a=s<0,o=j4(r.before,r.after);return o?a&&i:i||a}return T4e(r)?Ro(e,r.after)>0:E4e(r)?Ro(r.before,e)>0:typeof r=="function"?r(e):!1})}function K5(e,t,r){var n=Object.keys(t).reduce(function(i,a){var o=t[a];return M4e(e,o)&&i.push(a),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!D1(e,r)&&(s.outside=!0),s}function R4e(e,t){for(var r=Fi(e[0]),n=z5(e[e.length-1]),s,i,a=r;a<=n;){var o=K5(a,t),u=!o.disabled&&!o.hidden;if(!u){a=hi(a,1);continue}if(o.selected)return a;o.today&&!i&&(i=a),s||(s=a),a=hi(a,1)}return i||s}var $4e=365;function lG(e,t){var r=t.moveBy,n=t.direction,s=t.context,i=t.modifiers,a=t.retry,o=a===void 0?{count:0,lastFocused:e}:a,u=s.weekStartsOn,c=s.fromDate,d=s.toDate,h=s.locale,f={day:hi,week:S4,month:po,year:t2e,startOfWeek:function(m){return s.ISOWeek?kd(m):$a(m,{locale:h,weekStartsOn:u})},endOfWeek:function(m){return s.ISOWeek?HZ(m):B5(m,{locale:h,weekStartsOn:u})}},p=f[r](e,n==="after"?1:-1);n==="before"&&c?p=r2e([c,p]):n==="after"&&d&&(p=n2e([d,p]));var g=!0;if(i){var y=K5(p,i);g=!y.disabled&&!y.hidden}return g?p:o.count>$4e?o.lastFocused:lG(p,{moveBy:r,direction:n,context:s,modifiers:i,retry:qt(qt({},o),{count:o.count+1})})}var cG=T.createContext(void 0);function O4e(e){var t=_0(),r=oG(),n=T.useState(),s=n[0],i=n[1],a=T.useState(),o=a[0],u=a[1],c=R4e(t.displayMonths,r),d=s??(o&&t.isDateDisplayed(o))?o:c,h=function(){u(s),i(void 0)},f=function(m){i(m)},p=rn(),g=function(m,v){if(s){var b=lG(s,{moveBy:m,direction:v,context:p,modifiers:r});ti(s,b)||(t.goToDate(b,s),f(b))}},y={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return l.jsx(cG.Provider,{value:y,children:e.children})}function Z5(){var e=T.useContext(cG);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function F4e(e,t){var r=oG(),n=K5(e,r,t);return n}var G5=T.createContext(void 0);function L4e(e){if(!M1(e.initialProps)){var t={selected:void 0};return l.jsx(G5.Provider,{value:t,children:e.children})}return l.jsx(z4e,{initialProps:e.initialProps,children:e.children})}function z4e(e){var t=e.initialProps,r=e.children,n=function(i,a,o){var u,c,d;if((u=t.onDayClick)===null||u===void 0||u.call(t,i,a,o),a.selected&&!t.required){(c=t.onSelect)===null||c===void 0||c.call(t,void 0,i,a,o);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,a,o)},s={selected:t.selected,onDayClick:n};return l.jsx(G5.Provider,{value:s,children:r})}function uG(){var e=T.useContext(G5);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function B4e(e,t){var r=rn(),n=uG(),s=W5(),i=H5(),a=Z5(),o=a.focusDayAfter,u=a.focusDayBefore,c=a.focusWeekAfter,d=a.focusWeekBefore,h=a.blur,f=a.focus,p=a.focusMonthBefore,g=a.focusMonthAfter,y=a.focusYearBefore,m=a.focusYearAfter,v=a.focusStartOfWeek,b=a.focusEndOfWeek,x=function(_){var k,S,D,O;M1(r)?(k=n.onDayClick)===null||k===void 0||k.call(n,e,t,_):x0(r)?(S=s.onDayClick)===null||S===void 0||S.call(s,e,t,_):w0(r)?(D=i.onDayClick)===null||D===void 0||D.call(i,e,t,_):(O=r.onDayClick)===null||O===void 0||O.call(r,e,t,_)},j=function(_){var k;f(e),(k=r.onDayFocus)===null||k===void 0||k.call(r,e,t,_)},C=function(_){var k;h(),(k=r.onDayBlur)===null||k===void 0||k.call(r,e,t,_)},R=function(_){var k;(k=r.onDayMouseEnter)===null||k===void 0||k.call(r,e,t,_)},L=function(_){var k;(k=r.onDayMouseLeave)===null||k===void 0||k.call(r,e,t,_)},A=function(_){var k;(k=r.onDayPointerEnter)===null||k===void 0||k.call(r,e,t,_)},P=function(_){var k;(k=r.onDayPointerLeave)===null||k===void 0||k.call(r,e,t,_)},$=function(_){var k;(k=r.onDayTouchCancel)===null||k===void 0||k.call(r,e,t,_)},V=function(_){var k;(k=r.onDayTouchEnd)===null||k===void 0||k.call(r,e,t,_)},U=function(_){var k;(k=r.onDayTouchMove)===null||k===void 0||k.call(r,e,t,_)},E=function(_){var k;(k=r.onDayTouchStart)===null||k===void 0||k.call(r,e,t,_)},I=function(_){var k;(k=r.onDayKeyUp)===null||k===void 0||k.call(r,e,t,_)},N=function(_){var k;switch(_.key){case"ArrowLeft":_.preventDefault(),_.stopPropagation(),r.dir==="rtl"?o():u();break;case"ArrowRight":_.preventDefault(),_.stopPropagation(),r.dir==="rtl"?u():o();break;case"ArrowDown":_.preventDefault(),_.stopPropagation(),c();break;case"ArrowUp":_.preventDefault(),_.stopPropagation(),d();break;case"PageUp":_.preventDefault(),_.stopPropagation(),_.shiftKey?y():p();break;case"PageDown":_.preventDefault(),_.stopPropagation(),_.shiftKey?m():g();break;case"Home":_.preventDefault(),_.stopPropagation(),v();break;case"End":_.preventDefault(),_.stopPropagation(),b();break}(k=r.onDayKeyDown)===null||k===void 0||k.call(r,e,t,_)},w={onClick:x,onFocus:j,onBlur:C,onKeyDown:N,onKeyUp:I,onMouseEnter:R,onMouseLeave:L,onPointerEnter:A,onPointerLeave:P,onTouchCancel:$,onTouchEnd:V,onTouchMove:U,onTouchStart:E};return w}function U4e(){var e=rn(),t=uG(),r=W5(),n=H5(),s=M1(e)?t.selected:x0(e)?r.selected:w0(e)?n.selected:void 0;return s}function V4e(e){return Object.values(mo).includes(e)}function W4e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(V4e(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function q4e(e,t){var r=qt({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=qt(qt({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function H4e(e,t,r){var n,s,i,a=rn(),o=Z5(),u=F4e(e,t),c=B4e(e,u),d=U4e(),h=!!(a.onDayClick||a.mode!=="default");T.useEffect(function(){var R;u.outside||o.focusedDay&&h&&ti(o.focusedDay,e)&&((R=r.current)===null||R===void 0||R.focus())},[o.focusedDay,e,r,h,u.outside]);var f=W4e(a,u).join(" "),p=q4e(a,u),g=!!(u.outside&&!a.showOutsideDays||u.hidden),y=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:h4e,m=l.jsx(y,{date:e,displayMonth:t,activeModifiers:u}),v={style:p,className:f,children:m,role:"gridcell"},b=o.focusTarget&&ti(o.focusTarget,e)&&!u.outside,x=o.focusedDay&&ti(o.focusedDay,e),j=qt(qt(qt({},v),(n={disabled:u.disabled,role:"gridcell"},n["aria-selected"]=u.selected,n.tabIndex=x||b?0:-1,n)),c),C={isButton:h,isHidden:g,activeModifiers:u,selectedDays:d,buttonProps:j,divProps:v};return C}function K4e(e){var t=T.useRef(null),r=H4e(e.date,e.displayMonth,t);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(yv,qt({name:"day",ref:t},r.buttonProps)):l.jsx("div",qt({},r.divProps))}function Z4e(e){var t=e.number,r=e.dates,n=rn(),s=n.onWeekNumberClick,i=n.styles,a=n.classNames,o=n.locale,u=n.labels.labelWeekNumber,c=n.formatters.formatWeekNumber,d=c(Number(t),{locale:o});if(!s)return l.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var h=u(Number(t),{locale:o}),f=function(p){s(t,r,p)};return l.jsx(yv,{name:"week-number","aria-label":h,className:a.weeknumber,style:i.weeknumber,onClick:f,children:d})}function G4e(e){var t,r,n=rn(),s=n.styles,i=n.classNames,a=n.showWeekNumber,o=n.components,u=(t=o?.Day)!==null&&t!==void 0?t:K4e,c=(r=o?.WeekNumber)!==null&&r!==void 0?r:Z4e,d;return a&&(d=l.jsx("td",{className:i.cell,style:s.cell,children:l.jsx(c,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(h){return l.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:l.jsx(u,{displayMonth:e.displayMonth,date:h})},t_e(h))})]})}function DA(e,t,r){for(var n=r?.ISOWeek?HZ(t):B5(t,r),s=r?.ISOWeek?kd(e):$a(e,r),i=Ro(n,s),a=[],o=0;o<=i;o++)a.push(hi(s,o));var u=a.reduce(function(c,d){var h=r?.ISOWeek?ZZ(d):XZ(d,r),f=c.find(function(p){return p.weekNumber===h});return f?(f.dates.push(d),c):(c.push({weekNumber:h,dates:[d]}),c)},[]);return u}function X4e(e,t){var r=DA(Fi(e),z5(e),t);if(t?.useFixedWeeks){var n=n_e(e,t);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],a=S4(i,6-n),o=DA(S4(i,1),a,t);r.push.apply(r,o)}}return r}function Q4e(e){var t,r,n,s=rn(),i=s.locale,a=s.classNames,o=s.styles,u=s.hideHead,c=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,p=s.ISOWeek,g=X4e(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),y=(t=d?.Head)!==null&&t!==void 0?t:f4e,m=(r=d?.Row)!==null&&r!==void 0?r:G4e,v=(n=d?.Footer)!==null&&n!==void 0?n:c4e;return l.jsxs("table",{id:e.id,className:a.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&l.jsx(y,{}),l.jsx("tbody",{className:a.tbody,style:o.tbody,children:g.map(function(b){return l.jsx(m,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),l.jsx(v,{displayMonth:e.displayMonth})]})}function Y4e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var J4e=Y4e()?T.useLayoutEffect:T.useEffect,g2=!1,eSe=0;function MA(){return"react-day-picker-".concat(++eSe)}function tSe(e){var t,r=e??(g2?MA():null),n=T.useState(r),s=n[0],i=n[1];return J4e(function(){s===null&&i(MA())},[]),T.useEffect(function(){g2===!1&&(g2=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function rSe(e){var t,r,n=rn(),s=n.dir,i=n.classNames,a=n.styles,o=n.components,u=_0().displayMonths,c=tSe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=a.month,p=e.displayIndex===0,g=e.displayIndex===u.length-1,y=!p&&!g;s==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(h.push(i.caption_start),f=qt(qt({},f),a.caption_start)),g&&(h.push(i.caption_end),f=qt(qt({},f),a.caption_end)),y&&(h.push(i.caption_between),f=qt(qt({},f),a.caption_between));var m=(r=o?.Caption)!==null&&r!==void 0?r:l4e;return l.jsxs("div",{className:h.join(" "),style:f,children:[l.jsx(m,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Q4e,{id:d,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function nSe(e){var t=rn(),r=t.classNames,n=t.styles;return l.jsx("div",{className:r.months,style:n.months,children:e.children})}function sSe(e){var t,r,n=e.initialProps,s=rn(),i=Z5(),a=_0(),o=T.useState(!1),u=o[0],c=o[1];T.useEffect(function(){s.initialFocus&&i.focusTarget&&(u||(i.focus(i.focusTarget),c(!0)))},[s.initialFocus,u,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=qt(qt({},s.styles.root),s.style),f=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,y){var m;return qt(qt({},g),(m={},m[y]=n[y],m))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:nSe;return l.jsx("div",qt({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:l.jsx(p,{children:a.displayMonths.map(function(g,y){return l.jsx(rSe,{displayIndex:y,displayMonth:g},y)})})}))}function iSe(e){var t=e.children,r=Eke(e,["children"]);return l.jsx(Zke,{initialProps:r,children:l.jsx(s4e,{children:l.jsx(L4e,{initialProps:r,children:l.jsx(p4e,{initialProps:r,children:l.jsx(y4e,{initialProps:r,children:l.jsx(j4e,{children:l.jsx(O4e,{children:t})})})})})})})}function aSe(e){return l.jsx(iSe,qt({},e,{children:l.jsx(sSe,{initialProps:e})}))}function X5({className:e,classNames:t,showOutsideDays:r=!0,locale:n,...s}){const i=n??Di,a=i===Di||s.dir==="rtl";return l.jsx("div",{dir:a?"rtl":"ltr",lang:a?"ar":"en",children:l.jsx(aSe,{showOutsideDays:r,locale:i,weekStartsOn:6,className:we("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center mb-1",caption_label:"hidden",caption_dropdowns:"flex justify-center items-center gap-1",nav:"flex items-center gap-1",nav_button:we(Qm({variant:"ghost"}),"h-7 w-7 bg-transparent p-0 text-teal-700 hover:bg-teal-50 opacity-100"),nav_button_previous:a?"absolute right-1":"absolute left-1",nav_button_next:a?"absolute left-1":"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:we(Qm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{Dropdown:({value:o,onChange:u,children:c,...d})=>{const h=T.Children.toArray(c),f=h.find(g=>g.props.value===o),p=g=>{u?.({target:{value:g}})};return l.jsxs(En,{value:o?.toString(),onValueChange:g=>p(g),children:[l.jsx(bn,{className:"h-7 pr-2 pl-2 border-none bg-transparent hover:bg-accent hover:text-accent-foreground focus:ring-0",children:l.jsx(An,{children:f?.props?.children})}),l.jsx(vn,{position:"popper",children:l.jsx(bo,{className:"h-80",children:h.map((g,y)=>l.jsx(vt,{value:g.props.value?.toString()??"",children:g.props.children},`${g.props.value}-${y}`))})})]})},IconLeft:({className:o,...u})=>a?l.jsx(hd,{className:we("h-4 w-4",o),...u}):l.jsx(Lb,{className:we("h-4 w-4",o),...u}),IconRight:({className:o,...u})=>a?l.jsx(Lb,{className:we("h-4 w-4",o),...u}):l.jsx(hd,{className:we("h-4 w-4",o),...u})},...s})})}X5.displayName="Calendar";function Vo({label:e,value:t,onChange:r,placeholder:n=" ",disabled:s=!1,className:i,required:a=!1,error:o,id:u}){const[c,d]=T.useState(!1),[h,f]=T.useState(void 0),p=T.useMemo(()=>{if(t){if(t instanceof Date)return t;if(typeof t=="string"){const v=new Date(t);return isNaN(v.getTime())?void 0:v}}},[t]);T.useEffect(()=>{c&&f(p||new Date)},[c,p]);const g=()=>{r?.(h),d(!1)},y=()=>{r?.(void 0),d(!1)},m=p?cr(p,"dd MMMM yyyy",{locale:Di}):null;return l.jsxs("div",{className:we("flex flex-col gap-1.5",i),children:[e&&l.jsxs(Fe,{htmlFor:u,className:"text-right font-medium",children:[e,a&&l.jsx("span",{className:"text-destructive mr-1",children:"*"})]}),l.jsxs(xs,{open:c,onOpenChange:d,children:[l.jsx(kh,{asChild:!0,children:l.jsxs(_e,{id:u,variant:"ghost",disabled:s,className:we("w-full justify-start text-right font-normal h-full bg-transparent hover:bg-transparent",!p&&"text-muted-foreground",o&&"text-destructive"),children:[l.jsx(Qn,{className:"ml-2 h-4 w-4 opacity-50"}),l.jsx("span",{className:"truncate",children:m||n})]})}),l.jsxs(ls,{className:"z-[9999999] w-[92%] max-w-[310px] p-0 overflow-hidden border-none gap-0 rounded-2xl shadow-2xl fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 outline-none",children:[l.jsx("button",{onClick:()=>d(!1),className:"absolute left-4 top-4 text-white/70 hover:text-white z-50",children:l.jsx(os,{className:"h-5 w-5"})}),l.jsxs(ws,{className:"bg-teal-700 p-5 pt-10 text-white text-right relative",children:[l.jsx("div",{className:"text-xs opacity-80 mb-0.5 font-normal",children:cr(h||new Date,"yyyy")}),l.jsx("div",{className:"text-2xl font-bold",children:h?cr(h,"eeee d MMMM",{locale:Di}):"  "})]}),l.jsx("div",{className:"p-0 flex justify-center bg-white min-h-[320px]",children:l.jsx(X5,{mode:"single",selected:h,onSelect:f,initialFocus:!0,captionLayout:"dropdown-buttons",fromYear:2020,toYear:2035,className:"border-none w-full p-2 pb-0 flex flex-col items-center",classNames:{caption_dropdowns:"flex justify-start gap-1 px-1",day_selected:"bg-teal-700 text-white hover:bg-teal-800 focus:bg-teal-700 rounded-full",day_today:"text-teal-700 font-bold",table:"w-full border-collapse space-y-0 mt-1",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",cell:"h-9 w-9 text-center text-sm p-0 relative",day:"h-9 w-9 p-0 font-normal hover:bg-teal-50 rounded-full transition-colors",months:"flex flex-col items-center w-full",month:"w-full px-2"}})}),l.jsxs("div",{className:"flex items-center justify-between px-8 py-6 bg-white",children:[l.jsx(_e,{variant:"ghost",onClick:g,className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:""}),l.jsx(_e,{variant:"ghost",onClick:()=>d(!1),className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:"Cancel"}),l.jsx(_e,{variant:"ghost",onClick:y,className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:""})]})]})]}),o&&l.jsx("p",{className:"text-sm text-destructive text-right",children:o})]})}function oSe({name:e,control:t,label:r,placeholder:n=" ",disabled:s=!1,className:i,required:a=!1,rules:o}){return l.jsx(qF,{name:e,control:t,rules:o,render:({field:u,fieldState:c})=>l.jsx(Vo,{label:r,value:u.value,onChange:d=>{u.onChange(d?cr(d,"yyyy-MM-dd"):"")},placeholder:n,disabled:s,className:i,required:a,error:c.error?.message,id:e})})}function lSe({searchValue:e="",onSearchChange:t,searchPlaceholder:r="...",showSearch:n=!0,actions:s=[],onReset:i,onRefresh:a,isRefreshing:o=!1,hasActiveFilters:u=!1,viewMode:c="grid",onViewModeChange:d,showViewToggle:h=!1,className:f,filters:p=[],filterValues:g={},onFilterChange:y}){const[m,v]=T.useState(!1),b=T.useCallback(()=>{t?.("")},[t]),j=p.filter(P=>{const $=g[P.key];return P.type==="date"?$ instanceof Date:P.type==="date-range"?$?.from||$?.to:$&&$!=="all"&&$!==P.defaultValue}).length,C=p.length>0&&y,R=P=>{const $=g[P.key];switch(P.type){case"date":return l.jsxs("div",{onClick:E=>E.stopPropagation(),className:"relative group mb-2",children:[l.jsx(Fe,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),l.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:l.jsx(Vo,{value:$?new Date($):void 0,onChange:E=>{y?.(P.key,E),E&&y?.("dateRange",void 0)},placeholder:P.placeholder,className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]});case"date-range":const V=$?.from?$.from instanceof Date?$.from:new Date($.from):void 0,U=$?.to?$.to instanceof Date?$.to:new Date($.to):void 0;return l.jsxs("div",{onClick:E=>E.stopPropagation(),className:"grid grid-cols-2 gap-4 pt-2 mb-2",children:[l.jsxs("div",{className:"relative group",children:[l.jsx(Fe,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),l.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:l.jsx(Vo,{value:V,onChange:E=>{const I=typeof $=="object"&&$!==null?{...$}:{};I.from=E,E&&y?.("specificDate",void 0),y?.(P.key,I)},placeholder:"",className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]}),l.jsxs("div",{className:"relative group",children:[l.jsx(Fe,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),l.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:l.jsx(Vo,{value:U,onChange:E=>{const I=typeof $=="object"&&$!==null?{...$}:{};I.to=E,y?.(P.key,I)},placeholder:"",className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]})]});default:return l.jsxs("div",{onClick:E=>E.stopPropagation(),className:"relative group mb-2",children:[l.jsx(Fe,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:P.label}),l.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:l.jsxs(En,{value:String($||P.defaultValue||"all"),onValueChange:E=>y?.(P.key,E),children:[l.jsx(bn,{className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm font-medium",children:l.jsx(An,{placeholder:P.placeholder||P.label})}),l.jsx(vn,{className:"rounded-2xl shadow-2xl border-slate-200 dark:border-slate-800",children:P.options?.map(E=>l.jsx(vt,{value:String(E.value),className:"rounded-xl my-1 py-3 text-right",children:E.label},E.value))})]})})]})}},L=[];h&&d&&(L.push({key:"viewList",icon:fle,tooltip:" ",onClick:()=>d("list"),variant:c==="list"?"default":"ghost"}),L.push({key:"viewGrid",icon:dle,tooltip:" ",onClick:()=>d("grid"),variant:c==="grid"?"default":"ghost"})),a&&L.push({key:"refresh",icon:ds,tooltip:"",onClick:a,loading:o}),i&&u&&L.push({key:"reset",icon:xl,tooltip:" ",onClick:i});const A=[...L,...Array.isArray(s)?s:[]];return l.jsxs("div",{className:we("flex items-center gap-2 p-2 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",f),dir:"rtl",children:[n&&l.jsxs("div",{className:"relative flex-1",children:[l.jsx(tt,{type:"text",placeholder:r,value:e,onChange:P=>t?.(P.target.value),className:"h-9 pe-3 ps-10 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 rounded-lg text-sm text-right",dir:"rtl"}),e?l.jsx(_e,{variant:"ghost",size:"sm",className:"absolute left-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0 hover:bg-red-100 dark:hover:bg-red-900/30 z-10",onClick:b,type:"button",children:l.jsx(os,{className:"h-4 w-4 text-gray-400 hover:text-red-500"})}):l.jsx(uo,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),C&&l.jsxs(P1,{open:m,onOpenChange:v,children:[l.jsx($5,{asChild:!0,children:l.jsxs(_e,{variant:"ghost",size:"icon",className:we("h-8 w-8 rounded-lg relative",j>0?"text-primary bg-primary/10":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"),children:[l.jsx(Bb,{className:"h-4 w-4"}),j>0&&l.jsx(ft,{className:"absolute -top-1 -left-1 h-4 w-4 p-0 flex items-center justify-center text-[10px] bg-primary text-white",children:j})]})}),l.jsx(y0,{side:"bottom",className:"h-[85vh] sm:h-[80vh] sm:max-w-2xl rounded-t-[2.5rem] p-0 overflow-hidden border-t-0 bg-white dark:bg-gray-950 shadow-[0_-20px_50px_-12px_rgba(0,0,0,0.1)] z-[10001]",dir:"rtl",onPointerDownOutside:P=>{const $=P.target;($.closest(".rdp")||$.closest('[role="listbox"]')||$.closest(".relative"))&&P.preventDefault()},onInteractOutside:P=>{const $=P.target;($.closest(".rdp")||$.closest('[role="listbox"]'))&&P.preventDefault()},children:l.jsxs("div",{className:"flex flex-col h-full relative p-6 pb-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8 flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(LZ,{asChild:!0,children:l.jsx(_e,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:l.jsx(os,{className:"h-5 w-5"})})}),l.jsx(b0,{className:"text-xl font-bold tracking-tight",children:" "})]}),l.jsx("div",{className:"h-1.5 w-12 bg-slate-200 dark:bg-slate-800 rounded-full"})]}),l.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto custom-scrollbar px-1 pb-32 pt-2",children:[l.jsx("div",{className:"space-y-10 max-w-xl mx-auto",children:p.map(P=>l.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:R(P)},P.key))}),p.length===0&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[l.jsx(Bb,{className:"w-12 h-12 mb-4 opacity-20"}),l.jsx("p",{children:"    "})]})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent dark:from-gray-950 dark:via-gray-950/95 z-50",children:l.jsx("div",{className:"max-w-xl mx-auto",children:l.jsx(_e,{className:"w-full h-14 text-lg font-bold rounded-2xl shadow-2xl shadow-primary/30 bg-primary hover:bg-primary/90 text-primary-foreground transition-all active:scale-[0.98] border-none",onClick:()=>v(!1),children:""})})})]})})]}),A.length>0&&l.jsx(dx,{delayDuration:300,children:l.jsx("div",{className:"flex items-center gap-1 ps-2 border-r border-gray-200 dark:border-gray-700 pe-2",children:A.map(P=>{const $=P.icon;return l.jsxs(Aj,{children:[l.jsx(Pj,{asChild:!0,children:l.jsx(_e,{variant:P.variant||"ghost",size:"icon",className:we("h-8 w-8 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-all duration-200",P.loading&&"bg-primary/10 text-primary",P.variant==="default"&&"bg-primary/10 text-primary"),onClick:P.onClick,disabled:P.disabled||P.loading,children:l.jsx($,{className:we("h-4 w-4 transition-transform duration-200",P.loading&&"animate-spin")})})}),P.tooltip&&l.jsx(fx,{side:"bottom",className:"text-xs",children:l.jsx("p",{children:P.loading?" ...":P.tooltip})})]},P.key)})})})]})}function cSe({filters:e,filterValues:t,onFilterChange:r,onReset:n,showAllFiltersButton:s=!0,className:i}){const[a,o]=T.useState(!1),c=e.filter(f=>{const p=t[f.key];return f.type==="date"?p instanceof Date:f.type==="date-range"?p?.from||p?.to:p&&p!=="all"&&p!==f.defaultValue}),d=f=>{const p=t[f.key];if(f.type==="date"&&p instanceof Date)return cr(p,"dd MMMM yyyy",{locale:Di});if(f.type==="date-range"){if(p?.from&&p?.to)return`${cr(p.from,"dd MMM",{locale:Di})} - ${cr(p.to,"dd MMM",{locale:Di})}`;if(p?.from)return` ${cr(p.from,"dd MMM",{locale:Di})}`}return f.options?.find(y=>y.value===p)?.label||p},h=f=>{f.type==="date"||f.type==="date-range"?r(f.key,void 0):r(f.key,f.defaultValue||"all")};return l.jsx("div",{className:we("space-y-1",i),children:c.length>0&&l.jsx("div",{className:"flex flex-wrap items-center gap-2 justify-center",children:c.map(f=>l.jsxs(ft,{variant:"secondary",className:"gap-1.5 px-3 py-1.5 text-sm bg-blue-500 hover:bg-blue-600 text-white border-0 rounded-full cursor-default transition-colors",children:[l.jsx("span",{className:"font-medium",children:d(f)}),l.jsx("button",{onClick:p=>{p.stopPropagation(),h(f)},className:"hover:bg-white/20 rounded-full p-0.5 transition-colors mr-0.5",children:l.jsx(os,{className:"h-3.5 w-3.5"})})]},f.key))})})}function uSe({config:e,className:t}){const{totalCount:r,filteredCount:n,totalLabel:s="",filteredLabel:i="",totalValue:a,totalValueLabel:o="",unit:u=".",categoryBreakdown:c,showBreakdown:d=!1}=e,h=f=>f==null?"0":typeof f=="number"?isNaN(f)||!isFinite(f)?"0":f.toLocaleString("en-US"):String(f);return l.jsxs("div",{className:we("border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",t),children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-2.5 bg-gradient-to-l from-blue-50/80 to-slate-50/80 dark:from-blue-900/30 dark:to-slate-900/30",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[s,":"]}),l.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:n}),l.jsx("span",{className:"text-xs text-gray-500",children:i}),l.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 arabic-numbers",children:r})]}),a!==void 0&&!d&&l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[o,":"]}),l.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:h(a)}),u&&l.jsx("span",{className:"text-xs text-gray-500",children:u})]})]}),d&&c&&c.length>0&&l.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:[c.map((f,p)=>l.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.label,":"]}),l.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 arabic-numbers",children:[h(f.value)," ",f.unit||u]})]},p)),a!==void 0&&l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-blue-50/50 dark:bg-blue-900/20 border-t-2 border-blue-200 dark:border-blue-800",children:[l.jsxs("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-400",children:[o,":"]}),l.jsxs("span",{className:"text-base font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:[h(a)," ",u]})]})]})]})}function za({statsRows:e,searchValue:t,onSearchChange:r,searchPlaceholder:n,showSearch:s=!0,filters:i=[],filterValues:a={},onFilterChange:o,onReset:u,onRefresh:c,isRefreshing:d,actions:h,resultsSummary:f,showAllFiltersButton:p=!0,onShowAllFilters:g,className:y,compact:m=!1,viewMode:v,onViewModeChange:b,title:x,subtitle:j,hideHeader:C=!1}){const R=i.some(L=>{const A=a[L.key];return L.type==="date"?A instanceof Date:L.type==="date-range"?A?.from||A?.to:A&&A!=="all"&&A!==L.defaultValue})||!!(t&&t.length>0);return l.jsxs("div",{className:we("space-y-2",y),children:[!C&&(x||j)&&l.jsxs("div",{className:"mb-4",children:[x&&l.jsx("h2",{className:"text-2xl font-bold",children:x}),j&&l.jsx("p",{className:"text-muted-foreground",children:j})]}),e&&e.length>0&&l.jsx(Gwe,{rows:e}),l.jsx(lSe,{searchValue:t,onSearchChange:r,searchPlaceholder:n,showSearch:s,actions:h,onReset:u,onRefresh:c,isRefreshing:d,hasActiveFilters:R,viewMode:v,onViewModeChange:b,showViewToggle:!!b,filters:i,filterValues:a,onFilterChange:o}),i.length>0&&o&&l.jsx(cSe,{filters:i,filterValues:a,onFilterChange:o,onReset:u,showAllFiltersButton:!1}),f&&l.jsx(uSe,{config:f})]})}function qr({className:e,...t}){return l.jsx("div",{className:we("animate-pulse rounded-md bg-muted",e),...t})}var y2="rovingFocusGroup.onEntryFocus",dSe={bubbles:!1,cancelable:!0},k0="RovingFocusGroup",[C4,dG,fSe]=Jv(k0),[hSe,Jh]=Ls(k0,[fSe]),[pSe,mSe]=hSe(k0),fG=T.forwardRef((e,t)=>l.jsx(C4.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(C4.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(gSe,{...e,ref:t})})}));fG.displayName=k0;var gSe=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=e,f=T.useRef(null),p=tr(t,f),g=Qh(i),[y,m]=Ma({prop:a,defaultProp:o??null,onChange:u,caller:k0}),[v,b]=T.useState(!1),x=Ys(c),j=dG(r),C=T.useRef(!1),[R,L]=T.useState(0);return T.useEffect(()=>{const A=f.current;if(A)return A.addEventListener(y2,x),()=>A.removeEventListener(y2,x)},[x]),l.jsx(pSe,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:y,onItemFocus:T.useCallback(A=>m(A),[m]),onItemShiftTab:T.useCallback(()=>b(!0),[]),onFocusableItemAdd:T.useCallback(()=>L(A=>A+1),[]),onFocusableItemRemove:T.useCallback(()=>L(A=>A-1),[]),children:l.jsx(wt.div,{tabIndex:v||R===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:et(e.onMouseDown,()=>{C.current=!0}),onFocus:et(e.onFocus,A=>{const P=!C.current;if(A.target===A.currentTarget&&P&&!v){const $=new CustomEvent(y2,dSe);if(A.currentTarget.dispatchEvent($),!$.defaultPrevented){const V=j().filter(w=>w.focusable),U=V.find(w=>w.active),E=V.find(w=>w.id===y),N=[U,E,...V].filter(Boolean).map(w=>w.ref.current);mG(N,d)}}C.current=!1}),onBlur:et(e.onBlur,()=>b(!1))})})}),hG="RovingFocusGroupItem",pG=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...o}=e,u=Qi(),c=i||u,d=mSe(hG,r),h=d.currentTabStopId===c,f=dG(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:y}=d;return T.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),l.jsx(C4.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:l.jsx(wt.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:et(e.onMouseDown,m=>{n?d.onItemFocus(c):m.preventDefault()}),onFocus:et(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:et(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const v=vSe(m,d.orientation,d.dir);if(v!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let x=f().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const j=x.indexOf(m.currentTarget);x=d.loop?xSe(x,j+1):x.slice(j+1)}setTimeout(()=>mG(x))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:y!=null}):a})})});pG.displayName=hG;var ySe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bSe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vSe(e,t,r){const n=bSe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ySe[n]}function mG(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function xSe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Q5=fG,Y5=pG;function wSe(e){const t=_Se(e),r=T.forwardRef((n,s)=>{const{children:i,...a}=n,o=T.Children.toArray(i),u=o.find(SSe);if(u){const c=u.props.children,d=o.map(h=>h===u?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:h);return l.jsx(t,{...a,ref:s,children:T.isValidElement(c)?T.cloneElement(c,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function _Se(e){const t=T.forwardRef((r,n)=>{const{children:s,...i}=r;if(T.isValidElement(s)){const a=NSe(s),o=jSe(i,s.props);return s.type!==T.Fragment&&(o.ref=n?Go(n,a):a),T.cloneElement(s,o)}return T.Children.count(s)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kSe=Symbol("radix.slottable");function SSe(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kSe}function jSe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function NSe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var T4=["Enter"," "],CSe=["ArrowDown","PageUp","Home"],gG=["ArrowUp","PageDown","End"],TSe=[...CSe,...gG],ESe={ltr:[...T4,"ArrowRight"],rtl:[...T4,"ArrowLeft"]},ASe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},S0="Menu",[eg,PSe,ISe]=Jv(S0),[zd,yG]=Ls(S0,[ISe,fu,Jh]),R1=fu(),bG=Jh(),[DSe,Bd]=zd(S0),[MSe,j0]=zd(S0),vG=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:a=!0}=e,o=R1(t),[u,c]=T.useState(null),d=T.useRef(!1),h=Ys(i),f=Qh(s);return T.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(ix,{...o,children:l.jsx(DSe,{scope:t,open:r,onOpenChange:h,content:u,onContentChange:c,children:l.jsx(MSe,{scope:t,onClose:T.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:a,children:n})})})};vG.displayName=S0;var RSe="MenuAnchor",J5=T.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=R1(r);return l.jsx(Dg,{...s,...n,ref:t})});J5.displayName=RSe;var eN="MenuPortal",[$Se,xG]=zd(eN,{forceMount:void 0}),wG=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Bd(eN,t);return l.jsx($Se,{scope:t,forceMount:r,children:l.jsx(Jn,{present:r||i.open,children:l.jsx($h,{asChild:!0,container:s,children:n})})})};wG.displayName=eN;var Aa="MenuContent",[OSe,tN]=zd(Aa),_G=T.forwardRef((e,t)=>{const r=xG(Aa,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Bd(Aa,e.__scopeMenu),a=j0(Aa,e.__scopeMenu);return l.jsx(eg.Provider,{scope:e.__scopeMenu,children:l.jsx(Jn,{present:n||i.open,children:l.jsx(eg.Slot,{scope:e.__scopeMenu,children:a.modal?l.jsx(FSe,{...s,ref:t}):l.jsx(LSe,{...s,ref:t})})})})}),FSe=T.forwardRef((e,t)=>{const r=Bd(Aa,e.__scopeMenu),n=T.useRef(null),s=tr(t,n);return T.useEffect(()=>{const i=n.current;if(i)return b1(i)},[]),l.jsx(rN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:et(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),LSe=T.forwardRef((e,t)=>{const r=Bd(Aa,e.__scopeMenu);return l.jsx(rN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),zSe=wSe("MenuContent.ScrollLock"),rN=T.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:u,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...y}=e,m=Bd(Aa,r),v=j0(Aa,r),b=R1(r),x=bG(r),j=PSe(r),[C,R]=T.useState(null),L=T.useRef(null),A=tr(t,L,m.onContentChange),P=T.useRef(0),$=T.useRef(""),V=T.useRef(0),U=T.useRef(null),E=T.useRef("right"),I=T.useRef(0),N=g?d0:T.Fragment,w=g?{as:zSe,allowPinchZoom:!0}:void 0,_=S=>{const D=$.current+S,O=j().filter(K=>!K.disabled),B=document.activeElement,q=O.find(K=>K.ref.current===B)?.textValue,H=O.map(K=>K.textValue),Q=YSe(H,D,q),M=O.find(K=>K.textValue===Q)?.ref.current;(function K(z){$.current=z,window.clearTimeout(P.current),z!==""&&(P.current=window.setTimeout(()=>K(""),1e3))})(D),M&&setTimeout(()=>M.focus())};T.useEffect(()=>()=>window.clearTimeout(P.current),[]),g1();const k=T.useCallback(S=>E.current===U.current?.side&&eje(S,U.current?.area),[]);return l.jsx(OSe,{scope:r,searchRef:$,onItemEnter:T.useCallback(S=>{k(S)&&S.preventDefault()},[k]),onItemLeave:T.useCallback(S=>{k(S)||(L.current?.focus(),R(null))},[k]),onTriggerLeave:T.useCallback(S=>{k(S)&&S.preventDefault()},[k]),pointerGraceTimerRef:V,onPointerGraceIntentChange:T.useCallback(S=>{U.current=S},[]),children:l.jsx(N,{...w,children:l.jsx(u0,{asChild:!0,trapped:s,onMountAutoFocus:et(i,S=>{S.preventDefault(),L.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(Dd,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:l.jsx(Q5,{asChild:!0,...x,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:R,onEntryFocus:et(u,S=>{v.isUsingKeyboardRef.current||S.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(ax,{role:"menu","aria-orientation":"vertical","data-state":FG(m.open),"data-radix-menu-content":"",dir:v.dir,...b,...y,ref:A,style:{outline:"none",...y.style},onKeyDown:et(y.onKeyDown,S=>{const O=S.target.closest("[data-radix-menu-content]")===S.currentTarget,B=S.ctrlKey||S.altKey||S.metaKey,q=S.key.length===1;O&&(S.key==="Tab"&&S.preventDefault(),!B&&q&&_(S.key));const H=L.current;if(S.target!==H||!TSe.includes(S.key))return;S.preventDefault();const M=j().filter(K=>!K.disabled).map(K=>K.ref.current);gG.includes(S.key)&&M.reverse(),XSe(M)}),onBlur:et(e.onBlur,S=>{S.currentTarget.contains(S.target)||(window.clearTimeout(P.current),$.current="")}),onPointerMove:et(e.onPointerMove,tg(S=>{const D=S.target,O=I.current!==S.clientX;if(S.currentTarget.contains(D)&&O){const B=S.clientX>I.current?"right":"left";E.current=B,I.current=S.clientX}}))})})})})})})});_G.displayName=Aa;var BSe="MenuGroup",nN=T.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(wt.div,{role:"group",...n,ref:t})});nN.displayName=BSe;var USe="MenuLabel",kG=T.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(wt.div,{...n,ref:t})});kG.displayName=USe;var bv="MenuItem",RA="menu.itemSelect",$1=T.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=T.useRef(null),a=j0(bv,e.__scopeMenu),o=tN(bv,e.__scopeMenu),u=tr(t,i),c=T.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const f=new CustomEvent(RA,{bubbles:!0,cancelable:!0});h.addEventListener(RA,p=>n?.(p),{once:!0}),_O(h,f),f.defaultPrevented?c.current=!1:a.onClose()}};return l.jsx(SG,{...s,ref:u,disabled:r,onClick:et(e.onClick,d),onPointerDown:h=>{e.onPointerDown?.(h),c.current=!0},onPointerUp:et(e.onPointerUp,h=>{c.current||h.currentTarget?.click()}),onKeyDown:et(e.onKeyDown,h=>{const f=o.searchRef.current!=="";r||f&&h.key===" "||T4.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});$1.displayName=bv;var SG=T.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,a=tN(bv,r),o=bG(r),u=T.useRef(null),c=tr(t,u),[d,h]=T.useState(!1),[f,p]=T.useState("");return T.useEffect(()=>{const g=u.current;g&&p((g.textContent??"").trim())},[i.children]),l.jsx(eg.ItemSlot,{scope:r,disabled:n,textValue:s??f,children:l.jsx(Y5,{asChild:!0,...o,focusable:!n,children:l.jsx(wt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:c,onPointerMove:et(e.onPointerMove,tg(g=>{n?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(e.onPointerLeave,tg(g=>a.onItemLeave(g))),onFocus:et(e.onFocus,()=>h(!0)),onBlur:et(e.onBlur,()=>h(!1))})})})}),VSe="MenuCheckboxItem",jG=T.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(AG,{scope:e.__scopeMenu,checked:r,children:l.jsx($1,{role:"menuitemcheckbox","aria-checked":vv(r)?"mixed":r,...s,ref:t,"data-state":iN(r),onSelect:et(s.onSelect,()=>n?.(vv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});jG.displayName=VSe;var NG="MenuRadioGroup",[WSe,qSe]=zd(NG,{value:void 0,onValueChange:()=>{}}),CG=T.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Ys(n);return l.jsx(WSe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:l.jsx(nN,{...s,ref:t})})});CG.displayName=NG;var TG="MenuRadioItem",EG=T.forwardRef((e,t)=>{const{value:r,...n}=e,s=qSe(TG,e.__scopeMenu),i=r===s.value;return l.jsx(AG,{scope:e.__scopeMenu,checked:i,children:l.jsx($1,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":iN(i),onSelect:et(n.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});EG.displayName=TG;var sN="MenuItemIndicator",[AG,HSe]=zd(sN,{checked:!1}),PG=T.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=HSe(sN,r);return l.jsx(Jn,{present:n||vv(i.checked)||i.checked===!0,children:l.jsx(wt.span,{...s,ref:t,"data-state":iN(i.checked)})})});PG.displayName=sN;var KSe="MenuSeparator",IG=T.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(wt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});IG.displayName=KSe;var ZSe="MenuArrow",DG=T.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=R1(r);return l.jsx(ox,{...s,...n,ref:t})});DG.displayName=ZSe;var GSe="MenuSub",[PIe,MG]=zd(GSe),Lp="MenuSubTrigger",RG=T.forwardRef((e,t)=>{const r=Bd(Lp,e.__scopeMenu),n=j0(Lp,e.__scopeMenu),s=MG(Lp,e.__scopeMenu),i=tN(Lp,e.__scopeMenu),a=T.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:u}=i,c={__scopeMenu:e.__scopeMenu},d=T.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return T.useEffect(()=>d,[d]),T.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),u(null)}},[o,u]),l.jsx(J5,{asChild:!0,...c,children:l.jsx(SG,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":FG(r.open),...e,ref:Go(t,s.onTriggerChange),onClick:h=>{e.onClick?.(h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:et(e.onPointerMove,tg(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:et(e.onPointerLeave,tg(h=>{d();const f=r.content?.getBoundingClientRect();if(f){const p=r.content?.dataset.side,g=p==="right",y=g?-5:5,m=f[g?"left":"right"],v=f[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:m,y:f.top},{x:v,y:f.top},{x:v,y:f.bottom},{x:m,y:f.bottom}],side:p}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(e.onKeyDown,h=>{const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||ESe[n.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});RG.displayName=Lp;var $G="MenuSubContent",OG=T.forwardRef((e,t)=>{const r=xG(Aa,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Bd(Aa,e.__scopeMenu),a=j0(Aa,e.__scopeMenu),o=MG($G,e.__scopeMenu),u=T.useRef(null),c=tr(t,u);return l.jsx(eg.Provider,{scope:e.__scopeMenu,children:l.jsx(Jn,{present:n||i.open,children:l.jsx(eg.Slot,{scope:e.__scopeMenu,children:l.jsx(rN,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{a.isUsingKeyboardRef.current&&u.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:et(e.onFocusOutside,d=>{d.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:et(e.onKeyDown,d=>{const h=d.currentTarget.contains(d.target),f=ASe[a.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),o.trigger?.focus(),d.preventDefault())})})})})})});OG.displayName=$G;function FG(e){return e?"open":"closed"}function vv(e){return e==="indeterminate"}function iN(e){return vv(e)?"indeterminate":e?"checked":"unchecked"}function XSe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function QSe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function YSe(e,t,r){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=QSe(e,Math.max(i,0));s.length===1&&(a=a.filter(c=>c!==r));const u=a.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function JSe(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i],u=t[a],c=o.x,d=o.y,h=u.x,f=u.y;d>n!=f>n&&r<(h-c)*(n-d)/(f-d)+c&&(s=!s)}return s}function eje(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return JSe(r,t)}function tg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var tje=vG,rje=J5,nje=wG,sje=_G,ije=nN,aje=kG,oje=$1,lje=jG,cje=CG,uje=EG,dje=PG,fje=IG,hje=DG,pje=RG,mje=OG,O1="DropdownMenu",[gje]=Ls(O1,[yG]),ki=yG(),[yje,LG]=gje(O1),zG=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,u=ki(t),c=T.useRef(null),[d,h]=Ma({prop:s,defaultProp:i??!1,onChange:a,caller:O1});return l.jsx(yje,{scope:t,triggerId:Qi(),triggerRef:c,contentId:Qi(),open:d,onOpenChange:h,onOpenToggle:T.useCallback(()=>h(f=>!f),[h]),modal:o,children:l.jsx(tje,{...u,open:d,onOpenChange:h,dir:n,modal:o,children:r})})};zG.displayName=O1;var BG="DropdownMenuTrigger",UG=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=LG(BG,r),a=ki(r);return l.jsx(rje,{asChild:!0,...a,children:l.jsx(wt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Go(t,i.triggerRef),onPointerDown:et(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:et(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});UG.displayName=BG;var bje="DropdownMenuPortal",VG=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ki(t);return l.jsx(nje,{...n,...r})};VG.displayName=bje;var WG="DropdownMenuContent",qG=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=LG(WG,r),i=ki(r),a=T.useRef(!1);return l.jsx(sje,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:et(e.onCloseAutoFocus,o=>{a.current||s.triggerRef.current?.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:et(e.onInteractOutside,o=>{const u=o.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0,d=u.button===2||c;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qG.displayName=WG;var vje="DropdownMenuGroup",xje=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ki(r);return l.jsx(ije,{...s,...n,ref:t})});xje.displayName=vje;var wje="DropdownMenuLabel",HG=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ki(r);return l.jsx(aje,{...s,...n,ref:t})});HG.displayName=wje;var _je="DropdownMenuItem",KG=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ki(r);return l.jsx(oje,{...s,...n,ref:t})});KG.displayName=_je;var kje="DropdownMenuCheckboxItem",ZG=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ki(r);return l.jsx(lje,{...s,...n,ref:t})});ZG.displayName=kje;var Sje="DropdownMenuRadioGroup",jje=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ki(r);return l.jsx(cje,{...s,...n,ref:t})});jje.displayName=Sje;var Nje="DropdownMenuRadioItem",GG=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ki(r);return l.jsx(uje,{...s,...n,ref:t})});GG.displayName=Nje;var Cje="DropdownMenuItemIndicator",XG=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ki(r);return l.jsx(dje,{...s,...n,ref:t})});XG.displayName=Cje;var Tje="DropdownMenuSeparator",QG=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ki(r);return l.jsx(fje,{...s,...n,ref:t})});QG.displayName=Tje;var Eje="DropdownMenuArrow",Aje=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ki(r);return l.jsx(hje,{...s,...n,ref:t})});Aje.displayName=Eje;var Pje="DropdownMenuSubTrigger",YG=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ki(r);return l.jsx(pje,{...s,...n,ref:t})});YG.displayName=Pje;var Ije="DropdownMenuSubContent",JG=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ki(r);return l.jsx(mje,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JG.displayName=Ije;var Dje=zG,Mje=UG,Rje=VG,eX=qG,tX=HG,rX=KG,nX=ZG,sX=GG,iX=XG,aX=QG,oX=YG,lX=JG;const cX=e=>l.jsx(Dje,{modal:!1,...e}),uX=Mje,$je=T.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs(oX,{ref:s,className:we("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,l.jsx(hd,{className:"ml-auto"})]}));$je.displayName=oX.displayName;const Oje=T.forwardRef(({className:e,...t},r)=>l.jsx(lX,{ref:r,className:we("z-[99999] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),style:{pointerEvents:"auto"},...t}));Oje.displayName=lX.displayName;const aN=T.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(Rje,{children:l.jsx(eX,{ref:n,sideOffset:t,className:we("z-[99999] max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]","bg-popover opacity-100",e),style:{pointerEvents:"auto"},...r})}));aN.displayName=eX.displayName;const xv=T.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(rX,{ref:n,className:we("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));xv.displayName=rX.displayName;const Fje=T.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs(nX,{ref:s,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(iX,{children:l.jsx(so,{className:"h-4 w-4"})})}),t]}));Fje.displayName=nX.displayName;const Lje=T.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(sX,{ref:n,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(iX,{children:l.jsx(GO,{className:"h-2 w-2 fill-current"})})}),t]}));Lje.displayName=sX.displayName;const dX=T.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(tX,{ref:n,className:we("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));dX.displayName=tX.displayName;const fX=T.forwardRef(({className:e,...t},r)=>l.jsx(aX,{ref:r,className:we("-mx-1 my-1 h-px bg-muted",e),...t}));fX.displayName=aX.displayName;const zje={default:"text-foreground",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",muted:"text-muted-foreground"},Bje={default:"text-primary",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",muted:"text-gray-400 dark:text-gray-500"},Uje={default:"bg-primary/10 text-primary border-primary/20",secondary:"bg-secondary text-secondary-foreground",destructive:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",outline:"border-border",success:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",warning:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400"},$A={default:"text-gray-600 hover:text-gray-800 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-800",blue:"text-blue-600 hover:text-blue-800 hover:bg-blue-100 dark:text-blue-400 dark:hover:text-blue-200 dark:hover:bg-blue-900/30",green:"text-green-600 hover:text-green-800 hover:bg-green-100 dark:text-green-400 dark:hover:text-green-200 dark:hover:bg-green-900/30",yellow:"text-yellow-600 hover:text-yellow-800 hover:bg-yellow-100 dark:text-yellow-400 dark:hover:text-yellow-200 dark:hover:bg-yellow-900/30",red:"text-red-600 hover:text-red-800 hover:bg-red-100 dark:text-red-400 dark:hover:text-red-200 dark:hover:bg-red-900/30",orange:"text-orange-600 hover:text-orange-800 hover:bg-orange-100 dark:text-orange-400 dark:hover:text-orange-200 dark:hover:bg-orange-900/30"};function Vje(e){const r=String(e||"").length;return r<=4?"text-sm font-bold":r<=7?"text-xs font-bold":r<=12?"text-[11px] font-semibold":r<=18?"text-[10px] font-semibold":r<=25?"text-[9px] font-medium":"text-[8px] font-medium"}function Wje({compact:e}){return l.jsxs("div",{className:we("relative rounded-xl border bg-card shadow-sm overflow-hidden",e?"p-3":"p-4"),children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(qr,{className:"h-5 w-32 mb-2"}),l.jsx(qr,{className:"h-3 w-24"})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx(qr,{className:"h-7 w-7 rounded"}),l.jsx(qr,{className:"h-7 w-7 rounded"})]})]}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[1,2,3,4].map(t=>l.jsxs("div",{className:"space-y-1",children:[l.jsx(qr,{className:"h-3 w-16"}),l.jsx(qr,{className:"h-4 w-24"})]},t))})]})}function Hr({title:e,subtitle:t,titleIcon:r,badges:n=[],fields:s,actions:i=[],footer:a,className:o,onClick:u,isLoading:c,compact:d=!1,headerColor:h}){if(c)return l.jsx(Wje,{compact:d});const f=(s||[]).filter(g=>!g.hidden),p=(i||[]).filter(g=>!g.hidden);return l.jsxs("div",{className:we("group relative rounded-2xl border-2 bg-card text-card-foreground shadow-sm overflow-hidden transition-all duration-300","hover:shadow-xl hover:border-primary/30 hover:-translate-y-1",u&&"cursor-pointer",d?"p-4":"p-6",o),onClick:u,children:[h&&l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 shadow-sm",style:{backgroundColor:h}}),l.jsx("div",{className:"flex items-start gap-3",children:l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[r&&l.jsx("div",{className:"shrink-0 w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:l.jsx(r,{className:"h-4 w-4 text-primary"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h3",{className:we("font-extrabold text-foreground truncate",d?"text-lg":"text-xl"),children:e}),t&&l.jsx("p",{className:"text-sm text-muted-foreground truncate mt-0.5",children:t})]}),n.length>0&&l.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:n.map((g,y)=>l.jsx(ft,{variant:"outline",className:we("text-[10px] px-1.5 py-0 h-5 font-medium",Uje[g.variant||"default"],g.className),children:g.label},y))})]})})}),l.jsxs("div",{className:we("flex items-start",d?"mt-2":"mt-3"),children:[l.jsx("div",{className:we("grid gap-x-2 grid-cols-2 flex-1",d?"gap-y-1":"gap-y-1.5"),children:f.map((g,y)=>{const m=g.icon;return l.jsxs("div",{className:we("flex items-center gap-1 min-w-0",d?"py-0":"py-0.5"),children:[m&&l.jsx(m,{className:we("h-3 w-3 shrink-0",g.iconClassName||Bje[g.color||"default"])}),l.jsxs("div",{className:"min-w-0 flex-1 flex items-baseline gap-1 flex-wrap",children:[l.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap font-medium",children:[g.label,":"]}),l.jsx("span",{className:we("arabic-numbers break-words leading-tight",g.emphasis?"text-sm font-bold":Vje(g.value),zje[g.color||"default"]),children:g.value||"-"})]})]},y)})}),p.length>0&&l.jsx("div",{className:"shrink-0 flex flex-col gap-0.5 mr-[-8px] mt-[-4px]",children:p.map((g,y)=>{const m=g.icon;return g.dropdown&&g.dropdown.length>0?l.jsxs(cX,{children:[l.jsx(uX,{asChild:!0,children:l.jsx(_e,{size:"icon",variant:"ghost",className:we("h-6 w-6 rounded-md",$A[g.color||"default"]),onClick:v=>v.stopPropagation(),disabled:g.disabled,title:g.label,children:l.jsx(m,{className:"h-3.5 w-3.5"})})}),l.jsx(aN,{align:"end",className:"w-48",children:g.dropdown.map((v,b)=>l.jsx(xv,{onClick:x=>{x.stopPropagation(),v.onClick()},className:"text-right flex items-center justify-end gap-2",children:l.jsx("span",{children:v.label})},b))})]},y):l.jsx(_e,{size:"icon",variant:"ghost",className:we("h-6 w-6 rounded-md",$A[g.color||"default"]),onClick:v=>{v.stopPropagation(),g.onClick()},disabled:g.disabled,title:g.label,children:l.jsx(m,{className:"h-3.5 w-3.5"})},y)})})]}),a&&l.jsx("div",{className:we("border-t mt-3 pt-2",d&&"mt-2 pt-1.5"),children:a})]})}function _s({children:e,columns:t=2,className:r}){const n={1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};return l.jsx("div",{className:we("grid gap-3",n[t],r),children:e})}function qje(){fs();const{selectedProjectId:e,isAllProjects:t,projects:r}=yo(),[n,s]=T.useState(""),[i,a]=T.useState({dateRange:void 0,type:"all"}),[o,u]=T.useState(!1),[c,d]=T.useState(),h=new URLSearchParams(window.location.search),f=h.get("edit"),p=h.get("worker"),g=h.get("date"),[y,m]=T.useState(g||null),[v,b]=T.useState({}),[x,j]=T.useState(!1),[C,R]=T.useState(!1),[L,A]=T.useState(!0),[P,$]=T.useState({startTime:"07:00",endTime:"15:00",workDays:0,paymentType:"partial",paidAmount:"",workDescription:""}),{toast:V}=zr(),U=Yn(),{setFloatingAction:E}=vo();T.useCallback((Z,te)=>{a(X=>({...X,[Z]:te}))},[]);const I=T.useCallback(()=>{s(""),a({dateRange:void 0,type:"all"}),L&&m(Ds()),V({title:"  ",description:"      "})},[V,L]),N=T.useCallback(async()=>{u(!0);try{await U.invalidateQueries({queryKey:fe.workerAttendanceAll(e)}),V({title:" ",description:"   "})}catch{V({title:"",description:"  ",variant:"destructive"})}finally{u(!1)}},[U,e,V]);T.useEffect(()=>{!y&&L&&m(Ds())},[]),T.useEffect(()=>(E(null),()=>E(null)),[E]);const w=async(Z,te)=>{if(!(!te||typeof te!="string"||!te.trim()))try{await Ie("/api/autocomplete","POST",{category:Z,value:te.trim()})}catch(X){console.log(`Failed to save autocomplete value for ${Z}:`,X)}},{data:_=[]}=st({queryKey:fe.workerAttendance(e,y),queryFn:async()=>{try{if(t){const X=[];for(const ae of r){const re=y?`/api/projects/${ae.id}/worker-attendance?date=${y}`:`/api/projects/${ae.id}/worker-attendance`;try{const ee=await Ie(re,"GET"),G=ee?.data||ee||[];Array.isArray(G)&&X.push(...G.map(Y=>({...Y,projectId:ae.id,projectName:ae.name})))}catch(ee){console.error(`Error fetching attendance for project ${ae.id}:`,ee)}}return X}const Z=y?`/api/projects/${e}/worker-attendance?date=${y}`:`/api/projects/${e}/worker-attendance`,te=await Ie(Z,"GET");return te&&te.data&&Array.isArray(te.data)?te.data:Array.isArray(te)?te:[]}catch(Z){return console.error("Error fetching attendance records:",Z),[]}},enabled:!!e&&(t?r.length>0:!0),refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),{data:k=[]}=st({queryKey:fe.workerAttendanceAll(e),queryFn:async()=>{try{const Z=await Ie(`/api/projects/${e}/worker-attendance`,"GET");return Z&&Z.data&&Array.isArray(Z.data)?Z.data:Array.isArray(Z)?Z:[]}catch(Z){return console.error("Error fetching all attendance records:",Z),[]}},enabled:!!e,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),{data:S}=st({queryKey:fe.workerAttendanceEdit(f),queryFn:async()=>{try{const Z=await Ie(`/api/worker-attendance/${f}`,"GET");return Z&&Z.data?Z.data:Z||null}catch(Z){return console.error("Error fetching attendance record for editing:",Z),null}},enabled:!!f});T.useEffect(()=>{b({}),d(void 0)},[y,e]),T.useEffect(()=>{if(S&&p){const Z={...v};Z[p]={isPresent:!0,startTime:S.startTime,endTime:S.endTime,workDescription:S.workDescription||"",workDays:parseFloat(S.workDays?.toString()||"0"),paidAmount:S.paidAmount?.toString()||"",paymentType:S.paymentType||"partial"},b(Z)}},[S,p]);const D=ht({mutationFn:Z=>Ie(`/api/worker-attendance/${Z}`,"DELETE"),onMutate:async Z=>{const te=e,X=y,ae=fe.workerAttendanceAll(te),re=fe.workerAttendance(te,X);await U.cancelQueries({queryKey:ae}),await U.cancelQueries({queryKey:re});const ee=U.getQueryData(ae),G=U.getQueryData(re);return Array.isArray(ee)&&U.setQueryData(ae,ee.filter(Y=>Y.id!==Z)),Array.isArray(G)&&U.setQueryData(re,G.filter(Y=>Y.id!==Z)),{previousAllData:ee,previousDateData:G,allKey:ae,dateKey:re}},onSuccess:()=>{V({title:" ",description:"    ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(Z,te,X)=>{X?.previousAllData&&X?.allKey&&U.setQueryData(X.allKey,X.previousAllData),X?.previousDateData&&X?.dateKey&&U.setQueryData(X.dateKey,X.previousDateData),console.error(" [DeleteAttendance]   :",Z);const ae=Z.message||"     ";V({title:"",description:ae,variant:"destructive"})},onSettled:(Z,te,X,ae)=>{ae?.allKey&&U.invalidateQueries({queryKey:ae.allKey}),ae?.dateKey&&U.invalidateQueries({queryKey:ae.dateKey})}}),O=Z=>{if(Array.isArray(B)?B.find(X=>X.id===Z.workerId):null){const X={...v};X[Z.workerId]={isPresent:!0,startTime:Z.startTime,endTime:Z.endTime,workDescription:Z.workDescription||"",workDays:parseFloat(Z.workDays?.toString()||"0"),paidAmount:Z.paidAmount,paymentType:Z.paymentType||"partial",recordId:Z.id,recordType:Z.recordType||"work"},b(X)}},{data:B=[],isLoading:q}=st({queryKey:fe.workers}),H=ht({onMutate:async Z=>{console.log("      (Optimistic):",Z.length);for(const te of Z){const X=parseFloat(te.workDays?.toString()||"0"),ae=parseFloat(te.paidAmount?.toString()||"0");if(X<=0&&ae<=0){const ee=`         ${B.find(G=>G.id===te.workerId)?.name||""}`;throw V({title:" ",description:ee,variant:"destructive"}),new Error(ee)}}},mutationFn:async Z=>{console.log("     :",Z.length);const te=Z.flatMap(re=>[w("workDescriptions",re.workDescription),w("paymentTypes",re.paymentType)]).filter(Boolean);te.length>0&&await Promise.all(te);const X=[],ae=[];for(const re of Z)try{!re.attendanceDate&&re.date&&(re.attendanceDate=re.date),re.attendanceDate||(re.attendanceDate=y||Ds()),console.log(`    : ${re.workerId}  : ${re.attendanceDate}`);const ee=parseFloat(re.workDays?.toString()||"0"),G=parseFloat(re.paidAmount?.toString()||"0");if(ee<=0&&G<=0){const Y=B.find(ie=>ie.id===re.workerId);throw new Error(`         ${Y?.name||""}`)}if(re.recordType==="advance"?(re.workDays="0",console.log("   -  workDays = 0")):re.workDays!==void 0&&(re.workDays=re.workDays.toString()),re.recordId){console.log(`    : ${re.workerId} : ${re.recordId}`);const Y={...re};delete Y.recordId;const ie=await Ie(`/api/worker-attendance/${re.recordId}`,"PATCH",Y);X.push(ie)}else try{const Y=await Ie(`/api/projects/${re.projectId}/attendance?date=${re.date}&workerId=${re.workerId}`,"GET"),ie=Y?.data||Y||[],ce=Array.isArray(ie)?ie.find(me=>me.workerId===re.workerId):null;if(ce){console.log(`    : ${re.workerId}    -    `);const me=await Ie(`/api/worker-attendance/${ce.id}`,"PATCH",re);X.push(me)}else{console.log(`    : ${re.workerId}`);const me=await Ie("/api/worker-attendance","POST",re);X.push(me)}}catch(Y){console.log("       -  :",Y);try{const ie=await Ie("/api/worker-attendance","POST",re);X.push(ie)}catch(ie){throw ie.message&&ie.message.includes("unique")||ie.message.includes("UNIQUE")?(console.log(`      ${re.workerId}   `),new Error("      .      .")):ie}}}catch(ee){console.error(`      ${re.workerId}:`,ee);const Y=B.find(ce=>ce.id===re.workerId)?.name||"  ";let ie="  ";ee?.response?.data?.message?ie=ee.response.data.message:ee?.response?.data?.error?ie=ee.response.data.error:ee?.message&&(ie=ee.message),ae.push({workerId:re.workerId,workerName:Y,error:ie})}return console.log(`   ${X.length}   `),ae.length>0&&console.warn(`    ${ae.length}  :`,ae),{successful:X,failed:ae,totalProcessed:Z.length}},onSuccess:async Z=>{U.refetchQueries({queryKey:fe.autocomplete}),U.refetchQueries({queryKey:fe.workerAttendanceAll(e)});const{successful:te,failed:X,totalProcessed:ae}=Z;if(X.length===0)V({title:"   ",description:`   ${te.length}  `});else if(te.length>0){const re=X.map(ee=>` ${ee.workerName}: ${ee.error}`).join(`
`);V({title:"   ",description:`: ${te.length} 
: ${X.length} 

${re}`,variant:"default"}),console.error(" :",X)}else{const re=X.map(ee=>` ${ee.workerName}: ${ee.error}`).join(`
`);V({title:"  ",description:`     :

${re}`,variant:"destructive"})}te.length>0&&b(re=>{const ee={...re};return te.forEach(G=>{const Y=G?.data||G;Y?.workerId&&delete ee[Y.workerId]}),ee})},onError:async(Z,te)=>{const X=te.flatMap(re=>[w("workDescriptions",re.workDescription),w("paymentTypes",re.paymentType)]).filter(Boolean);X.length>0&&(await Promise.all(X),U.refetchQueries({queryKey:fe.autocomplete})),console.error("Error saving attendance:",Z);let ae="    ";if(Z?.response?.data?.error||Z?.message){const re=Z?.response?.data?.error||Z?.message;re.includes("     ")?ae="        ":ae=re}V({title:"",description:ae,variant:"destructive"})}}),Q=(Z,te)=>{const X=B.find(ae=>ae.id===Z);if(X&&te.isPresent&&te.workDays===void 0){te.workDays=1;const ae=parseFloat(X.dailyWage||"0");te.actualWage=ae*(te.workDays||0),te.totalPay=te.actualWage,te.remainingAmount=te.totalPay-parseFloat(te.paidAmount||"0")}b(ae=>({...ae,[Z]:te}))},M=()=>{const Z={...v};Object.keys(Z).forEach(te=>{Z[te].isPresent&&(Z[te]={...Z[te],startTime:P.startTime,endTime:P.endTime,workDays:P.workDays,paymentType:P.paymentType,paidAmount:P.paidAmount,workDescription:P.workDescription})}),b(Z),V({title:" ",description:"      "})},K=Z=>{const te={};B.forEach(X=>{Z?te[X.id]={isPresent:!0,startTime:P.startTime,endTime:P.endTime,workDays:P.workDays,paymentType:P.paymentType,paidAmount:P.paidAmount,workDescription:P.workDescription}:te[X.id]={isPresent:!1}}),b(te)},z=()=>{if(!e||e===ts){V({title:"   ",description:"         ",variant:"destructive"});return}if(!y){V({title:"   ",description:"      ",variant:"destructive"});return}const Z=Object.entries(v).filter(([ae,re])=>{if(!re.isPresent)return!1;const ee=re.recordType||"work";return ee==="work"&&(!re.workDays||re.workDays<=0)||ee==="advance"&&(!re.paidAmount||parseFloat(re.paidAmount)<=0)});if(Z.length>0){const ae=Z.some(([Y,ie])=>(ie.recordType||"work")==="work"),re=Z.some(([Y,ie])=>(ie.recordType||"work")==="advance");let ee="";const G=[];ae&&(ee+=`          
`,Z.forEach(([Y,ie])=>{if((ie.recordType||"work")==="work"){const me=B.find(xe=>xe.id===Y);G.push(`  - ${me?.name||"  "}:    `)}})),re&&(ee+=`         
`,Z.forEach(([Y,ie])=>{if((ie.recordType||"work")==="advance"){const me=B.find(xe=>xe.id===Y);G.push(`  - ${me?.name||"  "}:    `)}})),V({title:"   ",description:ee+(G.length>0?`
`+G.join(`
`):""),variant:"destructive"});return}if(Object.entries(v).filter(([ae,re])=>re.isPresent).length===0){V({title:" ",description:"     .     .",variant:"destructive"});return}const X=Object.entries(v).filter(([ae,re])=>re.isPresent?(re.recordType||"work")==="work"?re.workDays&&re.workDays>0:re.paidAmount&&parseFloat(re.paidAmount)>0:!1).map(([ae,re])=>{const ee=B.find(Ve=>Ve.id===ae),G=parseFloat(ee?.dailyWage||"0"),Y=re.recordType||"work",ie=Y==="advance"?0:re.workDays||0,ce=G*ie,me=parseFloat(String(re.overtime||0)),xe=parseFloat(String(re.overtimeRate||0)),Ce=me*xe,Ae=Y==="advance"?0:Math.max(0,ce+Ce),$e=parseFloat(re.paidAmount||"0"),Le=Y==="advance"?-$e:re.paymentType==="credit"?Ae:Ae-$e,rt=()=>{if(!re.startTime||!re.endTime)return 0;const Ve=new Date(`2000-01-01T${re.startTime}:00`);let de=new Date(`2000-01-01T${re.endTime}:00`).getTime()-Ve.getTime();return de<0&&(de+=1440*60*1e3),Math.max(0,de/(1e3*60*60))},qe={projectId:e,workerId:ae,date:y,attendanceDate:y,startTime:re.startTime||"07:00",endTime:re.endTime||"15:00",workDescription:re.workDescription||"",isPresent:!0,workDays:ie,dailyWage:ee?.dailyWage||"0",hoursWorked:rt().toString(),overtime:me.toString(),overtimeRate:xe.toString(),actualWage:ce.toString(),totalPay:Ae.toString(),paidAmount:$e.toString(),remainingAmount:Le.toString(),paymentType:re.paymentType||"partial",notes:re.notes||"",wellId:c||null};return re.recordId&&(qe.recordId=re.recordId),qe});if(X.length===0){V({title:"     ",description:`  :
   
     
     `,variant:"destructive"});return}H.mutate(X)},F=Array.isArray(_)?_:[],W=T.useMemo(()=>{if(!n.trim())return B;const Z=n.toLowerCase().trim();return B.filter(te=>te.name?.toLowerCase().includes(Z)||te.phone?.toLowerCase().includes(Z)||te.type?.toLowerCase().includes(Z))},[B,n]),J=T.useMemo(()=>{let Z=F;if(n.trim()){const te=n.toLowerCase().trim();Z=Z.filter(X=>B.find(re=>re.id===X.workerId)?.name?.toLowerCase().includes(te)||X.workDescription?.toLowerCase().includes(te)||X.notes?.toLowerCase().includes(te))}return(i.dateRange?.from||i.dateRange?.to)&&(Z=Z.filter(te=>{const X=new Date(te.attendanceDate||te.date);if(i.dateRange.from){const ae=new Date(i.dateRange.from);if(ae.setHours(0,0,0,0),X<ae)return!1}if(i.dateRange.to){const ae=new Date(i.dateRange.to);if(ae.setHours(23,59,59,999),X>ae)return!1}return!0})),i.type&&i.type!=="all"&&(Z=Z.filter(te=>B.find(ae=>ae.id===te.workerId)?.type===i.type)),Z},[F,B,n,i.dateRange,i.type]),le=T.useMemo(()=>{const Z=J.length,te=J.reduce((G,Y)=>G+parseFloat(Y.workDays||"0"),0);let X=0,ae=0,re=0;J.forEach(G=>{const Y=B.find(Ce=>Ce.id===G.workerId),ie=parseFloat(Y?.dailyWage||G.dailyWage||"0"),ce=parseFloat(G.workDays||"0"),me=ie*ce,xe=parseFloat(G.paidAmount||"0");X+=me,ae+=xe,G.transfers&&(re+=parseFloat(G.transfers))});const ee=X-ae-re;return{totalWorkers:W.length,presentWorkers:Z,totalWorkDays:te,totalEarned:X,totalPaid:ae,totalRemaining:ee,allWorkersCount:B.length,allRecordsCount:F.length}},[J,W,B,F]),ne=T.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:le.totalWorkers,icon:yn,color:"blue"},{key:"present",label:" ",value:le.presentWorkers,icon:Zr,color:"green"},{key:"days",label:" ",value:le.totalWorkDays.toFixed(2),icon:mn,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"earned",label:"",value:ze(le.totalEarned),icon:Jt,color:"blue"},{key:"paid",label:"",value:ze(le.totalPaid),icon:Zr,color:"green"},{key:"remaining",label:"",value:ze(le.totalRemaining),icon:Jt,color:le.totalRemaining>=0?"purple":"red"}]}],[le]),ue=T.useMemo(()=>[{key:"date",label:"",type:"date",placeholder:" "},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"type",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...Array.from(new Set(B.map(Z=>Z.type))).filter(Boolean).map(Z=>({value:Z,label:Z}))]}],[B]);return l.jsxs("div",{className:"p-4 space-y-4",children:[e&&l.jsx(za,{hideHeader:!0,title:"",statsRows:ne,searchValue:n,onSearchChange:s,searchPlaceholder:"  ...",showSearch:!0,filters:ue,filterValues:{date:y?(()=>{const[Z,te,X]=y.split("-").map(Number);return new Date(Z,te-1,X,12,0,0,0)})():void 0},onFilterChange:(Z,te)=>{if(Z==="date")if(te instanceof Date){const X=te.getFullYear(),ae=String(te.getMonth()+1).padStart(2,"0"),re=String(te.getDate()).padStart(2,"0");m(`${X}-${ae}-${re}`)}else m(null)},onReset:I,onRefresh:N,isRefreshing:o,resultsSummary:n?{totalCount:le.allRecordsCount,filteredCount:le.presentWorkers,totalLabel:" ",filteredLabel:"",totalValue:le.totalEarned,totalValueLabel:" ",unit:"."}:void 0}),B.length>0&&l.jsx(fa,{open:C,onOpenChange:R,children:l.jsxs(Dt,{className:"mb-4",children:[(!e||e===ts||!y)&&l.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 p-4 m-4 rounded",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-amber-600 dark:text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-sm font-medium text-amber-800 dark:text-amber-300 mb-1",children:"    "}),l.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-400 space-y-1",children:[(!e||e===ts)&&l.jsx("p",{children:"      "}),!y&&l.jsx("p",{children:"      "})]})]})]})}),l.jsx(ha,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yn,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"font-medium text-foreground",children:"  "})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:C?" ":" "}),C?l.jsx(lo,{className:"h-5 w-5 text-muted-foreground"}):l.jsx(pn,{className:"h-5 w-5 text-muted-foreground"})]})]})}),l.jsx(pa,{children:l.jsxs("div",{className:"p-4 bg-muted/30 border-b space-y-3",children:[l.jsx(Ym,{projectId:e,value:c,onChange:d,optional:!0}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center space-x-reverse space-x-2",children:l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>j(!x),className:"px-2 py-1 h-8","data-testid":"toggle-shared-settings",children:x?l.jsx(lo,{className:"h-4 w-4"}):l.jsx(pn,{className:"h-4 w-4"})})}),x&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{size:"sm",variant:"outline",onClick:()=>K(!0),className:"text-xs",children:" "}),l.jsx(_e,{size:"sm",variant:"outline",onClick:()=>K(!1),className:"text-xs",children:" "}),l.jsx(_e,{size:"sm",onClick:M,className:"text-xs",children:"  "})]})]}),x&&l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[l.jsxs("div",{children:[l.jsx(Fe,{className:"text-xs text-muted-foreground",children:" "}),l.jsx(tt,{type:"time",value:P.startTime,onChange:Z=>$(te=>({...te,startTime:Z.target.value})),className:"mt-1",autoWidth:!0,maxWidth:120})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"text-xs text-muted-foreground",children:" "}),l.jsx(tt,{type:"time",value:P.endTime,onChange:Z=>$(te=>({...te,endTime:Z.target.value})),className:"mt-1",autoWidth:!0,maxWidth:120})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"text-xs text-muted-foreground",children:" "}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(tt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"10.0",value:P.workDays||"",onChange:Z=>{const te=Z.target.value;$(X=>({...X,workDays:te===""?0:parseFloat(te)||0}))},placeholder:"0",className:"mt-1 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"}}),P.workDays!==0&&l.jsx("button",{onClick:()=>$(Z=>({...Z,workDays:0})),className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"",children:""})]})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"text-xs text-muted-foreground",children:" "}),l.jsxs(En,{value:P.paymentType,onValueChange:Z=>$(te=>({...te,paymentType:Z})),children:[l.jsx(bn,{className:"mt-1",children:l.jsx(An,{})}),l.jsxs(vn,{children:[l.jsx(vt,{value:"full",children:" "}),l.jsx(vt,{value:"partial",children:" "}),l.jsx(vt,{value:"credit",children:" "})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[P.paymentType!=="credit"&&l.jsxs("div",{children:[l.jsx(Fe,{className:"text-xs text-muted-foreground",children:" "}),l.jsx(tt,{type:"number",inputMode:"decimal",placeholder:"0",value:P.paidAmount,onChange:Z=>$(te=>({...te,paidAmount:Z.target.value})),className:"mt-1 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"}})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"text-xs text-muted-foreground",children:" "}),l.jsx(is,{value:P.workDescription,onChange:Z=>$(te=>({...te,workDescription:Z})),placeholder:"  ...",category:"workDescriptions",className:"mt-1"})]})]})]}),q?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-muted-foreground",children:"  ..."})}):B.length===0?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-muted-foreground",children:"   "})}):l.jsx("div",{className:"space-y-3",children:W.length===0&&n?l.jsx("div",{className:"text-center py-8",children:l.jsxs("p",{className:"text-muted-foreground",children:['    "',n,'"']})}):W.map(Z=>l.jsx(hwe,{worker:Z,attendance:v[Z.id]||{isPresent:!1},onAttendanceChange:te=>Q(Z.id,te),selectedDate:y??void 0},Z.id))}),l.jsx("div",{className:"mt-6",children:l.jsxs(_e,{onClick:z,disabled:H.isPending,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[l.jsx(wc,{className:"ml-2 h-4 w-4"}),H.isPending?" ...":" "]})})]})})]})}),e&&l.jsx("div",{className:"mt-6",children:J.length>0?l.jsx(_s,{columns:2,children:J.map(Z=>{const te=B.find(ie=>ie.id===Z.workerId),X=parseFloat(te?.dailyWage||Z.dailyWage||"0"),ae=parseFloat(Z.workDays||"0"),re=X*ae,ee=parseFloat(Z.paidAmount||"0"),G=re-ee,Y=Z.projectName||r.find(ie=>ie.id===Z.projectId)?.name;return l.jsx(Hr,{title:te?.name||Z.workerId,subtitle:t&&Y?`${Y} - ${Z.date||Z.attendanceDate}`:Z.date||Z.attendanceDate,titleIcon:Rd,headerColor:"#22c55e",badges:[{label:"",variant:"success"},...t&&Y?[{label:Y,variant:"outline"}]:[]],fields:[{label:"",value:`${Z.startTime||" "} - ${Z.endTime||" "}`,icon:mn,color:"info"},{label:" ",value:ae.toString(),icon:Qn,color:"warning"},{label:" ",value:ze(X),icon:Jt,color:"default"},{label:"",value:ze(re),icon:Jt,color:"info",emphasis:!0},{label:"",value:ze(ee),icon:Zr,color:"success"},{label:"",value:ze(G),icon:Jt,color:G>0?"danger":"success",emphasis:!0}],actions:[{icon:cl,label:"",onClick:()=>O(Z),color:"blue"},{icon:Nn,label:"",onClick:()=>D.mutate(Z.id),color:"red",disabled:D.isPending}],footer:Z.workDescription?l.jsx("p",{className:"text-sm text-muted-foreground",children:Z.workDescription}):void 0,compact:!0},Z.id)})}):null})]})}const Hje=e=>e==="web"?[{id:1,name:" ",status:"pending",icon:xf},{id:2,name:"   GitHub",status:"pending",icon:xf},{id:3,name:"  ",status:"pending",icon:pd},{id:4,name:"   ",status:"pending",icon:em},{id:5,name:"   ",status:"pending",icon:Qr},{id:6,name:"   ",status:"pending",icon:Fs},{id:7,name:"  ",status:"pending",icon:us}]:[{id:1,name:" ",status:"pending",icon:xf},{id:2,name:"   GitHub",status:"pending",icon:xf},{id:3,name:"  ",status:"pending",icon:pd},{id:4,name:"   ",status:"pending",icon:em},{id:5,name:"   ",status:"pending",icon:Qr},{id:6,name:" APK  Android",status:"pending",icon:bj},{id:7,name:" APK  ",status:"pending",icon:em}],Kje=[{id:1,name:" ",status:"pending",icon:xf},{id:2,name:"   GitHub",status:"pending",icon:xf},{id:3,name:"   ",status:"pending",icon:pd},{id:4,name:" ",status:"pending",icon:Qr},{id:5,name:" ",status:"pending",icon:Fs},{id:6,name:" ",status:"pending",icon:Fs},{id:7,name:" ",status:"pending",icon:us}];function Zje(){const{toast:e}=zr(),[t,r]=T.useState(!1),[n,s]=T.useState(0),[i,a]=T.useState(Kje),[o,u]=T.useState([]),[c,d]=T.useState(!0),[h,f]=T.useState(null),[p,g]=T.useState(null),[y,m]=T.useState("web"),[v,b]=T.useState({show:!1,message:"",action:""}),x=T.useRef(null);T.useEffect(()=>{c&&x.current&&x.current.scrollIntoView({behavior:"smooth",block:"end"})},[o,c]);const j=(V,U="info")=>{u(E=>[...E,{id:Math.random().toString(36).substr(2,9),timestamp:new Date().toLocaleTimeString("ar-SA"),message:V,type:U}])},C=(V,U,E)=>{a(I=>I.map(N=>N.id===V?{...N,status:U,duration:E}:N))},R=async()=>{if(!y){e({description:"   ",variant:"destructive"});return}r(!0),s(0),u([]);const V=Hje(y);a(V.map(E=>({...E,status:"pending",duration:void 0}))),f(Date.now()),g(null);const U=y==="web"?" ":" Android";j(`       ${U}...`,"info"),C(1,"running");try{j("      ...","info");const E=await Ie("/api/deployment/build","POST",{appType:y});if(console.log(" [startDeployment]  API:",{response:E}),E&&E.logs&&Array.isArray(E.logs)){let I=1;E.logs.forEach((N,w)=>{if(N&&N.message&&N.type){j(N.message,N.type);const k=Math.floor(w/2)+1;k<V.length&&I!==k&&(I<=V.length&&C(I,"success"),I=k,C(I,"running"))}}),a(N=>N.map((w,_)=>({...w,status:"success",duration:_<3?2:3}))),s(100),j(`      ${U}  100%!`,"success"),e({description:"   ",variant:"default"})}else j(`     - : ${JSON.stringify(E)}`,"warning"),s(100),a(I=>I.map(N=>({...N,status:"success",duration:3})))}catch(E){console.error(" [startDeployment] :",E);const I=E?.message||"   ";j(`   : ${I}`,"error"),a(N=>N.map((w,_)=>_===0?{...w,status:"success"}:_===1?{...w,status:"failed"}:w)),e({description:` : ${I}`,variant:"destructive"})}finally{r(!1),g(Date.now())}},L=()=>{if(!h)return"00:00";const V=p||Date.now(),U=Math.floor((V-h)/1e3),E=Math.floor(U/60),I=U%60;return`${E.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`},A=()=>{const V=o.map(U=>`[${U.timestamp}] ${U.message}`).join(`
`);navigator.clipboard.writeText(V),e({description:"    "})},P=async()=>{b({show:!1,message:"",action:""}),j("      ...","info");try{await Ie("/api/schema/apply","POST",{appType:y,timestamp:new Date().toISOString()}),j("      ","success")}catch(V){j(`   : ${V.message}`,"error")}},$=()=>{b({show:!1,message:"",action:""}),j("     ","warning")};return l.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-8 space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsx("div",{className:"w-full md:w-auto",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"   "}),l.jsxs(En,{value:y,onValueChange:V=>m(V),disabled:t,children:[l.jsx(bn,{className:"w-full md:w-56","data-testid":"select-app-type",children:l.jsx(An,{placeholder:" "})}),l.jsxs(vn,{children:[l.jsx(vt,{value:"web","data-testid":"option-web-app",children:" "}),l.jsx(vt,{value:"android","data-testid":"option-android-app",children:" Android"})]})]})]})}),l.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[l.jsxs(_e,{variant:"outline",size:"sm",onClick:A,className:"flex-1 md:flex-none hover-elevate","data-testid":"button-copy-logs",children:[l.jsx(vf,{className:"w-4 h-4 ml-2"})," "]}),t?l.jsxs(_e,{variant:"destructive",onClick:()=>r(!1),className:"flex-1 md:flex-none hover-elevate","data-testid":"button-stop-build",children:[l.jsx(Sle,{className:"w-4 h-4 ml-2"})," "]}):l.jsxs(_e,{onClick:R,disabled:!y,className:"flex-1 md:flex-none bg-primary hover-elevate active-elevate-2 px-8",size:"lg","data-testid":"button-start-deployment",children:[l.jsx(wle,{className:"w-4 h-4 ml-2"}),"  "]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[l.jsxs(Dt,{className:"border-border/50 shadow-sm overflow-hidden",children:[l.jsx(zn,{className:"bg-muted/30 pb-4",children:l.jsxs(Kn,{className:"text-sm font-medium flex items-center justify-between",children:[l.jsx("span",{children:"  "}),l.jsx(ft,{variant:t?"secondary":"outline",className:t?"animate-pulse":"",children:t?" ":""})]})}),l.jsx(Ht,{className:"pt-6 space-y-1",children:i.map((V,U)=>l.jsxs("div",{className:"relative pr-6 pb-6 last:pb-0",children:[U!==i.length-1&&l.jsx("div",{className:`absolute right-[11px] top-6 bottom-0 w-[2px] ${V.status==="success"?"bg-primary":"bg-border"}`}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`absolute right-0 w-6 h-6 rounded-full flex items-center justify-center z-10 transition-colors ${V.status==="success"?"bg-primary text-primary-foreground":V.status==="running"?"bg-primary/20 text-primary animate-pulse border-2 border-primary":V.status==="failed"?"bg-destructive text-destructive-foreground":"bg-muted text-muted-foreground border-2 border-border"}`,children:V.status==="success"?l.jsx(so,{className:"w-3 h-3"}):V.status==="failed"?l.jsx(Ss,{className:"w-3 h-3"}):(()=>{const E=V.icon;return l.jsx(E,{className:"w-3 h-3"})})()}),l.jsxs("div",{className:"flex-1 pr-8",children:[l.jsx("p",{className:`text-sm font-semibold ${V.status==="running"?"text-primary":"text-foreground"}`,children:V.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[V.status==="running"&&l.jsx("span",{className:"text-[10px] text-primary animate-pulse uppercase font-bold",children:" "}),V.duration&&l.jsxs("span",{className:"text-[10px] text-muted-foreground font-mono",children:[V.duration," "]})]})]})]})]},V.id))})]}),l.jsx(Dt,{className:"bg-primary/5 border-primary/20",children:l.jsx(Ht,{className:"pt-6 space-y-4",children:l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase",children:" "}),l.jsx("p",{className:"text-3xl font-mono font-bold text-primary",children:L()})]}),l.jsx(mn,{className:"w-10 h-10 text-primary/20"})]})})})]}),l.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[l.jsxs(Dt,{className:"border-border/50 shadow-sm h-full flex flex-col",children:[l.jsxs(zn,{className:"flex flex-row items-center justify-between border-b bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-black/5 dark:bg-white/5 rounded-md border",children:[l.jsx(eF,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-xs font-mono font-bold uppercase tracking-wider",children:" "})]}),t&&l.jsx(ft,{className:"bg-primary animate-pulse text-[10px]",children:" "})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer hover:text-foreground transition-colors",children:[l.jsx(Input,{type:"checkbox",checked:c,onChange:V=>d(V.target.checked),className:"rounded border-border w-4 h-4"})," "]}),l.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",children:l.jsx(em,{className:"w-4 h-4"})})]})]}),l.jsx(Ht,{className:"p-0 bg-[#0d1117] min-h-[600px] flex-1",children:l.jsx(bo,{className:"h-full",children:l.jsxs("div",{className:"p-6 font-mono text-sm leading-relaxed space-y-1",children:[o.length===0?l.jsxs("div",{className:"text-muted-foreground/30 italic flex items-center gap-2",children:[l.jsx(hd,{className:"w-4 h-4"}),"  ..."]}):o.map((V,U)=>l.jsxs("div",{className:"group flex gap-4 hover:bg-white/5 py-0.5 rounded px-2 -mx-2 transition-colors",children:[l.jsx("span",{className:"text-gray-600 select-none w-12 text-right text-[10px] pt-1",children:U+1}),l.jsx("span",{className:"text-gray-500 select-none w-20 pt-1 text-[11px]",children:V.timestamp}),l.jsx("span",{className:`flex-1 break-all ${V.type==="success"?"text-emerald-400 font-medium":V.type==="error"?"text-rose-400 font-bold":V.type==="warning"?"text-amber-400":"text-slate-300"}`,children:V.message})]},V.id)),l.jsx("div",{ref:x,className:"h-2"})]})})})]}),n===100&&!t&&l.jsx(Dt,{className:"bg-emerald-50 dark:bg-emerald-950/20 border-emerald-200 dark:border-emerald-800 animate-in fade-in slide-in-from-bottom-4",children:l.jsxs(Ht,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-4 text-emerald-700 dark:text-emerald-400",children:[l.jsx("div",{className:"bg-emerald-500 text-white p-3 rounded-full shadow-lg shadow-emerald-500/20",children:l.jsx(so,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:" !"}),l.jsx("p",{className:"text-sm opacity-90",children:"         GitHub."})]})]}),l.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[l.jsx(_e,{className:"flex-1 md:flex-none bg-emerald-600 hover:bg-emerald-700 text-white border-0 shadow-lg shadow-emerald-500/20",asChild:!0,children:l.jsx("a",{href:"/",target:"_blank",children:"  "})}),l.jsx(_e,{variant:"outline",className:"flex-1 md:flex-none border-emerald-200 dark:border-emerald-800 text-emerald-700 dark:text-emerald-400 bg-transparent hover:bg-emerald-50 dark:hover:bg-emerald-900/30",children:"  "})]})]})}),i.some(V=>V.status==="failed")&&!t&&l.jsx(Dt,{className:"bg-rose-50 dark:bg-rose-950/20 border-rose-200 dark:border-rose-800",children:l.jsxs(Ht,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-4 text-rose-700 dark:text-rose-400",children:[l.jsx("div",{className:"bg-rose-500 text-white p-3 rounded-full shadow-lg shadow-rose-500/20",children:l.jsx(Ss,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"  "}),l.jsx("p",{className:"text-sm opacity-90",children:"   .    GitHub ."})]})]}),l.jsxs(_e,{onClick:R,className:"w-full md:w-auto bg-rose-600 hover:bg-rose-700 text-white border-0 shadow-lg shadow-rose-500/20",children:[l.jsx(xl,{className:"w-4 h-4 ml-2"}),"  "]})]})}),v.show&&l.jsx(Dt,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800 animate-in fade-in slide-in-from-bottom-4",children:l.jsxs(Ht,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-4 text-blue-700 dark:text-blue-400",children:[l.jsx("div",{className:"bg-blue-500 text-white p-3 rounded-full shadow-lg shadow-blue-500/20 animate-pulse",children:l.jsx(Li,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold",children:" "}),l.jsx("p",{className:"text-sm opacity-90",children:v.message})]})]}),l.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[l.jsxs(_e,{onClick:P,className:"flex-1 md:flex-none bg-blue-600 text-white","data-testid":"button-apply-schema",children:[l.jsx(so,{className:"w-4 h-4"}),l.jsx("span",{className:"ml-2",children:""})]}),l.jsxs(_e,{onClick:$,variant:"outline",className:"flex-1 md:flex-none border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-400 bg-transparent hover:bg-blue-50 dark:hover:bg-blue-900/30","data-testid":"button-reject-schema",children:[l.jsx(Ss,{className:"w-4 h-4 ml-2"}),""]})]})]})})]})]})]})}const Ch=T.forwardRef(({className:e,autoHeight:t=!0,maxRows:r=10,minRows:n=3,onChange:s,...i},a)=>{const o=T.useRef(null),u=T.useCallback(()=>{const d=o.current;if(t&&d){d.style.height="auto";const f=n*20,p=d.scrollHeight,g=Math.max(f,p);d.style.height=`${g}px`,d.style.overflowY="hidden"}},[t,r,n]),c=d=>{u(),s?.(d)};return T.useEffect(()=>{u();const d=o.current;if(!d)return;const h=new ResizeObserver(()=>u());return h.observe(d),()=>h.disconnect()},[u,i.value]),l.jsx("textarea",{className:we("flex w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm resize-none transition-[height] duration-100 ease-out",e),ref:d=>{o.current=d,typeof a=="function"?a(d):a&&(a.current=d)},onChange:c,...i})});Ch.displayName="Textarea";var oN="Radio",[Gje,hX]=Ls(oN),[Xje,Qje]=Gje(oN),pX=T.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:a,value:o="on",onCheck:u,form:c,...d}=e,[h,f]=T.useState(null),p=tr(t,m=>f(m)),g=T.useRef(!1),y=h?c||!!h.closest("form"):!0;return l.jsxs(Xje,{scope:r,checked:s,disabled:a,children:[l.jsx(wt.button,{type:"button",role:"radio","aria-checked":s,"data-state":bX(s),"data-disabled":a?"":void 0,disabled:a,value:o,...d,ref:p,onClick:et(e.onClick,m=>{s||u?.(),y&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),y&&l.jsx(yX,{control:h,bubbles:!g.current,name:n,value:o,checked:s,required:i,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})});pX.displayName=oN;var mX="RadioIndicator",gX=T.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,i=Qje(mX,r);return l.jsx(Jn,{present:n||i.checked,children:l.jsx(wt.span,{"data-state":bX(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});gX.displayName=mX;var Yje="RadioBubbleInput",yX=T.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=T.useRef(null),o=tr(a,i),u=f5(r),c=Nj(t);return T.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[u,r,n]),l.jsx(wt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yX.displayName=Yje;function bX(e){return e?"checked":"unchecked"}var Jje=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],F1="RadioGroup",[e3e]=Ls(F1,[Jh,hX]),vX=Jh(),xX=hX(),[t3e,r3e]=e3e(F1),wX=T.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:a=!1,disabled:o=!1,orientation:u,dir:c,loop:d=!0,onValueChange:h,...f}=e,p=vX(r),g=Qh(c),[y,m]=Ma({prop:i,defaultProp:s??null,onChange:h,caller:F1});return l.jsx(t3e,{scope:r,name:n,required:a,disabled:o,value:y,onValueChange:m,children:l.jsx(Q5,{asChild:!0,...p,orientation:u,dir:g,loop:d,children:l.jsx(wt.div,{role:"radiogroup","aria-required":a,"aria-orientation":u,"data-disabled":o?"":void 0,dir:g,...f,ref:t})})})});wX.displayName=F1;var _X="RadioGroupItem",kX=T.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,i=r3e(_X,r),a=i.disabled||n,o=vX(r),u=xX(r),c=T.useRef(null),d=tr(t,c),h=i.value===s.value,f=T.useRef(!1);return T.useEffect(()=>{const p=y=>{Jje.includes(y.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),l.jsx(Y5,{asChild:!0,...o,focusable:!a,active:h,children:l.jsx(pX,{disabled:a,required:i.required,checked:h,...u,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:et(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:et(s.onFocus,()=>{f.current&&c.current?.click()})})})});kX.displayName=_X;var n3e="RadioGroupIndicator",SX=T.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=xX(r);return l.jsx(gX,{...s,...n,ref:t})});SX.displayName=n3e;var jX=wX,NX=kX,s3e=SX;const CX=T.forwardRef(({className:e,...t},r)=>l.jsx(jX,{className:we("grid gap-2",e),...t,ref:r}));CX.displayName=jX.displayName;const sb=T.forwardRef(({className:e,...t},r)=>l.jsx(NX,{ref:r,className:we("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(s3e,{className:"flex items-center justify-center",children:l.jsx(GO,{className:"h-2.5 w-2.5 fill-current text-current"})})}));sb.displayName=NX.displayName;function by(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var TX={exports:{}};/*! ExcelJS 19-10-2023 */(function(e,t){(function(r){e.exports=r()})((function(){return(function r(n,s,i){function a(c,d){if(!s[c]){if(!n[c]){var h=typeof by=="function"&&by;if(!d&&h)return h(c,!0);if(o)return o(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var p=s[c]={exports:{}};n[c][0].call(p.exports,(function(g){return a(n[c][1][g]||g)}),p,p.exports,r,n,s,i)}return s[c].exports}for(var o=typeof by=="function"&&by,u=0;u<i.length;u++)a(i[u]);return a})({1:[function(r,n,s){const i=r("fs"),a=r("fast-csv"),o=r("dayjs/plugin/customParseFormat"),u=r("dayjs/plugin/utc"),c=r("dayjs").extend(o).extend(u),d=r("../utils/stream-buf"),{fs:{exists:h}}=r("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(p){this.workbook=p,this.worksheet=null}async readFile(p,g){if(g=g||{},!await h(p))throw new Error("File not found: "+p);const y=i.createReadStream(p),m=await this.read(y,g);return y.close(),m}read(p,g){return g=g||{},new Promise((y,m)=>{const v=this.workbook.addWorksheet(g.sheetName),b=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],x=g.map||function(C){if(C==="")return null;const R=Number(C);if(!Number.isNaN(R)&&R!==1/0)return R;const L=b.reduce((P,$)=>{if(P)return P;const V=c(C,$,!0);return V.isValid()?V:null},null);if(L)return new Date(L.valueOf());const A=f[C];return A!==void 0?A:C},j=a.parse(g.parserOptions).on("data",C=>{v.addRow(C.map(x))}).on("end",()=>{j.emit("worksheet",v)});j.on("worksheet",y).on("error",m),p.pipe(j)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(p,g){return new Promise((y,m)=>{g=g||{};const v=this.workbook.getWorksheet(g.sheetName||g.sheetId),b=a.format(g.formatterOptions);p.on("finish",()=>{y()}),b.on("error",m),b.pipe(p);const{dateFormat:x,dateUTC:j}=g,C=g.map||(A=>{if(A){if(A.text||A.hyperlink)return A.hyperlink||A.text||"";if(A.formula||A.result)return A.result||"";if(A instanceof Date)return x?j?c.utc(A).format(x):c(A).format(x):j?c.utc(A).format():c(A).format();if(A.error)return A.error;if(typeof A=="object")return JSON.stringify(A)}return A}),R=g.includeEmptyRows===void 0||g.includeEmptyRows;let L=1;v&&v.eachRow((A,P)=>{if(R)for(;L++<P-1;)b.write([]);const{values:$}=A;$.shift(),b.write($.map(C)),L=P}),b.end()})}writeFile(p,g){const y={encoding:(g=g||{}).encoding||"utf8"},m=i.createWriteStream(p,y);return this.write(m,g)}async writeBuffer(p){const g=new d;return await this.write(g,p),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(r,n,s){const i=r("../utils/col-cache");class a{constructor(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=u,c)if(typeof c=="string"){const h=i.decodeAddress(c);this.nativeCol=h.col+d,this.nativeColOff=0,this.nativeRow=h.row+d,this.nativeRowOff=0}else c.nativeCol!==void 0?(this.nativeCol=c.nativeCol||0,this.nativeColOff=c.nativeColOff||0,this.nativeRow=c.nativeRow||0,this.nativeRowOff=c.nativeRowOff||0):c.col!==void 0?(this.col=c.col+d,this.row=c.row+d):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(u){return u instanceof a||u==null?u:new a(u)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(u){this.nativeCol=Math.floor(u),this.nativeColOff=Math.floor((u-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(u){this.nativeRow=Math.floor(u),this.nativeRowOff=Math.floor((u-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(u){this.nativeCol=u.nativeCol,this.nativeColOff=u.nativeColOff,this.nativeRow=u.nativeRow,this.nativeRowOff=u.nativeRowOff}}n.exports=a},{"../utils/col-cache":19}],3:[function(r,n,s){const i=r("../utils/col-cache"),a=r("../utils/under-dash"),o=r("./enums"),{slideFormula:u}=r("../utils/shared-formula"),c=r("./note");class d{constructor(p,g,y){if(!p||!g)throw new Error("A Cell needs a Row");this._row=p,this._column=g,i.validateAddress(y),this._address=y,this._value=h.create(d.Types.Null,this),this.style=this._mergeStyle(p.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(p){this.style.numFmt=p}get font(){return this.style.font}set font(p){this.style.font=p}get alignment(){return this.style.alignment}set alignment(p){this.style.alignment=p}get border(){return this.style.border}set border(p){this.style.border=p}get fill(){return this.style.fill}set fill(p){this.style.fill=p}get protection(){return this.style.protection}set protection(p){this.style.protection=p}_mergeStyle(p,g,y){const m=p&&p.numFmt||g&&g.numFmt;m&&(y.numFmt=m);const v=p&&p.font||g&&g.font;v&&(y.font=v);const b=p&&p.alignment||g&&g.alignment;b&&(y.alignment=b);const x=p&&p.border||g&&g.border;x&&(y.border=x);const j=p&&p.fill||g&&g.fill;j&&(y.fill=j);const C=p&&p.protection||g&&g.protection;return C&&(y.protection=C),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===d.Types.Merge}merge(p,g){this._value.release(),this._value=h.create(d.Types.Merge,this,p),g||(this.style=p.style)}unmerge(){this.type===d.Types.Merge&&(this._value.release(),this._value=h.create(d.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(p){return this._value.type===d.Types.Merge&&this._value.isMergedTo(p)}get master(){return this.type===d.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===d.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(p){this.type!==d.Types.Merge?(this._value.release(),this._value=h.create(h.getType(p),this,p)):this._value.master.value=p}get note(){return this._comment&&this._comment.note}set note(p){this._comment=new c(p)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(p){this.type===d.Types.String&&(this._value=h.create(d.Types.Hyperlink,this,{text:this._value.value,hyperlink:p}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:p}=this._row;return{sheetName:p.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(p){this.names=[p]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(p){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),p.forEach(y=>{g.addEx(this.fullAddress,y)})}addName(p){this.workbook.definedNames.addEx(this.fullAddress,p)}removeName(p){this.workbook.definedNames.removeEx(this.fullAddress,p)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(p){this._dataValidations.add(this.address,p)}get model(){const{model:p}=this._value;return p.style=this.style,this._comment&&(p.comment=this._comment.model),p}set model(p){if(this._value.release(),this._value=h.create(p.type,this),this._value.model=p,p.comment)switch(p.comment.type){case"note":this._comment=c.fromModel(p.comment)}p.style?this.style=p.style:this.style={}}}d.Types=o.ValueType;const h={getType:f=>f==null?d.Types.Null:f instanceof String||typeof f=="string"?d.Types.String:typeof f=="number"?d.Types.Number:typeof f=="boolean"?d.Types.Boolean:f instanceof Date?d.Types.Date:f.text&&f.hyperlink?d.Types.Hyperlink:f.formula||f.sharedFormula?d.Types.Formula:f.richText?d.Types.RichText:f.sharedString?d.Types.SharedString:f.error?d.Types.Error:d.Types.JSON,types:[{t:d.Types.Null,f:class{constructor(f){this.model={address:f.address,type:d.Types.Null}}get value(){return null}set value(f){}get type(){return d.Types.Null}get effectiveType(){return d.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:d.Types.Number,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.Number,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Number}get effectiveType(){return d.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.String,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.String,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:d.Types.Date,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.Date,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Date}get effectiveType(){return d.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Hyperlink,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.Hyperlink,text:p?p.text:void 0,hyperlink:p?p.hyperlink:void 0},p&&p.tooltip&&(this.model.tooltip=p.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return d.Types.Hyperlink}get effectiveType(){return d.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:d.Types.Formula,f:class{constructor(f,p){this.cell=f,this.model={address:f.address,type:d.Types.Formula,shareType:p?p.shareType:void 0,ref:p?p.ref:void 0,formula:p?p.formula:void 0,sharedFormula:p?p.sharedFormula:void 0,result:p?p.result:void 0}}_copyModel(f){const p={},g=y=>{const m=f[y];m&&(p[y]=m)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),p}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(h.getType(f)){case d.Types.Null:case d.Types.String:case d.Types.Number:case d.Types.Date:break;case d.Types.Hyperlink:case d.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return d.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?o.ValueType.Null:f instanceof String||typeof f=="string"?o.ValueType.String:typeof f=="number"?o.ValueType.Number:f instanceof Date?o.ValueType.Date:f.text&&f.hyperlink?o.ValueType.Hyperlink:f.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,p=f.findCell(this.model.sharedFormula);this._translatedFormula=p&&u(p.formula,p.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:d.Types.Merge,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.Merge,master:p?p.address:void 0},this._master=p,p&&p.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof d?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return d.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:d.Types.JSON,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.String,value:JSON.stringify(p),rawValue:p}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:d.Types.SharedString,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.SharedString,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.SharedString}get effectiveType(){return d.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.RichText,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.String,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return d.Types.RichText}get effectiveType(){return d.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:d.Types.Boolean,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.Boolean,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Boolean}get effectiveType(){return d.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Error,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.Error,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Error}get effectiveType(){return d.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,p)=>(f[p.t]=p.f,f),[]),create(f,p,g){const y=this.types[f];if(!y)throw new Error("Could not create Value of type "+f);return new y(p,g)}};n.exports=d},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(r,n,s){const i=r("../utils/under-dash"),a=r("./enums"),o=r("../utils/col-cache");class u{constructor(d,h,f){this._worksheet=d,this._number=h,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(d){d?(this.key=d.key,this.width=d.width!==void 0?d.width:9,this.outlineLevel=d.outlineLevel,d.style?this.style=d.style:this.style={},this.header=d.header,this._hidden=!!d.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(d){d!==void 0?(this._header=d,this.headers.forEach((h,f)=>{this._worksheet.getCell(f+1,this.number).value=h})):this._header=void 0}get key(){return this._key}set key(d){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=d,d&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(d){return this.width===d.width&&this.hidden===d.hidden&&this.outlineLevel===d.outlineLevel&&i.isEqual(this.style,d.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const d=this.style;return!d||!(d.font||d.numFmt||d.alignment||d.border||d.fill||d.protection)}get headerCount(){return this.headers.length}eachCell(d,h){const f=this.number;h||(h=d,d=null),this._worksheet.eachRow(d,(p,g)=>{h(p.getCell(f),g)})}get values(){const d=[];return this.eachCell((h,f)=>{h&&h.type!==a.ValueType.Null&&(d[f]=h.value)}),d}set values(d){if(!d)return;const h=this.number;let f=0;d.hasOwnProperty("0")&&(f=1),d.forEach((p,g)=>{this._worksheet.getCell(g+f,h).value=p})}_applyStyle(d,h){return this.style[d]=h,this.eachCell(f=>{f[d]=h}),h}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}static toModel(d){const h=[];let f=null;return d&&d.forEach((p,g)=>{p.isDefault?f&&(f=null):f&&p.equivalentTo(f)?f.max=g+1:(f={min:g+1,max:g+1,width:p.width!==void 0?p.width:9,style:p.style,isCustomWidth:p.isCustomWidth,hidden:p.hidden,outlineLevel:p.outlineLevel,collapsed:p.collapsed},h.push(f))}),h.length?h:void 0}static fromModel(d,h){const f=[];let p=1,g=0;for(h=(h=h||[]).sort((function(y,m){return y.min-m.min}));g<h.length;){const y=h[g++];for(;p<y.min;)f.push(new u(d,p++));for(;p<=y.max;)f.push(new u(d,p++,y))}return f.length?f:null}}n.exports=u},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(r,n,s){n.exports=class{constructor(i){this.model=i||{}}add(i,a){return this.model[i]=a}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(r,n,s){const i=r("../utils/under-dash"),a=r("../utils/col-cache"),o=r("../utils/cell-matrix"),u=r("./range"),c=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(d){return this.matrixMap[d]||(this.matrixMap[d]=new o)}add(d,h){const f=a.decodeEx(d);this.addEx(f,h)}addEx(d,h){const f=this.getMatrix(h);if(d.top)for(let p=d.left;p<=d.right;p++)for(let g=d.top;g<=d.bottom;g++){const y={sheetName:d.sheetName,address:a.n2l(p)+g,row:g,col:p};f.addCellEx(y)}else f.addCellEx(d)}remove(d,h){const f=a.decodeEx(d);this.removeEx(f,h)}removeEx(d,h){this.getMatrix(h).removeCellEx(d)}removeAllNames(d){i.each(this.matrixMap,h=>{h.removeCellEx(d)})}forEach(d){i.each(this.matrixMap,(h,f)=>{h.forEach(p=>{d(f,p)})})}getNames(d){return this.getNamesEx(a.decodeEx(d))}getNamesEx(d){return i.map(this.matrixMap,(h,f)=>h.findCellEx(d)&&f).filter(Boolean)}_explore(d,h){h.mark=!1;const{sheetName:f}=h,p=new u(h.row,h.col,h.row,h.col,f);let g,y;function m(b,x){const j=d.findCellAt(f,b,h.col);return!(!j||!j.mark)&&(p[x]=b,j.mark=!1,!0)}for(y=h.row-1;m(y,"top");y--);for(y=h.row+1;m(y,"bottom");y++);function v(b,x){const j=[];for(y=p.top;y<=p.bottom;y++){const C=d.findCellAt(f,y,b);if(!C||!C.mark)return!1;j.push(C)}p[x]=b;for(let C=0;C<j.length;C++)j[C].mark=!1;return!0}for(g=h.col-1;v(g,"left");g--);for(g=h.col+1;v(g,"right");g++);return p}getRanges(d,h){return(h=h||this.matrixMap[d])?(h.forEach(f=>{f.mark=!0}),{name:d,ranges:h.map(f=>f.mark&&this._explore(h,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:d,ranges:[]}}normaliseMatrix(d,h){d.forEachInSheet(h,(f,p,g)=>{f&&(f.row===p&&f.col===g||(f.row=p,f.col=g,f.address=a.n2l(g)+p))})}spliceRows(d,h,f,p){i.each(this.matrixMap,g=>{g.spliceRows(d,h,f,p),this.normaliseMatrix(g,d)})}spliceColumns(d,h,f,p){i.each(this.matrixMap,g=>{g.spliceColumns(d,h,f,p),this.normaliseMatrix(g,d)})}get model(){return i.map(this.matrixMap,(d,h)=>this.getRanges(h,d)).filter(d=>d.ranges.length)}set model(d){const h=this.matrixMap={};d.forEach(f=>{const p=h[f.name]=new o;f.ranges.forEach(g=>{c.test(g.split("!").pop()||"")&&p.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(r,n,s){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(r,n,s){const i=r("../utils/col-cache"),a=r("./anchor");n.exports=class{constructor(o,u){this.worksheet=o,this.model=u}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:u,imageId:c,range:d,hyperlinks:h}=o;if(this.type=u,this.imageId=c,u==="image")if(typeof d=="string"){const f=i.decode(d);this.range={tl:new a(this.worksheet,{col:f.left,row:f.top},-1),br:new a(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,d.tl,0),br:d.br&&new a(this.worksheet,d.br,0),ext:d.ext,editAs:d.editAs,hyperlinks:h||d.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(r,n,s){const i=r("../utils/under-dash");class a{constructor(u){this.note=u}get model(){let u=null;switch(typeof this.note){case"string":u={type:"note",note:{texts:[{text:this.note}]}};break;default:u={type:"note",note:this.note}}return i.deepMerge({},a.DEFAULT_CONFIGS,u)}set model(u){const{note:c}=u,{texts:d}=c;d.length===1&&Object.keys(d[0]).length===1?this.note=d[0].text:this.note=c}static fromModel(u){const c=new a;return c.model=u,c}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=a},{"../utils/under-dash":26}],10:[function(r,n,s){const i=r("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(u,c,d,h,f){if(arguments.length<4){const p=i.decodeAddress(u),g=i.decodeAddress(c);this.model={top:Math.min(p.row,g.row),left:Math.min(p.col,g.col),bottom:Math.max(p.row,g.row),right:Math.max(p.col,g.col),sheetName:d},this.setTLBR(p.row,p.col,g.row,g.col,f)}else this.model={top:Math.min(u,d),left:Math.min(c,h),bottom:Math.max(u,d),right:Math.max(c,h),sheetName:f}}decode(u){switch(u.length){case 5:this.setTLBR(u[0],u[1],u[2],u[3],u[4]);break;case 4:this.setTLBR(u[0],u[1],u[2],u[3]);break;case 3:this.setTLBR(u[0],u[1],u[2]);break;case 2:this.setTLBR(u[0],u[1]);break;case 1:{const c=u[0];if(c instanceof a)this.model={top:c.model.top,left:c.model.left,bottom:c.model.bottom,right:c.model.right,sheetName:c.sheetName};else if(c instanceof Array)this.decode(c);else if(c.top&&c.left&&c.bottom&&c.right)this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName};else{const d=i.decodeEx(c);d.top?this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName}:this.model={top:d.row,left:d.col,bottom:d.row,right:d.col,sheetName:d.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+u.length)}}get top(){return this.model.top||1}set top(u){this.model.top=u}get left(){return this.model.left||1}set left(u){this.model.left=u}get bottom(){return this.model.bottom||1}set bottom(u){this.model.bottom=u}get right(){return this.model.right||1}set right(u){this.model.right=u}get sheetName(){return this.model.sheetName}set sheetName(u){this.model.sheetName=u}get _serialisedSheetName(){const{sheetName:u}=this.model;return u?/^[a-zA-Z0-9]*$/.test(u)?u+"!":`'${u}'!`:""}expand(u,c,d,h){(!this.model.top||u<this.top)&&(this.top=u),(!this.model.left||c<this.left)&&(this.left=c),(!this.model.bottom||d>this.bottom)&&(this.bottom=d),(!this.model.right||h>this.right)&&(this.right=h)}expandRow(u){if(u){const{dimensions:c,number:d}=u;c&&this.expand(d,c.min,d,c.max)}}expandToAddress(u){const c=i.decodeEx(u);this.expand(c.row,c.col,c.row,c.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&!(u.bottom<this.top)&&!(u.top>this.bottom)&&!(u.right<this.left)&&!(u.left>this.right)}contains(u){const c=i.decodeEx(u);return this.containsEx(c)}containsEx(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&u.row>=this.top&&u.row<=this.bottom&&u.col>=this.left&&u.col<=this.right}forEachAddress(u){for(let c=this.left;c<=this.right;c++)for(let d=this.top;d<=this.bottom;d++)u(i.encodeAddress(d,c),d,c)}}n.exports=a},{"../utils/col-cache":19}],11:[function(r,n,s){const i=r("../utils/under-dash"),a=r("./enums"),o=r("../utils/col-cache"),u=r("./cell");n.exports=class{constructor(c,d){this._worksheet=c,this._number=d,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(c){return this._cells[c-1]}getCellEx(c){let d=this._cells[c.col-1];if(!d){const h=this._worksheet.getColumn(c.col);d=new u(this,h,c.address),this._cells[c.col-1]=d}return d}getCell(c){if(typeof c=="string"){const d=this._worksheet.getColumnKey(c);c=d?d.number:o.l2n(c)}return this._cells[c-1]||this.getCellEx({address:o.encodeAddress(this._number,c),row:this._number,col:c})}splice(c,d){const h=c+d;for(var f=arguments.length,p=new Array(f>2?f-2:0),g=2;g<f;g++)p[g-2]=arguments[g];const y=p.length-d,m=this._cells.length;let v,b,x;if(y<0)for(v=c+p.length;v<=m;v++)x=this._cells[v-1],b=this._cells[v-y-1],b?(x=this.getCell(v),x.value=b.value,x.style=b.style,x._comment=b._comment):x&&(x.value=null,x.style={},x._comment=void 0);else if(y>0)for(v=m;v>=h;v--)b=this._cells[v-1],b?(x=this.getCell(v+y),x.value=b.value,x.style=b.style,x._comment=b._comment):this._cells[v+y-1]=void 0;for(v=0;v<p.length;v++)x=this.getCell(c+v),x.value=p[v],x.style={},x._comment=void 0}eachCell(c,d){if(d||(d=c,c=null),c&&c.includeEmpty){const h=this._cells.length;for(let f=1;f<=h;f++)d(this.getCell(f),f)}else this._cells.forEach((h,f)=>{h&&h.type!==a.ValueType.Null&&d(h,f+1)})}addPageBreak(c,d){const h=this._worksheet,f=Math.max(0,c-1)||0,p=Math.max(0,d-1)||16838,g={id:this._number,max:p,man:1};f&&(g.min=f),h.rowBreaks.push(g)}get values(){const c=[];return this._cells.forEach(d=>{d&&d.type!==a.ValueType.Null&&(c[d.col]=d.value)}),c}set values(c){if(this._cells=[],c)if(c instanceof Array){let d=0;c.hasOwnProperty("0")&&(d=1),c.forEach((h,f)=>{h!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,f+d),row:this._number,col:f+d}).value=h)})}else this._worksheet.eachColumnKey((d,h)=>{c[h]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,d.number),row:this._number,col:d.number}).value=c[h])})}get hasValues(){return i.some(this._cells,c=>c&&c.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let c=0;return this.eachCell(()=>{c++}),c}get dimensions(){let c=0,d=0;return this._cells.forEach(h=>{h&&h.type!==a.ValueType.Null&&((!c||c>h.col)&&(c=h.col),d<h.col&&(d=h.col))}),c>0?{min:c,max:d}:null}_applyStyle(c,d){return this.style[c]=d,this._cells.forEach(h=>{h&&(h[c]=d)}),d}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const c=[];let d=0,h=0;return this._cells.forEach(f=>{if(f){const p=f.model;p&&((!d||d>f.col)&&(d=f.col),h<f.col&&(h=f.col),c.push(p))}}),this.height||c.length?{cells:c,number:this.number,min:d,max:h,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(c){if(c.number!==this._number)throw new Error("Invalid row number in model");let d;this._cells=[],c.cells.forEach(h=>{switch(h.type){case u.Types.Merge:break;default:{let f;if(h.address)f=o.decodeAddress(h.address);else if(d){const{row:p}=d,g=d.col+1;f={row:p,col:g,address:o.encodeAddress(p,g),$col$row:`$${o.n2l(g)}$${p}`}}d=f,this.getCellEx(f).model=h;break}}}),c.height?this.height=c.height:delete this.height,this.hidden=c.hidden,this.outlineLevel=c.outlineLevel||0,this.style=c.style&&JSON.parse(JSON.stringify(c.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(r,n,s){const i=r("../utils/col-cache");class a{constructor(u,c,d){this.table=u,this.column=c,this.index=d}_set(u,c){this.table.cacheState(),this.column[u]=c}get name(){return this.column.name}set name(u){this._set("name",u)}get filterButton(){return this.column.filterButton}set filterButton(u){this.column.filterButton=u}get style(){return this.column.style}set style(u){this.column.style=u}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(u){this._set("totalsRowLabel",u)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(u){this._set("totalsRowFunction",u)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(u){this._set("totalsRowResult",u)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(u){this._set("totalsRowFormula",u)}}n.exports=class{constructor(o,u){this.worksheet=o,u&&(this.table=u,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:o}=this,u=(y,m,v)=>{y[m]===void 0&&(y[m]=v)};u(o,"headerRow",!0),u(o,"totalsRow",!1),u(o,"style",{}),u(o.style,"theme","TableStyleMedium2"),u(o.style,"showFirstColumn",!1),u(o.style,"showLastColumn",!1),u(o.style,"showRowStripes",!1),u(o.style,"showColumnStripes",!1);const c=(y,m)=>{if(!y)throw new Error(m)};c(o.ref,"Table must have ref"),c(o.columns,"Table must have column definitions"),c(o.rows,"Table must have row definitions"),o.tl=i.decodeAddress(o.ref);const{row:d,col:h}=o.tl;c(d>0,"Table must be on valid row"),c(h>0,"Table must be on valid col");const{width:f,filterHeight:p,tableHeight:g}=this;o.autoFilterRef=i.encode(d,h,d+p-1,h+f-1),o.tableRef=i.encode(d,h,d+g-1,h+f-1),o.columns.forEach((y,m)=>{c(y.name,`Column ${m} must have a name`),m===0?u(y,"totalsRowLabel","Total"):(u(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const o=(p,g)=>{g&&Object.keys(g).forEach(y=>{p[y]=g[y]})},{worksheet:u,table:c}=this,{row:d,col:h}=c.tl;let f=0;if(c.headerRow){const p=u.getRow(d+f++);c.columns.forEach((g,y)=>{const{style:m,name:v}=g,b=p.getCell(h+y);b.value=v,o(b,m)})}if(c.rows.forEach(p=>{const g=u.getRow(d+f++);p.forEach((y,m)=>{const v=g.getCell(h+m);v.value=y,o(v,c.columns[m].style)})}),c.totalsRow){const p=u.getRow(d+f++);c.columns.forEach((g,y)=>{const m=p.getCell(h+y);if(y===0)m.value=g.totalsRowLabel;else{const v=this.getFormula(g);m.value=v?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}o(m,g.style)})}}load(o){const{table:u}=this,{row:c,col:d}=u.tl;let h=0;if(u.headerRow){const f=o.getRow(c+h++);u.columns.forEach((p,g)=>{f.getCell(d+g).value=p.name})}if(u.rows.forEach(f=>{const p=o.getRow(c+h++);f.forEach((g,y)=>{p.getCell(d+y).value=g})}),u.totalsRow){const f=o.getRow(c+h++);u.columns.forEach((p,g)=>{const y=f.getCell(d+g);g===0?y.value=p.totalsRowLabel:this.getFormula(p)&&(y.value={formula:p.totalsRowFormula,result:p.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const o=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let u=0;u<this._cache.tableHeight;u++){const c=this.worksheet.getRow(o.row+u);for(let d=0;d<this._cache.width;d++)c.getCell(o.col+d).value=null}else{for(let u=this.tableHeight;u<this._cache.tableHeight;u++){const c=this.worksheet.getRow(o.row+u);for(let d=0;d<this._cache.width;d++)c.getCell(o.col+d).value=null}for(let u=0;u<this.tableHeight;u++){const c=this.worksheet.getRow(o.row+u);for(let d=this.width;d<this._cache.width;d++)c.getCell(o.col+d).value=null}}this.store()}addRow(o,u){this.cacheState(),u===void 0?this.table.rows.push(o):this.table.rows.splice(u,0,o)}removeRows(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,u)}getColumn(o){const u=this.table.columns[o];return new a(this,u,o)}addColumn(o,u,c){this.cacheState(),c===void 0?(this.table.columns.push(o),this.table.rows.forEach((d,h)=>{d.push(u[h])})):(this.table.columns.splice(c,0,o),this.table.rows.forEach((d,h)=>{d.splice(c,0,u[h])}))}removeColumns(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,u),this.table.rows.forEach(c=>{c.splice(o,u)})}_assign(o,u,c){this.cacheState(),o[u]=c}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(r,n,s){const i=r("./worksheet"),a=r("./defined-names"),o=r("../xlsx/xlsx"),u=r("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new u(this)),this._csv}get nextId(){for(let c=1;c<this._worksheets.length;c++)if(!this._worksheets[c])return c;return this._worksheets.length||1}addWorksheet(c,d){const h=this.nextId;d&&(typeof d=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),d={properties:{tabColor:{argb:d}}}):(d.argb||d.theme||d.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),d={properties:{tabColor:d}}));const f=this._worksheets.reduce((y,m)=>(m&&m.orderNo)>y?m.orderNo:y,0),p=Object.assign({},d,{id:h,name:c,orderNo:f+1,workbook:this}),g=new i(p);return this._worksheets[h]=g,g}removeWorksheetEx(c){delete this._worksheets[c.id]}removeWorksheet(c){const d=this.getWorksheet(c);d&&d.destroy()}getWorksheet(c){return c===void 0?this._worksheets.find(Boolean):typeof c=="number"?this._worksheets[c]:typeof c=="string"?this._worksheets.find(d=>d&&d.name===c):void 0}get worksheets(){return this._worksheets.slice(1).sort((c,d)=>c.orderNo-d.orderNo).filter(Boolean)}eachSheet(c){this.worksheets.forEach(d=>{c(d,d.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(c){const d=this.media.length;return this.media.push(Object.assign({},c,{type:"image"})),d}getImage(c){return this.media[c]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(c=>c.model),sheets:this.worksheets.map(c=>c.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(c){this.creator=c.creator,this.lastModifiedBy=c.lastModifiedBy,this.lastPrinted=c.lastPrinted,this.created=c.created,this.modified=c.modified,this.company=c.company,this.manager=c.manager,this.title=c.title,this.subject=c.subject,this.keywords=c.keywords,this.category=c.category,this.description=c.description,this.language=c.language,this.revision=c.revision,this.contentStatus=c.contentStatus,this.properties=c.properties,this.calcProperties=c.calcProperties,this._worksheets=[],c.worksheets.forEach(d=>{const{id:h,name:f,state:p}=d,g=c.sheets&&c.sheets.findIndex(y=>y.id===h);(this._worksheets[h]=new i({id:h,name:f,orderNo:g,state:p,workbook:this})).model=d}),this._definedNames.model=c.definedNames,this.views=c.views,this._themes=c.themes,this.media=c.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(r,n,s){const i=r("../utils/under-dash"),a=r("../utils/col-cache"),o=r("./range"),u=r("./row"),c=r("./column"),d=r("./enums"),h=r("./image"),f=r("./table"),p=r("./data-validations"),g=r("../utils/encryptor"),{copyStyle:y}=r("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new p,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new o;return this._rows.forEach(v=>{if(v){const b=v.dimensions;b&&m.expand(v.number,b.min,v.number,b.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((x,j)=>{const C=(j.header?1:j.headers&&j.headers.length)||0;return Math.max(x,C)},0);let v=1;const b=this._columns=[];m.forEach(x=>{const j=new c(this,v++,!1);b.push(j),j.defn=x})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){i.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=a.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new c(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const b=this._rows.length;for(var x=arguments.length,j=new Array(x>2?x-2:0),C=2;C<x;C++)j[C-2]=arguments[C];if(j.length>0)for(let P=0;P<b;P++){const $=[m,v];j.forEach(U=>{$.push(U[P]||null)});const V=this.getRow(P+1);V.splice.apply(V,$)}else this._rows.forEach(P=>{P&&P.splice(m,v)});const R=j.length-v,L=m+v,A=this._columns.length;if(R<0)for(let P=m+j.length;P<=A;P++)this.getColumn(P).defn=this.getColumn(P-R).defn;else if(R>0)for(let P=A;P>=L;P--)this.getColumn(P+R).defn=this.getColumn(P).defn;for(let P=m;P<m+j.length;P++)this.getColumn(P).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,j.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(b=>{b.eachCell(x=>{let{col:j}=x;m[j]||(m[j]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new u(this,m)),v}getRows(m,v){if(v<1)return;const b=[];for(let x=m;x<m+v;x++)b.push(this.getRow(x));return b}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=this._nextRow,x=this.getRow(b);return x.values=m,this._setStyleOption(b,v[0]==="i"?v:"n"),x}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=[];return m.forEach(x=>{b.push(this.addRow(x,v))}),b}insertRow(m,v){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,b),this.getRow(m)}insertRows(m,v){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),b!=="n")for(let x=0;x<v.length;x++)b[0]==="o"&&this.findRow(v.length+m+x)!==void 0?this._copyStyle(v.length+m+x,m+x,b[1]==="+"):b[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+x,b[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this.getRow(m),j=this.getRow(v);j.style=y(x.style),x.eachCell({includeEmpty:b},(C,R)=>{j.getCell(R).style=y(C.style)}),j.height=x.height}duplicateRow(m,v){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this._rows[m-1],j=new Array(v).fill(x.values);this.spliceRows(m+1,b?0:v,...j);for(let C=0;C<v;C++){const R=this._rows[m+C];R.style=x.style,R.height=x.height,x.eachCell({includeEmpty:!0},(L,A)=>{R.getCell(A).style=L.style})}}spliceRows(m,v){const b=m+v;for(var x=arguments.length,j=new Array(x>2?x-2:0),C=2;C<x;C++)j[C-2]=arguments[C];const R=j.length,L=R-v,A=this._rows.length;let P,$;if(L<0)for(m===A&&(this._rows[A-1]=void 0),P=b;P<=A;P++)if($=this._rows[P-1],$){const V=this.getRow(P+L);V.values=$.values,V.style=$.style,V.height=$.height,$.eachCell({includeEmpty:!0},(U,E)=>{V.getCell(E).style=U.style}),this._rows[P-1]=void 0}else this._rows[P+L-1]=void 0;else if(L>0)for(P=A;P>=b;P--)if($=this._rows[P-1],$){const V=this.getRow(P+L);V.values=$.values,V.style=$.style,V.height=$.height,$.eachCell({includeEmpty:!0},(U,E)=>{if(V.getCell(E).style=U.style,U._value.constructor.name==="MergeValue"){const I=this.getRow(U._row._number+R).getCell(E),N=U._value._master,w=this.getRow(N._row._number+R).getCell(N._column._number);I.merge(w)}})}else this._rows[P+L-1]=void 0;for(P=0;P<R;P++){const V=this.getRow(m+P);V.style={},V.values=j[P]}this.workbook.definedNames.spliceRows(this.name,m,v,R)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const b=this._rows.length;for(let x=1;x<=b;x++)v(this.getRow(x),x)}else this._rows.forEach(b=>{b&&b.hasValues&&v(b,b.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const b=a.getAddress(m,v),x=this._rows[b.row-1];return x?x.findCell(b.col):void 0}getCell(m,v){const b=a.getAddress(m,v);return this.getRow(b.row).getCellEx(b)}mergeCells(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];const x=new o(v);this._mergeCellsInternal(x)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];const x=new o(v);this._mergeCellsInternal(x,!0)}_mergeCellsInternal(m,v){i.each(this._merges,x=>{if(x.intersects(m))throw new Error("Cannot merge already merged cells")});const b=this.getCell(m.top,m.left);for(let x=m.top;x<=m.bottom;x++)for(let j=m.left;j<=m.right;j++)(x>m.top||j>m.left)&&this.getCell(x,j).merge(b,v);this._merges[b.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let b=v.top;b<=v.bottom;b++)for(let x=v.left;x<=v.right;x++)this.getCell(b,x).unmerge();delete this._merges[m.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];const x=new o(v);for(let j=x.top;j<=x.bottom;j++)for(let C=x.left;C<=x.right;C++){const R=this.findCell(j,C);R&&(R.type===d.ValueType.Merge?this._unMergeMaster(R.master):this._merges[R.address]&&this._unMergeMaster(R))}}fillFormula(m,v,b){let x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const j=a.decode(m),{top:C,left:R,bottom:L,right:A}=j,P=A-R+1,$=a.encodeAddress(C,R),V=x==="shared";let U;U=typeof b=="function"?b:Array.isArray(b)?Array.isArray(b[0])?(I,N)=>b[I-C][N-R]:(I,N)=>b[(I-C)*P+(N-R)]:()=>{};let E=!0;for(let I=C;I<=L;I++)for(let N=R;N<=A;N++)E?(this.getCell(I,N).value={shareType:x,formula:v,ref:m,result:U(I,N)},E=!1):this.getCell(I,N).value=V?{sharedFormula:$,result:U(I,N)}:U(I,N)}addImage(m,v){const b={type:"image",imageId:m,range:v};this._media.push(new h(this,b))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new h(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(b=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),b()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new f(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(x=>x.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(x=>x.model),conditionalFormattings:this.conditionalFormattings};m.cols=c.toModel(this.columns);const v=m.rows=[],b=m.dimensions=new o;return this._rows.forEach(x=>{const j=x&&x.model;j&&(b.expand(j.number,j.min,j.number,j.max),v.push(j))}),m.merges=[],i.each(this._merges,x=>{m.merges.push(x.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const b=new u(this,v.number);this._rows[b.number-1]=b,b.model=v})}_parseMergeCells(m){i.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=c.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new p(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new h(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,b)=>{const x=new f;return x.model=b,v[b.name]=x,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(r,n,s){r("core-js/modules/es.promise"),r("core-js/modules/es.promise.finally"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.values"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.async-iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.find"),r("core-js/modules/es.string.from-code-point"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.number.is-nan"),r("regenerator-runtime/runtime");const i={Workbook:r("./doc/workbook")},a=r("./doc/enums");Object.keys(a).forEach(o=>{i[o]=a[o]}),n.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(r,n,s){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(a){return typeof a=="string"?a:i?i.decode(a):a.toString()}},{}],17:[function(r,n,s){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=r("buffer");s.stringToBuffer=function(o){return typeof o!="string"?o:i?a.from(i.encode(o).buffer):a.from(o)}},{buffer:220}],18:[function(r,n,s){const i=r("./under-dash"),a=r("./col-cache");n.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(a.decodeEx(o))}getCell(o){return this.findCellEx(a.decodeEx(o),!0)}findCell(o){return this.findCellEx(a.decodeEx(o),!1)}findCellAt(o,u,c){const d=this.sheets[o],h=d&&d[u];return h&&h[c]}addCellEx(o){if(o.top)for(let u=o.top;u<=o.bottom;u++)for(let c=o.left;c<=o.right;c++)this.getCellAt(o.sheetName,u,c);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,u){const c=this.findSheet(o,u),d=this.findSheetRow(c,o,u);return this.findRowCell(d,o,u)}getCellAt(o,u,c){const d=this.sheets[o]||(this.sheets[o]=[]),h=d[u]||(d[u]=[]);return h[c]||(h[c]={sheetName:o,address:a.n2l(c)+u,row:u,col:c})}removeCellEx(o){const u=this.findSheet(o);if(!u)return;const c=this.findSheetRow(u,o);c&&delete c[o.col]}forEachInSheet(o,u){const c=this.sheets[o];c&&c.forEach((d,h)=>{d&&d.forEach((f,p)=>{f&&u(f,h,p)})})}forEach(o){i.each(this.sheets,(u,c)=>{this.forEachInSheet(c,o)})}map(o){const u=[];return this.forEach(c=>{u.push(o(c))}),u}findSheet(o,u){const c=o.sheetName;return this.sheets[c]?this.sheets[c]:u?this.sheets[c]=[]:void 0}findSheetRow(o,u,c){const{row:d}=u;return o&&o[d]?o[d]:c?o[d]=[]:void 0}findRowCell(o,u,c){const{col:d}=u;return o&&o[d]?o[d]:c?o[d]=this.template?Object.assign(u,JSON.parse(JSON.stringify(this.template))):u:void 0}spliceRows(o,u,c,d){const h=this.sheets[o];if(h){const f=[];for(let p=0;p<d;p++)f.push([]);h.splice(u,c,...f)}}spliceColumns(o,u,c,d){const h=this.sheets[o];if(h){const f=[];for(let p=0;p<d;p++)f.push(null);i.each(h,p=>{p.splice(u,c,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(r,n,s){const i=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let u,c,d,h,f,p=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;p<=26;)u=this._dictionary[p-1],this._n2l[p]=u,this._l2n[u]=p,p++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(p=27;p<=702;)c=p-27,d=c%26,h=Math.floor(c/26),u=this._dictionary[h]+this._dictionary[d],this._n2l[p]=u,this._l2n[u]=p,p++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(p=703;p<=16384;)c=p-703,d=c%26,h=Math.floor(c/26)%26,f=Math.floor(c/676),u=this._dictionary[f]+this._dictionary[h]+this._dictionary[d],this._n2l[p]=u,this._l2n[u]=p,p++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!i.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){const u=o.length<5&&this._hash[o];if(u)return u;let c=!1,d="",h=0,f=!1,p="",g=0;for(let m,v=0;v<o.length;v++)if(m=o.charCodeAt(v),!f&&m>=65&&m<=90)c=!0,d+=o[v],h=26*h+m-64;else if(m>=48&&m<=57)f=!0,p+=o[v],g=10*g+m-48;else if(f&&c&&m!==36)break;if(c){if(h>16384)throw new Error("Out of bounds. Invalid column letter: "+d)}else h=void 0;f||(g=void 0);const y={address:o=d+p,col:h,row:g,$col$row:`$${d}$${p}`};return h<=100&&g<=100&&(this._hash[o]=y,this._hash[y.$col$row]=y),y},getAddress(o,u){if(u){const c=this.n2l(u)+o;return this.decodeAddress(c)}return this.decodeAddress(o)},decode(o){const u=o.split(":");if(u.length===2){const c=this.decodeAddress(u[0]),d=this.decodeAddress(u[1]),h={top:Math.min(c.row,d.row),left:Math.min(c.col,d.col),bottom:Math.max(c.row,d.row),right:Math.max(c.col,d.col)};return h.tl=this.n2l(h.left)+h.top,h.br=this.n2l(h.right)+h.bottom,h.dimensions=`${h.tl}:${h.br}`,h}return this.decodeAddress(o)},decodeEx(o){const u=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),c=u[1]||u[2],d=u[3],h=d.split(":");if(h.length>1){let p=this.decodeAddress(h[0]),g=this.decodeAddress(h[1]);const y=Math.min(p.row,g.row),m=Math.min(p.col,g.col),v=Math.max(p.row,g.row),b=Math.max(p.col,g.col);return p=this.n2l(m)+y,g=this.n2l(b)+v,{top:y,left:m,bottom:v,right:b,sheetName:c,tl:{address:p,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:c},br:{address:g,col:b,row:v,$col$row:`$${this.n2l(b)}$${v}`,sheetName:c},dimensions:`${p}:${g}`}}if(d.startsWith("#"))return c?{sheetName:c,error:d}:{error:d};const f=this.decodeAddress(d);return c?{sheetName:c,...f}:f},encodeAddress:(o,u)=>a.n2l(u)+o,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,u){const[c,d,,h,f]=o,[p,g]=u;return p>=c&&p<=h&&g>=d&&g<=f}};n.exports=a},{}],20:[function(r,n,s){const i=(o,u)=>({...o,...u.reduce((c,d)=>(o[d]&&(c[d]={...o[d]}),c),{})}),a=function(o,u,c){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[c]&&(u[c]=i(o[c],d))};s.copyStyle=o=>{if(!o)return o;if(u=o,Object.keys(u).length===0)return{};var u;const c={...o};return a(o,c,"font",["color"]),a(o,c,"alignment"),a(o,c,"protection"),o.border&&(a(o,c,"border"),a(o.border,c.border,"top",["color"]),a(o.border,c.border,"left",["color"]),a(o.border,c.border,"bottom",["color"]),a(o.border,c.border,"right",["color"]),a(o.border,c.border,"diagonal",["color"])),o.fill&&(a(o,c,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(c.fill.stops=o.fill.stops.map(d=>i(d,["color"])))),c}},{}],21:[function(r,n,s){(function(i){(function(){const a=r("crypto"),o={hash(u){const c=a.createHash(u);for(var d=arguments.length,h=new Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return c.update(i.concat(h)),c.digest()},convertPasswordToHash(u,c,d,h){if(c=c.toLowerCase(),a.getHashes().indexOf(c)<0)throw new Error(`Hash algorithm '${c}' not supported!`);const f=i.from(u,"utf16le");let p=this.hash(c,i.from(d,"base64"),f);for(let g=0;g<h;g++){const y=i.alloc(4);y.writeUInt32LE(g,0),p=this.hash(c,p,y)}return p.toString("base64")},randomBytes:u=>a.randomBytes(u)};n.exports=o}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(r,n,s){const{SaxesParser:i}=r("saxes"),{PassThrough:a}=r("readable-stream"),{bufferToString:o}=r("./browser-buffer-decode");n.exports=async function*(u){u.pipe&&!u[Symbol.asyncIterator]&&(u=u.pipe(new a));const c=new i;let d;c.on("error",f=>{d=f});let h=[];c.on("opentag",f=>h.push({eventType:"opentag",value:f})),c.on("text",f=>h.push({eventType:"text",value:f})),c.on("closetag",f=>h.push({eventType:"closetag",value:f}));for await(const f of u){if(c.write(o(f)),d)throw d;yield h,h=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(r,n,s){const i=r("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(u,c,d){const h=i.decode(c),f=i.decode(d);return u.replace(a,(p,g,y,m,v)=>{if(v)return p;const b=o.exec(m);if(b){const x=b[1],j=b[2].toUpperCase(),C=b[3],R=b[4];if(j.length>3||j.length===3&&j>"XFD")return p;let L=i.l2n(j),A=parseInt(R,10);return x||(L+=f.col-h.col),C||(A+=f.row-h.row),(g||"")+(x||"")+i.n2l(L)+(C||"")+A}return p})}}},{"./col-cache":19}],24:[function(r,n,s){(function(i,a){(function(){const o=r("readable-stream"),u=r("./utils"),c=r("./string-buf");class d{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,b,x){return this.toBuffer().copy(m,v,b,x)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class h{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,b,x){return this._data._buf.copy(m,v,b,x)}toBuffer(){return this._data.toBuffer()}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,b,x){this._data.copy(m,v,b,x)}toBuffer(){return this._data}}class p{constructor(m){this.size=m,this.buffer=a.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=a.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,b){const x=Math.min(b,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+x),this.iWrite+=x,x}}const g=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};u.inherits(g,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const y=new p(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map((function(m){return new Promise(v=>{m.write(y.toBuffer(),()=>{v()})})})))},_writeToBuffers(y){let m=0;const v=y.length;for(;m<v;)m+=this._getWritableBuffer().write(y,m,v-m)},async write(y,m,v){let b;if(m instanceof Function&&(v=m,m="utf8"),v=v||u.nop,y instanceof c)b=new h(y);else if(y instanceof a)b=new f(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");b=new d(y,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(b);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(b),i.nextTick(v)):(await this._pipe(b),v());else this.paused||this.emit("data",b.toBuffer()),this._writeToBuffers(b),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,m,v){const b=x=>{x?v(x):(this._flush(),this.pipes.forEach(j=>{j.end()}),this.emit("finish"))};y?this.write(y,m,b):b()},read(y){let m;if(y){for(m=[];y&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],b=v.read(y);y-=b.length,m.push(b),v.eod&&v.full&&this.buffers.shift()}return a.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],a.concat(m)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(m=>m!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(r,n,s){(function(i){(function(){n.exports=class{constructor(a){this._buf=i.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let o=2*this._buf.length;for(;o<a;)o*=2;const u=i.alloc(o);this._buf.copy(u,0),this._buf=u}addText(a){this._buffer=void 0;let o=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+a.length),o=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=o}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],26:[function(r,n,s){const{toString:i}=Object.prototype,a=/["&<>]/,o={each:function(u,c){u&&(Array.isArray(u)?u.forEach(c):Object.keys(u).forEach(d=>{c(u[d],d)}))},some:function(u,c){return!!u&&(Array.isArray(u)?u.some(c):Object.keys(u).some(d=>c(u[d],d)))},every:function(u,c){return!u||(Array.isArray(u)?u.every(c):Object.keys(u).every(d=>c(u[d],d)))},map:function(u,c){return u?Array.isArray(u)?u.map(c):Object.keys(u).map(d=>c(u[d],d)):[]},keyBy:(u,c)=>u.reduce((d,h)=>(d[h[c]]=h,d),{}),isEqual:function(u,c){const d=typeof u,h=typeof c,f=Array.isArray(u),p=Array.isArray(c);let g;if(d!==h)return!1;switch(typeof u){case"object":if(f||p)return!(!f||!p)&&u.length===c.length&&u.every((y,m)=>{const v=c[m];return o.isEqual(y,v)});if(u===null||c===null)return u===c;if(g=Object.keys(u),Object.keys(c).length!==g.length)return!1;for(const y of g)if(!c.hasOwnProperty(y))return!1;return o.every(u,(y,m)=>{const v=c[m];return o.isEqual(y,v)});default:return u===c}},escapeHtml(u){const c=a.exec(u);if(!c)return u;let d="",h="",f=0,p=c.index;for(;p<u.length;p++){switch(u.charAt(p)){case'"':h="&quot;";break;case"&":h="&amp;";break;case"'":h="&apos;";break;case"<":h="&lt;";break;case">":h="&gt;";break;default:continue}f!==p&&(d+=u.substring(f,p)),f=p+1,d+=h}return f!==p?d+u.substring(f,p):d},strcmp:(u,c)=>u<c?-1:u>c?1:0,isUndefined:u=>i.call(u)==="[object Undefined]",isObject:u=>i.call(u)==="[object Object]",deepMerge(){const u=arguments[0]||{},{length:c}=arguments;let d,h,f;function p(g,y){d=u[y],f=Array.isArray(g),o.isObject(g)||f?(f?(f=!1,h=d&&Array.isArray(d)?d:[]):h=d&&o.isObject(d)?d:{},u[y]=o.deepMerge(h,g)):o.isUndefined(g)||(u[y]=g)}for(let g=0;g<c;g++)o.each(arguments[g],p);return u}};n.exports=o},{}],27:[function(r,n,s){(function(i,a){(function(){const o=r("fs"),u=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,c={nop(){},promiseImmediate:d=>new Promise(h=>{i.setImmediate?a(()=>{h(d)}):setTimeout(()=>{h(d)},1)}),inherits:function(d,h,f,p){d.super_=h,p||(p=f,f=null),f&&Object.keys(f).forEach(y=>{Object.defineProperty(d,y,Object.getOwnPropertyDescriptor(f,y))});const g={constructor:{value:d,enumerable:!1,writable:!1,configurable:!0}};p&&Object.keys(p).forEach(y=>{g[y]=Object.getOwnPropertyDescriptor(p,y)}),d.prototype=Object.create(h.prototype,g)},dateToExcel:(d,h)=>25569+d.getTime()/864e5-(h?1462:0),excelToDate(d,h){const f=Math.round(24*(d-25569+(h?1462:0))*3600*1e3);return new Date(f)},parsePath(d){const h=d.lastIndexOf("/");return{path:d.substring(0,h),name:d.substring(h+1)}},getRelsPath(d){const h=c.parsePath(d);return`${h.path}/_rels/${h.name}.rels`},xmlEncode(d){const h=u.exec(d);if(!h)return d;let f="",p="",g=0,y=h.index;for(;y<d.length;y++){const m=d.charCodeAt(y);switch(m){case 34:p="&quot;";break;case 38:p="&amp;";break;case 39:p="&apos;";break;case 60:p="&lt;";break;case 62:p="&gt;";break;case 127:p="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){p="";break}continue}g!==y&&(f+=d.substring(g,y)),g=y+1,p&&(f+=p)}return g!==y?f+d.substring(g,y):f},xmlDecode:d=>d.replace(/&([a-z]*);/g,h=>{switch(h){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return h}}),validInt(d){const h=parseInt(d,10);return Number.isNaN(h)?0:h},isDateFmt(d){return d?(d=(d=d.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:d=>new Promise(h=>{o.access(d,o.constants.F_OK,f=>{h(!f)})})},toIsoDateString:d=>d.toIsoString().subsstr(0,10),parseBoolean:d=>d===!0||d==="true"||d===1||d==="1"};n.exports=c}).call(this)}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{fs:216,timers:523}],28:[function(r,n,s){const i=r("./under-dash"),a=r("./utils");function o(d,h,f){d.push(` ${h}="${a.xmlEncode(f.toString())}"`)}function u(d,h){if(h){const f=[];i.each(h,(p,g)=>{p!==void 0&&o(f,g,p)}),d.push(f.join(""))}}class c{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(h){const f=this._xml;f.push("<?xml"),u(f,h),f.push(`?>
`)}openNode(h,f){const p=this.tos,g=this._xml;p&&this.open&&g.push(">"),this._stack.push(h),g.push("<"),g.push(h),u(g,f),this.leaf=!0,this.open=!0}addAttribute(h,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&o(this._xml,h,f)}addAttributes(h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u(this._xml,h)}writeText(h){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(a.xmlEncode(h.toString()))}writeXml(h){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(h)}closeNode(){const h=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(h),f.push(">")),this.open=!1,this.leaf=!1}leafNode(h,f,p){this.openNode(h,f),p!==void 0&&this.writeText(p),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const h=this._rollbacks.pop();this._xml.length>h.xml&&this._xml.splice(h.xml,this._xml.length-h.xml),this._stack.length>h.stack&&this._stack.splice(h.stack,this._stack.length-h.stack),this.leaf=h.leaf,this.open=h.open}get xml(){return this.closeAll(),this._xml.join("")}}c.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=c},{"./under-dash":26,"./utils":27}],29:[function(r,n,s){(function(i){(function(){const a=r("events"),o=r("jszip"),u=r("./stream-buf"),{stringToBuffer:c}=r("./browser-buffer-encode");class d extends a.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new o,this.stream=new u}append(f,p){p.hasOwnProperty("base64")&&p.base64?this.zip.file(p.name,f,{base64:!0}):(i.browser&&typeof f=="string"&&(f=c(f)),this.zip.file(p.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,p){return this.stream.pipe(f,p)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}n.exports={ZipWriter:d}}).call(this)}).call(this,r("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(r,n,s){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(r,n,s){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(r,n,s){const i=r("../../utils/parse-sax"),a=r("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(c){}parseText(c){}parseClose(c){}reconcile(c,d){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(c=>{c instanceof o?c.reset():c.xform&&c.xform.reset()})}mergeModel(c){this.model=Object.assign(this.model||{},c)}async parse(c){for await(const d of c)for(const{eventType:h,value:f}of d)if(h==="opentag")this.parseOpen(f);else if(h==="text")this.parseText(f);else if(h==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(c){return this.parse(i(c))}get xml(){return this.toXml(this.model)}toXml(c){const d=new a;return this.render(d,c),d.xml}static toAttribute(c,d){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(h)return d}else if(h||c!==d)return c.toString()}static toStringAttribute(c,d){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(c,d,h)}static toStringValue(c,d){return c===void 0?d:c}static toBoolAttribute(c,d){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(h)return d}else if(h||c!==d)return c?"1":"0"}static toBoolValue(c,d){return c===void 0?d:c==="1"}static toIntAttribute(c,d){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(c,d,h)}static toIntValue(c,d){return c===void 0?d:parseInt(c,10)}static toFloatAttribute(c,d){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(c,d,h)}static toFloatValue(c,d){return c===void 0?d:parseFloat(c)}}n.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(r,n,s){const i=r("../base-xform"),a=r("../../../utils/col-cache");function o(c){try{return a.decodeEx(c),!0}catch{return!1}}function u(c){const d=[];let h=!1,f="";return c.split(",").forEach(p=>{if(!p)return;const g=(p.match(/'/g)||[]).length;if(!g)return void(h?f+=p+",":o(p)&&d.push(p));const y=g%2==0;!h&&y&&o(p)?d.push(p):h&&!y?(h=!1,o(f+p)&&d.push(f+p),f=""):(h=!0,f+=p+",")}),d}n.exports=class extends i{render(c,d){c.openNode("definedName",{name:d.name,localSheetId:d.localSheetId}),c.writeText(d.ranges.join(",")),c.closeNode()}parseOpen(c){switch(c.name){case"definedName":return this._parsedName=c.attributes.name,this._parsedLocalSheetId=c.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(c){this._parsedText.push(c)}parseClose(){return this.model={name:this._parsedName,ranges:u(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(r,n,s){const i=r("../../../utils/utils"),a=r("../base-xform");n.exports=class extends a{render(o,u){o.leafNode("sheet",{sheetId:u.id,name:u.name,state:u.state,"r:id":u.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:i.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{render(a,o){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{render(a,o){a.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{render(a,o){const u={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(u.visibility=o.visibility),a.leafNode("workbookView",u)}parseOpen(a){if(a.name==="workbookView"){const o=this.model={},u=function(d,h,f){const p=h!==void 0?o[d]=h:f;p!==void 0&&(o[d]=p)},c=function(d,h,f){const p=h!==void 0?o[d]=parseInt(h,10):f;p!==void 0&&(o[d]=p)};return c("x",a.attributes.xWindow,0),c("y",a.attributes.yWindow,0),c("width",a.attributes.windowWidth,25e3),c("height",a.attributes.windowHeight,1e4),u("visibility",a.attributes.visibility,"visible"),c("activeTab",a.attributes.activeTab,void 0),c("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../../../utils/col-cache"),o=r("../../../utils/xml-stream"),u=r("../base-xform"),c=r("../static-xform"),d=r("../list-xform"),h=r("./defined-name-xform"),f=r("./sheet-xform"),p=r("./workbook-view-xform"),g=r("./workbook-properties-xform"),y=r("./workbook-calc-properties-xform");class m extends u{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new d({tag:"bookViews",count:!1,childXform:new p}),sheets:new d({tag:"sheets",count:!1,childXform:new f}),definedNames:new d({tag:"definedNames",count:!1,childXform:new h}),calcPr:new y}}prepare(b){b.sheets=b.worksheets;const x=[];let j=0;b.sheets.forEach(C=>{if(C.pageSetup&&C.pageSetup.printArea&&C.pageSetup.printArea.split("&&").forEach(R=>{const L=R.split(":"),A={name:"_xlnm.Print_Area",ranges:[`'${C.name}'!$${L[0]}:$${L[1]}`],localSheetId:j};x.push(A)}),C.pageSetup&&(C.pageSetup.printTitlesRow||C.pageSetup.printTitlesColumn)){const R=[];if(C.pageSetup.printTitlesColumn){const A=C.pageSetup.printTitlesColumn.split(":");R.push(`'${C.name}'!$${A[0]}:$${A[1]}`)}if(C.pageSetup.printTitlesRow){const A=C.pageSetup.printTitlesRow.split(":");R.push(`'${C.name}'!$${A[0]}:$${A[1]}`)}const L={name:"_xlnm.Print_Titles",ranges:R,localSheetId:j};x.push(L)}j++}),x.length&&(b.definedNames=b.definedNames.concat(x)),(b.media||[]).forEach((C,R)=>{C.name=C.type+(R+1)})}render(b,x){b.openXml(o.StdDocAttributes),b.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(b),this.map.workbookPr.render(b,x.properties),this.map.bookViews.render(b,x.views),this.map.sheets.render(b,x.sheets),this.map.definedNames.render(b,x.definedNames),this.map.calcPr.render(b,x.calcProperties),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"workbook":return!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(b){const x=(b.workbookRels||[]).reduce((A,P)=>(A[P.Id]=P,A),{}),j=[];let C,R=0;(b.sheets||[]).forEach(A=>{const P=x[A.rId];P&&(C=b.worksheetHash["xl/"+P.Target.replace(/^(\s|\/xl\/)+/,"")],C&&(C.name=A.name,C.id=A.id,C.state=A.state,j[R++]=C))});const L=[];i.each(b.definedNames,A=>{if(A.name==="_xlnm.Print_Area"){if(C=j[A.localSheetId],C){C.pageSetup||(C.pageSetup={});const P=a.decodeEx(A.ranges[0]);C.pageSetup.printArea=C.pageSetup.printArea?`${C.pageSetup.printArea}&&${P.dimensions}`:P.dimensions}}else if(A.name==="_xlnm.Print_Titles"){if(C=j[A.localSheetId],C){C.pageSetup||(C.pageSetup={});const P=A.ranges.join(","),$=/\$/g,V=/\$\d+:\$\d+/,U=P.match(V);if(U&&U.length){const N=U[0];C.pageSetup.printTitlesRow=N.replace($,"")}const E=/\$[A-Z]+:\$[A-Z]+/,I=P.match(E);if(I&&I.length){const N=I[0];C.pageSetup.printTitlesColumn=N.replace($,"")}}}else L.push(A)}),b.definedNames=L,b.media.forEach((A,P)=>{A.index=P})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new c({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(r,n,s){const i=r("../strings/rich-text-xform"),a=r("../../../utils/utils"),o=r("../base-xform"),u=n.exports=function(c){this.model=c};a.inherits(u,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(c,d){d=d||this.model,c.openNode("comment",{ref:d.ref,authorId:0}),c.openNode("text"),d&&d.note&&d.note.texts&&d.note.texts.forEach(h=>{this.richTextXform.render(c,h)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"comment":return this.model={type:"note",note:{texts:[]},...c.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../../../utils/utils"),o=r("../base-xform"),u=r("./comment-xform"),c=n.exports=function(){this.map={comment:new u}};a.inherits(c,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(d,h){h=h||this.model,d.openXml(i.StdDocAttributes),d.openNode("comments",c.COMMENTS_ATTRIBUTES),d.openNode("authors"),d.leafNode("author",null,"Author"),d.closeNode(),d.openNode("commentList"),h.comments.forEach(f=>{this.map.comment.render(d,f)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,o,u){(o===u[2]||this.tag==="x:SizeWithCells"&&o===u[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(a){const o=Math.floor(a.left),u=Math.floor(68*(a.left-o)),c=Math.floor(a.top),d=Math.floor(18*(a.top-c)),h=Math.floor(a.right),f=Math.floor(68*(a.right-h)),p=Math.floor(a.bottom);return[o,u,c,d,h,f,p,Math.floor(18*(a.bottom-p))]}getDefaultRect(a){const o=a.col,u=Math.max(a.row-2,0);return[o,6,u,14,o+2,2,u+4,16]}render(a,o){const u=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);a.leafNode("x:Anchor",null,u.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(r,n,s){const i=r("../base-xform"),a=r("./vml-anchor-xform"),o=r("./style/vml-protection-xform"),u=r("./style/vml-position-xform"),c=["twoCells","oneCells","absolute"];n.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new u({tag:"x:SizeWithCells"}),"x:MoveWithCells":new u({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(d,h){const{protection:f,editAs:p}=h.note;d.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(d,p,c),this.map["x:SizeWithCells"].render(d,p,c),this.map["x:Anchor"].render(d,h),this.map["x:Locked"].render(d,f.locked),d.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(d,f.lockText),d.leafNode("x:Row",null,h.refAddress.row-1),d.leafNode("x:Column",null,h.refAddress.col-1),d.closeNode()}parseOpen(d){switch(d.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const d=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),h=Object.keys(d).length;this.model.editAs=c[h],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform"),o=r("./vml-shape-xform");class u extends a{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(d,h){d.openXml(i.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.openNode("o:shapelayout",{"v:ext":"edit"}),d.leafNode("o:idmap",{"v:ext":"edit",data:1}),d.closeNode(),d.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),d.leafNode("v:stroke",{joinstyle:"miter"}),d.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),d.closeNode(),h.comments.forEach((f,p)=>{this.map["v:shape"].render(d,f,p)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,h){d.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,h):this.map["xdr:oneCellAnchor"].reconcile(f,h)})}}u.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(r,n,s){const i=r("../base-xform"),a=r("./vml-textbox-xform"),o=r("./vml-client-data-xform");class u extends i{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new o}}get tag(){return"v:shape"}render(d,h,f){d.openNode("v:shape",u.V_SHAPE_ATTRIBUTES(h,f)),d.leafNode("v:fill",{color2:"infoBackground [80]"}),d.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),d.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(d,h),this.map["x:ClientData"].render(d,h),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={margins:{insetmode:d.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}u.V_SHAPE_ATTRIBUTES=(c,d)=>({id:"_x0000_s"+(1025+d),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":c.note.margins&&c.note.margins.insetmode}),n.exports=u},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(a,o,u){return`${parseFloat(a)*o.toFixed(2)}${u}`}reverseConversionUnit(a){return(a||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(a,o){const u={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:c}=o.note&&o.note.margins;Array.isArray(c)&&(c=c.map(d=>this.conversionUnit(d,10,"mm")).join(",")),c&&(u.inset=c)}a.openNode("v:textbox",u),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(r,n,s){const i=r("./base-xform");n.exports=class extends i{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,o){this.model[a]=o.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{render(a,o){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,o.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{render(a,o){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(u=>{a.leafNode("vt:lpstr",void 0,u.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform"),o=r("../simple/string-xform"),u=r("./app-heading-pairs-xform"),c=r("./app-titles-of-parts-xform");class d extends a{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new u,TitleOfParts:new c}}render(f,p){f.openXml(i.StdDocAttributes),f.openNode("Properties",d.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,p.worksheets),this.map.TitleOfParts.render(f,p.worksheets),this.map.Company.render(f,p.company||""),this.map.Manager.render(f,p.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"Properties":return!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}d.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3,6}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform");class o extends a{render(c,d){c.openXml(i.StdDocAttributes),c.openNode("Types",o.PROPERTY_ATTRIBUTES);const h={};(d.media||[]).forEach(f=>{if(f.type==="image"){const p=f.extension;h[p]||(h[p]=!0,c.leafNode("Default",{Extension:p,ContentType:"image/"+p}))}}),c.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),c.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),c.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),d.worksheets.forEach(f=>{const p=`/xl/worksheets/sheet${f.id}.xml`;c.leafNode("Override",{PartName:p,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),c.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),c.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),d.sharedStrings&&d.sharedStrings.count&&c.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),d.tables&&d.tables.forEach(f=>{c.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),d.drawings&&d.drawings.forEach(f=>{c.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),d.commentRefs&&(c.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),d.commentRefs.forEach(f=>{let{commentName:p}=f;c.leafNode("Override",{PartName:`/xl/${p}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),c.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),c.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),c.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform"),o=r("../simple/date-xform"),u=r("../simple/string-xform"),c=r("../simple/integer-xform");class d extends a{constructor(){super(),this.map={"dc:creator":new u({tag:"dc:creator"}),"dc:title":new u({tag:"dc:title"}),"dc:subject":new u({tag:"dc:subject"}),"dc:description":new u({tag:"dc:description"}),"dc:identifier":new u({tag:"dc:identifier"}),"dc:language":new u({tag:"dc:language"}),"cp:keywords":new u({tag:"cp:keywords"}),"cp:category":new u({tag:"cp:category"}),"cp:lastModifiedBy":new u({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:d.DateFormat}),"cp:revision":new c({tag:"cp:revision"}),"cp:version":new u({tag:"cp:version"}),"cp:contentStatus":new u({tag:"cp:contentStatus"}),"cp:contentType":new u({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:d.DateAttrs,format:d.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:d.DateAttrs,format:d.DateFormat})}}render(f,p){f.openXml(i.StdDocAttributes),f.openNode("cp:coreProperties",d.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,p.creator),this.map["dc:title"].render(f,p.title),this.map["dc:subject"].render(f,p.subject),this.map["dc:description"].render(f,p.description),this.map["dc:identifier"].render(f,p.identifier),this.map["dc:language"].render(f,p.language),this.map["cp:keywords"].render(f,p.keywords),this.map["cp:category"].render(f,p.category),this.map["cp:lastModifiedBy"].render(f,p.lastModifiedBy),this.map["cp:lastPrinted"].render(f,p.lastPrinted),this.map["cp:revision"].render(f,p.revision),this.map["cp:version"].render(f,p.version),this.map["cp:contentStatus"].render(f,p.contentStatus),this.map["cp:contentType"].render(f,p.contentType),this.map["dcterms:created"].render(f,p.created),this.map["dcterms:modified"].render(f,p.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}d.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{render(a,o){a.leafNode("Relationship",o)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform"),o=r("./relationship-xform");class u extends a{constructor(){super(),this.map={Relationship:new o}}render(d,h){h=h||this._values,d.openXml(i.StdDocAttributes),d.openNode("Relationships",u.RELATIONSHIPS_ATTRIBUTES),h.forEach(f=>{this.map.Relationship.render(d,f)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(d){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,o){if(a&&a.rId){const u=o.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(u){const c=u[1],d=o.mediaIndex[c];return o.media[d]}}}}},{"../base-xform":32}],57:[function(r,n,s){const i=r("../base-xform"),a=r("./blip-xform");n.exports=class extends i{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(o,u){o.openNode(this.tag),this.map["a:blip"].render(o,u),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"a:blip"}render(a,o){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(r,n,s){const i=r("../base-xform"),a=r("./hlink-click-xform"),o=r("./ext-lst-xform");n.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(u,c){u.openNode(this.tag,{id:c.index,name:"Picture "+c.index}),this.map["a:hlinkClick"].render(u,c),this.map["a:extLst"].render(u,c),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(r,n,s){const i=r("../base-xform"),a=r("../simple/integer-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(o,u){o.openNode(this.tag),this.map["xdr:col"].render(o,u.nativeCol),this.map["xdr:colOff"].render(o,u.nativeColOff),this.map["xdr:row"].render(o,u.nativeRow),this.map["xdr:rowOff"].render(o,u.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(r,n,s){const i=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),o=r("../base-xform"),u=r("./two-cell-anchor-xform"),c=r("./one-cell-anchor-xform");class d extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new u,"xdr:oneCellAnchor":new c}}prepare(f){f.anchors.forEach((p,g)=>{p.anchorType=(function(y){return(typeof y.range=="string"?i.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(p),this.map[p.anchorType].prepare(p,{index:g})})}get tag(){return"xdr:wsDr"}render(f,p){f.openXml(a.StdDocAttributes),f.openNode(this.tag,d.DRAWING_ATTRIBUTES),p.anchors.forEach(g=>{this.map[g.anchorType].render(f,g)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:return!0}}reconcile(f,p){f.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,p):this.map["xdr:oneCellAnchor"].reconcile(g,p)})}}d.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=d},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,o){a.openNode(this.tag);const u=Math.floor(9525*o.width),c=Math.floor(9525*o.height);a.addAttribute("cx",u),a.addAttribute("cy",c),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"a:hlinkClick"}render(a,o){o.hyperlinks&&o.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(r,n,s){const i=r("../base-xform"),a=r("./c-nv-pr-xform"),o=r("./c-nv-pic-pr-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(u,c){u.openNode(this.tag),this.map["xdr:cNvPr"].render(u,c),this.map["xdr:cNvPicPr"].render(u,c),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(r,n,s){const i=r("./base-cell-anchor-xform"),a=r("../static-xform"),o=r("./cell-position-xform"),u=r("./ext-xform"),c=r("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new u({tag:"xdr:ext"}),"xdr:pic":new c,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(d,h){this.map["xdr:pic"].prepare(d.picture,h)}render(d,h){d.openNode(this.tag,{editAs:h.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,h.range.tl),this.map["xdr:ext"].render(d,h.range.ext),this.map["xdr:pic"].render(d,h.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,h){d.medium=this.reconcilePicture(d.picture,h)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(r,n,s){const i=r("../base-xform"),a=r("../static-xform"),o=r("./blip-fill-xform"),u=r("./nv-pic-pr-xform"),c=r("./sp-pr");n.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new u,"xdr:blipFill":new o,"xdr:spPr":new a(c)}}get tag(){return"xdr:pic"}prepare(d,h){d.index=h.index+1}render(d,h){d.openNode(this.tag),this.map["xdr:nvPicPr"].render(d,h),this.map["xdr:blipFill"].render(d,h),this.map["xdr:spPr"].render(d,h),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(r,n,s){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(r,n,s){const i=r("./base-cell-anchor-xform"),a=r("../static-xform"),o=r("./cell-position-xform"),u=r("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new u,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(c,d){this.map["xdr:pic"].prepare(c.picture,d)}render(c,d){c.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,d.range.tl),this.map["xdr:to"].render(c,d.range.br),this.map["xdr:pic"].render(c,d.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,d){c.medium=this.reconcilePicture(c.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(r,n,s){const i=r("./base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,o){const{childXform:u}=this;a&&a.forEach((c,d)=>{o.index=d,u.prepare(c,o)})}render(a,o){if(this.always||o&&o.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,o&&o.length||0);const{childXform:u}=this;(o||[]).forEach((c,d)=>{u.render(a,c,d)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,o){if(a){const{childXform:u}=this;a.forEach(c=>{u.reconcile(c,o)})}}}},{"./base-xform":32}],72:[function(r,n,s){const i=r("../../../utils/col-cache"),a=r("../base-xform");n.exports=class extends a{get tag(){return"autoFilter"}render(o,u){if(u)if(typeof u=="string")o.leafNode("autoFilter",{ref:u});else{const c=function(f){return typeof f=="string"?f:i.getAddress(f.row,f.column).address},d=c(u.from),h=c(u.to);d&&h&&o.leafNode("autoFilter",{ref:`${d}:${h}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(r,n,s){const i=r("../../../utils/utils"),a=r("../base-xform"),o=r("../../../doc/range"),u=r("../../../doc/enums"),c=r("../strings/rich-text-xform");function d(h){if(h==null)return u.ValueType.Null;if(h instanceof String||typeof h=="string")return u.ValueType.String;if(typeof h=="number")return u.ValueType.Number;if(typeof h=="boolean")return u.ValueType.Boolean;if(h instanceof Date)return u.ValueType.Date;if(h.text&&h.hyperlink)return u.ValueType.Hyperlink;if(h.formula)return u.ValueType.Formula;if(h.error)return u.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends a{constructor(){super(),this.richTextXForm=new c}get tag(){return"c"}prepare(h,f){const p=f.styles.addStyleModel(h.style||{},(function(g){switch(g.type){case u.ValueType.Formula:return d(g.result);default:return g.type}})(h));switch(p&&(h.styleId=p),h.comment&&f.comments.push({...h.comment,ref:h.address}),h.type){case u.ValueType.String:case u.ValueType.RichText:f.sharedStrings&&(h.ssId=f.sharedStrings.add(h.value));break;case u.ValueType.Date:f.date1904&&(h.date1904=!0);break;case u.ValueType.Hyperlink:f.sharedStrings&&h.text!==void 0&&h.text!==null&&(h.ssId=f.sharedStrings.add(h.text)),f.hyperlinks.push({address:h.address,target:h.hyperlink,tooltip:h.tooltip});break;case u.ValueType.Merge:f.merges.add(h);break;case u.ValueType.Formula:if(f.date1904&&(h.date1904=!0),h.shareType==="shared"&&(h.si=f.siFormulae++),h.formula)f.formulae[h.address]=h;else if(h.sharedFormula){const g=f.formulae[h.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+h.address);g.si===void 0?(g.shareType="shared",g.si=f.siFormulae++,g.range=new o(g.address,h.address)):g.range&&g.range.expandToAddress(h.address),h.si=g.si}}}renderFormula(h,f){let p=null;switch(f.shareType){case"shared":p={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":p={t:"array",ref:f.ref};break;default:f.si!==void 0&&(p={t:"shared",si:f.si})}switch(d(f.result)){case u.ValueType.Null:h.leafNode("f",p,f.formula);break;case u.ValueType.String:h.addAttribute("t","str"),h.leafNode("f",p,f.formula),h.leafNode("v",null,f.result);break;case u.ValueType.Number:h.leafNode("f",p,f.formula),h.leafNode("v",null,f.result);break;case u.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("f",p,f.formula),h.leafNode("v",null,f.result?1:0);break;case u.ValueType.Error:h.addAttribute("t","e"),h.leafNode("f",p,f.formula),h.leafNode("v",null,f.result.error);break;case u.ValueType.Date:h.leafNode("f",p,f.formula),h.leafNode("v",null,i.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(h,f){if(f.type!==u.ValueType.Null||f.styleId){switch(h.openNode("c"),h.addAttribute("r",f.address),f.styleId&&h.addAttribute("s",f.styleId),f.type){case u.ValueType.Null:break;case u.ValueType.Number:h.leafNode("v",null,f.value);break;case u.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("v",null,f.value?"1":"0");break;case u.ValueType.Error:h.addAttribute("t","e"),h.leafNode("v",null,f.value.error);break;case u.ValueType.String:case u.ValueType.RichText:f.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(h.addAttribute("t","inlineStr"),h.openNode("is"),f.value.richText.forEach(p=>{this.richTextXForm.render(h,p)}),h.closeNode("is")):(h.addAttribute("t","str"),h.leafNode("v",null,f.value));break;case u.ValueType.Date:h.leafNode("v",null,i.dateToExcel(f.value,f.date1904));break;case u.ValueType.Hyperlink:f.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,f.ssId)):(h.addAttribute("t","str"),h.leafNode("v",null,f.text));break;case u.ValueType.Formula:this.renderFormula(h,f);break;case u.ValueType.Merge:}h.closeNode()}}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"c":return this.model={address:h.attributes.r},this.t=h.attributes.t,h.attributes.s&&(this.model.styleId=parseInt(h.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=h.attributes.si,this.model.shareType=h.attributes.t,this.model.ref=h.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){if(this.parser)this.parser.parseText(h);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+h:h;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+h:h:this.model.value=this.model.value?this.model.value+h:h}}parseClose(h){switch(h){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=u.ValueType.Formula,f.value&&(this.t==="str"?f.result=i.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=u.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=u.ValueType.String,f.value=i.xmlDecode(f.value);break;case"inlineStr":f.type=u.ValueType.String;break;case"b":f.type=u.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=u.ValueType.Error,f.value={error:f.value};break;default:f.type=u.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=u.ValueType.Null:f.type=u.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(h),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(h),!0)}}reconcile(h,f){const p=h.styleId&&f.styles&&f.styles.getStyleModel(h.styleId);switch(p&&(h.style=p),h.styleId!==void 0&&(h.styleId=void 0),h.type){case u.ValueType.String:typeof h.value=="number"&&f.sharedStrings&&(h.value=f.sharedStrings.getString(h.value)),h.value.richText&&(h.type=u.ValueType.RichText);break;case u.ValueType.Number:p&&i.isDateFmt(p.numFmt)&&(h.type=u.ValueType.Date,h.value=i.excelToDate(h.value,f.date1904));break;case u.ValueType.Formula:h.result!==void 0&&p&&i.isDateFmt(p.numFmt)&&(h.result=i.excelToDate(h.result,f.date1904)),h.shareType==="shared"&&(h.ref?f.formulae[h.si]=h.address:(h.sharedFormula=f.formulae[h.si],delete h.shareType),delete h.si)}const g=f.hyperlinkMap[h.address];g&&(h.type===u.ValueType.Formula?(h.text=h.result,h.result=void 0):(h.text=h.value,h.value=void 0),h.type=u.ValueType.Hyperlink,h.hyperlink=g);const y=f.commentsMap&&f.commentsMap[h.address];y&&(h.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{get tag(){return"x14:cfIcon"}render(a,o){a.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(a){let{attributes:o}=a;this.model={iconSet:o.iconSet,iconId:i.toIntValue(o.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(r,n,s){const{v4:i}=r("uuid"),a=r("../../base-xform"),o=r("../../composite-xform"),u=r("./databar-ext-xform"),c=r("./icon-set-ext-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class h extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new u,"x14:iconSet":this.iconSetXform=new c}}get tag(){return"x14:cfRule"}static isExt(p){return p.type==="dataBar"?u.isExt(p):!(p.type!=="iconSet"||!p.custom&&!d[p.iconSet])}prepare(p){h.isExt(p)&&(p.x14Id=`{${i()}}`.toUpperCase())}render(p,g){if(h.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(p,g);break;case"iconSet":this.renderIconSet(p,g)}}renderDataBar(p,g){p.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(p,g),p.closeNode()}renderIconSet(p,g){p.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${i()}}`}),this.iconSetXform.render(p,g),p.closeNode()}createNewModel(p){let{attributes:g}=p;return{type:g.type,x14Id:g.id,priority:a.toIntValue(g.priority)}}onParserClose(p,g){Object.assign(this.model,g.model)}}n.exports=h},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(r,n,s){const i=r("../../composite-xform"),a=r("./f-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(o,u){o.openNode(this.tag,{type:u.type}),u.value!==void 0&&this.fExtXform.render(o,u.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,u){switch(o){case"xm:f":this.model.value=u.model?parseFloat(u.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(r,n,s){const i=r("../../composite-xform"),a=r("./sqref-ext-xform"),o=r("./cf-rule-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(u,c){u.rules.forEach(d=>{this.cfRule.prepare(d,c)})}render(u,c){c.rules.some(o.isExt)&&(u.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),c.rules.filter(o.isExt).forEach(d=>this.cfRule.render(u,d)),this.sqRef.render(u,c.ref),u.closeNode())}createNewModel(){return{rules:[]}}onParserClose(u,c){switch(u){case"xm:sqref":this.model.ref=c.model;break;case"x14:cfRule":this.model.rules.push(c.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(r,n,s){const i=r("../../composite-xform"),a=r("./cf-rule-ext-xform"),o=r("./conditional-formatting-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(u){return u.hasExtContent===void 0&&(u.hasExtContent=u.some(c=>c.rules.some(a.isExt))),u.hasExtContent}prepare(u,c){u.forEach(d=>{this.cfXform.prepare(d,c)})}render(u,c){this.hasContent(c)&&(u.openNode(this.tag),c.forEach(d=>this.cfXform.render(u,d)),u.closeNode())}createNewModel(){return[]}onParserClose(u,c){this.model.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(r,n,s){const i=r("../../base-xform"),a=r("../../composite-xform"),o=r("../../style/color-xform"),u=r("./cfvo-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(c){return!c.gradient}get tag(){return"x14:dataBar"}render(c,d){c.openNode(this.tag,{minLength:i.toIntAttribute(d.minLength,0,!0),maxLength:i.toIntAttribute(d.maxLength,100,!0),border:i.toBoolAttribute(d.border,!1),gradient:i.toBoolAttribute(d.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(d.axisPosition,"auto"),direction:i.toAttribute(d.direction,"leftToRight")}),d.cfvo.forEach(h=>{this.cfvoXform.render(c,h)}),this.borderColorXform.render(c,d.borderColor),this.negativeBorderColorXform.render(c,d.negativeBorderColor),this.negativeFillColorXform.render(c,d.negativeFillColor),this.axisColorXform.render(c,d.axisColor),c.closeNode()}createNewModel(c){let{attributes:d}=c;return{cfvo:[],minLength:i.toIntValue(d.minLength,0),maxLength:i.toIntValue(d.maxLength,100),border:i.toBoolValue(d.border,!1),gradient:i.toBoolValue(d.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(d.axisPosition,"auto"),direction:i.toStringValue(d.direction,"leftToRight")}}onParserClose(c,d){const[,h]=c.split(":");switch(h){case"cfvo":this.model.cfvo.push(d.model);break;default:this.model[h]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{get tag(){return"xm:f"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(r,n,s){const i=r("../../base-xform"),a=r("../../composite-xform"),o=r("./cfvo-ext-xform"),u=r("./cf-icon-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new u}}get tag(){return"x14:iconSet"}render(c,d){c.openNode(this.tag,{iconSet:i.toStringAttribute(d.iconSet),reverse:i.toBoolAttribute(d.reverse,!1),showValue:i.toBoolAttribute(d.showValue,!0),custom:i.toBoolAttribute(d.icons,!1)}),d.cfvo.forEach(h=>{this.cfvoXform.render(c,h)}),d.icons&&d.icons.forEach((h,f)=>{h.iconId=f,this.cfIconXform.render(c,h)}),c.closeNode()}createNewModel(c){let{attributes:d}=c;return{cfvo:[],iconSet:i.toStringValue(d.iconSet,"3TrafficLights"),reverse:i.toBoolValue(d.reverse,!1),showValue:i.toBoolValue(d.showValue,!0)}}onParserClose(c,d){const[,h]=c.split(":");switch(h){case"cfvo":this.model.cfvo.push(d.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(d.model);break;default:this.model[h]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{get tag(){return"xm:sqref"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(r,n,s){const i=r("../../base-xform"),a=r("../../composite-xform"),o=r("../../../../doc/range"),u=r("./databar-xform"),c=r("./ext-lst-ref-xform"),d=r("./formula-xform"),h=r("./color-scale-xform"),f=r("./icon-set-xform"),p={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=m=>{const{type:v,operator:b}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:b}}};class y extends a{constructor(){super(),this.map={dataBar:this.databarXform=new u,extLst:this.extLstRefXform=new c,formula:this.formulaXform=new d,colorScale:this.colorScaleXform=new h,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!p[v.iconSet]}render(v,b){switch(b.type){case"expression":this.renderExpression(v,b);break;case"cellIs":this.renderCellIs(v,b);break;case"top10":this.renderTop10(v,b);break;case"aboveAverage":this.renderAboveAverage(v,b);break;case"dataBar":this.renderDataBar(v,b);break;case"colorScale":this.renderColorScale(v,b);break;case"iconSet":this.renderIconSet(v,b);break;case"containsText":this.renderText(v,b);break;case"timePeriod":this.renderTimePeriod(v,b)}}renderExpression(v,b){v.openNode(this.tag,{type:"expression",dxfId:b.dxfId,priority:b.priority}),this.formulaXform.render(v,b.formulae[0]),v.closeNode()}renderCellIs(v,b){v.openNode(this.tag,{type:"cellIs",dxfId:b.dxfId,priority:b.priority,operator:b.operator}),b.formulae.forEach(x=>{this.formulaXform.render(v,x)}),v.closeNode()}renderTop10(v,b){v.leafNode(this.tag,{type:"top10",dxfId:b.dxfId,priority:b.priority,percent:i.toBoolAttribute(b.percent,!1),bottom:i.toBoolAttribute(b.bottom,!1),rank:i.toIntValue(b.rank,10,!0)})}renderAboveAverage(v,b){v.leafNode(this.tag,{type:"aboveAverage",dxfId:b.dxfId,priority:b.priority,aboveAverage:i.toBoolAttribute(b.aboveAverage,!0)})}renderDataBar(v,b){v.openNode(this.tag,{type:"dataBar",priority:b.priority}),this.databarXform.render(v,b),this.extLstRefXform.render(v,b),v.closeNode()}renderColorScale(v,b){v.openNode(this.tag,{type:"colorScale",priority:b.priority}),this.colorScaleXform.render(v,b),v.closeNode()}renderIconSet(v,b){y.isPrimitive(b)&&(v.openNode(this.tag,{type:"iconSet",priority:b.priority}),this.iconSetXform.render(v,b),v.closeNode())}renderText(v,b){v.openNode(this.tag,{type:b.operator,dxfId:b.dxfId,priority:b.priority,operator:i.toStringAttribute(b.operator,"containsText")});const x=(j=>{if(j.formulae&&j.formulae[0])return j.formulae[0];const C=new o(j.ref),{tl:R}=C;switch(j.operator){case"containsText":return`NOT(ISERROR(SEARCH("${j.text}",${R})))`;case"containsBlanks":return`LEN(TRIM(${R}))=0`;case"notContainsBlanks":return`LEN(TRIM(${R}))>0`;case"containsErrors":return`ISERROR(${R})`;case"notContainsErrors":return`NOT(ISERROR(${R}))`;default:return}})(b);x&&this.formulaXform.render(v,x),v.closeNode()}renderTimePeriod(v,b){v.openNode(this.tag,{type:"timePeriod",dxfId:b.dxfId,priority:b.priority,timePeriod:b.timePeriod});const x=(j=>{if(j.formulae&&j.formulae[0])return j.formulae[0];const C=new o(j.ref),{tl:R}=C;switch(j.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${R},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${R},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${R},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${R},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${R},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${R},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${R},1)=TODAY()-1`;case"today":return`FLOOR(${R},1)=TODAY()`;case"tomorrow":return`FLOOR(${R},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${R},1)<=6,FLOOR(${R},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${R})=MONTH(EDATE(TODAY(),0-1)),YEAR(${R})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${R})=MONTH(TODAY()),YEAR(${R})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${R})=MONTH(EDATE(TODAY(),0+1)),YEAR(${R})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(b);x&&this.formulaXform.render(v,x),v.closeNode()}createNewModel(v){let{attributes:b}=v;return{...g(b),dxfId:i.toIntValue(b.dxfId),priority:i.toIntValue(b.priority),timePeriod:b.timePeriod,percent:i.toBoolValue(b.percent),bottom:i.toBoolValue(b.bottom),rank:i.toIntValue(b.rank),aboveAverage:i.toBoolValue(b.aboveAverage)}}onParserClose(v,b){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,b.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(b.model)}}}n.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{get tag(){return"cfvo"}render(a,o){a.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(a){this.model={type:a.attributes.type,value:i.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(r,n,s){const i=r("../../composite-xform"),a=r("../../style/color-xform"),o=r("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new a}}get tag(){return"colorScale"}render(u,c){u.openNode(this.tag),c.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),c.color.forEach(d=>{this.colorXform.render(u,d)}),u.closeNode()}createNewModel(u){return{cfvo:[],color:[]}}onParserClose(u,c){this.model[u].push(c.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(r,n,s){const i=r("../../composite-xform"),a=r("./cf-rule-xform");n.exports=class extends i{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(o,u){u.rules.some(a.isPrimitive)&&(o.openNode(this.tag,{sqref:u.ref}),u.rules.forEach(c=>{a.isPrimitive(c)&&(c.ref=u.ref,this.map.cfRule.render(o,c))}),o.closeNode())}createNewModel(o){let{attributes:u}=o;return{ref:u.sqref,rules:[]}}onParserClose(o,u){this.model.rules.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(r,n,s){const i=r("../../base-xform"),a=r("./conditional-formatting-xform");n.exports=class extends i{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,u){let c=o.reduce((d,h)=>Math.max(d,...h.rules.map(f=>f.priority||0)),1);o.forEach(d=>{d.rules.forEach(h=>{h.priority||(h.priority=c++),h.style&&(h.dxfId=u.styles.addDxfStyle(h.style))})})}render(o,u){u.forEach(c=>{this.cfXform.render(o,c)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,u){o.forEach(c=>{c.rules.forEach(d=>{d.dxfId!==void 0&&(d.style=u.styles.getDxfStyle(d.dxfId),delete d.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(r,n,s){const i=r("../../composite-xform"),a=r("../../style/color-xform"),o=r("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new a}}get tag(){return"dataBar"}render(u,c){u.openNode(this.tag),c.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),this.colorXform.render(u,c.color),u.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(u,c){switch(u){case"cfvo":this.model.cfvo.push(c.model);break;case"color":this.model.color=c.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(r,n,s){const i=r("../../base-xform"),a=r("../../composite-xform");class o extends i{get tag(){return"x14:id"}render(d,h){d.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(d){this.model+=d}parseClose(d){return d!==this.tag}}class u extends a{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(d,h){d.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(d,h.x14Id),d.closeNode()}createNewModel(){return{}}onParserClose(d,h){this.model.x14Id=h.model}}n.exports=class extends a{constructor(){super(),this.map={ext:new u}}get tag(){return"extLst"}render(c,d){c.openNode(this.tag),this.map.ext.render(c,d),c.closeNode()}createNewModel(){return{}}onParserClose(c,d){Object.assign(this.model,d.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{get tag(){return"formula"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(r,n,s){const i=r("../../base-xform"),a=r("../../composite-xform"),o=r("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(u,c){u.openNode(this.tag,{iconSet:i.toStringAttribute(c.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(c.reverse,!1),showValue:i.toBoolAttribute(c.showValue,!0)}),c.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),u.closeNode()}createNewModel(u){let{attributes:c}=u;return{iconSet:i.toStringValue(c.iconSet,"3TrafficLights"),reverse:i.toBoolValue(c.reverse),showValue:i.toBoolValue(c.showValue),cfvo:[]}}onParserClose(u,c){this.model[u].push(c.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(r,n,s){const i=r("../../../utils/utils"),a=r("../base-xform");n.exports=class extends a{get tag(){return"col"}prepare(o,u){const c=u.styles.addStyleModel(o.style||{});c&&(o.styleId=c)}render(o,u){o.openNode("col"),o.addAttribute("min",u.min),o.addAttribute("max",u.max),u.width&&o.addAttribute("width",u.width),u.styleId&&o.addAttribute("style",u.styleId),u.hidden&&o.addAttribute("hidden","1"),u.bestFit&&o.addAttribute("bestFit","1"),u.outlineLevel&&o.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){const u=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(u.styleId=parseInt(o.attributes.style,10)),i.parseBoolean(o.attributes.hidden)&&(u.hidden=!0),i.parseBoolean(o.attributes.bestFit)&&(u.bestFit=!0),o.attributes.outlineLevel&&(u.outlineLevel=parseInt(o.attributes.outlineLevel,10)),i.parseBoolean(o.attributes.collapsed)&&(u.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,u){o.styleId&&(o.style=u.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../../../utils/utils"),o=r("../../../utils/col-cache"),u=r("../base-xform"),c=r("../../../doc/range");function d(f,p,g,y){const m=p[g];m!==void 0?f[g]=m:y!==void 0&&(f[g]=y)}function h(f,p,g,y){const m=p[g];m!==void 0&&(f[g]=a.parseBoolean(m))}n.exports=class extends u{get tag(){return"dataValidations"}render(f,p){const g=(function(y){const m=i.map(y,(x,j)=>({address:j,dataValidation:x,marked:!1})).sort((x,j)=>i.strcmp(x.address,j.address)),v=i.keyBy(m,"address"),b=(x,j,C)=>{for(let R=0;R<j;R++){const L=o.encodeAddress(x.row+R,C);if(!y[L]||!i.isEqual(y[x.address],y[L]))return!1}return!0};return m.map(x=>{if(!x.marked){const j=o.decodeEx(x.address);if(j.dimensions)return v[j.dimensions].marked=!0,{...x.dataValidation,sqref:x.address};let C=1,R=o.encodeAddress(j.row+C,j.col);for(;y[R]&&i.isEqual(x.dataValidation,y[R]);)C++,R=o.encodeAddress(j.row+C,j.col);let L=1;for(;b(j,C,j.col+L);)L++;for(let A=0;A<C;A++)for(let P=0;P<L;P++)R=o.encodeAddress(j.row+A,j.col+P),v[R].marked=!0;if(C>1||L>1){const A=j.row+(C-1),P=j.col+(L-1);return{...x.dataValidation,sqref:`${x.address}:${o.encodeAddress(A,P)}`}}return{...x.dataValidation,sqref:x.address}}return null}).filter(Boolean)})(p);g.length&&(f.openNode("dataValidations",{count:g.length}),g.forEach(y=>{f.openNode("dataValidation"),y.type!=="any"&&(f.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&f.addAttribute("operator",y.operator),y.allowBlank&&f.addAttribute("allowBlank","1")),y.showInputMessage&&f.addAttribute("showInputMessage","1"),y.promptTitle&&f.addAttribute("promptTitle",y.promptTitle),y.prompt&&f.addAttribute("prompt",y.prompt),y.showErrorMessage&&f.addAttribute("showErrorMessage","1"),y.errorStyle&&f.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&f.addAttribute("errorTitle",y.errorTitle),y.error&&f.addAttribute("error",y.error),f.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((m,v)=>{f.openNode("formula"+(v+1)),y.type==="date"?f.writeText(a.dateToExcel(new Date(m))):f.writeText(m),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const p={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&h(p,f.attributes,"allowBlank"),h(p,f.attributes,"showInputMessage"),h(p,f.attributes,"showErrorMessage"),p.type){case"any":case"list":case"custom":break;default:d(p,f.attributes,"operator","between")}return d(p,f.attributes,"promptTitle"),d(p,f.attributes,"prompt"),d(p,f.attributes,"errorStyle"),d(p,f.attributes,"errorTitle"),d(p,f.attributes,"error"),this._dataValidation=p,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(p=>{p.includes(":")?new c(p).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[p]=this._dataValidation}),!0;case"formula1":case"formula2":{let p=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":p=parseInt(p,10);break;case"decimal":p=parseFloat(p);break;case"date":p=a.excelToDate(parseFloat(p))}return this._dataValidation.formulae.push(p),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"dimension"}render(a,o){o&&a.leafNode("dimension",{ref:o})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"drawing"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(r,n,s){const i=r("../composite-xform"),a=r("./cf-ext/conditional-formattings-ext-xform");class o extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(c){return this.conditionalFormattings.hasContent(c.conditionalFormattings)}prepare(c,d){this.conditionalFormattings.prepare(c.conditionalFormattings,d)}render(c,d){c.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(c,d.conditionalFormattings),c.closeNode()}createNewModel(){return{}}onParserClose(c,d){this.model[c]=d.model}}n.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(u,c){this.ext.prepare(u,c)}hasContent(u){return this.ext.hasContent(u)}render(u,c){this.hasContent(c)&&(u.openNode("extLst"),this.ext.render(u,c),u.closeNode())}createNewModel(){return{}}onParserClose(u,c){Object.assign(this.model,c.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"headerFooter"}render(a,o){if(o){a.addRollback();let u=!1;a.openNode("headerFooter"),o.differentFirst&&(a.addAttribute("differentFirst","1"),u=!0),o.differentOddEven&&(a.addAttribute("differentOddEven","1"),u=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(a.leafNode("oddHeader",null,o.oddHeader),u=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(a.leafNode("oddFooter",null,o.oddFooter),u=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(a.leafNode("evenHeader",null,o.evenHeader),u=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(a.leafNode("evenFooter",null,o.evenFooter),u=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(a.leafNode("firstHeader",null,o.firstHeader),u=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(a.leafNode("firstFooter",null,o.firstFooter),u=!0),u?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"hyperlink"}render(a,o){this.isInternalLink(o)?a.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):a.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"mergeCell"}render(a,o){a.leafNode("mergeCell",{ref:o})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../../../doc/range"),o=r("../../../utils/col-cache"),u=r("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(c){if(this.merges[c.master])this.merges[c.master].expandToAddress(c.address);else{const d=`${c.master}:${c.address}`;this.merges[c.master]=new a(d)}}get mergeCells(){return i.map(this.merges,c=>c.range)}reconcile(c,d){i.each(c,h=>{const f=o.decode(h);for(let p=f.top;p<=f.bottom;p++){const g=d[p-1];for(let y=f.left;y<=f.right;y++){const m=g.cells[y-1];m?m.type===u.ValueType.Merge&&(m.master=f.tl):g.cells[y]={type:u.ValueType.Null,address:o.encodeAddress(p,y)}}}})}getMasterAddress(c){const d=this.hash[c];return d&&d.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(r,n,s){const i=r("../base-xform"),a=o=>o!==void 0;n.exports=class extends i{get tag(){return"outlinePr"}render(o,u){return!(!u||!a(u.summaryBelow)&&!a(u.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:a(u.summaryBelow)?Number(u.summaryBelow):void 0,summaryRight:a(u.summaryRight)?Number(u.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:a(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:a(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"brk"}render(a,o){a.leafNode("brk",o)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../base-xform");n.exports=class extends a{get tag(){return"pageMargins"}render(o,u){if(u){const c={left:u.left,right:u.right,top:u.top,bottom:u.bottom,header:u.header,footer:u.footer};i.some(c,d=>d!==void 0)&&o.leafNode(this.tag,c)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"pageSetUpPr"}render(a,o){return!(!o||!o.fitToPage)&&(a.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../base-xform");function o(h){return h?"1":void 0}function u(h){switch(h){case"overThenDown":return h;default:return}}function c(h){switch(h){case"atEnd":case"asDisplyed":return h;default:return}}function d(h){switch(h){case"dash":case"blank":case"NA":return h;default:return}}n.exports=class extends a{get tag(){return"pageSetup"}render(h,f){if(f){const p={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:u(f.pageOrder),blackAndWhite:o(f.blackAndWhite),draft:o(f.draft),cellComments:c(f.cellComments),errors:d(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:o(f.firstPageNumber),usePrinterDefaults:o(f.usePrinterDefaults),copies:f.copies};i.some(p,g=>g!==void 0)&&h.leafNode(this.tag,p)}}parseOpen(h){switch(h.name){case this.tag:return this.model={paperSize:(f=h.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:h.attributes.orientation||"portrait",horizontalDpi:parseInt(h.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(h.attributes.verticalDpi||"4294967295",10),pageOrder:h.attributes.pageOrder||"downThenOver",blackAndWhite:h.attributes.blackAndWhite==="1",draft:h.attributes.draft==="1",cellComments:h.attributes.cellComments||"None",errors:h.attributes.errors||"displayed",scale:parseInt(h.attributes.scale||"100",10),fitToWidth:parseInt(h.attributes.fitToWidth||"1",10),fitToHeight:parseInt(h.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(h.attributes.firstPageNumber||"1",10),useFirstPageNumber:h.attributes.useFirstPageNumber==="1",usePrinterDefaults:h.attributes.usePrinterDefaults==="1",copies:parseInt(h.attributes.copies||"1",10)},!0;default:return!1}var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"picture"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../base-xform");function o(u){return u?"1":void 0}n.exports=class extends a{get tag(){return"printOptions"}render(u,c){if(c){const d={headings:o(c.showRowColHeaders),gridLines:o(c.showGridLines),horizontalCentered:o(c.horizontalCentered),verticalCentered:o(c.verticalCentered)};i.some(d,h=>h!==void 0)&&u.leafNode(this.tag,d)}}parseOpen(u){switch(u.name){case this.tag:return this.model={showRowColHeaders:u.attributes.headings==="1",showGridLines:u.attributes.gridLines==="1",horizontalCentered:u.attributes.horizontalCentered==="1",verticalCentered:u.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(r,n,s){const i=r("./page-breaks-xform"),a=r("../list-xform");n.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(o,u){if(u&&u.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,u.length),o.addAttribute("manualBreakCount",u.length));const{childXform:c}=this;u.forEach(d=>{c.render(o,d)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(r,n,s){const i=r("../base-xform"),a=r("../../../utils/utils"),o=r("./cell-xform");n.exports=class extends i{constructor(u){super(),this.maxItems=u&&u.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(u,c){const d=c.styles.addStyleModel(u.style);d&&(u.styleId=d);const h=this.map.c;u.cells.forEach(f=>{h.prepare(f,c)})}render(u,c,d){u.openNode("row"),u.addAttribute("r",c.number),c.height&&(u.addAttribute("ht",c.height),u.addAttribute("customHeight","1")),c.hidden&&u.addAttribute("hidden","1"),c.min>0&&c.max>0&&c.min<=c.max&&u.addAttribute("spans",`${c.min}:${c.max}`),c.styleId&&(u.addAttribute("s",c.styleId),u.addAttribute("customFormat","1")),u.addAttribute("x14ac:dyDescent","0.25"),c.outlineLevel&&u.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&u.addAttribute("collapsed","1");const h=this.map.c;c.cells.forEach(f=>{h.render(u,f,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;if(u.name==="row"){this.numRowsSeen+=1;const c=u.attributes.spans?u.attributes.spans.split(":").map(h=>parseInt(h,10)):[void 0,void 0],d=this.model={number:parseInt(u.attributes.r,10),min:c[0],max:c[1],cells:[]};return u.attributes.s&&(d.styleId=parseInt(u.attributes.s,10)),a.parseBoolean(u.attributes.hidden)&&(d.hidden=!0),a.parseBoolean(u.attributes.bestFit)&&(d.bestFit=!0),u.attributes.ht&&(d.height=parseFloat(u.attributes.ht)),u.attributes.outlineLevel&&(d.outlineLevel=parseInt(u.attributes.outlineLevel,10)),a.parseBoolean(u.attributes.collapsed)&&(d.collapsed=!0),!0}return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(u,c){u.style=u.styleId?c.styles.getStyleModel(u.styleId):{},u.styleId!==void 0&&(u.styleId=void 0);const d=this.map.c;u.cells.forEach(h=>{d.reconcile(h,c)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../base-xform");n.exports=class extends a{get tag(){return"sheetFormatPr"}render(o,u){if(u){const c={defaultRowHeight:u.defaultRowHeight,outlineLevelRow:u.outlineLevelRow,outlineLevelCol:u.outlineLevelCol,"x14ac:dyDescent":u.dyDescent};u.defaultColWidth&&(c.defaultColWidth=u.defaultColWidth),u.defaultRowHeight&&u.defaultRowHeight===15||(c.customHeight="1"),i.some(c,d=>d!==void 0)&&o.leafNode("sheetFormatPr",c)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(r,n,s){const i=r("../base-xform"),a=r("../style/color-xform"),o=r("./page-setup-properties-xform"),u=r("./outline-properties-xform");n.exports=class extends i{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new o,outlinePr:new u}}get tag(){return"sheetPr"}render(c,d){if(d){c.addRollback(),c.openNode("sheetPr");let h=!1;h=this.map.tabColor.render(c,d.tabColor)||h,h=this.map.pageSetUpPr.render(c,d.pageSetup)||h,h=this.map.outlinePr.render(c,d.outlineProperties)||h,h?(c.closeNode(),c.commit()):c.rollback()}}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):c.name===this.tag?(this.reset(),!0):!!this.map[c.name]&&(this.parser=this.map[c.name],this.parser.parseOpen(c),!0)}parseText(c){return!!this.parser&&(this.parser.parseText(c),!0)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../base-xform");function o(c,d){return c?d:void 0}function u(c,d){return c===d||void 0}n.exports=class extends a{get tag(){return"sheetProtection"}render(c,d){if(d){const h={sheet:o(d.sheet,"1"),selectLockedCells:d.selectLockedCells===!1?"1":void 0,selectUnlockedCells:d.selectUnlockedCells===!1?"1":void 0,formatCells:o(d.formatCells,"0"),formatColumns:o(d.formatColumns,"0"),formatRows:o(d.formatRows,"0"),insertColumns:o(d.insertColumns,"0"),insertRows:o(d.insertRows,"0"),insertHyperlinks:o(d.insertHyperlinks,"0"),deleteColumns:o(d.deleteColumns,"0"),deleteRows:o(d.deleteRows,"0"),sort:o(d.sort,"0"),autoFilter:o(d.autoFilter,"0"),pivotTables:o(d.pivotTables,"0")};d.sheet&&(h.algorithmName=d.algorithmName,h.hashValue=d.hashValue,h.saltValue=d.saltValue,h.spinCount=d.spinCount,h.objects=o(d.objects===!1,"1"),h.scenarios=o(d.scenarios===!1,"1")),i.some(h,f=>f!==void 0)&&c.leafNode(this.tag,h)}}parseOpen(c){switch(c.name){case this.tag:return this.model={sheet:u(c.attributes.sheet,"1"),objects:c.attributes.objects!=="1"&&void 0,scenarios:c.attributes.scenarios!=="1"&&void 0,selectLockedCells:c.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:c.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:u(c.attributes.formatCells,"0"),formatColumns:u(c.attributes.formatColumns,"0"),formatRows:u(c.attributes.formatRows,"0"),insertColumns:u(c.attributes.insertColumns,"0"),insertRows:u(c.attributes.insertRows,"0"),insertHyperlinks:u(c.attributes.insertHyperlinks,"0"),deleteColumns:u(c.attributes.deleteColumns,"0"),deleteRows:u(c.attributes.deleteRows,"0"),sort:u(c.attributes.sort,"0"),autoFilter:u(c.attributes.autoFilter,"0"),pivotTables:u(c.attributes.pivotTables,"0")},c.attributes.algorithmName&&(this.model.algorithmName=c.attributes.algorithmName,this.model.hashValue=c.attributes.hashValue,this.model.saltValue=c.attributes.saltValue,this.model.spinCount=parseInt(c.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(r,n,s){const i=r("../../../utils/col-cache"),a=r("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends a{get tag(){return"sheetView"}prepare(u){switch(u.state){case"frozen":case"split":break;default:u.state="normal"}}render(u,c){u.openNode("sheetView",{workbookViewId:c.workbookViewId||0});const d=function(y,m,v){v&&u.addAttribute(y,m)};let h,f,p,g;switch(d("rightToLeft","1",c.rightToLeft===!0),d("tabSelected","1",c.tabSelected),d("showRuler","0",c.showRuler===!1),d("showRowColHeaders","0",c.showRowColHeaders===!1),d("showGridLines","0",c.showGridLines===!1),d("zoomScale",c.zoomScale,c.zoomScale),d("zoomScaleNormal",c.zoomScaleNormal,c.zoomScaleNormal),d("view",c.style,c.style),c.state){case"frozen":f=c.xSplit||0,p=c.ySplit||0,h=c.topLeftCell||i.getAddress(p+1,f+1).address,g=(c.xSplit&&c.ySplit?"bottomRight":c.xSplit&&"topRight")||"bottomLeft",u.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:h,activePane:g,state:"frozen"}),u.leafNode("selection",{pane:g,activeCell:c.activeCell,sqref:c.activeCell});break;case"split":c.activePane==="topLeft"&&(c.activePane=void 0),u.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:c.topLeftCell,activePane:c.activePane}),u.leafNode("selection",{pane:c.activePane,activeCell:c.activeCell,sqref:c.activeCell});break;case"normal":c.activeCell&&u.leafNode("selection",{activeCell:c.activeCell,sqref:c.activeCell})}u.closeNode()}parseOpen(u){switch(u.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(u.attributes.workbookViewId,10),rightToLeft:u.attributes.rightToLeft==="1",tabSelected:u.attributes.tabSelected==="1",showRuler:u.attributes.showRuler!=="0",showRowColHeaders:u.attributes.showRowColHeaders!=="0",showGridLines:u.attributes.showGridLines!=="0",zoomScale:parseInt(u.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(u.attributes.zoomScaleNormal||"100",10),style:u.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(u.attributes.xSplit||"0",10),ySplit:parseInt(u.attributes.ySplit||"0",10),topLeftCell:u.attributes.topLeftCell,activePane:u.attributes.activePane||"topLeft",state:u.attributes.state},!0;case"selection":{const c=u.attributes.pane||"topLeft";return this.selections[c]={pane:c,activeCell:u.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(u){let c,d;switch(u){case"sheetView":return this.sheetView&&this.pane?(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(c.activePane=this.pane.activePane),d=this.selections[this.pane.activePane],d&&d.activeCell&&(c.activeCell=d.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)):(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},d=this.selections.topLeft,d&&d.activeCell&&(c.activeCell=d.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"tablePart"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../../../utils/col-cache"),o=r("../../../utils/xml-stream"),u=r("../../rel-type"),c=r("./merges"),d=r("../base-xform"),h=r("../list-xform"),f=r("./row-xform"),p=r("./col-xform"),g=r("./dimension-xform"),y=r("./hyperlink-xform"),m=r("./merge-cell-xform"),v=r("./data-validations-xform"),b=r("./sheet-properties-xform"),x=r("./sheet-format-properties-xform"),j=r("./sheet-view-xform"),C=r("./sheet-protection-xform"),R=r("./page-margins-xform"),L=r("./page-setup-xform"),A=r("./print-options-xform"),P=r("./auto-filter-xform"),$=r("./picture-xform"),V=r("./drawing-xform"),U=r("./table-part-xform"),E=r("./row-breaks-xform"),I=r("./header-footer-xform"),N=r("./cf/conditional-formattings-xform"),w=r("./ext-lst-xform"),_=(S,D)=>{if(!D||!D.length)return S;if(!S||!S.length)return D;const O={},B={};return S.forEach(q=>{O[q.ref]=q,q.rules.forEach(H=>{const{x14Id:Q}=H;Q&&(B[Q]=H)})}),D.forEach(q=>{q.rules.forEach(H=>{const Q=B[H.x14Id];Q?((M,K)=>{Object.keys(K).forEach(z=>{const F=M[z],W=K[z];F===void 0&&W!==void 0&&(M[z]=W)})})(Q,H):O[q.ref]?O[q.ref].rules.push(H):S.push({ref:q.ref,rules:[H]})})}),S};class k extends d{constructor(D){super();const{maxRows:O,maxCols:B,ignoreNodes:q}=D||{};this.ignoreNodes=q||[],this.map={sheetPr:new b,dimension:new g,sheetViews:new h({tag:"sheetViews",count:!1,childXform:new j}),sheetFormatPr:new x,cols:new h({tag:"cols",count:!1,childXform:new p}),sheetData:new h({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:B}),maxItems:O}),autoFilter:new P,mergeCells:new h({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new E,hyperlinks:new h({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new R,dataValidations:new v,pageSetup:new L,headerFooter:new I,printOptions:new A,picture:new $,drawing:new V,sheetProtection:new C,tableParts:new h({tag:"tableParts",count:!0,childXform:new U}),conditionalFormatting:new N,extLst:new w}}prepare(D,O){O.merges=new c,D.hyperlinks=O.hyperlinks=[],D.comments=O.comments=[],O.formulae={},O.siFormulae=0,this.map.cols.prepare(D.cols,O),this.map.sheetData.prepare(D.rows,O),this.map.conditionalFormatting.prepare(D.conditionalFormattings,O),D.mergeCells=O.merges.mergeCells;const B=D.rels=[];function q(M){return"rId"+(M.length+1)}if(D.hyperlinks.forEach(M=>{const K=q(B);M.rId=K,B.push({Id:K,Type:u.Hyperlink,Target:M.target,TargetMode:"External"})}),D.comments.length>0){const M={Id:q(B),Type:u.Comments,Target:`../comments${D.id}.xml`};B.push(M);const K={Id:q(B),Type:u.VmlDrawing,Target:`../drawings/vmlDrawing${D.id}.vml`};B.push(K),D.comments.forEach(z=>{z.refAddress=a.decodeAddress(z.ref)}),O.commentRefs.push({commentName:"comments"+D.id,vmlDrawing:"vmlDrawing"+D.id})}const H=[];let Q;D.media.forEach(M=>{if(M.type==="background"){const K=q(B);Q=O.media[M.imageId],B.push({Id:K,Type:u.Image,Target:`../media/${Q.name}.${Q.extension}`}),D.background={rId:K},D.image=O.media[M.imageId]}else if(M.type==="image"){let{drawing:K}=D;Q=O.media[M.imageId],K||(K=D.drawing={rId:q(B),name:"drawing"+ ++O.drawingsCount,anchors:[],rels:[]},O.drawings.push(K),B.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let z=this.preImageId===M.imageId?H[M.imageId]:H[K.rels.length];z||(z=q(K.rels),H[K.rels.length]=z,K.rels.push({Id:z,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Q.name}.${Q.extension}`}));const F={picture:{rId:z},range:M.range};if(M.hyperlinks&&M.hyperlinks.hyperlink){const W=q(K.rels);H[K.rels.length]=W,F.picture.hyperlinks={tooltip:M.hyperlinks.tooltip,rId:W},K.rels.push({Id:W,Type:u.Hyperlink,Target:M.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=M.imageId,K.anchors.push(F)}}),D.tables.forEach(M=>{const K=q(B);M.rId=K,B.push({Id:K,Type:u.Table,Target:"../tables/"+M.target}),M.columns.forEach(z=>{const{style:F}=z;F&&(z.dxfId=O.styles.addDxfStyle(F))})}),this.map.extLst.prepare(D,O)}render(D,O){D.openXml(o.StdDocAttributes),D.openNode("worksheet",k.WORKSHEET_ATTRIBUTES);const B=O.properties?{defaultRowHeight:O.properties.defaultRowHeight,dyDescent:O.properties.dyDescent,outlineLevelCol:O.properties.outlineLevelCol,outlineLevelRow:O.properties.outlineLevelRow}:void 0;O.properties&&O.properties.defaultColWidth&&(B.defaultColWidth=O.properties.defaultColWidth);const q={outlineProperties:O.properties&&O.properties.outlineProperties,tabColor:O.properties&&O.properties.tabColor,pageSetup:O.pageSetup&&O.pageSetup.fitToPage?{fitToPage:O.pageSetup.fitToPage}:void 0},H=O.pageSetup&&O.pageSetup.margins,Q={showRowColHeaders:O.pageSetup&&O.pageSetup.showRowColHeaders,showGridLines:O.pageSetup&&O.pageSetup.showGridLines,horizontalCentered:O.pageSetup&&O.pageSetup.horizontalCentered,verticalCentered:O.pageSetup&&O.pageSetup.verticalCentered},M=O.sheetProtection;this.map.sheetPr.render(D,q),this.map.dimension.render(D,O.dimensions),this.map.sheetViews.render(D,O.views),this.map.sheetFormatPr.render(D,B),this.map.cols.render(D,O.cols),this.map.sheetData.render(D,O.rows),this.map.sheetProtection.render(D,M),this.map.autoFilter.render(D,O.autoFilter),this.map.mergeCells.render(D,O.mergeCells),this.map.conditionalFormatting.render(D,O.conditionalFormattings),this.map.dataValidations.render(D,O.dataValidations),this.map.hyperlinks.render(D,O.hyperlinks),this.map.printOptions.render(D,Q),this.map.pageMargins.render(D,H),this.map.pageSetup.render(D,O.pageSetup),this.map.headerFooter.render(D,O.headerFooter),this.map.rowBreaks.render(D,O.rowBreaks),this.map.drawing.render(D,O.drawing),this.map.picture.render(D,O.background),this.map.tableParts.render(D,O.tables),this.map.extLst.render(D,O),O.rels&&O.rels.forEach(K=>{K.Type===u.VmlDrawing&&D.leafNode("legacyDrawing",{"r:id":K.Id})}),D.closeNode()}parseOpen(D){return this.parser?(this.parser.parseOpen(D),!0):D.name==="worksheet"?(i.each(this.map,O=>{O.reset()}),!0):(this.map[D.name]&&!this.ignoreNodes.includes(D.name)&&(this.parser=this.map[D.name],this.parser.parseOpen(D)),!0)}parseText(D){this.parser&&this.parser.parseText(D)}parseClose(D){if(this.parser)return this.parser.parseClose(D)||(this.parser=void 0),!0;switch(D){case"worksheet":{const O=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(O.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(O.outlineProperties=this.map.sheetPr.model.outlineProperties);const B={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},q=Object.assign(B,this.map.pageSetup.model,this.map.printOptions.model),H=_(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:O,views:this.map.sheetViews.model,pageSetup:q,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:H},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(D,O){const B=(D.relationships||[]).reduce((H,Q)=>{if(H[Q.Id]=Q,Q.Type===u.Comments&&(D.comments=O.comments[Q.Target].comments),Q.Type===u.VmlDrawing&&D.comments&&D.comments.length){const M=O.vmlDrawings[Q.Target].comments;D.comments.forEach((K,z)=>{K.note=Object.assign({},K.note,M[z])})}return H},{});if(O.commentsMap=(D.comments||[]).reduce((H,Q)=>(Q.ref&&(H[Q.ref]=Q),H),{}),O.hyperlinkMap=(D.hyperlinks||[]).reduce((H,Q)=>(Q.rId&&(H[Q.address]=B[Q.rId].Target),H),{}),O.formulae={},D.rows=D.rows&&D.rows.filter(Boolean)||[],D.rows.forEach(H=>{H.cells=H.cells&&H.cells.filter(Boolean)||[]}),this.map.cols.reconcile(D.cols,O),this.map.sheetData.reconcile(D.rows,O),this.map.conditionalFormatting.reconcile(D.conditionalFormattings,O),D.media=[],D.drawing){const H=B[D.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(H){const Q=H[1];O.drawings[Q].anchors.forEach(M=>{if(M.medium){const K={type:"image",imageId:M.medium.index,range:M.range,hyperlinks:M.picture.hyperlinks};D.media.push(K)}})}}const q=D.background&&B[D.background.rId];if(q){const H=q.Target.split("/media/")[1],Q=O.mediaIndex&&O.mediaIndex[H];Q!==void 0&&D.media.push({type:"background",imageId:Q})}D.tables=(D.tables||[]).map(H=>{const Q=B[H.rId];return O.tables[Q.Target]}),delete D.relationships,delete D.hyperlinks,delete D.comments}}k.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=k},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,o){o&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=a.parse||function(o){return new Date(o)}}render(a,o){o&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(o)):a.writeText(this._format(o)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,o){(o||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,o):a.writeText(o),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,o){o!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,o):a.writeText(o),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(r,n,s){const i=r("./base-xform"),a=r("../../utils/xml-stream");n.exports=class extends i{constructor(o){super(),this._model=o}render(o){if(!this._xml){const u=new a;(function c(d,h){d.openNode(h.tag,h.$),h.c&&h.c.forEach(f=>{c(d,f)}),h.t&&d.writeText(h.t),d.closeNode()})(u,this._model),this._xml=u.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(r,n,s){const i=r("./text-xform"),a=r("./rich-text-xform"),o=r("../base-xform");n.exports=class extends o{constructor(){super(),this.map={r:new a,t:new i}}get tag(){return"rPh"}render(u,c){if(u.openNode(this.tag,{sb:c.sb||0,eb:c.eb||0}),c&&c.hasOwnProperty("richText")&&c.richText){const{r:d}=this.map;c.richText.forEach(h=>{d.render(u,h)})}else c&&this.map.t.render(u,c.text);u.closeNode()}parseOpen(u){const{name:c}=u;return this.parser?(this.parser.parseOpen(u),!0):c===this.tag?(this.model={sb:parseInt(u.attributes.sb,10),eb:parseInt(u.attributes.eb,10)},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(r,n,s){const i=r("./text-xform"),a=r("../style/font-xform"),o=r("../base-xform");class u extends o{constructor(d){super(),this.model=d}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new a(u.FONT_OPTIONS))}render(d,h){h=h||this.model,d.openNode("r"),h.font&&this.fontXform.render(d,h.font),this.textXform.render(d,h.text),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(d),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){switch(d){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}}u.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=u},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(r,n,s){const i=r("./text-xform"),a=r("./rich-text-xform"),o=r("./phonetic-text-xform"),u=r("../base-xform");n.exports=class extends u{constructor(c){super(),this.model=c,this.map={r:new a,t:new i,rPh:new o}}get tag(){return"si"}render(c,d){c.openNode(this.tag),d&&d.hasOwnProperty("richText")&&d.richText?d.richText.length?d.richText.forEach(h=>{this.map.r.render(c,h)}):this.map.t.render(c,""):d!=null&&this.map.t.render(c,d),c.closeNode()}parseOpen(c){const{name:d}=c;return this.parser?(this.parser.parseOpen(c),!0):d===this.tag?(this.model={},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform"),o=r("./shared-string-xform");n.exports=class extends a{constructor(u){super(),this.model=u||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(u){return this.model.values[u]}add(u){return u.richText?this.addRichText(u):this.addText(u)}addText(u){let c=this.hash[u];return c===void 0&&(c=this.hash[u]=this.model.values.length,this.model.values.push(u)),this.model.count++,c}addRichText(u){const c=this.sharedStringXform.toXml(u);let d=this.rich[c];return d===void 0&&(d=this.rich[c]=this.model.values.length,this.model.values.push(u)),this.model.count++,d}render(u,c){c=c||this._values,u.openXml(i.StdDocAttributes),u.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:c.count,uniqueCount:c.values.length});const d=this.sharedStringXform;c.values.forEach(h=>{d.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(u),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(u){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"t"}render(a,o){a.openNode("t"),/^\s|\n|\s$/.test(o)&&a.addAttribute("xml:space","preserve"),a.writeText(o),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(r,n,s){const i=r("../../../doc/enums"),a=r("../../../utils/utils"),o=r("../base-xform"),u={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((d,h)=>(d[h]=!0,d),{}),horizontal(d){return this.horizontalValues[d]?d:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((d,h)=>(d[h]=!0,d),{}),vertical(d){return d==="middle"?"center":this.verticalValues[d]?d:void 0},wrapText:d=>!!d||void 0,shrinkToFit:d=>!!d||void 0,textRotation(d){switch(d){case"vertical":return d;default:return(d=a.validInt(d))>=-90&&d<=90?d:void 0}},indent:d=>(d=a.validInt(d),Math.max(0,d)),readingOrder(d){switch(d){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},c={toXml(d){if(d=u.textRotation(d)){if(d==="vertical")return 255;const h=Math.round(d);if(h>=0&&h<=90)return h;if(h<0&&h>=-90)return 90-h}},toModel(d){const h=a.validInt(d);if(h!==void 0){if(h===255)return"vertical";if(h>=0&&h<=90)return h;if(h>90&&h<=180)return 90-h}}};n.exports=class extends o{get tag(){return"alignment"}render(d,h){d.addRollback(),d.openNode("alignment");let f=!1;function p(g,y){y&&(d.addAttribute(g,y),f=!0)}p("horizontal",u.horizontal(h.horizontal)),p("vertical",u.vertical(h.vertical)),p("wrapText",!!u.wrapText(h.wrapText)&&"1"),p("shrinkToFit",!!u.shrinkToFit(h.shrinkToFit)&&"1"),p("indent",u.indent(h.indent)),p("textRotation",c.toXml(h.textRotation)),p("readingOrder",u.readingOrder(h.readingOrder)),d.closeNode(),f?d.commit():d.rollback()}parseOpen(d){const h={};let f=!1;function p(g,y,m){g&&(h[y]=m,f=!0)}p(d.attributes.horizontal,"horizontal",d.attributes.horizontal),p(d.attributes.vertical,"vertical",d.attributes.vertical==="center"?"middle":d.attributes.vertical),p(d.attributes.wrapText,"wrapText",a.parseBoolean(d.attributes.wrapText)),p(d.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(d.attributes.shrinkToFit)),p(d.attributes.indent,"indent",parseInt(d.attributes.indent,10)),p(d.attributes.textRotation,"textRotation",c.toModel(d.attributes.textRotation)),p(d.attributes.readingOrder,"readingOrder",d.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?h:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(r,n,s){const i=r("../base-xform"),a=r("../../../utils/utils"),o=r("./color-xform");class u extends i{constructor(d){super(),this.name=d,this.map={color:new o}}get tag(){return this.name}render(d,h,f){const p=h&&h.color||f||this.defaultColor;d.openNode(this.name),h&&h.style&&(d.addAttribute("style",h.style),p&&this.map.color.render(d,p)),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.name:{const{style:h}=d.attributes;return this.model=h?{style:h}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(d===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(d){return u.validStyleValues[d]}}u.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((c,d)=>(c[d]=!0,c),{}),n.exports=class extends i{constructor(){super(),this.map={top:new u("top"),left:new u("left"),bottom:new u("bottom"),right:new u("right"),diagonal:new u("diagonal")}}render(c,d){const{color:h}=d;function f(p,g){p&&!p.color&&d.color&&(p={...p,color:d.color}),g.render(c,p,h)}c.openNode("border"),d.diagonal&&d.diagonal.style&&(d.diagonal.up&&c.addAttribute("diagonalUp","1"),d.diagonal.down&&c.addAttribute("diagonalDown","1")),f(d.left,this.map.left),f(d.right,this.map.right),f(d.top,this.map.top),f(d.bottom,this.map.bottom),f(d.diagonal,this.map.diagonal),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(c.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(c.attributes.diagonalDown),!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;if(c==="border"){const d=this.model={},h=function(f,p,g){p&&(g&&Object.assign(p,g),d[f]=p)};h("left",this.map.left.model),h("right",this.map.right.model),h("top",this.map.top.model),h("bottom",this.map.bottom.model),h("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,o){return!!o&&(a.openNode(this.name),o.argb?a.addAttribute("rgb",o.argb):o.theme!==void 0?(a.addAttribute("theme",o.theme),o.tint!==void 0&&a.addAttribute("tint",o.tint)):o.indexed!==void 0?a.addAttribute("indexed",o.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(r,n,s){const i=r("../base-xform"),a=r("./alignment-xform"),o=r("./border-xform"),u=r("./fill-xform"),c=r("./font-xform"),d=r("./numfmt-xform"),h=r("./protection-xform");n.exports=class extends i{constructor(){super(),this.map={alignment:new a,border:new o,fill:new u,font:new c,numFmt:new d,protection:new h}}get tag(){return"dxf"}render(f,p){if(f.openNode(this.tag),p.font&&this.map.font.render(f,p.font),p.numFmt&&p.numFmtId){const g={id:p.numFmtId,formatCode:p.numFmt};this.map.numFmt.render(f,g)}p.fill&&this.map.fill.render(f,p.fill),p.alignment&&this.map.alignment.render(f,p.alignment),p.border&&this.map.border.render(f,p.border),p.protection&&this.map.protection.render(f,p.protection),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(r,n,s){const i=r("../base-xform"),a=r("./color-xform");class o extends i{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(f,p){f.openNode("stop"),f.addAttribute("position",p.position),this.map.color.render(f,p.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class u extends i{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,p){f.openNode("patternFill"),f.addAttribute("patternType",p.pattern),p.fgColor&&this.map.fgColor.render(f,p.fgColor),p.bgColor&&this.map.bgColor.render(f,p.bgColor),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"patternFill":return this.model={type:"pattern",pattern:f.attributes.patternType},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,p){switch(f.openNode("gradientFill"),p.gradient){case"angle":f.addAttribute("degree",p.degree);break;case"path":f.addAttribute("type","path"),p.center.left&&(f.addAttribute("left",p.center.left),p.center.right===void 0&&f.addAttribute("right",p.center.left)),p.center.right&&f.addAttribute("right",p.center.right),p.center.top&&(f.addAttribute("top",p.center.top),p.center.bottom===void 0&&f.addAttribute("bottom",p.center.top)),p.center.bottom&&f.addAttribute("bottom",p.center.bottom)}const g=this.map.stop;p.stops.forEach(y=>{g.render(f,y)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const p=this.model={stops:[]};return f.attributes.degree?(p.gradient="angle",p.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(p.gradient="path",p.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(p.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(p.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class d extends i{constructor(){super(),this.map={patternFill:new u,gradientFill:new c}}get tag(){return"fill"}render(f,p){switch(f.addRollback(),f.openNode("fill"),p.type){case"pattern":this.map.patternFill.render(f,p);break;case"gradient":this.map.gradientFill.render(f,p);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"fill":return this.model={},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return d.validPatternValues[f]}}d.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((h,f)=>(h[f]=!0,h),{}),d.StopXform=o,d.PatternFillXform=u,d.GradientFillXform=c,n.exports=d},{"../base-xform":32,"./color-xform":128}],131:[function(r,n,s){const i=r("./color-xform"),a=r("../simple/boolean-xform"),o=r("../simple/integer-xform"),u=r("../simple/string-xform"),c=r("./underline-xform"),d=r("../../../utils/under-dash"),h=r("../base-xform");class f extends h{constructor(g){super(),this.options=g||f.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new c},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new u({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new u({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new u({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,y){const{map:m}=this;g.openNode(this.options.tagName),d.each(this.map,(v,b)=>{m[b].xform.render(g,y[v.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const y=this.map[g];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}f.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../../defaultnumformats"),o=r("../base-xform"),u=(function(){const d={};return i.each(a,(h,f)=>{h.f&&(d[h.f]=parseInt(f,10))}),d})();class c extends o{constructor(h,f){super(),this.id=h,this.formatCode=f}get tag(){return"numFmt"}render(h,f){h.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(h){switch(h.name){case"numFmt":return this.model={id:parseInt(h.attributes.numFmtId,10),formatCode:h.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}c.getDefaultFmtId=function(d){return u[d]},c.getDefaultFmtCode=function(d){return a[d]&&a[d].f},n.exports=c},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(r,n,s){const i=r("../base-xform"),a={boolean:(o,u)=>o===void 0?u:o};n.exports=class extends i{get tag(){return"protection"}render(o,u){o.addRollback(),o.openNode("protection");let c=!1;function d(h,f){f!==void 0&&(o.addAttribute(h,f),c=!0)}d("locked",a.boolean(u.locked,!0)?void 0:"0"),d("hidden",a.boolean(u.hidden,!1)?"1":void 0),o.closeNode(),c?o.commit():o.rollback()}parseOpen(o){const u={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},c=!u.locked||u.hidden;this.model=c?u:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(r,n,s){const i=r("../base-xform"),a=r("./alignment-xform"),o=r("./protection-xform");n.exports=class extends i{constructor(u){super(),this.xfId=!(!u||!u.xfId),this.map={alignment:new a,protection:new o}}get tag(){return"xf"}render(u,c){u.openNode("xf",{numFmtId:c.numFmtId||0,fontId:c.fontId||0,fillId:c.fillId||0,borderId:c.borderId||0}),this.xfId&&u.addAttribute("xfId",c.xfId||0),c.numFmtId&&u.addAttribute("applyNumberFormat","1"),c.fontId&&u.addAttribute("applyFont","1"),c.fillId&&u.addAttribute("applyFill","1"),c.borderId&&u.addAttribute("applyBorder","1"),c.alignment&&u.addAttribute("applyAlignment","1"),c.protection&&u.addAttribute("applyProtection","1"),c.alignment&&this.map.alignment.render(u,c.alignment),c.protection&&this.map.protection.render(u,c.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"xf":return this.model={numFmtId:parseInt(u.attributes.numFmtId,10),fontId:parseInt(u.attributes.fontId,10),fillId:parseInt(u.attributes.fillId,10),borderId:parseInt(u.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(u.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(u),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):u!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(r,n,s){const i=r("../../../doc/enums"),a=r("../../../utils/xml-stream"),o=r("../base-xform"),u=r("../static-xform"),c=r("../list-xform"),d=r("./font-xform"),h=r("./fill-xform"),f=r("./border-xform"),p=r("./numfmt-xform"),g=r("./style-xform"),y=r("./dxf-xform");class m extends o{constructor(b){super(),this.map={numFmts:new c({tag:"numFmts",count:!0,childXform:new p}),fonts:new c({tag:"fonts",count:!0,childXform:new d,$:{"x14ac:knownFonts":1}}),fills:new c({tag:"fills",count:!0,childXform:new h}),borders:new c({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new c({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new c({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new c({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new p,font:new d,fill:new h,border:new f,style:new g({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},b&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(b,x){x=x||this.model,b.openXml(a.StdDocAttributes),b.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(x.numFmts&&x.numFmts.length&&(b.openNode("numFmts",{count:x.numFmts.length}),x.numFmts.forEach(j=>{b.writeXml(j)}),b.closeNode()),x.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),b.openNode("fonts",{count:x.fonts.length,"x14ac:knownFonts":1}),x.fonts.forEach(j=>{b.writeXml(j)}),b.closeNode(),b.openNode("fills",{count:x.fills.length}),x.fills.forEach(j=>{b.writeXml(j)}),b.closeNode(),b.openNode("borders",{count:x.borders.length}),x.borders.forEach(j=>{b.writeXml(j)}),b.closeNode(),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),b.openNode("cellXfs",{count:x.styles.length}),x.styles.forEach(j=>{b.writeXml(j)}),b.closeNode()):(this.map.numFmts.render(b,x.numFmts),this.map.fonts.render(b,x.fonts),this.map.fills.render(b,x.fills),this.map.borders.render(b,x.borders),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(b,x.styles)),m.STATIC_XFORMS.cellStyles.render(b),this.map.dxfs.render(b,x.dxfs),m.STATIC_XFORMS.tableStyles.render(b),m.STATIC_XFORMS.extLst.render(b),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"styleSheet":{this.model={};const x=(j,C)=>{C.model&&C.model.length&&(this.model[j]=C.model)};if(x("numFmts",this.map.numFmts),x("fonts",this.map.fonts),x("fills",this.map.fills),x("borders",this.map.borders),x("styles",this.map.cellXfs),x("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const j=this.index.numFmt;this.model.numFmts.forEach(C=>{j[C.id]=C.formatCode})}return!1}default:return!0}}addStyleModel(b,x){if(!b)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(b))return this.weakMap.get(b);const j={};if(x=x||i.ValueType.Number,b.numFmt)j.numFmtId=this._addNumFmtStr(b.numFmt);else switch(x){case i.ValueType.Number:j.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:j.numFmtId=this._addNumFmtStr("mm-dd-yy")}b.font&&(j.fontId=this._addFont(b.font)),b.border&&(j.borderId=this._addBorder(b.border)),b.fill&&(j.fillId=this._addFill(b.fill)),b.alignment&&(j.alignment=b.alignment),b.protection&&(j.protection=b.protection);const C=this._addStyle(j);return this.weakMap&&this.weakMap.set(b,C),C}getStyleModel(b){const x=this.model.styles[b];if(!x)return null;let j=this.index.model[b];if(j)return j;if(j=this.index.model[b]={},x.numFmtId){const R=this.index.numFmt[x.numFmtId]||p.getDefaultFmtCode(x.numFmtId);R&&(j.numFmt=R)}function C(R,L,A){if(A||A===0){const P=L[A];P&&(j[R]=P)}}return C("font",this.model.fonts,x.fontId),C("border",this.model.borders,x.borderId),C("fill",this.model.fills,x.fillId),x.alignment&&(j.alignment=x.alignment),x.protection&&(j.protection=x.protection),j}addDxfStyle(b){return b.numFmt&&(b.numFmtId=this._addNumFmtStr(b.numFmt)),this.model.dxfs.push(b),this.model.dxfs.length-1}getDxfStyle(b){return this.model.dxfs[b]}_addStyle(b){const x=this.map.style.toXml(b);let j=this.index.style[x];return j===void 0&&(j=this.index.style[x]=this.model.styles.length,this.model.styles.push(x)),j}_addNumFmtStr(b){let x=p.getDefaultFmtId(b);if(x!==void 0||(x=this.index.numFmt[b],x!==void 0))return x;x=this.index.numFmt[b]=164+this.model.numFmts.length;const j=this.map.numFmt.toXml({id:x,formatCode:b});return this.model.numFmts.push(j),x}_addFont(b){const x=this.map.font.toXml(b);let j=this.index.font[x];return j===void 0&&(j=this.index.font[x]=this.model.fonts.length,this.model.fonts.push(x)),j}_addBorder(b){const x=this.map.border.toXml(b);let j=this.index.border[x];return j===void 0&&(j=this.index.border[x]=this.model.borders.length,this.model.borders.push(x)),j}_addFill(b){const x=this.map.fill.toXml(b);let j=this.index.fill[x];return j===void 0&&(j=this.index.fill[x]=this.model.fills.length,this.model.fills.push(x)),j}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new u({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new u({tag:"dxfs",$:{count:0}}),tableStyles:new u({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new u({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,b){switch(b){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:p.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(r,n,s){const i=r("../base-xform");class a extends i{constructor(u){super(),this.model=u}get tag(){return"u"}render(u,c){if((c=c||this.model)===!0)u.leafNode("u");else{const d=a.Attributes[c];d&&u.leafNode("u",d)}}parseOpen(u){u.name==="u"&&(this.model=u.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=a},{"../base-xform":32}],137:[function(r,n,s){const i=r("../base-xform"),a=r("./filter-column-xform");n.exports=class extends i{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((u,c)=>{this.map.filterColumn.prepare(u,{index:c})})}render(o,u){return o.openNode(this.tag,{ref:u.autoFilterRef}),u.columns.forEach(c=>{this.map.filterColumn.render(o,c)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"customFilter"}render(a,o){a.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(r,n,s){const i=r("../base-xform"),a=r("../list-xform"),o=r("./custom-filter-xform"),u=r("./filter-xform");n.exports=class extends i{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new u})}}get tag(){return"filterColumn"}prepare(c,d){c.colId=d.index.toString()}render(c,d){return d.customFilters?(c.openNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),this.map.customFilters.render(c,d.customFilters),c.closeNode(),!0):(c.leafNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),!0)}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;const{attributes:d}=c;switch(c.name){case this.tag:return this.model={filterButton:d.hiddenButton==="0"},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"filter"}render(a,o){a.leafNode(this.tag,{val:o.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"tableColumn"}prepare(a,o){a.id=o.index+1}render(a,o){return a.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:o}=a;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"tableStyleInfo"}render(a,o){return a.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:o}=a;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform"),o=r("../list-xform"),u=r("./auto-filter-xform"),c=r("./table-column-xform"),d=r("./table-style-info-xform");class h extends a{constructor(){super(),this.map={autoFilter:new u,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new c}),tableStyleInfo:new d}}prepare(p,g){this.map.autoFilter.prepare(p),this.map.tableColumns.prepare(p.columns,g)}get tag(){return"table"}render(p,g){p.openXml(i.StdDocAttributes),p.openNode(this.tag,{...h.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(p,g),this.map.tableColumns.render(p,g.columns),this.map.tableStyleInfo.render(p,g.style),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;const{name:g,attributes:y}=p;switch(g){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p)}return!0}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,y)=>{this.model.columns[y].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(p,g){p.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=g.styles.getDxfStyle(y.dxfId))})}}h.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=h},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(r,n,s){(function(i,a){(function(){const o=r("fs"),u=r("jszip"),{PassThrough:c}=r("readable-stream"),d=r("../utils/zip-stream"),h=r("../utils/stream-buf"),f=r("../utils/utils"),p=r("../utils/xml-stream"),{bufferToString:g}=r("../utils/browser-buffer-decode"),y=r("./xform/style/styles-xform"),m=r("./xform/core/core-xform"),v=r("./xform/strings/shared-strings-xform"),b=r("./xform/core/relationships-xform"),x=r("./xform/core/content-types-xform"),j=r("./xform/core/app-xform"),C=r("./xform/book/workbook-xform"),R=r("./xform/sheet/worksheet-xform"),L=r("./xform/drawing/drawing-xform"),A=r("./xform/table/table-xform"),P=r("./xform/comment/comments-xform"),$=r("./xform/comment/vml-notes-xform"),V=r("./xml/theme1");class U{constructor(I){this.workbook=I}async readFile(I,N){if(!await f.fs.exists(I))throw new Error("File not found: "+I);const w=o.createReadStream(I);try{const _=await this.read(w,N);return w.close(),_}catch(_){throw w.close(),_}}parseRels(I){return new b().parseStream(I)}parseWorkbook(I){return new C().parseStream(I)}parseSharedStrings(I){return new v().parseStream(I)}reconcile(I,N){const w=new C,_=new R(N),k=new L,S=new A;w.reconcile(I);const D={media:I.media,mediaIndex:I.mediaIndex};Object.keys(I.drawings).forEach(q=>{const H=I.drawings[q],Q=I.drawingRels[q];Q&&(D.rels=Q.reduce((M,K)=>(M[K.Id]=K,M),{}),(H.anchors||[]).forEach(M=>{const K=M.picture&&M.picture.hyperlinks;K&&D.rels[K.rId]&&(K.hyperlink=D.rels[K.rId].Target,delete K.rId)}),k.reconcile(H,D))});const O={styles:I.styles};Object.values(I.tables).forEach(q=>{S.reconcile(q,O)});const B={styles:I.styles,sharedStrings:I.sharedStrings,media:I.media,mediaIndex:I.mediaIndex,date1904:I.properties&&I.properties.date1904,drawings:I.drawings,comments:I.comments,tables:I.tables,vmlDrawings:I.vmlDrawings};I.worksheets.forEach(q=>{q.relationships=I.worksheetRels[q.sheetNo],_.reconcile(q,B)}),delete I.worksheetHash,delete I.worksheetRels,delete I.globalRels,delete I.sharedStrings,delete I.workbookRels,delete I.sheetDefs,delete I.styles,delete I.mediaIndex,delete I.drawings,delete I.drawingRels,delete I.vmlDrawings}async _processWorksheetEntry(I,N,w,_,k){const S=new R(_),D=await S.parseStream(I);D.sheetNo=w,N.worksheetHash[k]=D,N.worksheets.push(D)}async _processCommentEntry(I,N,w){const _=new P,k=await _.parseStream(I);N.comments[`../${w}.xml`]=k}async _processTableEntry(I,N,w){const _=new A,k=await _.parseStream(I);N.tables[`../tables/${w}.xml`]=k}async _processWorksheetRelsEntry(I,N,w){const _=new b,k=await _.parseStream(I);N.worksheetRels[w]=k}async _processMediaEntry(I,N,w){const _=w.lastIndexOf(".");if(_>=1){const k=w.substr(_+1),S=w.substr(0,_);await new Promise((D,O)=>{const B=new h;B.on("finish",()=>{N.mediaIndex[w]=N.media.length,N.mediaIndex[S]=N.media.length;const q={type:"image",name:S,extension:k,buffer:B.toBuffer()};N.media.push(q),D()}),I.on("error",q=>{O(q)}),I.pipe(B)})}}async _processDrawingEntry(I,N,w){const _=new L,k=await _.parseStream(I);N.drawings[w]=k}async _processDrawingRelsEntry(I,N,w){const _=new b,k=await _.parseStream(I);N.drawingRels[w]=k}async _processVmlDrawingEntry(I,N,w){const _=new $,k=await _.parseStream(I);N.vmlDrawings[`../drawings/${w}.vml`]=k}async _processThemeEntry(I,N,w){await new Promise((_,k)=>{const S=new h;I.on("error",k),S.on("error",k),S.on("finish",()=>{N.themes[w]=S.read().toString(),_()}),I.pipe(S)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(I,N){!I[Symbol.asyncIterator]&&I.pipe&&(I=I.pipe(new c));const w=[];for await(const _ of I)w.push(_);return this.load(a.concat(w),N)}async load(I,N){let w;w=N&&N.base64?a.from(I.toString(),"base64"):I;const _={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},k=await u.loadAsync(w);for(const S of Object.values(k.files))if(!S.dir){let D,O=S.name;if(O[0]==="/"&&(O=O.substr(1)),O.match(/xl\/media\//)||O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))D=new c,D.write(await S.async("nodebuffer"));else{let B;D=new c({writableObjectMode:!0,readableObjectMode:!0}),B=i.browser?g(await S.async("nodebuffer")):await S.async("string");const q=16384;for(let H=0;H<B.length;H+=q)D.write(B.substring(H,H+q))}switch(D.end(),O){case"_rels/.rels":_.globalRels=await this.parseRels(D);break;case"xl/workbook.xml":{const B=await this.parseWorkbook(D);_.sheets=B.sheets,_.definedNames=B.definedNames,_.views=B.views,_.properties=B.properties,_.calcProperties=B.calcProperties;break}case"xl/_rels/workbook.xml.rels":_.workbookRels=await this.parseRels(D);break;case"xl/sharedStrings.xml":_.sharedStrings=new v,await _.sharedStrings.parseStream(D);break;case"xl/styles.xml":_.styles=new y,await _.styles.parseStream(D);break;case"docProps/app.xml":{const B=new j,q=await B.parseStream(D);_.company=q.company,_.manager=q.manager;break}case"docProps/core.xml":{const B=new m,q=await B.parseStream(D);Object.assign(_,q);break}default:{let B=O.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(B){await this._processWorksheetEntry(D,_,B[1],N,O);break}if(B=O.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),B){await this._processWorksheetRelsEntry(D,_,B[1]);break}if(B=O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),B){await this._processThemeEntry(D,_,B[1]);break}if(B=O.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),B){await this._processMediaEntry(D,_,B[1]);break}if(B=O.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),B){await this._processDrawingEntry(D,_,B[1]);break}if(B=O.match(/xl\/(comments\d+)[.]xml/),B){await this._processCommentEntry(D,_,B[1]);break}if(B=O.match(/xl\/tables\/(table\d+)[.]xml/),B){await this._processTableEntry(D,_,B[1]);break}if(B=O.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),B){await this._processDrawingRelsEntry(D,_,B[1]);break}if(B=O.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),B){await this._processVmlDrawingEntry(D,_,B[1]);break}}}}return this.reconcile(_,N),this.workbook.model=_,this.workbook}async addMedia(I,N){await Promise.all(N.media.map(async w=>{if(w.type==="image"){const _=`xl/media/${w.name}.${w.extension}`;if(w.filename){const k=await(function(S,D){return new Promise((O,B)=>{o.readFile(S,D,(q,H)=>{q?B(q):O(H)})})})(w.filename);return I.append(k,{name:_})}if(w.buffer)return I.append(w.buffer,{name:_});if(w.base64){const k=w.base64,S=k.substring(k.indexOf(",")+1);return I.append(S,{name:_,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(I,N){const w=new L,_=new b;N.worksheets.forEach(k=>{const{drawing:S}=k;if(S){w.prepare(S,{});let D=w.toXml(S);I.append(D,{name:`xl/drawings/${S.name}.xml`}),D=_.toXml(S.rels),I.append(D,{name:`xl/drawings/_rels/${S.name}.xml.rels`})}})}addTables(I,N){const w=new A;N.worksheets.forEach(_=>{const{tables:k}=_;k.forEach(S=>{w.prepare(S,{});const D=w.toXml(S);I.append(D,{name:"xl/tables/"+S.target})})})}async addContentTypes(I,N){const w=new x().toXml(N);I.append(w,{name:"[Content_Types].xml"})}async addApp(I,N){const w=new j().toXml(N);I.append(w,{name:"docProps/app.xml"})}async addCore(I,N){const w=new m;I.append(w.toXml(N),{name:"docProps/core.xml"})}async addThemes(I,N){const w=N.themes||{theme1:V};Object.keys(w).forEach(_=>{const k=w[_],S=`xl/theme/${_}.xml`;I.append(k,{name:S})})}async addOfficeRels(I){const N=new b().toXml([{Id:"rId1",Type:U.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:U.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:U.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);I.append(N,{name:"_rels/.rels"})}async addWorkbookRels(I,N){let w=1;const _=[{Id:"rId"+w++,Type:U.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:U.RelType.Theme,Target:"theme/theme1.xml"}];N.sharedStrings.count&&_.push({Id:"rId"+w++,Type:U.RelType.SharedStrings,Target:"sharedStrings.xml"}),N.worksheets.forEach(S=>{S.rId="rId"+w++,_.push({Id:S.rId,Type:U.RelType.Worksheet,Target:`worksheets/sheet${S.id}.xml`})});const k=new b().toXml(_);I.append(k,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(I,N){N.sharedStrings&&N.sharedStrings.count&&I.append(N.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(I,N){const{xml:w}=N.styles;w&&I.append(w,{name:"xl/styles.xml"})}async addWorkbook(I,N){const w=new C;I.append(w.toXml(N),{name:"xl/workbook.xml"})}async addWorksheets(I,N){const w=new R,_=new b,k=new P,S=new $;N.worksheets.forEach(D=>{let O=new p;w.render(O,D),I.append(O.xml,{name:`xl/worksheets/sheet${D.id}.xml`}),D.rels&&D.rels.length&&(O=new p,_.render(O,D.rels),I.append(O.xml,{name:`xl/worksheets/_rels/sheet${D.id}.xml.rels`})),D.comments.length>0&&(O=new p,k.render(O,D),I.append(O.xml,{name:`xl/comments${D.id}.xml`}),O=new p,S.render(O,D),I.append(O.xml,{name:`xl/drawings/vmlDrawing${D.id}.vml`}))})}_finalize(I){return new Promise((N,w)=>{I.on("finish",()=>{N(this)}),I.on("error",w),I.finalize()})}prepareModel(I,N){I.creator=I.creator||"ExcelJS",I.lastModifiedBy=I.lastModifiedBy||"ExcelJS",I.created=I.created||new Date,I.modified=I.modified||new Date,I.useSharedStrings=N.useSharedStrings===void 0||N.useSharedStrings,I.useStyles=N.useStyles===void 0||N.useStyles,I.sharedStrings=new v,I.styles=I.useStyles?new y(!0):new y.Mock;const w=new C,_=new R;w.prepare(I);const k={sharedStrings:I.sharedStrings,styles:I.styles,date1904:I.properties.date1904,drawingsCount:0,media:I.media};k.drawings=I.drawings=[],k.commentRefs=I.commentRefs=[];let S=0;I.tables=[],I.worksheets.forEach(D=>{D.tables.forEach(O=>{S++,O.target=`table${S}.xml`,O.id=S,I.tables.push(O)}),_.prepare(D,k)})}async write(I,N){N=N||{};const{model:w}=this.workbook,_=new d.ZipWriter(N.zip);return _.pipe(I),this.prepareModel(w,N),await this.addContentTypes(_,w),await this.addOfficeRels(_,w),await this.addWorkbookRels(_,w),await this.addWorksheets(_,w),await this.addSharedStrings(_,w),await this.addDrawings(_,w),await this.addTables(_,w),await Promise.all([this.addThemes(_,w),this.addStyles(_,w)]),await this.addMedia(_,w),await Promise.all([this.addApp(_,w),this.addCore(_,w)]),await this.addWorkbook(_,w),this._finalize(_)}writeFile(I,N){const w=o.createWriteStream(I);return new Promise((_,k)=>{w.on("finish",()=>{_()}),w.on("error",S=>{k(S)}),this.write(w,N).then(()=>{w.end()}).catch(S=>{k(S)})})}async writeBuffer(I){const N=new h;return await this.write(N,I),N.read()}}U.RelType=r("./rel-type"),n.exports=U}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(r,n,s){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(r,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const a=r("stream"),o=r("./formatter");class u extends a.Transform{constructor(d){super({writableObjectMode:d.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=d,this.rowFormatter=new o.RowFormatter(d),this.hasWrittenBOM=!d.writeBOM}transform(d){return this.rowFormatter.rowTransform=d,this}_transform(d,h,f){let p=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(d,(g,y)=>g?(p=!0,f(g)):(y&&y.forEach(m=>{this.push(i.from(m,"utf8"))}),p=!0,f()))}catch(g){if(p)throw g;f(g)}}_flush(d){this.rowFormatter.finish((h,f)=>h?d(h):(f&&f.forEach(p=>{this.push(i.from(p,"utf8"))}),d()))}}s.CsvFormatterStream=u}).call(this)}).call(this,r("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),i?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),i?.quote===!0?this.quote='"':i?.quote===!1&&(this.quote=""),typeof i?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=i.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(r,n,s){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const a=i(r("lodash.isboolean")),o=i(r("lodash.isnil")),u=i(r("lodash.escaperegexp"));s.FieldFormatter=class{constructor(c){this._headers=null,this.formatterOptions=c,c.headers!==null&&(this.headers=c.headers),this.REPLACE_REGEXP=new RegExp(c.quote,"g");const d=`[${c.delimiter}${u.default(c.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(d)}set headers(c){this._headers=c}shouldQuote(c,d){const h=d?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(h)?h:Array.isArray(h)?h[c]:this._headers!==null&&h[this._headers[c]]}format(c,d,h){const f=(""+(o.default(c)?"":c)).replace(/\0/g,""),{formatterOptions:p}=this;return p.quote!==""&&f.indexOf(p.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,p.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(d,h)?this.quoteField(f):f}quoteField(c){const{quote:d}=this.formatterOptions;return`${d}${c}${d}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(r,n,s){var i=function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const a=i(r("lodash.isfunction")),o=i(r("lodash.isequal")),u=r("./FieldFormatter"),c=r("../types");class d{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new u.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return d.isRowHashArray(f)?f.map(p=>p[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return c.isSyncTransform(f)?(p,g)=>{let y=null;try{y=f(p)}catch(m){return g(m)}return g(null,y)}:(p,g)=>{f(p,g)}}set rowTransform(f){if(!a.default(f))throw new TypeError("The transform should be a function");this._rowTransform=d.createTransform(f)}format(f,p){this.callTransformer(f,(g,y)=>{if(g)return p(g);if(!f)return p(null);const m=[];if(y){const{shouldFormatColumns:v,headers:b}=this.checkHeaders(y);if(this.shouldWriteHeaders&&b&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(b,!0)),this.hasWrittenHeaders=!0),v){const x=this.gatherColumns(y);m.push(this.formatColumns(x,!1))}}return p(null,m)})}finish(f){const p=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));p.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&p.push(this.formatterOptions.rowDelimiter),f(null,p)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const p=d.gatherHeaders(f);return this.headers=p,this.fieldFormatter.headers=p,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(p,f),headers:p}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?d.isRowHashArray(f)?this.headers.map((p,g)=>{const y=f[g];return y?y[1]:""}):d.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((p,g)=>f[g]):this.headers.map(p=>f[p])}callTransformer(f,p){return this._rowTransform?this._rowTransform(f,p):p(null,f)}formatColumns(f,p){const g=f.map((m,v)=>this.fieldFormatter.format(m,v,p)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,g].join(""):g}}s.RowFormatter=d},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var i=r("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var a=r("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(r,n,s){(function(i){(function(){var a=Object.create?function(v,b,x,j){j===void 0&&(j=x),Object.defineProperty(v,j,{enumerable:!0,get:function(){return b[x]}})}:function(v,b,x,j){j===void 0&&(j=x),v[j]=b[x]},o=Object.create?function(v,b){Object.defineProperty(v,"default",{enumerable:!0,value:b})}:function(v,b){v.default=b},u=function(v){if(v&&v.__esModule)return v;var b={};if(v!=null)for(var x in v)x!=="default"&&Object.prototype.hasOwnProperty.call(v,x)&&a(b,v,x);return o(b,v),b},c=function(v,b){for(var x in v)x==="default"||Object.prototype.hasOwnProperty.call(b,x)||a(b,v,x)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const d=r("util"),h=r("stream"),f=u(r("fs")),p=r("./FormatterOptions"),g=r("./CsvFormatterStream");c(r("./types"),s);var y=r("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var m=r("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),s.format=v=>new g.CsvFormatterStream(new p.FormatterOptions(v)),s.write=(v,b)=>{const x=s.format(b),j=d.promisify((C,R)=>{x.write(C,void 0,R)});return v.reduce((C,R)=>C.then(()=>j(R)),Promise.resolve()).then(()=>x.end()).catch(C=>{x.emit("error",C)}),x},s.writeToStream=(v,b,x)=>s.write(b,x).pipe(v),s.writeToBuffer=function(v){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const x=[],j=new h.Writable({write(C,R,L){x.push(C),L()}});return new Promise((C,R)=>{j.on("error",R).on("finish",()=>C(i.concat(x))),s.write(v,b).pipe(j)})},s.writeToString=(v,b)=>s.writeToBuffer(v,b).then(x=>x.toString()),s.writeToPath=(v,b,x)=>{const j=f.createWriteStream(v,{encoding:"utf8"});return s.write(b,x).pipe(j)}}).call(this)}).call(this,r("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1},{}],153:[function(r,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const a=r("string_decoder"),o=r("stream"),u=r("./transforms"),c=r("./parser");class d extends o.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new c.Parser(f),this.headerTransformer=new u.HeaderTransformer(f),this.decoder=new a.StringDecoder(f.encoding),this.rowTransformerValidator=new u.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var p=arguments.length,g=new Array(p>1?p-1:0),y=1;y<p;y++)g[y-1]=arguments[y];return super.emit(f,...g)}_transform(f,p,g){if(this.hasHitRowLimit)return g();const y=d.wrapDoneCallback(g);try{const{lines:m}=this,v=m+this.decoder.write(f),b=this.parse(v,!0);return this.processRows(b,y)}catch(m){return y(m)}}_flush(f){const p=d.wrapDoneCallback(f);if(this.hasHitRowLimit)return p();try{const g=this.lines+this.decoder.end(),y=this.parse(g,!1);return this.processRows(y,p)}catch(g){return p(g)}}parse(f,p){if(!f)return[];const{line:g,rows:y}=this.parser.parse(f,p);return this.lines=g,y}processRows(f,p){const g=f.length,y=m=>{const v=j=>j?p(j):m%100!=0?y(m+1):void i(()=>y(m+1));if(this.checkAndEmitHeaders(),m>=g||this.hasHitRowLimit)return p();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const b=f[m];this.rowCount+=1,this.parsedRowCount+=1;const x=this.rowCount;return this.transformRow(b,(j,C)=>{if(j)return this.rowCount-=1,v(j);if(!C)return v(new Error("expected transform result"));if(C.isValid){if(C.row)return this.pushRow(C.row,v)}else this.emit("data-invalid",C.row,x,C.reason);return v()})};y(0)}transformRow(f,p){try{this.headerTransformer.transform(f,(g,y)=>g?p(g):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,p):this.skipRow(p):(this.rowCount-=1,this.parsedRowCount-=1,p(null,{row:null,isValid:!0})):this.shouldEmitRows?p(null,{isValid:!1,row:f}):this.skipRow(p):p(new Error("Expected result from header transform")))}catch(g){p(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,p){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),p()}catch(g){p(g)}}static wrapDoneCallback(f){let p=!1;return function(g){if(g){if(p)throw g;return p=!0,void f(g)}for(var y=arguments.length,m=new Array(y>1?y-1:0),v=1;v<y;v++)m[v-1]=arguments[v];f(...m)}}}s.CsvParserStream=d}).call(this)}).call(this,r("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(r,n,s){var i=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const a=i(r("lodash.escaperegexp")),o=i(r("lodash.isnil"));s.ParserOptions=class{constructor(u){var c;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,u||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(c=this.escape)!==null&&c!==void 0?c:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(r,n,s){var i=Object.create?function(y,m,v,b){b===void 0&&(b=v),Object.defineProperty(y,b,{enumerable:!0,get:function(){return m[v]}})}:function(y,m,v,b){b===void 0&&(b=v),y[b]=m[v]},a=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},o=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&i(m,y,v);return a(m,y),m},u=function(y,m){for(var v in y)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||i(m,y,v)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const c=o(r("fs")),d=r("stream"),h=r("./ParserOptions"),f=r("./CsvParserStream");u(r("./types"),s);var p=r("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return p.CsvParserStream}});var g=r("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),s.parse=y=>new f.CsvParserStream(new h.ParserOptions(y)),s.parseStream=(y,m)=>y.pipe(new f.CsvParserStream(new h.ParserOptions(m))),s.parseFile=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c.createReadStream(y).pipe(new f.CsvParserStream(new h.ParserOptions(m)))},s.parseString=(y,m)=>{const v=new d.Readable;return v.push(y),v.push(null),v.pipe(new f.CsvParserStream(new h.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const i=r("./Scanner"),a=r("./RowParser"),o=r("./Token");class u{constructor(d){this.parserOptions=d,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(d){return d&&d.charCodeAt(0)===65279?d.slice(1):d}parse(d,h){const f=new i.Scanner({line:u.removeBOM(d),parserOptions:this.parserOptions,hasMoreData:h});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(d){const h=[];let f=!0;for(;f;)f=this.parseRow(d,h);return{line:d.line,rows:h}}parseWithComments(d){const{parserOptions:h}=this,f=[];for(let p=d.nextCharacterToken;p!==null;p=d.nextCharacterToken)if(o.Token.isTokenComment(p,h)){if(d.advancePastLine()===null)return{line:d.lineFromCursor,rows:f};if(!d.hasMoreCharacters)return{line:d.lineFromCursor,rows:f};d.truncateToCursor()}else if(!this.parseRow(d,f))break;return{line:d.line,rows:f}}parseRow(d,h){if(!d.nextNonSpaceToken)return!1;const f=this.rowParser.parse(d);return f!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(f)||h.push(f),!0)}}s.Parser=u},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const i=r("./column"),a=r("./Token");s.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new i.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){const{parserOptions:u}=this,{hasMoreData:c}=o,d=o,h=[];let f=this.getStartToken(d,h);for(;f;){if(a.Token.isTokenRowDelimiter(f))return d.advancePastToken(f),!d.hasMoreCharacters&&a.Token.isTokenCarriageReturn(f,u)&&c?null:(d.truncateToCursor(),h);if(!this.shouldSkipColumnParse(d,f,h)){const p=this.columnParser.parse(d);if(p===null)return null;h.push(p)}f=d.nextNonSpaceToken}return c?null:(d.truncateToCursor(),h)}getStartToken(o,u){const c=o.nextNonSpaceToken;return c!==null&&a.Token.isTokenDelimiter(c,this.parserOptions)?(u.push(""),o.nextNonSpaceToken):c}shouldSkipColumnParse(o,u,c){const{parserOptions:d}=this;if(a.Token.isTokenDelimiter(u,d)){o.advancePastToken(u);const h=o.nextCharacterToken;if(!o.hasMoreCharacters||h!==null&&a.Token.isTokenRowDelimiter(h)||h!==null&&a.Token.isTokenDelimiter(h,d))return c.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const i=r("./Token"),a=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:o}=this,u=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(u)===-1)return null;const c=u.exec(o);if(c==null)return null;const d=c[1],h=this.cursor+(c.index||0);return new i.Token({token:d,startCursor:h,endCursor:h+d.length-1})}get nextCharacterToken(){const{cursor:o,lineLength:u}=this;return u<=o?null:new i.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const o=a.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const a=i.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(i,a){return i.token===a.carriageReturn}static isTokenComment(i,a){return a.supportsComments&&!!i&&i.token===a.comment}static isTokenEscapeCharacter(i,a){return i.token===a.escapeChar}static isTokenQuote(i,a){return i.token===a.quote}static isTokenDelimiter(i,a){return i.token===a.delimiter}}},{}],160:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(i){i.trim?this.format=a=>a.trim():i.ltrim?this.format=a=>a.trimLeft():i.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const i=r("./NonQuotedColumnParser"),a=r("./QuotedColumnParser"),o=r("../Token");s.ColumnParser=class{constructor(u){this.parserOptions=u,this.quotedColumnParser=new a.QuotedColumnParser(u),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(u)}parse(u){const{nextNonSpaceToken:c}=u;return c!==null&&o.Token.isTokenQuote(c,this.parserOptions)?(u.advanceToToken(c),this.quotedColumnParser.parse(u)):this.nonQuotedColumnParser.parse(u)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const i=r("./ColumnFormatter"),a=r("../Token");s.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const{parserOptions:u}=this,c=[];let d=o.nextCharacterToken;for(;d&&!a.Token.isTokenDelimiter(d,u)&&!a.Token.isTokenRowDelimiter(d);d=o.nextCharacterToken)c.push(d.token),o.advancePastToken(d);return this.columnFormatter.format(c.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const i=r("./ColumnFormatter"),a=r("../Token");s.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const u=o.cursor,{foundClosingQuote:c,col:d}=this.gatherDataBetweenQuotes(o);if(!c){if(o.advanceTo(u),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),d}gatherDataBetweenQuotes(o){const{parserOptions:u}=this;let c=!1,d=!1;const h=[];let f=o.nextCharacterToken;for(;!d&&f!==null;f=o.nextCharacterToken){const p=a.Token.isTokenQuote(f,u);if(!c&&p)c=!0;else if(c)if(a.Token.isTokenEscapeCharacter(f,u)){o.advancePastToken(f);const g=o.nextCharacterToken;g!==null&&(a.Token.isTokenQuote(g,u)||a.Token.isTokenEscapeCharacter(g,u))?(h.push(g.token),f=g):p?d=!0:h.push(f.token)}else p?d=!0:h.push(f.token);o.advancePastToken(f)}return{col:this.columnFormatter.format(h.join("")),foundClosingQuote:d}}checkForMalformedColumn(o){const{parserOptions:u}=this,{nextNonSpaceToken:c}=o;if(c){const d=a.Token.isTokenDelimiter(c,u),h=a.Token.isTokenRowDelimiter(c);if(!d&&!h){const f=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${u.escapedDelimiter}' OR new line got: '${c.token}'. at '${f}`)}o.advanceToToken(c)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var i=r("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var a=r("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var o=r("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var u=r("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return u.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var i=r("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return i.Parser}});var a=r("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var o=r("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var u=r("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return u.Token}});var c=r("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return c.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return c.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(r,n,s){var i=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const a=i(r("lodash.isundefined")),o=i(r("lodash.isfunction")),u=i(r("lodash.uniq")),c=i(r("lodash.groupby"));s.HeaderTransformer=class{constructor(d){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=d,d.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(d.headers)?this.setHeaders(d.headers):o.default(d.headers)&&(this.headersTransform=d.headers)}transform(d,h){return this.shouldMapRow(d)?h(null,this.processRow(d)):h(null,{row:null,isValid:!0})}shouldMapRow(d){const{parserOptions:h}=this;if(!this.headersTransform&&h.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(d)){if(this.headersTransform)this.setHeaders(this.headersTransform(d));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(d)}return!1}return!0}processRow(d){if(!this.headers)return{row:d,isValid:!0};const{parserOptions:h}=this;if(!h.discardUnmappedColumns&&d.length>this.headersLength){if(!h.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${d.length}`);return{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}}return h.strictColumnHandling&&d.length<this.headersLength?{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}:{row:this.mapHeaders(d),isValid:!0}}mapHeaders(d){const h={},{headers:f,headersLength:p}=this;for(let g=0;g<p;g+=1){const y=f[g];if(!a.default(y)){const m=d[g];a.default(m)?h[y]="":h[y]=m}}return h}setHeaders(d){var h;const f=d.filter(p=>!!p);if(u.default(f).length!==f.length){const p=c.default(f),g=Object.keys(p).filter(y=>p[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=d,this.receivedHeaders=!0,this.headersLength=((h=this.headers)===null||h===void 0?void 0:h.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(r,n,s){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const a=i(r("lodash.isfunction")),o=r("../types");class u{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(d){return o.isSyncTransform(d)?(h,f)=>{let p=null;try{p=d(h)}catch(g){return f(g)}return f(null,p)}:d}static createValidator(d){return o.isSyncValidate(d)?(h,f)=>{f(null,{row:h,isValid:d(h)})}:(h,f)=>{d(h,(p,g,y)=>p?f(p):f(null,g?{row:h,isValid:g,reason:y}:{row:h,isValid:!1,reason:y}))}}set rowTransform(d){if(!a.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}set rowValidator(d){if(!a.default(d))throw new TypeError("The validate should be a function");this._rowValidator=u.createValidator(d)}transformAndValidate(d,h){return this.callTransformer(d,(f,p)=>f?h(f):p?this.callValidator(p,(g,y)=>g?h(g):y&&!y.isValid?h(null,{row:p,isValid:!1,reason:y.reason}):h(null,{row:p,isValid:!0})):h(null,{row:null,isValid:!0}))}callTransformer(d,h){return this._rowTransform?this._rowTransform(d,h):h(null,d)}callValidator(d,h){return this._rowValidator?this._rowValidator(d,h):h(null,{row:d,isValid:!0})}}s.RowTransformerValidator=u},{"../types":169,"lodash.isfunction":446}],168:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var i=r("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var a=r("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1,s.isSyncValidate=i=>i.length===1},{}],170:[function(r,n,s){const i=s;i.bignum=r("bn.js"),i.define=r("./asn1/api").define,i.base=r("./asn1/base"),i.constants=r("./asn1/constants"),i.decoders=r("./asn1/decoders"),i.encoders=r("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(r,n,s){const i=r("./encoders"),a=r("./decoders"),o=r("inherits");function u(c,d){this.name=c,this.body=d,this.decoders={},this.encoders={}}s.define=function(c,d){return new u(c,d)},u.prototype._createNamed=function(c){const d=this.name;function h(f){this._initNamed(f,d)}return o(h,c),h.prototype._initNamed=function(f,p){c.call(this,f,p)},new h(this)},u.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(a[c])),this.decoders[c]},u.prototype.decode=function(c,d,h){return this._getDecoder(d).decode(c,h)},u.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(i[c])),this.encoders[c]},u.prototype.encode=function(c,d,h){return this._getEncoder(d).encode(c,h)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(r,n,s){const i=r("inherits"),a=r("../base/reporter").Reporter,o=r("safer-buffer").Buffer;function u(d,h){a.call(this,h),o.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function c(d,h){if(Array.isArray(d))this.length=0,this.value=d.map((function(f){return c.isEncoderBuffer(f)||(f=new c(f,h)),this.length+=f.length,f}),this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return h.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=o.byteLength(d);else{if(!o.isBuffer(d))return h.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}i(u,a),s.DecoderBuffer=u,u.isDecoderBuffer=function(d){return d instanceof u?!0:typeof d=="object"&&o.isBuffer(d.base)&&d.constructor.name==="DecoderBuffer"&&typeof d.offset=="number"&&typeof d.length=="number"&&typeof d.save=="function"&&typeof d.restore=="function"&&typeof d.isEmpty=="function"&&typeof d.readUInt8=="function"&&typeof d.skip=="function"&&typeof d.raw=="function"},u.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},u.prototype.restore=function(d){const h=new u(this.base);return h.offset=d.offset,h.length=this.offset,this.offset=d.offset,a.prototype.restore.call(this,d.reporter),h},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},u.prototype.skip=function(d,h){if(!(this.offset+d<=this.length))return this.error(h||"DecoderBuffer overrun");const f=new u(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+d,this.offset+=d,f},u.prototype.raw=function(d){return this.base.slice(d?d.offset:this.offset,this.length)},s.EncoderBuffer=c,c.isEncoderBuffer=function(d){return d instanceof c?!0:typeof d=="object"&&d.constructor.name==="EncoderBuffer"&&typeof d.length=="number"&&typeof d.join=="function"},c.prototype.join=function(d,h){return d||(d=o.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(f){f.join(d,h),h+=f.length})):(typeof this.value=="number"?d[h]=this.value:typeof this.value=="string"?d.write(this.value,h):o.isBuffer(this.value)&&this.value.copy(d,h),h+=this.length)),d}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(r,n,s){const i=s;i.Reporter=r("./reporter").Reporter,i.DecoderBuffer=r("./buffer").DecoderBuffer,i.EncoderBuffer=r("./buffer").EncoderBuffer,i.Node=r("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(r,n,s){const i=r("../base/reporter").Reporter,a=r("../base/buffer").EncoderBuffer,o=r("../base/buffer").DecoderBuffer,u=r("minimalistic-assert"),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);function h(p,g,y){const m={};this._baseState=m,m.name=y,m.enc=p,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=h;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const p=this._baseState,g={};f.forEach((function(m){g[m]=p[m]}));const y=new this.constructor(g.parent);return y._baseState=g,y},h.prototype._wrap=function(){const p=this._baseState;d.forEach((function(g){this[g]=function(){const y=new this.constructor(this);return p.children.push(y),y[g].apply(y,arguments)}}),this)},h.prototype._init=function(p){const g=this._baseState;u(g.parent===null),p.call(this),g.children=g.children.filter((function(y){return y._baseState.parent===this}),this),u.equal(g.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(p){const g=this._baseState,y=p.filter((function(m){return m instanceof this.constructor}),this);p=p.filter((function(m){return!(m instanceof this.constructor)}),this),y.length!==0&&(u(g.children===null),g.children=y,y.forEach((function(m){m._baseState.parent=this}),this)),p.length!==0&&(u(g.args===null),g.args=p,g.reverseArgs=p.map((function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach((function(b){b==(0|b)&&(b|=0);const x=m[b];v[x]=b})),v})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(p){h.prototype[p]=function(){const g=this._baseState;throw new Error(p+" not implemented for encoding: "+g.enc)}})),c.forEach((function(p){h.prototype[p]=function(){const g=this._baseState,y=Array.prototype.slice.call(arguments);return u(g.tag===null),g.tag=p,this._useArgs(y),this}})),h.prototype.use=function(p){u(p);const g=this._baseState;return u(g.use===null),g.use=p,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(p){const g=this._baseState;return u(g.default===null),g.default=p,g.optional=!0,this},h.prototype.explicit=function(p){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.explicit=p,this},h.prototype.implicit=function(p){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.implicit=p,this},h.prototype.obj=function(){const p=this._baseState,g=Array.prototype.slice.call(arguments);return p.obj=!0,g.length!==0&&this._useArgs(g),this},h.prototype.key=function(p){const g=this._baseState;return u(g.key===null),g.key=p,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(p){const g=this._baseState;return u(g.choice===null),g.choice=p,this._useArgs(Object.keys(p).map((function(y){return p[y]}))),this},h.prototype.contains=function(p){const g=this._baseState;return u(g.use===null),g.contains=p,this},h.prototype._decode=function(p,g){const y=this._baseState;if(y.parent===null)return p.wrapResult(y.children[0]._decode(p,g));let m,v=y.default,b=!0,x=null;if(y.key!==null&&(x=p.enterKey(y.key)),y.optional){let j=null;if(y.explicit!==null?j=y.explicit:y.implicit!==null?j=y.implicit:y.tag!==null&&(j=y.tag),j!==null||y.any){if(b=this._peekTag(p,j,y.any),p.isError(b))return b}else{const C=p.save();try{y.choice===null?this._decodeGeneric(y.tag,p,g):this._decodeChoice(p,g),b=!0}catch{b=!1}p.restore(C)}}if(y.obj&&b&&(m=p.enterObject()),b){if(y.explicit!==null){const C=this._decodeTag(p,y.explicit);if(p.isError(C))return C;p=C}const j=p.offset;if(y.use===null&&y.choice===null){let C;y.any&&(C=p.save());const R=this._decodeTag(p,y.implicit!==null?y.implicit:y.tag,y.any);if(p.isError(R))return R;y.any?v=p.raw(C):p=R}if(g&&g.track&&y.tag!==null&&g.track(p.path(),j,p.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(p.path(),p.offset,p.length,"content"),y.any||(v=y.choice===null?this._decodeGeneric(y.tag,p,g):this._decodeChoice(p,g)),p.isError(v))return v;if(y.any||y.choice!==null||y.children===null||y.children.forEach((function(C){C._decode(p,g)})),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const C=new o(v);v=this._getUse(y.contains,p._reporterState.obj)._decode(C,g)}}return y.obj&&b&&(v=p.leaveObject(m)),y.key===null||v===null&&b!==!0?x!==null&&p.exitKey(x):p.leaveKey(x,y.key,v),v},h.prototype._decodeGeneric=function(p,g,y){const m=this._baseState;return p==="seq"||p==="set"?null:p==="seqof"||p==="setof"?this._decodeList(g,p,m.args[0],y):/str$/.test(p)?this._decodeStr(g,p,y):p==="objid"&&m.args?this._decodeObjid(g,m.args[0],m.args[1],y):p==="objid"?this._decodeObjid(g,null,null,y):p==="gentime"||p==="utctime"?this._decodeTime(g,p,y):p==="null_"?this._decodeNull(g,y):p==="bool"?this._decodeBool(g,y):p==="objDesc"?this._decodeStr(g,p,y):p==="int"||p==="enum"?this._decodeInt(g,m.args&&m.args[0],y):m.use!==null?this._getUse(m.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+p)},h.prototype._getUse=function(p,g){const y=this._baseState;return y.useDecoder=this._use(p,g),u(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},h.prototype._decodeChoice=function(p,g){const y=this._baseState;let m=null,v=!1;return Object.keys(y.choice).some((function(b){const x=p.save(),j=y.choice[b];try{const C=j._decode(p,g);if(p.isError(C))return!1;m={type:b,value:C},v=!0}catch{return p.restore(x),!1}return!0}),this),v?m:p.error("Choice not matched")},h.prototype._createEncoderBuffer=function(p){return new a(p,this.reporter)},h.prototype._encode=function(p,g,y){const m=this._baseState;if(m.default!==null&&m.default===p)return;const v=this._encodeValue(p,g,y);return v===void 0||this._skipDefault(v,g,y)?void 0:v},h.prototype._encodeValue=function(p,g,y){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(p,g||new i);let v=null;if(this.reporter=g,m.optional&&p===void 0){if(m.default===null)return;p=m.default}let b=null,x=!1;if(m.any)v=this._createEncoderBuffer(p);else if(m.choice)v=this._encodeChoice(p,g);else if(m.contains)b=this._getUse(m.contains,y)._encode(p,g),x=!0;else if(m.children)b=m.children.map((function(j){if(j._baseState.tag==="null_")return j._encode(null,g,p);if(j._baseState.key===null)return g.error("Child should have a key");const C=g.enterKey(j._baseState.key);if(typeof p!="object")return g.error("Child expected, but input is not object");const R=j._encode(p[j._baseState.key],g,p);return g.leaveKey(C),R}),this).filter((function(j){return j})),b=this._createEncoderBuffer(b);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return g.error("Too many args for : "+m.tag);if(!Array.isArray(p))return g.error("seqof/setof, but data is not Array");const j=this.clone();j._baseState.implicit=null,b=this._createEncoderBuffer(p.map((function(C){const R=this._baseState;return this._getUse(R.args[0],p)._encode(C,g)}),j))}else m.use!==null?v=this._getUse(m.use,y)._encode(p,g):(b=this._encodePrimitive(m.tag,p),x=!0);if(!m.any&&m.choice===null){const j=m.implicit!==null?m.implicit:m.tag,C=m.implicit===null?"universal":"context";j===null?m.use===null&&g.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(j,x,C,b))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},h.prototype._encodeChoice=function(p,g){const y=this._baseState,m=y.choice[p.type];return m||u(!1,p.type+" not found in "+JSON.stringify(Object.keys(y.choice))),m._encode(p.value,g)},h.prototype._encodePrimitive=function(p,g){const y=this._baseState;if(/str$/.test(p))return this._encodeStr(g,p);if(p==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(p==="objid")return this._encodeObjid(g,null,null);if(p==="gentime"||p==="utctime")return this._encodeTime(g,p);if(p==="null_")return this._encodeNull();if(p==="int"||p==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(p==="bool")return this._encodeBool(g);if(p==="objDesc")return this._encodeStr(g,p);throw new Error("Unsupported tag: "+p)},h.prototype._isNumstr=function(p){return/^[0-9 ]*$/.test(p)},h.prototype._isPrintstr=function(p){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(p)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(r,n,s){const i=r("inherits");function a(u){this._reporterState={obj:null,path:[],options:u||{},errors:[]}}function o(u,c){this.path=u,this.rethrow(c)}s.Reporter=a,a.prototype.isError=function(u){return u instanceof o},a.prototype.save=function(){const u=this._reporterState;return{obj:u.obj,pathLen:u.path.length}},a.prototype.restore=function(u){const c=this._reporterState;c.obj=u.obj,c.path=c.path.slice(0,u.pathLen)},a.prototype.enterKey=function(u){return this._reporterState.path.push(u)},a.prototype.exitKey=function(u){const c=this._reporterState;c.path=c.path.slice(0,u-1)},a.prototype.leaveKey=function(u,c,d){const h=this._reporterState;this.exitKey(u),h.obj!==null&&(h.obj[c]=d)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const u=this._reporterState,c=u.obj;return u.obj={},c},a.prototype.leaveObject=function(u){const c=this._reporterState,d=c.obj;return c.obj=u,d},a.prototype.error=function(u){let c;const d=this._reporterState,h=u instanceof o;if(c=h?u:new o(d.path.map((function(f){return"["+JSON.stringify(f)+"]"})).join(""),u.message||u,u.stack),!d.options.partial)throw c;return h||d.errors.push(c),c},a.prototype.wrapResult=function(u){const c=this._reporterState;return c.options.partial?{result:this.isError(u)?null:u,errors:c.errors}:u},i(o,Error),o.prototype.rethrow=function(u){if(this.message=u+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},{inherits:440}],176:[function(r,n,s){function i(a){const o={};return Object.keys(a).forEach((function(u){(0|u)==u&&(u|=0);const c=a[u];o[c]=u})),o}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=i(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=i(s.tag)},{}],177:[function(r,n,s){const i=s;i._reverse=function(a){const o={};return Object.keys(a).forEach((function(u){(0|u)==u&&(u|=0);const c=a[u];o[c]=u})),o},i.der=r("./der")},{"./der":176}],178:[function(r,n,s){const i=r("inherits"),a=r("bn.js"),o=r("../base/buffer").DecoderBuffer,u=r("../base/node"),c=r("../constants/der");function d(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new h,this.tree._init(g.body)}function h(g){u.call(this,"der",g)}function f(g,y){let m=g.readUInt8(y);if(g.isError(m))return m;const v=c.tagClass[m>>6],b=(32&m)==0;if((31&m)==31){let x=m;for(m=0;(128&x)==128;){if(x=g.readUInt8(y),g.isError(x))return x;m<<=7,m|=127&x}}else m&=31;return{cls:v,primitive:b,tag:m,tagStr:c.tag[m]}}function p(g,y,m){let v=g.readUInt8(m);if(g.isError(v))return v;if(!y&&v===128)return null;if((128&v)==0)return v;const b=127&v;if(b>4)return g.error("length octect is too long");v=0;for(let x=0;x<b;x++){v<<=8;const j=g.readUInt8(m);if(g.isError(j))return j;v|=j}return v}n.exports=d,d.prototype.decode=function(g,y){return o.isDecoderBuffer(g)||(g=new o(g,y)),this.tree._decode(g,y)},i(h,u),h.prototype._peekTag=function(g,y,m){if(g.isEmpty())return!1;const v=g.save(),b=f(g,'Failed to peek tag: "'+y+'"');return g.isError(b)?b:(g.restore(v),b.tag===y||b.tagStr===y||b.tagStr+"of"===y||m)},h.prototype._decodeTag=function(g,y,m){const v=f(g,'Failed to decode tag of "'+y+'"');if(g.isError(v))return v;let b=p(g,v.primitive,'Failed to get length of "'+y+'"');if(g.isError(b))return b;if(!m&&v.tag!==y&&v.tagStr!==y&&v.tagStr+"of"!==y)return g.error('Failed to match tag: "'+y+'"');if(v.primitive||b!==null)return g.skip(b,'Failed to match body of: "'+y+'"');const x=g.save(),j=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(j)?j:(b=g.offset-x.offset,g.restore(x),g.skip(b,'Failed to match body of: "'+y+'"'))},h.prototype._skipUntilEnd=function(g,y){for(;;){const m=f(g,y);if(g.isError(m))return m;const v=p(g,m.primitive,y);if(g.isError(v))return v;let b;if(b=m.primitive||v!==null?g.skip(v):this._skipUntilEnd(g,y),g.isError(b))return b;if(m.tagStr==="end")break}},h.prototype._decodeList=function(g,y,m,v){const b=[];for(;!g.isEmpty();){const x=this._peekTag(g,"end");if(g.isError(x))return x;const j=m.decode(g,"der",v);if(g.isError(j)&&x)break;b.push(j)}return b},h.prototype._decodeStr=function(g,y){if(y==="bitstr"){const m=g.readUInt8();return g.isError(m)?m:{unused:m,data:g.raw()}}if(y==="bmpstr"){const m=g.raw();if(m.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let v="";for(let b=0;b<m.length/2;b++)v+=String.fromCharCode(m.readUInt16BE(2*b));return v}if(y==="numstr"){const m=g.raw().toString("ascii");return this._isNumstr(m)?m:g.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return g.raw();if(y==="printstr"){const m=g.raw().toString("ascii");return this._isPrintstr(m)?m:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?g.raw().toString():g.error("Decoding of string type: "+y+" unsupported")},h.prototype._decodeObjid=function(g,y,m){let v;const b=[];let x=0,j=0;for(;!g.isEmpty();)j=g.readUInt8(),x<<=7,x|=127&j,(128&j)==0&&(b.push(x),x=0);128&j&&b.push(x);const C=b[0]/40|0,R=b[0]%40;if(v=m?b:[C,R].concat(b.slice(1)),y){let L=y[v.join(" ")];L===void 0&&(L=y[v.join(".")]),L!==void 0&&(v=L)}return v},h.prototype._decodeTime=function(g,y){const m=g.raw().toString();let v,b,x,j,C,R;if(y==="gentime")v=0|m.slice(0,4),b=0|m.slice(4,6),x=0|m.slice(6,8),j=0|m.slice(8,10),C=0|m.slice(10,12),R=0|m.slice(12,14);else{if(y!=="utctime")return g.error("Decoding "+y+" time is not supported yet");v=0|m.slice(0,2),b=0|m.slice(2,4),x=0|m.slice(4,6),j=0|m.slice(6,8),C=0|m.slice(8,10),R=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,b-1,x,j,C,R,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(g){const y=g.readUInt8();return g.isError(y)?y:y!==0},h.prototype._decodeInt=function(g,y){const m=g.raw();let v=new a(m);return y&&(v=y[v.toString(10)]||v),v},h.prototype._use=function(g,y){return typeof g=="function"&&(g=g(y)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(r,n,s){const i=s;i.der=r("./der"),i.pem=r("./pem")},{"./der":178,"./pem":180}],180:[function(r,n,s){const i=r("inherits"),a=r("safer-buffer").Buffer,o=r("./der");function u(c){o.call(this,c),this.enc="pem"}i(u,o),n.exports=u,u.prototype.decode=function(c,d){const h=c.toString().split(/[\r\n]+/g),f=d.label.toUpperCase(),p=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,y=-1;for(let b=0;b<h.length;b++){const x=h[b].match(p);if(x!==null&&x[2]===f){if(g!==-1){if(x[1]!=="END")break;y=b;break}if(x[1]!=="BEGIN")break;g=b}}if(g===-1||y===-1)throw new Error("PEM section not found for: "+f);const m=h.slice(g+1,y).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=a.from(m,"base64");return o.prototype.decode.call(this,v,d)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(r,n,s){const i=r("inherits"),a=r("safer-buffer").Buffer,o=r("../base/node"),u=r("../constants/der");function c(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new d,this.tree._init(f.body)}function d(f){o.call(this,"der",f)}function h(f){return f<10?"0"+f:f}n.exports=c,c.prototype.encode=function(f,p){return this.tree._encode(f,p).join()},i(d,o),d.prototype._encodeComposite=function(f,p,g,y){const m=(function(x,j,C,R){let L;if(x==="seqof"?x="seq":x==="setof"&&(x="set"),u.tagByName.hasOwnProperty(x))L=u.tagByName[x];else{if(typeof x!="number"||(0|x)!==x)return R.error("Unknown tag: "+x);L=x}return L>=31?R.error("Multi-octet tag encoding unsupported"):(j||(L|=32),L|=u.tagClassByName[C||"universal"]<<6,L)})(f,p,g,this.reporter);if(y.length<128){const x=a.alloc(2);return x[0]=m,x[1]=y.length,this._createEncoderBuffer([x,y])}let v=1;for(let x=y.length;x>=256;x>>=8)v++;const b=a.alloc(2+v);b[0]=m,b[1]=128|v;for(let x=1+v,j=y.length;j>0;x--,j>>=8)b[x]=255&j;return this._createEncoderBuffer([b,y])},d.prototype._encodeStr=function(f,p){if(p==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(p==="bmpstr"){const g=a.alloc(2*f.length);for(let y=0;y<f.length;y++)g.writeUInt16BE(f.charCodeAt(y),2*y);return this._createEncoderBuffer(g)}return p==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):p==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(p)||p==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+p+" unsupported")},d.prototype._encodeObjid=function(f,p,g){if(typeof f=="string"){if(!p)return this.reporter.error("string objid given, but no values map found");if(!p.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=p[f].split(/[\s.]+/g);for(let b=0;b<f.length;b++)f[b]|=0}else if(Array.isArray(f)){f=f.slice();for(let b=0;b<f.length;b++)f[b]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!g){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let y=0;for(let b=0;b<f.length;b++){let x=f[b];for(y++;x>=128;x>>=7)y++}const m=a.alloc(y);let v=m.length-1;for(let b=f.length-1;b>=0;b--){let x=f[b];for(m[v--]=127&x;(x>>=7)>0;)m[v--]=128|127&x}return this._createEncoderBuffer(m)},d.prototype._encodeTime=function(f,p){let g;const y=new Date(f);return p==="gentime"?g=[h(y.getUTCFullYear()),h(y.getUTCMonth()+1),h(y.getUTCDate()),h(y.getUTCHours()),h(y.getUTCMinutes()),h(y.getUTCSeconds()),"Z"].join(""):p==="utctime"?g=[h(y.getUTCFullYear()%100),h(y.getUTCMonth()+1),h(y.getUTCDate()),h(y.getUTCHours()),h(y.getUTCMinutes()),h(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+p+" time is not supported yet"),this._encodeStr(g,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(f,p){if(typeof f=="string"){if(!p)return this.reporter.error("String int or enum given, but no values map");if(!p.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=p[f]}if(typeof f!="number"&&!a.isBuffer(f)){const m=f.toArray();!f.sign&&128&m[0]&&m.unshift(0),f=a.from(m)}if(a.isBuffer(f)){let m=f.length;f.length===0&&m++;const v=a.alloc(m);return f.copy(v),f.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let g=1;for(let m=f;m>=256;m>>=8)g++;const y=new Array(g);for(let m=y.length-1;m>=0;m--)y[m]=255&f,f>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(a.from(y))},d.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},d.prototype._use=function(f,p){return typeof f=="function"&&(f=f(p)),f._getEncoder("der").tree},d.prototype._skipDefault=function(f,p,g){const y=this._baseState;let m;if(y.default===null)return!1;const v=f.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,p,g).join()),v.length!==y.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==y.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(r,n,s){const i=s;i.der=r("./der"),i.pem=r("./pem")},{"./der":181,"./pem":183}],183:[function(r,n,s){const i=r("inherits"),a=r("./der");function o(u){a.call(this,u),this.enc="pem"}i(o,a),n.exports=o,o.prototype.encode=function(u,c){const d=a.prototype.encode.call(this,u).toString("base64"),h=["-----BEGIN "+c.label+"-----"];for(let f=0;f<d.length;f+=64)h.push(d.slice(f,f+64));return h.push("-----END "+c.label+"-----"),h.join(`
`)}},{"./der":181,inherits:440}],184:[function(r,n,s){(function(i,a){function o(E,I){if(!E)throw new Error(I||"Assertion failed")}function u(E,I){E.super_=I;var N=function(){};N.prototype=I.prototype,E.prototype=new N,E.prototype.constructor=E}function c(E,I,N){if(c.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(I!=="le"&&I!=="be"||(N=I,I=10),this._init(E||0,I||10,N||"be"))}var d;typeof i=="object"?i.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function h(E,I){var N=E.charCodeAt(I);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function f(E,I,N){var w=h(E,N);return N-1>=I&&(w|=h(E,N-1)<<4),w}function p(E,I,N,w){for(var _=0,k=Math.min(E.length,N),S=I;S<k;S++){var D=E.charCodeAt(S)-48;_*=w,_+=D>=49?D-49+10:D>=17?D-17+10:D}return _}c.isBN=function(E){return E instanceof c||E!==null&&typeof E=="object"&&E.constructor.wordSize===c.wordSize&&Array.isArray(E.words)},c.max=function(E,I){return E.cmp(I)>0?E:I},c.min=function(E,I){return E.cmp(I)<0?E:I},c.prototype._init=function(E,I,N){if(typeof E=="number")return this._initNumber(E,I,N);if(typeof E=="object")return this._initArray(E,I,N);I==="hex"&&(I=16),o(I===(0|I)&&I>=2&&I<=36);var w=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<E.length&&(I===16?this._parseHex(E,w,N):(this._parseBase(E,I,w),N==="le"&&this._initArray(this.toArray(),I,N)))},c.prototype._initNumber=function(E,I,N){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(o(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),I,N)},c.prototype._initArray=function(E,I,N){if(o(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var _,k,S=0;if(N==="be")for(w=E.length-1,_=0;w>=0;w-=3)k=E[w]|E[w-1]<<8|E[w-2]<<16,this.words[_]|=k<<S&67108863,this.words[_+1]=k>>>26-S&67108863,(S+=24)>=26&&(S-=26,_++);else if(N==="le")for(w=0,_=0;w<E.length;w+=3)k=E[w]|E[w+1]<<8|E[w+2]<<16,this.words[_]|=k<<S&67108863,this.words[_+1]=k>>>26-S&67108863,(S+=24)>=26&&(S-=26,_++);return this.strip()},c.prototype._parseHex=function(E,I,N){this.length=Math.ceil((E.length-I)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var _,k=0,S=0;if(N==="be")for(w=E.length-1;w>=I;w-=2)_=f(E,I,w)<<k,this.words[S]|=67108863&_,k>=18?(k-=18,S+=1,this.words[S]|=_>>>26):k+=8;else for(w=(E.length-I)%2==0?I+1:I;w<E.length;w+=2)_=f(E,I,w)<<k,this.words[S]|=67108863&_,k>=18?(k-=18,S+=1,this.words[S]|=_>>>26):k+=8;this.strip()},c.prototype._parseBase=function(E,I,N){this.words=[0],this.length=1;for(var w=0,_=1;_<=67108863;_*=I)w++;w--,_=_/I|0;for(var k=E.length-N,S=k%w,D=Math.min(k,k-S)+N,O=0,B=N;B<D;B+=w)O=p(E,B,B+w,I),this.imuln(_),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(S!==0){var q=1;for(O=p(E,B,E.length,I),B=0;B<S;B++)q*=I;this.imuln(q),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this.strip()},c.prototype.copy=function(E){E.words=new Array(this.length);for(var I=0;I<this.length;I++)E.words[I]=this.words[I];E.length=this.length,E.negative=this.negative,E.red=this.red},c.prototype.clone=function(){var E=new c(null);return this.copy(E),E},c.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(E,I,N){N.negative=I.negative^E.negative;var w=E.length+I.length|0;N.length=w,w=w-1|0;var _=0|E.words[0],k=0|I.words[0],S=_*k,D=67108863&S,O=S/67108864|0;N.words[0]=D;for(var B=1;B<w;B++){for(var q=O>>>26,H=67108863&O,Q=Math.min(B,I.length-1),M=Math.max(0,B-E.length+1);M<=Q;M++){var K=B-M|0;q+=(S=(_=0|E.words[K])*(k=0|I.words[M])+H)/67108864|0,H=67108863&S}N.words[B]=0|H,O=0|q}return O!==0?N.words[B]=0|O:N.length--,N.strip()}c.prototype.toString=function(E,I){var N;if(I=0|I||1,(E=E||10)===16||E==="hex"){N="";for(var w=0,_=0,k=0;k<this.length;k++){var S=this.words[k],D=(16777215&(S<<w|_)).toString(16);N=(_=S>>>24-w&16777215)!==0||k!==this.length-1?g[6-D.length]+D+N:D+N,(w+=2)>=26&&(w-=26,k--)}for(_!==0&&(N=_.toString(16)+N);N.length%I!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(E===(0|E)&&E>=2&&E<=36){var O=y[E],B=m[E];N="";var q=this.clone();for(q.negative=0;!q.isZero();){var H=q.modn(B).toString(E);N=(q=q.idivn(B)).isZero()?H+N:g[O-H.length]+H+N}for(this.isZero()&&(N="0"+N);N.length%I!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(E,I){return o(d!==void 0),this.toArrayLike(d,E,I)},c.prototype.toArray=function(E,I){return this.toArrayLike(Array,E,I)},c.prototype.toArrayLike=function(E,I,N){var w=this.byteLength(),_=N||Math.max(1,w);o(w<=_,"byte array longer than desired length"),o(_>0,"Requested array length <= 0"),this.strip();var k,S,D=I==="le",O=new E(_),B=this.clone();if(D){for(S=0;!B.isZero();S++)k=B.andln(255),B.iushrn(8),O[S]=k;for(;S<_;S++)O[S]=0}else{for(S=0;S<_-w;S++)O[S]=0;for(S=0;!B.isZero();S++)k=B.andln(255),B.iushrn(8),O[_-S-1]=k}return O},Math.clz32?c.prototype._countBits=function(E){return 32-Math.clz32(E)}:c.prototype._countBits=function(E){var I=E,N=0;return I>=4096&&(N+=13,I>>>=13),I>=64&&(N+=7,I>>>=7),I>=8&&(N+=4,I>>>=4),I>=2&&(N+=2,I>>>=2),N+I},c.prototype._zeroBits=function(E){if(E===0)return 26;var I=E,N=0;return(8191&I)==0&&(N+=13,I>>>=13),(127&I)==0&&(N+=7,I>>>=7),(15&I)==0&&(N+=4,I>>>=4),(3&I)==0&&(N+=2,I>>>=2),(1&I)==0&&N++,N},c.prototype.bitLength=function(){var E=this.words[this.length-1],I=this._countBits(E);return 26*(this.length-1)+I},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,I=0;I<this.length;I++){var N=this._zeroBits(this.words[I]);if(E+=N,N!==26)break}return E},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},c.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var I=0;I<E.length;I++)this.words[I]=this.words[I]|E.words[I];return this.strip()},c.prototype.ior=function(E){return o((this.negative|E.negative)==0),this.iuor(E)},c.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},c.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},c.prototype.iuand=function(E){var I;I=this.length>E.length?E:this;for(var N=0;N<I.length;N++)this.words[N]=this.words[N]&E.words[N];return this.length=I.length,this.strip()},c.prototype.iand=function(E){return o((this.negative|E.negative)==0),this.iuand(E)},c.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},c.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},c.prototype.iuxor=function(E){var I,N;this.length>E.length?(I=this,N=E):(I=E,N=this);for(var w=0;w<N.length;w++)this.words[w]=I.words[w]^N.words[w];if(this!==I)for(;w<I.length;w++)this.words[w]=I.words[w];return this.length=I.length,this.strip()},c.prototype.ixor=function(E){return o((this.negative|E.negative)==0),this.iuxor(E)},c.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},c.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},c.prototype.inotn=function(E){o(typeof E=="number"&&E>=0);var I=0|Math.ceil(E/26),N=E%26;this._expand(I),N>0&&I--;for(var w=0;w<I;w++)this.words[w]=67108863&~this.words[w];return N>0&&(this.words[w]=~this.words[w]&67108863>>26-N),this.strip()},c.prototype.notn=function(E){return this.clone().inotn(E)},c.prototype.setn=function(E,I){o(typeof E=="number"&&E>=0);var N=E/26|0,w=E%26;return this._expand(N+1),this.words[N]=I?this.words[N]|1<<w:this.words[N]&~(1<<w),this.strip()},c.prototype.iadd=function(E){var I,N,w;if(this.negative!==0&&E.negative===0)return this.negative=0,I=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,I=this.isub(E),E.negative=1,I._normSign();this.length>E.length?(N=this,w=E):(N=E,w=this);for(var _=0,k=0;k<w.length;k++)I=(0|N.words[k])+(0|w.words[k])+_,this.words[k]=67108863&I,_=I>>>26;for(;_!==0&&k<N.length;k++)I=(0|N.words[k])+_,this.words[k]=67108863&I,_=I>>>26;if(this.length=N.length,_!==0)this.words[this.length]=_,this.length++;else if(N!==this)for(;k<N.length;k++)this.words[k]=N.words[k];return this},c.prototype.add=function(E){var I;return E.negative!==0&&this.negative===0?(E.negative=0,I=this.sub(E),E.negative^=1,I):E.negative===0&&this.negative!==0?(this.negative=0,I=E.sub(this),this.negative=1,I):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},c.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var I=this.iadd(E);return E.negative=1,I._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var N,w,_=this.cmp(E);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(N=this,w=E):(N=E,w=this);for(var k=0,S=0;S<w.length;S++)k=(I=(0|N.words[S])-(0|w.words[S])+k)>>26,this.words[S]=67108863&I;for(;k!==0&&S<N.length;S++)k=(I=(0|N.words[S])+k)>>26,this.words[S]=67108863&I;if(k===0&&S<N.length&&N!==this)for(;S<N.length;S++)this.words[S]=N.words[S];return this.length=Math.max(this.length,S),N!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(E){return this.clone().isub(E)};var b=function(E,I,N){var w,_,k,S=E.words,D=I.words,O=N.words,B=0,q=0|S[0],H=8191&q,Q=q>>>13,M=0|S[1],K=8191&M,z=M>>>13,F=0|S[2],W=8191&F,J=F>>>13,le=0|S[3],ne=8191&le,ue=le>>>13,Z=0|S[4],te=8191&Z,X=Z>>>13,ae=0|S[5],re=8191&ae,ee=ae>>>13,G=0|S[6],Y=8191&G,ie=G>>>13,ce=0|S[7],me=8191&ce,xe=ce>>>13,Ce=0|S[8],Ae=8191&Ce,$e=Ce>>>13,Le=0|S[9],rt=8191&Le,qe=Le>>>13,Ve=0|D[0],he=8191&Ve,de=Ve>>>13,Pe=0|D[1],Oe=8191&Pe,yt=Pe>>>13,Mt=0|D[2],it=8191&Mt,zt=Mt>>>13,nt=0|D[3],gt=8191&nt,ut=nt>>>13,sr=0|D[4],_t=8191&sr,ir=sr>>>13,Wt=0|D[5],Et=8191&Wt,hr=Wt>>>13,er=0|D[6],Bt=8191&er,be=er>>>13,Se=0|D[7],De=8191&Se,He=Se>>>13,kt=0|D[8],Ze=8191&kt,bt=kt>>>13,Ct=0|D[9],mt=8191&Ct,Rt=Ct>>>13;N.negative=E.negative^I.negative,N.length=19;var It=(B+(w=Math.imul(H,he))|0)+((8191&(_=(_=Math.imul(H,de))+Math.imul(Q,he)|0))<<13)|0;B=((k=Math.imul(Q,de))+(_>>>13)|0)+(It>>>26)|0,It&=67108863,w=Math.imul(K,he),_=(_=Math.imul(K,de))+Math.imul(z,he)|0,k=Math.imul(z,de);var $t=(B+(w=w+Math.imul(H,Oe)|0)|0)+((8191&(_=(_=_+Math.imul(H,yt)|0)+Math.imul(Q,Oe)|0))<<13)|0;B=((k=k+Math.imul(Q,yt)|0)+(_>>>13)|0)+($t>>>26)|0,$t&=67108863,w=Math.imul(W,he),_=(_=Math.imul(W,de))+Math.imul(J,he)|0,k=Math.imul(J,de),w=w+Math.imul(K,Oe)|0,_=(_=_+Math.imul(K,yt)|0)+Math.imul(z,Oe)|0,k=k+Math.imul(z,yt)|0;var Gt=(B+(w=w+Math.imul(H,it)|0)|0)+((8191&(_=(_=_+Math.imul(H,zt)|0)+Math.imul(Q,it)|0))<<13)|0;B=((k=k+Math.imul(Q,zt)|0)+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,w=Math.imul(ne,he),_=(_=Math.imul(ne,de))+Math.imul(ue,he)|0,k=Math.imul(ue,de),w=w+Math.imul(W,Oe)|0,_=(_=_+Math.imul(W,yt)|0)+Math.imul(J,Oe)|0,k=k+Math.imul(J,yt)|0,w=w+Math.imul(K,it)|0,_=(_=_+Math.imul(K,zt)|0)+Math.imul(z,it)|0,k=k+Math.imul(z,zt)|0;var $r=(B+(w=w+Math.imul(H,gt)|0)|0)+((8191&(_=(_=_+Math.imul(H,ut)|0)+Math.imul(Q,gt)|0))<<13)|0;B=((k=k+Math.imul(Q,ut)|0)+(_>>>13)|0)+($r>>>26)|0,$r&=67108863,w=Math.imul(te,he),_=(_=Math.imul(te,de))+Math.imul(X,he)|0,k=Math.imul(X,de),w=w+Math.imul(ne,Oe)|0,_=(_=_+Math.imul(ne,yt)|0)+Math.imul(ue,Oe)|0,k=k+Math.imul(ue,yt)|0,w=w+Math.imul(W,it)|0,_=(_=_+Math.imul(W,zt)|0)+Math.imul(J,it)|0,k=k+Math.imul(J,zt)|0,w=w+Math.imul(K,gt)|0,_=(_=_+Math.imul(K,ut)|0)+Math.imul(z,gt)|0,k=k+Math.imul(z,ut)|0;var pr=(B+(w=w+Math.imul(H,_t)|0)|0)+((8191&(_=(_=_+Math.imul(H,ir)|0)+Math.imul(Q,_t)|0))<<13)|0;B=((k=k+Math.imul(Q,ir)|0)+(_>>>13)|0)+(pr>>>26)|0,pr&=67108863,w=Math.imul(re,he),_=(_=Math.imul(re,de))+Math.imul(ee,he)|0,k=Math.imul(ee,de),w=w+Math.imul(te,Oe)|0,_=(_=_+Math.imul(te,yt)|0)+Math.imul(X,Oe)|0,k=k+Math.imul(X,yt)|0,w=w+Math.imul(ne,it)|0,_=(_=_+Math.imul(ne,zt)|0)+Math.imul(ue,it)|0,k=k+Math.imul(ue,zt)|0,w=w+Math.imul(W,gt)|0,_=(_=_+Math.imul(W,ut)|0)+Math.imul(J,gt)|0,k=k+Math.imul(J,ut)|0,w=w+Math.imul(K,_t)|0,_=(_=_+Math.imul(K,ir)|0)+Math.imul(z,_t)|0,k=k+Math.imul(z,ir)|0;var ge=(B+(w=w+Math.imul(H,Et)|0)|0)+((8191&(_=(_=_+Math.imul(H,hr)|0)+Math.imul(Q,Et)|0))<<13)|0;B=((k=k+Math.imul(Q,hr)|0)+(_>>>13)|0)+(ge>>>26)|0,ge&=67108863,w=Math.imul(Y,he),_=(_=Math.imul(Y,de))+Math.imul(ie,he)|0,k=Math.imul(ie,de),w=w+Math.imul(re,Oe)|0,_=(_=_+Math.imul(re,yt)|0)+Math.imul(ee,Oe)|0,k=k+Math.imul(ee,yt)|0,w=w+Math.imul(te,it)|0,_=(_=_+Math.imul(te,zt)|0)+Math.imul(X,it)|0,k=k+Math.imul(X,zt)|0,w=w+Math.imul(ne,gt)|0,_=(_=_+Math.imul(ne,ut)|0)+Math.imul(ue,gt)|0,k=k+Math.imul(ue,ut)|0,w=w+Math.imul(W,_t)|0,_=(_=_+Math.imul(W,ir)|0)+Math.imul(J,_t)|0,k=k+Math.imul(J,ir)|0,w=w+Math.imul(K,Et)|0,_=(_=_+Math.imul(K,hr)|0)+Math.imul(z,Et)|0,k=k+Math.imul(z,hr)|0;var Ke=(B+(w=w+Math.imul(H,Bt)|0)|0)+((8191&(_=(_=_+Math.imul(H,be)|0)+Math.imul(Q,Bt)|0))<<13)|0;B=((k=k+Math.imul(Q,be)|0)+(_>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,w=Math.imul(me,he),_=(_=Math.imul(me,de))+Math.imul(xe,he)|0,k=Math.imul(xe,de),w=w+Math.imul(Y,Oe)|0,_=(_=_+Math.imul(Y,yt)|0)+Math.imul(ie,Oe)|0,k=k+Math.imul(ie,yt)|0,w=w+Math.imul(re,it)|0,_=(_=_+Math.imul(re,zt)|0)+Math.imul(ee,it)|0,k=k+Math.imul(ee,zt)|0,w=w+Math.imul(te,gt)|0,_=(_=_+Math.imul(te,ut)|0)+Math.imul(X,gt)|0,k=k+Math.imul(X,ut)|0,w=w+Math.imul(ne,_t)|0,_=(_=_+Math.imul(ne,ir)|0)+Math.imul(ue,_t)|0,k=k+Math.imul(ue,ir)|0,w=w+Math.imul(W,Et)|0,_=(_=_+Math.imul(W,hr)|0)+Math.imul(J,Et)|0,k=k+Math.imul(J,hr)|0,w=w+Math.imul(K,Bt)|0,_=(_=_+Math.imul(K,be)|0)+Math.imul(z,Bt)|0,k=k+Math.imul(z,be)|0;var oe=(B+(w=w+Math.imul(H,De)|0)|0)+((8191&(_=(_=_+Math.imul(H,He)|0)+Math.imul(Q,De)|0))<<13)|0;B=((k=k+Math.imul(Q,He)|0)+(_>>>13)|0)+(oe>>>26)|0,oe&=67108863,w=Math.imul(Ae,he),_=(_=Math.imul(Ae,de))+Math.imul($e,he)|0,k=Math.imul($e,de),w=w+Math.imul(me,Oe)|0,_=(_=_+Math.imul(me,yt)|0)+Math.imul(xe,Oe)|0,k=k+Math.imul(xe,yt)|0,w=w+Math.imul(Y,it)|0,_=(_=_+Math.imul(Y,zt)|0)+Math.imul(ie,it)|0,k=k+Math.imul(ie,zt)|0,w=w+Math.imul(re,gt)|0,_=(_=_+Math.imul(re,ut)|0)+Math.imul(ee,gt)|0,k=k+Math.imul(ee,ut)|0,w=w+Math.imul(te,_t)|0,_=(_=_+Math.imul(te,ir)|0)+Math.imul(X,_t)|0,k=k+Math.imul(X,ir)|0,w=w+Math.imul(ne,Et)|0,_=(_=_+Math.imul(ne,hr)|0)+Math.imul(ue,Et)|0,k=k+Math.imul(ue,hr)|0,w=w+Math.imul(W,Bt)|0,_=(_=_+Math.imul(W,be)|0)+Math.imul(J,Bt)|0,k=k+Math.imul(J,be)|0,w=w+Math.imul(K,De)|0,_=(_=_+Math.imul(K,He)|0)+Math.imul(z,De)|0,k=k+Math.imul(z,He)|0;var ve=(B+(w=w+Math.imul(H,Ze)|0)|0)+((8191&(_=(_=_+Math.imul(H,bt)|0)+Math.imul(Q,Ze)|0))<<13)|0;B=((k=k+Math.imul(Q,bt)|0)+(_>>>13)|0)+(ve>>>26)|0,ve&=67108863,w=Math.imul(rt,he),_=(_=Math.imul(rt,de))+Math.imul(qe,he)|0,k=Math.imul(qe,de),w=w+Math.imul(Ae,Oe)|0,_=(_=_+Math.imul(Ae,yt)|0)+Math.imul($e,Oe)|0,k=k+Math.imul($e,yt)|0,w=w+Math.imul(me,it)|0,_=(_=_+Math.imul(me,zt)|0)+Math.imul(xe,it)|0,k=k+Math.imul(xe,zt)|0,w=w+Math.imul(Y,gt)|0,_=(_=_+Math.imul(Y,ut)|0)+Math.imul(ie,gt)|0,k=k+Math.imul(ie,ut)|0,w=w+Math.imul(re,_t)|0,_=(_=_+Math.imul(re,ir)|0)+Math.imul(ee,_t)|0,k=k+Math.imul(ee,ir)|0,w=w+Math.imul(te,Et)|0,_=(_=_+Math.imul(te,hr)|0)+Math.imul(X,Et)|0,k=k+Math.imul(X,hr)|0,w=w+Math.imul(ne,Bt)|0,_=(_=_+Math.imul(ne,be)|0)+Math.imul(ue,Bt)|0,k=k+Math.imul(ue,be)|0,w=w+Math.imul(W,De)|0,_=(_=_+Math.imul(W,He)|0)+Math.imul(J,De)|0,k=k+Math.imul(J,He)|0,w=w+Math.imul(K,Ze)|0,_=(_=_+Math.imul(K,bt)|0)+Math.imul(z,Ze)|0,k=k+Math.imul(z,bt)|0;var Te=(B+(w=w+Math.imul(H,mt)|0)|0)+((8191&(_=(_=_+Math.imul(H,Rt)|0)+Math.imul(Q,mt)|0))<<13)|0;B=((k=k+Math.imul(Q,Rt)|0)+(_>>>13)|0)+(Te>>>26)|0,Te&=67108863,w=Math.imul(rt,Oe),_=(_=Math.imul(rt,yt))+Math.imul(qe,Oe)|0,k=Math.imul(qe,yt),w=w+Math.imul(Ae,it)|0,_=(_=_+Math.imul(Ae,zt)|0)+Math.imul($e,it)|0,k=k+Math.imul($e,zt)|0,w=w+Math.imul(me,gt)|0,_=(_=_+Math.imul(me,ut)|0)+Math.imul(xe,gt)|0,k=k+Math.imul(xe,ut)|0,w=w+Math.imul(Y,_t)|0,_=(_=_+Math.imul(Y,ir)|0)+Math.imul(ie,_t)|0,k=k+Math.imul(ie,ir)|0,w=w+Math.imul(re,Et)|0,_=(_=_+Math.imul(re,hr)|0)+Math.imul(ee,Et)|0,k=k+Math.imul(ee,hr)|0,w=w+Math.imul(te,Bt)|0,_=(_=_+Math.imul(te,be)|0)+Math.imul(X,Bt)|0,k=k+Math.imul(X,be)|0,w=w+Math.imul(ne,De)|0,_=(_=_+Math.imul(ne,He)|0)+Math.imul(ue,De)|0,k=k+Math.imul(ue,He)|0,w=w+Math.imul(W,Ze)|0,_=(_=_+Math.imul(W,bt)|0)+Math.imul(J,Ze)|0,k=k+Math.imul(J,bt)|0;var Re=(B+(w=w+Math.imul(K,mt)|0)|0)+((8191&(_=(_=_+Math.imul(K,Rt)|0)+Math.imul(z,mt)|0))<<13)|0;B=((k=k+Math.imul(z,Rt)|0)+(_>>>13)|0)+(Re>>>26)|0,Re&=67108863,w=Math.imul(rt,it),_=(_=Math.imul(rt,zt))+Math.imul(qe,it)|0,k=Math.imul(qe,zt),w=w+Math.imul(Ae,gt)|0,_=(_=_+Math.imul(Ae,ut)|0)+Math.imul($e,gt)|0,k=k+Math.imul($e,ut)|0,w=w+Math.imul(me,_t)|0,_=(_=_+Math.imul(me,ir)|0)+Math.imul(xe,_t)|0,k=k+Math.imul(xe,ir)|0,w=w+Math.imul(Y,Et)|0,_=(_=_+Math.imul(Y,hr)|0)+Math.imul(ie,Et)|0,k=k+Math.imul(ie,hr)|0,w=w+Math.imul(re,Bt)|0,_=(_=_+Math.imul(re,be)|0)+Math.imul(ee,Bt)|0,k=k+Math.imul(ee,be)|0,w=w+Math.imul(te,De)|0,_=(_=_+Math.imul(te,He)|0)+Math.imul(X,De)|0,k=k+Math.imul(X,He)|0,w=w+Math.imul(ne,Ze)|0,_=(_=_+Math.imul(ne,bt)|0)+Math.imul(ue,Ze)|0,k=k+Math.imul(ue,bt)|0;var dt=(B+(w=w+Math.imul(W,mt)|0)|0)+((8191&(_=(_=_+Math.imul(W,Rt)|0)+Math.imul(J,mt)|0))<<13)|0;B=((k=k+Math.imul(J,Rt)|0)+(_>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(rt,gt),_=(_=Math.imul(rt,ut))+Math.imul(qe,gt)|0,k=Math.imul(qe,ut),w=w+Math.imul(Ae,_t)|0,_=(_=_+Math.imul(Ae,ir)|0)+Math.imul($e,_t)|0,k=k+Math.imul($e,ir)|0,w=w+Math.imul(me,Et)|0,_=(_=_+Math.imul(me,hr)|0)+Math.imul(xe,Et)|0,k=k+Math.imul(xe,hr)|0,w=w+Math.imul(Y,Bt)|0,_=(_=_+Math.imul(Y,be)|0)+Math.imul(ie,Bt)|0,k=k+Math.imul(ie,be)|0,w=w+Math.imul(re,De)|0,_=(_=_+Math.imul(re,He)|0)+Math.imul(ee,De)|0,k=k+Math.imul(ee,He)|0,w=w+Math.imul(te,Ze)|0,_=(_=_+Math.imul(te,bt)|0)+Math.imul(X,Ze)|0,k=k+Math.imul(X,bt)|0;var Xe=(B+(w=w+Math.imul(ne,mt)|0)|0)+((8191&(_=(_=_+Math.imul(ne,Rt)|0)+Math.imul(ue,mt)|0))<<13)|0;B=((k=k+Math.imul(ue,Rt)|0)+(_>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,w=Math.imul(rt,_t),_=(_=Math.imul(rt,ir))+Math.imul(qe,_t)|0,k=Math.imul(qe,ir),w=w+Math.imul(Ae,Et)|0,_=(_=_+Math.imul(Ae,hr)|0)+Math.imul($e,Et)|0,k=k+Math.imul($e,hr)|0,w=w+Math.imul(me,Bt)|0,_=(_=_+Math.imul(me,be)|0)+Math.imul(xe,Bt)|0,k=k+Math.imul(xe,be)|0,w=w+Math.imul(Y,De)|0,_=(_=_+Math.imul(Y,He)|0)+Math.imul(ie,De)|0,k=k+Math.imul(ie,He)|0,w=w+Math.imul(re,Ze)|0,_=(_=_+Math.imul(re,bt)|0)+Math.imul(ee,Ze)|0,k=k+Math.imul(ee,bt)|0;var Qe=(B+(w=w+Math.imul(te,mt)|0)|0)+((8191&(_=(_=_+Math.imul(te,Rt)|0)+Math.imul(X,mt)|0))<<13)|0;B=((k=k+Math.imul(X,Rt)|0)+(_>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,w=Math.imul(rt,Et),_=(_=Math.imul(rt,hr))+Math.imul(qe,Et)|0,k=Math.imul(qe,hr),w=w+Math.imul(Ae,Bt)|0,_=(_=_+Math.imul(Ae,be)|0)+Math.imul($e,Bt)|0,k=k+Math.imul($e,be)|0,w=w+Math.imul(me,De)|0,_=(_=_+Math.imul(me,He)|0)+Math.imul(xe,De)|0,k=k+Math.imul(xe,He)|0,w=w+Math.imul(Y,Ze)|0,_=(_=_+Math.imul(Y,bt)|0)+Math.imul(ie,Ze)|0,k=k+Math.imul(ie,bt)|0;var Ut=(B+(w=w+Math.imul(re,mt)|0)|0)+((8191&(_=(_=_+Math.imul(re,Rt)|0)+Math.imul(ee,mt)|0))<<13)|0;B=((k=k+Math.imul(ee,Rt)|0)+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,w=Math.imul(rt,Bt),_=(_=Math.imul(rt,be))+Math.imul(qe,Bt)|0,k=Math.imul(qe,be),w=w+Math.imul(Ae,De)|0,_=(_=_+Math.imul(Ae,He)|0)+Math.imul($e,De)|0,k=k+Math.imul($e,He)|0,w=w+Math.imul(me,Ze)|0,_=(_=_+Math.imul(me,bt)|0)+Math.imul(xe,Ze)|0,k=k+Math.imul(xe,bt)|0;var Xt=(B+(w=w+Math.imul(Y,mt)|0)|0)+((8191&(_=(_=_+Math.imul(Y,Rt)|0)+Math.imul(ie,mt)|0))<<13)|0;B=((k=k+Math.imul(ie,Rt)|0)+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,w=Math.imul(rt,De),_=(_=Math.imul(rt,He))+Math.imul(qe,De)|0,k=Math.imul(qe,He),w=w+Math.imul(Ae,Ze)|0,_=(_=_+Math.imul(Ae,bt)|0)+Math.imul($e,Ze)|0,k=k+Math.imul($e,bt)|0;var Vt=(B+(w=w+Math.imul(me,mt)|0)|0)+((8191&(_=(_=_+Math.imul(me,Rt)|0)+Math.imul(xe,mt)|0))<<13)|0;B=((k=k+Math.imul(xe,Rt)|0)+(_>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,w=Math.imul(rt,Ze),_=(_=Math.imul(rt,bt))+Math.imul(qe,Ze)|0,k=Math.imul(qe,bt);var St=(B+(w=w+Math.imul(Ae,mt)|0)|0)+((8191&(_=(_=_+Math.imul(Ae,Rt)|0)+Math.imul($e,mt)|0))<<13)|0;B=((k=k+Math.imul($e,Rt)|0)+(_>>>13)|0)+(St>>>26)|0,St&=67108863;var _r=(B+(w=Math.imul(rt,mt))|0)+((8191&(_=(_=Math.imul(rt,Rt))+Math.imul(qe,mt)|0))<<13)|0;return B=((k=Math.imul(qe,Rt))+(_>>>13)|0)+(_r>>>26)|0,_r&=67108863,O[0]=It,O[1]=$t,O[2]=Gt,O[3]=$r,O[4]=pr,O[5]=ge,O[6]=Ke,O[7]=oe,O[8]=ve,O[9]=Te,O[10]=Re,O[11]=dt,O[12]=Xe,O[13]=Qe,O[14]=Ut,O[15]=Xt,O[16]=Vt,O[17]=St,O[18]=_r,B!==0&&(O[19]=B,N.length++),N};function x(E,I,N){return new j().mulp(E,I,N)}function j(E,I){this.x=E,this.y=I}Math.imul||(b=v),c.prototype.mulTo=function(E,I){var N=this.length+E.length;return this.length===10&&E.length===10?b(this,E,I):N<63?v(this,E,I):N<1024?(function(w,_,k){k.negative=_.negative^w.negative,k.length=w.length+_.length;for(var S=0,D=0,O=0;O<k.length-1;O++){var B=D;D=0;for(var q=67108863&S,H=Math.min(O,_.length-1),Q=Math.max(0,O-w.length+1);Q<=H;Q++){var M=O-Q,K=(0|w.words[M])*(0|_.words[Q]),z=67108863&K;q=67108863&(z=z+q|0),D+=(B=(B=B+(K/67108864|0)|0)+(z>>>26)|0)>>>26,B&=67108863}k.words[O]=q,S=B,B=D}return S!==0?k.words[O]=S:k.length--,k.strip()})(this,E,I):x(this,E,I)},j.prototype.makeRBT=function(E){for(var I=new Array(E),N=c.prototype._countBits(E)-1,w=0;w<E;w++)I[w]=this.revBin(w,N,E);return I},j.prototype.revBin=function(E,I,N){if(E===0||E===N-1)return E;for(var w=0,_=0;_<I;_++)w|=(1&E)<<I-_-1,E>>=1;return w},j.prototype.permute=function(E,I,N,w,_,k){for(var S=0;S<k;S++)w[S]=I[E[S]],_[S]=N[E[S]]},j.prototype.transform=function(E,I,N,w,_,k){this.permute(k,E,I,N,w,_);for(var S=1;S<_;S<<=1)for(var D=S<<1,O=Math.cos(2*Math.PI/D),B=Math.sin(2*Math.PI/D),q=0;q<_;q+=D)for(var H=O,Q=B,M=0;M<S;M++){var K=N[q+M],z=w[q+M],F=N[q+M+S],W=w[q+M+S],J=H*F-Q*W;W=H*W+Q*F,F=J,N[q+M]=K+F,w[q+M]=z+W,N[q+M+S]=K-F,w[q+M+S]=z-W,M!==D&&(J=O*H-B*Q,Q=O*Q+B*H,H=J)}},j.prototype.guessLen13b=function(E,I){var N=1|Math.max(I,E),w=1&N,_=0;for(N=N/2|0;N;N>>>=1)_++;return 1<<_+1+w},j.prototype.conjugate=function(E,I,N){if(!(N<=1))for(var w=0;w<N/2;w++){var _=E[w];E[w]=E[N-w-1],E[N-w-1]=_,_=I[w],I[w]=-I[N-w-1],I[N-w-1]=-_}},j.prototype.normalize13b=function(E,I){for(var N=0,w=0;w<I/2;w++){var _=8192*Math.round(E[2*w+1]/I)+Math.round(E[2*w]/I)+N;E[w]=67108863&_,N=_<67108864?0:_/67108864|0}return E},j.prototype.convert13b=function(E,I,N,w){for(var _=0,k=0;k<I;k++)_+=0|E[k],N[2*k]=8191&_,_>>>=13,N[2*k+1]=8191&_,_>>>=13;for(k=2*I;k<w;++k)N[k]=0;o(_===0),o((-8192&_)==0)},j.prototype.stub=function(E){for(var I=new Array(E),N=0;N<E;N++)I[N]=0;return I},j.prototype.mulp=function(E,I,N){var w=2*this.guessLen13b(E.length,I.length),_=this.makeRBT(w),k=this.stub(w),S=new Array(w),D=new Array(w),O=new Array(w),B=new Array(w),q=new Array(w),H=new Array(w),Q=N.words;Q.length=w,this.convert13b(E.words,E.length,S,w),this.convert13b(I.words,I.length,B,w),this.transform(S,k,D,O,w,_),this.transform(B,k,q,H,w,_);for(var M=0;M<w;M++){var K=D[M]*q[M]-O[M]*H[M];O[M]=D[M]*H[M]+O[M]*q[M],D[M]=K}return this.conjugate(D,O,w),this.transform(D,O,Q,k,w,_),this.conjugate(Q,k,w),this.normalize13b(Q,w),N.negative=E.negative^I.negative,N.length=E.length+I.length,N.strip()},c.prototype.mul=function(E){var I=new c(null);return I.words=new Array(this.length+E.length),this.mulTo(E,I)},c.prototype.mulf=function(E){var I=new c(null);return I.words=new Array(this.length+E.length),x(this,E,I)},c.prototype.imul=function(E){return this.clone().mulTo(E,this)},c.prototype.imuln=function(E){o(typeof E=="number"),o(E<67108864);for(var I=0,N=0;N<this.length;N++){var w=(0|this.words[N])*E,_=(67108863&w)+(67108863&I);I>>=26,I+=w/67108864|0,I+=_>>>26,this.words[N]=67108863&_}return I!==0&&(this.words[N]=I,this.length++),this},c.prototype.muln=function(E){return this.clone().imuln(E)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(E){var I=(function(k){for(var S=new Array(k.bitLength()),D=0;D<S.length;D++){var O=D/26|0,B=D%26;S[D]=(k.words[O]&1<<B)>>>B}return S})(E);if(I.length===0)return new c(1);for(var N=this,w=0;w<I.length&&I[w]===0;w++,N=N.sqr());if(++w<I.length)for(var _=N.sqr();w<I.length;w++,_=_.sqr())I[w]!==0&&(N=N.mul(_));return N},c.prototype.iushln=function(E){o(typeof E=="number"&&E>=0);var I,N=E%26,w=(E-N)/26,_=67108863>>>26-N<<26-N;if(N!==0){var k=0;for(I=0;I<this.length;I++){var S=this.words[I]&_,D=(0|this.words[I])-S<<N;this.words[I]=D|k,k=S>>>26-N}k&&(this.words[I]=k,this.length++)}if(w!==0){for(I=this.length-1;I>=0;I--)this.words[I+w]=this.words[I];for(I=0;I<w;I++)this.words[I]=0;this.length+=w}return this.strip()},c.prototype.ishln=function(E){return o(this.negative===0),this.iushln(E)},c.prototype.iushrn=function(E,I,N){var w;o(typeof E=="number"&&E>=0),w=I?(I-I%26)/26:0;var _=E%26,k=Math.min((E-_)/26,this.length),S=67108863^67108863>>>_<<_,D=N;if(w-=k,w=Math.max(0,w),D){for(var O=0;O<k;O++)D.words[O]=this.words[O];D.length=k}if(k!==0)if(this.length>k)for(this.length-=k,O=0;O<this.length;O++)this.words[O]=this.words[O+k];else this.words[0]=0,this.length=1;var B=0;for(O=this.length-1;O>=0&&(B!==0||O>=w);O--){var q=0|this.words[O];this.words[O]=B<<26-_|q>>>_,B=q&S}return D&&B!==0&&(D.words[D.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(E,I,N){return o(this.negative===0),this.iushrn(E,I,N)},c.prototype.shln=function(E){return this.clone().ishln(E)},c.prototype.ushln=function(E){return this.clone().iushln(E)},c.prototype.shrn=function(E){return this.clone().ishrn(E)},c.prototype.ushrn=function(E){return this.clone().iushrn(E)},c.prototype.testn=function(E){o(typeof E=="number"&&E>=0);var I=E%26,N=(E-I)/26,w=1<<I;return!(this.length<=N)&&!!(this.words[N]&w)},c.prototype.imaskn=function(E){o(typeof E=="number"&&E>=0);var I=E%26,N=(E-I)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(I!==0&&N++,this.length=Math.min(N,this.length),I!==0){var w=67108863^67108863>>>I<<I;this.words[this.length-1]&=w}return this.strip()},c.prototype.maskn=function(E){return this.clone().imaskn(E)},c.prototype.iaddn=function(E){return o(typeof E=="number"),o(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},c.prototype._iaddn=function(E){this.words[0]+=E;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},c.prototype.isubn=function(E){if(o(typeof E=="number"),o(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},c.prototype.addn=function(E){return this.clone().iaddn(E)},c.prototype.subn=function(E){return this.clone().isubn(E)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(E,I,N){var w,_,k=E.length+N;this._expand(k);var S=0;for(w=0;w<E.length;w++){_=(0|this.words[w+N])+S;var D=(0|E.words[w])*I;S=((_-=67108863&D)>>26)-(D/67108864|0),this.words[w+N]=67108863&_}for(;w<this.length-N;w++)S=(_=(0|this.words[w+N])+S)>>26,this.words[w+N]=67108863&_;if(S===0)return this.strip();for(o(S===-1),S=0,w=0;w<this.length;w++)S=(_=-(0|this.words[w])+S)>>26,this.words[w]=67108863&_;return this.negative=1,this.strip()},c.prototype._wordDiv=function(E,I){var N=(this.length,E.length),w=this.clone(),_=E,k=0|_.words[_.length-1];(N=26-this._countBits(k))!==0&&(_=_.ushln(N),w.iushln(N),k=0|_.words[_.length-1]);var S,D=w.length-_.length;if(I!=="mod"){(S=new c(null)).length=D+1,S.words=new Array(S.length);for(var O=0;O<S.length;O++)S.words[O]=0}var B=w.clone()._ishlnsubmul(_,1,D);B.negative===0&&(w=B,S&&(S.words[D]=1));for(var q=D-1;q>=0;q--){var H=67108864*(0|w.words[_.length+q])+(0|w.words[_.length+q-1]);for(H=Math.min(H/k|0,67108863),w._ishlnsubmul(_,H,q);w.negative!==0;)H--,w.negative=0,w._ishlnsubmul(_,1,q),w.isZero()||(w.negative^=1);S&&(S.words[q]=H)}return S&&S.strip(),w.strip(),I!=="div"&&N!==0&&w.iushrn(N),{div:S||null,mod:w}},c.prototype.divmod=function(E,I,N){return o(!E.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&E.negative===0?(k=this.neg().divmod(E,I),I!=="mod"&&(w=k.div.neg()),I!=="div"&&(_=k.mod.neg(),N&&_.negative!==0&&_.iadd(E)),{div:w,mod:_}):this.negative===0&&E.negative!==0?(k=this.divmod(E.neg(),I),I!=="mod"&&(w=k.div.neg()),{div:w,mod:k.mod}):(this.negative&E.negative)!=0?(k=this.neg().divmod(E.neg(),I),I!=="div"&&(_=k.mod.neg(),N&&_.negative!==0&&_.isub(E)),{div:k.div,mod:_}):E.length>this.length||this.cmp(E)<0?{div:new c(0),mod:this}:E.length===1?I==="div"?{div:this.divn(E.words[0]),mod:null}:I==="mod"?{div:null,mod:new c(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new c(this.modn(E.words[0]))}:this._wordDiv(E,I);var w,_,k},c.prototype.div=function(E){return this.divmod(E,"div",!1).div},c.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},c.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},c.prototype.divRound=function(E){var I=this.divmod(E);if(I.mod.isZero())return I.div;var N=I.div.negative!==0?I.mod.isub(E):I.mod,w=E.ushrn(1),_=E.andln(1),k=N.cmp(w);return k<0||_===1&&k===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},c.prototype.modn=function(E){o(E<=67108863);for(var I=(1<<26)%E,N=0,w=this.length-1;w>=0;w--)N=(I*N+(0|this.words[w]))%E;return N},c.prototype.idivn=function(E){o(E<=67108863);for(var I=0,N=this.length-1;N>=0;N--){var w=(0|this.words[N])+67108864*I;this.words[N]=w/E|0,I=w%E}return this.strip()},c.prototype.divn=function(E){return this.clone().idivn(E)},c.prototype.egcd=function(E){o(E.negative===0),o(!E.isZero());var I=this,N=E.clone();I=I.negative!==0?I.umod(E):I.clone();for(var w=new c(1),_=new c(0),k=new c(0),S=new c(1),D=0;I.isEven()&&N.isEven();)I.iushrn(1),N.iushrn(1),++D;for(var O=N.clone(),B=I.clone();!I.isZero();){for(var q=0,H=1;(I.words[0]&H)==0&&q<26;++q,H<<=1);if(q>0)for(I.iushrn(q);q-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(O),_.isub(B)),w.iushrn(1),_.iushrn(1);for(var Q=0,M=1;(N.words[0]&M)==0&&Q<26;++Q,M<<=1);if(Q>0)for(N.iushrn(Q);Q-- >0;)(k.isOdd()||S.isOdd())&&(k.iadd(O),S.isub(B)),k.iushrn(1),S.iushrn(1);I.cmp(N)>=0?(I.isub(N),w.isub(k),_.isub(S)):(N.isub(I),k.isub(w),S.isub(_))}return{a:k,b:S,gcd:N.iushln(D)}},c.prototype._invmp=function(E){o(E.negative===0),o(!E.isZero());var I=this,N=E.clone();I=I.negative!==0?I.umod(E):I.clone();for(var w,_=new c(1),k=new c(0),S=N.clone();I.cmpn(1)>0&&N.cmpn(1)>0;){for(var D=0,O=1;(I.words[0]&O)==0&&D<26;++D,O<<=1);if(D>0)for(I.iushrn(D);D-- >0;)_.isOdd()&&_.iadd(S),_.iushrn(1);for(var B=0,q=1;(N.words[0]&q)==0&&B<26;++B,q<<=1);if(B>0)for(N.iushrn(B);B-- >0;)k.isOdd()&&k.iadd(S),k.iushrn(1);I.cmp(N)>=0?(I.isub(N),_.isub(k)):(N.isub(I),k.isub(_))}return(w=I.cmpn(1)===0?_:k).cmpn(0)<0&&w.iadd(E),w},c.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var I=this.clone(),N=E.clone();I.negative=0,N.negative=0;for(var w=0;I.isEven()&&N.isEven();w++)I.iushrn(1),N.iushrn(1);for(;;){for(;I.isEven();)I.iushrn(1);for(;N.isEven();)N.iushrn(1);var _=I.cmp(N);if(_<0){var k=I;I=N,N=k}else if(_===0||N.cmpn(1)===0)break;I.isub(N)}return N.iushln(w)},c.prototype.invm=function(E){return this.egcd(E).a.umod(E)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(E){return this.words[0]&E},c.prototype.bincn=function(E){o(typeof E=="number");var I=E%26,N=(E-I)/26,w=1<<I;if(this.length<=N)return this._expand(N+1),this.words[N]|=w,this;for(var _=w,k=N;_!==0&&k<this.length;k++){var S=0|this.words[k];_=(S+=_)>>>26,S&=67108863,this.words[k]=S}return _!==0&&(this.words[k]=_,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(E){var I,N=E<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;if(this.strip(),this.length>1)I=1;else{N&&(E=-E),o(E<=67108863,"Number is too big");var w=0|this.words[0];I=w===E?0:w<E?-1:1}return this.negative!==0?0|-I:I},c.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var I=this.ucmp(E);return this.negative!==0?0|-I:I},c.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var I=0,N=this.length-1;N>=0;N--){var w=0|this.words[N],_=0|E.words[N];if(w!==_){w<_?I=-1:w>_&&(I=1);break}}return I},c.prototype.gtn=function(E){return this.cmpn(E)===1},c.prototype.gt=function(E){return this.cmp(E)===1},c.prototype.gten=function(E){return this.cmpn(E)>=0},c.prototype.gte=function(E){return this.cmp(E)>=0},c.prototype.ltn=function(E){return this.cmpn(E)===-1},c.prototype.lt=function(E){return this.cmp(E)===-1},c.prototype.lten=function(E){return this.cmpn(E)<=0},c.prototype.lte=function(E){return this.cmp(E)<=0},c.prototype.eqn=function(E){return this.cmpn(E)===0},c.prototype.eq=function(E){return this.cmp(E)===0},c.red=function(E){return new V(E)},c.prototype.toRed=function(E){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(E){return this.red=E,this},c.prototype.forceRed=function(E){return o(!this.red,"Already a number in reduction context"),this._forceRed(E)},c.prototype.redAdd=function(E){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},c.prototype.redIAdd=function(E){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},c.prototype.redSub=function(E){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},c.prototype.redISub=function(E){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},c.prototype.redShl=function(E){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},c.prototype.redMul=function(E){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},c.prototype.redIMul=function(E){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(E){return o(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var C={k256:null,p224:null,p192:null,p25519:null};function R(E,I){this.name=E,this.p=new c(I,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function $(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function V(E){if(typeof E=="string"){var I=c._prime(E);this.m=I.p,this.prime=I}else o(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function U(E){V.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R.prototype._tmp=function(){var E=new c(null);return E.words=new Array(Math.ceil(this.n/13)),E},R.prototype.ireduce=function(E){var I,N=E;do this.split(N,this.tmp),I=(N=(N=this.imulK(N)).iadd(this.tmp)).bitLength();while(I>this.n);var w=I<this.n?-1:N.ucmp(this.p);return w===0?(N.words[0]=0,N.length=1):w>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},R.prototype.split=function(E,I){E.iushrn(this.n,0,I)},R.prototype.imulK=function(E){return E.imul(this.k)},u(L,R),L.prototype.split=function(E,I){for(var N=Math.min(E.length,9),w=0;w<N;w++)I.words[w]=E.words[w];if(I.length=N,E.length<=9)return E.words[0]=0,void(E.length=1);var _=E.words[9];for(I.words[I.length++]=4194303&_,w=10;w<E.length;w++){var k=0|E.words[w];E.words[w-10]=(4194303&k)<<4|_>>>22,_=k}_>>>=22,E.words[w-10]=_,_===0&&E.length>10?E.length-=10:E.length-=9},L.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var I=0,N=0;N<E.length;N++){var w=0|E.words[N];I+=977*w,E.words[N]=67108863&I,I=64*w+(I/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},u(A,R),u(P,R),u($,R),$.prototype.imulK=function(E){for(var I=0,N=0;N<E.length;N++){var w=19*(0|E.words[N])+I,_=67108863&w;w>>>=26,E.words[N]=_,I=w}return I!==0&&(E.words[E.length++]=I),E},c._prime=function(E){if(C[E])return C[E];var I;if(E==="k256")I=new L;else if(E==="p224")I=new A;else if(E==="p192")I=new P;else{if(E!=="p25519")throw new Error("Unknown prime "+E);I=new $}return C[E]=I,I},V.prototype._verify1=function(E){o(E.negative===0,"red works only with positives"),o(E.red,"red works only with red numbers")},V.prototype._verify2=function(E,I){o((E.negative|I.negative)==0,"red works only with positives"),o(E.red&&E.red===I.red,"red works only with red numbers")},V.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},V.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},V.prototype.add=function(E,I){this._verify2(E,I);var N=E.add(I);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},V.prototype.iadd=function(E,I){this._verify2(E,I);var N=E.iadd(I);return N.cmp(this.m)>=0&&N.isub(this.m),N},V.prototype.sub=function(E,I){this._verify2(E,I);var N=E.sub(I);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},V.prototype.isub=function(E,I){this._verify2(E,I);var N=E.isub(I);return N.cmpn(0)<0&&N.iadd(this.m),N},V.prototype.shl=function(E,I){return this._verify1(E),this.imod(E.ushln(I))},V.prototype.imul=function(E,I){return this._verify2(E,I),this.imod(E.imul(I))},V.prototype.mul=function(E,I){return this._verify2(E,I),this.imod(E.mul(I))},V.prototype.isqr=function(E){return this.imul(E,E.clone())},V.prototype.sqr=function(E){return this.mul(E,E)},V.prototype.sqrt=function(E){if(E.isZero())return E.clone();var I=this.m.andln(3);if(o(I%2==1),I===3){var N=this.m.add(new c(1)).iushrn(2);return this.pow(E,N)}for(var w=this.m.subn(1),_=0;!w.isZero()&&w.andln(1)===0;)_++,w.iushrn(1);o(!w.isZero());var k=new c(1).toRed(this),S=k.redNeg(),D=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new c(2*O*O).toRed(this);this.pow(O,D).cmp(S)!==0;)O.redIAdd(S);for(var B=this.pow(O,w),q=this.pow(E,w.addn(1).iushrn(1)),H=this.pow(E,w),Q=_;H.cmp(k)!==0;){for(var M=H,K=0;M.cmp(k)!==0;K++)M=M.redSqr();o(K<Q);var z=this.pow(B,new c(1).iushln(Q-K-1));q=q.redMul(z),B=z.redSqr(),H=H.redMul(B),Q=K}return q},V.prototype.invm=function(E){var I=E._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},V.prototype.pow=function(E,I){if(I.isZero())return new c(1).toRed(this);if(I.cmpn(1)===0)return E.clone();var N=new Array(16);N[0]=new c(1).toRed(this),N[1]=E;for(var w=2;w<N.length;w++)N[w]=this.mul(N[w-1],E);var _=N[0],k=0,S=0,D=I.bitLength()%26;for(D===0&&(D=26),w=I.length-1;w>=0;w--){for(var O=I.words[w],B=D-1;B>=0;B--){var q=O>>B&1;_!==N[0]&&(_=this.sqr(_)),q!==0||k!==0?(k<<=1,k|=q,(++S===4||w===0&&B===0)&&(_=this.mul(_,N[k]),S=0,k=0)):S=0}D=26}return _},V.prototype.convertTo=function(E){var I=E.umod(this.m);return I===E?I.clone():I},V.prototype.convertFrom=function(E){var I=E.clone();return I.red=null,I},c.mont=function(E){return new U(E)},u(U,V),U.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},U.prototype.convertFrom=function(E){var I=this.imod(E.mul(this.rinv));return I.red=null,I},U.prototype.imul=function(E,I){if(E.isZero()||I.isZero())return E.words[0]=0,E.length=1,E;var N=E.imul(I),w=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=N.isub(w).iushrn(this.shift),k=_;return _.cmp(this.m)>=0?k=_.isub(this.m):_.cmpn(0)<0&&(k=_.iadd(this.m)),k._forceRed(this)},U.prototype.mul=function(E,I){if(E.isZero()||I.isZero())return new c(0)._forceRed(this);var N=E.mul(I),w=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=N.isub(w).iushrn(this.shift),k=_;return _.cmp(this.m)>=0?k=_.isub(this.m):_.cmpn(0)<0&&(k=_.iadd(this.m)),k._forceRed(this)},U.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(r,n,s){s.byteLength=function(p){var g=h(p),y=g[0],m=g[1];return 3*(y+m)/4-m},s.toByteArray=function(p){var g,y,m=h(p),v=m[0],b=m[1],x=new o((function(R,L,A){return 3*(L+A)/4-A})(0,v,b)),j=0,C=b>0?v-4:v;for(y=0;y<C;y+=4)g=a[p.charCodeAt(y)]<<18|a[p.charCodeAt(y+1)]<<12|a[p.charCodeAt(y+2)]<<6|a[p.charCodeAt(y+3)],x[j++]=g>>16&255,x[j++]=g>>8&255,x[j++]=255&g;return b===2&&(g=a[p.charCodeAt(y)]<<2|a[p.charCodeAt(y+1)]>>4,x[j++]=255&g),b===1&&(g=a[p.charCodeAt(y)]<<10|a[p.charCodeAt(y+1)]<<4|a[p.charCodeAt(y+2)]>>2,x[j++]=g>>8&255,x[j++]=255&g),x},s.fromByteArray=function(p){for(var g,y=p.length,m=y%3,v=[],b=0,x=y-m;b<x;b+=16383)v.push(f(p,b,b+16383>x?x:b+16383));return m===1?(g=p[y-1],v.push(i[g>>2]+i[g<<4&63]+"==")):m===2&&(g=(p[y-2]<<8)+p[y-1],v.push(i[g>>10]+i[g>>4&63]+i[g<<2&63]+"=")),v.join("")};for(var i=[],a=[],o=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,d=u.length;c<d;++c)i[c]=u[c],a[u.charCodeAt(c)]=c;function h(p){var g=p.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=p.indexOf("=");return y===-1&&(y=g),[y,y===g?0:4-y%4]}function f(p,g,y){for(var m,v,b=[],x=g;x<y;x+=3)m=(p[x]<<16&16711680)+(p[x+1]<<8&65280)+(255&p[x+2]),b.push(i[(v=m)>>18&63]+i[v>>12&63]+i[v>>6&63]+i[63&v]);return b.join("")}a[45]=62,a[95]=63},{}],186:[function(r,n,s){(function(i,a){function o(N,w){if(!N)throw new Error(w||"Assertion failed")}function u(N,w){N.super_=w;var _=function(){};_.prototype=w.prototype,N.prototype=new _,N.prototype.constructor=N}function c(N,w,_){if(c.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&(w!=="le"&&w!=="be"||(_=w,w=10),this._init(N||0,w||10,_||"be"))}var d;typeof i=="object"?i.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function h(N,w){var _=N.charCodeAt(w);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void o(!1,"Invalid character in "+N)}function f(N,w,_){var k=h(N,_);return _-1>=w&&(k|=h(N,_-1)<<4),k}function p(N,w,_,k){for(var S=0,D=0,O=Math.min(N.length,_),B=w;B<O;B++){var q=N.charCodeAt(B)-48;S*=k,D=q>=49?q-49+10:q>=17?q-17+10:q,o(q>=0&&D<k,"Invalid character"),S+=D}return S}function g(N,w){N.words=w.words,N.length=w.length,N.negative=w.negative,N.red=w.red}if(c.isBN=function(N){return N instanceof c||N!==null&&typeof N=="object"&&N.constructor.wordSize===c.wordSize&&Array.isArray(N.words)},c.max=function(N,w){return N.cmp(w)>0?N:w},c.min=function(N,w){return N.cmp(w)<0?N:w},c.prototype._init=function(N,w,_){if(typeof N=="number")return this._initNumber(N,w,_);if(typeof N=="object")return this._initArray(N,w,_);w==="hex"&&(w=16),o(w===(0|w)&&w>=2&&w<=36);var k=0;(N=N.toString().replace(/\s+/g,""))[0]==="-"&&(k++,this.negative=1),k<N.length&&(w===16?this._parseHex(N,k,_):(this._parseBase(N,w,k),_==="le"&&this._initArray(this.toArray(),w,_)))},c.prototype._initNumber=function(N,w,_){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(o(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),w,_)},c.prototype._initArray=function(N,w,_){if(o(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var S,D,O=0;if(_==="be")for(k=N.length-1,S=0;k>=0;k-=3)D=N[k]|N[k-1]<<8|N[k-2]<<16,this.words[S]|=D<<O&67108863,this.words[S+1]=D>>>26-O&67108863,(O+=24)>=26&&(O-=26,S++);else if(_==="le")for(k=0,S=0;k<N.length;k+=3)D=N[k]|N[k+1]<<8|N[k+2]<<16,this.words[S]|=D<<O&67108863,this.words[S+1]=D>>>26-O&67108863,(O+=24)>=26&&(O-=26,S++);return this._strip()},c.prototype._parseHex=function(N,w,_){this.length=Math.ceil((N.length-w)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var S,D=0,O=0;if(_==="be")for(k=N.length-1;k>=w;k-=2)S=f(N,w,k)<<D,this.words[O]|=67108863&S,D>=18?(D-=18,O+=1,this.words[O]|=S>>>26):D+=8;else for(k=(N.length-w)%2==0?w+1:w;k<N.length;k+=2)S=f(N,w,k)<<D,this.words[O]|=67108863&S,D>=18?(D-=18,O+=1,this.words[O]|=S>>>26):D+=8;this._strip()},c.prototype._parseBase=function(N,w,_){this.words=[0],this.length=1;for(var k=0,S=1;S<=67108863;S*=w)k++;k--,S=S/w|0;for(var D=N.length-_,O=D%k,B=Math.min(D,D-O)+_,q=0,H=_;H<B;H+=k)q=p(N,H,H+k,w),this.imuln(S),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(O!==0){var Q=1;for(q=p(N,H,N.length,w),H=0;H<O;H++)Q*=w;this.imuln(Q),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this._strip()},c.prototype.copy=function(N){N.words=new Array(this.length);for(var w=0;w<this.length;w++)N.words[w]=this.words[w];N.length=this.length,N.negative=this.negative,N.red=this.red},c.prototype._move=function(N){g(N,this)},c.prototype.clone=function(){var N=new c(null);return this.copy(N),N},c.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{c.prototype.inspect=y}else c.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(N,w){var _;if(w=0|w||1,(N=N||10)===16||N==="hex"){_="";for(var k=0,S=0,D=0;D<this.length;D++){var O=this.words[D],B=(16777215&(O<<k|S)).toString(16);S=O>>>24-k&16777215,(k+=2)>=26&&(k-=26,D--),_=S!==0||D!==this.length-1?m[6-B.length]+B+_:B+_}for(S!==0&&(_=S.toString(16)+_);_.length%w!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(N===(0|N)&&N>=2&&N<=36){var q=v[N],H=b[N];_="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var M=Q.modrn(H).toString(N);_=(Q=Q.idivn(H)).isZero()?M+_:m[q-M.length]+M+_}for(this.isZero()&&(_="0"+_);_.length%w!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=67108864*this.words[1]:this.length===3&&this.words[2]===1?N+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},c.prototype.toJSON=function(){return this.toString(16,2)},d&&(c.prototype.toBuffer=function(N,w){return this.toArrayLike(d,N,w)}),c.prototype.toArray=function(N,w){return this.toArrayLike(Array,N,w)};function x(N,w,_){_.negative=w.negative^N.negative;var k=N.length+w.length|0;_.length=k,k=k-1|0;var S=0|N.words[0],D=0|w.words[0],O=S*D,B=67108863&O,q=O/67108864|0;_.words[0]=B;for(var H=1;H<k;H++){for(var Q=q>>>26,M=67108863&q,K=Math.min(H,w.length-1),z=Math.max(0,H-N.length+1);z<=K;z++){var F=H-z|0;Q+=(O=(S=0|N.words[F])*(D=0|w.words[z])+M)/67108864|0,M=67108863&O}_.words[H]=0|M,q=0|Q}return q!==0?_.words[H]=0|q:_.length--,_._strip()}c.prototype.toArrayLike=function(N,w,_){this._strip();var k=this.byteLength(),S=_||Math.max(1,k);o(k<=S,"byte array longer than desired length"),o(S>0,"Requested array length <= 0");var D=(function(O,B){return O.allocUnsafe?O.allocUnsafe(B):new O(B)})(N,S);return this["_toArrayLike"+(w==="le"?"LE":"BE")](D,k),D},c.prototype._toArrayLikeLE=function(N,w){for(var _=0,k=0,S=0,D=0;S<this.length;S++){var O=this.words[S]<<D|k;N[_++]=255&O,_<N.length&&(N[_++]=O>>8&255),_<N.length&&(N[_++]=O>>16&255),D===6?(_<N.length&&(N[_++]=O>>24&255),k=0,D=0):(k=O>>>24,D+=2)}if(_<N.length)for(N[_++]=k;_<N.length;)N[_++]=0},c.prototype._toArrayLikeBE=function(N,w){for(var _=N.length-1,k=0,S=0,D=0;S<this.length;S++){var O=this.words[S]<<D|k;N[_--]=255&O,_>=0&&(N[_--]=O>>8&255),_>=0&&(N[_--]=O>>16&255),D===6?(_>=0&&(N[_--]=O>>24&255),k=0,D=0):(k=O>>>24,D+=2)}if(_>=0)for(N[_--]=k;_>=0;)N[_--]=0},Math.clz32?c.prototype._countBits=function(N){return 32-Math.clz32(N)}:c.prototype._countBits=function(N){var w=N,_=0;return w>=4096&&(_+=13,w>>>=13),w>=64&&(_+=7,w>>>=7),w>=8&&(_+=4,w>>>=4),w>=2&&(_+=2,w>>>=2),_+w},c.prototype._zeroBits=function(N){if(N===0)return 26;var w=N,_=0;return(8191&w)==0&&(_+=13,w>>>=13),(127&w)==0&&(_+=7,w>>>=7),(15&w)==0&&(_+=4,w>>>=4),(3&w)==0&&(_+=2,w>>>=2),(1&w)==0&&_++,_},c.prototype.bitLength=function(){var N=this.words[this.length-1],w=this._countBits(N);return 26*(this.length-1)+w},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,w=0;w<this.length;w++){var _=this._zeroBits(this.words[w]);if(N+=_,_!==26)break}return N},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},c.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var w=0;w<N.length;w++)this.words[w]=this.words[w]|N.words[w];return this._strip()},c.prototype.ior=function(N){return o((this.negative|N.negative)==0),this.iuor(N)},c.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},c.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},c.prototype.iuand=function(N){var w;w=this.length>N.length?N:this;for(var _=0;_<w.length;_++)this.words[_]=this.words[_]&N.words[_];return this.length=w.length,this._strip()},c.prototype.iand=function(N){return o((this.negative|N.negative)==0),this.iuand(N)},c.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},c.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},c.prototype.iuxor=function(N){var w,_;this.length>N.length?(w=this,_=N):(w=N,_=this);for(var k=0;k<_.length;k++)this.words[k]=w.words[k]^_.words[k];if(this!==w)for(;k<w.length;k++)this.words[k]=w.words[k];return this.length=w.length,this._strip()},c.prototype.ixor=function(N){return o((this.negative|N.negative)==0),this.iuxor(N)},c.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},c.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},c.prototype.inotn=function(N){o(typeof N=="number"&&N>=0);var w=0|Math.ceil(N/26),_=N%26;this._expand(w),_>0&&w--;for(var k=0;k<w;k++)this.words[k]=67108863&~this.words[k];return _>0&&(this.words[k]=~this.words[k]&67108863>>26-_),this._strip()},c.prototype.notn=function(N){return this.clone().inotn(N)},c.prototype.setn=function(N,w){o(typeof N=="number"&&N>=0);var _=N/26|0,k=N%26;return this._expand(_+1),this.words[_]=w?this.words[_]|1<<k:this.words[_]&~(1<<k),this._strip()},c.prototype.iadd=function(N){var w,_,k;if(this.negative!==0&&N.negative===0)return this.negative=0,w=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,w=this.isub(N),N.negative=1,w._normSign();this.length>N.length?(_=this,k=N):(_=N,k=this);for(var S=0,D=0;D<k.length;D++)w=(0|_.words[D])+(0|k.words[D])+S,this.words[D]=67108863&w,S=w>>>26;for(;S!==0&&D<_.length;D++)w=(0|_.words[D])+S,this.words[D]=67108863&w,S=w>>>26;if(this.length=_.length,S!==0)this.words[this.length]=S,this.length++;else if(_!==this)for(;D<_.length;D++)this.words[D]=_.words[D];return this},c.prototype.add=function(N){var w;return N.negative!==0&&this.negative===0?(N.negative=0,w=this.sub(N),N.negative^=1,w):N.negative===0&&this.negative!==0?(this.negative=0,w=N.sub(this),this.negative=1,w):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},c.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var w=this.iadd(N);return N.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var _,k,S=this.cmp(N);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(_=this,k=N):(_=N,k=this);for(var D=0,O=0;O<k.length;O++)D=(w=(0|_.words[O])-(0|k.words[O])+D)>>26,this.words[O]=67108863&w;for(;D!==0&&O<_.length;O++)D=(w=(0|_.words[O])+D)>>26,this.words[O]=67108863&w;if(D===0&&O<_.length&&_!==this)for(;O<_.length;O++)this.words[O]=_.words[O];return this.length=Math.max(this.length,O),_!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(N){return this.clone().isub(N)};var j=function(N,w,_){var k,S,D,O=N.words,B=w.words,q=_.words,H=0,Q=0|O[0],M=8191&Q,K=Q>>>13,z=0|O[1],F=8191&z,W=z>>>13,J=0|O[2],le=8191&J,ne=J>>>13,ue=0|O[3],Z=8191&ue,te=ue>>>13,X=0|O[4],ae=8191&X,re=X>>>13,ee=0|O[5],G=8191&ee,Y=ee>>>13,ie=0|O[6],ce=8191&ie,me=ie>>>13,xe=0|O[7],Ce=8191&xe,Ae=xe>>>13,$e=0|O[8],Le=8191&$e,rt=$e>>>13,qe=0|O[9],Ve=8191&qe,he=qe>>>13,de=0|B[0],Pe=8191&de,Oe=de>>>13,yt=0|B[1],Mt=8191&yt,it=yt>>>13,zt=0|B[2],nt=8191&zt,gt=zt>>>13,ut=0|B[3],sr=8191&ut,_t=ut>>>13,ir=0|B[4],Wt=8191&ir,Et=ir>>>13,hr=0|B[5],er=8191&hr,Bt=hr>>>13,be=0|B[6],Se=8191&be,De=be>>>13,He=0|B[7],kt=8191&He,Ze=He>>>13,bt=0|B[8],Ct=8191&bt,mt=bt>>>13,Rt=0|B[9],It=8191&Rt,$t=Rt>>>13;_.negative=N.negative^w.negative,_.length=19;var Gt=(H+(k=Math.imul(M,Pe))|0)+((8191&(S=(S=Math.imul(M,Oe))+Math.imul(K,Pe)|0))<<13)|0;H=((D=Math.imul(K,Oe))+(S>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,k=Math.imul(F,Pe),S=(S=Math.imul(F,Oe))+Math.imul(W,Pe)|0,D=Math.imul(W,Oe);var $r=(H+(k=k+Math.imul(M,Mt)|0)|0)+((8191&(S=(S=S+Math.imul(M,it)|0)+Math.imul(K,Mt)|0))<<13)|0;H=((D=D+Math.imul(K,it)|0)+(S>>>13)|0)+($r>>>26)|0,$r&=67108863,k=Math.imul(le,Pe),S=(S=Math.imul(le,Oe))+Math.imul(ne,Pe)|0,D=Math.imul(ne,Oe),k=k+Math.imul(F,Mt)|0,S=(S=S+Math.imul(F,it)|0)+Math.imul(W,Mt)|0,D=D+Math.imul(W,it)|0;var pr=(H+(k=k+Math.imul(M,nt)|0)|0)+((8191&(S=(S=S+Math.imul(M,gt)|0)+Math.imul(K,nt)|0))<<13)|0;H=((D=D+Math.imul(K,gt)|0)+(S>>>13)|0)+(pr>>>26)|0,pr&=67108863,k=Math.imul(Z,Pe),S=(S=Math.imul(Z,Oe))+Math.imul(te,Pe)|0,D=Math.imul(te,Oe),k=k+Math.imul(le,Mt)|0,S=(S=S+Math.imul(le,it)|0)+Math.imul(ne,Mt)|0,D=D+Math.imul(ne,it)|0,k=k+Math.imul(F,nt)|0,S=(S=S+Math.imul(F,gt)|0)+Math.imul(W,nt)|0,D=D+Math.imul(W,gt)|0;var ge=(H+(k=k+Math.imul(M,sr)|0)|0)+((8191&(S=(S=S+Math.imul(M,_t)|0)+Math.imul(K,sr)|0))<<13)|0;H=((D=D+Math.imul(K,_t)|0)+(S>>>13)|0)+(ge>>>26)|0,ge&=67108863,k=Math.imul(ae,Pe),S=(S=Math.imul(ae,Oe))+Math.imul(re,Pe)|0,D=Math.imul(re,Oe),k=k+Math.imul(Z,Mt)|0,S=(S=S+Math.imul(Z,it)|0)+Math.imul(te,Mt)|0,D=D+Math.imul(te,it)|0,k=k+Math.imul(le,nt)|0,S=(S=S+Math.imul(le,gt)|0)+Math.imul(ne,nt)|0,D=D+Math.imul(ne,gt)|0,k=k+Math.imul(F,sr)|0,S=(S=S+Math.imul(F,_t)|0)+Math.imul(W,sr)|0,D=D+Math.imul(W,_t)|0;var Ke=(H+(k=k+Math.imul(M,Wt)|0)|0)+((8191&(S=(S=S+Math.imul(M,Et)|0)+Math.imul(K,Wt)|0))<<13)|0;H=((D=D+Math.imul(K,Et)|0)+(S>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,k=Math.imul(G,Pe),S=(S=Math.imul(G,Oe))+Math.imul(Y,Pe)|0,D=Math.imul(Y,Oe),k=k+Math.imul(ae,Mt)|0,S=(S=S+Math.imul(ae,it)|0)+Math.imul(re,Mt)|0,D=D+Math.imul(re,it)|0,k=k+Math.imul(Z,nt)|0,S=(S=S+Math.imul(Z,gt)|0)+Math.imul(te,nt)|0,D=D+Math.imul(te,gt)|0,k=k+Math.imul(le,sr)|0,S=(S=S+Math.imul(le,_t)|0)+Math.imul(ne,sr)|0,D=D+Math.imul(ne,_t)|0,k=k+Math.imul(F,Wt)|0,S=(S=S+Math.imul(F,Et)|0)+Math.imul(W,Wt)|0,D=D+Math.imul(W,Et)|0;var oe=(H+(k=k+Math.imul(M,er)|0)|0)+((8191&(S=(S=S+Math.imul(M,Bt)|0)+Math.imul(K,er)|0))<<13)|0;H=((D=D+Math.imul(K,Bt)|0)+(S>>>13)|0)+(oe>>>26)|0,oe&=67108863,k=Math.imul(ce,Pe),S=(S=Math.imul(ce,Oe))+Math.imul(me,Pe)|0,D=Math.imul(me,Oe),k=k+Math.imul(G,Mt)|0,S=(S=S+Math.imul(G,it)|0)+Math.imul(Y,Mt)|0,D=D+Math.imul(Y,it)|0,k=k+Math.imul(ae,nt)|0,S=(S=S+Math.imul(ae,gt)|0)+Math.imul(re,nt)|0,D=D+Math.imul(re,gt)|0,k=k+Math.imul(Z,sr)|0,S=(S=S+Math.imul(Z,_t)|0)+Math.imul(te,sr)|0,D=D+Math.imul(te,_t)|0,k=k+Math.imul(le,Wt)|0,S=(S=S+Math.imul(le,Et)|0)+Math.imul(ne,Wt)|0,D=D+Math.imul(ne,Et)|0,k=k+Math.imul(F,er)|0,S=(S=S+Math.imul(F,Bt)|0)+Math.imul(W,er)|0,D=D+Math.imul(W,Bt)|0;var ve=(H+(k=k+Math.imul(M,Se)|0)|0)+((8191&(S=(S=S+Math.imul(M,De)|0)+Math.imul(K,Se)|0))<<13)|0;H=((D=D+Math.imul(K,De)|0)+(S>>>13)|0)+(ve>>>26)|0,ve&=67108863,k=Math.imul(Ce,Pe),S=(S=Math.imul(Ce,Oe))+Math.imul(Ae,Pe)|0,D=Math.imul(Ae,Oe),k=k+Math.imul(ce,Mt)|0,S=(S=S+Math.imul(ce,it)|0)+Math.imul(me,Mt)|0,D=D+Math.imul(me,it)|0,k=k+Math.imul(G,nt)|0,S=(S=S+Math.imul(G,gt)|0)+Math.imul(Y,nt)|0,D=D+Math.imul(Y,gt)|0,k=k+Math.imul(ae,sr)|0,S=(S=S+Math.imul(ae,_t)|0)+Math.imul(re,sr)|0,D=D+Math.imul(re,_t)|0,k=k+Math.imul(Z,Wt)|0,S=(S=S+Math.imul(Z,Et)|0)+Math.imul(te,Wt)|0,D=D+Math.imul(te,Et)|0,k=k+Math.imul(le,er)|0,S=(S=S+Math.imul(le,Bt)|0)+Math.imul(ne,er)|0,D=D+Math.imul(ne,Bt)|0,k=k+Math.imul(F,Se)|0,S=(S=S+Math.imul(F,De)|0)+Math.imul(W,Se)|0,D=D+Math.imul(W,De)|0;var Te=(H+(k=k+Math.imul(M,kt)|0)|0)+((8191&(S=(S=S+Math.imul(M,Ze)|0)+Math.imul(K,kt)|0))<<13)|0;H=((D=D+Math.imul(K,Ze)|0)+(S>>>13)|0)+(Te>>>26)|0,Te&=67108863,k=Math.imul(Le,Pe),S=(S=Math.imul(Le,Oe))+Math.imul(rt,Pe)|0,D=Math.imul(rt,Oe),k=k+Math.imul(Ce,Mt)|0,S=(S=S+Math.imul(Ce,it)|0)+Math.imul(Ae,Mt)|0,D=D+Math.imul(Ae,it)|0,k=k+Math.imul(ce,nt)|0,S=(S=S+Math.imul(ce,gt)|0)+Math.imul(me,nt)|0,D=D+Math.imul(me,gt)|0,k=k+Math.imul(G,sr)|0,S=(S=S+Math.imul(G,_t)|0)+Math.imul(Y,sr)|0,D=D+Math.imul(Y,_t)|0,k=k+Math.imul(ae,Wt)|0,S=(S=S+Math.imul(ae,Et)|0)+Math.imul(re,Wt)|0,D=D+Math.imul(re,Et)|0,k=k+Math.imul(Z,er)|0,S=(S=S+Math.imul(Z,Bt)|0)+Math.imul(te,er)|0,D=D+Math.imul(te,Bt)|0,k=k+Math.imul(le,Se)|0,S=(S=S+Math.imul(le,De)|0)+Math.imul(ne,Se)|0,D=D+Math.imul(ne,De)|0,k=k+Math.imul(F,kt)|0,S=(S=S+Math.imul(F,Ze)|0)+Math.imul(W,kt)|0,D=D+Math.imul(W,Ze)|0;var Re=(H+(k=k+Math.imul(M,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(M,mt)|0)+Math.imul(K,Ct)|0))<<13)|0;H=((D=D+Math.imul(K,mt)|0)+(S>>>13)|0)+(Re>>>26)|0,Re&=67108863,k=Math.imul(Ve,Pe),S=(S=Math.imul(Ve,Oe))+Math.imul(he,Pe)|0,D=Math.imul(he,Oe),k=k+Math.imul(Le,Mt)|0,S=(S=S+Math.imul(Le,it)|0)+Math.imul(rt,Mt)|0,D=D+Math.imul(rt,it)|0,k=k+Math.imul(Ce,nt)|0,S=(S=S+Math.imul(Ce,gt)|0)+Math.imul(Ae,nt)|0,D=D+Math.imul(Ae,gt)|0,k=k+Math.imul(ce,sr)|0,S=(S=S+Math.imul(ce,_t)|0)+Math.imul(me,sr)|0,D=D+Math.imul(me,_t)|0,k=k+Math.imul(G,Wt)|0,S=(S=S+Math.imul(G,Et)|0)+Math.imul(Y,Wt)|0,D=D+Math.imul(Y,Et)|0,k=k+Math.imul(ae,er)|0,S=(S=S+Math.imul(ae,Bt)|0)+Math.imul(re,er)|0,D=D+Math.imul(re,Bt)|0,k=k+Math.imul(Z,Se)|0,S=(S=S+Math.imul(Z,De)|0)+Math.imul(te,Se)|0,D=D+Math.imul(te,De)|0,k=k+Math.imul(le,kt)|0,S=(S=S+Math.imul(le,Ze)|0)+Math.imul(ne,kt)|0,D=D+Math.imul(ne,Ze)|0,k=k+Math.imul(F,Ct)|0,S=(S=S+Math.imul(F,mt)|0)+Math.imul(W,Ct)|0,D=D+Math.imul(W,mt)|0;var dt=(H+(k=k+Math.imul(M,It)|0)|0)+((8191&(S=(S=S+Math.imul(M,$t)|0)+Math.imul(K,It)|0))<<13)|0;H=((D=D+Math.imul(K,$t)|0)+(S>>>13)|0)+(dt>>>26)|0,dt&=67108863,k=Math.imul(Ve,Mt),S=(S=Math.imul(Ve,it))+Math.imul(he,Mt)|0,D=Math.imul(he,it),k=k+Math.imul(Le,nt)|0,S=(S=S+Math.imul(Le,gt)|0)+Math.imul(rt,nt)|0,D=D+Math.imul(rt,gt)|0,k=k+Math.imul(Ce,sr)|0,S=(S=S+Math.imul(Ce,_t)|0)+Math.imul(Ae,sr)|0,D=D+Math.imul(Ae,_t)|0,k=k+Math.imul(ce,Wt)|0,S=(S=S+Math.imul(ce,Et)|0)+Math.imul(me,Wt)|0,D=D+Math.imul(me,Et)|0,k=k+Math.imul(G,er)|0,S=(S=S+Math.imul(G,Bt)|0)+Math.imul(Y,er)|0,D=D+Math.imul(Y,Bt)|0,k=k+Math.imul(ae,Se)|0,S=(S=S+Math.imul(ae,De)|0)+Math.imul(re,Se)|0,D=D+Math.imul(re,De)|0,k=k+Math.imul(Z,kt)|0,S=(S=S+Math.imul(Z,Ze)|0)+Math.imul(te,kt)|0,D=D+Math.imul(te,Ze)|0,k=k+Math.imul(le,Ct)|0,S=(S=S+Math.imul(le,mt)|0)+Math.imul(ne,Ct)|0,D=D+Math.imul(ne,mt)|0;var Xe=(H+(k=k+Math.imul(F,It)|0)|0)+((8191&(S=(S=S+Math.imul(F,$t)|0)+Math.imul(W,It)|0))<<13)|0;H=((D=D+Math.imul(W,$t)|0)+(S>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,k=Math.imul(Ve,nt),S=(S=Math.imul(Ve,gt))+Math.imul(he,nt)|0,D=Math.imul(he,gt),k=k+Math.imul(Le,sr)|0,S=(S=S+Math.imul(Le,_t)|0)+Math.imul(rt,sr)|0,D=D+Math.imul(rt,_t)|0,k=k+Math.imul(Ce,Wt)|0,S=(S=S+Math.imul(Ce,Et)|0)+Math.imul(Ae,Wt)|0,D=D+Math.imul(Ae,Et)|0,k=k+Math.imul(ce,er)|0,S=(S=S+Math.imul(ce,Bt)|0)+Math.imul(me,er)|0,D=D+Math.imul(me,Bt)|0,k=k+Math.imul(G,Se)|0,S=(S=S+Math.imul(G,De)|0)+Math.imul(Y,Se)|0,D=D+Math.imul(Y,De)|0,k=k+Math.imul(ae,kt)|0,S=(S=S+Math.imul(ae,Ze)|0)+Math.imul(re,kt)|0,D=D+Math.imul(re,Ze)|0,k=k+Math.imul(Z,Ct)|0,S=(S=S+Math.imul(Z,mt)|0)+Math.imul(te,Ct)|0,D=D+Math.imul(te,mt)|0;var Qe=(H+(k=k+Math.imul(le,It)|0)|0)+((8191&(S=(S=S+Math.imul(le,$t)|0)+Math.imul(ne,It)|0))<<13)|0;H=((D=D+Math.imul(ne,$t)|0)+(S>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,k=Math.imul(Ve,sr),S=(S=Math.imul(Ve,_t))+Math.imul(he,sr)|0,D=Math.imul(he,_t),k=k+Math.imul(Le,Wt)|0,S=(S=S+Math.imul(Le,Et)|0)+Math.imul(rt,Wt)|0,D=D+Math.imul(rt,Et)|0,k=k+Math.imul(Ce,er)|0,S=(S=S+Math.imul(Ce,Bt)|0)+Math.imul(Ae,er)|0,D=D+Math.imul(Ae,Bt)|0,k=k+Math.imul(ce,Se)|0,S=(S=S+Math.imul(ce,De)|0)+Math.imul(me,Se)|0,D=D+Math.imul(me,De)|0,k=k+Math.imul(G,kt)|0,S=(S=S+Math.imul(G,Ze)|0)+Math.imul(Y,kt)|0,D=D+Math.imul(Y,Ze)|0,k=k+Math.imul(ae,Ct)|0,S=(S=S+Math.imul(ae,mt)|0)+Math.imul(re,Ct)|0,D=D+Math.imul(re,mt)|0;var Ut=(H+(k=k+Math.imul(Z,It)|0)|0)+((8191&(S=(S=S+Math.imul(Z,$t)|0)+Math.imul(te,It)|0))<<13)|0;H=((D=D+Math.imul(te,$t)|0)+(S>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,k=Math.imul(Ve,Wt),S=(S=Math.imul(Ve,Et))+Math.imul(he,Wt)|0,D=Math.imul(he,Et),k=k+Math.imul(Le,er)|0,S=(S=S+Math.imul(Le,Bt)|0)+Math.imul(rt,er)|0,D=D+Math.imul(rt,Bt)|0,k=k+Math.imul(Ce,Se)|0,S=(S=S+Math.imul(Ce,De)|0)+Math.imul(Ae,Se)|0,D=D+Math.imul(Ae,De)|0,k=k+Math.imul(ce,kt)|0,S=(S=S+Math.imul(ce,Ze)|0)+Math.imul(me,kt)|0,D=D+Math.imul(me,Ze)|0,k=k+Math.imul(G,Ct)|0,S=(S=S+Math.imul(G,mt)|0)+Math.imul(Y,Ct)|0,D=D+Math.imul(Y,mt)|0;var Xt=(H+(k=k+Math.imul(ae,It)|0)|0)+((8191&(S=(S=S+Math.imul(ae,$t)|0)+Math.imul(re,It)|0))<<13)|0;H=((D=D+Math.imul(re,$t)|0)+(S>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,k=Math.imul(Ve,er),S=(S=Math.imul(Ve,Bt))+Math.imul(he,er)|0,D=Math.imul(he,Bt),k=k+Math.imul(Le,Se)|0,S=(S=S+Math.imul(Le,De)|0)+Math.imul(rt,Se)|0,D=D+Math.imul(rt,De)|0,k=k+Math.imul(Ce,kt)|0,S=(S=S+Math.imul(Ce,Ze)|0)+Math.imul(Ae,kt)|0,D=D+Math.imul(Ae,Ze)|0,k=k+Math.imul(ce,Ct)|0,S=(S=S+Math.imul(ce,mt)|0)+Math.imul(me,Ct)|0,D=D+Math.imul(me,mt)|0;var Vt=(H+(k=k+Math.imul(G,It)|0)|0)+((8191&(S=(S=S+Math.imul(G,$t)|0)+Math.imul(Y,It)|0))<<13)|0;H=((D=D+Math.imul(Y,$t)|0)+(S>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,k=Math.imul(Ve,Se),S=(S=Math.imul(Ve,De))+Math.imul(he,Se)|0,D=Math.imul(he,De),k=k+Math.imul(Le,kt)|0,S=(S=S+Math.imul(Le,Ze)|0)+Math.imul(rt,kt)|0,D=D+Math.imul(rt,Ze)|0,k=k+Math.imul(Ce,Ct)|0,S=(S=S+Math.imul(Ce,mt)|0)+Math.imul(Ae,Ct)|0,D=D+Math.imul(Ae,mt)|0;var St=(H+(k=k+Math.imul(ce,It)|0)|0)+((8191&(S=(S=S+Math.imul(ce,$t)|0)+Math.imul(me,It)|0))<<13)|0;H=((D=D+Math.imul(me,$t)|0)+(S>>>13)|0)+(St>>>26)|0,St&=67108863,k=Math.imul(Ve,kt),S=(S=Math.imul(Ve,Ze))+Math.imul(he,kt)|0,D=Math.imul(he,Ze),k=k+Math.imul(Le,Ct)|0,S=(S=S+Math.imul(Le,mt)|0)+Math.imul(rt,Ct)|0,D=D+Math.imul(rt,mt)|0;var _r=(H+(k=k+Math.imul(Ce,It)|0)|0)+((8191&(S=(S=S+Math.imul(Ce,$t)|0)+Math.imul(Ae,It)|0))<<13)|0;H=((D=D+Math.imul(Ae,$t)|0)+(S>>>13)|0)+(_r>>>26)|0,_r&=67108863,k=Math.imul(Ve,Ct),S=(S=Math.imul(Ve,mt))+Math.imul(he,Ct)|0,D=Math.imul(he,mt);var kr=(H+(k=k+Math.imul(Le,It)|0)|0)+((8191&(S=(S=S+Math.imul(Le,$t)|0)+Math.imul(rt,It)|0))<<13)|0;H=((D=D+Math.imul(rt,$t)|0)+(S>>>13)|0)+(kr>>>26)|0,kr&=67108863;var vr=(H+(k=Math.imul(Ve,It))|0)+((8191&(S=(S=Math.imul(Ve,$t))+Math.imul(he,It)|0))<<13)|0;return H=((D=Math.imul(he,$t))+(S>>>13)|0)+(vr>>>26)|0,vr&=67108863,q[0]=Gt,q[1]=$r,q[2]=pr,q[3]=ge,q[4]=Ke,q[5]=oe,q[6]=ve,q[7]=Te,q[8]=Re,q[9]=dt,q[10]=Xe,q[11]=Qe,q[12]=Ut,q[13]=Xt,q[14]=Vt,q[15]=St,q[16]=_r,q[17]=kr,q[18]=vr,H!==0&&(q[19]=H,_.length++),_};function C(N,w,_){_.negative=w.negative^N.negative,_.length=N.length+w.length;for(var k=0,S=0,D=0;D<_.length-1;D++){var O=S;S=0;for(var B=67108863&k,q=Math.min(D,w.length-1),H=Math.max(0,D-N.length+1);H<=q;H++){var Q=D-H,M=(0|N.words[Q])*(0|w.words[H]),K=67108863&M;B=67108863&(K=K+B|0),S+=(O=(O=O+(M/67108864|0)|0)+(K>>>26)|0)>>>26,O&=67108863}_.words[D]=B,k=O,O=S}return k!==0?_.words[D]=k:_.length--,_._strip()}function R(N,w,_){return C(N,w,_)}Math.imul||(j=x),c.prototype.mulTo=function(N,w){var _=this.length+N.length;return this.length===10&&N.length===10?j(this,N,w):_<63?x(this,N,w):_<1024?C(this,N,w):R(this,N,w)},c.prototype.mul=function(N){var w=new c(null);return w.words=new Array(this.length+N.length),this.mulTo(N,w)},c.prototype.mulf=function(N){var w=new c(null);return w.words=new Array(this.length+N.length),R(this,N,w)},c.prototype.imul=function(N){return this.clone().mulTo(N,this)},c.prototype.imuln=function(N){var w=N<0;w&&(N=-N),o(typeof N=="number"),o(N<67108864);for(var _=0,k=0;k<this.length;k++){var S=(0|this.words[k])*N,D=(67108863&S)+(67108863&_);_>>=26,_+=S/67108864|0,_+=D>>>26,this.words[k]=67108863&D}return _!==0&&(this.words[k]=_,this.length++),w?this.ineg():this},c.prototype.muln=function(N){return this.clone().imuln(N)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(N){var w=(function(D){for(var O=new Array(D.bitLength()),B=0;B<O.length;B++){var q=B/26|0,H=B%26;O[B]=D.words[q]>>>H&1}return O})(N);if(w.length===0)return new c(1);for(var _=this,k=0;k<w.length&&w[k]===0;k++,_=_.sqr());if(++k<w.length)for(var S=_.sqr();k<w.length;k++,S=S.sqr())w[k]!==0&&(_=_.mul(S));return _},c.prototype.iushln=function(N){o(typeof N=="number"&&N>=0);var w,_=N%26,k=(N-_)/26,S=67108863>>>26-_<<26-_;if(_!==0){var D=0;for(w=0;w<this.length;w++){var O=this.words[w]&S,B=(0|this.words[w])-O<<_;this.words[w]=B|D,D=O>>>26-_}D&&(this.words[w]=D,this.length++)}if(k!==0){for(w=this.length-1;w>=0;w--)this.words[w+k]=this.words[w];for(w=0;w<k;w++)this.words[w]=0;this.length+=k}return this._strip()},c.prototype.ishln=function(N){return o(this.negative===0),this.iushln(N)},c.prototype.iushrn=function(N,w,_){var k;o(typeof N=="number"&&N>=0),k=w?(w-w%26)/26:0;var S=N%26,D=Math.min((N-S)/26,this.length),O=67108863^67108863>>>S<<S,B=_;if(k-=D,k=Math.max(0,k),B){for(var q=0;q<D;q++)B.words[q]=this.words[q];B.length=D}if(D!==0)if(this.length>D)for(this.length-=D,q=0;q<this.length;q++)this.words[q]=this.words[q+D];else this.words[0]=0,this.length=1;var H=0;for(q=this.length-1;q>=0&&(H!==0||q>=k);q--){var Q=0|this.words[q];this.words[q]=H<<26-S|Q>>>S,H=Q&O}return B&&H!==0&&(B.words[B.length++]=H),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(N,w,_){return o(this.negative===0),this.iushrn(N,w,_)},c.prototype.shln=function(N){return this.clone().ishln(N)},c.prototype.ushln=function(N){return this.clone().iushln(N)},c.prototype.shrn=function(N){return this.clone().ishrn(N)},c.prototype.ushrn=function(N){return this.clone().iushrn(N)},c.prototype.testn=function(N){o(typeof N=="number"&&N>=0);var w=N%26,_=(N-w)/26,k=1<<w;return!(this.length<=_)&&!!(this.words[_]&k)},c.prototype.imaskn=function(N){o(typeof N=="number"&&N>=0);var w=N%26,_=(N-w)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(w!==0&&_++,this.length=Math.min(_,this.length),w!==0){var k=67108863^67108863>>>w<<w;this.words[this.length-1]&=k}return this._strip()},c.prototype.maskn=function(N){return this.clone().imaskn(N)},c.prototype.iaddn=function(N){return o(typeof N=="number"),o(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(0|this.words[0])<=N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},c.prototype._iaddn=function(N){this.words[0]+=N;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},c.prototype.isubn=function(N){if(o(typeof N=="number"),o(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},c.prototype.addn=function(N){return this.clone().iaddn(N)},c.prototype.subn=function(N){return this.clone().isubn(N)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(N,w,_){var k,S,D=N.length+_;this._expand(D);var O=0;for(k=0;k<N.length;k++){S=(0|this.words[k+_])+O;var B=(0|N.words[k])*w;O=((S-=67108863&B)>>26)-(B/67108864|0),this.words[k+_]=67108863&S}for(;k<this.length-_;k++)O=(S=(0|this.words[k+_])+O)>>26,this.words[k+_]=67108863&S;if(O===0)return this._strip();for(o(O===-1),O=0,k=0;k<this.length;k++)O=(S=-(0|this.words[k])+O)>>26,this.words[k]=67108863&S;return this.negative=1,this._strip()},c.prototype._wordDiv=function(N,w){var _=(this.length,N.length),k=this.clone(),S=N,D=0|S.words[S.length-1];(_=26-this._countBits(D))!==0&&(S=S.ushln(_),k.iushln(_),D=0|S.words[S.length-1]);var O,B=k.length-S.length;if(w!=="mod"){(O=new c(null)).length=B+1,O.words=new Array(O.length);for(var q=0;q<O.length;q++)O.words[q]=0}var H=k.clone()._ishlnsubmul(S,1,B);H.negative===0&&(k=H,O&&(O.words[B]=1));for(var Q=B-1;Q>=0;Q--){var M=67108864*(0|k.words[S.length+Q])+(0|k.words[S.length+Q-1]);for(M=Math.min(M/D|0,67108863),k._ishlnsubmul(S,M,Q);k.negative!==0;)M--,k.negative=0,k._ishlnsubmul(S,1,Q),k.isZero()||(k.negative^=1);O&&(O.words[Q]=M)}return O&&O._strip(),k._strip(),w!=="div"&&_!==0&&k.iushrn(_),{div:O||null,mod:k}},c.prototype.divmod=function(N,w,_){return o(!N.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&N.negative===0?(D=this.neg().divmod(N,w),w!=="mod"&&(k=D.div.neg()),w!=="div"&&(S=D.mod.neg(),_&&S.negative!==0&&S.iadd(N)),{div:k,mod:S}):this.negative===0&&N.negative!==0?(D=this.divmod(N.neg(),w),w!=="mod"&&(k=D.div.neg()),{div:k,mod:D.mod}):(this.negative&N.negative)!=0?(D=this.neg().divmod(N.neg(),w),w!=="div"&&(S=D.mod.neg(),_&&S.negative!==0&&S.isub(N)),{div:D.div,mod:S}):N.length>this.length||this.cmp(N)<0?{div:new c(0),mod:this}:N.length===1?w==="div"?{div:this.divn(N.words[0]),mod:null}:w==="mod"?{div:null,mod:new c(this.modrn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new c(this.modrn(N.words[0]))}:this._wordDiv(N,w);var k,S,D},c.prototype.div=function(N){return this.divmod(N,"div",!1).div},c.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},c.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},c.prototype.divRound=function(N){var w=this.divmod(N);if(w.mod.isZero())return w.div;var _=w.div.negative!==0?w.mod.isub(N):w.mod,k=N.ushrn(1),S=N.andln(1),D=_.cmp(k);return D<0||S===1&&D===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},c.prototype.modrn=function(N){var w=N<0;w&&(N=-N),o(N<=67108863);for(var _=(1<<26)%N,k=0,S=this.length-1;S>=0;S--)k=(_*k+(0|this.words[S]))%N;return w?-k:k},c.prototype.modn=function(N){return this.modrn(N)},c.prototype.idivn=function(N){var w=N<0;w&&(N=-N),o(N<=67108863);for(var _=0,k=this.length-1;k>=0;k--){var S=(0|this.words[k])+67108864*_;this.words[k]=S/N|0,_=S%N}return this._strip(),w?this.ineg():this},c.prototype.divn=function(N){return this.clone().idivn(N)},c.prototype.egcd=function(N){o(N.negative===0),o(!N.isZero());var w=this,_=N.clone();w=w.negative!==0?w.umod(N):w.clone();for(var k=new c(1),S=new c(0),D=new c(0),O=new c(1),B=0;w.isEven()&&_.isEven();)w.iushrn(1),_.iushrn(1),++B;for(var q=_.clone(),H=w.clone();!w.isZero();){for(var Q=0,M=1;(w.words[0]&M)==0&&Q<26;++Q,M<<=1);if(Q>0)for(w.iushrn(Q);Q-- >0;)(k.isOdd()||S.isOdd())&&(k.iadd(q),S.isub(H)),k.iushrn(1),S.iushrn(1);for(var K=0,z=1;(_.words[0]&z)==0&&K<26;++K,z<<=1);if(K>0)for(_.iushrn(K);K-- >0;)(D.isOdd()||O.isOdd())&&(D.iadd(q),O.isub(H)),D.iushrn(1),O.iushrn(1);w.cmp(_)>=0?(w.isub(_),k.isub(D),S.isub(O)):(_.isub(w),D.isub(k),O.isub(S))}return{a:D,b:O,gcd:_.iushln(B)}},c.prototype._invmp=function(N){o(N.negative===0),o(!N.isZero());var w=this,_=N.clone();w=w.negative!==0?w.umod(N):w.clone();for(var k,S=new c(1),D=new c(0),O=_.clone();w.cmpn(1)>0&&_.cmpn(1)>0;){for(var B=0,q=1;(w.words[0]&q)==0&&B<26;++B,q<<=1);if(B>0)for(w.iushrn(B);B-- >0;)S.isOdd()&&S.iadd(O),S.iushrn(1);for(var H=0,Q=1;(_.words[0]&Q)==0&&H<26;++H,Q<<=1);if(H>0)for(_.iushrn(H);H-- >0;)D.isOdd()&&D.iadd(O),D.iushrn(1);w.cmp(_)>=0?(w.isub(_),S.isub(D)):(_.isub(w),D.isub(S))}return(k=w.cmpn(1)===0?S:D).cmpn(0)<0&&k.iadd(N),k},c.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var w=this.clone(),_=N.clone();w.negative=0,_.negative=0;for(var k=0;w.isEven()&&_.isEven();k++)w.iushrn(1),_.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;_.isEven();)_.iushrn(1);var S=w.cmp(_);if(S<0){var D=w;w=_,_=D}else if(S===0||_.cmpn(1)===0)break;w.isub(_)}return _.iushln(k)},c.prototype.invm=function(N){return this.egcd(N).a.umod(N)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(N){return this.words[0]&N},c.prototype.bincn=function(N){o(typeof N=="number");var w=N%26,_=(N-w)/26,k=1<<w;if(this.length<=_)return this._expand(_+1),this.words[_]|=k,this;for(var S=k,D=_;S!==0&&D<this.length;D++){var O=0|this.words[D];S=(O+=S)>>>26,O&=67108863,this.words[D]=O}return S!==0&&(this.words[D]=S,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(N){var w,_=N<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this._strip(),this.length>1)w=1;else{_&&(N=-N),o(N<=67108863,"Number is too big");var k=0|this.words[0];w=k===N?0:k<N?-1:1}return this.negative!==0?0|-w:w},c.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var w=this.ucmp(N);return this.negative!==0?0|-w:w},c.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var w=0,_=this.length-1;_>=0;_--){var k=0|this.words[_],S=0|N.words[_];if(k!==S){k<S?w=-1:k>S&&(w=1);break}}return w},c.prototype.gtn=function(N){return this.cmpn(N)===1},c.prototype.gt=function(N){return this.cmp(N)===1},c.prototype.gten=function(N){return this.cmpn(N)>=0},c.prototype.gte=function(N){return this.cmp(N)>=0},c.prototype.ltn=function(N){return this.cmpn(N)===-1},c.prototype.lt=function(N){return this.cmp(N)===-1},c.prototype.lten=function(N){return this.cmpn(N)<=0},c.prototype.lte=function(N){return this.cmp(N)<=0},c.prototype.eqn=function(N){return this.cmpn(N)===0},c.prototype.eq=function(N){return this.cmp(N)===0},c.red=function(N){return new E(N)},c.prototype.toRed=function(N){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(N){return this.red=N,this},c.prototype.forceRed=function(N){return o(!this.red,"Already a number in reduction context"),this._forceRed(N)},c.prototype.redAdd=function(N){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},c.prototype.redIAdd=function(N){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},c.prototype.redSub=function(N){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},c.prototype.redISub=function(N){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},c.prototype.redShl=function(N){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},c.prototype.redMul=function(N){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},c.prototype.redIMul=function(N){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(N){return o(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var L={k256:null,p224:null,p192:null,p25519:null};function A(N,w){this.name=N,this.p=new c(w,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function P(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function $(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function V(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function U(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(N){if(typeof N=="string"){var w=c._prime(N);this.m=w.p,this.prime=w}else o(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function I(N){E.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var N=new c(null);return N.words=new Array(Math.ceil(this.n/13)),N},A.prototype.ireduce=function(N){var w,_=N;do this.split(_,this.tmp),w=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(w>this.n);var k=w<this.n?-1:_.ucmp(this.p);return k===0?(_.words[0]=0,_.length=1):k>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},A.prototype.split=function(N,w){N.iushrn(this.n,0,w)},A.prototype.imulK=function(N){return N.imul(this.k)},u(P,A),P.prototype.split=function(N,w){for(var _=Math.min(N.length,9),k=0;k<_;k++)w.words[k]=N.words[k];if(w.length=_,N.length<=9)return N.words[0]=0,void(N.length=1);var S=N.words[9];for(w.words[w.length++]=4194303&S,k=10;k<N.length;k++){var D=0|N.words[k];N.words[k-10]=(4194303&D)<<4|S>>>22,S=D}S>>>=22,N.words[k-10]=S,S===0&&N.length>10?N.length-=10:N.length-=9},P.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var w=0,_=0;_<N.length;_++){var k=0|N.words[_];w+=977*k,N.words[_]=67108863&w,w=64*k+(w/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N},u($,A),u(V,A),u(U,A),U.prototype.imulK=function(N){for(var w=0,_=0;_<N.length;_++){var k=19*(0|N.words[_])+w,S=67108863&k;k>>>=26,N.words[_]=S,w=k}return w!==0&&(N.words[N.length++]=w),N},c._prime=function(N){if(L[N])return L[N];var w;if(N==="k256")w=new P;else if(N==="p224")w=new $;else if(N==="p192")w=new V;else{if(N!=="p25519")throw new Error("Unknown prime "+N);w=new U}return L[N]=w,w},E.prototype._verify1=function(N){o(N.negative===0,"red works only with positives"),o(N.red,"red works only with red numbers")},E.prototype._verify2=function(N,w){o((N.negative|w.negative)==0,"red works only with positives"),o(N.red&&N.red===w.red,"red works only with red numbers")},E.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):(g(N,N.umod(this.m)._forceRed(this)),N)},E.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},E.prototype.add=function(N,w){this._verify2(N,w);var _=N.add(w);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},E.prototype.iadd=function(N,w){this._verify2(N,w);var _=N.iadd(w);return _.cmp(this.m)>=0&&_.isub(this.m),_},E.prototype.sub=function(N,w){this._verify2(N,w);var _=N.sub(w);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},E.prototype.isub=function(N,w){this._verify2(N,w);var _=N.isub(w);return _.cmpn(0)<0&&_.iadd(this.m),_},E.prototype.shl=function(N,w){return this._verify1(N),this.imod(N.ushln(w))},E.prototype.imul=function(N,w){return this._verify2(N,w),this.imod(N.imul(w))},E.prototype.mul=function(N,w){return this._verify2(N,w),this.imod(N.mul(w))},E.prototype.isqr=function(N){return this.imul(N,N.clone())},E.prototype.sqr=function(N){return this.mul(N,N)},E.prototype.sqrt=function(N){if(N.isZero())return N.clone();var w=this.m.andln(3);if(o(w%2==1),w===3){var _=this.m.add(new c(1)).iushrn(2);return this.pow(N,_)}for(var k=this.m.subn(1),S=0;!k.isZero()&&k.andln(1)===0;)S++,k.iushrn(1);o(!k.isZero());var D=new c(1).toRed(this),O=D.redNeg(),B=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new c(2*q*q).toRed(this);this.pow(q,B).cmp(O)!==0;)q.redIAdd(O);for(var H=this.pow(q,k),Q=this.pow(N,k.addn(1).iushrn(1)),M=this.pow(N,k),K=S;M.cmp(D)!==0;){for(var z=M,F=0;z.cmp(D)!==0;F++)z=z.redSqr();o(F<K);var W=this.pow(H,new c(1).iushln(K-F-1));Q=Q.redMul(W),H=W.redSqr(),M=M.redMul(H),K=F}return Q},E.prototype.invm=function(N){var w=N._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},E.prototype.pow=function(N,w){if(w.isZero())return new c(1).toRed(this);if(w.cmpn(1)===0)return N.clone();var _=new Array(16);_[0]=new c(1).toRed(this),_[1]=N;for(var k=2;k<_.length;k++)_[k]=this.mul(_[k-1],N);var S=_[0],D=0,O=0,B=w.bitLength()%26;for(B===0&&(B=26),k=w.length-1;k>=0;k--){for(var q=w.words[k],H=B-1;H>=0;H--){var Q=q>>H&1;S!==_[0]&&(S=this.sqr(S)),Q!==0||D!==0?(D<<=1,D|=Q,(++O===4||k===0&&H===0)&&(S=this.mul(S,_[D]),O=0,D=0)):O=0}B=26}return S},E.prototype.convertTo=function(N){var w=N.umod(this.m);return w===N?w.clone():w},E.prototype.convertFrom=function(N){var w=N.clone();return w.red=null,w},c.mont=function(N){return new I(N)},u(I,E),I.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},I.prototype.convertFrom=function(N){var w=this.imod(N.mul(this.rinv));return w.red=null,w},I.prototype.imul=function(N,w){if(N.isZero()||w.isZero())return N.words[0]=0,N.length=1,N;var _=N.imul(w),k=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(k).iushrn(this.shift),D=S;return S.cmp(this.m)>=0?D=S.isub(this.m):S.cmpn(0)<0&&(D=S.iadd(this.m)),D._forceRed(this)},I.prototype.mul=function(N,w){if(N.isZero()||w.isZero())return new c(0)._forceRed(this);var _=N.mul(w),k=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(k).iushrn(this.shift),D=S;return S.cmp(this.m)>=0?D=S.isub(this.m):S.cmpn(0)<0&&(D=S.iadd(this.m)),D._forceRed(this)},I.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(r,n,s){var i;function a(u){this.rand=u}if(n.exports=function(u){return i||(i=new a(null)),i.generate(u)},n.exports.Rand=a,a.prototype.generate=function(u){return this._rand(u)},a.prototype._rand=function(u){if(this.rand.getBytes)return this.rand.getBytes(u);for(var c=new Uint8Array(u),d=0;d<c.length;d++)c[d]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(u){var c=new Uint8Array(u);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(u){var c=new Uint8Array(u);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(u){return o.randomBytes(u)}}catch{}},{crypto:188}],188:[function(r,n,s){},{}],189:[function(r,n,s){var i=r("safe-buffer").Buffer;function a(f){i.isBuffer(f)||(f=i.from(f));for(var p=f.length/4|0,g=new Array(p),y=0;y<p;y++)g[y]=f.readUInt32BE(4*y);return g}function o(f){for(;0<f.length;f++)f[0]=0}function u(f,p,g,y,m){for(var v,b,x,j,C=g[0],R=g[1],L=g[2],A=g[3],P=f[0]^p[0],$=f[1]^p[1],V=f[2]^p[2],U=f[3]^p[3],E=4,I=1;I<m;I++)v=C[P>>>24]^R[$>>>16&255]^L[V>>>8&255]^A[255&U]^p[E++],b=C[$>>>24]^R[V>>>16&255]^L[U>>>8&255]^A[255&P]^p[E++],x=C[V>>>24]^R[U>>>16&255]^L[P>>>8&255]^A[255&$]^p[E++],j=C[U>>>24]^R[P>>>16&255]^L[$>>>8&255]^A[255&V]^p[E++],P=v,$=b,V=x,U=j;return v=(y[P>>>24]<<24|y[$>>>16&255]<<16|y[V>>>8&255]<<8|y[255&U])^p[E++],b=(y[$>>>24]<<24|y[V>>>16&255]<<16|y[U>>>8&255]<<8|y[255&P])^p[E++],x=(y[V>>>24]<<24|y[U>>>16&255]<<16|y[P>>>8&255]<<8|y[255&$])^p[E++],j=(y[U>>>24]<<24|y[P>>>16&255]<<16|y[$>>>8&255]<<8|y[255&V])^p[E++],[v>>>=0,b>>>=0,x>>>=0,j>>>=0]}var c=[0,1,2,4,8,16,32,64,128,27,54],d=(function(){for(var f=new Array(256),p=0;p<256;p++)f[p]=p<128?p<<1:p<<1^283;for(var g=[],y=[],m=[[],[],[],[]],v=[[],[],[],[]],b=0,x=0,j=0;j<256;++j){var C=x^x<<1^x<<2^x<<3^x<<4;C=C>>>8^255&C^99,g[b]=C,y[C]=b;var R=f[b],L=f[R],A=f[L],P=257*f[C]^16843008*C;m[0][b]=P<<24|P>>>8,m[1][b]=P<<16|P>>>16,m[2][b]=P<<8|P>>>24,m[3][b]=P,P=16843009*A^65537*L^257*R^16843008*b,v[0][C]=P<<24|P>>>8,v[1][C]=P<<16|P>>>16,v[2][C]=P<<8|P>>>24,v[3][C]=P,b===0?b=x=1:(b=R^f[f[f[A^R]]],x^=f[f[x]])}return{SBOX:g,INV_SBOX:y,SUB_MIX:m,INV_SUB_MIX:v}})();function h(f){this._key=a(f),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var f=this._key,p=f.length,g=p+6,y=4*(g+1),m=[],v=0;v<p;v++)m[v]=f[v];for(v=p;v<y;v++){var b=m[v-1];v%p==0?(b=b<<8|b>>>24,b=d.SBOX[b>>>24]<<24|d.SBOX[b>>>16&255]<<16|d.SBOX[b>>>8&255]<<8|d.SBOX[255&b],b^=c[v/p|0]<<24):p>6&&v%p==4&&(b=d.SBOX[b>>>24]<<24|d.SBOX[b>>>16&255]<<16|d.SBOX[b>>>8&255]<<8|d.SBOX[255&b]),m[v]=m[v-p]^b}for(var x=[],j=0;j<y;j++){var C=y-j,R=m[C-(j%4?0:4)];x[j]=j<4||C<=4?R:d.INV_SUB_MIX[0][d.SBOX[R>>>24]]^d.INV_SUB_MIX[1][d.SBOX[R>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[R>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[255&R]]}this._nRounds=g,this._keySchedule=m,this._invKeySchedule=x},h.prototype.encryptBlockRaw=function(f){return u(f=a(f),this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},h.prototype.encryptBlock=function(f){var p=this.encryptBlockRaw(f),g=i.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[1],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[3],12),g},h.prototype.decryptBlock=function(f){var p=(f=a(f))[1];f[1]=f[3],f[3]=p;var g=u(f,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),y=i.allocUnsafe(16);return y.writeUInt32BE(g[0],0),y.writeUInt32BE(g[3],4),y.writeUInt32BE(g[2],8),y.writeUInt32BE(g[1],12),y},h.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},n.exports.AES=h},{"safe-buffer":494}],190:[function(r,n,s){var i=r("./aes"),a=r("safe-buffer").Buffer,o=r("cipher-base"),u=r("inherits"),c=r("./ghash"),d=r("buffer-xor"),h=r("./incr32");function f(p,g,y,m){o.call(this);var v=a.alloc(4,0);this._cipher=new i.AES(g);var b=this._cipher.encryptBlock(v);this._ghash=new c(b),y=(function(x,j,C){if(j.length===12)return x._finID=a.concat([j,a.from([0,0,0,1])]),a.concat([j,a.from([0,0,0,2])]);var R=new c(C),L=j.length,A=L%16;R.update(j),A&&(A=16-A,R.update(a.alloc(A,0))),R.update(a.alloc(8,0));var P=8*L,$=a.alloc(8);$.writeUIntBE(P,0,8),R.update($),x._finID=R.state;var V=a.from(x._finID);return h(V),V})(this,y,b),this._prev=a.from(y),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=p,this._authTag=null,this._called=!1}u(f,o),f.prototype._update=function(p){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=a.alloc(g,0),this._ghash.update(g))}this._called=!0;var y=this._mode.encrypt(this,p);return this._decrypt?this._ghash.update(p):this._ghash.update(y),this._len+=p.length,y},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var p=d(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(g,y){var m=0;g.length!==y.length&&m++;for(var v=Math.min(g.length,y.length),b=0;b<v;++b)m+=g[b]^y[b];return m})(p,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=p,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(p){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=p},f.prototype.setAAD=function(p){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(p),this._alen+=p.length},n.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(r,n,s){var i=r("./encrypter"),a=r("./decrypter"),o=r("./modes/list.json");s.createCipher=s.Cipher=i.createCipher,s.createCipheriv=s.Cipheriv=i.createCipheriv,s.createDecipher=s.Decipher=a.createDecipher,s.createDecipheriv=s.Decipheriv=a.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(r,n,s){var i=r("./authCipher"),a=r("safe-buffer").Buffer,o=r("./modes"),u=r("./streamCipher"),c=r("cipher-base"),d=r("./aes"),h=r("evp_bytestokey");function f(y,m,v){c.call(this),this._cache=new p,this._last=void 0,this._cipher=new d.AES(m),this._prev=a.from(v),this._mode=y,this._autopadding=!0}function p(){this.cache=a.allocUnsafe(0)}function g(y,m,v){var b=o[y.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=a.from(v)),b.mode!=="GCM"&&v.length!==b.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=a.from(m)),m.length!==b.key/8)throw new TypeError("invalid key length "+m.length);return b.type==="stream"?new u(b.module,m,v,!0):b.type==="auth"?new i(b.module,m,v,!0):new f(b.module,m,v)}r("inherits")(f,c),f.prototype._update=function(y){var m,v;this._cache.add(y);for(var b=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),b.push(v);return a.concat(b)},f.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return(function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var b=-1;++b<v;)if(m[b+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)})(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},p.prototype.add=function(y){this.cache=a.concat([this.cache,y])},p.prototype.get=function(y){var m;if(y){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(y,m){var v=o[y.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var b=h(m,!1,v.key,v.iv);return g(y,b.key,b.iv)},s.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(r,n,s){var i=r("./modes"),a=r("./authCipher"),o=r("safe-buffer").Buffer,u=r("./streamCipher"),c=r("cipher-base"),d=r("./aes"),h=r("evp_bytestokey");function f(m,v,b){c.call(this),this._cache=new g,this._cipher=new d.AES(v),this._prev=o.from(b),this._mode=m,this._autopadding=!0}r("inherits")(f,c),f.prototype._update=function(m){var v,b;this._cache.add(m);for(var x=[];v=this._cache.get();)b=this._mode.encrypt(this,v),x.push(b);return o.concat(x)};var p=o.alloc(16,16);function g(){this.cache=o.allocUnsafe(0)}function y(m,v,b){var x=i[m.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),v.length!==x.key/8)throw new TypeError("invalid key length "+v.length);if(typeof b=="string"&&(b=o.from(b)),x.mode!=="GCM"&&b.length!==x.iv)throw new TypeError("invalid iv length "+b.length);return x.type==="stream"?new u(x.module,v,b):x.type==="auth"?new a(x.module,v,b):new f(x.module,v,b)}f.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},g.prototype.add=function(m){this.cache=o.concat([this.cache,m])},g.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},g.prototype.flush=function(){for(var m=16-this.cache.length,v=o.allocUnsafe(m),b=-1;++b<m;)v.writeUInt8(m,b);return o.concat([this.cache,v])},s.createCipheriv=y,s.createCipher=function(m,v){var b=i[m.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var x=h(v,!1,b.key,b.iv);return y(m,x.key,x.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(r,n,s){var i=r("safe-buffer").Buffer,a=i.alloc(16,0);function o(c){var d=i.allocUnsafe(16);return d.writeUInt32BE(c[0]>>>0,0),d.writeUInt32BE(c[1]>>>0,4),d.writeUInt32BE(c[2]>>>0,8),d.writeUInt32BE(c[3]>>>0,12),d}function u(c){this.h=c,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}u.prototype.ghash=function(c){for(var d=-1;++d<c.length;)this.state[d]^=c[d];this._multiply()},u.prototype._multiply=function(){for(var c,d,h,f=[(c=this.h).readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)],p=[0,0,0,0],g=-1;++g<128;){for((this.state[~~(g/8)]&1<<7-g%8)!=0&&(p[0]^=f[0],p[1]^=f[1],p[2]^=f[2],p[3]^=f[3]),h=(1&f[3])!=0,d=3;d>0;d--)f[d]=f[d]>>>1|(1&f[d-1])<<31;f[0]=f[0]>>>1,h&&(f[0]=f[0]^225<<24)}this.state=o(p)},u.prototype.update=function(c){var d;for(this.cache=i.concat([this.cache,c]);this.cache.length>=16;)d=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(d)},u.prototype.final=function(c,d){return this.cache.length&&this.ghash(i.concat([this.cache,a],16)),this.ghash(o([0,c,0,d])),this.state},n.exports=u},{"safe-buffer":494}],195:[function(r,n,s){n.exports=function(i){for(var a,o=i.length;o--;){if((a=i.readUInt8(o))!==255){a++,i.writeUInt8(a,o);break}i.writeUInt8(0,o)}}},{}],196:[function(r,n,s){var i=r("buffer-xor");s.encrypt=function(a,o){var u=i(o,a._prev);return a._prev=a._cipher.encryptBlock(u),a._prev},s.decrypt=function(a,o){var u=a._prev;a._prev=o;var c=a._cipher.decryptBlock(o);return i(c,u)}},{"buffer-xor":219}],197:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("buffer-xor");function o(u,c,d){var h=c.length,f=a(c,u._cache);return u._cache=u._cache.slice(h),u._prev=i.concat([u._prev,d?c:f]),f}s.encrypt=function(u,c,d){for(var h,f=i.allocUnsafe(0);c.length;){if(u._cache.length===0&&(u._cache=u._cipher.encryptBlock(u._prev),u._prev=i.allocUnsafe(0)),!(u._cache.length<=c.length)){f=i.concat([f,o(u,c,d)]);break}h=u._cache.length,f=i.concat([f,o(u,c.slice(0,h),d)]),c=c.slice(h)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(r,n,s){var i=r("safe-buffer").Buffer;function a(u,c,d){for(var h,f,p=-1,g=0;++p<8;)h=c&1<<7-p?128:0,g+=(128&(f=u._cipher.encryptBlock(u._prev)[0]^h))>>p%8,u._prev=o(u._prev,d?h:f);return g}function o(u,c){var d=u.length,h=-1,f=i.allocUnsafe(u.length);for(u=i.concat([u,i.from([c])]);++h<d;)f[h]=u[h]<<1|u[h+1]>>7;return f}s.encrypt=function(u,c,d){for(var h=c.length,f=i.allocUnsafe(h),p=-1;++p<h;)f[p]=a(u,c[p],d);return f}},{"safe-buffer":494}],199:[function(r,n,s){var i=r("safe-buffer").Buffer;function a(o,u,c){var d=o._cipher.encryptBlock(o._prev)[0]^u;return o._prev=i.concat([o._prev.slice(1),i.from([c?u:d])]),d}s.encrypt=function(o,u,c){for(var d=u.length,h=i.allocUnsafe(d),f=-1;++f<d;)h[f]=a(o,u[f],c);return h}},{"safe-buffer":494}],200:[function(r,n,s){var i=r("buffer-xor"),a=r("safe-buffer").Buffer,o=r("../incr32");function u(c){var d=c._cipher.encryptBlockRaw(c._prev);return o(c._prev),d}s.encrypt=function(c,d){var h=Math.ceil(d.length/16),f=c._cache.length;c._cache=a.concat([c._cache,a.allocUnsafe(16*h)]);for(var p=0;p<h;p++){var g=u(c),y=f+16*p;c._cache.writeUInt32BE(g[0],y+0),c._cache.writeUInt32BE(g[1],y+4),c._cache.writeUInt32BE(g[2],y+8),c._cache.writeUInt32BE(g[3],y+12)}var m=c._cache.slice(0,d.length);return c._cache=c._cache.slice(d.length),i(d,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(r,n,s){s.encrypt=function(i,a){return i._cipher.encryptBlock(a)},s.decrypt=function(i,a){return i._cipher.decryptBlock(a)}},{}],202:[function(r,n,s){var i={ECB:r("./ecb"),CBC:r("./cbc"),CFB:r("./cfb"),CFB8:r("./cfb8"),CFB1:r("./cfb1"),OFB:r("./ofb"),CTR:r("./ctr"),GCM:r("./ctr")},a=r("./list.json");for(var o in a)a[o].module=i[a[o].mode];n.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(r,n,s){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(r,n,s){(function(i){(function(){var a=r("buffer-xor");function o(u){return u._prev=u._cipher.encryptBlock(u._prev),u._prev}s.encrypt=function(u,c){for(;u._cache.length<c.length;)u._cache=i.concat([u._cache,o(u)]);var d=u._cache.slice(0,c.length);return u._cache=u._cache.slice(c.length),a(c,d)}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(r,n,s){var i=r("./aes"),a=r("safe-buffer").Buffer,o=r("cipher-base");function u(c,d,h,f){o.call(this),this._cipher=new i.AES(d),this._prev=a.from(h),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=f,this._mode=c}r("inherits")(u,o),u.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},n.exports=u},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(r,n,s){var i=r("browserify-des"),a=r("browserify-aes/browser"),o=r("browserify-aes/modes"),u=r("browserify-des/modes"),c=r("evp_bytestokey");function d(f,p,g){if(f=f.toLowerCase(),o[f])return a.createCipheriv(f,p,g);if(u[f])return new i({key:p,iv:g,mode:f});throw new TypeError("invalid suite type")}function h(f,p,g){if(f=f.toLowerCase(),o[f])return a.createDecipheriv(f,p,g);if(u[f])return new i({key:p,iv:g,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(f,p){var g,y;if(f=f.toLowerCase(),o[f])g=o[f].key,y=o[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");g=8*u[f].key,y=u[f].iv}var m=c(p,!1,g,y);return d(f,m.key,m.iv)},s.createCipheriv=s.Cipheriv=d,s.createDecipher=s.Decipher=function(f,p){var g,y;if(f=f.toLowerCase(),o[f])g=o[f].key,y=o[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");g=8*u[f].key,y=u[f].iv}var m=c(p,!1,g,y);return h(f,m.key,m.iv)},s.createDecipheriv=s.Decipheriv=h,s.listCiphers=s.getCiphers=function(){return Object.keys(u).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(r,n,s){var i=r("cipher-base"),a=r("des.js"),o=r("inherits"),u=r("safe-buffer").Buffer,c={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function d(h){i.call(this);var f,p=h.mode.toLowerCase(),g=c[p];f=h.decrypt?"decrypt":"encrypt";var y=h.key;u.isBuffer(y)||(y=u.from(y)),p!=="des-ede"&&p!=="des-ede-cbc"||(y=u.concat([y,y.slice(0,8)]));var m=h.iv;u.isBuffer(m)||(m=u.from(m)),this._des=g.create({key:y,iv:m,type:f})}c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],n.exports=d,o(d,i),d.prototype._update=function(h){return u.from(this._des.update(h))},d.prototype._final=function(){return u.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(r,n,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(r,n,s){(function(i){(function(){var a=r("bn.js"),o=r("randombytes");function u(d){var h,f=d.modulus.byteLength();do h=new a(o(f));while(h.cmp(d.modulus)>=0||!h.umod(d.prime1)||!h.umod(d.prime2));return h}function c(d,h){var f=(function(L){var A=u(L);return{blinder:A.toRed(a.mont(L.modulus)).redPow(new a(L.publicExponent)).fromRed(),unblinder:A.invm(L.modulus)}})(h),p=h.modulus.byteLength(),g=new a(d).mul(f.blinder).umod(h.modulus),y=g.toRed(a.mont(h.prime1)),m=g.toRed(a.mont(h.prime2)),v=h.coefficient,b=h.prime1,x=h.prime2,j=y.redPow(h.exponent1).fromRed(),C=m.redPow(h.exponent2).fromRed(),R=j.isub(C).imul(v).umod(b).imul(x);return C.iadd(R).imul(f.unblinder).umod(h.modulus).toArrayLike(i,"be",p)}c.getr=u,n.exports=c}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(r,n,s){n.exports=r("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(r,n,s){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(r,n,s){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("create-hash"),o=r("readable-stream"),u=r("inherits"),c=r("./sign"),d=r("./verify"),h=r("./algorithms.json");function f(m){o.Writable.call(this);var v=h[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function p(m){o.Writable.call(this);var v=h[m];if(!v)throw new Error("Unknown message digest");this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function g(m){return new f(m)}function y(m){return new p(m)}Object.keys(h).forEach((function(m){h[m].id=i.from(h[m].id,"hex"),h[m.toLowerCase()]=h[m]})),u(f,o.Writable),f.prototype._write=function(m,v,b){this._hash.update(m),b()},f.prototype.update=function(m,v){return typeof m=="string"&&(m=i.from(m,v)),this._hash.update(m),this},f.prototype.sign=function(m,v){this.end();var b=this._hash.digest(),x=c(b,m,this._hashType,this._signType,this._tag);return v?x.toString(v):x},u(p,o.Writable),p.prototype._write=function(m,v,b){this._hash.update(m),b()},p.prototype.update=function(m,v){return typeof m=="string"&&(m=i.from(m,v)),this._hash.update(m),this},p.prototype.verify=function(m,v,b){typeof v=="string"&&(v=i.from(v,b)),this.end();var x=this._hash.digest();return d(v,x,m,this._signType,this._tag)},n.exports={Sign:g,Verify:y,createSign:g,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("create-hmac"),o=r("browserify-rsa"),u=r("elliptic").ec,c=r("bn.js"),d=r("parse-asn1"),h=r("./curves.json");function f(m,v,b,x){if((m=i.from(m.toArray())).length<v.byteLength()){var j=i.alloc(v.byteLength()-m.length);m=i.concat([j,m])}var C=b.length,R=(function(P,$){P=(P=p(P,$)).mod($);var V=i.from(P.toArray());if(V.length<$.byteLength()){var U=i.alloc($.byteLength()-V.length);V=i.concat([U,V])}return V})(b,v),L=i.alloc(C);L.fill(1);var A=i.alloc(C);return A=a(x,A).update(L).update(i.from([0])).update(m).update(R).digest(),L=a(x,A).update(L).digest(),{k:A=a(x,A).update(L).update(i.from([1])).update(m).update(R).digest(),v:L=a(x,A).update(L).digest()}}function p(m,v){var b=new c(m),x=(m.length<<3)-v.bitLength();return x>0&&b.ishrn(x),b}function g(m,v,b){var x,j;do{for(x=i.alloc(0);8*x.length<m.bitLength();)v.v=a(b,v.k).update(v.v).digest(),x=i.concat([x,v.v]);j=p(x,m),v.k=a(b,v.k).update(v.v).update(i.from([0])).digest(),v.v=a(b,v.k).update(v.v).digest()}while(j.cmp(m)!==-1);return j}function y(m,v,b,x){return m.toRed(c.mont(b)).redPow(v).fromRed().mod(x)}n.exports=function(m,v,b,x,j){var C=d(v);if(C.curve){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(P,$){var V=h[$.curve.join(".")];if(!V)throw new Error("unknown curve "+$.curve.join("."));var U=new u(V).keyFromPrivate($.privateKey).sign(P);return i.from(U.toDER())})(m,C)}if(C.type==="dsa"){if(x!=="dsa")throw new Error("wrong private key type");return(function(P,$,V){for(var U,E=$.params.priv_key,I=$.params.p,N=$.params.q,w=$.params.g,_=new c(0),k=p(P,N).mod(N),S=!1,D=f(E,N,P,V);S===!1;)U=g(N,D,V),_=y(w,U,I,N),(S=U.invm(N).imul(k.add(E.mul(_))).mod(N)).cmpn(0)===0&&(S=!1,_=new c(0));return(function(O,B){O=O.toArray(),B=B.toArray(),128&O[0]&&(O=[0].concat(O)),128&B[0]&&(B=[0].concat(B));var q=[48,O.length+B.length+4,2,O.length];return q=q.concat(O,[2,B.length],B),i.from(q)})(_,S)})(m,C,b)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");m=i.concat([j,m]);for(var R=C.modulus.byteLength(),L=[0,1];m.length+L.length+1<R;)L.push(255);L.push(0);for(var A=-1;++A<m.length;)L.push(m[A]);return o(L,C)},n.exports.getKey=f,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("bn.js"),o=r("elliptic").ec,u=r("parse-asn1"),c=r("./curves.json");function d(h,f){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(f)>=f)throw new Error("invalid sig")}n.exports=function(h,f,p,g,y){var m=u(p);if(m.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(L,A,P){var $=c[P.data.algorithm.curve.join(".")];if(!$)throw new Error("unknown curve "+P.data.algorithm.curve.join("."));var V=new o($),U=P.data.subjectPrivateKey.data;return V.verify(A,L,U)})(h,f,m)}if(m.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return(function(L,A,P){var $=P.data.p,V=P.data.q,U=P.data.g,E=P.data.pub_key,I=u.signature.decode(L,"der"),N=I.s,w=I.r;d(N,V),d(w,V);var _=a.mont($),k=N.invm(V);return U.toRed(_).redPow(new a(A).mul(k).mod(V)).fromRed().mul(E.toRed(_).redPow(w.mul(k).mod(V)).fromRed()).mod($).mod(V).cmp(w)===0})(h,f,m)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");f=i.concat([y,f]);for(var v=m.modulus.byteLength(),b=[1],x=0;f.length+b.length+2<v;)b.push(255),x++;b.push(0);for(var j=-1;++j<f.length;)b.push(f[j]);b=i.from(b);var C=a.mont(m.modulus);h=(h=new a(h).toRed(C)).redPow(new a(m.publicExponent)),h=i.from(h.fromRed().toArray());var R=x<8?1:0;for(v=Math.min(h.length,b.length),h.length!==b.length&&(R=1),j=-1;++j<v;)R|=h[j]^b[j];return R===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(r,n,s){},{}],217:[function(r,n,s){var i=r("buffer"),a=i.Buffer;function o(c,d){for(var h in c)d[h]=c[h]}function u(c,d,h){return a(c,d,h)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(o(i,s),s.Buffer=u),o(a,u),u.from=function(c,d,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,d,h)},u.alloc=function(c,d,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var f=a(c);return d!==void 0?typeof h=="string"?f.fill(d,h):f.fill(d):f.fill(0),f},u.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},u.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(c)}},{buffer:220}],218:[function(r,n,s){var i=r("safe-buffer").Buffer,a=i.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(m){var v;switch(this.encoding=(function(b){var x=(function(j){if(!j)return"utf8";for(var C;;)switch(j){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return j;default:if(C)return;j=(""+j).toLowerCase(),C=!0}})(b);if(typeof x!="string"&&(i.isEncoding===a||!a(b)))throw new Error("Unknown encoding: "+b);return x||b})(m),this.encoding){case"utf16le":this.text=d,this.end=h,v=4;break;case"utf8":this.fillLast=c,v=4;break;case"base64":this.text=f,this.end=p,v=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(v)}function u(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function c(m){var v=this.lastTotal-this.lastNeed,b=(function(x,j,C){if((192&j[0])!=128)return x.lastNeed=0,"";if(x.lastNeed>1&&j.length>1){if((192&j[1])!=128)return x.lastNeed=1,"";if(x.lastNeed>2&&j.length>2&&(192&j[2])!=128)return x.lastNeed=2,""}})(this,m);return b!==void 0?b:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function d(m,v){if((m.length-v)%2==0){var b=m.toString("utf16le",v);if(b){var x=b.charCodeAt(b.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function h(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,b)}return v}function f(m,v){var b=(m.length-v)%3;return b===0?m.toString("base64",v):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-b))}function p(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function g(m){return m.toString(this.encoding)}function y(m){return m&&m.length?this.write(m):""}s.StringDecoder=o,o.prototype.write=function(m){if(m.length===0)return"";var v,b;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<m.length?v?v+this.text(m,b):this.text(m,b):v||""},o.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"":v},o.prototype.text=function(m,v){var b=(function(j,C,R){var L=C.length-1;if(L<R)return 0;var A=u(C[L]);return A>=0?(A>0&&(j.lastNeed=A-1),A):--L<R||A===-2?0:(A=u(C[L]))>=0?(A>0&&(j.lastNeed=A-2),A):--L<R||A===-2?0:(A=u(C[L]))>=0?(A>0&&(A===2?A=0:j.lastNeed=A-3),A):0})(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=b;var x=m.length-(b-this.lastNeed);return m.copy(this.lastChar,0,x),m.toString("utf8",v,x)},o.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(r,n,s){(function(i){(function(){n.exports=function(a,o){for(var u=Math.min(a.length,o.length),c=new i(u),d=0;d<u;++d)c[d]=a[d]^o[d];return c}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],220:[function(r,n,s){(function(i){(function(){var a=r("base64-js"),o=r("ieee754");s.Buffer=c,s.SlowBuffer=function(z){return+z!=z&&(z=0),c.alloc(+z)},s.INSPECT_MAX_BYTES=50;function u(z){if(z>2147483647)throw new RangeError('The value "'+z+'" is invalid for option "size"');var F=new Uint8Array(z);return F.__proto__=c.prototype,F}function c(z,F,W){if(typeof z=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(z)}return d(z,F,W)}function d(z,F,W){if(typeof z=="string")return(function(ne,ue){if(typeof ue=="string"&&ue!==""||(ue="utf8"),!c.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);var Z=0|y(ne,ue),te=u(Z),X=te.write(ne,ue);return X!==Z&&(te=te.slice(0,X)),te})(z,F);if(ArrayBuffer.isView(z))return p(z);if(z==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(M(z,ArrayBuffer)||z&&M(z.buffer,ArrayBuffer))return(function(ne,ue,Z){if(ue<0||ne.byteLength<ue)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<ue+(Z||0))throw new RangeError('"length" is outside of buffer bounds');var te;return te=ue===void 0&&Z===void 0?new Uint8Array(ne):Z===void 0?new Uint8Array(ne,ue):new Uint8Array(ne,ue,Z),te.__proto__=c.prototype,te})(z,F,W);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=z.valueOf&&z.valueOf();if(J!=null&&J!==z)return c.from(J,F,W);var le=(function(ne){if(c.isBuffer(ne)){var ue=0|g(ne.length),Z=u(ue);return Z.length===0||ne.copy(Z,0,0,ue),Z}if(ne.length!==void 0)return typeof ne.length!="number"||K(ne.length)?u(0):p(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return p(ne.data)})(z);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return c.from(z[Symbol.toPrimitive]("string"),F,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}function h(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function f(z){return h(z),u(z<0?0:0|g(z))}function p(z){for(var F=z.length<0?0:0|g(z.length),W=u(F),J=0;J<F;J+=1)W[J]=255&z[J];return W}function g(z){if(z>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|z}function y(z,F){if(c.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||M(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var W=z.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&W===0)return 0;for(var le=!1;;)switch(F){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return q(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*W;case"hex":return W>>>1;case"base64":return H(z).length;default:if(le)return J?-1:q(z).length;F=(""+F).toLowerCase(),le=!0}}function m(z,F,W){var J=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0)<=(F>>>=0))return"";for(z||(z="utf8");;)switch(z){case"hex":return I(this,F,W);case"utf8":case"utf-8":return V(this,F,W);case"ascii":return U(this,F,W);case"latin1":case"binary":return E(this,F,W);case"base64":return $(this,F,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,F,W);default:if(J)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),J=!0}}function v(z,F,W){var J=z[F];z[F]=z[W],z[W]=J}function b(z,F,W,J,le){if(z.length===0)return-1;if(typeof W=="string"?(J=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),K(W=+W)&&(W=le?0:z.length-1),W<0&&(W=z.length+W),W>=z.length){if(le)return-1;W=z.length-1}else if(W<0){if(!le)return-1;W=0}if(typeof F=="string"&&(F=c.from(F,J)),c.isBuffer(F))return F.length===0?-1:x(z,F,W,J,le);if(typeof F=="number")return F&=255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(z,F,W):Uint8Array.prototype.lastIndexOf.call(z,F,W):x(z,[F],W,J,le);throw new TypeError("val must be string, number or Buffer")}function x(z,F,W,J,le){var ne,ue=1,Z=z.length,te=F.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(z.length<2||F.length<2)return-1;ue=2,Z/=2,te/=2,W/=2}function X(G,Y){return ue===1?G[Y]:G.readUInt16BE(Y*ue)}if(le){var ae=-1;for(ne=W;ne<Z;ne++)if(X(z,ne)===X(F,ae===-1?0:ne-ae)){if(ae===-1&&(ae=ne),ne-ae+1===te)return ae*ue}else ae!==-1&&(ne-=ne-ae),ae=-1}else for(W+te>Z&&(W=Z-te),ne=W;ne>=0;ne--){for(var re=!0,ee=0;ee<te;ee++)if(X(z,ne+ee)!==X(F,ee)){re=!1;break}if(re)return ne}return-1}function j(z,F,W,J){W=Number(W)||0;var le=z.length-W;J?(J=Number(J))>le&&(J=le):J=le;var ne=F.length;J>ne/2&&(J=ne/2);for(var ue=0;ue<J;++ue){var Z=parseInt(F.substr(2*ue,2),16);if(K(Z))return ue;z[W+ue]=Z}return ue}function C(z,F,W,J){return Q(q(F,z.length-W),z,W,J)}function R(z,F,W,J){return Q((function(le){for(var ne=[],ue=0;ue<le.length;++ue)ne.push(255&le.charCodeAt(ue));return ne})(F),z,W,J)}function L(z,F,W,J){return R(z,F,W,J)}function A(z,F,W,J){return Q(H(F),z,W,J)}function P(z,F,W,J){return Q((function(le,ne){for(var ue,Z,te,X=[],ae=0;ae<le.length&&!((ne-=2)<0);++ae)ue=le.charCodeAt(ae),Z=ue>>8,te=ue%256,X.push(te),X.push(Z);return X})(F,z.length-W),z,W,J)}function $(z,F,W){return F===0&&W===z.length?a.fromByteArray(z):a.fromByteArray(z.slice(F,W))}function V(z,F,W){W=Math.min(z.length,W);for(var J=[],le=F;le<W;){var ne,ue,Z,te,X=z[le],ae=null,re=X>239?4:X>223?3:X>191?2:1;if(le+re<=W)switch(re){case 1:X<128&&(ae=X);break;case 2:(192&(ne=z[le+1]))==128&&(te=(31&X)<<6|63&ne)>127&&(ae=te);break;case 3:ne=z[le+1],ue=z[le+2],(192&ne)==128&&(192&ue)==128&&(te=(15&X)<<12|(63&ne)<<6|63&ue)>2047&&(te<55296||te>57343)&&(ae=te);break;case 4:ne=z[le+1],ue=z[le+2],Z=z[le+3],(192&ne)==128&&(192&ue)==128&&(192&Z)==128&&(te=(15&X)<<18|(63&ne)<<12|(63&ue)<<6|63&Z)>65535&&te<1114112&&(ae=te)}ae===null?(ae=65533,re=1):ae>65535&&(ae-=65536,J.push(ae>>>10&1023|55296),ae=56320|1023&ae),J.push(ae),le+=re}return(function(ee){var G=ee.length;if(G<=4096)return String.fromCharCode.apply(String,ee);for(var Y="",ie=0;ie<G;)Y+=String.fromCharCode.apply(String,ee.slice(ie,ie+=4096));return Y})(J)}s.kMaxLength=2147483647,c.TYPED_ARRAY_SUPPORT=(function(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42}catch{return!1}})(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(z,F,W){return d(z,F,W)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(z,F,W){return(function(J,le,ne){return h(J),J<=0?u(J):le!==void 0?typeof ne=="string"?u(J).fill(le,ne):u(J).fill(le):u(J)})(z,F,W)},c.allocUnsafe=function(z){return f(z)},c.allocUnsafeSlow=function(z){return f(z)},c.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==c.prototype},c.compare=function(z,F){if(M(z,Uint8Array)&&(z=c.from(z,z.offset,z.byteLength)),M(F,Uint8Array)&&(F=c.from(F,F.offset,F.byteLength)),!c.isBuffer(z)||!c.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===F)return 0;for(var W=z.length,J=F.length,le=0,ne=Math.min(W,J);le<ne;++le)if(z[le]!==F[le]){W=z[le],J=F[le];break}return W<J?-1:J<W?1:0},c.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(z,F){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return c.alloc(0);var W;if(F===void 0)for(F=0,W=0;W<z.length;++W)F+=z[W].length;var J=c.allocUnsafe(F),le=0;for(W=0;W<z.length;++W){var ne=z[W];if(M(ne,Uint8Array)&&(ne=c.from(ne)),!c.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(J,le),le+=ne.length}return J},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<z;F+=2)v(this,F,F+1);return this},c.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<z;F+=4)v(this,F,F+3),v(this,F+1,F+2);return this},c.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<z;F+=8)v(this,F,F+7),v(this,F+1,F+6),v(this,F+2,F+5),v(this,F+3,F+4);return this},c.prototype.toString=function(){var z=this.length;return z===0?"":arguments.length===0?V(this,0,z):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(z){if(!c.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||c.compare(this,z)===0},c.prototype.inspect=function(){var z="",F=s.INSPECT_MAX_BYTES;return z=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(z+=" ... "),"<Buffer "+z+">"},c.prototype.compare=function(z,F,W,J,le){if(M(z,Uint8Array)&&(z=c.from(z,z.offset,z.byteLength)),!c.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(F===void 0&&(F=0),W===void 0&&(W=z?z.length:0),J===void 0&&(J=0),le===void 0&&(le=this.length),F<0||W>z.length||J<0||le>this.length)throw new RangeError("out of range index");if(J>=le&&F>=W)return 0;if(J>=le)return-1;if(F>=W)return 1;if(this===z)return 0;for(var ne=(le>>>=0)-(J>>>=0),ue=(W>>>=0)-(F>>>=0),Z=Math.min(ne,ue),te=this.slice(J,le),X=z.slice(F,W),ae=0;ae<Z;++ae)if(te[ae]!==X[ae]){ne=te[ae],ue=X[ae];break}return ne<ue?-1:ue<ne?1:0},c.prototype.includes=function(z,F,W){return this.indexOf(z,F,W)!==-1},c.prototype.indexOf=function(z,F,W){return b(this,z,F,W,!0)},c.prototype.lastIndexOf=function(z,F,W){return b(this,z,F,W,!1)},c.prototype.write=function(z,F,W,J){if(F===void 0)J="utf8",W=this.length,F=0;else if(W===void 0&&typeof F=="string")J=F,W=this.length,F=0;else{if(!isFinite(F))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");F>>>=0,isFinite(W)?(W>>>=0,J===void 0&&(J="utf8")):(J=W,W=void 0)}var le=this.length-F;if((W===void 0||W>le)&&(W=le),z.length>0&&(W<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var ne=!1;;)switch(J){case"hex":return j(this,z,F,W);case"utf8":case"utf-8":return C(this,z,F,W);case"ascii":return R(this,z,F,W);case"latin1":case"binary":return L(this,z,F,W);case"base64":return A(this,z,F,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,z,F,W);default:if(ne)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ne=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(z,F,W){var J="";W=Math.min(z.length,W);for(var le=F;le<W;++le)J+=String.fromCharCode(127&z[le]);return J}function E(z,F,W){var J="";W=Math.min(z.length,W);for(var le=F;le<W;++le)J+=String.fromCharCode(z[le]);return J}function I(z,F,W){var J=z.length;(!F||F<0)&&(F=0),(!W||W<0||W>J)&&(W=J);for(var le="",ne=F;ne<W;++ne)le+=B(z[ne]);return le}function N(z,F,W){for(var J=z.slice(F,W),le="",ne=0;ne<J.length;ne+=2)le+=String.fromCharCode(J[ne]+256*J[ne+1]);return le}function w(z,F,W){if(z%1!=0||z<0)throw new RangeError("offset is not uint");if(z+F>W)throw new RangeError("Trying to access beyond buffer length")}function _(z,F,W,J,le,ne){if(!c.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>le||F<ne)throw new RangeError('"value" argument is out of bounds');if(W+J>z.length)throw new RangeError("Index out of range")}function k(z,F,W,J,le,ne){if(W+J>z.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function S(z,F,W,J,le){return F=+F,W>>>=0,le||k(z,0,W,4),o.write(z,F,W,J,23,4),W+4}function D(z,F,W,J,le){return F=+F,W>>>=0,le||k(z,0,W,8),o.write(z,F,W,J,52,8),W+8}c.prototype.slice=function(z,F){var W=this.length;(z=~~z)<0?(z+=W)<0&&(z=0):z>W&&(z=W),(F=F===void 0?W:~~F)<0?(F+=W)<0&&(F=0):F>W&&(F=W),F<z&&(F=z);var J=this.subarray(z,F);return J.__proto__=c.prototype,J},c.prototype.readUIntLE=function(z,F,W){z>>>=0,F>>>=0,W||w(z,F,this.length);for(var J=this[z],le=1,ne=0;++ne<F&&(le*=256);)J+=this[z+ne]*le;return J},c.prototype.readUIntBE=function(z,F,W){z>>>=0,F>>>=0,W||w(z,F,this.length);for(var J=this[z+--F],le=1;F>0&&(le*=256);)J+=this[z+--F]*le;return J},c.prototype.readUInt8=function(z,F){return z>>>=0,F||w(z,1,this.length),this[z]},c.prototype.readUInt16LE=function(z,F){return z>>>=0,F||w(z,2,this.length),this[z]|this[z+1]<<8},c.prototype.readUInt16BE=function(z,F){return z>>>=0,F||w(z,2,this.length),this[z]<<8|this[z+1]},c.prototype.readUInt32LE=function(z,F){return z>>>=0,F||w(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},c.prototype.readUInt32BE=function(z,F){return z>>>=0,F||w(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},c.prototype.readIntLE=function(z,F,W){z>>>=0,F>>>=0,W||w(z,F,this.length);for(var J=this[z],le=1,ne=0;++ne<F&&(le*=256);)J+=this[z+ne]*le;return J>=(le*=128)&&(J-=Math.pow(2,8*F)),J},c.prototype.readIntBE=function(z,F,W){z>>>=0,F>>>=0,W||w(z,F,this.length);for(var J=F,le=1,ne=this[z+--J];J>0&&(le*=256);)ne+=this[z+--J]*le;return ne>=(le*=128)&&(ne-=Math.pow(2,8*F)),ne},c.prototype.readInt8=function(z,F){return z>>>=0,F||w(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},c.prototype.readInt16LE=function(z,F){z>>>=0,F||w(z,2,this.length);var W=this[z]|this[z+1]<<8;return 32768&W?4294901760|W:W},c.prototype.readInt16BE=function(z,F){z>>>=0,F||w(z,2,this.length);var W=this[z+1]|this[z]<<8;return 32768&W?4294901760|W:W},c.prototype.readInt32LE=function(z,F){return z>>>=0,F||w(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},c.prototype.readInt32BE=function(z,F){return z>>>=0,F||w(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},c.prototype.readFloatLE=function(z,F){return z>>>=0,F||w(z,4,this.length),o.read(this,z,!0,23,4)},c.prototype.readFloatBE=function(z,F){return z>>>=0,F||w(z,4,this.length),o.read(this,z,!1,23,4)},c.prototype.readDoubleLE=function(z,F){return z>>>=0,F||w(z,8,this.length),o.read(this,z,!0,52,8)},c.prototype.readDoubleBE=function(z,F){return z>>>=0,F||w(z,8,this.length),o.read(this,z,!1,52,8)},c.prototype.writeUIntLE=function(z,F,W,J){z=+z,F>>>=0,W>>>=0,J||_(this,z,F,W,Math.pow(2,8*W)-1,0);var le=1,ne=0;for(this[F]=255&z;++ne<W&&(le*=256);)this[F+ne]=z/le&255;return F+W},c.prototype.writeUIntBE=function(z,F,W,J){z=+z,F>>>=0,W>>>=0,J||_(this,z,F,W,Math.pow(2,8*W)-1,0);var le=W-1,ne=1;for(this[F+le]=255&z;--le>=0&&(ne*=256);)this[F+le]=z/ne&255;return F+W},c.prototype.writeUInt8=function(z,F,W){return z=+z,F>>>=0,W||_(this,z,F,1,255,0),this[F]=255&z,F+1},c.prototype.writeUInt16LE=function(z,F,W){return z=+z,F>>>=0,W||_(this,z,F,2,65535,0),this[F]=255&z,this[F+1]=z>>>8,F+2},c.prototype.writeUInt16BE=function(z,F,W){return z=+z,F>>>=0,W||_(this,z,F,2,65535,0),this[F]=z>>>8,this[F+1]=255&z,F+2},c.prototype.writeUInt32LE=function(z,F,W){return z=+z,F>>>=0,W||_(this,z,F,4,4294967295,0),this[F+3]=z>>>24,this[F+2]=z>>>16,this[F+1]=z>>>8,this[F]=255&z,F+4},c.prototype.writeUInt32BE=function(z,F,W){return z=+z,F>>>=0,W||_(this,z,F,4,4294967295,0),this[F]=z>>>24,this[F+1]=z>>>16,this[F+2]=z>>>8,this[F+3]=255&z,F+4},c.prototype.writeIntLE=function(z,F,W,J){if(z=+z,F>>>=0,!J){var le=Math.pow(2,8*W-1);_(this,z,F,W,le-1,-le)}var ne=0,ue=1,Z=0;for(this[F]=255&z;++ne<W&&(ue*=256);)z<0&&Z===0&&this[F+ne-1]!==0&&(Z=1),this[F+ne]=(z/ue>>0)-Z&255;return F+W},c.prototype.writeIntBE=function(z,F,W,J){if(z=+z,F>>>=0,!J){var le=Math.pow(2,8*W-1);_(this,z,F,W,le-1,-le)}var ne=W-1,ue=1,Z=0;for(this[F+ne]=255&z;--ne>=0&&(ue*=256);)z<0&&Z===0&&this[F+ne+1]!==0&&(Z=1),this[F+ne]=(z/ue>>0)-Z&255;return F+W},c.prototype.writeInt8=function(z,F,W){return z=+z,F>>>=0,W||_(this,z,F,1,127,-128),z<0&&(z=255+z+1),this[F]=255&z,F+1},c.prototype.writeInt16LE=function(z,F,W){return z=+z,F>>>=0,W||_(this,z,F,2,32767,-32768),this[F]=255&z,this[F+1]=z>>>8,F+2},c.prototype.writeInt16BE=function(z,F,W){return z=+z,F>>>=0,W||_(this,z,F,2,32767,-32768),this[F]=z>>>8,this[F+1]=255&z,F+2},c.prototype.writeInt32LE=function(z,F,W){return z=+z,F>>>=0,W||_(this,z,F,4,2147483647,-2147483648),this[F]=255&z,this[F+1]=z>>>8,this[F+2]=z>>>16,this[F+3]=z>>>24,F+4},c.prototype.writeInt32BE=function(z,F,W){return z=+z,F>>>=0,W||_(this,z,F,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[F]=z>>>24,this[F+1]=z>>>16,this[F+2]=z>>>8,this[F+3]=255&z,F+4},c.prototype.writeFloatLE=function(z,F,W){return S(this,z,F,!0,W)},c.prototype.writeFloatBE=function(z,F,W){return S(this,z,F,!1,W)},c.prototype.writeDoubleLE=function(z,F,W){return D(this,z,F,!0,W)},c.prototype.writeDoubleBE=function(z,F,W){return D(this,z,F,!1,W)},c.prototype.copy=function(z,F,W,J){if(!c.isBuffer(z))throw new TypeError("argument should be a Buffer");if(W||(W=0),J||J===0||(J=this.length),F>=z.length&&(F=z.length),F||(F=0),J>0&&J<W&&(J=W),J===W||z.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),z.length-F<J-W&&(J=z.length-F+W);var le=J-W;if(this===z&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(F,W,J);else if(this===z&&W<F&&F<J)for(var ne=le-1;ne>=0;--ne)z[ne+F]=this[ne+W];else Uint8Array.prototype.set.call(z,this.subarray(W,J),F);return le},c.prototype.fill=function(z,F,W,J){if(typeof z=="string"){if(typeof F=="string"?(J=F,F=0,W=this.length):typeof W=="string"&&(J=W,W=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!c.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(z.length===1){var le=z.charCodeAt(0);(J==="utf8"&&le<128||J==="latin1")&&(z=le)}}else typeof z=="number"&&(z&=255);if(F<0||this.length<F||this.length<W)throw new RangeError("Out of range index");if(W<=F)return this;var ne;if(F>>>=0,W=W===void 0?this.length:W>>>0,z||(z=0),typeof z=="number")for(ne=F;ne<W;++ne)this[ne]=z;else{var ue=c.isBuffer(z)?z:c.from(z,J),Z=ue.length;if(Z===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(ne=0;ne<W-F;++ne)this[ne+F]=ue[ne%Z]}return this};var O=/[^+/0-9A-Za-z-_]/g;function B(z){return z<16?"0"+z.toString(16):z.toString(16)}function q(z,F){var W;F=F||1/0;for(var J=z.length,le=null,ne=[],ue=0;ue<J;++ue){if((W=z.charCodeAt(ue))>55295&&W<57344){if(!le){if(W>56319){(F-=3)>-1&&ne.push(239,191,189);continue}if(ue+1===J){(F-=3)>-1&&ne.push(239,191,189);continue}le=W;continue}if(W<56320){(F-=3)>-1&&ne.push(239,191,189),le=W;continue}W=65536+(le-55296<<10|W-56320)}else le&&(F-=3)>-1&&ne.push(239,191,189);if(le=null,W<128){if((F-=1)<0)break;ne.push(W)}else if(W<2048){if((F-=2)<0)break;ne.push(W>>6|192,63&W|128)}else if(W<65536){if((F-=3)<0)break;ne.push(W>>12|224,W>>6&63|128,63&W|128)}else{if(!(W<1114112))throw new Error("Invalid code point");if((F-=4)<0)break;ne.push(W>>18|240,W>>12&63|128,W>>6&63|128,63&W|128)}}return ne}function H(z){return a.toByteArray((function(F){if((F=(F=F.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F})(z))}function Q(z,F,W,J){for(var le=0;le<J&&!(le+W>=F.length||le>=z.length);++le)F[le+W]=z[le];return le}function M(z,F){return z instanceof F||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===F.name}function K(z){return z!=z}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("stream").Transform,o=r("string_decoder").StringDecoder;function u(c){a.call(this),this.hashMode=typeof c=="string",this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("inherits")(u,a),u.prototype.update=function(c,d,h){typeof c=="string"&&(c=i.from(c,d));var f=this._update(c);return this.hashMode?this:(h&&(f=this._toString(f,h)),f)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(c,d,h){var f;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(p){f=p}finally{h(f)}},u.prototype._flush=function(c){var d;try{this.push(this.__final())}catch(h){d=h}c(d)},u.prototype._finalOrDigest=function(c){var d=this.__final()||i.alloc(0);return c&&(d=this._toString(d,c,!0)),d},u.prototype._toString=function(c,d,h){if(this._decoder||(this._decoder=new o(d),this._encoding=d),this._encoding!==d)throw new Error("can't switch encodings");var f=this._decoder.write(c);return h&&(f+=this._decoder.end()),f},n.exports=u},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(r,n,s){var i=r("../internals/is-callable"),a=r("../internals/try-to-string"),o=TypeError;n.exports=function(u){if(i(u))return u;throw new o(a(u)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(r,n,s){var i=r("../internals/is-constructor"),a=r("../internals/try-to-string"),o=TypeError;n.exports=function(u){if(i(u))return u;throw new o(a(u)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(r,n,s){var i=r("../internals/is-callable"),a=String,o=TypeError;n.exports=function(u){if(typeof u=="object"||i(u))return u;throw new o("Can't set "+a(u)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(r,n,s){var i=r("../internals/well-known-symbol"),a=r("../internals/object-create"),o=r("../internals/object-define-property").f,u=i("unscopables"),c=Array.prototype;c[u]===void 0&&o(c,u,{configurable:!0,value:a(null)}),n.exports=function(d){c[u][d]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(r,n,s){var i=r("../internals/object-is-prototype-of"),a=TypeError;n.exports=function(o,u){if(i(u,o))return o;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(r,n,s){var i=r("../internals/is-object"),a=String,o=TypeError;n.exports=function(u){if(i(u))return u;throw new o(a(u)+" is not an object")}},{"../internals/is-object":289}],228:[function(r,n,s){var i=r("../internals/to-indexed-object"),a=r("../internals/to-absolute-index"),o=r("../internals/length-of-array-like"),u=function(c){return function(d,h,f){var p,g=i(d),y=o(g),m=a(f,y);if(c&&h!=h){for(;y>m;)if((p=g[m++])!=p)return!0}else for(;y>m;m++)if((c||m in g)&&g[m]===h)return c||m||0;return!c&&-1}};n.exports={includes:u(!0),indexOf:u(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(r,n,s){var i=r("../internals/function-bind-context"),a=r("../internals/function-uncurry-this"),o=r("../internals/indexed-object"),u=r("../internals/to-object"),c=r("../internals/length-of-array-like"),d=r("../internals/array-species-create"),h=a([].push),f=function(p){var g=p===1,y=p===2,m=p===3,v=p===4,b=p===6,x=p===7,j=p===5||b;return function(C,R,L,A){for(var P,$,V=u(C),U=o(V),E=i(R,L),I=c(U),N=0,w=A||d,_=g?w(C,I):y||x?w(C,0):void 0;I>N;N++)if((j||N in U)&&($=E(P=U[N],N,V),p))if(g)_[N]=$;else if($)switch(p){case 3:return!0;case 5:return P;case 6:return N;case 2:h(_,P)}else switch(p){case 4:return!1;case 7:h(_,P)}return b?-1:m||v?v:_}};n.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(r,n,s){var i=r("../internals/to-absolute-index"),a=r("../internals/length-of-array-like"),o=r("../internals/create-property"),u=Array,c=Math.max;n.exports=function(d,h,f){for(var p=a(d),g=i(h,p),y=i(f===void 0?p:f,p),m=u(c(y-g,0)),v=0;g<y;g++,v++)o(m,v,d[g]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(r,n,s){var i=r("../internals/function-uncurry-this");n.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(r,n,s){var i=r("../internals/is-array"),a=r("../internals/is-constructor"),o=r("../internals/is-object"),u=r("../internals/well-known-symbol")("species"),c=Array;n.exports=function(d){var h;return i(d)&&(h=d.constructor,(a(h)&&(h===c||i(h.prototype))||o(h)&&(h=h[u])===null)&&(h=void 0)),h===void 0?c:h}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(r,n,s){var i=r("../internals/array-species-constructor");n.exports=function(a,o){return new(i(a))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(r,n,s){var i=r("../internals/well-known-symbol")("iterator"),a=!1;try{var o=0,u={next:function(){return{done:!!o++}},return:function(){a=!0}};u[i]=function(){return this},Array.from(u,(function(){throw 2}))}catch{}n.exports=function(c,d){try{if(!d&&!a)return!1}catch{return!1}var h=!1;try{var f={};f[i]=function(){return{next:function(){return{done:h=!0}}}},c(f)}catch{}return h}},{"../internals/well-known-symbol":357}],235:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=i({}.toString),o=i("".slice);n.exports=function(u){return o(a(u),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(r,n,s){var i=r("../internals/to-string-tag-support"),a=r("../internals/is-callable"),o=r("../internals/classof-raw"),u=r("../internals/well-known-symbol")("toStringTag"),c=Object,d=o((function(){return arguments})())==="Arguments";n.exports=i?o:function(h){var f,p,g;return h===void 0?"Undefined":h===null?"Null":typeof(p=(function(y,m){try{return y[m]}catch{}})(f=c(h),u))=="string"?p:d?o(f):(g=o(f))==="Object"&&a(f.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(r,n,s){var i=r("../internals/has-own-property"),a=r("../internals/own-keys"),o=r("../internals/object-get-own-property-descriptor"),u=r("../internals/object-define-property");n.exports=function(c,d,h){for(var f=a(d),p=u.f,g=o.f,y=0;y<f.length;y++){var m=f[y];i(c,m)||h&&i(h,m)||p(c,m,g(d,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(r,n,s){var i=r("../internals/well-known-symbol")("match");n.exports=function(a){var o=/./;try{"/./"[a](o)}catch{try{return o[i]=!1,"/./"[a](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(r,n,s){var i=r("../internals/fails");n.exports=!i((function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}))},{"../internals/fails":260}],240:[function(r,n,s){n.exports=function(i,a){return{value:i,done:a}}},{}],241:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/object-define-property"),o=r("../internals/create-property-descriptor");n.exports=i?function(u,c,d){return a.f(u,c,o(1,d))}:function(u,c,d){return u[c]=d,u}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(r,n,s){n.exports=function(i,a){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:a}}},{}],243:[function(r,n,s){var i=r("../internals/to-property-key"),a=r("../internals/object-define-property"),o=r("../internals/create-property-descriptor");n.exports=function(u,c,d){var h=i(c);h in u?a.f(u,h,o(0,d)):u[h]=d}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(r,n,s){var i=r("../internals/make-built-in"),a=r("../internals/object-define-property");n.exports=function(o,u,c){return c.get&&i(c.get,u,{getter:!0}),c.set&&i(c.set,u,{setter:!0}),a.f(o,u,c)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(r,n,s){var i=r("../internals/is-callable"),a=r("../internals/object-define-property"),o=r("../internals/make-built-in"),u=r("../internals/define-global-property");n.exports=function(c,d,h,f){f||(f={});var p=f.enumerable,g=f.name!==void 0?f.name:d;if(i(h)&&o(h,g,f),f.global)p?c[d]=h:u(d,h);else{try{f.unsafe?c[d]&&(p=!0):delete c[d]}catch{}p?c[d]=h:a.f(c,d,{value:h,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return c}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(r,n,s){var i=r("../internals/global"),a=Object.defineProperty;n.exports=function(o,u){try{a(i,o,{value:u,configurable:!0,writable:!0})}catch{i[o]=u}return u}},{"../internals/global":274}],247:[function(r,n,s){var i=r("../internals/fails");n.exports=!i((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(r,n,s){var i=typeof document=="object"&&document.all,a=i===void 0&&i!==void 0;n.exports={all:i,IS_HTMLDDA:a}},{}],249:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/is-object"),o=i.document,u=a(o)&&a(o.createElement);n.exports=function(c){return u?o.createElement(c):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(r,n,s){var i=r("../internals/engine-is-deno"),a=r("../internals/engine-is-node");n.exports=!i&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(r,n,s){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(r,n,s){var i=r("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(r,n,s){var i=r("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/classof-raw");n.exports=a(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(r,n,s){var i=r("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(r,n,s){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(r,n,s){var i,a,o=r("../internals/global"),u=r("../internals/engine-user-agent"),c=o.process,d=o.Deno,h=c&&c.versions||d&&d.version,f=h&&h.v8;f&&(a=(i=f.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!a&&u&&(!(i=u.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=u.match(/Chrome\/(\d+)/))&&(a=+i[1]),n.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(r,n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/object-get-own-property-descriptor").f,o=r("../internals/create-non-enumerable-property"),u=r("../internals/define-built-in"),c=r("../internals/define-global-property"),d=r("../internals/copy-constructor-properties"),h=r("../internals/is-forced");n.exports=function(f,p){var g,y,m,v,b,x=f.target,j=f.global,C=f.stat;if(g=j?i:C?i[x]||c(x,{}):(i[x]||{}).prototype)for(y in p){if(v=p[y],m=f.dontCallGetSet?(b=a(g,y))&&b.value:g[y],!h(j?y:x+(C?".":"#")+y,f.forced)&&m!==void 0){if(typeof v==typeof m)continue;d(v,m)}(f.sham||m&&m.sham)&&o(v,"sham",!0),u(g,y,v,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(r,n,s){n.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(r,n,s){var i=r("../internals/function-bind-native"),a=Function.prototype,o=a.apply,u=a.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(i?u.bind(o):function(){return u.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(r,n,s){var i=r("../internals/function-uncurry-this-clause"),a=r("../internals/a-callable"),o=r("../internals/function-bind-native"),u=i(i.bind);n.exports=function(c,d){return a(c),d===void 0?c:o?u(c,d):function(){return c.apply(d,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(r,n,s){var i=r("../internals/fails");n.exports=!i((function(){var a=function(){}.bind();return typeof a!="function"||a.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(r,n,s){var i=r("../internals/function-bind-native"),a=Function.prototype.call;n.exports=i?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/has-own-property"),o=Function.prototype,u=i&&Object.getOwnPropertyDescriptor,c=a(o,"name"),d=c&&function(){}.name==="something",h=c&&(!i||i&&u(o,"name").configurable);n.exports={EXISTS:c,PROPER:d,CONFIGURABLE:h}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/a-callable");n.exports=function(o,u,c){try{return i(a(Object.getOwnPropertyDescriptor(o,u)[c]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(r,n,s){var i=r("../internals/classof-raw"),a=r("../internals/function-uncurry-this");n.exports=function(o){if(i(o)==="Function")return a(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(r,n,s){var i=r("../internals/function-bind-native"),a=Function.prototype,o=a.call,u=i&&a.bind.bind(o,o);n.exports=i?u:function(c){return function(){return o.apply(c,arguments)}}},{"../internals/function-bind-native":263}],269:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/is-callable"),o=function(u){return a(u)?u:void 0};n.exports=function(u,c){return arguments.length<2?o(i[u]):i[u]&&i[u][c]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(r,n,s){var i=r("../internals/classof"),a=r("../internals/get-method"),o=r("../internals/is-null-or-undefined"),u=r("../internals/iterators"),c=r("../internals/well-known-symbol")("iterator");n.exports=function(d){if(!o(d))return a(d,c)||a(d,"@@iterator")||u[i(d)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(r,n,s){var i=r("../internals/function-call"),a=r("../internals/a-callable"),o=r("../internals/an-object"),u=r("../internals/try-to-string"),c=r("../internals/get-iterator-method"),d=TypeError;n.exports=function(h,f){var p=arguments.length<2?c(h):f;if(a(p))return o(i(p,h));throw new d(u(h)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/is-array"),o=r("../internals/is-callable"),u=r("../internals/classof-raw"),c=r("../internals/to-string"),d=i([].push);n.exports=function(h){if(o(h))return h;if(a(h)){for(var f=h.length,p=[],g=0;g<f;g++){var y=h[g];typeof y=="string"?d(p,y):typeof y!="number"&&u(y)!=="Number"&&u(y)!=="String"||d(p,c(y))}var m=p.length,v=!0;return function(b,x){if(v)return v=!1,x;if(a(this))return x;for(var j=0;j<m;j++)if(p[j]===b)return x}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(r,n,s){var i=r("../internals/a-callable"),a=r("../internals/is-null-or-undefined");n.exports=function(o,u){var c=o[u];return a(c)?void 0:i(c)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(r,n,s){(function(i){(function(){var a=function(o){return o&&o.Math===Math&&o};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof i=="object"&&i)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/to-object"),o=i({}.hasOwnProperty);n.exports=Object.hasOwn||function(u,c){return o(a(u),c)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(r,n,s){n.exports={}},{}],277:[function(r,n,s){n.exports=function(i,a){try{arguments.length===1?console.error(i):console.error(i,a)}catch{}}},{}],278:[function(r,n,s){var i=r("../internals/get-built-in");n.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/fails"),o=r("../internals/document-create-element");n.exports=!i&&!a((function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/fails"),o=r("../internals/classof-raw"),u=Object,c=i("".split);n.exports=a((function(){return!u("z").propertyIsEnumerable(0)}))?function(d){return o(d)==="String"?c(d,""):u(d)}:u},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/is-callable"),o=r("../internals/shared-store"),u=i(Function.toString);a(o.inspectSource)||(o.inspectSource=function(c){return u(c)}),n.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(r,n,s){var i,a,o,u=r("../internals/weak-map-basic-detection"),c=r("../internals/global"),d=r("../internals/is-object"),h=r("../internals/create-non-enumerable-property"),f=r("../internals/has-own-property"),p=r("../internals/shared-store"),g=r("../internals/shared-key"),y=r("../internals/hidden-keys"),m=c.TypeError,v=c.WeakMap;if(u||p.state){var b=p.state||(p.state=new v);b.get=b.get,b.has=b.has,b.set=b.set,i=function(j,C){if(b.has(j))throw new m("Object already initialized");return C.facade=j,b.set(j,C),C},a=function(j){return b.get(j)||{}},o=function(j){return b.has(j)}}else{var x=g("state");y[x]=!0,i=function(j,C){if(f(j,x))throw new m("Object already initialized");return C.facade=j,h(j,x,C),C},a=function(j){return f(j,x)?j[x]:{}},o=function(j){return f(j,x)}}n.exports={set:i,get:a,has:o,enforce:function(j){return o(j)?a(j):i(j,{})},getterFor:function(j){return function(C){var R;if(!d(C)||(R=a(C)).type!==j)throw new m("Incompatible receiver, "+j+" required");return R}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(r,n,s){var i=r("../internals/well-known-symbol"),a=r("../internals/iterators"),o=i("iterator"),u=Array.prototype;n.exports=function(c){return c!==void 0&&(a.Array===c||u[o]===c)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(r,n,s){var i=r("../internals/classof-raw");n.exports=Array.isArray||function(a){return i(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(r,n,s){var i=r("../internals/document-all"),a=i.all;n.exports=i.IS_HTMLDDA?function(o){return typeof o=="function"||o===a}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/fails"),o=r("../internals/is-callable"),u=r("../internals/classof"),c=r("../internals/get-built-in"),d=r("../internals/inspect-source"),h=function(){},f=[],p=c("Reflect","construct"),g=/^\s*(?:class|function)\b/,y=i(g.exec),m=!g.test(h),v=function(x){if(!o(x))return!1;try{return p(h,f,x),!0}catch{return!1}},b=function(x){if(!o(x))return!1;switch(u(x)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!y(g,d(x))}catch{return!0}};b.sham=!0,n.exports=!p||a((function(){var x;return v(v.call)||!v(Object)||!v((function(){x=!0}))||x}))?b:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(r,n,s){var i=r("../internals/fails"),a=r("../internals/is-callable"),o=/#|\.prototype\./,u=function(p,g){var y=d[c(p)];return y===f||y!==h&&(a(g)?i(g):!!g)},c=u.normalize=function(p){return String(p).replace(o,".").toLowerCase()},d=u.data={},h=u.NATIVE="N",f=u.POLYFILL="P";n.exports=u},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(r,n,s){n.exports=function(i){return i==null}},{}],289:[function(r,n,s){var i=r("../internals/is-callable"),a=r("../internals/document-all"),o=a.all;n.exports=a.IS_HTMLDDA?function(u){return typeof u=="object"?u!==null:i(u)||u===o}:function(u){return typeof u=="object"?u!==null:i(u)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(r,n,s){n.exports=!1},{}],291:[function(r,n,s){var i=r("../internals/is-object"),a=r("../internals/classof-raw"),o=r("../internals/well-known-symbol")("match");n.exports=function(u){var c;return i(u)&&((c=u[o])!==void 0?!!c:a(u)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(r,n,s){var i=r("../internals/get-built-in"),a=r("../internals/is-callable"),o=r("../internals/object-is-prototype-of"),u=r("../internals/use-symbol-as-uid"),c=Object;n.exports=u?function(d){return typeof d=="symbol"}:function(d){var h=i("Symbol");return a(h)&&o(h.prototype,c(d))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(r,n,s){var i=r("../internals/function-bind-context"),a=r("../internals/function-call"),o=r("../internals/an-object"),u=r("../internals/try-to-string"),c=r("../internals/is-array-iterator-method"),d=r("../internals/length-of-array-like"),h=r("../internals/object-is-prototype-of"),f=r("../internals/get-iterator"),p=r("../internals/get-iterator-method"),g=r("../internals/iterator-close"),y=TypeError,m=function(b,x){this.stopped=b,this.result=x},v=m.prototype;n.exports=function(b,x,j){var C,R,L,A,P,$,V,U=j&&j.that,E=!(!j||!j.AS_ENTRIES),I=!(!j||!j.IS_RECORD),N=!(!j||!j.IS_ITERATOR),w=!(!j||!j.INTERRUPTED),_=i(x,U),k=function(D){return C&&g(C,"normal",D),new m(!0,D)},S=function(D){return E?(o(D),w?_(D[0],D[1],k):_(D[0],D[1])):w?_(D,k):_(D)};if(I)C=b.iterator;else if(N)C=b;else{if(!(R=p(b)))throw new y(u(b)+" is not iterable");if(c(R)){for(L=0,A=d(b);A>L;L++)if((P=S(b[L]))&&h(v,P))return P;return new m(!1)}C=f(b,R)}for($=I?b.next:C.next;!(V=a($,C)).done;){try{P=S(V.value)}catch(D){g(C,"throw",D)}if(typeof P=="object"&&P&&h(v,P))return P}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(r,n,s){var i=r("../internals/function-call"),a=r("../internals/an-object"),o=r("../internals/get-method");n.exports=function(u,c,d){var h,f;a(u);try{if(!(h=o(u,"return"))){if(c==="throw")throw d;return d}h=i(h,u)}catch(p){f=!0,h=p}if(c==="throw")throw d;if(f)throw h;return a(h),d}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(r,n,s){var i=r("../internals/iterators-core").IteratorPrototype,a=r("../internals/object-create"),o=r("../internals/create-property-descriptor"),u=r("../internals/set-to-string-tag"),c=r("../internals/iterators"),d=function(){return this};n.exports=function(h,f,p,g){var y=f+" Iterator";return h.prototype=a(i,{next:o(+!g,p)}),u(h,y,!1,!0),c[y]=d,h}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/function-call"),o=r("../internals/is-pure"),u=r("../internals/function-name"),c=r("../internals/is-callable"),d=r("../internals/iterator-create-constructor"),h=r("../internals/object-get-prototype-of"),f=r("../internals/object-set-prototype-of"),p=r("../internals/set-to-string-tag"),g=r("../internals/create-non-enumerable-property"),y=r("../internals/define-built-in"),m=r("../internals/well-known-symbol"),v=r("../internals/iterators"),b=r("../internals/iterators-core"),x=u.PROPER,j=u.CONFIGURABLE,C=b.IteratorPrototype,R=b.BUGGY_SAFARI_ITERATORS,L=m("iterator"),A=function(){return this};n.exports=function(P,$,V,U,E,I,N){d(V,$,U);var w,_,k,S=function(M){if(M===E&&H)return H;if(!R&&M&&M in B)return B[M];switch(M){case"keys":case"values":case"entries":return function(){return new V(this,M)}}return function(){return new V(this)}},D=$+" Iterator",O=!1,B=P.prototype,q=B[L]||B["@@iterator"]||E&&B[E],H=!R&&q||S(E),Q=$==="Array"&&B.entries||q;if(Q&&(w=h(Q.call(new P)))!==Object.prototype&&w.next&&(o||h(w)===C||(f?f(w,C):c(w[L])||y(w,L,A)),p(w,D,!0,!0),o&&(v[D]=A)),x&&E==="values"&&q&&q.name!=="values"&&(!o&&j?g(B,"name","values"):(O=!0,H=function(){return a(q,this)})),E)if(_={values:S("values"),keys:I?H:S("keys"),entries:S("entries")},N)for(k in _)(R||O||!(k in B))&&y(B,k,_[k]);else i({target:$,proto:!0,forced:R||O},_);return o&&!N||B[L]===H||y(B,L,H,{name:E}),v[$]=H,_}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(r,n,s){var i,a,o,u=r("../internals/fails"),c=r("../internals/is-callable"),d=r("../internals/is-object"),h=r("../internals/object-create"),f=r("../internals/object-get-prototype-of"),p=r("../internals/define-built-in"),g=r("../internals/well-known-symbol"),y=r("../internals/is-pure"),m=g("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(a=f(f(o)))!==Object.prototype&&(i=a):v=!0),!d(i)||u((function(){var b={};return i[m].call(b)!==b}))?i={}:y&&(i=h(i)),c(i[m])||p(i,m,(function(){return this})),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(r,n,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(r,n,s){var i=r("../internals/to-length");n.exports=function(a){return i(a.length)}},{"../internals/to-length":343}],300:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/fails"),o=r("../internals/is-callable"),u=r("../internals/has-own-property"),c=r("../internals/descriptors"),d=r("../internals/function-name").CONFIGURABLE,h=r("../internals/inspect-source"),f=r("../internals/internal-state"),p=f.enforce,g=f.get,y=String,m=Object.defineProperty,v=i("".slice),b=i("".replace),x=i([].join),j=c&&!a((function(){return m((function(){}),"length",{value:8}).length!==8})),C=String(String).split("String"),R=n.exports=function(L,A,P){v(y(A),0,7)==="Symbol("&&(A="["+b(y(A),/^Symbol\(([^)]*)\)/,"$1")+"]"),P&&P.getter&&(A="get "+A),P&&P.setter&&(A="set "+A),(!u(L,"name")||d&&L.name!==A)&&(c?m(L,"name",{value:A,configurable:!0}):L.name=A),j&&P&&u(P,"arity")&&L.length!==P.arity&&m(L,"length",{value:P.arity});try{P&&u(P,"constructor")&&P.constructor?c&&m(L,"prototype",{writable:!1}):L.prototype&&(L.prototype=void 0)}catch{}var $=p(L);return u($,"source")||($.source=x(C,typeof A=="string"?A:"")),L};Function.prototype.toString=R((function(){return o(this)&&g(this).source||h(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(r,n,s){var i=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(o){var u=+o;return(u>0?a:i)(u)}},{}],302:[function(r,n,s){var i,a,o,u,c,d=r("../internals/global"),h=r("../internals/function-bind-context"),f=r("../internals/object-get-own-property-descriptor").f,p=r("../internals/task").set,g=r("../internals/queue"),y=r("../internals/engine-is-ios"),m=r("../internals/engine-is-ios-pebble"),v=r("../internals/engine-is-webos-webkit"),b=r("../internals/engine-is-node"),x=d.MutationObserver||d.WebKitMutationObserver,j=d.document,C=d.process,R=d.Promise,L=f(d,"queueMicrotask"),A=L&&L.value;if(!A){var P=new g,$=function(){var V,U;for(b&&(V=C.domain)&&V.exit();U=P.get();)try{U()}catch(E){throw P.head&&i(),E}V&&V.enter()};y||b||v||!x||!j?!m&&R&&R.resolve?((u=R.resolve(void 0)).constructor=R,c=h(u.then,u),i=function(){c($)}):b?i=function(){C.nextTick($)}:(p=h(p,d),i=function(){p($)}):(a=!0,o=j.createTextNode(""),new x($).observe(o,{characterData:!0}),i=function(){o.data=a=!a}),A=function(V){P.head||i(),P.add(V)}}n.exports=A},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(r,n,s){var i=r("../internals/a-callable"),a=TypeError,o=function(u){var c,d;this.promise=new u((function(h,f){if(c!==void 0||d!==void 0)throw new a("Bad Promise constructor");c=h,d=f})),this.resolve=i(c),this.reject=i(d)};n.exports.f=function(u){return new o(u)}},{"../internals/a-callable":222}],304:[function(r,n,s){var i=r("../internals/is-regexp"),a=TypeError;n.exports=function(o){if(i(o))throw new a("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/function-uncurry-this"),o=r("../internals/function-call"),u=r("../internals/fails"),c=r("../internals/object-keys"),d=r("../internals/object-get-own-property-symbols"),h=r("../internals/object-property-is-enumerable"),f=r("../internals/to-object"),p=r("../internals/indexed-object"),g=Object.assign,y=Object.defineProperty,m=a([].concat);n.exports=!g||u((function(){if(i&&g({b:1},g(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},b={},x=Symbol("assign detection");return v[x]=7,"abcdefghijklmnopqrst".split("").forEach((function(j){b[j]=j})),g({},v)[x]!==7||c(g({},b)).join("")!=="abcdefghijklmnopqrst"}))?function(v,b){for(var x=f(v),j=arguments.length,C=1,R=d.f,L=h.f;j>C;)for(var A,P=p(arguments[C++]),$=R?m(c(P),R(P)):c(P),V=$.length,U=0;V>U;)A=$[U++],i&&!o(L,P,A)||(x[A]=P[A]);return x}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(r,n,s){var i,a=r("../internals/an-object"),o=r("../internals/object-define-properties"),u=r("../internals/enum-bug-keys"),c=r("../internals/hidden-keys"),d=r("../internals/html"),h=r("../internals/document-create-element"),f=r("../internals/shared-key"),p=f("IE_PROTO"),g=function(){},y=function(b){return"<script>"+b+"<\/script>"},m=function(b){b.write(y("")),b.close();var x=b.parentWindow.Object;return b=null,x},v=function(){try{i=new ActiveXObject("htmlfile")}catch{}var b,x;v=typeof document<"u"?document.domain&&i?m(i):((x=h("iframe")).style.display="none",d.appendChild(x),x.src="javascript:",(b=x.contentWindow.document).open(),b.write(y("document.F=Object")),b.close(),b.F):m(i);for(var j=u.length;j--;)delete v.prototype[u[j]];return v()};c[p]=!0,n.exports=Object.create||function(b,x){var j;return b!==null?(g.prototype=a(b),j=new g,g.prototype=null,j[p]=b):j=v(),x===void 0?j:o.f(j,x)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/v8-prototype-define-bug"),o=r("../internals/object-define-property"),u=r("../internals/an-object"),c=r("../internals/to-indexed-object"),d=r("../internals/object-keys");s.f=i&&!a?Object.defineProperties:function(h,f){u(h);for(var p,g=c(f),y=d(f),m=y.length,v=0;m>v;)o.f(h,p=y[v++],g[p]);return h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/ie8-dom-define"),o=r("../internals/v8-prototype-define-bug"),u=r("../internals/an-object"),c=r("../internals/to-property-key"),d=TypeError,h=Object.defineProperty,f=Object.getOwnPropertyDescriptor;s.f=i?o?function(p,g,y){if(u(p),g=c(g),u(y),typeof p=="function"&&g==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var m=f(p,g);m&&m.writable&&(p[g]=y.value,y={configurable:"configurable"in y?y.configurable:m.configurable,enumerable:"enumerable"in y?y.enumerable:m.enumerable,writable:!1})}return h(p,g,y)}:h:function(p,g,y){if(u(p),g=c(g),u(y),a)try{return h(p,g,y)}catch{}if("get"in y||"set"in y)throw new d("Accessors not supported");return"value"in y&&(p[g]=y.value),p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/function-call"),o=r("../internals/object-property-is-enumerable"),u=r("../internals/create-property-descriptor"),c=r("../internals/to-indexed-object"),d=r("../internals/to-property-key"),h=r("../internals/has-own-property"),f=r("../internals/ie8-dom-define"),p=Object.getOwnPropertyDescriptor;s.f=i?p:function(g,y){if(g=c(g),y=d(y),f)try{return p(g,y)}catch{}if(h(g,y))return u(!a(o.f,g,y),g[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(r,n,s){var i=r("../internals/classof-raw"),a=r("../internals/to-indexed-object"),o=r("../internals/object-get-own-property-names").f,u=r("../internals/array-slice-simple"),c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(d){return c&&i(d)==="Window"?(function(h){try{return o(h)}catch{return u(c)}})(d):o(a(d))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(r,n,s){var i=r("../internals/object-keys-internal"),a=r("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(o){return i(o,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(r,n,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(r,n,s){var i=r("../internals/has-own-property"),a=r("../internals/is-callable"),o=r("../internals/to-object"),u=r("../internals/shared-key"),c=r("../internals/correct-prototype-getter"),d=u("IE_PROTO"),h=Object,f=h.prototype;n.exports=c?h.getPrototypeOf:function(p){var g=o(p);if(i(g,d))return g[d];var y=g.constructor;return a(y)&&g instanceof y?y.prototype:g instanceof h?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(r,n,s){var i=r("../internals/function-uncurry-this");n.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/has-own-property"),o=r("../internals/to-indexed-object"),u=r("../internals/array-includes").indexOf,c=r("../internals/hidden-keys"),d=i([].push);n.exports=function(h,f){var p,g=o(h),y=0,m=[];for(p in g)!a(c,p)&&a(g,p)&&d(m,p);for(;f.length>y;)a(g,p=f[y++])&&(~u(m,p)||d(m,p));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(r,n,s){var i=r("../internals/object-keys-internal"),a=r("../internals/enum-bug-keys");n.exports=Object.keys||function(o){return i(o,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(r,n,s){var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,o=a&&!i.call({1:2},1);s.f=o?function(u){var c=a(this,u);return!!c&&c.enumerable}:i},{}],318:[function(r,n,s){var i=r("../internals/function-uncurry-this-accessor"),a=r("../internals/an-object"),o=r("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var u,c=!1,d={};try{(u=i(Object.prototype,"__proto__","set"))(d,[]),c=d instanceof Array}catch{}return function(h,f){return a(h),o(f),c?u(h,f):h.__proto__=f,h}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/fails"),o=r("../internals/function-uncurry-this"),u=r("../internals/object-get-prototype-of"),c=r("../internals/object-keys"),d=r("../internals/to-indexed-object"),h=o(r("../internals/object-property-is-enumerable").f),f=o([].push),p=i&&a((function(){var y=Object.create(null);return y[2]=2,!h(y,2)})),g=function(y){return function(m){for(var v,b=d(m),x=c(b),j=p&&u(b)===null,C=x.length,R=0,L=[];C>R;)v=x[R++],i&&!(j?v in b:h(b,v))||f(L,y?[v,b[v]]:b[v]);return L}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(r,n,s){var i=r("../internals/function-call"),a=r("../internals/is-callable"),o=r("../internals/is-object"),u=TypeError;n.exports=function(c,d){var h,f;if(d==="string"&&a(h=c.toString)&&!o(f=i(h,c))||a(h=c.valueOf)&&!o(f=i(h,c))||d!=="string"&&a(h=c.toString)&&!o(f=i(h,c)))return f;throw new u("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(r,n,s){var i=r("../internals/get-built-in"),a=r("../internals/function-uncurry-this"),o=r("../internals/object-get-own-property-names"),u=r("../internals/object-get-own-property-symbols"),c=r("../internals/an-object"),d=a([].concat);n.exports=i("Reflect","ownKeys")||function(h){var f=o.f(c(h)),p=u.f;return p?d(f,p(h)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(r,n,s){var i=r("../internals/global");n.exports=i},{"../internals/global":274}],323:[function(r,n,s){n.exports=function(i){try{return{error:!1,value:i()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/promise-native-constructor"),o=r("../internals/is-callable"),u=r("../internals/is-forced"),c=r("../internals/inspect-source"),d=r("../internals/well-known-symbol"),h=r("../internals/engine-is-browser"),f=r("../internals/engine-is-deno"),p=r("../internals/is-pure"),g=r("../internals/engine-v8-version"),y=a&&a.prototype,m=d("species"),v=!1,b=o(i.PromiseRejectionEvent),x=u("Promise",(function(){var j=c(a),C=j!==String(a);if(!C&&g===66||p&&(!y.catch||!y.finally))return!0;if(!g||g<51||!/native code/.test(j)){var R=new a((function(A){A(1)})),L=function(A){A((function(){}),(function(){}))};if((R.constructor={})[m]=L,!(v=R.then((function(){}))instanceof L))return!0}return!C&&(h||f)&&!b}));n.exports={CONSTRUCTOR:x,REJECTION_EVENT:b,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(r,n,s){var i=r("../internals/global");n.exports=i.Promise},{"../internals/global":274}],326:[function(r,n,s){var i=r("../internals/an-object"),a=r("../internals/is-object"),o=r("../internals/new-promise-capability");n.exports=function(u,c){if(i(u),a(c)&&c.constructor===u)return c;var d=o.f(u);return(0,d.resolve)(c),d.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(r,n,s){var i=r("../internals/promise-native-constructor"),a=r("../internals/check-correctness-of-iteration"),o=r("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=o||!a((function(u){i.all(u).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(r,n,s){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(a){var o={item:a,next:null},u=this.tail;u?u.next=o:this.head=o,this.tail=o},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},n.exports=i},{}],329:[function(r,n,s){var i=r("../internals/is-null-or-undefined"),a=TypeError;n.exports=function(o){if(i(o))throw new a("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(r,n,s){var i=r("../internals/get-built-in"),a=r("../internals/define-built-in-accessor"),o=r("../internals/well-known-symbol"),u=r("../internals/descriptors"),c=o("species");n.exports=function(d){var h=i(d);u&&h&&!h[c]&&a(h,c,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(r,n,s){var i=r("../internals/object-define-property").f,a=r("../internals/has-own-property"),o=r("../internals/well-known-symbol")("toStringTag");n.exports=function(u,c,d){u&&!d&&(u=u.prototype),u&&!a(u,o)&&i(u,o,{configurable:!0,value:c})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(r,n,s){var i=r("../internals/shared"),a=r("../internals/uid"),o=i("keys");n.exports=function(u){return o[u]||(o[u]=a(u))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/define-global-property"),o=i["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(r,n,s){var i=r("../internals/is-pure"),a=r("../internals/shared-store");(n.exports=function(o,u){return a[o]||(a[o]=u!==void 0?u:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(r,n,s){var i=r("../internals/an-object"),a=r("../internals/a-constructor"),o=r("../internals/is-null-or-undefined"),u=r("../internals/well-known-symbol")("species");n.exports=function(c,d){var h,f=i(c).constructor;return f===void 0||o(h=i(f)[u])?d:a(h)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(r,n,s){var i=r("../internals/engine-v8-version"),a=r("../internals/fails"),o=r("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!a((function(){var u=Symbol("symbol detection");return!o(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(r,n,s){var i=r("../internals/function-call"),a=r("../internals/get-built-in"),o=r("../internals/well-known-symbol"),u=r("../internals/define-built-in");n.exports=function(){var c=a("Symbol"),d=c&&c.prototype,h=d&&d.valueOf,f=o("toPrimitive");d&&!d[f]&&u(d,f,(function(p){return i(h,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(r,n,s){var i=r("../internals/symbol-constructor-detection");n.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(r,n,s){var i,a,o,u,c=r("../internals/global"),d=r("../internals/function-apply"),h=r("../internals/function-bind-context"),f=r("../internals/is-callable"),p=r("../internals/has-own-property"),g=r("../internals/fails"),y=r("../internals/html"),m=r("../internals/array-slice"),v=r("../internals/document-create-element"),b=r("../internals/validate-arguments-length"),x=r("../internals/engine-is-ios"),j=r("../internals/engine-is-node"),C=c.setImmediate,R=c.clearImmediate,L=c.process,A=c.Dispatch,P=c.Function,$=c.MessageChannel,V=c.String,U=0,E={};g((function(){i=c.location}));var I=function(k){if(p(E,k)){var S=E[k];delete E[k],S()}},N=function(k){return function(){I(k)}},w=function(k){I(k.data)},_=function(k){c.postMessage(V(k),i.protocol+"//"+i.host)};C&&R||(C=function(k){b(arguments.length,1);var S=f(k)?k:P(k),D=m(arguments,1);return E[++U]=function(){d(S,void 0,D)},a(U),U},R=function(k){delete E[k]},j?a=function(k){L.nextTick(N(k))}:A&&A.now?a=function(k){A.now(N(k))}:$&&!x?(u=(o=new $).port2,o.port1.onmessage=w,a=h(u.postMessage,u)):c.addEventListener&&f(c.postMessage)&&!c.importScripts&&i&&i.protocol!=="file:"&&!g(_)?(a=_,c.addEventListener("message",w,!1)):a="onreadystatechange"in v("script")?function(k){y.appendChild(v("script")).onreadystatechange=function(){y.removeChild(this),I(k)}}:function(k){setTimeout(N(k),0)}),n.exports={set:C,clear:R}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(r,n,s){var i=r("../internals/to-integer-or-infinity"),a=Math.max,o=Math.min;n.exports=function(u,c){var d=i(u);return d<0?a(d+c,0):o(d,c)}},{"../internals/to-integer-or-infinity":342}],341:[function(r,n,s){var i=r("../internals/indexed-object"),a=r("../internals/require-object-coercible");n.exports=function(o){return i(a(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(r,n,s){var i=r("../internals/math-trunc");n.exports=function(a){var o=+a;return o!=o||o===0?0:i(o)}},{"../internals/math-trunc":301}],343:[function(r,n,s){var i=r("../internals/to-integer-or-infinity"),a=Math.min;n.exports=function(o){return o>0?a(i(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(r,n,s){var i=r("../internals/require-object-coercible"),a=Object;n.exports=function(o){return a(i(o))}},{"../internals/require-object-coercible":329}],345:[function(r,n,s){var i=r("../internals/function-call"),a=r("../internals/is-object"),o=r("../internals/is-symbol"),u=r("../internals/get-method"),c=r("../internals/ordinary-to-primitive"),d=r("../internals/well-known-symbol"),h=TypeError,f=d("toPrimitive");n.exports=function(p,g){if(!a(p)||o(p))return p;var y,m=u(p,f);if(m){if(g===void 0&&(g="default"),y=i(m,p,g),!a(y)||o(y))return y;throw new h("Can't convert object to primitive value")}return g===void 0&&(g="number"),c(p,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(r,n,s){var i=r("../internals/to-primitive"),a=r("../internals/is-symbol");n.exports=function(o){var u=i(o,"string");return a(u)?u:u+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(r,n,s){var i={};i[r("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(r,n,s){var i=r("../internals/classof"),a=String;n.exports=function(o){if(i(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(o)}},{"../internals/classof":236}],349:[function(r,n,s){var i=String;n.exports=function(a){try{return i(a)}catch{return"Object"}}},{}],350:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=0,o=Math.random(),u=i(1 .toString);n.exports=function(c){return"Symbol("+(c===void 0?"":c)+")_"+u(++a+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(r,n,s){var i=r("../internals/symbol-constructor-detection");n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/fails");n.exports=i&&a((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(r,n,s){var i=TypeError;n.exports=function(a,o){if(a<o)throw new i("Not enough arguments");return a}},{}],354:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/is-callable"),o=i.WeakMap;n.exports=a(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(r,n,s){var i=r("../internals/path"),a=r("../internals/has-own-property"),o=r("../internals/well-known-symbol-wrapped"),u=r("../internals/object-define-property").f;n.exports=function(c){var d=i.Symbol||(i.Symbol={});a(d,c)||u(d,c,{value:o.f(c)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(r,n,s){var i=r("../internals/well-known-symbol");s.f=i},{"../internals/well-known-symbol":357}],357:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/shared"),o=r("../internals/has-own-property"),u=r("../internals/uid"),c=r("../internals/symbol-constructor-detection"),d=r("../internals/use-symbol-as-uid"),h=i.Symbol,f=a("wks"),p=d?h.for||h:h&&h.withoutSetter||u;n.exports=function(g){return o(f,g)||(f[g]=c&&o(h,g)?h[g]:p("Symbol."+g)),f[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/array-iteration").findIndex,o=r("../internals/add-to-unscopables"),u=!0;"findIndex"in[]&&Array(1).findIndex((function(){u=!1})),i({target:"Array",proto:!0,forced:u},{findIndex:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/array-iteration").find,o=r("../internals/add-to-unscopables"),u=!0;"find"in[]&&Array(1).find((function(){u=!1})),i({target:"Array",proto:!0,forced:u},{find:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/array-includes").includes,o=r("../internals/fails"),u=r("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),u("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(r,n,s){var i=r("../internals/to-indexed-object"),a=r("../internals/add-to-unscopables"),o=r("../internals/iterators"),u=r("../internals/internal-state"),c=r("../internals/object-define-property").f,d=r("../internals/iterator-define"),h=r("../internals/create-iter-result-object"),f=r("../internals/is-pure"),p=r("../internals/descriptors"),g=u.set,y=u.getterFor("Array Iterator");n.exports=d(Array,"Array",(function(v,b){g(this,{type:"Array Iterator",target:i(v),index:0,kind:b})}),(function(){var v=y(this),b=v.target,x=v.kind,j=v.index++;if(!b||j>=b.length)return v.target=void 0,h(void 0,!0);switch(x){case"keys":return h(j,!1);case"values":return h(b[j],!1)}return h([j,b[j]],!1)}),"values");var m=o.Arguments=o.Array;if(a("keys"),a("values"),a("entries"),!f&&p&&m.name!=="values")try{c(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/get-built-in"),o=r("../internals/function-apply"),u=r("../internals/function-call"),c=r("../internals/function-uncurry-this"),d=r("../internals/fails"),h=r("../internals/is-callable"),f=r("../internals/is-symbol"),p=r("../internals/array-slice"),g=r("../internals/get-json-replacer-function"),y=r("../internals/symbol-constructor-detection"),m=String,v=a("JSON","stringify"),b=c(/./.exec),x=c("".charAt),j=c("".charCodeAt),C=c("".replace),R=c(1 .toString),L=/[\uD800-\uDFFF]/g,A=/^[\uD800-\uDBFF]$/,P=/^[\uDC00-\uDFFF]$/,$=!y||d((function(){var I=a("Symbol")("stringify detection");return v([I])!=="[null]"||v({a:I})!=="{}"||v(Object(I))!=="{}"})),V=d((function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'})),U=function(I,N){var w=p(arguments),_=g(N);if(h(_)||I!==void 0&&!f(I))return w[1]=function(k,S){if(h(_)&&(S=u(_,this,m(k),S)),!f(S))return S},o(v,null,w)},E=function(I,N,w){var _=x(w,N-1),k=x(w,N+1);return b(A,I)&&!b(P,k)||b(P,I)&&!b(A,_)?"\\u"+R(j(I,0),16):I};v&&i({target:"JSON",stat:!0,arity:3,forced:$||V},{stringify:function(I,N,w){var _=p(arguments),k=o($?U:v,null,_);return V&&typeof k=="string"?C(k,L,E):k}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(r,n,s){r("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/symbol-constructor-detection"),o=r("../internals/fails"),u=r("../internals/object-get-own-property-symbols"),c=r("../internals/to-object");i({target:"Object",stat:!0,forced:!a||o((function(){u.f(1)}))},{getOwnPropertySymbols:function(d){var h=u.f;return h?h(c(d)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/to-object"),o=r("../internals/object-keys");i({target:"Object",stat:!0,forced:r("../internals/fails")((function(){o(1)}))},{keys:function(u){return o(a(u))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(o){return a(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/function-call"),o=r("../internals/a-callable"),u=r("../internals/new-promise-capability"),c=r("../internals/perform"),d=r("../internals/iterate");i({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{all:function(h){var f=this,p=u.f(f),g=p.resolve,y=p.reject,m=c((function(){var v=o(f.resolve),b=[],x=0,j=1;d(h,(function(C){var R=x++,L=!1;j++,a(v,f,C).then((function(A){L||(L=!0,b[R]=A,--j||g(b))}),y)})),--j||g(b)}));return m.error&&y(m.value),p.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/is-pure"),o=r("../internals/promise-constructor-detection").CONSTRUCTOR,u=r("../internals/promise-native-constructor"),c=r("../internals/get-built-in"),d=r("../internals/is-callable"),h=r("../internals/define-built-in"),f=u&&u.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(g){return this.then(void 0,g)}}),!a&&d(u)){var p=c("Promise").prototype.catch;f.catch!==p&&h(f,"catch",p,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(r,n,s){var i,a,o,u=r("../internals/export"),c=r("../internals/is-pure"),d=r("../internals/engine-is-node"),h=r("../internals/global"),f=r("../internals/function-call"),p=r("../internals/define-built-in"),g=r("../internals/object-set-prototype-of"),y=r("../internals/set-to-string-tag"),m=r("../internals/set-species"),v=r("../internals/a-callable"),b=r("../internals/is-callable"),x=r("../internals/is-object"),j=r("../internals/an-instance"),C=r("../internals/species-constructor"),R=r("../internals/task").set,L=r("../internals/microtask"),A=r("../internals/host-report-errors"),P=r("../internals/perform"),$=r("../internals/queue"),V=r("../internals/internal-state"),U=r("../internals/promise-native-constructor"),E=r("../internals/promise-constructor-detection"),I=r("../internals/new-promise-capability"),N=E.CONSTRUCTOR,w=E.REJECTION_EVENT,_=E.SUBCLASSING,k=V.getterFor("Promise"),S=V.set,D=U&&U.prototype,O=U,B=D,q=h.TypeError,H=h.document,Q=h.process,M=I.f,K=M,z=!!(H&&H.createEvent&&h.dispatchEvent),F=function(re){var ee;return!(!x(re)||!b(ee=re.then))&&ee},W=function(re,ee){var G,Y,ie,ce=ee.value,me=ee.state===1,xe=me?re.ok:re.fail,Ce=re.resolve,Ae=re.reject,$e=re.domain;try{xe?(me||(ee.rejection===2&&Z(ee),ee.rejection=1),xe===!0?G=ce:($e&&$e.enter(),G=xe(ce),$e&&($e.exit(),ie=!0)),G===re.promise?Ae(new q("Promise-chain cycle")):(Y=F(G))?f(Y,G,Ce,Ae):Ce(G)):Ae(ce)}catch(Le){$e&&!ie&&$e.exit(),Ae(Le)}},J=function(re,ee){re.notified||(re.notified=!0,L((function(){for(var G,Y=re.reactions;G=Y.get();)W(G,re);re.notified=!1,ee&&!re.rejection&&ne(re)})))},le=function(re,ee,G){var Y,ie;z?((Y=H.createEvent("Event")).promise=ee,Y.reason=G,Y.initEvent(re,!1,!0),h.dispatchEvent(Y)):Y={promise:ee,reason:G},!w&&(ie=h["on"+re])?ie(Y):re==="unhandledrejection"&&A("Unhandled promise rejection",G)},ne=function(re){f(R,h,(function(){var ee,G=re.facade,Y=re.value;if(ue(re)&&(ee=P((function(){d?Q.emit("unhandledRejection",Y,G):le("unhandledrejection",G,Y)})),re.rejection=d||ue(re)?2:1,ee.error))throw ee.value}))},ue=function(re){return re.rejection!==1&&!re.parent},Z=function(re){f(R,h,(function(){var ee=re.facade;d?Q.emit("rejectionHandled",ee):le("rejectionhandled",ee,re.value)}))},te=function(re,ee,G){return function(Y){re(ee,Y,G)}},X=function(re,ee,G){re.done||(re.done=!0,G&&(re=G),re.value=ee,re.state=2,J(re,!0))},ae=function(re,ee,G){if(!re.done){re.done=!0,G&&(re=G);try{if(re.facade===ee)throw new q("Promise can't be resolved itself");var Y=F(ee);Y?L((function(){var ie={done:!1};try{f(Y,ee,te(ae,ie,re),te(X,ie,re))}catch(ce){X(ie,ce,re)}})):(re.value=ee,re.state=1,J(re,!1))}catch(ie){X({done:!1},ie,re)}}};if(N&&(B=(O=function(re){j(this,B),v(re),f(i,this);var ee=k(this);try{re(te(ae,ee),te(X,ee))}catch(G){X(ee,G)}}).prototype,(i=function(re){S(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new $,rejection:!1,state:0,value:void 0})}).prototype=p(B,"then",(function(re,ee){var G=k(this),Y=M(C(this,O));return G.parent=!0,Y.ok=!b(re)||re,Y.fail=b(ee)&&ee,Y.domain=d?Q.domain:void 0,G.state===0?G.reactions.add(Y):L((function(){W(Y,G)})),Y.promise})),a=function(){var re=new i,ee=k(re);this.promise=re,this.resolve=te(ae,ee),this.reject=te(X,ee)},I.f=M=function(re){return re===O||re===void 0?new a(re):K(re)},!c&&b(U)&&D!==Object.prototype)){o=D.then,_||p(D,"then",(function(re,ee){var G=this;return new O((function(Y,ie){f(o,G,Y,ie)})).then(re,ee)}),{unsafe:!0});try{delete D.constructor}catch{}g&&g(D,B)}u({global:!0,constructor:!0,wrap:!0,forced:N},{Promise:O}),y(O,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/is-pure"),o=r("../internals/promise-native-constructor"),u=r("../internals/fails"),c=r("../internals/get-built-in"),d=r("../internals/is-callable"),h=r("../internals/species-constructor"),f=r("../internals/promise-resolve"),p=r("../internals/define-built-in"),g=o&&o.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&u((function(){g.finally.call({then:function(){}},(function(){}))}))},{finally:function(m){var v=h(this,c("Promise")),b=d(m);return this.then(b?function(x){return f(v,m()).then((function(){return x}))}:m,b?function(x){return f(v,m()).then((function(){throw x}))}:m)}}),!a&&d(o)){var y=c("Promise").prototype.finally;g.finally!==y&&p(g,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(r,n,s){r("../modules/es.promise.constructor"),r("../modules/es.promise.all"),r("../modules/es.promise.catch"),r("../modules/es.promise.race"),r("../modules/es.promise.reject"),r("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/function-call"),o=r("../internals/a-callable"),u=r("../internals/new-promise-capability"),c=r("../internals/perform"),d=r("../internals/iterate");i({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{race:function(h){var f=this,p=u.f(f),g=p.reject,y=c((function(){var m=o(f.resolve);d(h,(function(v){a(m,f,v).then(p.resolve,g)}))}));return y.error&&g(y.value),p.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/function-call"),o=r("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:r("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(u){var c=o.f(this);return a(c.reject,void 0,u),c.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/get-built-in"),o=r("../internals/is-pure"),u=r("../internals/promise-native-constructor"),c=r("../internals/promise-constructor-detection").CONSTRUCTOR,d=r("../internals/promise-resolve"),h=a("Promise"),f=o&&!c;i({target:"Promise",stat:!0,forced:o||c},{resolve:function(p){return d(f&&this===h?u:this,p)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/function-uncurry-this"),o=r("../internals/to-absolute-index"),u=RangeError,c=String.fromCharCode,d=String.fromCodePoint,h=a([].join);i({target:"String",stat:!0,arity:1,forced:!!d&&d.length!==1},{fromCodePoint:function(f){for(var p,g=[],y=arguments.length,m=0;y>m;){if(p=+arguments[m++],o(p,1114111)!==p)throw new u(p+" is not a valid code point");g[m]=p<65536?c(p):c(55296+((p-=65536)>>10),p%1024+56320)}return h(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/function-uncurry-this"),o=r("../internals/not-a-regexp"),u=r("../internals/require-object-coercible"),c=r("../internals/to-string"),d=r("../internals/correct-is-regexp-logic"),h=a("".indexOf);i({target:"String",proto:!0,forced:!d("includes")},{includes:function(f){return!!~h(c(u(this)),c(o(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(r,n,s){r("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/global"),o=r("../internals/function-call"),u=r("../internals/function-uncurry-this"),c=r("../internals/is-pure"),d=r("../internals/descriptors"),h=r("../internals/symbol-constructor-detection"),f=r("../internals/fails"),p=r("../internals/has-own-property"),g=r("../internals/object-is-prototype-of"),y=r("../internals/an-object"),m=r("../internals/to-indexed-object"),v=r("../internals/to-property-key"),b=r("../internals/to-string"),x=r("../internals/create-property-descriptor"),j=r("../internals/object-create"),C=r("../internals/object-keys"),R=r("../internals/object-get-own-property-names"),L=r("../internals/object-get-own-property-names-external"),A=r("../internals/object-get-own-property-symbols"),P=r("../internals/object-get-own-property-descriptor"),$=r("../internals/object-define-property"),V=r("../internals/object-define-properties"),U=r("../internals/object-property-is-enumerable"),E=r("../internals/define-built-in"),I=r("../internals/define-built-in-accessor"),N=r("../internals/shared"),w=r("../internals/shared-key"),_=r("../internals/hidden-keys"),k=r("../internals/uid"),S=r("../internals/well-known-symbol"),D=r("../internals/well-known-symbol-wrapped"),O=r("../internals/well-known-symbol-define"),B=r("../internals/symbol-define-to-primitive"),q=r("../internals/set-to-string-tag"),H=r("../internals/internal-state"),Q=r("../internals/array-iteration").forEach,M=w("hidden"),K=H.set,z=H.getterFor("Symbol"),F=Object.prototype,W=a.Symbol,J=W&&W.prototype,le=a.RangeError,ne=a.TypeError,ue=a.QObject,Z=P.f,te=$.f,X=L.f,ae=U.f,re=u([].push),ee=N("symbols"),G=N("op-symbols"),Y=N("wks"),ie=!ue||!ue.prototype||!ue.prototype.findChild,ce=function(Ve,he,de){var Pe=Z(F,he);Pe&&delete F[he],te(Ve,he,de),Pe&&Ve!==F&&te(F,he,Pe)},me=d&&f((function(){return j(te({},"a",{get:function(){return te(this,"a",{value:7}).a}})).a!==7}))?ce:te,xe=function(Ve,he){var de=ee[Ve]=j(J);return K(de,{type:"Symbol",tag:Ve,description:he}),d||(de.description=he),de},Ce=function(Ve,he,de){Ve===F&&Ce(G,he,de),y(Ve);var Pe=v(he);return y(de),p(ee,Pe)?(de.enumerable?(p(Ve,M)&&Ve[M][Pe]&&(Ve[M][Pe]=!1),de=j(de,{enumerable:x(0,!1)})):(p(Ve,M)||te(Ve,M,x(1,{})),Ve[M][Pe]=!0),me(Ve,Pe,de)):te(Ve,Pe,de)},Ae=function(Ve,he){y(Ve);var de=m(he),Pe=C(de).concat(qe(de));return Q(Pe,(function(Oe){d&&!o($e,de,Oe)||Ce(Ve,Oe,de[Oe])})),Ve},$e=function(Ve){var he=v(Ve),de=o(ae,this,he);return!(this===F&&p(ee,he)&&!p(G,he))&&(!(de||!p(this,he)||!p(ee,he)||p(this,M)&&this[M][he])||de)},Le=function(Ve,he){var de=m(Ve),Pe=v(he);if(de!==F||!p(ee,Pe)||p(G,Pe)){var Oe=Z(de,Pe);return!Oe||!p(ee,Pe)||p(de,M)&&de[M][Pe]||(Oe.enumerable=!0),Oe}},rt=function(Ve){var he=X(m(Ve)),de=[];return Q(he,(function(Pe){p(ee,Pe)||p(_,Pe)||re(de,Pe)})),de},qe=function(Ve){var he=Ve===F,de=X(he?G:m(Ve)),Pe=[];return Q(de,(function(Oe){!p(ee,Oe)||he&&!p(F,Oe)||re(Pe,ee[Oe])})),Pe};h||(E(J=(W=function(){if(g(J,this))throw new ne("Symbol is not a constructor");var Ve=arguments.length&&arguments[0]!==void 0?b(arguments[0]):void 0,he=k(Ve),de=function(Pe){this===F&&o(de,G,Pe),p(this,M)&&p(this[M],he)&&(this[M][he]=!1);var Oe=x(1,Pe);try{me(this,he,Oe)}catch(yt){if(!(yt instanceof le))throw yt;ce(this,he,Oe)}};return d&&ie&&me(F,he,{configurable:!0,set:de}),xe(he,Ve)}).prototype,"toString",(function(){return z(this).tag})),E(W,"withoutSetter",(function(Ve){return xe(k(Ve),Ve)})),U.f=$e,$.f=Ce,V.f=Ae,P.f=Le,R.f=L.f=rt,A.f=qe,D.f=function(Ve){return xe(S(Ve),Ve)},d&&(I(J,"description",{configurable:!0,get:function(){return z(this).description}}),c||E(F,"propertyIsEnumerable",$e,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!h,sham:!h},{Symbol:W}),Q(C(Y),(function(Ve){O(Ve)})),i({target:"Symbol",stat:!0,forced:!h},{useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),i({target:"Object",stat:!0,forced:!h,sham:!d},{create:function(Ve,he){return he===void 0?j(Ve):Ae(j(Ve),he)},defineProperty:Ce,defineProperties:Ae,getOwnPropertyDescriptor:Le}),i({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:rt}),B(),q(W,"Symbol"),_[M]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/get-built-in"),o=r("../internals/has-own-property"),u=r("../internals/to-string"),c=r("../internals/shared"),d=r("../internals/symbol-registry-detection"),h=c("string-to-symbol-registry"),f=c("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!d},{for:function(p){var g=u(p);if(o(h,g))return h[g];var y=a("Symbol")(g);return h[g]=y,f[y]=g,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(r,n,s){r("../modules/es.symbol.constructor"),r("../modules/es.symbol.for"),r("../modules/es.symbol.key-for"),r("../modules/es.json.stringify"),r("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/has-own-property"),o=r("../internals/is-symbol"),u=r("../internals/try-to-string"),c=r("../internals/shared"),d=r("../internals/symbol-registry-detection"),h=c("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!d},{keyFor:function(f){if(!o(f))throw new TypeError(u(f)+" is not a symbol");if(a(h,f))return h[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(r,n,s){function i(a){return Object.prototype.toString.call(a)}s.isArray=function(a){return Array.isArray?Array.isArray(a):i(a)==="[object Array]"},s.isBoolean=function(a){return typeof a=="boolean"},s.isNull=function(a){return a===null},s.isNullOrUndefined=function(a){return a==null},s.isNumber=function(a){return typeof a=="number"},s.isString=function(a){return typeof a=="string"},s.isSymbol=function(a){return typeof a=="symbol"},s.isUndefined=function(a){return a===void 0},s.isRegExp=function(a){return i(a)==="[object RegExp]"},s.isObject=function(a){return typeof a=="object"&&a!==null},s.isDate=function(a){return i(a)==="[object Date]"},s.isError=function(a){return i(a)==="[object Error]"||a instanceof Error},s.isFunction=function(a){return typeof a=="function"},s.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},s.isBuffer=r("buffer").Buffer.isBuffer},{buffer:220}],384:[function(r,n,s){(function(i){(function(){var a=r("elliptic"),o=r("bn.js");n.exports=function(h){return new c(h)};var u={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function c(h){this.curveType=u[h],this.curveType||(this.curveType={name:h}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function d(h,f,p){Array.isArray(h)||(h=h.toArray());var g=new i(h);if(p&&g.length<p){var y=new i(p-g.length);y.fill(0),g=i.concat([y,g])}return f?g.toString(f):g}u.p224=u.secp224r1,u.p256=u.secp256r1=u.prime256v1,u.p192=u.secp192r1=u.prime192v1,u.p384=u.secp384r1,u.p521=u.secp521r1,c.prototype.generateKeys=function(h,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,f)},c.prototype.computeSecret=function(h,f,p){return f=f||"utf8",i.isBuffer(h)||(h=new i(h,f)),d(this.curve.keyFromPublic(h).getPublic().mul(this.keys.getPrivate()).getX(),p,this.curveType.byteLength)},c.prototype.getPublicKey=function(h,f){var p=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(p[p.length-1]%2?p[0]=7:p[0]=6),d(p,h)},c.prototype.getPrivateKey=function(h){return d(this.keys.getPrivate(),h)},c.prototype.setPublicKey=function(h,f){return f=f||"utf8",i.isBuffer(h)||(h=new i(h,f)),this.keys._importPublic(h),this},c.prototype.setPrivateKey=function(h,f){f=f||"utf8",i.isBuffer(h)||(h=new i(h,f));var p=new o(h);return p=p.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(p),this}}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(r,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(r,n,s){var i=r("inherits"),a=r("md5.js"),o=r("ripemd160"),u=r("sha.js"),c=r("cipher-base");function d(h){c.call(this,"digest"),this._hash=h}i(d,c),d.prototype._update=function(h){this._hash.update(h)},d.prototype._final=function(){return this._hash.digest()},n.exports=function(h){return(h=h.toLowerCase())==="md5"?new a:h==="rmd160"||h==="ripemd160"?new o:new d(u(h))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(r,n,s){var i=r("md5.js");n.exports=function(a){return new i().update(a).digest()}},{"md5.js":450}],388:[function(r,n,s){var i=r("inherits"),a=r("./legacy"),o=r("cipher-base"),u=r("safe-buffer").Buffer,c=r("create-hash/md5"),d=r("ripemd160"),h=r("sha.js"),f=u.alloc(128);function p(g,y){o.call(this,"digest"),typeof y=="string"&&(y=u.from(y));var m=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=y,y.length>m?y=(g==="rmd160"?new d:h(g)).update(y).digest():y.length<m&&(y=u.concat([y,f],m));for(var v=this._ipad=u.allocUnsafe(m),b=this._opad=u.allocUnsafe(m),x=0;x<m;x++)v[x]=54^y[x],b[x]=92^y[x];this._hash=g==="rmd160"?new d:h(g),this._hash.update(v)}i(p,o),p.prototype._update=function(g){this._hash.update(g)},p.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new d:h(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,y){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new p("rmd160",y):g==="md5"?new a(c,y):new p(g,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(r,n,s){var i=r("inherits"),a=r("safe-buffer").Buffer,o=r("cipher-base"),u=a.alloc(128);function c(d,h){o.call(this,"digest"),typeof h=="string"&&(h=a.from(h)),this._alg=d,this._key=h,h.length>64?h=d(h):h.length<64&&(h=a.concat([h,u],64));for(var f=this._ipad=a.allocUnsafe(64),p=this._opad=a.allocUnsafe(64),g=0;g<64;g++)f[g]=54^h[g],p[g]=92^h[g];this._hash=[f]}i(c,o),c.prototype._update=function(d){this._hash.push(d)},c.prototype._final=function(){var d=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,d]))},n.exports=c},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(r,n,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=r("randombytes"),s.createHash=s.Hash=r("create-hash"),s.createHmac=s.Hmac=r("create-hmac");var i=r("browserify-sign/algos"),a=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);s.getHashes=function(){return o};var u=r("pbkdf2");s.pbkdf2=u.pbkdf2,s.pbkdf2Sync=u.pbkdf2Sync;var c=r("browserify-cipher");s.Cipher=c.Cipher,s.createCipher=c.createCipher,s.Cipheriv=c.Cipheriv,s.createCipheriv=c.createCipheriv,s.Decipher=c.Decipher,s.createDecipher=c.createDecipher,s.Decipheriv=c.Decipheriv,s.createDecipheriv=c.createDecipheriv,s.getCiphers=c.getCiphers,s.listCiphers=c.listCiphers;var d=r("diffie-hellman");s.DiffieHellmanGroup=d.DiffieHellmanGroup,s.createDiffieHellmanGroup=d.createDiffieHellmanGroup,s.getDiffieHellman=d.getDiffieHellman,s.createDiffieHellman=d.createDiffieHellman,s.DiffieHellman=d.DiffieHellman;var h=r("browserify-sign");s.createSign=h.createSign,s.Sign=h.Sign,s.createVerify=h.createVerify,s.Verify=h.Verify,s.createECDH=r("create-ecdh");var f=r("public-encrypt");s.publicEncrypt=f.publicEncrypt,s.privateEncrypt=f.privateEncrypt,s.publicDecrypt=f.publicDecrypt,s.privateDecrypt=f.privateDecrypt;var p=r("randomfill");s.randomFill=p.randomFill,s.randomFillSync=p.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(r,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=a()})(void 0,(function(){var i=6e4,a=36e5,o="millisecond",u="second",c="minute",d="hour",h="day",f="week",p="month",g="quarter",y="year",m="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var _=["th","st","nd","rd"],k=w%100;return"["+w+(_[(k-20)%10]||_[k]||_[0])+"]"}},C=function(w,_,k){var S=String(w);return!S||S.length>=_?w:""+Array(_+1-S.length).join(k)+w},R={s:C,z:function(w){var _=-w.utcOffset(),k=Math.abs(_),S=Math.floor(k/60),D=k%60;return(_<=0?"+":"-")+C(S,2,"0")+":"+C(D,2,"0")},m:function w(_,k){if(_.date()<k.date())return-w(k,_);var S=12*(k.year()-_.year())+(k.month()-_.month()),D=_.clone().add(S,p),O=k-D<0,B=_.clone().add(S+(O?-1:1),p);return+(-(S+(k-D)/(O?D-B:B-D))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:p,y,w:f,d:h,D:m,h:d,m:c,s:u,ms:o,Q:g}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},L="en",A={};A[L]=j;var P="$isDayjsObject",$=function(w){return w instanceof I||!(!w||!w[P])},V=function w(_,k,S){var D;if(!_)return L;if(typeof _=="string"){var O=_.toLowerCase();A[O]&&(D=O),k&&(A[O]=k,D=O);var B=_.split("-");if(!D&&B.length>1)return w(B[0])}else{var q=_.name;A[q]=_,D=q}return!S&&D&&(L=D),D||!S&&L},U=function(w,_){if($(w))return w.clone();var k=typeof _=="object"?_:{};return k.date=w,k.args=arguments,new I(k)},E=R;E.l=V,E.i=$,E.w=function(w,_){return U(w,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var I=(function(){function w(k){this.$L=V(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[P]=!0}var _=w.prototype;return _.parse=function(k){this.$d=(function(S){var D=S.date,O=S.utc;if(D===null)return new Date(NaN);if(E.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var B=D.match(b);if(B){var q=B[2]-1||0,H=(B[7]||"0").substring(0,3);return O?new Date(Date.UTC(B[1],q,B[3]||1,B[4]||0,B[5]||0,B[6]||0,H)):new Date(B[1],q,B[3]||1,B[4]||0,B[5]||0,B[6]||0,H)}}return new Date(D)})(k),this.init()},_.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},_.$utils=function(){return E},_.isValid=function(){return this.$d.toString()!==v},_.isSame=function(k,S){var D=U(k);return this.startOf(S)<=D&&D<=this.endOf(S)},_.isAfter=function(k,S){return U(k)<this.startOf(S)},_.isBefore=function(k,S){return this.endOf(S)<U(k)},_.$g=function(k,S,D){return E.u(k)?this[S]:this.set(D,k)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(k,S){var D=this,O=!!E.u(S)||S,B=E.p(k),q=function(J,le){var ne=E.w(D.$u?Date.UTC(D.$y,le,J):new Date(D.$y,le,J),D);return O?ne:ne.endOf(h)},H=function(J,le){return E.w(D.toDate()[J].apply(D.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(le)),D)},Q=this.$W,M=this.$M,K=this.$D,z="set"+(this.$u?"UTC":"");switch(B){case y:return O?q(1,0):q(31,11);case p:return O?q(1,M):q(0,M+1);case f:var F=this.$locale().weekStart||0,W=(Q<F?Q+7:Q)-F;return q(O?K-W:K+(6-W),M);case h:case m:return H(z+"Hours",0);case d:return H(z+"Minutes",1);case c:return H(z+"Seconds",2);case u:return H(z+"Milliseconds",3);default:return this.clone()}},_.endOf=function(k){return this.startOf(k,!1)},_.$set=function(k,S){var D,O=E.p(k),B="set"+(this.$u?"UTC":""),q=(D={},D[h]=B+"Date",D[m]=B+"Date",D[p]=B+"Month",D[y]=B+"FullYear",D[d]=B+"Hours",D[c]=B+"Minutes",D[u]=B+"Seconds",D[o]=B+"Milliseconds",D)[O],H=O===h?this.$D+(S-this.$W):S;if(O===p||O===y){var Q=this.clone().set(m,1);Q.$d[q](H),Q.init(),this.$d=Q.set(m,Math.min(this.$D,Q.daysInMonth())).$d}else q&&this.$d[q](H);return this.init(),this},_.set=function(k,S){return this.clone().$set(k,S)},_.get=function(k){return this[E.p(k)]()},_.add=function(k,S){var D,O=this;k=Number(k);var B=E.p(S),q=function(M){var K=U(O);return E.w(K.date(K.date()+Math.round(M*k)),O)};if(B===p)return this.set(p,this.$M+k);if(B===y)return this.set(y,this.$y+k);if(B===h)return q(1);if(B===f)return q(7);var H=(D={},D[c]=i,D[d]=a,D[u]=1e3,D)[B]||1,Q=this.$d.getTime()+k*H;return E.w(Q,this)},_.subtract=function(k,S){return this.add(-1*k,S)},_.format=function(k){var S=this,D=this.$locale();if(!this.isValid())return D.invalidDate||v;var O=k||"YYYY-MM-DDTHH:mm:ssZ",B=E.z(this),q=this.$H,H=this.$m,Q=this.$M,M=D.weekdays,K=D.months,z=D.meridiem,F=function(le,ne,ue,Z){return le&&(le[ne]||le(S,O))||ue[ne].slice(0,Z)},W=function(le){return E.s(q%12||12,le,"0")},J=z||function(le,ne,ue){var Z=le<12?"AM":"PM";return ue?Z.toLowerCase():Z};return O.replace(x,(function(le,ne){return ne||(function(ue){switch(ue){case"YY":return String(S.$y).slice(-2);case"YYYY":return E.s(S.$y,4,"0");case"M":return Q+1;case"MM":return E.s(Q+1,2,"0");case"MMM":return F(D.monthsShort,Q,K,3);case"MMMM":return F(K,Q);case"D":return S.$D;case"DD":return E.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return F(D.weekdaysMin,S.$W,M,2);case"ddd":return F(D.weekdaysShort,S.$W,M,3);case"dddd":return M[S.$W];case"H":return String(q);case"HH":return E.s(q,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return J(q,H,!0);case"A":return J(q,H,!1);case"m":return String(H);case"mm":return E.s(H,2,"0");case"s":return String(S.$s);case"ss":return E.s(S.$s,2,"0");case"SSS":return E.s(S.$ms,3,"0");case"Z":return B}return null})(le)||B.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(k,S,D){var O,B=this,q=E.p(S),H=U(k),Q=(H.utcOffset()-this.utcOffset())*i,M=this-H,K=function(){return E.m(B,H)};switch(q){case y:O=K()/12;break;case p:O=K();break;case g:O=K()/3;break;case f:O=(M-Q)/6048e5;break;case h:O=(M-Q)/864e5;break;case d:O=M/a;break;case c:O=M/i;break;case u:O=M/1e3;break;default:O=M}return D?O:E.a(O)},_.daysInMonth=function(){return this.endOf(p).$D},_.$locale=function(){return A[this.$L]},_.locale=function(k,S){if(!k)return this.$L;var D=this.clone(),O=V(k,S,!0);return O&&(D.$L=O),D},_.clone=function(){return E.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},w})(),N=I.prototype;return U.prototype=N,[["$ms",o],["$s",u],["$m",c],["$H",d],["$W",h],["$M",p],["$y",y],["$D",m]].forEach((function(w){N[w[1]]=function(_){return this.$g(_,w[0],w[1])}})),U.extend=function(w,_){return w.$i||(w(_,I,U),w.$i=!0),U},U.locale=V,U.isDayjs=$,U.unix=function(w){return U(1e3*w)},U.en=A[L],U.Ls=A,U.p={},U}))},{}],392:[function(r,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=a()})(void 0,(function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,u=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,d={},h=function(b){return(b=+b)+(b>68?1900:2e3)},f=function(b){return function(x){this[b]=+x}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=(function(x){if(!x||x==="Z")return 0;var j=x.match(/([+-]|\d\d)/g),C=60*j[1]+(+j[2]||0);return C===0?0:j[0]==="+"?-C:C})(b)}],g=function(b){var x=d[b];return x&&(x.indexOf?x:x.s.concat(x.f))},y=function(b,x){var j,C=d.meridiem;if(C){for(var R=1;R<=24;R+=1)if(b.indexOf(C(R,0,x))>-1){j=R>12;break}}else j=b===(x?"pm":"PM");return j},m={A:[c,function(b){this.afternoon=y(b,!1)}],a:[c,function(b){this.afternoon=y(b,!0)}],S:[/\d/,function(b){this.milliseconds=100*+b}],SS:[o,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[u,f("seconds")],ss:[u,f("seconds")],m:[u,f("minutes")],mm:[u,f("minutes")],H:[u,f("hours")],h:[u,f("hours")],HH:[u,f("hours")],hh:[u,f("hours")],D:[u,f("day")],DD:[o,f("day")],Do:[c,function(b){var x=d.ordinal,j=b.match(/\d+/);if(this.day=j[0],x)for(var C=1;C<=31;C+=1)x(C).replace(/\[|\]/g,"")===b&&(this.day=C)}],M:[u,f("month")],MM:[o,f("month")],MMM:[c,function(b){var x=g("months"),j=(g("monthsShort")||x.map((function(C){return C.slice(0,3)}))).indexOf(b)+1;if(j<1)throw new Error;this.month=j%12||j}],MMMM:[c,function(b){var x=g("months").indexOf(b)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,f("year")],YY:[o,function(b){this.year=h(b)}],YYYY:[/\d{4}/,f("year")],Z:p,ZZ:p};function v(b){var x,j;x=b,j=d&&d.formats;for(var C=(b=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(U,E,I){var N=I&&I.toUpperCase();return E||j[I]||i[I]||j[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(w,_,k){return _||k.slice(1)}))}))).match(a),R=C.length,L=0;L<R;L+=1){var A=C[L],P=m[A],$=P&&P[0],V=P&&P[1];C[L]=V?{regex:$,parser:V}:A.replace(/^\[|\]$/g,"")}return function(U){for(var E={},I=0,N=0;I<R;I+=1){var w=C[I];if(typeof w=="string")N+=w.length;else{var _=w.regex,k=w.parser,S=U.slice(N),D=_.exec(S)[0];k.call(E,D),U=U.replace(D,"")}}return(function(O){var B=O.afternoon;if(B!==void 0){var q=O.hours;B?q<12&&(O.hours+=12):q===12&&(O.hours=0),delete O.afternoon}})(E),E}}return function(b,x,j){j.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(h=b.parseTwoDigitYear);var C=x.prototype,R=C.parse;C.parse=function(L){var A=L.date,P=L.utc,$=L.args;this.$u=P;var V=$[1];if(typeof V=="string"){var U=$[2]===!0,E=$[3]===!0,I=U||E,N=$[2];E&&(N=$[2]),d=this.$locale(),!U&&N&&(d=j.Ls[N]),this.$d=(function(S,D,O){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*S);var B=v(D)(S),q=B.year,H=B.month,Q=B.day,M=B.hours,K=B.minutes,z=B.seconds,F=B.milliseconds,W=B.zone,J=new Date,le=Q||(q||H?1:J.getDate()),ne=q||J.getFullYear(),ue=0;q&&!H||(ue=H>0?H-1:J.getMonth());var Z=M||0,te=K||0,X=z||0,ae=F||0;return W?new Date(Date.UTC(ne,ue,le,Z,te,X,ae+60*W.offset*1e3)):O?new Date(Date.UTC(ne,ue,le,Z,te,X,ae)):new Date(ne,ue,le,Z,te,X,ae)}catch{return new Date("")}})(A,V,P),this.init(),N&&N!==!0&&(this.$L=this.locale(N).$L),I&&A!=this.format(V)&&(this.$d=new Date("")),d={}}else if(V instanceof Array)for(var w=V.length,_=1;_<=w;_+=1){$[1]=V[_-1];var k=j.apply(this,$);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}_===w&&(this.$d=new Date(""))}else R.call(this,L)}}}))},{}],393:[function(r,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=a()})(void 0,(function(){var i="minute",a=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(u,c,d){var h=c.prototype;d.utc=function(b){var x={date:b,utc:!0,args:arguments};return new c(x)},h.utc=function(b){var x=d(this.toDate(),{locale:this.$L,utc:!0});return b?x.add(this.utcOffset(),i):x},h.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var f=h.parse;h.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),f.call(this,b)};var p=h.init;h.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else p.call(this)};var g=h.utcOffset;h.utcOffset=function(b,x){var j=this.$utils().u;if(j(b))return this.$u?0:j(this.$offset)?g.call(this):this.$offset;if(typeof b=="string"&&(b=(function(A){A===void 0&&(A="");var P=A.match(a);if(!P)return null;var $=(""+P[0]).match(o)||["-",0,0],V=$[0],U=60*+$[1]+ +$[2];return U===0?0:V==="+"?U:-U})(b))===null)return this;var C=Math.abs(b)<=16?60*b:b,R=this;if(x)return R.$offset=C,R.$u=b===0,R;if(b!==0){var L=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(R=this.local().add(C+L,i)).$offset=C,R.$x.$localOffset=L}else R=this.utc();return R};var y=h.format;h.format=function(b){var x=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,x)},h.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*b},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var m=h.toDate;h.toDate=function(b){return b==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=h.diff;h.diff=function(b,x,j){if(b&&this.$u===b.$u)return v.call(this,b,x,j);var C=this.local(),R=d(b).local();return v.call(C,R,x,j)}}}))},{}],394:[function(r,n,s){s.utils=r("./des/utils"),s.Cipher=r("./des/cipher"),s.DES=r("./des/des"),s.CBC=r("./des/cbc"),s.EDE=r("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(r,n,s){var i=r("minimalistic-assert"),a=r("inherits"),o={};function u(c){i.equal(c.length,8,"Invalid IV length"),this.iv=new Array(8);for(var d=0;d<this.iv.length;d++)this.iv[d]=c[d]}s.instantiate=function(c){function d(g){c.call(this,g),this._cbcInit()}a(d,c);for(var h=Object.keys(o),f=0;f<h.length;f++){var p=h[f];d.prototype[p]=o[p]}return d.create=function(g){return new d(g)},d},o._cbcInit=function(){var c=new u(this.options.iv);this._cbcState=c},o._update=function(c,d,h,f){var p=this._cbcState,g=this.constructor.super_.prototype,y=p.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)y[m]^=c[d+m];for(g._update.call(this,y,0,h,f),m=0;m<this.blockSize;m++)y[m]=h[f+m]}else{for(g._update.call(this,c,d,h,f),m=0;m<this.blockSize;m++)h[f+m]^=y[m];for(m=0;m<this.blockSize;m++)y[m]=c[d+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(r,n,s){var i=r("minimalistic-assert");function a(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}n.exports=a,a.prototype._init=function(){},a.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},a.prototype._buffer=function(o,u){for(var c=Math.min(this.buffer.length-this.bufferOff,o.length-u),d=0;d<c;d++)this.buffer[this.bufferOff+d]=o[u+d];return this.bufferOff+=c,c},a.prototype._flushBuffer=function(o,u){return this._update(this.buffer,0,o,u),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(o){var u=0,c=0,d=(this.bufferOff+o.length)/this.blockSize|0,h=new Array(d*this.blockSize);this.bufferOff!==0&&(u+=this._buffer(o,u),this.bufferOff===this.buffer.length&&(c+=this._flushBuffer(h,c)));for(var f=o.length-(o.length-u)%this.blockSize;u<f;u+=this.blockSize)this._update(o,u,h,c),c+=this.blockSize;for(;u<o.length;u++,this.bufferOff++)this.buffer[this.bufferOff]=o[u];return h},a.prototype._updateDecrypt=function(o){for(var u=0,c=0,d=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,h=new Array(d*this.blockSize);d>0;d--)u+=this._buffer(o,u),c+=this._flushBuffer(h,c);return u+=this._buffer(o,u),h},a.prototype.final=function(o){var u,c;return o&&(u=this.update(o)),c=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),u?u.concat(c):c},a.prototype._pad=function(o,u){if(u===0)return!1;for(;u<o.length;)o[u++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},a.prototype._unpad=function(o){return o},a.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(r,n,s){var i=r("minimalistic-assert"),a=r("inherits"),o=r("./utils"),u=r("./cipher");function c(){this.tmp=new Array(2),this.keys=null}function d(f){u.call(this,f);var p=new c;this._desState=p,this.deriveKeys(p,f.key)}a(d,u),n.exports=d,d.create=function(f){return new d(f)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(f,p){f.keys=new Array(32),i.equal(p.length,this.blockSize,"Invalid key length");var g=o.readUInt32BE(p,0),y=o.readUInt32BE(p,4);o.pc1(g,y,f.tmp,0),g=f.tmp[0],y=f.tmp[1];for(var m=0;m<f.keys.length;m+=2){var v=h[m>>>1];g=o.r28shl(g,v),y=o.r28shl(y,v),o.pc2(g,y,f.keys,m)}},d.prototype._update=function(f,p,g,y){var m=this._desState,v=o.readUInt32BE(f,p),b=o.readUInt32BE(f,p+4);o.ip(v,b,m.tmp,0),v=m.tmp[0],b=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,b,m.tmp,0):this._decrypt(m,v,b,m.tmp,0),v=m.tmp[0],b=m.tmp[1],o.writeUInt32BE(g,v,y),o.writeUInt32BE(g,b,y+4)},d.prototype._pad=function(f,p){if(this.padding===!1)return!1;for(var g=f.length-p,y=p;y<f.length;y++)f[y]=g;return!0},d.prototype._unpad=function(f){if(this.padding===!1)return f;for(var p=f[f.length-1],g=f.length-p;g<f.length;g++)i.equal(f[g],p);return f.slice(0,f.length-p)},d.prototype._encrypt=function(f,p,g,y,m){for(var v=p,b=g,x=0;x<f.keys.length;x+=2){var j=f.keys[x],C=f.keys[x+1];o.expand(b,f.tmp,0),j^=f.tmp[0],C^=f.tmp[1];var R=o.substitute(j,C),L=b;b=(v^o.permute(R))>>>0,v=L}o.rip(b,v,y,m)},d.prototype._decrypt=function(f,p,g,y,m){for(var v=g,b=p,x=f.keys.length-2;x>=0;x-=2){var j=f.keys[x],C=f.keys[x+1];o.expand(v,f.tmp,0),j^=f.tmp[0],C^=f.tmp[1];var R=o.substitute(j,C),L=v;v=(b^o.permute(R))>>>0,b=L}o.rip(v,b,y,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(r,n,s){var i=r("minimalistic-assert"),a=r("inherits"),o=r("./cipher"),u=r("./des");function c(h,f){i.equal(f.length,24,"Invalid key length");var p=f.slice(0,8),g=f.slice(8,16),y=f.slice(16,24);this.ciphers=h==="encrypt"?[u.create({type:"encrypt",key:p}),u.create({type:"decrypt",key:g}),u.create({type:"encrypt",key:y})]:[u.create({type:"decrypt",key:y}),u.create({type:"encrypt",key:g}),u.create({type:"decrypt",key:p})]}function d(h){o.call(this,h);var f=new c(this.type,this.options.key);this._edeState=f}a(d,o),n.exports=d,d.create=function(h){return new d(h)},d.prototype._update=function(h,f,p,g){var y=this._edeState;y.ciphers[0]._update(h,f,p,g),y.ciphers[1]._update(p,g,p,g),y.ciphers[2]._update(p,g,p,g)},d.prototype._pad=u.prototype._pad,d.prototype._unpad=u.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(r,n,s){s.readUInt32BE=function(u,c){return(u[0+c]<<24|u[1+c]<<16|u[2+c]<<8|u[3+c])>>>0},s.writeUInt32BE=function(u,c,d){u[0+d]=c>>>24,u[1+d]=c>>>16&255,u[2+d]=c>>>8&255,u[3+d]=255&c},s.ip=function(u,c,d,h){for(var f=0,p=0,g=6;g>=0;g-=2){for(var y=0;y<=24;y+=8)f<<=1,f|=c>>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>>y+g&1}for(g=6;g>=0;g-=2){for(y=1;y<=25;y+=8)p<<=1,p|=c>>>y+g&1;for(y=1;y<=25;y+=8)p<<=1,p|=u>>>y+g&1}d[h+0]=f>>>0,d[h+1]=p>>>0},s.rip=function(u,c,d,h){for(var f=0,p=0,g=0;g<4;g++)for(var y=24;y>=0;y-=8)f<<=1,f|=c>>>y+g&1,f<<=1,f|=u>>>y+g&1;for(g=4;g<8;g++)for(y=24;y>=0;y-=8)p<<=1,p|=c>>>y+g&1,p<<=1,p|=u>>>y+g&1;d[h+0]=f>>>0,d[h+1]=p>>>0},s.pc1=function(u,c,d,h){for(var f=0,p=0,g=7;g>=5;g--){for(var y=0;y<=24;y+=8)f<<=1,f|=c>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>y+g&1}for(y=0;y<=24;y+=8)f<<=1,f|=c>>y+g&1;for(g=1;g<=3;g++){for(y=0;y<=24;y+=8)p<<=1,p|=c>>y+g&1;for(y=0;y<=24;y+=8)p<<=1,p|=u>>y+g&1}for(y=0;y<=24;y+=8)p<<=1,p|=u>>y+g&1;d[h+0]=f>>>0,d[h+1]=p>>>0},s.r28shl=function(u,c){return u<<c&268435455|u>>>28-c};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(u,c,d,h){for(var f=0,p=0,g=i.length>>>1,y=0;y<g;y++)f<<=1,f|=u>>>i[y]&1;for(y=g;y<i.length;y++)p<<=1,p|=c>>>i[y]&1;d[h+0]=f>>>0,d[h+1]=p>>>0},s.expand=function(u,c,d){var h=0,f=0;h=(1&u)<<5|u>>>27;for(var p=23;p>=15;p-=4)h<<=6,h|=u>>>p&63;for(p=11;p>=3;p-=4)f|=u>>>p&63,f<<=6;f|=(31&u)<<1|u>>>31,c[d+0]=h>>>0,c[d+1]=f>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(u,c){for(var d=0,h=0;h<4;h++)d<<=4,d|=a[64*h+(u>>>18-6*h&63)];for(h=0;h<4;h++)d<<=4,d|=a[256+64*h+(c>>>18-6*h&63)];return d>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(u){for(var c=0,d=0;d<o.length;d++)c<<=1,c|=u>>>o[d]&1;return c>>>0},s.padSplit=function(u,c,d){for(var h=u.toString(2);h.length<c;)h="0"+h;for(var f=[],p=0;p<c;p+=d)f.push(h.slice(p,p+d));return f.join(" ")}},{}],400:[function(r,n,s){(function(i){(function(){var a=r("./lib/generatePrime"),o=r("./lib/primes.json"),u=r("./lib/dh"),c={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(d){var h=new i(o[d].prime,"hex"),f=new i(o[d].gen,"hex");return new u(h,f)},s.createDiffieHellman=s.DiffieHellman=function d(h,f,p,g){return i.isBuffer(f)||c[f]===void 0?d(h,"binary",f,p):(f=f||"binary",g=g||"binary",p=p||new i([2]),i.isBuffer(p)||(p=new i(p,g)),typeof h=="number"?new u(a(h,p),p,!0):(i.isBuffer(h)||(h=new i(h,f)),new u(h,p,!0)))}}).call(this)}).call(this,r("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(r,n,s){(function(i){(function(){var a=r("bn.js"),o=new(r("miller-rabin")),u=new a(24),c=new a(11),d=new a(10),h=new a(3),f=new a(7),p=r("./generatePrime"),g=r("randombytes");function y(j,C){return C=C||"utf8",i.isBuffer(j)||(j=new i(j,C)),this._pub=new a(j),this}function m(j,C){return C=C||"utf8",i.isBuffer(j)||(j=new i(j,C)),this._priv=new a(j),this}n.exports=b;var v={};function b(j,C,R){this.setGenerator(C),this.__prime=new a(j),this._prime=a.mont(this.__prime),this._primeLen=j.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=y,this.setPrivateKey=m):this._primeCode=8}function x(j,C){var R=new i(j.toArray());return C?R.toString(C):R}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(j,C){var R=C.toString("hex"),L=[R,j.toString(16)].join("_");if(L in v)return v[L];var A,P=0;if(j.isEven()||!p.simpleSieve||!p.fermatTest(j)||!o.test(j))return P+=1,P+=R==="02"||R==="05"?8:4,v[L]=P,P;switch(o.test(j.shrn(1))||(P+=2),R){case"02":j.mod(u).cmp(c)&&(P+=8);break;case"05":(A=j.mod(d)).cmp(h)&&A.cmp(f)&&(P+=8);break;default:P+=4}return v[L]=P,P})(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new a(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(j){var C=(j=(j=new a(j)).toRed(this._prime)).redPow(this._priv).fromRed(),R=new i(C.toArray()),L=this.getPrime();if(R.length<L.length){var A=new i(L.length-R.length);A.fill(0),R=i.concat([A,R])}return R},b.prototype.getPublicKey=function(j){return x(this._pub,j)},b.prototype.getPrivateKey=function(j){return x(this._priv,j)},b.prototype.getPrime=function(j){return x(this.__prime,j)},b.prototype.getGenerator=function(j){return x(this._gen,j)},b.prototype.setGenerator=function(j,C){return C=C||"utf8",i.isBuffer(j)||(j=new i(j,C)),this.__gen=j,this._gen=new a(j),this}}).call(this)}).call(this,r("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(r,n,s){var i=r("randombytes");n.exports=j,j.simpleSieve=b,j.fermatTest=x;var a=r("bn.js"),o=new a(24),u=new(r("miller-rabin")),c=new a(1),d=new a(2),h=new a(5),f=(new a(16),new a(8),new a(10)),p=new a(3),g=(new a(7),new a(11)),y=new a(4),m=(new a(12),null);function v(){if(m!==null)return m;var C=[];C[0]=2;for(var R=1,L=3;L<1048576;L+=2){for(var A=Math.ceil(Math.sqrt(L)),P=0;P<R&&C[P]<=A&&L%C[P]!=0;P++);R!==P&&C[P]<=A||(C[R++]=L)}return m=C,C}function b(C){for(var R=v(),L=0;L<R.length;L++)if(C.modn(R[L])===0)return C.cmpn(R[L])===0;return!0}function x(C){var R=a.mont(C);return d.toRed(R).redPow(C.subn(1)).fromRed().cmpn(1)===0}function j(C,R){if(C<16)return new a(R===2||R===5?[140,123]:[140,39]);var L,A;for(R=new a(R);;){for(L=new a(i(Math.ceil(C/8)));L.bitLength()>C;)L.ishrn(1);if(L.isEven()&&L.iadd(c),L.testn(1)||L.iadd(d),R.cmp(d)){if(!R.cmp(h))for(;L.mod(f).cmp(p);)L.iadd(y)}else for(;L.mod(o).cmp(g);)L.iadd(y);if(b(A=L.shrn(1))&&b(L)&&x(A)&&x(L)&&u.test(A)&&u.test(L))return L}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(r,n,s){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(r,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(r,n,s){var i=s;i.version=r("../package.json").version,i.utils=r("./elliptic/utils"),i.rand=r("brorand"),i.curve=r("./elliptic/curve"),i.curves=r("./elliptic/curves"),i.ec=r("./elliptic/ec"),i.eddsa=r("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(r,n,s){var i=r("bn.js"),a=r("../utils"),o=a.getNAF,u=a.getJSF,c=a.assert;function d(f,p){this.type=f,this.p=new i(p.p,16),this.red=p.prime?i.red(p.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=p.n&&new i(p.n,16),this.g=p.g&&this.pointFromJSON(p.g,p.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(f,p){this.curve=f,this.type=p,this.precomputed=null}n.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(f,p){c(f.precomputed);var g=f._getDoubles(),y=o(p,1,this._bitLength),m=(1<<g.step+1)-(g.step%2==0?2:1);m/=3;var v,b,x=[];for(v=0;v<y.length;v+=g.step){b=0;for(var j=v+g.step-1;j>=v;j--)b=(b<<1)+y[j];x.push(b)}for(var C=this.jpoint(null,null,null),R=this.jpoint(null,null,null),L=m;L>0;L--){for(v=0;v<x.length;v++)(b=x[v])===L?R=R.mixedAdd(g.points[v]):b===-L&&(R=R.mixedAdd(g.points[v].neg()));C=C.add(R)}return C.toP()},d.prototype._wnafMul=function(f,p){var g=4,y=f._getNAFPoints(g);g=y.wnd;for(var m=y.points,v=o(p,g,this._bitLength),b=this.jpoint(null,null,null),x=v.length-1;x>=0;x--){for(var j=0;x>=0&&v[x]===0;x--)j++;if(x>=0&&j++,b=b.dblp(j),x<0)break;var C=v[x];c(C!==0),b=f.type==="affine"?C>0?b.mixedAdd(m[C-1>>1]):b.mixedAdd(m[-C-1>>1].neg()):C>0?b.add(m[C-1>>1]):b.add(m[-C-1>>1].neg())}return f.type==="affine"?b.toP():b},d.prototype._wnafMulAdd=function(f,p,g,y,m){var v,b,x,j=this._wnafT1,C=this._wnafT2,R=this._wnafT3,L=0;for(v=0;v<y;v++){var A=(x=p[v])._getNAFPoints(f);j[v]=A.wnd,C[v]=A.points}for(v=y-1;v>=1;v-=2){var P=v-1,$=v;if(j[P]===1&&j[$]===1){var V=[p[P],null,null,p[$]];p[P].y.cmp(p[$].y)===0?(V[1]=p[P].add(p[$]),V[2]=p[P].toJ().mixedAdd(p[$].neg())):p[P].y.cmp(p[$].y.redNeg())===0?(V[1]=p[P].toJ().mixedAdd(p[$]),V[2]=p[P].add(p[$].neg())):(V[1]=p[P].toJ().mixedAdd(p[$]),V[2]=p[P].toJ().mixedAdd(p[$].neg()));var U=[-3,-1,-5,-7,0,7,5,1,3],E=u(g[P],g[$]);for(L=Math.max(E[0].length,L),R[P]=new Array(L),R[$]=new Array(L),b=0;b<L;b++){var I=0|E[0][b],N=0|E[1][b];R[P][b]=U[3*(I+1)+(N+1)],R[$][b]=0,C[P]=V}}else R[P]=o(g[P],j[P],this._bitLength),R[$]=o(g[$],j[$],this._bitLength),L=Math.max(R[P].length,L),L=Math.max(R[$].length,L)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(v=L;v>=0;v--){for(var k=0;v>=0;){var S=!0;for(b=0;b<y;b++)_[b]=0|R[b][v],_[b]!==0&&(S=!1);if(!S)break;k++,v--}if(v>=0&&k++,w=w.dblp(k),v<0)break;for(b=0;b<y;b++){var D=_[b];D!==0&&(D>0?x=C[b][D-1>>1]:D<0&&(x=C[b][-D-1>>1].neg()),w=x.type==="affine"?w.mixedAdd(x):w.add(x))}}for(v=0;v<y;v++)C[v]=null;return m?w:w.toP()},d.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(f,p){f=a.toArray(f,p);var g=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*g)return f[0]===6?c(f[f.length-1]%2==0):f[0]===7&&c(f[f.length-1]%2==1),this.point(f.slice(1,1+g),f.slice(1+g,1+2*g));if((f[0]===2||f[0]===3)&&f.length-1===g)return this.pointFromX(f.slice(1,1+g),f[0]===3);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(f){return this.encode(f,!0)},h.prototype._encode=function(f){var p=this.curve.p.byteLength(),g=this.getX().toArray("be",p);return f?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",p))},h.prototype.encode=function(f,p){return a.encode(this._encode(p),f)},h.prototype.precompute=function(f){if(this.precomputed)return this;var p={doubles:null,naf:null,beta:null};return p.naf=this._getNAFPoints(8),p.doubles=this._getDoubles(4,f),p.beta=this._getBeta(),this.precomputed=p,this},h.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var p=this.precomputed.doubles;return!!p&&p.points.length>=Math.ceil((f.bitLength()+1)/p.step)},h.prototype._getDoubles=function(f,p){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],y=this,m=0;m<p;m+=f){for(var v=0;v<f;v++)y=y.dbl();g.push(y)}return{step:f,points:g}},h.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var p=[this],g=(1<<f)-1,y=g===1?null:this.dbl(),m=1;m<g;m++)p[m]=p[m-1].add(y);return{wnd:f,points:p}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(f){for(var p=this,g=0;g<f;g++)p=p.dbl();return p}},{"../utils":419,"bn.js":420}],407:[function(r,n,s){var i=r("../utils"),a=r("bn.js"),o=r("inherits"),u=r("./base"),c=i.assert;function d(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,u.call(this,"edwards",f),this.a=new a(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function h(f,p,g,y,m){u.BasePoint.call(this,f,"projective"),p===null&&g===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(p,16),this.y=new a(g,16),this.z=y?new a(y,16):this.curve.one,this.t=m&&new a(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(d,u),n.exports=d,d.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},d.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},d.prototype.jpoint=function(f,p,g,y){return this.point(f,p,g,y)},d.prototype.pointFromX=function(f,p){(f=new a(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),y=this.c2.redSub(this.a.redMul(g)),m=this.one.redSub(this.c2.redMul(this.d).redMul(g)),v=y.redMul(m.redInvm()),b=v.redSqrt();if(b.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var x=b.fromRed().isOdd();return(p&&!x||!p&&x)&&(b=b.redNeg()),this.point(f,b)},d.prototype.pointFromY=function(f,p){(f=new a(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),y=g.redSub(this.c2),m=g.redMul(this.d).redMul(this.c2).redSub(this.a),v=y.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(p)throw new Error("invalid point");return this.point(this.zero,f)}var b=v.redSqrt();if(b.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return b.fromRed().isOdd()!==p&&(b=b.redNeg()),this.point(b,f)},d.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var p=f.x.redSqr(),g=f.y.redSqr(),y=p.redMul(this.a).redAdd(g),m=this.c2.redMul(this.one.redAdd(this.d.redMul(p).redMul(g)));return y.cmp(m)===0},o(h,u.BasePoint),d.prototype.pointFromJSON=function(f){return h.fromJSON(this,f)},d.prototype.point=function(f,p,g,y){return new h(this,f,p,g,y)},h.fromJSON=function(f,p){return new h(f,p[0],p[1],p[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},h.prototype._extDbl=function(){var f=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var y=this.curve._mulA(f),m=this.x.redAdd(this.y).redSqr().redISub(f).redISub(p),v=y.redAdd(p),b=v.redSub(g),x=y.redSub(p),j=m.redMul(b),C=v.redMul(x),R=m.redMul(x),L=b.redMul(v);return this.curve.point(j,C,L,R)},h.prototype._projDbl=function(){var f,p,g,y,m,v,b=this.x.redAdd(this.y).redSqr(),x=this.x.redSqr(),j=this.y.redSqr();if(this.curve.twisted){var C=(y=this.curve._mulA(x)).redAdd(j);this.zOne?(f=b.redSub(x).redSub(j).redMul(C.redSub(this.curve.two)),p=C.redMul(y.redSub(j)),g=C.redSqr().redSub(C).redSub(C)):(m=this.z.redSqr(),v=C.redSub(m).redISub(m),f=b.redSub(x).redISub(j).redMul(v),p=C.redMul(y.redSub(j)),g=C.redMul(v))}else y=x.redAdd(j),m=this.curve._mulC(this.z).redSqr(),v=y.redSub(m).redSub(m),f=this.curve._mulC(b.redISub(y)).redMul(v),p=this.curve._mulC(y).redMul(x.redISub(j)),g=y.redMul(v);return this.curve.point(f,p,g)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(f){var p=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),g=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),y=this.t.redMul(this.curve.dd).redMul(f.t),m=this.z.redMul(f.z.redAdd(f.z)),v=g.redSub(p),b=m.redSub(y),x=m.redAdd(y),j=g.redAdd(p),C=v.redMul(b),R=x.redMul(j),L=v.redMul(j),A=b.redMul(x);return this.curve.point(C,R,A,L)},h.prototype._projAdd=function(f){var p,g,y=this.z.redMul(f.z),m=y.redSqr(),v=this.x.redMul(f.x),b=this.y.redMul(f.y),x=this.curve.d.redMul(v).redMul(b),j=m.redSub(x),C=m.redAdd(x),R=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(v).redISub(b),L=y.redMul(j).redMul(R);return this.curve.twisted?(p=y.redMul(C).redMul(b.redSub(this.curve._mulA(v))),g=j.redMul(C)):(p=y.redMul(C).redMul(b.redSub(v)),g=this.curve._mulC(j).redMul(C)),this.curve.point(L,p,g)},h.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},h.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},h.prototype.mulAdd=function(f,p,g){return this.curve._wnafMulAdd(1,[this,p],[f,g],2,!1)},h.prototype.jmulAdd=function(f,p,g){return this.curve._wnafMulAdd(1,[this,p],[f,g],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},h.prototype.eqXToP=function(f){var p=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(p)===0)return!0;for(var g=f.clone(),y=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(y),this.x.cmp(p)===0)return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(r,n,s){var i=s;i.base=r("./base"),i.short=r("./short"),i.mont=r("./mont"),i.edwards=r("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(r,n,s){var i=r("bn.js"),a=r("inherits"),o=r("./base"),u=r("../utils");function c(h){o.call(this,"mont",h),this.a=new i(h.a,16).toRed(this.red),this.b=new i(h.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function d(h,f,p){o.BasePoint.call(this,h,"projective"),f===null&&p===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(f,16),this.z=new i(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(c,o),n.exports=c,c.prototype.validate=function(h){var f=h.normalize().x,p=f.redSqr(),g=p.redMul(f).redAdd(p.redMul(this.a)).redAdd(f);return g.redSqrt().redSqr().cmp(g)===0},a(d,o.BasePoint),c.prototype.decodePoint=function(h,f){return this.point(u.toArray(h,f),1)},c.prototype.point=function(h,f){return new d(this,h,f)},c.prototype.pointFromJSON=function(h){return d.fromJSON(this,h)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(h,f){return new d(h,f[0],f[1]||h.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var h=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),p=h.redSub(f),g=h.redMul(f),y=p.redMul(f.redAdd(this.curve.a24.redMul(p)));return this.curve.point(g,y)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(h,f){var p=this.x.redAdd(this.z),g=this.x.redSub(this.z),y=h.x.redAdd(h.z),m=h.x.redSub(h.z).redMul(p),v=y.redMul(g),b=f.z.redMul(m.redAdd(v).redSqr()),x=f.x.redMul(m.redISub(v).redSqr());return this.curve.point(b,x)},d.prototype.mul=function(h){for(var f=h.clone(),p=this,g=this.curve.point(null,null),y=[];f.cmpn(0)!==0;f.iushrn(1))y.push(f.andln(1));for(var m=y.length-1;m>=0;m--)y[m]===0?(p=p.diffAdd(g,this),g=g.dbl()):(g=p.diffAdd(g,this),p=p.dbl());return g},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(h){return this.getX().cmp(h.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(r,n,s){var i=r("../utils"),a=r("bn.js"),o=r("inherits"),u=r("./base"),c=i.assert;function d(p){u.call(this,"short",p),this.a=new a(p.a,16).toRed(this.red),this.b=new a(p.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(p),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(p,g,y,m){u.BasePoint.call(this,p,"affine"),g===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(g,16),this.y=new a(y,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(p,g,y,m){u.BasePoint.call(this,p,"jacobian"),g===null&&y===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(g,16),this.y=new a(y,16),this.z=new a(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(d,u),n.exports=d,d.prototype._getEndomorphism=function(p){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,y;if(p.beta)g=new a(p.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);g=(g=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(p.lambda)y=new a(p.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(g))===0?y=v[0]:(y=v[1],c(this.g.mul(y).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:y,basis:p.basis?p.basis.map((function(b){return{a:new a(b.a,16),b:new a(b.b,16)}})):this._getEndoBasis(y)}}},d.prototype._getEndoRoots=function(p){var g=p===this.p?this.red:a.mont(p),y=new a(2).toRed(g).redInvm(),m=y.redNeg(),v=new a(3).toRed(g).redNeg().redSqrt().redMul(y);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},d.prototype._getEndoBasis=function(p){for(var g,y,m,v,b,x,j,C,R,L=this.n.ushrn(Math.floor(this.n.bitLength()/2)),A=p,P=this.n.clone(),$=new a(1),V=new a(0),U=new a(0),E=new a(1),I=0;A.cmpn(0)!==0;){var N=P.div(A);C=P.sub(N.mul(A)),R=U.sub(N.mul($));var w=E.sub(N.mul(V));if(!m&&C.cmp(L)<0)g=j.neg(),y=$,m=C.neg(),v=R;else if(m&&++I==2)break;j=C,P=A,A=C,U=$,$=R,E=V,V=w}b=C.neg(),x=R;var _=m.sqr().add(v.sqr());return b.sqr().add(x.sqr()).cmp(_)>=0&&(b=g,x=y),m.negative&&(m=m.neg(),v=v.neg()),b.negative&&(b=b.neg(),x=x.neg()),[{a:m,b:v},{a:b,b:x}]},d.prototype._endoSplit=function(p){var g=this.endo.basis,y=g[0],m=g[1],v=m.b.mul(p).divRound(this.n),b=y.b.neg().mul(p).divRound(this.n),x=v.mul(y.a),j=b.mul(m.a),C=v.mul(y.b),R=b.mul(m.b);return{k1:p.sub(x).sub(j),k2:C.add(R).neg()}},d.prototype.pointFromX=function(p,g){(p=new a(p,16)).red||(p=p.toRed(this.red));var y=p.redSqr().redMul(p).redIAdd(p.redMul(this.a)).redIAdd(this.b),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(g&&!v||!g&&v)&&(m=m.redNeg()),this.point(p,m)},d.prototype.validate=function(p){if(p.inf)return!0;var g=p.x,y=p.y,m=this.a.redMul(g),v=g.redSqr().redMul(g).redIAdd(m).redIAdd(this.b);return y.redSqr().redISub(v).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(p,g,y){for(var m=this._endoWnafT1,v=this._endoWnafT2,b=0;b<p.length;b++){var x=this._endoSplit(g[b]),j=p[b],C=j._getBeta();x.k1.negative&&(x.k1.ineg(),j=j.neg(!0)),x.k2.negative&&(x.k2.ineg(),C=C.neg(!0)),m[2*b]=j,m[2*b+1]=C,v[2*b]=x.k1,v[2*b+1]=x.k2}for(var R=this._wnafMulAdd(1,m,v,2*b,y),L=0;L<2*b;L++)m[L]=null,v[L]=null;return R},o(h,u.BasePoint),d.prototype.point=function(p,g,y){return new h(this,p,g,y)},d.prototype.pointFromJSON=function(p,g){return h.fromJSON(this,p,g)},h.prototype._getBeta=function(){if(this.curve.endo){var p=this.precomputed;if(p&&p.beta)return p.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(p){var y=this.curve,m=function(v){return y.point(v.x.redMul(y.endo.beta),v.y)};p.beta=g,g.precomputed={beta:null,naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(m)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(m)}}}return g}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(p,g,y){typeof g=="string"&&(g=JSON.parse(g));var m=p.point(g[0],g[1],y);if(!g[2])return m;function v(x){return p.point(x[0],x[1],y)}var b=g[2];return m.precomputed={beta:null,doubles:b.doubles&&{step:b.doubles.step,points:[m].concat(b.doubles.points.map(v))},naf:b.naf&&{wnd:b.naf.wnd,points:[m].concat(b.naf.points.map(v))}},m},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(this.x.cmp(p.x)===0)return this.curve.point(null,null);var g=this.y.redSub(p.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(p.x).redInvm()));var y=g.redSqr().redISub(this.x).redISub(p.x),m=g.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,m)},h.prototype.dbl=function(){if(this.inf)return this;var p=this.y.redAdd(this.y);if(p.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,y=this.x.redSqr(),m=p.redInvm(),v=y.redAdd(y).redIAdd(y).redIAdd(g).redMul(m),b=v.redSqr().redISub(this.x.redAdd(this.x)),x=v.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,x)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(p){return p=new a(p,16),this.isInfinity()?this:this._hasDoubles(p)?this.curve._fixedNafMul(this,p):this.curve.endo?this.curve._endoWnafMulAdd([this],[p]):this.curve._wnafMul(this,p)},h.prototype.mulAdd=function(p,g,y){var m=[this,g],v=[p,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},h.prototype.jmulAdd=function(p,g,y){var m=[this,g],v=[p,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},h.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||this.x.cmp(p.x)===0&&this.y.cmp(p.y)===0)},h.prototype.neg=function(p){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(p&&this.precomputed){var y=this.precomputed,m=function(v){return v.neg()};g.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(m)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(m)}}}return g},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,u.BasePoint),d.prototype.jpoint=function(p,g,y){return new f(this,p,g,y)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var p=this.z.redInvm(),g=p.redSqr(),y=this.x.redMul(g),m=this.y.redMul(g).redMul(p);return this.curve.point(y,m)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var g=p.z.redSqr(),y=this.z.redSqr(),m=this.x.redMul(g),v=p.x.redMul(y),b=this.y.redMul(g.redMul(p.z)),x=p.y.redMul(y.redMul(this.z)),j=m.redSub(v),C=b.redSub(x);if(j.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=j.redSqr(),L=R.redMul(j),A=m.redMul(R),P=C.redSqr().redIAdd(L).redISub(A).redISub(A),$=C.redMul(A.redISub(P)).redISub(b.redMul(L)),V=this.z.redMul(p.z).redMul(j);return this.curve.jpoint(P,$,V)},f.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var g=this.z.redSqr(),y=this.x,m=p.x.redMul(g),v=this.y,b=p.y.redMul(g).redMul(this.z),x=y.redSub(m),j=v.redSub(b);if(x.cmpn(0)===0)return j.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var C=x.redSqr(),R=C.redMul(x),L=y.redMul(C),A=j.redSqr().redIAdd(R).redISub(L).redISub(L),P=j.redMul(L.redISub(A)).redISub(v.redMul(R)),$=this.z.redMul(x);return this.curve.jpoint(A,P,$)},f.prototype.dblp=function(p){if(p===0)return this;if(this.isInfinity())return this;if(!p)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var y=this;for(g=0;g<p;g++)y=y.dbl();return y}var m=this.curve.a,v=this.curve.tinv,b=this.x,x=this.y,j=this.z,C=j.redSqr().redSqr(),R=x.redAdd(x);for(g=0;g<p;g++){var L=b.redSqr(),A=R.redSqr(),P=A.redSqr(),$=L.redAdd(L).redIAdd(L).redIAdd(m.redMul(C)),V=b.redMul(A),U=$.redSqr().redISub(V.redAdd(V)),E=V.redISub(U),I=$.redMul(E);I=I.redIAdd(I).redISub(P);var N=R.redMul(j);g+1<p&&(C=C.redMul(P)),b=U,j=N,R=I}return this.curve.jpoint(b,R.redMul(v),j)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var p,g,y;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),b=v.redSqr(),x=this.x.redAdd(v).redSqr().redISub(m).redISub(b);x=x.redIAdd(x);var j=m.redAdd(m).redIAdd(m),C=j.redSqr().redISub(x).redISub(x),R=b.redIAdd(b);R=(R=R.redIAdd(R)).redIAdd(R),p=C,g=j.redMul(x.redISub(C)).redISub(R),y=this.y.redAdd(this.y)}else{var L=this.x.redSqr(),A=this.y.redSqr(),P=A.redSqr(),$=this.x.redAdd(A).redSqr().redISub(L).redISub(P);$=$.redIAdd($);var V=L.redAdd(L).redIAdd(L),U=V.redSqr(),E=P.redIAdd(P);E=(E=E.redIAdd(E)).redIAdd(E),p=U.redISub($).redISub($),g=V.redMul($.redISub(p)).redISub(E),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(p,g,y)},f.prototype._threeDbl=function(){var p,g,y;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),b=v.redSqr(),x=this.x.redAdd(v).redSqr().redISub(m).redISub(b);x=x.redIAdd(x);var j=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),C=j.redSqr().redISub(x).redISub(x);p=C;var R=b.redIAdd(b);R=(R=R.redIAdd(R)).redIAdd(R),g=j.redMul(x.redISub(C)).redISub(R),y=this.y.redAdd(this.y)}else{var L=this.z.redSqr(),A=this.y.redSqr(),P=this.x.redMul(A),$=this.x.redSub(L).redMul(this.x.redAdd(L));$=$.redAdd($).redIAdd($);var V=P.redIAdd(P),U=(V=V.redIAdd(V)).redAdd(V);p=$.redSqr().redISub(U),y=this.y.redAdd(this.z).redSqr().redISub(A).redISub(L);var E=A.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),g=$.redMul(V.redISub(p)).redISub(E)}return this.curve.jpoint(p,g,y)},f.prototype._dbl=function(){var p=this.curve.a,g=this.x,y=this.y,m=this.z,v=m.redSqr().redSqr(),b=g.redSqr(),x=y.redSqr(),j=b.redAdd(b).redIAdd(b).redIAdd(p.redMul(v)),C=g.redAdd(g),R=(C=C.redIAdd(C)).redMul(x),L=j.redSqr().redISub(R.redAdd(R)),A=R.redISub(L),P=x.redSqr();P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var $=j.redMul(A).redISub(P),V=y.redAdd(y).redMul(m);return this.curve.jpoint(L,$,V)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var p=this.x.redSqr(),g=this.y.redSqr(),y=this.z.redSqr(),m=g.redSqr(),v=p.redAdd(p).redIAdd(p),b=v.redSqr(),x=this.x.redAdd(g).redSqr().redISub(p).redISub(m),j=(x=(x=(x=x.redIAdd(x)).redAdd(x).redIAdd(x)).redISub(b)).redSqr(),C=m.redIAdd(m);C=(C=(C=C.redIAdd(C)).redIAdd(C)).redIAdd(C);var R=v.redIAdd(x).redSqr().redISub(b).redISub(j).redISub(C),L=g.redMul(R);L=(L=L.redIAdd(L)).redIAdd(L);var A=this.x.redMul(j).redISub(L);A=(A=A.redIAdd(A)).redIAdd(A);var P=this.y.redMul(R.redMul(C.redISub(R)).redISub(x.redMul(j)));P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var $=this.z.redAdd(x).redSqr().redISub(y).redISub(j);return this.curve.jpoint(A,P,$)},f.prototype.mul=function(p,g){return p=new a(p,g),this.curve._wnafMul(this,p)},f.prototype.eq=function(p){if(p.type==="affine")return this.eq(p.toJ());if(this===p)return!0;var g=this.z.redSqr(),y=p.z.redSqr();if(this.x.redMul(y).redISub(p.x.redMul(g)).cmpn(0)!==0)return!1;var m=g.redMul(this.z),v=y.redMul(p.z);return this.y.redMul(v).redISub(p.y.redMul(m)).cmpn(0)===0},f.prototype.eqXToP=function(p){var g=this.z.redSqr(),y=p.toRed(this.curve.red).redMul(g);if(this.x.cmp(y)===0)return!0;for(var m=p.clone(),v=this.curve.redN.redMul(g);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(v),this.x.cmp(y)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(r,n,s){var i,a=s,o=r("hash.js"),u=r("./curve"),c=r("./utils").assert;function d(f){f.type==="short"?this.curve=new u.short(f):f.type==="edwards"?this.curve=new u.edwards(f):this.curve=new u.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(f,p){Object.defineProperty(a,f,{configurable:!0,enumerable:!0,get:function(){var g=new d(p);return Object.defineProperty(a,f,{configurable:!0,enumerable:!0,value:g}),g}})}a.PresetCurve=d,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r("./precomputed/secp256k1")}catch{i=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(r,n,s){var i=r("bn.js"),a=r("hmac-drbg"),o=r("../utils"),u=r("../curves"),c=r("brorand"),d=o.assert,h=r("./key"),f=r("./signature");function p(g){if(!(this instanceof p))return new p(g);typeof g=="string"&&(d(Object.prototype.hasOwnProperty.call(u,g),"Unknown curve "+g),g=u[g]),g instanceof u.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=p,p.prototype.keyPair=function(g){return new h(this,g)},p.prototype.keyFromPrivate=function(g,y){return h.fromPrivate(this,g,y)},p.prototype.keyFromPublic=function(g,y){return h.fromPublic(this,g,y)},p.prototype.genKeyPair=function(g){g||(g={});for(var y=new a({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||c(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new i(2));;){var b=new i(y.generate(m));if(!(b.cmp(v)>0))return b.iaddn(1),this.keyFromPrivate(b)}},p.prototype._truncateToN=function(g,y){var m=8*g.byteLength()-this.n.bitLength();return m>0&&(g=g.ushrn(m)),!y&&g.cmp(this.n)>=0?g.sub(this.n):g},p.prototype.sign=function(g,y,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),y=this.keyFromPrivate(y,m),g=this._truncateToN(new i(g,16));for(var b=this.n.byteLength(),x=y.getPrivate().toArray("be",b),j=g.toArray("be",b),C=new a({hash:this.hash,entropy:x,nonce:j,pers:v.pers,persEnc:v.persEnc||"utf8"}),R=this.n.sub(new i(1)),L=0;;L++){var A=v.k?v.k(L):new i(C.generate(this.n.byteLength()));if(!((A=this._truncateToN(A,!0)).cmpn(1)<=0||A.cmp(R)>=0)){var P=this.g.mul(A);if(!P.isInfinity()){var $=P.getX(),V=$.umod(this.n);if(V.cmpn(0)!==0){var U=A.invm(this.n).mul(V.mul(y.getPrivate()).iadd(g));if((U=U.umod(this.n)).cmpn(0)!==0){var E=(P.getY().isOdd()?1:0)|($.cmp(V)!==0?2:0);return v.canonical&&U.cmp(this.nh)>0&&(U=this.n.sub(U),E^=1),new f({r:V,s:U,recoveryParam:E})}}}}}},p.prototype.verify=function(g,y,m,v){g=this._truncateToN(new i(g,16)),m=this.keyFromPublic(m,v);var b=(y=new f(y,"hex")).r,x=y.s;if(b.cmpn(1)<0||b.cmp(this.n)>=0||x.cmpn(1)<0||x.cmp(this.n)>=0)return!1;var j,C=x.invm(this.n),R=C.mul(g).umod(this.n),L=C.mul(b).umod(this.n);return this.curve._maxwellTrick?!(j=this.g.jmulAdd(R,m.getPublic(),L)).isInfinity()&&j.eqXToP(b):!(j=this.g.mulAdd(R,m.getPublic(),L)).isInfinity()&&j.getX().umod(this.n).cmp(b)===0},p.prototype.recoverPubKey=function(g,y,m,v){d((3&m)===m,"The recovery param is more than two bits"),y=new f(y,v);var b=this.n,x=new i(g),j=y.r,C=y.s,R=1&m,L=m>>1;if(j.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");j=L?this.curve.pointFromX(j.add(this.curve.n),R):this.curve.pointFromX(j,R);var A=y.r.invm(b),P=b.sub(x).mul(A).umod(b),$=C.mul(A).umod(b);return this.g.mulAdd(P,j,$)},p.prototype.getKeyRecoveryParam=function(g,y,m,v){if((y=new f(y,v)).recoveryParam!==null)return y.recoveryParam;for(var b=0;b<4;b++){var x;try{x=this.recoverPubKey(g,y,b)}catch{continue}if(x.eq(m))return b}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(r,n,s){var i=r("bn.js"),a=r("../utils").assert;function o(u,c){this.ec=u,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}n.exports=o,o.fromPublic=function(u,c,d){return c instanceof o?c:new o(u,{pub:c,pubEnc:d})},o.fromPrivate=function(u,c,d){return c instanceof o?c:new o(u,{priv:c,privEnc:d})},o.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(u,c){return typeof u=="string"&&(c=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,u):this.pub},o.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(u,c){this.priv=new i(u,c||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(u,c){if(u.x||u.y)return this.ec.curve.type==="mont"?a(u.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(u.x&&u.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(u.x,u.y));this.pub=this.ec.curve.decodePoint(u,c)},o.prototype.derive=function(u){return u.validate()||a(u.validate(),"public point not validated"),u.mul(this.priv).getX()},o.prototype.sign=function(u,c,d){return this.ec.sign(u,this,c,d)},o.prototype.verify=function(u,c){return this.ec.verify(u,c,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(r,n,s){var i=r("bn.js"),a=r("../utils"),o=a.assert;function u(p,g){if(p instanceof u)return p;this._importDER(p,g)||(o(p.r&&p.s,"Signature without r or s"),this.r=new i(p.r,16),this.s=new i(p.s,16),p.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=p.recoveryParam)}function c(){this.place=0}function d(p,g){var y=p[g.place++];if(!(128&y))return y;var m=15&y;if(m===0||m>4)return!1;for(var v=0,b=0,x=g.place;b<m;b++,x++)v<<=8,v|=p[x],v>>>=0;return!(v<=127)&&(g.place=x,v)}function h(p){for(var g=0,y=p.length-1;!p[g]&&!(128&p[g+1])&&g<y;)g++;return g===0?p:p.slice(g)}function f(p,g){if(g<128)p.push(g);else{var y=1+(Math.log(g)/Math.LN2>>>3);for(p.push(128|y);--y;)p.push(g>>>(y<<3)&255);p.push(g)}}n.exports=u,u.prototype._importDER=function(p,g){p=a.toArray(p,g);var y=new c;if(p[y.place++]!==48)return!1;var m=d(p,y);if(m===!1||m+y.place!==p.length||p[y.place++]!==2)return!1;var v=d(p,y);if(v===!1)return!1;var b=p.slice(y.place,v+y.place);if(y.place+=v,p[y.place++]!==2)return!1;var x=d(p,y);if(x===!1||p.length!==x+y.place)return!1;var j=p.slice(y.place,x+y.place);if(b[0]===0){if(!(128&b[1]))return!1;b=b.slice(1)}if(j[0]===0){if(!(128&j[1]))return!1;j=j.slice(1)}return this.r=new i(b),this.s=new i(j),this.recoveryParam=null,!0},u.prototype.toDER=function(p){var g=this.r.toArray(),y=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&y[0]&&(y=[0].concat(y)),g=h(g),y=h(y);!(y[0]||128&y[1]);)y=y.slice(1);var m=[2];f(m,g.length),(m=m.concat(g)).push(2),f(m,y.length);var v=m.concat(y),b=[48];return f(b,v.length),b=b.concat(v),a.encode(b,p)}},{"../utils":419,"bn.js":420}],415:[function(r,n,s){var i=r("hash.js"),a=r("../curves"),o=r("../utils"),u=o.assert,c=o.parseBytes,d=r("./key"),h=r("./signature");function f(p){if(u(p==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(p);p=a[p].curve,this.curve=p,this.g=p.g,this.g.precompute(p.n.bitLength()+1),this.pointClass=p.point().constructor,this.encodingLength=Math.ceil(p.n.bitLength()/8),this.hash=i.sha512}n.exports=f,f.prototype.sign=function(p,g){p=c(p);var y=this.keyFromSecret(g),m=this.hashInt(y.messagePrefix(),p),v=this.g.mul(m),b=this.encodePoint(v),x=this.hashInt(b,y.pubBytes(),p).mul(y.priv()),j=m.add(x).umod(this.curve.n);return this.makeSignature({R:v,S:j,Rencoded:b})},f.prototype.verify=function(p,g,y){p=c(p),g=this.makeSignature(g);var m=this.keyFromPublic(y),v=this.hashInt(g.Rencoded(),m.pubBytes(),p),b=this.g.mul(g.S());return g.R().add(m.pub().mul(v)).eq(b)},f.prototype.hashInt=function(){for(var p=this.hash(),g=0;g<arguments.length;g++)p.update(arguments[g]);return o.intFromLE(p.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(p){return d.fromPublic(this,p)},f.prototype.keyFromSecret=function(p){return d.fromSecret(this,p)},f.prototype.makeSignature=function(p){return p instanceof h?p:new h(this,p)},f.prototype.encodePoint=function(p){var g=p.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=p.getX().isOdd()?128:0,g},f.prototype.decodePoint=function(p){var g=(p=o.parseBytes(p)).length-1,y=p.slice(0,g).concat(-129&p[g]),m=(128&p[g])!=0,v=o.intFromLE(y);return this.curve.pointFromY(v,m)},f.prototype.encodeInt=function(p){return p.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(p){return o.intFromLE(p)},f.prototype.isPoint=function(p){return p instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(r,n,s){var i=r("../utils"),a=i.assert,o=i.parseBytes,u=i.cachedProperty;function c(d,h){this.eddsa=d,this._secret=o(h.secret),d.isPoint(h.pub)?this._pub=h.pub:this._pubBytes=o(h.pub)}c.fromPublic=function(d,h){return h instanceof c?h:new c(d,{pub:h})},c.fromSecret=function(d,h){return h instanceof c?h:new c(d,{secret:h})},c.prototype.secret=function(){return this._secret},u(c,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),u(c,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),u(c,"privBytes",(function(){var d=this.eddsa,h=this.hash(),f=d.encodingLength-1,p=h.slice(0,d.encodingLength);return p[0]&=248,p[f]&=127,p[f]|=64,p})),u(c,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),u(c,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),u(c,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),c.prototype.sign=function(d){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(d,this)},c.prototype.verify=function(d,h){return this.eddsa.verify(d,h,this)},c.prototype.getSecret=function(d){return a(this._secret,"KeyPair is public only"),i.encode(this.secret(),d)},c.prototype.getPublic=function(d){return i.encode(this.pubBytes(),d)},n.exports=c},{"../utils":419}],417:[function(r,n,s){var i=r("bn.js"),a=r("../utils"),o=a.assert,u=a.cachedProperty,c=a.parseBytes;function d(h,f){this.eddsa=h,typeof f!="object"&&(f=c(f)),Array.isArray(f)&&(f={R:f.slice(0,h.encodingLength),S:f.slice(h.encodingLength)}),o(f.R&&f.S,"Signature without R or S"),h.isPoint(f.R)&&(this._R=f.R),f.S instanceof i&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}u(d,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),u(d,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),u(d,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),u(d,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},n.exports=d},{"../utils":419,"bn.js":420}],418:[function(r,n,s){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(r,n,s){var i=s,a=r("bn.js"),o=r("minimalistic-assert"),u=r("minimalistic-crypto-utils");i.assert=o,i.toArray=u.toArray,i.zero2=u.zero2,i.toHex=u.toHex,i.encode=u.encode,i.getNAF=function(c,d,h){var f=new Array(Math.max(c.bitLength(),h)+1);f.fill(0);for(var p=1<<d+1,g=c.clone(),y=0;y<f.length;y++){var m,v=g.andln(p-1);g.isOdd()?(m=v>(p>>1)-1?(p>>1)-v:v,g.isubn(m)):m=0,f[y]=m,g.iushrn(1)}return f},i.getJSF=function(c,d){var h=[[],[]];c=c.clone(),d=d.clone();for(var f,p=0,g=0;c.cmpn(-p)>0||d.cmpn(-g)>0;){var y,m,v=c.andln(3)+p&3,b=d.andln(3)+g&3;v===3&&(v=-1),b===3&&(b=-1),y=(1&v)==0?0:(f=c.andln(7)+p&7)!==3&&f!==5||b!==2?v:-v,h[0].push(y),m=(1&b)==0?0:(f=d.andln(7)+g&7)!==3&&f!==5||v!==2?b:-b,h[1].push(m),2*p===y+1&&(p=1-p),2*g===m+1&&(g=1-g),c.iushrn(1),d.iushrn(1)}return h},i.cachedProperty=function(c,d,h){var f="_"+d;c.prototype[d]=function(){return this[f]!==void 0?this[f]:this[f]=h.call(this)}},i.parseBytes=function(c){return typeof c=="string"?i.toArray(c,"hex"):c},i.intFromLE=function(c){return new a(c,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(r,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(r,n,s){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(r,n,s){var i=Object.create||function(A){var P=function(){};return P.prototype=A,new P},a=Object.keys||function(A){var P=[];for(var $ in A)Object.prototype.hasOwnProperty.call(A,$)&&P.push($);return $},o=Function.prototype.bind||function(A){var P=this;return function(){return P.apply(A,arguments)}};function u(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._maxListeners=void 0;var c,d=10;try{var h={};Object.defineProperty&&Object.defineProperty(h,"x",{value:0}),c=h.x===0}catch{c=!1}function f(A){return A._maxListeners===void 0?u.defaultMaxListeners:A._maxListeners}function p(A,P,$){if(P)A.call($);else for(var V=A.length,U=L(A,V),E=0;E<V;++E)U[E].call($)}function g(A,P,$,V){if(P)A.call($,V);else for(var U=A.length,E=L(A,U),I=0;I<U;++I)E[I].call($,V)}function y(A,P,$,V,U){if(P)A.call($,V,U);else for(var E=A.length,I=L(A,E),N=0;N<E;++N)I[N].call($,V,U)}function m(A,P,$,V,U,E){if(P)A.call($,V,U,E);else for(var I=A.length,N=L(A,I),w=0;w<I;++w)N[w].call($,V,U,E)}function v(A,P,$,V){if(P)A.apply($,V);else for(var U=A.length,E=L(A,U),I=0;I<U;++I)E[I].apply($,V)}function b(A,P,$,V){var U,E,I;if(typeof $!="function")throw new TypeError('"listener" argument must be a function');if((E=A._events)?(E.newListener&&(A.emit("newListener",P,$.listener?$.listener:$),E=A._events),I=E[P]):(E=A._events=i(null),A._eventsCount=0),I){if(typeof I=="function"?I=E[P]=V?[$,I]:[I,$]:V?I.unshift($):I.push($),!I.warned&&(U=f(A))&&U>0&&I.length>U){I.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+I.length+' "'+String(P)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');N.name="MaxListenersExceededWarning",N.emitter=A,N.type=P,N.count=I.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",N.name,N.message)}}else I=E[P]=$,++A._eventsCount;return A}function x(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var A=new Array(arguments.length),P=0;P<A.length;++P)A[P]=arguments[P];this.listener.apply(this.target,A)}}function j(A,P,$){var V={fired:!1,wrapFn:void 0,target:A,type:P,listener:$},U=o.call(x,V);return U.listener=$,V.wrapFn=U,U}function C(A,P,$){var V=A._events;if(!V)return[];var U=V[P];return U?typeof U=="function"?$?[U.listener||U]:[U]:$?(function(E){for(var I=new Array(E.length),N=0;N<I.length;++N)I[N]=E[N].listener||E[N];return I})(U):L(U,U.length):[]}function R(A){var P=this._events;if(P){var $=P[A];if(typeof $=="function")return 1;if($)return $.length}return 0}function L(A,P){for(var $=new Array(P),V=0;V<P;++V)$[V]=A[V];return $}c?Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(A){if(typeof A!="number"||A<0||A!=A)throw new TypeError('"defaultMaxListeners" must be a positive number');d=A}}):u.defaultMaxListeners=d,u.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||isNaN(A))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=A,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(A){var P,$,V,U,E,I,N=A==="error";if(I=this._events)N=N&&I.error==null;else if(!N)return!1;if(N){if(arguments.length>1&&(P=arguments[1]),P instanceof Error)throw P;var w=new Error('Unhandled "error" event. ('+P+")");throw w.context=P,w}if(!($=I[A]))return!1;var _=typeof $=="function";switch(V=arguments.length){case 1:p($,_,this);break;case 2:g($,_,this,arguments[1]);break;case 3:y($,_,this,arguments[1],arguments[2]);break;case 4:m($,_,this,arguments[1],arguments[2],arguments[3]);break;default:for(U=new Array(V-1),E=1;E<V;E++)U[E-1]=arguments[E];v($,_,this,U)}return!0},u.prototype.addListener=function(A,P){return b(this,A,P,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(A,P){return b(this,A,P,!0)},u.prototype.once=function(A,P){if(typeof P!="function")throw new TypeError('"listener" argument must be a function');return this.on(A,j(this,A,P)),this},u.prototype.prependOnceListener=function(A,P){if(typeof P!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(A,j(this,A,P)),this},u.prototype.removeListener=function(A,P){var $,V,U,E,I;if(typeof P!="function")throw new TypeError('"listener" argument must be a function');if(!(V=this._events))return this;if(!($=V[A]))return this;if($===P||$.listener===P)--this._eventsCount==0?this._events=i(null):(delete V[A],V.removeListener&&this.emit("removeListener",A,$.listener||P));else if(typeof $!="function"){for(U=-1,E=$.length-1;E>=0;E--)if($[E]===P||$[E].listener===P){I=$[E].listener,U=E;break}if(U<0)return this;U===0?$.shift():(function(N,w){for(var _=w,k=_+1,S=N.length;k<S;_+=1,k+=1)N[_]=N[k];N.pop()})($,U),$.length===1&&(V[A]=$[0]),V.removeListener&&this.emit("removeListener",A,I||P)}return this},u.prototype.removeAllListeners=function(A){var P,$,V;if(!($=this._events))return this;if(!$.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):$[A]&&(--this._eventsCount==0?this._events=i(null):delete $[A]),this;if(arguments.length===0){var U,E=a($);for(V=0;V<E.length;++V)(U=E[V])!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(P=$[A])=="function")this.removeListener(A,P);else if(P)for(V=P.length-1;V>=0;V--)this.removeListener(A,P[V]);return this},u.prototype.listeners=function(A){return C(this,A,!0)},u.prototype.rawListeners=function(A){return C(this,A,!1)},u.listenerCount=function(A,P){return typeof A.listenerCount=="function"?A.listenerCount(P):R.call(A,P)},u.prototype.listenerCount=R,u.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("md5.js");n.exports=function(o,u,c,d){if(i.isBuffer(o)||(o=i.from(o,"binary")),u&&(i.isBuffer(u)||(u=i.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=c/8,f=i.alloc(h),p=i.alloc(d||0),g=i.alloc(0);h>0||d>0;){var y=new a;y.update(g),y.update(o),u&&y.update(u),g=y.digest();var m=0;if(h>0){var v=f.length-h;m=Math.min(h,g.length),g.copy(f,v,0,m),h-=m}if(m<g.length&&d>0){var b=p.length-d,x=Math.min(d,g.length-m);g.copy(p,b,m,m+x),d-=x}}return g.fill(0),{key:f,iv:p}}},{"md5.js":450,"safe-buffer":494}],424:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var i=r("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var a=r("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("readable-stream").Transform;function o(u){a.call(this),this._block=i.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("inherits")(o,a),o.prototype._transform=function(u,c,d){var h=null;try{this.update(u,c)}catch(f){h=f}d(h)},o.prototype._flush=function(u){var c=null;try{this.push(this.digest())}catch(d){c=d}u(c)},o.prototype.update=function(u,c){if((function(y,m){if(!i.isBuffer(y)&&typeof y!="string")throw new TypeError(m+" must be a string or a buffer")})(u,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(u)||(u=i.from(u,c));for(var d=this._block,h=0;this._blockOffset+u.length-h>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)d[f++]=u[h++];this._update(),this._blockOffset=0}for(;h<u.length;)d[this._blockOffset++]=u[h++];for(var p=0,g=8*u.length;g>0;++p)this._length[p]+=g,(g=this._length[p]/4294967296|0)>0&&(this._length[p]-=4294967296*g);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();u!==void 0&&(c=c.toString(u)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return c},o.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(r,n,s){var i=s;i.utils=r("./hash/utils"),i.common=r("./hash/common"),i.sha=r("./hash/sha"),i.ripemd=r("./hash/ripemd"),i.hmac=r("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(r,n,s){var i=r("./utils"),a=r("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=o,o.prototype.update=function(u,c){if(u=i.toArray(u,c),this.pending?this.pending=this.pending.concat(u):this.pending=u,this.pendingTotal+=u.length,this.pending.length>=this._delta8){var d=(u=this.pending).length%this._delta8;this.pending=u.slice(u.length-d,u.length),this.pending.length===0&&(this.pending=null),u=i.join32(u,0,u.length-d,this.endian);for(var h=0;h<u.length;h+=this._delta32)this._update(u,h,h+this._delta32)}return this},o.prototype.digest=function(u){return this.update(this._pad()),a(this.pending===null),this._digest(u)},o.prototype._pad=function(){var u=this.pendingTotal,c=this._delta8,d=c-(u+this.padLength)%c,h=new Array(d+this.padLength);h[0]=128;for(var f=1;f<d;f++)h[f]=0;if(u<<=3,this.endian==="big"){for(var p=8;p<this.padLength;p++)h[f++]=0;h[f++]=0,h[f++]=0,h[f++]=0,h[f++]=0,h[f++]=u>>>24&255,h[f++]=u>>>16&255,h[f++]=u>>>8&255,h[f++]=255&u}else for(h[f++]=255&u,h[f++]=u>>>8&255,h[f++]=u>>>16&255,h[f++]=u>>>24&255,h[f++]=0,h[f++]=0,h[f++]=0,h[f++]=0,p=8;p<this.padLength;p++)h[f++]=0;return h}},{"./utils":437,"minimalistic-assert":453}],428:[function(r,n,s){var i=r("./utils"),a=r("minimalistic-assert");function o(u,c,d){if(!(this instanceof o))return new o(u,c,d);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(c,d))}n.exports=o,o.prototype._init=function(u){u.length>this.blockSize&&(u=new this.Hash().update(u).digest()),a(u.length<=this.blockSize);for(var c=u.length;c<this.blockSize;c++)u.push(0);for(c=0;c<u.length;c++)u[c]^=54;for(this.inner=new this.Hash().update(u),c=0;c<u.length;c++)u[c]^=106;this.outer=new this.Hash().update(u)},o.prototype.update=function(u,c){return this.inner.update(u,c),this},o.prototype.digest=function(u){return this.outer.update(this.inner.digest()),this.outer.digest(u)}},{"./utils":437,"minimalistic-assert":453}],429:[function(r,n,s){var i=r("./utils"),a=r("./common"),o=i.rotl32,u=i.sum32,c=i.sum32_3,d=i.sum32_4,h=a.BlockHash;function f(){if(!(this instanceof f))return new f;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function p(j,C,R,L){return j<=15?C^R^L:j<=31?C&R|~C&L:j<=47?(C|~R)^L:j<=63?C&L|R&~L:C^(R|~L)}function g(j){return j<=15?0:j<=31?1518500249:j<=47?1859775393:j<=63?2400959708:2840853838}function y(j){return j<=15?1352829926:j<=31?1548603684:j<=47?1836072691:j<=63?2053994217:0}i.inherits(f,h),s.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(j,C){for(var R=this.h[0],L=this.h[1],A=this.h[2],P=this.h[3],$=this.h[4],V=R,U=L,E=A,I=P,N=$,w=0;w<80;w++){var _=u(o(d(R,p(w,L,A,P),j[m[w]+C],g(w)),b[w]),$);R=$,$=P,P=o(A,10),A=L,L=_,_=u(o(d(V,p(79-w,U,E,I),j[v[w]+C],y(w)),x[w]),N),V=N,N=I,I=o(E,10),E=U,U=_}_=c(this.h[1],A,I),this.h[1]=c(this.h[2],P,N),this.h[2]=c(this.h[3],$,V),this.h[3]=c(this.h[4],R,U),this.h[4]=c(this.h[0],L,E),this.h[0]=_},f.prototype._digest=function(j){return j==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(r,n,s){s.sha1=r("./sha/1"),s.sha224=r("./sha/224"),s.sha256=r("./sha/256"),s.sha384=r("./sha/384"),s.sha512=r("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(r,n,s){var i=r("../utils"),a=r("../common"),o=r("./common"),u=i.rotl32,c=i.sum32,d=i.sum32_5,h=o.ft_1,f=a.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(g,f),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(y,m){for(var v=this.W,b=0;b<16;b++)v[b]=y[m+b];for(;b<v.length;b++)v[b]=u(v[b-3]^v[b-8]^v[b-14]^v[b-16],1);var x=this.h[0],j=this.h[1],C=this.h[2],R=this.h[3],L=this.h[4];for(b=0;b<v.length;b++){var A=~~(b/20),P=d(u(x,5),h(A,j,C,R),L,v[b],p[A]);L=R,R=C,C=u(j,30),j=x,x=P}this.h[0]=c(this.h[0],x),this.h[1]=c(this.h[1],j),this.h[2]=c(this.h[2],C),this.h[3]=c(this.h[3],R),this.h[4]=c(this.h[4],L)},g.prototype._digest=function(y){return y==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(r,n,s){var i=r("../utils"),a=r("./256");function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,a),n.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(u){return u==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(r,n,s){var i=r("../utils"),a=r("../common"),o=r("./common"),u=r("minimalistic-assert"),c=i.sum32,d=i.sum32_4,h=i.sum32_5,f=o.ch32,p=o.maj32,g=o.s0_256,y=o.s1_256,m=o.g0_256,v=o.g1_256,b=a.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function j(){if(!(this instanceof j))return new j;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}i.inherits(j,b),n.exports=j,j.blockSize=512,j.outSize=256,j.hmacStrength=192,j.padLength=64,j.prototype._update=function(C,R){for(var L=this.W,A=0;A<16;A++)L[A]=C[R+A];for(;A<L.length;A++)L[A]=d(v(L[A-2]),L[A-7],m(L[A-15]),L[A-16]);var P=this.h[0],$=this.h[1],V=this.h[2],U=this.h[3],E=this.h[4],I=this.h[5],N=this.h[6],w=this.h[7];for(u(this.k.length===L.length),A=0;A<L.length;A++){var _=h(w,y(E),f(E,I,N),this.k[A],L[A]),k=c(g(P),p(P,$,V));w=N,N=I,I=E,E=c(U,_),U=V,V=$,$=P,P=c(_,k)}this.h[0]=c(this.h[0],P),this.h[1]=c(this.h[1],$),this.h[2]=c(this.h[2],V),this.h[3]=c(this.h[3],U),this.h[4]=c(this.h[4],E),this.h[5]=c(this.h[5],I),this.h[6]=c(this.h[6],N),this.h[7]=c(this.h[7],w)},j.prototype._digest=function(C){return C==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(r,n,s){var i=r("../utils"),a=r("./512");function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,a),n.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(u){return u==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(r,n,s){var i=r("../utils"),a=r("../common"),o=r("minimalistic-assert"),u=i.rotr64_hi,c=i.rotr64_lo,d=i.shr64_hi,h=i.shr64_lo,f=i.sum64,p=i.sum64_hi,g=i.sum64_lo,y=i.sum64_4_hi,m=i.sum64_4_lo,v=i.sum64_5_hi,b=i.sum64_5_lo,x=a.BlockHash,j=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function C(){if(!(this instanceof C))return new C;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=j,this.W=new Array(160)}function R(k,S,D,O,B){var q=k&D^~k&B;return q<0&&(q+=4294967296),q}function L(k,S,D,O,B,q){var H=S&O^~S&q;return H<0&&(H+=4294967296),H}function A(k,S,D,O,B){var q=k&D^k&B^D&B;return q<0&&(q+=4294967296),q}function P(k,S,D,O,B,q){var H=S&O^S&q^O&q;return H<0&&(H+=4294967296),H}function $(k,S){var D=u(k,S,28)^u(S,k,2)^u(S,k,7);return D<0&&(D+=4294967296),D}function V(k,S){var D=c(k,S,28)^c(S,k,2)^c(S,k,7);return D<0&&(D+=4294967296),D}function U(k,S){var D=u(k,S,14)^u(k,S,18)^u(S,k,9);return D<0&&(D+=4294967296),D}function E(k,S){var D=c(k,S,14)^c(k,S,18)^c(S,k,9);return D<0&&(D+=4294967296),D}function I(k,S){var D=u(k,S,1)^u(k,S,8)^d(k,S,7);return D<0&&(D+=4294967296),D}function N(k,S){var D=c(k,S,1)^c(k,S,8)^h(k,S,7);return D<0&&(D+=4294967296),D}function w(k,S){var D=u(k,S,19)^u(S,k,29)^d(k,S,6);return D<0&&(D+=4294967296),D}function _(k,S){var D=c(k,S,19)^c(S,k,29)^h(k,S,6);return D<0&&(D+=4294967296),D}i.inherits(C,x),n.exports=C,C.blockSize=1024,C.outSize=512,C.hmacStrength=192,C.padLength=128,C.prototype._prepareBlock=function(k,S){for(var D=this.W,O=0;O<32;O++)D[O]=k[S+O];for(;O<D.length;O+=2){var B=w(D[O-4],D[O-3]),q=_(D[O-4],D[O-3]),H=D[O-14],Q=D[O-13],M=I(D[O-30],D[O-29]),K=N(D[O-30],D[O-29]),z=D[O-32],F=D[O-31];D[O]=y(B,q,H,Q,M,K,z,F),D[O+1]=m(B,q,H,Q,M,K,z,F)}},C.prototype._update=function(k,S){this._prepareBlock(k,S);var D=this.W,O=this.h[0],B=this.h[1],q=this.h[2],H=this.h[3],Q=this.h[4],M=this.h[5],K=this.h[6],z=this.h[7],F=this.h[8],W=this.h[9],J=this.h[10],le=this.h[11],ne=this.h[12],ue=this.h[13],Z=this.h[14],te=this.h[15];o(this.k.length===D.length);for(var X=0;X<D.length;X+=2){var ae=Z,re=te,ee=U(F,W),G=E(F,W),Y=R(F,W,J,le,ne),ie=L(F,W,J,le,ne,ue),ce=this.k[X],me=this.k[X+1],xe=D[X],Ce=D[X+1],Ae=v(ae,re,ee,G,Y,ie,ce,me,xe,Ce),$e=b(ae,re,ee,G,Y,ie,ce,me,xe,Ce);ae=$(O,B),re=V(O,B),ee=A(O,B,q,H,Q),G=P(O,B,q,H,Q,M);var Le=p(ae,re,ee,G),rt=g(ae,re,ee,G);Z=ne,te=ue,ne=J,ue=le,J=F,le=W,F=p(K,z,Ae,$e),W=g(z,z,Ae,$e),K=Q,z=M,Q=q,M=H,q=O,H=B,O=p(Ae,$e,Le,rt),B=g(Ae,$e,Le,rt)}f(this.h,0,O,B),f(this.h,2,q,H),f(this.h,4,Q,M),f(this.h,6,K,z),f(this.h,8,F,W),f(this.h,10,J,le),f(this.h,12,ne,ue),f(this.h,14,Z,te)},C.prototype._digest=function(k){return k==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(r,n,s){var i=r("../utils").rotr32;function a(c,d,h){return c&d^~c&h}function o(c,d,h){return c&d^c&h^d&h}function u(c,d,h){return c^d^h}s.ft_1=function(c,d,h,f){return c===0?a(d,h,f):c===1||c===3?u(d,h,f):c===2?o(d,h,f):void 0},s.ch32=a,s.maj32=o,s.p32=u,s.s0_256=function(c){return i(c,2)^i(c,13)^i(c,22)},s.s1_256=function(c){return i(c,6)^i(c,11)^i(c,25)},s.g0_256=function(c){return i(c,7)^i(c,18)^c>>>3},s.g1_256=function(c){return i(c,17)^i(c,19)^c>>>10}},{"../utils":437}],437:[function(r,n,s){var i=r("minimalistic-assert"),a=r("inherits");function o(h,f){return(64512&h.charCodeAt(f))==55296&&!(f<0||f+1>=h.length)&&(64512&h.charCodeAt(f+1))==56320}function u(h){return(h>>>24|h>>>8&65280|h<<8&16711680|(255&h)<<24)>>>0}function c(h){return h.length===1?"0"+h:h}function d(h){return h.length===7?"0"+h:h.length===6?"00"+h:h.length===5?"000"+h:h.length===4?"0000"+h:h.length===3?"00000"+h:h.length===2?"000000"+h:h.length===1?"0000000"+h:h}s.inherits=a,s.toArray=function(h,f){if(Array.isArray(h))return h.slice();if(!h)return[];var p=[];if(typeof h=="string")if(f){if(f==="hex")for((h=h.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(h="0"+h),y=0;y<h.length;y+=2)p.push(parseInt(h[y]+h[y+1],16))}else for(var g=0,y=0;y<h.length;y++){var m=h.charCodeAt(y);m<128?p[g++]=m:m<2048?(p[g++]=m>>6|192,p[g++]=63&m|128):o(h,y)?(m=65536+((1023&m)<<10)+(1023&h.charCodeAt(++y)),p[g++]=m>>18|240,p[g++]=m>>12&63|128,p[g++]=m>>6&63|128,p[g++]=63&m|128):(p[g++]=m>>12|224,p[g++]=m>>6&63|128,p[g++]=63&m|128)}else for(y=0;y<h.length;y++)p[y]=0|h[y];return p},s.toHex=function(h){for(var f="",p=0;p<h.length;p++)f+=c(h[p].toString(16));return f},s.htonl=u,s.toHex32=function(h,f){for(var p="",g=0;g<h.length;g++){var y=h[g];f==="little"&&(y=u(y)),p+=d(y.toString(16))}return p},s.zero2=c,s.zero8=d,s.join32=function(h,f,p,g){var y=p-f;i(y%4==0);for(var m=new Array(y/4),v=0,b=f;v<m.length;v++,b+=4){var x;x=g==="big"?h[b]<<24|h[b+1]<<16|h[b+2]<<8|h[b+3]:h[b+3]<<24|h[b+2]<<16|h[b+1]<<8|h[b],m[v]=x>>>0}return m},s.split32=function(h,f){for(var p=new Array(4*h.length),g=0,y=0;g<h.length;g++,y+=4){var m=h[g];f==="big"?(p[y]=m>>>24,p[y+1]=m>>>16&255,p[y+2]=m>>>8&255,p[y+3]=255&m):(p[y+3]=m>>>24,p[y+2]=m>>>16&255,p[y+1]=m>>>8&255,p[y]=255&m)}return p},s.rotr32=function(h,f){return h>>>f|h<<32-f},s.rotl32=function(h,f){return h<<f|h>>>32-f},s.sum32=function(h,f){return h+f>>>0},s.sum32_3=function(h,f,p){return h+f+p>>>0},s.sum32_4=function(h,f,p,g){return h+f+p+g>>>0},s.sum32_5=function(h,f,p,g,y){return h+f+p+g+y>>>0},s.sum64=function(h,f,p,g){var y=h[f],m=g+h[f+1]>>>0,v=(m<g?1:0)+p+y;h[f]=v>>>0,h[f+1]=m},s.sum64_hi=function(h,f,p,g){return(f+g>>>0<f?1:0)+h+p>>>0},s.sum64_lo=function(h,f,p,g){return f+g>>>0},s.sum64_4_hi=function(h,f,p,g,y,m,v,b){var x=0,j=f;return x+=(j=j+g>>>0)<f?1:0,x+=(j=j+m>>>0)<m?1:0,h+p+y+v+(x+=(j=j+b>>>0)<b?1:0)>>>0},s.sum64_4_lo=function(h,f,p,g,y,m,v,b){return f+g+m+b>>>0},s.sum64_5_hi=function(h,f,p,g,y,m,v,b,x,j){var C=0,R=f;return C+=(R=R+g>>>0)<f?1:0,C+=(R=R+m>>>0)<m?1:0,C+=(R=R+b>>>0)<b?1:0,h+p+y+v+x+(C+=(R=R+j>>>0)<j?1:0)>>>0},s.sum64_5_lo=function(h,f,p,g,y,m,v,b,x,j){return f+g+m+b+j>>>0},s.rotr64_hi=function(h,f,p){return(f<<32-p|h>>>p)>>>0},s.rotr64_lo=function(h,f,p){return(h<<32-p|f>>>p)>>>0},s.shr64_hi=function(h,f,p){return h>>>p},s.shr64_lo=function(h,f,p){return(h<<32-p|f>>>p)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(r,n,s){var i=r("hash.js"),a=r("minimalistic-crypto-utils"),o=r("minimalistic-assert");function u(c){if(!(this instanceof u))return new u(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=a.toArray(c.entropy,c.entropyEnc||"hex"),h=a.toArray(c.nonce,c.nonceEnc||"hex"),f=a.toArray(c.pers,c.persEnc||"hex");o(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,h,f)}n.exports=u,u.prototype._init=function(c,d,h){var f=c.concat(d).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var p=0;p<this.V.length;p++)this.K[p]=0,this.V[p]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},u.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},u.prototype._update=function(c){var d=this._hmac().update(this.V).update([0]);c&&(d=d.update(c)),this.K=d.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},u.prototype.reseed=function(c,d,h,f){typeof d!="string"&&(f=h,h=d,d=null),c=a.toArray(c,d),h=a.toArray(h,f),o(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(h||[])),this._reseed=1},u.prototype.generate=function(c,d,h,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof d!="string"&&(f=h,h=d,d=null),h&&(h=a.toArray(h,f||"hex"),this._update(h));for(var p=[];p.length<c;)this.V=this._hmac().update(this.V).digest(),p=p.concat(this.V);var g=p.slice(0,c);return this._update(h),this._reseed++,a.encode(g,d)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(r,n,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(i,a,o,u,c){var d,h,f=8*c-u-1,p=(1<<f)-1,g=p>>1,y=-7,m=o?c-1:0,v=o?-1:1,b=i[a+m];for(m+=v,d=b&(1<<-y)-1,b>>=-y,y+=f;y>0;d=256*d+i[a+m],m+=v,y-=8);for(h=d&(1<<-y)-1,d>>=-y,y+=u;y>0;h=256*h+i[a+m],m+=v,y-=8);if(d===0)d=1-g;else{if(d===p)return h?NaN:1/0*(b?-1:1);h+=Math.pow(2,u),d-=g}return(b?-1:1)*h*Math.pow(2,d-u)},s.write=function(i,a,o,u,c,d){var h,f,p,g=8*d-c-1,y=(1<<g)-1,m=y>>1,v=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=u?0:d-1,x=u?1:-1,j=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(f=isNaN(a)?1:0,h=y):(h=Math.floor(Math.log(a)/Math.LN2),a*(p=Math.pow(2,-h))<1&&(h--,p*=2),(a+=h+m>=1?v/p:v*Math.pow(2,1-m))*p>=2&&(h++,p/=2),h+m>=y?(f=0,h=y):h+m>=1?(f=(a*p-1)*Math.pow(2,c),h+=m):(f=a*Math.pow(2,m-1)*Math.pow(2,c),h=0));c>=8;i[o+b]=255&f,b+=x,f/=256,c-=8);for(h=h<<c|f,g+=c;g>0;i[o+b]=255&h,b+=x,h/=256,g-=8);i[o+b-x]|=128*j}},{}],440:[function(r,n,s){typeof Object.create=="function"?n.exports=function(i,a){a&&(i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(i,a){if(a){i.super_=a;var o=function(){};o.prototype=a.prototype,i.prototype=new o,i.prototype.constructor=i}}},{}],441:[function(r,n,s){(function(i,a,o,u,c,d,h,f){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(p){typeof s=="object"&&n!==void 0?n.exports=p():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=p()})((function(){return(function p(g,y,m){function v(j,C){if(!y[j]){if(!g[j]){var R=typeof r=="function"&&r;if(!C&&R)return R(j,!0);if(b)return b(j,!0);var L=new Error("Cannot find module '"+j+"'");throw L.code="MODULE_NOT_FOUND",L}var A=y[j]={exports:{}};g[j][0].call(A.exports,(function(P){return v(g[j][1][P]||P)}),A,A.exports,p,g,y,m)}return y[j].exports}for(var b=typeof r=="function"&&r,x=0;x<m.length;x++)v(m[x]);return v})({1:[function(p,g,y){var m=p("./utils"),v=p("./support"),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(x){for(var j,C,R,L,A,P,$,V=[],U=0,E=x.length,I=E,N=m.getTypeOf(x)!=="string";U<x.length;)I=E-U,R=N?(j=x[U++],C=U<E?x[U++]:0,U<E?x[U++]:0):(j=x.charCodeAt(U++),C=U<E?x.charCodeAt(U++):0,U<E?x.charCodeAt(U++):0),L=j>>2,A=(3&j)<<4|C>>4,P=1<I?(15&C)<<2|R>>6:64,$=2<I?63&R:64,V.push(b.charAt(L)+b.charAt(A)+b.charAt(P)+b.charAt($));return V.join("")},y.decode=function(x){var j,C,R,L,A,P,$=0,V=0,U="data:";if(x.substr(0,U.length)===U)throw new Error("Invalid base64 input, it looks like a data url.");var E,I=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===b.charAt(64)&&I--,x.charAt(x.length-2)===b.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=v.uint8array?new Uint8Array(0|I):new Array(0|I);$<x.length;)j=b.indexOf(x.charAt($++))<<2|(L=b.indexOf(x.charAt($++)))>>4,C=(15&L)<<4|(A=b.indexOf(x.charAt($++)))>>2,R=(3&A)<<6|(P=b.indexOf(x.charAt($++))),E[V++]=j,A!==64&&(E[V++]=C),P!==64&&(E[V++]=R);return E}},{"./support":30,"./utils":32}],2:[function(p,g,y){var m=p("./external"),v=p("./stream/DataWorker"),b=p("./stream/Crc32Probe"),x=p("./stream/DataLengthProbe");function j(C,R,L,A,P){this.compressedSize=C,this.uncompressedSize=R,this.crc32=L,this.compression=A,this.compressedContent=P}j.prototype={getContentWorker:function(){var C=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),R=this;return C.on("end",(function(){if(this.streamInfo.data_length!==R.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),C},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},j.createWorkerFrom=function(C,R,L){return C.pipe(new b).pipe(new x("uncompressedSize")).pipe(R.compressWorker(L)).pipe(new x("compressedSize")).withStreamInfo("compression",R)},g.exports=j},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(p,g,y){var m=p("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},y.DEFLATE=p("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(p,g,y){var m=p("./utils"),v=(function(){for(var b,x=[],j=0;j<256;j++){b=j;for(var C=0;C<8;C++)b=1&b?3988292384^b>>>1:b>>>1;x[j]=b}return x})();g.exports=function(b,x){return b!==void 0&&b.length?m.getTypeOf(b)!=="string"?(function(j,C,R,L){var A=v,P=0+R;j^=-1;for(var $=0;$<P;$++)j=j>>>8^A[255&(j^C[$])];return-1^j})(0|x,b,b.length):(function(j,C,R,L){var A=v,P=0+R;j^=-1;for(var $=0;$<P;$++)j=j>>>8^A[255&(j^C.charCodeAt($))];return-1^j})(0|x,b,b.length):0}},{"./utils":32}],5:[function(p,g,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(p,g,y){var m;m=typeof Promise<"u"?Promise:p("lie"),g.exports={Promise:m}},{lie:37}],7:[function(p,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=p("pako"),b=p("./utils"),x=p("./stream/GenericWorker"),j=m?"uint8array":"array";function C(R,L){x.call(this,"FlateWorker/"+R),this._pako=null,this._pakoAction=R,this._pakoOptions=L,this.meta={}}y.magic="\b\0",b.inherits(C,x),C.prototype.processChunk=function(R){this.meta=R.meta,this._pako===null&&this._createPako(),this._pako.push(b.transformTo(j,R.data),!1)},C.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},C.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},C.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var R=this;this._pako.onData=function(L){R.push({data:L,meta:R.meta})}},y.compressWorker=function(R){return new C("Deflate",R)},y.uncompressWorker=function(){return new C("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(p,g,y){function m(A,P){var $,V="";for($=0;$<P;$++)V+=String.fromCharCode(255&A),A>>>=8;return V}function v(A,P,$,V,U,E){var I,N,w=A.file,_=A.compression,k=E!==j.utf8encode,S=b.transformTo("string",E(w.name)),D=b.transformTo("string",j.utf8encode(w.name)),O=w.comment,B=b.transformTo("string",E(O)),q=b.transformTo("string",j.utf8encode(O)),H=D.length!==w.name.length,Q=q.length!==O.length,M="",K="",z="",F=w.dir,W=w.date,J={crc32:0,compressedSize:0,uncompressedSize:0};P&&!$||(J.crc32=A.crc32,J.compressedSize=A.compressedSize,J.uncompressedSize=A.uncompressedSize);var le=0;P&&(le|=8),k||!H&&!Q||(le|=2048);var ne=0,ue=0;F&&(ne|=16),U==="UNIX"?(ue=798,ne|=(function(te,X){var ae=te;return te||(ae=X?16893:33204),(65535&ae)<<16})(w.unixPermissions,F)):(ue=20,ne|=(function(te){return 63&(te||0)})(w.dosPermissions)),I=W.getUTCHours(),I<<=6,I|=W.getUTCMinutes(),I<<=5,I|=W.getUTCSeconds()/2,N=W.getUTCFullYear()-1980,N<<=4,N|=W.getUTCMonth()+1,N<<=5,N|=W.getUTCDate(),H&&(K=m(1,1)+m(C(S),4)+D,M+="up"+m(K.length,2)+K),Q&&(z=m(1,1)+m(C(B),4)+q,M+="uc"+m(z.length,2)+z);var Z="";return Z+=`
\0`,Z+=m(le,2),Z+=_.magic,Z+=m(I,2),Z+=m(N,2),Z+=m(J.crc32,4),Z+=m(J.compressedSize,4),Z+=m(J.uncompressedSize,4),Z+=m(S.length,2),Z+=m(M.length,2),{fileRecord:R.LOCAL_FILE_HEADER+Z+S+M,dirRecord:R.CENTRAL_FILE_HEADER+m(ue,2)+Z+m(B.length,2)+"\0\0\0\0"+m(ne,4)+m(V,4)+S+M+B}}var b=p("../utils"),x=p("../stream/GenericWorker"),j=p("../utf8"),C=p("../crc32"),R=p("../signature");function L(A,P,$,V){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=P,this.zipPlatform=$,this.encodeFileName=V,this.streamFiles=A,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}b.inherits(L,x),L.prototype.push=function(A){var P=A.meta.percent||0,$=this.entriesCount,V=this._sources.length;this.accumulate?this.contentBuffer.push(A):(this.bytesWritten+=A.data.length,x.prototype.push.call(this,{data:A.data,meta:{currentFile:this.currentFile,percent:$?(P+100*($-V-1))/$:100}}))},L.prototype.openedSource=function(A){this.currentSourceOffset=this.bytesWritten,this.currentFile=A.file.name;var P=this.streamFiles&&!A.file.dir;if(P){var $=v(A,P,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:$.fileRecord,meta:{percent:0}})}else this.accumulate=!0},L.prototype.closedSource=function(A){this.accumulate=!1;var P=this.streamFiles&&!A.file.dir,$=v(A,P,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push($.dirRecord),P)this.push({data:(function(V){return R.DATA_DESCRIPTOR+m(V.crc32,4)+m(V.compressedSize,4)+m(V.uncompressedSize,4)})(A),meta:{percent:100}});else for(this.push({data:$.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},L.prototype.flush=function(){for(var A=this.bytesWritten,P=0;P<this.dirRecords.length;P++)this.push({data:this.dirRecords[P],meta:{percent:100}});var $=this.bytesWritten-A,V=(function(U,E,I,N,w){var _=b.transformTo("string",w(N));return R.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(U,2)+m(U,2)+m(E,4)+m(I,4)+m(_.length,2)+_})(this.dirRecords.length,$,A,this.zipComment,this.encodeFileName);this.push({data:V,meta:{percent:100}})},L.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},L.prototype.registerPrevious=function(A){this._sources.push(A);var P=this;return A.on("data",(function($){P.processChunk($)})),A.on("end",(function(){P.closedSource(P.previous.streamInfo),P._sources.length?P.prepareNextSource():P.end()})),A.on("error",(function($){P.error($)})),this},L.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},L.prototype.error=function(A){var P=this._sources;if(!x.prototype.error.call(this,A))return!1;for(var $=0;$<P.length;$++)try{P[$].error(A)}catch{}return!0},L.prototype.lock=function(){x.prototype.lock.call(this);for(var A=this._sources,P=0;P<A.length;P++)A[P].lock()},g.exports=L},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(p,g,y){var m=p("../compressions"),v=p("./ZipFileWorker");y.generateWorker=function(b,x,j){var C=new v(x.streamFiles,j,x.platform,x.encodeFileName),R=0;try{b.forEach((function(L,A){R++;var P=(function(E,I){var N=E||I,w=m[N];if(!w)throw new Error(N+" is not a valid compression method !");return w})(A.options.compression,x.compression),$=A.options.compressionOptions||x.compressionOptions||{},V=A.dir,U=A.date;A._compressWorker(P,$).withStreamInfo("file",{name:L,dir:V,date:U,comment:A.comment||"",unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions}).pipe(C)})),C.entriesCount=R}catch(L){C.error(L)}return C}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(p,g,y){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var b in this)typeof this[b]!="function"&&(v[b]=this[b]);return v}}(m.prototype=p("./object")).loadAsync=p("./load"),m.support=p("./support"),m.defaults=p("./defaults"),m.version="3.10.1",m.loadAsync=function(v,b){return new m().loadAsync(v,b)},m.external=p("./external"),g.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(p,g,y){var m=p("./utils"),v=p("./external"),b=p("./utf8"),x=p("./zipEntries"),j=p("./stream/Crc32Probe"),C=p("./nodejsUtils");function R(L){return new v.Promise((function(A,P){var $=L.decompressed.getContentWorker().pipe(new j);$.on("error",(function(V){P(V)})).on("end",(function(){$.streamInfo.crc32!==L.decompressed.crc32?P(new Error("Corrupted zip : CRC32 mismatch")):A()})).resume()}))}g.exports=function(L,A){var P=this;return A=m.extend(A||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:b.utf8decode}),C.isNode&&C.isStream(L)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",L,!0,A.optimizedBinaryString,A.base64).then((function($){var V=new x(A);return V.load($),V})).then((function($){var V=[v.Promise.resolve($)],U=$.files;if(A.checkCRC32)for(var E=0;E<U.length;E++)V.push(R(U[E]));return v.Promise.all(V)})).then((function($){for(var V=$.shift(),U=V.files,E=0;E<U.length;E++){var I=U[E],N=I.fileNameStr,w=m.resolve(I.fileNameStr);P.file(w,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:A.createFolders}),I.dir||(P.file(w).unsafeOriginalName=N)}return V.zipComment.length&&(P.comment=V.zipComment),P}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(p,g,y){var m=p("../utils"),v=p("../stream/GenericWorker");function b(x,j){v.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(j)}m.inherits(b,v),b.prototype._bindStream=function(x){var j=this;(this._stream=x).pause(),x.on("data",(function(C){j.push({data:C,meta:{percent:0}})})).on("error",(function(C){j.isPaused?this.generatedError=C:j.error(C)})).on("end",(function(){j.isPaused?j._upstreamEnded=!0:j.end()}))},b.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},b.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=b},{"../stream/GenericWorker":28,"../utils":32}],13:[function(p,g,y){var m=p("readable-stream").Readable;function v(b,x,j){m.call(this,x),this._helper=b;var C=this;b.on("data",(function(R,L){C.push(R)||C._helper.pause(),j&&j(L)})).on("error",(function(R){C.emit("error",R)})).on("end",(function(){C.push(null)}))}p("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},g.exports=v},{"../utils":32,"readable-stream":16}],14:[function(p,g,y){g.exports={isNode:o!==void 0,newBufferFrom:function(m,v){if(o.from&&o.from!==Uint8Array.from)return o.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new o(m,v)},allocBuffer:function(m){if(o.alloc)return o.alloc(m);var v=new o(m);return v.fill(0),v},isBuffer:function(m){return o.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(p,g,y){function m(w,_,k){var S,D=b.getTypeOf(_),O=b.extend(k||{},C);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(w=U(w)),O.createFolders&&(S=V(w))&&E.call(this,S,!0);var B=D==="string"&&O.binary===!1&&O.base64===!1;k&&k.binary!==void 0||(O.binary=!B),(_ instanceof R&&_.uncompressedSize===0||O.dir||!_||_.length===0)&&(O.base64=!1,O.binary=!0,_="",O.compression="STORE",D="string");var q;q=_ instanceof R||_ instanceof x?_:P.isNode&&P.isStream(_)?new $(w,_):b.prepareContent(w,_,O.binary,O.optimizedBinaryString,O.base64);var H=new L(w,q,O);this.files[w]=H}var v=p("./utf8"),b=p("./utils"),x=p("./stream/GenericWorker"),j=p("./stream/StreamHelper"),C=p("./defaults"),R=p("./compressedObject"),L=p("./zipObject"),A=p("./generate"),P=p("./nodejsUtils"),$=p("./nodejs/NodejsStreamInputAdapter"),V=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var _=w.lastIndexOf("/");return 0<_?w.substring(0,_):""},U=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},E=function(w,_){return _=_!==void 0?_:C.createFolders,w=U(w),this.files[w]||m.call(this,w,null,{dir:!0,createFolders:_}),this.files[w]};function I(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var _,k,S;for(_ in this.files)S=this.files[_],(k=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&w(k,S)},filter:function(w){var _=[];return this.forEach((function(k,S){w(k,S)&&_.push(S)})),_},file:function(w,_,k){if(arguments.length!==1)return w=this.root+w,m.call(this,w,_,k),this;if(I(w)){var S=w;return this.filter((function(O,B){return!B.dir&&S.test(O)}))}var D=this.files[this.root+w];return D&&!D.dir?D:null},folder:function(w){if(!w)return this;if(I(w))return this.filter((function(D,O){return O.dir&&w.test(D)}));var _=this.root+w,k=E.call(this,_),S=this.clone();return S.root=k.name,S},remove:function(w){w=this.root+w;var _=this.files[w];if(_||(w.slice(-1)!=="/"&&(w+="/"),_=this.files[w]),_&&!_.dir)delete this.files[w];else for(var k=this.filter((function(D,O){return O.name.slice(0,w.length)===w})),S=0;S<k.length;S++)delete this.files[k[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var _,k={};try{if((k=b.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");b.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var S=k.comment||this.comment||"";_=A.generateWorker(this,k,S)}catch(D){(_=new x("error")).error(D)}return new j(_,k.type||"string",k.mimeType)},generateAsync:function(w,_){return this.generateInternalStream(w).accumulate(_)},generateNodeStream:function(w,_){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(_)}};g.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(p,g,y){g.exports=p("stream")},{stream:void 0}],17:[function(p,g,y){var m=p("./DataReader");function v(b){m.call(this,b);for(var x=0;x<this.data.length;x++)b[x]=255&b[x]}p("../utils").inherits(v,m),v.prototype.byteAt=function(b){return this.data[this.zero+b]},v.prototype.lastIndexOfSignature=function(b){for(var x=b.charCodeAt(0),j=b.charCodeAt(1),C=b.charCodeAt(2),R=b.charCodeAt(3),L=this.length-4;0<=L;--L)if(this.data[L]===x&&this.data[L+1]===j&&this.data[L+2]===C&&this.data[L+3]===R)return L-this.zero;return-1},v.prototype.readAndCheckSignature=function(b){var x=b.charCodeAt(0),j=b.charCodeAt(1),C=b.charCodeAt(2),R=b.charCodeAt(3),L=this.readData(4);return x===L[0]&&j===L[1]&&C===L[2]&&R===L[3]},v.prototype.readData=function(b){if(this.checkOffset(b),b===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,x},g.exports=v},{"../utils":32,"./DataReader":18}],18:[function(p,g,y){var m=p("../utils");function v(b){this.data=b,this.length=b.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||b<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+b+"). Corrupted zip ?")},setIndex:function(b){this.checkIndex(b),this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(){},readInt:function(b){var x,j=0;for(this.checkOffset(b),x=this.index+b-1;x>=this.index;x--)j=(j<<8)+this.byteAt(x);return this.index+=b,j},readString:function(b){return m.transformTo("string",this.readData(b))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var b=this.readInt(4);return new Date(Date.UTC(1980+(b>>25&127),(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}},g.exports=v},{"../utils":32}],19:[function(p,g,y){var m=p("./Uint8ArrayReader");function v(b){m.call(this,b)}p("../utils").inherits(v,m),v.prototype.readData=function(b){this.checkOffset(b);var x=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,x},g.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(p,g,y){var m=p("./DataReader");function v(b){m.call(this,b)}p("../utils").inherits(v,m),v.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)},v.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero},v.prototype.readAndCheckSignature=function(b){return b===this.readData(4)},v.prototype.readData=function(b){this.checkOffset(b);var x=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,x},g.exports=v},{"../utils":32,"./DataReader":18}],21:[function(p,g,y){var m=p("./ArrayReader");function v(b){m.call(this,b)}p("../utils").inherits(v,m),v.prototype.readData=function(b){if(this.checkOffset(b),b===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,x},g.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(p,g,y){var m=p("../utils"),v=p("../support"),b=p("./ArrayReader"),x=p("./StringReader"),j=p("./NodeBufferReader"),C=p("./Uint8ArrayReader");g.exports=function(R){var L=m.getTypeOf(R);return m.checkSupport(L),L!=="string"||v.uint8array?L==="nodebuffer"?new j(R):v.uint8array?new C(m.transformTo("uint8array",R)):new b(m.transformTo("array",R)):new x(R)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(p,g,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(p,g,y){var m=p("./GenericWorker"),v=p("../utils");function b(x){m.call(this,"ConvertWorker to "+x),this.destType=x}v.inherits(b,m),b.prototype.processChunk=function(x){this.push({data:v.transformTo(this.destType,x.data),meta:x.meta})},g.exports=b},{"../utils":32,"./GenericWorker":28}],25:[function(p,g,y){var m=p("./GenericWorker"),v=p("../crc32");function b(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}p("../utils").inherits(b,m),b.prototype.processChunk=function(x){this.streamInfo.crc32=v(x.data,this.streamInfo.crc32||0),this.push(x)},g.exports=b},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(p,g,y){var m=p("../utils"),v=p("./GenericWorker");function b(x){v.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}m.inherits(b,v),b.prototype.processChunk=function(x){if(x){var j=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=j+x.data.length}v.prototype.processChunk.call(this,x)},g.exports=b},{"../utils":32,"./GenericWorker":28}],27:[function(p,g,y){var m=p("../utils"),v=p("./GenericWorker");function b(x){v.call(this,"DataWorker");var j=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then((function(C){j.dataIsReady=!0,j.data=C,j.max=C&&C.length||0,j.type=m.getTypeOf(C),j.isPaused||j._tickAndRepeat()}),(function(C){j.error(C)}))}m.inherits(b,v),b.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},b.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},b.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},b.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,j=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,j);break;case"uint8array":x=this.data.subarray(this.index,j);break;case"array":case"nodebuffer":x=this.data.slice(this.index,j)}return this.index=j,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=b},{"../utils":32,"./GenericWorker":28}],28:[function(p,g,y){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,b){return this._listeners[v].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,b){if(this._listeners[v])for(var x=0;x<this._listeners[v].length;x++)this._listeners[v][x].call(this,b)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var b=this;return v.on("data",(function(x){b.processChunk(x)})),v.on("end",(function(){b.end()})),v.on("error",(function(x){b.error(x)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,b){return this.extraStreamInfo[v]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},g.exports=m},{}],29:[function(p,g,y){var m=p("../utils"),v=p("./ConvertWorker"),b=p("./GenericWorker"),x=p("../base64"),j=p("../support"),C=p("../external"),R=null;if(j.nodestream)try{R=p("../nodejs/NodejsStreamOutputAdapter")}catch{}function L(A,P,$){var V=P;switch(P){case"blob":case"arraybuffer":V="uint8array";break;case"base64":V="string"}try{this._internalType=V,this._outputType=P,this._mimeType=$,m.checkSupport(V),this._worker=A.pipe(new v(V)),A.lock()}catch(U){this._worker=new b("error"),this._worker.error(U)}}L.prototype={accumulate:function(A){return(function(P,$){return new C.Promise((function(V,U){var E=[],I=P._internalType,N=P._outputType,w=P._mimeType;P.on("data",(function(_,k){E.push(_),$&&$(k)})).on("error",(function(_){E=[],U(_)})).on("end",(function(){try{var _=(function(k,S,D){switch(k){case"blob":return m.newBlob(m.transformTo("arraybuffer",S),D);case"base64":return x.encode(S);default:return m.transformTo(k,S)}})(N,(function(k,S){var D,O=0,B=null,q=0;for(D=0;D<S.length;D++)q+=S[D].length;switch(k){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(B=new Uint8Array(q),D=0;D<S.length;D++)B.set(S[D],O),O+=S[D].length;return B;case"nodebuffer":return o.concat(S);default:throw new Error("concat : unsupported type '"+k+"'")}})(I,E),w);V(_)}catch(k){U(k)}E=[]})).resume()}))})(this,A)},on:function(A,P){var $=this;return A==="data"?this._worker.on(A,(function(V){P.call($,V.data,V.meta)})):this._worker.on(A,(function(){m.delay(P,arguments,$)})),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new R(this,{objectMode:this._outputType!=="nodebuffer"},A)}},g.exports=L},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(p,g,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=o!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var m=new ArrayBuffer(0);try{y.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),y.blob=v.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!p("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(p,g,y){for(var m=p("./utils"),v=p("./support"),b=p("./nodejsUtils"),x=p("./stream/GenericWorker"),j=new Array(256),C=0;C<256;C++)j[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function R(){x.call(this,"utf-8 decode"),this.leftOver=null}function L(){x.call(this,"utf-8 encode")}j[254]=j[254]=1,y.utf8encode=function(A){return v.nodebuffer?b.newBufferFrom(A,"utf-8"):(function(P){var $,V,U,E,I,N=P.length,w=0;for(E=0;E<N;E++)(64512&(V=P.charCodeAt(E)))==55296&&E+1<N&&(64512&(U=P.charCodeAt(E+1)))==56320&&(V=65536+(V-55296<<10)+(U-56320),E++),w+=V<128?1:V<2048?2:V<65536?3:4;for($=v.uint8array?new Uint8Array(w):new Array(w),E=I=0;I<w;E++)(64512&(V=P.charCodeAt(E)))==55296&&E+1<N&&(64512&(U=P.charCodeAt(E+1)))==56320&&(V=65536+(V-55296<<10)+(U-56320),E++),V<128?$[I++]=V:(V<2048?$[I++]=192|V>>>6:(V<65536?$[I++]=224|V>>>12:($[I++]=240|V>>>18,$[I++]=128|V>>>12&63),$[I++]=128|V>>>6&63),$[I++]=128|63&V);return $})(A)},y.utf8decode=function(A){return v.nodebuffer?m.transformTo("nodebuffer",A).toString("utf-8"):(function(P){var $,V,U,E,I=P.length,N=new Array(2*I);for($=V=0;$<I;)if((U=P[$++])<128)N[V++]=U;else if(4<(E=j[U]))N[V++]=65533,$+=E-1;else{for(U&=E===2?31:E===3?15:7;1<E&&$<I;)U=U<<6|63&P[$++],E--;1<E?N[V++]=65533:U<65536?N[V++]=U:(U-=65536,N[V++]=55296|U>>10&1023,N[V++]=56320|1023&U)}return N.length!==V&&(N.subarray?N=N.subarray(0,V):N.length=V),m.applyFromCharCode(N)})(A=m.transformTo(v.uint8array?"uint8array":"array",A))},m.inherits(R,x),R.prototype.processChunk=function(A){var P=m.transformTo(v.uint8array?"uint8array":"array",A.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var $=P;(P=new Uint8Array($.length+this.leftOver.length)).set(this.leftOver,0),P.set($,this.leftOver.length)}else P=this.leftOver.concat(P);this.leftOver=null}var V=(function(E,I){var N;for((I=I||E.length)>E.length&&(I=E.length),N=I-1;0<=N&&(192&E[N])==128;)N--;return N<0||N===0?I:N+j[E[N]]>I?N:I})(P),U=P;V!==P.length&&(v.uint8array?(U=P.subarray(0,V),this.leftOver=P.subarray(V,P.length)):(U=P.slice(0,V),this.leftOver=P.slice(V,P.length))),this.push({data:y.utf8decode(U),meta:A.meta})},R.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=R,m.inherits(L,x),L.prototype.processChunk=function(A){this.push({data:y.utf8encode(A.data),meta:A.meta})},y.Utf8EncodeWorker=L},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(p,g,y){var m=p("./support"),v=p("./base64"),b=p("./nodejsUtils"),x=p("./external");function j($){return $}function C($,V){for(var U=0;U<$.length;++U)V[U]=255&$.charCodeAt(U);return V}p("setimmediate"),y.newBlob=function($,V){y.checkSupport("blob");try{return new Blob([$],{type:V})}catch{try{var U=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return U.append($),U.getBlob(V)}catch{throw new Error("Bug : can't construct the Blob.")}}};var R={stringifyByChunk:function($,V,U){var E=[],I=0,N=$.length;if(N<=U)return String.fromCharCode.apply(null,$);for(;I<N;)V==="array"||V==="nodebuffer"?E.push(String.fromCharCode.apply(null,$.slice(I,Math.min(I+U,N)))):E.push(String.fromCharCode.apply(null,$.subarray(I,Math.min(I+U,N)))),I+=U;return E.join("")},stringifyByChar:function($){for(var V="",U=0;U<$.length;U++)V+=String.fromCharCode($[U]);return V},applyCanBeUsed:{uint8array:(function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,b.allocBuffer(1)).length===1}catch{return!1}})()}};function L($){var V=65536,U=y.getTypeOf($),E=!0;if(U==="uint8array"?E=R.applyCanBeUsed.uint8array:U==="nodebuffer"&&(E=R.applyCanBeUsed.nodebuffer),E)for(;1<V;)try{return R.stringifyByChunk($,U,V)}catch{V=Math.floor(V/2)}return R.stringifyByChar($)}function A($,V){for(var U=0;U<$.length;U++)V[U]=$[U];return V}y.applyFromCharCode=L;var P={};P.string={string:j,array:function($){return C($,new Array($.length))},arraybuffer:function($){return P.string.uint8array($).buffer},uint8array:function($){return C($,new Uint8Array($.length))},nodebuffer:function($){return C($,b.allocBuffer($.length))}},P.array={string:L,array:j,arraybuffer:function($){return new Uint8Array($).buffer},uint8array:function($){return new Uint8Array($)},nodebuffer:function($){return b.newBufferFrom($)}},P.arraybuffer={string:function($){return L(new Uint8Array($))},array:function($){return A(new Uint8Array($),new Array($.byteLength))},arraybuffer:j,uint8array:function($){return new Uint8Array($)},nodebuffer:function($){return b.newBufferFrom(new Uint8Array($))}},P.uint8array={string:L,array:function($){return A($,new Array($.length))},arraybuffer:function($){return $.buffer},uint8array:j,nodebuffer:function($){return b.newBufferFrom($)}},P.nodebuffer={string:L,array:function($){return A($,new Array($.length))},arraybuffer:function($){return P.nodebuffer.uint8array($).buffer},uint8array:function($){return A($,new Uint8Array($.length))},nodebuffer:j},y.transformTo=function($,V){if(V=V||"",!$)return V;y.checkSupport($);var U=y.getTypeOf(V);return P[U][$](V)},y.resolve=function($){for(var V=$.split("/"),U=[],E=0;E<V.length;E++){var I=V[E];I==="."||I===""&&E!==0&&E!==V.length-1||(I===".."?U.pop():U.push(I))}return U.join("/")},y.getTypeOf=function($){return typeof $=="string"?"string":Object.prototype.toString.call($)==="[object Array]"?"array":m.nodebuffer&&b.isBuffer($)?"nodebuffer":m.uint8array&&$ instanceof Uint8Array?"uint8array":m.arraybuffer&&$ instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function($){if(!m[$.toLowerCase()])throw new Error($+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function($){var V,U,E="";for(U=0;U<($||"").length;U++)E+="\\x"+((V=$.charCodeAt(U))<16?"0":"")+V.toString(16).toUpperCase();return E},y.delay=function($,V,U){f((function(){$.apply(U||null,V||[])}))},y.inherits=function($,V){function U(){}U.prototype=V.prototype,$.prototype=new U},y.extend=function(){var $,V,U={};for($=0;$<arguments.length;$++)for(V in arguments[$])Object.prototype.hasOwnProperty.call(arguments[$],V)&&U[V]===void 0&&(U[V]=arguments[$][V]);return U},y.prepareContent=function($,V,U,E,I){return x.Promise.resolve(V).then((function(N){return m.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new x.Promise((function(w,_){var k=new FileReader;k.onload=function(S){w(S.target.result)},k.onerror=function(S){_(S.target.error)},k.readAsArrayBuffer(N)})):N})).then((function(N){var w=y.getTypeOf(N);return w?(w==="arraybuffer"?N=y.transformTo("uint8array",N):w==="string"&&(I?N=v.decode(N):U&&E!==!0&&(N=(function(_){return C(_,m.uint8array?new Uint8Array(_.length):new Array(_.length))})(N))),N):x.Promise.reject(new Error("Can't read the data of '"+$+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(p,g,y){var m=p("./reader/readerFor"),v=p("./utils"),b=p("./signature"),x=p("./zipEntry"),j=p("./support");function C(R){this.files=[],this.loadOptions=R}C.prototype={checkSignature:function(R){if(!this.reader.readAndCheckSignature(R)){this.reader.index-=4;var L=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(L)+", expected "+v.pretty(R)+")")}},isSignature:function(R,L){var A=this.reader.index;this.reader.setIndex(R);var P=this.reader.readString(4)===L;return this.reader.setIndex(A),P},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var R=this.reader.readData(this.zipCommentLength),L=j.uint8array?"uint8array":"array",A=v.transformTo(L,R);this.zipComment=this.loadOptions.decodeFileName(A)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var R,L,A,P=this.zip64EndOfCentralSize-44;0<P;)R=this.reader.readInt(2),L=this.reader.readInt(4),A=this.reader.readData(L),this.zip64ExtensibleData[R]={id:R,length:L,value:A}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var R,L;for(R=0;R<this.files.length;R++)L=this.files[R],this.reader.setIndex(L.localHeaderOffset),this.checkSignature(b.LOCAL_FILE_HEADER),L.readLocalPart(this.reader),L.handleUTF8(),L.processAttributes()},readCentralDir:function(){var R;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(b.CENTRAL_FILE_HEADER);)(R=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(R);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var R=this.reader.lastIndexOfSignature(b.CENTRAL_DIRECTORY_END);if(R<0)throw this.isSignature(0,b.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(R);var L=R;if(this.checkSignature(b.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(R=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(R),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,b.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var A=this.centralDirOffset+this.centralDirSize;this.zip64&&(A+=20,A+=12+this.zip64EndOfCentralSize);var P=L-A;if(0<P)this.isSignature(L,b.CENTRAL_FILE_HEADER)||(this.reader.zero=P);else if(P<0)throw new Error("Corrupted zip: missing "+Math.abs(P)+" bytes.")},prepareReader:function(R){this.reader=m(R)},load:function(R){this.prepareReader(R),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=C},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(p,g,y){var m=p("./reader/readerFor"),v=p("./utils"),b=p("./compressedObject"),x=p("./crc32"),j=p("./utf8"),C=p("./compressions"),R=p("./support");function L(A,P){this.options=A,this.loadOptions=P}L.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(A){var P,$;if(A.skip(22),this.fileNameLength=A.readInt(2),$=A.readInt(2),this.fileName=A.readData(this.fileNameLength),A.skip($),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((P=(function(V){for(var U in C)if(Object.prototype.hasOwnProperty.call(C,U)&&C[U].magic===V)return C[U];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new b(this.compressedSize,this.uncompressedSize,this.crc32,P,A.readData(this.compressedSize))},readCentralPart:function(A){this.versionMadeBy=A.readInt(2),A.skip(2),this.bitFlag=A.readInt(2),this.compressionMethod=A.readString(2),this.date=A.readDate(),this.crc32=A.readInt(4),this.compressedSize=A.readInt(4),this.uncompressedSize=A.readInt(4);var P=A.readInt(2);if(this.extraFieldsLength=A.readInt(2),this.fileCommentLength=A.readInt(2),this.diskNumberStart=A.readInt(2),this.internalFileAttributes=A.readInt(2),this.externalFileAttributes=A.readInt(4),this.localHeaderOffset=A.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");A.skip(P),this.readExtraFields(A),this.parseZIP64ExtraField(A),this.fileComment=A.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var A=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),A==0&&(this.dosPermissions=63&this.externalFileAttributes),A==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var A=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=A.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=A.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=A.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=A.readInt(4))}},readExtraFields:function(A){var P,$,V,U=A.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});A.index+4<U;)P=A.readInt(2),$=A.readInt(2),V=A.readData($),this.extraFields[P]={id:P,length:$,value:V};A.setIndex(U)},handleUTF8:function(){var A=R.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=j.utf8decode(this.fileName),this.fileCommentStr=j.utf8decode(this.fileComment);else{var P=this.findExtraFieldUnicodePath();if(P!==null)this.fileNameStr=P;else{var $=v.transformTo(A,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName($)}var V=this.findExtraFieldUnicodeComment();if(V!==null)this.fileCommentStr=V;else{var U=v.transformTo(A,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(U)}}},findExtraFieldUnicodePath:function(){var A=this.extraFields[28789];if(A){var P=m(A.value);return P.readInt(1)!==1||x(this.fileName)!==P.readInt(4)?null:j.utf8decode(P.readData(A.length-5))}return null},findExtraFieldUnicodeComment:function(){var A=this.extraFields[25461];if(A){var P=m(A.value);return P.readInt(1)!==1||x(this.fileComment)!==P.readInt(4)?null:j.utf8decode(P.readData(A.length-5))}return null}},g.exports=L},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(p,g,y){function m(P,$,V){this.name=P,this.dir=V.dir,this.date=V.date,this.comment=V.comment,this.unixPermissions=V.unixPermissions,this.dosPermissions=V.dosPermissions,this._data=$,this._dataBinary=V.binary,this.options={compression:V.compression,compressionOptions:V.compressionOptions}}var v=p("./stream/StreamHelper"),b=p("./stream/DataWorker"),x=p("./utf8"),j=p("./compressedObject"),C=p("./stream/GenericWorker");m.prototype={internalStream:function(P){var $=null,V="string";try{if(!P)throw new Error("No output type specified.");var U=(V=P.toLowerCase())==="string"||V==="text";V!=="binarystring"&&V!=="text"||(V="string"),$=this._decompressWorker();var E=!this._dataBinary;E&&!U&&($=$.pipe(new x.Utf8EncodeWorker)),!E&&U&&($=$.pipe(new x.Utf8DecodeWorker))}catch(I){($=new C("error")).error(I)}return new v($,V,"")},async:function(P,$){return this.internalStream(P).accumulate($)},nodeStream:function(P,$){return this.internalStream(P||"nodebuffer").toNodejsStream($)},_compressWorker:function(P,$){if(this._data instanceof j&&this._data.compression.magic===P.magic)return this._data.getCompressedWorker();var V=this._decompressWorker();return this._dataBinary||(V=V.pipe(new x.Utf8EncodeWorker)),j.createWorkerFrom(V,P,$)},_decompressWorker:function(){return this._data instanceof j?this._data.getContentWorker():this._data instanceof C?this._data:new b(this._data)}};for(var R=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],L=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},A=0;A<R.length;A++)m.prototype[R[A]]=L;g.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(p,g,y){(function(m){var v,b,x=m.MutationObserver||m.WebKitMutationObserver;if(x){var j=0,C=new x(P),R=m.document.createTextNode("");C.observe(R,{characterData:!0}),v=function(){R.data=j=++j%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var $=m.document.createElement("script");$.onreadystatechange=function(){P(),$.onreadystatechange=null,$.parentNode.removeChild($),$=null},m.document.documentElement.appendChild($)}:function(){setTimeout(P,0)};else{var L=new m.MessageChannel;L.port1.onmessage=P,v=function(){L.port2.postMessage(0)}}var A=[];function P(){var $,V;b=!0;for(var U=A.length;U;){for(V=A,A=[],$=-1;++$<U;)V[$]();U=A.length}b=!1}g.exports=function($){A.push($)!==1||b||v()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(p,g,y){var m=p("immediate");function v(){}var b={},x=["REJECTED"],j=["FULFILLED"],C=["PENDING"];function R(U){if(typeof U!="function")throw new TypeError("resolver must be a function");this.state=C,this.queue=[],this.outcome=void 0,U!==v&&$(this,U)}function L(U,E,I){this.promise=U,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function A(U,E,I){m((function(){var N;try{N=E(I)}catch(w){return b.reject(U,w)}N===U?b.reject(U,new TypeError("Cannot resolve promise with itself")):b.resolve(U,N)}))}function P(U){var E=U&&U.then;if(U&&(typeof U=="object"||typeof U=="function")&&typeof E=="function")return function(){E.apply(U,arguments)}}function $(U,E){var I=!1;function N(k){I||(I=!0,b.reject(U,k))}function w(k){I||(I=!0,b.resolve(U,k))}var _=V((function(){E(w,N)}));_.status==="error"&&N(_.value)}function V(U,E){var I={};try{I.value=U(E),I.status="success"}catch(N){I.status="error",I.value=N}return I}(g.exports=R).prototype.finally=function(U){if(typeof U!="function")return this;var E=this.constructor;return this.then((function(I){return E.resolve(U()).then((function(){return I}))}),(function(I){return E.resolve(U()).then((function(){throw I}))}))},R.prototype.catch=function(U){return this.then(null,U)},R.prototype.then=function(U,E){if(typeof U!="function"&&this.state===j||typeof E!="function"&&this.state===x)return this;var I=new this.constructor(v);return this.state!==C?A(I,this.state===j?U:E,this.outcome):this.queue.push(new L(I,U,E)),I},L.prototype.callFulfilled=function(U){b.resolve(this.promise,U)},L.prototype.otherCallFulfilled=function(U){A(this.promise,this.onFulfilled,U)},L.prototype.callRejected=function(U){b.reject(this.promise,U)},L.prototype.otherCallRejected=function(U){A(this.promise,this.onRejected,U)},b.resolve=function(U,E){var I=V(P,E);if(I.status==="error")return b.reject(U,I.value);var N=I.value;if(N)$(U,N);else{U.state=j,U.outcome=E;for(var w=-1,_=U.queue.length;++w<_;)U.queue[w].callFulfilled(E)}return U},b.reject=function(U,E){U.state=x,U.outcome=E;for(var I=-1,N=U.queue.length;++I<N;)U.queue[I].callRejected(E);return U},R.resolve=function(U){return U instanceof this?U:b.resolve(new this(v),U)},R.reject=function(U){var E=new this(v);return b.reject(E,U)},R.all=function(U){var E=this;if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=U.length,N=!1;if(!I)return this.resolve([]);for(var w=new Array(I),_=0,k=-1,S=new this(v);++k<I;)D(U[k],k);return S;function D(O,B){E.resolve(O).then((function(q){w[B]=q,++_!==I||N||(N=!0,b.resolve(S,w))}),(function(q){N||(N=!0,b.reject(S,q))}))}},R.race=function(U){if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=U.length,I=!1;if(!E)return this.resolve([]);for(var N,w=-1,_=new this(v);++w<E;)N=U[w],this.resolve(N).then((function(k){I||(I=!0,b.resolve(_,k))}),(function(k){I||(I=!0,b.reject(_,k))}));return _}},{immediate:36}],38:[function(p,g,y){var m={};(0,p("./lib/utils/common").assign)(m,p("./lib/deflate"),p("./lib/inflate"),p("./lib/zlib/constants")),g.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(p,g,y){var m=p("./zlib/deflate"),v=p("./utils/common"),b=p("./utils/strings"),x=p("./zlib/messages"),j=p("./zlib/zstream"),C=Object.prototype.toString;function R(A){if(!(this instanceof R))return new R(A);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},A||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var $=m.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if($!==0)throw new Error(x[$]);if(P.header&&m.deflateSetHeader(this.strm,P.header),P.dictionary){var V;if(V=typeof P.dictionary=="string"?b.string2buf(P.dictionary):C.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,($=m.deflateSetDictionary(this.strm,V))!==0)throw new Error(x[$]);this._dict_set=!0}}function L(A,P){var $=new R(P);if($.push(A,!0),$.err)throw $.msg||x[$.err];return $.result}R.prototype.push=function(A,P){var $,V,U=this.strm,E=this.options.chunkSize;if(this.ended)return!1;V=P===~~P?P:P===!0?4:0,typeof A=="string"?U.input=b.string2buf(A):C.call(A)==="[object ArrayBuffer]"?U.input=new Uint8Array(A):U.input=A,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new v.Buf8(E),U.next_out=0,U.avail_out=E),($=m.deflate(U,V))!==1&&$!==0)return this.onEnd($),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||V!==4&&V!==2)||(this.options.to==="string"?this.onData(b.buf2binstring(v.shrinkBuf(U.output,U.next_out))):this.onData(v.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&$!==1);return V===4?($=m.deflateEnd(this.strm),this.onEnd($),this.ended=!0,$===0):V!==2||(this.onEnd(0),!(U.avail_out=0))},R.prototype.onData=function(A){this.chunks.push(A)},R.prototype.onEnd=function(A){A===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},y.Deflate=R,y.deflate=L,y.deflateRaw=function(A,P){return(P=P||{}).raw=!0,L(A,P)},y.gzip=function(A,P){return(P=P||{}).gzip=!0,L(A,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(p,g,y){var m=p("./zlib/inflate"),v=p("./utils/common"),b=p("./utils/strings"),x=p("./zlib/constants"),j=p("./zlib/messages"),C=p("./zlib/zstream"),R=p("./zlib/gzheader"),L=Object.prototype.toString;function A($){if(!(this instanceof A))return new A($);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},$||{});var V=this.options;V.raw&&0<=V.windowBits&&V.windowBits<16&&(V.windowBits=-V.windowBits,V.windowBits===0&&(V.windowBits=-15)),!(0<=V.windowBits&&V.windowBits<16)||$&&$.windowBits||(V.windowBits+=32),15<V.windowBits&&V.windowBits<48&&(15&V.windowBits)==0&&(V.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var U=m.inflateInit2(this.strm,V.windowBits);if(U!==x.Z_OK)throw new Error(j[U]);this.header=new R,m.inflateGetHeader(this.strm,this.header)}function P($,V){var U=new A(V);if(U.push($,!0),U.err)throw U.msg||j[U.err];return U.result}A.prototype.push=function($,V){var U,E,I,N,w,_,k=this.strm,S=this.options.chunkSize,D=this.options.dictionary,O=!1;if(this.ended)return!1;E=V===~~V?V:V===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof $=="string"?k.input=b.binstring2buf($):L.call($)==="[object ArrayBuffer]"?k.input=new Uint8Array($):k.input=$,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new v.Buf8(S),k.next_out=0,k.avail_out=S),(U=m.inflate(k,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&D&&(_=typeof D=="string"?b.string2buf(D):L.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,U=m.inflateSetDictionary(this.strm,_)),U===x.Z_BUF_ERROR&&O===!0&&(U=x.Z_OK,O=!1),U!==x.Z_STREAM_END&&U!==x.Z_OK)return this.onEnd(U),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&U!==x.Z_STREAM_END&&(k.avail_in!==0||E!==x.Z_FINISH&&E!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=b.utf8border(k.output,k.next_out),N=k.next_out-I,w=b.buf2string(k.output,I),k.next_out=N,k.avail_out=S-N,N&&v.arraySet(k.output,k.output,I,N,0),this.onData(w)):this.onData(v.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(O=!0)}while((0<k.avail_in||k.avail_out===0)&&U!==x.Z_STREAM_END);return U===x.Z_STREAM_END&&(E=x.Z_FINISH),E===x.Z_FINISH?(U=m.inflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===x.Z_OK):E!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(k.avail_out=0))},A.prototype.onData=function($){this.chunks.push($)},A.prototype.onEnd=function($){$===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=$,this.msg=this.strm.msg},y.Inflate=A,y.inflate=P,y.inflateRaw=function($,V){return(V=V||{}).raw=!0,P($,V)},y.ungzip=P},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(p,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(x){for(var j=Array.prototype.slice.call(arguments,1);j.length;){var C=j.shift();if(C){if(typeof C!="object")throw new TypeError(C+"must be non-object");for(var R in C)C.hasOwnProperty(R)&&(x[R]=C[R])}}return x},y.shrinkBuf=function(x,j){return x.length===j?x:x.subarray?x.subarray(0,j):(x.length=j,x)};var v={arraySet:function(x,j,C,R,L){if(j.subarray&&x.subarray)x.set(j.subarray(C,C+R),L);else for(var A=0;A<R;A++)x[L+A]=j[C+A]},flattenChunks:function(x){var j,C,R,L,A,P;for(j=R=0,C=x.length;j<C;j++)R+=x[j].length;for(P=new Uint8Array(R),j=L=0,C=x.length;j<C;j++)A=x[j],P.set(A,L),L+=A.length;return P}},b={arraySet:function(x,j,C,R,L){for(var A=0;A<R;A++)x[L+A]=j[C+A]},flattenChunks:function(x){return[].concat.apply([],x)}};y.setTyped=function(x){x?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,v)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,b))},y.setTyped(m)},{}],42:[function(p,g,y){var m=p("./common"),v=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b=!1}for(var x=new m.Buf8(256),j=0;j<256;j++)x[j]=252<=j?6:248<=j?5:240<=j?4:224<=j?3:192<=j?2:1;function C(R,L){if(L<65537&&(R.subarray&&b||!R.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(R,L));for(var A="",P=0;P<L;P++)A+=String.fromCharCode(R[P]);return A}x[254]=x[254]=1,y.string2buf=function(R){var L,A,P,$,V,U=R.length,E=0;for($=0;$<U;$++)(64512&(A=R.charCodeAt($)))==55296&&$+1<U&&(64512&(P=R.charCodeAt($+1)))==56320&&(A=65536+(A-55296<<10)+(P-56320),$++),E+=A<128?1:A<2048?2:A<65536?3:4;for(L=new m.Buf8(E),$=V=0;V<E;$++)(64512&(A=R.charCodeAt($)))==55296&&$+1<U&&(64512&(P=R.charCodeAt($+1)))==56320&&(A=65536+(A-55296<<10)+(P-56320),$++),A<128?L[V++]=A:(A<2048?L[V++]=192|A>>>6:(A<65536?L[V++]=224|A>>>12:(L[V++]=240|A>>>18,L[V++]=128|A>>>12&63),L[V++]=128|A>>>6&63),L[V++]=128|63&A);return L},y.buf2binstring=function(R){return C(R,R.length)},y.binstring2buf=function(R){for(var L=new m.Buf8(R.length),A=0,P=L.length;A<P;A++)L[A]=R.charCodeAt(A);return L},y.buf2string=function(R,L){var A,P,$,V,U=L||R.length,E=new Array(2*U);for(A=P=0;A<U;)if(($=R[A++])<128)E[P++]=$;else if(4<(V=x[$]))E[P++]=65533,A+=V-1;else{for($&=V===2?31:V===3?15:7;1<V&&A<U;)$=$<<6|63&R[A++],V--;1<V?E[P++]=65533:$<65536?E[P++]=$:($-=65536,E[P++]=55296|$>>10&1023,E[P++]=56320|1023&$)}return C(E,P)},y.utf8border=function(R,L){var A;for((L=L||R.length)>R.length&&(L=R.length),A=L-1;0<=A&&(192&R[A])==128;)A--;return A<0||A===0?L:A+x[R[A]]>L?A:L}},{"./common":41}],43:[function(p,g,y){g.exports=function(m,v,b,x){for(var j=65535&m|0,C=m>>>16&65535|0,R=0;b!==0;){for(b-=R=2e3<b?2e3:b;C=C+(j=j+v[x++]|0)|0,--R;);j%=65521,C%=65521}return j|C<<16|0}},{}],44:[function(p,g,y){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(p,g,y){var m=(function(){for(var v,b=[],x=0;x<256;x++){v=x;for(var j=0;j<8;j++)v=1&v?3988292384^v>>>1:v>>>1;b[x]=v}return b})();g.exports=function(v,b,x,j){var C=m,R=j+x;v^=-1;for(var L=j;L<R;L++)v=v>>>8^C[255&(v^b[L])];return-1^v}},{}],46:[function(p,g,y){var m,v=p("../utils/common"),b=p("./trees"),x=p("./adler32"),j=p("./crc32"),C=p("./messages"),R=-2,L=258,A=262,P=113;function $(M,K){return M.msg=C[K],K}function V(M){return(M<<1)-(4<M?9:0)}function U(M){for(var K=M.length;0<=--K;)M[K]=0}function E(M){var K=M.state,z=K.pending;z>M.avail_out&&(z=M.avail_out),z!==0&&(v.arraySet(M.output,K.pending_buf,K.pending_out,z,M.next_out),M.next_out+=z,K.pending_out+=z,M.total_out+=z,M.avail_out-=z,K.pending-=z,K.pending===0&&(K.pending_out=0))}function I(M,K){b._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,K),M.block_start=M.strstart,E(M.strm)}function N(M,K){M.pending_buf[M.pending++]=K}function w(M,K){M.pending_buf[M.pending++]=K>>>8&255,M.pending_buf[M.pending++]=255&K}function _(M,K){var z,F,W=M.max_chain_length,J=M.strstart,le=M.prev_length,ne=M.nice_match,ue=M.strstart>M.w_size-A?M.strstart-(M.w_size-A):0,Z=M.window,te=M.w_mask,X=M.prev,ae=M.strstart+L,re=Z[J+le-1],ee=Z[J+le];M.prev_length>=M.good_match&&(W>>=2),ne>M.lookahead&&(ne=M.lookahead);do if(Z[(z=K)+le]===ee&&Z[z+le-1]===re&&Z[z]===Z[J]&&Z[++z]===Z[J+1]){J+=2,z++;do;while(Z[++J]===Z[++z]&&Z[++J]===Z[++z]&&Z[++J]===Z[++z]&&Z[++J]===Z[++z]&&Z[++J]===Z[++z]&&Z[++J]===Z[++z]&&Z[++J]===Z[++z]&&Z[++J]===Z[++z]&&J<ae);if(F=L-(ae-J),J=ae-L,le<F){if(M.match_start=K,ne<=(le=F))break;re=Z[J+le-1],ee=Z[J+le]}}while((K=X[K&te])>ue&&--W!=0);return le<=M.lookahead?le:M.lookahead}function k(M){var K,z,F,W,J,le,ne,ue,Z,te,X=M.w_size;do{if(W=M.window_size-M.lookahead-M.strstart,M.strstart>=X+(X-A)){for(v.arraySet(M.window,M.window,X,X,0),M.match_start-=X,M.strstart-=X,M.block_start-=X,K=z=M.hash_size;F=M.head[--K],M.head[K]=X<=F?F-X:0,--z;);for(K=z=X;F=M.prev[--K],M.prev[K]=X<=F?F-X:0,--z;);W+=X}if(M.strm.avail_in===0)break;if(le=M.strm,ne=M.window,ue=M.strstart+M.lookahead,te=void 0,(Z=W)<(te=le.avail_in)&&(te=Z),z=te===0?0:(le.avail_in-=te,v.arraySet(ne,le.input,le.next_in,te,ue),le.state.wrap===1?le.adler=x(le.adler,ne,te,ue):le.state.wrap===2&&(le.adler=j(le.adler,ne,te,ue)),le.next_in+=te,le.total_in+=te,te),M.lookahead+=z,M.lookahead+M.insert>=3)for(J=M.strstart-M.insert,M.ins_h=M.window[J],M.ins_h=(M.ins_h<<M.hash_shift^M.window[J+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[J+3-1])&M.hash_mask,M.prev[J&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=J,J++,M.insert--,!(M.lookahead+M.insert<3)););}while(M.lookahead<A&&M.strm.avail_in!==0)}function S(M,K){for(var z,F;;){if(M.lookahead<A){if(k(M),M.lookahead<A&&K===0)return 1;if(M.lookahead===0)break}if(z=0,M.lookahead>=3&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,z=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),z!==0&&M.strstart-z<=M.w_size-A&&(M.match_length=_(M,z)),M.match_length>=3)if(F=b._tr_tally(M,M.strstart-M.match_start,M.match_length-3),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=3){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,z=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else F=b._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(F&&(I(M,!1),M.strm.avail_out===0))return 1}return M.insert=M.strstart<2?M.strstart:2,K===4?(I(M,!0),M.strm.avail_out===0?3:4):M.last_lit&&(I(M,!1),M.strm.avail_out===0)?1:2}function D(M,K){for(var z,F,W;;){if(M.lookahead<A){if(k(M),M.lookahead<A&&K===0)return 1;if(M.lookahead===0)break}if(z=0,M.lookahead>=3&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,z=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=2,z!==0&&M.prev_length<M.max_lazy_match&&M.strstart-z<=M.w_size-A&&(M.match_length=_(M,z),M.match_length<=5&&(M.strategy===1||M.match_length===3&&4096<M.strstart-M.match_start)&&(M.match_length=2)),M.prev_length>=3&&M.match_length<=M.prev_length){for(W=M.strstart+M.lookahead-3,F=b._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-3),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=W&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,z=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=2,M.strstart++,F&&(I(M,!1),M.strm.avail_out===0))return 1}else if(M.match_available){if((F=b._tr_tally(M,0,M.window[M.strstart-1]))&&I(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return 1}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(F=b._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<2?M.strstart:2,K===4?(I(M,!0),M.strm.avail_out===0?3:4):M.last_lit&&(I(M,!1),M.strm.avail_out===0)?1:2}function O(M,K,z,F,W){this.good_length=M,this.max_lazy=K,this.nice_length=z,this.max_chain=F,this.func=W}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(M){var K;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=2,(K=M.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:P,M.adler=K.wrap===2?0:1,K.last_flush=0,b._tr_init(K),0):$(M,R)}function H(M){var K=q(M);return K===0&&(function(z){z.window_size=2*z.w_size,U(z.head),z.max_lazy_match=m[z.level].max_lazy,z.good_match=m[z.level].good_length,z.nice_match=m[z.level].nice_length,z.max_chain_length=m[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=2,z.match_available=0,z.ins_h=0})(M.state),K}function Q(M,K,z,F,W,J){if(!M)return R;var le=1;if(K===-1&&(K=6),F<0?(le=0,F=-F):15<F&&(le=2,F-=16),W<1||9<W||z!==8||F<8||15<F||K<0||9<K||J<0||4<J)return $(M,R);F===8&&(F=9);var ne=new B;return(M.state=ne).strm=M,ne.wrap=le,ne.gzhead=null,ne.w_bits=F,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=W+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+3-1)/3),ne.window=new v.Buf8(2*ne.w_size),ne.head=new v.Buf16(ne.hash_size),ne.prev=new v.Buf16(ne.w_size),ne.lit_bufsize=1<<W+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new v.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=K,ne.strategy=J,ne.method=z,H(M)}m=[new O(0,0,0,0,(function(M,K){var z=65535;for(z>M.pending_buf_size-5&&(z=M.pending_buf_size-5);;){if(M.lookahead<=1){if(k(M),M.lookahead===0&&K===0)return 1;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var F=M.block_start+z;if((M.strstart===0||M.strstart>=F)&&(M.lookahead=M.strstart-F,M.strstart=F,I(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-A&&(I(M,!1),M.strm.avail_out===0))return 1}return M.insert=0,K===4?(I(M,!0),M.strm.avail_out===0?3:4):(M.strstart>M.block_start&&(I(M,!1),M.strm.avail_out),1)})),new O(4,4,8,4,S),new O(4,5,16,8,S),new O(4,6,32,32,S),new O(4,4,16,16,D),new O(8,16,32,32,D),new O(8,16,128,128,D),new O(8,32,128,256,D),new O(32,128,258,1024,D),new O(32,258,258,4096,D)],y.deflateInit=function(M,K){return Q(M,K,8,15,8,0)},y.deflateInit2=Q,y.deflateReset=H,y.deflateResetKeep=q,y.deflateSetHeader=function(M,K){return M&&M.state?M.state.wrap!==2?R:(M.state.gzhead=K,0):R},y.deflate=function(M,K){var z,F,W,J;if(!M||!M.state||5<K||K<0)return M?$(M,R):R;if(F=M.state,!M.output||!M.input&&M.avail_in!==0||F.status===666&&K!==4)return $(M,M.avail_out===0?-5:R);if(F.strm=M,z=F.last_flush,F.last_flush=K,F.status===42)if(F.wrap===2)M.adler=0,N(F,31),N(F,139),N(F,8),F.gzhead?(N(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),N(F,255&F.gzhead.time),N(F,F.gzhead.time>>8&255),N(F,F.gzhead.time>>16&255),N(F,F.gzhead.time>>24&255),N(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),N(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(N(F,255&F.gzhead.extra.length),N(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(M.adler=j(M.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(N(F,0),N(F,0),N(F,0),N(F,0),N(F,0),N(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),N(F,3),F.status=P);else{var le=8+(F.w_bits-8<<4)<<8;le|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(le|=32),le+=31-le%31,F.status=P,w(F,le),F.strstart!==0&&(w(F,M.adler>>>16),w(F,65535&M.adler)),M.adler=1}if(F.status===69)if(F.gzhead.extra){for(W=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>W&&(M.adler=j(M.adler,F.pending_buf,F.pending-W,W)),E(M),W=F.pending,F.pending!==F.pending_buf_size));)N(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>W&&(M.adler=j(M.adler,F.pending_buf,F.pending-W,W)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){W=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>W&&(M.adler=j(M.adler,F.pending_buf,F.pending-W,W)),E(M),W=F.pending,F.pending===F.pending_buf_size)){J=1;break}J=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,N(F,J)}while(J!==0);F.gzhead.hcrc&&F.pending>W&&(M.adler=j(M.adler,F.pending_buf,F.pending-W,W)),J===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){W=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>W&&(M.adler=j(M.adler,F.pending_buf,F.pending-W,W)),E(M),W=F.pending,F.pending===F.pending_buf_size)){J=1;break}J=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,N(F,J)}while(J!==0);F.gzhead.hcrc&&F.pending>W&&(M.adler=j(M.adler,F.pending_buf,F.pending-W,W)),J===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&E(M),F.pending+2<=F.pending_buf_size&&(N(F,255&M.adler),N(F,M.adler>>8&255),M.adler=0,F.status=P)):F.status=P),F.pending!==0){if(E(M),M.avail_out===0)return F.last_flush=-1,0}else if(M.avail_in===0&&V(K)<=V(z)&&K!==4)return $(M,-5);if(F.status===666&&M.avail_in!==0)return $(M,-5);if(M.avail_in!==0||F.lookahead!==0||K!==0&&F.status!==666){var ne=F.strategy===2?(function(ue,Z){for(var te;;){if(ue.lookahead===0&&(k(ue),ue.lookahead===0)){if(Z===0)return 1;break}if(ue.match_length=0,te=b._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,te&&(I(ue,!1),ue.strm.avail_out===0))return 1}return ue.insert=0,Z===4?(I(ue,!0),ue.strm.avail_out===0?3:4):ue.last_lit&&(I(ue,!1),ue.strm.avail_out===0)?1:2})(F,K):F.strategy===3?(function(ue,Z){for(var te,X,ae,re,ee=ue.window;;){if(ue.lookahead<=L){if(k(ue),ue.lookahead<=L&&Z===0)return 1;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=3&&0<ue.strstart&&(X=ee[ae=ue.strstart-1])===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]){re=ue.strstart+L;do;while(X===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]&&ae<re);ue.match_length=L-(re-ae),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=3?(te=b._tr_tally(ue,1,ue.match_length-3),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):(te=b._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),te&&(I(ue,!1),ue.strm.avail_out===0))return 1}return ue.insert=0,Z===4?(I(ue,!0),ue.strm.avail_out===0?3:4):ue.last_lit&&(I(ue,!1),ue.strm.avail_out===0)?1:2})(F,K):m[F.level].func(F,K);if(ne!==3&&ne!==4||(F.status=666),ne===1||ne===3)return M.avail_out===0&&(F.last_flush=-1),0;if(ne===2&&(K===1?b._tr_align(F):K!==5&&(b._tr_stored_block(F,0,0,!1),K===3&&(U(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),E(M),M.avail_out===0))return F.last_flush=-1,0}return K!==4?0:F.wrap<=0?1:(F.wrap===2?(N(F,255&M.adler),N(F,M.adler>>8&255),N(F,M.adler>>16&255),N(F,M.adler>>24&255),N(F,255&M.total_in),N(F,M.total_in>>8&255),N(F,M.total_in>>16&255),N(F,M.total_in>>24&255)):(w(F,M.adler>>>16),w(F,65535&M.adler)),E(M),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?0:1)},y.deflateEnd=function(M){var K;return M&&M.state?(K=M.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==P&&K!==666?$(M,R):(M.state=null,K===P?$(M,-3):0):R},y.deflateSetDictionary=function(M,K){var z,F,W,J,le,ne,ue,Z,te=K.length;if(!M||!M.state||(J=(z=M.state).wrap)===2||J===1&&z.status!==42||z.lookahead)return R;for(J===1&&(M.adler=x(M.adler,K,te,0)),z.wrap=0,te>=z.w_size&&(J===0&&(U(z.head),z.strstart=0,z.block_start=0,z.insert=0),Z=new v.Buf8(z.w_size),v.arraySet(Z,K,te-z.w_size,z.w_size,0),K=Z,te=z.w_size),le=M.avail_in,ne=M.next_in,ue=M.input,M.avail_in=te,M.next_in=0,M.input=K,k(z);z.lookahead>=3;){for(F=z.strstart,W=z.lookahead-2;z.ins_h=(z.ins_h<<z.hash_shift^z.window[F+3-1])&z.hash_mask,z.prev[F&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=F,F++,--W;);z.strstart=F,z.lookahead=2,k(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=2,z.match_available=0,M.next_in=ne,M.input=ue,M.avail_in=le,z.wrap=J,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(p,g,y){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(p,g,y){g.exports=function(m,v){var b,x,j,C,R,L,A,P,$,V,U,E,I,N,w,_,k,S,D,O,B,q,H,Q,M;b=m.state,x=m.next_in,Q=m.input,j=x+(m.avail_in-5),C=m.next_out,M=m.output,R=C-(v-m.avail_out),L=C+(m.avail_out-257),A=b.dmax,P=b.wsize,$=b.whave,V=b.wnext,U=b.window,E=b.hold,I=b.bits,N=b.lencode,w=b.distcode,_=(1<<b.lenbits)-1,k=(1<<b.distbits)-1;e:do{I<15&&(E+=Q[x++]<<I,I+=8,E+=Q[x++]<<I,I+=8),S=N[E&_];t:for(;;){if(E>>>=D=S>>>24,I-=D,(D=S>>>16&255)==0)M[C++]=65535&S;else{if(!(16&D)){if((64&D)==0){S=N[(65535&S)+(E&(1<<D)-1)];continue t}if(32&D){b.mode=12;break e}m.msg="invalid literal/length code",b.mode=30;break e}O=65535&S,(D&=15)&&(I<D&&(E+=Q[x++]<<I,I+=8),O+=E&(1<<D)-1,E>>>=D,I-=D),I<15&&(E+=Q[x++]<<I,I+=8,E+=Q[x++]<<I,I+=8),S=w[E&k];r:for(;;){if(E>>>=D=S>>>24,I-=D,!(16&(D=S>>>16&255))){if((64&D)==0){S=w[(65535&S)+(E&(1<<D)-1)];continue r}m.msg="invalid distance code",b.mode=30;break e}if(B=65535&S,I<(D&=15)&&(E+=Q[x++]<<I,(I+=8)<D&&(E+=Q[x++]<<I,I+=8)),A<(B+=E&(1<<D)-1)){m.msg="invalid distance too far back",b.mode=30;break e}if(E>>>=D,I-=D,(D=C-R)<B){if($<(D=B-D)&&b.sane){m.msg="invalid distance too far back",b.mode=30;break e}if(H=U,(q=0)===V){if(q+=P-D,D<O){for(O-=D;M[C++]=U[q++],--D;);q=C-B,H=M}}else if(V<D){if(q+=P+V-D,(D-=V)<O){for(O-=D;M[C++]=U[q++],--D;);if(q=0,V<O){for(O-=D=V;M[C++]=U[q++],--D;);q=C-B,H=M}}}else if(q+=V-D,D<O){for(O-=D;M[C++]=U[q++],--D;);q=C-B,H=M}for(;2<O;)M[C++]=H[q++],M[C++]=H[q++],M[C++]=H[q++],O-=3;O&&(M[C++]=H[q++],1<O&&(M[C++]=H[q++]))}else{for(q=C-B;M[C++]=M[q++],M[C++]=M[q++],M[C++]=M[q++],2<(O-=3););O&&(M[C++]=M[q++],1<O&&(M[C++]=M[q++]))}break}}break}}while(x<j&&C<L);x-=O=I>>3,E&=(1<<(I-=O<<3))-1,m.next_in=x,m.next_out=C,m.avail_in=x<j?j-x+5:5-(x-j),m.avail_out=C<L?L-C+257:257-(C-L),b.hold=E,b.bits=I}},{}],49:[function(p,g,y){var m=p("../utils/common"),v=p("./adler32"),b=p("./crc32"),x=p("./inffast"),j=p("./inftrees"),C=-2;function R(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function L(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(_){var k;return _&&_.state?(k=_.state,_.total_in=_.total_out=k.total=0,_.msg="",k.wrap&&(_.adler=1&k.wrap),k.mode=1,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new m.Buf32(852),k.distcode=k.distdyn=new m.Buf32(592),k.sane=1,k.back=-1,0):C}function P(_){var k;return _&&_.state?((k=_.state).wsize=0,k.whave=0,k.wnext=0,A(_)):C}function $(_,k){var S,D;return _&&_.state?(D=_.state,k<0?(S=0,k=-k):(S=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?C:(D.window!==null&&D.wbits!==k&&(D.window=null),D.wrap=S,D.wbits=k,P(_))):C}function V(_,k){var S,D;return _?(D=new L,(_.state=D).window=null,(S=$(_,k))!==0&&(_.state=null),S):C}var U,E,I=!0;function N(_){if(I){var k;for(U=new m.Buf32(512),E=new m.Buf32(32),k=0;k<144;)_.lens[k++]=8;for(;k<256;)_.lens[k++]=9;for(;k<280;)_.lens[k++]=7;for(;k<288;)_.lens[k++]=8;for(j(1,_.lens,0,288,U,0,_.work,{bits:9}),k=0;k<32;)_.lens[k++]=5;j(2,_.lens,0,32,E,0,_.work,{bits:5}),I=!1}_.lencode=U,_.lenbits=9,_.distcode=E,_.distbits=5}function w(_,k,S,D){var O,B=_.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new m.Buf8(B.wsize)),D>=B.wsize?(m.arraySet(B.window,k,S-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(D<(O=B.wsize-B.wnext)&&(O=D),m.arraySet(B.window,k,S-D,O,B.wnext),(D-=O)?(m.arraySet(B.window,k,S-D,D,0),B.wnext=D,B.whave=B.wsize):(B.wnext+=O,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=O))),0}y.inflateReset=P,y.inflateReset2=$,y.inflateResetKeep=A,y.inflateInit=function(_){return V(_,15)},y.inflateInit2=V,y.inflate=function(_,k){var S,D,O,B,q,H,Q,M,K,z,F,W,J,le,ne,ue,Z,te,X,ae,re,ee,G,Y,ie=0,ce=new m.Buf8(4),me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return C;(S=_.state).mode===12&&(S.mode=13),q=_.next_out,O=_.output,Q=_.avail_out,B=_.next_in,D=_.input,H=_.avail_in,M=S.hold,K=S.bits,z=H,F=Q,ee=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;K<16;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}if(2&S.wrap&&M===35615){ce[S.check=0]=255&M,ce[1]=M>>>8&255,S.check=b(S.check,ce,2,0),K=M=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&M)<<8)+(M>>8))%31){_.msg="incorrect header check",S.mode=30;break}if((15&M)!=8){_.msg="unknown compression method",S.mode=30;break}if(K-=4,re=8+(15&(M>>>=4)),S.wbits===0)S.wbits=re;else if(re>S.wbits){_.msg="invalid window size",S.mode=30;break}S.dmax=1<<re,_.adler=S.check=1,S.mode=512&M?10:12,K=M=0;break;case 2:for(;K<16;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}if(S.flags=M,(255&S.flags)!=8){_.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){_.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=M>>8&1),512&S.flags&&(ce[0]=255&M,ce[1]=M>>>8&255,S.check=b(S.check,ce,2,0)),K=M=0,S.mode=3;case 3:for(;K<32;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}S.head&&(S.head.time=M),512&S.flags&&(ce[0]=255&M,ce[1]=M>>>8&255,ce[2]=M>>>16&255,ce[3]=M>>>24&255,S.check=b(S.check,ce,4,0)),K=M=0,S.mode=4;case 4:for(;K<16;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}S.head&&(S.head.xflags=255&M,S.head.os=M>>8),512&S.flags&&(ce[0]=255&M,ce[1]=M>>>8&255,S.check=b(S.check,ce,2,0)),K=M=0,S.mode=5;case 5:if(1024&S.flags){for(;K<16;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}S.length=M,S.head&&(S.head.extra_len=M),512&S.flags&&(ce[0]=255&M,ce[1]=M>>>8&255,S.check=b(S.check,ce,2,0)),K=M=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(H<(W=S.length)&&(W=H),W&&(S.head&&(re=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),m.arraySet(S.head.extra,D,B,W,re)),512&S.flags&&(S.check=b(S.check,D,W,B)),H-=W,B+=W,S.length-=W),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(H===0)break e;for(W=0;re=D[B+W++],S.head&&re&&S.length<65536&&(S.head.name+=String.fromCharCode(re)),re&&W<H;);if(512&S.flags&&(S.check=b(S.check,D,W,B)),H-=W,B+=W,re)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(H===0)break e;for(W=0;re=D[B+W++],S.head&&re&&S.length<65536&&(S.head.comment+=String.fromCharCode(re)),re&&W<H;);if(512&S.flags&&(S.check=b(S.check,D,W,B)),H-=W,B+=W,re)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;K<16;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}if(M!==(65535&S.check)){_.msg="header crc mismatch",S.mode=30;break}K=M=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),_.adler=S.check=0,S.mode=12;break;case 10:for(;K<32;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}_.adler=S.check=R(M),K=M=0,S.mode=11;case 11:if(S.havedict===0)return _.next_out=q,_.avail_out=Q,_.next_in=B,_.avail_in=H,S.hold=M,S.bits=K,2;_.adler=S.check=1,S.mode=12;case 12:if(k===5||k===6)break e;case 13:if(S.last){M>>>=7&K,K-=7&K,S.mode=27;break}for(;K<3;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}switch(S.last=1&M,K-=1,3&(M>>>=1)){case 0:S.mode=14;break;case 1:if(N(S),S.mode=20,k!==6)break;M>>>=2,K-=2;break e;case 2:S.mode=17;break;case 3:_.msg="invalid block type",S.mode=30}M>>>=2,K-=2;break;case 14:for(M>>>=7&K,K-=7&K;K<32;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}if((65535&M)!=(M>>>16^65535)){_.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&M,K=M=0,S.mode=15,k===6)break e;case 15:S.mode=16;case 16:if(W=S.length){if(H<W&&(W=H),Q<W&&(W=Q),W===0)break e;m.arraySet(O,D,B,W,q),H-=W,B+=W,Q-=W,q+=W,S.length-=W;break}S.mode=12;break;case 17:for(;K<14;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}if(S.nlen=257+(31&M),M>>>=5,K-=5,S.ndist=1+(31&M),M>>>=5,K-=5,S.ncode=4+(15&M),M>>>=4,K-=4,286<S.nlen||30<S.ndist){_.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;K<3;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}S.lens[me[S.have++]]=7&M,M>>>=3,K-=3}for(;S.have<19;)S.lens[me[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,G={bits:S.lenbits},ee=j(0,S.lens,0,19,S.lencode,0,S.work,G),S.lenbits=G.bits,ee){_.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ue=(ie=S.lencode[M&(1<<S.lenbits)-1])>>>16&255,Z=65535&ie,!((ne=ie>>>24)<=K);){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}if(Z<16)M>>>=ne,K-=ne,S.lens[S.have++]=Z;else{if(Z===16){for(Y=ne+2;K<Y;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}if(M>>>=ne,K-=ne,S.have===0){_.msg="invalid bit length repeat",S.mode=30;break}re=S.lens[S.have-1],W=3+(3&M),M>>>=2,K-=2}else if(Z===17){for(Y=ne+3;K<Y;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}K-=ne,re=0,W=3+(7&(M>>>=ne)),M>>>=3,K-=3}else{for(Y=ne+7;K<Y;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}K-=ne,re=0,W=11+(127&(M>>>=ne)),M>>>=7,K-=7}if(S.have+W>S.nlen+S.ndist){_.msg="invalid bit length repeat",S.mode=30;break}for(;W--;)S.lens[S.have++]=re}}if(S.mode===30)break;if(S.lens[256]===0){_.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,G={bits:S.lenbits},ee=j(1,S.lens,0,S.nlen,S.lencode,0,S.work,G),S.lenbits=G.bits,ee){_.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,G={bits:S.distbits},ee=j(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,G),S.distbits=G.bits,ee){_.msg="invalid distances set",S.mode=30;break}if(S.mode=20,k===6)break e;case 20:S.mode=21;case 21:if(6<=H&&258<=Q){_.next_out=q,_.avail_out=Q,_.next_in=B,_.avail_in=H,S.hold=M,S.bits=K,x(_,F),q=_.next_out,O=_.output,Q=_.avail_out,B=_.next_in,D=_.input,H=_.avail_in,M=S.hold,K=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ue=(ie=S.lencode[M&(1<<S.lenbits)-1])>>>16&255,Z=65535&ie,!((ne=ie>>>24)<=K);){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}if(ue&&(240&ue)==0){for(te=ne,X=ue,ae=Z;ue=(ie=S.lencode[ae+((M&(1<<te+X)-1)>>te)])>>>16&255,Z=65535&ie,!(te+(ne=ie>>>24)<=K);){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}M>>>=te,K-=te,S.back+=te}if(M>>>=ne,K-=ne,S.back+=ne,S.length=Z,ue===0){S.mode=26;break}if(32&ue){S.back=-1,S.mode=12;break}if(64&ue){_.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ue,S.mode=22;case 22:if(S.extra){for(Y=S.extra;K<Y;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}S.length+=M&(1<<S.extra)-1,M>>>=S.extra,K-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ue=(ie=S.distcode[M&(1<<S.distbits)-1])>>>16&255,Z=65535&ie,!((ne=ie>>>24)<=K);){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}if((240&ue)==0){for(te=ne,X=ue,ae=Z;ue=(ie=S.distcode[ae+((M&(1<<te+X)-1)>>te)])>>>16&255,Z=65535&ie,!(te+(ne=ie>>>24)<=K);){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}M>>>=te,K-=te,S.back+=te}if(M>>>=ne,K-=ne,S.back+=ne,64&ue){_.msg="invalid distance code",S.mode=30;break}S.offset=Z,S.extra=15&ue,S.mode=24;case 24:if(S.extra){for(Y=S.extra;K<Y;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}S.offset+=M&(1<<S.extra)-1,M>>>=S.extra,K-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){_.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(Q===0)break e;if(W=F-Q,S.offset>W){if((W=S.offset-W)>S.whave&&S.sane){_.msg="invalid distance too far back",S.mode=30;break}J=W>S.wnext?(W-=S.wnext,S.wsize-W):S.wnext-W,W>S.length&&(W=S.length),le=S.window}else le=O,J=q-S.offset,W=S.length;for(Q<W&&(W=Q),Q-=W,S.length-=W;O[q++]=le[J++],--W;);S.length===0&&(S.mode=21);break;case 26:if(Q===0)break e;O[q++]=S.length,Q--,S.mode=21;break;case 27:if(S.wrap){for(;K<32;){if(H===0)break e;H--,M|=D[B++]<<K,K+=8}if(F-=Q,_.total_out+=F,S.total+=F,F&&(_.adler=S.check=S.flags?b(S.check,O,F,q-F):v(S.check,O,F,q-F)),F=Q,(S.flags?M:R(M))!==S.check){_.msg="incorrect data check",S.mode=30;break}K=M=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;K<32;){if(H===0)break e;H--,M+=D[B++]<<K,K+=8}if(M!==(4294967295&S.total)){_.msg="incorrect length check",S.mode=30;break}K=M=0}S.mode=29;case 29:ee=1;break e;case 30:ee=-3;break e;case 31:return-4;case 32:default:return C}return _.next_out=q,_.avail_out=Q,_.next_in=B,_.avail_in=H,S.hold=M,S.bits=K,(S.wsize||F!==_.avail_out&&S.mode<30&&(S.mode<27||k!==4))&&w(_,_.output,_.next_out,F-_.avail_out)?(S.mode=31,-4):(z-=_.avail_in,F-=_.avail_out,_.total_in+=z,_.total_out+=F,S.total+=F,S.wrap&&F&&(_.adler=S.check=S.flags?b(S.check,O,F,_.next_out-F):v(S.check,O,F,_.next_out-F)),_.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(z==0&&F===0||k===4)&&ee===0&&(ee=-5),ee)},y.inflateEnd=function(_){if(!_||!_.state)return C;var k=_.state;return k.window&&(k.window=null),_.state=null,0},y.inflateGetHeader=function(_,k){var S;return _&&_.state?(2&(S=_.state).wrap)==0?C:((S.head=k).done=!1,0):C},y.inflateSetDictionary=function(_,k){var S,D=k.length;return _&&_.state?(S=_.state).wrap!==0&&S.mode!==11?C:S.mode===11&&v(1,k,D,0)!==S.check?-3:w(_,k,D,D)?(S.mode=31,-4):(S.havedict=1,0):C},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(p,g,y){var m=p("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],j=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(C,R,L,A,P,$,V,U){var E,I,N,w,_,k,S,D,O,B=U.bits,q=0,H=0,Q=0,M=0,K=0,z=0,F=0,W=0,J=0,le=0,ne=null,ue=0,Z=new m.Buf16(16),te=new m.Buf16(16),X=null,ae=0;for(q=0;q<=15;q++)Z[q]=0;for(H=0;H<A;H++)Z[R[L+H]]++;for(K=B,M=15;1<=M&&Z[M]===0;M--);if(M<K&&(K=M),M===0)return P[$++]=20971520,P[$++]=20971520,U.bits=1,0;for(Q=1;Q<M&&Z[Q]===0;Q++);for(K<Q&&(K=Q),q=W=1;q<=15;q++)if(W<<=1,(W-=Z[q])<0)return-1;if(0<W&&(C===0||M!==1))return-1;for(te[1]=0,q=1;q<15;q++)te[q+1]=te[q]+Z[q];for(H=0;H<A;H++)R[L+H]!==0&&(V[te[R[L+H]]++]=H);if(k=C===0?(ne=X=V,19):C===1?(ne=v,ue-=257,X=b,ae-=257,256):(ne=x,X=j,-1),q=Q,_=$,F=H=le=0,N=-1,w=(J=1<<(z=K))-1,C===1&&852<J||C===2&&592<J)return 1;for(;;){for(S=q-F,O=V[H]<k?(D=0,V[H]):V[H]>k?(D=X[ae+V[H]],ne[ue+V[H]]):(D=96,0),E=1<<q-F,Q=I=1<<z;P[_+(le>>F)+(I-=E)]=S<<24|D<<16|O|0,I!==0;);for(E=1<<q-1;le&E;)E>>=1;if(E!==0?(le&=E-1,le+=E):le=0,H++,--Z[q]==0){if(q===M)break;q=R[L+V[H]]}if(K<q&&(le&w)!==N){for(F===0&&(F=K),_+=Q,W=1<<(z=q-F);z+F<M&&!((W-=Z[z+F])<=0);)z++,W<<=1;if(J+=1<<z,C===1&&852<J||C===2&&592<J)return 1;P[N=le&w]=K<<24|z<<16|_-$|0}}return le!==0&&(P[_+le]=q-F<<24|64<<16|0),U.bits=K,0}},{"../utils/common":41}],51:[function(p,g,y){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(p,g,y){var m=p("../utils/common");function v(X){for(var ae=X.length;0<=--ae;)X[ae]=0}var b=256,x=286,j=30,C=15,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(576);v($);var V=new Array(60);v(V);var U=new Array(512);v(U);var E=new Array(256);v(E);var I=new Array(29);v(I);var N,w,_,k=new Array(j);function S(X,ae,re,ee,G){this.static_tree=X,this.extra_bits=ae,this.extra_base=re,this.elems=ee,this.max_length=G,this.has_stree=X&&X.length}function D(X,ae){this.dyn_tree=X,this.max_code=0,this.stat_desc=ae}function O(X){return X<256?U[X]:U[256+(X>>>7)]}function B(X,ae){X.pending_buf[X.pending++]=255&ae,X.pending_buf[X.pending++]=ae>>>8&255}function q(X,ae,re){X.bi_valid>16-re?(X.bi_buf|=ae<<X.bi_valid&65535,B(X,X.bi_buf),X.bi_buf=ae>>16-X.bi_valid,X.bi_valid+=re-16):(X.bi_buf|=ae<<X.bi_valid&65535,X.bi_valid+=re)}function H(X,ae,re){q(X,re[2*ae],re[2*ae+1])}function Q(X,ae){for(var re=0;re|=1&X,X>>>=1,re<<=1,0<--ae;);return re>>>1}function M(X,ae,re){var ee,G,Y=new Array(16),ie=0;for(ee=1;ee<=C;ee++)Y[ee]=ie=ie+re[ee-1]<<1;for(G=0;G<=ae;G++){var ce=X[2*G+1];ce!==0&&(X[2*G]=Q(Y[ce]++,ce))}}function K(X){var ae;for(ae=0;ae<x;ae++)X.dyn_ltree[2*ae]=0;for(ae=0;ae<j;ae++)X.dyn_dtree[2*ae]=0;for(ae=0;ae<19;ae++)X.bl_tree[2*ae]=0;X.dyn_ltree[512]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function z(X){8<X.bi_valid?B(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function F(X,ae,re,ee){var G=2*ae,Y=2*re;return X[G]<X[Y]||X[G]===X[Y]&&ee[ae]<=ee[re]}function W(X,ae,re){for(var ee=X.heap[re],G=re<<1;G<=X.heap_len&&(G<X.heap_len&&F(ae,X.heap[G+1],X.heap[G],X.depth)&&G++,!F(ae,ee,X.heap[G],X.depth));)X.heap[re]=X.heap[G],re=G,G<<=1;X.heap[re]=ee}function J(X,ae,re){var ee,G,Y,ie,ce=0;if(X.last_lit!==0)for(;ee=X.pending_buf[X.d_buf+2*ce]<<8|X.pending_buf[X.d_buf+2*ce+1],G=X.pending_buf[X.l_buf+ce],ce++,ee===0?H(X,G,ae):(H(X,(Y=E[G])+b+1,ae),(ie=R[Y])!==0&&q(X,G-=I[Y],ie),H(X,Y=O(--ee),re),(ie=L[Y])!==0&&q(X,ee-=k[Y],ie)),ce<X.last_lit;);H(X,256,ae)}function le(X,ae){var re,ee,G,Y=ae.dyn_tree,ie=ae.stat_desc.static_tree,ce=ae.stat_desc.has_stree,me=ae.stat_desc.elems,xe=-1;for(X.heap_len=0,X.heap_max=573,re=0;re<me;re++)Y[2*re]!==0?(X.heap[++X.heap_len]=xe=re,X.depth[re]=0):Y[2*re+1]=0;for(;X.heap_len<2;)Y[2*(G=X.heap[++X.heap_len]=xe<2?++xe:0)]=1,X.depth[G]=0,X.opt_len--,ce&&(X.static_len-=ie[2*G+1]);for(ae.max_code=xe,re=X.heap_len>>1;1<=re;re--)W(X,Y,re);for(G=me;re=X.heap[1],X.heap[1]=X.heap[X.heap_len--],W(X,Y,1),ee=X.heap[1],X.heap[--X.heap_max]=re,X.heap[--X.heap_max]=ee,Y[2*G]=Y[2*re]+Y[2*ee],X.depth[G]=(X.depth[re]>=X.depth[ee]?X.depth[re]:X.depth[ee])+1,Y[2*re+1]=Y[2*ee+1]=G,X.heap[1]=G++,W(X,Y,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],(function(Ce,Ae){var $e,Le,rt,qe,Ve,he,de=Ae.dyn_tree,Pe=Ae.max_code,Oe=Ae.stat_desc.static_tree,yt=Ae.stat_desc.has_stree,Mt=Ae.stat_desc.extra_bits,it=Ae.stat_desc.extra_base,zt=Ae.stat_desc.max_length,nt=0;for(qe=0;qe<=C;qe++)Ce.bl_count[qe]=0;for(de[2*Ce.heap[Ce.heap_max]+1]=0,$e=Ce.heap_max+1;$e<573;$e++)zt<(qe=de[2*de[2*(Le=Ce.heap[$e])+1]+1]+1)&&(qe=zt,nt++),de[2*Le+1]=qe,Pe<Le||(Ce.bl_count[qe]++,Ve=0,it<=Le&&(Ve=Mt[Le-it]),he=de[2*Le],Ce.opt_len+=he*(qe+Ve),yt&&(Ce.static_len+=he*(Oe[2*Le+1]+Ve)));if(nt!==0){do{for(qe=zt-1;Ce.bl_count[qe]===0;)qe--;Ce.bl_count[qe]--,Ce.bl_count[qe+1]+=2,Ce.bl_count[zt]--,nt-=2}while(0<nt);for(qe=zt;qe!==0;qe--)for(Le=Ce.bl_count[qe];Le!==0;)Pe<(rt=Ce.heap[--$e])||(de[2*rt+1]!==qe&&(Ce.opt_len+=(qe-de[2*rt+1])*de[2*rt],de[2*rt+1]=qe),Le--)}})(X,ae),M(Y,xe,X.bl_count)}function ne(X,ae,re){var ee,G,Y=-1,ie=ae[1],ce=0,me=7,xe=4;for(ie===0&&(me=138,xe=3),ae[2*(re+1)+1]=65535,ee=0;ee<=re;ee++)G=ie,ie=ae[2*(ee+1)+1],++ce<me&&G===ie||(ce<xe?X.bl_tree[2*G]+=ce:G!==0?(G!==Y&&X.bl_tree[2*G]++,X.bl_tree[32]++):ce<=10?X.bl_tree[34]++:X.bl_tree[36]++,Y=G,xe=(ce=0)===ie?(me=138,3):G===ie?(me=6,3):(me=7,4))}function ue(X,ae,re){var ee,G,Y=-1,ie=ae[1],ce=0,me=7,xe=4;for(ie===0&&(me=138,xe=3),ee=0;ee<=re;ee++)if(G=ie,ie=ae[2*(ee+1)+1],!(++ce<me&&G===ie)){if(ce<xe)for(;H(X,G,X.bl_tree),--ce!=0;);else G!==0?(G!==Y&&(H(X,G,X.bl_tree),ce--),H(X,16,X.bl_tree),q(X,ce-3,2)):ce<=10?(H(X,17,X.bl_tree),q(X,ce-3,3)):(H(X,18,X.bl_tree),q(X,ce-11,7));Y=G,xe=(ce=0)===ie?(me=138,3):G===ie?(me=6,3):(me=7,4)}}v(k);var Z=!1;function te(X,ae,re,ee){q(X,0+(ee?1:0),3),(function(G,Y,ie,ce){z(G),B(G,ie),B(G,~ie),m.arraySet(G.pending_buf,G.window,Y,ie,G.pending),G.pending+=ie})(X,ae,re)}y._tr_init=function(X){Z||((function(){var ae,re,ee,G,Y,ie=new Array(16);for(G=ee=0;G<28;G++)for(I[G]=ee,ae=0;ae<1<<R[G];ae++)E[ee++]=G;for(E[ee-1]=G,G=Y=0;G<16;G++)for(k[G]=Y,ae=0;ae<1<<L[G];ae++)U[Y++]=G;for(Y>>=7;G<j;G++)for(k[G]=Y<<7,ae=0;ae<1<<L[G]-7;ae++)U[256+Y++]=G;for(re=0;re<=C;re++)ie[re]=0;for(ae=0;ae<=143;)$[2*ae+1]=8,ae++,ie[8]++;for(;ae<=255;)$[2*ae+1]=9,ae++,ie[9]++;for(;ae<=279;)$[2*ae+1]=7,ae++,ie[7]++;for(;ae<=287;)$[2*ae+1]=8,ae++,ie[8]++;for(M($,287,ie),ae=0;ae<j;ae++)V[2*ae+1]=5,V[2*ae]=Q(ae,5);N=new S($,R,257,x,C),w=new S(V,L,0,j,C),_=new S(new Array(0),A,0,19,7)})(),Z=!0),X.l_desc=new D(X.dyn_ltree,N),X.d_desc=new D(X.dyn_dtree,w),X.bl_desc=new D(X.bl_tree,_),X.bi_buf=0,X.bi_valid=0,K(X)},y._tr_stored_block=te,y._tr_flush_block=function(X,ae,re,ee){var G,Y,ie=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=(function(ce){var me,xe=4093624447;for(me=0;me<=31;me++,xe>>>=1)if(1&xe&&ce.dyn_ltree[2*me]!==0)return 0;if(ce.dyn_ltree[18]!==0||ce.dyn_ltree[20]!==0||ce.dyn_ltree[26]!==0)return 1;for(me=32;me<b;me++)if(ce.dyn_ltree[2*me]!==0)return 1;return 0})(X)),le(X,X.l_desc),le(X,X.d_desc),ie=(function(ce){var me;for(ne(ce,ce.dyn_ltree,ce.l_desc.max_code),ne(ce,ce.dyn_dtree,ce.d_desc.max_code),le(ce,ce.bl_desc),me=18;3<=me&&ce.bl_tree[2*P[me]+1]===0;me--);return ce.opt_len+=3*(me+1)+5+5+4,me})(X),G=X.opt_len+3+7>>>3,(Y=X.static_len+3+7>>>3)<=G&&(G=Y)):G=Y=re+5,re+4<=G&&ae!==-1?te(X,ae,re,ee):X.strategy===4||Y===G?(q(X,2+(ee?1:0),3),J(X,$,V)):(q(X,4+(ee?1:0),3),(function(ce,me,xe,Ce){var Ae;for(q(ce,me-257,5),q(ce,xe-1,5),q(ce,Ce-4,4),Ae=0;Ae<Ce;Ae++)q(ce,ce.bl_tree[2*P[Ae]+1],3);ue(ce,ce.dyn_ltree,me-1),ue(ce,ce.dyn_dtree,xe-1)})(X,X.l_desc.max_code+1,X.d_desc.max_code+1,ie+1),J(X,X.dyn_ltree,X.dyn_dtree)),K(X),ee&&z(X)},y._tr_tally=function(X,ae,re){return X.pending_buf[X.d_buf+2*X.last_lit]=ae>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&ae,X.pending_buf[X.l_buf+X.last_lit]=255&re,X.last_lit++,ae===0?X.dyn_ltree[2*re]++:(X.matches++,ae--,X.dyn_ltree[2*(E[re]+b+1)]++,X.dyn_dtree[2*O(ae)]++),X.last_lit===X.lit_bufsize-1},y._tr_align=function(X){q(X,2,3),H(X,256,$),(function(ae){ae.bi_valid===16?(B(ae,ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0):8<=ae.bi_valid&&(ae.pending_buf[ae.pending++]=255&ae.bi_buf,ae.bi_buf>>=8,ae.bi_valid-=8)})(X)}},{"../utils/common":41}],53:[function(p,g,y){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(p,g,y){(function(m){(function(v,b){if(!v.setImmediate){var x,j,C,R,L=1,A={},P=!1,$=v.document,V=Object.getPrototypeOf&&Object.getPrototypeOf(v);V=V&&V.setTimeout?V:v,x={}.toString.call(v.process)==="[object process]"?function(N){i.nextTick((function(){E(N)}))}:(function(){if(v.postMessage&&!v.importScripts){var N=!0,w=v.onmessage;return v.onmessage=function(){N=!1},v.postMessage("","*"),v.onmessage=w,N}})()?(R="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",I,!1):v.attachEvent("onmessage",I),function(N){v.postMessage(R+N,"*")}):v.MessageChannel?((C=new MessageChannel).port1.onmessage=function(N){E(N.data)},function(N){C.port2.postMessage(N)}):$&&"onreadystatechange"in $.createElement("script")?(j=$.documentElement,function(N){var w=$.createElement("script");w.onreadystatechange=function(){E(N),w.onreadystatechange=null,j.removeChild(w),w=null},j.appendChild(w)}):function(N){setTimeout(E,0,N)},V.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var w=new Array(arguments.length-1),_=0;_<w.length;_++)w[_]=arguments[_+1];var k={callback:N,args:w};return A[L]=k,x(L),L++},V.clearImmediate=U}function U(N){delete A[N]}function E(N){if(P)setTimeout(E,0,N);else{var w=A[N];if(w){P=!0;try{(function(_){var k=_.callback,S=_.args;switch(S.length){case 0:k();break;case 1:k(S[0]);break;case 2:k(S[0],S[1]);break;case 3:k(S[0],S[1],S[2]);break;default:k.apply(void 0,S)}})(w)}finally{U(N),P=!1}}}}function I(N){N.source===v&&typeof N.data=="string"&&N.data.indexOf(R)===0&&E(+N.data.slice(R.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,r("_process"),typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],r("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(r,n,s){(function(i){(function(){var a=/[\\^$.*+?()[\]{}|]/g,o=RegExp(a.source),u=typeof i=="object"&&i&&i.Object===Object&&i,c=typeof self=="object"&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),h=Object.prototype.toString,f=d.Symbol,p=f?f.prototype:void 0,g=p?p.toString:void 0;function y(m){if(typeof m=="string")return m;if((function(b){return typeof b=="symbol"||(function(x){return!!x&&typeof x=="object"})(b)&&h.call(b)=="[object Symbol]"})(m))return g?g.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}n.exports=function(m){var v;return(m=(v=m)==null?"":y(v))&&o.test(m)?m.replace(a,"\\$&"):m}}).call(this)}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(r,n,s){(function(i){(function(){var a="[object Arguments]",o="[object Map]",u="[object Object]",c="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,f=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[a]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[o]=v["[object Number]"]=v[u]=v["[object RegExp]"]=v[c]=v["[object String]"]=v["[object WeakMap]"]=!1;var b=typeof i=="object"&&i&&i.Object===Object&&i,x=typeof self=="object"&&self&&self.Object===Object&&self,j=b||x||Function("return this")(),C=typeof s=="object"&&s&&!s.nodeType&&s,R=C&&typeof n=="object"&&n&&!n.nodeType&&n,L=R&&R.exports===C&&b.process,A=(function(){try{return L&&L.binding("util")}catch{}})(),P=A&&A.isTypedArray;function $(oe,ve,Te,Re){for(var dt=-1,Xe=oe?oe.length:0;++dt<Xe;){var Qe=oe[dt];ve(Re,Qe,Te(Qe),oe)}return Re}function V(oe,ve){for(var Te=-1,Re=oe?oe.length:0;++Te<Re;)if(ve(oe[Te],Te,oe))return!0;return!1}function U(oe){var ve=!1;if(oe!=null&&typeof oe.toString!="function")try{ve=!!(oe+"")}catch{}return ve}function E(oe){var ve=-1,Te=Array(oe.size);return oe.forEach((function(Re,dt){Te[++ve]=[dt,Re]})),Te}function I(oe){var ve=-1,Te=Array(oe.size);return oe.forEach((function(Re){Te[++ve]=Re})),Te}var N,w,_,k=Array.prototype,S=Function.prototype,D=Object.prototype,O=j["__core-js_shared__"],B=(N=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",q=S.toString,H=D.hasOwnProperty,Q=D.toString,M=RegExp("^"+q.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=j.Symbol,z=j.Uint8Array,F=D.propertyIsEnumerable,W=k.splice,J=(w=Object.keys,_=Object,function(oe){return w(_(oe))}),le=_t(j,"DataView"),ne=_t(j,"Map"),ue=_t(j,"Promise"),Z=_t(j,"Set"),te=_t(j,"WeakMap"),X=_t(Object,"create"),ae=Se(le),re=Se(ne),ee=Se(ue),G=Se(Z),Y=Se(te),ie=K?K.prototype:void 0,ce=ie?ie.valueOf:void 0,me=ie?ie.toString:void 0;function xe(oe){var ve=-1,Te=oe?oe.length:0;for(this.clear();++ve<Te;){var Re=oe[ve];this.set(Re[0],Re[1])}}function Ce(oe){var ve=-1,Te=oe?oe.length:0;for(this.clear();++ve<Te;){var Re=oe[ve];this.set(Re[0],Re[1])}}function Ae(oe){var ve=-1,Te=oe?oe.length:0;for(this.clear();++ve<Te;){var Re=oe[ve];this.set(Re[0],Re[1])}}function $e(oe){var ve=-1,Te=oe?oe.length:0;for(this.__data__=new Ae;++ve<Te;)this.add(oe[ve])}function Le(oe){this.__data__=new Ce(oe)}function rt(oe,ve){var Te=Ct(oe)||bt(oe)?(function(Qe,Ut){for(var Xt=-1,Vt=Array(Qe);++Xt<Qe;)Vt[Xt]=Ut(Xt);return Vt})(oe.length,String):[],Re=Te.length,dt=!!Re;for(var Xe in oe)!H.call(oe,Xe)||dt&&(Xe=="length"||Wt(Xe,Re))||Te.push(Xe);return Te}function qe(oe,ve){for(var Te=oe.length;Te--;)if(Ze(oe[Te][0],ve))return Te;return-1}function Ve(oe,ve,Te,Re){return de(oe,(function(dt,Xe,Qe){ve(Re,dt,Te(dt),Qe)})),Re}xe.prototype.clear=function(){this.__data__=X?X(null):{}},xe.prototype.delete=function(oe){return this.has(oe)&&delete this.__data__[oe]},xe.prototype.get=function(oe){var ve=this.__data__;if(X){var Te=ve[oe];return Te==="__lodash_hash_undefined__"?void 0:Te}return H.call(ve,oe)?ve[oe]:void 0},xe.prototype.has=function(oe){var ve=this.__data__;return X?ve[oe]!==void 0:H.call(ve,oe)},xe.prototype.set=function(oe,ve){return this.__data__[oe]=X&&ve===void 0?"__lodash_hash_undefined__":ve,this},Ce.prototype.clear=function(){this.__data__=[]},Ce.prototype.delete=function(oe){var ve=this.__data__,Te=qe(ve,oe);return!(Te<0)&&(Te==ve.length-1?ve.pop():W.call(ve,Te,1),!0)},Ce.prototype.get=function(oe){var ve=this.__data__,Te=qe(ve,oe);return Te<0?void 0:ve[Te][1]},Ce.prototype.has=function(oe){return qe(this.__data__,oe)>-1},Ce.prototype.set=function(oe,ve){var Te=this.__data__,Re=qe(Te,oe);return Re<0?Te.push([oe,ve]):Te[Re][1]=ve,this},Ae.prototype.clear=function(){this.__data__={hash:new xe,map:new(ne||Ce),string:new xe}},Ae.prototype.delete=function(oe){return sr(this,oe).delete(oe)},Ae.prototype.get=function(oe){return sr(this,oe).get(oe)},Ae.prototype.has=function(oe){return sr(this,oe).has(oe)},Ae.prototype.set=function(oe,ve){return sr(this,oe).set(oe,ve),this},$e.prototype.add=$e.prototype.push=function(oe){return this.__data__.set(oe,"__lodash_hash_undefined__"),this},$e.prototype.has=function(oe){return this.__data__.has(oe)},Le.prototype.clear=function(){this.__data__=new Ce},Le.prototype.delete=function(oe){return this.__data__.delete(oe)},Le.prototype.get=function(oe){return this.__data__.get(oe)},Le.prototype.has=function(oe){return this.__data__.has(oe)},Le.prototype.set=function(oe,ve){var Te=this.__data__;if(Te instanceof Ce){var Re=Te.__data__;if(!ne||Re.length<199)return Re.push([oe,ve]),this;Te=this.__data__=new Ae(Re)}return Te.set(oe,ve),this};var he,de=(he=function(oe,ve){return oe&&Pe(oe,ve,ge)},function(oe,ve){if(oe==null)return oe;if(!mt(oe))return he(oe,ve);for(var Te=oe.length,Re=-1,dt=Object(oe);++Re<Te&&ve(dt[Re],Re,dt)!==!1;);return oe}),Pe=(function(oe){return function(ve,Te,Re){for(var dt=-1,Xe=Object(ve),Qe=Re(ve),Ut=Qe.length;Ut--;){var Xt=Qe[++dt];if(Te(Xe[Xt],Xt,Xe)===!1)break}return ve}})();function Oe(oe,ve){for(var Te=0,Re=(ve=Et(ve,oe)?[ve]:gt(ve)).length;oe!=null&&Te<Re;)oe=oe[be(ve[Te++])];return Te&&Te==Re?oe:void 0}function yt(oe,ve){return oe!=null&&ve in Object(oe)}function Mt(oe,ve,Te,Re,dt){return oe===ve||(oe==null||ve==null||!$t(oe)&&!Gt(ve)?oe!=oe&&ve!=ve:(function(Xe,Qe,Ut,Xt,Vt,St){var _r=Ct(Xe),kr=Ct(Qe),vr="[object Array]",Wr="[object Array]";_r||(vr=(vr=ir(Xe))==a?u:vr),kr||(Wr=(Wr=ir(Qe))==a?u:Wr);var wn=vr==u&&!U(Xe),nn=Wr==u&&!U(Qe),$n=vr==Wr;if($n&&!wn)return St||(St=new Le),_r||pr(Xe)?ut(Xe,Qe,Ut,Xt,Vt,St):(function(Er,gr,oa,Ba,Zl,Ts,Us){switch(oa){case"[object DataView]":if(Er.byteLength!=gr.byteLength||Er.byteOffset!=gr.byteOffset)return!1;Er=Er.buffer,gr=gr.buffer;case"[object ArrayBuffer]":return!(Er.byteLength!=gr.byteLength||!Ba(new z(Er),new z(gr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ze(+Er,+gr);case"[object Error]":return Er.name==gr.name&&Er.message==gr.message;case"[object RegExp]":case"[object String]":return Er==gr+"";case o:var la=E;case c:var Jo=2&Ts;if(la||(la=I),Er.size!=gr.size&&!Jo)return!1;var Gl=Us.get(Er);if(Gl)return Gl==gr;Ts|=1,Us.set(Er,gr);var xo=ut(la(Er),la(gr),Ba,Zl,Ts,Us);return Us.delete(Er),xo;case"[object Symbol]":if(ce)return ce.call(Er)==ce.call(gr)}return!1})(Xe,Qe,vr,Ut,Xt,Vt,St);if(!(2&Vt)){var Cs=wn&&H.call(Xe,"__wrapped__"),zs=nn&&H.call(Qe,"__wrapped__");if(Cs||zs){var aa=Cs?Xe.value():Xe,Bs=zs?Qe.value():Qe;return St||(St=new Le),Ut(aa,Bs,Xt,Vt,St)}}return $n?(St||(St=new Le),(function(Er,gr,oa,Ba,Zl,Ts){var Us=2&Zl,la=ge(Er),Jo=la.length,Gl=ge(gr).length;if(Jo!=Gl&&!Us)return!1;for(var xo=Jo;xo--;){var ca=la[xo];if(!(Us?ca in gr:H.call(gr,ca)))return!1}var Hd=Ts.get(Er);if(Hd&&Ts.get(gr))return Hd==gr;var vu=!0;Ts.set(Er,gr),Ts.set(gr,Er);for(var M0=Us;++xo<Jo;){ca=la[xo];var lp=Er[ca],Kd=gr[ca];if(Ba)var Zd=Us?Ba(Kd,lp,ca,gr,Er,Ts):Ba(lp,Kd,ca,Er,gr,Ts);if(!(Zd===void 0?lp===Kd||oa(lp,Kd,Ba,Zl,Ts):Zd)){vu=!1;break}M0||(M0=ca=="constructor")}if(vu&&!M0){var xu=Er.constructor,Xl=gr.constructor;xu==Xl||!("constructor"in Er)||!("constructor"in gr)||typeof xu=="function"&&xu instanceof xu&&typeof Xl=="function"&&Xl instanceof Xl||(vu=!1)}return Ts.delete(Er),Ts.delete(gr),vu})(Xe,Qe,Ut,Xt,Vt,St)):!1})(oe,ve,Mt,Te,Re,dt))}function it(oe){return!(!$t(oe)||(function(ve){return!!B&&B in ve})(oe))&&(Rt(oe)||U(oe)?M:y).test(Se(oe))}function zt(oe){return typeof oe=="function"?oe:oe==null?Ke:typeof oe=="object"?Ct(oe)?(function(Re,dt){return Et(Re)&&hr(dt)?er(be(Re),dt):function(Xe){var Qe=(function(Ut,Xt,Vt){var St=Ut==null?void 0:Oe(Ut,Xt);return St===void 0?Vt:St})(Xe,Re);return Qe===void 0&&Qe===dt?(function(Ut,Xt){return Ut!=null&&(function(Vt,St,_r){St=Et(St,Vt)?[St]:gt(St);for(var kr,vr=-1,Wr=St.length;++vr<Wr;){var wn=be(St[vr]);if(!(kr=Vt!=null&&_r(Vt,wn)))break;Vt=Vt[wn]}return kr||!!(Wr=Vt?Vt.length:0)&&It(Wr)&&Wt(wn,Wr)&&(Ct(Vt)||bt(Vt))})(Ut,Xt,yt)})(Xe,Re):Mt(dt,Qe,void 0,3)}})(oe[0],oe[1]):(function(Re){var dt=(function(Xe){for(var Qe=ge(Xe),Ut=Qe.length;Ut--;){var Xt=Qe[Ut],Vt=Xe[Xt];Qe[Ut]=[Xt,Vt,hr(Vt)]}return Qe})(Re);return dt.length==1&&dt[0][2]?er(dt[0][0],dt[0][1]):function(Xe){return Xe===Re||(function(Qe,Ut,Xt,Vt){var St=Xt.length,_r=St;if(Qe==null)return!_r;for(Qe=Object(Qe);St--;){var kr=Xt[St];if(kr[2]?kr[1]!==Qe[kr[0]]:!(kr[0]in Qe))return!1}for(;++St<_r;){var vr=(kr=Xt[St])[0],Wr=Qe[vr],wn=kr[1];if(kr[2]){if(Wr===void 0&&!(vr in Qe))return!1}else{var nn=new Le,$n;if(!($n===void 0?Mt(wn,Wr,Vt,3,nn):$n))return!1}}return!0})(Xe,Re,dt)}})(oe):Et(ve=oe)?(Te=be(ve),function(Re){return Re?.[Te]}):(function(Re){return function(dt){return Oe(dt,Re)}})(ve);var ve,Te}function nt(oe){if(Te=(ve=oe)&&ve.constructor,Re=typeof Te=="function"&&Te.prototype||D,ve!==Re)return J(oe);var ve,Te,Re,dt=[];for(var Xe in Object(oe))H.call(oe,Xe)&&Xe!="constructor"&&dt.push(Xe);return dt}function gt(oe){return Ct(oe)?oe:Bt(oe)}function ut(oe,ve,Te,Re,dt,Xe){var Qe=2&dt,Ut=oe.length,Xt=ve.length;if(Ut!=Xt&&!(Qe&&Xt>Ut))return!1;var Vt=Xe.get(oe);if(Vt&&Xe.get(ve))return Vt==ve;var St=-1,_r=!0,kr=1&dt?new $e:void 0;for(Xe.set(oe,ve),Xe.set(ve,oe);++St<Ut;){var vr=oe[St],Wr=ve[St];if(Re)var wn=Qe?Re(Wr,vr,St,ve,oe,Xe):Re(vr,Wr,St,oe,ve,Xe);if(wn!==void 0){if(wn)continue;_r=!1;break}if(kr){if(!V(ve,(function(nn,$n){if(!kr.has($n)&&(vr===nn||Te(vr,nn,Re,dt,Xe)))return kr.add($n)}))){_r=!1;break}}else if(vr!==Wr&&!Te(vr,Wr,Re,dt,Xe)){_r=!1;break}}return Xe.delete(oe),Xe.delete(ve),_r}function sr(oe,ve){var Te,Re,dt=oe.__data__;return((Re=typeof(Te=ve))=="string"||Re=="number"||Re=="symbol"||Re=="boolean"?Te!=="__proto__":Te===null)?dt[typeof ve=="string"?"string":"hash"]:dt.map}function _t(oe,ve){var Te=(function(Re,dt){return Re?.[dt]})(oe,ve);return it(Te)?Te:void 0}var ir=function(oe){return Q.call(oe)};function Wt(oe,ve){return!!(ve=ve??9007199254740991)&&(typeof oe=="number"||m.test(oe))&&oe>-1&&oe%1==0&&oe<ve}function Et(oe,ve){if(Ct(oe))return!1;var Te=typeof oe;return!(Te!="number"&&Te!="symbol"&&Te!="boolean"&&oe!=null&&!$r(oe))||h.test(oe)||!d.test(oe)||ve!=null&&oe in Object(ve)}function hr(oe){return oe==oe&&!$t(oe)}function er(oe,ve){return function(Te){return Te!=null&&Te[oe]===ve&&(ve!==void 0||oe in Object(Te))}}(le&&ir(new le(new ArrayBuffer(1)))!="[object DataView]"||ne&&ir(new ne)!=o||ue&&ir(ue.resolve())!="[object Promise]"||Z&&ir(new Z)!=c||te&&ir(new te)!="[object WeakMap]")&&(ir=function(oe){var ve=Q.call(oe),Te=ve==u?oe.constructor:void 0,Re=Te?Se(Te):void 0;if(Re)switch(Re){case ae:return"[object DataView]";case re:return o;case ee:return"[object Promise]";case G:return c;case Y:return"[object WeakMap]"}return ve});var Bt=kt((function(oe){var ve;oe=(ve=oe)==null?"":(function(Re){if(typeof Re=="string")return Re;if($r(Re))return me?me.call(Re):"";var dt=Re+"";return dt=="0"&&1/Re==-1/0?"-0":dt})(ve);var Te=[];return f.test(oe)&&Te.push(""),oe.replace(p,(function(Re,dt,Xe,Qe){Te.push(Xe?Qe.replace(g,"$1"):dt||Re)})),Te}));function be(oe){if(typeof oe=="string"||$r(oe))return oe;var ve=oe+"";return ve=="0"&&1/oe==-1/0?"-0":ve}function Se(oe){if(oe!=null){try{return q.call(oe)}catch{}try{return oe+""}catch{}}return""}var De,He=(De=function(oe,ve,Te){H.call(oe,Te)?oe[Te].push(ve):oe[Te]=[ve]},function(oe,ve){var Te=Ct(oe)?$:Ve,Re={};return Te(oe,De,zt(ve),Re)});function kt(oe,ve){if(typeof oe!="function"||ve&&typeof ve!="function")throw new TypeError("Expected a function");var Te=function(){var Re=arguments,dt=ve?ve.apply(this,Re):Re[0],Xe=Te.cache;if(Xe.has(dt))return Xe.get(dt);var Qe=oe.apply(this,Re);return Te.cache=Xe.set(dt,Qe),Qe};return Te.cache=new(kt.Cache||Ae),Te}function Ze(oe,ve){return oe===ve||oe!=oe&&ve!=ve}function bt(oe){return(function(ve){return Gt(ve)&&mt(ve)})(oe)&&H.call(oe,"callee")&&(!F.call(oe,"callee")||Q.call(oe)==a)}kt.Cache=Ae;var Ct=Array.isArray;function mt(oe){return oe!=null&&It(oe.length)&&!Rt(oe)}function Rt(oe){var ve=$t(oe)?Q.call(oe):"";return ve=="[object Function]"||ve=="[object GeneratorFunction]"}function It(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=9007199254740991}function $t(oe){var ve=typeof oe;return!!oe&&(ve=="object"||ve=="function")}function Gt(oe){return!!oe&&typeof oe=="object"}function $r(oe){return typeof oe=="symbol"||Gt(oe)&&Q.call(oe)=="[object Symbol]"}var pr=P?(function(oe){return function(ve){return oe(ve)}})(P):function(oe){return Gt(oe)&&It(oe.length)&&!!v[Q.call(oe)]};function ge(oe){return mt(oe)?rt(oe):nt(oe)}function Ke(oe){return oe}n.exports=He}).call(this)}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(r,n,s){var i=Object.prototype.toString;n.exports=function(a){return a===!0||a===!1||(function(o){return!!o&&typeof o=="object"})(a)&&i.call(a)=="[object Boolean]"}},{}],445:[function(r,n,s){(function(i){(function(){var a="[object Arguments]",o="[object Map]",u="[object Object]",c="[object Set]",d=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[a]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[o]=f["[object Number]"]=f[u]=f["[object RegExp]"]=f[c]=f["[object String]"]=f["[object WeakMap]"]=!1;var p=typeof i=="object"&&i&&i.Object===Object&&i,g=typeof self=="object"&&self&&self.Object===Object&&self,y=p||g||Function("return this")(),m=typeof s=="object"&&s&&!s.nodeType&&s,v=m&&typeof n=="object"&&n&&!n.nodeType&&n,b=v&&v.exports===m,x=b&&p.process,j=(function(){try{return x&&x.binding&&x.binding("util")}catch{}})(),C=j&&j.isTypedArray;function R(be,Se){for(var De=-1,He=be==null?0:be.length;++De<He;)if(Se(be[De],De,be))return!0;return!1}function L(be){var Se=-1,De=Array(be.size);return be.forEach((function(He,kt){De[++Se]=[kt,He]})),De}function A(be){var Se=-1,De=Array(be.size);return be.forEach((function(He){De[++Se]=He})),De}var P,$,V,U=Array.prototype,E=Function.prototype,I=Object.prototype,N=y["__core-js_shared__"],w=E.toString,_=I.hasOwnProperty,k=(P=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",S=I.toString,D=RegExp("^"+w.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=b?y.Buffer:void 0,B=y.Symbol,q=y.Uint8Array,H=I.propertyIsEnumerable,Q=U.splice,M=B?B.toStringTag:void 0,K=Object.getOwnPropertySymbols,z=O?O.isBuffer:void 0,F=($=Object.keys,V=Object,function(be){return $(V(be))}),W=yt(y,"DataView"),J=yt(y,"Map"),le=yt(y,"Promise"),ne=yt(y,"Set"),ue=yt(y,"WeakMap"),Z=yt(Object,"create"),te=nt(W),X=nt(J),ae=nt(le),re=nt(ne),ee=nt(ue),G=B?B.prototype:void 0,Y=G?G.valueOf:void 0;function ie(be){var Se=-1,De=be==null?0:be.length;for(this.clear();++Se<De;){var He=be[Se];this.set(He[0],He[1])}}function ce(be){var Se=-1,De=be==null?0:be.length;for(this.clear();++Se<De;){var He=be[Se];this.set(He[0],He[1])}}function me(be){var Se=-1,De=be==null?0:be.length;for(this.clear();++Se<De;){var He=be[Se];this.set(He[0],He[1])}}function xe(be){var Se=-1,De=be==null?0:be.length;for(this.__data__=new me;++Se<De;)this.add(be[Se])}function Ce(be){var Se=this.__data__=new ce(be);this.size=Se.size}function Ae(be,Se){var De=sr(be),He=!De&&ut(be),kt=!De&&!He&&_t(be),Ze=!De&&!He&&!kt&&er(be),bt=De||He||kt||Ze,Ct=bt?(function(It,$t){for(var Gt=-1,$r=Array(It);++Gt<It;)$r[Gt]=$t(Gt);return $r})(be.length,String):[],mt=Ct.length;for(var Rt in be)!_.call(be,Rt)||bt&&(Rt=="length"||kt&&(Rt=="offset"||Rt=="parent")||Ze&&(Rt=="buffer"||Rt=="byteLength"||Rt=="byteOffset")||zt(Rt,mt))||Ct.push(Rt);return Ct}function $e(be,Se){for(var De=be.length;De--;)if(gt(be[De][0],Se))return De;return-1}function Le(be){return be==null?be===void 0?"[object Undefined]":"[object Null]":M&&M in Object(be)?(function(Se){var De=_.call(Se,M),He=Se[M];try{Se[M]=void 0;var kt=!0}catch{}var Ze=S.call(Se);return kt&&(De?Se[M]=He:delete Se[M]),Ze})(be):(function(Se){return S.call(Se)})(be)}function rt(be){return hr(be)&&Le(be)==a}function qe(be,Se,De,He,kt){return be===Se||(be==null||Se==null||!hr(be)&&!hr(Se)?be!=be&&Se!=Se:(function(Ze,bt,Ct,mt,Rt,It){var $t=sr(Ze),Gt=sr(bt),$r=$t?"[object Array]":it(Ze),pr=Gt?"[object Array]":it(bt),ge=($r=$r==a?u:$r)==u,Ke=(pr=pr==a?u:pr)==u,oe=$r==pr;if(oe&&_t(Ze)){if(!_t(bt))return!1;$t=!0,ge=!1}if(oe&&!ge)return It||(It=new Ce),$t||er(Ze)?de(Ze,bt,Ct,mt,Rt,It):(function(Xe,Qe,Ut,Xt,Vt,St,_r){switch(Ut){case"[object DataView]":if(Xe.byteLength!=Qe.byteLength||Xe.byteOffset!=Qe.byteOffset)return!1;Xe=Xe.buffer,Qe=Qe.buffer;case"[object ArrayBuffer]":return!(Xe.byteLength!=Qe.byteLength||!St(new q(Xe),new q(Qe)));case"[object Boolean]":case"[object Date]":case"[object Number]":return gt(+Xe,+Qe);case"[object Error]":return Xe.name==Qe.name&&Xe.message==Qe.message;case"[object RegExp]":case"[object String]":return Xe==Qe+"";case o:var kr=L;case c:var vr=1&Xt;if(kr||(kr=A),Xe.size!=Qe.size&&!vr)return!1;var Wr=_r.get(Xe);if(Wr)return Wr==Qe;Xt|=2,_r.set(Xe,Qe);var wn=de(kr(Xe),kr(Qe),Xt,Vt,St,_r);return _r.delete(Xe),wn;case"[object Symbol]":if(Y)return Y.call(Xe)==Y.call(Qe)}return!1})(Ze,bt,$r,Ct,mt,Rt,It);if(!(1&Ct)){var ve=ge&&_.call(Ze,"__wrapped__"),Te=Ke&&_.call(bt,"__wrapped__");if(ve||Te){var Re=ve?Ze.value():Ze,dt=Te?bt.value():bt;return It||(It=new Ce),Rt(Re,dt,Ct,mt,It)}}return oe?(It||(It=new Ce),(function(Xe,Qe,Ut,Xt,Vt,St){var _r=1&Ut,kr=Pe(Xe),vr=kr.length,Wr=Pe(Qe).length;if(vr!=Wr&&!_r)return!1;for(var wn=vr;wn--;){var nn=kr[wn];if(!(_r?nn in Qe:_.call(Qe,nn)))return!1}var $n=St.get(Xe);if($n&&St.get(Qe))return $n==Qe;var Cs=!0;St.set(Xe,Qe),St.set(Qe,Xe);for(var zs=_r;++wn<vr;){nn=kr[wn];var aa=Xe[nn],Bs=Qe[nn];if(Xt)var Er=_r?Xt(Bs,aa,nn,Qe,Xe,St):Xt(aa,Bs,nn,Xe,Qe,St);if(!(Er===void 0?aa===Bs||Vt(aa,Bs,Ut,Xt,St):Er)){Cs=!1;break}zs||(zs=nn=="constructor")}if(Cs&&!zs){var gr=Xe.constructor,oa=Qe.constructor;gr==oa||!("constructor"in Xe)||!("constructor"in Qe)||typeof gr=="function"&&gr instanceof gr&&typeof oa=="function"&&oa instanceof oa||(Cs=!1)}return St.delete(Xe),St.delete(Qe),Cs})(Ze,bt,Ct,mt,Rt,It)):!1})(be,Se,De,He,qe,kt))}function Ve(be){return!(!Et(be)||(function(Se){return!!k&&k in Se})(be))&&(ir(be)?D:d).test(nt(be))}function he(be){if(De=(Se=be)&&Se.constructor,He=typeof De=="function"&&De.prototype||I,Se!==He)return F(be);var Se,De,He,kt=[];for(var Ze in Object(be))_.call(be,Ze)&&Ze!="constructor"&&kt.push(Ze);return kt}function de(be,Se,De,He,kt,Ze){var bt=1&De,Ct=be.length,mt=Se.length;if(Ct!=mt&&!(bt&&mt>Ct))return!1;var Rt=Ze.get(be);if(Rt&&Ze.get(Se))return Rt==Se;var It=-1,$t=!0,Gt=2&De?new xe:void 0;for(Ze.set(be,Se),Ze.set(Se,be);++It<Ct;){var $r=be[It],pr=Se[It];if(He)var ge=bt?He(pr,$r,It,Se,be,Ze):He($r,pr,It,be,Se,Ze);if(ge!==void 0){if(ge)continue;$t=!1;break}if(Gt){if(!R(Se,(function(Ke,oe){if(ve=oe,!Gt.has(ve)&&($r===Ke||kt($r,Ke,De,He,Ze)))return Gt.push(oe);var ve}))){$t=!1;break}}else if($r!==pr&&!kt($r,pr,De,He,Ze)){$t=!1;break}}return Ze.delete(be),Ze.delete(Se),$t}function Pe(be){return(function(Se,De,He){var kt=De(Se);return sr(Se)?kt:(function(Ze,bt){for(var Ct=-1,mt=bt.length,Rt=Ze.length;++Ct<mt;)Ze[Rt+Ct]=bt[Ct];return Ze})(kt,He(Se))})(be,Bt,Mt)}function Oe(be,Se){var De,He,kt=be.__data__;return((He=typeof(De=Se))=="string"||He=="number"||He=="symbol"||He=="boolean"?De!=="__proto__":De===null)?kt[typeof Se=="string"?"string":"hash"]:kt.map}function yt(be,Se){var De=(function(He,kt){return He?.[kt]})(be,Se);return Ve(De)?De:void 0}ie.prototype.clear=function(){this.__data__=Z?Z(null):{},this.size=0},ie.prototype.delete=function(be){var Se=this.has(be)&&delete this.__data__[be];return this.size-=Se?1:0,Se},ie.prototype.get=function(be){var Se=this.__data__;if(Z){var De=Se[be];return De==="__lodash_hash_undefined__"?void 0:De}return _.call(Se,be)?Se[be]:void 0},ie.prototype.has=function(be){var Se=this.__data__;return Z?Se[be]!==void 0:_.call(Se,be)},ie.prototype.set=function(be,Se){var De=this.__data__;return this.size+=this.has(be)?0:1,De[be]=Z&&Se===void 0?"__lodash_hash_undefined__":Se,this},ce.prototype.clear=function(){this.__data__=[],this.size=0},ce.prototype.delete=function(be){var Se=this.__data__,De=$e(Se,be);return!(De<0)&&(De==Se.length-1?Se.pop():Q.call(Se,De,1),--this.size,!0)},ce.prototype.get=function(be){var Se=this.__data__,De=$e(Se,be);return De<0?void 0:Se[De][1]},ce.prototype.has=function(be){return $e(this.__data__,be)>-1},ce.prototype.set=function(be,Se){var De=this.__data__,He=$e(De,be);return He<0?(++this.size,De.push([be,Se])):De[He][1]=Se,this},me.prototype.clear=function(){this.size=0,this.__data__={hash:new ie,map:new(J||ce),string:new ie}},me.prototype.delete=function(be){var Se=Oe(this,be).delete(be);return this.size-=Se?1:0,Se},me.prototype.get=function(be){return Oe(this,be).get(be)},me.prototype.has=function(be){return Oe(this,be).has(be)},me.prototype.set=function(be,Se){var De=Oe(this,be),He=De.size;return De.set(be,Se),this.size+=De.size==He?0:1,this},xe.prototype.add=xe.prototype.push=function(be){return this.__data__.set(be,"__lodash_hash_undefined__"),this},xe.prototype.has=function(be){return this.__data__.has(be)},Ce.prototype.clear=function(){this.__data__=new ce,this.size=0},Ce.prototype.delete=function(be){var Se=this.__data__,De=Se.delete(be);return this.size=Se.size,De},Ce.prototype.get=function(be){return this.__data__.get(be)},Ce.prototype.has=function(be){return this.__data__.has(be)},Ce.prototype.set=function(be,Se){var De=this.__data__;if(De instanceof ce){var He=De.__data__;if(!J||He.length<199)return He.push([be,Se]),this.size=++De.size,this;De=this.__data__=new me(He)}return De.set(be,Se),this.size=De.size,this};var Mt=K?function(be){return be==null?[]:(be=Object(be),(function(Se,De){for(var He=-1,kt=Se==null?0:Se.length,Ze=0,bt=[];++He<kt;){var Ct=Se[He];De(Ct,He,Se)&&(bt[Ze++]=Ct)}return bt})(K(be),(function(Se){return H.call(be,Se)})))}:function(){return[]},it=Le;function zt(be,Se){return!!(Se=Se??9007199254740991)&&(typeof be=="number"||h.test(be))&&be>-1&&be%1==0&&be<Se}function nt(be){if(be!=null){try{return w.call(be)}catch{}try{return be+""}catch{}}return""}function gt(be,Se){return be===Se||be!=be&&Se!=Se}(W&&it(new W(new ArrayBuffer(1)))!="[object DataView]"||J&&it(new J)!=o||le&&it(le.resolve())!="[object Promise]"||ne&&it(new ne)!=c||ue&&it(new ue)!="[object WeakMap]")&&(it=function(be){var Se=Le(be),De=Se==u?be.constructor:void 0,He=De?nt(De):"";if(He)switch(He){case te:return"[object DataView]";case X:return o;case ae:return"[object Promise]";case re:return c;case ee:return"[object WeakMap]"}return Se});var ut=rt((function(){return arguments})())?rt:function(be){return hr(be)&&_.call(be,"callee")&&!H.call(be,"callee")},sr=Array.isArray,_t=z||function(){return!1};function ir(be){if(!Et(be))return!1;var Se=Le(be);return Se=="[object Function]"||Se=="[object GeneratorFunction]"||Se=="[object AsyncFunction]"||Se=="[object Proxy]"}function Wt(be){return typeof be=="number"&&be>-1&&be%1==0&&be<=9007199254740991}function Et(be){var Se=typeof be;return be!=null&&(Se=="object"||Se=="function")}function hr(be){return be!=null&&typeof be=="object"}var er=C?(function(be){return function(Se){return be(Se)}})(C):function(be){return hr(be)&&Wt(be.length)&&!!f[Le(be)]};function Bt(be){return(Se=be)!=null&&Wt(Se.length)&&!ir(Se)?Ae(be):he(be);var Se}n.exports=function(be,Se){return qe(be,Se)}}).call(this)}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(r,n,s){(function(i){(function(){var a=typeof i=="object"&&i&&i.Object===Object&&i,o=typeof self=="object"&&self&&self.Object===Object&&self,u=a||o||Function("return this")(),c=Object.prototype,d=c.hasOwnProperty,h=c.toString,f=u.Symbol,p=f?f.toStringTag:void 0;function g(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":p&&p in Object(y)?(function(m){var v=d.call(m,p),b=m[p];try{m[p]=void 0;var x=!0}catch{}var j=h.call(m);return x&&(v?m[p]=b:delete m[p]),j})(y):(function(m){return h.call(m)})(y)}n.exports=function(y){if(!(function(v){var b=typeof v;return v!=null&&(b=="object"||b=="function")})(y))return!1;var m=g(y);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(r,n,s){n.exports=function(i){return i==null}},{}],448:[function(r,n,s){n.exports=function(i){return i===void 0}},{}],449:[function(r,n,s){(function(i){(function(){var a=/^\[object .+?Constructor\]$/,o=typeof i=="object"&&i&&i.Object===Object&&i,u=typeof self=="object"&&self&&self.Object===Object&&self,c=o||u||Function("return this")();function d(B,q){return!!(B&&B.length)&&(function(H,Q,M){if(Q!=Q)return(function(F,W,J,le){for(var ne=F.length,ue=J+-1;++ue<ne;)if(W(F[ue],ue,F))return ue;return-1})(H,h,M);for(var K=M-1,z=H.length;++K<z;)if(H[K]===Q)return K;return-1})(B,q,0)>-1}function h(B){return B!=B}function f(B,q){return B.has(q)}function p(B){var q=-1,H=Array(B.size);return B.forEach((function(Q){H[++q]=Q})),H}var g,y=Array.prototype,m=Function.prototype,v=Object.prototype,b=c["__core-js_shared__"],x=(g=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",j=m.toString,C=v.hasOwnProperty,R=v.toString,L=RegExp("^"+j.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=y.splice,P=D(c,"Map"),$=D(c,"Set"),V=D(Object,"create");function U(B){var q=-1,H=B?B.length:0;for(this.clear();++q<H;){var Q=B[q];this.set(Q[0],Q[1])}}function E(B){var q=-1,H=B?B.length:0;for(this.clear();++q<H;){var Q=B[q];this.set(Q[0],Q[1])}}function I(B){var q=-1,H=B?B.length:0;for(this.clear();++q<H;){var Q=B[q];this.set(Q[0],Q[1])}}function N(B){var q=-1,H=B?B.length:0;for(this.__data__=new I;++q<H;)this.add(B[q])}function w(B,q){for(var H,Q,M=B.length;M--;)if((H=B[M][0])===(Q=q)||H!=H&&Q!=Q)return M;return-1}function _(B){return!(!O(B)||(q=B,x&&x in q))&&((function(H){var Q=O(H)?R.call(H):"";return Q=="[object Function]"||Q=="[object GeneratorFunction]"})(B)||(function(H){var Q=!1;if(H!=null&&typeof H.toString!="function")try{Q=!!(H+"")}catch{}return Q})(B)?L:a).test((function(H){if(H!=null){try{return j.call(H)}catch{}try{return H+""}catch{}}return""})(B));var q}U.prototype.clear=function(){this.__data__=V?V(null):{}},U.prototype.delete=function(B){return this.has(B)&&delete this.__data__[B]},U.prototype.get=function(B){var q=this.__data__;if(V){var H=q[B];return H==="__lodash_hash_undefined__"?void 0:H}return C.call(q,B)?q[B]:void 0},U.prototype.has=function(B){var q=this.__data__;return V?q[B]!==void 0:C.call(q,B)},U.prototype.set=function(B,q){return this.__data__[B]=V&&q===void 0?"__lodash_hash_undefined__":q,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(B){var q=this.__data__,H=w(q,B);return!(H<0)&&(H==q.length-1?q.pop():A.call(q,H,1),!0)},E.prototype.get=function(B){var q=this.__data__,H=w(q,B);return H<0?void 0:q[H][1]},E.prototype.has=function(B){return w(this.__data__,B)>-1},E.prototype.set=function(B,q){var H=this.__data__,Q=w(H,B);return Q<0?H.push([B,q]):H[Q][1]=q,this},I.prototype.clear=function(){this.__data__={hash:new U,map:new(P||E),string:new U}},I.prototype.delete=function(B){return S(this,B).delete(B)},I.prototype.get=function(B){return S(this,B).get(B)},I.prototype.has=function(B){return S(this,B).has(B)},I.prototype.set=function(B,q){return S(this,B).set(B,q),this},N.prototype.add=N.prototype.push=function(B){return this.__data__.set(B,"__lodash_hash_undefined__"),this},N.prototype.has=function(B){return this.__data__.has(B)};var k=$&&1/p(new $([,-0]))[1]==1/0?function(B){return new $(B)}:function(){};function S(B,q){var H,Q,M=B.__data__;return((Q=typeof(H=q))=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?H!=="__proto__":H===null)?M[typeof q=="string"?"string":"hash"]:M.map}function D(B,q){var H=(function(Q,M){return Q?.[M]})(B,q);return _(H)?H:void 0}function O(B){var q=typeof B;return!!B&&(q=="object"||q=="function")}n.exports=function(B){return B&&B.length?(function(q,H,Q){var M=-1,K=d,z=q.length,F=!0,W=[],J=W;if(z>=200){var le=k(q);if(le)return p(le);F=!1,K=f,J=new N}else J=W;e:for(;++M<z;){var ne=q[M],ue=ne;if(ne=ne!==0?ne:0,F&&ue==ue){for(var Z=J.length;Z--;)if(J[Z]===ue)continue e;W.push(ne)}else K(J,ue,Q)||(J!==W&&J.push(ue),W.push(ne))}return W})(B):[]}}).call(this)}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(r,n,s){var i=r("inherits"),a=r("hash-base"),o=r("safe-buffer").Buffer,u=new Array(16);function c(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function d(y,m){return y<<m|y>>>32-m}function h(y,m,v,b,x,j,C){return d(y+(m&v|~m&b)+x+j|0,C)+m|0}function f(y,m,v,b,x,j,C){return d(y+(m&b|v&~b)+x+j|0,C)+m|0}function p(y,m,v,b,x,j,C){return d(y+(m^v^b)+x+j|0,C)+m|0}function g(y,m,v,b,x,j,C){return d(y+(v^(m|~b))+x+j|0,C)+m|0}i(c,a),c.prototype._update=function(){for(var y=u,m=0;m<16;++m)y[m]=this._block.readInt32LE(4*m);var v=this._a,b=this._b,x=this._c,j=this._d;v=h(v,b,x,j,y[0],3614090360,7),j=h(j,v,b,x,y[1],3905402710,12),x=h(x,j,v,b,y[2],606105819,17),b=h(b,x,j,v,y[3],3250441966,22),v=h(v,b,x,j,y[4],4118548399,7),j=h(j,v,b,x,y[5],1200080426,12),x=h(x,j,v,b,y[6],2821735955,17),b=h(b,x,j,v,y[7],4249261313,22),v=h(v,b,x,j,y[8],1770035416,7),j=h(j,v,b,x,y[9],2336552879,12),x=h(x,j,v,b,y[10],4294925233,17),b=h(b,x,j,v,y[11],2304563134,22),v=h(v,b,x,j,y[12],1804603682,7),j=h(j,v,b,x,y[13],4254626195,12),x=h(x,j,v,b,y[14],2792965006,17),v=f(v,b=h(b,x,j,v,y[15],1236535329,22),x,j,y[1],4129170786,5),j=f(j,v,b,x,y[6],3225465664,9),x=f(x,j,v,b,y[11],643717713,14),b=f(b,x,j,v,y[0],3921069994,20),v=f(v,b,x,j,y[5],3593408605,5),j=f(j,v,b,x,y[10],38016083,9),x=f(x,j,v,b,y[15],3634488961,14),b=f(b,x,j,v,y[4],3889429448,20),v=f(v,b,x,j,y[9],568446438,5),j=f(j,v,b,x,y[14],3275163606,9),x=f(x,j,v,b,y[3],4107603335,14),b=f(b,x,j,v,y[8],1163531501,20),v=f(v,b,x,j,y[13],2850285829,5),j=f(j,v,b,x,y[2],4243563512,9),x=f(x,j,v,b,y[7],1735328473,14),v=p(v,b=f(b,x,j,v,y[12],2368359562,20),x,j,y[5],4294588738,4),j=p(j,v,b,x,y[8],2272392833,11),x=p(x,j,v,b,y[11],1839030562,16),b=p(b,x,j,v,y[14],4259657740,23),v=p(v,b,x,j,y[1],2763975236,4),j=p(j,v,b,x,y[4],1272893353,11),x=p(x,j,v,b,y[7],4139469664,16),b=p(b,x,j,v,y[10],3200236656,23),v=p(v,b,x,j,y[13],681279174,4),j=p(j,v,b,x,y[0],3936430074,11),x=p(x,j,v,b,y[3],3572445317,16),b=p(b,x,j,v,y[6],76029189,23),v=p(v,b,x,j,y[9],3654602809,4),j=p(j,v,b,x,y[12],3873151461,11),x=p(x,j,v,b,y[15],530742520,16),v=g(v,b=p(b,x,j,v,y[2],3299628645,23),x,j,y[0],4096336452,6),j=g(j,v,b,x,y[7],1126891415,10),x=g(x,j,v,b,y[14],2878612391,15),b=g(b,x,j,v,y[5],4237533241,21),v=g(v,b,x,j,y[12],1700485571,6),j=g(j,v,b,x,y[3],2399980690,10),x=g(x,j,v,b,y[10],4293915773,15),b=g(b,x,j,v,y[1],2240044497,21),v=g(v,b,x,j,y[8],1873313359,6),j=g(j,v,b,x,y[15],4264355552,10),x=g(x,j,v,b,y[6],2734768916,15),b=g(b,x,j,v,y[13],1309151649,21),v=g(v,b,x,j,y[4],4149444226,6),j=g(j,v,b,x,y[11],3174756917,10),x=g(x,j,v,b,y[2],718787259,15),b=g(b,x,j,v,y[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+b|0,this._c=this._c+x|0,this._d=this._d+j|0},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=o.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},n.exports=c},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(r,n,s){var i=r("bn.js"),a=r("brorand");function o(u){this.rand=u||new a.Rand}n.exports=o,o.create=function(u){return new o(u)},o.prototype._randbelow=function(u){var c=u.bitLength(),d=Math.ceil(c/8);do var h=new i(this.rand.generate(d));while(h.cmp(u)>=0);return h},o.prototype._randrange=function(u,c){var d=c.sub(u);return u.add(this._randbelow(d))},o.prototype.test=function(u,c,d){var h=u.bitLength(),f=i.mont(u),p=new i(1).toRed(f);c||(c=Math.max(1,h/48|0));for(var g=u.subn(1),y=0;!g.testn(y);y++);for(var m=u.shrn(y),v=g.toRed(f);c>0;c--){var b=this._randrange(new i(2),g);d&&d(b);var x=b.toRed(f).redPow(m);if(x.cmp(p)!==0&&x.cmp(v)!==0){for(var j=1;j<y;j++){if((x=x.redSqr()).cmp(p)===0)return!1;if(x.cmp(v)===0)break}if(j===y)return!1}}return!0},o.prototype.getDivisor=function(u,c){var d=u.bitLength(),h=i.mont(u),f=new i(1).toRed(h);c||(c=Math.max(1,d/48|0));for(var p=u.subn(1),g=0;!p.testn(g);g++);for(var y=u.shrn(g),m=p.toRed(h);c>0;c--){var v=this._randrange(new i(2),p),b=u.gcd(v);if(b.cmpn(1)!==0)return b;var x=v.toRed(h).redPow(y);if(x.cmp(f)!==0&&x.cmp(m)!==0){for(var j=1;j<g;j++){if((x=x.redSqr()).cmp(f)===0)return x.fromRed().subn(1).gcd(u);if(x.cmp(m)===0)break}if(j===g)return(x=x.redSqr()).fromRed().subn(1).gcd(u)}}return!1}},{"bn.js":452,brorand:187}],452:[function(r,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(r,n,s){function i(a,o){if(!a)throw new Error(o||"Assertion failed")}n.exports=i,i.equal=function(a,o,u){if(a!=o)throw new Error(u||"Assertion failed: "+a+" != "+o)}},{}],454:[function(r,n,s){var i=s;function a(u){return u.length===1?"0"+u:u}function o(u){for(var c="",d=0;d<u.length;d++)c+=a(u[d].toString(16));return c}i.toArray=function(u,c){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u!="string"){for(var h=0;h<u.length;h++)d[h]=0|u[h];return d}if(c==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),h=0;h<u.length;h+=2)d.push(parseInt(u[h]+u[h+1],16));else for(h=0;h<u.length;h++){var f=u.charCodeAt(h),p=f>>8,g=255&f;p?d.push(p,g):d.push(g)}return d},i.zero2=a,i.toHex=o,i.encode=function(u,c){return c==="hex"?o(u):u}},{}],455:[function(r,n,s){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(r,n,s){var i=r("asn1.js");s.certificate=r("./certificate");var a=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));s.RSAPrivateKey=a;var o=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));s.RSAPublicKey=o;var u=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())}));s.PublicKey=u;var c=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),d=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())}));s.PrivateKey=d;var h=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));s.EncryptedPrivateKey=h;var f=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));s.DSAPrivateKey=f,s.DSAparam=i.define("DSAparam",(function(){this.int()}));var p=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())}));s.ECPrivateKey=p;var g=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));s.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(r,n,s){var i=r("asn1.js"),a=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),u=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),c=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())})),d=i.define("RelativeDistinguishedName",(function(){this.setof(o)})),h=i.define("RDNSequence",(function(){this.seqof(d)})),f=i.define("Name",(function(){this.choice({rdnSequence:this.use(h)})})),p=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))})),g=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),y=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(u),this.key("issuer").use(f),this.key("validity").use(p),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(c),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())})),m=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(u),this.key("signatureValue").bitstr())}));n.exports=m},{"asn1.js":170}],458:[function(r,n,s){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,u=r("evp_bytestokey"),c=r("browserify-aes"),d=r("safe-buffer").Buffer;n.exports=function(h,f){var p,g=h.toString(),y=g.match(i);if(y){var m="aes"+y[1],v=d.from(y[2],"hex"),b=d.from(y[3].replace(/[\r\n]/g,""),"base64"),x=u(f,v.slice(0,8),parseInt(y[1],10)).key,j=[],C=c.createDecipheriv(m,x,v);j.push(C.update(b)),j.push(C.final()),p=d.concat(j)}else{var R=g.match(o);p=d.from(R[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(a)[1],data:p}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(r,n,s){var i=r("./asn1"),a=r("./aesid.json"),o=r("./fixProc"),u=r("browserify-aes"),c=r("pbkdf2"),d=r("safe-buffer").Buffer;function h(f){var p;typeof f!="object"||d.isBuffer(f)||(p=f.passphrase,f=f.key),typeof f=="string"&&(f=d.from(f));var g,y,m=o(f,p),v=m.tag,b=m.data;switch(v){case"CERTIFICATE":y=i.certificate.decode(b,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=i.PublicKey.decode(b,"der")),g=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=i.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":b=(function(x,j){var C=x.algorithm.decrypt.kde.kdeparams.salt,R=parseInt(x.algorithm.decrypt.kde.kdeparams.iters.toString(),10),L=a[x.algorithm.decrypt.cipher.algo.join(".")],A=x.algorithm.decrypt.cipher.iv,P=x.subjectPrivateKey,$=parseInt(L.split("-")[1],10)/8,V=c.pbkdf2Sync(j,C,R,$,"sha1"),U=u.createDecipheriv(L,V,A),E=[];return E.push(U.update(P)),E.push(U.final()),d.concat(E)})(b=i.EncryptedPrivateKey.decode(b,"der"),p);case"PRIVATE KEY":switch(g=(y=i.PrivateKey.decode(b,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:i.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=i.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(b,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(b,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(b,"der")};case"EC PRIVATE KEY":return{curve:(b=i.ECPrivateKey.decode(b,"der")).parameters.value,privateKey:b.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=h,h.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(r,n,s){s.pbkdf2=r("./lib/async"),s.pbkdf2Sync=r("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(r,n,s){(function(i){(function(){var a,o,u=r("safe-buffer").Buffer,c=r("./precondition"),d=r("./default-encoding"),h=r("./sync"),f=r("./to-buffer"),p=i.crypto&&i.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function m(){return o||(o=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function v(b,x,j,C,R){return p.importKey("raw",b,{name:"PBKDF2"},!1,["deriveBits"]).then((function(L){return p.deriveBits({name:"PBKDF2",salt:x,iterations:j,hash:{name:R}},L,C<<3)})).then((function(L){return u.from(L)}))}n.exports=function(b,x,j,C,R,L){typeof R=="function"&&(L=R,R=void 0);var A=g[(R=R||"sha1").toLowerCase()];if(A&&typeof i.Promise=="function"){if(c(j,C),b=f(b,d,"Password"),x=f(x,d,"Salt"),typeof L!="function")throw new Error("No callback provided to pbkdf2");(function(P,$){P.then((function(V){m()((function(){$(null,V)}))}),(function(V){m()((function(){$(V)}))}))})((function(P){if(i.process&&!i.process.browser||!p||!p.importKey||!p.deriveBits)return Promise.resolve(!1);if(y[P]!==void 0)return y[P];var $=v(a=a||u.alloc(8),a,10,128,P).then((function(){return!0})).catch((function(){return!1}));return y[P]=$,$})(A).then((function(P){return P?v(b,x,j,C,A):h(b,x,j,C,R)})),L)}else m()((function(){var P;try{P=h(b,x,j,C,R)}catch($){return L($)}L(null,P)}))}}).call(this)}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(r,n,s){(function(i,a){(function(){var o;a.process&&a.process.browser?o="utf-8":a.process&&a.process.version?o=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",n.exports=o}).call(this)}).call(this,r("_process"),typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(r,n,s){var i=Math.pow(2,30)-1;n.exports=function(a,o){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>i||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(r,n,s){var i=r("create-hash/md5"),a=r("ripemd160"),o=r("sha.js"),u=r("safe-buffer").Buffer,c=r("./precondition"),d=r("./default-encoding"),h=r("./to-buffer"),f=u.alloc(128),p={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(y,m,v){var b=(function(A){function P($){return o(A).update($).digest()}return A==="rmd160"||A==="ripemd160"?function($){return new a().update($).digest()}:A==="md5"?i:P})(y),x=y==="sha512"||y==="sha384"?128:64;m.length>x?m=b(m):m.length<x&&(m=u.concat([m,f],x));for(var j=u.allocUnsafe(x+p[y]),C=u.allocUnsafe(x+p[y]),R=0;R<x;R++)j[R]=54^m[R],C[R]=92^m[R];var L=u.allocUnsafe(x+v+4);j.copy(L,0,0,x),this.ipad1=L,this.ipad2=j,this.opad=C,this.alg=y,this.blocksize=x,this.hash=b,this.size=p[y]}g.prototype.run=function(y,m){return y.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(y,m,v,b,x){c(v,b);var j=new g(x=x||"sha1",y=h(y,d,"Password"),(m=h(m,d,"Salt")).length),C=u.allocUnsafe(b),R=u.allocUnsafe(m.length+4);m.copy(R,0,0,m.length);for(var L=0,A=p[x],P=Math.ceil(b/A),$=1;$<=P;$++){R.writeUInt32BE($,m.length);for(var V=j.run(R,j.ipad1),U=V,E=1;E<v;E++){U=j.run(U,j.ipad2);for(var I=0;I<A;I++)V[I]^=U[I]}V.copy(C,L),L+=A}return C}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(r,n,s){var i=r("safe-buffer").Buffer;n.exports=function(a,o,u){if(i.isBuffer(a))return a;if(typeof a=="string")return i.from(a,o);if(ArrayBuffer.isView(a))return i.from(a.buffer);throw new TypeError(u+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(r,n,s){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(a,o,u,c){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var d,h,f=arguments.length;switch(f){case 0:case 1:return i.nextTick(a);case 2:return i.nextTick((function(){a.call(null,o)}));case 3:return i.nextTick((function(){a.call(null,o,u)}));case 4:return i.nextTick((function(){a.call(null,o,u,c)}));default:for(d=new Array(f-1),h=0;h<d.length;)d[h++]=arguments[h];return i.nextTick((function(){a.apply(null,d)}))}}}:n.exports=i}).call(this)}).call(this,r("_process"))},{_process:467}],467:[function(r,n,s){var i,a,o=n.exports={};function u(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function d(x){if(i===setTimeout)return setTimeout(x,0);if((i===u||!i)&&setTimeout)return i=setTimeout,setTimeout(x,0);try{return i(x,0)}catch{try{return i.call(null,x,0)}catch{return i.call(this,x,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:u}catch{i=u}try{a=typeof clearTimeout=="function"?clearTimeout:c}catch{a=c}})();var h,f=[],p=!1,g=-1;function y(){p&&h&&(p=!1,h.length?f=h.concat(f):g=-1,f.length&&m())}function m(){if(!p){var x=d(y);p=!0;for(var j=f.length;j;){for(h=f,f=[];++g<j;)h&&h[g].run();g=-1,j=f.length}h=null,p=!1,(function(C){if(a===clearTimeout)return clearTimeout(C);if((a===c||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(C);try{a(C)}catch{try{return a.call(null,C)}catch{return a.call(this,C)}}})(x)}}function v(x,j){this.fun=x,this.array=j}function b(){}o.nextTick=function(x){var j=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)j[C-1]=arguments[C];f.push(new v(x,j)),f.length!==1||p||d(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(x){return[]},o.binding=function(x){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(x){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(r,n,s){s.publicEncrypt=r("./publicEncrypt"),s.privateDecrypt=r("./privateDecrypt"),s.privateEncrypt=function(i,a){return s.publicEncrypt(i,a,!0)},s.publicDecrypt=function(i,a){return s.privateDecrypt(i,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(r,n,s){var i=r("create-hash"),a=r("safe-buffer").Buffer;function o(u){var c=a.allocUnsafe(4);return c.writeUInt32BE(u,0),c}n.exports=function(u,c){for(var d,h=a.alloc(0),f=0;h.length<c;)d=o(f++),h=a.concat([h,i("sha1").update(u).update(d).digest()]);return h.slice(0,c)}},{"create-hash":386,"safe-buffer":494}],470:[function(r,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(r,n,s){var i=r("parse-asn1"),a=r("./mgf"),o=r("./xor"),u=r("bn.js"),c=r("browserify-rsa"),d=r("create-hash"),h=r("./withPublic"),f=r("safe-buffer").Buffer;n.exports=function(p,g,y){var m;m=p.padding?p.padding:y?1:4;var v,b=i(p),x=b.modulus.byteLength();if(g.length>x||new u(g).cmp(b.modulus)>=0)throw new Error("decryption error");v=y?h(new u(g),b):c(g,b);var j=f.alloc(x-v.length);if(v=f.concat([j,v],x),m===4)return(function(C,R){var L=C.modulus.byteLength(),A=d("sha1").update(f.alloc(0)).digest(),P=A.length;if(R[0]!==0)throw new Error("decryption error");var $=R.slice(1,P+1),V=R.slice(P+1),U=o($,a(V,P)),E=o(V,a(U,L-P-1));if((function(N,w){N=f.from(N),w=f.from(w);var _=0,k=N.length;N.length!==w.length&&(_++,k=Math.min(N.length,w.length));for(var S=-1;++S<k;)_+=N[S]^w[S];return _})(A,E.slice(0,P)))throw new Error("decryption error");for(var I=P;E[I]===0;)I++;if(E[I++]!==1)throw new Error("decryption error");return E.slice(I)})(b,v);if(m===1)return(function(C,R,L){for(var A=R.slice(0,2),P=2,$=0;R[P++]!==0;)if(P>=R.length){$++;break}var V=R.slice(2,P-1);if((A.toString("hex")!=="0002"&&!L||A.toString("hex")!=="0001"&&L)&&$++,V.length<8&&$++,$)throw new Error("decryption error");return R.slice(P)})(0,v,y);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(r,n,s){var i=r("parse-asn1"),a=r("randombytes"),o=r("create-hash"),u=r("./mgf"),c=r("./xor"),d=r("bn.js"),h=r("./withPublic"),f=r("browserify-rsa"),p=r("safe-buffer").Buffer;n.exports=function(g,y,m){var v;v=g.padding?g.padding:m?1:4;var b,x=i(g);if(v===4)b=(function(j,C){var R=j.modulus.byteLength(),L=C.length,A=o("sha1").update(p.alloc(0)).digest(),P=A.length,$=2*P;if(L>R-$-2)throw new Error("message too long");var V=p.alloc(R-L-$-2),U=R-P-1,E=a(P),I=c(p.concat([A,V,p.alloc(1,1),C],U),u(E,U)),N=c(E,u(I,P));return new d(p.concat([p.alloc(1),N,I],R))})(x,y);else if(v===1)b=(function(j,C,R){var L,A=C.length,P=j.modulus.byteLength();if(A>P-11)throw new Error("message too long");return L=R?p.alloc(P-A-3,255):(function($){for(var V,U=p.allocUnsafe($),E=0,I=a(2*$),N=0;E<$;)N===I.length&&(I=a(2*$),N=0),(V=I[N++])&&(U[E++]=V);return U})(P-A-3),new d(p.concat([p.from([0,R?1:2]),L,p.alloc(1),C],P))})(x,y,m);else{if(v!==3)throw new Error("unknown padding");if((b=new d(y)).cmp(x.modulus)>=0)throw new Error("data too long for modulus")}return m?f(b,x):h(b,x)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(r,n,s){var i=r("bn.js"),a=r("safe-buffer").Buffer;n.exports=function(o,u){return a.from(o.toRed(i.mont(u.modulus)).redPow(new i(u.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(r,n,s){n.exports=function(i,a){for(var o=i.length,u=-1;++u<o;)i[u]^=a[u];return i}},{}],475:[function(r,n,s){(function(i,a){(function(){var o=r("safe-buffer").Buffer,u=a.crypto||a.msCrypto;u&&u.getRandomValues?n.exports=function(c,d){if(c>4294967295)throw new RangeError("requested too many random bytes");var h=o.allocUnsafe(c);if(c>0)if(c>65536)for(var f=0;f<c;f+=65536)u.getRandomValues(h.slice(f,f+65536));else u.getRandomValues(h);return typeof d=="function"?i.nextTick((function(){d(null,h)})):h}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,r("_process"),typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(r,n,s){(function(i,a){(function(){function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var u=r("safe-buffer"),c=r("randombytes"),d=u.Buffer,h=u.kMaxLength,f=a.crypto||a.msCrypto,p=Math.pow(2,32)-1;function g(v,b){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>p||v<0)throw new TypeError("offset must be a uint32");if(v>h||v>b)throw new RangeError("offset out of range")}function y(v,b,x){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>p||v<0)throw new TypeError("size must be a uint32");if(v+b>x||v>h)throw new RangeError("buffer too small")}function m(v,b,x,j){if(i.browser){var C=v.buffer,R=new Uint8Array(C,b,x);return f.getRandomValues(R),j?void i.nextTick((function(){j(null,v)})):v}if(!j)return c(x).copy(v,b),v;c(x,(function(L,A){if(L)return j(L);A.copy(v,b),j(null,v)}))}f&&f.getRandomValues||!i.browser?(s.randomFill=function(v,b,x,j){if(!(d.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")j=b,b=0,x=v.length;else if(typeof x=="function")j=x,x=v.length-b;else if(typeof j!="function")throw new TypeError('"cb" argument must be a function');return g(b,v.length),y(x,b,v.length),m(v,b,x,j)},s.randomFillSync=function(v,b,x){if(b===void 0&&(b=0),!(d.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(b,v.length),x===void 0&&(x=v.length-b),y(x,b,v.length),m(v,b,x)}):(s.randomFill=o,s.randomFillSync=o)}).call(this)}).call(this,r("_process"),typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(r,n,s){var i={};function a(u,c,d){d||(d=Error);var h=(function(f){var p,g;function y(m,v,b){return f.call(this,(function(x,j,C){return typeof c=="string"?c:c(x,j,C)})(m,v,b))||this}return g=f,(p=y).prototype=Object.create(g.prototype),p.prototype.constructor=p,p.__proto__=g,y})(d);h.prototype.name=d.name,h.prototype.code=u,i[u]=h}function o(u,c){if(Array.isArray(u)){var d=u.length;return u=u.map((function(h){return String(h)})),d>2?"one of ".concat(c," ").concat(u.slice(0,d-1).join(", "),", or ")+u[d-1]:d===2?"one of ".concat(c," ").concat(u[0]," or ").concat(u[1]):"of ".concat(c," ").concat(u[0])}return"of ".concat(c," ").concat(String(u))}a("ERR_INVALID_OPT_VALUE",(function(u,c){return'The value "'+c+'" is invalid for option "'+u+'"'}),TypeError),a("ERR_INVALID_ARG_TYPE",(function(u,c,d){var h,f,p;if(typeof c=="string"&&(f="not ",c.substr(0,f.length)===f)?(h="must not be",c=c.replace(/^not /,"")):h="must be",(function(y,m,v){return(v===void 0||v>y.length)&&(v=y.length),y.substring(v-m.length,v)===m})(u," argument"))p="The ".concat(u," ").concat(h," ").concat(o(c,"type"));else{var g=(function(y,m,v){return typeof v!="number"&&(v=0),!(v+m.length>y.length)&&y.indexOf(m,v)!==-1})(u,".")?"property":"argument";p='The "'.concat(u,'" ').concat(g," ").concat(h," ").concat(o(c,"type"))}return p+=". Received type ".concat(typeof d)}),TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",(function(u){return"The "+u+" method is not implemented"})),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",(function(u){return"Cannot call "+u+" after a stream was destroyed"})),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",(function(u){return"Unknown encoding: "+u}),TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=i},{}],478:[function(r,n,s){(function(i){(function(){var a=Object.keys||function(y){var m=[];for(var v in y)m.push(v);return m};n.exports=f;var o=r("./_stream_readable"),u=r("./_stream_writable");r("inherits")(f,o);for(var c=a(u.prototype),d=0;d<c.length;d++){var h=c[d];f.prototype[h]||(f.prototype[h]=u.prototype[h])}function f(y){if(!(this instanceof f))return new f(y);o.call(this,y),u.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p)))}function p(){this._writableState.ended||i.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,r("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(r,n,s){n.exports=a;var i=r("./_stream_transform");function a(o){if(!(this instanceof a))return new a(o);i.call(this,o)}r("inherits")(a,i),a.prototype._transform=function(o,u,c){c(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(r,n,s){(function(i,a){(function(){var o;n.exports=U,U.ReadableState=V,r("events").EventEmitter;var u=function(z,F){return z.listeners(F).length},c=r("./internal/streams/stream"),d=r("buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,p=r("util");f=p&&p.debuglog?p.debuglog("stream"):function(){};var g,y,m,v=r("./internal/streams/buffer_list"),b=r("./internal/streams/destroy"),x=r("./internal/streams/state").getHighWaterMark,j=r("../errors").codes,C=j.ERR_INVALID_ARG_TYPE,R=j.ERR_STREAM_PUSH_AFTER_EOF,L=j.ERR_METHOD_NOT_IMPLEMENTED,A=j.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("inherits")(U,c);var P=b.errorOrDestroy,$=["error","close","destroy","pause","resume"];function V(z,F,W){o=o||r("./_stream_duplex"),z=z||{},typeof W!="boolean"&&(W=F instanceof o),this.objectMode=!!z.objectMode,W&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=x(this,z,"readableHighWaterMark",W),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(g||(g=r("string_decoder/").StringDecoder),this.decoder=new g(z.encoding),this.encoding=z.encoding)}function U(z){if(o=o||r("./_stream_duplex"),!(this instanceof U))return new U(z);var F=this instanceof o;this._readableState=new V(z,this,F),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),c.call(this)}function E(z,F,W,J,le){f("readableAddChunk",F);var ne,ue=z._readableState;if(F===null)ue.reading=!1,(function(Z,te){if(f("onEofChunk"),!te.ended){if(te.decoder){var X=te.decoder.end();X&&X.length&&(te.buffer.push(X),te.length+=te.objectMode?1:X.length)}te.ended=!0,te.sync?w(Z):(te.needReadable=!1,te.emittedReadable||(te.emittedReadable=!0,_(Z)))}})(z,ue);else if(le||(ne=(function(Z,te){var X;ae=te,d.isBuffer(ae)||ae instanceof h||typeof te=="string"||te===void 0||Z.objectMode||(X=new C("chunk",["string","Buffer","Uint8Array"],te));var ae;return X})(ue,F)),ne)P(z,ne);else if(ue.objectMode||F&&F.length>0)if(typeof F=="string"||ue.objectMode||Object.getPrototypeOf(F)===d.prototype||(F=(function(Z){return d.from(Z)})(F)),J)ue.endEmitted?P(z,new A):I(z,ue,F,!0);else if(ue.ended)P(z,new R);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!W?(F=ue.decoder.write(F),ue.objectMode||F.length!==0?I(z,ue,F,!1):k(z,ue)):I(z,ue,F,!1)}else J||(ue.reading=!1,k(z,ue));return!ue.ended&&(ue.length<ue.highWaterMark||ue.length===0)}function I(z,F,W,J){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,z.emit("data",W)):(F.length+=F.objectMode?1:W.length,J?F.buffer.unshift(W):F.buffer.push(W),F.needReadable&&w(z)),k(z,F)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z)}}),U.prototype.destroy=b.destroy,U.prototype._undestroy=b.undestroy,U.prototype._destroy=function(z,F){F(z)},U.prototype.push=function(z,F){var W,J=this._readableState;return J.objectMode?W=!0:typeof z=="string"&&((F=F||J.defaultEncoding)!==J.encoding&&(z=d.from(z,F),F=""),W=!0),E(this,z,F,!1,W)},U.prototype.unshift=function(z){return E(this,z,null,!0,!1)},U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(z){g||(g=r("string_decoder/").StringDecoder);var F=new g(z);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,J="";W!==null;)J+=F.write(W.data),W=W.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};function N(z,F){return z<=0||F.length===0&&F.ended?0:F.objectMode?1:z!=z?F.flowing&&F.length?F.buffer.head.data.length:F.length:(z>F.highWaterMark&&(F.highWaterMark=(function(W){return W>=1073741824?W=1073741824:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W})(z)),z<=F.length?z:F.ended?F.length:(F.needReadable=!0,0))}function w(z){var F=z._readableState;f("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(f("emitReadable",F.flowing),F.emittedReadable=!0,i.nextTick(_,z))}function _(z){var F=z._readableState;f("emitReadable_",F.destroyed,F.length,F.ended),F.destroyed||!F.length&&!F.ended||(z.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,q(z)}function k(z,F){F.readingMore||(F.readingMore=!0,i.nextTick(S,z,F))}function S(z,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var W=F.length;if(f("maybeReadMore read 0"),z.read(0),W===F.length)break}F.readingMore=!1}function D(z){var F=z._readableState;F.readableListening=z.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:z.listenerCount("data")>0&&z.resume()}function O(z){f("readable nexttick read 0"),z.read(0)}function B(z,F){f("resume",F.reading),F.reading||z.read(0),F.resumeScheduled=!1,z.emit("resume"),q(z),F.flowing&&!F.reading&&z.read(0)}function q(z){var F=z._readableState;for(f("flow",F.flowing);F.flowing&&z.read()!==null;);}function H(z,F){return F.length===0?null:(F.objectMode?W=F.buffer.shift():!z||z>=F.length?(W=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.first():F.buffer.concat(F.length),F.buffer.clear()):W=F.buffer.consume(z,F.decoder),W);var W}function Q(z){var F=z._readableState;f("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,i.nextTick(M,F,z))}function M(z,F){if(f("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,F.readable=!1,F.emit("end"),z.autoDestroy)){var W=F._writableState;(!W||W.autoDestroy&&W.finished)&&F.destroy()}}function K(z,F){for(var W=0,J=z.length;W<J;W++)if(z[W]===F)return W;return-1}U.prototype.read=function(z){f("read",z),z=parseInt(z,10);var F=this._readableState,W=z;if(z!==0&&(F.emittedReadable=!1),z===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return f("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?Q(this):w(this),null;if((z=N(z,F))===0&&F.ended)return F.length===0&&Q(this),null;var J,le=F.needReadable;return f("need readable",le),(F.length===0||F.length-z<F.highWaterMark)&&f("length less than watermark",le=!0),F.ended||F.reading?f("reading or ended",le=!1):le&&(f("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(z=N(W,F))),(J=z>0?H(z,F):null)===null?(F.needReadable=F.length<=F.highWaterMark,z=0):(F.length-=z,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),W!==z&&F.ended&&Q(this)),J!==null&&this.emit("data",J),J},U.prototype._read=function(z){P(this,new L("_read()"))},U.prototype.pipe=function(z,F){var W=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=z;break;case 1:J.pipes=[J.pipes,z];break;default:J.pipes.push(z)}J.pipesCount+=1,f("pipe count=%d opts=%j",J.pipesCount,F);var le=(!F||F.end!==!1)&&z!==i.stdout&&z!==i.stderr?ue:G;function ne(Y,ie){f("onunpipe"),Y===W&&ie&&ie.hasUnpiped===!1&&(ie.hasUnpiped=!0,f("cleanup"),z.removeListener("close",re),z.removeListener("finish",ee),z.removeListener("drain",Z),z.removeListener("error",ae),z.removeListener("unpipe",ne),W.removeListener("end",ue),W.removeListener("end",G),W.removeListener("data",X),te=!0,!J.awaitDrain||z._writableState&&!z._writableState.needDrain||Z())}function ue(){f("onend"),z.end()}J.endEmitted?i.nextTick(le):W.once("end",le),z.on("unpipe",ne);var Z=(function(Y){return function(){var ie=Y._readableState;f("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&u(Y,"data")&&(ie.flowing=!0,q(Y))}})(W);z.on("drain",Z);var te=!1;function X(Y){f("ondata");var ie=z.write(Y);f("dest.write",ie),ie===!1&&((J.pipesCount===1&&J.pipes===z||J.pipesCount>1&&K(J.pipes,z)!==-1)&&!te&&(f("false write response, pause",J.awaitDrain),J.awaitDrain++),W.pause())}function ae(Y){f("onerror",Y),G(),z.removeListener("error",ae),u(z,"error")===0&&P(z,Y)}function re(){z.removeListener("finish",ee),G()}function ee(){f("onfinish"),z.removeListener("close",re),G()}function G(){f("unpipe"),W.unpipe(z)}return W.on("data",X),(function(Y,ie,ce){if(typeof Y.prependListener=="function")return Y.prependListener(ie,ce);Y._events&&Y._events[ie]?Array.isArray(Y._events[ie])?Y._events[ie].unshift(ce):Y._events[ie]=[ce,Y._events[ie]]:Y.on(ie,ce)})(z,"error",ae),z.once("close",re),z.once("finish",ee),z.emit("pipe",W),J.flowing||(f("pipe resume"),W.resume()),z},U.prototype.unpipe=function(z){var F=this._readableState,W={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return z&&z!==F.pipes||(z||(z=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,z&&z.emit("unpipe",this,W)),this;if(!z){var J=F.pipes,le=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var ne=0;ne<le;ne++)J[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=K(F.pipes,z);return ue===-1||(F.pipes.splice(ue,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),z.emit("unpipe",this,W)),this},U.prototype.on=function(z,F){var W=c.prototype.on.call(this,z,F),J=this._readableState;return z==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):z==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,f("on readable",J.length,J.reading),J.length?w(this):J.reading||i.nextTick(O,this))),W},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(z,F){var W=c.prototype.removeListener.call(this,z,F);return z==="readable"&&i.nextTick(D,this),W},U.prototype.removeAllListeners=function(z){var F=c.prototype.removeAllListeners.apply(this,arguments);return z!=="readable"&&z!==void 0||i.nextTick(D,this),F},U.prototype.resume=function(){var z=this._readableState;return z.flowing||(f("resume"),z.flowing=!z.readableListening,(function(F,W){W.resumeScheduled||(W.resumeScheduled=!0,i.nextTick(B,F,W))})(this,z)),z.paused=!1,this},U.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},U.prototype.wrap=function(z){var F=this,W=this._readableState,J=!1;for(var le in z.on("end",(function(){if(f("wrapped end"),W.decoder&&!W.ended){var ue=W.decoder.end();ue&&ue.length&&F.push(ue)}F.push(null)})),z.on("data",(function(ue){f("wrapped data"),W.decoder&&(ue=W.decoder.write(ue)),W.objectMode&&ue==null||(W.objectMode||ue&&ue.length)&&(F.push(ue)||(J=!0,z.pause()))})),z)this[le]===void 0&&typeof z[le]=="function"&&(this[le]=(function(ue){return function(){return z[ue].apply(z,arguments)}})(le));for(var ne=0;ne<$.length;ne++)z.on($[ne],this.emit.bind(this,$[ne]));return this._read=function(ue){f("wrapped _read",ue),J&&(J=!1,z.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=r("./internal/streams/async_iterator")),y(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}}),U._fromList=H,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(U.from=function(z,F){return m===void 0&&(m=r("./internal/streams/from")),m(U,z,F)})}).call(this)}).call(this,r("_process"),typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(r,n,s){n.exports=f;var i=r("../errors").codes,a=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,u=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=i.ERR_TRANSFORM_WITH_LENGTH_0,d=r("./_stream_duplex");function h(y,m){var v=this._transformState;v.transforming=!1;var b=v.writecb;if(b===null)return this.emit("error",new o);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),b(y);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function f(y){if(!(this instanceof f))return new f(y);d.call(this,y),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush((function(m,v){g(y,m,v)}))}function g(y,m,v){if(m)return y.emit("error",m);if(v!=null&&y.push(v),y._writableState.length)throw new c;if(y._transformState.transforming)throw new u;return y.push(null)}r("inherits")(f,d),f.prototype.push=function(y,m){return this._transformState.needTransform=!1,d.prototype.push.call(this,y,m)},f.prototype._transform=function(y,m,v){v(new a("_transform()"))},f.prototype._write=function(y,m,v){var b=this._transformState;if(b.writecb=v,b.writechunk=y,b.writeencoding=m,!b.transforming){var x=this._readableState;(b.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},f.prototype._read=function(y){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},f.prototype._destroy=function(y,m){d.prototype._destroy.call(this,y,(function(v){m(v)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(r,n,s){(function(i,a){(function(){function o(S){var D=this;this.next=null,this.entry=null,this.finish=function(){(function(O,B,q){var H=O.entry;for(O.entry=null;H;){var Q=H.callback;B.pendingcb--,Q(q),H=H.next}B.corkedRequestsFree.next=O})(D,S)}}var u;n.exports=U,U.WritableState=V;var c={deprecate:r("util-deprecate")},d=r("./internal/streams/stream"),h=r("buffer").Buffer,f=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p,g=r("./internal/streams/destroy"),y=r("./internal/streams/state").getHighWaterMark,m=r("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,b=m.ERR_METHOD_NOT_IMPLEMENTED,x=m.ERR_MULTIPLE_CALLBACK,j=m.ERR_STREAM_CANNOT_PIPE,C=m.ERR_STREAM_DESTROYED,R=m.ERR_STREAM_NULL_VALUES,L=m.ERR_STREAM_WRITE_AFTER_END,A=m.ERR_UNKNOWN_ENCODING,P=g.errorOrDestroy;function $(){}function V(S,D,O){u=u||r("./_stream_duplex"),S=S||{},typeof O!="boolean"&&(O=D instanceof u),this.objectMode=!!S.objectMode,O&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=y(this,S,"writableHighWaterMark",O),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=S.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){(function(H,Q){var M=H._writableState,K=M.sync,z=M.writecb;if(typeof z!="function")throw new x;if((function(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0})(M),Q)(function(W,J,le,ne,ue){--J.pendingcb,le?(i.nextTick(ue,ne),i.nextTick(k,W,J),W._writableState.errorEmitted=!0,P(W,ne)):(ue(ne),W._writableState.errorEmitted=!0,P(W,ne),k(W,J))})(H,M,K,Q,z);else{var F=w(M)||H.destroyed;F||M.corked||M.bufferProcessing||!M.bufferedRequest||N(H,M),K?i.nextTick(I,H,M,F,z):I(H,M,F,z)}})(D,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function U(S){var D=this instanceof(u=u||r("./_stream_duplex"));if(!D&&!p.call(U,this))return new U(S);this._writableState=new V(S,this,D),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),d.call(this)}function E(S,D,O,B,q,H,Q){D.writelen=B,D.writecb=Q,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new C("write")):O?S._writev(q,D.onwrite):S._write(q,H,D.onwrite),D.sync=!1}function I(S,D,O,B){O||(function(q,H){H.length===0&&H.needDrain&&(H.needDrain=!1,q.emit("drain"))})(S,D),D.pendingcb--,B(),k(S,D)}function N(S,D){D.bufferProcessing=!0;var O=D.bufferedRequest;if(S._writev&&O&&O.next){var B=D.bufferedRequestCount,q=new Array(B),H=D.corkedRequestsFree;H.entry=O;for(var Q=0,M=!0;O;)q[Q]=O,O.isBuf||(M=!1),O=O.next,Q+=1;q.allBuffers=M,E(S,D,!0,D.length,q,"",H.finish),D.pendingcb++,D.lastBufferedRequest=null,H.next?(D.corkedRequestsFree=H.next,H.next=null):D.corkedRequestsFree=new o(D),D.bufferedRequestCount=0}else{for(;O;){var K=O.chunk,z=O.encoding,F=O.callback;if(E(S,D,!1,D.objectMode?1:K.length,K,z,F),O=O.next,D.bufferedRequestCount--,D.writing)break}O===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=O,D.bufferProcessing=!1}function w(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function _(S,D){S._final((function(O){D.pendingcb--,O&&P(S,O),D.prefinished=!0,S.emit("prefinish"),k(S,D)}))}function k(S,D){var O=w(D);if(O&&((function(q,H){H.prefinished||H.finalCalled||(typeof q._final!="function"||H.destroyed?(H.prefinished=!0,q.emit("prefinish")):(H.pendingcb++,H.finalCalled=!0,i.nextTick(_,q,H)))})(S,D),D.pendingcb===0&&(D.finished=!0,S.emit("finish"),D.autoDestroy))){var B=S._readableState;(!B||B.autoDestroy&&B.endEmitted)&&S.destroy()}return O}r("inherits")(U,d),V.prototype.getBuffer=function(){for(var S=this.bufferedRequest,D=[];S;)D.push(S),S=S.next;return D},(function(){try{Object.defineProperty(V.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(S){return!!p.call(this,S)||this===U&&S&&S._writableState instanceof V}})):p=function(S){return S instanceof this},U.prototype.pipe=function(){P(this,new j)},U.prototype.write=function(S,D,O){var B,q=this._writableState,H=!1,Q=!q.objectMode&&(B=S,h.isBuffer(B)||B instanceof f);return Q&&!h.isBuffer(S)&&(S=(function(M){return h.from(M)})(S)),typeof D=="function"&&(O=D,D=null),Q?D="buffer":D||(D=q.defaultEncoding),typeof O!="function"&&(O=$),q.ending?(function(M,K){var z=new L;P(M,z),i.nextTick(K,z)})(this,O):(Q||(function(M,K,z,F){var W;return z===null?W=new R:typeof z=="string"||K.objectMode||(W=new v("chunk",["string","Buffer"],z)),!W||(P(M,W),i.nextTick(F,W),!1)})(this,q,S,O))&&(q.pendingcb++,H=(function(M,K,z,F,W,J){if(!z){var le=(function(te,X,ae){return te.objectMode||te.decodeStrings===!1||typeof X!="string"||(X=h.from(X,ae)),X})(K,F,W);F!==le&&(z=!0,W="buffer",F=le)}var ne=K.objectMode?1:F.length;K.length+=ne;var ue=K.length<K.highWaterMark;if(ue||(K.needDrain=!0),K.writing||K.corked){var Z=K.lastBufferedRequest;K.lastBufferedRequest={chunk:F,encoding:W,isBuf:z,callback:J,next:null},Z?Z.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else E(M,K,!1,ne,F,W,J);return ue})(this,q,Q,S,D,O)),H},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.bufferProcessing||!S.bufferedRequest||N(this,S))},U.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new A(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),U.prototype._write=function(S,D,O){O(new b("_write()"))},U.prototype._writev=null,U.prototype.end=function(S,D,O){var B=this._writableState;return typeof S=="function"?(O=S,S=null,D=null):typeof D=="function"&&(O=D,D=null),S!=null&&this.write(S,D),B.corked&&(B.corked=1,this.uncork()),B.ending||(function(q,H,Q){H.ending=!0,k(q,H),Q&&(H.finished?i.nextTick(Q):q.once("finish",Q)),H.ended=!0,q.writable=!1})(this,B,O),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),U.prototype.destroy=g.destroy,U.prototype._undestroy=g.undestroy,U.prototype._destroy=function(S,D){D(S)}}).call(this)}).call(this,r("_process"),typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(r,n,s){(function(i){(function(){var a;function o(C,R,L){return(R=(function(A){var P=(function($,V){if(typeof $!="object"||$===null)return $;var U=$[Symbol.toPrimitive];if(U!==void 0){var E=U.call($,V);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)($)})(A,"string");return typeof P=="symbol"?P:String(P)})(R))in C?Object.defineProperty(C,R,{value:L,enumerable:!0,configurable:!0,writable:!0}):C[R]=L,C}var u=r("./end-of-stream"),c=Symbol("lastResolve"),d=Symbol("lastReject"),h=Symbol("error"),f=Symbol("ended"),p=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function m(C,R){return{value:C,done:R}}function v(C){var R=C[c];if(R!==null){var L=C[y].read();L!==null&&(C[p]=null,C[c]=null,C[d]=null,R(m(L,!1)))}}function b(C){i.nextTick(v,C)}var x=Object.getPrototypeOf((function(){})),j=Object.setPrototypeOf((o(a={get stream(){return this[y]},next:function(){var C=this,R=this[h];if(R!==null)return Promise.reject(R);if(this[f])return Promise.resolve(m(void 0,!0));if(this[y].destroyed)return new Promise((function($,V){i.nextTick((function(){C[h]?V(C[h]):$(m(void 0,!0))}))}));var L,A=this[p];if(A)L=new Promise((function($,V){return function(U,E){$.then((function(){V[f]?U(m(void 0,!0)):V[g](U,E)}),E)}})(A,this));else{var P=this[y].read();if(P!==null)return Promise.resolve(m(P,!1));L=new Promise(this[g])}return this[p]=L,L}},Symbol.asyncIterator,(function(){return this})),o(a,"return",(function(){var C=this;return new Promise((function(R,L){C[y].destroy(null,(function(A){A?L(A):R(m(void 0,!0))}))}))})),a),x);n.exports=function(C){var R,L=Object.create(j,(o(R={},y,{value:C,writable:!0}),o(R,c,{value:null,writable:!0}),o(R,d,{value:null,writable:!0}),o(R,h,{value:null,writable:!0}),o(R,f,{value:C._readableState.endEmitted,writable:!0}),o(R,g,{value:function(A,P){var $=L[y].read();$?(L[p]=null,L[c]=null,L[d]=null,A(m($,!1))):(L[c]=A,L[d]=P)},writable:!0}),R));return L[p]=null,u(C,(function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var P=L[d];return P!==null&&(L[p]=null,L[c]=null,L[d]=null,P(A)),void(L[h]=A)}var $=L[c];$!==null&&(L[p]=null,L[c]=null,L[d]=null,$(m(void 0,!0))),L[f]=!0})),C.on("readable",b.bind(null,L)),L}}).call(this)}).call(this,r("_process"))},{"./end-of-stream":486,_process:467}],484:[function(r,n,s){function i(p,g){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(p);g&&(m=m.filter((function(v){return Object.getOwnPropertyDescriptor(p,v).enumerable}))),y.push.apply(y,m)}return y}function a(p){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{};g%2?i(Object(y),!0).forEach((function(m){o(p,m,y[m])})):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):i(Object(y)).forEach((function(m){Object.defineProperty(p,m,Object.getOwnPropertyDescriptor(y,m))}))}return p}function o(p,g,y){return(g=c(g))in p?Object.defineProperty(p,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[g]=y,p}function u(p,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,c(m.key),m)}}function c(p){var g=(function(y,m){if(typeof y!="object"||y===null)return y;var v=y[Symbol.toPrimitive];if(v!==void 0){var b=v.call(y,m);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(y)})(p,"string");return typeof g=="symbol"?g:String(g)}var d=r("buffer").Buffer,h=r("util").inspect,f=h&&h.custom||"inspect";n.exports=(function(){function p(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,p),this.head=null,this.tail=null,this.length=0}var g,y;return g=p,(y=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,b=""+v.data;v=v.next;)b+=m+v.data;return b}},{key:"concat",value:function(m){if(this.length===0)return d.alloc(0);for(var v,b,x,j=d.allocUnsafe(m>>>0),C=this.head,R=0;C;)v=C.data,b=j,x=R,d.prototype.copy.call(v,b,x),R+=C.data.length,C=C.next;return j}},{key:"consume",value:function(m,v){var b;return m<this.head.data.length?(b=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):b=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,b=1,x=v.data;for(m-=x.length;v=v.next;){var j=v.data,C=m>j.length?j.length:m;if(C===j.length?x+=j:x+=j.slice(0,m),(m-=C)==0){C===j.length?(++b,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=j.slice(C));break}++b}return this.length-=b,x}},{key:"_getBuffer",value:function(m){var v=d.allocUnsafe(m),b=this.head,x=1;for(b.data.copy(v),m-=b.data.length;b=b.next;){var j=b.data,C=m>j.length?j.length:m;if(j.copy(v,v.length-m,0,C),(m-=C)==0){C===j.length?(++x,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=j.slice(C));break}++x}return this.length-=x,v}},{key:f,value:function(m,v){return h(this,a(a({},v),{},{depth:0,customInspect:!1}))}}])&&u(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),p})()},{buffer:220,util:188}],485:[function(r,n,s){(function(i){(function(){function a(c,d){u(c,d),o(c)}function o(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function u(c,d){c.emit("error",d)}n.exports={destroy:function(c,d){var h=this,f=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return f||p?(d?d(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(u,this,c)):i.nextTick(u,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,(function(g){!d&&g?h._writableState?h._writableState.errorEmitted?i.nextTick(o,h):(h._writableState.errorEmitted=!0,i.nextTick(a,h,g)):i.nextTick(a,h,g):d?(i.nextTick(o,h),d(g)):i.nextTick(o,h)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(c,d){var h=c._readableState,f=c._writableState;h&&h.autoDestroy||f&&f.autoDestroy?c.destroy(d):c.emit("error",d)}}}).call(this)}).call(this,r("_process"))},{_process:467}],486:[function(r,n,s){var i=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}n.exports=function o(u,c,d){if(typeof c=="function")return o(u,null,c);c||(c={}),d=(function(C){var R=!1;return function(){if(!R){R=!0;for(var L=arguments.length,A=new Array(L),P=0;P<L;P++)A[P]=arguments[P];C.apply(this,A)}}})(d||a);var h=c.readable||c.readable!==!1&&u.readable,f=c.writable||c.writable!==!1&&u.writable,p=function(){u.writable||y()},g=u._writableState&&u._writableState.finished,y=function(){f=!1,g=!0,h||d.call(u)},m=u._readableState&&u._readableState.endEmitted,v=function(){h=!1,m=!0,f||d.call(u)},b=function(C){d.call(u,C)},x=function(){var C;return h&&!m?(u._readableState&&u._readableState.ended||(C=new i),d.call(u,C)):f&&!g?(u._writableState&&u._writableState.ended||(C=new i),d.call(u,C)):void 0},j=function(){u.req.on("finish",y)};return(function(C){return C.setHeader&&typeof C.abort=="function"})(u)?(u.on("complete",y),u.on("abort",x),u.req?j():u.on("request",j)):f&&!u._writableState&&(u.on("end",p),u.on("close",p)),u.on("end",v),u.on("finish",y),c.error!==!1&&u.on("error",b),u.on("close",x),function(){u.removeListener("complete",y),u.removeListener("abort",x),u.removeListener("request",j),u.req&&u.req.removeListener("finish",y),u.removeListener("end",p),u.removeListener("close",p),u.removeListener("finish",y),u.removeListener("end",v),u.removeListener("error",b),u.removeListener("close",x)}}},{"../../../errors":477}],487:[function(r,n,s){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(r,n,s){var i,a=r("../../../errors").codes,o=a.ERR_MISSING_ARGS,u=a.ERR_STREAM_DESTROYED;function c(g){if(g)throw g}function d(g,y,m,v){v=(function(j){var C=!1;return function(){C||(C=!0,j.apply(void 0,arguments))}})(v);var b=!1;g.on("close",(function(){b=!0})),i===void 0&&(i=r("./end-of-stream")),i(g,{readable:y,writable:m},(function(j){if(j)return v(j);b=!0,v()}));var x=!1;return function(j){if(!b&&!x)return x=!0,(function(C){return C.setHeader&&typeof C.abort=="function"})(g)?g.abort():typeof g.destroy=="function"?g.destroy():void v(j||new u("pipe"))}}function h(g){g()}function f(g,y){return g.pipe(y)}function p(g){return g.length?typeof g[g.length-1]!="function"?c:g.pop():c}n.exports=function(){for(var g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];var v,b=p(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new o("streams");var x=y.map((function(j,C){var R=C<y.length-1;return d(j,R,C>0,(function(L){v||(v=L),L&&x.forEach(h),R||(x.forEach(h),b(v))}))}));return y.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(r,n,s){var i=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(a,o,u,c){var d=(function(h,f,p){return h.highWaterMark!=null?h.highWaterMark:f?h[p]:null})(o,c,u);if(d!=null){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new i(c?u:"highWaterMark",d);return Math.floor(d)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(r,n,s){n.exports=r("events").EventEmitter},{events:422}],491:[function(r,n,s){(s=n.exports=r("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=r("./lib/_stream_writable.js"),s.Duplex=r("./lib/_stream_duplex.js"),s.Transform=r("./lib/_stream_transform.js"),s.PassThrough=r("./lib/_stream_passthrough.js"),s.finished=r("./lib/internal/streams/end-of-stream.js"),s.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(r,n,s){var i=(function(a){var o=Object.prototype,u=o.hasOwnProperty,c=Object.defineProperty||function(k,S,D){k[S]=D.value},d=typeof Symbol=="function"?Symbol:{},h=d.iterator||"@@iterator",f=d.asyncIterator||"@@asyncIterator",p=d.toStringTag||"@@toStringTag";function g(k,S,D){return Object.defineProperty(k,S,{value:D,enumerable:!0,configurable:!0,writable:!0}),k[S]}try{g({},"")}catch{g=function(S,D,O){return S[D]=O}}function y(k,S,D,O){var B=S&&S.prototype instanceof b?S:b,q=Object.create(B.prototype),H=new N(O||[]);return c(q,"_invoke",{value:V(k,D,H)}),q}function m(k,S,D){try{return{type:"normal",arg:k.call(S,D)}}catch(O){return{type:"throw",arg:O}}}a.wrap=y;var v={};function b(){}function x(){}function j(){}var C={};g(C,h,(function(){return this}));var R=Object.getPrototypeOf,L=R&&R(R(w([])));L&&L!==o&&u.call(L,h)&&(C=L);var A=j.prototype=b.prototype=Object.create(C);function P(k){["next","throw","return"].forEach((function(S){g(k,S,(function(D){return this._invoke(S,D)}))}))}function $(k,S){var D;c(this,"_invoke",{value:function(O,B){function q(){return new S((function(H,Q){(function M(K,z,F,W){var J=m(k[K],k,z);if(J.type!=="throw"){var le=J.arg,ne=le.value;return ne&&typeof ne=="object"&&u.call(ne,"__await")?S.resolve(ne.__await).then((function(ue){M("next",ue,F,W)}),(function(ue){M("throw",ue,F,W)})):S.resolve(ne).then((function(ue){le.value=ue,F(le)}),(function(ue){return M("throw",ue,F,W)}))}W(J.arg)})(O,B,H,Q)}))}return D=D?D.then(q,q):q()}})}function V(k,S,D){var O="suspendedStart";return function(B,q){if(O==="executing")throw new Error("Generator is already running");if(O==="completed"){if(B==="throw")throw q;return _()}for(D.method=B,D.arg=q;;){var H=D.delegate;if(H){var Q=U(H,D);if(Q){if(Q===v)continue;return Q}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(O==="suspendedStart")throw O="completed",D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);O="executing";var M=m(k,S,D);if(M.type==="normal"){if(O=D.done?"completed":"suspendedYield",M.arg===v)continue;return{value:M.arg,done:D.done}}M.type==="throw"&&(O="completed",D.method="throw",D.arg=M.arg)}}}function U(k,S){var D=S.method,O=k.iterator[D];if(O===void 0)return S.delegate=null,D==="throw"&&k.iterator.return&&(S.method="return",S.arg=void 0,U(k,S),S.method==="throw")||D!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+D+"' method")),v;var B=m(O,k.iterator,S.arg);if(B.type==="throw")return S.method="throw",S.arg=B.arg,S.delegate=null,v;var q=B.arg;return q?q.done?(S[k.resultName]=q.value,S.next=k.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,v):q:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,v)}function E(k){var S={tryLoc:k[0]};1 in k&&(S.catchLoc=k[1]),2 in k&&(S.finallyLoc=k[2],S.afterLoc=k[3]),this.tryEntries.push(S)}function I(k){var S=k.completion||{};S.type="normal",delete S.arg,k.completion=S}function N(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(E,this),this.reset(!0)}function w(k){if(k){var S=k[h];if(S)return S.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var D=-1,O=function B(){for(;++D<k.length;)if(u.call(k,D))return B.value=k[D],B.done=!1,B;return B.value=void 0,B.done=!0,B};return O.next=O}}return{next:_}}function _(){return{value:void 0,done:!0}}return x.prototype=j,c(A,"constructor",{value:j,configurable:!0}),c(j,"constructor",{value:x,configurable:!0}),x.displayName=g(j,p,"GeneratorFunction"),a.isGeneratorFunction=function(k){var S=typeof k=="function"&&k.constructor;return!!S&&(S===x||(S.displayName||S.name)==="GeneratorFunction")},a.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,j):(k.__proto__=j,g(k,p,"GeneratorFunction")),k.prototype=Object.create(A),k},a.awrap=function(k){return{__await:k}},P($.prototype),g($.prototype,f,(function(){return this})),a.AsyncIterator=$,a.async=function(k,S,D,O,B){B===void 0&&(B=Promise);var q=new $(y(k,S,D,O),B);return a.isGeneratorFunction(S)?q:q.next().then((function(H){return H.done?H.value:q.next()}))},P(A),g(A,p,"Generator"),g(A,h,(function(){return this})),g(A,"toString",(function(){return"[object Generator]"})),a.keys=function(k){var S=Object(k),D=[];for(var O in S)D.push(O);return D.reverse(),function B(){for(;D.length;){var q=D.pop();if(q in S)return B.value=q,B.done=!1,B}return B.done=!0,B}},a.values=w,N.prototype={constructor:N,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!k)for(var S in this)S.charAt(0)==="t"&&u.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var S=this;function D(M,K){return q.type="throw",q.arg=k,S.next=M,K&&(S.method="next",S.arg=void 0),!!K}for(var O=this.tryEntries.length-1;O>=0;--O){var B=this.tryEntries[O],q=B.completion;if(B.tryLoc==="root")return D("end");if(B.tryLoc<=this.prev){var H=u.call(B,"catchLoc"),Q=u.call(B,"finallyLoc");if(H&&Q){if(this.prev<B.catchLoc)return D(B.catchLoc,!0);if(this.prev<B.finallyLoc)return D(B.finallyLoc)}else if(H){if(this.prev<B.catchLoc)return D(B.catchLoc,!0)}else{if(!Q)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return D(B.finallyLoc)}}}},abrupt:function(k,S){for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D];if(O.tryLoc<=this.prev&&u.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var B=O;break}}B&&(k==="break"||k==="continue")&&B.tryLoc<=S&&S<=B.finallyLoc&&(B=null);var q=B?B.completion:{};return q.type=k,q.arg=S,B?(this.method="next",this.next=B.finallyLoc,v):this.complete(q)},complete:function(k,S){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&S&&(this.next=S),v},finish:function(k){for(var S=this.tryEntries.length-1;S>=0;--S){var D=this.tryEntries[S];if(D.finallyLoc===k)return this.complete(D.completion,D.afterLoc),I(D),v}},catch:function(k){for(var S=this.tryEntries.length-1;S>=0;--S){var D=this.tryEntries[S];if(D.tryLoc===k){var O=D.completion;if(O.type==="throw"){var B=O.arg;I(D)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(k,S,D){return this.delegate={iterator:w(k),resultName:S,nextLoc:D},this.method==="next"&&(this.arg=void 0),v}},a})(typeof n=="object"?n.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(r,n,s){var i=r("buffer").Buffer,a=r("inherits"),o=r("hash-base"),u=new Array(16),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function y(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(R,L){return R<<L|R>>>32-L}function v(R,L,A,P,$,V,U,E){return m(R+(L^A^P)+V+U|0,E)+$|0}function b(R,L,A,P,$,V,U,E){return m(R+(L&A|~L&P)+V+U|0,E)+$|0}function x(R,L,A,P,$,V,U,E){return m(R+((L|~A)^P)+V+U|0,E)+$|0}function j(R,L,A,P,$,V,U,E){return m(R+(L&P|A&~P)+V+U|0,E)+$|0}function C(R,L,A,P,$,V,U,E){return m(R+(L^(A|~P))+V+U|0,E)+$|0}a(y,o),y.prototype._update=function(){for(var R=u,L=0;L<16;++L)R[L]=this._block.readInt32LE(4*L);for(var A=0|this._a,P=0|this._b,$=0|this._c,V=0|this._d,U=0|this._e,E=0|this._a,I=0|this._b,N=0|this._c,w=0|this._d,_=0|this._e,k=0;k<80;k+=1){var S,D;k<16?(S=v(A,P,$,V,U,R[c[k]],p[0],h[k]),D=C(E,I,N,w,_,R[d[k]],g[0],f[k])):k<32?(S=b(A,P,$,V,U,R[c[k]],p[1],h[k]),D=j(E,I,N,w,_,R[d[k]],g[1],f[k])):k<48?(S=x(A,P,$,V,U,R[c[k]],p[2],h[k]),D=x(E,I,N,w,_,R[d[k]],g[2],f[k])):k<64?(S=j(A,P,$,V,U,R[c[k]],p[3],h[k]),D=b(E,I,N,w,_,R[d[k]],g[3],f[k])):(S=C(A,P,$,V,U,R[c[k]],p[4],h[k]),D=v(E,I,N,w,_,R[d[k]],g[4],f[k])),A=U,U=V,V=m($,10),$=P,P=S,E=_,_=w,w=m(N,10),N=I,I=D}var O=this._b+$+w|0;this._b=this._c+V+_|0,this._c=this._d+U+E|0,this._d=this._e+A+I|0,this._e=this._a+P+N|0,this._a=O},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var R=i.alloc?i.alloc(20):new i(20);return R.writeInt32LE(this._a,0),R.writeInt32LE(this._b,4),R.writeInt32LE(this._c,8),R.writeInt32LE(this._d,12),R.writeInt32LE(this._e,16),R},n.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(r,n,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=r("buffer"),a=i.Buffer;function o(c,d){for(var h in c)d[h]=c[h]}function u(c,d,h){return a(c,d,h)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(o(i,s),s.Buffer=u),u.prototype=Object.create(a.prototype),o(a,u),u.from=function(c,d,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,d,h)},u.alloc=function(c,d,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var f=a(c);return d!==void 0?typeof h=="string"?f.fill(d,h):f.fill(d):f.fill(0),f},u.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},u.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(c)}},{buffer:220}],495:[function(r,n,s){(function(i){(function(){var a,o=r("buffer"),u=o.Buffer,c={};for(a in o)o.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(c[a]=o[a]);var d=c.Buffer={};for(a in u)u.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(d[a]=u[a]);if(c.Buffer.prototype=u.prototype,d.from&&d.from!==Uint8Array.from||(d.from=function(h,f,p){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&h.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return u(h,f,p)}),d.alloc||(d.alloc=function(h,f,p){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2*(1<<30))throw new RangeError('The value "'+h+'" is invalid for option "size"');var g=u(h);return f&&f.length!==0?typeof p=="string"?g.fill(f,p):g.fill(f):g.fill(0),g}),!c.kStringMaxLength)try{c.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}c.constants||(c.constants={MAX_LENGTH:c.kMaxLength},c.kStringMaxLength&&(c.constants.MAX_STRING_LENGTH=c.kStringMaxLength)),n.exports=c}).call(this)}).call(this,r("_process"))},{_process:467,buffer:220}],496:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0});const i=r("xmlchars/xml/1.0/ed5"),a=r("xmlchars/xml/1.1/ed2"),o=r("xmlchars/xmlns/1.0/ed3");var u=i.isS,c=i.isChar,d=i.isNameStartChar,h=i.isNameChar,f=i.S_LIST,p=i.NAME_RE,g=a.isChar,y=o.isNCNameStartChar,m=o.isNCNameChar,v=o.NC_NAME_RE;const b="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",j={__proto__:null,xml:b,xmlns:x},C={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},R=w=>w===34||w===39,L=[34,39],A=[...L,91,62],P=[...L,60,93],$=[61,63,...f],V=[...f,62,38,60];function U(w,_,k){switch(_){case"xml":k!==b&&w.fail(`xml prefix must be bound to ${b}.`);break;case"xmlns":k!==x&&w.fail(`xmlns prefix must be bound to ${x}.`)}switch(k){case x:w.fail(_===""?`the default namespace may not be set to ${k}.`:`may not assign a prefix (even "xmlns") to the URI ${x}.`);break;case b:switch(_){case"xml":break;case"":w.fail(`the default namespace may not be set to ${k}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const E=w=>v.test(w),I=w=>p.test(w);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const N={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const _=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,_){this.nameStartCheck=y,this.nameCheck=m,this.isName=E,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},j);const k=this.opt.additionalNamespaces;k!=null&&((function(S,D){for(const O of Object.keys(D))U(S,O,D[O])})(this,k),Object.assign(this.ns,k))}else this.nameStartCheck=d,this.nameCheck=h,this.isName=I,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:_}=this;this.state=_?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=_,this.xmlDeclPossible=!_,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:k}=this.opt;if(k===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");k="1.0"}this.setXMLVersion(k),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(C),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,_){this[N[w]]=_}off(w){this[N[w]]=void 0}makeError(w){var _;let k=(_=this.fileName)!==null&&_!==void 0?_:"";return this.trackPosition&&(k.length>0&&(k+=":"),k+=`${this.line}:${this.column}`),k.length>0&&(k+=": "),new Error(k+w)}fail(w){const _=this.makeError(w),k=this.errorHandler;if(k===void 0)throw _;return k(_),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let _=!1;w===null?(_=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let k=w.length;const S=w.charCodeAt(k-1);!_&&(S===13||S>=55296&&S<=56319)&&(this.carriedFromPrevious=w[k-1],k--,w=w.slice(0,k));const{stateTable:D}=this;for(this.chunk=w,this.i=0;this.i<k;)D[this.state].call(this);return this.chunkPosition+=k,_?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:_}=this;if(this.prevI=_,this.i=_+1,_>=w.length)return-1;const k=w.charCodeAt(_);if(this.column++,k<55296){if(k>=32||k===9)return k;switch(k){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(_+1)===10&&(this.i=_+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const S=65536+1024*(k-55296)+(w.charCodeAt(_+1)-56320);return this.i=_+2,S>1114111&&this.fail("disallowed character."),S}getCode11(){const{chunk:w,i:_}=this;if(this.prevI=_,this.i=_+1,_>=w.length)return-1;const k=w.charCodeAt(_);if(this.column++,k<55296){if(k>31&&k<127||k>159&&k!==8232||k===9)return k;switch(k){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const D=w.charCodeAt(_+1);D!==10&&D!==133||(this.i=_+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const S=65536+1024*(k-55296)+(w.charCodeAt(_+1)-56320);return this.i=_+2,S>1114111&&this.fail("disallowed character."),S}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:_}=this;const{chunk:k}=this;for(;;){const S=this.getCode(),D=S===-2,O=D?10:S;if(O===-1||w.includes(O))return this.text+=k.slice(_,this.prevI),O;D&&(this.text+=k.slice(_,this.prevI)+`
`,_=this.i)}}captureToChar(w){let{i:_}=this;const{chunk:k}=this;for(;;){let S=this.getCode();switch(S){case-2:this.text+=k.slice(_,this.prevI)+`
`,_=this.i,S=10;break;case-1:return this.text+=k.slice(_),!1}if(S===w)return this.text+=k.slice(_,this.prevI),!0}}captureNameChars(){const{chunk:w,i:_}=this;for(;;){const k=this.getCode();if(k===-1)return this.name+=w.slice(_),-1;if(!h(k))return this.name+=w.slice(_,this.prevI),k===-2?10:k}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!u(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=c,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,_=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),_){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const _=this.captureTo(A);switch(_){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(_),_===91?this.state=4:R(_)&&(this.state=3,this.q=_)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(P);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:R(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),_=this.openWakaBang+=w;this.text+=w,_!=="-"&&(this.state=_==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:_}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=_.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:k}=this,S=this.entity+_.slice(w,this.prevI);let D;this.state=k,S===""?(this.fail("empty entity name."),D="&;"):(D=this.parseEntity(S),this.entity=""),k===13&&this.textHandler===void 0||(this.text+=D);break e}case-1:this.entity+=_.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(d(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const _=this.getCodeNorm();_===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(_),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const _=this.getCodeNorm();switch(_){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(_),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||u(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:_}=this;for(;;){const k=this.getCodeNorm();if(k===-1)return void(this.piTarget+=w.slice(_));if(!this.nameCheck(k)){this.piTarget+=w.slice(_,this.prevI);const S=k===63;S||u(k)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=S?33:27):this.state=S?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(k));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:u(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const _=this.getCodeNorm();if(_===62){const{piTarget:k}=this;k.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:k,body:this.text}),this.piTarget=this.text="",this.state=13}else _===63?this.text+="?":(this.text+="?"+String.fromCodePoint(_),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo($);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(u(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(w)||(R(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const _=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const k=_;this.xmlDecl.version=k,/^1\.[0-9]+$/.test(k)?this.opt.forceXMLVersion||this.setXMLVersion(k):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(_)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=_;break;case"standalone":_!=="yes"&&_!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=_}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(u(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const _=this.captureNameChars();if(_===-1)return;const k=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=k.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,k),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),_){case 62:this.openTag();break;case 47:this.state=35;break;default:u(_)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(d(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:u(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():d(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();R(w)?(this.q=w,this.state=40):u(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:_}=this;let{i:k}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+_.slice(k,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=_.slice(k,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=_.slice(k,this.prevI)+" ",k=this.i;break;case 60:return this.text+=_.slice(k,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=_.slice(k))}}sAttribValueClosed(){const w=this.getCodeNorm();u(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:d(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(V);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():u(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:_}=this;const{chunk:k,textHandler:S}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,S!==void 0){const{text:D}=this,O=k.slice(w,this.prevI);D.length!==0?(S(D+O),this.text=""):O.length!==0&&S(O)}_=0;break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=k.slice(w,this.prevI)),_=0;break e;case 93:switch(_){case 0:_=1;break;case 1:_=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:_===2&&this.fail('the string "]]>" is disallowed in char data.'),_=0;break;case-2:S!==void 0&&(this.text+=k.slice(w,this.prevI)+`
`),w=this.i,_=0;break;case-1:S!==void 0&&(this.text+=k.slice(w));break e;default:_=0}this.forbiddenState=_}handleTextOutsideRoot(){let{i:w}=this;const{chunk:_,textHandler:k}=this;let S=!1;e:for(;;){const D=this.getCode();switch(D){case 60:if(this.state=15,k!==void 0){const{text:O}=this,B=_.slice(w,this.prevI);O.length!==0?(k(O+B),this.text=""):B.length!==0&&k(B)}break e;case 38:this.state=14,this.entityReturnState=13,k!==void 0&&(this.text+=_.slice(w,this.prevI)),S=!0;break e;case-2:k!==void 0&&(this.text+=_.slice(w,this.prevI)+`
`),w=this.i;break;case-1:k!==void 0&&(this.text+=_.slice(w));break e;default:u(D)||(S=!0)}}S&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,_){var k;const{prefix:S,local:D}=this.qname(w),O={name:w,prefix:S,local:D,value:_};if(this.attribList.push(O),(k=this.attributeHandler)===null||k===void 0||k.call(this,O),S==="xmlns"){const B=_.trim();this.currentXMLVersion==="1.0"&&B===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[D]=B,U(this,D,B)}else if(w==="xmlns"){const B=_.trim();this.topNS[""]=B,U(this,"",B)}}pushAttribPlain(w,_){var k;const S={name:w,value:_};this.attribList.push(S),(k=this.attributeHandler)===null||k===void 0||k.call(this,S)}end(){var w,_;this.sawRoot||this.fail("document must contain a root element.");const{tags:k}=this;for(;k.length>0;){const D=k.pop();this.fail("unclosed tag: "+D.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:S}=this;return S.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,S),this.text=""),this._closed=!0,(_=this.endHandler)===null||_===void 0||_.call(this),this._init(),this}resolve(w){var _,k;let S=this.topNS[w];if(S!==void 0)return S;const{tags:D}=this;for(let O=D.length-1;O>=0;O--)if(S=D[O].ns[w],S!==void 0)return S;return S=this.ns[w],S!==void 0?S:(k=(_=this.opt).resolvePrefix)===null||k===void 0?void 0:k.call(_,w)}qname(w){const _=w.indexOf(":");if(_===-1)return{prefix:"",local:w};const k=w.slice(_+1),S=w.slice(0,_);return(S===""||k===""||k.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:S,local:k}}processAttribsNS(){var w;const{attribList:_}=this,k=this.tag;{const{prefix:O,local:B}=this.qname(k.name);k.prefix=O,k.local=B;const q=k.uri=(w=this.resolve(O))!==null&&w!==void 0?w:"";O!==""&&(O==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),q===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(O)}.`),k.uri=O))}if(_.length===0)return;const{attributes:S}=k,D=new Set;for(const O of _){const{name:B,prefix:q,local:H}=O;let Q,M;q===""?(Q=B==="xmlns"?x:"",M=B):(Q=this.resolve(q),Q===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(q)}.`),Q=q),M=`{${Q}}${H}`),D.has(M)&&this.fail(`duplicate attribute: ${M}.`),D.add(M),O.uri=Q,S[B]=O}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,_=this.tag.attributes;for(const{name:k,value:S}of w)_[k]!==void 0&&this.fail(`duplicate attribute: ${k}.`),_[k]=S;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:_}=this,k=this.tag;k.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,k),_.push(k),this.state=13,this.name=""}openSelfClosingTag(){var w,_,k;this.processAttribs();const{tags:S}=this,D=this.tag;D.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,D),(_=this.closeTagHandler)===null||_===void 0||_.call(this,D),(this.tag=(k=S[S.length-1])!==null&&k!==void 0?k:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:_}=this;if(this.state=13,this.name="",_==="")return this.fail("weird empty close tag."),void(this.text+="</>");const k=this.closeTagHandler;let S=w.length;for(;S-- >0;){const D=this.tag=w.pop();if(this.topNS=D.ns,k?.(D),D.name===_)break;this.fail("unexpected close tag.")}S===0?this.closedRoot=!0:S<0&&(this.fail(`unmatched closing tag: ${_}.`),this.text+=`</${_}>`)}parseEntity(w){if(w[0]!=="#"){const k=this.ENTITIES[w];return k!==void 0?k:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let _=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?_=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(_=parseInt(w.slice(1),10)),this.isChar(_)?String.fromCodePoint(_):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(r,n,s){var i=r("safe-buffer").Buffer;function a(o,u){this._block=i.alloc(o),this._finalSize=u,this._blockSize=o,this._len=0}a.prototype.update=function(o,u){typeof o=="string"&&(u=u||"utf8",o=i.from(o,u));for(var c=this._block,d=this._blockSize,h=o.length,f=this._len,p=0;p<h;){for(var g=f%d,y=Math.min(h-p,d-g),m=0;m<y;m++)c[g+m]=o[p+m];p+=y,(f+=y)%d==0&&this._update(c)}return this._len+=h,this},a.prototype.digest=function(o){var u=this._len%this._blockSize;this._block[u]=128,this._block.fill(0,u+1),u>=this._finalSize&&(this._update(this._block),this._block.fill(0));var c=8*this._len;if(c<=4294967295)this._block.writeUInt32BE(c,this._blockSize-4);else{var d=(4294967295&c)>>>0,h=(c-d)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var f=this._hash();return o?f.toString(o):f},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=a},{"safe-buffer":494}],498:[function(r,n,s){var i=n.exports=function(a){a=a.toLowerCase();var o=i[a];if(!o)throw new Error(a+" is not supported (we accept pull requests)");return new o};i.sha=r("./sha"),i.sha1=r("./sha1"),i.sha224=r("./sha224"),i.sha256=r("./sha256"),i.sha384=r("./sha384"),i.sha512=r("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(r,n,s){var i=r("inherits"),a=r("./hash"),o=r("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function d(){this.init(),this._w=c,a.call(this,64,56)}function h(p){return p<<30|p>>>2}function f(p,g,y,m){return p===0?g&y|~g&m:p===2?g&y|g&m|y&m:g^y^m}i(d,a),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(p){for(var g,y=this._w,m=0|this._a,v=0|this._b,b=0|this._c,x=0|this._d,j=0|this._e,C=0;C<16;++C)y[C]=p.readInt32BE(4*C);for(;C<80;++C)y[C]=y[C-3]^y[C-8]^y[C-14]^y[C-16];for(var R=0;R<80;++R){var L=~~(R/20),A=0|((g=m)<<5|g>>>27)+f(L,v,b,x)+j+y[R]+u[L];j=x,x=b,b=h(v),v=m,m=A}this._a=m+this._a|0,this._b=v+this._b|0,this._c=b+this._c|0,this._d=x+this._d|0,this._e=j+this._e|0},d.prototype._hash=function(){var p=o.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(r,n,s){var i=r("inherits"),a=r("./hash"),o=r("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function d(){this.init(),this._w=c,a.call(this,64,56)}function h(g){return g<<5|g>>>27}function f(g){return g<<30|g>>>2}function p(g,y,m,v){return g===0?y&m|~y&v:g===2?y&m|y&v|m&v:y^m^v}i(d,a),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(g){for(var y,m=this._w,v=0|this._a,b=0|this._b,x=0|this._c,j=0|this._d,C=0|this._e,R=0;R<16;++R)m[R]=g.readInt32BE(4*R);for(;R<80;++R)m[R]=(y=m[R-3]^m[R-8]^m[R-14]^m[R-16])<<1|y>>>31;for(var L=0;L<80;++L){var A=~~(L/20),P=h(v)+p(A,b,x,j)+C+m[L]+u[A]|0;C=j,j=x,x=f(b),b=v,v=P}this._a=v+this._a|0,this._b=b+this._b|0,this._c=x+this._c|0,this._d=j+this._d|0,this._e=C+this._e|0},d.prototype._hash=function(){var g=o.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(r,n,s){var i=r("inherits"),a=r("./sha256"),o=r("./hash"),u=r("safe-buffer").Buffer,c=new Array(64);function d(){this.init(),this._w=c,o.call(this,64,56)}i(d,a),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var h=u.allocUnsafe(28);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h},n.exports=d},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(r,n,s){var i=r("inherits"),a=r("./hash"),o=r("safe-buffer").Buffer,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=new Array(64);function d(){this.init(),this._w=c,a.call(this,64,56)}function h(m,v,b){return b^m&(v^b)}function f(m,v,b){return m&v|b&(m|v)}function p(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function g(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function y(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}i(d,a),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},d.prototype._update=function(m){for(var v,b=this._w,x=0|this._a,j=0|this._b,C=0|this._c,R=0|this._d,L=0|this._e,A=0|this._f,P=0|this._g,$=0|this._h,V=0;V<16;++V)b[V]=m.readInt32BE(4*V);for(;V<64;++V)b[V]=0|(((v=b[V-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+b[V-7]+y(b[V-15])+b[V-16];for(var U=0;U<64;++U){var E=$+g(L)+h(L,A,P)+u[U]+b[U]|0,I=p(x)+f(x,j,C)|0;$=P,P=A,A=L,L=R+E|0,R=C,C=j,j=x,x=E+I|0}this._a=x+this._a|0,this._b=j+this._b|0,this._c=C+this._c|0,this._d=R+this._d|0,this._e=L+this._e|0,this._f=A+this._f|0,this._g=P+this._g|0,this._h=$+this._h|0},d.prototype._hash=function(){var m=o.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(r,n,s){var i=r("inherits"),a=r("./sha512"),o=r("./hash"),u=r("safe-buffer").Buffer,c=new Array(160);function d(){this.init(),this._w=c,o.call(this,128,112)}i(d,a),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var h=u.allocUnsafe(48);function f(p,g,y){h.writeInt32BE(p,y),h.writeInt32BE(g,y+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),h},n.exports=d},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(r,n,s){var i=r("inherits"),a=r("./hash"),o=r("safe-buffer").Buffer,u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=new Array(160);function d(){this.init(),this._w=c,a.call(this,128,112)}function h(j,C,R){return R^j&(C^R)}function f(j,C,R){return j&C|R&(j|C)}function p(j,C){return(j>>>28|C<<4)^(C>>>2|j<<30)^(C>>>7|j<<25)}function g(j,C){return(j>>>14|C<<18)^(j>>>18|C<<14)^(C>>>9|j<<23)}function y(j,C){return(j>>>1|C<<31)^(j>>>8|C<<24)^j>>>7}function m(j,C){return(j>>>1|C<<31)^(j>>>8|C<<24)^(j>>>7|C<<25)}function v(j,C){return(j>>>19|C<<13)^(C>>>29|j<<3)^j>>>6}function b(j,C){return(j>>>19|C<<13)^(C>>>29|j<<3)^(j>>>6|C<<26)}function x(j,C){return j>>>0<C>>>0?1:0}i(d,a),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},d.prototype._update=function(j){for(var C=this._w,R=0|this._ah,L=0|this._bh,A=0|this._ch,P=0|this._dh,$=0|this._eh,V=0|this._fh,U=0|this._gh,E=0|this._hh,I=0|this._al,N=0|this._bl,w=0|this._cl,_=0|this._dl,k=0|this._el,S=0|this._fl,D=0|this._gl,O=0|this._hl,B=0;B<32;B+=2)C[B]=j.readInt32BE(4*B),C[B+1]=j.readInt32BE(4*B+4);for(;B<160;B+=2){var q=C[B-30],H=C[B-30+1],Q=y(q,H),M=m(H,q),K=v(q=C[B-4],H=C[B-4+1]),z=b(H,q),F=C[B-14],W=C[B-14+1],J=C[B-32],le=C[B-32+1],ne=M+W|0,ue=Q+F+x(ne,M)|0;ue=(ue=ue+K+x(ne=ne+z|0,z)|0)+J+x(ne=ne+le|0,le)|0,C[B]=ue,C[B+1]=ne}for(var Z=0;Z<160;Z+=2){ue=C[Z],ne=C[Z+1];var te=f(R,L,A),X=f(I,N,w),ae=p(R,I),re=p(I,R),ee=g($,k),G=g(k,$),Y=u[Z],ie=u[Z+1],ce=h($,V,U),me=h(k,S,D),xe=O+G|0,Ce=E+ee+x(xe,O)|0;Ce=(Ce=(Ce=Ce+ce+x(xe=xe+me|0,me)|0)+Y+x(xe=xe+ie|0,ie)|0)+ue+x(xe=xe+ne|0,ne)|0;var Ae=re+X|0,$e=ae+te+x(Ae,re)|0;E=U,O=D,U=V,D=S,V=$,S=k,$=P+Ce+x(k=_+xe|0,_)|0,P=A,_=w,A=L,w=N,L=R,N=I,R=Ce+$e+x(I=xe+Ae|0,xe)|0}this._al=this._al+I|0,this._bl=this._bl+N|0,this._cl=this._cl+w|0,this._dl=this._dl+_|0,this._el=this._el+k|0,this._fl=this._fl+S|0,this._gl=this._gl+D|0,this._hl=this._hl+O|0,this._ah=this._ah+R+x(this._al,I)|0,this._bh=this._bh+L+x(this._bl,N)|0,this._ch=this._ch+A+x(this._cl,w)|0,this._dh=this._dh+P+x(this._dl,_)|0,this._eh=this._eh+$+x(this._el,k)|0,this._fh=this._fh+V+x(this._fl,S)|0,this._gh=this._gh+U+x(this._gl,D)|0,this._hh=this._hh+E+x(this._hl,O)|0},d.prototype._hash=function(){var j=o.allocUnsafe(64);function C(R,L,A){j.writeInt32BE(R,A),j.writeInt32BE(L,A+4)}return C(this._ah,this._al,0),C(this._bh,this._bl,8),C(this._ch,this._cl,16),C(this._dh,this._dl,24),C(this._eh,this._el,32),C(this._fh,this._fl,40),C(this._gh,this._gl,48),C(this._hh,this._hl,56),j},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(r,n,s){n.exports=a;var i=r("events").EventEmitter;function a(){i.call(this)}r("inherits")(a,i),a.Readable=r("readable-stream/readable.js"),a.Writable=r("readable-stream/writable.js"),a.Duplex=r("readable-stream/duplex.js"),a.Transform=r("readable-stream/transform.js"),a.PassThrough=r("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(o,u){var c=this;function d(v){o.writable&&o.write(v)===!1&&c.pause&&c.pause()}function h(){c.readable&&c.resume&&c.resume()}c.on("data",d),o.on("drain",h),o._isStdio||u&&u.end===!1||(c.on("end",p),c.on("close",g));var f=!1;function p(){f||(f=!0,o.end())}function g(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function y(v){if(m(),i.listenerCount(this,"error")===0)throw v}function m(){c.removeListener("data",d),o.removeListener("drain",h),c.removeListener("end",p),c.removeListener("close",g),c.removeListener("error",y),o.removeListener("error",y),c.removeListener("end",m),c.removeListener("close",m),o.removeListener("close",m)}return c.on("error",y),o.on("error",y),c.on("end",m),c.on("close",m),o.on("close",m),o.emit("pipe",c),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(r,n,s){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},{}],507:[function(r,n,s){n.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(r,n,s){var i=r("process-nextick-args"),a=Object.keys||function(m){var v=[];for(var b in m)v.push(b);return v};n.exports=p;var o=Object.create(r("core-util-is"));o.inherits=r("inherits");var u=r("./_stream_readable"),c=r("./_stream_writable");o.inherits(p,u);for(var d=a(c.prototype),h=0;h<d.length;h++){var f=d[h];p.prototype[f]||(p.prototype[f]=c.prototype[f])}function p(m){if(!(this instanceof p))return new p(m);u.call(this,m),c.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||i.nextTick(y,this)}function y(m){m.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),p.prototype._destroy=function(m,v){this.push(null),this.end(),i.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(r,n,s){n.exports=o;var i=r("./_stream_transform"),a=Object.create(r("core-util-is"));function o(u){if(!(this instanceof o))return new o(u);i.call(this,u)}a.inherits=r("inherits"),a.inherits(o,i),o.prototype._transform=function(u,c,d){d(null,u)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(r,n,s){(function(i,a){(function(){var o=r("process-nextick-args");n.exports=R;var u,c=r("isarray");R.ReadableState=C,r("events").EventEmitter;var d=function(O,B){return O.listeners(B).length},h=r("./internal/streams/stream"),f=r("safe-buffer").Buffer,p=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(r("core-util-is"));g.inherits=r("inherits");var y=r("util"),m=void 0;m=y&&y.debuglog?y.debuglog("stream"):function(){};var v,b=r("./internal/streams/BufferList"),x=r("./internal/streams/destroy");g.inherits(R,h);var j=["error","close","destroy","pause","resume"];function C(O,B){O=O||{};var q=B instanceof(u=u||r("./_stream_duplex"));this.objectMode=!!O.objectMode,q&&(this.objectMode=this.objectMode||!!O.readableObjectMode);var H=O.highWaterMark,Q=O.readableHighWaterMark,M=this.objectMode?16:16384;this.highWaterMark=H||H===0?H:q&&(Q||Q===0)?Q:M,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(v||(v=r("string_decoder/").StringDecoder),this.decoder=new v(O.encoding),this.encoding=O.encoding)}function R(O){if(u=u||r("./_stream_duplex"),!(this instanceof R))return new R(O);this._readableState=new C(O,this),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),h.call(this)}function L(O,B,q,H,Q){var M,K=O._readableState;return B===null?(K.reading=!1,(function(z,F){if(!F.ended){if(F.decoder){var W=F.decoder.end();W&&W.length&&(F.buffer.push(W),F.length+=F.objectMode?1:W.length)}F.ended=!0,$(z)}})(O,K)):(Q||(M=(function(z,F){var W;J=F,f.isBuffer(J)||J instanceof p||typeof F=="string"||F===void 0||z.objectMode||(W=new TypeError("Invalid non-string/buffer chunk"));var J;return W})(K,B)),M?O.emit("error",M):K.objectMode||B&&B.length>0?(typeof B=="string"||K.objectMode||Object.getPrototypeOf(B)===f.prototype||(B=(function(z){return f.from(z)})(B)),H?K.endEmitted?O.emit("error",new Error("stream.unshift() after end event")):A(O,K,B,!0):K.ended?O.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!q?(B=K.decoder.write(B),K.objectMode||B.length!==0?A(O,K,B,!1):U(O,K)):A(O,K,B,!1))):H||(K.reading=!1)),(function(z){return!z.ended&&(z.needReadable||z.length<z.highWaterMark||z.length===0)})(K)}function A(O,B,q,H){B.flowing&&B.length===0&&!B.sync?(O.emit("data",q),O.read(0)):(B.length+=B.objectMode?1:q.length,H?B.buffer.unshift(q):B.buffer.push(q),B.needReadable&&$(O)),U(O,B)}Object.defineProperty(R.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),R.prototype.destroy=x.destroy,R.prototype._undestroy=x.undestroy,R.prototype._destroy=function(O,B){this.push(null),B(O)},R.prototype.push=function(O,B){var q,H=this._readableState;return H.objectMode?q=!0:typeof O=="string"&&((B=B||H.defaultEncoding)!==H.encoding&&(O=f.from(O,B),B=""),q=!0),L(this,O,B,!1,q)},R.prototype.unshift=function(O){return L(this,O,null,!0,!1)},R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(O){return v||(v=r("string_decoder/").StringDecoder),this._readableState.decoder=new v(O),this._readableState.encoding=O,this};function P(O,B){return O<=0||B.length===0&&B.ended?0:B.objectMode?1:O!=O?B.flowing&&B.length?B.buffer.head.data.length:B.length:(O>B.highWaterMark&&(B.highWaterMark=(function(q){return q>=8388608?q=8388608:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q})(O)),O<=B.length?O:B.ended?B.length:(B.needReadable=!0,0))}function $(O){var B=O._readableState;B.needReadable=!1,B.emittedReadable||(m("emitReadable",B.flowing),B.emittedReadable=!0,B.sync?o.nextTick(V,O):V(O))}function V(O){m("emit readable"),O.emit("readable"),w(O)}function U(O,B){B.readingMore||(B.readingMore=!0,o.nextTick(E,O,B))}function E(O,B){for(var q=B.length;!B.reading&&!B.flowing&&!B.ended&&B.length<B.highWaterMark&&(m("maybeReadMore read 0"),O.read(0),q!==B.length);)q=B.length;B.readingMore=!1}function I(O){m("readable nexttick read 0"),O.read(0)}function N(O,B){B.reading||(m("resume read 0"),O.read(0)),B.resumeScheduled=!1,B.awaitDrain=0,O.emit("resume"),w(O),B.flowing&&!B.reading&&O.read(0)}function w(O){var B=O._readableState;for(m("flow",B.flowing);B.flowing&&O.read()!==null;);}function _(O,B){return B.length===0?null:(B.objectMode?q=B.buffer.shift():!O||O>=B.length?(q=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.head.data:B.buffer.concat(B.length),B.buffer.clear()):q=(function(H,Q,M){var K;return H<Q.head.data.length?(K=Q.head.data.slice(0,H),Q.head.data=Q.head.data.slice(H)):K=H===Q.head.data.length?Q.shift():M?(function(z,F){var W=F.head,J=1,le=W.data;for(z-=le.length;W=W.next;){var ne=W.data,ue=z>ne.length?ne.length:z;if(ue===ne.length?le+=ne:le+=ne.slice(0,z),(z-=ue)===0){ue===ne.length?(++J,W.next?F.head=W.next:F.head=F.tail=null):(F.head=W,W.data=ne.slice(ue));break}++J}return F.length-=J,le})(H,Q):(function(z,F){var W=f.allocUnsafe(z),J=F.head,le=1;for(J.data.copy(W),z-=J.data.length;J=J.next;){var ne=J.data,ue=z>ne.length?ne.length:z;if(ne.copy(W,W.length-z,0,ue),(z-=ue)===0){ue===ne.length?(++le,J.next?F.head=J.next:F.head=F.tail=null):(F.head=J,J.data=ne.slice(ue));break}++le}return F.length-=le,W})(H,Q),K})(O,B.buffer,B.decoder),q);var q}function k(O){var B=O._readableState;if(B.length>0)throw new Error('"endReadable()" called on non-empty stream');B.endEmitted||(B.ended=!0,o.nextTick(S,B,O))}function S(O,B){O.endEmitted||O.length!==0||(O.endEmitted=!0,B.readable=!1,B.emit("end"))}function D(O,B){for(var q=0,H=O.length;q<H;q++)if(O[q]===B)return q;return-1}R.prototype.read=function(O){m("read",O),O=parseInt(O,10);var B=this._readableState,q=O;if(O!==0&&(B.emittedReadable=!1),O===0&&B.needReadable&&(B.length>=B.highWaterMark||B.ended))return m("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?k(this):$(this),null;if((O=P(O,B))===0&&B.ended)return B.length===0&&k(this),null;var H,Q=B.needReadable;return m("need readable",Q),(B.length===0||B.length-O<B.highWaterMark)&&m("length less than watermark",Q=!0),B.ended||B.reading?m("reading or ended",Q=!1):Q&&(m("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(O=P(q,B))),(H=O>0?_(O,B):null)===null?(B.needReadable=!0,O=0):B.length-=O,B.length===0&&(B.ended||(B.needReadable=!0),q!==O&&B.ended&&k(this)),H!==null&&this.emit("data",H),H},R.prototype._read=function(O){this.emit("error",new Error("_read() is not implemented"))},R.prototype.pipe=function(O,B){var q=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=O;break;case 1:H.pipes=[H.pipes,O];break;default:H.pipes.push(O)}H.pipesCount+=1,m("pipe count=%d opts=%j",H.pipesCount,B);var Q=(!B||B.end!==!1)&&O!==i.stdout&&O!==i.stderr?K:Z;function M(te,X){m("onunpipe"),te===q&&X&&X.hasUnpiped===!1&&(X.hasUnpiped=!0,m("cleanup"),O.removeListener("close",ne),O.removeListener("finish",ue),O.removeListener("drain",z),O.removeListener("error",le),O.removeListener("unpipe",M),q.removeListener("end",K),q.removeListener("end",Z),q.removeListener("data",J),F=!0,!H.awaitDrain||O._writableState&&!O._writableState.needDrain||z())}function K(){m("onend"),O.end()}H.endEmitted?o.nextTick(Q):q.once("end",Q),O.on("unpipe",M);var z=(function(te){return function(){var X=te._readableState;m("pipeOnDrain",X.awaitDrain),X.awaitDrain&&X.awaitDrain--,X.awaitDrain===0&&d(te,"data")&&(X.flowing=!0,w(te))}})(q);O.on("drain",z);var F=!1,W=!1;function J(te){m("ondata"),W=!1,O.write(te)!==!1||W||((H.pipesCount===1&&H.pipes===O||H.pipesCount>1&&D(H.pipes,O)!==-1)&&!F&&(m("false write response, pause",H.awaitDrain),H.awaitDrain++,W=!0),q.pause())}function le(te){m("onerror",te),Z(),O.removeListener("error",le),d(O,"error")===0&&O.emit("error",te)}function ne(){O.removeListener("finish",ue),Z()}function ue(){m("onfinish"),O.removeListener("close",ne),Z()}function Z(){m("unpipe"),q.unpipe(O)}return q.on("data",J),(function(te,X,ae){if(typeof te.prependListener=="function")return te.prependListener(X,ae);te._events&&te._events[X]?c(te._events[X])?te._events[X].unshift(ae):te._events[X]=[ae,te._events[X]]:te.on(X,ae)})(O,"error",le),O.once("close",ne),O.once("finish",ue),O.emit("pipe",q),H.flowing||(m("pipe resume"),q.resume()),O},R.prototype.unpipe=function(O){var B=this._readableState,q={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return O&&O!==B.pipes||(O||(O=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,O&&O.emit("unpipe",this,q)),this;if(!O){var H=B.pipes,Q=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var M=0;M<Q;M++)H[M].emit("unpipe",this,{hasUnpiped:!1});return this}var K=D(B.pipes,O);return K===-1||(B.pipes.splice(K,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),O.emit("unpipe",this,q)),this},R.prototype.on=function(O,B){var q=h.prototype.on.call(this,O,B);if(O==="data")this._readableState.flowing!==!1&&this.resume();else if(O==="readable"){var H=this._readableState;H.endEmitted||H.readableListening||(H.readableListening=H.needReadable=!0,H.emittedReadable=!1,H.reading?H.length&&$(this):o.nextTick(I,this))}return q},R.prototype.addListener=R.prototype.on,R.prototype.resume=function(){var O=this._readableState;return O.flowing||(m("resume"),O.flowing=!0,(function(B,q){q.resumeScheduled||(q.resumeScheduled=!0,o.nextTick(N,B,q))})(this,O)),this},R.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},R.prototype.wrap=function(O){var B=this,q=this._readableState,H=!1;for(var Q in O.on("end",(function(){if(m("wrapped end"),q.decoder&&!q.ended){var K=q.decoder.end();K&&K.length&&B.push(K)}B.push(null)})),O.on("data",(function(K){m("wrapped data"),q.decoder&&(K=q.decoder.write(K)),q.objectMode&&K==null||(q.objectMode||K&&K.length)&&(B.push(K)||(H=!0,O.pause()))})),O)this[Q]===void 0&&typeof O[Q]=="function"&&(this[Q]=(function(K){return function(){return O[K].apply(O,arguments)}})(Q));for(var M=0;M<j.length;M++)O.on(j[M],this.emit.bind(this,j[M]));return this._read=function(K){m("wrapped _read",K),H&&(H=!1,O.resume())},this},Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),R._fromList=_}).call(this)}).call(this,r("_process"),typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(r,n,s){n.exports=u;var i=r("./_stream_duplex"),a=Object.create(r("core-util-is"));function o(h,f){var p=this._transformState;p.transforming=!1;var g=p.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));p.writechunk=null,p.writecb=null,f!=null&&this.push(f),g(h);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function u(h){if(!(this instanceof u))return new u(h);i.call(this,h),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",c)}function c(){var h=this;typeof this._flush=="function"?this._flush((function(f,p){d(h,f,p)})):d(this,null,null)}function d(h,f,p){if(f)return h.emit("error",f);if(p!=null&&h.push(p),h._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(h._transformState.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}a.inherits=r("inherits"),a.inherits(u,i),u.prototype.push=function(h,f){return this._transformState.needTransform=!1,i.prototype.push.call(this,h,f)},u.prototype._transform=function(h,f,p){throw new Error("_transform() is not implemented")},u.prototype._write=function(h,f,p){var g=this._transformState;if(g.writecb=p,g.writechunk=h,g.writeencoding=f,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},u.prototype._read=function(h){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},u.prototype._destroy=function(h,f){var p=this;i.prototype._destroy.call(this,h,(function(g){f(g),p.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(r,n,s){(function(i,a,o){(function(){var u=r("process-nextick-args");function c(U){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(I,N,w){var _=I.entry;for(I.entry=null;_;){var k=_.callback;N.pendingcb--,k(w),_=_.next}N.corkedRequestsFree.next=I})(E,U)}}n.exports=C;var d,h=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?o:u.nextTick;C.WritableState=j;var f=Object.create(r("core-util-is"));f.inherits=r("inherits");var p={deprecate:r("util-deprecate")},g=r("./internal/streams/stream"),y=r("safe-buffer").Buffer,m=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,b=r("./internal/streams/destroy");function x(){}function j(U,E){d=d||r("./_stream_duplex"),U=U||{};var I=E instanceof d;this.objectMode=!!U.objectMode,I&&(this.objectMode=this.objectMode||!!U.writableObjectMode);var N=U.highWaterMark,w=U.writableHighWaterMark,_=this.objectMode?16:16384;this.highWaterMark=N||N===0?N:I&&(w||w===0)?w:_,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var k=U.decodeStrings===!1;this.decodeStrings=!k,this.defaultEncoding=U.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(S){(function(D,O){var B=D._writableState,q=B.sync,H=B.writecb;if((function(M){M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0})(B),O)(function(M,K,z,F,W){--K.pendingcb,z?(u.nextTick(W,F),u.nextTick(V,M,K),M._writableState.errorEmitted=!0,M.emit("error",F)):(W(F),M._writableState.errorEmitted=!0,M.emit("error",F),V(M,K))})(D,B,q,O,H);else{var Q=P(B);Q||B.corked||B.bufferProcessing||!B.bufferedRequest||A(D,B),q?h(L,D,B,Q,H):L(D,B,Q,H)}})(E,S)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function C(U){if(d=d||r("./_stream_duplex"),!(v.call(C,this)||this instanceof d))return new C(U);this._writableState=new j(U,this),this.writable=!0,U&&(typeof U.write=="function"&&(this._write=U.write),typeof U.writev=="function"&&(this._writev=U.writev),typeof U.destroy=="function"&&(this._destroy=U.destroy),typeof U.final=="function"&&(this._final=U.final)),g.call(this)}function R(U,E,I,N,w,_,k){E.writelen=N,E.writecb=k,E.writing=!0,E.sync=!0,I?U._writev(w,E.onwrite):U._write(w,_,E.onwrite),E.sync=!1}function L(U,E,I,N){I||(function(w,_){_.length===0&&_.needDrain&&(_.needDrain=!1,w.emit("drain"))})(U,E),E.pendingcb--,N(),V(U,E)}function A(U,E){E.bufferProcessing=!0;var I=E.bufferedRequest;if(U._writev&&I&&I.next){var N=E.bufferedRequestCount,w=new Array(N),_=E.corkedRequestsFree;_.entry=I;for(var k=0,S=!0;I;)w[k]=I,I.isBuf||(S=!1),I=I.next,k+=1;w.allBuffers=S,R(U,E,!0,E.length,w,"",_.finish),E.pendingcb++,E.lastBufferedRequest=null,_.next?(E.corkedRequestsFree=_.next,_.next=null):E.corkedRequestsFree=new c(E),E.bufferedRequestCount=0}else{for(;I;){var D=I.chunk,O=I.encoding,B=I.callback;if(R(U,E,!1,E.objectMode?1:D.length,D,O,B),I=I.next,E.bufferedRequestCount--,E.writing)break}I===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=I,E.bufferProcessing=!1}function P(U){return U.ending&&U.length===0&&U.bufferedRequest===null&&!U.finished&&!U.writing}function $(U,E){U._final((function(I){E.pendingcb--,I&&U.emit("error",I),E.prefinished=!0,U.emit("prefinish"),V(U,E)}))}function V(U,E){var I=P(E);return I&&((function(N,w){w.prefinished||w.finalCalled||(typeof N._final=="function"?(w.pendingcb++,w.finalCalled=!0,u.nextTick($,N,w)):(w.prefinished=!0,N.emit("prefinish")))})(U,E),E.pendingcb===0&&(E.finished=!0,U.emit("finish"))),I}f.inherits(C,g),j.prototype.getBuffer=function(){for(var U=this.bufferedRequest,E=[];U;)E.push(U),U=U.next;return E},(function(){try{Object.defineProperty(j.prototype,"buffer",{get:p.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(U){return!!v.call(this,U)||this===C&&U&&U._writableState instanceof j}})):v=function(U){return U instanceof this},C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},C.prototype.write=function(U,E,I){var N,w=this._writableState,_=!1,k=!w.objectMode&&(N=U,y.isBuffer(N)||N instanceof m);return k&&!y.isBuffer(U)&&(U=(function(S){return y.from(S)})(U)),typeof E=="function"&&(I=E,E=null),k?E="buffer":E||(E=w.defaultEncoding),typeof I!="function"&&(I=x),w.ended?(function(S,D){var O=new Error("write after end");S.emit("error",O),u.nextTick(D,O)})(this,I):(k||(function(S,D,O,B){var q=!0,H=!1;return O===null?H=new TypeError("May not write null values to stream"):typeof O=="string"||O===void 0||D.objectMode||(H=new TypeError("Invalid non-string/buffer chunk")),H&&(S.emit("error",H),u.nextTick(B,H),q=!1),q})(this,w,U,I))&&(w.pendingcb++,_=(function(S,D,O,B,q,H){if(!O){var Q=(function(F,W,J){return F.objectMode||F.decodeStrings===!1||typeof W!="string"||(W=y.from(W,J)),W})(D,B,q);B!==Q&&(O=!0,q="buffer",B=Q)}var M=D.objectMode?1:B.length;D.length+=M;var K=D.length<D.highWaterMark;if(K||(D.needDrain=!0),D.writing||D.corked){var z=D.lastBufferedRequest;D.lastBufferedRequest={chunk:B,encoding:q,isBuf:O,callback:H,next:null},z?z.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else R(S,D,!1,M,B,q,H);return K})(this,w,k,U,E,I)),_},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var U=this._writableState;U.corked&&(U.corked--,U.writing||U.corked||U.bufferProcessing||!U.bufferedRequest||A(this,U))},C.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(U,E,I){I(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(U,E,I){var N=this._writableState;typeof U=="function"?(I=U,U=null,E=null):typeof E=="function"&&(I=E,E=null),U!=null&&this.write(U,E),N.corked&&(N.corked=1,this.uncork()),N.ending||(function(w,_,k){_.ending=!0,V(w,_),k&&(_.finished?u.nextTick(k):w.once("finish",k)),_.ended=!0,w.writable=!1})(this,N,I)},Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),C.prototype.destroy=b.destroy,C.prototype._undestroy=b.undestroy,C.prototype._destroy=function(U,E){this.end(),E(U)}}).call(this)}).call(this,r("_process"),typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("util");n.exports=(function(){function o(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(u){var c={data:u,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},o.prototype.unshift=function(u){var c={data:u,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},o.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(u){if(this.length===0)return"";for(var c=this.head,d=""+c.data;c=c.next;)d+=u+c.data;return d},o.prototype.concat=function(u){if(this.length===0)return i.alloc(0);for(var c,d,h,f=i.allocUnsafe(u>>>0),p=this.head,g=0;p;)c=p.data,d=f,h=g,c.copy(d,h),g+=p.data.length,p=p.next;return f},o})(),a&&a.inspect&&a.inspect.custom&&(n.exports.prototype[a.inspect.custom]=function(){var o=a.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(r,n,s){var i=r("process-nextick-args");function a(o,u){o.emit("error",u)}n.exports={destroy:function(o,u){var c=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(u?u(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,o)):i.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,(function(f){!u&&f?c._writableState?c._writableState.errorEmitted||(c._writableState.errorEmitted=!0,i.nextTick(a,c,f)):i.nextTick(a,c,f):u&&u(f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(r,n,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(r,n,s){n.exports=r("./readable").PassThrough},{"./readable":517}],517:[function(r,n,s){(s=n.exports=r("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=r("./lib/_stream_writable.js"),s.Duplex=r("./lib/_stream_duplex.js"),s.Transform=r("./lib/_stream_transform.js"),s.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(r,n,s){n.exports=r("./readable").Transform},{"./readable":517}],519:[function(r,n,s){n.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(r,n,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(r,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(r,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(r,n,s){(function(i,a){(function(){var o=r("process/browser.js").nextTick,u=Function.prototype.apply,c=Array.prototype.slice,d={},h=0;function f(p,g){this._id=p,this._clearFn=g}s.setTimeout=function(){return new f(u.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new f(u.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(p){p.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(p,g){clearTimeout(p._idleTimeoutId),p._idleTimeout=g},s.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},s._unrefActive=s.active=function(p){clearTimeout(p._idleTimeoutId);var g=p._idleTimeout;g>=0&&(p._idleTimeoutId=setTimeout((function(){p._onTimeout&&p._onTimeout()}),g))},s.setImmediate=typeof i=="function"?i:function(p){var g=h++,y=!(arguments.length<2)&&c.call(arguments,1);return d[g]=!0,o((function(){d[g]&&(y?p.apply(null,y):p.call(null),s.clearImmediate(g))})),g},s.clearImmediate=typeof a=="function"?a:function(p){delete d[p]}}).call(this)}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(r,n,s){(function(i){(function(){function a(o){try{if(!i.localStorage)return!1}catch{return!1}var u=i.localStorage[o];return u!=null&&String(u).toLowerCase()==="true"}n.exports=function(o,u){if(a("noDeprecation"))return o;var c=!1;return function(){if(!c){if(a("throwDeprecation"))throw new Error(u);a("traceDeprecation")?console.trace(u):console.warn(u),c=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(r,n,s){typeof Object.create=="function"?n.exports=function(i,a){i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(i,a){i.super_=a;var o=function(){};o.prototype=a.prototype,i.prototype=new o,i.prototype.constructor=i}},{}],526:[function(r,n,s){n.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(r,n,s){(function(i,a){(function(){var o=/%[sdj%]/g;s.format=function(w){if(!j(w)){for(var _=[],k=0;k<arguments.length;k++)_.push(d(arguments[k]));return _.join(" ")}k=1;for(var S=arguments,D=S.length,O=String(w).replace(o,(function(q){if(q==="%%")return"%";if(k>=D)return q;switch(q){case"%s":return String(S[k++]);case"%d":return Number(S[k++]);case"%j":try{return JSON.stringify(S[k++])}catch{return"[Circular]"}default:return q}})),B=S[k];k<D;B=S[++k])b(B)||!L(B)?O+=" "+B:O+=" "+d(B);return O},s.deprecate=function(w,_){if(C(a.process))return function(){return s.deprecate(w,_).apply(this,arguments)};if(i.noDeprecation===!0)return w;var k=!1;return function(){if(!k){if(i.throwDeprecation)throw new Error(_);i.traceDeprecation?console.trace(_):console.error(_),k=!0}return w.apply(this,arguments)}};var u,c={};function d(w,_){var k={seen:[],stylize:f};return arguments.length>=3&&(k.depth=arguments[2]),arguments.length>=4&&(k.colors=arguments[3]),v(_)?k.showHidden=_:_&&s._extend(k,_),C(k.showHidden)&&(k.showHidden=!1),C(k.depth)&&(k.depth=2),C(k.colors)&&(k.colors=!1),C(k.customInspect)&&(k.customInspect=!0),k.colors&&(k.stylize=h),p(k,w,k.depth)}function h(w,_){var k=d.styles[_];return k?"\x1B["+d.colors[k][0]+"m"+w+"\x1B["+d.colors[k][1]+"m":w}function f(w,_){return w}function p(w,_,k){if(w.customInspect&&_&&$(_.inspect)&&_.inspect!==s.inspect&&(!_.constructor||_.constructor.prototype!==_)){var S=_.inspect(k,w);return j(S)||(S=p(w,S,k)),S}var D=(function(z,F){if(C(F))return z.stylize("undefined","undefined");if(j(F)){var W="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(W,"string")}if(x(F))return z.stylize(""+F,"number");if(v(F))return z.stylize(""+F,"boolean");if(b(F))return z.stylize("null","null")})(w,_);if(D)return D;var O=Object.keys(_),B=(function(z){var F={};return z.forEach((function(W,J){F[W]=!0})),F})(O);if(w.showHidden&&(O=Object.getOwnPropertyNames(_)),P(_)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return g(_);if(O.length===0){if($(_)){var q=_.name?": "+_.name:"";return w.stylize("[Function"+q+"]","special")}if(R(_))return w.stylize(RegExp.prototype.toString.call(_),"regexp");if(A(_))return w.stylize(Date.prototype.toString.call(_),"date");if(P(_))return g(_)}var H,Q="",M=!1,K=["{","}"];return m(_)&&(M=!0,K=["[","]"]),$(_)&&(Q=" [Function"+(_.name?": "+_.name:"")+"]"),R(_)&&(Q=" "+RegExp.prototype.toString.call(_)),A(_)&&(Q=" "+Date.prototype.toUTCString.call(_)),P(_)&&(Q=" "+g(_)),O.length!==0||M&&_.length!=0?k<0?R(_)?w.stylize(RegExp.prototype.toString.call(_),"regexp"):w.stylize("[Object]","special"):(w.seen.push(_),H=M?(function(z,F,W,J,le){for(var ne=[],ue=0,Z=F.length;ue<Z;++ue)N(F,String(ue))?ne.push(y(z,F,W,J,String(ue),!0)):ne.push("");return le.forEach((function(te){te.match(/^\d+$/)||ne.push(y(z,F,W,J,te,!0))})),ne})(w,_,k,B,O):O.map((function(z){return y(w,_,k,B,z,M)})),w.seen.pop(),(function(z,F,W){return z.reduce((function(J,le){return le.indexOf(`
`)>=0,J+le.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?W[0]+(F===""?"":F+`
 `)+" "+z.join(`,
  `)+" "+W[1]:W[0]+F+" "+z.join(", ")+" "+W[1]})(H,Q,K)):K[0]+Q+K[1]}function g(w){return"["+Error.prototype.toString.call(w)+"]"}function y(w,_,k,S,D,O){var B,q,H;if((H=Object.getOwnPropertyDescriptor(_,D)||{value:_[D]}).get?q=H.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):H.set&&(q=w.stylize("[Setter]","special")),N(S,D)||(B="["+D+"]"),q||(w.seen.indexOf(H.value)<0?(q=b(k)?p(w,H.value,null):p(w,H.value,k-1)).indexOf(`
`)>-1&&(q=O?q.split(`
`).map((function(Q){return"  "+Q})).join(`
`).substr(2):`
`+q.split(`
`).map((function(Q){return"   "+Q})).join(`
`)):q=w.stylize("[Circular]","special")),C(B)){if(O&&D.match(/^\d+$/))return q;(B=JSON.stringify(""+D)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(B=B.substr(1,B.length-2),B=w.stylize(B,"name")):(B=B.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),B=w.stylize(B,"string"))}return B+": "+q}function m(w){return Array.isArray(w)}function v(w){return typeof w=="boolean"}function b(w){return w===null}function x(w){return typeof w=="number"}function j(w){return typeof w=="string"}function C(w){return w===void 0}function R(w){return L(w)&&V(w)==="[object RegExp]"}function L(w){return typeof w=="object"&&w!==null}function A(w){return L(w)&&V(w)==="[object Date]"}function P(w){return L(w)&&(V(w)==="[object Error]"||w instanceof Error)}function $(w){return typeof w=="function"}function V(w){return Object.prototype.toString.call(w)}function U(w){return w<10?"0"+w.toString(10):w.toString(10)}s.debuglog=function(w){if(C(u)&&(u=i.env.NODE_DEBUG||""),w=w.toUpperCase(),!c[w])if(new RegExp("\\b"+w+"\\b","i").test(u)){var _=i.pid;c[w]=function(){var k=s.format.apply(s,arguments);console.error("%s %d: %s",w,_,k)}}else c[w]=function(){};return c[w]},s.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=m,s.isBoolean=v,s.isNull=b,s.isNullOrUndefined=function(w){return w==null},s.isNumber=x,s.isString=j,s.isSymbol=function(w){return typeof w=="symbol"},s.isUndefined=C,s.isRegExp=R,s.isObject=L,s.isDate=A,s.isError=P,s.isFunction=$,s.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},s.isBuffer=r("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var w=new Date,_=[U(w.getHours()),U(w.getMinutes()),U(w.getSeconds())].join(":");return[w.getDate(),E[w.getMonth()],_].join(" ")}function N(w,_){return Object.prototype.hasOwnProperty.call(w,_)}s.log=function(){console.log("%s - %s",I(),s.format.apply(s,arguments))},s.inherits=r("inherits"),s._extend=function(w,_){if(!_||!L(_))return w;for(var k=Object.keys(_),S=k.length;S--;)w[k[S]]=_[k[S]];return w}}).call(this)}).call(this,r("_process"),typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return p.default}});var i=g(r("./v1.js")),a=g(r("./v3.js")),o=g(r("./v4.js")),u=g(r("./v5.js")),c=g(r("./nil.js")),d=g(r("./version.js")),h=g(r("./validate.js")),f=g(r("./stringify.js")),p=g(r("./parse.js"));function g(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(r,n,s){function i(p){return 14+(p+64>>>9<<4)+1}function a(p,g){const y=(65535&p)+(65535&g);return(p>>16)+(g>>16)+(y>>16)<<16|65535&y}function o(p,g,y,m,v,b){return a((x=a(a(g,p),a(m,b)))<<(j=v)|x>>>32-j,y);var x,j}function u(p,g,y,m,v,b,x){return o(g&y|~g&m,p,g,v,b,x)}function c(p,g,y,m,v,b,x){return o(g&m|y&~m,p,g,v,b,x)}function d(p,g,y,m,v,b,x){return o(g^y^m,p,g,v,b,x)}function h(p,g,y,m,v,b,x){return o(y^(g|~m),p,g,v,b,x)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var f=function(p){if(typeof p=="string"){const g=unescape(encodeURIComponent(p));p=new Uint8Array(g.length);for(let y=0;y<g.length;++y)p[y]=g.charCodeAt(y)}return(function(g){const y=[],m=32*g.length;for(let v=0;v<m;v+=8){const b=g[v>>5]>>>v%32&255,x=parseInt("0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(15&b),16);y.push(x)}return y})((function(g,y){g[y>>5]|=128<<y%32,g[i(y)-1]=y;let m=1732584193,v=-271733879,b=-1732584194,x=271733878;for(let j=0;j<g.length;j+=16){const C=m,R=v,L=b,A=x;m=u(m,v,b,x,g[j],7,-680876936),x=u(x,m,v,b,g[j+1],12,-389564586),b=u(b,x,m,v,g[j+2],17,606105819),v=u(v,b,x,m,g[j+3],22,-1044525330),m=u(m,v,b,x,g[j+4],7,-176418897),x=u(x,m,v,b,g[j+5],12,1200080426),b=u(b,x,m,v,g[j+6],17,-1473231341),v=u(v,b,x,m,g[j+7],22,-45705983),m=u(m,v,b,x,g[j+8],7,1770035416),x=u(x,m,v,b,g[j+9],12,-1958414417),b=u(b,x,m,v,g[j+10],17,-42063),v=u(v,b,x,m,g[j+11],22,-1990404162),m=u(m,v,b,x,g[j+12],7,1804603682),x=u(x,m,v,b,g[j+13],12,-40341101),b=u(b,x,m,v,g[j+14],17,-1502002290),v=u(v,b,x,m,g[j+15],22,1236535329),m=c(m,v,b,x,g[j+1],5,-165796510),x=c(x,m,v,b,g[j+6],9,-1069501632),b=c(b,x,m,v,g[j+11],14,643717713),v=c(v,b,x,m,g[j],20,-373897302),m=c(m,v,b,x,g[j+5],5,-701558691),x=c(x,m,v,b,g[j+10],9,38016083),b=c(b,x,m,v,g[j+15],14,-660478335),v=c(v,b,x,m,g[j+4],20,-405537848),m=c(m,v,b,x,g[j+9],5,568446438),x=c(x,m,v,b,g[j+14],9,-1019803690),b=c(b,x,m,v,g[j+3],14,-187363961),v=c(v,b,x,m,g[j+8],20,1163531501),m=c(m,v,b,x,g[j+13],5,-1444681467),x=c(x,m,v,b,g[j+2],9,-51403784),b=c(b,x,m,v,g[j+7],14,1735328473),v=c(v,b,x,m,g[j+12],20,-1926607734),m=d(m,v,b,x,g[j+5],4,-378558),x=d(x,m,v,b,g[j+8],11,-2022574463),b=d(b,x,m,v,g[j+11],16,1839030562),v=d(v,b,x,m,g[j+14],23,-35309556),m=d(m,v,b,x,g[j+1],4,-1530992060),x=d(x,m,v,b,g[j+4],11,1272893353),b=d(b,x,m,v,g[j+7],16,-155497632),v=d(v,b,x,m,g[j+10],23,-1094730640),m=d(m,v,b,x,g[j+13],4,681279174),x=d(x,m,v,b,g[j],11,-358537222),b=d(b,x,m,v,g[j+3],16,-722521979),v=d(v,b,x,m,g[j+6],23,76029189),m=d(m,v,b,x,g[j+9],4,-640364487),x=d(x,m,v,b,g[j+12],11,-421815835),b=d(b,x,m,v,g[j+15],16,530742520),v=d(v,b,x,m,g[j+2],23,-995338651),m=h(m,v,b,x,g[j],6,-198630844),x=h(x,m,v,b,g[j+7],10,1126891415),b=h(b,x,m,v,g[j+14],15,-1416354905),v=h(v,b,x,m,g[j+5],21,-57434055),m=h(m,v,b,x,g[j+12],6,1700485571),x=h(x,m,v,b,g[j+3],10,-1894986606),b=h(b,x,m,v,g[j+10],15,-1051523),v=h(v,b,x,m,g[j+1],21,-2054922799),m=h(m,v,b,x,g[j+8],6,1873313359),x=h(x,m,v,b,g[j+15],10,-30611744),b=h(b,x,m,v,g[j+6],15,-1560198380),v=h(v,b,x,m,g[j+13],21,1309151649),m=h(m,v,b,x,g[j+4],6,-145523070),x=h(x,m,v,b,g[j+11],10,-1120210379),b=h(b,x,m,v,g[j+2],15,718787259),v=h(v,b,x,m,g[j+9],21,-343485551),m=a(m,C),v=a(v,R),b=a(b,L),x=a(x,A)}return[m,v,b,x]})((function(g){if(g.length===0)return[];const y=8*g.length,m=new Uint32Array(i(y));for(let v=0;v<y;v+=8)m[v>>5]|=(255&g[v/8])<<v%32;return m})(p),8*p.length))};s.default=f},{}],530:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=r("./validate.js"))&&i.__esModule?i:{default:i},o=function(u){if(!(0,a.default)(u))throw TypeError("Invalid UUID");let c;const d=new Uint8Array(16);return d[0]=(c=parseInt(u.slice(0,8),16))>>>24,d[1]=c>>>16&255,d[2]=c>>>8&255,d[3]=255&c,d[4]=(c=parseInt(u.slice(9,13),16))>>>8,d[5]=255&c,d[6]=(c=parseInt(u.slice(14,18),16))>>>8,d[7]=255&c,d[8]=(c=parseInt(u.slice(19,23),16))>>>8,d[9]=255&c,d[10]=(c=parseInt(u.slice(24,36),16))/1099511627776&255,d[11]=c/4294967296&255,d[12]=c>>>24&255,d[13]=c>>>16&255,d[14]=c>>>8&255,d[15]=255&c,d};s.default=o},{"./validate.js":541}],532:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(r,n,s){let i;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)};const a=new Uint8Array(16)},{}],534:[function(r,n,s){function i(u,c,d,h){switch(u){case 0:return c&d^~c&h;case 1:return c^d^h;case 2:return c&d^c&h^d&h;case 3:return c^d^h}}function a(u,c){return u<<c|u>>>32-c}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=function(u){const c=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof u=="string"){const g=unescape(encodeURIComponent(u));u=[];for(let y=0;y<g.length;++y)u.push(g.charCodeAt(y))}else Array.isArray(u)||(u=Array.prototype.slice.call(u));u.push(128);const h=u.length/4+2,f=Math.ceil(h/16),p=new Array(f);for(let g=0;g<f;++g){const y=new Uint32Array(16);for(let m=0;m<16;++m)y[m]=u[64*g+4*m]<<24|u[64*g+4*m+1]<<16|u[64*g+4*m+2]<<8|u[64*g+4*m+3];p[g]=y}p[f-1][14]=8*(u.length-1)/Math.pow(2,32),p[f-1][14]=Math.floor(p[f-1][14]),p[f-1][15]=8*(u.length-1)&4294967295;for(let g=0;g<f;++g){const y=new Uint32Array(80);for(let C=0;C<16;++C)y[C]=p[g][C];for(let C=16;C<80;++C)y[C]=a(y[C-3]^y[C-8]^y[C-14]^y[C-16],1);let m=d[0],v=d[1],b=d[2],x=d[3],j=d[4];for(let C=0;C<80;++C){const R=Math.floor(C/20),L=a(m,5)+i(R,v,b,x)+j+c[R]+y[C]>>>0;j=x,x=b,b=a(v,30)>>>0,v=m,m=L}d[0]=d[0]+m>>>0,d[1]=d[1]+v>>>0,d[2]=d[2]+b>>>0,d[3]=d[3]+x>>>0,d[4]=d[4]+j>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,255&d[0],d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,255&d[1],d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,255&d[2],d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,255&d[3],d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,255&d[4]]};s.default=o},{}],535:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=r("./validate.js"))&&i.__esModule?i:{default:i};const o=[];for(let c=0;c<256;++c)o.push((c+256).toString(16).substr(1));var u=function(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const h=(o[c[d+0]]+o[c[d+1]]+o[c[d+2]]+o[c[d+3]]+"-"+o[c[d+4]]+o[c[d+5]]+"-"+o[c[d+6]]+o[c[d+7]]+"-"+o[c[d+8]]+o[c[d+9]]+"-"+o[c[d+10]]+o[c[d+11]]+o[c[d+12]]+o[c[d+13]]+o[c[d+14]]+o[c[d+15]]).toLowerCase();if(!(0,a.default)(h))throw TypeError("Stringified UUID is invalid");return h};s.default=u},{"./validate.js":541}],536:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(r("./rng.js")),a=o(r("./stringify.js"));function o(p){return p&&p.__esModule?p:{default:p}}let u,c,d=0,h=0;var f=function(p,g,y){let m=g&&y||0;const v=g||new Array(16);let b=(p=p||{}).node||u,x=p.clockseq!==void 0?p.clockseq:c;if(b==null||x==null){const P=p.random||(p.rng||i.default)();b==null&&(b=u=[1|P[0],P[1],P[2],P[3],P[4],P[5]]),x==null&&(x=c=16383&(P[6]<<8|P[7]))}let j=p.msecs!==void 0?p.msecs:Date.now(),C=p.nsecs!==void 0?p.nsecs:h+1;const R=j-d+(C-h)/1e4;if(R<0&&p.clockseq===void 0&&(x=x+1&16383),(R<0||j>d)&&p.nsecs===void 0&&(C=0),C>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=j,h=C,c=x,j+=122192928e5;const L=(1e4*(268435455&j)+C)%4294967296;v[m++]=L>>>24&255,v[m++]=L>>>16&255,v[m++]=L>>>8&255,v[m++]=255&L;const A=j/4294967296*1e4&268435455;v[m++]=A>>>8&255,v[m++]=255&A,v[m++]=A>>>24&15|16,v[m++]=A>>>16&255,v[m++]=x>>>8|128,v[m++]=255&x;for(let P=0;P<6;++P)v[m+P]=b[P];return g||(0,a.default)(v)};s.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(r("./v35.js")),a=o(r("./md5.js"));function o(c){return c&&c.__esModule?c:{default:c}}var u=(0,i.default)("v3",48,a.default);s.default=u},{"./md5.js":529,"./v35.js":538}],538:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(d,h,f){function p(g,y,m,v){if(typeof g=="string"&&(g=(function(x){x=unescape(encodeURIComponent(x));const j=[];for(let C=0;C<x.length;++C)j.push(x.charCodeAt(C));return j})(g)),typeof y=="string"&&(y=(0,a.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let b=new Uint8Array(16+g.length);if(b.set(y),b.set(g,y.length),b=f(b),b[6]=15&b[6]|h,b[8]=63&b[8]|128,m){v=v||0;for(let x=0;x<16;++x)m[v+x]=b[x];return m}return(0,i.default)(b)}try{p.name=d}catch{}return p.DNS=u,p.URL=c,p},s.URL=s.DNS=void 0;var i=o(r("./stringify.js")),a=o(r("./parse.js"));function o(d){return d&&d.__esModule?d:{default:d}}const u="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=u;const c="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=c},{"./parse.js":531,"./stringify.js":535}],539:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(r("./rng.js")),a=o(r("./stringify.js"));function o(c){return c&&c.__esModule?c:{default:c}}var u=function(c,d,h){const f=(c=c||{}).random||(c.rng||i.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,d){h=h||0;for(let p=0;p<16;++p)d[h+p]=f[p];return d}return(0,a.default)(f)};s.default=u},{"./rng.js":533,"./stringify.js":535}],540:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(r("./v35.js")),a=o(r("./sha1.js"));function o(c){return c&&c.__esModule?c:{default:c}}var u=(0,i.default)("v5",80,a.default);s.default=u},{"./sha1.js":534,"./v35.js":538}],541:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=r("./regex.js"))&&i.__esModule?i:{default:i},o=function(u){return typeof u=="string"&&a.default.test(u)};s.default=o},{"./regex.js":532}],542:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=r("./validate.js"))&&i.__esModule?i:{default:i},o=function(u){if(!(0,a.default)(u))throw TypeError("Invalid UUID");return parseInt(u.substr(14,1),16)};s.default=o},{"./validate.js":541}],543:[function(r,n,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(r,n,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},s.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(r,n,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=i,s.isNCNameChar=function(a){return i(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)}))})(TX);var lN=TX.exports;const cN=tS(lN),EX=vM({__proto__:null,default:cN},[lN]);function L1(){try{return Ho.isNativePlatform()}catch{return!1}}function AX(){if(L1())return!0;const e=navigator.userAgent.toLowerCase();return e.includes("wv")||e.includes("webview")||e.includes("android")&&!e.includes("chrome/")||e.includes("android")&&e.includes("version/")}function PX(){const e=navigator.userAgent.toLowerCase();return(e.includes("iphone")||e.includes("ipad"))&&!e.includes("safari/")}function uN(){return L1()||AX()||PX()}function IX(){return!!(window.Android?.downloadBase64File||window.Android?.downloadFile||window.Android?.shareFile)}function DX(){return!!window.webkit?.messageHandlers?.downloadFile}function i3e(e,t){const r=e.split(".").pop()?.toLowerCase();return r&&{pdf:"application/pdf",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xls:"application/vnd.ms-excel",csv:"text/csv",html:"text/html",json:"application/json",txt:"text/plain",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"}[r]||t}function rg(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{const s=n.result,i=s.indexOf(",");t(i>=0?s.substring(i+1):s)},n.onerror=r,n.readAsDataURL(e)})}function jn(e,t,r){const n=`[DL] ${e}: ${t}${r?" - "+r:""}`;console.log(n)}async function a3e(e,t,r){try{const s=(await Mr(()=>import("./index-CEJMhQLl.js"),[])).FileSharer;if(!s||typeof s.share!="function")return jn("FileSharer","SKIP","plugin not available"),!1;const i=await rg(e),a=t.replace(/[^a-zA-Z0-9\u0600-\u06FF._-]/g,"_"),o=i3e(a,r);return jn("FileSharer","START",`${a} (${e.size} bytes)`),await s.share({filename:a,contentType:o,base64Data:i}),jn("FileSharer","OK"),!0}catch(n){const s=String(n?.message||n||"");return jn("FileSharer","ERROR",s),!!(s.includes("cancel")||s.includes("Cancel")||s.includes("dismiss")||s.includes("USER_CANCELLED"))}}async function o3e(e,t,r){try{const n=await Mr(()=>import("./index-D4qm6MQv.js"),[]),s=await Mr(()=>import("./index-yhKuyqst.js"),[]),i=n.Filesystem,a=n.Directory,o=s.Share;if(!i||!o)return jn("CapFS+Share","SKIP","plugins not available"),!1;const u=await rg(e),c=t.replace(/[^a-zA-Z0-9\u0600-\u06FF._-]/g,"_");jn("CapFS","WRITING",c),await i.writeFile({path:c,data:u,directory:a.Cache});const d=await i.getUri({directory:a.Cache,path:c});return jn("CapFS","URI",d.uri),await o.share({title:t,url:d.uri,dialogTitle:`: ${t}`}),jn("CapShare","OK"),!0}catch(n){const s=String(n?.message||n||"");return jn("CapFS+Share","ERROR",s),!!(s.includes("canceled")||s.includes("dismissed")||s.includes("cancel"))}}async function l3e(e,t,r){try{if(typeof navigator.share!="function"||typeof navigator.canShare!="function")return jn("WebShare","SKIP","API not available"),!1;const n=new File([e],t,{type:r}),s={files:[n]};return navigator.canShare(s)?(jn("WebShare","START",t),await navigator.share({files:[n],title:t}),jn("WebShare","OK"),!0):(jn("WebShare","SKIP","canShare=false"),!1)}catch(n){return n?.name==="AbortError"?(jn("WebShare","CANCELLED"),!0):(jn("WebShare","ERROR",String(n?.message||n)),!1)}}async function c3e(e,t,r){try{const n=await rg(e);jn("ServerProxy","UPLOADING",`${t} (${e.size} bytes)`);const s=await fetch("/api/temp-download",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({base64Data:n,fileName:t,mimeType:r})});if(!s.ok)return jn("ServerProxy","UPLOAD_FAILED",`status=${s.status}`),!1;const i=await s.json();if(!i.success||!i.downloadUrl)return jn("ServerProxy","BAD_RESPONSE"),!1;const a=new URL(i.downloadUrl,window.location.origin).href;if(jn("ServerProxy","URL_READY",a),uN()){jn("ServerProxy","MOBILE_REDIRECT","using window.location for download");const u=document.createElement("iframe");u.style.display="none",u.src=a,document.body.appendChild(u),await new Promise(c=>setTimeout(c,3e3));try{document.body.removeChild(u)}catch{}return jn("ServerProxy","IFRAME_DONE"),!0}const o=document.createElement("a");return o.href=i.downloadUrl,o.download=t,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),jn("ServerProxy","BROWSER_CLICK_DONE"),!0}catch(n){return jn("ServerProxy","ERROR",String(n?.message||n)),!1}}function u3e(e,t){try{const r=URL.createObjectURL(e),n=document.createElement("a");return n.href=r,n.download=t,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(r),1e3),!0}catch(r){return console.error("[DL] Browser failed:",r),!1}}async function dN(e,t,r){const n=r||e.type||"application/octet-stream",s=uN(),i=L1();console.log("[DL] === START ===",{fileName:t,type:n,size:e.size,capacitor:i,mobile:s,ua:navigator.userAgent.substring(0,100)});const a=[];if(i){a.push("FileSharer");try{if(await a3e(e,t,n))return console.log("[DL] === SUCCESS via FileSharer ==="),!0}catch(o){console.error("[DL] FileSharer threw:",o?.message||o)}a.push("CapFS+Share");try{if(await o3e(e,t,n))return console.log("[DL] === SUCCESS via CapFS+Share ==="),!0}catch(o){console.error("[DL] CapFS+Share threw:",o?.message||o)}}if(s){a.push("WebShare");try{if(await l3e(e,t,n))return console.log("[DL] === SUCCESS via WebShare ==="),!0}catch(o){console.error("[DL] WebShare threw:",o?.message||o)}a.push("ServerProxy");try{if(await c3e(e,t,n))return console.log("[DL] === SUCCESS via ServerProxy (iframe) ==="),!0}catch(o){console.error("[DL] ServerProxy threw:",o?.message||o)}return console.error("[DL] === ALL MOBILE METHODS FAILED ===",a),!1}if(IX())try{const o=await rg(e);if(window.Android?.downloadBase64File)return window.Android.downloadBase64File(o,t,n),!0;if(window.Android?.downloadFile)return window.Android.downloadFile(o,t,n),!0;if(window.Android?.shareFile)return window.Android.shareFile(o,t,n),!0}catch(o){console.error("[DL] AndroidBridge:",o)}if(DX())try{const o=await rg(e);return window.webkit?.messageHandlers?.downloadFile?.postMessage({base64:o,fileName:t,mimeType:n}),!0}catch(o){console.error("[DL] iOSBridge:",o)}return console.log("[DL] Using browser download"),u3e(e,t)}async function ep(e,t){const r=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});return dN(r,t)}const d3e=Object.freeze(Object.defineProperty({__proto__:null,downloadExcelFile:ep,downloadFile:dN,hasAndroidBridge:IX,hasIOSBridge:DX,isAndroidWebView:AX,isCapacitorNative:L1,isIOSWebView:PX,isMobileWebView:uN},Symbol.toStringTag,{value:"Module"}));async function f3e(e){const t=new cN.Workbook,r=t.addWorksheet(" ");r.views=[{rightToLeft:!0}],r.columns=[{header:"",key:"purchaseDate",width:15},{header:" ",key:"materialName",width:20},{header:"",key:"materialCategory",width:15},{header:"",key:"quantity",width:10},{header:"",key:"unit",width:10},{header:" ",key:"unitPrice",width:12},{header:" ",key:"totalAmount",width:15},{header:" ",key:"purchaseType",width:12},{header:"",key:"supplierName",width:20},{header:" ",key:"invoiceNumber",width:15},{header:"",key:"projectName",width:20},{header:"",key:"notes",width:30}];const n=r.getRow(1);n.font={bold:!0,color:{argb:"FFFFFFFF"}},n.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},n.alignment={vertical:"middle",horizontal:"center"},e.forEach(o=>{const u=r.addRow({purchaseDate:o.purchaseDate?cr(new Date(o.purchaseDate),"dd/MM/yyyy"):"",materialName:o.materialName||o.material?.name||"",materialCategory:o.materialCategory||o.material?.category||"",quantity:Number(o.quantity),unit:o.materialUnit||o.unit||o.material?.unit||"",unitPrice:Number(o.unitPrice),totalAmount:Number(o.totalAmount),purchaseType:o.purchaseType||"",supplierName:o.supplierName||"",invoiceNumber:o.invoiceNumber||"",projectName:o.projectName||o.project?.name||" ",notes:o.notes||""});u.alignment={vertical:"middle",horizontal:"right"},u.getCell("quantity").numFmt="#,##0.00",u.getCell("unitPrice").numFmt="#,##0.00",u.getCell("totalAmount").numFmt="#,##0.00"});const s=e.reduce((o,u)=>o+parseFloat(u.totalAmount||"0"),0),i=r.addRow({purchaseDate:"",totalAmount:s});i.font={bold:!0},i.getCell("totalAmount").numFmt="#,##0.00",i.getCell("totalAmount").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}};const a=await t.xlsx.writeBuffer();return await ep(a,`__${new Date().toLocaleDateString("en-GB").replace(/\//g,"-")}.xlsx`)}function h3e(){const[,e]=fs(),{selectedProjectId:t,isAllProjects:r,getProjectIdForApi:n}=yo(),[s,i]=T.useState(""),[a,o]=T.useState({paymentType:"all",category:"all",dateRange:void 0,dateFrom:"",dateTo:"",specificDate:""}),[u,c]=T.useState(!1),[d,h]=T.useState(!1),f=T.useCallback((ge,Ke)=>{ge==="selectedDate"?rt(Ke?cr(new Date(Ke),"yyyy-MM-dd"):""):o(oe=>({...oe,[ge]:Ke}))},[]),g=new URLSearchParams(window.location.search).get("edit"),[y,m]=T.useState(""),[v,b]=T.useState(""),[x,j]=T.useState(""),[C,R]=T.useState(""),[L,A]=T.useState(""),[P,$]=T.useState(""),V=P==="";T.useEffect(()=>{V&&A("0")},[V]);const[U,E]=T.useState(""),[I,N]=T.useState(""),[w,_]=T.useState(Ds()),[k,S]=T.useState(Ds()),[D,O]=T.useState(""),[B,q]=T.useState(""),[H,Q]=T.useState("0"),[M,K]=T.useState("0"),[z,F]=T.useState(null),[W,J]=T.useState(!1),[le,ne]=T.useState(!0),[ue,Z]=T.useState(!1),[te,X]=T.useState(""),[ae,re]=T.useState(""),[ee,G]=T.useState(""),[Y,ie]=T.useState(""),[ce,me]=T.useState(""),[xe,Ce]=T.useState(""),[Ae,$e]=T.useState(),[Le,rt]=T.useState(()=>new URLSearchParams(window.location.search).get("date")||""),{toast:qe}=zr(),Ve=Yn(),{setFloatingAction:he}=vo(),de=T.useCallback(()=>{i(""),rt(""),o({paymentType:"all",category:"all",dateRange:void 0,dateFrom:"",dateTo:"",specificDate:""}),qe({title:"  ",description:"      "})},[qe]);T.useEffect(()=>{},[]),T.useEffect(()=>(he(null),()=>he(null)),[he]);const Pe=async(ge,Ke)=>{if(!(!Ke||typeof Ke!="string"||!Ke.trim()))try{await Ie("/api/autocomplete","POST",{category:ge,value:Ke.trim()})}catch(oe){console.log(`Failed to save autocomplete value for ${ge}:`,oe)}},Oe=()=>{X(""),re(""),G(""),ie(""),me(""),Ce("")},yt=ht({mutationFn:async ge=>(await Promise.all([Pe("supplier_name",te),Pe("supplier_contact_person",ae),Pe("supplier_phone",ee),Pe("supplier_address",Y),Pe("supplier_payment_terms",ce)]),Ie("/api/suppliers","POST",ge)),onSuccess:ge=>{Ve.invalidateQueries({queryKey:fe.suppliers}),qe({title:"   ",description:`   "${te}"   `}),E(te),Z(!1),Oe()},onError:ge=>{qe({title:"   ",description:ge?.message||"    .    .",variant:"destructive"})}}),Mt=async ge=>{if(ge.preventDefault(),!te.trim()){qe({title:"  ",description:"   ",variant:"destructive"});return}const Ke={name:te.trim(),contactPerson:ae.trim()||void 0,phone:ee.trim()||void 0,address:Y.trim()||void 0,paymentTerms:ce||void 0,notes:xe.trim()||void 0,isActive:!0};yt.mutate(Ke)},{data:it=[]}=st({queryKey:fe.materials,queryFn:async()=>{try{const ge=await Ie("/api/materials","GET");return ge&&ge.data&&Array.isArray(ge.data)?ge.data:Array.isArray(ge)?ge:[]}catch(ge){return console.error("Error fetching materials:",ge),[]}},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:!1}),{data:zt=[]}=st({queryKey:fe.suppliers,queryFn:async()=>{try{const ge=await Ie("/api/suppliers","GET");return ge&&ge.data&&Array.isArray(ge.data)?ge.data:Array.isArray(ge)?ge:[]}catch(ge){return console.error("Error fetching suppliers:",ge),[]}},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:!1}),{data:nt,isLoading:gt}=st({queryKey:fe.materialPurchaseEdit(g),queryFn:async()=>{if(!g)return null;try{console.log(`    : ${g}`);const ge=await Ie(`/api/material-purchases/${g}`,"GET");console.log("    :",ge);let Ke=null;if(ge&&ge.data)Ke=ge.data;else if(ge&&ge.id)Ke=ge;else return console.warn("     "),null;return console.log("     :",Ke),Ke}catch(ge){return console.error("      :",ge),null}},enabled:!!g,retry:1,staleTime:0});T.useEffect(()=>{if(nt&&g){console.log("    :",nt),console.log("   :",{purchaseToEdit:{materialName:nt.materialName,materialCategory:nt.materialCategory,materialUnit:nt.materialUnit,unit:nt.unit},material:nt.material?{name:nt.material.name,category:nt.material.category,unit:nt.material.unit}:"    "});const ge=nt.materialName||nt.material?.name||"",Ke=nt.materialCategory||nt.material?.category||"",oe=nt.materialUnit||nt.unit||nt.material?.unit||"";console.log("     :",{materialName:ge,materialCategory:Ke,materialUnit:oe}),m(ge),b(Ke),j(oe),R(nt.quantity?.toString()||""),A(nt.unitPrice?.toString()||""),$(nt.purchaseType||""),E(nt.supplierName||""),N(nt.invoiceNumber||""),_(nt.invoiceDate||""),S(nt.purchaseDate||""),Q(nt.paidAmount?.toString()||"0"),K(nt.remainingAmount?.toString()||"0"),O(nt.notes||""),q(nt.invoicePhoto||""),F(nt.id),J(nt.addToInventory||!1),console.log("    :",{materialName:ge,materialCategory:Ke,materialUnit:oe,quantity:nt.quantity,unitPrice:nt.unitPrice,purchaseType:nt.purchaseType})}},[nt,g]),ht({mutationFn:ge=>Ie("/api/materials","POST",ge),onSuccess:()=>{Ve.invalidateQueries({queryKey:fe.materials})},onError:ge=>{console.error("Material creation error:",ge);let Ke="    ";ge?.response?.data?.message&&(Ke=ge.response.data.message),qe({title:"",description:Ke,variant:"destructive"})}}),Array.isArray(it)&&it.map(ge=>ge.name),Array.isArray(it)&&Array.from(new Set(it.map(ge=>ge.unit)));const{data:ut=[]}=st({queryKey:fe.materialPurchases(t,Le),enabled:!!t,queryFn:async()=>await Ie(`/api/projects/${t}/material-purchases?date=${Le}`,"GET"),refetchOnWindowFocus:!1,retry:!1}),sr=T.useMemo(()=>ut&&ut.data&&Array.isArray(ut.data)?ut.data:Array.isArray(ut)?ut:[],[ut]),_t=T.useMemo(()=>{const ge=Array.isArray(it)?it.map(ve=>ve.category):[],Ke=Array.isArray(sr)?sr.map(ve=>ve.materialCategory):[];return Array.from(new Set([...ge,...Ke])).filter(Boolean).map(ve=>ve.trim()).filter(ve=>ve!=="")},[it,sr]),ir=Array.isArray(zt)?zt.filter(ge=>ge.isActive):[],Wt=ht({mutationFn:async ge=>{if(!ge.projectId||ge.projectId==="all")throw new Error("       ");return await Promise.all([Pe("materialNames",y),Pe("materialCategories",v),Pe("materialUnits",x),Pe("supplierNames",U),Pe("invoiceNumbers",I),Pe("notes",D)]),Ie(`/api/projects/${ge.projectId}/material-purchases`,"POST",ge)},onMutate:async ge=>{await Ve.cancelQueries({queryKey:fe.materialPurchases(t,Le)});const Ke=Ve.getQueryData(fe.materialPurchases(t,Le));return Ve.setQueryData(fe.materialPurchases(t,Le),oe=>{const ve={id:`temp-${Date.now()}`,...ge,createdAt:new Date().toISOString()};return[...Array.isArray(oe)?oe:oe&&typeof oe=="object"&&Array.isArray(oe.data)?oe.data:[],ve]}),qe({title:" ",description:"  "}),{previousData:Ke}},onSuccess:async ge=>{Ve.invalidateQueries({queryKey:fe.autocomplete});const Ke=ge?.equipmentCreated;qe({title:" ",description:Ke?"     () ":"    "}),Et(),Ve.invalidateQueries({queryKey:fe.materialPurchases(t,Le)}),Ke&&Ve.invalidateQueries({queryKey:fe.equipment})},onError:async ge=>{await Promise.all([Pe("materialNames",y),Pe("materialCategories",v),Pe("materialUnits",x),Pe("supplierNames",U),Pe("invoiceNumbers",I),Pe("notes",D)]),Ve.invalidateQueries({queryKey:fe.autocomplete}),console.error("Material purchase error:",ge);let Ke="     ",oe=[];if(ge?.response?.data){const Te=ge.response.data;Te.message&&(Ke=Te.message),Te.details&&Array.isArray(Te.details)?oe=Te.details:Te.validationErrors&&Array.isArray(Te.validationErrors)&&(oe=Te.validationErrors)}let ve=Ke;oe.length>0?ve=`${Ke}:
${oe.map(Te=>` ${Te}`).join(`
`)}`:ge?.response?.data?.error&&(ve=`${Ke}: ${ge.response.data.error}`),qe({title:"    ",description:ve,variant:"destructive",duration:1e4})}}),Et=()=>{m(""),b(""),j(""),R(""),A(""),$(""),E(""),N(""),_(Ds()),S(Ds()),O(""),q(""),F(null),J(!1)},hr=ht({mutationFn:async({id:ge,data:Ke})=>{console.log(" [PATCH]   :",{id:ge,data:Ke}),await Promise.all([Pe("materialNames",y),Pe("materialCategories",v),Pe("materialUnits",x),Pe("supplierNames",U),Pe("invoiceNumbers",I),Pe("notes",D)]);const oe=await Ie(`/api/material-purchases/${ge}`,"PATCH",Ke);return console.log(" [PATCH]   :",oe),oe},onSuccess:async ge=>{Ve.invalidateQueries({queryKey:fe.autocomplete});const Ke=ge?.equipmentCreated;Ke&&Ve.invalidateQueries({queryKey:fe.equipment}),qe({title:Ke?"   ":" ",description:Ke?"       ":"    "}),Et(),Ve.invalidateQueries({queryKey:fe.materialPurchases(t,Le)})},onError:async ge=>{await Promise.all([Pe("materialNames",y),Pe("materialCategories",v),Pe("materialUnits",x),Pe("supplierNames",U),Pe("invoiceNumbers",I),Pe("notes",D)]),Ve.invalidateQueries({queryKey:fe.autocomplete}),console.error("Material purchase update error:",ge);let Ke="     ",oe=[];if(ge?.response?.data){const Te=ge.response.data;Te.message&&(Ke=Te.message),Te.details&&Array.isArray(Te.details)?oe=Te.details:Te.validationErrors&&Array.isArray(Te.validationErrors)&&(oe=Te.validationErrors)}const ve=oe.length>0?`${Ke}

${oe.map(Te=>` ${Te}`).join(`
`)}`:Ke;qe({title:"    ",description:ve,variant:"destructive",duration:8e3})}}),er=ht({mutationFn:ge=>Ie(`/api/material-purchases/${ge}`,"DELETE"),onMutate:async ge=>{await Ve.cancelQueries({queryKey:fe.materialPurchases(t,Le)});const Ke=Ve.getQueryData(fe.materialPurchases(t,Le));return Ve.setQueryData(fe.materialPurchases(t,Le),oe=>oe?oe.filter(ve=>ve.id!==ge):[]),qe({title:" ",description:"    "}),{previousData:Ke}},onSuccess:()=>{qe({title:" ",description:"    "}),Ve.invalidateQueries({queryKey:fe.materialPurchases(t,Le)})},onError:ge=>{console.error("Material purchase delete error:",ge);let Ke="     ",oe=[];if(ge?.response?.data){const Te=ge.response.data;Te.message&&(Ke=Te.message),Te.details&&Array.isArray(Te.details)&&(oe=Te.details)}const ve=oe.length>0?`${Ke}

${oe.map(Te=>` ${Te}`).join(`
`)}`:Ke;qe({title:"    ",description:ve,variant:"destructive",duration:6e3})}}),Bt=()=>{const ge=parseFloat(C)||0,Ke=parseFloat(L)||0;return(ge*Ke).toFixed(2)},be=ge=>{const Ke=ge.target.files?.[0];if(Ke){const oe=new FileReader;oe.onload=ve=>{q(ve.target?.result)},oe.readAsDataURL(Ke)}},Se=(ge=!1)=>{const Ke=P!=="";if(!t||!y||!x||!C||Ke&&!L){qe({title:"",description:"    ",variant:"destructive"});return}const oe=Bt(),ve={projectId:t,materialName:y.trim(),materialCategory:v?.trim()||null,materialUnit:x.trim(),quantity:C.toString(),unitPrice:(Ke?L:L||"0").toString(),totalAmount:(Ke?oe:oe||"0").toString(),purchaseType:P.trim(),paidAmount:P.trim()===""&&oe.toString()||"0",remainingAmount:(P.trim()===""||P.trim()==="")&&oe.toString()||"0",supplierName:U?.trim()||"",invoiceNumber:I?.trim()||"",invoiceDate:w||new Date().toISOString().split("T")[0],purchaseDate:k||new Date().toISOString().split("T")[0],notes:D?.trim()||"",wellId:Ae||null,invoicePhoto:B||"",addToInventory:W,status:"completed"};console.log("    :",ve),z?hr.mutate({id:z,data:ve}):Wt.mutate(ve),!ge&&!z&&e("/daily-expenses")},{data:De=[],isLoading:He,refetch:kt}=st({queryKey:fe.materialPurchasesFiltered(n()??"all",Le),queryFn:async()=>{const ge=n(),Ke="/api/material-purchases",oe=new URLSearchParams;ge&&ge!=="all"&&oe.append("projectId",ge),Le&&Le!==""&&oe.append("date",Le);const ve=oe.toString(),Te=ve?`${Ke}?${ve}`:Ke;console.log(` [Fetching] ${Te}`);const Re=await Ie(Te,"GET"),dt=Re.data||Re;return Array.isArray(dt)?dt:[]},enabled:!0,staleTime:0}),Ze=T.useMemo(()=>De.filter(ge=>{const Ke=r||!t||ge.projectId===t,oe=s===""||ge.materialName?.toLowerCase().includes(s.toLowerCase())||ge.supplierName?.toLowerCase().includes(s.toLowerCase())||ge.notes?.toLowerCase().includes(s.toLowerCase())||ge.materialCategory?.toLowerCase().includes(s.toLowerCase()),ve=a.paymentType==="all"||ge.purchaseType===a.paymentType,Te=!a.category||a.category==="all"||ge.materialCategory===a.category,Re=!Le||ge.purchaseDate===Le;let dt=!0;if(a.dateRange?.from||a.dateRange?.to){const Qe=new Date(ge.purchaseDate);if(a.dateRange.from){const Ut=new Date(a.dateRange.from);Ut.setHours(0,0,0,0),dt=dt&&Qe>=Ut}if(a.dateRange.to){const Ut=new Date(a.dateRange.to);Ut.setHours(23,59,59,999),dt=dt&&Qe<=Ut}}let Xe=!0;if(a.specificDate){const Qe=new Date(ge.purchaseDate),Ut=new Date(a.specificDate);Xe=Qe.getFullYear()===Ut.getFullYear()&&Qe.getMonth()===Ut.getMonth()&&Qe.getDate()===Ut.getDate()}return Ke&&oe&&ve&&Te&&dt&&Re&&Xe}),[De,t,r,s,a.paymentType,a.category,a.dateRange,a.specificDate,Le]),bt=T.useMemo(()=>({total:De.length,cash:De.filter(ge=>ge.purchaseType==="").length,credit:De.filter(ge=>ge.purchaseType?.includes("")||ge.purchaseType?.includes("")).length,supply:De.filter(ge=>ge.purchaseType==="").length,totalValue:De.reduce((ge,Ke)=>ge+parseFloat(Ke.totalAmount||"0"),0),avgValue:De.length>0?De.reduce((ge,Ke)=>ge+parseFloat(Ke.totalAmount||"0"),0)/De.length:0}),[De]),Ct=T.useCallback(async()=>{c(!0);try{await kt()}finally{c(!1)}},[kt]);T.useEffect(()=>{(r||t)&&!De.length&&kt()},[t,r,kt,De.length]);const mt=ge=>{m(ge.materialName||ge.material?.name||""),b(ge.materialCategory||ge.material?.category||""),j(ge.materialUnit||ge.material?.unit||ge.unit||""),R(ge.quantity),A(ge.unitPrice),$(ge.purchaseType||ge.paymentType||""),E(ge.supplierName||""),N(ge.invoiceNumber||""),_(ge.invoiceDate||""),S(ge.purchaseDate||""),O(ge.notes||""),q(ge.invoicePhoto||""),F(ge.id),J(ge.addToInventory||!1),ne(!1)},Rt=ge=>{if(!ge)return"N/A";try{return new Date(ge).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(Ke){return console.error("Error formatting date:",ge,Ke),ge}},It=ge=>{window.confirm("       ")&&er.mutate(ge)},$t=T.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:bt.total,icon:Qr,color:"blue"},{key:"cash",label:" ",value:bt.cash,icon:Jt,color:"green"},{key:"credit",label:" ",value:bt.credit,icon:XO,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"supply",label:"",value:bt.supply,icon:J8,color:"purple"},{key:"totalValue",label:" ",value:ze(bt.totalValue),icon:un,color:"teal"},{key:"avgValue",label:" ",value:ze(bt.avgValue),icon:Goe,color:"indigo"}]}],[bt]),Gt=T.useMemo(()=>[{key:"selectedDate",label:"",type:"date",placeholder:" "},{key:"category",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...(_t||[]).map(ge=>({value:ge,label:ge}))]},{key:"paymentType",label:" ",type:"select",placeholder:"  ",options:[{value:"all",label:" "},{value:"",label:""},{value:"",label:""},{value:"",label:""}]},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"specificDate",label:"  ",type:"date",placeholder:"  "}],[_t]),$r=T.useCallback(async()=>{if(Ze.length===0){qe({title:"  ",description:"       ",variant:"destructive"});return}h(!0);try{const ge=await f3e(Ze);qe(ge?{title:"  ",description:`  ${Ze.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(ge){console.error("Export error:",ge),qe({title:"  ",description:"     ",variant:"destructive"})}finally{h(!1)}},[Ze,qe]),pr=T.useMemo(()=>[{key:"export",label:d?" ...":" ",icon:Ag,onClick:$r,variant:"outline",disabled:d||Ze.length===0}],[$r,d,Ze.length]);return l.jsxs("div",{className:"p-4 slide-in",children:[l.jsx(za,{hideHeader:!0,title:"",statsRows:$t,searchValue:s,onSearchChange:i,searchPlaceholder:"    ...",showSearch:!0,filters:Gt,filterValues:a,onFilterChange:f,onReset:de,onRefresh:Ct,isRefreshing:u,actions:pr}),gt&&g&&l.jsx(Dt,{className:"mb-4 border-blue-200 bg-blue-50",children:l.jsx(Ht,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}),l.jsx("span",{className:"text-blue-700",children:"    ..."})]})})}),l.jsx(fa,{open:!le,onOpenChange:ge=>ne(!ge),children:l.jsx(Dt,{className:"mb-4",children:l.jsxs(Ht,{className:le?"p-2":"p-4",children:[l.jsx(ha,{asChild:!0,children:l.jsxs("div",{className:`flex items-center justify-between cursor-pointer hover:bg-muted/50 rounded-lg transition-colors ${le?"p-2 -m-2":"p-2 -m-2 mb-2"}`,children:[l.jsxs("h3",{className:`font-semibold text-foreground flex items-center gap-2 ${le?"text-base":"text-lg"}`,children:[l.jsx(Qr,{className:le?"h-4 w-4 text-primary":"h-5 w-5 text-primary"}),z?" ":"  "]}),l.jsx(_e,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:le?l.jsx(pn,{className:"h-4 w-4"}):l.jsx(lo,{className:"h-4 w-4"})})]})}),l.jsx(pa,{children:l.jsxs("div",{className:"space-y-1 pt-2",children:[l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsx(is,{value:y,onChange:m,category:"materialNames",placeholder:"    ..."})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsx(is,{value:v,onChange:b,category:"materialCategories",placeholder:"    ..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground",children:""}),l.jsx(tt,{type:"number",inputMode:"decimal",value:C,onChange:ge=>R(ge.target.value),placeholder:"0",className:"text-center arabic-numbers",autoWidth:!0,maxWidth:150})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground",children:""}),l.jsx(is,{value:x,onChange:j,category:"materialUnits",placeholder:"  ..."})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsx(tt,{type:"number",inputMode:"decimal",value:L,onChange:ge=>A(ge.target.value),placeholder:"0.00",disabled:V,className:`text-center arabic-numbers ${V?"cursor-not-allowed opacity-50 bg-muted":""}`})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsx(tt,{type:"number",value:Bt(),readOnly:!0,disabled:V,className:`text-center arabic-numbers ${V?"bg-muted cursor-not-allowed":"bg-muted"}`})]})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsxs(CX,{value:P,onValueChange:$,className:"flex gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[l.jsx(sb,{value:"",id:"cash"}),l.jsx(Fe,{htmlFor:"cash",className:"text-sm",children:""})]}),l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[l.jsx(sb,{value:"",id:"credit"}),l.jsx(Fe,{htmlFor:"credit",className:"text-sm",children:""})]}),l.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[l.jsx(sb,{value:"",id:"storage"}),l.jsx(Fe,{htmlFor:"storage",className:"text-sm",children:""})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[l.jsx(c0,{id:"addToInventory",checked:W,onCheckedChange:ge=>J(ge===!0),"data-testid":"checkbox-add-to-inventory"}),l.jsxs(Fe,{htmlFor:"addToInventory",className:"text-sm font-medium text-blue-700 dark:text-blue-300 cursor-pointer flex items-center gap-2",children:[l.jsx(Qr,{className:"h-4 w-4"}),"  ()"]})]}),l.jsx(Ym,{projectId:t,value:Ae,onChange:$e,optional:!0}),l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground",children:" /"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Fn,{value:U,onValueChange:E,options:ir.map(ge=>({value:ge.name,label:ge.name,description:ge.contactPerson||void 0})),placeholder:" ...",searchPlaceholder:"  ...",emptyText:"   ",className:"flex-1"}),l.jsxs(xs,{open:ue,onOpenChange:Z,children:[l.jsx(kh,{asChild:!0,children:l.jsx(_e,{type:"button",variant:"outline",size:"icon",title:"  ",children:l.jsx(Hn,{className:"h-4 w-4"})})}),l.jsxs(ls,{className:"sm:max-w-[425px]",dir:"rtl",children:[l.jsxs(ws,{children:[l.jsx(Rs,{children:"  "}),l.jsx(Sl,{children:"   .      ."})]}),l.jsxs("form",{onSubmit:Mt,className:"form-grid",children:[l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Fe,{htmlFor:"supplier-name",children:" / *"}),l.jsx(tt,{id:"supplier-name",value:te,onChange:ge=>X(ge.target.value),placeholder:":   ",required:!0})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Fe,{htmlFor:"supplier-contact",children:" "}),l.jsx(tt,{id:"supplier-contact",value:ae,onChange:ge=>re(ge.target.value),placeholder:":  "})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Fe,{htmlFor:"supplier-phone",children:" "}),l.jsx(tt,{id:"supplier-phone",value:ee,onChange:ge=>G(ge.target.value),placeholder:": 777123456",type:"tel"})]}),l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Fe,{htmlFor:"supplier-address",children:""}),l.jsx(tt,{id:"supplier-address",value:Y,onChange:ge=>ie(ge.target.value),placeholder:":   "})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Fe,{htmlFor:"supplier-payment",children:" "}),l.jsxs(En,{value:ce,onValueChange:me,children:[l.jsx(bn,{children:l.jsx(An,{placeholder:"  "})}),l.jsxs(vn,{children:[l.jsx(vt,{value:"",children:""}),l.jsx(vt,{value:"",children:""}),l.jsx(vt,{value:" ",children:" "})]})]})]}),l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Fe,{htmlFor:"supplier-notes",children:""}),l.jsx(Ch,{id:"supplier-notes",value:xe,onChange:ge=>Ce(ge.target.value),placeholder:"  ...",autoHeight:!0,minRows:3,maxRows:6})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx(_e,{type:"submit",disabled:yt.isPending||!te.trim(),children:yt.isPending?" ...":" "}),l.jsx(_e,{type:"button",variant:"outline",onClick:()=>{Z(!1),Oe()},children:""})]})]})]})]})]}),ir.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"   .  +   "})]}),l.jsx(Vo,{label:" ",value:k,onChange:ge=>S(ge?cr(ge,"yyyy-MM-dd"):"")}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsx(is,{type:"number",inputMode:"numeric",value:I,onChange:N,category:"invoiceNumbers",placeholder:" ",className:"arabic-numbers"})]}),l.jsx(Vo,{label:" ",value:w,onChange:ge=>_(ge?cr(ge,"yyyy-MM-dd"):"")})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground",children:" "}),l.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[B?l.jsxs("div",{className:"space-y-2",children:[l.jsx("img",{src:B,alt:"Invoice",className:"max-w-full max-h-32 mx-auto rounded"}),l.jsx("p",{className:"text-sm text-success",children:"   "})]}):l.jsxs(l.Fragment,{children:[l.jsx(HO,{className:"h-12 w-12 text-muted-foreground mx-auto"}),l.jsx("p",{className:"text-muted-foreground",children:"   "})]}),l.jsx(tt,{type:"file",accept:"image/*",onChange:be,className:"hidden",id:"invoice-photo"}),l.jsx(Fe,{htmlFor:"invoice-photo",className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg cursor-pointer hover:bg-primary/90 transition-colors inline-block",children:B?" ":" "})]})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground",children:""}),l.jsx(is,{value:D,onChange:O,category:"notes",placeholder:"  ..."})]}),l.jsxs("div",{className:"space-y-3 pt-4",children:[l.jsxs(_e,{onClick:()=>Se(!1),disabled:Wt.isPending||hr.isPending,className:"w-full bg-success hover:bg-success/90 text-success-foreground",children:[l.jsx(wc,{className:"ml-2 h-4 w-4"}),Wt.isPending||hr.isPending?" ...":z?" ":" "]}),!z&&l.jsxs(_e,{onClick:()=>Se(!0),disabled:Wt.isPending,variant:"outline",className:"w-full",children:[l.jsx(Hn,{className:"ml-2 h-4 w-4"}),"  "]}),z&&l.jsx(_e,{onClick:Et,variant:"outline",className:"w-full",children:" "})]})]})})]})})}),He&&l.jsx(Dt,{className:"mt-4",children:l.jsx(Ht,{className:"p-4",children:l.jsx("div",{className:"text-center text-muted-foreground",children:"  ..."})})}),!He&&Ze.length===0&&l.jsx(Dt,{className:"mt-4",children:l.jsx(Ht,{className:"p-4",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(Qr,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),l.jsx("h3",{className:"text-lg font-medium",children:"  "}),l.jsx("p",{className:"text-sm",children:De.length>0?"       ":"     "})]})})}),Ze.length>0&&l.jsx("div",{className:"mt-4",children:l.jsx(_s,{columns:3,children:Ze.map(ge=>{const Ke=ge.purchaseType||"",oe=Ke==="",ve=Ke===""||Ke==="",Te=Ke===""||Ke===""||Ke==="",Re=oe?"#22c55e":ve?"#f97316":Te?"#3b82f6":"#6366f1";return l.jsx(Hr,{title:ge.materialName||"  ",subtitle:Rt(ge.purchaseDate),titleIcon:J8,headerColor:Re,badges:[{label:Ke,variant:oe?"success":ve?"warning":Te?"info":"default"}],fields:[...r||!t?[{label:"",value:ge.projectName||ge.project?.name||" ",icon:Un,color:"info"}]:[],{label:"",value:ge.supplierName||" ",icon:yn,color:"default"},{label:"",value:`${ge.quantity} ${ge.materialUnit||ge.unit}`,icon:Qr,color:"warning",emphasis:!0},{label:" ",value:ze(ge.unitPrice),icon:Jt,color:"default"},{label:"",value:ze(ge.totalAmount),icon:Jt,color:oe?"success":ve?"warning":Te?"info":"default",emphasis:!0},{label:"",value:Rt(ge.purchaseDate),icon:Qn,color:"muted"}],actions:[{icon:Gc,label:"",onClick:()=>mt(ge),color:"blue"},{icon:Nn,label:"",onClick:()=>It(ge.id),color:"red"}],compact:!0},ge.id)})})})]})}function p3e({value:e,onValueChange:t,options:r,placeholder:n="...",emptyText:s="  ",allowCustom:i=!0,customPlaceholder:a=" ..."}){const[o,u]=T.useState(!1),[c,d]=T.useState(""),[h,f]=T.useState(!1),[p,g]=T.useState(""),y=T.useRef(null);T.useEffect(()=>{if(o&&y.current){y.current.focus();const C=setTimeout(()=>{y.current?.focus()},50);return()=>clearTimeout(C)}},[o]);const m=T.useMemo(()=>Array.from(new Set(r)).sort((R,L)=>String(R).localeCompare(String(L),"ar")),[r]),v=T.useMemo(()=>p?m.filter(C=>C.toLowerCase().includes(p.toLowerCase())):m,[m,p]),b=C=>{if(C==="__custom__"){f(!0);return}t(C),u(!1),f(!1),d(""),g("")},x=()=>{c.trim()&&(t(c.trim()),u(!1),f(!1),d(""),g(""))},j=e||n;return l.jsxs(C1,{open:o,onOpenChange:u,children:[l.jsx(T1,{asChild:!0,children:l.jsxs(_e,{variant:"outline",role:"combobox","aria-expanded":o,className:"w-full justify-between",children:[l.jsx("span",{className:we("truncate",!e&&"text-muted-foreground"),children:j}),l.jsx(pn,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsxs(g0,{className:"w-full p-0",align:"start",children:[l.jsx("div",{className:"border-b p-2",children:l.jsxs("div",{className:"relative",children:[l.jsx(uo,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(tt,{ref:y,placeholder:"...",value:p,onChange:C=>g(C.target.value),className:"pr-8"})]})}),l.jsxs("div",{className:"max-h-60 overflow-auto",children:[v.length===0&&!i&&l.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:s}),v.map(C=>l.jsxs("button",{onClick:()=>b(C),className:"w-full flex items-center px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer",children:[l.jsx(so,{className:we("mr-2 h-4 w-4",e===C?"opacity-100":"opacity-0")}),C]},C)),i&&l.jsxs("button",{onClick:()=>b("__custom__"),className:"w-full flex items-center px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer text-primary",children:[l.jsx(Hn,{className:"mr-2 h-4 w-4"}),a]})]}),h&&l.jsxs("div",{className:"border-t p-3 space-y-2",children:[l.jsx(tt,{value:c,onChange:C=>d(C.target.value),placeholder:"  ...",onKeyDown:C=>{C.key==="Enter"&&(C.preventDefault(),x())},autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{onClick:x,size:"sm",className:"flex-1",disabled:!c.trim(),children:""}),l.jsx(_e,{onClick:()=>{f(!1),d(""),g("")},size:"sm",variant:"outline",className:"flex-1",children:""})]})]})]})]})}const b2={blue:{border:"border-l-blue-500",text:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400"},green:{border:"border-l-green-500",text:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20",iconBg:"bg-green-100 dark:bg-green-900/30",iconColor:"text-green-600 dark:text-green-400"},orange:{border:"border-l-orange-500",text:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20",iconBg:"bg-orange-100 dark:bg-orange-900/30",iconColor:"text-orange-600 dark:text-orange-400"},red:{border:"border-l-red-500",text:"text-red-600",bg:"bg-red-50 dark:bg-red-900/20",iconBg:"bg-red-100 dark:bg-red-900/30",iconColor:"text-red-600 dark:text-red-400"},purple:{border:"border-l-purple-500",text:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-900/20",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400"},teal:{border:"border-l-teal-500",text:"text-teal-600",bg:"bg-teal-50 dark:bg-teal-900/20",iconBg:"bg-teal-100 dark:bg-teal-900/30",iconColor:"text-teal-600 dark:text-teal-400"},indigo:{border:"border-l-indigo-500",text:"text-indigo-600",bg:"bg-indigo-50 dark:bg-indigo-900/20",iconBg:"bg-indigo-100 dark:bg-indigo-900/30",iconColor:"text-indigo-600 dark:text-indigo-400"},emerald:{border:"border-l-emerald-500",text:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/20",iconBg:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400"},amber:{border:"border-l-amber-500",text:"text-amber-600",bg:"bg-amber-50 dark:bg-amber-900/20",iconBg:"bg-amber-100 dark:bg-amber-900/30",iconColor:"text-amber-600 dark:text-amber-400"},gray:{border:"border-l-gray-500",text:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20",iconBg:"bg-gray-100 dark:bg-gray-900/30",iconColor:"text-gray-600 dark:text-gray-400"},rose:{border:"border-l-rose-500",text:"text-rose-600",bg:"bg-rose-50 dark:bg-rose-900/20",iconBg:"bg-rose-100 dark:bg-rose-900/30",iconColor:"text-rose-600 dark:text-rose-400"},critical:{border:"border-l-red-600",text:"text-red-700",bg:"bg-red-100 dark:bg-red-950/40",iconBg:"bg-red-200 dark:bg-red-900/50",iconColor:"text-red-700 dark:text-red-300"},warning:{border:"border-l-amber-500",text:"text-amber-700",bg:"bg-amber-100 dark:bg-amber-950/40",iconBg:"bg-amber-200 dark:bg-amber-900/50",iconColor:"text-amber-700 dark:text-amber-300"}};function OA({title:e,label:t,value:r,icon:n,color:s="blue",gradient:i,iconBg:a,iconColor:o,formatter:u,className:c="","data-testid":d,secondaryLabel:h,secondaryIcon:f}){const p=s&&b2[s]?b2[s]:b2.blue,g=t||e||"",m=(()=>{if(r==null)return"0";if(typeof r=="number"){if(isNaN(r)||!isFinite(r))return"0";const x=Math.max(0,r);return u?u(x):x.toLocaleString("en-US")}return r.toString()})(),v=g.length>15,b=({children:x})=>v?l.jsx(dx,{delayDuration:300,children:l.jsxs(Aj,{children:[l.jsx(Pj,{asChild:!0,children:x}),l.jsx(fx,{side:"top",className:"max-w-[200px] text-center",children:l.jsx("p",{className:"text-xs",children:g})})]})}):l.jsx(l.Fragment,{children:x});return l.jsx(Dt,{className:we(p.border,p.bg,"border-l-4 hover:shadow-md transition-all duration-300 h-full min-h-[60px] sm:min-h-[70px] rounded-xl overflow-hidden shadow-sm",c),children:l.jsxs(Ht,{className:"p-2 sm:p-3 flex flex-col justify-between h-full",children:[l.jsxs("div",{className:"flex items-start justify-between gap-1",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(b,{children:l.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold text-muted-foreground/80 uppercase tracking-tighter truncate mb-0.5",children:g})}),l.jsx("p",{className:we("text-xs sm:text-sm md:text-base font-black font-mono tracking-tighter leading-none",p.text),children:m})]}),l.jsx("div",{className:we("h-6 w-6 sm:h-8 sm:w-9 rounded-lg flex items-center justify-center flex-shrink-0 shadow-sm",p.iconBg),children:l.jsx(n,{className:we("h-3.5 w-3.5 sm:h-4 sm:w-5",p.iconColor)})})]}),(h||s==="critical"||s==="warning")&&l.jsxs("div",{className:"mt-2 sm:mt-4 pt-2 sm:pt-3 border-t border-black/5 dark:border-white/5 flex items-center gap-2",children:[s==="critical"&&l.jsx(Ss,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-red-600 animate-pulse"}),s==="warning"&&l.jsx(Fs,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-amber-600"}),f&&l.jsx(f,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 opacity-70"}),l.jsx("span",{className:"text-[9px] sm:text-[10px] font-bold opacity-80 truncate",children:h||(s==="critical"?"1  ":s==="warning"?"1 ":"")})]})]})})}function nu({title:e,subtitle:t,stats:r,columns:n=2,showStatus:s=!0,compact:i=!1,hideHeader:a=!1}){const o={2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4"};if(a)return l.jsx("div",{className:`grid ${o[n]} gap-1 sm:gap-2`,children:r.map((f,p)=>l.jsxs("div",{className:"relative",children:[f.status==="critical"&&l.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-red-500 rounded-full animate-pulse z-10 border-2 border-white dark:border-slate-900"}),f.status==="warning"&&l.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-amber-500 rounded-full animate-pulse z-10 border-2 border-white dark:border-slate-900"}),l.jsx(OA,{title:f.title,value:f.value,icon:f.icon,color:f.color,formatter:f.formatter}),f.trend&&l.jsx("div",{className:"mt-2 flex items-center gap-1 text-xs",children:f.trend.isPositive?l.jsxs(l.Fragment,{children:[l.jsx(un,{className:"h-3 w-3 text-green-600"}),l.jsxs("span",{className:"text-green-600",children:["+",f.trend.value,"%"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"h-3 w-3 text-red-600"}),l.jsxs("span",{className:"text-red-600",children:[f.trend.value,"%"]})]})})]},p))});const u=r.filter(f=>f.status==="critical"),c=r.filter(f=>f.status==="warning"),h=u.length>0?{label:"",color:"destructive"}:c.length>0?{label:"",color:"warning"}:{label:"",color:"default"};return l.jsxs("div",{className:"space-y-3",children:[e&&l.jsx("div",{className:"px-2",children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:e}),t&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:t})]}),s&&l.jsx(ft,{variant:h.color==="default"?"secondary":h.color,className:"text-xs",children:h.label})]})}),l.jsx("div",{className:`grid ${o[n]} gap-1 sm:gap-2`,children:r.map((f,p)=>l.jsxs("div",{className:"relative",children:[f.status==="critical"&&l.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-red-500 rounded-full animate-pulse z-10 border-2 border-white dark:border-slate-900"}),f.status==="warning"&&l.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-amber-500 rounded-full animate-pulse z-10 border-2 border-white dark:border-slate-900"}),l.jsx(OA,{title:f.title,value:f.value,icon:f.icon,color:f.color,formatter:f.formatter}),f.trend&&l.jsx("div",{className:"mt-2 flex items-center gap-1 text-xs",children:f.trend.isPositive?l.jsxs(l.Fragment,{children:[l.jsx(un,{className:"h-3 w-3 text-green-600"}),l.jsxs("span",{className:"text-green-600",children:["+",f.trend.value,"%"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"h-3 w-3 text-red-600"}),l.jsxs("span",{className:"text-red-600",children:[f.trend.value,"%"]})]})})]},p))})]})}const m3e={worker_transport:"border-l-blue-500",material_delivery:"border-l-green-500",concrete_transport:"border-l-orange-500",iron_platforms:"border-l-slate-500",fuel_shas:"border-l-red-500",fuel_hilux:"border-l-red-400",loading_unloading:"border-l-amber-500",maintenance:"border-l-purple-500",water_supply:"border-l-cyan-500",other:"border-l-slate-400"},g3e={worker_transport:"text-blue-500",material_delivery:"text-green-500",concrete_transport:"text-orange-500",iron_platforms:"text-slate-500",fuel_shas:"text-red-500",fuel_hilux:"text-red-400",loading_unloading:"text-amber-500",maintenance:"text-purple-500",water_supply:"text-cyan-500",other:"text-slate-400"};function y3e(){fs();const{selectedProjectId:e,isAllProjects:t,getProjectIdForApi:r}=yo(),[n,s]=T.useState(""),[i,a]=T.useState({dateRange:void 0,specificDate:Ds()}),[o,u]=T.useState(!1),[c,d]=T.useState(null),[h,f]=T.useState(!1),[p,g]=T.useState(""),[y,m]=T.useState(""),[v,b]=T.useState(""),[x,j]=T.useState(Ds()),[C,R]=T.useState(""),[L,A]=T.useState("worker_transport"),[P,$]=T.useState(),{toast:V}=zr(),U=Yn(),{setFloatingAction:E}=vo(),I=T.useCallback(()=>{g(""),m(""),b(""),j(Ds()),R(""),A("worker_transport"),$(void 0),d(null),u(!1)},[]);T.useEffect(()=>(E(()=>{u(!0),d(null)},"  "),()=>E(null)),[E]);const{data:N=[]}=st({queryKey:fe.workers}),{data:w,isLoading:_,refetch:k}=st({queryKey:fe.projectTransportation(e,i.specificDate,i.dateRange),queryFn:async()=>{let Z=t?"/api/transportation-expenses":`/api/projects/${r()}/transportation-expenses`;const te=new URLSearchParams;i.specificDate&&te.append("date",i.specificDate),i.dateRange?.from&&te.append("dateFrom",nT(i.dateRange.from)),i.dateRange?.to&&te.append("dateTo",nT(i.dateRange.to));const X=te.toString();return await Ie(`${Z}${X?`?${X}`:""}`,"GET")},enabled:!!e||t}),{data:S}=st({queryKey:fe.autocompleteTransportCategories,queryFn:async()=>Ie("/api/autocomplete/transport-categories","GET")}),D=T.useMemo(()=>{const Z={worker_transport:" ",material_delivery:" ",concrete_transport:" ",iron_platforms:"  ",fuel_shas:" ",fuel_hilux:" ",loading_unloading:" ",maintenance:" ",water_supply:" ",other:""};return S?.data&&S.data.forEach(te=>{Z[te.value]=te.label}),Z},[S]),O=T.useMemo(()=>{const Z=[{value:"all",label:" "},{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}];if(!S?.data)return Z;const te=new Set(Z.map(ae=>ae.value)),X=S.data.map(ae=>({value:ae.value,label:ae.label})).filter(ae=>!te.has(ae.value));return[...Z,...X]},[S]),B=T.useMemo(()=>w?.data||[],[w]),q=T.useMemo(()=>{if(!n)return B;const Z=n.toLowerCase();return B.filter(te=>te.description.toLowerCase().includes(Z)||te.workerName&&te.workerName.toLowerCase().includes(Z)||te.projectName&&te.projectName.toLowerCase().includes(Z))},[B,n]),H=T.useMemo(()=>{const Z=B.reduce((ie,ce)=>ie+Number(ce.amount),0),te=B.length,X=B.filter(ie=>ie.category==="maintenance").reduce((ie,ce)=>ie+Number(ce.amount),0),ae=B.filter(ie=>ie.category==="fuel_shas"||ie.category==="fuel_hilux").reduce((ie,ce)=>ie+Number(ce.amount),0),re=B.filter(ie=>ie.category==="material_delivery").reduce((ie,ce)=>ie+Number(ce.amount),0),ee=B.filter(ie=>ie.category==="concrete_transport").reduce((ie,ce)=>ie+Number(ce.amount),0),G=B.filter(ie=>ie.category==="iron_platforms").reduce((ie,ce)=>ie+Number(ce.amount),0),Y=B.filter(ie=>ie.category==="other"||!["maintenance","fuel_shas","fuel_hilux","material_delivery","concrete_transport","iron_platforms"].includes(ie.category)).reduce((ie,ce)=>ie+Number(ce.amount),0);return[{title:"  ",value:ze(Z),icon:Jt,color:"blue"},{title:" ",value:te,icon:Js,color:"green"},{title:"  ",value:ze(te>0?Z/te:0),icon:un,color:"amber"},{title:" ",value:ze(X),icon:Oh,color:"purple"},{title:" ",value:ze(ae),icon:ele,color:"red"},{title:" ",value:ze(re),icon:Qr,color:"indigo"},{title:" ",value:ze(ee),icon:Un,color:"orange"},{title:"  ",value:ze(G),icon:Qr,color:"slate"},{title:" ",value:ze(Y),icon:Mm,color:"gray"}]},[B]),Q=async()=>{try{const Z=new lN.Workbook;Z.views=[{activeTab:0,firstSheet:0,showGridLines:!0}];const te=Z.addWorksheet(" ",{views:[{rightToLeft:!0}]});te.columns=[{header:"",key:"date",width:15},{header:" / ",key:"description",width:30},{header:" (RY)",key:"amount",width:15},{header:"",key:"category",width:20},{header:"",key:"worker",width:20},{header:" ",key:"well",width:12},{header:"",key:"notes",width:30}];const X=te.getRow(1);X.font={bold:!0,color:{argb:"FFFFFF"},size:12},X.fill={type:"pattern",pattern:"solid",fgColor:{argb:"1E293B"}},X.alignment={vertical:"middle",horizontal:"center"},B.forEach(ee=>{const G=te.addRow({date:Ga(ee.date),description:ee.description,amount:Number(ee.amount),category:D[ee.category]||ee.category||"",worker:N.find(Y=>Y.id===ee.workerId)?.name||" ",well:ee.wellId||"N/A",notes:ee.notes||""});G.alignment={vertical:"middle",horizontal:"right"},G.getCell(3).numFmt="#,##0"});const ae=await Z.xlsx.writeBuffer(),re=await ep(ae,`__${new Date().toLocaleDateString("en-GB").replace(/\//g,"-")}.xlsx`);V(re?{title:"  ",description:"    "}:{title:" ",description:"     .   .",variant:"destructive"})}catch(Z){console.error("Export error:",Z),V({title:"  ",variant:"destructive"})}},M=()=>{s(""),a({dateRange:void 0,specificDate:Ds()}),V({title:"  ",description:"   "})},K=async()=>{f(!0),await k(),f(!1),V({title:" ",description:"   "})},z=ht({mutationFn:async Z=>c?Ie(`/api/transportation-expenses/${c}`,"PATCH",Z):Ie("/api/transportation-expenses","POST",Z),onSuccess:()=>{U.invalidateQueries({queryKey:fe.projects}),U.invalidateQueries({queryKey:fe.transportationExpenses}),V({title:c?"  ":"  "}),I()},onError:Z=>{V({title:"  ",description:Z?.message||"   ",variant:"destructive"})}}),F=ht({mutationFn:Z=>Ie(`/api/transportation-expenses/${Z}`,"DELETE"),onSuccess:()=>{U.invalidateQueries({queryKey:fe.projects}),U.invalidateQueries({queryKey:fe.transportationExpenses}),V({title:"  "})}}),W=Z=>{if(Z.preventDefault(),!y||!v){V({title:"",description:"   ",variant:"destructive"});return}z.mutate({projectId:e,workerId:p||null,amount:y,description:v,date:x,category:L,notes:C,wellId:P})},J=Z=>{d(Z.id),g(Z.workerId||""),m(Z.amount.toString()),b(Z.description),j(Z.date),R(Z.notes||""),A(Z.category||"worker_transport"),$(Z.wellId||void 0),u(!0)},le=T.useCallback((Z,te)=>{if(Z==="specificDate")if(te instanceof Date){const X=te.getFullYear(),ae=String(te.getMonth()+1).padStart(2,"0"),re=String(te.getDate()).padStart(2,"0");a(ee=>({...ee,specificDate:`${X}-${ae}-${re}`,dateRange:void 0}))}else a(X=>({...X,specificDate:void 0}));else a(Z==="dateRange"?X=>({...X,[Z]:te,specificDate:void 0}):X=>({...X,[Z]:te}))},[]),ne=[{key:"specificDate",type:"date",label:" ",placeholder:" "},{key:"dateRange",type:"date-range",label:" "},{key:"category",type:"select",label:"",placeholder:" ",options:O}],ue=[{key:"export",icon:Ag,label:" ",onClick:Q,variant:"outline",tooltip:"   "}];return l.jsx("div",{className:"flex flex-col h-full w-full bg-slate-50/50 dark:bg-slate-950/50",children:l.jsx("div",{className:"flex-1 overflow-y-auto pb-24",children:l.jsxs("div",{className:"max-w-7xl mx-auto w-full p-4 space-y-6",children:[l.jsx(nu,{title:"  ",stats:H,columns:3}),l.jsx(xs,{open:o,onOpenChange:u,children:l.jsxs(ls,{className:"sm:max-w-[500px] p-0 overflow-hidden border-none rounded-2xl shadow-2xl",children:[l.jsx(ws,{className:"p-6 bg-gradient-to-r from-primary/10 to-primary/5 border-b border-primary/10",children:l.jsxs(Rs,{className:"flex items-center gap-3 text-xl font-bold text-primary",children:[l.jsx("div",{className:"p-2 bg-white dark:bg-slate-900 rounded-lg shadow-sm",children:l.jsx(Js,{className:"h-5 w-5"})}),c?"  ":"   "]})}),l.jsx("div",{className:"p-4",children:l.jsxs("form",{onSubmit:W,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"col-span-2 space-y-1",children:[l.jsxs(Fe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[l.jsx(Gc,{className:"h-3 w-3"}),"  / "]}),l.jsx(is,{category:"transport_desc",value:v,onChange:b,placeholder:":    ...",className:"h-9 rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-primary/20",autoWidth:!0,maxWidth:400})]}),l.jsxs("div",{className:"col-span-1 space-y-1",children:[l.jsxs(Fe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[l.jsx(Bb,{className:"h-3 w-3"})," "]}),l.jsx(Fn,{options:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}],value:L,onValueChange:Z=>A(Z),allowCustom:!0,placeholder:" ...",className:"h-9",triggerClassName:"h-9 text-xs"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs(Fe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[l.jsx(Jt,{className:"h-3 w-3"})," "]}),l.jsxs("div",{className:"relative",children:[l.jsx(tt,{type:"number",value:y,onChange:Z=>m(Z.target.value),placeholder:"0.00",autoWidth:!0,maxWidth:200,className:"min-h-11 rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 pl-7 focus:ring-primary/20 text-xs"}),l.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[9px] font-bold text-slate-400",children:"RY"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs(Fe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[l.jsx(Qn,{className:"h-3 w-3"})," "]}),l.jsx(Vo,{value:x,onChange:Z=>j(Z?cr(Z,"yyyy-MM-dd"):Ds()),className:"h-9"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs(Fe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[l.jsx(Hn,{className:"h-3 w-3"}),"  ()"]}),l.jsx(p3e,{options:N.map(Z=>String(Z.name)),value:N.find(Z=>Z.id===p)?.name||"",onValueChange:Z=>{const te=N.find(X=>X.name===Z);te&&g(te.id)},placeholder:" ..."})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs(Fe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[l.jsx(Z8,{className:"h-3 w-3"})," "]}),l.jsx(Ym,{projectId:e,value:P,onChange:$,showLabel:!1})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:""}),l.jsx(Ch,{value:C,onChange:Z=>R(Z.target.value),placeholder:"  ...",className:"rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-primary/20 text-xs",autoHeight:!0,minRows:2,maxRows:6})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[l.jsx(_e,{type:"button",variant:"ghost",onClick:I,className:"flex-1 rounded-lg h-9 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 text-xs font-bold",children:""}),l.jsxs(_e,{type:"submit",className:"flex-[2] rounded-lg h-9 shadow-lg shadow-primary/20 gap-2 text-xs font-bold",disabled:z.isPending,children:[l.jsx(wc,{className:"h-4 w-4"}),c?"":""]})]})]})})]})}),l.jsx(za,{hideHeader:!0,filters:ne,filterValues:{...i,specificDate:i.specificDate?(()=>{const[Z,te,X]=i.specificDate.split("-").map(Number);return new Date(Z,te-1,X,12,0,0,0)})():void 0},onFilterChange:le,onSearchChange:s,searchValue:n,onReset:M,onRefresh:K,isRefreshing:h,actions:ue,searchPlaceholder:"   ..."}),_?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(Z=>l.jsx("div",{className:"h-48 bg-slate-200 animate-pulse rounded-2xl"},Z))}):B.length===0?l.jsxs(Dt,{className:"p-12 border-dashed border-2 flex flex-col items-center justify-center text-center bg-transparent rounded-2xl",children:[l.jsx(Js,{className:"h-12 w-12 text-slate-300 mb-4"}),l.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"  "}),l.jsx("p",{className:"text-sm text-slate-400 max-w-xs",children:"        ."})]}):l.jsx(_s,{children:q.map(Z=>l.jsx(Hr,{title:Z.description,subtitle:(()=>{const te=Z.workerName||" ";return t&&Z.projectName?`${te} - ${Z.projectName}`:te})(),titleIcon:Js,className:we("hover-elevate active-elevate-2 transition-all duration-300 border-l-4 shadow-md hover:shadow-xl group py-2",m3e[Z.category]||"border-l-blue-500"),compact:!0,fields:[{label:"",value:ze(Number(Z.amount)),icon:Jt,emphasis:!0,color:"success",iconClassName:"text-green-600 dark:text-green-400"},{label:"",value:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}].find(te=>te.value===Z.category)?.label||Z.category||"",icon:Bb,emphasis:!1,iconClassName:g3e[Z.category]||"text-blue-500"},{label:"",value:Z.date,icon:Qn,color:"info",iconClassName:"text-sky-500"},{label:"",value:Z.wellId?` ${Z.wellId}`:"N/A",icon:Z8,hidden:!Z.wellId,color:"info",iconClassName:"text-amber-500"}],actions:[{icon:Gc,label:"",onClick:()=>J(Z),variant:"ghost"},{icon:Nn,label:"",onClick:()=>{confirm("    ")&&F.mutate(Z.id)},variant:"ghost"}],footer:Z.notes&&l.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-800",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Mm,{className:"h-3 w-3 text-slate-400 mt-0.5"}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("p",{className:"text-[11px] text-slate-600 dark:text-slate-400 leading-relaxed italic",children:Z.notes})})]})})},Z.id))})]})})})}const We=Symbol.for("drizzle:entityKind");function ms(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,We))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(We in r&&r[We]===t[We])return!0;r=Object.getPrototypeOf(r)}return!1}var TP;TP=We;class Th{constructor(t,r){ke(this,"name");ke(this,"keyAsName");ke(this,"primary");ke(this,"notNull");ke(this,"default");ke(this,"defaultFn");ke(this,"onUpdateFn");ke(this,"hasDefault");ke(this,"isUnique");ke(this,"uniqueName");ke(this,"uniqueType");ke(this,"dataType");ke(this,"columnType");ke(this,"enumValues");ke(this,"generated");ke(this,"generatedIdentity");ke(this,"config");this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}ke(Th,TP,"Column");var EP;EP=We;class MX{constructor(t,r,n){ke(this,"config");ke(this,"$default",this.$defaultFn);ke(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}ke(MX,EP,"ColumnBuilder");const Of=Symbol.for("drizzle:Name");var AP;AP=We;class RX{constructor(t,r){ke(this,"reference");ke(this,"_onUpdate","no action");ke(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:i}=t();return{name:n,columns:s,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new $X(t,this)}}ke(RX,AP,"PgForeignKeyBuilder");var PP;PP=We;class $X{constructor(t,r){ke(this,"reference");ke(this,"onUpdate");ke(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:n}=this.reference(),s=r.map(o=>o.name),i=n.map(o=>o.name),a=[this.table[Of],...s,n[0].table[Of],...i];return t??`${a.join("_")}_fk`}}ke($X,PP,"PgForeignKey");function b3e(e,...t){return e(...t)}function v3e(e,t){return`${e[Of]}_${t.join("_")}_unique`}function FA(e,t,r){for(let n=t;n<e.length;n++){const s=e[n];if(s==="\\"){n++;continue}if(s==='"')return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(s===","||s==="}"))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function OX(e,t=0){const r=[];let n=t,s=!1;for(;n<e.length;){const i=e[n];if(i===","){(s||n===t)&&r.push(""),s=!0,n++;continue}if(s=!1,i==="\\"){n+=2;continue}if(i==='"'){const[u,c]=FA(e,n+1,!0);r.push(u),n=c;continue}if(i==="}")return[r,n+1];if(i==="{"){const[u,c]=OX(e,n+1);r.push(u),n=c;continue}const[a,o]=FA(e,n,!1);r.push(a),n=o}return[r,n]}function x3e(e){const[t]=OX(e,1);return t}function FX(e){return`{${e.map(t=>Array.isArray(t)?FX(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var IP,DP;class wr extends(DP=MX,IP=We,DP){constructor(){super(...arguments);ke(this,"foreignKeyConfigs",[])}array(r){return new zX(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>b3e((a,o)=>{const u=new RX(()=>{const c=a();return{columns:[r],foreignColumns:[c]}});return o.onUpdate&&u.onUpdate(o.onUpdate),o.onDelete&&u.onDelete(o.onDelete),u.build(n)},s,i))}buildExtraConfigColumn(r){return new LX(r,this.config)}}ke(wr,IP,"PgColumnBuilder");var MP,RP;class nr extends(RP=Th,MP=We,RP){constructor(t,r){r.uniqueName||(r.uniqueName=v3e(t,[r.name])),super(t,r),this.table=t}}ke(nr,MP,"PgColumn");var $P,OP;class LX extends(OP=nr,$P=We,OP){constructor(){super(...arguments);ke(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});ke(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}ke(LX,$P,"ExtraConfigColumn");var FP,LP;class zX extends(LP=wr,FP=We,LP){constructor(t,r,n){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(t){const r=this.config.baseBuilder.build(t);return new E4(t,this.config,r)}}ke(zX,FP,"PgArrayBuilder");var zP,BP;const Pv=class Pv extends(BP=nr,zP=We,BP){constructor(r,n,s,i){super(r,n);ke(this,"size");this.baseColumn=s,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=x3e(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const s=r.map(i=>i===null?null:ms(this.baseColumn,Pv)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?s:FX(s)}};ke(Pv,zP,"PgArray");let E4=Pv;const LA=Symbol.for("drizzle:isPgEnum");function w3e(e){return!!e&&typeof e=="function"&&LA in e&&e[LA]===!0}var UP;UP=We;class fN{constructor(t,r,n,s=!1,i=[]){this._={brand:"Subquery",sql:t,selectedFields:r,alias:n,isWith:s,usedTables:i}}}ke(fN,UP,"Subquery");const _3e={startActiveSpan(e,t){return t()}},Ff=Symbol.for("drizzle:ViewBaseConfig"),v2=Symbol.for("drizzle:Schema"),zA=Symbol.for("drizzle:Columns"),BA=Symbol.for("drizzle:ExtraConfigColumns"),x2=Symbol.for("drizzle:OriginalName"),w2=Symbol.for("drizzle:BaseName"),wv=Symbol.for("drizzle:IsAlias"),UA=Symbol.for("drizzle:ExtraConfigBuilder"),BX=Symbol.for("drizzle:IsDrizzleTable");var VP,WP,qP,HP,KP,ZP,GP,XP,QP,YP,jy;let gs=(YP=We,QP=Of,XP=x2,GP=v2,ZP=zA,KP=BA,HP=w2,qP=wv,WP=BX,VP=UA,jy=class{constructor(t,r,n){ke(this,QP);ke(this,XP);ke(this,GP);ke(this,ZP);ke(this,KP);ke(this,HP);ke(this,qP,!1);ke(this,WP,!0);ke(this,VP);this[Of]=this[x2]=t,this[v2]=r,this[w2]=n}},ke(jy,YP,"Table"),ke(jy,"Symbol",{Name:Of,Schema:v2,OriginalName:x2,Columns:zA,ExtraConfigColumns:BA,BaseName:w2,IsAlias:wv,ExtraConfigBuilder:UA}),jy);function UX(e){return typeof e=="object"&&e!==null&&BX in e}function k3e(e){return e!=null&&typeof e.getSQL=="function"}function S3e(e){const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),r.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var JP;JP=We;class ga{constructor(t){ke(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new cs([this])}}ke(ga,JP,"StringChunk");var eI;eI=We;const Au=class Au{constructor(t){ke(this,"decoder",VX);ke(this,"shouldInlineParams",!1);ke(this,"usedTables",[]);this.queryChunks=t;for(const r of t)if(ms(r,gs)){const n=r[gs.Symbol.Schema];this.usedTables.push(n===void 0?r[gs.Symbol.Name]:n+"."+r[gs.Symbol.Name])}}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return _3e.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,t);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:a,prepareTyping:o,inlineParams:u,paramStartIndex:c}=n;return S3e(t.map(d=>{if(ms(d,ga))return{sql:d.value.join(""),params:[]};if(ms(d,_v))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new ga("(")];for(const[f,p]of d.entries())h.push(p),f<d.length-1&&h.push(new ga(", "));return h.push(new ga(")")),this.buildQueryFromSourceParams(h,n)}if(ms(d,Au))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:u||d.shouldInlineParams});if(ms(d,gs)){const h=d[gs.Symbol.Schema],f=d[gs.Symbol.Name];return{sql:h===void 0||d[wv]?i(f):i(h)+"."+i(f),params:[]}}if(ms(d,Th)){const h=s.getColumnCasing(d);if(r.invokeSource==="indexes")return{sql:i(h),params:[]};const f=d.table[gs.Symbol.Schema];return{sql:d.table[wv]||f===void 0?i(d.table[gs.Symbol.Name])+"."+i(h):i(f)+"."+i(d.table[gs.Symbol.Name])+"."+i(h),params:[]}}if(ms(d,HX)){const h=d[Ff].schema,f=d[Ff].name;return{sql:h===void 0||d[Ff].isAlias?i(f):i(h)+"."+i(f),params:[]}}if(ms(d,hN)){if(ms(d.value,kv))return{sql:a(c.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(ms(h,Au))return this.buildQueryFromSourceParams([h],n);if(u)return{sql:this.mapInlineParam(h,n),params:[]};let f=["none"];return o&&(f=[o(d.encoder)]),{sql:a(c.value++,h),params:[h],typings:f}}return ms(d,kv)?{sql:a(c.value++,d),params:[d],typings:["none"]}:ms(d,Au.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:ms(d,fN)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new ga("("),d._.sql,new ga(") "),new _v(d._.alias)],n):w3e(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:k3e(d)?d.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new ga("("),d.getSQL(),new ga(")")],n):u?{sql:this.mapInlineParam(d,n),params:[]}:{sql:a(c.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const n=t.toString();return r(n==="[object Object]"?JSON.stringify(t):n)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Au.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};ke(Au,eI,"SQL");let cs=Au;var tI;tI=We;class _v{constructor(t){ke(this,"brand");this.value=t}getSQL(){return new cs([this])}}ke(_v,tI,"Name");const VX={mapFromDriverValue:e=>e},WX={mapToDriverValue:e=>e};({...VX,...WX});var rI;rI=We;class hN{constructor(t,r=WX){ke(this,"brand");this.value=t,this.encoder=r}getSQL(){return new cs([this])}}ke(hN,rI,"Param");function Kt(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new ga(e[0]));for(const[n,s]of t.entries())r.push(s,new ga(e[n+1]));return new cs(r)}(e=>{function t(){return new cs([])}e.empty=t;function r(u){return new cs(u)}e.fromList=r;function n(u){return new cs([new ga(u)])}e.raw=n;function s(u,c){const d=[];for(const[h,f]of u.entries())h>0&&c!==void 0&&d.push(c),d.push(f);return new cs(d)}e.join=s;function i(u){return new _v(u)}e.identifier=i;function a(u){return new kv(u)}e.placeholder=a;function o(u,c){return new hN(u,c)}e.param=o})(Kt||(Kt={}));(e=>{var r;r=We;const n=class n{constructor(i,a){ke(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};ke(n,r,"SQL.Aliased");let t=n;e.Aliased=t})(cs||(cs={}));var nI;nI=We;class kv{constructor(t){this.name=t}getSQL(){return new cs([this])}}ke(kv,nI,"Placeholder");const qX=Symbol.for("drizzle:IsDrizzleView");var sI,iI,aI;aI=We,iI=Ff,sI=qX;class HX{constructor({name:t,schema:r,selectedFields:n,query:s}){ke(this,iI);ke(this,sI,!0);this[Ff]={name:t,originalName:t,schema:r,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new cs([this])}}ke(HX,aI,"View");function j3e(e){return typeof e=="object"&&e!==null&&qX in e}Th.prototype.getSQL=function(){return new cs([this])};gs.prototype.getSQL=function(){return new cs([this])};fN.prototype.getSQL=function(){return new cs([this])};function N3e(e){return e[gs.Symbol.Columns]}function C3e(e){return e[Ff].selectedFields}function Ns(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}typeof TextDecoder>"u"||new TextDecoder;var oI,lI;class N0 extends(lI=wr,oI=We,lI){generatedAlwaysAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}ke(N0,oI,"PgIntColumnBaseBuilder");var cI,uI;class KX extends(uI=N0,cI=We,uI){constructor(t){super(t,"number","PgBigInt53")}build(t){return new ZX(t,this.config)}}ke(KX,cI,"PgBigInt53Builder");var dI,fI;class ZX extends(fI=nr,dI=We,fI){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}ke(ZX,dI,"PgBigInt53");var hI,pI;class GX extends(pI=N0,hI=We,pI){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new XX(t,this.config)}}ke(GX,hI,"PgBigInt64Builder");var mI,gI;class XX extends(gI=nr,mI=We,gI){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}ke(XX,mI,"PgBigInt64");function T3e(e,t){const{name:r,config:n}=Ns(e,t);return n.mode==="number"?new KX(r):new GX(r)}var yI,bI;class QX extends(bI=wr,yI=We,bI){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new YX(t,this.config)}}ke(QX,yI,"PgBigSerial53Builder");var vI,xI;class YX extends(xI=nr,vI=We,xI){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}ke(YX,vI,"PgBigSerial53");var wI,_I;class JX extends(_I=wr,wI=We,_I){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new eQ(t,this.config)}}ke(JX,wI,"PgBigSerial64Builder");var kI,SI;class eQ extends(SI=nr,kI=We,SI){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}ke(eQ,kI,"PgBigSerial64");function E3e(e,t){const{name:r,config:n}=Ns(e,t);return n.mode==="number"?new QX(r):new JX(r)}var jI,NI;class tQ extends(NI=wr,jI=We,NI){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new rQ(t,this.config)}}ke(tQ,jI,"PgBooleanBuilder");var CI,TI;class rQ extends(TI=nr,CI=We,TI){getSQLType(){return"boolean"}}ke(rQ,CI,"PgBoolean");function Ot(e){return new tQ(e??"")}var EI,AI;class nQ extends(AI=wr,EI=We,AI){constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new sQ(t,this.config)}}ke(nQ,EI,"PgCharBuilder");var PI,II;class sQ extends(II=nr,PI=We,II){constructor(){super(...arguments);ke(this,"length",this.config.length);ke(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}ke(sQ,PI,"PgChar");function A3e(e,t={}){const{name:r,config:n}=Ns(e,t);return new nQ(r,n)}var DI,MI;class iQ extends(MI=wr,DI=We,MI){constructor(t){super(t,"string","PgCidr")}build(t){return new aQ(t,this.config)}}ke(iQ,DI,"PgCidrBuilder");var RI,$I;class aQ extends($I=nr,RI=We,$I){getSQLType(){return"cidr"}}ke(aQ,RI,"PgCidr");function P3e(e){return new iQ(e??"")}var OI,FI;class oQ extends(FI=wr,OI=We,FI){constructor(t,r,n){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(t){return new lQ(t,this.config)}}ke(oQ,OI,"PgCustomColumnBuilder");var LI,zI;class lQ extends(zI=nr,LI=We,zI){constructor(r,n){super(r,n);ke(this,"sqlName");ke(this,"mapTo");ke(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}ke(lQ,LI,"PgCustomColumn");function I3e(e){return(t,r)=>{const{name:n,config:s}=Ns(t,r);return new oQ(n,s,e)}}var BI,UI;class tp extends(UI=wr,BI=We,UI){defaultNow(){return this.default(Kt`now()`)}}ke(tp,BI,"PgDateColumnBaseBuilder");var VI,WI;class cQ extends(WI=tp,VI=We,WI){constructor(t){super(t,"date","PgDate")}build(t){return new uQ(t,this.config)}}ke(cQ,VI,"PgDateBuilder");var qI,HI;class uQ extends(HI=nr,qI=We,HI){getSQLType(){return"date"}mapFromDriverValue(t){return typeof t=="string"?new Date(t):t}mapToDriverValue(t){return t.toISOString()}}ke(uQ,qI,"PgDate");var KI,ZI;class dQ extends(ZI=tp,KI=We,ZI){constructor(t){super(t,"string","PgDateString")}build(t){return new fQ(t,this.config)}}ke(dQ,KI,"PgDateStringBuilder");var GI,XI;class fQ extends(XI=nr,GI=We,XI){getSQLType(){return"date"}mapFromDriverValue(t){return typeof t=="string"?t:t.toISOString().slice(0,-14)}}ke(fQ,GI,"PgDateString");function su(e,t){const{name:r,config:n}=Ns(e,t);return n?.mode==="date"?new cQ(r):new dQ(r)}var QI,YI;class hQ extends(YI=wr,QI=We,YI){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new pQ(t,this.config)}}ke(hQ,QI,"PgDoublePrecisionBuilder");var JI,e7;class pQ extends(e7=nr,JI=We,e7){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}ke(pQ,JI,"PgDoublePrecision");function D3e(e){return new hQ(e??"")}var t7,r7;class mQ extends(r7=wr,t7=We,r7){constructor(t){super(t,"string","PgInet")}build(t){return new gQ(t,this.config)}}ke(mQ,t7,"PgInetBuilder");var n7,s7;class gQ extends(s7=nr,n7=We,s7){getSQLType(){return"inet"}}ke(gQ,n7,"PgInet");function Ud(e){return new mQ(e??"")}var i7,a7;class yQ extends(a7=N0,i7=We,a7){constructor(t){super(t,"number","PgInteger")}build(t){return new bQ(t,this.config)}}ke(yQ,i7,"PgIntegerBuilder");var o7,l7;class bQ extends(l7=nr,o7=We,l7){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}ke(bQ,o7,"PgInteger");function Nt(e){return new yQ(e??"")}var c7,u7;class vQ extends(u7=wr,c7=We,u7){constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new xQ(t,this.config)}}ke(vQ,c7,"PgIntervalBuilder");var d7,f7;class xQ extends(f7=nr,d7=We,f7){constructor(){super(...arguments);ke(this,"fields",this.config.intervalConfig.fields);ke(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}ke(xQ,d7,"PgInterval");function M3e(e,t={}){const{name:r,config:n}=Ns(e,t);return new vQ(r,n)}var h7,p7;class wQ extends(p7=wr,h7=We,p7){constructor(t){super(t,"json","PgJson")}build(t){return new _Q(t,this.config)}}ke(wQ,h7,"PgJsonBuilder");var m7,g7;class _Q extends(g7=nr,m7=We,g7){constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}ke(_Q,m7,"PgJson");function R3e(e){return new wQ(e??"")}var y7,b7;class kQ extends(b7=wr,y7=We,b7){constructor(t){super(t,"json","PgJsonb")}build(t){return new SQ(t,this.config)}}ke(kQ,y7,"PgJsonbBuilder");var v7,x7;class SQ extends(x7=nr,v7=We,x7){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}ke(SQ,v7,"PgJsonb");function yr(e){return new kQ(e??"")}var w7,_7;class jQ extends(_7=wr,w7=We,_7){constructor(t){super(t,"array","PgLine")}build(t){return new NQ(t,this.config)}}ke(jQ,w7,"PgLineBuilder");var k7,S7;class NQ extends(S7=nr,k7=We,S7){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,s]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}ke(NQ,k7,"PgLine");var j7,N7;class CQ extends(N7=wr,j7=We,N7){constructor(t){super(t,"json","PgLineABC")}build(t){return new TQ(t,this.config)}}ke(CQ,j7,"PgLineABCBuilder");var C7,T7;class TQ extends(T7=nr,C7=We,T7){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,s]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}ke(TQ,C7,"PgLineABC");function $3e(e,t){const{name:r,config:n}=Ns(e,t);return!n?.mode||n.mode==="tuple"?new jQ(r):new CQ(r)}var E7,A7;class EQ extends(A7=wr,E7=We,A7){constructor(t){super(t,"string","PgMacaddr")}build(t){return new AQ(t,this.config)}}ke(EQ,E7,"PgMacaddrBuilder");var P7,I7;class AQ extends(I7=nr,P7=We,I7){getSQLType(){return"macaddr"}}ke(AQ,P7,"PgMacaddr");function O3e(e){return new EQ(e??"")}var D7,M7;class PQ extends(M7=wr,D7=We,M7){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new IQ(t,this.config)}}ke(PQ,D7,"PgMacaddr8Builder");var R7,$7;class IQ extends($7=nr,R7=We,$7){getSQLType(){return"macaddr8"}}ke(IQ,R7,"PgMacaddr8");function F3e(e){return new PQ(e??"")}var O7,F7;class DQ extends(F7=wr,O7=We,F7){constructor(t,r,n){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(t){return new MQ(t,this.config)}}ke(DQ,O7,"PgNumericBuilder");var L7,z7;class MQ extends(z7=nr,L7=We,z7){constructor(r,n){super(r,n);ke(this,"precision");ke(this,"scale");this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(r){return typeof r=="string"?r:String(r)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}ke(MQ,L7,"PgNumeric");var B7,U7;class RQ extends(U7=wr,B7=We,U7){constructor(t,r,n){super(t,"number","PgNumericNumber"),this.config.precision=r,this.config.scale=n}build(t){return new $Q(t,this.config)}}ke(RQ,B7,"PgNumericNumberBuilder");var V7,W7;class $Q extends(W7=nr,V7=We,W7){constructor(r,n){super(r,n);ke(this,"precision");ke(this,"scale");ke(this,"mapToDriverValue",String);this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}ke($Q,V7,"PgNumericNumber");var q7,H7;class OQ extends(H7=wr,q7=We,H7){constructor(t,r,n){super(t,"bigint","PgNumericBigInt"),this.config.precision=r,this.config.scale=n}build(t){return new FQ(t,this.config)}}ke(OQ,q7,"PgNumericBigIntBuilder");var K7,Z7;class FQ extends(Z7=nr,K7=We,Z7){constructor(r,n){super(r,n);ke(this,"precision");ke(this,"scale");ke(this,"mapFromDriverValue",BigInt);ke(this,"mapToDriverValue",String);this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}ke(FQ,K7,"PgNumericBigInt");function LQ(e,t){const{name:r,config:n}=Ns(e,t),s=n?.mode;return s==="number"?new RQ(r,n?.precision,n?.scale):s==="bigint"?new OQ(r,n?.precision,n?.scale):new DQ(r,n?.precision,n?.scale)}const Tt=LQ;var G7,X7;class zQ extends(X7=wr,G7=We,X7){constructor(t){super(t,"array","PgPointTuple")}build(t){return new BQ(t,this.config)}}ke(zQ,G7,"PgPointTupleBuilder");var Q7,Y7;class BQ extends(Y7=nr,Q7=We,Y7){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}ke(BQ,Q7,"PgPointTuple");var J7,eD;class UQ extends(eD=wr,J7=We,eD){constructor(t){super(t,"json","PgPointObject")}build(t){return new VQ(t,this.config)}}ke(UQ,J7,"PgPointObjectBuilder");var tD,rD;class VQ extends(rD=nr,tD=We,rD){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}ke(VQ,tD,"PgPointObject");function L3e(e,t){const{name:r,config:n}=Ns(e,t);return!n?.mode||n.mode==="tuple"?new zQ(r):new UQ(r)}function z3e(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function VA(e,t){const r=new ArrayBuffer(8),n=new DataView(r);for(let s=0;s<8;s++)n.setUint8(s,e[t+s]);return n.getFloat64(0,!0)}function WQ(e){const t=z3e(e);let r=0;const n=t[r];r+=1;const s=new DataView(t.buffer),i=s.getUint32(r,n===1);if(r+=4,i&536870912&&(s.getUint32(r,n===1),r+=4),(i&65535)===1){const a=VA(t,r);r+=8;const o=VA(t,r);return r+=8,[a,o]}throw new Error("Unsupported geometry type")}var nD,sD;class qQ extends(sD=wr,nD=We,sD){constructor(t){super(t,"array","PgGeometry")}build(t){return new HQ(t,this.config)}}ke(qQ,nD,"PgGeometryBuilder");var iD,aD;class HQ extends(aD=nr,iD=We,aD){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return WQ(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}ke(HQ,iD,"PgGeometry");var oD,lD;class KQ extends(lD=wr,oD=We,lD){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new ZQ(t,this.config)}}ke(KQ,oD,"PgGeometryObjectBuilder");var cD,uD;class ZQ extends(uD=nr,cD=We,uD){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=WQ(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}ke(ZQ,cD,"PgGeometryObject");function B3e(e,t){const{name:r,config:n}=Ns(e,t);return!n?.mode||n.mode==="tuple"?new qQ(r):new KQ(r)}var dD,fD;class GQ extends(fD=wr,dD=We,fD){constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new XQ(t,this.config)}}ke(GQ,dD,"PgRealBuilder");var hD,pD;class XQ extends(pD=nr,hD=We,pD){constructor(r,n){super(r,n);ke(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}ke(XQ,hD,"PgReal");function U3e(e){return new GQ(e??"")}var mD,gD;class QQ extends(gD=wr,mD=We,gD){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new YQ(t,this.config)}}ke(QQ,mD,"PgSerialBuilder");var yD,bD;class YQ extends(bD=nr,yD=We,bD){getSQLType(){return"serial"}}ke(YQ,yD,"PgSerial");function Vn(e){return new QQ(e??"")}var vD,xD;class JQ extends(xD=N0,vD=We,xD){constructor(t){super(t,"number","PgSmallInt")}build(t){return new eY(t,this.config)}}ke(JQ,vD,"PgSmallIntBuilder");var wD,_D;class eY extends(_D=nr,wD=We,_D){constructor(){super(...arguments);ke(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}ke(eY,wD,"PgSmallInt");function V3e(e){return new JQ(e??"")}var kD,SD;class tY extends(SD=wr,kD=We,SD){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new rY(t,this.config)}}ke(tY,kD,"PgSmallSerialBuilder");var jD,ND;class rY extends(ND=nr,jD=We,ND){getSQLType(){return"smallserial"}}ke(rY,jD,"PgSmallSerial");function W3e(e){return new tY(e??"")}var CD,TD;class nY extends(TD=wr,CD=We,TD){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new sY(t,this.config)}}ke(nY,CD,"PgTextBuilder");var ED,AD;class sY extends(AD=nr,ED=We,AD){constructor(){super(...arguments);ke(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}ke(sY,ED,"PgText");function pe(e,t={}){const{name:r,config:n}=Ns(e,t);return new nY(r,n)}var PD,ID;class iY extends(ID=tp,PD=We,ID){constructor(t,r,n){super(t,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(t){return new aY(t,this.config)}}ke(iY,PD,"PgTimeBuilder");var DD,MD;class aY extends(MD=nr,DD=We,MD){constructor(r,n){super(r,n);ke(this,"withTimezone");ke(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}ke(aY,DD,"PgTime");function q3e(e,t={}){const{name:r,config:n}=Ns(e,t);return new iY(r,n.withTimezone??!1,n.precision)}var RD,$D;class oY extends($D=tp,RD=We,$D){constructor(t,r,n){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(t){return new lY(t,this.config)}}ke(oY,RD,"PgTimestampBuilder");var OD,FD;class lY extends(FD=nr,OD=We,FD){constructor(r,n){super(r,n);ke(this,"withTimezone");ke(this,"precision");ke(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(r){return typeof r=="string"?new Date(this.withTimezone?r:r+"+0000"):r}}ke(lY,OD,"PgTimestamp");var LD,zD;class cY extends(zD=tp,LD=We,zD){constructor(t,r,n){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(t){return new uY(t,this.config)}}ke(cY,LD,"PgTimestampStringBuilder");var BD,UD;class uY extends(UD=nr,BD=We,UD){constructor(r,n){super(r,n);ke(this,"withTimezone");ke(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(r){if(typeof r=="string")return r;const n=r.toISOString().slice(0,-1).replace("T"," ");if(this.withTimezone){const s=r.getTimezoneOffset(),i=s<=0?"+":"-";return`${n}${i}${Math.floor(Math.abs(s)/60).toString().padStart(2,"0")}`}return n}}ke(uY,BD,"PgTimestampString");function Ue(e,t={}){const{name:r,config:n}=Ns(e,t);return n?.mode==="string"?new cY(r,n.withTimezone??!1,n.precision):new oY(r,n?.withTimezone??!1,n?.precision)}var VD,WD;class dY extends(WD=wr,VD=We,WD){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Kt`gen_random_uuid()`)}build(t){return new fY(t,this.config)}}ke(dY,VD,"PgUUIDBuilder");var qD,HD;class fY extends(HD=nr,qD=We,HD){getSQLType(){return"uuid"}}ke(fY,qD,"PgUUID");function vi(e){return new dY(e??"")}var KD,ZD;class hY extends(ZD=wr,KD=We,ZD){constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new pY(t,this.config)}}ke(hY,KD,"PgVarcharBuilder");var GD,XD;class pY extends(XD=nr,GD=We,XD){constructor(){super(...arguments);ke(this,"length",this.config.length);ke(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}ke(pY,GD,"PgVarchar");function Ne(e,t={}){const{name:r,config:n}=Ns(e,t);return new hY(r,n)}var QD,YD;class mY extends(YD=wr,QD=We,YD){constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new gY(t,this.config)}}ke(mY,QD,"PgBinaryVectorBuilder");var JD,eM;class gY extends(eM=nr,JD=We,eM){constructor(){super(...arguments);ke(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}ke(gY,JD,"PgBinaryVector");function H3e(e,t){const{name:r,config:n}=Ns(e,t);return new mY(r,n)}var tM,rM;class yY extends(rM=wr,tM=We,rM){constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new bY(t,this.config)}}ke(yY,tM,"PgHalfVectorBuilder");var nM,sM;class bY extends(sM=nr,nM=We,sM){constructor(){super(...arguments);ke(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}ke(bY,nM,"PgHalfVector");function K3e(e,t){const{name:r,config:n}=Ns(e,t);return new yY(r,n)}var iM,aM;class vY extends(aM=wr,iM=We,aM){constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new xY(t,this.config)}}ke(vY,iM,"PgSparseVectorBuilder");var oM,lM;class xY extends(lM=nr,oM=We,lM){constructor(){super(...arguments);ke(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}ke(xY,oM,"PgSparseVector");function Z3e(e,t){const{name:r,config:n}=Ns(e,t);return new vY(r,n)}var cM,uM;class wY extends(uM=wr,cM=We,uM){constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new _Y(t,this.config)}}ke(wY,cM,"PgVectorBuilder");var dM,fM;class _Y extends(fM=nr,dM=We,fM){constructor(){super(...arguments);ke(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}ke(_Y,dM,"PgVector");function G3e(e,t){const{name:r,config:n}=Ns(e,t);return new wY(r,n)}function X3e(){return{bigint:T3e,bigserial:E3e,boolean:Ot,char:A3e,cidr:P3e,customType:I3e,date:su,doublePrecision:D3e,inet:Ud,integer:Nt,interval:M3e,json:R3e,jsonb:yr,line:$3e,macaddr:O3e,macaddr8:F3e,numeric:LQ,point:L3e,geometry:B3e,real:U3e,serial:Vn,smallint:V3e,smallserial:W3e,text:pe,time:q3e,timestamp:Ue,uuid:vi,varchar:Ne,bit:H3e,halfvec:K3e,sparsevec:Z3e,vector:G3e}}const A4=Symbol.for("drizzle:PgInlineForeignKeys"),WA=Symbol.for("drizzle:EnableRLS");var hM,pM,mM,gM,yM,bM;class om extends(bM=gs,yM=We,gM=A4,mM=WA,pM=gs.Symbol.ExtraConfigBuilder,hM=gs.Symbol.ExtraConfigColumns,bM){constructor(){super(...arguments);ke(this,gM,[]);ke(this,mM,!1);ke(this,pM);ke(this,hM,{})}}ke(om,yM,"PgTable"),ke(om,"Symbol",Object.assign({},gs.Symbol,{InlineForeignKeys:A4,EnableRLS:WA}));function Q3e(e,t,r,n,s=e){const i=new om(e,n,s),a=typeof t=="function"?t(X3e()):t,o=Object.fromEntries(Object.entries(a).map(([d,h])=>{const f=h;f.setName(d);const p=f.build(i);return i[A4].push(...f.buildForeignKeys(p,i)),[d,p]})),u=Object.fromEntries(Object.entries(a).map(([d,h])=>{const f=h;f.setName(d);const p=f.buildExtraConfigColumn(i);return[d,p]})),c=Object.assign(i,o);return c[gs.Symbol.Columns]=o,c[gs.Symbol.ExtraConfigColumns]=u,r&&(c[om.Symbol.ExtraConfigBuilder]=r),Object.assign(c,{enableRLS:()=>(c[om.Symbol.EnableRLS]=!0,c)})}const xt=(e,t,r)=>Q3e(e,t,r,void 0),_n={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ln(e,t){return t.includes(e.columnType)}function Y3e(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const J3e=Wh([mr(),Xx(),Yg(),Yx()]),e6e=Wh([J3e,t1(mr(),zm()),Vh(zm())]),t6e=E6(e=>e instanceof Buffer);function kY(e,t){const r=Qpe,n={};let s;return Y3e(e)&&(s=e.enumValues.length?r.enum(e.enumValues):r.string()),s||(Ln(e,["PgGeometry","PgPointTuple"])?s=r.tuple([r.number(),r.number()]):Ln(e,["PgGeometryObject","PgPointObject"])?s=r.object({x:r.number(),y:r.number()}):Ln(e,["PgHalfVector","PgVector"])?(s=r.array(r.number()),s=e.dimensions?s.length(e.dimensions):s):Ln(e,["PgLine"])?s=r.tuple([r.number(),r.number(),r.number()]):Ln(e,["PgLineABC"])?s=r.object({a:r.number(),b:r.number(),c:r.number()}):Ln(e,["PgArray"])?(s=r.array(kY(e.baseColumn)),s=e.size?s.length(e.size):s):e.dataType==="array"?s=r.array(r.any()):e.dataType==="number"?s=r6e(e,r,n):e.dataType==="bigint"?s=n6e(e,r,n):e.dataType==="boolean"?s=n===!0||n.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?s=n===!0||n.date?r.coerce.date():r.date():e.dataType==="string"?s=s6e(e,r,n):e.dataType==="json"?s=e6e:e.dataType==="custom"?s=r.any():e.dataType==="buffer"&&(s=t6e)),s||(s=r.any()),s}function r6e(e,t,r){let n=e.getSQLType().includes("unsigned"),s,i,a=!1;Ln(e,["MySqlTinyInt","SingleStoreTinyInt"])?(s=n?0:_n.INT8_MIN,i=n?_n.INT8_UNSIGNED_MAX:_n.INT8_MAX,a=!0):Ln(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=n?0:_n.INT16_MIN,i=n?_n.INT16_UNSIGNED_MAX:_n.INT16_MAX,a=!0):Ln(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=n?0:_n.INT24_MIN,i=n?_n.INT24_UNSIGNED_MAX:_n.INT24_MAX,a=Ln(e,["MySqlMediumInt","SingleStoreMediumInt"])):Ln(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=n?0:_n.INT32_MIN,i=n?_n.INT32_UNSIGNED_MAX:_n.INT32_MAX,a=!0):Ln(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=n?0:_n.INT48_MIN,i=n?_n.INT48_UNSIGNED_MAX:_n.INT48_MAX):Ln(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Ln(e,["MySqlSerial","SingleStoreSerial"]),s=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,a=!0):Ln(e,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,a=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let o=r===!0||r?.number?a?t.coerce.number():t.coerce.number().int():a?t.int():t.number();return o=o.gte(s).lte(i),o}function n6e(e,t,r){const n=e.getSQLType().includes("unsigned"),s=n?0n:_n.INT64_MIN,i=n?_n.INT64_UNSIGNED_MAX:_n.INT64_MAX;return(r===!0||r?.bigint?t.coerce.bigint():t.bigint()).gte(s).lte(i)}function s6e(e,t,r){if(Ln(e,["PgUUID"]))return t.uuid();let n,s,i=!1;Ln(e,["PgVarchar","SQLiteText"])?n=e.length:Ln(e,["MySqlVarChar","SingleStoreVarChar"])?n=e.length??_n.INT16_UNSIGNED_MAX:Ln(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?n=_n.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?n=_n.INT24_UNSIGNED_MAX:e.textType==="text"?n=_n.INT16_UNSIGNED_MAX:n=_n.INT8_UNSIGNED_MAX),Ln(e,["PgChar","MySqlChar","SingleStoreChar"])&&(n=e.length,i=!0),Ln(e,["PgBinaryVector"])&&(s=/^[01]+$/,n=e.dimensions);let a=r===!0||r?.string?t.coerce.string():t.string();return a=s?a.regex(s):a,n&&i?a.length(n):n?a.max(n):a}function SY(e){return UX(e)?N3e(e):C3e(e)}function jY(e,t,r,n){const s={};for(const[i,a]of Object.entries(e)){if(!ms(a,Th)&&!ms(a,cs)&&!ms(a,cs.Aliased)&&typeof a=="object"){const h=UX(a)||j3e(a)?SY(a):a;s[i]=jY(h,t[i]??{},r);continue}const o=t[i];if(o!==void 0&&typeof o!="function"){s[i]=o;continue}const u=ms(a,Th)?a:void 0,c=u?kY(u):zm(),d=typeof o=="function"?o(c):c;r.never(u)||(s[i]=d,u&&(r.nullable(u)&&(s[i]=s[i].nullable()),r.optional(u)&&(s[i]=s[i].optional())))}return pu(s)}const i6e={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Pt=(e,t)=>{const r=SY(e);return jY(r,{},i6e)},a6e=xt("devices",{id:Vn("id").primaryKey(),deviceId:pe("device_id").notNull().unique(),model:pe("model"),manufacturer:pe("manufacturer"),osVersion:pe("os_version"),sdkVersion:Nt("sdk_version"),appVersion:pe("app_version"),lastSeen:Ue("last_seen").defaultNow(),metadata:yr("metadata")}),o6e=xt("crashes",{id:Vn("id").primaryKey(),deviceId:pe("device_id").notNull(),exceptionType:pe("exception_type"),message:pe("message"),stackTrace:pe("stack_trace").notNull(),severity:pe("severity").notNull(),appState:yr("app_state"),metadata:yr("metadata"),timestamp:Ue("timestamp").defaultNow()}),l6e=xt("metrics",{id:Vn("id").primaryKey(),deviceId:pe("device_id").notNull(),metricName:pe("metric_name").notNull(),value:Tt("value",{precision:20,scale:4}).notNull(),unit:pe("unit"),attributes:yr("attributes"),timestamp:Ue("timestamp").defaultNow()});Pt(a6e).omit({id:!0,lastSeen:!0});Pt(o6e).omit({id:!0,timestamp:!0});Pt(l6e).omit({id:!0,timestamp:!0});const C0={isLocal:Ot("is_local").default(!1),synced:Ot("synced").default(!0),pendingSync:Ot("pending_sync").default(!1),version:Nt("version").default(1).notNull(),lastModifiedBy:Ne("last_modified_by")},Xr=xt("users",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),email:pe("email").notNull().unique(),password:pe("password").notNull(),passwordAlgo:pe("password_algo").default("argon2id").notNull(),firstName:pe("first_name"),lastName:pe("last_name"),fullName:pe("full_name"),phone:pe("phone"),birthDate:pe("birth_date"),birthPlace:pe("birth_place"),gender:pe("gender"),role:pe("role").notNull().default("admin"),isActive:Ot("is_active").default(!0).notNull(),notificationsEnabled:Ot("notifications_enabled").default(!1).notNull(),emailVerifiedAt:Ue("email_verified_at"),totpSecret:pe("totp_secret"),mfaEnabled:Ot("mfa_enabled").default(!1).notNull(),fcmToken:pe("fcm_token"),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull(),lastLogin:Ue("last_login"),refreshTokenHash:pe("refresh_token_hash"),refreshTokenExpiresAt:Ue("refresh_token_expires_at"),isLocal:Ot("is_local").default(!1),synced:Ot("synced").default(!0),pendingSync:Ot("pending_sync").default(!1),version:Nt("version").default(1).notNull(),lastModifiedBy:Ne("last_modified_by")},e=>({})),c6e=xt("refresh_tokens",{id:vi("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Xr.id,{onDelete:"cascade"}),tokenHash:pe("token_hash").notNull(),replacedBy:vi("replaced_by"),revoked:Ot("revoked").default(!1).notNull(),expiresAt:Ue("expires_at").notNull(),ipAddress:pe("ip_address"),userAgent:pe("user_agent"),deviceFingerprint:pe("device_fingerprint"),createdAt:Ue("created_at").defaultNow().notNull()}),u6e=xt("audit_logs",{id:Vn("id").primaryKey(),userId:Ne("user_id").references(()=>Xr.id),action:pe("action").notNull(),meta:yr("meta"),ipAddress:pe("ip_address"),createdAt:Ue("created_at").defaultNow().notNull()});xt("emergency_users",{id:Ne("id").primaryKey(),email:pe("email").notNull().unique(),password:pe("password").notNull(),name:pe("name").notNull(),role:pe("role").notNull().default("admin"),createdAt:Ue("created_at").defaultNow().notNull()});const d6e=xt("tasks",{id:Vn("id").primaryKey(),title:pe("title").notNull(),description:pe("description"),completed:Ot("completed").notNull().default(!1),createdAt:Ue("created_at").defaultNow().notNull()});Pt(d6e).omit({id:!0,createdAt:!0});const f6e=xt("auth_user_sessions",{id:vi("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Xr.id),sessionToken:Ne("session_token"),deviceFingerprint:Ne("device_fingerprint"),userAgent:pe("user_agent"),ipAddress:Ud("ip_address"),locationData:yr("location_data"),isTrustedDevice:Ot("is_trusted_device").default(!1).notNull(),expiresAt:Ue("expires_at").notNull(),lastActivity:Ue("last_activity").defaultNow(),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull(),deviceId:Ne("device_id"),deviceName:Ne("device_name"),browserName:Ne("browser_name"),browserVersion:Ne("browser_version"),osName:Ne("os_name"),osVersion:Ne("os_version"),country:Ne("country"),city:Ne("city"),timezone:Ne("timezone"),loginMethod:Ne("login_method"),securityFlags:yr("security_flags"),deviceType:Ne("device_type"),refreshTokenHash:pe("refresh_token_hash"),accessTokenHash:pe("access_token_hash"),isRevoked:Ot("is_revoked").default(!1).notNull(),revokedAt:Ue("revoked_at",{withTimezone:!0}),revokedReason:Ne("revoked_reason")}),h6e=xt("notifications",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").references(()=>Xr.id),title:pe("title").notNull(),body:pe("body").notNull(),message:pe("message"),type:pe("type").notNull().default("system"),priority:Nt("priority").default(3),projectId:Ne("project_id").references(()=>tn.id),createdBy:Ne("created_by").references(()=>Xr.id),recipients:pe("recipients").array(),payload:yr("payload"),meta:yr("meta"),readBy:pe("read_by").array(),deliveredTo:pe("delivered_to").array(),scheduledAt:Ue("scheduled_at"),channelPreference:yr("channel_preference"),isRead:Ot("is_read").default(!1).notNull(),targetPlatform:pe("target_platform").default("all").notNull(),createdAt:Ue("created_at").defaultNow().notNull(),isLocal:Ot("is_local").default(!1),synced:Ot("synced").default(!0),pendingSync:Ot("pending_sync").default(!1)});Pt(h6e).omit({id:!0,createdAt:!0,isRead:!0});xt("email_verification_tokens",{id:vi("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Xr.id),email:pe("email").notNull(),token:Ne("token").notNull().unique(),tokenHash:Ne("token_hash").notNull(),verificationLink:pe("verification_link").notNull(),expiresAt:Ue("expires_at").notNull(),verifiedAt:Ue("verified_at"),createdAt:Ue("created_at").defaultNow().notNull(),ipAddress:Ud("ip_address"),userAgent:pe("user_agent"),attemptsCount:Nt("attempts_count").default(0).notNull()});xt("password_reset_tokens",{id:vi("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Xr.id),token:Ne("token").notNull().unique(),tokenHash:Ne("token_hash").notNull(),expiresAt:Ue("expires_at").notNull(),usedAt:Ue("used_at"),createdAt:Ue("created_at").defaultNow().notNull(),ipAddress:Ud("ip_address"),userAgent:pe("user_agent")});const NY=xt("project_types",{id:Vn("id").primaryKey(),name:Ne("name",{length:100}).notNull().unique(),description:pe("description"),isActive:Ot("is_active").default(!0).notNull(),createdAt:Ue("created_at").defaultNow().notNull(),...C0},e=>({uniqueProjectTypeName:Kt`UNIQUE ("name")`})),tn=xt("projects",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),name:pe("name").notNull(),description:pe("description"),location:pe("location"),clientName:pe("client_name"),budget:Tt("budget",{precision:15,scale:2}),startDate:su("start_date"),endDate:su("end_date"),status:pe("status").notNull().default("active"),engineerId:Ne("engineer_id"),managerName:pe("manager_name"),contactPhone:pe("contact_phone"),notes:pe("notes"),imageUrl:pe("image_url"),projectTypeId:Nt("project_type_id").references(()=>NY.id,{onDelete:"set null"}),isActive:Ot("is_active").default(!0).notNull(),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull(),...C0},e=>({uniqueProjectName:Kt`UNIQUE ("name")`})),Vd=xt("workers",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),name:pe("name").notNull(),type:pe("type").notNull(),dailyWage:Tt("daily_wage",{precision:15,scale:2}).notNull(),phone:pe("phone"),hireDate:pe("hire_date"),isActive:Ot("is_active").default(!0).notNull(),createdAt:Ue("created_at").defaultNow().notNull(),...C0},e=>({uniqueWorkerName:Kt`UNIQUE ("name")`})),Hl=xt("wells",{id:Vn("id").primaryKey(),projectId:Ne("project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),wellNumber:Nt("well_number").notNull(),ownerName:pe("owner_name").notNull(),region:Ne("region",{length:100}).notNull(),numberOfBases:Nt("number_of_bases").notNull(),baseCount:Nt("base_count"),numberOfPanels:Nt("number_of_panels").notNull(),panelCount:Nt("panel_count"),wellDepth:Nt("well_depth").notNull(),waterLevel:Nt("water_level"),numberOfPipes:Nt("number_of_pipes").notNull(),pipeCount:Nt("pipe_count"),fanType:Ne("fan_type",{length:100}),pumpPower:Nt("pump_power"),status:pe("status").notNull().default("pending"),completionPercentage:Tt("completion_percentage",{precision:5,scale:2}).default("0").notNull(),startDate:su("start_date"),completionDate:su("completion_date"),notes:pe("notes"),createdBy:Ne("created_by").notNull().references(()=>Xr.id),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull(),...C0},e=>({uniqueWellNumberInProject:Kt`UNIQUE (project_id, well_number)`})),p6e=xt("fund_transfers",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),amount:Tt("amount",{precision:15,scale:2}).notNull(),senderName:pe("sender_name"),transferNumber:pe("transfer_number").unique(),transferType:pe("transfer_type").notNull(),transferDate:pe("transfer_date").notNull(),notes:pe("notes"),createdAt:Ue("created_at").defaultNow().notNull()}),m6e=xt("worker_attendance",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),workerId:Ne("worker_id").notNull().references(()=>Vd.id,{onDelete:"cascade"}),attendanceDate:pe("attendance_date").notNull(),date:pe("date"),startTime:pe("start_time"),endTime:pe("end_time"),workDescription:pe("work_description"),isPresent:Ot("is_present"),hoursWorked:Tt("hours_worked",{precision:5,scale:2}).default("8.00"),overtime:Tt("overtime",{precision:5,scale:2}).default("0.00"),overtimeRate:Tt("overtime_rate",{precision:15,scale:2}).default("0.00"),workDays:Tt("work_days",{precision:10,scale:2}).default("0.00"),dailyWage:Tt("daily_wage",{precision:15,scale:2}).notNull(),actualWage:Tt("actual_wage",{precision:15,scale:2}),totalPay:Tt("total_pay",{precision:15,scale:2}).notNull(),paidAmount:Tt("paid_amount",{precision:15,scale:2}).default("0"),remainingAmount:Tt("remaining_amount",{precision:15,scale:2}).default("0"),paymentType:pe("payment_type").default("partial"),notes:pe("notes"),wellId:Nt("well_id").references(()=>Hl.id,{onDelete:"set null"}),createdAt:Ue("created_at").defaultNow().notNull()},e=>({uniqueWorkerDate:Kt`UNIQUE (worker_id, attendance_date, project_id)`})),pN=xt("suppliers",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),name:pe("name").notNull().unique(),contactPerson:pe("contact_person"),phone:pe("phone"),address:pe("address"),paymentTerms:pe("payment_terms").default(""),totalDebt:Tt("total_debt",{precision:12,scale:2}).default("0").notNull(),isActive:Ot("is_active").default(!0).notNull(),notes:pe("notes"),createdAt:Ue("created_at").defaultNow().notNull()}),CY=xt("materials",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),name:pe("name").notNull(),category:pe("category").notNull(),unit:pe("unit").notNull(),createdAt:Ue("created_at").defaultNow().notNull()}),TY=xt("material_purchases",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),supplierId:Ne("supplier_id").references(()=>pN.id,{onDelete:"set null"}),materialId:Ne("material_id").references(()=>CY.id,{onDelete:"set null"}),materialName:pe("material_name").notNull(),materialCategory:pe("material_category"),materialUnit:pe("material_unit"),quantity:Tt("quantity",{precision:10,scale:3}).notNull(),unit:pe("unit").notNull(),unitPrice:Tt("unit_price",{precision:15,scale:2}).notNull(),totalAmount:Tt("total_amount",{precision:15,scale:2}).notNull(),purchaseType:pe("purchase_type").notNull().default(""),paidAmount:Tt("paid_amount",{precision:15,scale:2}).default("0").notNull(),remainingAmount:Tt("remaining_amount",{precision:15,scale:2}).default("0").notNull(),supplierName:pe("supplier_name"),receiptNumber:pe("receipt_number"),invoiceNumber:pe("invoice_number"),invoiceDate:pe("invoice_date"),dueDate:pe("due_date"),invoicePhoto:pe("invoice_photo"),notes:pe("notes"),purchaseDate:pe("purchase_date").notNull(),wellId:Nt("well_id").references(()=>Hl.id,{onDelete:"set null"}),addToInventory:Ot("add_to_inventory").default(!1),equipmentId:Nt("equipment_id"),createdAt:Ue("created_at").defaultNow().notNull()},e=>({uniqueInvoice:Kt`UNIQUE (project_id, supplier_id, invoice_number, purchase_date)`})),g6e=xt("supplier_payments",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),supplierId:Ne("supplier_id").notNull().references(()=>pN.id,{onDelete:"cascade"}),projectId:Ne("project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),purchaseId:Ne("purchase_id").references(()=>TY.id,{onDelete:"set null"}),amount:Tt("amount",{precision:15,scale:2}).notNull(),paymentMethod:pe("payment_method").notNull().default(""),paymentDate:pe("payment_date").notNull(),referenceNumber:pe("reference_number"),notes:pe("notes"),createdAt:Ue("created_at").defaultNow().notNull()}),y6e=xt("transportation_expenses",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),workerId:Ne("worker_id").references(()=>Vd.id,{onDelete:"set null"}),amount:Tt("amount",{precision:15,scale:2}).notNull(),description:pe("description").notNull(),category:pe("category").notNull().default("other"),date:pe("date").notNull(),notes:pe("notes"),wellId:Nt("well_id").references(()=>Hl.id,{onDelete:"set null"}),createdAt:Ue("created_at").defaultNow().notNull()}),b6e=xt("worker_transfers",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),workerId:Ne("worker_id").notNull().references(()=>Vd.id,{onDelete:"cascade"}),projectId:Ne("project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),amount:Tt("amount",{precision:15,scale:2}).notNull(),transferNumber:pe("transfer_number"),senderName:pe("sender_name"),recipientName:pe("recipient_name").notNull(),recipientPhone:pe("recipient_phone"),transferMethod:pe("transfer_method").notNull(),transferDate:pe("transfer_date").notNull(),notes:pe("notes"),createdAt:Ue("created_at").defaultNow().notNull()}),v6e=xt("worker_balances",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),workerId:Ne("worker_id").notNull().references(()=>Vd.id,{onDelete:"cascade"}),projectId:Ne("project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),totalEarned:Tt("total_earned",{precision:15,scale:2}).default("0").notNull(),totalPaid:Tt("total_paid",{precision:15,scale:2}).default("0").notNull(),totalTransferred:Tt("total_transferred",{precision:15,scale:2}).default("0").notNull(),currentBalance:Tt("current_balance",{precision:15,scale:2}).default("0").notNull(),lastUpdated:Ue("last_updated").defaultNow().notNull(),createdAt:Ue("created_at").defaultNow().notNull()}),x6e=xt("daily_activity_logs",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),engineerId:Ne("engineer_id").notNull().references(()=>Xr.id),logDate:pe("log_date").notNull(),activityTitle:pe("activity_title").notNull(),description:pe("description"),progressPercentage:Nt("progress_percentage").default(0),weatherConditions:pe("weather_conditions"),temperature:Nt("temperature"),humidity:Nt("humidity"),images:yr("images").default([]),wellId:Nt("well_id").references(()=>Hl.id,{onDelete:"set null"}),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()});Pt(x6e).omit({id:!0,createdAt:!0,updatedAt:!0});const Wd=o1(e=>{if(e instanceof Date){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}return typeof e=="string"&&e.includes("T")?e.split("T")[0]:e},mr().regex(/^\d{4}-\d{2}-\d{2}$/,"     YYYY-MM-DD")),w6e=xt("daily_expense_summaries",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),date:pe("date").notNull(),carriedForwardAmount:Tt("carried_forward_amount",{precision:15,scale:2}).default("0").notNull(),totalFundTransfers:Tt("total_fund_transfers",{precision:15,scale:2}).default("0").notNull(),totalWorkerWages:Tt("total_worker_wages",{precision:15,scale:2}).default("0").notNull(),totalMaterialCosts:Tt("total_material_costs",{precision:15,scale:2}).default("0").notNull(),totalTransportationCosts:Tt("total_transportation_costs",{precision:15,scale:2}).default("0").notNull(),totalWorkerTransfers:Tt("total_worker_transfers",{precision:15,scale:2}).default("0").notNull(),totalWorkerMiscExpenses:Tt("total_worker_misc_expenses",{precision:15,scale:2}).default("0").notNull(),totalIncome:Tt("total_income",{precision:15,scale:2}).notNull(),totalExpenses:Tt("total_expenses",{precision:15,scale:2}).notNull(),remainingBalance:Tt("remaining_balance",{precision:15,scale:2}).notNull(),notes:pe("notes"),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()}),_6e=xt("worker_types",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),name:pe("name").notNull().unique(),usageCount:Nt("usage_count").default(1).notNull(),lastUsed:Ue("last_used").defaultNow().notNull(),createdAt:Ue("created_at").defaultNow().notNull()}),k6e=xt("autocomplete_data",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),category:pe("category").notNull(),value:pe("value").notNull(),usageCount:Nt("usage_count").default(1).notNull(),lastUsed:Ue("last_used").defaultNow().notNull(),createdAt:Ue("created_at").defaultNow().notNull()}),S6e=xt("worker_misc_expenses",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),amount:Tt("amount",{precision:15,scale:2}).notNull(),description:pe("description").notNull(),date:pe("date").notNull(),notes:pe("notes"),wellId:Nt("well_id").references(()=>Hl.id,{onDelete:"set null"}),createdAt:Ue("created_at").defaultNow().notNull()}),j6e=xt("backup_logs",{id:Vn("id").primaryKey(),filename:pe("filename").notNull(),size:Tt("size",{precision:15,scale:2}),status:pe("status").notNull(),destination:pe("destination").notNull(),errorMessage:pe("error_message"),triggeredBy:Ne("triggered_by").references(()=>Xr.id),createdAt:Ue("created_at").defaultNow().notNull()}),N6e=xt("backup_settings",{id:Vn("id").primaryKey(),autoBackupEnabled:Ot("auto_backup_enabled").default(!0).notNull(),intervalMinutes:Nt("interval_minutes").default(1440).notNull(),telegramNotificationsEnabled:Ot("telegram_notifications_enabled").default(!1).notNull(),gdriveEnabled:Ot("gdrive_enabled").default(!1).notNull(),retentionDays:Nt("retention_days").default(30).notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()});Pt(j6e);Pt(N6e);const C6e=xt("print_settings",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),reportType:pe("report_type").notNull().default("worker_statement"),name:pe("name").notNull(),pageSize:pe("page_size").notNull().default("A4"),pageOrientation:pe("page_orientation").notNull().default("portrait"),marginTop:Tt("margin_top",{precision:5,scale:2}).notNull().default("15.00"),marginBottom:Tt("margin_bottom",{precision:5,scale:2}).notNull().default("15.00"),marginLeft:Tt("margin_left",{precision:5,scale:2}).notNull().default("15.00"),marginRight:Tt("margin_right",{precision:5,scale:2}).notNull().default("15.00"),fontFamily:pe("font_family").notNull().default("Arial"),fontSize:Nt("font_size").notNull().default(12),headerFontSize:Nt("header_font_size").notNull().default(16),tableFontSize:Nt("table_font_size").notNull().default(10),headerBackgroundColor:pe("header_background_color").notNull().default("#1e40af"),headerTextColor:pe("header_text_color").notNull().default("#ffffff"),tableHeaderColor:pe("table_header_color").notNull().default("#1e40af"),tableRowEvenColor:pe("table_row_even_color").notNull().default("#ffffff"),tableRowOddColor:pe("table_row_odd_color").notNull().default("#f9fafb"),tableBorderColor:pe("table_border_color").notNull().default("#000000"),tableBorderWidth:Nt("table_border_width").notNull().default(1),tableCellPadding:Nt("table_cell_padding").notNull().default(3),tableColumnWidths:pe("table_column_widths").notNull().default("[8,12,10,30,12,15,15,12]"),showHeader:Ot("show_header").notNull().default(!0),showLogo:Ot("show_logo").notNull().default(!0),showProjectInfo:Ot("show_project_info").notNull().default(!0),showWorkerInfo:Ot("show_worker_info").notNull().default(!0),showAttendanceTable:Ot("show_attendance_table").notNull().default(!0),showTransfersTable:Ot("show_transfers_table").notNull().default(!0),showSummary:Ot("show_summary").notNull().default(!0),showSignatures:Ot("show_signatures").notNull().default(!0),isDefault:Ot("is_default").notNull().default(!1),isActive:Ot("is_active").notNull().default(!0),userId:pe("user_id"),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()}),T6e=xt("project_fund_transfers",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),fromProjectId:Ne("from_project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),toProjectId:Ne("to_project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),amount:Tt("amount",{precision:15,scale:2}).notNull(),description:pe("description"),transferReason:pe("transfer_reason"),transferDate:pe("transfer_date").notNull(),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()}),mN=xt("security_policies",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),policyId:Ne("policy_id").notNull().unique(),title:Ne("title",{length:500}).notNull(),description:pe("description"),category:Ne("category",{length:100}).notNull(),severity:Ne("severity",{length:50}).notNull().default("medium"),status:Ne("status",{length:50}).notNull().default("draft"),complianceLevel:Ne("compliance_level",{length:100}),requirements:yr("requirements"),implementation:yr("implementation"),checkCriteria:yr("check_criteria"),checkInterval:Nt("check_interval"),nextCheck:Ue("next_check"),violationsCount:Nt("violations_count").notNull().default(0),lastViolation:Ue("last_violation"),createdBy:Ne("created_by"),approvedBy:Ne("approved_by"),approvedAt:Ue("approved_at"),createdAt:Ue("created_at").notNull().defaultNow(),updatedAt:Ue("updated_at").notNull().defaultNow()});xt("security_policy_suggestions",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),suggestedPolicyId:Ne("suggested_policy_id").notNull(),title:Ne("title",{length:500}).notNull(),description:pe("description"),category:Ne("category",{length:100}).notNull(),priority:Ne("priority",{length:50}).notNull().default("medium"),confidence:Nt("confidence").notNull().default(50),reasoning:pe("reasoning"),estimatedImpact:Ne("estimated_impact",{length:500}),implementationEffort:Ne("implementation_effort",{length:100}),prerequisites:yr("prerequisites"),sourceType:Ne("source_type",{length:100}),sourceData:yr("source_data"),status:Ne("status",{length:50}).notNull().default("pending"),reviewedBy:Ne("reviewed_by"),reviewedAt:Ue("reviewed_at"),implementedAs:Ne("implemented_as").references(()=>mN.id,{onDelete:"set null"}),implementedAt:Ue("implemented_at"),createdAt:Ue("created_at").notNull().defaultNow(),updatedAt:Ue("updated_at").notNull().defaultNow()});xt("security_policy_implementations",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),policyId:Ne("policy_id").notNull().references(()=>mN.id,{onDelete:"cascade"}),implementationId:Ne("implementation_id").notNull(),implementationType:Ne("implementation_type",{length:100}).notNull(),status:Ne("status",{length:50}).notNull().default("pending"),configuration:yr("configuration"),deploymentDetails:yr("deployment_details"),successCriteria:yr("success_criteria"),rollbackPlan:yr("rollback_plan"),implementedBy:Ne("implemented_by"),implementationDate:Ue("implementation_date"),verificationDate:Ue("verification_date"),nextReview:Ue("next_review"),createdAt:Ue("created_at").notNull().defaultNow(),updatedAt:Ue("updated_at").notNull().defaultNow()});xt("security_policy_violations",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),policyId:Ne("policy_id").notNull().references(()=>mN.id,{onDelete:"cascade"}),violationId:Ne("violation_id").notNull().unique(),violatedRule:Ne("violated_rule",{length:500}).notNull(),severity:Ne("severity",{length:50}).notNull().default("medium"),status:Ne("status",{length:50}).notNull().default("open"),violationDetails:yr("violation_details"),affectedResources:yr("affected_resources"),impactAssessment:pe("impact_assessment"),remediation_steps:yr("remediation_steps"),detectedAt:Ue("detected_at").notNull().defaultNow(),resolvedAt:Ue("resolved_at"),resolvedBy:Ne("resolved_by"),createdAt:Ue("created_at").notNull().defaultNow(),updatedAt:Ue("updated_at").notNull().defaultNow()});const E6e=xt("user_project_permissions",{id:vi("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Xr.id,{onDelete:"cascade"}),projectId:Ne("project_id").notNull().references(()=>tn.id,{onDelete:"cascade"}),canView:Ot("can_view").default(!0).notNull(),canAdd:Ot("can_add").default(!1).notNull(),canEdit:Ot("can_edit").default(!1).notNull(),canDelete:Ot("can_delete").default(!1).notNull(),assignedBy:Ne("assigned_by").references(()=>Xr.id),assignedAt:Ue("assigned_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()},e=>({uniqueUserProject:Kt`UNIQUE (user_id, project_id)`})),A6e=xt("permission_audit_logs",{id:vi("id").primaryKey().default(Kt`gen_random_uuid()`),action:Ne("action").notNull(),actorId:Ne("actor_id").notNull().references(()=>Xr.id),targetUserId:Ne("target_user_id").references(()=>Xr.id),projectId:Ne("project_id").references(()=>tn.id),oldPermissions:yr("old_permissions"),newPermissions:yr("new_permissions"),ipAddress:Ud("ip_address"),userAgent:pe("user_agent"),notes:pe("notes"),createdAt:Ue("created_at").defaultNow().notNull()}),qA=Pt(tn).omit({id:!0,createdAt:!0});Pt(Vd).omit({id:!0,createdAt:!0});const P6e=Pt(p6e).omit({id:!0,createdAt:!0}).extend({transferDate:Wd,amount:o1(e=>e==null?"0":e.toString(),mr())});Pt(m6e).omit({id:!0,createdAt:!0}).extend({attendanceDate:Wd,dailyWage:ns(),actualWage:ns().optional(),totalPay:ns(),paidAmount:ns().optional(),remainingAmount:ns().optional(),paymentType:mr().optional().default("partial"),hoursWorked:ns().optional(),overtime:ns().optional(),overtimeRate:ns().optional(),notes:mr().optional(),startTime:mr().optional().refine(e=>e?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(e):!0,"     HH:MM"),endTime:mr().optional().refine(e=>e?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(e):!0,"     HH:MM")}).refine(e=>{if(e.startTime&&e.endTime){const t=parseInt(e.startTime.split(":")[0])*60+parseInt(e.startTime.split(":")[1]),r=parseInt(e.endTime.split(":")[0])*60+parseInt(e.endTime.split(":")[1]);return t<r||r<t}return!0},{message:"        ( )",path:["endTime"]});Pt(CY).omit({id:!0,createdAt:!0});Pt(TY).omit({id:!0,createdAt:!0}).extend({purchaseDate:Wd,quantity:ns().refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"    0  "),unit:mr().min(1,"  ").default(""),unitPrice:ns().refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"     0  ").optional().or(Bm("")),totalAmount:ns().refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"     0  ").optional().or(Bm("")),purchaseType:mr().default(""),paidAmount:ns().default("0").refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"     0  "),remainingAmount:ns().default("0").refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"     0  ")});Pt(y6e).omit({id:!0,createdAt:!0}).extend({date:Wd,amount:ns()});Pt(b6e).omit({id:!0,createdAt:!0}).extend({transferDate:Wd,amount:ns()});const I6e=Pt(T6e).omit({id:!0,createdAt:!0}).extend({transferDate:Wd,amount:ns()});Pt(w6e).omit({id:!0,createdAt:!0,updatedAt:!0});Pt(_6e).omit({id:!0,createdAt:!0,lastUsed:!0});Pt(k6e).omit({id:!0,createdAt:!0,lastUsed:!0});Pt(S6e).omit({id:!0,createdAt:!0}).extend({date:Wd,amount:ns()});Pt(E6e).omit({id:!0,assignedAt:!0,updatedAt:!0});Pt(A6e).omit({id:!0,createdAt:!0});Pt(Xr).omit({id:!0,createdAt:!0,updatedAt:!0,lastLogin:!0}).extend({email:mr().min(5,"   ").max(255,"   ").email("    ").regex(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"      "),password:mr().min(8,"     8   ").max(128,"   ").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).*$/,"           "),firstName:mr().min(1,"  ").max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']+$/,"     "),lastName:mr().max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']*$/,"      ").optional(),role:qh(["admin","manager","user"],{errorMap:()=>({message:"    admin  manager  user"})})});Pt(Vd).omit({id:!0,createdAt:!0}).extend({name:mr().min(2,"   ").max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']+$/,"      "),type:mr().min(1,"  ").max(100,"   "),dailyWage:mr().regex(/^\d+(\.\d{1,2})?$/,"      ").refine(e=>parseFloat(e)>0,{message:"       "})});const D6e=Pt(tn).omit({id:!0,createdAt:!0}).extend({name:mr().min(2,"   ").max(200,"   ").regex(/^[a-zA-Z-0-9\s\-_().]+$/,"      "),status:qh(["active","completed","paused"],{errorMap:()=>({message:"     active  completed  paused"})}),imageUrl:mr().url("   ").optional().or(Bm(""))});D6e.partial().omit({}).refine(e=>Object.keys(e).length>0,{message:"      "});mr().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i," UUID  ").or(mr().regex(/^[a-z0-9-]{8,50}$/,"  "));Pt(pN).omit({id:!0,createdAt:!0});Pt(g6e).omit({id:!0,createdAt:!0}).extend({amount:ns()});Pt(C6e).omit({id:!0,createdAt:!0,updatedAt:!0});Pt(v6e);Pt(f6e).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0});const M6e=xt("report_templates",{id:pe("id").primaryKey().default(Kt`gen_random_uuid()`),templateName:pe("template_name").notNull().default("default"),headerTitle:pe("header_title").notNull().default("   "),headerSubtitle:pe("header_subtitle").default(" "),companyName:pe("company_name").notNull().default("  "),companyAddress:pe("company_address").default(" - "),companyPhone:pe("company_phone").default("+967 1 234567"),companyEmail:pe("company_email").default("info@company.com"),footerText:pe("footer_text").default("       "),footerContact:pe("footer_contact").default(": info@company.com | +967 1 234567"),primaryColor:pe("primary_color").notNull().default("#1f2937"),secondaryColor:pe("secondary_color").notNull().default("#3b82f6"),accentColor:pe("accent_color").notNull().default("#10b981"),textColor:pe("text_color").notNull().default("#1f2937"),backgroundColor:pe("background_color").notNull().default("#ffffff"),fontSize:Nt("font_size").notNull().default(11),fontFamily:pe("font_family").notNull().default("Arial"),logoUrl:pe("logo_url"),pageOrientation:pe("page_orientation").notNull().default("portrait"),pageSize:pe("page_size").notNull().default("A4"),margins:yr("margins").default({top:1,bottom:1,left:.75,right:.75}),showHeader:Ot("show_header").notNull().default(!0),showFooter:Ot("show_footer").notNull().default(!0),showLogo:Ot("show_logo").notNull().default(!0),showDate:Ot("show_date").notNull().default(!0),showPageNumbers:Ot("show_page_numbers").notNull().default(!0),isActive:Ot("is_active").notNull().default(!0),createdAt:Ue("created_at").defaultNow(),updatedAt:Ue("updated_at").defaultNow()});Pt(M6e).omit({id:!0,createdAt:!0,updatedAt:!0});Pt(c6e);Pt(u6e);const R6e=xt("notification_read_states",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),notificationId:pe("notification_id").notNull(),userId:Ne("user_id").references(()=>Xr.id),isRead:Ot("is_read").default(!0).notNull(),readAt:Ue("read_at").defaultNow().notNull(),deviceInfo:pe("device_info"),createdAt:Ue("created_at").defaultNow().notNull()},e=>({uniqueNotificationUser:Kt`UNIQUE (notification_id, user_id)`})),$6e=xt("build_deployments",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),buildNumber:Nt("build_number").notNull(),status:pe("status").notNull().default("running"),currentStep:pe("current_step").notNull(),progress:Nt("progress").notNull().default(0),version:pe("version").notNull(),appType:pe("app_type").notNull().default("web"),logs:yr("logs").notNull().default([]),steps:yr("steps").notNull().default([]),startTime:Ue("start_time").defaultNow().notNull(),endTime:Ue("end_time"),triggeredBy:Ne("triggered_by").references(()=>Xr.id),createdAt:Ue("created_at").defaultNow().notNull()});Pt($6e).omit({id:!0,createdAt:!0});Pt(R6e).omit({id:!0,createdAt:!0});const EY=xt("ai_chat_sessions",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Xr.id,{onDelete:"cascade"}),title:pe("title").default(" "),isActive:Ot("is_active").default(!0).notNull(),lastMessageAt:Ue("last_message_at"),messagesCount:Nt("messages_count").default(0).notNull(),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()}),O6e=xt("ai_chat_messages",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),sessionId:Ne("session_id").notNull().references(()=>EY.id,{onDelete:"cascade"}),role:pe("role").notNull(),content:pe("content").notNull(),model:pe("model"),provider:pe("provider"),tokensUsed:Nt("tokens_used"),action:pe("action"),actionData:yr("action_data"),createdAt:Ue("created_at").defaultNow().notNull()}),F6e=xt("ai_usage_stats",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Xr.id,{onDelete:"cascade"}),date:pe("date").notNull(),provider:pe("provider").notNull(),model:pe("model").notNull(),requestsCount:Nt("requests_count").default(0).notNull(),tokensUsed:Nt("tokens_used").default(0).notNull(),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()});Pt(EY).omit({id:!0,createdAt:!0,updatedAt:!0});Pt(O6e).omit({id:!0,createdAt:!0});Pt(F6e).omit({id:!0,createdAt:!0,updatedAt:!0});const gN=xt("well_tasks",{id:Vn("id").primaryKey(),wellId:Nt("well_id").notNull().references(()=>Hl.id,{onDelete:"cascade"}),taskType:Ne("task_type",{length:50}).notNull(),description:pe("description"),estimatedCost:Tt("estimated_cost",{precision:12,scale:2}),actualCost:Tt("actual_cost",{precision:12,scale:2}),taskOrder:Nt("task_order").notNull(),status:pe("status").notNull().default("pending"),assignedWorkerId:Ne("assigned_worker_id").references(()=>Vd.id,{onDelete:"set null"}),startDate:su("start_date"),completionDate:su("completion_date"),completedBy:Ne("completed_by").references(()=>Xr.id,{onDelete:"set null"}),createdBy:Ne("created_by").references(()=>Xr.id,{onDelete:"set null"}),notes:pe("notes"),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()}),L6e=xt("well_task_accounts",{id:Vn("id").primaryKey(),taskId:Nt("task_id").notNull().unique().references(()=>gN.id,{onDelete:"cascade"}),amount:Tt("amount",{precision:12,scale:2}).notNull(),accountedBy:Ne("accounted_by").notNull().references(()=>Xr.id),accountedAt:Ue("accounted_at").defaultNow().notNull(),paymentMethod:Ne("payment_method",{length:50}),referenceNumber:Ne("reference_number",{length:100}),notes:pe("notes")}),z6e=xt("well_expenses",{id:Vn("id").primaryKey(),wellId:Nt("well_id").notNull().references(()=>Hl.id,{onDelete:"cascade"}),expenseType:Ne("expense_type",{length:50}).notNull(),referenceType:Ne("reference_type",{length:50}),referenceId:Ne("reference_id"),description:pe("description").notNull(),category:Ne("category",{length:100}),quantity:Tt("quantity",{precision:10,scale:2}).notNull(),unit:Ne("unit",{length:20}).notNull(),unitPrice:Tt("unit_price",{precision:12,scale:2}).notNull(),totalAmount:Tt("total_amount",{precision:12,scale:2}).notNull(),expenseDate:su("expense_date").notNull(),createdBy:Ne("created_by").notNull().references(()=>Xr.id),createdAt:Ue("created_at").defaultNow().notNull(),notes:pe("notes")}),B6e=xt("well_audit_logs",{id:Vn("id").primaryKey(),wellId:Nt("well_id").references(()=>Hl.id,{onDelete:"set null"}),taskId:Nt("task_id").references(()=>gN.id,{onDelete:"set null"}),action:Ne("action",{length:50}).notNull(),entityType:Ne("entity_type",{length:50}).notNull(),entityId:Nt("entity_id").notNull(),previousData:yr("previous_data"),newData:yr("new_data"),userId:Ne("user_id").notNull().references(()=>Xr.id),ipAddress:Ud("ip_address"),userAgent:pe("user_agent"),createdAt:Ue("created_at").defaultNow().notNull()}),U6e=xt("material_categories",{id:Vn("id").primaryKey(),name:Ne("name",{length:100}).notNull().unique(),nameAr:Ne("name_ar",{length:100}).notNull(),type:Ne("type",{length:20}).notNull(),unit:Ne("unit",{length:20}).notNull(),description:pe("description"),isActive:Ot("is_active").default(!0).notNull(),createdAt:Ue("created_at").defaultNow().notNull()});Pt(NY).omit({id:!0,createdAt:!0});Pt(Hl).omit({id:!0,createdAt:!0,updatedAt:!0});Pt(gN).omit({id:!0,createdAt:!0,updatedAt:!0});Pt(L6e).omit({id:!0,accountedAt:!0});Pt(z6e).omit({id:!0,createdAt:!0});Pt(B6e).omit({id:!0,createdAt:!0});Pt(U6e).omit({id:!0});const AY=xt("equipment",{id:Vn("id").primaryKey(),code:pe("code"),name:pe("name").notNull(),sku:pe("sku"),type:pe("type"),unit:pe("unit").default(""),quantity:Nt("quantity").default(1).notNull(),status:pe("status").default("available"),condition:pe("condition").default("excellent"),description:pe("description"),purchaseDate:pe("purchase_date"),purchasePrice:pe("purchase_price"),projectId:Ne("project_id").references(()=>tn.id),imageUrl:pe("image_url"),createdAt:Ue("created_at").defaultNow().notNull()}),V6e=xt("equipment_movements",{id:Vn("id").primaryKey(),equipmentId:Nt("equipment_id").references(()=>AY.id),fromProjectId:Ne("from_project_id").references(()=>tn.id),toProjectId:Ne("to_project_id").references(()=>tn.id),quantity:Nt("quantity").default(1).notNull(),movementDate:Ue("movement_date").defaultNow(),reason:pe("reason"),performedBy:pe("performed_by"),notes:pe("notes")});Pt(AY).omit({id:!0,createdAt:!0});Pt(V6e).omit({id:!0});const W6e=xt("account_types",{id:Vn("id").primaryKey(),code:Ne("code",{length:20}).notNull().unique(),nameAr:pe("name_ar").notNull(),nameEn:pe("name_en"),category:pe("category").notNull(),normalBalance:pe("normal_balance").notNull(),parentId:Nt("parent_id"),isActive:Ot("is_active").default(!0),createdAt:Ue("created_at").defaultNow().notNull()}),PY=xt("journal_entries",{id:vi("id").defaultRandom().primaryKey(),entryNumber:Vn("entry_number"),projectId:Ne("project_id").references(()=>tn.id),entryDate:pe("entry_date").notNull(),description:pe("description").notNull(),sourceTable:pe("source_table").notNull(),sourceId:pe("source_id").notNull(),entryType:pe("entry_type").notNull(),reversalOfId:vi("reversal_of_id"),totalAmount:Tt("total_amount",{precision:15,scale:2}).notNull(),status:pe("status").default("posted"),createdBy:Ne("created_by").references(()=>Xr.id),createdAt:Ue("created_at").defaultNow().notNull(),...C0}),q6e=xt("journal_lines",{id:vi("id").defaultRandom().primaryKey(),journalEntryId:vi("journal_entry_id").references(()=>PY.id).notNull(),accountCode:Ne("account_code",{length:20}).notNull(),debitAmount:Tt("debit_amount",{precision:15,scale:2}).default("0"),creditAmount:Tt("credit_amount",{precision:15,scale:2}).default("0"),description:pe("description"),createdAt:Ue("created_at").defaultNow().notNull()}),H6e=xt("financial_audit_log",{id:vi("id").defaultRandom().primaryKey(),projectId:Ne("project_id").references(()=>tn.id),action:pe("action").notNull(),entityType:pe("entity_type").notNull(),entityId:pe("entity_id").notNull(),previousData:yr("previous_data"),newData:yr("new_data"),changedFields:yr("changed_fields"),userId:Ne("user_id").references(()=>Xr.id),userEmail:pe("user_email"),reason:pe("reason"),ipAddress:Ud("ip_address"),createdAt:Ue("created_at").defaultNow().notNull()}),K6e=xt("reconciliation_records",{id:vi("id").defaultRandom().primaryKey(),projectId:Ne("project_id").references(()=>tn.id).notNull(),reconciliationDate:pe("reconciliation_date").notNull(),ledgerBalance:Tt("ledger_balance",{precision:15,scale:2}).notNull(),computedBalance:Tt("computed_balance",{precision:15,scale:2}).notNull(),discrepancy:Tt("discrepancy",{precision:15,scale:2}).notNull(),status:pe("status").default("pending"),resolvedBy:Ne("resolved_by").references(()=>Xr.id),resolvedAt:Ue("resolved_at"),notes:pe("notes"),createdAt:Ue("created_at").defaultNow().notNull()}),Z6e=xt("summary_invalidations",{id:vi("id").defaultRandom().primaryKey(),projectId:Ne("project_id").references(()=>tn.id).notNull(),invalidatedFrom:pe("invalidated_from").notNull(),reason:pe("reason").notNull(),sourceTable:pe("source_table"),sourceId:pe("source_id"),createdAt:Ue("created_at").defaultNow().notNull()});Pt(W6e).omit({id:!0,createdAt:!0});Pt(PY).omit({id:!0,entryNumber:!0,createdAt:!0});Pt(q6e).omit({id:!0,createdAt:!0});Pt(H6e).omit({id:!0,createdAt:!0});Pt(K6e).omit({id:!0,createdAt:!0});Pt(Z6e).omit({id:!0,createdAt:!0});const G6e=xt("sync_audit_logs",{id:Vn("id").primaryKey(),userId:Ne("user_id").references(()=>Xr.id),userName:pe("user_name"),module:Ne("module",{length:50}).notNull(),tableName:Ne("table_name",{length:100}).notNull(),recordId:pe("record_id"),action:Ne("action",{length:20}).notNull(),status:Ne("status",{length:20}).notNull().default("success"),description:pe("description").notNull(),oldValues:yr("old_values"),newValues:yr("new_values"),errorMessage:pe("error_message"),ipAddress:pe("ip_address"),userAgent:pe("user_agent"),durationMs:Nt("duration_ms"),syncType:Ne("sync_type",{length:30}),projectId:Ne("project_id").references(()=>tn.id),projectName:pe("project_name"),amount:Tt("amount",{precision:15,scale:2}),createdAt:Ue("created_at").defaultNow().notNull()});Pt(G6e).omit({id:!0,createdAt:!0});const X6e=xt("idempotency_keys",{id:Vn("id").primaryKey(),key:Ne("key",{length:255}).notNull().unique(),endpoint:Ne("endpoint",{length:255}).notNull(),method:Ne("method",{length:10}).notNull(),statusCode:Nt("status_code").notNull(),responseBody:yr("response_body"),createdAt:Ue("created_at").defaultNow().notNull(),expiresAt:Ue("expires_at").notNull()});Pt(X6e).omit({id:!0,createdAt:!0});function Q6e(){const{toast:e}=zr(),t=Yn(),{setFloatingAction:r}=vo(),[n,s]=T.useState(null),[i,a]=T.useState(!1),o=[{key:"reason",label:"",type:"select",placeholder:" ",options:[{value:"payroll",label:""},{value:"materials",label:""},{value:"tools",label:""},{value:"maintenance",label:""},{value:"emergency",label:""},{value:"other",label:""}]},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],[u,c]=T.useState(""),[d,h]=T.useState({reason:"",dateRange:{from:void 0,to:void 0}}),f=N=>c(N),p=(N,w)=>{h(_=>({..._,[N]:w}))},g=()=>{c(""),h({reason:"",dateRange:{from:void 0,to:void 0}})},{data:y=[]}=st({queryKey:fe.projectsWithStats,queryFn:async()=>{const N=await Ie("/api/projects/with-stats","GET");return N.data||N||[]}}),m=y,{data:v={data:[]},isLoading:b,refetch:x}=st({queryKey:fe.projectFundTransfers,queryFn:async()=>await Ie("/api/project-fund-transfers","GET")||{data:[]}}),j=T.useMemo(()=>Array.isArray(v?.data)?v.data:[],[v]),C=T.useMemo(()=>{let N=j;if(u){const w=u.toLowerCase();N=N.filter(_=>_.transferReason?.toLowerCase().includes(w)||_.description?.toLowerCase().includes(w)||m.find(k=>k.id===_.fromProjectId)?.name.toLowerCase().includes(w)||m.find(k=>k.id===_.toProjectId)?.name.toLowerCase().includes(w))}if(d.reason&&(N=N.filter(w=>{if(!w.transferReason)return!1;const _=o.find(k=>k.key==="reason")?.options?.find(k=>k.value===d.reason);return w.transferReason===d.reason||w.transferReason===_?.label})),d.dateRange?.from||d.dateRange?.to){const w=d.dateRange.from?new Date(d.dateRange.from).getTime():0,_=d.dateRange.to?new Date(d.dateRange.to).getTime():1/0;N=N.filter(k=>{const S=new Date(k.transferDate).getTime();return S>=w&&S<=_})}return N},[j,u,d,m]),R=T.useMemo(()=>{const N=Array.isArray(j)?j:[];return{total:N.length,totalAmount:N.reduce((w,_)=>w+(parseFloat(_.amount?.toString()||"0")||0),0),filtered:C.length,outgoing:C.filter(w=>!C.some(_=>_.fromProjectId===_.toProjectId)).length,incoming:C.filter(w=>C.some(_=>_.toProjectId===_.fromProjectId)).length}},[j,C]),L=ht({mutationFn:async N=>n?Ie(`/api/project-fund-transfers/${n.id}`,"PATCH",N):Ie("/api/project-fund-transfers","POST",N),onSuccess:()=>{t.refetchQueries({queryKey:fe.projectFundTransfers}),t.refetchQueries({queryKey:fe.projectsWithStats}),e({title:" ",description:n?"   ":"    "}),P.reset(),s(null),a(!1)},onError:N=>{e({title:"",description:N.message||"    ",variant:"destructive"})}}),A=ht({mutationFn:async N=>{console.log(" [Client]  :",N);const w=await Ie(`/api/project-fund-transfers/${N}`,"DELETE");return console.log(" [Client]  :",w),w},onSuccess:(N,w)=>{console.log(" [Client]    ...",w),t.setQueryData(fe.projectFundTransfers,_=>{console.log(" [Client]  :",_);const k=_?.data?.filter(D=>D.id!==w)||[],S={..._,data:k,success:!0};return console.log(" [Client]  :",S),S}),t.refetchQueries({queryKey:fe.projectFundTransfers}),t.refetchQueries({queryKey:fe.projectsWithStats}),e({title:" ",description:"    "})},onError:N=>{console.error(" [Client]   :",N),e({title:"",description:N.message||"    ",variant:"destructive"})}}),P=Rl({resolver:$l(I6e),defaultValues:{fromProjectId:"",toProjectId:"",amount:"",transferReason:"",transferDate:new Date().toISOString().split("T")[0],description:""}});T.useEffect(()=>(r(()=>{s(null),P.reset({fromProjectId:"",toProjectId:"",amount:"",transferReason:"",transferDate:new Date().toISOString().split("T")[0],description:""}),a(!0)}," "),()=>r(null)),[r,P]);const $=N=>{if(!N.fromProjectId||!N.toProjectId||N.fromProjectId==="all"||N.toProjectId==="all"){e({title:"",description:"    .    ' '   .",variant:"destructive"});return}if(N.fromProjectId===N.toProjectId){e({title:"",description:"      ",variant:"destructive"});return}L.mutate(N)},V=N=>{s(N),P.reset({fromProjectId:N.fromProjectId,toProjectId:N.toProjectId,amount:N.amount,transferReason:N.transferReason||"",transferDate:N.transferDate||new Date().toISOString().split("T")[0],description:N.description||""}),a(!0)},U=N=>m.find(w=>w.id===N)?.name||" ",E=N=>{if(typeof N!="number"){const w=parseFloat(String(N));if(isNaN(w))return"0 .";N=w}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(N)+" ."},I=T.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:R.total,icon:Pm,color:"orange"},{key:"totalAmount",label:" ",value:R.totalAmount,icon:Jt,color:"green",formatter:E},{key:"filtered",label:" ",value:R.filtered,icon:ri,color:"blue"}]},{columns:3,gap:"sm",items:[{key:"today",label:" ",value:C.filter(N=>new Date(N.transferDate).toDateString()===new Date().toDateString()).length,icon:un,color:"purple"},{key:"average",label:" ",value:R.total>0?R.totalAmount/R.total:0,icon:Qn,color:"red",formatter:E},{key:"projects",label:" ",value:m.length,icon:Po,color:"indigo"}]}],[R,C,m]);return l.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:[l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-40 md:pb-20",children:[l.jsx(za,{statsRows:I,searchValue:u,onSearchChange:f,searchPlaceholder:"  ...",showSearch:!0,filters:o,filterValues:d,onFilterChange:p,onReset:g,onRefresh:()=>x(),isRefreshing:b}),l.jsx("div",{className:"space-y-4 md:space-y-6",children:b?l.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(N=>l.jsx(Dt,{className:"bg-white dark:bg-slate-900",children:l.jsx(Ht,{className:"p-4 md:p-6",children:l.jsx(qr,{className:"h-20 w-full"})})},N))}):C.length===0?l.jsx(Dt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:l.jsx(Ht,{className:"p-12",children:l.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[l.jsx(Pm,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),l.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"    "})]})})}):l.jsx(_s,{columns:2,children:C.map(N=>l.jsx(Hr,{title:E(parseFloat(N.amount?.toString()||"0")),titleIcon:Jt,headerColor:"#f59e0b",badges:[{label:new Date(N.transferDate).toLocaleDateString("en-GB"),variant:"outline"}],fields:[{label:"",value:`${U(N.fromProjectId)}  ${U(N.toProjectId)}`,icon:Un,color:"info"},{label:"",value:N.transferReason||" ",icon:Ms,color:"default"},{label:"",value:new Date(N.transferDate).toLocaleDateString("en-GB"),icon:Qn,color:"info"}],actions:[{icon:Gc,label:"",onClick:()=>V(N),color:"blue"},{icon:Nn,label:"",onClick:()=>A.mutate(N.id),color:"red"}],compact:!0},N.id))})})]})}),i&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-[999999] flex items-end md:items-center justify-center p-0 md:p-4",children:l.jsxs(Dt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-2xl w-full max-h-[92vh] md:max-h-[85vh] md:w-full md:max-w-2xl rounded-t-[2rem] md:rounded-xl overflow-hidden flex flex-col mb-0 md:mb-0",children:[l.jsx(zn,{className:"flex-shrink-0 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 p-4 md:p-5",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Kn,{className:"text-slate-900 dark:text-white text-base md:text-lg",children:n?"  ":"   "}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>{a(!1),s(null),P.reset()},className:"h-8 w-8 p-0 hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-full",children:l.jsx(os,{className:"h-4 w-4"})})]})}),l.jsx(Ht,{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-24 md:pb-6",children:l.jsx(Fl,{...P,children:l.jsxs("form",{onSubmit:P.handleSubmit($),className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[l.jsx(Ar,{control:P.control,name:"amount",render:({field:N})=>l.jsxs(Tr,{children:[l.jsx(Sn,{className:"text-xs md:text-sm font-semibold",children:" ()"}),l.jsx(Pr,{children:l.jsx(tt,{type:"number",step:"0.01",placeholder:"0",...N,autoWidth:!0,maxWidth:250,className:"h-10 md:h-11 border-2 text-xs md:text-sm"})}),l.jsx(ln,{className:"text-xs"})]})}),l.jsx(Ar,{control:P.control,name:"transferDate",render:({field:N})=>l.jsxs(Tr,{className:"flex flex-col gap-1.5",children:[l.jsx(Sn,{className:"text-xs md:text-sm font-semibold",children:""}),l.jsx(Vo,{value:N.value,onChange:w=>N.onChange(w?cr(w,"yyyy-MM-dd"):"")}),l.jsx(ln,{className:"text-xs"})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-4",children:[l.jsx(Ar,{control:P.control,name:"fromProjectId",render:({field:N})=>l.jsxs(Tr,{children:[l.jsx(Sn,{className:"text-xs md:text-sm font-semibold",children:"  *"}),l.jsx(Pr,{children:l.jsxs(En,{value:N.value||"",onValueChange:N.onChange,children:[l.jsx(bn,{className:"h-10 md:h-11 border-2 text-xs md:text-sm",children:l.jsx(An,{placeholder:"  "})}),l.jsx(vn,{className:"z-[9999999]",children:m.map(w=>l.jsx(vt,{value:w.id||"none",children:w.name},w.id))})]})}),l.jsx(ln,{className:"text-xs"})]})}),l.jsx(Ar,{control:P.control,name:"toProjectId",render:({field:N})=>l.jsxs(Tr,{children:[l.jsx(Sn,{className:"text-xs md:text-sm font-semibold",children:"  *"}),l.jsx(Pr,{children:l.jsxs(En,{value:N.value||"",onValueChange:N.onChange,children:[l.jsx(bn,{className:"h-10 md:h-11 border-2 text-xs md:text-sm",children:l.jsx(An,{placeholder:"  "})}),l.jsx(vn,{className:"z-[9999999]",children:m.map(w=>l.jsx(vt,{value:w.id||"none",children:w.name},w.id))})]})}),l.jsx(ln,{className:"text-xs"})]})})]}),l.jsx(Ar,{control:P.control,name:"transferReason",render:({field:N})=>l.jsxs(Tr,{children:[l.jsx(Sn,{className:"text-sm font-semibold",children:" "}),l.jsx(Pr,{children:l.jsx(Ch,{placeholder:"   ...",className:"min-h-[60px] text-xs md:text-sm border-2",...N})}),l.jsx(ln,{className:"text-xs"})]})}),l.jsx(Ar,{control:P.control,name:"description",render:({field:N})=>l.jsxs(Tr,{children:[l.jsx(Sn,{className:"text-sm font-semibold",children:" ()"}),l.jsx(Pr,{children:l.jsx(Ch,{placeholder:"   ...",className:"min-h-[100px] text-xs md:text-sm border-2",...N})}),l.jsx(ln,{className:"text-xs"})]})}),l.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4 md:p-6 mt-6 -mx-4 md:-mx-6 z-50 flex gap-3 shadow-lg",children:[l.jsx(_e,{type:"submit",disabled:L.isPending,className:"flex-1 h-10 md:h-11 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold shadow-lg shadow-blue-500/30",children:L.isPending?" ...":n?"":" "}),n&&l.jsx(_e,{type:"button",variant:"outline",onClick:()=>{s(null),P.reset()},className:"flex-1 h-10 md:h-11 border-2",children:""})]})]})})})]})})]})}function rp(e={}){const{projectId:t,date:r,dateFrom:n,dateTo:s,enabled:i=!0}=e,a=t&&t!=="all"?["/api/financial-summary",t,r,n,s]:["/api/financial-summary","all",r,n,s],{data:o,isLoading:u,error:c,refetch:d}=st({queryKey:a,queryFn:async()=>{try{let g="/api/financial-summary";const y=new URLSearchParams;t&&t!=="all"&&y.append("projectId",t),r&&y.append("date",r),n&&y.append("dateFrom",n),s&&y.append("dateTo",s),y.toString()&&(g+=`?${y.toString()}`);const m=await Ie(g,"GET");return m?.success&&m?.data?m.data:null}catch(g){throw console.error(" [useFinancialSummary]     :",g),g}},enabled:i,staleTime:1e3*30,gcTime:1e3*60*2,refetchOnWindowFocus:!0,refetchOnMount:"always"});if((!t||t==="all")&&o){const g=o,y=g.totals||{totalIncome:0,totalCashExpenses:0,totalAllExpenses:0,cashBalance:0,totalBalance:0,totalWorkers:0,activeWorkers:0,materialExpensesCredit:0,carriedForwardBalance:0},m=g.projects?.reduce((v,b)=>({totalWorkerWages:v.totalWorkerWages+(b.expenses?.workerWages||0),totalTransportation:v.totalTransportation+(b.expenses?.transportExpenses||0),totalMaterialCosts:v.totalMaterialCosts+(b.expenses?.materialExpenses||0),totalWorkerTransfers:v.totalWorkerTransfers+(b.expenses?.workerTransfers||0),totalMiscExpenses:v.totalMiscExpenses+(b.expenses?.miscExpenses||0),totalFundTransfers:v.totalFundTransfers+(b.income?.fundTransfers||0),incomingProjectTransfers:v.incomingProjectTransfers+(b.income?.incomingProjectTransfers||0),outgoingProjectTransfers:v.outgoingProjectTransfers+(b.expenses?.outgoingProjectTransfers||0)}),{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0})||{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0};return{summary:null,allProjects:g,totals:{...y,...m,totalExpenses:y.totalAllExpenses||0,currentBalance:y.totalBalance||0,remainingBalance:y.totalBalance||0},isLoading:u,error:c,refetch:d}}const f=o,p=f&&f.income&&f.expenses&&f.workers;return{summary:f,allProjects:null,totals:p?{totalIncome:f.income?.totalIncome??0,totalCashExpenses:f.expenses?.totalCashExpenses??0,totalAllExpenses:f.expenses?.totalAllExpenses??0,totalExpenses:f.expenses?.totalCashExpenses??0,cashBalance:f.cashBalance??0,totalBalance:f.totalBalance??0,currentBalance:f.totalBalance??0,totalWorkers:f.workers?.totalWorkers??0,activeWorkers:f.workers?.activeWorkers??0,materialExpensesCredit:f.expenses?.materialExpensesCredit??0,carriedForwardBalance:f.income?.carriedForwardBalance??0,totalWorkerWages:f.expenses?.workerWages??0,totalTransportation:f.expenses?.transportExpenses??0,totalMaterialCosts:f.expenses?.materialExpenses??0,totalWorkerTransfers:f.expenses?.workerTransfers??0,totalMiscExpenses:f.expenses?.miscExpenses??0,totalFundTransfers:f.income?.fundTransfers??0,incomingProjectTransfers:f.income?.incomingProjectTransfers??0,outgoingProjectTransfers:f.expenses?.outgoingProjectTransfers??0,remainingBalance:f.totalBalance??0}:{totalIncome:0,totalCashExpenses:0,totalAllExpenses:0,totalExpenses:0,cashBalance:0,totalBalance:0,currentBalance:0,totalWorkers:0,activeWorkers:0,materialExpensesCredit:0,carriedForwardBalance:0,totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0,remainingBalance:0},isLoading:u,error:c,refetch:d}}const eo={name:"    ",subtitle:"Al-Fatihi Contracting & Engineering Consultancy",address:"  ",phone:"+966 XX XXXX XXX",email:"info@alfatihi.com",website:"www.alfatihi.com"},In={headerBlue:"2E75B6",headerDarkBlue:"1F5A96",lightBlue:"E7F3FF",yellowTotal:"FFFF00",greenTotal:"00B050",greenLight:"C6EFCE",orangeLight:"FCE4D6",white:"FFFFFF",black:"000000",gray:"6B7280"},ar={fonts:{header:{bold:!0,size:11,color:{argb:"FF"+In.white}},data:{size:10},bold:{bold:!0,size:10}},colors:{headerBg:"FF"+In.headerBlue,altRow:"FF"+In.lightBlue,green:"FF"+In.greenTotal,yellow:"FF"+In.yellowTotal,orange:"FF"+In.orangeLight},borders:{thin:{style:"thin"},medium:{style:"medium"}},headerMain:{font:{bold:!0,size:14,color:{argb:"FF"+In.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+In.headerDarkBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},headerSecondary:{font:{bold:!0,size:12,color:{argb:"FF"+In.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+In.headerBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableHeader:{font:{bold:!0,size:11,color:{argb:"FF"+In.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+In.headerBlue}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableCell:{font:{size:10},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableCellAlt:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+In.lightBlue}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},greenRow:{font:{bold:!0,size:10,color:{argb:"FF"+In.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+In.greenTotal}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},greenLightRow:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+In.greenLight}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},yellowRow:{font:{bold:!0,size:10,color:{argb:"FF"+In.black}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+In.yellowTotal}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},orangeRow:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+In.orangeLight}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},summaryRow:{font:{bold:!0,size:11,color:{argb:"FF"+In.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+In.headerBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},signatureBox:{font:{size:10,bold:!0},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},footer:{font:{size:9,italic:!0,color:{argb:"FF"+In.gray}},alignment:{horizontal:"center",vertical:"middle"}}};function vy(e,t){t.font&&(e.font=t.font),t.fill&&(e.fill=t.fill),t.alignment&&(e.alignment=t.alignment),t.border&&(e.border=t.border),t.numFmt&&(e.numFmt=t.numFmt)}function DIe(e,t,r,n){let s=1;const i=e.columns?.length||8;e.mergeCells(s,1,s,i);const a=e.getRow(s);a.getCell(1).value=eo.name,vy(a.getCell(1),ar.headerMain),a.height=30,s++,e.mergeCells(s,1,s,i);const o=e.getRow(s);if(o.getCell(1).value=t,vy(o.getCell(1),ar.headerSecondary),o.height=25,s++,r){e.mergeCells(s,1,s,i);const u=e.getRow(s);u.getCell(1).value=r,vy(u.getCell(1),{font:{size:10},alignment:{horizontal:"center",vertical:"middle"}}),u.height=20,s++}if(n&&n.length>0){e.mergeCells(s,1,s,i);const u=e.getRow(s);u.getCell(1).value=n.join(" | "),vy(u.getCell(1),{font:{size:9},alignment:{horizontal:"center",vertical:"middle"}}),u.height=18,s++}return s++,s}const Y6e=e=>({income:"",expense:"",deferred:"",transfer_from_project:" "})[e]||e;async function IY(e,t,r,n){const s=(await Mr(async()=>{const{default:A}=await Promise.resolve().then(()=>EX);return{default:A}},void 0)).default,i=new s.Workbook;i.creator=eo.name,i.created=new Date;const a=i.addWorksheet(" ",{views:[{rightToLeft:!0}],pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0,margins:{left:.2,right:.2,top:.4,bottom:.4,header:.2,footer:.2}}});let o=1;a.mergeCells(`A${o}:O${o}`);const u=a.getCell(`A${o}`);u.value=eo.name,u.font={bold:!0,size:16,color:{argb:"FFFFFFFF"}},u.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F5A96"}},u.alignment={horizontal:"center",vertical:"middle"},a.getRow(o).height=30,o++,a.mergeCells(`A${o}:O${o}`);const c=a.getCell(`A${o}`);c.value=eo.subtitle,c.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},c.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E75B6"}},c.alignment={horizontal:"center",vertical:"middle"},a.getRow(o).height=25,o++,a.mergeCells(`A${o}:O${o}`);const d=a.getCell(`A${o}`),h=n?`  - ${n} - ${new Date().toLocaleDateString("en-GB")}`:`  - ${new Date().toLocaleDateString("en-GB")}`;d.value=h,d.font={bold:!0,size:14,color:{argb:"FF1F5A96"}},d.alignment={horizontal:"center",vertical:"middle"},a.getRow(o).height=28,o++,o++,[[" ",r(t.totalIncome)],[" ",r(t.totalExpenses)],[" ",r(t.balance)]].forEach(([A,P])=>{const $=a.getRow(o);a.mergeCells(`A${o}:D${o}`);const V=$.getCell(1);V.value=A,V.font={bold:!0,size:11},V.alignment={horizontal:"right",vertical:"middle"},a.mergeCells(`E${o}:H${o}`);const U=$.getCell(5);U.value=P,U.font={bold:!0,size:11,color:{argb:A===" "?t.balance>=0?"FF008000":"FFFF0000":"FF000000"}},U.alignment={horizontal:"left",vertical:"middle"},$.height=22,o++}),o++;const p=["#","","","",""," /"," "," ","",""," "," ","/"," "," "],g=a.getRow(o);p.forEach((A,P)=>{const $=g.getCell(P+1);$.value=A,$.font=ar.tableHeader.font,$.fill=ar.tableHeader.fill,$.alignment=ar.tableHeader.alignment,$.border=ar.tableHeader.border}),g.height=28,o++,a.getColumn(1).width=5,a.getColumn(2).width=12,a.getColumn(3).width=10,a.getColumn(4).width=14,a.getColumn(5).width=14,a.getColumn(6).width=16,a.getColumn(7).width=10,a.getColumn(8).width=11,a.getColumn(9).width=13,a.getColumn(10).width=8,a.getColumn(11).width=10,a.getColumn(12).width=9,a.getColumn(13).width=14,a.getColumn(14).width=11,a.getColumn(15).width=13,e.forEach((A,P)=>{const $=a.getRow(o),V=P%2===0?ar.tableCell:ar.tableCellAlt,E=new Date(A.date).toLocaleDateString("en-GB"),I=()=>A.workerName?A.workerName:A.materialName?A.materialName:A.description&&A.description!=="-"?A.description:"-",N=()=>A.supplierName?A.supplierName:A.recipientName?A.recipientName:"-";[P+1,E,Y6e(A.type),A.category,A.projectName||" ",I(),A.workDays??"-",A.dailyWage?r(A.dailyWage):"-",A.payableAmount?r(A.payableAmount):"-",A.quantity??"-",A.unitPrice?r(A.unitPrice):"-",A.paymentType||"-",N(),A.transferMethod||"-",r(A.amount)].forEach((_,k)=>{const S=$.getCell(k+1);S.value=_,S.font=V.font,V.fill&&(S.fill=V.fill),S.alignment=V.alignment,S.border=V.border,k===2&&(A.type==="income"||A.type==="transfer_from_project"?S.font={...V.font,color:{argb:"FF008000"}}:A.type==="expense"?S.font={...V.font,color:{argb:"FFFF0000"}}:A.type==="deferred"&&(S.font={...V.font,color:{argb:"FFFF8C00"}})),k===8&&A.payableAmount&&A.amount===0&&(S.font={...V.font,bold:!0,color:{argb:"FFFF6600"}}),k===14&&(A.type==="income"||A.type==="transfer_from_project"?S.font={...V.font,bold:!0,color:{argb:"FF008000"}}:A.type==="expense"?S.font={...V.font,bold:!0,color:{argb:"FFFF0000"}}:A.type==="deferred"&&(S.font={...V.font,bold:!0,color:{argb:"FFFF8C00"}}))}),$.height=24,o++}),o++;const y=a.getRow(o);a.mergeCells(`A${o}:G${o}`);const m=y.getCell(1);m.value=` : ${e.length}`,m.font=ar.summaryRow.font,m.fill=ar.summaryRow.fill,m.alignment=ar.summaryRow.alignment,m.border=ar.summaryRow.border,a.mergeCells(`H${o}:O${o}`);const v=y.getCell(8);v.value=` : ${new Date().toLocaleDateString("en-GB")} ${new Date().toLocaleTimeString("en-GB")}`,v.font={size:10,italic:!0},v.alignment={horizontal:"center",vertical:"middle"},y.height=26,o+=2;const b=a.getRow(o);a.mergeCells(`A${o}:E${o}`);const x=b.getCell(1);x.value="  : ________________",x.font=ar.signatureBox.font,x.alignment=ar.signatureBox.alignment,x.border=ar.signatureBox.border,a.mergeCells(`K${o}:O${o}`);const j=b.getCell(11);j.value="  : ________________",j.font=ar.signatureBox.font,j.alignment=ar.signatureBox.alignment,j.border=ar.signatureBox.border,b.height=35,o+=2,a.mergeCells(`A${o}:O${o}`);const C=a.getCell(`A${o}`);C.value=`${eo.name} | ${eo.address} |     `,C.font=ar.footer.font,C.alignment=ar.footer.alignment;const R=await i.xlsx.writeBuffer(),L=`__${n?n+"_":""}${new Date().toISOString().split("T")[0]}.xlsx`;return await ep(R,L)}function J6e(){const{getProjectIdForApi:e,isAllProjects:t}=yo(),r=e()||"",[n,s]=T.useState("all"),[i,a]=T.useState(""),[o,u]=T.useState({}),[c,d]=T.useState(!1),{user:h}=ql(),{toast:f}=zr(),p=h?.role==="admin"||h?.role==="",{totals:g,isLoading:y}=rp({projectId:r||"all",enabled:!0}),m=T.useMemo(()=>({totalIncome:g?.totalIncome??0,totalExpenses:g?.totalCashExpenses??0,currentBalance:g?.totalBalance??0,deferredExpenses:g?.materialExpensesCredit??0}),[g]);[{title:"",value:m.totalIncome,icon:un,color:"green",formatter:ee=>ze(ee)},{title:" ()",value:m.totalExpenses,icon:ri,color:"red",formatter:ee=>ze(ee)},{title:" ",value:m.currentBalance,icon:Jt,color:m.currentBalance>=0?"blue":"red",formatter:ee=>ze(ee)},{title:" ",value:m.deferredExpenses,icon:mn,color:"orange",formatter:ee=>ze(ee)}].map((ee,G)=>l.jsx(Dt,{className:"overflow-hidden",children:l.jsx(Ht,{className:"p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`p-1.5 rounded-full bg-${ee.color}-100 dark:bg-${ee.color}-900/30`,children:l.jsx(ee.icon,{className:`h-3.5 w-3.5 text-${ee.color}-600 dark:text-${ee.color}-400`})}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("p",{className:"text-[10px] font-medium text-muted-foreground leading-none",children:ee.title}),l.jsx("p",{className:`text-xs font-bold arabic-numbers leading-none ${ee.color==="red"?"text-red-600":ee.color==="green"?"text-green-600":""}`,children:ee.formatter(ee.value)})]})]})})},G));const b={staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1},{data:x=[]}=st({queryKey:fe.projects,...b}),{data:j=[],isLoading:C,error:R}=st({queryKey:fe.projectFundTransfersFiltered(r,t),queryFn:async()=>{try{if(console.log(`    : ${r},  : ${t}`),t){const ee=[];return await Promise.all(x.map(async G=>{try{const Y=await Ie(`/api/projects/${G.id}/fund-transfers`),ie=Array.isArray(Y?.data)?Y.data:Array.isArray(Y)?Y:[];ee.push(...ie.map(ce=>({...ce,projectId:G.id,projectName:G.name})))}catch(Y){console.error(`       ${G.id}:`,Y)}})),console.log(`   ${ee.length}     `),ee}else{const ee=await Ie(`/api/projects/${r}/fund-transfers`);return console.log(`   ${Array.isArray(ee?.data)?ee.data.length:0}  `),Array.isArray(ee?.data)?ee.data:[]}}catch(ee){return console.error("     :",ee),[]}},enabled:(!!r||t)&&x.length>0,retry:1,staleTime:3e4}),{data:L=[],isLoading:A,error:P}=st({queryKey:fe.projectFundTransfersIncoming(r,t),queryFn:async()=>{try{console.log(`    : ${r},  : ${t}`);const ee=t?"/api/project-fund-transfers":`/api/projects/fund-transfers/incoming/${r}`,G=await fetch(ee,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!G.ok)return G.status===401?(console.error("   -     "),[]):(console.error(`     : ${G.status}`),[]);const Y=await G.json(),ie=Array.isArray(Y?.data)?Y.data:Array.isArray(Y)?Y:[];return console.log(`   ${ie.length}   `),ie.length>0&&console.log("  :",ie.map(ce=>({:ce.fromProjectName,:ce.toProjectName,:ce.amount,:ce.transferDate}))),ie}catch(ee){return console.error("     :",ee),[]}},enabled:!0,retry:1,staleTime:3e4}),{data:$=[],isLoading:V,error:U}=st({queryKey:fe.projectFundTransfersOutgoing(r,t),queryFn:async()=>{try{console.log(`    : ${r},  : ${t}`);const ee=t?"/api/project-fund-transfers":`/api/projects/fund-transfers/outgoing/${r}`,G=await fetch(ee,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!G.ok)return G.status===401?(console.error("   -     "),[]):(console.error(`     : ${G.status}`),[]);const Y=await G.json(),ie=Array.isArray(Y?.data)?Y.data:Array.isArray(Y)?Y:[];return console.log(`   ${ie.length}   `),ie.length>0&&console.log("  :",ie.map(ce=>({:ce.fromProjectName,:ce.toProjectName,:ce.amount,:ce.transferDate}))),ie}catch(ee){return console.error("     :",ee),[]}},enabled:!0,retry:1,staleTime:3e4}),{data:E=[],isLoading:I,error:N}=st({queryKey:fe.projectWorkerAttendanceFiltered(r,t),queryFn:async()=>{try{if(console.log(`    : ${r},  : ${t}`),t){const ee=[];for(const G of x)try{const Y=await Ie(`/api/projects/${G.id}/worker-attendance`),ie=Array.isArray(Y?.data)?Y.data:Array.isArray(Y)?Y:[];ee.push(...ie.map(ce=>({...ce,projectId:G.id,projectName:G.name})))}catch(Y){console.error(`      ${G.id}:`,Y)}return console.log(`   ${ee.length}     `),ee}else{const ee=await Ie(`/api/projects/${r}/worker-attendance`),G=Array.isArray(ee?.data)?ee.data:Array.isArray(ee)?ee:[];return console.log(`   ${G.length}   `),G}}catch(ee){return console.error("     :",ee),[]}},enabled:(!!r||t)&&x.length>0,retry:1,staleTime:3e4}),{data:w=[],isLoading:_,error:k}=st({queryKey:fe.projectMaterialPurchasesFiltered(r,t),queryFn:async()=>{try{if(console.log(`    : ${r},  : ${t}`),t){const ee=[];for(const G of x)try{const Y=await fetch(`/api/projects/${G.id}/material-purchases`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(Y.ok){const ie=await Y.json(),ce=Array.isArray(ie?.data)?ie.data:Array.isArray(ie)?ie:[];ee.push(...ce.map(me=>({...me,projectId:G.id,projectName:G.name})))}}catch(Y){console.error(`      ${G.id}:`,Y)}return console.log(`   ${ee.length}     `),ee}else{const ee=await fetch(`/api/projects/${r}/material-purchases`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!ee.ok)return ee.status===401?(console.error("   -     "),[]):(console.error(`     : ${ee.status}`),[]);const G=await ee.json(),Y=Array.isArray(G?.data)?G.data:Array.isArray(G)?G:[];return console.log(`   ${Y.length}  `),Y}}catch(ee){return console.error("     :",ee),[]}},enabled:(!!r||t)&&x.length>0,retry:1,staleTime:3e4}),{data:S=[],isLoading:D}=st({queryKey:fe.transportationExpensesFiltered(t,r),queryFn:async()=>{try{if(console.log(`    -  : ${t}, : ${r}`),t){const ee=[];for(const G of x)try{const Y=await Ie(`/api/transportation-expenses?projectId=${G.id}`),ie=Array.isArray(Y?.data)?Y.data:Array.isArray(Y)?Y:[];ee.push(...ie.map(ce=>({...ce,projectId:G.id,projectName:G.name})))}catch(Y){console.error(`       ${G.id}:`,Y)}return console.log(`   ${ee.length}     `),ee}else{let ee="/api/transportation-expenses";r&&(ee=`/api/transportation-expenses?projectId=${r}`);const G=await Ie(ee),Y=Array.isArray(G?.data)?G.data:Array.isArray(G)?G:[];return console.log(`   ${Y.length}  `),Y}}catch(ee){return console.error("     :",ee),[]}},enabled:(!!r||t)&&x.length>0,retry:1,staleTime:3e4}),{data:O=[],isLoading:B}=st({queryKey:fe.workerMiscExpensesFiltered(t,r),queryFn:async()=>{try{if(console.log(`    -  : ${t}, : ${r}`),t){const ee=[];for(const G of x)try{const Y=await Ie(`/api/worker-misc-expenses?projectId=${G.id}`),ie=Array.isArray(Y?.data)?Y.data:Array.isArray(Y)?Y:[];ee.push(...ie.map(ce=>({...ce,projectId:G.id,projectName:G.name})))}catch(Y){console.error(`      ${G.id}:`,Y)}return console.log(`   ${ee.length}     `),ee}else{let ee="/api/worker-misc-expenses";r&&(ee=`/api/worker-misc-expenses?projectId=${r}`);const G=await Ie(ee),Y=Array.isArray(G?.data)?G.data:Array.isArray(G)?G:[];return console.log(`   ${Y.length}  `),Y}}catch(ee){return console.error("     :",ee),[]}},enabled:(!!r||t)&&x.length>0,retry:1,staleTime:3e4}),{data:q=[],isLoading:H,error:Q}=st({queryKey:fe.workerTransfersFiltered(r,t),queryFn:async()=>{try{if(console.log(`    : ${r},  : ${t}`),t){const ee=[];for(const G of x)try{const Y=await Ie(`/api/worker-transfers?projectId=${G.id}`),ie=Array.isArray(Y?.data)?Y.data:Array.isArray(Y)?Y:[];ee.push(...ie.map(ce=>({...ce,projectId:G.id,projectName:ce.projectName||G.name})))}catch(Y){console.error(`      ${G.id}:`,Y)}return console.log(`   ${ee.length}     `),ee}else{const ee=r?`/api/worker-transfers?projectId=${r}`:"/api/worker-transfers",G=await Ie(ee),Y=Array.isArray(G?.data)?G.data:Array.isArray(G)?G:[];return console.log(`   ${Y.length}  `),Y}}catch(ee){return console.error("     :",ee),[]}},enabled:x.length>0,retry:1,staleTime:3e4}),{data:M=[]}=st({queryKey:fe.workers}),K=ee=>t?!0:ee.projectId===r,z=T.useMemo(()=>{const ee=[],G=Array.isArray(j)?j:[],Y=Array.isArray(L)?L:[],ie=Array.isArray($)?$:[],ce=Array.isArray(E)?E:[],me=Array.isArray(w)?w:[],xe=Array.isArray(S)?S:[],Ce=Array.isArray(O)?O:[],Ae=Array.isArray(q)?q:[],$e=Array.isArray(M)?M:[];console.log(`     ${r}`),console.log("  :",{fundTransfers:G?.length||0,incomingProjectTransfers:Y?.length||0,outgoingProjectTransfers:ie?.length||0,workerAttendance:ce?.length||0,materialPurchases:me?.length||0,transportExpenses:xe?.length||0,miscExpenses:Ce?.length||0,workerTransfers:Ae?.length||0});const Le=de=>de&&x.find(Oe=>String(Oe.id)===String(de))?.name||" ";console.log("   :",G.length),G.forEach(de=>{const Pe=de.transferDate,Oe=parseFloat(de.amount);Pe&&!isNaN(Oe)&&Oe>0&&ee.push({id:`fund-${de.id}`,date:Pe,type:"income",category:" ",amount:Oe,description:`: ${de.senderName||" "}`,projectId:de.projectId,projectName:de.projectName||Le(de.projectId)})}),Y.length>0?(console.log(`  ${Y.length}  `),Y.forEach(de=>{const Pe=de.transferDate,Oe=parseFloat(de.amount);Pe&&!isNaN(Oe)&&Oe>0&&(console.log(`   : ${Oe}  ${de.fromProjectName}`),ee.push({id:`project-in-${de.id}`,date:Pe,type:"transfer_from_project",category:"    ",amount:Oe,description:`  : ${de.fromProjectName||" "}${de.description?` - ${de.description}`:""}`,projectId:de.toProjectId,projectName:de.toProjectName||Le(de.toProjectId)}))})):console.log(`      ${r}`),ie.length>0?(console.log(`  ${ie.length}  `),ie.forEach(de=>{const Pe=de.transferDate,Oe=parseFloat(de.amount);Pe&&!isNaN(Oe)&&Oe>0&&(console.log(`   : ${Oe}  ${de.toProjectName}`),ee.push({id:`project-out-${de.id}`,date:Pe,type:"expense",category:"    ",amount:Oe,description:`  : ${de.toProjectName||" "}${de.description?` - ${de.description}`:""}`,projectId:de.fromProjectId,projectName:de.fromProjectName||Le(de.fromProjectId)}))})):console.log(`      ${r}`),console.log("   :",ce.length),ce.forEach((de,Pe)=>{const Oe=de.date||de.attendanceDate||de.created_at;let yt=0;if(de.paidAmount!==void 0&&de.paidAmount!==null&&de.paidAmount!==""){const gt=parseFloat(de.paidAmount);!isNaN(gt)&&gt>0&&(yt=gt)}else if(de.actualWage!==void 0&&de.actualWage!==null&&de.actualWage!==""){const gt=parseFloat(de.actualWage);!isNaN(gt)&&gt>0&&(yt=gt)}let Mt=0;const it=de.dailyWage?parseFloat(de.dailyWage):0,zt=de.workDays?parseFloat(de.workDays):0;!isNaN(it)&&!isNaN(zt)&&it>0&&zt>0&&(Mt=it*zt);const nt=yt>0?yt:0;if(Oe&&(Mt>0||nt>0)){const ut=(Array.isArray($e)?$e.find(Wt=>Wt.id===de.workerId):void 0)?.name||de.workerName||de.worker?.name||de.name||" ",sr=de.workDays?` (${de.workDays} )`:"",_t=Mt>0&&yt===0?" -  ":"",ir={id:`wage-${de.id}`,date:Oe,type:"expense",category:Mt>0&&yt===0?"  ( )":" ",amount:nt,description:`${ut}${sr}${_t}`,workerName:ut,workDays:zt>0?zt:void 0,dailyWage:it>0?it:void 0,payableAmount:Mt>0?Mt:void 0,projectId:de.projectId,projectName:de.projectName||Le(de.projectId)};ee.push(ir)}});const rt=me.filter(K);console.log("   :",rt.length),rt.forEach(de=>{const Pe=de.purchaseDate||de.date;let Oe=0;if(de.totalAmount&&!isNaN(parseFloat(de.totalAmount))?Oe=parseFloat(de.totalAmount):de.amount&&!isNaN(parseFloat(de.amount))?Oe=parseFloat(de.amount):de.cost&&!isNaN(parseFloat(de.cost))&&(Oe=parseFloat(de.cost)),Pe&&Oe>0){const yt=de.purchaseType===""||de.paymentType==="deferred"||de.isDeferred||de.deferred;ee.push({id:`material-${de.id}`,date:Pe,type:yt?"deferred":"expense",category:yt?" ":" ",amount:Oe,description:`: ${de.materialName||de.name||" "}${yt?" ()":""}`,materialName:de.materialName||de.name||" ",quantity:de.quantity?parseFloat(de.quantity):void 0,unitPrice:de.unitPrice?parseFloat(de.unitPrice):void 0,paymentType:yt?"":"",supplierName:de.supplierName||de.supplier?.name||"",projectId:de.projectId,projectName:de.projectName||Le(de.projectId)})}});const qe=xe.filter(K);console.log("   :",qe.length),qe.forEach(de=>{const Pe=de.date,Oe=parseFloat(de.amount);Pe&&!isNaN(Oe)&&Oe>0&&ee.push({id:`transport-${de.id}`,date:Pe,type:"expense",category:"",amount:Oe,description:`: ${de.description||" "}`,projectId:de.projectId,projectName:de.projectName||Le(de.projectId)})});const Ve=Ce.filter(K);console.log("   :",Ve.length),Ve.forEach(de=>{const Pe=de.date,Oe=parseFloat(de.amount);Pe&&!isNaN(Oe)&&Oe>0&&ee.push({id:`misc-${de.id}`,date:Pe,type:"expense",category:"",amount:Oe,description:`: ${de.description||de.workerName||" "}`,projectId:de.projectId,projectName:de.projectName||Le(de.projectId)})}),console.log("   :",Ae.length),Ae.forEach(de=>{const Pe=de.transferDate||de.date,Oe=parseFloat(de.amount);if(Pe&&!isNaN(Oe)&&Oe>0){const Mt=(Array.isArray($e)?$e.find(nt=>nt.id===de.workerId):void 0)?.name||de.workerName||"  ",it=de.recipientName?`  ${de.recipientName}`:"",zt=de.transferMethod==="hawaleh"?"()":de.transferMethod==="bank"?"( )":"()";ee.push({id:`worker-transfer-${de.id}`,date:Pe,type:"expense",category:" ",amount:Oe,description:`${Mt}${it} ${zt}`,workerName:Mt,recipientName:de.recipientName||"",transferMethod:de.transferMethod==="hawaleh"?"":de.transferMethod==="bank"?"":"",projectId:de.projectId,projectName:de.projectName||Le(de.projectId)})}});const he=ee.filter(de=>de.date&&!isNaN(new Date(de.date).getTime())).sort((de,Pe)=>new Date(Pe.date).getTime()-new Date(de.date).getTime());return console.log(`  : ${he.length}   ${ee.length}`),console.log("   :",{_:he.filter(de=>de.category===" ").length,_:he.filter(de=>de.type==="transfer_from_project").length,_:he.filter(de=>de.category==="    ").length,_:he.filter(de=>de.category===" ").length,_:he.filter(de=>de.category===" ").length,_:he.filter(de=>de.category===" ").length,_:he.filter(de=>de.type==="deferred").length,:he.filter(de=>de.category==="").length,:he.filter(de=>de.category==="").length,:he.length}),he},[r,t,j,L,$,E,w,S,O,q,M,x]),F=T.useMemo(()=>{let ee=z;return n!=="all"&&(ee=ee.filter(G=>G.type===n)),i&&(ee=ee.filter(G=>G.description.toLowerCase().includes(i.toLowerCase())||G.category.toLowerCase().includes(i.toLowerCase()))),o.from&&(ee=ee.filter(G=>new Date(G.date)>=o.from)),o.to&&(ee=ee.filter(G=>new Date(G.date)<=o.to)),ee},[z,n,i,o]),W=T.useMemo(()=>{const ee=z.filter(Ae=>Ae.type==="income").reduce((Ae,$e)=>Ae+($e.amount||0),0),G=z.filter(Ae=>Ae.type==="transfer_from_project").reduce((Ae,$e)=>Ae+($e.amount||0),0),Y=z.filter(Ae=>Ae.type==="expense").reduce((Ae,$e)=>Ae+($e.amount||0),0),ie=z.filter(Ae=>Ae.type==="deferred").reduce((Ae,$e)=>Ae+($e.amount||0),0),ce=z.filter(Ae=>Ae.category==="    ").reduce((Ae,$e)=>Ae+($e.amount||0),0),me=Y-ce,xe=ee+G,Ce=Y+ie;return console.log("  :",{income:ee,transferFromProject:G,expenses:Y,deferredExpenses:ie,otherExpenses:me,transferToProjectExpenses:ce,totalIncome:xe,totalExpenses:Ce,balance:xe-Ce}),{income:ee,transferFromProject:G,otherExpenses:me,transferToProjectExpenses:ce,deferredExpenses:ie,totalIncome:xe,expenses:Ce,totalExpenses:Ce,balance:xe-Ce}},[z]);Array.isArray(x)&&x.find(ee=>ee.id===r)?.name;const J=ee=>ze(ee),le=()=>x.find(ee=>ee.id===r)?.name||"",ue={key:"export",icon:c?Dr:Ag,label:" Excel",onClick:async()=>{if(!(c||F.length===0)){d(!0);try{const ee=await IY(F,{totalIncome:W.totalIncome,totalExpenses:W.totalExpenses,balance:W.balance},ze,t?" ":le());f(ee?{title:"  ",description:`  ${F.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(ee){console.error("  :",ee),f({title:"  ",description:"    ",variant:"destructive"})}finally{d(!1)}}},variant:"outline",disabled:c||F.length===0,loading:c,tooltip:"     Excel"},Z=T.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"totalIncome",label:"",value:W.totalIncome,icon:un,color:"green",formatter:J},{key:"totalExpenses",label:" ()",value:W.totalExpenses,icon:ri,color:"red",formatter:J},{key:"balance",label:" ",value:W.balance,icon:Jt,color:W.balance>=0?"blue":"red",formatter:J},{key:"deferred",label:" ",value:W.deferredExpenses,icon:mn,color:"orange",formatter:J}]}],[W]),{data:te}=st({queryKey:fe.autocompleteTransactionCategories,queryFn:async()=>Ie("/api/autocomplete/transaction-categories","GET")}),ae=[{key:"type",label:" ",type:"select",placeholder:" ",options:T.useMemo(()=>{const ee=[{value:"all",label:" "},{value:"income",label:""},{value:"expense",label:""},{value:"deferred",label:""},{value:"transfer_from_project",label:"    "}];if(!te?.data)return ee;const G=new Set(ee.map(ie=>ie.value)),Y=te.data.map(ie=>({value:ie.value,label:ie.label})).filter(ie=>!G.has(ie.value));return[...ee,...Y]},[te])},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],re=C||A||V||I||_||H||D||B;return l.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-24 md:pb-20",children:[l.jsx(za,{statsRows:Z,searchValue:i,onSearchChange:a,searchPlaceholder:"    ...",showSearch:!0,filters:ae,actions:[ue],filterValues:{type:n,dateRange:o},onFilterChange:(ee,G)=>{ee==="type"?s(G):ee==="dateRange"&&u(G||{})},onReset:()=>{a(""),s("all"),u({})}}),(R||N||k||Q||P||U)&&l.jsx(Dt,{className:"bg-red-50 border-red-200",children:l.jsx(Ht,{className:"p-4",children:l.jsxs("div",{className:"text-red-800",children:[l.jsx("h3",{className:"font-semibold",children:"    :"}),R&&l.jsx("p",{children:"     "}),N&&l.jsx("p",{children:"     "}),k&&l.jsx("p",{children:"     "}),Q&&l.jsx("p",{children:"     "}),P&&l.jsx("p",{children:"     "}),U&&l.jsx("p",{children:"     "}),l.jsx("p",{className:"text-sm mt-2 text-red-600",children:"         ."})]})})}),l.jsx("div",{className:"space-y-4 md:space-y-6",children:re?l.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(ee=>l.jsx(Dt,{className:"bg-white dark:bg-slate-900",children:l.jsx(Ht,{className:"p-4 md:p-6",children:l.jsx(qr,{className:"h-20 w-full"})})},ee))}):F.length===0?l.jsx(Dt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:l.jsx(Ht,{className:"p-12",children:l.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[l.jsx(Ms,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),l.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"     "})]})})}):l.jsx(_s,{columns:2,children:F.map(ee=>{const G=ee.type==="income"||ee.type==="transfer_from_project",Y=ee.type==="deferred",ie=G?"":Y?"":"",ce=()=>ee.category===" "?"/daily-expenses":ee.category===" "?"/worker-attendance":ee.category===" "?"/worker-accounts":ee.category===" "||ee.type==="deferred"?"/material-purchase":ee.category===""?"/daily-expenses":ee.category===""?"/worker-misc-expenses":ee.category.includes("")?"/project-transfers":"/daily-expenses";return l.jsx(Hr,{title:J(ee.amount),subtitle:cr(new Date(ee.date),"dd/MM/yyyy",{locale:Di}),titleIcon:G?Woe:Uoe,headerColor:G?"#10b981":Y?"#f59e0b":"#ef4444",badges:[{label:ee.category,variant:G?"default":Y?"warning":"destructive"},{label:ie,variant:G?"success":Y?"warning":"destructive"}],fields:[{label:"",value:ee.projectName||" ",icon:Un,color:"info"},{label:"",value:ie,icon:G?un:ri,color:G?"success":Y?"warning":"danger",emphasis:!0},{label:"",value:ee.category,icon:Ms,color:"default"},{label:"",value:J(ee.amount),icon:Jt,color:G?"success":Y?"warning":"danger",emphasis:!0},{label:"",value:ee.description,icon:Ms,color:"default"}],actions:[{icon:Gc,label:"",onClick:()=>{const me=ce();window.location.href=me},color:"blue"},...p?[{icon:Nn,label:"",onClick:()=>{confirm(`      
${ee.category} - ${J(ee.amount)}`)&&f({title:"",description:"  ...",variant:"destructive"})},color:"red"}]:[]],compact:!0},ee.id)})})})]})})})}function e5e(){const{toast:e}=zr(),t=Yn(),{setFloatingAction:r}=vo(),[n,s]=T.useState(null),[i,a]=T.useState(!1),o=[{key:"project",label:"",type:"select",placeholder:" ",options:[]},{key:"transferType",label:" ",type:"select",placeholder:" ",options:[{value:"",label:""},{value:"",label:""},{value:" ",label:" "}]},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],[u,c]=T.useState(""),[d,h]=T.useState({project:"",transferType:"",dateRange:{from:void 0,to:void 0}}),f=_=>c(_),p=(_,k)=>{h(S=>({...S,[_]:k}))},g=()=>{c(""),h({project:"",transferType:"",dateRange:{from:void 0,to:void 0}})},{data:y=[]}=st({queryKey:fe.projects,queryFn:async()=>(await Ie("/api/projects","GET")).data||[]}),{data:m=[],isLoading:v,refetch:b}=st({queryKey:fe.allFundTransfers,queryFn:async()=>(await Ie("/api/projects/all/fund-transfers","GET")).data||[]}),x=T.useMemo(()=>{let _=m;if(u){const k=u.toLowerCase();_=_.filter(S=>S.senderName?.toLowerCase().includes(k)||S.transferNumber?.toLowerCase().includes(k)||S.notes?.toLowerCase().includes(k)||S.projectName?.toLowerCase().includes(k))}if(d.project&&d.project!=="all"&&(_=_.filter(k=>k.projectId===d.project)),d.transferType&&(_=_.filter(k=>k.transferType===d.transferType)),d.dateRange?.from||d.dateRange?.to){const k=d.dateRange.from?new Date(d.dateRange.from).getTime():0,S=d.dateRange.to?new Date(d.dateRange.to).getTime():1/0;_=_.filter(D=>{const O=new Date(D.transferDate).getTime();return O>=k&&O<=S})}return _},[m,u,d]),{totals:j,isLoading:C,refetch:R}=rp(),L=T.useMemo(()=>({total:m.length,totalAmount:j?.totalIncome||m.reduce((_,k)=>_+(parseFloat(k.amount?.toString()||"0")||0),0),currentBalance:j?.totalBalance||0,filtered:x.length,today:x.filter(_=>new Date(_.transferDate).toDateString()===new Date().toDateString()).length,thisWeek:x.filter(_=>{const k=new Date(_.transferDate),S=new Date,D=new Date(S.getTime()-10080*60*1e3);return k>=D&&k<=S}).length}),[m,x,j]),A=ht({mutationFn:async _=>n?Ie(`/api/fund-transfers/${n.id}`,"PATCH",_):Ie("/api/fund-transfers","POST",_),onSuccess:()=>{t.refetchQueries({queryKey:fe.allFundTransfers}),t.refetchQueries({queryKey:fe.projectsWithStats}),e({title:" ",description:n?"  ":"   "}),$.reset(),s(null),a(!1)},onError:_=>{e({title:"",description:_.message||"   ",variant:"destructive"})}}),P=ht({mutationFn:async _=>Ie(`/api/fund-transfers/${_}`,"DELETE"),onSuccess:()=>{t.refetchQueries({queryKey:fe.allFundTransfers}),t.refetchQueries({queryKey:fe.projectsWithStats}),e({title:" ",description:"   "})},onError:_=>{e({title:"",description:_.message||"   ",variant:"destructive"})}}),$=Rl({resolver:$l(P6e),defaultValues:{projectId:"",amount:"",senderName:"",transferNumber:"",transferType:"",transferDate:new Date().toISOString().split("T")[0],notes:""}});T.useEffect(()=>(r(()=>{s(null),$.reset({projectId:"",amount:"",senderName:"",transferNumber:"",transferType:"",transferDate:new Date().toISOString().split("T")[0],notes:""}),a(!0)}," "),()=>r(null)),[r,$]);const V=_=>{if(!_.projectId){e({title:"",description:"  ",variant:"destructive"});return}A.mutate(_)},U=_=>{s(_),$.reset({projectId:_.projectId,amount:_.amount,senderName:_.senderName||"",transferNumber:_.transferNumber||"",transferType:_.transferType||"",transferDate:_.transferDate,notes:_.notes||""}),a(!0)},E=_=>{if(typeof _!="number"){const k=parseFloat(String(_));if(isNaN(k))return"0 .";_=k}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(_)+" ."},I=T.useMemo(()=>y.map(_=>({value:_.id,label:_.name})),[y]),N=T.useMemo(()=>o.map(_=>_.key==="project"?{..._,options:I}:_),[I]),w=T.useMemo(()=>[{columns:4,gap:"sm",items:[{key:"totalAmount",label:" ",value:L.totalAmount,icon:un,color:"blue",formatter:E},{key:"totalExpenses",label:" ",value:j?.totalCashExpenses||0,icon:un,color:"red",formatter:E},{key:"currentBalance",label:" ",value:L.currentBalance,icon:Jt,color:L.currentBalance>=0?"green":"red",formatter:E},{key:"filtered",label:" ",value:L.filtered,icon:Ms,color:"purple"}]}],[L,j]);return l.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:[l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-24 md:pb-20",children:[l.jsx(za,{statsRows:w,searchValue:u,onSearchChange:f,searchPlaceholder:"  ...",showSearch:!0,filters:N,filterValues:d,onFilterChange:p,onReset:g,onRefresh:()=>b(),isRefreshing:v}),l.jsx("div",{className:"space-y-4 md:space-y-6",children:v?l.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(_=>l.jsx(Dt,{className:"bg-white dark:bg-slate-900",children:l.jsx(Ht,{className:"p-4 md:p-6",children:l.jsx(qr,{className:"h-20 w-full"})})},_))}):x.length===0?l.jsx(Dt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:l.jsx(Ht,{className:"p-12",children:l.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[l.jsx(Jt,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),l.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"   "})]})})}):l.jsx(_s,{columns:2,children:x.map(_=>l.jsx(Hr,{title:E(parseFloat(_.amount?.toString()||"0")),titleIcon:Jt,headerColor:"#10b981",badges:[{label:new Date(_.transferDate).toLocaleDateString("en-GB"),variant:"outline"}],fields:[{label:"",value:_.projectName||" ",icon:Un,color:"info"},{label:"",value:_.senderName||" ",icon:Ms,color:"default"},{label:" ",value:_.transferNumber||" ",icon:Ms,color:"default"},{label:"",value:_.transferType||" ",icon:Ms,color:"default"},{label:"",value:new Date(_.transferDate).toLocaleDateString("en-GB"),icon:Qn,color:"info"}],actions:[{icon:Gc,label:"",onClick:()=>U(_),color:"blue"},{icon:Nn,label:"",onClick:()=>P.mutate(_.id),color:"red"}],compact:!0},_.id))})})]})}),i&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-end md:items-center justify-center p-4",children:l.jsxs(Dt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-2xl w-full max-h-[90vh] md:max-h-[80vh] md:w-full md:max-w-2xl rounded-t-2xl md:rounded-xl overflow-y-auto",children:[l.jsx(zn,{className:"sticky top-0 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 p-4 md:p-5 z-10",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Kn,{className:"text-slate-900 dark:text-white text-base md:text-lg",children:n?" ":"  "}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>{a(!1),s(null),$.reset()},className:"h-8 w-8 p-0",children:""})]})}),l.jsx(Ht,{className:"p-4 md:p-6 pb-4 md:pb-6",children:l.jsx(Fl,{...$,children:l.jsxs("form",{onSubmit:$.handleSubmit(V),className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[l.jsx(Ar,{control:$.control,name:"amount",render:({field:_})=>l.jsxs(Tr,{children:[l.jsx(Sn,{className:"text-xs md:text-sm font-semibold",children:" () *"}),l.jsx(Pr,{children:l.jsx(tt,{type:"number",step:"0.01",placeholder:"0",..._,autoWidth:!0,maxWidth:250,onChange:k=>_.onChange(k.target.value),className:"h-10 md:h-11 border-2 text-xs md:text-sm"})}),l.jsx(ln,{className:"text-xs"})]})}),l.jsx(oSe,{name:"transferDate",control:$.control,label:" *",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[l.jsx(Ar,{control:$.control,name:"projectId",render:({field:_})=>l.jsxs(Tr,{children:[l.jsx(Sn,{className:"text-sm font-semibold",children:" *"}),l.jsx(Pr,{children:l.jsxs(En,{value:_.value,onValueChange:_.onChange,children:[l.jsx(bn,{className:"h-10 md:h-11 border-2",children:l.jsx(An,{placeholder:" "})}),l.jsx(vn,{className:"z-[100]",children:y.map(k=>l.jsx(vt,{value:k.id,children:k.name},k.id))})]})}),l.jsx(ln,{className:"text-xs"})]})}),l.jsx(Ar,{control:$.control,name:"transferType",render:({field:_})=>l.jsxs(Tr,{children:[l.jsx(Sn,{className:"text-sm font-semibold",children:" "}),l.jsx(Pr,{children:l.jsxs(En,{value:_.value||"",onValueChange:_.onChange,children:[l.jsx(bn,{className:"h-10 md:h-11 border-2",children:l.jsx(An,{placeholder:" "})}),l.jsxs(vn,{className:"z-[100]",children:[l.jsx(vt,{value:"",children:""}),l.jsx(vt,{value:"",children:""}),l.jsx(vt,{value:" ",children:" "})]})]})}),l.jsx(ln,{className:"text-xs"})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[l.jsx(Ar,{control:$.control,name:"senderName",render:({field:_})=>l.jsxs(Tr,{children:[l.jsx(Sn,{className:"text-sm font-semibold",children:" "}),l.jsx(Pr,{children:l.jsx(is,{category:"senderNames",placeholder:" ",value:_.value||"",onChange:_.onChange,className:"h-10 md:h-11 border-2"})}),l.jsx(ln,{className:"text-xs"})]})}),l.jsx(Ar,{control:$.control,name:"transferNumber",render:({field:_})=>l.jsxs(Tr,{children:[l.jsx(Sn,{className:"text-sm font-semibold",children:" "}),l.jsx(Pr,{children:l.jsx(is,{category:"transferNumbers",placeholder:" ",value:_.value||"",onChange:_.onChange,className:"h-10 md:h-11 border-2"})}),l.jsx(ln,{className:"text-xs"})]})})]}),l.jsx(Ar,{control:$.control,name:"notes",render:({field:_})=>l.jsxs(Tr,{children:[l.jsx(Sn,{className:"text-sm font-semibold",children:""}),l.jsx(Pr,{children:l.jsx(is,{category:"notes",placeholder:" ",value:_.value||"",onChange:_.onChange,className:"border-2 min-h-24 md:min-h-28"})}),l.jsx(ln,{className:"text-xs"})]})}),l.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4 md:p-6 mt-6 -mx-4 md:-mx-6 z-50 flex gap-3 shadow-lg",children:[l.jsx(_e,{type:"submit",disabled:A.isPending,className:"flex-1 h-10 md:h-11 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold shadow-lg shadow-green-500/30",children:A.isPending?" ...":n?"":" "}),n&&l.jsx(_e,{type:"button",variant:"outline",onClick:()=>{s(null),$.reset()},className:"flex-1 h-10 md:h-11 border-2",children:""})]})]})})})]})})]})}var t5e=Symbol("radix.slottable");function r5e(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=t5e,t}var DY="AlertDialog",[n5e]=Ls(DY,[HH]),Kl=HH(),MY=e=>{const{__scopeAlertDialog:t,...r}=e,n=Kl(t);return l.jsx(b5,{...n,...r,modal:!0})};MY.displayName=DY;var s5e="AlertDialogTrigger",i5e=T.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Kl(r);return l.jsx(v5,{...s,...n,ref:t})});i5e.displayName=s5e;var a5e="AlertDialogPortal",RY=e=>{const{__scopeAlertDialog:t,...r}=e,n=Kl(t);return l.jsx(x5,{...n,...r})};RY.displayName=a5e;var o5e="AlertDialogOverlay",$Y=T.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Kl(r);return l.jsx(f0,{...s,...n,ref:t})});$Y.displayName=o5e;var Lf="AlertDialogContent",[l5e,c5e]=n5e(Lf),u5e=r5e("AlertDialogContent"),OY=T.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Kl(r),a=T.useRef(null),o=tr(t,a),u=T.useRef(null);return l.jsx(axe,{contentName:Lf,titleName:FY,docsSlug:"alert-dialog",children:l.jsx(l5e,{scope:r,cancelRef:u,children:l.jsxs(h0,{role:"alertdialog",...i,...s,ref:o,onOpenAutoFocus:et(s.onOpenAutoFocus,c=>{c.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[l.jsx(u5e,{children:n}),l.jsx(f5e,{contentRef:a})]})})})});OY.displayName=Lf;var FY="AlertDialogTitle",LY=T.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Kl(r);return l.jsx(Zh,{...s,...n,ref:t})});LY.displayName=FY;var zY="AlertDialogDescription",BY=T.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Kl(r);return l.jsx(Gh,{...s,...n,ref:t})});BY.displayName=zY;var d5e="AlertDialogAction",UY=T.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Kl(r);return l.jsx(p0,{...s,...n,ref:t})});UY.displayName=d5e;var VY="AlertDialogCancel",WY=T.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=c5e(VY,r),i=Kl(r),a=tr(t,s);return l.jsx(p0,{...i,...n,ref:a})});WY.displayName=VY;var f5e=({contentRef:e})=>{const t=`\`${Lf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Lf}\` by passing a \`${zY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Lf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return T.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},h5e=MY,p5e=RY,qY=$Y,HY=OY,KY=UY,ZY=WY,GY=LY,XY=BY;const m5e=h5e,g5e=p5e,QY=T.forwardRef(({className:e,...t},r)=>l.jsx(qY,{className:we("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));QY.displayName=qY.displayName;const YY=T.forwardRef(({className:e,...t},r)=>l.jsxs(g5e,{children:[l.jsx(QY,{}),l.jsx(HY,{ref:r,className:we("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),style:{pointerEvents:"auto"},...t})]}));YY.displayName=HY.displayName;const JY=({className:e,...t})=>l.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",e),...t});JY.displayName="AlertDialogHeader";const eJ=({className:e,...t})=>l.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});eJ.displayName="AlertDialogFooter";const tJ=T.forwardRef(({className:e,...t},r)=>l.jsx(GY,{ref:r,className:we("text-lg font-semibold",e),...t}));tJ.displayName=GY.displayName;const rJ=T.forwardRef(({className:e,...t},r)=>l.jsx(XY,{ref:r,className:we("text-sm text-muted-foreground",e),...t}));rJ.displayName=XY.displayName;const nJ=T.forwardRef(({className:e,...t},r)=>l.jsx(KY,{ref:r,className:we(Qm(),e),...t}));nJ.displayName=KY.displayName;const sJ=T.forwardRef(({className:e,...t},r)=>l.jsx(ZY,{ref:r,className:we(Qm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));sJ.displayName=ZY.displayName;function y5e(){return l.jsxs(Dt,{className:"overflow-hidden",children:[l.jsx("div",{className:"h-2 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600"}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(qr,{className:"h-10 w-10 rounded-lg"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(qr,{className:"h-5 w-32"}),l.jsx(qr,{className:"h-3 w-20"})]})]}),l.jsx(qr,{className:"h-6 w-16 rounded-full"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:[...Array(6)].map((e,t)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qr,{className:"h-4 w-4 rounded"}),l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx(qr,{className:"h-3 w-12"}),l.jsx(qr,{className:"h-4 w-16"})]})]},t))}),l.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[l.jsx(qr,{className:"h-8 w-8 rounded"}),l.jsx(qr,{className:"h-8 w-8 rounded"})]})]})]})}function b5e(){return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",children:[...Array(6)].map((e,t)=>l.jsxs("div",{className:"flex items-center gap-3 p-2",children:[l.jsx(qr,{className:"h-10 w-10 rounded-lg"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(qr,{className:"h-3 w-16"}),l.jsx(qr,{className:"h-5 w-20"})]})]},t))})}function v5e(){return l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",children:[l.jsx(qr,{className:"h-9 flex-1 rounded-lg"}),l.jsx(qr,{className:"h-8 w-8 rounded-lg"}),l.jsxs("div",{className:"flex items-center gap-1 ps-2 border-r border-gray-200 dark:border-gray-700 pe-2",children:[l.jsx(qr,{className:"h-8 w-8 rounded-lg"}),l.jsx(qr,{className:"h-8 w-8 rounded-lg"})]})]})}function x5e(){return l.jsxs("div",{className:"space-y-2 p-2 animate-in fade-in duration-300",children:[l.jsx(b5e,{}),l.jsx(v5e,{}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-4",children:[...Array(8)].map((e,t)=>l.jsx(y5e,{},t))})]})}class w5e{constructor(){this.baseURL=`${lh.getApiBaseUrl()}/api`}async request(t,r={}){const n=typeof window<"u"?localStorage.getItem("accessToken"):null;if(Ho.getPlatform()!=="web"&&typeof navigator<"u"&&!navigator.onLine)throw console.warn(` [API] Offline mode on ${Ho.getPlatform()}: skipping direct request to ${t}`),new Error("OFFLINE_MODE");try{const s=`${this.baseURL}${t}`;console.log(` API Request: ${r.method||"GET"} ${t}`,r.body||"");const i={"Content-Type":"application/json"};if(n&&n!=="undefined"&&n!=="null"){const u=n.replace(/^["'](.+)["']$/,"$1");i.Authorization=`Bearer ${u}`,i["x-auth-token"]=u}const a=await fetch(s,{...r,headers:{...i,...r.headers}});if(a.status===401&&(await a.clone().json().catch(()=>({}))).code==="TOKEN_EXPIRED"&&t!=="/auth/refresh"){console.log(" [API] Token expired, attempting refresh...");try{const c=await this.post("/auth/refresh",{refreshToken:localStorage.getItem("refreshToken")});if(c&&c.accessToken)return localStorage.setItem("accessToken",c.accessToken),c.refreshToken&&localStorage.setItem("refreshToken",c.refreshToken),this.request(t,r)}catch(c){console.error(" [API] Refresh failed:",c),typeof window<"u"&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/auth")}}if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const o=a.headers.get("content-type");if(o&&o.includes("application/json")){const u=await a.json();return console.log(` API Response: ${r.method||"GET"} ${t}`,u),u}else{const u=await a.text();return console.log(` API Response (non-JSON): ${r.method||"GET"} ${t}`),u}}catch(s){throw console.error(` API Error: ${r.method||"GET"} ${t}`,s),s}}async get(t){return this.request(t,{method:"GET"})}async post(t,r){return this.request(t,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(t,r){return this.request(t,{method:"PUT",body:r?JSON.stringify(r):void 0})}async delete(t){return this.request(t,{method:"DELETE"})}}new w5e;async function np(e,t="GET",r,n=3e4){const s=lh.getApiBaseUrl(),i=e.startsWith("http")?e:`${s}${e}`,a={"Content-Type":"application/json"},o=typeof window<"u"?localStorage.getItem("accessToken"):null;if(o){const d=o.replace(/^["'](.+)["']$/,"$1");a.Authorization=`Bearer ${d}`,a["x-auth-token"]=d}const u=new AbortController,c=setTimeout(()=>u.abort(),n);try{const d=await fetch(i,{method:t,headers:a,body:r?JSON.stringify(r):void 0,signal:u.signal});if(clearTimeout(c),!d.ok){const f=await d.json().catch(()=>({}));throw new Error(f.message||`HTTP error! status: ${d.status}`)}const h=d.headers.get("content-type");return h&&h.includes("application/json")?await d.json():await d.text()}catch(d){throw clearTimeout(c),d}}class _5e{constructor(){this.events=[],this.listeners=[]}logEvent(t){const r={...t,id:crypto.randomUUID(),timestamp:Date.now(),resolved:!1};this.events.push(r),console.log(` [IntelligentMonitor] [${t.severity.toUpperCase()}] ${t.message}`,t.metadata),(t.severity==="high"||t.severity==="critical")&&this.notifyAdmin(r),(t.type==="error"||t.type==="sync")&&this.attemptSelfHealing(r),this.notifyListeners(r)}notifyAdmin(t){cj({title:`  ${t.severity==="critical"?"":""}`,description:t.message,variant:t.severity==="critical"?"destructive":"default"})}async attemptSelfHealing(t){if(t.resolved)return;console.log(` [Self-Healing]   : ${t.id}`);let r="";if(t.type==="sync"){r="      ";try{const{triggerSync:n}=await Mr(async()=>{const{triggerSync:s}=await Promise.resolve().then(()=>cJ);return{triggerSync:s}},void 0);setTimeout(()=>n(),5e3)}catch(n){console.error(" [Self-Healing]   :",n)}}else(t.message.includes("storage")||t.message.includes("quota"))&&(r="      ");if(r){this.updateEventStatus(t.id,!0,r);try{const{smartSave:n}=await Mr(async()=>{const{smartSave:s}=await Promise.resolve().then(()=>Am);return{smartSave:s}},void 0);await n("systemEvents",[{id:t.id,type:"monitoring",data:{...t,actionTaken:r},timestamp:Date.now()}])}catch(n){console.error(" [IntelligentMonitor]     DB:",n)}}}updateEventStatus(t,r,n){const s=this.events.find(i=>i.id===t);s&&(s.resolved=r,s.actionTaken=n,console.log(` [IntelligentMonitor]   : ${t}  ${n}`))}subscribe(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}notifyListeners(t){this.listeners.forEach(r=>r(t))}getEvents(){return[...this.events]}}const lm=new _5e,iJ=["users","emergency_users","auth_user_sessions","email_verification_tokens","password_reset_tokens","project_types","projects","workers","wells","fund_transfers","worker_attendance","suppliers","materials","material_purchases","supplier_payments","transportation_expenses","worker_transfers","worker_balances","daily_expense_summaries","worker_types","autocomplete_data","worker_misc_expenses","backup_logs","backup_settings","print_settings","project_fund_transfers","security_policies","security_policy_suggestions","security_policy_implementations","security_policy_violations","user_project_permissions","permission_audit_logs","report_templates","notification_read_states","build_deployments","notifications","ai_chat_sessions","ai_chat_messages","ai_usage_stats","well_tasks","well_task_accounts","well_expenses","well_audit_logs","material_categories"],k5e={emergency_users:"emergencyUsers",auth_user_sessions:"authUserSessions",email_verification_tokens:"emailVerificationTokens",password_reset_tokens:"passwordResetTokens",project_types:"projectTypes",fund_transfers:"fundTransfers",worker_attendance:"workerAttendance",material_purchases:"materialPurchases",supplier_payments:"supplierPayments",transportation_expenses:"transportationExpenses",worker_transfers:"workerTransfers",worker_balances:"workerBalances",daily_expense_summaries:"dailyExpenseSummaries",worker_types:"workerTypes",autocomplete_data:"autocompleteData",worker_misc_expenses:"workerMiscExpenses",backup_logs:"backupLogs",backup_settings:"backupSettings",print_settings:"printSettings",project_fund_transfers:"projectFundTransfers",security_policies:"securityPolicies",security_policy_suggestions:"securityPolicySuggestions",security_policy_implementations:"securityPolicyImplementations",security_policy_violations:"securityPolicyViolations",user_project_permissions:"userProjectPermissions",permission_audit_logs:"permissionAuditLogs",report_templates:"reportTemplates",notification_read_states:"notificationReadStates",build_deployments:"buildDeployments",ai_chat_sessions:"aiChatSessions",ai_chat_messages:"aiChatMessages",ai_usage_stats:"aiUsageStats",well_tasks:"wellTasks",well_task_accounts:"wellTaskAccounts",well_expenses:"wellExpenses",well_audit_logs:"wellAuditLogs",material_categories:"materialCategories"};function z1(e){return k5e[e]||e}const HA=5,S5e=2e3;let Fu=!1;function j5e(e){if(e?.status)return e.status;if(e?.statusCode)return e.statusCode;const t=e?.message||String(e),r=t.match(/status:\s*(\d{3})/i);return r?parseInt(r[1],10):t.includes(" ")||t.includes("duplicate")||t.includes("already exists")?409:t.includes(" ")||t.includes("validation")||t.includes("")?400:0}let ib=[],ab={isSyncing:!1,lastSync:0,pendingCount:0,isOnline:typeof navigator<"u"?navigator.onLine:!0,lastErrorType:void 0,lastErrorDetails:void 0};function B1(e){return ib.push(e),()=>{ib=ib.filter(t=>t!==e)}}function Ai(e){ab={...ab,...e},ib.forEach(t=>t(ab))}async function N5e(e,t){try{return await ij(e),await Ic(e,t),console.log(` [ForceSync] Table ${e} synced with ${t.length} records`),!0}catch(r){return console.error(` [ForceSync] Failed to sync ${e}:`,r),!1}}function ng(){return{...ab}}function C5e(e){return Math.min(3e4,S5e*Math.pow(2,e))}async function P4(){if(!localStorage.getItem("accessToken"))return console.warn(" [Sync]      "),!1;if(typeof navigator<"u"&&!navigator.onLine)return console.warn(" [Sync]      "),!1;if(Fu)return console.log(" [Sync]      "),!1;try{console.log(" [Sync]      ..."),Ai({isSyncing:!0}),console.log(" [Sync]   apiRequest  /api/sync/full-backup");const t=await np("/api/sync/full-backup","POST",void 0,12e4);if(console.log(" [Sync]  :",t?"":""),!t||typeof t=="object"&&t.code==="INVALID_TOKEN")return console.error(" [Sync]          "),!1;if(!t.success||!t.data)return console.error(" [Sync]     :",t?.error||"  ",t),!1;const{data:r}=t,n=Object.entries(r),s=n.length;let i=0,a=0;if(r.users&&Array.isArray(r.users)){i++,Ai({progress:{total:s,current:i,tableName:"users",percentage:Math.round(i/s*100)}}),await Ic("users",r.users);const u=r.users.map(c=>({id:c.id.toString(),email:c.email,password:c.password,name:`${c.firstName||""} ${c.lastName||""}`.trim(),role:c.role||"user"}));await Ic("emergencyUsers",u)}const o=5;for(let u=0;u<n.length;u+=o){const c=n.slice(u,u+o);for(const[d,h]of c)if(d!=="users"&&Array.isArray(h)){i++;const f=z1(d);Ai({progress:{total:s,current:i,tableName:f,percentage:Math.min(100,Math.round(i/s*100))}}),await Ic(f,h),a+=h.length}}return await ii("syncMetadata",{id:"lastSync",key:"lastSync",timestamp:Date.now(),version:"3.1",recordCount:a,lastSyncTime:Date.now()}),console.log(" [Sync]    !"),Ai({isSyncing:!1,lastSync:Date.now(),progress:void 0}),!0}catch(t){const r=t instanceof Error?t.message:"Unknown error";return console.error(" [Sync]    :",r),Ai({isSyncing:!1,lastError:` : ${r}`}),t instanceof Error&&t.name==="AbortError"&&console.warn(" [Sync]         "),!1}finally{Fu=!1}}async function Oc(){if(!Fu){if(!navigator.onLine){Ai({isOnline:!1});return}Fu=!0,Ai({isSyncing:!0,isOnline:!0});try{const e=await Kc();if(e.length===0){Ai({isSyncing:!1}),Fu=!1;return}console.log(` [Sync]   ${e.length} ...`);let t=0,r=0;for(const n of e){if(n.retries>=HA){console.warn(` [Sync]  ${n.id}    -   failed`),await gl(n.id,`    (${HA})`,"max_retries"),r++;continue}try{await aj(n.id);const s=Date.now(),i=JSON.stringify(n.payload),a=btoa(encodeURIComponent(i).replace(/%([0-9A-F]{2})/g,(c,d)=>String.fromCharCode(parseInt(d,16)))).substring(0,32);let o;try{o=await np(n.endpoint,n.action==="create"?"POST":n.action==="update"?"PATCH":"DELETE",{...n.payload,_metadata:{signature:a,version:n.payload.version||1,clientTimestamp:Date.now(),deviceId:localStorage.getItem("deviceId")||"web-client"}})}catch(c){const d=j5e(c),h=c?.message||c?.error||String(c);if(d===409){console.log(` [Sync]   (409): ${n.id}`),await aO(n.id,h),t++;continue}if(d===400||d===422){console.error(` [Sync]   (${d}): ${n.id}`),await gl(n.id,h,"validation"),await Na({queueItemId:n.id,action:n.action,endpoint:n.endpoint,status:"failed",duration:Date.now()-s,errorMessage:h,errorCode:String(d),retryCount:n.retries+1}),r++;continue}await gl(n.id,h,"network"),r++,lm.logEvent({type:"sync",severity:n.retries>2?"high":"medium",message:`  : ${h}`,metadata:{retryCount:n.retries+1,itemId:n.id}});const f=C5e(n.retries);await new Promise(p=>setTimeout(p,f));continue}const u=Date.now()-s;if(o&&o.success!==!1){await Yv(n.id);const c=n.payload.id,d=n.endpoint.split("/")[2];if(d&&c)try{const f=(await _i(d)).find(p=>(p.id||p.key)===c);f&&(f.synced=!0,f.pendingSync=!1,f.isLocal=!1,await Ic(d,[f]))}catch(h){console.warn(` [Sync]      ${d}:`,h)}await Na({queueItemId:n.id,action:n.action,endpoint:n.endpoint,status:"success",duration:u,retryCount:n.retries}),t++,Ai({latency:u,pendingCount:e.length-t-r})}else{const c=o?.message||o?.error||"  ";await gl(n.id,c,"server"),r++}}catch(s){const i=s instanceof Error?s.message:"  ";await gl(n.id,i,"unknown"),r++,lm.logEvent({type:"sync",severity:"high",message:`  : ${i}`,metadata:{itemId:n.id}})}}Ai({lastSync:Date.now(),isSyncing:!1,syncedCount:t,failedCount:r})}catch(e){console.error(" [Sync]   :",e),Ai({isSyncing:!1}),lm.logEvent({type:"error",severity:"high",message:`    : ${e instanceof Error?e.message:"  "}`})}finally{Fu=!1}}}function aJ(){window.addEventListener("online",()=>{Ai({isOnline:!0}),P4(),Oc()}),window.addEventListener("offline",()=>{Ai({isOnline:!1})}),(async()=>{console.log(" [Sync]    ..."),await P4(),await Oc()})(),setInterval(()=>{navigator.onLine&&Oc()},3e4)}function T5e(){}function ob(){Oc().catch(e=>console.error(" [Sync]    :",e))}async function oJ(){try{console.log(" [Sync]       ...");const e=await np("/api/sync/full-backup","POST",void 0,6e4);if(!e||!e.success||!e.data)throw new Error("Backup failed on server");const{data:t}=e;let r=0;for(const[n,s]of Object.entries(t))if(Array.isArray(s)){const i=z1(n);await Ic(i,s),r+=s.length}return await ii("syncMetadata",{id:"lastSync",key:"lastSync",timestamp:Date.now(),version:"3.0",recordCount:r}),{recordCount:r}}catch(e){throw console.error(" [Sync]     :",e),e}}function E5e(){Fu||Oc().catch(e=>{console.error(" [Sync]   :",e)})}async function A5e(e,t){try{console.log(" [Sync]   ...");const r=Date.now(),n=await np("/api/sync/instant-sync","POST",{tables:e||[],lastSyncTime:t},6e4);if(!n||!n.success||!n.data)throw new Error("Instant sync failed");const{data:s}=n;let i=0;for(const[o,u]of Object.entries(s))if(Array.isArray(u)&&u.length>0){const c=z1(o);await Ic(c,u),i+=u.length}const a=Date.now()-r;return console.log(` [Sync]   : ${i}   ${a}ms`),Ai({lastSync:Date.now()}),{success:!0,totalRecords:i,duration:a}}catch(r){return console.error(" [Sync]    :",r),{success:!1,totalRecords:0,duration:0}}}async function lJ(){try{console.log(" [Sync]    ...");const e={};for(const r of iJ)try{const n=await _i(r);e[r]=n?.length||0}catch{e[r]=0}const t=await np("/api/sync/verify-sync","POST",{clientCounts:e},3e4);if(!t||!t.success)throw new Error("Verify sync failed");return console.log(` [Sync]  : ${t.isMatched?" ":`${t.differences?.length||0} `}`),{isMatched:t.isMatched,differences:t.differences||[],summary:t.summary||{totalServerRecords:0,totalClientRecords:0,matchedTables:0,mismatchedTables:0}}}catch(e){return console.error(" [Sync]   :",e),{isMatched:!1,differences:[],summary:{totalServerRecords:0,totalClientRecords:0,matchedTables:0,mismatchedTables:0}}}}async function P5e(){try{const e=await np("/api/sync/stats","GET",void 0,3e4);return!e||!e.success?{stats:{},totalRecords:0}:{stats:e.stats||{},totalRecords:e.summary?.totalRecords||0}}catch(e){return console.error(" [Sync]    :",e),{stats:{},totalRecords:0}}}const cJ=Object.freeze(Object.defineProperty({__proto__:null,ALL_SYNC_TABLES:iJ,forceSyncTable:N5e,getSyncState:ng,getSyncStats:P5e,initSyncListener:aJ,loadFullBackup:oJ,performInitialDataPull:P4,performInstantSync:A5e,serverTableToIDB:z1,startBackgroundSync:E5e,stopSyncListener:T5e,subscribeSyncState:B1,syncOfflineData:Oc,triggerSync:ob,verifySyncStatus:lJ},Symbol.toStringTag,{value:"Module"})),I5e=({income:e,expenses:t,balance:r,formatCurrencyFn:n})=>l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 dark:text-green-400 mb-1",children:[l.jsx(KO,{className:"h-3 w-3"}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),l.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:n(e)})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-2 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 text-red-600 dark:text-red-400 mb-1",children:[l.jsx(pj,{className:"h-3 w-3"}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),l.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:n(t)})]}),l.jsxs("div",{className:`${r>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-orange-50 dark:bg-orange-900/20"} rounded-lg p-2 text-center`,children:[l.jsxs("div",{className:`flex items-center justify-center gap-1 ${r>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"} mb-1`,children:[l.jsx(md,{className:"h-3 w-3"}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),l.jsx("p",{className:`text-xs font-bold ${r>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:n(r)})]})]});function D5e(){const{toast:e}=zr(),t=Yn(),{user:r}=ql(),n=r?.role==="admin",[s,i]=T.useState(null),[a,o]=T.useState(!1),[u,c]=T.useState(!1),[d,h]=T.useState(null),f=T.useRef(null),p=T.useRef(null),{setFloatingAction:g}=vo(),[y,m]=T.useState(""),[v,b]=T.useState({status:"all",engineerId:"all"}),[x,j]=T.useState(!1),[C,R]=T.useState(null),[L,A]=T.useState(!1),[P,$]=T.useState(null),[V,U]=T.useState(null),[E,I]=T.useState(!1),N=T.useCallback((he,de)=>{b(Pe=>({...Pe,[he]:de}))},[]),w=T.useCallback(()=>{m(""),b({status:"all",engineerId:"all"}),e({title:"  ",description:"   "})},[e]);T.useEffect(()=>(g(()=>o(!0),"  "),()=>g(null)),[g]);const{data:_=[],isLoading:k,refetch:S,error:D}=st({queryKey:fe.projectsWithStats,staleTime:6e4,gcTime:3e5,refetchOnWindowFocus:!1,queryFn:async()=>{try{console.log(" [Projects]    ...");const he=await Ie("/api/projects/with-stats","GET");let de=[];return he&&typeof he=="object"&&(he.success!==void 0&&he.data!==void 0?de=Array.isArray(he.data)?he.data:[]:Array.isArray(he)?de=he:he.id?de=[he]:he.data&&(de=Array.isArray(he.data)?he.data:[])),de}catch(he){return console.error(" [Projects]    :",he),[]}},refetchInterval:6e4}),O=Array.isArray(_)?_:[],B=O,{totals:q,allProjects:H,isLoading:Q,refetch:M}=rp({projectId:"all",enabled:!0}),K=T.useMemo(()=>{const he=new Map;return H?.projects&&H.projects.forEach(de=>{he.set(de.projectId,de)}),he},[H?.projects]),z=T.useCallback(he=>{const de=K.get(he);return de?{totalIncome:de.income?.totalIncome||0,totalExpenses:de.expenses?.totalAllExpenses||0,cashExpenses:de.expenses?.totalCashExpenses||0,currentBalance:de.totalBalance||0,totalWorkers:de.workers?.totalWorkers||0,activeWorkers:de.workers?.activeWorkers||0,completedDays:de.workers?.completedDays||0,materialPurchases:de.expenses?.materialExpenses||0,materialExpensesCredit:de.expenses?.materialExpensesCredit||0,totalTransportation:de.expenses?.transportExpenses||0,totalMiscExpenses:de.expenses?.miscExpenses||0,totalWorkerWages:de.expenses?.workerWages||0,totalFundTransfers:de.income?.fundTransfers||0,totalWorkerTransfers:de.expenses?.workerTransfers||0,incomingProjectTransfers:de.income?.incomingProjectTransfers||0,outgoingProjectTransfers:de.expenses?.outgoingProjectTransfers||0}:null},[K]),F=T.useCallback(async()=>{j(!0);try{await Promise.all([S(),M()]),e({title:" ",description:"   "})}catch{e({title:"",description:"  ",variant:"destructive"})}finally{j(!1)}},[S,e]),{data:W={users:[]}}=st({queryKey:fe.usersList,queryFn:async()=>{try{return await Ie("/api/users/list","GET")||{users:[]}}catch(he){return console.error(" [Projects]    :",he),{users:[]}}},staleTime:6e4}),J=T.useMemo(()=>Array.isArray(W?.users)?W.users:[],[W]),{data:le=[],isLoading:ne}=st({queryKey:fe.projectTypes,queryFn:async()=>{try{const he=await Ie("/api/project-types","GET");return he?.success&&Array.isArray(he.data)?he.data:[]}catch(he){return console.error(" [Projects]     :",he),[]}},staleTime:6e4}),ue=Rl({resolver:$l(qA),defaultValues:{name:"",status:"active",engineerId:null,projectTypeId:null}}),Z=Rl({resolver:$l(qA),defaultValues:{name:"",status:"active",engineerId:null,projectTypeId:null}}),te=async(he,de)=>{if(!(!de||typeof de!="string"||!de.trim()))try{await Ie("/api/autocomplete","POST",{category:he,value:de.trim()})}catch(Pe){console.log(`Failed to save autocomplete value for ${he}:`,Pe)}},X=ht({mutationFn:he=>Ie("/api/projects","POST",he),onSuccess:async(he,de)=>{await te("projectNames",de.name),t.refetchQueries({queryKey:fe.projects}),t.refetchQueries({queryKey:fe.projectsWithStats}),ob(),e({title:"   "}),o(!1),ue.reset(),h(null),f.current&&(f.current.value="")},onError:he=>{e({title:"   ",description:he.message,variant:"destructive"})}}),ae=ht({mutationFn:({id:he,data:de})=>Ie(`/api/projects/${he}`,"PATCH",de),onSuccess:async(he,de)=>{await te("projectNames",de.data.name),t.refetchQueries({queryKey:fe.projects}),t.refetchQueries({queryKey:fe.projectsWithStats}),ob(),e({title:"   "}),c(!1),i(null),Z.reset(),p.current&&(p.current.value="")},onError:he=>{e({title:"   ",description:he.message,variant:"destructive"})}}),re=ht({mutationFn:({id:he,confirmDeletion:de})=>Ie(`/api/projects/${he}`,"DELETE",{confirmDeletion:de}),onSuccess:()=>{ob(),t.refetchQueries({queryKey:fe.projects}),t.refetchQueries({queryKey:fe.projectsWithStats}),e({title:"   "}),A(!1),$(null),U(null)},onError:he=>{e({title:"   ",description:he.message,variant:"destructive"})}}),ee=async he=>{I(!0);try{const de=await Ie(`/api/projects/${he}/deletion-stats`,"GET");de.success&&de.data&&U({stats:de.data.stats,totalLinkedRecords:de.data.totalLinkedRecords,canDelete:de.data.canDelete,deleteBlockReason:de.data.deleteBlockReason||""})}catch(de){e({title:"    ",description:de.message,variant:"destructive"}),A(!1)}finally{I(!1)}},G=he=>{$(he),A(!0),ee(he.id)},Y=ht({mutationFn:({id:he,data:de})=>Ie(`/api/projects/${he}`,"PATCH",de),onMutate:async({id:he,data:de})=>{await t.cancelQueries({queryKey:fe.projectsWithStats});const Pe=t.getQueryData(fe.projectsWithStats);return Array.isArray(Pe)&&t.setQueryData(fe.projectsWithStats,Pe.map(Oe=>Oe.id===he?{...Oe,status:de.status}:Oe)),{previousData:Pe}},onSuccess:()=>{e({title:" ",description:"    ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(he,de,Pe)=>{Pe?.previousData&&t.setQueryData(fe.projectsWithStats,Pe.previousData),e({title:"",description:he.message||"     ",variant:"destructive"})},onSettled:()=>{R(null),t.invalidateQueries({queryKey:fe.projectsWithStats}),t.invalidateQueries({queryKey:fe.projects})}}),ie=he=>{R(he.id);const de=he.status==="active"?"paused":"active";Y.mutate({id:he.id,data:{status:de}})},ce=he=>{X.mutate(he)},me=he=>{if(!s){e({title:"",description:"    ",variant:"destructive"});return}console.log(" [Projects]  :",{id:s.id,name:s.name,newData:he}),ae.mutate({id:s.id,data:he})},xe=(he,de=!1)=>{re.mutate({id:he,confirmDeletion:de})},Ce=he=>{i(he),Z.reset({name:he.name,status:he.status,engineerId:he.engineerId||null,projectTypeId:he.projectTypeId||null}),c(!0)},Ae=he=>{switch(he){case"active":return"";case"completed":return"";case"paused":return"";default:return he}};T.useEffect(()=>(g(()=>o(!0),"  "),()=>g(null)),[g]);const $e=T.useMemo(()=>{if(console.log(" [Projects]    ExpenseLedgerService "),q){const he=B.filter(de=>de.status==="active").length;return{totalProjects:B.length,activeProjects:he,totalIncome:q.totalIncome||0,totalExpenses:q.totalAllExpenses||q.totalExpenses||0,totalWorkers:q.totalWorkers||0,materialPurchases:0}}return{totalProjects:B.length,activeProjects:B.filter(he=>he.status==="active").length,totalIncome:0,totalExpenses:0,totalWorkers:0,materialPurchases:0}},[q,B]),Le=q?.totalBalance??$e.totalIncome-$e.totalExpenses,rt=T.useMemo(()=>B.filter(he=>{if(y&&!he.name.toLowerCase().includes(y.toLowerCase())||v.status&&v.status!=="all"&&he.status!==v.status)return!1;if(v.engineerId&&v.engineerId!=="all"){if(v.engineerId==="none"){if(he.engineerId)return!1}else if(he.engineerId!==v.engineerId)return!1}return!0}),[B,y,v]),qe=T.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"totalProjects",label:" ",value:$e.totalProjects,icon:Un,color:"blue"},{key:"activeProjects",label:" ",value:$e.activeProjects,icon:us,color:"blue",showDot:!0,dotColor:"bg-green-500"},{key:"currentBalance",label:" ",value:ze(Le),icon:md,color:Le>=0?"blue":"red"}]},{columns:3,gap:"sm",items:[{key:"totalIncome",label:" ",value:ze($e.totalIncome),icon:un,color:"green"},{key:"totalWorkers",label:" ",subLabel:"  ",value:$e.totalWorkers,icon:yn,color:"amber"},{key:"materialPurchases",label:" ",subLabel:" ",value:$e.materialPurchases,icon:Qr,color:"gray"}]}],[$e,Le]),Ve=T.useMemo(()=>{const he=[{key:"status",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"active",label:""},{value:"paused",label:""},{value:"completed",label:""}]}];return n&&he.push({key:"engineerId",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"none",label:" "},...J.map(de=>({value:de.id,label:de.name}))]}),he},[J,n]);return k?l.jsx(x5e,{}):D?(console.error(" [Projects]    :",D),l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center space-y-1",children:[l.jsx("div",{className:"text-6xl",children:""}),l.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"   "}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    .    ."}),l.jsxs(_e,{onClick:()=>S(),className:"gap-2",children:[l.jsx(Hn,{className:"h-4 w-4"})," "]})]})})):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2 p-2",children:[l.jsx(za,{hideHeader:!0,title:"",statsRows:qe,searchValue:y,onSearchChange:m,searchPlaceholder:"  ...",filters:Ve,filterValues:v,onFilterChange:N,onReset:w,onRefresh:F,isRefreshing:x,resultsSummary:y||v.status!=="all"?{totalCount:O.length,filteredCount:rt.length,totalLabel:"",filteredLabel:"",totalValue:rt.reduce((he,de)=>{const Pe=z(de.id);return he+(Pe?.currentBalance||0)},0),totalValueLabel:"",unit:"."}:void 0}),l.jsx(xs,{open:a,onOpenChange:o,children:l.jsxs(ls,{children:[l.jsxs(ws,{children:[l.jsx(Rs,{children:"  "}),l.jsx(Sl,{children:"   "})]}),l.jsx(Fl,{...ue,children:l.jsxs("form",{onSubmit:ue.handleSubmit(ce),className:"space-y-1",children:[l.jsx(Ar,{control:ue.control,name:"name",render:({field:he})=>l.jsxs(Tr,{children:[l.jsx(Sn,{children:" "}),l.jsx(Pr,{children:l.jsx(is,{value:he.value,onChange:he.onChange,category:"projectNames",placeholder:" "})}),l.jsx(ln,{})]})}),n&&l.jsx(Ar,{control:ue.control,name:"engineerId",render:({field:he})=>{const de=[{value:"none",label:" "},...J.map(Pe=>({value:Pe.id,label:`${Pe.name} (${Pe.role})`}))];return l.jsxs(Tr,{children:[l.jsx(Sn,{children:" / "}),l.jsx(Pr,{children:l.jsx(Fn,{value:he.value||"none",onValueChange:Pe=>he.onChange(Pe==="none"?null:Pe),options:de,placeholder:"  ",searchPlaceholder:"  ...",emptyText:"  "})}),l.jsx(ln,{})]})}}),l.jsx(Ar,{control:ue.control,name:"projectTypeId",render:({field:he})=>l.jsxs(Tr,{children:[l.jsx(Sn,{children:" "}),l.jsx(Pr,{children:l.jsx(k4,{value:he.value?.toString()||"",onValueChange:de=>he.onChange(de?parseInt(de):null),projectTypes:le,placeholder:ne?" ...":"  ...",disabled:ne})}),l.jsx(ln,{})]})}),l.jsx(Ar,{control:ue.control,name:"status",render:({field:he})=>l.jsxs(Tr,{children:[l.jsx(Sn,{children:" "}),l.jsxs(En,{onValueChange:he.onChange,defaultValue:he.value,children:[l.jsx(Pr,{children:l.jsx(bn,{children:l.jsx(An,{placeholder:"  "})})}),l.jsxs(vn,{children:[l.jsx(vt,{value:"active",children:""}),l.jsx(vt,{value:"paused",children:""}),l.jsx(vt,{value:"completed",children:""})]})]}),l.jsx(ln,{})]})}),l.jsx(fv,{children:l.jsx(_e,{type:"submit",disabled:X.isPending,children:X.isPending?" ...":" "})})]})})]})}),l.jsx(xs,{open:u,onOpenChange:c,children:l.jsxs(ls,{children:[l.jsxs(ws,{children:[l.jsx(Rs,{children:" "}),l.jsx(Sl,{children:"  "})]}),l.jsx(Fl,{...Z,children:l.jsxs("form",{onSubmit:Z.handleSubmit(me),className:"space-y-1",children:[l.jsx(Ar,{control:Z.control,name:"name",render:({field:he})=>l.jsxs(Tr,{children:[l.jsx(Sn,{children:" "}),l.jsx(Pr,{children:l.jsx(is,{value:he.value,onChange:he.onChange,category:"projectNames",placeholder:" "})}),l.jsx(ln,{})]})}),n&&l.jsx(Ar,{control:Z.control,name:"engineerId",render:({field:he})=>{const de=[{value:"none",label:" "},...J.map(Pe=>({value:Pe.id,label:`${Pe.name} (${Pe.role})`}))];return l.jsxs(Tr,{children:[l.jsx(Sn,{children:" / "}),l.jsx(Pr,{children:l.jsx(Fn,{value:he.value||"none",onValueChange:Pe=>he.onChange(Pe==="none"?null:Pe),options:de,placeholder:"  ",searchPlaceholder:"  ...",emptyText:"  "})}),l.jsx(ln,{})]})}}),l.jsx(Ar,{control:Z.control,name:"projectTypeId",render:({field:he})=>l.jsxs(Tr,{children:[l.jsx(Sn,{children:" "}),l.jsx(Pr,{children:l.jsx(k4,{value:he.value?.toString()||"",onValueChange:de=>he.onChange(de?parseInt(de):null),projectTypes:le,placeholder:ne?" ...":"  ...",disabled:ne})}),l.jsx(ln,{})]})}),l.jsx(Ar,{control:Z.control,name:"status",render:({field:he})=>l.jsxs(Tr,{children:[l.jsx(Sn,{children:" "}),l.jsxs(En,{onValueChange:he.onChange,defaultValue:he.value,children:[l.jsx(Pr,{children:l.jsx(bn,{children:l.jsx(An,{placeholder:"  "})})}),l.jsxs(vn,{children:[l.jsx(vt,{value:"active",children:""}),l.jsx(vt,{value:"paused",children:""}),l.jsx(vt,{value:"completed",children:""})]})]}),l.jsx(ln,{})]})}),l.jsxs(fv,{children:[l.jsx(_e,{type:"button",variant:"outline",onClick:()=>c(!1),disabled:ae.isPending,children:""}),l.jsx(_e,{type:"submit",disabled:ae.isPending||!s,className:"gap-2",children:ae.isPending?"  ...":"  "})]})]})})]})}),rt.length===0?l.jsxs(Dt,{className:"p-12 text-center",children:[l.jsx(Un,{className:"h-16 w-16 mx-auto text-muted-foreground"}),l.jsx("h3",{className:"text-xl font-semibold",children:O.length===0?"  ":"  "}),l.jsx("p",{className:"text-muted-foreground",children:O.length===0?"   ":"     "}),O.length===0&&l.jsxs(_e,{onClick:()=>o(!0),className:"gap-2",children:[l.jsx(Hn,{className:"h-4 w-4"}),"  "]})]}):l.jsx(_s,{columns:4,children:rt.map(he=>{const de=z(he.id),Pe=de?.totalIncome||0,Oe=de?.totalExpenses||0,yt=de?.currentBalance||0;de?.totalWorkers,de?.materialPurchases,de?.completedDays;const Mt=he.status==="active"?"success":he.status==="completed"?"default":"destructive";return l.jsx(Hr,{title:he.name,subtitle:Ga(he.createdAt),titleIcon:Un,headerColor:he.status==="active"?"#22c55e":he.status==="completed"?"#3b82f6":"#ef4444",badges:[{label:Ae(he.status),variant:Mt}],fields:[{label:"",value:ze(de?.materialPurchases||0),icon:Qr,color:"warning"},{label:"",value:ze(de?.totalTransportation||0),icon:Io,color:"info"},{label:"",value:ze(de?.totalMiscExpenses||0),icon:md,color:"default"},{label:" ",value:ze(de?.totalWorkerWages||0),icon:yn,color:"success"},{label:" ()",value:ze(de?.outgoingProjectTransfers||0),icon:KO,color:"red"},{label:" ()",value:ze(de?.incomingProjectTransfers||0),icon:pj,color:"success"},{label:" ",value:ze(de?.totalWorkerTransfers||0),icon:Jt,color:"orange"},{label:"",value:he.engineerId?J.find(it=>it.id===he.engineerId)?.name||" ":" ",icon:Nle,color:he.engineerId?"info":"muted"}],actions:[{icon:Gc,label:"",onClick:()=>Ce(he),color:"blue"},{icon:JO,label:he.status==="active"?"":"",onClick:()=>ie(he),disabled:C===he.id,color:he.status==="active"?"yellow":"green"},{icon:Nn,label:"",onClick:()=>G(he),color:"red"}],footer:l.jsx(I5e,{income:Pe,expenses:Oe,balance:yt,formatCurrencyFn:ze}),compact:!0},he.id)})})]}),l.jsx(m5e,{open:L,onOpenChange:A,children:l.jsxs(YY,{className:"max-w-md",children:[l.jsxs(JY,{children:[l.jsx(tJ,{className:"text-right",children:"  "}),l.jsx(rJ,{className:"text-right space-y-3",children:E?l.jsx("div",{className:"flex items-center justify-center py-4",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):V?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"font-medium text-base",children:['      "',P?.name,'"']}),V.canDelete?V.totalLinkedRecords>0?l.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3 space-y-2",children:[l.jsxs("p",{className:"text-orange-700 dark:text-orange-300 font-medium",children:["  ",V.totalLinkedRecords,"  :"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-1 text-sm text-orange-600 dark:text-orange-400",children:[V.stats.fundTransfers>0&&l.jsxs("div",{children:[" : ",V.stats.fundTransfers]}),V.stats.workerAttendance>0&&l.jsxs("div",{children:[" : ",V.stats.workerAttendance]}),V.stats.materialPurchases>0&&l.jsxs("div",{children:[" : ",V.stats.materialPurchases]}),V.stats.transportationExpenses>0&&l.jsxs("div",{children:[" : ",V.stats.transportationExpenses]}),V.stats.workerTransfers>0&&l.jsxs("div",{children:[" : ",V.stats.workerTransfers]}),V.stats.workerMiscExpenses>0&&l.jsxs("div",{children:[": ",V.stats.workerMiscExpenses]}),V.stats.dailySummaries>0&&l.jsxs("div",{children:[" : ",V.stats.dailySummaries]}),(V.stats.projectTransfersFrom>0||V.stats.projectTransfersTo>0)&&l.jsxs("div",{children:["  : ",(V.stats.projectTransfersFrom||0)+(V.stats.projectTransfersTo||0)]}),V.stats.workerBalances>0&&l.jsxs("div",{children:[" : ",V.stats.workerBalances]}),V.stats.supplierPayments>0&&l.jsxs("div",{children:[" : ",V.stats.supplierPayments]})]}),l.jsx("p",{className:"text-red-600 dark:text-red-400 font-bold text-sm pt-1",children:"     !"})]}):l.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 text-green-700 dark:text-green-300",children:"     .   ."}):l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 text-red-700 dark:text-red-300",children:V.deleteBlockReason})]}):l.jsx("p",{children:"  ..."})})]}),l.jsxs(eJ,{className:"flex-row-reverse gap-2",children:[l.jsx(sJ,{children:""}),V?.canDelete&&l.jsx(nJ,{onClick:()=>{P&&xe(P.id,!0)},className:"bg-red-600 hover:bg-red-700 text-white",disabled:re.isPending,children:re.isPending?" ...":" "})]})]})})]})}function M5e({onAddWorker:e,onAddProject:t}){const[,r]=fs(),n=[{id:"add-worker",label:" ",icon:Cle,action:e,gradient:"from-teal-500 to-teal-600",iconColor:"text-white"},{id:"add-project",label:" ",icon:ile,action:t,gradient:"from-violet-500 to-violet-600",iconColor:"text-white"},{id:"project-fund-custody",label:" ",icon:Jt,route:"/project-fund-custody",gradient:"from-blue-500 to-blue-600",iconColor:"text-white"},{id:"project-transfers",label:" ",icon:Dc,route:"/project-transfers",gradient:"from-purple-500 to-purple-600",iconColor:"text-white"},{id:"supplier-accounts",label:" ",icon:Un,route:"/supplier-accounts",gradient:"from-amber-500 to-amber-600",iconColor:"text-white"},{id:"equipment",label:" ",icon:Xi,route:"/equipment",gradient:"from-slate-500 to-slate-600",iconColor:"text-white"},{id:"worker-accounts",label:" ",icon:Jt,route:"/worker-accounts",gradient:"from-cyan-500 to-cyan-600",iconColor:"text-white"},{id:"reports",label:"",icon:Ek,route:"/reports",gradient:"from-indigo-500 to-indigo-600",iconColor:"text-white"},{id:"ai-chat",label:" ",icon:Koe,route:"/ai-chat",gradient:"from-pink-500 to-pink-600",iconColor:"text-white"}],s=i=>{i.action?i.action():i.route&&r(i.route)};return l.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",dir:"rtl",children:n.map(i=>{const a=i.icon;return l.jsxs("button",{onClick:()=>s(i),className:we("flex flex-col items-center justify-center","p-3 sm:p-4 rounded-xl","bg-gradient-to-br",i.gradient,"shadow-md hover:shadow-lg","transform hover:scale-[1.02] active:scale-[0.98]","transition-all duration-200 ease-out","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","min-h-[80px] sm:min-h-[90px]"),children:[l.jsx(a,{className:we("h-6 w-6 sm:h-7 sm:w-7 mb-1.5 sm:mb-2",i.iconColor)}),l.jsx("span",{className:we("text-[11px] sm:text-xs font-medium text-center leading-tight",i.iconColor),children:i.label})]},i.id)})})}const R5e=e=>({transfer:"",expense:"",income:"",attendance:"",material:"",transport:"",payment:""})[e]||e;async function $5e(e,t){const r=(await Mr(async()=>{const{default:R}=await Promise.resolve().then(()=>EX);return{default:R}},void 0)).default,n=new r.Workbook;n.creator=eo.name,n.created=new Date;const s=n.addWorksheet(" ",{views:[{rightToLeft:!0}],pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0,margins:{left:.3,right:.3,top:.5,bottom:.5,header:.3,footer:.3}}});let i=1;s.mergeCells(`A${i}:G${i}`);const a=s.getCell(`A${i}`);a.value=eo.name,a.font={bold:!0,size:16,color:{argb:"FFFFFFFF"}},a.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F5A96"}},a.alignment={horizontal:"center",vertical:"middle"},s.getRow(i).height=30,i++,s.mergeCells(`A${i}:G${i}`);const o=s.getCell(`A${i}`);o.value=eo.subtitle,o.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},o.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E75B6"}},o.alignment={horizontal:"center",vertical:"middle"},s.getRow(i).height=25,i++,s.mergeCells(`A${i}:G${i}`);const u=s.getCell(`A${i}`);u.value=`  - ${new Date().toLocaleDateString("en-GB")}`,u.font={bold:!0,size:14,color:{argb:"FF1F5A96"}},u.alignment={horizontal:"center",vertical:"middle"},s.getRow(i).height=28,i++,i++;const c=["#"," ","","","",""," "],d=s.getRow(i);c.forEach((R,L)=>{const A=d.getCell(L+1);A.value=R,A.font=ar.tableHeader.font,A.fill=ar.tableHeader.fill,A.alignment=ar.tableHeader.alignment,A.border=ar.tableHeader.border}),d.height=28,i++,s.getColumn(1).width=6,s.getColumn(2).width=15,s.getColumn(3).width=18,s.getColumn(4).width=20,s.getColumn(5).width=18,s.getColumn(6).width=30,s.getColumn(7).width=22;let h=0;e.forEach((R,L)=>{const A=s.getRow(i),P=L%2===0?ar.tableCell:ar.tableCellAlt,$=new Date(R.createdAt),V=$.toLocaleDateString("en-GB"),U=$.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!0});[L+1,R.actionLabel||R5e(R.actionType),R.userName||"",R.projectName||"",R.amount?t(R.amount):"-",R.description||"-",`${V} ${U}`].forEach((I,N)=>{const w=A.getCell(N+1);w.value=I,w.font=P.font,P.fill&&(w.fill=P.fill),w.alignment=P.alignment,w.border=P.border}),A.height=24,R.amount&&(h+=R.amount),i++}),i++;const f=s.getRow(i);s.mergeCells(`A${i}:D${i}`);const p=f.getCell(1);p.value=` : ${e.length}`,p.font=ar.summaryRow.font,p.fill=ar.summaryRow.fill,p.alignment=ar.summaryRow.alignment,p.border=ar.summaryRow.border;const g=f.getCell(5);g.value=t(h),g.font=ar.greenRow.font,g.fill=ar.greenRow.fill,g.alignment=ar.greenRow.alignment,g.border=ar.greenRow.border,s.mergeCells(`F${i}:G${i}`);const y=f.getCell(6);y.value=` : ${new Date().toLocaleDateString("en-GB")} ${new Date().toLocaleTimeString("en-GB")}`,y.font={size:10,italic:!0},y.alignment={horizontal:"center",vertical:"middle"},f.height=26,i+=2;const m=s.getRow(i);s.mergeCells(`A${i}:C${i}`);const v=m.getCell(1);v.value="  : ________________",v.font=ar.signatureBox.font,v.alignment=ar.signatureBox.alignment,v.border=ar.signatureBox.border,s.mergeCells(`E${i}:G${i}`);const b=m.getCell(5);b.value="  : ________________",b.font=ar.signatureBox.font,b.alignment=ar.signatureBox.alignment,b.border=ar.signatureBox.border,m.height=35,i+=2,s.mergeCells(`A${i}:G${i}`);const x=s.getCell(`A${i}`);x.value=`${eo.name} | ${eo.address} |     `,x.font=ar.footer.font,x.alignment=ar.footer.alignment;const j=await n.xlsx.writeBuffer(),C=`__${new Date().toISOString().split("T")[0]}.xlsx`;return await ep(j,C)}const O5e=e=>{switch(e){case"transfer":return Pm;case"expense":return ri;case"income":return un;case"attendance":return yn;case"material":return Qr;case"transport":return Js;case"payment":return md;default:return us}},F5e=e=>{switch(e){case"transfer":return"default";case"expense":return"destructive";case"income":return"default";default:return"secondary"}},L5e=e=>{switch(e){case"transfer":return"bg-purple-500";case"expense":return"bg-red-500";case"income":return"bg-green-500";case"attendance":return"bg-blue-500";case"material":return"bg-amber-500";case"transport":return"bg-cyan-500";case"payment":return"bg-emerald-500";default:return"bg-slate-500"}},uJ=T.memo(({activity:e,formatCurrency:t})=>{const r=O5e(e.actionType),n=L5e(e.actionType);return l.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 p-2.5 min-w-[200px] max-w-[240px] hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200 cursor-pointer group",title:e.description||"",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:`${n} p-1.5 rounded-lg flex-shrink-0`,children:l.jsx(r,{className:"h-3.5 w-3.5 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(ft,{variant:F5e(e.actionType),className:"text-[9px] px-1.5 py-0 h-4 font-medium",children:e.actionLabel||e.actionType}),e.amount&&e.amount>0&&l.jsx("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 mr-auto",children:t(e.amount)})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-0.5 truncate max-w-[70px]",children:[l.jsx(Rd,{className:"h-2.5 w-2.5 text-blue-500 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:e.userName||""})]}),l.jsxs("div",{className:"flex items-center gap-0.5 truncate max-w-[70px]",children:[l.jsx(Un,{className:"h-2.5 w-2.5 text-emerald-500 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:e.projectName||""})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-0.5",children:[l.jsx(Qn,{className:"h-2.5 w-2.5 text-orange-500 flex-shrink-0"}),l.jsx("span",{children:Ga(e.createdAt)})]}),l.jsxs("div",{className:"flex items-center gap-0.5",dir:"ltr",children:[l.jsx(mn,{className:"h-2.5 w-2.5 text-rose-500 flex-shrink-0"}),l.jsx("span",{children:new Date(e.createdAt).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]})]})]})})});uJ.displayName="ActivityChip";const dJ=T.memo(({activities:e,formatCurrency:t})=>{const[r,n]=T.useState(!1),s=async()=>{if(!(r||!e||e.length===0)){n(!0);try{await $5e(e,t)}catch(i){console.error("  :",i)}finally{n(!1)}}};return!e||e.length===0?null:l.jsxs("div",{className:"bg-gradient-to-l from-blue-50/90 via-indigo-50/80 to-purple-50/90 dark:from-blue-950/30 dark:via-indigo-950/25 dark:to-purple-950/30 rounded-xl border border-blue-200/60 dark:border-blue-800/40 p-3 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[l.jsx("div",{className:"bg-blue-500 p-1 rounded-lg",children:l.jsx(us,{className:"h-3.5 w-3.5 text-white"})}),l.jsx("h3",{className:"text-sm font-bold text-blue-700 dark:text-blue-400",children:" "}),l.jsx(ft,{variant:"secondary",className:"h-5 text-[10px] px-2 font-medium",children:e.length}),l.jsxs(_e,{variant:"outline",size:"sm",onClick:s,disabled:r,className:"h-6 px-2 text-[10px] gap-1 bg-green-50 hover:bg-green-100 text-green-700 border-green-300 dark:bg-green-950 dark:hover:bg-green-900 dark:text-green-400 dark:border-green-700",children:[r?l.jsx(Dr,{className:"h-3 w-3 animate-spin"}):l.jsx(Ag,{className:"h-3 w-3"})," Excel"]}),l.jsx("div",{className:"flex-1"}),l.jsx("span",{className:"text-[10px] text-muted-foreground",children:"  "})]}),l.jsxs(bo,{className:"w-full",dir:"rtl",children:[l.jsx("div",{className:"flex gap-2 pb-2",style:{direction:"rtl"},children:e.slice(0,15).map((i,a)=>l.jsx(uJ,{activity:i,formatCurrency:t},i.id||a))}),l.jsx(R5,{orientation:"horizontal",className:"h-1.5"})]})]})});dJ.displayName="RecentActivitiesStrip";function z5e({size:e="md",className:t="",variant:r="default"}){const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return r==="professional"?l.jsxs(Kr.div,{className:`relative ${n[e]} ${t}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary/30"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary border-t-transparent"}),l.jsx(Kr.div,{className:"absolute inset-1 rounded-full bg-gradient-to-br from-primary to-secondary opacity-20",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}):r==="minimal"?l.jsx(Kr.div,{className:`${n[e]} border-2 border-muted border-t-primary rounded-full ${t}`,animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}):l.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-primary ${n[e]} ${t}`})}function B5e(){return l.jsx("div",{className:"flex items-center justify-center p-8",children:l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx(z5e,{size:"lg"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:" ..."})]})})}function U5e(e){if(e)return new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0,0)}function _2({value:e,onChange:t,placeholder:r=" ",disabled:n=!1,className:s,showClearButton:i=!0,dateFormat:a="dd MMMM yyyy",minDate:o,maxDate:u}){const[c,d]=T.useState(!1),h=T.useCallback(g=>{if(!g)return;const y=U5e(g);t(y),setTimeout(()=>d(!1),10)},[t]),f=T.useCallback(g=>{g.preventDefault(),g.stopPropagation(),t(void 0)},[t]),p=T.useMemo(()=>{const g=[];return o&&g.push({before:o}),u&&g.push({after:u}),g.length>0?g:void 0},[o,u]);return l.jsxs(C1,{open:c,onOpenChange:d,modal:!1,children:[l.jsx(T1,{asChild:!0,children:l.jsxs(_e,{variant:"outline",disabled:n,className:we("w-full justify-between text-right h-12 rounded-xl group bg-white dark:bg-gray-950 border-border/60 shadow-sm hover:border-primary transition-all relative",!e&&"text-muted-foreground",s),children:[l.jsxs("span",{className:"flex items-center gap-2 flex-1 text-right",children:[l.jsx(Qn,{className:"h-4 w-4 opacity-50 shrink-0"}),l.jsx("span",{className:"truncate font-bold",children:e?cr(e,a,{locale:Di}):r})]}),i&&e&&l.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 h-8 w-8 flex items-center justify-center rounded-full hover:bg-destructive/10 text-muted-foreground hover:text-destructive transition-colors z-[100]",onClick:f,children:l.jsx(os,{className:"h-4 w-4"})})]})}),l.jsx(g0,{className:"w-auto p-0 pointer-events-auto overflow-visible shadow-2xl border-border/40 z-[1000]",align:"start",dir:"rtl",children:l.jsx(X5,{mode:"single",selected:e,onSelect:h,disabled:p,locale:Di,dir:"rtl",initialFocus:!0})})]})}function V5e({config:e,value:t,onChange:r}){const[n,s]=T.useState(e.options||[]),[i,a]=T.useState(!1);return T.useEffect(()=>{e.asyncOptions&&n.length===0&&(a(!0),e.asyncOptions().then(s).catch(console.error).finally(()=>a(!1)))},[e.asyncOptions]),l.jsxs(En,{value:t,onValueChange:r,children:[l.jsx(bn,{className:"h-9",children:l.jsx(An,{placeholder:i?e.loadingText||" ...":e.placeholder})}),l.jsx(vn,{className:"z-[10002]",position:"popper",children:n.map(o=>l.jsx(vt,{value:o.value,children:o.label},o.value))})]})}function yN({searchValue:e="",onSearchChange:t,searchPlaceholder:r="...",showSearch:n=!0,filters:s=[],filterValues:i={},onFilterChange:a,onReset:o,showResetButton:u=!0,className:c,compact:d=!1,showActiveFilters:h=!0}){const[f,p]=T.useState(!1),y=Object.entries(i).filter(([A,P])=>{const $=s.find(V=>V.key===A);return $?$.type==="date"?P instanceof Date:$.type==="date-range"?P?.from||P?.to:P&&P!=="all"&&P!==$?.defaultValue:!1}).map(([A,P])=>{const $=s.find(U=>U.key===A);let V="";return $?.type==="date"&&P instanceof Date?V=cr(P,"yyyy/MM/dd",{locale:Di}):$?.type==="date-range"?P?.from&&P?.to?V=`${cr(P.from,"MM/dd")} - ${cr(P.to,"MM/dd")}`:P?.from&&(V=` ${cr(P.from,"MM/dd")}`):V=$?.options?.find(E=>E.value===P)?.label||P,{key:A,filterLabel:$?.label||A,valueLabel:V}}),m=y.length,v=e.length>0||m>0,b=T.useCallback(A=>{t?.(A.target.value)},[t]),x=T.useCallback((A,P)=>{a?.(A,P)},[a]),j=T.useCallback(()=>{o?.(),p(!1)},[o]),C=T.useCallback(()=>{t?.("")},[t]),R=T.useCallback(A=>{const P=s.find($=>$.key===A);P?.type==="date"||P?.type==="date-range"?a?.(A,void 0):a?.(A,P?.defaultValue||"all")},[s,a]),L=A=>{const P=i[A.key];switch(A.type){case"date":return l.jsx("div",{onClick:U=>U.stopPropagation(),className:"relative",children:l.jsx(_2,{value:P,onChange:U=>x(A.key,U),placeholder:A.placeholder,showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})});case"date-range":const $=P?.from instanceof Date?P.from:P?.from?new Date(P.from):void 0,V=P?.to instanceof Date?P.to:P?.to?new Date(P.to):void 0;return l.jsxs("div",{onClick:U=>U.stopPropagation(),className:"space-y-6",children:[l.jsxs("div",{className:"relative group",children:[l.jsx(Fe,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:" "}),l.jsx("div",{className:"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5",children:l.jsx(_2,{value:$,onChange:U=>x(A.key,{...P,from:U}),placeholder:" ",showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})})]}),l.jsxs("div",{className:"relative group",children:[l.jsx(Fe,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:" "}),l.jsx("div",{className:"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5",children:l.jsx(_2,{value:V,onChange:U=>x(A.key,{...P,to:U}),placeholder:" ",showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})})]})]});case"async-select":return l.jsx("div",{onClick:U=>U.stopPropagation(),children:l.jsx(V5e,{config:A,value:P||A.defaultValue||"all",onChange:U=>x(A.key,U)})});default:return l.jsx("div",{onClick:U=>U.stopPropagation(),children:l.jsxs(En,{value:String(P||A.defaultValue||"all"),onValueChange:U=>x(A.key,U),children:[l.jsx(bn,{className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium",children:l.jsx(An,{placeholder:A.placeholder||` ${A.label}`})}),l.jsx(vn,{className:"rounded-2xl shadow-2xl border-2 z-[10002]",position:"popper",children:A.options?.map(U=>l.jsx(vt,{value:String(U.value),className:"rounded-xl my-1 py-3 text-right",children:U.label},U.value))})]})})}};return l.jsxs("div",{className:we("space-y-2",c),children:[l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-slate-900 border-2 border-border/50 rounded-2xl shadow-sm transition-all focus-within:border-primary/30 focus-within:shadow-md",children:[n&&l.jsxs("div",{className:"relative flex-1",children:[l.jsx(uo,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),l.jsx(tt,{placeholder:r,value:e,onChange:b,className:"pr-12 pl-10 h-12 bg-slate-50/50 dark:bg-slate-800/50 border-none rounded-xl font-medium focus-visible:ring-2 focus-visible:ring-primary/20 transition-all"}),e&&l.jsx(_e,{variant:"ghost",size:"sm",onClick:C,className:"absolute left-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",children:l.jsx(os,{className:"h-3 w-3"})})]}),s.length>0&&l.jsxs(P1,{open:f,onOpenChange:p,children:[l.jsx($5,{asChild:!0,children:l.jsxs(_e,{variant:"outline",size:"sm",className:we("h-9 gap-1.5 px-3 relative",m>0&&"border-primary text-primary"),"data-testid":"button-open-filters",children:[l.jsx(eT,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:""}),m>0&&l.jsx(ft,{variant:"default",className:"h-5 w-5 p-0 flex items-center justify-center text-xs rounded-full absolute -top-1.5 -left-1.5",children:m})]})}),l.jsx(y0,{side:"bottom",className:"h-[85vh] sm:h-[80vh] sm:max-w-2xl rounded-t-[2.5rem] p-0 overflow-y-auto border-t-0 bg-white dark:bg-gray-950 shadow-[0_-20px_50px_-12px_rgba(0,0,0,0.1)] z-[10001]",dir:"rtl",onPointerDownOutside:A=>{const P=A.target;(P.closest(".rdp")||P.closest('[role="listbox"]')||P.closest(".relative"))&&A.preventDefault()},onInteractOutside:A=>{const P=A.target;(P.closest(".rdp")||P.closest('[role="listbox"]'))&&A.preventDefault()},children:l.jsxs("div",{className:"flex flex-col h-full relative p-6 pb-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8 flex-shrink-0",children:[l.jsx(LZ,{asChild:!0,children:l.jsx(_e,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 hover:bg-muted transition-all",children:l.jsx(os,{className:"h-5 w-5"})})}),l.jsx(b0,{className:"text-xl font-bold text-center flex-1 mr-8",children:" "}),l.jsx("div",{className:"h-1.5 w-12 bg-slate-200 dark:bg-slate-800 rounded-full"})]}),l.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto custom-scrollbar px-1 pb-32 pt-2",children:[l.jsx("div",{className:"space-y-10 max-w-xl mx-auto",children:s.map(A=>l.jsxs("div",{className:we("relative group",A.type==="date-range"?"pt-2":""),children:[A.type!=="date-range"&&l.jsx(Fe,{htmlFor:A.key,className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:A.label}),l.jsx("div",{className:we(A.type!=="date-range"&&"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5"),children:L(A)})]},A.key))}),s.length===0&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[l.jsx(eT,{className:"w-12 h-12 mb-4 opacity-20"}),l.jsx("p",{children:"    "})]})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent dark:from-gray-950 dark:via-gray-950/95 z-50",children:l.jsx("div",{className:"max-w-xl mx-auto",children:l.jsx(_e,{className:"w-full h-14 text-lg font-bold rounded-2xl shadow-xl shadow-red-500/20 bg-[#e31e33] hover:bg-[#c41a2c] text-white transition-all active:scale-[0.98]",onClick:()=>p(!1),children:""})})})]})})]}),u&&v&&l.jsx(_e,{variant:"ghost",size:"sm",onClick:j,className:"h-9 w-9 p-0 text-muted-foreground hover:text-destructive",title:" ",children:l.jsx(xl,{className:"h-4 w-4"})})]}),h&&(y.length>0||e)&&l.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:" :"}),e&&l.jsxs(ft,{variant:"secondary",className:"gap-1 px-2 py-0.5 text-xs cursor-pointer hover:bg-destructive/20",onClick:C,children:[': "',e.length>15?e.substring(0,15)+"...":e,'"',l.jsx(os,{className:"h-3 w-3"})]}),y.map(A=>l.jsxs(ft,{variant:"secondary",className:"gap-1 px-2 py-0.5 text-xs cursor-pointer hover:bg-destructive/20",onClick:()=>R(A.key),children:[A.filterLabel,": ",A.valueLabel,l.jsx(os,{className:"h-3 w-3"})]},A.key)),(y.length>1||y.length>0&&e)&&l.jsx(_e,{variant:"ghost",size:"sm",onClick:j,className:"h-6 px-2 text-xs text-destructive hover:text-destructive",children:" "})]})]})}function U1(e,t=""){const[r,n]=T.useState(t),[s,i]=T.useState(e),a=T.useCallback(c=>{n(c)},[]),o=T.useCallback((c,d)=>{i(h=>({...h,[c]:d}))},[]),u=T.useCallback(()=>{n(""),i(e)},[e]);return{searchValue:r,filterValues:s,setSearchValue:a,setFilterValue:o,reset:u,onSearchChange:a,onFilterChange:o,onReset:u}}function W5e(){fs();const{selectedProjectId:e,selectProject:t}=yo(),[r,n]=T.useState(!1),[s,i]=T.useState(!1),[a,o]=T.useState({name:"",phone:"",type:"",dailyWage:""}),[u,c]=T.useState(!1),[d,h]=T.useState(""),[f,p]=T.useState({name:"",status:"active",description:"",projectTypeId:null}),g=Yn(),{toast:y}=zr(),{searchValue:m,filterValues:v}=U1({status:"all"},""),{totals:b,isLoading:x}=rp({projectId:e||"all",enabled:!0}),j={staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1},{data:C=[],isLoading:R,error:L}=st({queryKey:fe.projectsWithStats,queryFn:async()=>{try{console.log(" [Dashboard]    ...");const M=await Ie("/api/projects/with-stats","GET");let K=[];return M&&typeof M=="object"&&(M.success!==void 0&&M.data!==void 0?K=Array.isArray(M.data)?M.data:[]:Array.isArray(M)?K=M:M.id?K=[M]:M.data&&(K=Array.isArray(M.data)?M.data:[])),Array.isArray(K)||(K=[]),console.log(` [Dashboard]   ${K.length}   `),K}catch(M){return console.error(" [Dashboard]    :",M),[]}},...j}),{data:A=[]}=st({queryKey:fe.workerTypes,queryFn:async()=>{try{const M=await Ie("/api/worker-types","GET");return M&&M.data&&Array.isArray(M.data)?M.data:Array.isArray(M)?M:[]}catch(M){return console.error("Error fetching worker types:",M),[]}}}),{data:P=[],isLoading:$}=st({queryKey:fe.projectTypes,queryFn:async()=>{try{const M=await Ie("/api/project-types","GET");return M?.success&&Array.isArray(M.data)?M.data:[]}catch(M){return console.error(" [Dashboard]     :",M),[]}},staleTime:6e4}),V=ht({mutationFn:async M=>(await Promise.all([q("workerNames",M.name),q("workerTypes",M.type)]),Ie("/api/workers","POST",M)),onSuccess:async()=>{await g.invalidateQueries({queryKey:fe.workers}),await g.invalidateQueries({queryKey:fe.projectsWithStats}),await g.invalidateQueries({queryKey:fe.autocomplete}),y({title:" ",description:"   "}),n(!1),o({name:"",phone:"",type:"",dailyWage:""})},onError:M=>{y({title:"",description:"    ",variant:"destructive"})}}),U=ht({mutationFn:async M=>(await Promise.all([q("projectNames",M.name),q("projectDescriptions",M.description)]),Ie("/api/projects","POST",M)),onSuccess:async()=>{await g.invalidateQueries({queryKey:fe.projects}),await g.invalidateQueries({queryKey:fe.projectsWithStats}),await g.invalidateQueries({queryKey:fe.autocomplete}),y({title:" ",description:"   "}),i(!1),p({name:"",status:"active",description:"",projectTypeId:null})},onError:M=>{y({title:"",description:"    ",variant:"destructive"})}}),E=ht({mutationFn:async M=>(await q("workerTypes",M.name),Ie("/api/worker-types","POST",M)),onSuccess:async M=>{await g.invalidateQueries({queryKey:fe.workerTypes}),await g.invalidateQueries({queryKey:fe.autocomplete}),y({title:" ",description:"    "}),o({...a,type:M.name}),h(""),c(!1)},onError:M=>{y({title:"",description:"     ",variant:"destructive"})}}),{data:I}=st({queryKey:fe.dailySummary(e,new Date().toISOString().split("T")[0]),enabled:!!e,staleTime:1e3*30}),{data:N=[]}=st({queryKey:fe.recentActivitiesByProject(e),queryFn:async()=>{try{const M=e?`?projectId=${e}`:"";return(await Ie(`/api/recent-activities${M}`,"GET"))?.data||[]}catch(M){return console.error("    :",M),[]}},staleTime:1e3*10,refetchInterval:3e4}),{data:w,isLoading:_}=st({queryKey:fe.healthStats,queryFn:async()=>{try{const M=await Ie("/api/health/stats","GET"),K=M?.data||M;return!K||typeof K!="object"?null:{cpuUsage:K.cpuUsage||0,memoryUsage:K.memoryUsage||0,activeRequests:K.activeRequests||0,errorRate:K.errorRate||0,uptime:K.uptime||0}}catch(M){return console.error(" [Dashboard]     :",M),null}},refetchInterval:15e3}),k=Array.isArray(C)?C.find(M=>M.id===e):void 0,S=T.useMemo(()=>Array.isArray(C)?C.filter(M=>{const K=!m||(M.name||"").toLowerCase().includes(m.toLowerCase()),z=v.status==="all"||(M.status||"active")===v.status;return K&&z}):[],[C,m,v.status]),D=M=>{switch(M){case"active":return{label:"",variant:"success"};case"completed":return{label:"",variant:"default"};case"paused":return{label:"",variant:"warning"};default:return{label:M,variant:"secondary"}}},O=M=>{switch(M){case"active":return"#22c55e";case"completed":return"#3b82f6";case"paused":return"#f59e0b";default:return"#6b7280"}},B=M=>{if(typeof M!="number"){const K=parseFloat(String(M));if(isNaN(K))return"0 .";M=K}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(M)+" ."},q=T.useCallback(async(M,K)=>{if(!(!K||K.trim().length<2))try{await Ie("/api/autocomplete","POST",{category:M,value:K.trim()})}catch(z){console.warn(`[Dashboard] Failed to save autocomplete: ${M}`,z)}},[]),H=T.useMemo(()=>{if(!b)return{totalIncome:0,totalExpenses:0,currentBalance:0,activeWorkers:"0",completedDays:"0",materialPurchases:"0 .",transportExpenses:0};const M=b.totalIncome||0,K=b.totalAllExpenses||0;return{totalIncome:M,totalExpenses:K,currentBalance:b.totalBalance||M-K,activeWorkers:String(b.totalWorkers||0),completedDays:String(b.completedDays||0),materialPurchases:B(b.totalAllExpenses||0),transportExpenses:b.transportExpenses||0}},[b]),Q=T.useCallback(M=>C.find(z=>z.id===M)?.stats||{totalIncome:0,totalExpenses:0,currentBalance:0,activeWorkers:0},[C]);return R?l.jsx(B5e,{}):l.jsxs("div",{className:"p-4 fade-in space-y-4",children:[l.jsxs("div",{className:"mb-4",children:[w&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(us,{className:"h-4 w-4 text-blue-500"}),l.jsx("span",{children:"   (SigNoz)"})]}),l.jsx(nu,{stats:[{title:" ",value:`${w.cpuUsage}%`,icon:us,color:"blue",status:w.cpuUsage>80?"critical":"normal"},{title:" ",value:`${w.memoryUsage}%`,icon:Qr,color:"teal",status:w.memoryUsage>85?"warning":"normal"},{title:" ",value:w.activeRequests,icon:Pm,color:"purple"},{title:" ",value:`${w.errorRate}%`,icon:ri,color:"green",status:w.errorRate>5?"critical":"normal"}],columns:4,hideHeader:!0})]}),k&&l.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(Un,{className:"h-4 w-4"}),l.jsxs("span",{children:[": ",l.jsx("strong",{className:"text-foreground",children:k.name})]})]}),!k&&C.length>0&&l.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(Un,{className:"h-4 w-4"}),l.jsxs("span",{children:["   (",C.length," )"]})]}),l.jsx(nu,{stats:[{title:" ",value:H.totalIncome,icon:un,color:"blue",formatter:B},{title:" ",value:H.totalExpenses,icon:ri,color:"red",formatter:B},{title:" ",value:H.currentBalance,icon:Jt,color:"green",formatter:B},{title:" ",value:H.activeWorkers,icon:Pg,color:"purple"},{title:" ",value:H.completedDays,icon:Qn,color:"teal"},{title:" ",value:H.materialPurchases,icon:Qr,color:"indigo"},{title:"",value:H.transportExpenses,icon:Js,color:"orange",formatter:B},{title:" ",value:"1  ",icon:Ss,color:"critical"},{title:"",value:"1 ",icon:Fs,color:"warning"}],columns:3,hideHeader:!0})]}),l.jsx(M5e,{onAddWorker:()=>n(!0),onAddProject:()=>i(!0)}),S.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2",children:[l.jsx(Un,{className:"h-5 w-5 text-primary"})," (",S.length,")"]})}),l.jsx(_s,{columns:2,children:S.map(M=>{const K=M.id||"",z=M.name||"",F=M.status||"active",W=D(F),J=K===e,le=Q(K),ne=le?.totalIncome||0,ue=le?.totalExpenses||0,Z=le?.currentBalance||0,te=le?.activeWorkers||0;return l.jsx(Hr,{title:z,titleIcon:Un,headerColor:O(F),badges:[W],className:J?"ring-2 ring-primary ring-offset-2":"",fields:[{label:"",value:B(ne),icon:un,color:"info"},{label:"",value:B(ue),icon:ri,color:"danger"},{label:"",value:B(Z),icon:Jt,color:"success",emphasis:!0},{label:"",value:String(te),icon:yn,color:"default"}],actions:[{icon:J?co:Zc,label:J?"":"",onClick:()=>t(K),color:J?"green":"blue"}],onClick:()=>t(K),compact:!0},K)})})]}),N.length>0&&l.jsx(dJ,{activities:N,formatCurrency:B}),l.jsx(xs,{open:r,onOpenChange:n,children:l.jsxs(ls,{className:"max-w-lg",children:[l.jsxs(ws,{children:[l.jsx(Rs,{children:"  "}),l.jsx(Sl,{children:"      "})]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Fe,{htmlFor:"worker-name",children:" "}),l.jsx(tt,{id:"worker-name",value:a.name,onChange:M=>o({...a,name:M.target.value}),placeholder:"  "})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Fe,{htmlFor:"worker-phone",children:" "}),l.jsx(tt,{id:"worker-phone",value:a.phone,onChange:M=>o({...a,phone:M.target.value}),placeholder:"  "})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Fe,{htmlFor:"worker-wage",children:"  (.)"}),l.jsx(tt,{id:"worker-wage",type:"number",inputMode:"decimal",value:a.dailyWage,onChange:M=>o({...a,dailyWage:M.target.value}),placeholder:"0",className:"text-center",required:!0})]}),l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Fe,{htmlFor:"worker-type",children:" "}),l.jsx("div",{className:"flex gap-2",children:l.jsx(Fn,{value:a.type||"",onValueChange:M=>o({...a,type:M}),options:Array.isArray(A)&&A.length>0?A.map(M=>({value:M.value,label:M.value})):[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],placeholder:"  ...",searchPlaceholder:"  ...",emptyText:"  ",className:"flex-1"})})]}),l.jsx(xs,{open:u,onOpenChange:c,children:l.jsxs(ls,{className:"sm:max-w-md",children:[l.jsxs(ws,{children:[l.jsx(Rs,{children:"   "}),l.jsx(Sl,{children:"         "})]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Fe,{htmlFor:"new-type-name",children:"  "}),l.jsx(tt,{id:"new-type-name",type:"text",value:d,onChange:M=>h(M.target.value),placeholder:":   ...",required:!0})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx(_e,{type:"button",onClick:M=>{M.preventDefault(),d.trim()&&E.mutate({name:d.trim()})},disabled:!d.trim()||E.isPending,children:E.isPending?" ...":""}),l.jsx(_e,{type:"button",variant:"outline",onClick:()=>{c(!1),h("")},children:""})]})]})]})}),l.jsxs("div",{className:"form-actions",children:[l.jsx(_e,{onClick:()=>{if(!a.name.trim()||!a.type||!a.dailyWage){y({title:"",description:"    ",variant:"destructive"});return}const M=parseFloat(a.dailyWage);if(isNaN(M)||M<=0){y({title:"",description:"     ",variant:"destructive"});return}V.mutate({name:a.name.trim(),phone:a.phone||null,type:a.type,dailyWage:M.toString(),isActive:!0})},disabled:V.isPending,className:"gap-2",children:V.isPending?"  ...":" "}),l.jsx(_e,{variant:"outline",onClick:()=>n(!1),children:""})]}),l.jsxs(_e,{type:"button",variant:"outline",size:"sm",onClick:()=>c(!0),className:"w-full gap-2 mt-2",children:[l.jsx(Hn,{className:"h-4 w-4"}),"   "]})]})]})}),l.jsx(xs,{open:s,onOpenChange:i,children:l.jsxs(ls,{className:"max-w-lg",children:[l.jsxs(ws,{children:[l.jsx(Rs,{children:"  "}),l.jsx(Sl,{children:"      "})]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Fe,{htmlFor:"project-name",children:" "}),l.jsx(tt,{id:"project-name",value:f.name,onChange:M=>p({...f,name:M.target.value}),placeholder:"  "})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Fe,{htmlFor:"project-type",children:" "}),l.jsx(k4,{value:f.projectTypeId?.toString()||"",onValueChange:M=>p({...f,projectTypeId:M?parseInt(M):null}),projectTypes:P,placeholder:$?" ...":"  ...",disabled:$})]}),l.jsxs("div",{className:"form-field",children:[l.jsx(Fe,{htmlFor:"project-status",children:" "}),l.jsxs(En,{value:f.status,onValueChange:M=>p({...f,status:M}),children:[l.jsx(bn,{children:l.jsx(An,{})}),l.jsxs(vn,{children:[l.jsx(vt,{value:"active",children:""}),l.jsx(vt,{value:"completed",children:""}),l.jsx(vt,{value:"paused",children:""})]})]})]}),l.jsxs("div",{className:"form-field form-field-full",children:[l.jsx(Fe,{htmlFor:"project-description",children:" "}),l.jsx(tt,{id:"project-description",value:f.description,onChange:M=>p({...f,description:M.target.value}),placeholder:"   ()"})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx(_e,{onClick:()=>{f.name&&U.mutate({name:f.name,status:f.status,description:f.description||null,projectTypeId:f.projectTypeId})},disabled:!f.name||U.isPending,children:U.isPending?" ...":""}),l.jsx(_e,{variant:"outline",onClick:()=>i(!1),children:""})]})]})]})})]})}const q5e=async(e,t)=>{const r=new cN.Workbook,n=r.addWorksheet("  ",{views:[{rightToLeft:!0,showGridLines:!1}]}),s="FF1E3A8A",i="FF3B82F6",a="FFF8FAFC",o="FFE2E8F0",u="FF10B981",c="FFF43F5E",d={name:"Calibri",size:11,bold:!0,color:{argb:"FFFFFFFF"}},h={name:"Calibri",size:11,color:{argb:"FF1E293B"}},f={name:"Calibri",size:11,bold:!0,color:{argb:"FF1E293B"}},p={horizontal:"center",vertical:"middle",wrapText:!0},g={horizontal:"right",vertical:"middle",wrapText:!0,indent:1},y={top:{style:"thin",color:{argb:o}},left:{style:"thin",color:{argb:o}},bottom:{style:"thin",color:{argb:o}},right:{style:"thin",color:{argb:o}}};n.mergeCells("A1:I1");const m=n.getCell("A1");m.value="   -   ",m.font={...d,size:18},m.alignment=p,m.fill={type:"pattern",pattern:"solid",fgColor:{argb:s}},n.getRow(1).height=45,n.mergeCells("A2:I2");const v=n.getCell("A2");v.value=` : ${cr(new Date,"dd/MM/yyyy HH:mm")} |     `,v.font={name:"Calibri",size:9,color:{argb:"FF64748B"}},v.alignment=p,n.getRow(2).height=20;const b=4;n.getRow(b).height=25,n.getRow(b+1).height=25,n.getRow(b+2).height=25;const x=(S,D,O,B,q)=>{const H=n.getCell(`${D}${S}`),Q=n.getCell(`${String.fromCharCode(D.charCodeAt(0)+1)}${S}`);H.value=O,H.font={...f,color:{argb:q}},H.fill={type:"pattern",pattern:"solid",fgColor:{argb:a}},H.alignment=g,H.border=y,Q.value=B,Q.font=h,Q.alignment=g,Q.border=y};x(4,"A","  :",t.name,i),x(4,"D","  :",e.projectName||" ",i),x(5,"A","  :",t.type||"",i),x(5,"D","  :",e.dateRange||" ",i),x(6,"A","  :",`${t.dailyWage} . / `,i),x(6,"D","  :",`W-${t.id.toString().slice(-4).toUpperCase()}`,i),n.getColumn("A").width=18,n.getColumn("B").width=25,n.getColumn("D").width=18,n.getColumn("E").width=25;const j=8,C=["","",""," ","  ","",""," (+)"," (-)",""],R=n.getRow(j);C.forEach((S,D)=>{const O=R.getCell(D+1);O.value=S,O.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF334155"}},O.font={...d,color:{argb:"FFFFFFFF"}},O.alignment=p,O.border=y}),R.height=30,n.columns=[{width:6},{width:14},{width:12},{width:22},{width:48},{width:8},{width:12},{width:16},{width:16},{width:16}];const L=e.statement||[];let A=10;L.forEach((S,D)=>{const O=n.getRow(A),B=new Date(S.date),q=D%2===0,H=parseFloat(S.amount||0),Q=parseFloat(S.paid||0),M=H-Q,K=S.workDays!==void 0?parseFloat(S.workDays):S.type===""?1:0;O.values=[D+1,cr(B,"dd/MM/yyyy"),cr(B,"EEEE",{locale:eG}),S.projectName||"-",S.description||(S.type===""?`  ${S.recipientName||"-"}`:"    "),K,S.hours||(S.type===""?"8h":"-"),H,Q,M],O.eachCell((z,F)=>{z.border=y,z.alignment=p,z.font=h,q&&(z.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF1F5F9"}}),(F===8||F===9||F===10)&&(z.numFmt='#,##0.00 "."',F===8&&(z.font={...h,color:{argb:u},bold:!0}),F===9&&parseFloat(S.paid||0)>0&&(z.font={...h,color:{argb:c},bold:!0}),F===10&&(z.font={...h,color:{argb:i},bold:!0}))}),A++});const P=n.getRow(A);n.mergeCells(`A${A}:E${A}`);const $=n.getCell(`A${A}`);$.value="  ",$.font=d,$.alignment=p,$.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF475569"}};const V=n.getCell(`F${A}`),U=n.getCell(`H${A}`),E=n.getCell(`I${A}`),I=n.getCell(`J${A}`);V.value=parseFloat(e.summary.totalWorkDays||0),U.value=parseFloat(e.summary.totalEarned||0),E.value=parseFloat(e.summary.totalPaid||0),I.value=parseFloat(e.summary.finalBalance||0),[V,U,E,I].forEach(S=>{S.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF475569"}},S.font=d,S.address.startsWith("F")?S.numFmt="#,##0.00":S.numFmt='#,##0.00 "."',S.alignment=p}),P.height=25,A+=2;const N=8,w=[{label:"  ",isHeader:!0,color:s},{label:"  ",value:e.summary.totalEarned,color:u},{label:"  ",value:e.summary.totalPaid,color:c},{label:"  ",value:e.summary.finalBalance,color:i,isFinal:!0}];w.forEach((S,D)=>{const O=A+D;if(S.isHeader){n.mergeCells(O,N,O,N+1);const B=n.getCell(O,N);B.value=S.label,B.fill={type:"pattern",pattern:"solid",fgColor:{argb:S.color}},B.font=d,B.alignment=p}else{const B=n.getCell(O,N+1),q=n.getCell(O,N);B.value=S.label,B.fill={type:"pattern",pattern:"solid",fgColor:{argb:a}},B.font=f,B.border=y,B.alignment=g,q.value=parseFloat(S.value||0),q.font={...h,bold:!0,color:{argb:S.color}},q.border=y,q.alignment=p,q.numFmt='#,##0.00 "."',S.isFinal&&(q.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}})}}),A+=w.length+1,n.mergeCells(`A${A}:I${A}`);const _=n.getCell(`A${A}`);_.value="         AXION.        .",_.font={name:"Calibri",size:8,italic:!0,color:{argb:"FF94A3B8"}},_.alignment=p;const k=await r.xlsx.writeBuffer();return await ep(k,`Worker_Statement_${t.name.replace(/\s+/g,"_")}_${cr(new Date,"yyyyMMdd")}.xlsx`)};function H5e(e,t){const r=t?.name||"",n=t?.type||"",s=t?.dailyWage?`${parseFloat(t.dailyWage).toLocaleString()} .`:"-",i=cr(new Date,"dd/MM/yyyy"),a=parseFloat(e?.summary?.totalEarned||0),o=parseFloat(e?.summary?.totalPaid||0),u=parseFloat(e?.summary?.finalBalance||0),c=(e?.statement||[]).map((d,h)=>{const f=parseFloat(d.amount||0),p=parseFloat(d.paid||0),g=f-p;return`<tr>
      <td style="width:30px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${h+1}</td>
      <td style="width:75px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.date?cr(new Date(d.date),"dd/MM/yyyy"):"-"}</td>
      <td style="width:55px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.date?cr(new Date(d.date),"EEEE",{locale:eG}):"-"}</td>
      <td style="width:100px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:9px;">${d.projectName||d.project_name||"-"}</td>
      <td style="text-align:right;padding:5px 6px;border:1px solid #BFBFBF;font-size:9px;line-height:1.3;">${d.description||(d.type===""?`  ${d.recipientName||"-"}`:"  ")}</td>
      <td style="width:40px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.type===""?d.workDays!==void 0?parseFloat(d.workDays).toFixed(2):"1.00":"-"}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.type===""?d.hours||"07:00-15:00":"-"}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;background:#E2F0D9;font-weight:700;">${f.toLocaleString()}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;background:#FBE2D5;font-weight:700;">${p.toLocaleString()}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;background:#DEEAF6;font-weight:700;">${g.toLocaleString()}</td>
    </tr>`}).join("");return`<div style="direction:rtl;font-family:'Cairo','Segoe UI',Tahoma,sans-serif;background:#fff;padding:0;margin:0;width:794px;">
    <div style="background:#1F4E79;color:#fff;text-align:center;padding:10px 0;font-size:18px;font-weight:800;margin-bottom:12px;">    </div>
    <div style="display:flex;justify-content:space-between;margin:0 10px 12px 10px;font-size:12px;">
      <div>
        <div style="margin-bottom:4px;"><b style="display:inline-block;width:90px;"> :</b> ${r}</div>
        <div style="margin-bottom:4px;"><b style="display:inline-block;width:90px;"> :</b> ${n}</div>
        <div><b style="display:inline-block;width:90px;"> :</b> ${s}</div>
      </div>
      <div>
        <div style="margin-bottom:4px;"><b style="display:inline-block;width:90px;">:</b> ${e?.projectName||" "}</div>
        <div><b style="display:inline-block;width:90px;"> :</b> ${i}</div>
      </div>
    </div>
    <table style="width:100%;border-collapse:collapse;table-layout:fixed;">
      <thead>
        <tr>
          <th style="width:30px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:75px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:55px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:100px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"> </th>
          <th style="width:40px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
        </tr>
      </thead>
      <tbody>
        ${c}
        <tr>
          <td colspan="5" style="background:#00B050;color:#fff;font-weight:800;font-size:12px;text-align:center;padding:7px;border:1px solid #00803A;"></td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${parseFloat(e?.summary?.totalWorkDays||0).toLocaleString()}</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">-</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${a.toLocaleString()}</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${o.toLocaleString()}</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${u.toLocaleString()}</td>
        </tr>
      </tbody>
    </table>
    <div style="margin-top:20px;">
      <table style="width:300px;border:2px solid #1F4E79;border-collapse:collapse;">
        <tr><td colspan="2" style="background:#00B050;color:#fff;text-align:center;font-weight:800;padding:6px;font-size:13px;border:1px solid #00803A;"> </td></tr>
        <tr><td style="padding:6px 10px;font-weight:700;border:1px solid #BFBFBF;font-size:12px;"> :</td><td style="padding:6px 10px;text-align:left;border:1px solid #BFBFBF;font-size:12px;">${a.toLocaleString()}</td></tr>
        <tr><td style="padding:6px 10px;font-weight:700;border:1px solid #BFBFBF;font-size:12px;"> :</td><td style="padding:6px 10px;text-align:left;border:1px solid #BFBFBF;font-size:12px;">${o.toLocaleString()}</td></tr>
        <tr><td style="padding:6px 10px;font-weight:700;border:1px solid #BFBFBF;font-size:12px;background:#F2F2F2;"> :</td><td style="padding:6px 10px;text-align:left;border:1px solid #BFBFBF;font-size:12px;font-weight:800;background:#F2F2F2;">${u.toLocaleString()}</td></tr>
      </table>
    </div>
    <div style="text-align:center;font-size:9px;color:#7F7F7F;margin-top:20px;padding:5px;border-top:1px solid #EEE;">
               | ${cr(new Date,"dd/MM/yyyy HH:mm")}
    </div>
  </div>`}const K5e=async(e,t)=>{try{if(!e||!e.statement)return console.error("No data provided for PDF generation"),!1;const r=H5e(e,t),n=document.createElement("div");n.style.position="fixed",n.style.left="-9999px",n.style.top="0",n.style.width="794px",n.style.background="#fff",n.style.zIndex="-1",n.innerHTML=r,document.body.appendChild(n),await new Promise(m=>setTimeout(m,300));const s=(await Mr(async()=>{const{default:m}=await import("./html2canvas.esm-B0tyYwQk.js");return{default:m}},[])).default,{jsPDF:i}=await Mr(async()=>{const{jsPDF:m}=await import("./jspdf.es.min-Z84URK-W.js").then(v=>v.j);return{jsPDF:m}},[]),a=await s(n,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:794,windowWidth:794});document.body.removeChild(n);const o=210,u=297,c=a.height*o/a.width,d=new i("p","mm","a4");let h=c,f=0;const p=a.toDataURL("image/jpeg",.92);for(d.addImage(p,"JPEG",0,f,o,c),h-=u;h>0;)f=-(c-h),d.addPage(),d.addImage(p,"JPEG",0,f,o,c),h-=u;const g=d.output("blob"),y=`__${t?.name||""}_${cr(new Date,"yyyy-MM-dd")}.pdf`;return await dN(g,y,"application/pdf")}catch(r){return console.error("PDF generation error:",r),!1}};function KA({children:e,columns:t=2,className:r,...n}){const s={2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 md:grid-cols-4"};return l.jsx("div",{className:we("grid gap-3 md:gap-4",s[t],r),dir:"rtl",...n,children:e})}function Z5e({worker:e,onSuccess:t,onCancel:r,submitLabel:n=" "}){const[s,i]=T.useState(e?.name||""),[a,o]=T.useState(e?.type||""),[u,c]=T.useState(e?e.dailyWage:""),[d,h]=T.useState(e?.phone||""),[f,p]=T.useState(e?.hireDate||""),[g,y]=T.useState(!1),[m,v]=T.useState(""),{toast:b}=zr(),x=Yn();T.useEffect(()=>{e&&(i(e.name||""),o(e.type||""),c(e.dailyWage||""),h(e.phone||""),p(e.hireDate||""))},[e]);const j=async($,V)=>{if(!(!V||typeof V!="string"||!V.trim()))try{await Ie("/api/autocomplete","POST",{category:$,value:V.trim()})}catch{}},{data:C=[]}=st({queryKey:fe.workerTypes}),R=ht({mutationFn:async $=>(await Promise.all([j("workerNames",$.name),j("workerTypes",$.type)]),e?Ie(`/api/workers/${e.id}`,"PATCH",$):Ie("/api/workers","POST",$)),onSuccess:async($,V)=>{x.setQueryData(["/api/workers"],U=>U?[$.data,...U]:[$.data]),await Promise.all([x.invalidateQueries({queryKey:fe.workerTypes}),x.invalidateQueries({queryKey:fe.autocomplete})]),b({title:" ",description:e?"   ":"   "}),e||(i(""),o(""),c(""),h(""),p("")),t?.()},onError:async($,V)=>{await Promise.all([j("workerNames",V.name),j("workerTypes",V.type)]),await x.invalidateQueries({queryKey:fe.autocomplete});const U=$?.message||(e?"    ":"    ");b({title:e?"   ":"   ",description:U,variant:"destructive"})}}),L=ht({mutationFn:async $=>(await j("workerTypes",$.name),Ie("/api/worker-types","POST",$)),onSuccess:async($,V)=>{await x.invalidateQueries({queryKey:fe.workerTypes}),await x.invalidateQueries({queryKey:fe.autocomplete}),b({title:" ",description:"    "}),o($.name),v(""),y(!1)},onError:async($,V)=>{await j("workerTypes",V.name),await x.invalidateQueries({queryKey:fe.autocomplete});const U=$?.message||"     ";b({title:"    ",description:U,variant:"destructive"})}}),A=$=>{if($.preventDefault(),!s.trim()||!a||!u){b({title:"",description:"    ",variant:"destructive"});return}const V=parseFloat(u);if(isNaN(V)||V<=0){b({title:"",description:"     ",variant:"destructive"});return}R.mutate({name:s.trim(),type:a,dailyWage:V.toString(),phone:d.trim()||void 0,hireDate:f||void 0,isActive:e?.isActive??!0})},P=$=>{if($.preventDefault(),!m.trim()){b({title:"",description:"    ",variant:"destructive"});return}L.mutate({name:m.trim()})};return l.jsxs("form",{onSubmit:A,className:"space-y-4",children:[l.jsxs(KA,{columns:2,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Fe,{htmlFor:"worker-name",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[l.jsx(Rd,{className:"h-4 w-4 text-blue-500"}),"  *"]}),l.jsx(Ch,{id:"worker-name",value:s,onChange:$=>i($.target.value),placeholder:"  ...",required:!0,className:"min-h-[44px]"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Fe,{htmlFor:"worker-type",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[l.jsx(qO,{className:"h-4 w-4 text-purple-500"}),"  *"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Fn,{value:a,onValueChange:o,options:Array.isArray(C)&&C.length>0?C.map($=>({value:$.name,label:$.name})):[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],placeholder:"  ...",searchPlaceholder:"  ...",emptyText:"  ",className:"flex-1"}),l.jsxs(xs,{open:g,onOpenChange:y,children:[l.jsx(kh,{asChild:!0,children:l.jsx(_e,{type:"button",variant:"outline",size:"icon",className:"shrink-0",title:"  ",children:l.jsx(Hn,{className:"h-4 w-4"})})}),l.jsxs(ls,{className:"sm:max-w-md",children:[l.jsx(ws,{children:l.jsx(Rs,{children:"   "})}),l.jsxs("form",{onSubmit:P,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Fe,{htmlFor:"new-type-name",className:"block text-sm font-medium text-foreground",children:"  "}),l.jsx(tt,{id:"new-type-name",type:"text",value:m,onChange:$=>v($.target.value),placeholder:":   ...",required:!0})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{type:"submit",disabled:L.isPending,className:"flex-1",children:L.isPending?" ...":""}),l.jsx(_e,{type:"button",variant:"outline",onClick:()=>{y(!1),v("")},className:"flex-1",children:""})]})]})]})]})]})]})]}),l.jsxs(KA,{columns:3,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Fe,{htmlFor:"daily-wage",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[l.jsx(Jt,{className:"h-4 w-4 text-green-500"}),"  (.) *"]}),l.jsx(tt,{id:"daily-wage",type:"number",inputMode:"decimal",value:u,onChange:$=>c($.target.value),placeholder:"0",className:"text-center arabic-numbers min-h-11",required:!0,autoWidth:!0,maxWidth:200})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Fe,{htmlFor:"phone",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[l.jsx(YO,{className:"h-4 w-4 text-blue-500"})," "]}),l.jsx(tt,{id:"phone",type:"tel",inputMode:"tel",value:d,onChange:$=>h($.target.value),placeholder:"966XXXXXXXXX+",className:"text-left ltr",dir:"ltr"})]}),l.jsx(Vo,{id:"hire-date",label:" ",value:f,onChange:$=>p($?cr($,"yyyy-MM-dd"):"")})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{type:"submit",className:"flex-1",disabled:R.isPending,children:R.isPending?" ...":n}),r&&l.jsx(_e,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:""})]})]})}const G5e=({worker:e,onClose:t,isOpen:r})=>l.jsx(xs,{open:r,onOpenChange:t,children:l.jsxs(ls,{className:"sm:max-w-md",children:[l.jsxs(ws,{children:[l.jsx(Rs,{children:e?" ":"  "}),l.jsx(Sl,{children:e?"    ":"   "})]}),l.jsx("div",{className:"mt-4",children:l.jsx(Z5e,{worker:e,onSuccess:t,onCancel:t,submitLabel:e?" ":" "})})]})}),X5e=({stats:e,formatCurrency:t,isLoading:r})=>{const n=e?.totalEarnings??0,s=e?.totalTransfers??0,i=n-s;return l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 dark:text-green-400 mb-1",children:[l.jsx(md,{className:"h-3 w-3"}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),l.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:r?"...":t(n)})]}),l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-2 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-600 dark:text-yellow-400 mb-1",children:[l.jsx(pj,{className:"h-3 w-3"}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),l.jsx("p",{className:"text-xs font-bold text-yellow-600 dark:text-yellow-400",children:r?"...":t(s)})]}),l.jsxs("div",{className:`${i>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-red-50 dark:bg-red-900/20"} rounded-lg p-2 text-center`,children:[l.jsxs("div",{className:`flex items-center justify-center gap-1 ${i>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"} mb-1`,children:[l.jsx(ri,{className:"h-3 w-3"}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),l.jsx("p",{className:`text-xs font-bold ${i>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"}`,children:r?"...":t(i)})]})]})},Q5e=({worker:e,onEdit:t,onDelete:r,onToggleStatus:n,onExport:s,formatCurrency:i,isToggling:a,selectedProjectId:o,isExporting:u,exportProgress:c,exportingWorkerId:d})=>{const h=o===ts?void 0:o,{data:f,isLoading:p}=st({queryKey:fe.workerStats(e.id,o),queryFn:async()=>{const m=h?`/api/workers/${e.id}/stats?projectId=${h}`:`/api/workers/${e.id}/stats`;return Ie(m,"GET")},staleTime:300*1e3,gcTime:600*1e3,retry:1,placeholderData:m=>m,refetchOnWindowFocus:!1,enabled:e.isActive}),g=f?.data,y=g?.projectsWorked??0;return l.jsxs("div",{className:"relative group",children:[u&&l.jsx("div",{className:"absolute inset-0 z-50 bg-background/80 backdrop-blur-sm flex flex-col items-center justify-center p-6 rounded-lg border-2 border-primary animate-in fade-in zoom-in duration-300",children:l.jsxs("div",{className:"w-full space-y-4 text-center",children:[l.jsxs("div",{className:"relative h-16 w-16 mx-auto",children:[l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"}),l.jsx(Ms,{className:"absolute inset-0 m-auto h-6 w-6 text-primary animate-pulse"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-bold text-primary animate-pulse",children:"   ..."}),l.jsx("div",{className:"h-2 w-full bg-primary/10 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${c}%`}})}),l.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono",children:[c,"%"]})]})]})}),l.jsx(Hr,{title:e.name,subtitle:e.hireDate?new Date(e.hireDate).toLocaleDateString("en-GB"):void 0,titleIcon:Rd,headerColor:e.isActive?"#22c55e":"#ef4444",badges:[{label:e.type,variant:"secondary"},{label:e.isActive?"":" ",variant:e.isActive?"success":"destructive"}],fields:[{label:" ",value:i(parseFloat(e.dailyWage)),icon:Jt,emphasis:!0,color:"success"},{label:"",value:e.phone||" ",icon:YO,color:e.phone?"success":"muted"},{label:"",value:p?"...":y>0?`${y} `:" ",icon:Tk,color:y>0?"info":"muted"},{label:" ",value:p?"...":`${g?.totalWorkDays??0} `,icon:Qn,color:"warning"}],actions:[{icon:Ms,label:" ",disabled:!!d,color:"green",onClick:()=>{},dropdown:[{label:" PDF ",onClick:()=>s("pdf")},{label:"  Excel",onClick:()=>s("excel")},{label:" ",onClick:()=>s("pdf")}]},{icon:cl,label:"",onClick:t,color:"blue"},{icon:JO,label:e.isActive?"":"",onClick:n,disabled:a,color:e.isActive?"yellow":"green"},{icon:Nn,label:"",onClick:r,color:"red"}],footer:l.jsx(X5e,{stats:g,formatCurrency:i,isLoading:p}),compact:!0})]})};function Y5e(){const[e,t]=T.useState(),[r,n]=T.useState(!1),[s,i]=T.useState(""),[a,o]=T.useState({status:"all",type:"all"}),[u,c]=T.useState(!1),[d,h]=T.useState(null),[f,p]=T.useState(null),[g,y]=T.useState(0),[m,v]=T.useState(null),{toast:b}=zr(),x=Yn(),{setFloatingAction:j}=vo(),{selectedProjectId:C}=yo(),R=T.useCallback((Q,M)=>{o(K=>({...K,[Q]:M}))},[]),L=T.useCallback(()=>{i(""),o({status:"all",type:"all"}),b({title:"  ",description:"   "})},[b]),A=Q=>new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(Q)+" .",{data:P=[],isLoading:$,refetch:V}=st({queryKey:fe.workers,queryFn:async()=>{try{const Q=await Ie("/api/workers","GET");let M=[];return Q&&typeof Q=="object"&&(Q.success&&Array.isArray(Q.data)?M=Q.data:Array.isArray(Q)&&(M=Q)),M}catch(Q){return console.error("Error fetching workers:",Q),[]}},staleTime:3e4,gcTime:6e4,retry:2,placeholderData:Q=>Q,refetchOnWindowFocus:!0}),{data:U=[]}=st({queryKey:fe.workerTypes,queryFn:async()=>{try{const Q=await fetch("/api/worker-types");if(!Q.ok)return[];const M=await Q.json();let K=[];return M&&typeof M=="object"&&(M.success!==void 0&&M.data!==void 0?K=Array.isArray(M.data)?M.data:[]:Array.isArray(M)&&(K=M)),Array.isArray(K)?K:[]}catch{return[]}},staleTime:9e5,gcTime:18e5,retry:1,placeholderData:Q=>Q,refetchOnWindowFocus:!1}),E=T.useCallback(async()=>{c(!0);try{await V(),b({title:" ",description:"   "})}catch{b({title:"",description:"  ",variant:"destructive"})}finally{c(!1)}},[V,b]),I=ht({mutationFn:Q=>Ie(`/api/workers/${Q}`,"DELETE"),onMutate:async Q=>{await x.cancelQueries({queryKey:fe.workers});const M=x.getQueryData(fe.workers);return Array.isArray(M)&&x.setQueryData(fe.workers,M.filter(K=>K.id!==Q)),{previousData:M}},onSuccess:Q=>{b({title:"   ",description:Q?.message||"     .",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(Q,M,K)=>{K?.previousData&&x.setQueryData(fe.workers,K.previousData),b({title:"   ",description:Q?.message||"    ",variant:"destructive"})},onSettled:()=>{x.invalidateQueries({queryKey:fe.workers}),x.invalidateQueries({queryKey:fe.projectsWithStats})}}),N=ht({mutationFn:({id:Q,data:M})=>Ie(`/api/workers/${Q}`,"PATCH",M),onMutate:async({id:Q,data:M})=>{await x.cancelQueries({queryKey:fe.workers});const K=x.getQueryData(fe.workers);return Array.isArray(K)&&x.setQueryData(fe.workers,K.map(z=>z.id===Q?{...z,...M}:z)),{previousData:K}},onSuccess:Q=>{b({title:" ",description:Q?.message||"     ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"}),x.invalidateQueries({queryKey:fe.workers})},onError:(Q,M,K)=>{K?.previousData&&x.setQueryData(fe.workers,K.previousData),b({title:"",description:Q.message||"    ",variant:"destructive"})},onSettled:()=>{h(null),x.invalidateQueries({queryKey:fe.workers}),x.invalidateQueries({queryKey:fe.projectsWithStats})}}),w=T.useMemo(()=>(Array.isArray(P)?P:[]).filter(Q=>{const M=Q.name.toLowerCase().includes(s.toLowerCase())||Q.type.toLowerCase().includes(s.toLowerCase())||Q.phone&&Q.phone.includes(s),K=a.status==="all"||a.status==="active"&&Q.isActive||a.status==="inactive"&&!Q.isActive,z=a.type==="all"||Q.type===a.type;return M&&K&&z}),[P,s,a]),_=T.useMemo(()=>({total:Array.isArray(P)?P.length:0,active:Array.isArray(P)?P.filter(Q=>Q.isActive).length:0,inactive:Array.isArray(P)?P.filter(Q=>!Q.isActive).length:0,avgWage:Array.isArray(P)&&P.length>0?P.reduce((Q,M)=>Q+parseFloat(M.dailyWage),0)/P.length:0}),[P]),k=T.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:_.total,icon:yn,color:"blue"},{key:"active",label:" ",value:_.active,icon:us,color:"green",showDot:!0,dotColor:"bg-green-500"},{key:"inactive",label:" ",value:_.inactive,icon:mn,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"avgWage",label:" ",value:A(_.avgWage),icon:Jt,color:"purple"},{key:"totalTypes",label:" ",value:U.length,icon:qO,color:"teal"},{key:"totalWorkDays",label:"  ",value:"-",icon:Qn,color:"indigo"}]}],[_,U]),S=T.useMemo(()=>[{key:"status",label:"",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"active",label:""},{value:"inactive",label:" "}]},{key:"type",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},...Array.isArray(U)?U.map(Q=>({value:Q.name,label:Q.name})):[]]}],[U]),D=()=>{t(void 0),n(!0)},O=Q=>{t(Q),n(!0)},B=Q=>{confirm(`      "${Q.name}"`)&&I.mutate(Q.id)},q=Q=>{h(Q.id),N.mutate({id:Q.id,data:{isActive:!Q.isActive}})},H=async(Q,M="excel")=>{p(Q.id),y(10),v(null);try{const K=C===ts?void 0:C,z=setInterval(()=>{y(J=>J>=90?(clearInterval(z),90):J+10)},200),F=`/api/reports/worker-statement?workerId=${Q.id}${K?`&projectId=${K}`:""}`,W=await Ie(F,"GET");if(clearInterval(z),y(100),W.success){let J=!1;M==="pdf"?J=await K5e(W.data,Q):J=await q5e(W.data,Q),b(J?{title:" ",description:`    ${Q.name} `}:{title:" ",description:"     .   .",variant:"destructive"})}}catch(K){console.error("Error exporting statement:",K),b({title:"  ",description:"    ",variant:"destructive"})}finally{setTimeout(()=>{p(null),y(0)},500)}};return T.useEffect(()=>(j(D,"  "),()=>j(null)),[j]),l.jsxs("div",{className:"container mx-auto p-4 space-y-4",children:[l.jsx(za,{hideHeader:!0,title:"",subtitle:"",statsRows:k,filters:S,onFilterChange:R,onSearchChange:i,searchValue:s,onReset:L,onRefresh:E,isRefreshing:u}),$?l.jsx(_s,{columns:4,children:Array.from({length:8}).map((Q,M)=>l.jsx(Hr,{title:"",fields:[],isLoading:!0,compact:!0},M))}):w.length===0?l.jsx(Dt,{className:"p-12 text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4 text-muted-foreground",children:[l.jsx(yn,{className:"h-12 w-12 opacity-20"}),l.jsx("p",{className:"text-lg",children:"     "}),l.jsx(_e,{variant:"outline",onClick:L,children:" "})]})}):l.jsx(_s,{columns:4,children:w.map(Q=>l.jsx(Q5e,{worker:Q,onEdit:()=>O(Q),onDelete:()=>B(Q),onToggleStatus:()=>q(Q),onExport:M=>H(Q,M),formatCurrency:A,isToggling:d===Q.id,selectedProjectId:C,isExporting:f===Q.id,exportProgress:g,exportingWorkerId:f},Q.id))}),l.jsx(G5e,{worker:e,isOpen:r,onClose:()=>n(!1)})]})}function J5e(e,t=[]){let r=[];function n(i,a){const o=T.createContext(a);o.displayName=i+"Context";const u=r.length;r=[...r,a];const c=h=>{const{scope:f,children:p,...g}=h,y=f?.[e]?.[u]||o,m=T.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:m,children:p})};c.displayName=i+"Provider";function d(h,f){const p=f?.[e]?.[u]||o,g=T.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=r.map(a=>T.createContext(a));return function(o){const u=o?.[e]||i;return T.useMemo(()=>({[`__scope${e}`]:{...o,[e]:u}}),[o,u])}};return s.scopeName=e,[n,eNe(s,...t)]}function eNe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:u,scopeName:c})=>{const h=u(i)[`__scope${c}`];return{...o,...h}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var tNe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fJ=tNe.reduce((e,t)=>{const r=s0(`Primitive.${t}`),n=T.forwardRef((s,i)=>{const{asChild:a,...o}=s,u=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),bN="Progress",vN=100,[rNe]=J5e(bN),[nNe,sNe]=rNe(bN),hJ=T.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=iNe,...a}=e;(s||s===0)&&!ZA(s)&&console.error(aNe(`${s}`,"Progress"));const o=ZA(s)?s:vN;n!==null&&!GA(n,o)&&console.error(oNe(`${n}`,"Progress"));const u=GA(n,o)?n:null,c=Sv(u)?i(u,o):void 0;return l.jsx(nNe,{scope:r,value:u,max:o,children:l.jsx(fJ.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Sv(u)?u:void 0,"aria-valuetext":c,role:"progressbar","data-state":gJ(u,o),"data-value":u??void 0,"data-max":o,...a,ref:t})})});hJ.displayName=bN;var pJ="ProgressIndicator",mJ=T.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=sNe(pJ,r);return l.jsx(fJ.div,{"data-state":gJ(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});mJ.displayName=pJ;function iNe(e,t){return`${Math.round(e/t*100)}%`}function gJ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Sv(e){return typeof e=="number"}function ZA(e){return Sv(e)&&!isNaN(e)&&e>0}function GA(e,t){return Sv(e)&&!isNaN(e)&&e<=t&&e>=0}function aNe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${vN}\`.`}function oNe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${vN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var yJ=hJ,lNe=mJ;const iu=T.forwardRef(({className:e,value:t,...r},n)=>l.jsx(yJ,{ref:n,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:l.jsx(lNe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));iu.displayName=yJ.displayName;function cNe(){const{toast:e}=zr(),[t,r]=T.useState(null),[n,s]=T.useState("local"),[i,a]=T.useState(!1),[o,u]=T.useState(""),[c,d]=T.useState(!1),[h,f]=T.useState({status:"all"}),{data:p}=st({queryKey:fe.backupsStatus,refetchInterval:5e3}),g=p?{lastRunAt:p.lastRunAt,lastSuccessAt:p.lastSuccessAt,lastFailureAt:p.lastFailureAt,lastError:p.lastError,totalSuccess:p.totalSuccess,totalFailure:p.totalFailure,isRunning:p.isRunning,schedulerEnabled:p.schedulerEnabled,cronSchedule:p.cronSchedule}:void 0,y=p?.storage,{data:m}=st({queryKey:fe.backupsDatabases}),v=T.useMemo(()=>Array.isArray(m)&&m.length>0?m:[{id:"local",name:"LOCAL"}],[m]),{data:b,isLoading:x,refetch:j}=st({queryKey:fe.backupsLogs,refetchInterval:1e4}),C=T.useMemo(()=>Array.isArray(b)?b:[],[b]),R=ht({mutationFn:async()=>await Ie("/api/backups/run","POST"),onMutate:()=>{e({title:"   ",description:"      ..."})},onSuccess:O=>{vs.invalidateQueries({queryKey:fe.backupsLogs}),vs.invalidateQueries({queryKey:fe.backupsStatus}),O.success?e({title:"   ",description:`${O.tablesCount}  | ${O.totalRows}  | ${O.sizeMB} MB |  ${O.compressionRatio}`}):e({title:"  ",description:O.message,variant:"destructive"})},onError:O=>{e({title:"  ",description:O.message,variant:"destructive"})}}),L=ht({mutationFn:async({target:O,fileName:B})=>await Ie("/api/backups/restore","POST",{fileName:B,target:O}),onMutate:()=>{e({title:" ",description:"     ..."})},onSuccess:O=>{O.success?(d(!0),e({title:"  ",description:O.message}),setTimeout(()=>window.location.reload(),3e3)):e({title:" ",description:O.message,variant:"destructive"})},onError:O=>{e({title:" ",description:O.message,variant:"destructive"})},onSettled:()=>{c||a(!1)}}),A=O=>{r(O),a(!0),d(!1)},P=()=>{t&&L.mutate({target:n,fileName:t.filename})},$=async O=>{try{const B=localStorage.getItem("accessToken"),q={};B&&(q.Authorization=`Bearer ${B}`);const H=await fetch(`/api/backups/download/${O}`,{headers:q});if(!H.ok)throw new Error(" ");const Q=await H.blob(),{downloadFile:M}=await Mr(async()=>{const{downloadFile:K}=await Promise.resolve().then(()=>d3e);return{downloadFile:K}},void 0);await M(Q,O,Q.type||"application/octet-stream")}catch(B){e({title:" ",description:B.message||"    ",variant:"destructive"})}},[V,U]=T.useState([]),E=ht({mutationFn:async O=>await Ie("/api/backups/analyze","POST",{target:O}),onSuccess:O=>{U(O.report||[]),e({title:" ",description:"   "})}}),I=ht({mutationFn:async O=>await Ie("/api/backups/test-connection","POST",{target:O}),onSuccess:O=>{e({title:O.success?" ":" ",description:O.message,variant:O.success?"default":"destructive"})}}),N=ht({mutationFn:async O=>await Ie(`/api/backups/${O}`,"DELETE"),onSuccess:O=>{e({title:"  ",description:O.message}),vs.invalidateQueries({queryKey:fe.backupsLogs}),vs.invalidateQueries({queryKey:fe.backupsStatus})},onError:O=>{e({title:" ",description:O.message,variant:"destructive"})}}),w=T.useMemo(()=>C.filter(O=>{const B=!o||O.filename.toLowerCase().includes(o.toLowerCase()),q=h.status==="all"||O.status===h.status;return B&&q}),[C,o,h.status]),_=O=>O?O<1e3?`${O}ms`:`${(O/1e3).toFixed(1)}s`:"-",k=O=>{if(!O)return"  ";const B=Date.now()-new Date(O).getTime(),q=Math.floor(B/6e4);if(q<1)return"";if(q<60)return` ${q} `;const H=Math.floor(q/60);return H<24?` ${H} `:` ${Math.floor(H/24)} `},S=[{items:[{key:"scheduler",label:" ",value:g?.schedulerEnabled?"":"",icon:mn,color:g?.schedulerEnabled?"green":"orange",subLabel:g?.cronSchedule||"-"},{key:"last_backup",label:"  ",value:k(g?.lastSuccessAt||null),icon:Zr,color:g?.lastSuccessAt?"green":"gray",subLabel:`: ${g?.totalSuccess||0} | : ${g?.totalFailure||0}`},{key:"storage",label:"",value:y?`${y.totalSizeMB} MB`:"-",icon:Im,color:"purple",subLabel:`${y?.fileCount||C.length}  | : ${y?.maxRetention||20}`},{key:"status",label:"",value:g?.isRunning?" ":"",icon:us,color:g?.isRunning?"orange":"green",subLabel:g?.lastError?`: ${g.lastError.substring(0,30)}`:" "}]}],D=[{key:"status",label:"",type:"select",options:[{label:"",value:"all"},{label:"",value:"success"},{label:"",value:"error"}]}];return l.jsxs("div",{className:"fade-in pb-32",dir:"rtl",children:[l.jsx(za,{statsRows:S,filters:D,searchValue:o,filterValues:h,onSearchChange:u,onFilterChange:(O,B)=>f(q=>({...q,[O]:B})),onReset:()=>{u(""),f({status:"all"})},onRefresh:j,isRefreshing:x||R.isPending,searchPlaceholder:"   ...",actions:[{key:"run-backup",label:R.isPending||g?.isRunning?" ...":"  ",icon:R.isPending||g?.isRunning?Dr:Boe,onClick:()=>R.mutate(),disabled:R.isPending||g?.isRunning,variant:"default"}]}),(R.isPending||g?.isRunning)&&l.jsx("div",{className:"px-4 mt-4","data-testid":"backup-progress",children:l.jsxs("div",{className:"bg-card border rounded-md p-4",children:[l.jsx("div",{className:"flex justify-between items-center mb-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Dr,{className:"h-4 w-4 animate-spin text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"   ..."})]})}),l.jsx(iu,{value:R.isPending?50:0,className:"h-2"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"      gzip"})]})}),l.jsx("div",{className:"mt-6 px-4",children:x&&C.length===0?l.jsx("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(O=>l.jsx("div",{className:"h-40 rounded-md border bg-muted/20 animate-pulse"},O))}):w.length===0?l.jsxs("div",{className:"text-center py-20 border-2 border-dashed rounded-md bg-muted/5",children:[l.jsx(Im,{className:"h-16 w-16 text-muted-foreground/20 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-muted-foreground","data-testid":"text-no-backups",children:"   "}),l.jsx("p",{className:"text-sm text-muted-foreground/60 max-w-sm mx-auto mt-2",children:'  "  "   '})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:w.map(O=>l.jsxs("div",{className:"group relative bg-card border rounded-md p-3 hover-elevate transition-all duration-300","data-testid":`card-backup-${O.filename}`,children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("div",{className:`p-2 rounded-md shrink-0 ${O.compressed?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400"}`,children:O.compressed?l.jsx(Ak,{className:"h-4 w-4"}):l.jsx(Ms,{className:"h-4 w-4"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-sm font-bold truncate",title:O.filename,children:O.filename}),l.jsx("div",{className:"flex items-center gap-2 mt-0.5 text-xs text-muted-foreground flex-wrap",children:l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Qn,{className:"h-3 w-3"}),Ga(O.createdAt)]})})]})]}),l.jsxs("div",{className:"flex items-center gap-1 shrink-0 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity",style:{visibility:"visible"},children:[l.jsx(_e,{variant:"ghost",size:"icon","data-testid":`button-download-${O.filename}`,onClick:()=>$(O.filename),children:l.jsx(em,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"ghost",size:"icon","data-testid":`button-restore-${O.filename}`,disabled:L.isPending,onClick:()=>A(O),children:l.jsx(xl,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"ghost",size:"icon","data-testid":`button-delete-${O.filename}`,disabled:N.isPending,onClick:()=>{const{dismiss:B}=e({title:" ",description:`   ${O.filename} `,action:l.jsx(_e,{variant:"destructive",size:"sm",onClick:()=>{B(),N.mutate(O.filename)},children:""})})},children:l.jsx(Nn,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2 text-center",children:[l.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:""}),l.jsxs("p",{className:"text-sm font-bold",children:[O.size," MB"]})]}),l.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:""}),l.jsx("p",{className:"text-sm font-bold",children:O.tablesCount??"-"})]}),l.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:""}),l.jsx("p",{className:"text-sm font-bold",children:O.totalRows?O.totalRows.toLocaleString():"-"})]})]}),l.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2 text-xs text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[O.compressed?l.jsx(Ak,{className:"h-3 w-3"}):l.jsx(Ms,{className:"h-3 w-3"}),O.format==="json.gz"?"":O.format]}),l.jsx("span",{children:_(O.durationMs)})]}),O.status!=="success"&&l.jsx("p",{className:"mt-2 text-xs text-destructive bg-destructive/10 p-1.5 rounded-md border border-destructive/20 truncate",children:"  "})]},O.filename))})}),l.jsx(xs,{open:i,onOpenChange:a,children:l.jsxs(ls,{className:"sm:max-w-md",dir:"rtl",children:[l.jsxs(ws,{children:[l.jsxs(Rs,{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(xl,{className:"h-5 w-5 text-orange-600"}),"  "]}),l.jsxs(Sl,{className:"text-right",children:["  : ",l.jsx("br",{}),l.jsx("span",{className:"font-mono text-xs text-primary font-bold",children:t?.filename}),t?.tablesCount&&l.jsxs("span",{className:"block mt-1 text-xs",children:[t.tablesCount,"  | ",t.totalRows?.toLocaleString(),"  | ",t.size," MB"]})]})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"text-sm font-bold block text-right flex items-center gap-2",children:[l.jsx(Li,{className:"h-4 w-4 text-primary"}),"  :"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(En,{value:n,onValueChange:O=>s(O),children:[l.jsx(bn,{className:"w-full","data-testid":"select-restore-target",children:l.jsx(An,{placeholder:" "})}),l.jsx(vn,{children:v.map(O=>l.jsx(vt,{value:O.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[O.id==="central"?l.jsx(mj,{className:"h-4 w-4"}):l.jsx(gle,{className:"h-4 w-4"}),l.jsx("span",{className:"font-bold",children:O.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",O.id,")"]})]})},O.id))})]}),l.jsx(_e,{variant:"outline",size:"icon","data-testid":"button-test-connection",onClick:()=>I.mutate(n),disabled:I.isPending,children:l.jsx(ds,{className:`h-4 w-4 ${I.isPending?"animate-spin":""}`})})]}),l.jsxs(_e,{variant:"secondary",className:"w-full text-xs","data-testid":"button-analyze-tables",onClick:()=>E.mutate(n),disabled:E.isPending,children:[E.isPending?l.jsx(Dr,{className:"h-4 w-4 animate-spin ml-2"}):l.jsx(wl,{className:"h-4 w-4 ml-2"}),"    "]}),V.length>0&&l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"max-h-48 overflow-y-auto p-3 bg-muted/30 rounded-md border text-xs space-y-1",children:[l.jsxs("p",{className:"font-bold mb-2 flex items-center gap-2",children:[l.jsx(Li,{className:"h-4 w-4"}),"   (",V.length," ):"]}),V.map((O,B)=>l.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-border/50 last:border-0",children:[l.jsx("span",{className:"font-mono",children:O.table}),l.jsxs("div",{className:"flex items-center gap-2",children:[O.rows!==void 0&&l.jsxs("span",{className:"text-muted-foreground",children:[O.rows," "]}),O.status==="exists"?l.jsx("span",{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 px-2 py-0.5 rounded-md text-[10px] font-bold",children:""}):l.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 px-2 py-0.5 rounded-md text-[10px] font-bold",children:""})]})]},B))]})})]}),L.isPending&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex justify-between items-center text-xs font-bold text-primary",children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Dr,{className:"h-3 w-3 animate-spin"})," ..."]})}),l.jsx(iu,{value:50,className:"h-2"}),l.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"   ..."})]}),c&&l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-md border border-green-200 dark:border-green-800 flex items-center gap-3",children:[l.jsx(Zr,{className:"h-8 w-8 text-green-600 shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-bold text-green-800 dark:text-green-200",children:"  "}),l.jsx("p",{className:"text-xs text-green-600/80 mt-1",children:"     "})]})]}),!L.isPending&&!c&&l.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-md border border-amber-200 dark:border-amber-800",children:l.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-200 font-medium leading-relaxed",children:":        .    ."})})]}),l.jsxs(fv,{className:"gap-3 sm:justify-start",children:[l.jsx(_e,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-restore",disabled:L.isPending||c,children:""}),l.jsx(_e,{variant:"default","data-testid":"button-confirm-restore",onClick:P,disabled:L.isPending||c,children:L.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Dr,{className:"ml-2 h-4 w-4 animate-spin"})," ..."]}):l.jsxs(l.Fragment,{children:[l.jsx(xl,{className:"ml-2 h-4 w-4"})," "]})})]})]})})]})}const XA={system:{icon:io,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-800",borderColor:"border-slate-200 dark:border-slate-700",label:""},security:{icon:io,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",label:""},maintenance:{icon:Xi,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800",label:""},warranty:{icon:Qr,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",borderColor:"border-purple-200 dark:border-purple-800",label:""},damaged:{icon:Il,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",label:""},"user-welcome":{icon:yn,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800",label:""},task:{icon:co,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",label:""},payroll:{icon:yj,color:"text-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",borderColor:"border-emerald-200 dark:border-emerald-800",label:""},announcement:{icon:io,color:"text-indigo-600",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",borderColor:"border-indigo-200 dark:border-indigo-800",label:""},safety:{icon:Ss,color:"text-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",borderColor:"border-amber-200 dark:border-amber-800",label:""}},QA={1:{label:"",color:"text-red-700",bgColor:"bg-red-100 dark:bg-red-900/30"},2:{label:"",color:"text-orange-700",bgColor:"bg-orange-100 dark:bg-orange-900/30"},3:{label:"",color:"text-yellow-700",bgColor:"bg-yellow-100 dark:bg-yellow-900/30"},4:{label:"",color:"text-blue-700",bgColor:"bg-blue-100 dark:bg-blue-900/30"},5:{label:"",color:"text-slate-700",bgColor:"bg-slate-100 dark:bg-slate-800"}},uNe=e=>typeof e=="number"?e:{critical:1,high:2,medium:3,low:4,info:5}[e]||3,dNe=e=>{const t={};return e.forEach(r=>{if(!r.createdAt){t.older||(t.older=[]),t.older.push(r);return}const n=N4(r.createdAt);let s;l_e(n)?s="today":c_e(n)?s="yesterday":o_e(n)?s="thisWeek":a_e(n)?s="thisMonth":s="older",t[s]||(t[s]=[]),t[s].push(r)}),t},fNe={today:"",yesterday:"",thisWeek:" ",thisMonth:" ",older:""},hNe=["today","yesterday","thisWeek","thisMonth","older"];function pNe(){const{toast:e}=zr(),{user:t}=ql(),[r,n]=T.useState(new Set),[s,i]=T.useState(new Set(["today","yesterday","thisWeek"])),a=t?.id||"",o=[{key:"status",label:"",type:"select",options:[{value:"all",label:""},{value:"unread",label:" "},{value:"read",label:""}]},{key:"type",label:"",type:"select",options:[{value:"all",label:""},{value:"system",label:""},{value:"security",label:""},{value:"maintenance",label:""},{value:"task",label:""},{value:"announcement",label:""},{value:"payroll",label:""},{value:"safety",label:""}]},{key:"priority",label:"",type:"select",options:[{value:"all",label:""},{value:"1",label:""},{value:"2",label:""},{value:"3",label:""},{value:"4",label:""},{value:"5",label:""}]},{key:"dateRange",label:"",type:"date-range"}],[u,c]=T.useState(""),[d,h]=T.useState({status:"all",type:"all",priority:"all",dateRange:void 0}),{data:f,isLoading:p,refetch:g}=st({queryKey:fe.notificationsByUser(a),queryFn:async()=>{const I=await Ie("/api/notifications?limit=100&unreadOnly=false");return I.success&&I.data?{notifications:I.data,unreadCount:I.unreadCount||0,total:I.total||I.data.length}:Array.isArray(I)?{notifications:I,unreadCount:I.filter(N=>!N.isRead).length,total:I.length}:I.notifications?I:{notifications:[],unreadCount:0,total:0}},refetchInterval:3e4,enabled:!!a}),y=T.useMemo(()=>{let I=f?.notifications||[];if(I=I.map(N=>({...N,priority:uNe(N.priority),status:N.status||(N.isRead?"read":"unread")})),u){const N=u.toLowerCase();I=I.filter(w=>w.title.toLowerCase().includes(N)||(w.body||w.message||"").toLowerCase().includes(N))}if(d.status!=="all"&&(I=I.filter(N=>N.status===d.status)),d.type!=="all"&&(I=I.filter(N=>N.type===d.type)),d.priority!=="all"&&(I=I.filter(N=>N.priority===parseInt(d.priority))),d.dateRange?.from){const N=d.dateRange.from,w=d.dateRange.to||new Date;I=I.filter(_=>{if(!_.createdAt)return!1;const k=N4(_.createdAt);return k>=N&&k<=w})}return I},[f,u,d]),m=T.useMemo(()=>dNe(y),[y]),v=T.useMemo(()=>({total:y.length,unread:y.filter(I=>I.status==="unread").length,critical:y.filter(I=>I.priority===1).length,high:y.filter(I=>I.priority===2).length}),[y]),b=ht({mutationFn:async I=>Ie(`/api/notifications/${I}/read`,"POST"),onSettled:()=>vs.refetchQueries({queryKey:fe.notificationsByUser(a)})}),x=ht({mutationFn:async()=>Ie("/api/notifications/mark-all-read","POST"),onSettled:()=>{vs.refetchQueries({queryKey:fe.notificationsByUser(a)}),e({title:" ",description:"    "}),n(new Set)}}),j=ht({mutationFn:async I=>Promise.all(I.map(N=>Ie(`/api/notifications/${N}/read`,"POST"))),onSettled:()=>{vs.refetchQueries({queryKey:fe.notificationsByUser(a)}),e({title:" ",description:`  ${r.size}  `}),n(new Set)}}),C=ht({mutationFn:async I=>Promise.all(I.map(N=>Ie(`/api/notifications/${N}`,"DELETE"))),onSuccess:I=>{vs.refetchQueries({queryKey:fe.notificationsByUser(a)}),e({title:" ",description:`  ${I.length}  `}),n(new Set)}}),R=T.useCallback(I=>n(N=>{const w=new Set(N);return w.has(I)?w.delete(I):w.add(I),w}),[]),L=T.useCallback(()=>{r.size===y.length?n(new Set):n(new Set(y.map(I=>I.id)))},[y,r.size]),A=T.useCallback(I=>i(N=>{const w=new Set(N);return w.has(I)?w.delete(I):w.add(I),w}),[]),P=T.useCallback((I,N)=>h(w=>({...w,[I]:N})),[]),$=T.useCallback(()=>{c(""),h({status:"all",type:"all",priority:"all",dateRange:void 0})},[]),V=T.useMemo(()=>[{title:"",value:v.total,icon:Ki,color:"blue"},{title:" ",value:v.unread,icon:Zc,color:"orange",status:v.unread>0?"warning":"normal"},{title:"",value:v.critical,icon:ble,color:"red",status:v.critical>0?"critical":"normal"},{title:"",value:v.high,icon:us,color:"amber",status:v.high>0?"warning":"normal"}],[v]),U=({notification:I})=>{const N=XA[I.type]||XA.system,w=QA[I.priority]||QA[3],_=I.status==="unread",k=r.has(I.id),[S,D]=T.useState(!1),O=N.icon,B=I.body||I.message||"",q=B.length>60;return l.jsxs("div",{className:we("group relative flex items-start gap-3 p-2 px-3 rounded-xl border transition-all duration-300",_?"bg-blue-50/40 dark:bg-blue-900/10 border-blue-200 dark:border-blue-900":"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800",k&&"ring-2 ring-blue-500 ring-offset-0 bg-blue-50/50 dark:bg-blue-900/20","hover:shadow-sm active:scale-[0.995]"),children:[l.jsxs("div",{className:"flex items-center gap-2 shrink-0 mt-1",children:[l.jsx(c0,{checked:k,onCheckedChange:()=>R(I.id),className:"w-4 h-4 rounded border-2 data-[state=checked]:bg-blue-600 shadow-sm"}),l.jsxs("div",{className:we("w-8 h-8 rounded-lg flex items-center justify-center shadow-sm relative group-hover:scale-105 transition-transform",N.bgColor),children:[l.jsx(O,{className:we("h-4 w-4",N.color)}),_&&l.jsxs("span",{className:"absolute -top-0.5 -right-0.5 flex h-2 w-2",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-blue-600 border border-white shadow-sm"})]})]})]}),l.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex flex-col min-w-0",children:[l.jsxs("h3",{className:we("text-sm font-black leading-tight truncate",_?"text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-400"),children:[I.title,!S&&l.jsxs("span",{className:we("mx-2 text-[12px] font-medium hidden sm:inline",_?"text-slate-700 dark:text-slate-300":"text-slate-500"),children:["- ",B]})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[l.jsx(ft,{variant:"secondary",className:we("text-[8px] uppercase font-black px-1.5 py-0 rounded-full",w.bgColor,w.color),children:w.label}),l.jsxs("div",{className:"flex items-center gap-1 text-[9px] font-bold text-slate-400",children:[l.jsx(mn,{className:"h-2.5 w-2.5 text-blue-400"}),l.jsx("span",{children:I.createdAt&&cr(N4(I.createdAt),"HH:mm",{locale:Di})})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[q&&l.jsx(_e,{variant:"ghost",size:"sm",className:"h-7 px-2 text-[10px] font-bold text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md",onClick:()=>D(!S),children:S?"":" "}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[_&&l.jsx(_e,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-full",onClick:()=>b.mutate(I.id),children:l.jsx(so,{className:"h-3.5 w-3.5"})}),l.jsx(_e,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full",onClick:()=>confirm("  ")&&C.mutate([I.id]),children:l.jsx(Nn,{className:"h-3.5 w-3.5"})})]})]})]}),S&&l.jsx("div",{className:"mt-2 text-[13px] leading-relaxed text-slate-600 dark:text-slate-300 animate-in fade-in slide-in-from-top-1 duration-200 pb-2",children:B})]})]})},E=({groupKey:I,notifications:N})=>{const w=s.has(I);return l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>A(I),className:"w-full flex items-center justify-between p-3 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 hover:border-blue-500 transition-all shadow-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:we("w-8 h-8 rounded-xl flex items-center justify-center transition-transform",w?"bg-blue-600 rotate-0":"bg-slate-100 dark:bg-slate-800 rotate-90"),children:w?l.jsx(pn,{className:"h-4 w-4 text-white"}):l.jsx(hd,{className:"h-4 w-4 text-slate-500"})}),l.jsx("span",{className:"text-sm font-black text-slate-900 dark:text-white",children:fNe[I]}),l.jsx(ft,{variant:"secondary",className:"h-5 px-2 text-[10px] font-black rounded-full",children:N.length})]})}),w&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 animate-in zoom-in-95 duration-300",children:N.map(_=>l.jsx(U,{notification:_},_.id))})]})};return l.jsxs("div",{className:"flex flex-col min-h-screen bg-slate-50 dark:bg-slate-950 pb-32",children:[l.jsxs("div",{className:"flex-1 p-4 md:p-8 space-y-8 max-w-8xl mx-auto w-full",children:[l.jsx(nu,{stats:V,columns:3}),l.jsx(za,{searchValue:u,onSearchChange:c,filterValues:d,onFilterChange:P,filters:o,onReset:$,onRefresh:()=>g(),isRefreshing:p,searchPlaceholder:"  ...",title:"",actions:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_e,{variant:"outline",size:"sm",className:"h-10 rounded-xl font-bold px-4",onClick:()=>x.mutate(),disabled:v.unread===0,children:"  "}),l.jsx(_e,{variant:"ghost",size:"sm",className:"h-10 rounded-xl font-bold px-4",onClick:L,children:r.size===y.length?" ":" "})]})}),l.jsx(bo,{className:"flex-1 -mx-4 px-4",children:l.jsx("div",{className:"space-y-8 pb-10 pt-2",children:p?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(I=>l.jsx(qr,{className:"h-40 rounded-3xl"},I))}):y.length>0?hNe.map(I=>m[I]?.length?l.jsx(E,{groupKey:I,notifications:m[I]},I):null):l.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center bg-white dark:bg-slate-900 rounded-[3rem] border-2 border-dashed border-slate-200 dark:border-slate-800 shadow-inner",children:[l.jsx("div",{className:"w-20 h-20 rounded-[2rem] bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center mb-6 ring-8 ring-slate-50/50",children:l.jsx(Ki,{className:"h-10 w-10 text-slate-300 animate-bounce"})}),l.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white mb-2",children:"  "}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mb-8 font-medium",children:"   !       ."})]})})})]}),r.size>0&&l.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-50 animate-in fade-in slide-in-from-bottom-10 duration-500 w-[94%] max-w-3xl",children:l.jsxs("div",{className:"flex items-center gap-2 bg-white/95 dark:bg-slate-900/95 backdrop-blur-3xl px-3 py-2.5 rounded-[2.5rem] shadow-[0_30px_70px_rgba(0,0,0,0.5)] border border-white/20 dark:border-slate-700/50 ring-1 ring-black/5 dark:ring-white/5",children:[l.jsxs("div",{className:"flex items-center gap-2.5 px-4 py-2 bg-gradient-to-br from-blue-600 to-indigo-700 dark:from-blue-500 dark:to-indigo-600 rounded-[2rem] text-white shadow-lg shrink-0",children:[l.jsx("span",{className:"flex items-center justify-center w-7 h-7 bg-white/25 rounded-full text-xs font-black ring-2 ring-white/10",children:r.size}),l.jsx("span",{className:"font-black text-xs tracking-tight whitespace-nowrap hidden xs:inline",children:""})]}),l.jsxs("div",{className:"flex items-center gap-1 flex-1 px-1",children:[r.size>2&&l.jsxs(l.Fragment,{children:[l.jsxs(_e,{variant:"ghost",size:"sm",className:"flex-1 h-12 rounded-2xl font-black text-[11px] hover:bg-slate-100 dark:hover:bg-slate-800 text-orange-600 dark:text-orange-400 gap-1.5 transition-all active:scale-95 group",onClick:()=>n(new Set),children:[l.jsx("div",{className:"w-8 h-8 rounded-xl bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:l.jsx(os,{className:"h-4 w-4 text-orange-600"})}),l.jsx("span",{className:"hidden sm:inline",children:" "}),l.jsx("span",{className:"sm:hidden",children:""})]}),l.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-800 mx-1 opacity-50"})]}),l.jsxs(_e,{variant:"ghost",size:"sm",className:"flex-1 h-12 rounded-2xl font-black text-[11px] hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-300 gap-1.5 transition-all active:scale-95 group",onClick:L,children:[l.jsx("div",{className:"w-8 h-8 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30 transition-colors",children:l.jsx(Xoe,{className:"h-4 w-4 text-slate-600 dark:text-slate-400 group-hover:text-blue-600"})}),l.jsx("span",{className:"hidden sm:inline",children:r.size===y.length?" ":" "}),l.jsx("span",{className:"sm:hidden",children:""})]}),l.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-800 mx-1 opacity-50"}),l.jsxs(_e,{variant:"ghost",size:"sm",className:"flex-1 h-12 rounded-2xl font-black text-[11px] hover:bg-blue-50 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-300 gap-1.5 transition-all active:scale-95 group",onClick:()=>j.mutate(Array.from(r)),disabled:j.isPending,children:[l.jsx("div",{className:"w-8 h-8 rounded-xl bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center group-hover:scale-110 transition-transform",children:l.jsx(so,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),l.jsx("span",{className:"hidden sm:inline",children:""}),l.jsx("span",{className:"sm:hidden",children:""})]}),l.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-800 mx-1 opacity-50"}),l.jsxs(_e,{variant:"ghost",size:"sm",className:"flex-1 h-12 rounded-2xl font-black text-[11px] hover:bg-red-50 dark:hover:bg-red-900/30 text-red-600 gap-1.5 transition-all active:scale-95 group",onClick:()=>confirm(`     ${r.size} `)&&C.mutate(Array.from(r)),disabled:C.isPending,children:[l.jsx("div",{className:"w-8 h-8 rounded-xl bg-red-100 dark:bg-red-900/50 flex items-center justify-center group-hover:scale-110 transition-transform",children:l.jsx(Nn,{className:"h-4 w-4 text-red-600"})}),l.jsx("span",{className:"hidden sm:inline",children:""}),l.jsx("span",{className:"sm:hidden",children:""})]})]}),l.jsx(_e,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400 hover:text-red-500 dark:text-slate-500 transition-all shrink-0",onClick:()=>n(new Set),children:l.jsx(os,{className:"h-5 w-5"})})]})})]})}function mNe({totalIncome:e,totalExpenses:t,remainingBalance:r,materialExpensesCredit:n,details:s}){const i=typeof e=="number"?e:parseFloat(String(e||"0"))||0,a=typeof t=="number"?t:parseFloat(String(t||"0"))||0,o=typeof r=="number"?r:parseFloat(String(r||"0"))||0,u=typeof n=="number"?n:parseFloat(String(n||"0"))||0;s?.workerWages,s?.materialCosts,s?.transportation,s?.miscExpenses,s?.workerTransfers,s?.outgoingProjectTransfers;const c=i,d=100,h=c>0?a/c*100:0,f=o>0?"text-green-400":o<0?"text-red-400":"text-yellow-400",p=o>0?"":o<0?"":"";return l.jsx("div",{className:"mt-4 space-y-3",children:l.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/30 rounded-lg p-4 backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h4",{className:"font-bold text-lg text-foreground flex items-center gap-2",children:[l.jsx(Jt,{className:"h-5 w-5 text-primary"})," "]}),l.jsx("div",{className:`text-2xl font-bold ${f}`,children:p})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[l.jsxs("div",{className:"bg-green-50 dark:bg-green-950/30 rounded-lg p-3 border border-green-200 dark:border-green-800",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(un,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),l.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:""})]}),l.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100 arabic-numbers",children:ze(i)}),c>0&&l.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[d.toFixed(1),"%  "]})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-950/30 rounded-lg p-3 border border-red-200 dark:border-red-800",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(ri,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),l.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:""})]}),l.jsx("div",{className:"text-lg font-bold text-red-900 dark:text-red-100 arabic-numbers",children:ze(a)}),c>0&&l.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:[h.toFixed(1),"%  "]})]})]}),s&&l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-4",children:[l.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[l.jsx(yn,{className:"h-3 w-3"}),""]}),l.jsx("div",{className:"text-xs font-bold",children:ze(s.workerWages||0)})]}),l.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[l.jsx(Qr,{className:"h-3 w-3"}),""]}),l.jsx("div",{className:"text-xs font-bold",children:ze(s.materialCosts||0)})]}),l.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[l.jsx(Js,{className:"h-3 w-3"}),""]}),l.jsx("div",{className:"text-xs font-bold",children:ze(s.transportation||0)})]}),l.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[l.jsx(Jt,{className:"h-3 w-3"})," "]}),l.jsx("div",{className:"text-xs font-bold",children:ze(s.workerTransfers||0)})]}),l.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[l.jsx(qy,{className:"h-3 w-3"})," "]}),l.jsx("div",{className:"text-xs font-bold",children:ze(s.outgoingProjectTransfers||0)})]}),l.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[l.jsx(Ss,{className:"h-3 w-3"}),""]}),l.jsx("div",{className:"text-xs font-bold",children:ze(s.miscExpenses||0)})]})]}),c>0&&l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:[l.jsx("div",{className:"bg-green-500",style:{width:`${d}%`}}),l.jsx("div",{className:"bg-red-500",style:{width:`${h}%`}})]})}),l.jsxs("div",{className:"bg-gradient-to-r from-primary/20 to-primary/10 rounded-lg p-3 border border-primary/30 mb-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ale,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"font-medium text-sm text-muted-foreground",children:" "})]}),l.jsx("div",{className:`text-2xl font-bold arabic-numbers ${f}`,children:ze(o)})]}),l.jsx("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:o>0?"  ":o<0?"  ":"  "})]}),u>0&&l.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 rounded-lg p-3 border border-orange-200 dark:border-orange-800",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mn,{className:"h-5 w-5 text-orange-500"}),l.jsx("span",{className:"font-medium text-sm text-orange-700 dark:text-orange-300",children:"  (   )"})]}),l.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400 arabic-numbers",children:ze(u)})]})})]})})}function gNe({projectId:e,selectedDate:t}){const[r,n]=T.useState(""),[s,i]=T.useState(""),[a,o]=T.useState(null),[u,c]=T.useState({}),[d,h]=T.useState(!1),{toast:f}=zr(),p=Yn(),{setFloatingAction:g}=vo(),y=async(A,P)=>{if(!(!P||P.trim().length<2))try{await Ie("/api/autocomplete","POST",{category:A,value:P.trim(),usageCount:1}),console.log(`     : ${A} = ${P.trim()}`)}catch($){console.warn(`Failed to save autocomplete value for ${A}:`,$)}},{data:m=[]}=st({queryKey:fe.workerMiscExpensesFiltered(e,t),queryFn:async()=>{try{const A=await Ie(`/api/worker-misc-expenses?projectId=${e}&date=${t}`,"GET");return A&&A.data&&Array.isArray(A.data)?A.data:Array.isArray(A)?A:[]}catch(A){return console.error("Error fetching worker misc expenses:",A),[]}},enabled:!!e});T.useEffect(()=>{h(m.length>0)},[m]);const v=ht({mutationFn:A=>Ie("/api/worker-misc-expenses","POST",A),onSuccess:async()=>{r&&r.trim().length>=2&&await y("workerMiscDescriptions",r.trim()),await p.invalidateQueries({queryKey:fe.autocompleteCategory("workerMiscDescriptions")}),await p.invalidateQueries({queryKey:fe.workerMiscExpenses}),await p.invalidateQueries({queryKey:fe.autocomplete}),n(""),i(""),f({title:"  ",description:"    "})},onError:A=>{const P=A?.response?.data?.message||A?.message||"    ";console.error("Error creating misc expense:",A),f({title:"   ",description:P,variant:"destructive"})}}),b=ht({mutationFn:({id:A,data:P})=>Ie(`/api/worker-misc-expenses/${A}`,"PATCH",P),onSuccess:async()=>{r&&r.trim().length>=2&&await y("workerMiscDescriptions",r.trim()),await p.invalidateQueries({queryKey:["/api/autocomplete"]}),await p.invalidateQueries({queryKey:fe.workerMiscExpenses}),await p.invalidateQueries({queryKey:fe.autocomplete}),C(),f({title:"  ",description:"   "})},onError:A=>{const P=A?.response?.data?.message||A?.message||"    ";console.error("Error updating misc expense:",A),f({title:"   ",description:P,variant:"destructive"})}}),x=ht({mutationFn:A=>Ie(`/api/worker-misc-expenses/${A}`,"DELETE"),onSuccess:()=>{p.invalidateQueries({queryKey:fe.workerMiscExpenses}),f({title:"  ",description:"   "})},onError:A=>{const P=A?.response?.data?.message||A?.message||"    ";console.error("Error deleting misc expense:",A),f({title:"   ",description:P,variant:"destructive"})}}),j=async()=>{if(!e||e==="all"){f({title:"  ",description:"      ' '.     .",variant:"destructive"});return}if(!r.trim()||!s){f({title:" ",description:"   ",variant:"destructive"});return}r&&r.trim().length>=2&&await y("workerMiscDescriptions",r.trim()),await p.invalidateQueries({queryKey:fe.autocompleteCategory("workerMiscDescriptions")}),await p.invalidateQueries({queryKey:fe.autocomplete}),a?b.mutate({id:a,data:{description:r,amount:s}}):v.mutate({description:r,amount:s,projectId:e,date:t})},C=()=>{n(""),i(""),o(null)},R=A=>{n(A.description),i(A.amount),o(A.id)},L=Array.isArray(m)?m.reduce((A,P)=>A+parseFloat(P.amount||"0"),0):0;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(is,{value:r,onChange:n,category:"workerMiscDescriptions",placeholder:""}),l.jsx(tt,{type:"number",inputMode:"decimal",value:s,onChange:A=>i(A.target.value),placeholder:"",className:"text-center arabic-numbers"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{onClick:j,size:"sm",className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 disabled:opacity-50",disabled:v.isPending||b.isPending,"data-testid":"button-add-misc-expense",children:v.isPending||b.isPending?l.jsx(Dr,{className:"h-4 w-4 animate-spin"}):a?l.jsx(wc,{className:"h-4 w-4"}):l.jsx(Hn,{className:"h-4 w-4"})}),a&&l.jsx(_e,{onClick:C,size:"sm",variant:"outline",disabled:v.isPending||b.isPending,"data-testid":"button-cancel-edit-misc-expense",children:""})]}),Array.isArray(m)&&m.map((A,P)=>l.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[l.jsx("span",{className:"text-sm flex-1",children:A.description}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium arabic-numbers",children:ze(A.amount)}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(_e,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>R(A),children:l.jsx(cl,{className:"h-3 w-3"})}),l.jsx(_e,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>x.mutate(A.id),disabled:x.isPending,children:l.jsx(Nn,{className:"h-3 w-3"})})]})]})]},A.id||P)),Array.isArray(m)&&m.length>0&&l.jsxs("div",{className:"text-left mt-2 pt-2 border-t",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-bold text-purple-600 arabic-numbers",children:ze(L.toString())})]})]})}class I4 extends T.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(t){return console.error(" [ErrorBoundary]   :",t),{hasError:!0,error:t}}componentDidCatch(t,r){console.error(" [ErrorBoundary]  :",t,r),console.error(" [ErrorBoundary] Stack trace:",t.stack)}render(){return this.state.hasError?this.props.fallback||l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:l.jsxs("div",{className:"text-center p-8",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200",children:"    "}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"      "}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 mr-4",children:"  "}),l.jsx("button",{onClick:()=>{localStorage.clear(),window.location.href="/login"},className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"  "})]}),!1]})}):this.props.children}}function yNe(){const{toast:e}=zr(),[,t]=fs(),{selectedProjectId:r,isAllProjects:n}=yo(),[s,i]=T.useState(null),[a,o]=T.useState("0"),[u,c]=T.useState(!0),[d,h]=T.useState(""),[f,p]=T.useState({dateRange:void 0,type:"all",transportCategory:"all",miscCategory:"all"}),g=T.useCallback((se,Ee)=>{if(se==="date")if(Ee instanceof Date){const at=Ee.getFullYear(),Qt=String(Ee.getMonth()+1).padStart(2,"0"),Sr=String(Ee.getDate()).padStart(2,"0");i(`${at}-${Qt}-${Sr}`)}else i(null);else se==="dateRange"?(p(at=>({...at,[se]:Ee})),Ee?.from&&i(null)):p(at=>({...at,[se]:Ee}))},[]),y=T.useCallback(()=>{h(""),p({dateRange:void 0,type:"all"}),i(Ds()),e({title:"  ",description:"      "})},[e]),[m,v]=T.useState(!1),[b,x]=T.useState(!1),[j,C]=T.useState(),[R,L]=T.useState(!1),[A,P]=T.useState(!1),[$,V]=T.useState(!1),[U,E]=T.useState(!1),[I,N]=T.useState(!1),[w,_]=T.useState(!1),[k,S]=T.useState(!1),[D,O]=T.useState(!0),[B,q]=T.useState(!1),{data:H=[],isLoading:Q}=st({queryKey:fe.workerMiscExpensesFiltered(r,s),queryFn:async()=>{if(!r&&!n||!s)return[];const Ee=await Ie(`/api/worker-misc-expenses?projectId=${n?"all":r}&date=${s}`,"GET");return Array.isArray(Ee)?Ee:Ee?.data||[]},enabled:(!!r||n)&&!!s});T.useEffect(()=>{!Q&&H.length>0?q(!0):q(!1)},[H.length,Q,s]);const[M,K]=T.useState(""),[z,F]=T.useState(""),[W,J]=T.useState(""),[le,ne]=T.useState(""),[ue,Z]=T.useState(null),[te,X]=T.useState(),[ae,re]=T.useState(""),[ee,G]=T.useState(""),[Y,ie]=T.useState(""),[ce,me]=T.useState(null),[xe,Ce]=T.useState("worker_transport"),[Ae,$e]=T.useState(""),[Le,rt]=T.useState(""),[qe,Ve]=T.useState(""),[he,de]=T.useState(""),[Pe,Oe]=T.useState(null),[yt,Mt]=T.useState(""),[it,zt]=T.useState(""),[nt,gt]=T.useState(""),ut=Yn(),{setFloatingAction:sr}=vo(),_t=()=>{if(!s)return;const se=new Date(s);se.setDate(se.getDate()+1);const Ee=se.getFullYear(),at=String(se.getMonth()+1).padStart(2,"0"),Qt=String(se.getDate()).padStart(2,"0");i(`${Ee}-${at}-${Qt}`)},ir=()=>{if(!s)return;const se=new Date(s);se.setDate(se.getDate()-1);const Ee=se.getFullYear(),at=String(se.getMonth()+1).padStart(2,"0"),Qt=String(se.getDate()).padStart(2,"0");i(`${Ee}-${at}-${Qt}`)},Wt=async(se,Ee)=>{if(!(!Ee||Ee.trim().length<2))try{await Ie("/api/autocomplete","POST",{category:se,value:Ee.trim(),usageCount:1}),console.log(`     : ${se} = ${Ee.trim()}`)}catch(at){console.warn(`Failed to save autocomplete value for ${se}:`,at)}};T.useEffect(()=>{i(Ds())},[]),T.useEffect(()=>(sr(null),()=>sr(null)),[sr]);const Et=async()=>{const se=[];z&&z.trim().length>=2&&se.push(Wt("senderNames",z)),W&&W.trim().length>=1&&se.push(Wt("transferNumbers",W)),le&&le.trim().length>=2&&se.push(Wt("transferTypes",le)),se.length>0&&await Promise.all(se)},hr={staleTime:1e3*60*60,gcTime:1e3*60*180,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1,placeholderData:se=>se},{data:er=[],error:Bt}=st({queryKey:fe.workers,queryFn:async()=>{try{const se=await Ie("/api/workers","GET");return Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[]}catch{return[]}},...hr}),{data:be=[],refetch:Se}=st({queryKey:fe.workerAttendance(r,s),queryFn:async()=>{if(!r||!s)return[];const se=await Ie(`/api/worker-attendance?projectId=${r}&date=${s}`,"GET");return Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[]},enabled:!!r&&!!s}),De=T.useMemo(()=>er.filter(se=>!be.some(Ee=>Ee.workerId===se.id)),[er,be]),{data:He=[],error:kt}=st({queryKey:fe.projects,queryFn:async()=>{try{const se=await Ie("/api/projects","GET");return Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[]}catch{return[]}},...hr}),Ze=ht({mutationFn:se=>Ie("/api/worker-attendance","POST",se),onSuccess:()=>{Vt(),rt(""),Ve(""),de(""),$e(""),e({title:"  ",description:"    "})},onError:async se=>{try{const Ee={workerId:Ae,days:Le?parseFloat(Le):0,amount:qe?parseFloat(qe):0,notes:he,selectedDate:s,projectId:r};await Df("create","/api/worker-attendance",Ee),e({title:"  ",description:"   -    ",variant:"default"})}catch{e({title:"",description:se?.message||"    ",variant:"destructive"})}}}),bt=ht({mutationFn:se=>Ie(`/api/worker-attendance/${se.id}`,"PATCH",se),onSuccess:()=>{Vt(),Oe(null),Mt(""),zt(""),gt(""),e({title:" ",description:"    "})},onError:se=>{e({title:"",description:se?.message||"    ",variant:"destructive"})}}),Ct=()=>{if(!r||r==="all"||n){e({title:"  ",description:"      ' '.     .",variant:"destructive"});return}if(!Ae||!Le&&!qe){e({title:" ",description:"        ",variant:"destructive"});return}const se=er.find(Or=>Or.id===Ae);if(!se){e({title:"",description:"     ",variant:"destructive"});return}const Ee=parseFloat(String(se.dailyWage||"0")),at=parseFloat(Le||"0"),Qt=parseFloat(qe||"0"),Sr=Ee*at,Je={workerId:Ae,projectId:r,attendanceDate:s||Ds(),workDays:at,dailyWage:Ee.toString(),actualWage:Sr.toString(),totalPay:Sr.toString(),paidAmount:qe||"0",remainingAmount:(Sr-Qt).toString(),workDescription:he||(at>0?" ":"  "),notes:he,wellId:j||null,paymentType:Qt>0?Qt>=Sr&&Sr>0?"full":"partial":"credit"};console.log(" [DailyExpenses]   :",Je),Ze.mutate(Je)},{data:mt=[]}=st({queryKey:fe.materials,queryFn:async()=>{try{const se=await Ie("/api/materials","GET");return se&&se.data&&Array.isArray(se.data)?se.data:[]}catch(se){return console.warn("     :",se),[]}},staleTime:1e3*60*30,gcTime:1e3*60*60,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1}),{data:Rt=[],refetch:It}=st({queryKey:fe.dailyProjectTransfers(n?"all":r,s),queryFn:async()=>{try{const Ee=await Ie(`/api/daily-project-transfers?projectId=${n?"all":r}&date=${s||""}`,"GET");console.log(" [ProjectTransfers]  API  :",Ee);let at=[];return Ee&&Ee.data&&Array.isArray(Ee.data)?at=Ee.data:Array.isArray(Ee)&&(at=Ee),Array.isArray(at)?(console.log(` [ProjectTransfers]   ${at.length}   ${s}   `),at):[]}catch(se){return console.error("Error fetching daily project transfers:",se),[]}},enabled:!!r&&!!s&&u,staleTime:1e3*60*60,gcTime:1e3*60*180,refetchOnMount:!1,refetchOnWindowFocus:!1}),$t=Array.isArray(Rt)?Rt:[],{summary:Gt,allProjects:$r,totals:pr,isLoading:ge,refetch:Ke}=rp({projectId:r==="all"?"all":r,date:s&&s!=="null"?s:void 0,dateFrom:f.dateRange?.from?Ga(f.dateRange.from):void 0,dateTo:f.dateRange?.to?Ga(f.dateRange.to):void 0,enabled:n||!!r}),oe=T.useMemo(()=>n?pr:{totalIncome:Gt?.income?.totalIncome||0,totalCashExpenses:Gt?.expenses?.totalCashExpenses||0,totalAllExpenses:Gt?.expenses?.totalAllExpenses||0,totalExpenses:Gt?.expenses?.totalAllExpenses||0,cashBalance:Gt?.cashBalance||0,totalBalance:Gt?.totalBalance||0,currentBalance:Gt?.totalBalance||0,totalWorkers:Gt?.workers?.totalWorkers||0,activeWorkers:Gt?.workers?.activeWorkers||0,materialExpensesCredit:Gt?.expenses?.materialExpensesCredit||0,carriedForwardBalance:Gt?.income?.carriedForwardBalance||0,totalWorkerWages:Gt?.expenses?.workerWages||0,totalTransportation:Gt?.expenses?.transportExpenses||0,totalMaterialCosts:Gt?.expenses?.materialExpenses||0,totalWorkerTransfers:Gt?.expenses?.workerTransfers||0,totalMiscExpenses:Gt?.expenses?.miscExpenses||0,totalFundTransfers:Gt?.income?.fundTransfers||0,incomingProjectTransfers:Gt?.income?.incomingProjectTransfers||0,outgoingProjectTransfers:Gt?.expenses?.outgoingProjectTransfers||0,remainingBalance:Gt?.totalBalance||0},[n,pr,Gt]);T.useMemo(()=>oe.totalIncome,[oe]);const ve=T.useMemo(()=>oe.totalIncome+parseFloat(String(oe.carriedForwardBalance||0)),[oe]);T.useMemo(()=>oe.totalCashExpenses,[oe]);const Te=T.useMemo(()=>ve-oe.totalCashExpenses,[ve,oe.totalCashExpenses]),{data:Re,isLoading:dt,error:Xe,refetch:Qe}=st({queryKey:fe.dailyExpensesComplex(n?"all-projects":r,s?"daily-expenses":"all-expenses",s),queryFn:async()=>{try{if(n){const Ee=s&&s!=="null"?`/api/projects/all-projects-total?date=${s}`:"/api/projects/all-projects-total",at=await Ie(Ee,"GET"),Qt=s&&s!=="null"?`/api/projects/all-projects-expenses?date=${s}`:"/api/projects/all-projects-expenses",Sr=await Ie(Qt,"GET");return Sr&&Sr.success&&Sr.data?at&&at.success&&at.data?{...Sr.data,carriedForwardBalance:at.data.carriedForwardBalance}:Sr.data:null}if(!r)return null;if(!s||s==="null"){const Ee=await Ie(`/api/projects/${r}/all-expenses`,"GET");return Ee&&Ee.success&&Ee.data?Ee.data:null}const se=await Ie(`/api/projects/${r}/daily-expenses/${s}`,"GET");return se&&se.success&&se.data?se.data:null}catch(se){throw console.error("   :",se),se}},enabled:n||!!r,retry:1,staleTime:1e3*60*10,gcTime:1e3*60*60,refetchOnMount:!1,refetchOnWindowFocus:!1,placeholderData:se=>se}),Ut=T.useMemo(()=>Re?.carriedForwardBalance!==void 0?Re.carriedForwardBalance:oe.carriedForwardBalance||0,[oe.carriedForwardBalance,Re]),Xt=T.useMemo(()=>{const se=Re?.carriedForwardBalance!==void 0?Re.carriedForwardBalance:oe.carriedForwardBalance||0;return oe.totalIncome+se-oe.totalCashExpenses},[oe.totalIncome,oe.totalCashExpenses,oe.carriedForwardBalance,Re]);T.useMemo(()=>({totalIncome:oe.totalIncome,totalExpenses:oe.totalCashExpenses,remainingBalance:Xt,materialExpensesCredit:oe.materialExpensesCredit,carriedForward:Ut,details:{workerWages:oe.totalWorkerWages,materialCosts:oe.totalMaterialCosts,transportation:oe.totalTransportation,miscExpenses:oe.totalMiscExpenses,workerTransfers:oe.totalWorkerTransfers,outgoingProjectTransfers:oe.outgoingProjectTransfers}}),[oe,Xt,Ut]);const Vt=T.useCallback(()=>{ut.invalidateQueries({queryKey:fe.projects}),Qe(),It(),Ke(),Se()},[ut,Qe,It,Ke,Se]),{todayFundTransfers:St,todayWorkerAttendance:_r,todayTransportation:kr,todayMaterialPurchases:vr,todayWorkerTransfers:Wr,todayMiscExpenses:wn}=T.useMemo(()=>{if(!Re)return{todayFundTransfers:[],todayWorkerAttendance:[],todayTransportation:[],todayMaterialPurchases:[],todayWorkerTransfers:[],todayMiscExpenses:[]};const se=Re.data||Re;return{todayFundTransfers:Array.isArray(se.fundTransfers)?se.fundTransfers:[],todayWorkerAttendance:Array.isArray(se.workerAttendance)?se.workerAttendance:[],todayTransportation:Array.isArray(se.transportationExpenses)?se.transportationExpenses:[],todayMaterialPurchases:Array.isArray(se.materialPurchases)?se.materialPurchases:[],todayWorkerTransfers:Array.isArray(se.workerTransfers)?se.workerTransfers:[],todayMiscExpenses:Array.isArray(se.miscExpenses)?se.miscExpenses:[]}},[Re]),nn=Array.isArray(_r)?_r:[],$n=Array.isArray(kr)?kr:[],Cs=Array.isArray(vr)?vr:[],zs=Array.isArray(Wr)?Wr:[],aa=Array.isArray(wn)?wn:[],Bs=Array.isArray(St)?St:[];T.useEffect(()=>{C(void 0),X(void 0)},[r]),T.useEffect(()=>{P(Bs.length>0),V($n.length>0),E(nn.length>0),N(Cs.length>0),_(zs.length>0),S($t.length>0),q(aa.length>0)},[Bs.length,$n.length,nn.length,Cs.length,zs.length,$t.length,aa.length]);const Er=T.useMemo(()=>{if(!d.trim())return Bs;const se=d.toLowerCase().trim();return Bs.filter(Ee=>Ee.senderName?.toLowerCase().includes(se)||Ee.transferType?.toLowerCase().includes(se)||Ee.transferNumber?.toLowerCase().includes(se)||Ee.amount?.toString().includes(se))},[Bs,d]),gr=T.useMemo(()=>{if(!d.trim())return nn;const se=d.toLowerCase().trim();return nn.filter(Ee=>er.find(Qt=>Qt.id===Ee.workerId)?.name?.toLowerCase().includes(se)||Ee.workDescription?.toLowerCase().includes(se)||Ee.notes?.toLowerCase().includes(se))},[nn,er,d]),oa=T.useMemo(()=>{if(!d.trim())return $n;const se=d.toLowerCase().trim();return $n.filter(Ee=>Ee.description?.toLowerCase().includes(se)||Ee.notes?.toLowerCase().includes(se)||Ee.amount?.toString().includes(se))},[$n,d]),Ba=T.useMemo(()=>{if(!d.trim())return Cs;const se=d.toLowerCase().trim();return Cs.filter(Ee=>mt.find(Qt=>Qt.id===Ee.materialId)?.name?.toLowerCase().includes(se)||Ee.supplier?.toLowerCase().includes(se)||Ee.notes?.toLowerCase().includes(se)||Ee.totalAmount?.toString().includes(se))},[Cs,mt,d]),Zl=T.useMemo(()=>{if(!d.trim())return zs;const se=d.toLowerCase().trim();return zs.filter(Ee=>er.find(Qt=>Qt.id===Ee.workerId)?.name?.toLowerCase().includes(se)||Ee.notes?.toLowerCase().includes(se)||Ee.amount?.toString().includes(se))},[zs,er,d]),Ts=T.useMemo(()=>{if(!d.trim())return aa;const se=d.toLowerCase().trim();return aa.filter(Ee=>Ee.description?.toLowerCase().includes(se)||Ee.notes?.toLowerCase().includes(se)||Ee.amount?.toString().includes(se))},[aa,d]),{data:Us}=st({queryKey:fe.previousBalance(r,s),queryFn:async()=>{try{const se=await Ie(`/api/projects/${r}/previous-balance/${s}`,"GET");return se&&se.data&&se.data.balance!==void 0?se.data.balance||"0":se?.balance||"0"}catch(se){return console.error("Error fetching previous balance:",se),"0"}},enabled:!!r&&!!s&&!n,staleTime:1e3*60*2,gcTime:1e3*60*5,refetchOnMount:!1,refetchOnWindowFocus:!1,placeholderData:void 0});T.useEffect(()=>{Us!=null&&(console.log("  carriedForward:",{previousBalance:Us,type:typeof Us}),o(Us))},[Us]),T.useEffect(()=>{(r||n)&&ut.invalidateQueries({queryKey:fe.projects,refetchType:"none"})},[r,s,n,ut]),T.useEffect(()=>{(async()=>{const Ee=[" "," "," "," ","",""];for(const at of Ee)try{await Wt("transferTypes",at)}catch(Qt){console.log(`Type ${at} initialization skipped:`,Qt)}})()},[]);const la=ht({mutationFn:async se=>{await Et();const Ee={...se,wellId:te||null};return Ie("/api/fund-transfers","POST",Ee)},onSuccess:async se=>{Vt(),ut.invalidateQueries({queryKey:fe.autocomplete}),e({title:"  ",description:"    "}),K(""),F(""),J(""),ne("")},onError:async se=>{await Et(),ut.invalidateQueries({queryKey:fe.autocomplete}),console.error("   :",se);let Ee="    ";se?.response?.data?.message?Ee=se.response.data.message:se?.message?Ee=se.message:typeof se=="string"&&(Ee=se);try{const at={fundAmount:M?parseFloat(M):0,senderName:z,transferNumber:W,transferType:le,selectedDate:s,projectId:r,wellId:te||null};await Df("create","/api/fund-transfers",at),e({title:"  ",description:`${Ee} -    `,variant:"default"})}catch{e({title:"   ",description:Ee,variant:"destructive"})}}}),Jo=ht({mutationFn:async se=>{ae&&ae.trim().length>=2&&await Wt("transportDescriptions",ae),Y&&Y.trim().length>=2&&await Wt("notes",Y);const Ee={...se,wellId:j||null};return Ie("/api/transportation-expenses","POST",Ee)},onSuccess:async se=>{Vt(),ut.invalidateQueries({queryKey:["/api/autocomplete","transportDescriptions"]}),ut.invalidateQueries({queryKey:["/api/autocomplete","notes"]}),ut.invalidateQueries({queryKey:fe.autocomplete}),e({title:"  ",description:"    "}),re(""),G(""),ie("")},onError:async se=>{ae&&ae.trim().length>=2&&Wt("transportDescriptions",ae).catch(()=>{}),ut.invalidateQueries({queryKey:fe.autocomplete});try{const Ee={description:ae,amount:ee?parseFloat(ee):0,notes:Y,selectedDate:s,projectId:r,wellId:j||null};await Df("create","/api/transportation-expenses",Ee),e({title:"  ",description:"   -    ",variant:"default"})}catch{e({title:"   ",description:se?.message||"     ",variant:"destructive"})}}}),Gl=ht({mutationFn:se=>Ie("/api/daily-expense-summaries","POST",se),onSuccess:()=>{Vt(),e({title:" ",description:"     "})},onError:()=>{e({title:"",description:"    ",variant:"destructive"})}}),xo=ht({mutationFn:se=>Ie(`/api/fund-transfers/${se}`,"DELETE"),onSuccess:(se,Ee)=>{ut.setQueryData(fe.dailyExpenses(r,s),at=>at&&{...at,fundTransfers:at.fundTransfers?.filter(Qt=>Qt.id!==Ee)||[]}),Vt(),e({title:" ",description:"   "})},onError:se=>{console.error("   :",se);let Ee="    ";se?.response?.data?.message?Ee=se.response.data.message:se?.message&&(Ee=se.message),e({title:"   ",description:Ee,variant:"destructive"})}}),ca=ht({mutationFn:se=>Ie(`/api/transportation-expenses/${se}`,"DELETE"),onSuccess:(se,Ee)=>{ut.setQueryData(fe.dailyExpenses(r,s),at=>at&&{...at,transportationExpenses:at.transportationExpenses?.filter(Qt=>Qt.id!==Ee)||[]}),Vt(),e({title:" ",description:"    "})},onError:se=>{console.error("    :",se);let Ee="     ";se?.response?.data?.message?Ee=se.response.data.message:se?.response?.data?.error?Ee=se.response.data.error:se?.message?Ee=se.message:typeof se=="string"&&(Ee=se),e({title:"    ",description:Ee,variant:"destructive"})}}),Hd=ht({mutationFn:se=>Ie(`/api/material-purchases/${se}`,"DELETE"),onMutate:()=>({projectId:r,date:s}),onSuccess:(se,Ee,at)=>{const{projectId:Qt,date:Sr}=at||{projectId:r,date:s};ut.setQueryData(fe.dailyExpenses(Qt,Sr),Je=>Je&&{...Je,materialPurchases:Je.materialPurchases?.filter(Or=>Or.id!==Ee)||[]}),ut.invalidateQueries({queryKey:fe.dailyExpenses(Qt,Sr)}),ut.invalidateQueries({queryKey:fe.materialPurchases(Qt)}),ut.invalidateQueries({queryKey:fe.previousBalance(Qt)}),e({title:" ",description:"    "})},onError:se=>{console.error("    :",se);let Ee="     ";se?.response?.data?.message?Ee=se.response.data.message:se?.response?.data?.error?Ee=se.response.data.error:se?.message?Ee=se.message:typeof se=="string"&&(Ee=se),e({title:"    ",description:Ee,variant:"destructive"})}}),vu=ht({mutationFn:se=>Ie(`/api/project-fund-transfers/${se}`,"DELETE"),onSuccess:()=>{Vt(),It(),e({title:" ",description:"    "})},onError:se=>{e({title:"",description:se?.message||"    ",variant:"destructive"})}}),[M0,lp]=T.useState(null),Kd=se=>{t(`/project-transfers?edit=${se.id}`)},Zd=ht({mutationFn:se=>Ie(`/api/worker-attendance/${se}`,"DELETE"),onMutate:()=>({projectId:r,date:s}),onSuccess:(se,Ee,at)=>{const{projectId:Qt,date:Sr}=at||{projectId:r,date:s};ut.setQueryData(fe.dailyExpenses(Qt,Sr),Je=>Je&&{...Je,workerAttendance:Je.workerAttendance?.filter(Or=>Or.id!==Ee)||[]}),ut.invalidateQueries({queryKey:fe.dailyExpenses(Qt,Sr)}),ut.invalidateQueries({queryKey:fe.projectAttendance(Qt)}),ut.invalidateQueries({queryKey:fe.previousBalance(Qt)}),e({title:" ",description:"    "})},onError:se=>{console.error("    :",se);let Ee="     ";se?.response?.data?.message?Ee=se.response.data.message:se?.response?.data?.error?Ee=se.response.data.error:se?.message?Ee=se.message:typeof se=="string"&&(Ee=se),e({title:"    ",description:Ee,variant:"destructive"})}}),xu=ht({mutationFn:se=>Ie(`/api/worker-transfers/${se}`,"DELETE"),onMutate:()=>({projectId:r,date:s}),onSuccess:(se,Ee,at)=>{const{projectId:Qt,date:Sr}=at||{projectId:r,date:s};ut.setQueryData(fe.dailyExpenses(Qt,Sr),Je=>Je&&{...Je,workerTransfers:Je.workerTransfers?.filter(Or=>Or.id!==Ee)||[]}),ut.invalidateQueries({queryKey:fe.dailyExpenses(Qt,Sr)}),ut.invalidateQueries({queryKey:fe.previousBalance(Qt)}),e({title:" ",description:"    "})},onError:se=>{console.error("    :",se);let Ee="     ";se?.response?.data?.message?Ee=se.response.data.message:se?.response?.data?.error?Ee=se.response.data.error:se?.message?Ee=se.message:typeof se=="string"&&(Ee=se),e({title:"    ",description:Ee,variant:"destructive"})}}),Xl=ht({mutationFn:({id:se,data:Ee})=>Ie(`/api/fund-transfers/${se}`,"PATCH",Ee),onSuccess:async(se,{id:Ee})=>{ut.invalidateQueries({queryKey:fe.dailyExpenses(r,s)}),ut.invalidateQueries({queryKey:fe.previousBalance(r)}),z&&await Wt("senderNames",z),W&&await Wt("transferNumbers",W),ut.invalidateQueries({queryKey:fe.autocomplete}),qN(),e({title:" ",description:"   "})},onError:se=>{console.error("   :",se);let Ee="    ";se?.response?.data?.message?Ee=se.response.data.message:se?.message&&(Ee=se.message),e({title:"   ",description:Ee,variant:"destructive"})}}),qN=()=>{K(""),F(""),J(""),ne(""),Z(null)},jte=se=>{K(se.amount),F(se.senderName||""),J(se.transferNumber||""),ne(se.transferType),Z(se.id)},Nte=()=>{if(!r||n){e({title:"  ",description:"       .        ",variant:"destructive"});return}if(!M||M.trim()===""||parseFloat(M)<=0){e({title:"",description:"   ",variant:"destructive"});return}if(!le||le.trim()===""){e({title:"",description:"   ",variant:"destructive"});return}const se={projectId:r,amount:M.toString(),senderName:z.trim()||" ",transferNumber:W.trim()||null,transferType:le,transferDate:s,notes:"",wellId:te||null};ue?Xl.mutate({id:ue,data:se}):la.mutate(se)},X1=ht({mutationFn:({id:se,data:Ee})=>Ie(`/api/transportation-expenses/${se}`,"PATCH",Ee),onSuccess:async(se,{id:Ee})=>{ut.invalidateQueries({queryKey:fe.dailyExpenses(r,s)}),ut.invalidateQueries({queryKey:fe.previousBalance(r)}),ae&&ae.trim().length>=2&&await Wt("transportDescriptions",ae),Y&&Y.trim().length>=2&&await Wt("notes",Y),ut.invalidateQueries({queryKey:["/api/autocomplete","transportDescriptions"]}),ut.invalidateQueries({queryKey:["/api/autocomplete","notes"]}),ut.invalidateQueries({queryKey:fe.autocomplete}),HN(),e({title:" ",description:"    "})},onError:()=>{e({title:"",description:"    ",variant:"destructive"})}}),HN=()=>{re(""),G(""),ie(""),Ce("worker_transport"),me(null)},Cte=se=>{re(se.description),G(se.amount),ie(se.notes||""),Ce(se.category||"worker_transport"),me(se.id)},Tte=()=>{if(!r||n){e({title:"  ",description:"       .        ",variant:"destructive"});return}if(!ae||!ee){e({title:"",description:"    ",variant:"destructive"});return}const se={projectId:r,description:ae,amount:ee,date:s||new Date().toISOString().split("T")[0],category:xe,notes:Y,wellId:j||null};ce?X1.mutate({id:ce,data:se}):Jo.mutate(se)},Ete=()=>{if(!r){e({title:"",description:"   ",variant:"destructive"});return}Gl.mutate({projectId:r,date:s||new Date().toISOString().split("T")[0],carriedForwardAmount:a,totalFundTransfers:(oe.totalFundTransfers||0).toString(),totalWorkerWages:(oe.totalWorkerWages||0).toString(),totalMaterialCosts:(oe.totalMaterialCosts||0).toString(),totalTransportationCosts:(oe.totalTransportation||0).toString(),totalIncome:(oe.totalIncome||0).toString(),totalExpenses:(oe.totalCashExpenses||oe.totalExpenses||0).toString(),remainingBalance:(oe.remainingBalance||oe.totalBalance||0).toString()})},Ate=T.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"workerWages",label:" ",value:ze(oe.totalWorkerWages),icon:yn,color:"blue"},{key:"fundTransfers",label:" ",value:ze(oe.totalFundTransfers),icon:qoe,color:"green"},{key:"materials",label:"",value:ze(oe.totalMaterialCosts),icon:Qr,color:"purple"}]},{columns:3,gap:"sm",items:[{key:"transportation",label:"",value:ze(oe.totalTransportation),icon:Js,color:"orange"},{key:"miscExpenses",label:"",value:ze(oe.totalMiscExpenses),icon:Ow,color:"amber"},{key:"projectTransfers",label:"",splitValue:{incoming:oe.incomingProjectTransfers,outgoing:oe.outgoingProjectTransfers},value:ze(oe.incomingProjectTransfers-oe.outgoingProjectTransfers),icon:Un,color:"teal",isSplitCard:!0}]},{columns:3,gap:"sm",items:[{key:"workerTransfers",label:"",value:ze(oe.totalWorkerTransfers),icon:qy,color:"indigo"},{key:"totalExpenses",label:"",value:ze(oe.totalExpenses),icon:ri,color:"red"},{key:"remainingBalance",label:"",value:ze(oe.totalBalance),icon:Fo,color:oe.totalBalance>=0?"emerald":"rose"}]}],[oe]),Pte=["","",""," ",""],Ite=T.useMemo(()=>[{key:"date",label:"",type:"date",placeholder:" "},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"type",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"wages",label:" "},{value:"transport",label:""},{value:"materials",label:""},{value:"misc",label:""},{value:"fund",label:""}]},{key:"transportCategory",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}]},{key:"miscCategory",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},...Pte.map(se=>({value:se,label:se}))]}],[]),Dte=async()=>{x(!0);try{await ut.invalidateQueries({queryKey:fe.dailyExpenses(r,s)})}finally{x(!1)}},KN=T.useCallback(async()=>{v(!0);try{const se=[];console.log(" [Excel Export]  :",{fundTransfers:Er.length,attendance:gr.length,transportation:oa.length,materials:Ba.length,workerTransfers:Zl.length,miscExpenses:Ts.length});const Ee=es(a);Ee!==0&&se.push({id:"previous-balance",date:s||new Date().toISOString().split("T")[0],type:"income",category:" ",amount:Math.abs(Ee),description:Ee>0?"  ()":"  ()",projectName:He.find(Je=>Je.id===r)?.name||" "}),Er.forEach(Je=>{se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:"income",category:"",amount:es(Je.amount),description:`  ${Je.senderName||" "}`,projectId:Je.projectId,projectName:He.find(Or=>Or.id===Je.projectId)?.name||" ",transferMethod:Je.transferType,recipientName:Je.senderName})}),$t.forEach(Je=>{const Or=Je.toProjectId===r,Vs=He.find(el=>el.id===Je.fromProjectId),Si=He.find(el=>el.id===Je.toProjectId);se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:Or?"transfer_from_project":"expense",category:Or?" ":" ",amount:es(Je.amount),description:Or?`  ${Vs?.name||" "}`:`  ${Si?.name||" "}`,projectId:Or?Je.fromProjectId:Je.toProjectId,projectName:Or?Vs?.name:Si?.name})}),gr.forEach(Je=>{const Or=er.find(Q1=>Q1.id===Je.workerId),Vs=es(Je.paidAmount),Si=es(Je.payableAmount),el=Vs===0&&Si>0;se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:el?"deferred":"expense",category:" ",amount:Vs,description:Je.workDescription||" ",projectId:Je.projectId,projectName:He.find(Q1=>Q1.id===Je.projectId)?.name||" ",workerName:Or?.name||" ",workDays:es(Je.workDays)||void 0,dailyWage:es(Je.dailyWage)||void 0,payableAmount:Si||void 0})}),oa.forEach(Je=>{se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:"expense",category:"",amount:es(Je.amount),description:Je.description||" ",projectId:Je.projectId,projectName:He.find(Or=>Or.id===Je.projectId)?.name||" "})}),Ba.forEach(Je=>{const Or=mt.find(Si=>Si.id===Je.materialId),Vs=Je.purchaseType==="";se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:Vs?"expense":"deferred",category:" ",amount:Vs?es(Je.totalAmount):0,description:` ${Or?.name||""}`,projectId:Je.projectId,projectName:He.find(Si=>Si.id===Je.projectId)?.name||" ",materialName:Or?.name||Je.materialName,quantity:es(Je.quantity)||void 0,unitPrice:es(Je.unitPrice)||void 0,paymentType:Je.purchaseType,supplierName:Je.supplier||Je.supplierName})}),Zl.forEach(Je=>{const Or=er.find(Vs=>Vs.id===Je.workerId);se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:"expense",category:" ",amount:es(Je.amount),description:Je.notes||" ",projectId:Je.projectId,projectName:He.find(Vs=>Vs.id===Je.projectId)?.name||" ",workerName:Or?.name||" ",recipientName:Or?.name})}),Ts.forEach(Je=>{se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:"expense",category:"",amount:es(Je.amount),description:Je.description||" ",projectId:Je.projectId,projectName:He.find(Or=>Or.id===Je.projectId)?.name||" "})});const at={totalIncome:oe.totalIncome||0,totalExpenses:oe.totalCashExpenses||oe.totalExpenses||0,balance:oe.remainingBalance||oe.totalBalance||0},Qt=n?" ":He.find(Je=>Je.id===r)?.name||"",Sr=await IY(se,at,ze,`${Qt}${s?` - ${s}`:""}`);e(Sr?{title:"  ",description:`  ${se.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(se){console.error("  :",se),e({title:" ",description:"    ",variant:"destructive"})}finally{v(!1)}},[Er,gr,oa,Ba,Zl,Ts,$t,er,mt,He,r,s,n,e]),Mte=T.useMemo(()=>[{key:"export",icon:Ag,label:" Excel",onClick:KN,variant:"outline",loading:m,tooltip:"     Excel"}],[m,KN]),ZN={fundTransfers:Array.isArray(St)&&St.length>0,attendance:Array.isArray(_r)&&_r.length>0,transportation:Array.isArray(kr)&&kr.length>0,materials:Array.isArray(vr)&&vr.length>0,workerTransfers:Array.isArray(Wr)&&Wr.length>0,miscExpenses:Array.isArray(wn)&&wn.length>0};return Object.keys(ZN).length,Object.values(ZN).filter(Boolean).length,l.jsxs("div",{className:"p-4 slide-in space-y-4",children:[l.jsx(za,{hideHeader:!0,title:"",statsRows:Ate,searchValue:d,onSearchChange:h,searchPlaceholder:"  ...",showSearch:!0,filters:Ite,filterValues:{date:s?(()=>{const[se,Ee,at]=s.split("-").map(Number);return new Date(se,Ee-1,at,12,0,0,0)})():void 0,dateRange:f.dateRange,type:f.type,transportCategory:f.transportCategory,miscCategory:f.miscCategory},onFilterChange:g,onReset:y,onRefresh:Dte,isRefreshing:b,actions:Mte}),!n&&!f.dateRange?.from&&s&&l.jsxs("div",{className:"flex items-center justify-between gap-2 bg-white dark:bg-slate-900 p-2 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm mx-auto w-full max-w-md",children:[l.jsx(_e,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",onClick:ir,title:" ",children:l.jsx(hd,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})}),l.jsxs("div",{className:"flex flex-col items-center flex-1",children:[l.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider",children:" "}),l.jsxs("span",{className:"text-sm font-black text-slate-900 dark:text-white arabic-numbers flex items-center gap-1.5",children:[l.jsx(Qn,{className:"h-3.5 w-3.5 text-primary"}),cr(new Date(s),"EEEE, d MMMM yyyy",{locale:Di})]})]}),l.jsx(_e,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",onClick:_t,title:" ",children:l.jsx(Lb,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})})]}),Re?.groupedByProjectDate&&Re.groupedByProjectDate.length>0?l.jsx("div",{className:"space-y-4",children:Re.groupedByProjectDate.map((se,Ee)=>l.jsx(Hr,{title:se.projectName,subtitle:`  ${Ga(se.date)}`,titleIcon:Tk,headerColor:"#3b82f6",badges:[{label:Ga(se.date),variant:"default"},{label:se.remainingBalance>=0?" ":"",variant:se.remainingBalance>=0?"success":"destructive"}],fields:[{label:" ",value:ze(se.totalIncome||0),icon:un,color:"success",emphasis:!0},{label:" ",value:ze(se.totalExpenses||0),icon:ri,color:"danger",emphasis:!0},{label:" ",value:ze(se.totalWorkerWages||0),icon:yn,color:"info"},{label:"",value:ze(se.totalTransportation||0),icon:Js,color:"warning"},{label:"",value:ze(se.totalMaterialCosts||0),icon:Qr,color:"info"},{label:"",value:ze(se.totalMiscExpenses||0),icon:Ow,color:"muted"},{label:" ",value:ze(se.totalWorkerTransfers||0),icon:qy,color:"warning"},{label:"",value:ze(se.remainingBalance||0),icon:Fo,color:(se.remainingBalance||0)>=0?"success":"danger",emphasis:!0}]},`${se.projectId}-${se.date}-${Ee}`))}):r&&s&&l.jsx(Hr,{title:He?.find(se=>se.id===r)?.name||"",subtitle:`  ${Ga(s)}`,titleIcon:Tk,headerColor:"#3b82f6",badges:[{label:Ga(s),variant:"default"},{label:pr.remainingBalance>=0?" ":"",variant:pr.remainingBalance>=0?"success":"destructive"}],fields:[{label:" ",value:ze(pr.totalIncome),icon:un,color:"success",emphasis:!0},{label:" ",value:ze(pr.totalExpenses),icon:ri,color:"danger",emphasis:!0},{label:" ",value:ze(pr.totalWorkerWages),icon:yn,color:"info"},{label:"",value:ze(pr.totalTransportation),icon:Js,color:"warning"},{label:"",value:ze(pr.totalMaterialCosts),icon:Qr,color:"info"},{label:"",value:ze(pr.totalMiscExpenses),icon:Ow,color:"muted"},{label:" ",value:ze(pr.totalWorkerTransfers),icon:qy,color:"warning"},{label:"",value:ze(pr.remainingBalance),icon:Fo,color:pr.remainingBalance>=0?"success":"danger",emphasis:!0}]}),l.jsx(fa,{open:R,onOpenChange:L,children:l.jsxs(Dt,{className:"mb-4",children:[l.jsx(ha,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-muted/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hn,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"font-medium text-foreground",children:"  "})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:R?" ":" "}),R?l.jsx(lo,{className:"h-5 w-5 text-muted-foreground"}):l.jsx(pn,{className:"h-5 w-5 text-muted-foreground"})]})]})}),l.jsx(pa,{children:l.jsxs(Ht,{className:"p-4 pt-0",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsx("div",{children:l.jsx(Vo,{label:"",value:s||"",onChange:se=>i(se?cr(se,"yyyy-MM-dd"):null)})}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground",children:"  "}),l.jsx(tt,{type:"number",inputMode:"decimal",value:a,onChange:se=>o(se.target.value),placeholder:"0",className:"text-center arabic-numbers min-h-11",autoWidth:!0,maxWidth:200})]})]}),l.jsx("div",{className:"border-t pt-3",children:l.jsxs(fa,{open:A,onOpenChange:P,children:[l.jsx(ha,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsx("h4",{className:"font-medium text-foreground",children:"  "}),l.jsxs("div",{className:"flex items-center gap-1",children:[Bs.length>0&&l.jsx(ft,{variant:"outline",className:"h-5 text-[10px]",children:Bs.length}),l.jsx(pn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),l.jsxs(pa,{className:"pt-2",children:[Xe&&l.jsx("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("p",{className:"text-red-700 text-sm",children:["   : ",Xe.message]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),l.jsx(tt,{type:"number",inputMode:"decimal",value:M,onChange:se=>K(se.target.value),placeholder:" *",className:"text-center arabic-numbers",min:"0",step:"0.01"})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground mb-1",children:" "}),l.jsx(is,{value:z,onChange:F,category:"senderNames",placeholder:" "})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground mb-1",children:" "}),l.jsx(is,{type:"number",inputMode:"numeric",value:W,onChange:J,category:"transferNumbers",placeholder:" ",className:"w-full arabic-numbers"})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground mb-1",children:"  *"}),l.jsx(is,{value:le,onChange:ne,category:"transferTypes",placeholder:"  *",className:"flex-1"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{onClick:Nte,size:"sm",className:"flex-1 bg-primary",disabled:la.isPending||Xl.isPending,"data-testid":"button-add-fund-transfer",children:la.isPending||Xl.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):ue?l.jsxs(l.Fragment,{children:[l.jsx(wc,{className:"h-4 w-4 ml-2"}),"  "]}):l.jsxs(l.Fragment,{children:[l.jsx(Hn,{className:"h-4 w-4 ml-2"}),"  "]})}),ue&&l.jsx(_e,{onClick:qN,size:"sm",variant:"outline",children:""})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t",children:[l.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:"  :"}),dt?l.jsx("div",{className:"text-center text-muted-foreground",children:" ..."}):Bs.length>0?l.jsxs("div",{className:"space-y-2",children:[Bs.map((se,Ee)=>l.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-blue-100 dark:border-blue-900/20 rounded-lg shadow-sm hover:shadow-md transition-all",children:l.jsxs("div",{className:"flex justify-between items-start gap-3",children:[l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-semibold text-foreground text-sm",children:se.senderName||" "}),l.jsx(ft,{variant:"secondary",className:"text-[10px] px-1.5 h-4 bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400 border-none",children:se.transferType})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px] text-muted-foreground",children:[se.transferNumber&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"opacity-70",children:" :"}),l.jsx("span",{className:"font-medium text-foreground",children:se.transferNumber})]}),n&&se.projectName&&l.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[l.jsx("span",{children:""}),l.jsx("span",{className:"font-medium",children:se.projectName})]})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsx("span",{className:"font-bold text-primary arabic-numbers text-sm",children:ze(se.amount)}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(_e,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>jte(se),"data-testid":"button-edit-fund-transfer",children:l.jsx(cl,{className:"h-3.5 w-3.5"})}),l.jsx(_e,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>xo.mutate(se.id),disabled:xo.isPending,"data-testid":"button-delete-fund-transfer",children:xo.isPending?l.jsx("div",{className:"h-3.5 w-3.5 animate-spin rounded-full border-2 border-red-600 border-t-transparent"}):l.jsx(Nn,{className:"h-3.5 w-3.5"})})]})]})]})},se.id||Ee)),l.jsxs("div",{className:"text-left pt-2 border-t mt-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-bold text-primary arabic-numbers text-base",children:ze(pr.totalFundTransfers)})]})]}):l.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[l.jsx(Jt,{className:"mx-auto h-8 w-8 text-gray-400"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["     ",s]})]})]})]})]})}),l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(fa,{open:$,onOpenChange:V,children:[l.jsx(ha,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(Zoe,{className:"text-secondary ml-2 h-5 w-5"}),"  "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[$n.length>0&&l.jsx(ft,{variant:"outline",className:"h-5 text-[10px]",children:$n.length}),l.jsx(pn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),l.jsxs(pa,{className:"pt-2",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),l.jsx(is,{value:ae,onChange:re,category:"transportDescriptions",placeholder:""})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),l.jsxs(En,{value:xe,onValueChange:Ce,children:[l.jsx(bn,{className:"arabic-numbers",children:l.jsx(An,{placeholder:" "})}),l.jsxs(vn,{children:[l.jsx(vt,{value:"worker_transport",children:" "}),l.jsx(vt,{value:"material_delivery",children:" "}),l.jsx(vt,{value:"concrete_transport",children:" "}),l.jsx(vt,{value:"iron_platforms",children:"  "}),l.jsx(vt,{value:"fuel_shas",children:" "}),l.jsx(vt,{value:"fuel_hilux",children:" "}),l.jsx(vt,{value:"loading_unloading",children:" "}),l.jsx(vt,{value:"maintenance",children:" "}),l.jsx(vt,{value:"water_supply",children:" "}),l.jsx(vt,{value:"other",children:""})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),l.jsx(tt,{type:"number",inputMode:"decimal",value:ee,onChange:se=>G(se.target.value),placeholder:"",className:"text-center arabic-numbers"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx(Fe,{className:"block text-sm font-medium text-foreground mb-1",children:""}),l.jsx(is,{value:Y,onChange:ie,category:"notes",placeholder:"",className:"flex-1"})]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-3 mb-3",children:r&&!n&&l.jsx("div",{className:"flex flex-col",children:l.jsx(Ym,{projectId:r,value:j,onChange:C,optional:!0})})}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(_e,{onClick:Tte,size:"sm",className:"w-full bg-secondary",disabled:Jo.isPending||X1.isPending,"data-testid":"button-add-transportation",children:Jo.isPending||X1.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):ce?l.jsxs(l.Fragment,{children:[l.jsx(wc,{className:"h-4 w-4 ml-2"}),"  "]}):l.jsxs(l.Fragment,{children:[l.jsx(Hn,{className:"h-4 w-4 ml-2"}),"  "]})}),ce&&l.jsx(_e,{onClick:HN,size:"sm",variant:"outline",children:""})]})]}),$n.length>0&&l.jsxs("div",{className:"mt-3 space-y-2",children:[$n.map((se,Ee)=>l.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-orange-200 dark:border-orange-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-semibold text-foreground text-sm",children:se.description}),l.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400 arabic-numbers text-base",children:ze(se.amount)})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(ft,{variant:"outline",className:"text-[10px] bg-orange-100/50 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 border-orange-200 dark:border-orange-800",children:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}].find(at=>at.value===se.category)?.label||""}),se.notes&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",se.notes]})]}),se.wellName&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",se.wellName]}),n&&se.projectName&&l.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",se.projectName]})]}),l.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[l.jsx(_e,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>Cte(se),"data-testid":"button-edit-transportation",children:l.jsx(cl,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>ca.mutate(se.id),disabled:ca.isPending,"data-testid":"button-delete-transportation",children:ca.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):l.jsx(Nn,{className:"h-4 w-4"})})]})]})},Ee)),l.jsxs("div",{className:"text-left mt-3 pt-3 border-t bg-orange-100 dark:bg-orange-900/40 p-3 rounded-lg border border-orange-200 dark:border-orange-800",children:[l.jsx("span",{className:"text-sm font-bold text-orange-900 dark:text-orange-100",children:" : "}),l.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400 arabic-numbers text-lg",children:ze(pr.totalTransportation)})]})]})]})]})}),l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(fa,{open:U,onOpenChange:E,children:[l.jsx(ha,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(yn,{className:"text-primary ml-2 h-5 w-5"}),"   "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[nn.length>0&&l.jsx(ft,{variant:"outline",className:"h-5 text-[10px]",children:nn.length}),l.jsx(pn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),l.jsxs(pa,{className:"pt-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-3 items-end",children:[l.jsxs("div",{className:"col-span-6",children:[l.jsx(Fe,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),l.jsxs(En,{value:Ae||"none",onValueChange:se=>$e(se==="none"?"":se),children:[l.jsx(bn,{className:"h-9 text-xs","data-testid":"select-worker",children:l.jsx(An,{placeholder:" "})}),l.jsxs(vn,{className:"p-0 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b sticky top-0 bg-popover z-50",children:l.jsx(tt,{placeholder:"  ...",className:"h-8 w-full text-xs",onChange:se=>h(se.target.value),value:d,onClick:se=>{se.preventDefault(),se.stopPropagation()},onKeyDown:se=>{se.key===" "&&se.stopPropagation()}})}),l.jsxs("div",{className:"max-h-[200px] overflow-y-auto p-1",children:[l.jsx(vt,{value:"none",className:"text-xs",children:" "}),De&&De.length>0?De.filter(se=>!d||se.name&&se.name.toLowerCase().includes(d.toLowerCase())).map(se=>l.jsx(vt,{value:se.id?.toString()||"none",className:"text-xs",children:se.name},`worker-select-${se.id}`)):l.jsx(vt,{value:"none",disabled:!0,className:"text-xs",children:"    ( )"})]})]})]})]}),l.jsxs("div",{className:"col-span-3",children:[l.jsx(Fe,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),l.jsx(tt,{type:"number",value:Le,onChange:se=>rt(se.target.value),placeholder:"0",className:"text-center h-9 text-xs",min:"0",step:"0.5","data-testid":"input-worker-days"})]}),l.jsxs("div",{className:"col-span-3",children:[l.jsx(Fe,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),l.jsx(tt,{type:"number",value:qe,onChange:se=>Ve(se.target.value),placeholder:"0",className:"text-center arabic-numbers h-9 text-xs",min:"0",step:"0.01","data-testid":"input-worker-amount"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx(Fe,{className:"text-xs font-bold text-foreground mb-1",children:""}),l.jsx(tt,{type:"text",value:he,onChange:se=>de(se.target.value),placeholder:" ",className:"h-9","data-testid":"input-worker-notes"})]}),r&&!n&&l.jsx("div",{className:"mb-3",children:l.jsx(Ym,{projectId:r,value:j,onChange:C,optional:!0})}),l.jsx("div",{className:"flex gap-2",children:l.jsx(_e,{onClick:Ct,className:"bg-primary h-9 flex-1",disabled:Ze.isPending,"data-testid":"button-add-worker-attendance",children:Ze.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):l.jsxs(l.Fragment,{children:[l.jsx(Hn,{className:"h-4 w-4 ml-1"}),"  "]})})}),Pe&&l.jsxs("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-900/30 rounded-lg",children:[l.jsx("h5",{className:"font-medium text-foreground mb-3",children:"  "}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx(Fe,{className:"text-xs font-bold text-foreground mb-1",children:""}),l.jsx(tt,{type:"number",value:yt,onChange:se=>Mt(se.target.value),className:"text-center h-9",min:"0",step:"0.5","data-testid":"input-edit-worker-days"})]}),l.jsxs("div",{children:[l.jsx(Fe,{className:"text-xs font-bold text-foreground mb-1",children:""}),l.jsx(tt,{type:"number",value:it,onChange:se=>zt(se.target.value),className:"text-center h-9",min:"0",step:"0.01","data-testid":"input-edit-worker-amount"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx(Fe,{className:"text-xs font-bold text-foreground mb-1",children:""}),l.jsx(tt,{type:"text",value:nt,onChange:se=>gt(se.target.value),placeholder:" ",className:"h-9","data-testid":"input-edit-worker-notes"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{onClick:()=>{bt.mutate({id:Pe,workDays:yt,paidAmount:it,notes:nt})},className:"bg-primary h-9 flex-1",disabled:bt.isPending,"data-testid":"button-save-edit-worker-attendance",children:bt.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):l.jsxs(l.Fragment,{children:[l.jsx(wc,{className:"h-4 w-4 ml-1"})," "]})}),l.jsx(_e,{onClick:()=>{Oe(null),Mt(""),zt(""),gt("")},variant:"outline",className:"h-9",children:""})]})]}),nn.length>0&&l.jsxs("div",{className:"mt-3",children:[l.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"   :"}),l.jsxs("div",{className:"space-y-2",children:[nn.map((se,Ee)=>{const at=er.find(Or=>Or.id===se.workerId),Qt=es(se.payableAmount),Sr=es(se.paidAmount),Je=Qt-Sr;return l.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-blue-200 dark:border-blue-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-semibold text-foreground text-sm",children:se.workerName||at?.name||` ${Ee+1}`}),at?.type&&l.jsx(ft,{variant:"outline",className:`text-[10px] px-1.5 h-4 flex items-center border-none ${at.type.includes("")?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":at.type.includes("")?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":at.type.includes("")?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":at.type.includes("")?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":at.type.includes("")?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":at.type.includes("")?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":at.type.includes("")?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":at.type.includes("")?"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}`,children:at.type})]}),l.jsx("span",{className:"font-bold text-primary arabic-numbers text-base",children:ze(Sr)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"text-muted-foreground",children:[l.jsx("span",{children:": "}),l.jsx("span",{className:"font-medium text-foreground",children:es(se.workDays)||0})]}),l.jsxs("div",{className:"text-muted-foreground",children:[l.jsx("span",{children:" : "}),l.jsx("span",{className:"font-medium text-foreground",children:ze(es(se.dailyWage||at?.dailyWage))})]})]}),Je>0&&l.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:[": ",ze(Je)]}),se.workDescription&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",se.workDescription]}),l.jsx("div",{className:"flex flex-col gap-1",children:se.notes&&l.jsxs("p",{className:"text-xs text-muted-foreground bg-amber-50 dark:bg-amber-950/30 p-2 rounded-md border border-amber-200 dark:border-amber-900/50 mt-1",children:[l.jsx("span",{className:"font-bold text-amber-700 dark:text-amber-400",children:": "}),se.notes]})}),n&&se.projectName&&l.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",se.projectName]})]}),l.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[l.jsx(_e,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>{Oe(se.id),Mt(es(se.workDays).toString()),zt(es(se.paidAmount).toString()),gt(se.notes||"")},children:l.jsx(cl,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>Zd.mutate(se.id),disabled:Zd.isPending,"data-testid":"button-delete-worker-attendance",children:Zd.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):l.jsx(Nn,{className:"h-4 w-4"})})]})]})},Ee)}),l.jsxs("div",{className:"text-left mt-3 pt-3 border-t bg-blue-50 dark:bg-blue-950/20 p-2 rounded",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:"  : "}),l.jsx("span",{className:"font-bold text-primary arabic-numbers",children:ze(pr.totalWorkerWages)})]})]})]})]})]})}),l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(fa,{open:I,onOpenChange:N,children:[l.jsx(ha,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(Qr,{className:"text-green-600 ml-2 h-5 w-5"}),"  "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[Cs.length>0&&l.jsx(ft,{variant:"outline",className:"h-5 text-[10px]",children:Cs.length}),l.jsx(pn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),l.jsxs(pa,{className:"pt-2",children:[l.jsxs(_e,{variant:"outline",onClick:()=>t("/material-purchase"),className:"w-full border-2 border-dashed border-green-300 text-green-600 hover:bg-green-50 mb-3",children:[l.jsx(Hn,{className:"ml-2 h-4 w-4"}),"   "]}),Cs.length>0&&l.jsxs("div",{className:"space-y-2",children:[Cs.map((se,Ee)=>{const at=se.materialName||se.material?.name||"  ",Qt=se.materialUnit||se.unit||se.material?.unit||"",Sr=se.purchaseType||"",Je=Sr==="",Or=Sr===""||Sr===""||Sr==="";let Vs="border-orange-200 dark:border-orange-900/30",Si="bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400",el="text-orange-600";return Je?(Vs="border-green-200 dark:border-green-900/30",Si="bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",el="text-green-600"):Or&&(Vs="border-blue-200 dark:border-blue-900/30",Si="bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400",el="text-blue-600"),l.jsx("div",{className:`p-3 border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${Si.split(" ")[0]} bg-opacity-5 ${Vs}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-semibold text-foreground text-sm",children:at}),l.jsx("span",{className:`font-bold arabic-numbers text-base ${el}`,children:ze(se.totalAmount)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"text-muted-foreground",children:[l.jsx("span",{children:": "}),l.jsxs("span",{className:"font-medium text-foreground",children:[se.quantity," ",Qt]})]}),l.jsxs("div",{className:"text-muted-foreground",children:[l.jsx("span",{children:": "}),l.jsx("span",{className:"font-medium text-foreground",children:ze(se.unitPrice)})]})]}),se.supplierName&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",se.supplierName]}),l.jsx("div",{className:`inline-block text-xs font-semibold px-2 py-1 rounded ${Si}`,children:Sr}),n&&se.projectName&&l.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",se.projectName]})]}),l.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[l.jsx(_e,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>t(`/material-purchase?edit=${se.id}`),children:l.jsx(cl,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>Hd.mutate(se.id),disabled:Hd.isPending,children:Hd.isPending?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):l.jsx(Nn,{className:"h-4 w-4"})})]})]})},Ee)}),l.jsxs("div",{className:"text-left mt-2 pt-2 border-t space-y-1",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-bold text-success arabic-numbers",children:ze(pr.totalMaterialCosts)})]}),(()=>{const se=Array.isArray(vr)?vr.filter(Ee=>Ee.purchaseType==="").reduce((Ee,at)=>Ee+parseFloat(at.totalAmount||"0"),0):0;return se>0?l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-bold text-orange-600 arabic-numbers",children:ze(se)})]}):null})()]})]})]})]})}),l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(fa,{open:w,onOpenChange:_,children:[l.jsx(ha,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(Jt,{className:"text-yellow-600 ml-2 h-5 w-5"}),"   "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[zs.length>0&&l.jsx(ft,{variant:"outline",className:"h-5 text-[10px]",children:zs.length}),l.jsx(pn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),l.jsxs(pa,{className:"pt-2",children:[l.jsxs(_e,{variant:"outline",onClick:()=>t("/worker-accounts"),className:"w-full border-2 border-dashed border-yellow-300 text-yellow-600 hover:bg-yellow-50 mb-3",children:[l.jsx(Hn,{className:"ml-2 h-4 w-4"}),"   "]}),zs.length>0&&l.jsxs("div",{className:"space-y-2",children:[zs.map((se,Ee)=>{const at=er.find(Sr=>Sr.id===se.workerId),Qt=se.transferMethod==="hawaleh"?"":se.transferMethod==="bank"?" ":"";return l.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-yellow-200 dark:border-yellow-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-semibold text-foreground text-sm",children:at?.name||"  "}),l.jsx("span",{className:"font-bold text-yellow-600 dark:text-yellow-500 arabic-numbers text-base",children:ze(se.amount)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"text-muted-foreground",children:[l.jsx("span",{children:": "}),l.jsx("span",{className:"font-medium text-foreground",children:se.recipientName})]}),l.jsxs("div",{className:"text-muted-foreground",children:[l.jsx("span",{children:": "}),l.jsx("span",{className:"font-medium text-foreground",children:Qt})]})]}),se.transferNumber&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"opacity-70",children:" : "}),l.jsx("span",{className:"font-medium text-foreground",children:se.transferNumber})]}),n&&se.projectName&&l.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",se.projectName]})]}),l.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[l.jsx(_e,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>t(`/worker-accounts?edit=${se.id}&worker=${se.workerId}`),children:l.jsx(cl,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{window.confirm("      ")&&xu.mutate(se.id)},disabled:xu.isPending,children:l.jsx(Nn,{className:"h-4 w-4"})})]})]})},Ee)}),l.jsxs("div",{className:"text-left mt-2 pt-2 border-t bg-yellow-50 dark:bg-yellow-950/20 p-2 rounded",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-bold text-warning arabic-numbers",children:ze(oe.totalWorkerTransfers)})]})]})]})]})}),l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(fa,{open:k,onOpenChange:S,children:[l.jsx(ha,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(Dc,{className:"text-orange-600 ml-2 h-5 w-5"}),"   "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[$t.length>0&&l.jsx(ft,{variant:"outline",className:"h-5 text-[10px]",children:$t.length}),l.jsx(pn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),l.jsxs(pa,{className:"pt-2",children:[l.jsxs(_e,{variant:"outline",onClick:()=>t("/project-transfers"),className:"w-full border-2 border-dashed border-orange-300 text-orange-600 hover:bg-orange-50 mb-3",children:[l.jsx(Hn,{className:"ml-2 h-4 w-4"}),"  "]}),$t.length>0&&l.jsx("div",{className:"space-y-3",children:$t.map(se=>l.jsx("div",{className:`p-3 rounded border-r-4 ${se.toProjectId===r?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:se.toProjectId===r?l.jsxs("span",{className:"text-green-700",children:["  : ",se.fromProjectName]}):l.jsxs("span",{className:"text-red-700",children:["  : ",se.toProjectName]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:`font-bold arabic-numbers ${se.toProjectId===r?"text-green-600":"text-red-600"}`,children:[se.toProjectId===r?"+":"-",ze(se.amount)]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(_e,{size:"icon",variant:"ghost",className:"h-7 w-7 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>Kd(se),children:l.jsx(cl,{className:"h-3.5 w-3.5"})}),l.jsx(_e,{size:"icon",variant:"ghost",className:"h-7 w-7 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("      ")&&vu.mutate(se.id)},disabled:vu.isPending,children:l.jsx(Nn,{className:"h-3.5 w-3.5"})})]})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsxs("div",{children:[": ",se.transferReason||" "]}),se.description&&l.jsxs("div",{className:"mt-1",children:[": ",se.description]}),l.jsxs("div",{className:"mt-1",children:[": ",Ga(se.transferDate)]})]})]})})},se.id))})]})]})}),r&&l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(fa,{open:B,onOpenChange:q,children:[l.jsx(ha,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(Qr,{className:"text-purple-600 ml-2 h-5 w-5"}),"   "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[H.length>0&&l.jsx(ft,{variant:"outline",className:"h-5 text-[10px]",children:H.length}),l.jsx(pn,{className:`h-4 w-4 text-muted-foreground transition-transform ${B?"rotate-180":""}`})]})]})}),l.jsx(pa,{className:"pt-2",children:l.jsx(gNe,{projectId:r,selectedDate:s||new Date().toISOString().split("T")[0]})})]})}),l.jsx("div",{className:"border-t pt-3 mt-3",children:l.jsxs(fa,{open:D,onOpenChange:O,children:[l.jsx(ha,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(Po,{className:"text-primary ml-2 h-5 w-5"}),"  "]}),l.jsx(pn,{className:`h-4 w-4 text-muted-foreground transition-transform ${D?"rotate-180":""}`})]})}),l.jsx(pa,{className:"pt-2",children:l.jsx(mNe,{totalIncome:oe.totalIncome,totalExpenses:oe.totalCashExpenses,remainingBalance:Te,details:{workerWages:oe.totalWorkerWages,materialCosts:oe.totalMaterialCosts,transportation:oe.totalTransportation,miscExpenses:oe.totalMiscExpenses,workerTransfers:oe.totalWorkerTransfers,outgoingProjectTransfers:oe.outgoingProjectTransfers}})})]})}),l.jsx("div",{className:"mt-4",children:l.jsxs(_e,{onClick:Ete,disabled:Gl.isPending,className:"w-full bg-success hover:bg-success/90 text-success-foreground",children:[l.jsx(wc,{className:"ml-2 h-4 w-4"}),Gl.isPending?" ...":" "]})})]})})]})})]})}function bNe(){return l.jsx(I4,{children:l.jsx(yNe,{})})}const vNe=[" "," ","","","","",""," "],YA={pending:{label:" ",color:"bg-gray-100 text-gray-800",badgeVariant:"outline"},in_progress:{label:" ",color:"bg-yellow-100 text-yellow-800",badgeVariant:"warning"},completed:{label:"",color:"bg-green-100 text-green-800",badgeVariant:"success"}};function xNe(){const{selectedProjectId:e}=yo(),{toast:t}=zr(),r=Yn(),{setFloatingAction:n}=vo(),[s,i]=T.useState(vNe),{searchValue:a,filterValues:o,onSearchChange:u,onFilterChange:c,onReset:d}=U1({region:"all",status:"all"}),[h,f]=T.useState(!1),[p,g]=T.useState({}),[y,m]=T.useState(!1),[v,b]=T.useState(null),[x,j]=T.useState(!1),[C,R]=T.useState(""),[L,A]=T.useState(!1),[P,$]=T.useState(""),{data:V=[]}=st({queryKey:fe.autocompleteOwnerNames(e),queryFn:async()=>{const M=await Ie("/api/autocomplete?category=ownerNames");return Array.isArray(M.data)?M.data:[]},enabled:!!e}),{data:U=[]}=st({queryKey:fe.autocompleteFanTypes(e),queryFn:async()=>{const M=await Ie("/api/autocomplete?category=fanTypes");return Array.isArray(M.data)?M.data:[]},enabled:!!e}),{data:E=[]}=st({queryKey:fe.autocompletePumpPowers(e),queryFn:async()=>{const M=await Ie("/api/autocomplete?category=pumpPowers");return Array.isArray(M.data)?M.data:[]},enabled:!!e});T.useEffect(()=>(n(()=>{f(!0)},"+  "),()=>{n(null)}),[n]);const{data:I=[],isLoading:N,isFetching:w}=st({queryKey:fe.wellsByProject(e),queryFn:async()=>e?(await Ie(`/api/wells?projectId=${e}`)).data||[]:[],enabled:!!e,staleTime:300*1e3,retry:1}),_=ht({mutationFn:async M=>Ie("/api/autocomplete","POST",{category:"fanTypes",value:M}),onSuccess:()=>{t({title:"",description:"    "}),r.invalidateQueries({queryKey:fe.autocompleteFanTypesPrefix}),j(!1),R("")},onError:M=>{t({title:"",description:M.message||"    ",variant:"destructive"})}}),k=ht({mutationFn:async M=>Ie("/api/autocomplete","POST",{category:"pumpPowers",value:M}),onSuccess:()=>{t({title:"",description:"    "}),r.invalidateQueries({queryKey:fe.autocompletePumpPowersPrefix}),A(!1),$("")},onError:M=>{t({title:"",description:M.message||"    ",variant:"destructive"})}}),S=ht({mutationFn:async M=>Ie("/api/autocomplete","POST",{category:"ownerNames",value:M}),onSuccess:()=>{r.invalidateQueries({queryKey:fe.autocompleteOwnerNamesPrefix})},onError:M=>{console.error("    :",M)}}),D=M=>{g({...p,ownerName:M}),M.trim()&&!V.includes(M)&&S.mutate(M)},O=ht({mutationFn:async M=>{if(!e||e==="all")throw new Error("    ");return Ie("/api/wells","POST",{...M,projectId:e})},onSuccess:()=>{t({title:"",description:"   "}),r.invalidateQueries({queryKey:fe.wells}),f(!1),g({})},onError:M=>{t({title:"",description:M.message||"   ",variant:"destructive"})}}),B=ht({mutationFn:async M=>{if(!v?.id)throw new Error("   ");return Ie(`/api/wells/${v.id}`,"PUT",{...M,projectId:e})},onSuccess:()=>{t({title:"",description:"   "}),r.invalidateQueries({queryKey:fe.wells}),m(!1),b(null)},onError:M=>{t({title:"",description:M.message||"   ",variant:"destructive"})}}),q=ht({mutationFn:async M=>Ie(`/api/wells/${M}`,"DELETE"),onSuccess:()=>{t({title:"",description:"   "}),r.invalidateQueries({queryKey:fe.wells})},onError:M=>{t({title:"",description:M.message||"   ",variant:"destructive"})}}),H=T.useMemo(()=>I.filter(M=>{const K=M.ownerName.toLowerCase().includes(a.toLowerCase())||M.wellNumber.toString().includes(a),z=o.region==="all"||M.region===o.region,F=o.status==="all"||M.status===o.status;return K&&z&&F}),[I,a,o]),Q=T.useMemo(()=>({total:I.length,completed:I.filter(M=>M.status==="completed").length,inProgress:I.filter(M=>M.status==="in_progress").length,pending:I.filter(M=>M.status==="pending").length,avgCompletion:I.length>0?Math.round(I.reduce((M,K)=>M+(K.completionPercentage||0),0)/I.length):0}),[I]);return!e||e==="all"?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("p",{className:"text-gray-500",children:"      "})}):N?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx(X8,{className:"w-8 h-8 animate-spin text-blue-500"})}):l.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[l.jsx(nu,{title:" ",hideHeader:!1,stats:[{title:" ",value:Q.total,icon:Po,color:"blue",status:Q.total===0?"normal":void 0},{title:"",value:Q.completed,icon:Io,color:"green",status:Q.completed>Q.inProgress?"normal":"warning"},{title:" ",value:Q.inProgress,icon:X8,color:"amber",status:Q.inProgress>0?"normal":void 0},{title:"  ",value:Q.pending,icon:Io,color:"gray",status:Q.pending>Q.completed?"warning":void 0},{title:" ",value:`${Q.avgCompletion}%`,icon:Po,color:"indigo"}],columns:3,showStatus:!0}),l.jsx(yN,{searchValue:a,onSearchChange:u,searchPlaceholder:"     ...",showSearch:!0,filters:[{key:"region",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...s.map(M=>({value:M,label:M}))],defaultValue:"all"},{key:"status",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],defaultValue:"all"}],filterValues:o,onFilterChange:c,onReset:d,showResetButton:!0,showActiveFilters:!0,compact:!1}),l.jsx(xs,{open:h,onOpenChange:f,children:l.jsxs(ls,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsx(ws,{className:"pb-2",children:l.jsx(Rs,{children:"  "})}),l.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-2",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(tt,{type:"number",value:p.wellNumber||"",onChange:M=>g({...p,wellNumber:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base",autoWidth:!0,maxWidth:200})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(Fn,{value:p.ownerName||"",onValueChange:D,options:V.map(M=>({value:M,label:M})),placeholder:"    ",searchPlaceholder:"   ...",showSearch:!0,allowCustom:!0,onCustomAdd:M=>S.mutate(M)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:" *"}),l.jsx(Fn,{value:p.region||"",onValueChange:M=>g({...p,region:M}),options:s.map(M=>({value:M,label:M})),placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  () *"}),l.jsx(tt,{type:"number",value:p.wellDepth||"",onChange:M=>g({...p,wellDepth:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(tt,{type:"number",value:p.numberOfPanels||"",onChange:M=>g({...p,numberOfPanels:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(tt,{type:"number",value:p.numberOfBases||"",onChange:M=>g({...p,numberOfBases:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(tt,{type:"number",value:p.numberOfPipes||"",onChange:M=>g({...p,numberOfPipes:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  ()"}),l.jsx(tt,{type:"number",value:p.waterLevel||"",onChange:M=>g({...p,waterLevel:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(Fe,{className:"text-sm font-semibold flex-1",children:" "}),l.jsx(_e,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>j(!0),children:"+ "})]}),l.jsx(Fn,{value:p.fanType||"",onValueChange:M=>g({...p,fanType:M}),options:U.map(M=>({value:M,label:M})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(Fe,{className:"text-sm font-semibold flex-1",children:" "}),l.jsx(_e,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>A(!0),children:"+ "})]}),l.jsx(Fn,{value:p.pumpPower?String(p.pumpPower):"",onValueChange:M=>g({...p,pumpPower:parseInt(M)}),options:E.map(M=>({value:String(M),label:String(M)})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1 md:col-span-2",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:""}),l.jsx(Fn,{value:p.status||"",onValueChange:M=>g({...p,status:M}),options:[{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1 md:col-span-2",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:""}),l.jsx(tt,{value:p.notes||"",onChange:M=>g({...p,notes:M.target.value}),placeholder:"  ",className:"h-10 text-base"})]})]})}),l.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[l.jsx(_e,{variant:"outline",onClick:()=>f(!1),size:"sm",children:""}),l.jsx(_e,{onClick:()=>{if(!p.wellNumber||!p.ownerName||!p.region||!p.wellDepth||!p.numberOfPanels||!p.numberOfPipes||!p.numberOfBases){t({title:"",description:"    ",variant:"destructive"});return}O.mutate(p)},size:"sm",disabled:O.isPending||!p.wellNumber||!p.ownerName||!p.region||!p.wellDepth||!p.numberOfPanels||!p.numberOfPipes||!p.numberOfBases,children:O.isPending?"...":""})]})]})}),l.jsx(xs,{open:x,onOpenChange:j,children:l.jsxs(ls,{children:[l.jsx(ws,{children:l.jsx(Rs,{children:"   "})}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx(Fe,{children:"  "}),l.jsx(tt,{placeholder:":  ",value:C,onChange:M=>R(M.target.value),onKeyDown:M=>M.key==="Enter"&&_.mutate(C)})]})}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(_e,{variant:"outline",onClick:()=>j(!1),size:"sm",children:""}),l.jsx(_e,{onClick:()=>_.mutate(C),size:"sm",children:_.isPending?"...":""})]})]})}),l.jsx(xs,{open:L,onOpenChange:A,children:l.jsxs(ls,{children:[l.jsx(ws,{children:l.jsx(Rs,{children:"   "})}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx(Fe,{children:" "}),l.jsx(tt,{placeholder:": 1.5  2.0",value:P,onChange:M=>$(M.target.value),onKeyDown:M=>M.key==="Enter"&&k.mutate(P)})]})}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(_e,{variant:"outline",onClick:()=>A(!1),size:"sm",children:""}),l.jsx(_e,{onClick:()=>k.mutate(P),size:"sm",children:k.isPending?"...":""})]})]})}),l.jsx(xs,{open:y,onOpenChange:m,children:l.jsxs(ls,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsx(ws,{className:"pb-2",children:l.jsx(Rs,{children:"  "})}),l.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-2",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(tt,{type:"number",value:v?.wellNumber||"",onChange:M=>b({...v,wellNumber:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(Fn,{value:v?.ownerName||"",onValueChange:M=>b({...v,ownerName:M}),options:V.map(M=>({value:M,label:M})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0,allowCustom:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:" *"}),l.jsx(Fn,{value:v?.region||"",onValueChange:M=>b({...v,region:M}),options:s.map(M=>({value:M,label:M})),placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  () *"}),l.jsx(tt,{type:"number",value:v?.wellDepth||"",onChange:M=>b({...v,wellDepth:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(tt,{type:"number",value:v?.numberOfPanels||"",onChange:M=>b({...v,numberOfPanels:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(tt,{type:"number",value:v?.numberOfBases||"",onChange:M=>b({...v,numberOfBases:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  *"}),l.jsx(tt,{type:"number",value:v?.numberOfPipes||"",onChange:M=>b({...v,numberOfPipes:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  ()"}),l.jsx(tt,{type:"number",value:v?.waterLevel||"",onChange:M=>b({...v,waterLevel:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:" "}),l.jsx(Fn,{value:v?.fanType||"",onValueChange:M=>b({...v,fanType:M}),options:U.map(M=>({value:M,label:M})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:" "}),l.jsx(Fn,{value:v?.pumpPower?String(v.pumpPower):"",onValueChange:M=>b({...v,pumpPower:parseInt(M)}),options:E.map(M=>({value:String(M),label:String(M)})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:""}),l.jsx(Fn,{value:v?.status||"",onValueChange:M=>b({...v,status:M}),options:[{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:"  (%)"}),l.jsx(tt,{type:"number",min:"0",max:"100",value:v?.completionPercentage||"",onChange:M=>b({...v,completionPercentage:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),l.jsxs("div",{className:"space-y-1 md:col-span-2",children:[l.jsx(Fe,{className:"text-sm font-semibold",children:""}),l.jsx(tt,{value:v?.notes||"",onChange:M=>b({...v,notes:M.target.value}),placeholder:"  ",className:"h-10 text-base"})]})]})}),l.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[l.jsx(_e,{variant:"outline",onClick:()=>m(!1),size:"sm",children:""}),l.jsx(_e,{onClick:()=>{if(!v?.wellNumber||!v?.ownerName||!v?.region||!v?.wellDepth||!v?.numberOfPanels||!v?.numberOfPipes||!v?.numberOfBases){t({title:"",description:"    ",variant:"destructive"});return}B.mutate(v||{})},size:"sm",disabled:B.isPending||!v?.wellNumber||!v?.ownerName||!v?.region||!v?.wellDepth||!v?.numberOfPanels||!v?.numberOfPipes||!v?.numberOfBases,children:B.isPending?"...":""})]})]})}),l.jsx(_s,{columns:2,children:H.map(M=>l.jsx(Hr,{title:` #${M.wellNumber} - ${M.ownerName}`,subtitle:M.region,titleIcon:Io,badges:[{label:YA[M.status]?.label,variant:YA[M.status]?.badgeVariant}],fields:[{label:"",value:M.region,icon:Io,color:"info"},{label:"",value:M.numberOfPanels,icon:Po,color:"success"},{label:"",value:M.numberOfPipes,icon:Xi,color:"success"},{label:"",value:`${M.wellDepth}`,icon:un,color:"warning"},{label:"",value:M.numberOfBases,icon:Po,color:"info"},{label:" ",value:M.waterLevel?`${M.waterLevel}`:"-",icon:un,color:"info"},{label:"",value:`${M.completionPercentage}%`,emphasis:!0,color:"info",icon:un},...M.fanType?[{label:" ",value:M.fanType,icon:Xi,color:"info"}]:[],...M.pumpPower?[{label:" ",value:`${M.pumpPower}`,icon:Xi,color:"warning"}]:[],...M.notes?[{label:"",value:M.notes,color:"muted"}]:[]],actions:[{icon:Gc,label:"",onClick:()=>{b(M),m(!0)},color:"blue"},{icon:Nn,label:"",onClick:()=>{confirm("      ")&&q.mutate(M.id)},color:"red"}]},M.id))}),H.length===0&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"  "})})]})}function wNe(){fs(),zr();const[e,t]=T.useState(null),{selectedProjectId:r}=yo(),{data:n=[]}=st({queryKey:fe.wellsByProject(r),queryFn:async()=>r?(await Ie(`/wells?projectId=${r}`)).data||[]:[],enabled:!!r}),{data:s}=st({queryKey:fe.projectCosts(r),queryFn:async()=>r?(await Ie(`/well-expenses/project-costs/${r}`)).data:null,enabled:!!r}),{data:i}=st({queryKey:fe.wellCostReport(e),queryFn:async()=>e?(await Ie(`/well-expenses/cost-report/${e}`)).data:null,enabled:!!e}),a=(o,u)=>u>0?(o/u*100).toFixed(1):"0";return l.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-6 space-y-6",children:[s&&l.jsxs(_s,{columns:2,children:[l.jsx(Hr,{title:" ",subtitle:" ",titleIcon:Jt,fields:[{label:"",value:ze(s.totalCost||0),emphasis:!0,color:"success"}],compact:!0}),l.jsx(Hr,{title:" ",subtitle:" ",titleIcon:un,fields:[{label:"",value:ze(s.totalLaborCost||0),emphasis:!0,color:"info"}],compact:!0}),l.jsx(Hr,{title:"",subtitle:" ",titleIcon:Jt,fields:[{label:"",value:ze(s.totalMaterialCost||0),emphasis:!0,color:"warning"}],compact:!0}),l.jsx(Hr,{title:"",subtitle:" ",titleIcon:Jt,fields:[{label:"",value:ze(s.totalTransportCost||0),emphasis:!0,color:"danger"}],compact:!0})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-semibold mb-4",children:" "}),l.jsx(_s,{columns:3,children:n.map(o=>l.jsx(Hr,{title:` #${o.wellNumber}`,subtitle:o.ownerName,titleIcon:H8,fields:[{label:"",value:o.region},{label:"",value:`${o.completionPercentage}%`,emphasis:!0}],onClick:()=>t(o.id),className:e===o.id?"ring-2 ring-primary":"",badges:[{label:o.status==="completed"?"":o.status==="in_progress"?" ":" ",variant:o.status==="completed"?"success":o.status==="in_progress"?"warning":"outline"}],compact:!0},o.id))})]}),e&&i&&l.jsx(_s,{columns:1,children:l.jsx(Hr,{title:`  -  #${n.find(o=>o.id===e)?.wellNumber}`,titleIcon:un,badges:[{label:ze(i.totalCost||0),variant:"success"},{label:"",variant:"default"}],fields:[{label:" ",value:ze(i.laborCost||0),emphasis:!0,color:"info"},{label:"",value:`${a(i.laborCost||0,i.totalCost||1)}%`,color:"info"},{label:"",value:ze(i.materialCost||0),emphasis:!0,color:"warning"},{label:"",value:`${a(i.materialCost||0,i.totalCost||1)}%`,color:"warning"},{label:"",value:ze(i.transportCost||0),emphasis:!0,color:"danger"},{label:"",value:`${a(i.transportCost||0,i.totalCost||1)}%`,color:"danger"}]})}),!e&&n.length>0&&l.jsx(Hr,{title:" ",subtitle:"    ",titleIcon:H8,fields:[{label:"",value:"  "}]}),n.length===0&&l.jsx(Hr,{title:"  ",subtitle:"    ",titleIcon:Jt,fields:[{label:"",value:"   "}]})]})}function _Ne(){const[e,t]=T.useState([]);T.useEffect(()=>(t(lm.getEvents()),lm.subscribe(s=>{t(i=>[s,...i].slice(0,50))})),[]);const r=s=>{switch(s){case"critical":return"bg-red-500/10 text-red-500 border-red-500/20";case"high":return"bg-orange-500/10 text-orange-500 border-orange-500/20";case"medium":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-slate-500/10 text-slate-500 border-slate-500/20"}},n=s=>{switch(s){case"error":return l.jsx(Ss,{className:"w-4 h-4"});case"sync":return l.jsx(Fs,{className:"w-4 h-4"});case"performance":return l.jsx(Mm,{className:"w-4 h-4"});default:return l.jsx(Mm,{className:"w-4 h-4"})}};return l.jsxs(Dt,{className:"h-full flex flex-col",children:[l.jsxs(zn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsxs(Kn,{className:"text-sm font-bold flex items-center gap-2",children:[l.jsx(Fs,{className:"w-4 h-4 text-primary"}),"  "]}),l.jsx(ft,{variant:"outline",className:"text-[10px]",children:"Active Monitoring"})]}),l.jsx(Ht,{className:"flex-1 overflow-hidden p-0",children:l.jsx(bo,{className:"h-[400px] px-4",children:l.jsx("div",{className:"space-y-3 py-4",children:e.length===0?l.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm",children:"    "}):e.map(s=>l.jsxs("div",{className:`p-3 rounded-lg border flex flex-col gap-2 transition-all ${r(s.severity)}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 font-medium text-xs",children:[n(s.type),s.message]}),l.jsx("span",{className:"text-[10px] opacity-70",children:new Date(s.timestamp).toLocaleTimeString("ar-SA")})]}),s.actionTaken&&l.jsxs("div",{className:"flex items-center gap-1 text-[10px] bg-white/20 p-1 rounded px-2 w-fit",children:[l.jsx(Zr,{className:"w-3 h-3"}),": ",s.actionTaken]})]},s.id))})})})]})}const kNe=[" "," ","","","","",""," "],SNe=[{value:"all",label:" "},{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}];function jNe(){fs();const{toast:e}=zr(),t=Yn(),{selectedProjectId:r}=yo(),[n,s]=T.useState(null),[i,a]=T.useState(!1),[o,u]=T.useState({description:"",amount:"",status:"pending"}),[c]=T.useState(kNe),{searchValue:d,filterValues:h,onSearchChange:f,onFilterChange:p,onReset:g}=U1({status:"all",region:"all"}),{data:y=[]}=st({queryKey:fe.wellsByProject(r),queryFn:async()=>{if(!r)return[];try{const $=await nk("wells");if($&&$.length>0)return $.filter(V=>V.projectId===r)}catch($){console.warn("Local wells fetch failed",$)}return(await Ie(`/wells?projectId=${r}`)).data||[]},enabled:!!r}),{data:m=[]}=st({queryKey:fe.autocompleteTaskDescriptions(r),queryFn:async()=>{const P=await Ie("/api/autocomplete?category=workerMiscDescriptions");return Array.isArray(P.data)?P.data:[]},enabled:!!r,staleTime:300*1e3}),{data:v=[]}=st({queryKey:fe.wellTasks(n),queryFn:async()=>{if(!n)return[];try{const $=await nk("wellTasks");if($&&$.length>0)return $.filter(V=>V.wellId===n)}catch($){console.warn("Local tasks fetch failed",$)}return(await Ie(`/api/wells/${n}/tasks`)).data||[]},enabled:!!n}),b=ht({mutationFn:async P=>{if(!n)throw new Error("  ");return Fy("wellTasks","create",{...P,wellId:n,projectId:r,paidAmount:0,expectedAmount:parseFloat(P.amount)||0,createdAt:new Date().toISOString()},`/api/wells/${n}/tasks`)},onSuccess:()=>{e({title:"",description:"    ()"}),u({description:"",amount:"",status:"pending"}),a(!1),t.invalidateQueries({queryKey:fe.wellTasks(n)})},onError:P=>{e({title:"",description:P.message,variant:"destructive"})}}),x=ht({mutationFn:async({taskId:P,status:$})=>Fy("wellTasks","update",{id:P,status:$},`/api/wells/tasks/${P}/status`),onSuccess:()=>{e({title:"",description:"    ()"}),t.invalidateQueries({queryKey:fe.wellTasks(n)})},onError:P=>{e({title:"",description:P.message,variant:"destructive"})}});ht({mutationFn:async({taskId:P,amount:$})=>Fy("wellTaskAccounts","create",{taskId:P,amount:parseFloat($)||0,projectId:r,createdAt:new Date().toISOString()},`/wells/tasks/${P}/account`),onSuccess:()=>{e({title:"",description:"   ()"}),t.invalidateQueries({queryKey:fe.wellTasks(n)})},onError:P=>{e({title:"",description:P.message,variant:"destructive"})}});const{summary:j,isLoading:C}=rp(),R=T.useMemo(()=>v.filter(P=>P.status==="pending"),[v]),L=T.useMemo(()=>v.filter(P=>P.status==="completed"),[v]),A=T.useMemo(()=>y.filter(P=>{const $=P.ownerName.toLowerCase().includes(d.toLowerCase())||P.wellNumber.toString().includes(d),V=h.status==="all"||P.status===h.status,U=h.region==="all"||P.region===h.region;return $&&V&&U}),[y,d,h]);return l.jsx("div",{className:"min-h-screen bg-background p-4 md:p-6 space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[l.jsx("div",{children:l.jsx(yN,{searchValue:d,onSearchChange:f,searchPlaceholder:"     ...",showSearch:!0,filters:[{key:"region",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...c.map(P=>({value:P,label:P}))],defaultValue:"all"},{key:"status",label:"",type:"select",placeholder:" ",options:SNe,defaultValue:"all"}],filterValues:h,onFilterChange:p,onReset:g,showResetButton:!0,showActiveFilters:!0,compact:!1})}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-lg font-semibold mb-3",children:["  (",A.length,")"]}),l.jsx(_s,{columns:n?2:4,children:A.map(P=>l.jsx(Hr,{title:` #${P.wellNumber}`,subtitle:P.ownerName,titleIcon:Io,badges:[{label:P.status==="pending"?" ":P.status==="in_progress"?" ":"",variant:P.status==="completed"?"success":P.status==="in_progress"?"warning":"outline"}],fields:[{label:"",value:P.region,icon:Io,color:"info"},{label:"",value:P.numberOfPanels,icon:Xi,color:"success"},{label:"",value:P.numberOfPipes,icon:Xi,color:"success"},{label:"",value:`${P.wellDepth}`,icon:un,color:"warning"},{label:"",value:`${P.completionPercentage}%`,emphasis:!0,color:"info",icon:un}],onClick:()=>s(P.id),className:n===P.id?"ring-2 ring-primary":"",compact:!0},P.id))})]}),n&&l.jsxs(l.Fragment,{children:[l.jsx(nu,{title:" ",hideHeader:!1,stats:[{title:" ",value:ze(j?.totalBalance||0),icon:Jt,color:"blue"},{title:" ",value:v.length,icon:mn,color:"blue"},{title:" ",value:R.length,icon:mn,color:"amber",status:R.length>0?"warning":void 0},{title:" ",value:L.length,icon:Zr,color:"green"}],columns:3,showStatus:!0}),l.jsxs(_s,{columns:4,children:[l.jsx(Hr,{title:" ",titleIcon:mn,fields:[{label:"",value:v.length,emphasis:!0,color:"info"}],compact:!0}),l.jsx(Hr,{title:" ",titleIcon:mn,fields:[{label:"",value:R.length,emphasis:!0,color:"warning"}],compact:!0}),l.jsx(Hr,{title:" ",titleIcon:Zr,fields:[{label:"",value:L.length,emphasis:!0,color:"success"}],compact:!0}),l.jsxs(xs,{open:i,onOpenChange:a,children:[l.jsx(kh,{asChild:!0,children:l.jsx("div",{className:"relative rounded-xl border bg-card text-card-foreground shadow-sm p-4 hover:shadow-md hover:border-primary/20 cursor-pointer",children:l.jsxs(_e,{className:"w-full h-20",variant:"outline",children:[l.jsx(Hn,{className:"h-5 w-5 ml-2"})," "]})})}),l.jsxs(ls,{className:"max-w-md",children:[l.jsx(ws,{children:l.jsx(Rs,{children:"  "})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Fe,{children:" "}),l.jsx(tt,{value:o.description,onChange:P=>u({...o,description:P.target.value}),placeholder:":  ",autoWidth:!0,maxWidth:400,className:"min-h-11"})]}),l.jsxs("div",{children:[l.jsx(Fe,{children:" "}),l.jsx(tt,{type:"number",value:o.amount,onChange:P=>u({...o,amount:P.target.value}),placeholder:"0",autoWidth:!0,maxWidth:150,className:"min-h-11"})]}),l.jsx(_e,{onClick:()=>b.mutate(o),disabled:b.isPending,className:"w-full",children:b.isPending?"...":" "})]})]})]})]}),R.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[l.jsx(mn,{className:"h-5 w-5 text-yellow-600"}),"  (",R.length,")"]}),l.jsx(_s,{columns:1,children:R.map(P=>l.jsx(Hr,{title:P.description,subtitle:`: ${ze(P.expectedAmount||0)}`,titleIcon:mn,badges:[{label:"",variant:"warning"}],fields:[{label:"",value:"",icon:mn,color:"warning"},{label:" ",value:ze(P.expectedAmount||0),emphasis:!0,icon:Jt,color:"info"},{label:" ",value:ze(P.paidAmount||0),icon:Jt,color:"success"}],actions:[{icon:Zr,label:"",onClick:()=>x.mutate({taskId:P.id,status:"completed"}),color:"green"}],compact:!0},P.id))})]}),L.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[l.jsx(Zr,{className:"h-5 w-5 text-green-600"}),"  (",L.length,")"]}),l.jsx(_s,{columns:1,children:L.map(P=>l.jsx(Hr,{title:P.description,subtitle:`: ${ze(P.expectedAmount||0)}`,titleIcon:Zr,badges:[{label:"",variant:"success"}],fields:[{label:"",value:"",icon:Zr,color:"success"},{label:" ",value:ze(P.expectedAmount||0),emphasis:!0,icon:Jt,color:"info"},{label:" ",value:ze(P.paidAmount||0),icon:Jt,color:"success"}],compact:!0},P.id))})]}),v.length===0&&l.jsx(Hr,{title:"  ",subtitle:"  ",titleIcon:Ss,fields:[{label:"",value:"   "}]})]})]}),l.jsx("div",{className:"lg:col-span-1 space-y-6",children:l.jsx(_Ne,{})})]})})}function NNe(){const[e,t]=T.useState(ng()),[r,n]=T.useState(null),{data:s,isLoading:i,refetch:a}=st({queryKey:fe.adminDataHealth});if(T.useEffect(()=>{const c=document.querySelector(".layout-header h1, .layout-header .text-lg");c&&(c.textContent="    ");const d=setInterval(()=>{t(ng())},2e3);return lJ().then(n),()=>clearInterval(d)},[]),i)return l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[l.jsx(Joe,{className:"h-12 w-12 text-primary animate-pulse"}),l.jsx("p",{className:"text-muted-foreground animate-pulse font-medium",children:"     ..."})]});const o=s?.data,u=r?.differences?.slice(0,5).map(c=>({name:c.table,central:100,local:Math.round(c.clientCount/(c.serverCount||1)*100)}))||[{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100}];return l.jsxs("div",{className:"space-y-6 pb-10",dir:"rtl",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-card p-4 rounded-xl border shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(us,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-sm font-semibold text-foreground",children:" "}),l.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:e.isOnline?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"relative flex h-2 w-2",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),l.jsx("span",{className:"text-xs text-green-600 font-medium font-mono",children:"ONLINE - CENTRAL SYNC ACTIVE"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"relative flex h-2 w-2",children:l.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-orange-500"})}),l.jsx("span",{className:"text-xs text-orange-600 font-medium font-mono",children:"OFFLINE - EMERGENCY MODE"})]})})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex flex-col items-end px-3 border-r border-dashed",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold",children:"Pending Sync"}),l.jsx("span",{className:"text-sm font-black font-mono",children:e.pendingCount})]}),l.jsxs(_e,{onClick:()=>a(),variant:"default",size:"sm",className:"gap-2 hover-elevate active-elevate-2",children:[l.jsx(ds,{className:`h-4 w-4 ${e.isSyncing?"animate-spin":""}`})," "]})]})]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:o?.databases.map((c,d)=>l.jsxs(Dt,{className:"overflow-hidden border-none shadow-md bg-gradient-to-br from-card to-muted/30 hover-elevate group",children:[l.jsx("div",{className:`h-1 w-full ${c.status==="online"||c.status==="active"?"bg-green-500":"bg-red-500"}`}),l.jsxs(zn,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-md ${c.status==="online"||c.status==="active"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"}`,children:c.name.includes("Central")?l.jsx(pd,{className:"h-4 w-4"}):c.name.includes("Supabase")?l.jsx(mj,{className:"h-4 w-4"}):l.jsx(Im,{className:"h-4 w-4"})}),l.jsxs("div",{children:[l.jsx(Kn,{className:"text-sm font-bold",children:c.name}),l.jsx(Mc,{className:"text-[10px] uppercase",children:c.status==="online"||c.status==="active"?"Active":c.status==="standby"?"Standby":"Disconnected"})]})]}),l.jsx(ft,{variant:c.status==="online"||c.status==="active"?"success":"outline",className:"h-5 text-[10px]",children:c.status==="online"||c.status==="active"?"":""})]}),l.jsx(Ht,{children:l.jsxs("div",{className:"space-y-3 mt-2",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsx("span",{className:"text-2xl font-black font-mono tracking-tighter",children:c.latency}),l.jsx("span",{className:"text-[10px] text-muted-foreground font-medium uppercase",children:"Response Time"})]}),l.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-muted",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-muted-foreground font-bold text-[10px] uppercase",children:"Tables"}),l.jsx("span",{className:"font-bold",children:c.tablesCount})]}),l.jsxs("div",{className:"flex flex-col text-left",children:[l.jsx("span",{className:"text-muted-foreground font-bold text-[10px] uppercase",children:"Integrity"}),l.jsx("span",{className:"font-bold text-green-600",children:"VALID"})]})]})]})})]},d))}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsxs(Dt,{className:"border-none shadow-lg",children:[l.jsxs(zn,{children:[l.jsxs(Kn,{className:"text-lg flex items-center gap-2 text-primary",children:[l.jsx(Pm,{className:"h-5 w-5"}),"  "]}),l.jsx(Mc,{children:"      "})]}),l.jsxs(Ht,{children:[l.jsx("div",{className:"space-y-6",children:u.map((c,d)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:c.name}),l.jsxs("div",{className:"flex gap-2 font-mono text-[10px]",children:[l.jsxs("span",{className:"text-blue-600",children:["CENTRAL: ",c.central,"%"]}),l.jsxs("span",{className:"text-green-600",children:["LOCAL: ",c.local,"%"]})]})]}),l.jsx(iu,{value:c.local,className:"h-1.5"})]},d))}),l.jsx("div",{className:"mt-8 p-4 bg-primary/5 rounded-xl border border-dashed border-primary/20",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-green-500/10 rounded-full",children:l.jsx(wl,{className:"h-5 w-5 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-bold",children:"  (Emergency Failover)"}),l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"    SQLite    PostgreSQL"})]})]})})]})]}),l.jsxs(Dt,{className:"border-none shadow-lg",children:[l.jsxs(zn,{children:[l.jsxs(Kn,{className:"text-lg flex items-center gap-2 text-primary",children:[l.jsx(Fs,{className:"h-5 w-5"}),"  "]}),l.jsx(Mc,{children:"    "})]}),l.jsxs(Ht,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Latency"}),l.jsxs("div",{className:"text-xl font-black font-mono text-primary",children:[e.latency||0,"ms"]})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Success Rate"}),l.jsx("div",{className:"text-xl font-black font-mono text-green-600",children:"99.9%"})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Synced Records"}),l.jsx("div",{className:"text-xl font-black font-mono",children:o?.integrity.totalRecords.toLocaleString()})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Engine Mode"}),l.jsx("div",{className:"text-xl font-black font-mono text-blue-600 uppercase",children:e.isOnline?"Cloud":"Edge"})]})]}),l.jsxs("div",{className:"mt-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs font-bold",children:[l.jsx("span",{children:"   "}),l.jsx("span",{className:"text-green-500",children:"100%"})]}),l.jsx(iu,{value:100,className:"h-2 bg-green-500/20"}),l.jsx("p",{className:"text-[10px] text-muted-foreground leading-relaxed italic",children:"*    CRC64               ."})]})]})]})]})]})}const xN=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:we("w-full caption-bottom text-sm",e),...t})}));xN.displayName="Table";const wN=T.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:we("[&_tr]:border-b",e),...t}));wN.displayName="TableHeader";const _N=T.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:we("[&_tr:last-child]:border-0",e),...t}));_N.displayName="TableBody";const CNe=T.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));CNe.displayName="TableFooter";const Sd=T.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Sd.displayName="TableRow";const Ti=T.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ti.displayName="TableHead";const Xs=T.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Xs.displayName="TableCell";const TNe=T.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:we("mt-4 text-sm text-muted-foreground",e),...t}));TNe.displayName="TableCaption";var V1="Tabs",[ENe]=Ls(V1,[Jh]),bJ=Jh(),[ANe,kN]=ENe(V1),vJ=T.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:u="automatic",...c}=e,d=Qh(o),[h,f]=Ma({prop:n,onChange:s,defaultProp:i??"",caller:V1});return l.jsx(ANe,{scope:r,baseId:Qi(),value:h,onValueChange:f,orientation:a,dir:d,activationMode:u,children:l.jsx(wt.div,{dir:d,"data-orientation":a,...c,ref:t})})});vJ.displayName=V1;var xJ="TabsList",wJ=T.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=kN(xJ,r),a=bJ(r);return l.jsx(Q5,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:l.jsx(wt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});wJ.displayName=xJ;var _J="TabsTrigger",kJ=T.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=kN(_J,r),o=bJ(r),u=NJ(a.baseId,n),c=CJ(a.baseId,n),d=n===a.value;return l.jsx(Y5,{asChild:!0,...o,focusable:!s,active:d,children:l.jsx(wt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:t,onMouseDown:et(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:et(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:et(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(n)})})})});kJ.displayName=_J;var SJ="TabsContent",jJ=T.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,o=kN(SJ,r),u=NJ(o.baseId,n),c=CJ(o.baseId,n),d=n===o.value,h=T.useRef(d);return T.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(Jn,{present:s||d,children:({present:f})=>l.jsx(wt.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":u,hidden:!f,id:c,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});jJ.displayName=SJ;function NJ(e,t){return`${e}-trigger-${t}`}function CJ(e,t){return`${e}-content-${t}`}var PNe=vJ,TJ=wJ,EJ=kJ,AJ=jJ;const PJ=PNe,SN=T.forwardRef(({className:e,...t},r)=>l.jsx(TJ,{ref:r,className:we("inline-flex h-12 items-center justify-center rounded-xl bg-gradient-to-r from-gray-100 to-gray-50 p-1.5 text-muted-foreground shadow-inner backdrop-blur-sm border border-gray-200/50","dark:from-gray-800 dark:to-gray-900 dark:border-gray-700/50","transition-all duration-300 ease-in-out",e),...t}));SN.displayName=TJ.displayName;const _a=T.forwardRef(({className:e,children:t,...r},n)=>l.jsx(EJ,{ref:n,className:we("relative inline-flex items-center justify-center whitespace-nowrap rounded-lg px-4 py-2.5 text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","hover:bg-white/80 hover:text-foreground hover:shadow-sm hover:scale-105","data-[state=active]:bg-white data-[state=active]:text-foreground data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/20","data-[state=active]:border data-[state=active]:border-blue-200/50","dark:hover:bg-gray-700/80 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:border-gray-600/50","before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-r before:from-blue-500/0 before:to-purple-500/0","data-[state=active]:before:from-blue-500/10 data-[state=active]:before:to-purple-500/10","transform-gpu backface-visibility-hidden",e),...r,children:l.jsx(Kr.span,{initial:{opacity:0,y:-2},animate:{opacity:1,y:0},transition:{duration:.2},className:"relative z-10 flex items-center gap-2",children:t})}));_a.displayName=EJ.displayName;const ka=T.forwardRef(({className:e,children:t,animationKey:r,...n},s)=>l.jsx(AJ,{ref:s,className:we("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","min-h-[200px]",e),...n,children:l.jsx(qm,{mode:"wait",children:l.jsx(Kr.div,{initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.3,ease:[.4,0,.2,1]},className:"transform-gpu",children:t},r||n.value)})}));ka.displayName=AJ.displayName;function INe(){const{toast:e}=zr(),[t,r]=T.useState("overview"),[n,s]=T.useState(null),[i,a]=T.useState("size"),[o,u]=T.useState(""),[c,d]=T.useState("active"),h=async ce=>{let xe=(localStorage.getItem("accessToken")||localStorage.getItem("token"))?.trim()||"";xe.startsWith('"')&&xe.endsWith('"')&&(xe=xe.slice(1,-1));const Ce=await fetch(ce,{headers:{Authorization:`Bearer ${xe}`,"x-auth-token":xe,"x-access-token":xe}});if(!Ce.ok){const Ae=await Ce.json().catch(()=>({}));throw new Error(Ae.message||"   ")}return Ce.json()},{data:f,isLoading:p}=st({queryKey:fe.dbConnections,queryFn:()=>h("/api/db/connections")}),g=c!=="active"?`/api/db/overview?source=${c}`:"/api/db/overview",{data:y,isLoading:m,refetch:v,error:b}=st({queryKey:[g],queryFn:()=>h(g),retry:!1}),x=c!=="active"?`/api/db/tables?source=${c}`:"/api/db/tables",{data:j,isLoading:C,refetch:R,error:L}=st({queryKey:[x],queryFn:()=>h(x),retry:!1}),A=c!=="active"?`/api/db/performance?source=${c}`:"/api/db/performance",{data:P,isLoading:$,refetch:V}=st({queryKey:[A],queryFn:()=>h(A),retry:!1}),U=c!=="active"?`/api/db/integrity?source=${c}`:"/api/db/integrity",{data:E,isLoading:I,refetch:N}=st({queryKey:[U],queryFn:()=>h(U),retry:!1}),w=b||L,[_,k]=T.useState("local"),[S,D]=T.useState("supabase"),O=`/api/db/compare?source1=${_}&source2=${S}`,{data:B,isLoading:q,refetch:H}=st({queryKey:[O],queryFn:()=>h(O),enabled:t==="compare"&&!!_&&!!S}),{data:Q}=st({queryKey:fe.dbStats,queryFn:()=>h("/api/stats")}),M=ht({mutationFn:async({action:ce,tableName:me})=>(await Ie("POST","/api/db/maintenance",{action:ce,tableName:me})).json(),onSuccess:ce=>{const me=ce?.data;e({title:me?.success?"  ":" ",description:me?.message||" ",variant:me?.success?"default":"destructive"}),K()},onError:ce=>{e({title:"",description:ce.message,variant:"destructive"})}}),K=()=>{v(),R(),V(),N()},z=Array.isArray(f)?f:f?.data||[],F=y&&typeof y=="object"&&!Array.isArray(y)?y:null,W=Array.isArray(j)?j:j?.data||[],J=P&&typeof P=="object"&&!Array.isArray(P)?P:null,le=E&&typeof E=="object"&&!Array.isArray(E)?E:null,ne=Q&&typeof Q=="object"?Q:null,ue=B&&typeof B=="object"&&!Array.isArray(B)?B:null,Z=W.filter(ce=>ce.name.toLowerCase().includes(o.toLowerCase())).sort((ce,me)=>i==="size"?me.totalSizeBytes-ce.totalSizeBytes:i==="rows"?me.rowCount-ce.rowCount:ce.name.localeCompare(me.name)),te=W.reduce((ce,me)=>ce+me.rowCount,0),X=W.reduce((ce,me)=>ce+me.totalSizeBytes,0),ae=le?.score??0,re=ue?.alerts?.length||0,ee=ue?.alerts?.filter(ce=>ce.severity==="critical")?.length||0,G=T.useMemo(()=>[{items:[{key:"connections",label:"",value:z.filter(ce=>ce.connected).length+"/"+z.length,icon:rd,color:z.filter(ce=>ce.connected).length===z.length?"emerald":"amber"},{key:"tables",label:"",value:m?0:F?.totalTables||0,icon:Pk,color:"blue"},{key:"records",label:"",value:m?0:F?.totalRows||te,icon:Li,color:"green"},{key:"size",label:"",value:m?"0 B":F?.size||"0 B",icon:Im,color:"purple"},{key:"integrity",label:"",value:I?"...":`${ae}%`,icon:wl,color:ae>=90?"emerald":ae>=75?"amber":"red"}],columns:5,gap:"md"}],[F,m,ae,I,te,z]),Y=[{key:"db-refresh",icon:ds,label:"",onClick:K,variant:"outline",loading:m}],ie=[{key:"sort",label:"",type:"select",options:[{value:"size",label:""},{value:"rows",label:""},{value:"name",label:""}],defaultValue:"size"}];return l.jsxs("div",{className:"space-y-4",dir:"rtl",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l.jsxs(En,{value:c,onValueChange:d,"data-testid":"select-db-source",children:[l.jsx(bn,{className:"w-[220px]","data-testid":"trigger-db-source",children:l.jsxs("div",{className:"flex items-center gap-2",children:[c==="active"&&l.jsx(ZO,{className:"h-3.5 w-3.5 text-blue-500"}),c==="local"&&l.jsx(Q8,{className:"h-3.5 w-3.5 text-emerald-500"}),c==="supabase"&&l.jsx(K8,{className:"h-3.5 w-3.5 text-violet-500"}),l.jsx(An,{placeholder:"  "})]})}),l.jsxs(vn,{children:[l.jsx(vt,{value:"active",children:" ()"}),z.map(ce=>l.jsx(vt,{value:ce.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[ce.connected?l.jsx(rd,{className:"h-3 w-3 text-emerald-500"}):l.jsx(wf,{className:"h-3 w-3 text-red-500"}),ce.label]})},ce.id))]})]}),l.jsxs("div",{className:"flex items-center gap-2 mr-auto",children:[z.map(ce=>l.jsxs(ft,{variant:ce.connected?"default":"destructive",className:"text-[11px]","data-testid":`badge-conn-${ce.id}`,children:[ce.connected?l.jsx(rd,{className:"h-3 w-3 ml-1"}):l.jsx(wf,{className:"h-3 w-3 ml-1"}),ce.id==="local"?"":"",ce.connected&&ce.tables>0&&` (${ce.tables})`]},ce.id)),re>0&&l.jsxs(ft,{variant:"destructive",className:"text-[11px] cursor-pointer",onClick:()=>r("compare"),"data-testid":"badge-alerts-count",children:[l.jsx(Ki,{className:"h-3 w-3 ml-1"}),ee>0?`${ee}  `:`${re} `]})]})]}),l.jsx(za,{hideHeader:!0,statsRows:G,searchValue:o,onSearchChange:u,searchPlaceholder:"  ...",showSearch:t==="tables",actions:Y,onRefresh:K,isRefreshing:m,filters:t==="tables"?ie:[],filterValues:{sort:i},onFilterChange:(ce,me)=>{ce==="sort"&&a(me)},onReset:()=>{u(""),a("size")},resultsSummary:t==="tables"&&W.length>0?{totalCount:W.length,filteredCount:Z.length,totalLabel:"",filteredLabel:"",totalValue:e9(X),totalValueLabel:" ",unit:"",categoryBreakdown:[{label:"",value:te,unit:""},{label:"",value:0,unit:e9(X)}],showBreakdown:!0}:void 0}),w&&c!=="active"&&l.jsx(Dt,{children:l.jsx(Ht,{className:"py-6",children:l.jsxs("div",{className:"flex items-center gap-3 text-amber-600 dark:text-amber-400",children:[l.jsx(wf,{className:"h-5 w-5 shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:"   "}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"   .        ."})]}),l.jsx(_e,{variant:"outline",size:"sm",className:"mr-auto shrink-0",onClick:()=>d("active"),"data-testid":"button-reset-source",children:" "})]})})}),l.jsxs(PJ,{value:t,onValueChange:r,className:"w-full",children:[l.jsxs(SN,{className:"w-full grid grid-cols-6 h-10","data-testid":"tabs-db-manager",children:[l.jsxs(_a,{value:"overview",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-overview",children:[l.jsx(Po,{className:"h-3.5 w-3.5 shrink-0"})," ",l.jsx("span",{className:"hidden sm:inline",children:" "}),l.jsx("span",{className:"sm:hidden",children:""})]}),l.jsxs(_a,{value:"tables",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-tables",children:[l.jsx(Pk,{className:"h-3.5 w-3.5 shrink-0"})," ",l.jsx("span",{children:""})]}),l.jsxs(_a,{value:"compare",className:"gap-1 text-xs sm:text-sm relative","data-testid":"tab-compare",children:[l.jsx(Ub,{className:"h-3.5 w-3.5 shrink-0"})," ",l.jsx("span",{className:"hidden sm:inline",children:""}),l.jsx("span",{className:"sm:hidden",children:""}),re>0&&l.jsx("span",{className:"absolute -top-1 -left-1 h-4 w-4 rounded-full bg-red-500 text-white text-[9px] flex items-center justify-center",children:re>9?"9+":re})]}),l.jsxs(_a,{value:"integrity",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-integrity",children:[l.jsx(wl,{className:"h-3.5 w-3.5 shrink-0"})," ",l.jsx("span",{className:"hidden sm:inline",children:""}),l.jsx("span",{className:"sm:hidden",children:""})]}),l.jsxs(_a,{value:"performance",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-performance",children:[l.jsx(us,{className:"h-3.5 w-3.5 shrink-0"})," ",l.jsx("span",{children:""})]}),l.jsxs(_a,{value:"maintenance",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-maintenance",children:[l.jsx(Xi,{className:"h-3.5 w-3.5 shrink-0"})," ",l.jsx("span",{children:""})]})]}),l.jsxs(ka,{value:"overview",className:"space-y-4 mt-4",children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[z.map(ce=>l.jsxs(Dt,{"data-testid":`card-connection-${ce.id}`,children:[l.jsx(zn,{className:"pb-3",children:l.jsxs(Kn,{className:"text-base flex items-center gap-2",children:[ce.id==="local"?l.jsx(Q8,{className:"h-4 w-4"}):l.jsx(K8,{className:"h-4 w-4"}),ce.label,ce.connected?l.jsx(ft,{variant:"default",className:"mr-auto text-[10px]",children:""}):l.jsx(ft,{variant:"destructive",className:"mr-auto text-[10px]",children:" "})]})}),l.jsx(Ht,{children:ce.connected?l.jsxs("div",{className:"space-y-2",children:[l.jsx(oi,{label:" ",value:ce.dbName}),l.jsx(oi,{label:"",value:ce.version}),l.jsx(oi,{label:"",value:ce.size}),l.jsx(oi,{label:"",value:ce.tables}),l.jsx(oi,{label:"",value:ce.rows?.toLocaleString()}),ce.latency&&l.jsx(oi,{label:" ",value:ce.latency})]}):l.jsxs("div",{className:"flex flex-col items-center py-6 text-muted-foreground",children:[l.jsx(wf,{className:"h-8 w-8 mb-2 opacity-40"}),l.jsx("p",{className:"text-sm",children:" "})]})})]},ce.id)),l.jsxs(Dt,{children:[l.jsx(zn,{className:"pb-3",children:l.jsxs(Kn,{className:"text-base flex items-center gap-2",children:[l.jsx(pd,{className:"h-4 w-4"})," "]})}),l.jsx(Ht,{className:"space-y-2",children:m?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(Dr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):F?l.jsxs("div",{className:"space-y-2",children:[l.jsx(oi,{label:" ",value:F.name}),l.jsx(oi,{label:"",value:F.version}),l.jsx(oi,{label:"",value:F.size}),l.jsx(oi,{label:"",value:F.totalTables}),l.jsx(oi,{label:"",value:(F.totalRows||0).toLocaleString()}),l.jsx(oi,{label:"",value:F.totalIndexes}),l.jsx(oi,{label:" ",value:typeof F.uptime=="object"?`${F.uptime.days||0}  ${F.uptime.hours||0} `:F.uptime}),l.jsx(oi,{label:"",value:`${F.activeConnections} / ${F.maxConnections}`})]}):l.jsx("p",{className:"text-muted-foreground text-center py-4",children:"  "})})]})]}),l.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[l.jsxs(Dt,{children:[l.jsx(zn,{className:"pb-3",children:l.jsxs(Kn,{className:"text-base flex items-center gap-2",children:[l.jsx(us,{className:"h-4 w-4"})," "]})}),l.jsx(Ht,{className:"space-y-4",children:ne?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between gap-2 text-sm mb-1",children:[l.jsx("span",{className:"text-muted-foreground",children:""}),l.jsxs("span",{className:"font-medium",children:[ne.cpuUsage,"%"]})]}),l.jsx(iu,{value:ne.cpuUsage,className:"h-2"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between gap-2 text-sm mb-1",children:[l.jsx("span",{className:"text-muted-foreground",children:""}),l.jsxs("span",{className:"font-medium",children:[ne.memoryUsage,"%"]})]}),l.jsx(iu,{value:ne.memoryUsage,className:"h-2"})]}),ne.memoryDetails&&l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"bg-muted/50 rounded-lg p-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Heap"}),l.jsxs("p",{className:"font-medium",children:[ne.memoryDetails.heapUsed," MB"]})]}),l.jsxs("div",{className:"bg-muted/50 rounded-lg p-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"RSS"}),l.jsxs("p",{className:"font-medium",children:[ne.memoryDetails.rss," MB"]})]})]}),l.jsx(oi,{label:" ",value:ONe(ne.uptime)})]}):l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(Dr,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]}),J&&l.jsxs(Dt,{children:[l.jsx(zn,{className:"pb-3",children:l.jsxs(Kn,{className:"text-base flex items-center gap-2",children:[l.jsx(Fs,{className:"h-4 w-4"})," "]})}),l.jsx(Ht,{children:l.jsx(JA,{perf:J})})]})]})]}),l.jsx(ka,{value:"tables",className:"space-y-4 mt-4",children:l.jsx(Dt,{children:l.jsx(Ht,{className:"p-0",children:C?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Dr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):l.jsxs(xN,{children:[l.jsx(wN,{children:l.jsxs(Sd,{children:[l.jsx(Ti,{className:"text-right",children:""}),l.jsx(Ti,{className:"text-center",children:""}),l.jsx(Ti,{className:"text-center",children:""}),l.jsx(Ti,{className:"text-center",children:""}),l.jsx(Ti,{className:"text-center",children:""}),l.jsx(Ti,{className:"text-center",children:""})]})}),l.jsx(_N,{children:Z.length>0?Z.map(ce=>l.jsx($Ne,{table:ce,source:c,expanded:n===ce.name,onToggle:()=>s(n===ce.name?null:ce.name),onMaintenance:me=>M.mutate({action:me,tableName:ce.name}),isMaintenanceLoading:M.isPending,fetchWithAuth:h},ce.name)):l.jsx(Sd,{children:l.jsxs(Xs,{colSpan:6,className:"text-center py-12 text-muted-foreground",children:[l.jsx(uo,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),o?"  ":"  "]})})})]})})})}),l.jsx(ka,{value:"compare",className:"space-y-4 mt-4",children:l.jsx(DNe,{data:ue,loading:q,onRefresh:()=>H(),connections:z,source1:_,source2:S,onSource1Change:k,onSource2Change:D})}),l.jsx(ka,{value:"integrity",className:"space-y-4 mt-4",children:l.jsxs(Dt,{children:[l.jsx(zn,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs(Kn,{className:"text-base flex items-center gap-2",children:[l.jsx(wl,{className:"h-4 w-4"}),"  "]}),l.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>N(),"data-testid":"button-recheck-integrity",children:[l.jsx(ds,{className:`h-4 w-4 ml-1 ${I?"animate-spin":""}`})," "]})]})}),l.jsx(Ht,{children:I?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Dr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):le?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[l.jsxs("div",{className:`text-5xl font-bold ${ae>=90?"text-emerald-600 dark:text-emerald-400":ae>=75?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:[le.score,"%"]}),l.jsxs("div",{children:[l.jsx(ft,{variant:le.status==="excellent"?"default":le.status==="good"?"secondary":"destructive",children:le.status==="excellent"?"":le.status==="good"?"":le.status==="warning"?"":""}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" : ",new Date(le.timestamp).toLocaleString("ar-SA")]})]})]}),l.jsx("div",{className:"space-y-3",children:le.checks?.map((ce,me)=>l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/30",children:[ce.status==="pass"?l.jsx(Zr,{className:"h-5 w-5 text-emerald-500 mt-0.5 shrink-0"}):ce.status==="warn"?l.jsx(Il,{className:"h-5 w-5 text-yellow-500 mt-0.5 shrink-0"}):l.jsx(Il,{className:"h-5 w-5 text-red-500 mt-0.5 shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:ce.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:ce.message})]})]},me))})]}):l.jsx("p",{className:"text-muted-foreground text-center py-8",children:"  "})})]})}),l.jsx(ka,{value:"performance",className:"space-y-4 mt-4",children:l.jsxs(Dt,{children:[l.jsxs(zn,{className:"pb-3",children:[l.jsxs(Kn,{className:"text-base flex items-center gap-2",children:[l.jsx(us,{className:"h-4 w-4"})," "]}),l.jsx(Mc,{children:"    PostgreSQL"})]}),l.jsx(Ht,{children:$?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Dr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):J?l.jsxs("div",{className:"space-y-4",children:[l.jsx(JA,{perf:J,extended:!0}),l.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[l.jsx("p",{className:"text-xs font-medium mb-2",children:" "}),l.jsxs("div",{className:"flex gap-4 flex-wrap text-xs",children:[l.jsxs("span",{children:["  : ",l.jsx("strong",{children:J.blocksRead?.toLocaleString()})]}),l.jsxs("span",{children:["  : ",l.jsx("strong",{children:J.blocksHit?.toLocaleString()})]})]})]})]}):l.jsx("p",{className:"text-muted-foreground text-center py-8",children:"  "})})]})}),l.jsx(ka,{value:"maintenance",className:"space-y-4 mt-4",children:l.jsxs(Dt,{children:[l.jsxs(zn,{className:"pb-3",children:[l.jsxs(Kn,{className:"text-base flex items-center gap-2",children:[l.jsx(Xi,{className:"h-4 w-4"}),"  "]}),l.jsx(Mc,{children:"  "})]}),l.jsx(Ht,{className:"space-y-4",children:l.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[l.jsx(k2,{title:" ",description:"    ",action:"vacuum",icon:l.jsx(ds,{className:"h-5 w-5"}),onRun:()=>M.mutate({action:"vacuum"}),isLoading:M.isPending}),l.jsx(k2,{title:" ",description:"  ",action:"analyze",icon:l.jsx(Po,{className:"h-5 w-5"}),onRun:()=>M.mutate({action:"analyze"}),isLoading:M.isPending}),l.jsx(k2,{title:"  ",description:"    ",action:"reindex",icon:l.jsx(Oh,{className:"h-5 w-5"}),onRun:()=>M.mutate({action:"reindex"}),isLoading:M.isPending})]})})]})})]})]})}function DNe({data:e,loading:t,onRefresh:r,connections:n,source1:s,source2:i,onSource1Change:a,onSource2Change:o}){const u=n.filter(d=>d.connected),c=!s||!i;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs(Dt,{children:[l.jsx(zn,{className:"pb-3",children:l.jsxs(Kn,{className:"text-base flex items-center gap-2",children:[l.jsx(Ub,{className:"h-4 w-4"}),"  "]})}),l.jsxs(Ht,{children:[l.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l.jsxs("div",{className:"flex-1 min-w-[150px]",children:[l.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:" "}),l.jsxs(En,{value:s,onValueChange:a,"data-testid":"select-compare-source1",children:[l.jsx(bn,{"data-testid":"select-trigger-source1",children:l.jsx(An,{placeholder:"  "})}),l.jsx(vn,{children:u.map(d=>l.jsxs(vt,{value:d.id,disabled:d.id===i,children:[d.label," (",d.dbName||d.id,")"]},d.id))})]})]}),l.jsx(Dc,{className:"h-5 w-5 text-muted-foreground mt-4 shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-[150px]",children:[l.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:" "}),l.jsxs(En,{value:i,onValueChange:o,"data-testid":"select-compare-source2",children:[l.jsx(bn,{"data-testid":"select-trigger-source2",children:l.jsx(An,{placeholder:"  "})}),l.jsx(vn,{children:u.map(d=>l.jsxs(vt,{value:d.id,disabled:d.id===s,children:[d.label," (",d.dbName||d.id,")"]},d.id))})]})]}),l.jsxs(_e,{variant:"default",size:"default",onClick:r,disabled:c||t,className:"mt-4","data-testid":"button-run-compare",children:[t?l.jsx(Dr,{className:"h-4 w-4 animate-spin ml-1"}):l.jsx(Ub,{className:"h-4 w-4 ml-1"}),""]})]}),u.length<2&&l.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2",children:"        "})]})]}),t&&l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Dr,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-3"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"   ..."})]})}),!t&&c&&l.jsx(Dt,{children:l.jsxs(Ht,{className:"py-12 text-center",children:[l.jsx(Dc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-30"}),l.jsx("p",{className:"text-lg font-medium mb-2",children:" "}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"         "})]})}),!t&&!c&&!e&&l.jsx(Dt,{children:l.jsxs(Ht,{className:"py-12 text-center",children:[l.jsx(Dc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-30"}),l.jsx("p",{className:"text-lg font-medium mb-2",children:" "}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"       "}),l.jsxs(_e,{variant:"outline",onClick:r,"data-testid":"button-retry-compare",children:[l.jsx(ds,{className:"h-4 w-4 ml-1"})," "]})]})}),!t&&e&&l.jsx(MNe,{data:e,onRefresh:r})]})}function MNe({data:e,onRefresh:t}){const r=e.source1Name||" ",n=e.source2Name||" ",s=(e.tablesWithDiffRows||0)+(e.tablesWithDiffStructure||0)+(e.onlySource1Tables||0)+(e.onlySource2Tables||0);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ub,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("span",{className:"text-sm font-medium",children:[r," ",l.jsx(Dc,{className:"h-3 w-3 inline mx-1"})," ",n]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs text-muted-foreground",children:[" : ",new Date(e.timestamp).toLocaleString("ar-SA")]}),l.jsxs(_e,{variant:"outline",size:"sm",onClick:t,"data-testid":"button-refresh-compare",children:[l.jsx(ds,{className:"h-3.5 w-3.5 ml-1"}),""]})]})]}),l.jsxs("div",{className:"grid gap-3 grid-cols-2 md:grid-cols-5",children:[l.jsx(Np,{label:"",value:e.matchingTables,color:"emerald"}),l.jsx(Np,{label:" ",value:e.tablesWithDiffRows,color:e.tablesWithDiffRows>0?"amber":"emerald"}),l.jsx(Np,{label:" ",value:e.tablesWithDiffStructure,color:e.tablesWithDiffStructure>0?"red":"emerald"}),l.jsx(Np,{label:`${r} `,value:e.onlySource1Tables||0,color:(e.onlySource1Tables||0)>0?"amber":"emerald"}),l.jsx(Np,{label:`${n} `,value:e.onlySource2Tables||0,color:(e.onlySource2Tables||0)>0?"amber":"emerald"})]}),e.alerts?.length>0&&l.jsxs(Dt,{children:[l.jsx(zn,{className:"pb-2",children:l.jsxs(Kn,{className:"text-base flex items-center gap-2",children:[l.jsx(Ki,{className:"h-4 w-4"})," (",e.alerts.length,")"]})}),l.jsx(Ht,{className:"space-y-2",children:e.alerts.map((i,a)=>l.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${i.severity==="critical"?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50":i.severity==="warning"?"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800/50":"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50"}`,"data-testid":`alert-${i.type}-${a}`,children:[i.severity==="critical"?l.jsx(Il,{className:"h-4 w-4 text-red-500 mt-0.5 shrink-0"}):i.severity==="warning"?l.jsx(Il,{className:"h-4 w-4 text-amber-500 mt-0.5 shrink-0"}):l.jsx(ZO,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(ft,{variant:i.severity==="critical"?"destructive":i.severity==="warning"?"secondary":"outline",className:"text-[10px]",children:i.severity==="critical"?"":i.severity==="warning"?"":""}),l.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:i.table})]}),l.jsx("p",{className:"text-sm mt-1",children:i.message})]})]},a))})]}),l.jsxs(Dt,{children:[l.jsx(zn,{className:"pb-2",children:l.jsxs(Kn,{className:"text-base flex items-center gap-2",children:[l.jsx(Pk,{className:"h-4 w-4"}),"  (",e.tables?.length||0,")"]})}),l.jsx(Ht,{className:"p-0",children:l.jsxs(xN,{children:[l.jsx(wN,{children:l.jsxs(Sd,{children:[l.jsx(Ti,{className:"text-right",children:""}),l.jsx(Ti,{className:"text-center",children:""}),l.jsxs(Ti,{className:"text-center",children:[r," ()"]}),l.jsxs(Ti,{className:"text-center",children:[n," ()"]}),l.jsx(Ti,{className:"text-center",children:""}),l.jsxs(Ti,{className:"text-center",children:[r," ()"]}),l.jsxs(Ti,{className:"text-center",children:[n," ()"]})]})}),l.jsx(_N,{children:e.tables?.map(i=>l.jsxs(Sd,{className:i.status==="diff_structure"?"bg-red-50/50 dark:bg-red-900/10":i.status==="only_source1"||i.status==="only_source2"?"bg-amber-50/50 dark:bg-amber-900/10":i.status==="diff_rows"?"bg-yellow-50/50 dark:bg-yellow-900/10":"","data-testid":`compare-row-${i.name}`,children:[l.jsx(Xs,{className:"font-mono text-xs",children:i.name}),l.jsx(Xs,{className:"text-center",children:l.jsx(RNe,{status:i.status,s1Name:r,s2Name:n})}),l.jsx(Xs,{className:"text-center font-mono text-xs",children:i.source1Rows!==null&&i.source1Rows!==void 0?i.source1Rows.toLocaleString():l.jsx("span",{className:"text-muted-foreground",children:"-"})}),l.jsx(Xs,{className:"text-center font-mono text-xs",children:i.source2Rows!==null&&i.source2Rows!==void 0?i.source2Rows.toLocaleString():l.jsx("span",{className:"text-muted-foreground",children:"-"})}),l.jsx(Xs,{className:"text-center",children:i.rowDiff>0?l.jsxs("span",{className:"text-xs font-bold text-amber-600 dark:text-amber-400",children:["+",i.rowDiff.toLocaleString()]}):l.jsx(Zr,{className:"h-4 w-4 text-emerald-500 mx-auto"})}),l.jsx(Xs,{className:"text-center text-xs",children:i.source1Size||"-"}),l.jsx(Xs,{className:"text-center text-xs",children:i.source2Size||"-"})]},i.name))})]})})]}),s===0&&e.tables?.length>0&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Zr,{className:"h-12 w-12 text-emerald-500 mx-auto mb-3"}),l.jsx("p",{className:"text-lg font-medium text-emerald-600 dark:text-emerald-400",children:"   "}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"     "})]})]})}function Np({label:e,value:t,color:r}){const n=IJ(r);return l.jsxs("div",{className:`rounded-xl border p-3 ${n.bg} ${n.border}`,children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:e}),l.jsx("p",{className:`text-2xl font-bold ${n.text}`,children:t})]})}function RNe({status:e}){switch(e){case"match":return l.jsx(ft,{variant:"default",className:"text-[10px] bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300",children:""});case"diff_rows":return l.jsx(ft,{variant:"secondary",className:"text-[10px] bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300",children:" "});case"diff_structure":return l.jsx(ft,{variant:"destructive",className:"text-[10px]",children:" "});case"only_source1":return l.jsx(ft,{variant:"outline",className:"text-[10px] border-blue-200 text-blue-600 uppercase",children:"  "});case"only_source2":return l.jsx(ft,{variant:"outline",className:"text-[10px] border-violet-200 text-violet-600 uppercase",children:"  "});default:return l.jsx(ft,{variant:"outline",className:"text-[10px]",children:e})}}function oi({label:e,value:t}){return l.jsxs("div",{className:"flex justify-between items-center gap-2 py-1.5 border-b border-muted/50 last:border-0",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:e}),l.jsx("span",{className:"text-sm font-medium",children:t})]})}function JA({perf:e,extended:t}){const r=T.useMemo(()=>{const n=[{key:"cache",label:"  ",value:`${e.cacheHitRatio}%`,icon:Fs,color:e.cacheHitRatio>95?"emerald":e.cacheHitRatio>80?"amber":"red"},{key:"committed",label:" ",value:e.transactionsCommitted?.toLocaleString()||"0",icon:Zr,color:"green"},{key:"rolledback",label:"",value:e.transactionsRolledBack?.toLocaleString()||"0",icon:Il,color:e.transactionsRolledBack>10?"red":"emerald"},{key:"dead",label:" ",value:e.deadTuples?.toLocaleString()||"0",icon:Li,color:e.deadTuples>1e3?"red":"emerald"}];return t&&(n.splice(1,0,{key:"avgquery",label:"  ",value:e.avgQueryTime>0?`${e.avgQueryTime} ms`:" ",icon:us,color:"blue"}),n.push({key:"live",label:" ",value:e.liveTuples?.toLocaleString()||"0",icon:Li,color:"blue"})),[{items:n,columns:t?6:4,gap:"md"}]},[e,t]);return l.jsx("div",{children:r.map((n,s)=>l.jsx("div",{className:`grid gap-3 ${t?"grid-cols-2 md:grid-cols-3 lg:grid-cols-6":"grid-cols-2 md:grid-cols-4"}`,children:n.items.map(i=>{const a=IJ(i.color);return l.jsxs("div",{className:`rounded-xl border p-3 ${a.bg} ${a.border}`,children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(i.icon,{className:`h-3.5 w-3.5 ${a.icon}`}),l.jsx("span",{className:"text-[11px] font-medium text-muted-foreground",children:i.label})]}),l.jsx("p",{className:`text-lg font-bold ${a.text}`,children:i.value})]},i.key)})},s))})}function IJ(e){const t={emerald:{bg:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/20",border:"border-emerald-100 dark:border-emerald-800/50",text:"text-emerald-600 dark:text-emerald-400",icon:"text-emerald-500"},blue:{bg:"bg-gradient-to-br from-blue-50 to-sky-50 dark:from-blue-900/30 dark:to-sky-900/20",border:"border-blue-100 dark:border-blue-800/50",text:"text-blue-600 dark:text-blue-400",icon:"text-blue-500"},amber:{bg:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/30 dark:to-amber-900/20",border:"border-amber-100 dark:border-amber-800/50",text:"text-amber-600 dark:text-amber-400",icon:"text-amber-500"},red:{bg:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/20",border:"border-red-100 dark:border-red-800/50",text:"text-red-600 dark:text-red-400",icon:"text-red-500"},green:{bg:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/20",border:"border-green-100 dark:border-green-800/50",text:"text-green-600 dark:text-green-400",icon:"text-green-500"},purple:{bg:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/20",border:"border-purple-100 dark:border-purple-800/50",text:"text-purple-600 dark:text-purple-400",icon:"text-purple-500"}};return t[e]||t.blue}function $Ne({table:e,source:t,expanded:r,onToggle:n,onMaintenance:s,isMaintenanceLoading:i}){const[a,o]=T.useState(null),[u,c]=T.useState(!1),d=async()=>{if(a){n();return}c(!0);try{const h=t!=="active"?`?source=${t}`:"",f=await fetchWithAuth(`/api/db/tables/${e.name}${h}`);o(f?.data)}catch(h){console.error("Error loading table details:",h)}c(!1),n()};return l.jsxs(l.Fragment,{children:[l.jsxs(Sd,{className:"hover-elevate cursor-pointer",onClick:d,"data-testid":`row-table-${e.name}`,children:[l.jsx(Xs,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ms,{className:"h-4 w-4 text-muted-foreground shrink-0"}),l.jsx("span",{className:"font-mono text-xs",children:e.name})]})}),l.jsx(Xs,{className:"text-center font-mono",children:e.rowCount.toLocaleString()}),l.jsx(Xs,{className:"text-center text-xs",children:e.totalSize}),l.jsx(Xs,{className:"text-center",children:e.columns}),l.jsx(Xs,{className:"text-center",children:e.indexes}),l.jsx(Xs,{className:"text-center",children:u?l.jsx(Dr,{className:"h-4 w-4 animate-spin mx-auto"}):r?l.jsx(lo,{className:"h-4 w-4 mx-auto"}):l.jsx(pn,{className:"h-4 w-4 mx-auto"})})]}),r&&a&&l.jsx(Sd,{children:l.jsx(Xs,{colSpan:6,className:"bg-muted/20 p-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:[" (",a.columns?.length||0,")"]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-1",children:a.columns?.map((h,f)=>l.jsxs("div",{className:"flex items-center gap-1.5 text-xs p-1 rounded bg-background",children:[l.jsx(Yoe,{className:"h-3 w-3 text-muted-foreground shrink-0"}),l.jsx("span",{className:"font-mono",children:h.column_name}),l.jsx(ft,{variant:"secondary",className:"text-[10px] px-1 py-0",children:h.data_type}),h.is_nullable==="NO"&&l.jsx(ft,{variant:"outline",className:"text-[10px] px-1 py-0",children:""})]},f))})]}),a.indexes?.length>0&&l.jsxs("div",{children:[l.jsxs("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:[" (",a.indexes.length,")"]}),l.jsx("div",{className:"space-y-1",children:a.indexes.map((h,f)=>l.jsx("p",{className:"text-xs font-mono text-muted-foreground bg-background p-1 rounded",children:h.indexname},f))})]}),l.jsxs("div",{className:"flex gap-2 pt-2 flex-wrap",children:[l.jsx(_e,{size:"sm",variant:"outline",onClick:h=>{h.stopPropagation(),s("vacuum")},disabled:i,"data-testid":`button-vacuum-${e.name}`,children:""}),l.jsx(_e,{size:"sm",variant:"outline",onClick:h=>{h.stopPropagation(),s("analyze")},disabled:i,"data-testid":`button-analyze-${e.name}`,children:""})]})]})})})]})}function k2({title:e,description:t,action:r,icon:n,onRun:s,isLoading:i}){return l.jsx(Dt,{children:l.jsxs(Ht,{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-muted-foreground",children:n}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:e}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t})]})]}),l.jsxs(_e,{variant:"outline",size:"sm",className:"w-full",onClick:s,disabled:i,"data-testid":`button-maintenance-${r}`,children:[i?l.jsx(Dr,{className:"h-4 w-4 animate-spin ml-1"}):null,""]})]})})}function e9(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]}function ONe(e){const t=Math.floor(e/86400),r=Math.floor(e%86400/3600),n=Math.floor(e%3600/60);return t>0?`${t}  ${r} `:r>0?`${r}  ${n} `:`${n} `}function DJ(e){const{title:t,message:r,variant:n="default",duration:s=5e3,action:i}=e,o=(c=>{switch(c){case"success":return"";case"destructive":return"";case"warning":return"";default:return""}})(n),u=t?`${o} ${t}`:`${o} `;return cj({title:u,description:r,variant:n,duration:s,action:i?{altText:i.label,onClick:i.onClick,children:i.label}:void 0})}function S2(e,t){return DJ({title:"",message:e,variant:"success"})}function tc(e,t){return DJ({title:"",message:e,variant:"destructive"})}const FNe={safety:Il,task:co,payroll:mle,announcement:Mm,system:Ki},t9={safety:"text-red-600 bg-gradient-to-r from-red-50 to-red-100",task:"text-blue-600 bg-gradient-to-r from-blue-50 to-blue-100",payroll:"text-green-600 bg-gradient-to-r from-green-50 to-green-100",announcement:"text-purple-600 bg-gradient-to-r from-purple-50 to-purple-100",system:"text-gray-600 bg-gradient-to-r from-gray-50 to-gray-100"},r9={1:{label:"",color:"bg-gradient-to-r from-red-500 to-red-600"},2:{label:"",color:"bg-gradient-to-r from-orange-500 to-orange-600"},3:{label:"",color:"bg-gradient-to-r from-yellow-500 to-yellow-600"},4:{label:"",color:"bg-gradient-to-r from-blue-500 to-blue-600"},5:{label:"",color:"bg-gradient-to-r from-gray-500 to-gray-600"}};function LNe({className:e}){const[t,r]=T.useState([]),[n,s]=T.useState(0),[i,a]=T.useState(!1),[o,u]=T.useState(!1),[,c]=fs(),d=async()=>{u(!0);try{const y=localStorage.getItem("accessToken");if(!y){console.warn("    -   "),u(!1);return}const m=await fetch("/api/notifications?limit=50",{headers:{Authorization:`Bearer ${y}`}});if(m.ok){const v=await m.json();if(console.log(" [NotificationCenter]  API:",v),v.success&&Array.isArray(v.data)){const b=v.data.map(x=>({id:x.id,type:x.type||"system",title:x.title,message:x.message,priority:x.priority==="critical"?1:x.priority==="high"?2:x.priority==="medium"?3:x.priority==="low"?4:5,createdAt:x.createdAt,isRead:x.status==="read",actionRequired:x.actionRequired||!1}));r(b),s(v.unreadCount||0),console.log(" [NotificationCenter]    :",b.length)}else Array.isArray(v)&&(r(v.map(b=>({...b,isRead:b.status==="read"}))),s(v.filter(b=>b.status!=="read").length))}else console.error("   "),r([{id:"system-welcome",type:"system",title:" ",message:"    AXION SYSTEM",priority:3,createdAt:new Date().toISOString(),isRead:!1}]),s(1)}catch(y){console.error("   :",y)}finally{u(!1)}},h=async y=>{try{const m=localStorage.getItem("accessToken");if(!m){console.warn("    -     "),tc("       .");return}(await fetch(`/api/notifications/${y}/read`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}})).ok?(r(b=>b.map(x=>x.id===y?{...x,isRead:!0}:x)),s(b=>Math.max(0,b-1)),S2("   .")):tc("    .")}catch(m){console.error("    :",m),tc("     .")}},f=async()=>{try{const y=localStorage.getItem("accessToken");if(!y)return;(await fetch("/api/notifications/bulk-delete-suspicious",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}})).ok?(await d(),S2("     .")):tc("    .")}catch(y){console.error("   :",y),tc("   .")}},p=async()=>{try{const y=localStorage.getItem("accessToken");if(!y){console.warn("    -     "),tc("        .");return}(await fetch("/api/notifications/mark-all-read",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}})).ok?(await d(),S2("    .")):tc("     .")}catch(y){console.error("     :",y),tc("      .")}};T.useEffect(()=>{d();const y=setInterval(d,3e4);return()=>clearInterval(y)},[]);const g=y=>{const m=new Date(y),b=(new Date().getTime()-m.getTime())/(1e3*60*60);return b<1?` ${Math.floor(b*60)} `:b<24?` ${Math.floor(b)} `:` ${Math.floor(b/24)} `};return l.jsxs(C1,{open:i,onOpenChange:a,children:[l.jsx(T1,{asChild:!0,children:l.jsxs(_e,{variant:"outline",size:"icon",className:we("relative h-9 w-9 rounded-xl transition-all duration-300 border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50 dark:hover:bg-slate-800",e),"data-testid":"notification-bell",children:[l.jsx(Ki,{className:we("h-4 w-4 transition-all duration-300",n>0?"text-primary":"text-slate-600 dark:text-slate-400")}),n>0&&l.jsx(ft,{className:"absolute -top-1.5 -right-1.5 h-4 w-4 rounded-full p-0 text-[10px] flex items-center justify-center font-bold bg-red-500 text-white border-white dark:border-slate-900 border-2 shadow-sm z-10","data-testid":"notification-badge",children:n>99?"99+":n})]})}),l.jsxs(g0,{className:"w-80 sm:w-96 p-0 border-0 shadow-2xl rounded-2xl bg-white dark:bg-slate-900",align:"end","data-testid":"notification-popover",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-2xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:l.jsx(Ki,{className:"h-4 w-4"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-base",children:""}),l.jsx("p",{className:"text-xs text-blue-100",children:n>0?`${n}  `:"  "})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs(_e,{variant:"ghost",size:"sm",className:"text-xs h-8 text-white hover:bg-white/20 rounded-lg",onClick:()=>c("/settings?tab=notifications"),title:" ",children:[l.jsx(Oh,{className:"h-3 w-3 mr-1"}),""]}),l.jsxs(_e,{variant:"ghost",size:"sm",className:"text-xs h-8 text-white hover:bg-white/20 rounded-lg",onClick:async()=>{confirm("      ")&&await f()},title:"  /",children:[l.jsx(Fs,{className:"h-3 w-3 mr-1"}),""]}),n>0&&l.jsxs(_e,{variant:"ghost",size:"sm",className:"text-xs h-8 text-white hover:bg-white/20 rounded-lg",onClick:p,"data-testid":"mark-all-read-button",children:[l.jsx(co,{className:"h-3 w-3 mr-1"})," "]}),l.jsx(_e,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-white hover:bg-white/20 rounded-lg",onClick:()=>a(!1),"data-testid":"close-notification-button",children:l.jsx(os,{className:"h-4 w-4"})})]})]})}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:o?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("div",{className:"text-sm text-gray-500",children:" ..."})]}):t.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center",children:l.jsx(Ki,{className:"h-8 w-8 text-gray-400"})}),l.jsx("div",{className:"text-sm font-medium text-gray-600",children:"  "}),l.jsx("div",{className:"text-xs text-gray-400",children:"   "})]}):l.jsx("div",{className:"p-2",children:t.map((y,m)=>{const v=FNe[y.type]||Ki,b=t9[y.type]||t9.system,x=r9[y.priority]||r9[3];return l.jsx("div",{className:we("group p-3 last:mb-0 rounded-xl cursor-pointer transition-all duration-300 border",y.isRead?"bg-white border-gray-100 hover:bg-gray-50 hover:border-gray-200":"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 hover:from-blue-100 hover:to-indigo-100 shadow-sm hover:shadow-md"),onClick:()=>!y.isRead&&h(y.id),"data-testid":`notification-item-${m}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:we("w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm transition-all duration-300 group-hover:scale-105",b),children:l.jsx(v,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("h4",{className:we("text-sm leading-tight",y.isRead?"font-medium text-gray-700":"font-bold text-gray-900"),children:y.title}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!y.isRead&&l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),l.jsx(ft,{className:we("text-xs px-2 py-0.5 text-white font-medium",x.color),children:x.label})]})]}),l.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 leading-relaxed",children:y.message}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[l.jsx(mn,{className:"h-3 w-3"}),l.jsx("span",{children:g(y.createdAt)})]}),y.actionRequired&&l.jsxs(ft,{variant:"outline",className:"text-xs bg-orange-50 text-orange-600 border-orange-200",children:[l.jsx(Fs,{className:"h-3 w-3 mr-1"})," "]})]})]})]})},y.id)})})}),t.length>0&&l.jsx(l.Fragment,{children:l.jsx("div",{className:"border-t border-gray-100 p-3",children:l.jsxs(_e,{variant:"ghost",className:"w-full text-sm font-medium bg-gradient-to-r from-gray-50 to-gray-100 hover:from-blue-50 hover:to-indigo-50 border border-gray-200 hover:border-blue-200 transition-all duration-300 rounded-xl h-10",onClick:()=>{a(!1),c("/notifications")},"data-testid":"view-all-notifications-button",children:[l.jsx(Rd,{className:"h-4 w-4 mr-2"}),"  "]})})})]})]})}const zNe=()=>{};var n9={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},BNe=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[r++];t[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[r++],a=e[r++],o=e[r++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(u>>10)),t[n++]=String.fromCharCode(56320+(u&1023))}else{const i=e[r++],a=e[r++];t[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},RJ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<e.length;s+=3){const i=e[s],a=s+1<e.length,o=a?e[s+1]:0,u=s+2<e.length,c=u?e[s+2]:0,d=i>>2,h=(i&3)<<4|o>>4;let f=(o&15)<<2|c>>6,p=c&63;u||(p=64,a||(f=64)),n.push(r[d],r[h],r[f],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(MJ(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):BNe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<e.length;){const i=r[e.charAt(s++)],o=s<e.length?r[e.charAt(s)]:0;++s;const c=s<e.length?r[e.charAt(s)]:64;++s;const h=s<e.length?r[e.charAt(s)]:64;if(++s,i==null||o==null||c==null||h==null)throw new UNe;const f=i<<2|o>>4;if(n.push(f),c!==64){const p=o<<4&240|c>>2;if(n.push(p),h!==64){const g=c<<6&192|h;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class UNe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VNe=function(e){const t=MJ(e);return RJ.encodeByteArray(t,!0)},$J=function(e){return VNe(e).replace(/\./g,"")},WNe=function(e){try{return RJ.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qNe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HNe=()=>qNe().__FIREBASE_DEFAULTS__,KNe=()=>{if(typeof process>"u"||typeof n9>"u")return;const e=n9.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ZNe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&WNe(e[1]);return t&&JSON.parse(t)},GNe=()=>{try{return zNe()||HNe()||KNe()||ZNe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},OJ=()=>GNe()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XNe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}function FJ(){try{return typeof indexedDB=="object"}catch{return!1}}function LJ(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(r){t(r)}})}function QNe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YNe="FirebaseError";class sp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=YNe,Object.setPrototypeOf(this,sp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W1.prototype.create)}}class W1{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?JNe(i,n):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new sp(s,o,n)}}function JNe(e,t){return e.replace(eCe,(r,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const eCe=/\{\$([^}]+)}/g;function D4(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const s of r){if(!n.includes(s))return!1;const i=e[s],a=t[s];if(s9(i)&&s9(a)){if(!D4(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function s9(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(e){return e&&e._delegate?e._delegate:e}class au{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tCe{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new XNe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),n=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nCe(t))try{this.getOrInitializeService({instanceIdentifier:Eu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(t=Eu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Eu){return this.instances.has(t)}getOptions(t=Eu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&a.resolve(s)}return s}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),s=this.onInitCallbacks.get(n)??new Set;s.add(t),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&t(i,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:rCe(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Eu){return this.component?this.component.multipleInstances?t:Eu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rCe(e){return e===Eu?void 0:e}function nCe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sCe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new tCe(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(on||(on={}));const iCe={debug:on.DEBUG,verbose:on.VERBOSE,info:on.INFO,warn:on.WARN,error:on.ERROR,silent:on.SILENT},aCe=on.INFO,oCe={[on.DEBUG]:"log",[on.VERBOSE]:"log",[on.INFO]:"info",[on.WARN]:"warn",[on.ERROR]:"error"},lCe=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),s=oCe[t];if(s)console[s](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cCe{constructor(t){this.name=t,this._logLevel=aCe,this._logHandler=lCe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in on))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iCe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,on.DEBUG,...t),this._logHandler(this,on.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,on.VERBOSE,...t),this._logHandler(this,on.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,on.INFO,...t),this._logHandler(this,on.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,on.WARN,...t),this._logHandler(this,on.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,on.ERROR,...t),this._logHandler(this,on.ERROR,...t)}}const uCe=(e,t)=>t.some(r=>e instanceof r);let i9,a9;function dCe(){return i9||(i9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fCe(){return a9||(a9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zJ=new WeakMap,M4=new WeakMap,BJ=new WeakMap,j2=new WeakMap,NN=new WeakMap;function hCe(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{r(Fc(e.result)),s()},a=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&zJ.set(r,e)}).catch(()=>{}),NN.set(t,e),t}function pCe(e){if(M4.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});M4.set(e,t)}let R4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return M4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||BJ.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Fc(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mCe(e){R4=e(R4)}function gCe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(N2(this),t,...r);return BJ.set(n,t.sort?t.sort():[t]),Fc(n)}:fCe().includes(e)?function(...t){return e.apply(N2(this),t),Fc(zJ.get(this))}:function(...t){return Fc(e.apply(N2(this),t))}}function yCe(e){return typeof e=="function"?gCe(e):(e instanceof IDBTransaction&&pCe(e),uCe(e,dCe())?new Proxy(e,R4):e)}function Fc(e){if(e instanceof IDBRequest)return hCe(e);if(j2.has(e))return j2.get(e);const t=yCe(e);return t!==e&&(j2.set(e,t),NN.set(t,e)),t}const N2=e=>NN.get(e);function bCe(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=Fc(a);return n&&a.addEventListener("upgradeneeded",u=>{n(Fc(a.result),u.oldVersion,u.newVersion,Fc(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),o.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const vCe=["get","getKey","getAll","getAllKeys","count"],xCe=["put","add","delete","clear"],C2=new Map;function o9(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(C2.get(t))return C2.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=xCe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||vCe.includes(r)))return;const i=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),s&&u.done]))[0]};return C2.set(t,i),i}mCe(e=>({...e,get:(t,r,n)=>o9(t,r)||e.get(t,r,n),has:(t,r)=>!!o9(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wCe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(_Ce(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function _Ce(e){return e.getComponent()?.type==="VERSION"}const $4="@firebase/app",l9="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new cCe("@firebase/app"),kCe="@firebase/app-compat",SCe="@firebase/analytics-compat",jCe="@firebase/analytics",NCe="@firebase/app-check-compat",CCe="@firebase/app-check",TCe="@firebase/auth",ECe="@firebase/auth-compat",ACe="@firebase/database",PCe="@firebase/data-connect",ICe="@firebase/database-compat",DCe="@firebase/functions",MCe="@firebase/functions-compat",RCe="@firebase/installations",$Ce="@firebase/installations-compat",OCe="@firebase/messaging",FCe="@firebase/messaging-compat",LCe="@firebase/performance",zCe="@firebase/performance-compat",BCe="@firebase/remote-config",UCe="@firebase/remote-config-compat",VCe="@firebase/storage",WCe="@firebase/storage-compat",qCe="@firebase/firestore",HCe="@firebase/ai",KCe="@firebase/firestore-compat",ZCe="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="[DEFAULT]",GCe={[$4]:"fire-core",[kCe]:"fire-core-compat",[jCe]:"fire-analytics",[SCe]:"fire-analytics-compat",[CCe]:"fire-app-check",[NCe]:"fire-app-check-compat",[TCe]:"fire-auth",[ECe]:"fire-auth-compat",[ACe]:"fire-rtdb",[PCe]:"fire-data-connect",[ICe]:"fire-rtdb-compat",[DCe]:"fire-fn",[MCe]:"fire-fn-compat",[RCe]:"fire-iid",[$Ce]:"fire-iid-compat",[OCe]:"fire-fcm",[FCe]:"fire-fcm-compat",[LCe]:"fire-perf",[zCe]:"fire-perf-compat",[BCe]:"fire-rc",[UCe]:"fire-rc-compat",[VCe]:"fire-gcs",[WCe]:"fire-gcs-compat",[qCe]:"fire-fst",[KCe]:"fire-fst-compat",[HCe]:"fire-vertex","fire-js":"fire-js",[ZCe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new Map,XCe=new Map,F4=new Map;function c9(e,t){try{e.container.addComponent(t)}catch(r){zl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function jd(e){const t=e.name;if(F4.has(t))return zl.debug(`There were multiple attempts to register component ${t}.`),!1;F4.set(t,e);for(const r of jv.values())c9(r,e);for(const r of XCe.values())c9(r,e);return!0}function CN(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QCe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lc=new W1("app","Firebase",QCe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YCe{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new au("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lc.create("app-deleted",{appName:this._name})}}function UJ(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:O4,automaticDataCollectionEnabled:!0,...t},s=n.name;if(typeof s!="string"||!s)throw Lc.create("bad-app-name",{appName:String(s)});if(r||(r=OJ()),!r)throw Lc.create("no-options");const i=jv.get(s);if(i){if(D4(r,i.options)&&D4(n,i.config))return i;throw Lc.create("duplicate-app",{appName:s})}const a=new sCe(s);for(const u of F4.values())a.addComponent(u);const o=new YCe(r,n,a);return jv.set(s,o),o}function JCe(e=O4){const t=jv.get(e);if(!t&&e===O4&&OJ())return UJ();if(!t)throw Lc.create("no-app",{appName:e});return t}function zc(e,t,r){let n=GCe[e]??e;r&&(n+=`-${r}`);const s=n.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${n}" with version "${t}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zl.warn(a.join(" "));return}jd(new au(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8e="firebase-heartbeat-database",t8e=1,sg="firebase-heartbeat-store";let T2=null;function VJ(){return T2||(T2=bCe(e8e,t8e,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(sg)}catch(r){console.warn(r)}}}}).catch(e=>{throw Lc.create("idb-open",{originalErrorMessage:e.message})})),T2}async function r8e(e){try{const r=(await VJ()).transaction(sg),n=await r.objectStore(sg).get(WJ(e));return await r.done,n}catch(t){if(t instanceof sp)zl.warn(t.message);else{const r=Lc.create("idb-get",{originalErrorMessage:t?.message});zl.warn(r.message)}}}async function u9(e,t){try{const n=(await VJ()).transaction(sg,"readwrite");await n.objectStore(sg).put(t,WJ(e)),await n.done}catch(r){if(r instanceof sp)zl.warn(r.message);else{const n=Lc.create("idb-set",{originalErrorMessage:r?.message});zl.warn(n.message)}}}function WJ(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8e=1024,s8e=30;class i8e{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new o8e(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=d9();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(s=>s.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>s8e){const s=l8e(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){zl.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=d9(),{heartbeatsToSend:r,unsentEntries:n}=a8e(this._heartbeatsCache.heartbeats),s=$J(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return zl.warn(t),""}}}function d9(){return new Date().toISOString().substring(0,10)}function a8e(e,t=n8e){const r=[];let n=e.slice();for(const s of e){const i=r.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),f9(r)>t){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),f9(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class o8e{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FJ()?LJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await r8e(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return u9(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return u9(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function f9(e){return $J(JSON.stringify({version:2,heartbeats:e})).length}function l8e(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8e(e){jd(new au("platform-logger",t=>new wCe(t),"PRIVATE")),jd(new au("heartbeat",t=>new i8e(t),"PRIVATE")),zc($4,l9,e),zc($4,l9,"esm2020"),zc("fire-js","")}c8e("");var u8e="firebase",d8e="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zc(u8e,d8e,"app");const f8e=(e,t)=>t.some(r=>e instanceof r);let h9,p9;function h8e(){return h9||(h9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p8e(){return p9||(p9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qJ=new WeakMap,L4=new WeakMap,HJ=new WeakMap,E2=new WeakMap,TN=new WeakMap;function m8e(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{r(Bc(e.result)),s()},a=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&qJ.set(r,e)}).catch(()=>{}),TN.set(t,e),t}function g8e(e){if(L4.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});L4.set(e,t)}let z4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return L4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||HJ.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Bc(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function y8e(e){z4=e(z4)}function b8e(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(A2(this),t,...r);return HJ.set(n,t.sort?t.sort():[t]),Bc(n)}:p8e().includes(e)?function(...t){return e.apply(A2(this),t),Bc(qJ.get(this))}:function(...t){return Bc(e.apply(A2(this),t))}}function v8e(e){return typeof e=="function"?b8e(e):(e instanceof IDBTransaction&&g8e(e),f8e(e,h8e())?new Proxy(e,z4):e)}function Bc(e){if(e instanceof IDBRequest)return m8e(e);if(E2.has(e))return E2.get(e);const t=v8e(e);return t!==e&&(E2.set(e,t),TN.set(t,e)),t}const A2=e=>TN.get(e);function x8e(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=Bc(a);return n&&a.addEventListener("upgradeneeded",u=>{n(Bc(a.result),u.oldVersion,u.newVersion,Bc(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),o.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const w8e=["get","getKey","getAll","getAllKeys","count"],_8e=["put","add","delete","clear"],P2=new Map;function m9(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(P2.get(t))return P2.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=_8e.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||w8e.includes(r)))return;const i=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),s&&u.done]))[0]};return P2.set(t,i),i}y8e(e=>({...e,get:(t,r,n)=>m9(t,r)||e.get(t,r,n),has:(t,r)=>!!m9(t,r)||e.has(t,r)}));const KJ="@firebase/installations",EN="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZJ=1e4,GJ=`w:${EN}`,XJ="FIS_v2",k8e="https://firebaseinstallations.googleapis.com/v1",S8e=3600*1e3,j8e="installations",N8e="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8e={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Nd=new W1(j8e,N8e,C8e);function QJ(e){return e instanceof sp&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YJ({projectId:e}){return`${k8e}/projects/${e}/installations`}function JJ(e){return{token:e.token,requestStatus:2,expiresIn:E8e(e.expiresIn),creationTime:Date.now()}}async function eee(e,t){const n=(await t.json()).error;return Nd.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function tee({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function T8e(e,{refreshToken:t}){const r=tee(e);return r.append("Authorization",A8e(t)),r}async function ree(e){const t=await e();return t.status>=500&&t.status<600?e():t}function E8e(e){return Number(e.replace("s","000"))}function A8e(e){return`${XJ} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8e({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=YJ(e),s=tee(e),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const a={fid:r,authVersion:XJ,appId:e.appId,sdkVersion:GJ},o={method:"POST",headers:s,body:JSON.stringify(a)},u=await ree(()=>fetch(n,o));if(u.ok){const c=await u.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:JJ(c.authToken)}}else throw await eee("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nee(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8e(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8e=/^[cdef][\w-]{21}$/,B4="";function M8e(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=R8e(e);return D8e.test(r)?r:B4}catch{return B4}}function R8e(e){return I8e(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const see=new Map;function iee(e,t){const r=q1(e);aee(r,t),$8e(r,t)}function aee(e,t){const r=see.get(e);if(r)for(const n of r)n(t)}function $8e(e,t){const r=O8e();r&&r.postMessage({key:e,fid:t}),F8e()}let Lu=null;function O8e(){return!Lu&&"BroadcastChannel"in self&&(Lu=new BroadcastChannel("[Firebase] FID Change"),Lu.onmessage=e=>{aee(e.data.key,e.data.fid)}),Lu}function F8e(){see.size===0&&Lu&&(Lu.close(),Lu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8e="firebase-installations-database",z8e=1,Cd="firebase-installations-store";let I2=null;function AN(){return I2||(I2=x8e(L8e,z8e,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Cd)}}})),I2}async function Nv(e,t){const r=q1(e),s=(await AN()).transaction(Cd,"readwrite"),i=s.objectStore(Cd),a=await i.get(r);return await i.put(t,r),await s.done,(!a||a.fid!==t.fid)&&iee(e,t.fid),t}async function oee(e){const t=q1(e),n=(await AN()).transaction(Cd,"readwrite");await n.objectStore(Cd).delete(t),await n.done}async function H1(e,t){const r=q1(e),s=(await AN()).transaction(Cd,"readwrite"),i=s.objectStore(Cd),a=await i.get(r),o=t(a);return o===void 0?await i.delete(r):await i.put(o,r),await s.done,o&&(!a||a.fid!==o.fid)&&iee(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(e){let t;const r=await H1(e.appConfig,n=>{const s=B8e(n),i=U8e(e,s);return t=i.registrationPromise,i.installationEntry});return r.fid===B4?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function B8e(e){const t=e||{fid:M8e(),registrationStatus:0};return lee(t)}function U8e(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Nd.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=V8e(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:W8e(e)}:{installationEntry:t}}async function V8e(e,t){try{const r=await P8e(e,t);return Nv(e.appConfig,r)}catch(r){throw QJ(r)&&r.customData.serverCode===409?await oee(e.appConfig):await Nv(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function W8e(e){let t=await g9(e.appConfig);for(;t.registrationStatus===1;)await nee(100),t=await g9(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await PN(e);return n||r}return t}function g9(e){return H1(e,t=>{if(!t)throw Nd.create("installation-not-found");return lee(t)})}function lee(e){return q8e(e)?{fid:e.fid,registrationStatus:0}:e}function q8e(e){return e.registrationStatus===1&&e.registrationTime+ZJ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H8e({appConfig:e,heartbeatServiceProvider:t},r){const n=K8e(e,r),s=T8e(e,r),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const a={installation:{sdkVersion:GJ,appId:e.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},u=await ree(()=>fetch(n,o));if(u.ok){const c=await u.json();return JJ(c)}else throw await eee("Generate Auth Token",u)}function K8e(e,{fid:t}){return`${YJ(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(e,t=!1){let r;const n=await H1(e.appConfig,i=>{if(!cee(i))throw Nd.create("not-registered");const a=i.authToken;if(!t&&X8e(a))return i;if(a.requestStatus===1)return r=Z8e(e,t),i;{if(!navigator.onLine)throw Nd.create("app-offline");const o=Y8e(i);return r=G8e(e,o),o}});return r?await r:n.authToken}async function Z8e(e,t){let r=await y9(e.appConfig);for(;r.authToken.requestStatus===1;)await nee(100),r=await y9(e.appConfig);const n=r.authToken;return n.requestStatus===0?IN(e,t):n}function y9(e){return H1(e,t=>{if(!cee(t))throw Nd.create("not-registered");const r=t.authToken;return J8e(r)?{...t,authToken:{requestStatus:0}}:t})}async function G8e(e,t){try{const r=await H8e(e,t),n={...t,authToken:r};return await Nv(e.appConfig,n),r}catch(r){if(QJ(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await oee(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await Nv(e.appConfig,n)}throw r}}function cee(e){return e!==void 0&&e.registrationStatus===2}function X8e(e){return e.requestStatus===2&&!Q8e(e)}function Q8e(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+S8e}function Y8e(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function J8e(e){return e.requestStatus===1&&e.requestTime+ZJ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eTe(e){const t=e,{installationEntry:r,registrationPromise:n}=await PN(t);return n?n.catch(console.error):IN(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tTe(e,t=!1){const r=e;return await rTe(r),(await IN(r,t)).token}async function rTe(e){const{registrationPromise:t}=await PN(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nTe(e){if(!e||!e.options)throw D2("App Configuration");if(!e.name)throw D2("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw D2(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function D2(e){return Nd.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uee="installations",sTe="installations-internal",iTe=e=>{const t=e.getProvider("app").getImmediate(),r=nTe(t),n=CN(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},aTe=e=>{const t=e.getProvider("app").getImmediate(),r=CN(t,uee).getImmediate();return{getId:()=>eTe(r),getToken:s=>tTe(r,s)}};function oTe(){jd(new au(uee,iTe,"PUBLIC")),jd(new au(sTe,aTe,"PRIVATE"))}oTe();zc(KJ,EN);zc(KJ,EN,"esm2020");const lTe=(e,t)=>t.some(r=>e instanceof r);let b9,v9;function cTe(){return b9||(b9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uTe(){return v9||(v9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dee=new WeakMap,U4=new WeakMap,fee=new WeakMap,M2=new WeakMap,DN=new WeakMap;function dTe(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{r(Nl(e.result)),s()},a=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&dee.set(r,e)}).catch(()=>{}),DN.set(t,e),t}function fTe(e){if(U4.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});U4.set(e,t)}let V4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return U4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fee.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Nl(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function hTe(e){V4=e(V4)}function pTe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(R2(this),t,...r);return fee.set(n,t.sort?t.sort():[t]),Nl(n)}:uTe().includes(e)?function(...t){return e.apply(R2(this),t),Nl(dee.get(this))}:function(...t){return Nl(e.apply(R2(this),t))}}function mTe(e){return typeof e=="function"?pTe(e):(e instanceof IDBTransaction&&fTe(e),lTe(e,cTe())?new Proxy(e,V4):e)}function Nl(e){if(e instanceof IDBRequest)return dTe(e);if(M2.has(e))return M2.get(e);const t=mTe(e);return t!==e&&(M2.set(e,t),DN.set(t,e)),t}const R2=e=>DN.get(e);function hee(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=Nl(a);return n&&a.addEventListener("upgradeneeded",u=>{n(Nl(a.result),u.oldVersion,u.newVersion,Nl(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),o.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}function $2(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",n=>t(n.oldVersion,n)),Nl(r).then(()=>{})}const gTe=["get","getKey","getAll","getAllKeys","count"],yTe=["put","add","delete","clear"],O2=new Map;function x9(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(O2.get(t))return O2.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=yTe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||gTe.includes(r)))return;const i=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),s&&u.done]))[0]};return O2.set(t,i),i}hTe(e=>({...e,get:(t,r,n)=>x9(t,r)||e.get(t,r,n),has:(t,r)=>!!x9(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bTe="/firebase-messaging-sw.js",vTe="/firebase-cloud-messaging-push-scope",pee="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xTe="https://fcmregistrations.googleapis.com/v1",mee="google.c.a.c_id",wTe="google.c.a.c_l",_Te="google.c.a.ts",kTe="google.c.a.e",w9=1e4;var _9;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(_9||(_9={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ig;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(ig||(ig={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function STe(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),s=new Uint8Array(n.length);for(let i=0;i<n.length;++i)s[i]=n.charCodeAt(i);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="fcm_token_details_db",jTe=5,k9="fcm_token_object_Store";async function NTe(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(F2))return null;let t=null;return(await hee(F2,jTe,{upgrade:async(n,s,i,a)=>{if(s<2||!n.objectStoreNames.contains(k9))return;const o=a.objectStore(k9),u=await o.index("fcmSenderId").get(e);if(await o.clear(),!!u){if(s===2){const c=u;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:c.createTime??Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:ol(c.vapidKey)}}}else if(s===3){const c=u;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:ol(c.auth),p256dh:ol(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:ol(c.vapidKey)}}}else if(s===4){const c=u;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:ol(c.auth),p256dh:ol(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:ol(c.vapidKey)}}}}}})).close(),await $2(F2),await $2("fcm_vapid_details_db"),await $2("undefined"),CTe(t)?t:null}function CTe(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TTe="firebase-messaging-database",ETe=1,ag="firebase-messaging-store";let L2=null;function gee(){return L2||(L2=hee(TTe,ETe,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ag)}}})),L2}async function ATe(e){const t=yee(e),n=await(await gee()).transaction(ag).objectStore(ag).get(t);if(n)return n;{const s=await NTe(e.appConfig.senderId);if(s)return await MN(e,s),s}}async function MN(e,t){const r=yee(e),s=(await gee()).transaction(ag,"readwrite");return await s.objectStore(ag).put(t,r),await s.done,t}function yee({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PTe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ni=new W1("messaging","Messaging",PTe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ITe(e,t){const r=await $N(e),n=bee(t),s={method:"POST",headers:r,body:JSON.stringify(n)};let i;try{i=await(await fetch(RN(e.appConfig),s)).json()}catch(a){throw ni.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(i.error){const a=i.error.message;throw ni.create("token-subscribe-failed",{errorInfo:a})}if(!i.token)throw ni.create("token-subscribe-no-token");return i.token}async function DTe(e,t){const r=await $N(e),n=bee(t.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(n)};let i;try{i=await(await fetch(`${RN(e.appConfig)}/${t.token}`,s)).json()}catch(a){throw ni.create("token-update-failed",{errorInfo:a?.toString()})}if(i.error){const a=i.error.message;throw ni.create("token-update-failed",{errorInfo:a})}if(!i.token)throw ni.create("token-update-no-token");return i.token}async function MTe(e,t){const n={method:"DELETE",headers:await $N(e)};try{const i=await(await fetch(`${RN(e.appConfig)}/${t}`,n)).json();if(i.error){const a=i.error.message;throw ni.create("token-unsubscribe-failed",{errorInfo:a})}}catch(s){throw ni.create("token-unsubscribe-failed",{errorInfo:s?.toString()})}}function RN({projectId:e}){return`${xTe}/projects/${e}/registrations`}async function $N({appConfig:e,installations:t}){const r=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function bee({p256dh:e,auth:t,endpoint:r,vapidKey:n}){const s={web:{endpoint:r,auth:t,p256dh:e}};return n!==pee&&(s.web.applicationPubKey=n),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RTe=10080*60*1e3;async function $Te(e){const t=await FTe(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:ol(t.getKey("auth")),p256dh:ol(t.getKey("p256dh"))},n=await ATe(e.firebaseDependencies);if(n){if(LTe(n.subscriptionOptions,r))return Date.now()>=n.createTime+RTe?OTe(e,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await MTe(e.firebaseDependencies,n.token)}catch(s){console.warn(s)}return S9(e.firebaseDependencies,r)}else return S9(e.firebaseDependencies,r)}async function OTe(e,t){try{const r=await DTe(e.firebaseDependencies,t),n={...t,token:r,createTime:Date.now()};return await MN(e.firebaseDependencies,n),r}catch(r){throw r}}async function S9(e,t){const n={token:await ITe(e,t),createTime:Date.now(),subscriptionOptions:t};return await MN(e,n),n.token}async function FTe(e,t){const r=await e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:STe(t)})}function LTe(e,t){const r=t.vapidKey===e.vapidKey,n=t.endpoint===e.endpoint,s=t.auth===e.auth,i=t.p256dh===e.p256dh;return r&&n&&s&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return zTe(t,e),BTe(t,e),UTe(t,e),t}function zTe(e,t){if(!t.notification)return;e.notification={};const r=t.notification.title;r&&(e.notification.title=r);const n=t.notification.body;n&&(e.notification.body=n);const s=t.notification.image;s&&(e.notification.image=s);const i=t.notification.icon;i&&(e.notification.icon=i)}function BTe(e,t){t.data&&(e.data=t.data)}function UTe(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const r=t.fcmOptions?.link??t.notification?.click_action;r&&(e.fcmOptions.link=r);const n=t.fcmOptions?.analytics_label;n&&(e.fcmOptions.analyticsLabel=n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VTe(e){return typeof e=="object"&&!!e&&mee in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WTe(e){if(!e||!e.options)throw z2("App Configuration Object");if(!e.name)throw z2("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const n of t)if(!r[n])throw z2(n);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function z2(e){return ni.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qTe{constructor(t,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=WTe(t);this.firebaseDependencies={app:t,appConfig:s,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HTe(e){try{e.swRegistration=await navigator.serviceWorker.register(bTe,{scope:vTe}),e.swRegistration.update().catch(()=>{}),await KTe(e.swRegistration)}catch(t){throw ni.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function KTe(e){return new Promise((t,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${w9} ms`)),w9),s=e.installing||e.waiting;e.active?(clearTimeout(n),t()):s?s.onstatechange=i=>{i.target?.state==="activated"&&(s.onstatechange=null,clearTimeout(n),t())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZTe(e,t){if(!t&&!e.swRegistration&&await HTe(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw ni.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GTe(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=pee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vee(e,t){if(!navigator)throw ni.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ni.create("permission-blocked");return await GTe(e,t?.vapidKey),await ZTe(e,t?.serviceWorkerRegistration),$Te(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XTe(e,t,r){const n=QTe(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[mee],message_name:r[wTe],message_time:r[_Te],message_device_time:Math.floor(Date.now()/1e3)})}function QTe(e){switch(e){case ig.NOTIFICATION_CLICKED:return"notification_open";case ig.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YTe(e,t){const r=t.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===ig.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(j9(r)):e.onMessageHandler.next(j9(r)));const n=r.data;VTe(n)&&n[kTe]==="1"&&await XTe(e,r.messageType,n)}const N9="@firebase/messaging",C9="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JTe=e=>{const t=new qTe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>YTe(t,r)),t},eEe=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:n=>vee(t,n)}};function tEe(){jd(new au("messaging",JTe,"PUBLIC")),jd(new au("messaging-internal",eEe,"PRIVATE")),zc(N9,C9),zc(N9,C9,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rEe(){try{await LJ()}catch{return!1}return typeof window<"u"&&FJ()&&QNe()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nEe(e,t){if(!navigator)throw ni.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sEe(e=JCe()){return rEe().then(t=>{if(!t)throw ni.create("unsupported-browser")},t=>{throw ni.create("indexed-db-unsupported")}),CN(jN(e),"messaging").getImmediate()}async function iEe(e,t){return e=jN(e),vee(e,t)}function aEe(e,t){return e=jN(e),nEe(e,t)}tEe();const xee={apiKey:"AIzaSyBhVNHGcHWZqbbInv9WUZeyBoPEx3yvN8U",authDomain:"app2-eb4df.firebaseapp.com",projectId:"app2-eb4df",storageBucket:"app2-eb4df.firebasestorage.app",messagingSenderId:"364100399820",appId:"1:364100399820:android:05fb7a9df8da1b771cc869"},oEe=()=>Object.values(xee).every(e=>e&&typeof e=="string");let B2=null,Cv=null;const wee=()=>{try{if(!oEe()){console.warn("[Firebase] Invalid or missing Firebase configuration in environment variables");return}B2||(B2=UJ(xee)),Cv||(Cv=sEe(B2))}catch(e){console.error("[Firebase] Failed to initialize Firebase:",e)}},_ee=()=>(Cv||wee(),Cv),kee=async(e=0)=>{const r=1e3*(e+1);try{const n=_ee();if(!n)return console.warn("[Firebase] Firebase Messaging not initialized - skipping token request"),null;const s="YGwRxS-k2lYQ-HdK5KkTYdceZgM3xcaTYxQoitDTwZk";try{const i=await iEe(n,{vapidKey:s});return i?(console.log("[Firebase] Successfully obtained FCM token"),i):null}catch(i){return i?.code==="messaging/failed-service-worker-registration"&&e<3?(console.warn(`[Firebase] Service Worker registration failed, retrying in ${r}ms (attempt ${e+1}/3)`),await new Promise(a=>setTimeout(a,r)),kee(e+1)):(i?.code==="messaging/unsupported-browser"?console.warn("[Firebase] Push notifications not supported in this browser"):i?.code==="messaging/permission-blocked"?console.warn("[Firebase] Push notification permission has been blocked"):i?.code==="messaging/service-worker-registration-failed"?console.warn("[Firebase] Service Worker registration failed"):console.error("[Firebase] Failed to get FCM token:",i?.message||i),null)}}catch(n){return console.error("[Firebase] Unexpected error in getFirebaseToken:",n),null}},lEe=e=>{try{const t=_ee();if(!t)throw new Error("Firebase Messaging not initialized");return aEe(t,n=>{e(n)})}catch(t){return console.error("[Firebase] Failed to set up message listener:",t),null}},cEe=()=>{const{toast:e}=zr(),[t]=T.useState(()=>{if(typeof window>"u")return!1;try{return"serviceWorker"in navigator&&"PushManager"in window&&typeof Notification<"u"}catch{return!1}}),[r,n]=T.useState(()=>{if(typeof window>"u")return!1;try{return typeof Notification<"u"&&Notification.permission==="granted"}catch{return!1}}),[s,i]=T.useState(!1),[a,o]=T.useState(null),u=T.useRef(null);T.useEffect(()=>((async()=>{if(!t){o("Push notifications are not supported in this browser");return}try{i(!0),wee();const h=lEe(f=>{const p=f.notification;p&&e({title:p.title||"New Notification",description:p.body})});h&&(u.current=h)}catch(h){const f=h instanceof Error?h.message:"Failed to initialize push notifications";o(f),console.error("[usePush] Initialization error:",h)}finally{i(!1)}})(),()=>{u.current&&u.current()}),[t,e]);const c=T.useCallback(async()=>{if(!t){const d="    ";return o(d),console.warn("[usePush]",d),!1}try{if(i(!0),o(null),typeof Notification>"u")return o("   "),!1;const d=await Notification.requestPermission();if(d==="granted"){n(!0);const h=await kee();if(h)try{const f=await fetch("/api/push/token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({token:h})});if(!f.ok)throw new Error(`Failed to register token: ${f.statusText}`);e({title:"Success",description:"Push notifications enabled successfully"}),localStorage.setItem("fcm_token",h)}catch(f){const p=f instanceof Error?f.message:"Failed to register push token";return console.error("[usePush] Token registration error:",f),o(p),!1}else return o("Failed to generate FCM token"),!1;return!0}else return d==="denied"?(o("Push notification permission denied by user"),!1):(o("Push notification permission dismissed"),!1)}catch(d){const h=d instanceof Error?d.message:"Failed to request push permission";return o(h),console.error("[usePush] Permission request error:",d),!1}finally{i(!1)}},[t,e]);return{isPushSupported:t,isPermissionGranted:r,isInitializing:s,error:a,requestPushPermission:c,unsubscribe:u.current}},uEe={"/":{title:" ",icon:Dm},"/projects":{title:" ",icon:Un},"/workers":{title:" ",icon:yn},"/suppliers-pro":{title:" ",icon:Js},"/worker-attendance":{title:" ",icon:Pg},"/worker-accounts":{title:" ",icon:Jt},"/material-purchase":{title:" ",icon:Qr},"/project-transfers":{title:"  ",icon:Dc},"/project-transactions":{title:" ",icon:Ms},"/well-accounting":{title:" ",icon:Fo},"/well-cost-report":{title:"  ",icon:Ms},"/wells":{title:" ",icon:QO},"/transport-management":{title:" ",icon:Js},"/daily-expenses":{title:" ",icon:Jt},"/deployment":{title:"   ",icon:us},"/settings":{title:" ",icon:Oh},"/project-fund-custody":{title:"  ",icon:md},"/notifications":{title:"",icon:Ki},"/admin-notifications":{title:" ",icon:io},"/ai-chat":{title:" ",icon:yj},"/security-policies":{title:" ",icon:hle},"/equipment":{title:" ",icon:Xi},"/reports":{title:"",icon:rle},"/local-db":{title:"   ",icon:Li},"/admin/sync":{title:" ",icon:ds}};function dEe(){const[e]=fs(),{toast:t}=zr(),{selectedProjectId:r,selectedProjectName:n,selectProject:s}=yo(),[i,a]=T.useState({isOnline:!0,pendingCount:0});cEe();const[o,u]=T.useState(()=>typeof window<"u"&&document.documentElement.classList.contains("dark")?"dark":"light");T.useEffect(()=>{const v=window.document.documentElement;o==="dark"?v.classList.add("dark"):v.classList.remove("dark"),localStorage.setItem("theme",o)},[o]);const c=()=>{u(v=>v==="light"?"dark":"light")};T.useEffect(()=>{const v=B1(b=>{a({isOnline:b.isOnline,pendingCount:b.pendingCount||0})});return()=>v()},[]);const{isOnline:d,pendingCount:h}=i,{data:f=[],isLoading:p}=st({queryKey:fe.projects,queryFn:async()=>{try{const v=await Ie("/api/projects","GET");return v?.data||v||[]}catch{return[]}}}),g=uEe[e]||{title:"AXION SYSTEM",icon:cle},y=g.icon,m=(v,b)=>{s(v,b),t({title:"  ",description:b})};return l.jsxs("div",{className:"flex items-center justify-between h-full w-full px-4",dir:"rtl",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-primary/10 p-1.5 rounded-lg text-primary",children:l.jsx(y,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex flex-col justify-center text-right",children:[l.jsx("h1",{className:"text-sm font-bold leading-tight text-slate-900 dark:text-white",children:g.title}),l.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-black uppercase tracking-widest",children:"AXION SYSTEM"})]})]}),l.jsx("div",{className:"flex-1"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(LNe,{}),l.jsx(_e,{variant:"outline",size:"icon",onClick:c,className:"h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",title:o==="light"?" ":" ","data-testid":"button-theme-toggle",children:o==="light"?l.jsx(yle,{className:"h-4 w-4 text-slate-700"}):l.jsx(jle,{className:"h-4 w-4 text-amber-400"})}),l.jsxs(cX,{children:[l.jsx(uX,{asChild:!0,children:l.jsx(_e,{variant:"outline",size:"icon",className:"h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",title:r?r===ts?So:n:" ","data-testid":"button-project-selector",children:l.jsx(sle,{className:"h-4 w-4 text-primary"})})}),l.jsxs(aN,{align:"start",className:"w-64 max-h-80",dir:"rtl",children:[l.jsx(dX,{className:"text-right",children:" "}),l.jsx(fX,{}),p?l.jsx("div",{className:"p-4 text-center text-xs",children:" ..."}):l.jsxs(l.Fragment,{children:[l.jsxs(xv,{onClick:()=>m(ts,So),className:"flex justify-between items-center text-right",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(QO,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{children:So})]}),r===ts&&l.jsx(Zr,{className:"h-4 w-4 text-green-500"})]}),f.map(v=>l.jsxs(xv,{onClick:()=>m(v.id.toString(),v.name),className:"flex justify-between items-center text-right",children:[l.jsx("span",{children:v.name}),r===v.id.toString()&&l.jsx(Zr,{className:"h-4 w-4 text-green-500"})]},v.id))]})]})]})]})]})}const fEe=[{path:"/",icon:Dm,label:"",key:"dashboard"},{path:"/projects",icon:Un,label:"",key:"projects"},{path:"/workers",icon:yn,label:"",key:"workers"},{path:"/worker-attendance",icon:Pg,label:"",key:"attendance"},{path:"/daily-expenses",icon:Fo,label:"",key:"expenses"}],hEe=[{category:" ",pages:[{path:"/",icon:Dm,label:" ",description:"   ",requireAdmin:!1},{path:"/projects",icon:Un,label:" ",description:"  ",requireAdmin:!1},{path:"/workers",icon:yn,label:" ",description:"   ",requireAdmin:!1},{path:"/suppliers-pro",icon:Js,label:" ",description:"  ",requireAdmin:!1}]},{category:" ",pages:[{path:"/wells",icon:Io,label:" ",description:"   ",requireAdmin:!1},{path:"/well-accounting",icon:Fo,label:" ",description:"   ",requireAdmin:!1},{path:"/well-cost-report",icon:Ek,label:" ",description:"   ",requireAdmin:!1},{path:"/worker-attendance",icon:Pg,label:" ",description:"   ",requireAdmin:!1},{path:"/daily-expenses",icon:Fo,label:" ",description:"   ",requireAdmin:!1},{path:"/material-purchase",icon:Qr,label:" ",description:"   ",requireAdmin:!1},{path:"/transport-management",icon:Js,label:" ",description:"    ",requireAdmin:!1},{path:"/worker-accounts",icon:Jt,label:" ",description:"   ",requireAdmin:!0},{path:"/equipment",icon:Oh,label:" ",description:"    ",requireAdmin:!0},{path:"/project-fund-custody",icon:Jt,label:" ",description:"   ",requireAdmin:!0},{path:"/project-transfers",icon:Dc,label:"  ",description:"    ",requireAdmin:!0},{path:"/project-transactions",icon:Ms,label:" ",description:"    ",requireAdmin:!0}]},{category:" ",pages:[{path:"/supplier-accounts",icon:XO,label:" ",description:"   ",requireAdmin:!0}]},{category:"",pages:[{path:"/reports",icon:Ek,label:"",description:"      ",requireAdmin:!1}]},{category:" ",pages:[{path:"/users-management",icon:yn,label:" ",description:"   ",requireAdmin:!0}]},{category:" ",pages:[{path:"/notifications",icon:Ki,label:"",description:"   ",requireAdmin:!1}]},{category:" ",pages:[{path:"/security-policies",icon:io,label:" ",description:"   ",requireAdmin:!0},{path:"/smart-errors",icon:Li,label:"  ",description:"      ",requireAdmin:!0}]},{category:" ",pages:[{path:"/autocomplete-admin",icon:Xi,label:"  ",description:"   ",requireAdmin:!0},{path:"/admin-notifications",icon:Ki,label:" ",description:"   ",requireAdmin:!0},{path:"/deployment",icon:eF,label:"  ",description:"     ",requireAdmin:!0}]},{category:"  ",pages:[{path:"/local-db",icon:Li,label:"  ",description:"    ",requireAdmin:!0},{path:"/admin/backups",icon:io,label:" ",description:"   ",requireAdmin:!0},{path:"/admin/sync",icon:ds,label:" ",description:"     ",requireAdmin:!0}]}];function pEe(){const[e,t]=fs(),[r,n]=T.useState(!1),[s,i]=T.useState(""),{user:a}=ql(),o=a?.role==="admin",u=hEe.map(f=>({...f,pages:f.pages.filter(p=>!p.requireAdmin||o)})).filter(f=>f.pages.length>0),c=T.useMemo(()=>{if(!s.trim())return u;const f=s.toLowerCase();return u.map(p=>({...p,pages:p.pages.filter(g=>g.label.toLowerCase().includes(f)||g.description.toLowerCase().includes(f))})).filter(p=>p.pages.length>0)},[s,u]),d=f=>{t(f),n(!1),i("")},h=u.reduce((f,p)=>f+p.pages.length,0);return l.jsx("nav",{className:"bg-white dark:bg-slate-900 flex-shrink-0 h-full w-full relative z-[50]",onClick:f=>f.stopPropagation(),children:l.jsxs("div",{className:"flex justify-around items-center h-full w-full max-w-screen-xl mx-auto px-2 relative",children:[fEe.map(f=>{const p=f.icon,g=e===f.path;return l.jsxs(_e,{variant:"ghost","data-testid":`nav-item-${f.key}`,className:`flex flex-col items-center justify-center gap-1 h-full min-w-[50px] px-1 rounded-xl transition-all duration-500 relative group no-default-hover-elevate no-default-active-elevate ${g?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,onClick:()=>t(f.path),children:[l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx(qm,{children:g&&l.jsx(Kr.div,{layoutId:"nav-bg",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"absolute inset-[-6px] bg-blue-50 dark:bg-blue-900/20 rounded-xl z-0"})}),l.jsx(p,{className:`h-[22px] w-[22px] z-10 transition-transform duration-500 ${g?"scale-110":"group-hover:scale-105"}`})]}),l.jsx("span",{className:`text-[11px] font-medium z-10 transition-all duration-500 ${g?"opacity-100 translate-y-0":"opacity-70 group-hover:opacity-100"}`,children:f.label}),g&&l.jsx(Kr.div,{layoutId:"nav-dot",className:"absolute -top-[1px] left-1/2 -translate-x-1/2 w-5 h-[3px] bg-blue-600 dark:bg-blue-400 rounded-full",initial:{opacity:0},animate:{opacity:1}})]},f.key)}),l.jsxs(P1,{open:r,onOpenChange:n,modal:!0,children:[l.jsx($5,{asChild:!0,children:l.jsxs(_e,{variant:"ghost","data-testid":"nav-more-button",className:`flex flex-col items-center justify-center gap-1 h-full min-w-[50px] px-1 rounded-xl transition-all duration-500 relative group no-default-hover-elevate no-default-active-elevate ${r?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,children:[l.jsxs("div",{className:"relative flex items-center justify-center",children:[r&&l.jsx("div",{className:"absolute inset-[-6px] bg-blue-50 dark:bg-blue-900/20 rounded-xl"}),l.jsx(tle,{className:`h-[22px] w-[22px] z-10 transition-transform duration-500 ${r?"scale-110":"group-hover:scale-105"}`})]}),l.jsx("span",{className:`text-[11px] font-medium z-10 transition-all duration-500 ${r?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:""})]})}),l.jsxs(y0,{side:"bottom",className:"h-[90vh] rounded-t-[28px] px-0 border-none shadow-[0_-15px_50px_rgba(0,0,0,0.15)] bg-white dark:bg-slate-950 backdrop-blur-2xl z-[20002]",onPointerDownOutside:()=>n(!1),onInteractOutside:()=>n(!1),children:[l.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-800 rounded-full mx-auto my-3"}),l.jsxs("div",{className:"px-4 mb-4 space-y-3",children:[l.jsx(O5,{children:l.jsx(b0,{className:"text-right text-2xl font-bold bg-gradient-to-l from-blue-600 to-blue-500 bg-clip-text text-transparent dark:from-blue-400 dark:to-blue-300",children:" "})}),l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-100 dark:border-blue-800/30",children:[l.jsxs("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:[c.reduce((f,p)=>f+p.pages.length,0),"  ",h]}),l.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:" "})]}),l.jsxs("div",{className:"relative group",children:[l.jsx(uo,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 dark:text-slate-500 z-10 pointer-events-none"}),l.jsx(tt,{"data-testid":"input-menu-search",type:"text",placeholder:"  ...",value:s,onChange:f=>i(f.target.value),className:"w-full h-10 pr-10 pl-4 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-600 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-0 dark:focus-visible:ring-offset-0 transition-all duration-300"}),s&&l.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 h-6 w-6 z-10 hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>i(""),children:l.jsx(os,{className:"h-4 w-4 text-slate-400 dark:text-slate-500"})})]})]}),l.jsx(bo,{className:"h-[calc(90vh-180px)]",children:l.jsx("div",{className:"px-4 pb-24",children:c.length>0?l.jsx("div",{className:"space-y-6",children:l.jsx(qm,{mode:"wait",children:c.map((f,p)=>l.jsxs(Kr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:p*.05},className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3 px-2 mb-3",children:[l.jsx("div",{className:"h-0.5 flex-1 bg-gradient-to-l from-slate-200 dark:from-slate-800 to-transparent"}),l.jsx("h3",{className:"font-bold text-xs text-slate-500 dark:text-slate-400 uppercase tracking-widest whitespace-nowrap",children:f.category}),l.jsx("div",{className:"h-0.5 flex-1 bg-gradient-to-r from-slate-200 dark:from-slate-800 to-transparent"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.pages.map((g,y)=>{const m=g.icon,v=e===g.path;return l.jsx(Kr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:y*.03},whileHover:{scale:1.02},whileTap:{scale:.98},children:l.jsxs(_e,{variant:"ghost","data-testid":`menu-item-${g.path}`,className:`w-full h-auto p-4 rounded-2xl border-2 transition-all duration-300 overflow-hidden relative group cursor-pointer ${v?"bg-gradient-to-br from-blue-600 to-blue-700 text-white border-blue-600 shadow-lg shadow-blue-200 dark:shadow-blue-950 dark:from-blue-600 dark:to-blue-700":"bg-white dark:bg-slate-900/40 border-slate-100 dark:border-slate-800/50 text-slate-900 dark:text-white hover:border-blue-300 dark:hover:border-blue-700/50 hover:bg-blue-50/50 dark:hover:bg-blue-900/10"}`,onClick:()=>d(g.path),children:[!v&&l.jsx(Kr.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-400/0 to-blue-500/0 opacity-0 group-hover:opacity-10 dark:group-hover:opacity-20 transition-opacity duration-300",whileHover:{opacity:1}}),l.jsxs("div",{className:"flex items-center gap-3 w-full relative z-10",children:[l.jsx(Kr.div,{className:`p-2.5 rounded-2xl transition-all duration-300 flex-shrink-0 ${v?"bg-white/25 shadow-lg":"bg-slate-100 dark:bg-slate-800/80 text-blue-600 dark:text-blue-400 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/40"}`,whileHover:{scale:1.15,rotate:5},transition:{type:"spring",stiffness:400},children:l.jsx(m,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex-1 min-w-0 text-right",children:[l.jsx("div",{className:`font-bold text-sm leading-tight mb-1 truncate transition-all duration-300 ${v?"text-white":"text-slate-900 dark:text-slate-100"}`,children:g.label}),l.jsx("div",{className:`text-[11px] leading-tight truncate transition-all duration-300 ${v?"text-white/85":"text-slate-500 dark:text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300"}`,children:g.description})]})]})]})},y)})})]},p))})}):l.jsxs(Kr.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx(uo,{className:"h-12 w-12 text-slate-300 dark:text-slate-700 mb-3"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"  "}),l.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs",children:"   "})]})})})]})]})]})})}function mEe(){const e=vo(),{floatingAction:t,floatingLabel:r,refreshAction:n,showAddButton:s}=e;return!t&&!n&&!s?null:l.jsxs("div",{className:"fixed bottom-[calc(90px+env(safe-area-inset-bottom,0px))] right-6 z-[110] flex flex-col gap-3 pointer-events-auto items-center",children:[n&&l.jsx(_e,{onClick:()=>n(),className:"h-10 w-10 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",size:"icon",title:"","data-testid":"button-floating-refresh",children:l.jsx(ds,{className:"h-4 w-4"})}),(t||s)&&l.jsx(_e,{onClick:()=>{console.log("FAB Clicked, action exists:",!!t),t&&t()},className:"h-12 w-12 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 border-0 text-white",size:"icon",title:r,"data-testid":"button-floating-add",children:l.jsx(Hn,{className:"h-5 w-5"})})]})}const U2=768;function gEe(){const[e,t]=T.useState(void 0);return T.useEffect(()=>{const r=window.matchMedia(`(max-width: ${U2-1}px)`),n=()=>{t(window.innerWidth<U2)};return r.addEventListener("change",n),t(window.innerWidth<U2),()=>r.removeEventListener("change",n)},[]),!!e}var yEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bEe=yEe.reduce((e,t)=>{const r=s0(`Primitive.${t}`),n=T.forwardRef((s,i)=>{const{asChild:a,...o}=s,u=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),vEe="Separator",T9="horizontal",xEe=["horizontal","vertical"],See=T.forwardRef((e,t)=>{const{decorative:r,orientation:n=T9,...s}=e,i=wEe(n)?n:T9,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(bEe.div,{"data-orientation":i,...o,...s,ref:t})});See.displayName=vEe;function wEe(e){return xEe.includes(e)}var jee=See;const Nee=T.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>l.jsx(jee,{ref:s,decorative:r,orientation:t,className:we("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Nee.displayName=jee.displayName;const _Ee="sidebar_state",kEe=3600*24*7,SEe="16rem",jEe="16rem",NEe="3rem",CEe="b",Cee=T.createContext(null);function T0(){const e=T.useContext(Cee);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Tee=T.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:s,children:i,...a},o)=>{const u=gEe(),[c,d]=T.useState(!1),[h,f]=T.useState(e),p=t??h,g=T.useCallback(b=>{const x=typeof b=="function"?b(p):b;r?r(x):f(x),document.cookie=`${_Ee}=${x}; path=/; max-age=${kEe}`},[r,p]),y=T.useCallback(()=>u?d(b=>!b):g(b=>!b),[u,g,d]);T.useEffect(()=>{const b=x=>{x.key===CEe&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),y())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[y]);const m=p?"expanded":"collapsed",v=T.useMemo(()=>({state:m,open:p,setOpen:g,isMobile:u,openMobile:c,setOpenMobile:d,toggleSidebar:y}),[m,p,g,u,c,d,y]);return l.jsx(Cee.Provider,{value:v,children:l.jsx(dx,{delayDuration:0,children:l.jsx("div",{style:{"--sidebar-width":SEe,"--sidebar-width-icon":NEe,...s},className:we("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:o,...a,children:i})})})});Tee.displayName="SidebarProvider";const Eee=T.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...i},a)=>{const{isMobile:o,state:u,openMobile:c,setOpenMobile:d}=T0();return r==="none"?l.jsx("div",{className:we("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:a,...i,children:s}):o?l.jsx(P1,{open:c,onOpenChange:d,...i,children:l.jsxs(y0,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden z-[20001]",style:{"--sidebar-width":jEe},side:e,children:[l.jsxs(O5,{className:"sr-only",children:[l.jsx(b0,{children:"Sidebar"}),l.jsx(BZ,{children:"Displays the mobile sidebar."})]}),l.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):l.jsxs("div",{ref:a,className:"group peer hidden text-sidebar-foreground md:block","data-state":u,"data-collapsible":u==="collapsed"?r:"","data-variant":t,"data-side":e,children:[l.jsx("div",{className:we("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),l.jsx("div",{className:we("fixed inset-y-0 z-[60] hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:l.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});Eee.displayName="Sidebar";const Aee=T.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=T0();return l.jsxs(_e,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:we("h-7 w-7",e),onClick:i=>{t?.(i),s()},...r,children:[l.jsx(xle,{}),l.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Aee.displayName="SidebarTrigger";const TEe=T.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=T0();return l.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:we("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});TEe.displayName="SidebarRail";const Pee=T.forwardRef(({className:e,...t},r)=>l.jsx("main",{ref:r,className:we("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Pee.displayName="SidebarInset";const EEe=T.forwardRef(({className:e,...t},r)=>l.jsx(tt,{ref:r,"data-sidebar":"input",className:we("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));EEe.displayName="SidebarInput";const Iee=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-sidebar":"header",className:we("flex flex-col gap-2 p-2",e),...t}));Iee.displayName="SidebarHeader";const Dee=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-sidebar":"footer",className:we("flex flex-col gap-2 p-2",e),...t}));Dee.displayName="SidebarFooter";const AEe=T.forwardRef(({className:e,...t},r)=>l.jsx(Nee,{ref:r,"data-sidebar":"separator",className:we("mx-2 w-auto bg-sidebar-border",e),...t}));AEe.displayName="SidebarSeparator";const Mee=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-sidebar":"content",className:we("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Mee.displayName="SidebarContent";const Ree=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-sidebar":"group",className:we("relative flex w-full min-w-0 flex-col p-2",e),...t}));Ree.displayName="SidebarGroup";const $ee=T.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Fd:"div";return l.jsx(s,{ref:n,"data-sidebar":"group-label",className:we("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});$ee.displayName="SidebarGroupLabel";const PEe=T.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Fd:"button";return l.jsx(s,{ref:n,"data-sidebar":"group-action",className:we("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});PEe.displayName="SidebarGroupAction";const Oee=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-sidebar":"group-content",className:we("w-full text-sm",e),...t}));Oee.displayName="SidebarGroupContent";const W4=T.forwardRef(({className:e,...t},r)=>l.jsx("ul",{ref:r,"data-sidebar":"menu",className:we("flex w-full min-w-0 flex-col gap-1",e),...t}));W4.displayName="SidebarMenu";const lb=T.forwardRef(({className:e,...t},r)=>l.jsx("li",{ref:r,"data-sidebar":"menu-item",className:we("group/menu-item relative",e),...t}));lb.displayName="SidebarMenuItem";const IEe=Md("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),cb=T.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:s,className:i,...a},o)=>{const u=e?Fd:"button",{isMobile:c,state:d}=T0(),h=l.jsx(u,{ref:o,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:we(IEe({variant:r,size:n}),i),...a});return s?(typeof s=="string"&&(s={children:s}),l.jsxs(Aj,{children:[l.jsx(Pj,{asChild:!0,children:h}),l.jsx(fx,{side:"right",align:"center",hidden:d!=="collapsed"||c,...s})]})):h});cb.displayName="SidebarMenuButton";const DEe=T.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const i=t?Fd:"button";return l.jsx(i,{ref:s,"data-sidebar":"menu-action",className:we("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});DEe.displayName="SidebarMenuAction";const MEe=T.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:we("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));MEe.displayName="SidebarMenuBadge";const REe=T.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=T.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return l.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:we("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&l.jsx(qr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),l.jsx(qr,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});REe.displayName="SidebarMenuSkeleton";const $Ee=T.forwardRef(({className:e,...t},r)=>l.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:we("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));$Ee.displayName="SidebarMenuSub";const OEe=T.forwardRef(({...e},t)=>l.jsx("li",{ref:t,...e}));OEe.displayName="SidebarMenuSubItem";const FEe=T.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},i)=>{const a=e?Fd:"a";return l.jsx(a,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:we("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});FEe.displayName="SidebarMenuSubButton";const LEe=[{title:"",icon:Dm,items:[{title:" ",url:"/",icon:Dm},{title:" ",url:"/projects",icon:Un}]},{title:" ",icon:yn,items:[{title:" ",url:"/project-transactions",icon:Ms},{title:" ",url:"/workers",icon:yn},{title:" ",url:"/worker-attendance",icon:Pg},{title:" ",url:"/worker-accounts",icon:md}]},{title:" ",icon:Qr,items:[{title:" ",url:"/material-purchase",icon:Qr},{title:" ",url:"/material-purchases",icon:Qr},{title:"",url:"/suppliers-pro",icon:Js},{title:" ",url:"/transport-management",icon:Js},{title:"",url:"/customers",icon:yn},{title:" ",icon:Xi,url:"/equipment"}]},{title:" ",icon:Fo,items:[{title:" ",url:"/daily-expenses",icon:Fo},{title:" ",url:"/well-accounting",icon:Fo},{title:" ",url:"/well-cost-report",icon:Po},{title:"",url:"/reports",icon:Po}]},{title:" ",icon:wl,items:[{title:" ",icon:yj,url:"/ai-chat"},{title:" ",icon:wl,url:"/security-policies"},{title:" ",icon:us,url:"/admin/data-health"},{title:" ",icon:wl,url:"/admin/backups"},{title:" ",icon:ds,url:"/admin/sync"},{title:" ",icon:Li,url:"/local-db"}]}];function zEe(){const[e,t]=fs(),{logout:r,user:n}=ql(),{setOpenMobile:s,isMobile:i}=T0(),a=o=>{t(o),i&&s(!1)};return l.jsxs(Eee,{side:"right",variant:"sidebar",collapsible:"icon",className:"border-l-0 bg-white dark:bg-slate-950 text-slate-900 dark:text-white transition-colors duration-500",children:[l.jsx(Iee,{className:"border-b border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-950 px-4 py-5 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-xl bg-[#3b82f6] dark:bg-[#1a1c1e] shadow-xl shadow-blue-600/20 dark:shadow-black/40 transition-all border border-white/10 dark:border-slate-800 overflow-hidden relative group/logo",children:l.jsxs("div",{className:"relative flex items-center justify-center w-full h-full translate-y-[1px]",children:[l.jsx("span",{className:"font-black text-2xl leading-none text-white drop-shadow-sm",children:""}),l.jsx("span",{className:"font-black text-xs leading-none text-white/30 ml-[-2px] italic -skew-x-6",children:"A"}),l.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-blue-400 rounded-full border border-white dark:border-[#1a1c1e] shadow-sm"})]})}),l.jsxs("div",{className:"flex flex-col overflow-hidden group-data-[collapsible=icon]:hidden text-right",children:[l.jsxs("div",{className:"flex items-center gap-2 leading-none",children:[l.jsx("span",{className:"font-black text-lg tracking-[-0.05em] text-slate-900 dark:text-white uppercase",children:"AXION"}),l.jsx("div",{className:"h-4 w-[1px] bg-slate-200 dark:bg-slate-800"}),l.jsx("span",{className:"font-black text-sm text-[#3b82f6] dark:text-blue-500",children:""})]}),l.jsx("span",{className:"text-[8px] text-slate-400 dark:text-slate-500 truncate font-black uppercase tracking-[0.4em] mt-1.5 opacity-80",children:"Enterprise Operations"})]})]})}),l.jsxs(Mee,{className:"bg-white dark:bg-slate-950 gap-0 pt-2 custom-scrollbar overflow-y-auto overflow-x-hidden flex-1 scrolling-touch",children:[LEe.map(o=>l.jsx(fa,{defaultOpen:!0,className:"group/collapsible",children:l.jsxs(Ree,{children:[l.jsx($ee,{asChild:!0,children:l.jsxs(ha,{className:"flex w-full items-center justify-between px-4 py-2 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors group-data-[collapsible=icon]:hidden",children:[l.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:o.title}),l.jsx(pn,{className:"h-3 w-3 transition-transform duration-200 group-data-[state=open]/collapsible:rotate-180"})]})}),l.jsx(pa,{children:l.jsx(Oee,{children:l.jsx(W4,{children:o.items.map(u=>l.jsx(lb,{children:l.jsx(cb,{asChild:!0,isActive:e===u.url,className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg transition-all duration-200 data-[active=true]:bg-blue-600 dark:data-[active=true]:bg-white data-[active=true]:text-white dark:data-[active=true]:text-slate-900 hover:bg-slate-100 dark:hover:bg-slate-900 text-slate-700 dark:text-slate-300",children:l.jsxs("a",{href:u.url,onClick:c=>{c.preventDefault(),a(u.url)},children:[l.jsx(u.icon,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium text-sm",children:u.title})]})})},u.title))})})})]})},o.title)),l.jsx("div",{className:"h-24 w-full","aria-hidden":"true"})]}),l.jsxs(Dee,{className:"border-t border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950 p-2 flex-shrink-0",children:[l.jsxs("div",{className:"px-4 py-3 flex items-center gap-3 group-data-[collapsible=icon]:hidden border-b border-slate-200/50 dark:border-slate-800 mb-2",children:[l.jsx("div",{className:"h-9 w-9 rounded-full bg-blue-600 dark:bg-white flex items-center justify-center text-white dark:text-slate-900 font-bold text-sm uppercase border border-white/10 shadow-sm transition-colors",children:n?.name?.charAt(0)||"U"}),l.jsxs("div",{className:"flex flex-col overflow-hidden text-right",children:[l.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:n?.name||""}),l.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 truncate",children:n?.email})]})]}),l.jsxs(W4,{children:[l.jsx(lb,{children:l.jsxs(cb,{className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors text-slate-700 dark:text-slate-300",onClick:()=>a("/settings"),children:[l.jsx(Oh,{className:"h-5 w-5 opacity-60"}),l.jsx("span",{className:"text-sm font-medium",children:""})]})}),l.jsx(lb,{children:l.jsxs(cb,{className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 hover:text-red-700 dark:hover:text-red-400 transition-colors",onClick:()=>{r(),i&&s(!1)},children:[l.jsx(ple,{className:"h-5 w-5"}),l.jsx("span",{className:"text-sm font-medium",children:" "})]})})]}),l.jsx("div",{className:"px-4 py-2 group-data-[collapsible=icon]:hidden",children:l.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-500 text-center border border-slate-200 dark:border-slate-800 rounded py-1 bg-slate-100 dark:bg-slate-900/50",children:[": ",""]})})]})]})}function BEe(){const[e,t]=T.useState("online"),[r,n]=T.useState(0),[s,i]=T.useState(0),[a,o]=T.useState(!1),[u,c]=T.useState(!1),d=T.useCallback(async()=>{try{const f=await Kc();n(f.length)}catch{n(0)}},[]);T.useEffect(()=>{const f=()=>{navigator.onLine?e==="offline"&&(t("syncing"),o(!1),h()):(t("offline"),o(!1),d())};window.addEventListener("online",f),window.addEventListener("offline",f);const p=()=>{d(),o(!1)};return window.addEventListener("offline-mutation-queued",p),navigator.onLine||t("offline"),d(),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",f),window.removeEventListener("offline-mutation-queued",p)}},[e,d]);const h=T.useCallback(async()=>{t("syncing"),i(10);try{const f=await Kc();if(f.length===0){t("completed"),i(100),c(!0),setTimeout(()=>{c(!1),t("online"),i(0)},2500);return}const p=f.length;let g=0;const y=setInterval(()=>{g=Math.min(g+1,p),i(Math.round(g/p*100))},500);await By(),clearInterval(y),i(100),t("completed"),c(!0),n(0),setTimeout(()=>{c(!1),t("online"),i(0)},2500)}catch(f){console.error("[SyncTracker]  :",f),t("online"),i(0),d()}},[d]);return e==="online"&&!u&&r===0||a&&e==="offline"&&r===0?null:l.jsx("div",{className:we("fixed bottom-20 left-4 right-4 z-[100] transition-all duration-300 max-w-sm mx-auto","pointer-events-auto"),dir:"rtl","data-testid":"sync-progress-tracker",children:l.jsxs("div",{className:we("rounded-xl px-3 py-2 shadow-lg border flex items-center gap-2",e==="offline"&&"bg-amber-50 dark:bg-amber-950/80 border-amber-200 dark:border-amber-800",e==="syncing"&&"bg-blue-50 dark:bg-blue-950/80 border-blue-200 dark:border-blue-800",(e==="completed"||u)&&"bg-green-50 dark:bg-green-950/80 border-green-200 dark:border-green-800",e==="online"&&r>0&&"bg-amber-50 dark:bg-amber-950/80 border-amber-200 dark:border-amber-800"),children:[l.jsxs("div",{className:we("shrink-0 p-1.5 rounded-lg",e==="offline"&&"bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400",e==="syncing"&&"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400",(e==="completed"||u)&&"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400",e==="online"&&r>0&&"bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400"),children:[e==="offline"&&l.jsx(Qoe,{className:"w-4 h-4"}),e==="syncing"&&l.jsx(ds,{className:"w-4 h-4 animate-spin"}),(e==="completed"||u)&&l.jsx(Zr,{className:"w-4 h-4"}),e==="online"&&r>0&&l.jsx(rd,{className:"w-4 h-4"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:we("text-xs font-medium leading-tight",e==="offline"&&"text-amber-800 dark:text-amber-300",e==="syncing"&&"text-blue-800 dark:text-blue-300",(e==="completed"||u)&&"text-green-800 dark:text-green-300",e==="online"&&r>0&&"text-amber-800 dark:text-amber-300"),children:[e==="offline"&&(r>0?`   ${r}  `:"     "),e==="syncing"&&` ... ${s}%`,(e==="completed"||u)&&" ",e==="online"&&r>0&&`${r}   `]}),e==="syncing"&&l.jsx(iu,{value:s,className:"h-1 mt-1 bg-blue-100 dark:bg-blue-900"})]}),e==="offline"&&l.jsx("button",{onClick:()=>o(!0),className:"shrink-0 p-1 rounded-md text-amber-500 dark:text-amber-400 hover-elevate","data-testid":"button-dismiss-offline",children:l.jsx(lo,{className:"w-3.5 h-3.5"})}),e==="online"&&r>0&&l.jsx("button",{onClick:h,className:"shrink-0 text-[10px] font-medium px-2 py-1 rounded-md bg-amber-200 dark:bg-amber-800 text-amber-800 dark:text-amber-200 hover-elevate","data-testid":"button-sync-now",children:""}),e==="syncing"&&l.jsx("button",{disabled:!0,className:"shrink-0 text-[10px] font-medium px-2 py-1 rounded-md bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-200 opacity-60 cursor-not-allowed","data-testid":"button-sync-disabled",children:"..."})]})})}function UEe({onRefresh:e,enabled:t=!0,threshold:r=70,maxPull:n=130,minSpinnerTime:s=600,scrollRef:i}){const[a,o]=T.useState(0),[u,c]=T.useState(!1),[d,h]=T.useState(!1),f=T.useRef(!1),p=T.useRef(0),g=T.useRef(0),y=T.useRef(!1),m=T.useRef(null),v=Math.min(a/r,1),b=T.useCallback(async()=>{if(f.current)return;f.current=!0,c(!0);const x=Date.now();try{await e()}catch{}finally{const j=Date.now()-x,C=Math.max(0,s-j);setTimeout(()=>{c(!1),f.current=!1,o(0)},C)}},[e,s]);return T.useEffect(()=>{const x=i.current;if(!x||!t)return;x.style.overscrollBehaviorY="none";const j=()=>x.scrollTop<=0,C=P=>"touches"in P&&P.touches.length>0?P.touches[0].clientY:P.clientY,R=P=>{if(f.current||!j()||"pointerType"in P&&P.pointerType==="mouse")return;const $=C(P);p.current=$,g.current=$,y.current=!1},L=P=>{if(f.current||"pointerType"in P&&P.pointerType==="mouse")return;const $=C(P);if($-p.current>10&&j()&&(y.current||(y.current=!0,h(!0),p.current=$)),y.current){P.cancelable&&P.preventDefault(),g.current=$;const U=g.current-p.current,E=Math.min(n,U*.5);m.current&&cancelAnimationFrame(m.current),m.current=requestAnimationFrame(()=>{o(Math.max(0,E))})}},A=()=>{m.current&&cancelAnimationFrame(m.current),y.current&&(y.current=!1,h(!1),(g.current-p.current)*.5>=r?(o(r),b()):o(0))};return x.addEventListener("touchstart",R,{passive:!0}),x.addEventListener("touchmove",L,{passive:!1}),x.addEventListener("touchend",A,{passive:!0}),x.addEventListener("touchcancel",A,{passive:!0}),()=>{x.removeEventListener("touchstart",R),x.removeEventListener("touchmove",L),x.removeEventListener("touchend",A),x.removeEventListener("touchcancel",A),x.style.overscrollBehaviorY="",m.current&&cancelAnimationFrame(m.current)}},[t,r,n,b,i]),{pullDistance:a,isRefreshing:u,isPulling:d,progress:v}}function VEe({pullDistance:e,isRefreshing:t,progress:r,threshold:n=70}){const s=e>5||t,i=t?n*.6:e,a=r>=1;return s?l.jsxs("div",{className:"pull-to-refresh-indicator flex items-center justify-center overflow-hidden pointer-events-none select-none",style:{height:`${i}px`,transition:t?"height 0.3s cubic-bezier(0.4, 0, 0.2, 1)":"none",willChange:"height",WebkitUserSelect:"none",userSelect:"none"},"data-testid":"pull-to-refresh-indicator",children:[l.jsx("div",{className:`
          flex items-center justify-center rounded-full
          w-10 h-10
          bg-background border border-border shadow-md
          transition-transform duration-200 ease-out
        `,style:{opacity:Math.min(1,r*1.5),transform:`scale(${.5+r*.5}) rotate(${t?0:r*180}deg)`,willChange:"transform, opacity"},children:l.jsx(ds,{className:`h-5 w-5 text-primary ${t?"animate-spin":""}`,style:{color:a&&!t?"hsl(var(--primary))":void 0}})}),a&&!t&&l.jsx("span",{className:"text-xs text-muted-foreground ms-2 animate-pulse",children:" "})]}):null}const WEe={"/":{queryKeys:[fe.projectsWithStats,fe.notifications,fe.recentActivities,fe.financialSummary,fe.healthStats]},"/projects":{queryKeys:[fe.projects,fe.projectsWithStats,fe.projectTypes]},"/workers":{queryKeys:[fe.workers,fe.workerTypes]},"/worker-accounts":{queryKeys:[fe.workers,fe.workerTypes]},"/suppliers-pro":{queryKeys:[fe.suppliers,fe.supplierStatistics]},"/supplier-accounts":{queryKeys:[fe.suppliers,fe.supplierStatistics]},"/customers":{queryKeys:[fe.suppliers]},"/equipment":{queryKeys:[fe.equipment,fe.equipmentMovements]},"/notifications":{queryKeys:[fe.notifications]},"/admin-notifications":{queryKeys:[fe.notifications]},"/wells":{queryKeys:[fe.wells]},"/well-cost-report":{queryKeys:[fe.wells]},"/well-accounting":{queryKeys:[fe.wells]},"/tasks":{queryKeys:[fe.tasks]},"/reports":{queryKeys:[fe.projectsWithStats,fe.workers,fe.suppliers]},"/users-management":{queryKeys:[fe.users,fe.usersList,fe.usersWithRoles]},"/ai-chat":{queryKeys:[fe.aiSessions]},"/admin/backups":{queryKeys:[fe.backupsStatus,fe.backupsLogs,fe.backupsDatabases]},"/admin/monitoring":{queryKeys:[fe.metrics,fe.diagnostics,fe.healthFull]},"/smart-errors":{queryKeys:[fe.errorLogs]},"/daily-expenses":{queryKeys:[fe.dailyExpenseSummaries,fe.materials]},"/worker-attendance":{queryKeys:[fe.workers,fe.workerTypes]},"/material-purchase":{queryKeys:[fe.materials,fe.suppliers]},"/transport-management":{queryKeys:[fe.transportationExpenses]},"/project-transfers":{queryKeys:[fe.projectFundTransfers,fe.allFundTransfers]},"/project-transactions":{queryKeys:[fe.projects]},"/project-fund-custody":{queryKeys:[fe.projectFundTransfers]},"/autocomplete-admin":{queryKeys:[fe.autocomplete]},"/admin/data-health":{queryKeys:[fe.adminDataHealth]},"/admin/sync":{queryKeys:[fe.projects]},"/security-policies":{queryKeys:[fe.securityPolicies,fe.securityViolations,fe.securitySuggestions]}};function qEe({children:e,showHeader:t=!0,showNav:r=!0,showFloatingButton:n=!0}){const[s]=fs(),i=Yn(),{toast:a}=zr(),o=T.useRef(null),c=["/ai-chat","/admin/data-health"].some(x=>s===x),h=[].some(x=>s===x),f=WEe[s],p=!!f,g=T.useCallback(async()=>{if(f)try{const x=f.queryKeys.map(j=>i.refetchQueries({queryKey:j,type:"active"}));await Promise.all(x)}catch{throw a({title:" ",description:"  .    .",variant:"destructive",duration:3e3}),new Error("refresh failed")}},[f,i,a]),{pullDistance:y,isRefreshing:m,progress:v}=UEe({onRefresh:g,enabled:p,threshold:70,maxPull:130,minSpinnerTime:600,scrollRef:o}),b={"--sidebar-width":"18rem","--sidebar-width-icon":"4rem"};return l.jsxs(Tee,{style:b,children:[l.jsx(BEe,{}),l.jsxs("div",{className:"flex h-[100dvh] w-full bg-background overflow-hidden",dir:"rtl",children:[l.jsx(zEe,{}),l.jsx(Pee,{className:"flex flex-col flex-1 h-full overflow-hidden relative",children:l.jsxs("div",{className:"layout-shell flex flex-col h-full overflow-hidden relative",children:[t&&!c&&l.jsx("header",{className:"layout-header flex-shrink-0 w-full border-b bg-white dark:bg-slate-900 shadow-sm relative z-30",children:l.jsxs("div",{className:"flex h-[60px] items-center px-4 gap-4",children:[l.jsx(Aee,{className:"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}),l.jsx("div",{className:"flex-1 overflow-hidden text-slate-900 dark:text-white flex items-center justify-between",children:l.jsx(dEe,{})})]})}),l.jsxs("main",{ref:o,className:"layout-main flex-1 overflow-y-auto overflow-x-hidden relative scrolling-touch pb-[calc(72px+env(safe-area-inset-bottom,0px)+16px)] md:pb-0",children:[p&&l.jsx(VEe,{pullDistance:y,isRefreshing:m,progress:v}),l.jsx("div",{className:c?"h-full":"layout-content p-4 md:p-6 max-w-7xl mx-auto w-full",children:e})]}),r&&!h&&l.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-[100] bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border-t border-slate-200 dark:border-slate-800 pb-[env(safe-area-inset-bottom,0px)] shadow-[0_-8px_20px_rgba(0,0,0,0.1)] flex items-center justify-center pointer-events-auto",children:l.jsx("div",{className:"w-full h-[72px] flex items-center justify-center",children:l.jsx(pEe,{})})}),n&&!c&&l.jsx("div",{className:"fixed bottom-24 right-6 md:bottom-8 md:right-8 z-40",children:l.jsx(mEe,{})})]})})]})]})}function HEe({children:e}){const{isAuthenticated:t,isLoading:r,user:n}=ql();return console.log(" [ProtectedRoute]  :",{isLoading:r,isAuthenticated:t,hasUser:!!n,userEmail:n?.email||" ",timestamp:new Date().toISOString()}),r?(console.log(" [ProtectedRoute]  ..."),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center p-8 bg-card rounded-lg border shadow-sm",children:[l.jsx(Dr,{className:"h-10 w-10 animate-spin text-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground text-sm animate-pulse",children:"   ..."}),l.jsx(_e,{variant:"ghost",size:"sm",className:"mt-4 text-xs opacity-50 hover:opacity-100",onClick:()=>window.location.reload(),children:"  "})]})})):!t||!n?["/check","/permissions","/setup","/login","/verify-email","/reset-password"].includes(window.location.pathname)?(console.log(" [ProtectedRoute]    "),l.jsx(l.Fragment,{children:e})):(console.log(" [ProtectedRoute]     /login"),l.jsx($b,{to:"/login"})):(console.log(" [ProtectedRoute]     :",n.email),l.jsx(l.Fragment,{children:e}))}const E9=({variant:e,size:t})=>{const r=t==="sm"?"h-4 w-4":t==="md"?"h-6 w-6":"h-8 w-8",n={default:l.jsx(Dr,{className:we(r,"animate-spin text-blue-500")}),database:l.jsx(Li,{className:we(r,"animate-pulse text-green-500")}),processing:l.jsx(Fs,{className:we(r,"animate-bounce text-orange-500")})};return n[e]||n.default},KEe=({step:e,index:t})=>{const r=()=>{switch(e.status){case"completed":return l.jsx(co,{className:"h-4 w-4 text-green-500"});case"loading":return l.jsx(Dr,{className:"h-4 w-4 animate-spin text-blue-500"});case"error":return l.jsx(Ss,{className:"h-4 w-4 text-red-500"});default:return l.jsx(mn,{className:"h-4 w-4 text-gray-400"})}},n=()=>e.startTime&&e.status==="loading"?`${Math.floor((Date.now()-e.startTime)/1e3)}`:null;return l.jsxs(Kr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.1},className:we("flex items-center gap-3 p-3 rounded-lg transition-all duration-300",e.status==="loading"&&"bg-blue-50 border border-blue-200",e.status==="completed"&&"bg-green-50 border border-green-200",e.status==="error"&&"bg-red-50 border border-red-200",e.status==="pending"&&"bg-gray-50 border border-gray-200"),children:[l.jsx("div",{className:"flex-shrink-0",children:r()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:we("text-sm font-medium truncate",e.status==="loading"&&"text-blue-700",e.status==="completed"&&"text-green-700",e.status==="error"&&"text-red-700",e.status==="pending"&&"text-gray-600"),children:e.label}),n()&&l.jsx("span",{className:"text-xs text-blue-600 font-mono",children:n()})]}),e.progress!==void 0&&e.status==="loading"&&l.jsx(Kr.div,{className:"mt-2 bg-gray-200 rounded-full h-1.5 overflow-hidden",initial:{scaleX:0},animate:{scaleX:1},children:l.jsx(Kr.div,{className:"bg-blue-500 h-full rounded-full",initial:{width:0},animate:{width:`${e.progress}%`},transition:{duration:.5}})})]})]})},ZEe=({progress:e,size:t})=>{const r=2*Math.PI*(t/2-8),n=r,s=r-e/100*r;return l.jsxs("div",{className:"relative",children:[l.jsxs("svg",{className:"transform -rotate-90",width:t,height:t,children:[l.jsx("circle",{cx:t/2,cy:t/2,r:t/2-8,stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-gray-200"}),l.jsx(Kr.circle,{cx:t/2,cy:t/2,r:t/2-8,stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:n,strokeDashoffset:s,strokeLinecap:"round",className:"text-blue-500",initial:{strokeDashoffset:r},animate:{strokeDashoffset:s},transition:{duration:.5,ease:"easeInOut"}})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[Math.round(e),"%"]})})]})},Fee=({isLoading:e,steps:t=[],message:r=" ...",progress:n,showSteps:s=!1,size:i="md",variant:a="default",onComplete:o,estimatedTime:u,className:c})=>{const[d,h]=jt.useState(0),f=jt.useRef(Date.now());if(jt.useEffect(()=>{if(!e)return;f.current=Date.now();const y=setInterval(()=>{h(Math.floor((Date.now()-f.current)/1e3))},1e3);return()=>clearInterval(y)},[e]),jt.useEffect(()=>{!e&&d>0&&(o?.(),h(0))},[e,d,o]),!e)return null;const p=()=>l.jsxs(Kr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:we("flex items-center gap-3",c),children:[l.jsx(E9,{variant:a,size:i}),l.jsx("span",{className:"text-sm text-gray-600",children:r})]}),g=()=>l.jsxs(Kr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:we("bg-white rounded-xl shadow-lg border border-gray-200 p-6 max-w-md mx-auto",c),children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"flex justify-center mb-4",children:n!==void 0?l.jsx(ZEe,{progress:n,size:80}):l.jsx(E9,{variant:a,size:"lg"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:r}),l.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500",children:[l.jsxs("span",{children:[" : ",d,""]}),u&&l.jsxs("span",{children:[": ",u,""]})]})]}),s&&t.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:" :"}),t.map((y,m)=>l.jsx(KEe,{step:y,index:m},y.id))]}),n!==void 0&&!s&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[l.jsx("span",{children:""}),l.jsxs("span",{children:[Math.round(n),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:l.jsx(Kr.div,{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.5}})})]})]});return a==="minimal"?p():l.jsx(qm,{children:e&&l.jsx(Kr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:g()})})};function hs({children:e,requiredRole:t="admin"}){const{user:r,isAuthenticated:n,isLoading:s}=ql();return s?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(Fee,{})}):n?!r||r.role!==t?l.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-indigo-900/20",children:l.jsxs("div",{className:"max-w-lg w-full",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-6 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full mb-4",children:l.jsx(_le,{className:"h-12 w-12 text-white",strokeWidth:1.5})}),l.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"   "}),l.jsx("p",{className:"text-white/90 text-sm",children:"      "})]}),l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-5 h-5 text-orange-600 dark:text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:" "}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"    "})]})]})}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-5 border border-blue-200 dark:border-blue-800",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:" "}),l.jsx("p",{className:"text-sm font-bold text-blue-900 dark:text-blue-100",children:r?.role==="user"?" ":r?.role||" "})]})]}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"        "})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[l.jsxs("a",{href:"/",className:"flex-1 inline-flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"  "]}),l.jsxs("button",{onClick:()=>window.history.back(),className:"flex-1 inline-flex items-center justify-center gap-2 px-5 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 font-medium border border-gray-300 dark:border-gray-600",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),""]})]})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"             "})})]})}):l.jsx(l.Fragment,{children:e}):l.jsx($b,{to:"/login"})}function GEe({children:e}){const{user:t,isLoading:r}=ql();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:l.jsx(Fee,{isLoading:!0,message:"    ..."})}):t?t.emailVerified!==!0?(console.log(" [EmailVerificationGuard]        ",{emailVerified:t.emailVerified}),l.jsx($b,{to:`/verify-email?userId=${t.id}&email=${encodeURIComponent(t.email)}`})):l.jsx(l.Fragment,{children:e}):l.jsx($b,{to:"/login"})}function XEe(e){return new Blob([JSON.stringify(e)]).size}async function QEe(e){try{const r=(await _i(e)).reduce((s,i)=>s+XEe(i),0),n=Math.round(r*.75);return{originalSize:r,compressedSize:n,ratio:r>0?n/r*100:0,savedBytes:r-n}}catch{return{originalSize:0,compressedSize:0,ratio:0,savedBytes:0}}}async function YEe(){try{const e=["projects","workers","materials","suppliers","workerAttendance","materialPurchases","transportationExpenses","fundTransfers","workerTransfers","workerMiscExpenses","wells","projectTypes"];let t=0;for(const s of e){const i=await QEe(s);t+=i.originalSize}const r=50*1024*1024,n=t/r*100;return{used:t,percentage:Math.round(n)}}catch{return{used:0,percentage:0}}}async function JEe(){return(await Kc()).length}async function eAe(){const e=await Kc(),t=e.filter(i=>i.action==="create").length,r=e.filter(i=>i.action==="update").length,n=e.filter(i=>i.action==="delete").length,s=e.filter(i=>i.retries>0).length;return{totalPending:e.length,creates:t,updates:r,deletes:n,failedOperations:s,oldestOperation:e.length>0?new Date(e[0].timestamp):null}}async function tAe(){const e=ng(),t=await YEe(),r=await JEe(),n=await eAe();return{timestamp:Date.now(),syncStatus:{isSyncing:e.isSyncing,lastSync:e.lastSync,pendingCount:e.pendingCount,isOnline:e.isOnline},storage:{used:t.used,usagePercentage:t.percentage},operations:{pending:r,creates:n.creates,updates:n.updates,deletes:n.deletes,failedOps:n.failedOperations},timing:{lastSyncDuration:void 0}}}let A9=null;function rAe(e=6e4){if(A9){console.warn(" [PerformanceMonitor]   ");return}A9=setInterval(async()=>{const t=await tAe();t.storage.usagePercentage>80&&console.warn(` [PerformanceMonitor]   : ${t.storage.usagePercentage}%`),t.operations.failedOps>5&&console.warn(` [PerformanceMonitor]  : ${t.operations.failedOps}`)},e),console.log(" [PerformanceMonitor]   ")}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const nAe=4,P9=0,I9=1,sAe=2;function ip(e){let t=e.length;for(;--t>=0;)e[t]=0}const iAe=0,Lee=1,aAe=2,oAe=3,lAe=258,ON=29,E0=256,og=E0+1+ON,zf=30,FN=19,zee=2*og+1,zu=15,V2=16,cAe=7,LN=256,Bee=16,Uee=17,Vee=18,q4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ub=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),uAe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Wee=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dAe=512,ul=new Array((og+2)*2);ip(ul);const cm=new Array(zf*2);ip(cm);const lg=new Array(dAe);ip(lg);const cg=new Array(lAe-oAe+1);ip(cg);const zN=new Array(ON);ip(zN);const Tv=new Array(zf);ip(Tv);function W2(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}let qee,Hee,Kee;function q2(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const Zee=e=>e<256?lg[e]:lg[256+(e>>>7)],ug=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Mi=(e,t,r)=>{e.bi_valid>V2-r?(e.bi_buf|=t<<e.bi_valid&65535,ug(e,e.bi_buf),e.bi_buf=t>>V2-e.bi_valid,e.bi_valid+=r-V2):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Ao=(e,t,r)=>{Mi(e,r[t*2],r[t*2+1])},Gee=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},fAe=e=>{e.bi_valid===16?(ug(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},hAe=(e,t)=>{const r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,u=t.stat_desc.max_length;let c,d,h,f,p,g,y=0;for(f=0;f<=zu;f++)e.bl_count[f]=0;for(r[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<zee;c++)d=e.heap[c],f=r[r[d*2+1]*2+1]+1,f>u&&(f=u,y++),r[d*2+1]=f,!(d>n)&&(e.bl_count[f]++,p=0,d>=o&&(p=a[d-o]),g=r[d*2],e.opt_len+=g*(f+p),i&&(e.static_len+=g*(s[d*2+1]+p)));if(y!==0){do{for(f=u-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[u]--,y-=2}while(y>0);for(f=u;f!==0;f--)for(d=e.bl_count[f];d!==0;)h=e.heap[--c],!(h>n)&&(r[h*2+1]!==f&&(e.opt_len+=(f-r[h*2+1])*r[h*2],r[h*2+1]=f),d--)}},Xee=(e,t,r)=>{const n=new Array(zu+1);let s=0,i,a;for(i=1;i<=zu;i++)s=s+r[i-1]<<1,n[i]=s;for(a=0;a<=t;a++){let o=e[a*2+1];o!==0&&(e[a*2]=Gee(n[o]++,o))}},pAe=()=>{let e,t,r,n,s;const i=new Array(zu+1);for(r=0,n=0;n<ON-1;n++)for(zN[n]=r,e=0;e<1<<q4[n];e++)cg[r++]=n;for(cg[r-1]=n,s=0,n=0;n<16;n++)for(Tv[n]=s,e=0;e<1<<ub[n];e++)lg[s++]=n;for(s>>=7;n<zf;n++)for(Tv[n]=s<<7,e=0;e<1<<ub[n]-7;e++)lg[256+s++]=n;for(t=0;t<=zu;t++)i[t]=0;for(e=0;e<=143;)ul[e*2+1]=8,e++,i[8]++;for(;e<=255;)ul[e*2+1]=9,e++,i[9]++;for(;e<=279;)ul[e*2+1]=7,e++,i[7]++;for(;e<=287;)ul[e*2+1]=8,e++,i[8]++;for(Xee(ul,og+1,i),e=0;e<zf;e++)cm[e*2+1]=5,cm[e*2]=Gee(e,5);qee=new W2(ul,q4,E0+1,og,zu),Hee=new W2(cm,ub,0,zf,zu),Kee=new W2(new Array(0),uAe,0,FN,cAe)},Qee=e=>{let t;for(t=0;t<og;t++)e.dyn_ltree[t*2]=0;for(t=0;t<zf;t++)e.dyn_dtree[t*2]=0;for(t=0;t<FN;t++)e.bl_tree[t*2]=0;e.dyn_ltree[LN*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Yee=e=>{e.bi_valid>8?ug(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},D9=(e,t,r,n)=>{const s=t*2,i=r*2;return e[s]<e[i]||e[s]===e[i]&&n[t]<=n[r]},H2=(e,t,r)=>{const n=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&D9(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!D9(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n},M9=(e,t,r)=>{let n,s,i=0,a,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],n===0?Ao(e,s,t):(a=cg[s],Ao(e,a+E0+1,t),o=q4[a],o!==0&&(s-=zN[a],Mi(e,s,o)),n--,a=Zee(n),Ao(e,a,r),o=ub[a],o!==0&&(n-=Tv[a],Mi(e,n,o)));while(i<e.sym_next);Ao(e,LN,t)},H4=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let a,o,u=-1,c;for(e.heap_len=0,e.heap_max=zee,a=0;a<i;a++)r[a*2]!==0?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,r[c*2]=1,e.depth[c]=0,e.opt_len--,s&&(e.static_len-=n[c*2+1]);for(t.max_code=u,a=e.heap_len>>1;a>=1;a--)H2(e,r,a);c=i;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],H2(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,r[c*2]=r[a*2]+r[o*2],e.depth[c]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,r[a*2+1]=r[o*2+1]=c,e.heap[1]=c++,H2(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],hAe(e,t),Xee(r,u,e.bl_count)},R9=(e,t,r)=>{let n,s=-1,i,a=t[1],o=0,u=7,c=4;for(a===0&&(u=138,c=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=a,a=t[(n+1)*2+1],!(++o<u&&i===a)&&(o<c?e.bl_tree[i*2]+=o:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[Bee*2]++):o<=10?e.bl_tree[Uee*2]++:e.bl_tree[Vee*2]++,o=0,s=i,a===0?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))},$9=(e,t,r)=>{let n,s=-1,i,a=t[1],o=0,u=7,c=4;for(a===0&&(u=138,c=3),n=0;n<=r;n++)if(i=a,a=t[(n+1)*2+1],!(++o<u&&i===a)){if(o<c)do Ao(e,i,e.bl_tree);while(--o!==0);else i!==0?(i!==s&&(Ao(e,i,e.bl_tree),o--),Ao(e,Bee,e.bl_tree),Mi(e,o-3,2)):o<=10?(Ao(e,Uee,e.bl_tree),Mi(e,o-3,3)):(Ao(e,Vee,e.bl_tree),Mi(e,o-11,7));o=0,s=i,a===0?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}},mAe=e=>{let t;for(R9(e,e.dyn_ltree,e.l_desc.max_code),R9(e,e.dyn_dtree,e.d_desc.max_code),H4(e,e.bl_desc),t=FN-1;t>=3&&e.bl_tree[Wee[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},gAe=(e,t,r,n)=>{let s;for(Mi(e,t-257,5),Mi(e,r-1,5),Mi(e,n-4,4),s=0;s<n;s++)Mi(e,e.bl_tree[Wee[s]*2+1],3);$9(e,e.dyn_ltree,t-1),$9(e,e.dyn_dtree,r-1)},yAe=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return P9;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return I9;for(r=32;r<E0;r++)if(e.dyn_ltree[r*2]!==0)return I9;return P9};let O9=!1;const bAe=e=>{O9||(pAe(),O9=!0),e.l_desc=new q2(e.dyn_ltree,qee),e.d_desc=new q2(e.dyn_dtree,Hee),e.bl_desc=new q2(e.bl_tree,Kee),e.bi_buf=0,e.bi_valid=0,Qee(e)},Jee=(e,t,r,n)=>{Mi(e,(iAe<<1)+(n?1:0),3),Yee(e),ug(e,r),ug(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},vAe=e=>{Mi(e,Lee<<1,3),Ao(e,LN,ul),fAe(e)},xAe=(e,t,r,n)=>{let s,i,a=0;e.level>0?(e.strm.data_type===sAe&&(e.strm.data_type=yAe(e)),H4(e,e.l_desc),H4(e,e.d_desc),a=mAe(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&t!==-1?Jee(e,t,r,n):e.strategy===nAe||i===s?(Mi(e,(Lee<<1)+(n?1:0),3),M9(e,ul,cm)):(Mi(e,(aAe<<1)+(n?1:0),3),gAe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),M9(e,e.dyn_ltree,e.dyn_dtree)),Qee(e),n&&Yee(e)},wAe=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(cg[r]+E0+1)*2]++,e.dyn_dtree[Zee(t)*2]++),e.sym_next===e.sym_end);var _Ae=bAe,kAe=Jee,SAe=xAe,jAe=wAe,NAe=vAe,CAe={_tr_init:_Ae,_tr_stored_block:kAe,_tr_flush_block:SAe,_tr_tally:jAe,_tr_align:NAe};const TAe=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+t[n++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var dg=TAe;const EAe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},AAe=new Uint32Array(EAe()),PAe=(e,t,r,n)=>{const s=AAe,i=n+r;e^=-1;for(let a=n;a<i;a++)e=e>>>8^s[(e^t[a])&255];return e^-1};var ys=PAe,Td={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},A0={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:IAe,_tr_stored_block:K4,_tr_flush_block:DAe,_tr_tally:Uc,_tr_align:MAe}=CAe,{Z_NO_FLUSH:Vc,Z_PARTIAL_FLUSH:RAe,Z_FULL_FLUSH:$Ae,Z_FINISH:Sa,Z_BLOCK:F9,Z_OK:Ps,Z_STREAM_END:L9,Z_STREAM_ERROR:Wo,Z_DATA_ERROR:OAe,Z_BUF_ERROR:K2,Z_DEFAULT_COMPRESSION:FAe,Z_FILTERED:LAe,Z_HUFFMAN_ONLY:xy,Z_RLE:zAe,Z_FIXED:BAe,Z_DEFAULT_STRATEGY:UAe,Z_UNKNOWN:VAe,Z_DEFLATED:K1}=A0,WAe=9,qAe=15,HAe=8,KAe=29,ZAe=256,Z4=ZAe+1+KAe,GAe=30,XAe=19,QAe=2*Z4+1,YAe=15,Cr=3,_c=258,qo=_c+Cr+1,JAe=32,Eh=42,BN=57,G4=69,X4=73,Q4=91,Y4=103,Bu=113,zp=666,yi=1,ap=2,Ed=3,op=4,e9e=3,Uu=(e,t)=>(e.msg=Td[t],t),z9=e=>e*2-(e>4?9:0),cc=e=>{let t=e.length;for(;--t>=0;)e[t]=0},t9e=e=>{let t,r,n,s=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=s?r-s:0;while(--t);t=s,n=t;do r=e.prev[--n],e.prev[n]=r>=s?r-s:0;while(--t)};let r9e=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Wc=r9e;const Bi=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Zi=(e,t)=>{DAe(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Bi(e.strm)},Fr=(e,t)=>{e.pending_buf[e.pending++]=t},Cp=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},J4=(e,t,r,n)=>{let s=e.avail_in;return s>n&&(s=n),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),e.state.wrap===1?e.adler=dg(e.adler,t,s,r):e.state.wrap===2&&(e.adler=ys(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},ete=(e,t)=>{let r=e.max_chain_length,n=e.strstart,s,i,a=e.prev_length,o=e.nice_match;const u=e.strstart>e.w_size-qo?e.strstart-(e.w_size-qo):0,c=e.window,d=e.w_mask,h=e.prev,f=e.strstart+_c;let p=c[n+a-1],g=c[n+a];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(s=t,!(c[s+a]!==g||c[s+a-1]!==p||c[s]!==c[n]||c[++s]!==c[n+1])){n+=2,s++;do;while(c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&n<f);if(i=_c-(f-n),n=f-_c,i>a){if(e.match_start=t,a=i,i>=o)break;p=c[n+a-1],g=c[n+a]}}while((t=h[t&d])>u&&--r!==0);return a<=e.lookahead?a:e.lookahead},Ah=e=>{const t=e.w_size;let r,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-qo)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),t9e(e),n+=t),e.strm.avail_in===0)break;if(r=J4(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=Cr)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=Wc(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=Wc(e,e.ins_h,e.window[s+Cr-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Cr)););}while(e.lookahead<qo&&e.strm.avail_in!==0)},tte=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,s,i,a=0,o=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,n>s+e.strm.avail_in&&(n=s+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==Sa||t===Vc||n!==s+e.strm.avail_in)))break;a=t===Sa&&n===s+e.strm.avail_in?1:0,K4(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Bi(e.strm),s&&(s>n&&(s=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,n-=s),n&&(J4(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?op:t!==Vc&&t!==Sa&&e.strm.avail_in===0&&e.strstart===e.block_start?ap:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(J4(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=r||(s||t===Sa)&&t!==Vc&&e.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,a=t===Sa&&e.strm.avail_in===0&&n===s?1:0,K4(e,e.block_start,n,a),e.block_start+=n,Bi(e.strm)),a?Ed:yi)},Z2=(e,t)=>{let r,n;for(;;){if(e.lookahead<qo){if(Ah(e),e.lookahead<qo&&t===Vc)return yi;if(e.lookahead===0)break}if(r=0,e.lookahead>=Cr&&(e.ins_h=Wc(e,e.ins_h,e.window[e.strstart+Cr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-qo&&(e.match_length=ete(e,r)),e.match_length>=Cr)if(n=Uc(e,e.strstart-e.match_start,e.match_length-Cr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Cr){e.match_length--;do e.strstart++,e.ins_h=Wc(e,e.ins_h,e.window[e.strstart+Cr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Wc(e,e.ins_h,e.window[e.strstart+1]);else n=Uc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Zi(e,!1),e.strm.avail_out===0))return yi}return e.insert=e.strstart<Cr-1?e.strstart:Cr-1,t===Sa?(Zi(e,!0),e.strm.avail_out===0?Ed:op):e.sym_next&&(Zi(e,!1),e.strm.avail_out===0)?yi:ap},rf=(e,t)=>{let r,n,s;for(;;){if(e.lookahead<qo){if(Ah(e),e.lookahead<qo&&t===Vc)return yi;if(e.lookahead===0)break}if(r=0,e.lookahead>=Cr&&(e.ins_h=Wc(e,e.ins_h,e.window[e.strstart+Cr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Cr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-qo&&(e.match_length=ete(e,r),e.match_length<=5&&(e.strategy===LAe||e.match_length===Cr&&e.strstart-e.match_start>4096)&&(e.match_length=Cr-1)),e.prev_length>=Cr&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-Cr,n=Uc(e,e.strstart-1-e.prev_match,e.prev_length-Cr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=Wc(e,e.ins_h,e.window[e.strstart+Cr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Cr-1,e.strstart++,n&&(Zi(e,!1),e.strm.avail_out===0))return yi}else if(e.match_available){if(n=Uc(e,0,e.window[e.strstart-1]),n&&Zi(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return yi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Uc(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Cr-1?e.strstart:Cr-1,t===Sa?(Zi(e,!0),e.strm.avail_out===0?Ed:op):e.sym_next&&(Zi(e,!1),e.strm.avail_out===0)?yi:ap},n9e=(e,t)=>{let r,n,s,i;const a=e.window;for(;;){if(e.lookahead<=_c){if(Ah(e),e.lookahead<=_c&&t===Vc)return yi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Cr&&e.strstart>0&&(s=e.strstart-1,n=a[s],n===a[++s]&&n===a[++s]&&n===a[++s])){i=e.strstart+_c;do;while(n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&s<i);e.match_length=_c-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Cr?(r=Uc(e,1,e.match_length-Cr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Uc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Zi(e,!1),e.strm.avail_out===0))return yi}return e.insert=0,t===Sa?(Zi(e,!0),e.strm.avail_out===0?Ed:op):e.sym_next&&(Zi(e,!1),e.strm.avail_out===0)?yi:ap},s9e=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Ah(e),e.lookahead===0)){if(t===Vc)return yi;break}if(e.match_length=0,r=Uc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Zi(e,!1),e.strm.avail_out===0))return yi}return e.insert=0,t===Sa?(Zi(e,!0),e.strm.avail_out===0?Ed:op):e.sym_next&&(Zi(e,!1),e.strm.avail_out===0)?yi:ap};function _o(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}const Bp=[new _o(0,0,0,0,tte),new _o(4,4,8,4,Z2),new _o(4,5,16,8,Z2),new _o(4,6,32,32,Z2),new _o(4,4,16,16,rf),new _o(8,16,32,32,rf),new _o(8,16,128,128,rf),new _o(8,32,128,256,rf),new _o(32,128,258,1024,rf),new _o(32,258,258,4096,rf)],i9e=e=>{e.window_size=2*e.w_size,cc(e.head),e.max_lazy_match=Bp[e.level].max_lazy,e.good_match=Bp[e.level].good_length,e.nice_match=Bp[e.level].nice_length,e.max_chain_length=Bp[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Cr-1,e.match_available=0,e.ins_h=0};function a9e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(QAe*2),this.dyn_dtree=new Uint16Array((2*GAe+1)*2),this.bl_tree=new Uint16Array((2*XAe+1)*2),cc(this.dyn_ltree),cc(this.dyn_dtree),cc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(YAe+1),this.heap=new Uint16Array(2*Z4+1),cc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Z4+1),cc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const P0=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Eh&&t.status!==BN&&t.status!==G4&&t.status!==X4&&t.status!==Q4&&t.status!==Y4&&t.status!==Bu&&t.status!==zp?1:0},rte=e=>{if(P0(e))return Uu(e,Wo);e.total_in=e.total_out=0,e.data_type=VAe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?BN:t.wrap?Eh:Bu,e.adler=t.wrap===2?0:1,t.last_flush=-2,IAe(t),Ps},nte=e=>{const t=rte(e);return t===Ps&&i9e(e.state),t},o9e=(e,t)=>P0(e)||e.state.wrap!==2?Wo:(e.state.gzhead=t,Ps),ste=(e,t,r,n,s,i)=>{if(!e)return Wo;let a=1;if(t===FAe&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>WAe||r!==K1||n<8||n>15||t<0||t>9||i<0||i>BAe||n===8&&a!==1)return Uu(e,Wo);n===8&&(n=9);const o=new a9e;return e.state=o,o.strm=e,o.status=Eh,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=s+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Cr-1)/Cr),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<s+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=i,o.method=r,nte(e)},l9e=(e,t)=>ste(e,t,K1,qAe,HAe,UAe),c9e=(e,t)=>{if(P0(e)||t>F9||t<0)return e?Uu(e,Wo):Wo;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===zp&&t!==Sa)return Uu(e,e.avail_out===0?K2:Wo);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Bi(e),e.avail_out===0)return r.last_flush=-1,Ps}else if(e.avail_in===0&&z9(t)<=z9(n)&&t!==Sa)return Uu(e,K2);if(r.status===zp&&e.avail_in!==0)return Uu(e,K2);if(r.status===Eh&&r.wrap===0&&(r.status=Bu),r.status===Eh){let s=K1+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=xy||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,s|=i<<6,r.strstart!==0&&(s|=JAe),s+=31-s%31,Cp(r,s),r.strstart!==0&&(Cp(r,e.adler>>>16),Cp(r,e.adler&65535)),e.adler=1,r.status=Bu,Bi(e),r.pending!==0)return r.last_flush=-1,Ps}if(r.status===BN){if(e.adler=0,Fr(r,31),Fr(r,139),Fr(r,8),r.gzhead)Fr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Fr(r,r.gzhead.time&255),Fr(r,r.gzhead.time>>8&255),Fr(r,r.gzhead.time>>16&255),Fr(r,r.gzhead.time>>24&255),Fr(r,r.level===9?2:r.strategy>=xy||r.level<2?4:0),Fr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Fr(r,r.gzhead.extra.length&255),Fr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ys(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=G4;else if(Fr(r,0),Fr(r,0),Fr(r,0),Fr(r,0),Fr(r,0),Fr(r,r.level===9?2:r.strategy>=xy||r.level<2?4:0),Fr(r,e9e),r.status=Bu,Bi(e),r.pending!==0)return r.last_flush=-1,Ps}if(r.status===G4){if(r.gzhead.extra){let s=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(e.adler=ys(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=o,Bi(e),r.pending!==0)return r.last_flush=-1,Ps;s=0,i-=o}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>s&&(e.adler=ys(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=X4}if(r.status===X4){if(r.gzhead.name){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=ys(e.adler,r.pending_buf,r.pending-s,s)),Bi(e),r.pending!==0)return r.last_flush=-1,Ps;s=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,Fr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=ys(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=Q4}if(r.status===Q4){if(r.gzhead.comment){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=ys(e.adler,r.pending_buf,r.pending-s,s)),Bi(e),r.pending!==0)return r.last_flush=-1,Ps;s=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,Fr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=ys(e.adler,r.pending_buf,r.pending-s,s))}r.status=Y4}if(r.status===Y4){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Bi(e),r.pending!==0))return r.last_flush=-1,Ps;Fr(r,e.adler&255),Fr(r,e.adler>>8&255),e.adler=0}if(r.status=Bu,Bi(e),r.pending!==0)return r.last_flush=-1,Ps}if(e.avail_in!==0||r.lookahead!==0||t!==Vc&&r.status!==zp){let s=r.level===0?tte(r,t):r.strategy===xy?s9e(r,t):r.strategy===zAe?n9e(r,t):Bp[r.level].func(r,t);if((s===Ed||s===op)&&(r.status=zp),s===yi||s===Ed)return e.avail_out===0&&(r.last_flush=-1),Ps;if(s===ap&&(t===RAe?MAe(r):t!==F9&&(K4(r,0,0,!1),t===$Ae&&(cc(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Bi(e),e.avail_out===0))return r.last_flush=-1,Ps}return t!==Sa?Ps:r.wrap<=0?L9:(r.wrap===2?(Fr(r,e.adler&255),Fr(r,e.adler>>8&255),Fr(r,e.adler>>16&255),Fr(r,e.adler>>24&255),Fr(r,e.total_in&255),Fr(r,e.total_in>>8&255),Fr(r,e.total_in>>16&255),Fr(r,e.total_in>>24&255)):(Cp(r,e.adler>>>16),Cp(r,e.adler&65535)),Bi(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ps:L9)},u9e=e=>{if(P0(e))return Wo;const t=e.state.status;return e.state=null,t===Bu?Uu(e,OAe):Ps},d9e=(e,t)=>{let r=t.length;if(P0(e))return Wo;const n=e.state,s=n.wrap;if(s===2||s===1&&n.status!==Eh||n.lookahead)return Wo;if(s===1&&(e.adler=dg(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){s===0&&(cc(n.head),n.strstart=0,n.block_start=0,n.insert=0);let u=new Uint8Array(n.w_size);u.set(t.subarray(r-n.w_size,r),0),t=u,r=n.w_size}const i=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Ah(n);n.lookahead>=Cr;){let u=n.strstart,c=n.lookahead-(Cr-1);do n.ins_h=Wc(n,n.ins_h,n.window[u+Cr-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++;while(--c);n.strstart=u,n.lookahead=Cr-1,Ah(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Cr-1,n.match_available=0,e.next_in=a,e.input=o,e.avail_in=i,n.wrap=s,Ps};var f9e=l9e,h9e=ste,p9e=nte,m9e=rte,g9e=o9e,y9e=c9e,b9e=u9e,v9e=d9e,x9e="pako deflate (from Nodeca project)",um={deflateInit:f9e,deflateInit2:h9e,deflateReset:p9e,deflateResetKeep:m9e,deflateSetHeader:g9e,deflate:y9e,deflateEnd:b9e,deflateSetDictionary:v9e,deflateInfo:x9e};const w9e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var _9e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)w9e(r,n)&&(e[n]=r[n])}}return e},k9e=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let a=e[n];r.set(a,s),s+=a.length}return r},Z1={assign:_9e,flattenChunks:k9e};let ite=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ite=!1}const fg=new Uint8Array(256);for(let e=0;e<256;e++)fg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;fg[254]=fg[254]=1;var S9e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,a=e.length,o=0;for(s=0;s<a;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,s=0;i<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const j9e=(e,t)=>{if(t<65534&&e.subarray&&ite)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var N9e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let a=e[n++];if(a<128){i[s++]=a;continue}let o=fg[a];if(o>4){i[s++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|e[n++]&63,o--;if(o>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return j9e(i,s)},C9e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+fg[e[r]]>t?r:t},hg={string2buf:S9e,buf2string:N9e,utf8border:C9e};function T9e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ate=T9e;const ote=Object.prototype.toString,{Z_NO_FLUSH:E9e,Z_SYNC_FLUSH:A9e,Z_FULL_FLUSH:P9e,Z_FINISH:I9e,Z_OK:Ev,Z_STREAM_END:D9e,Z_DEFAULT_COMPRESSION:M9e,Z_DEFAULT_STRATEGY:R9e,Z_DEFLATED:$9e}=A0;function I0(e){this.options=Z1.assign({level:M9e,method:$9e,chunkSize:16384,windowBits:15,memLevel:8,strategy:R9e},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ate,this.strm.avail_out=0;let r=um.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Ev)throw new Error(Td[r]);if(t.header&&um.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=hg.string2buf(t.dictionary):ote.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=um.deflateSetDictionary(this.strm,n),r!==Ev)throw new Error(Td[r]);this._dict_set=!0}}I0.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?I9e:E9e,typeof e=="string"?r.input=hg.string2buf(e):ote.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===A9e||i===P9e)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=um.deflate(r,i),s===D9e)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=um.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Ev;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};I0.prototype.onData=function(e){this.chunks.push(e)};I0.prototype.onEnd=function(e){e===Ev&&(this.result=Z1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function UN(e,t){const r=new I0(t);if(r.push(e,!0),r.err)throw r.msg||Td[r.err];return r.result}function O9e(e,t){return t=t||{},t.raw=!0,UN(e,t)}function F9e(e,t){return t=t||{},t.gzip=!0,UN(e,t)}var L9e=I0,z9e=UN,B9e=O9e,U9e=F9e,V9e={Deflate:L9e,deflate:z9e,deflateRaw:B9e,gzip:U9e};const wy=16209,W9e=16191;var q9e=function(t,r){let n,s,i,a,o,u,c,d,h,f,p,g,y,m,v,b,x,j,C,R,L,A,P,$;const V=t.state;n=t.next_in,P=t.input,s=n+(t.avail_in-5),i=t.next_out,$=t.output,a=i-(r-t.avail_out),o=i+(t.avail_out-257),u=V.dmax,c=V.wsize,d=V.whave,h=V.wnext,f=V.window,p=V.hold,g=V.bits,y=V.lencode,m=V.distcode,v=(1<<V.lenbits)-1,b=(1<<V.distbits)-1;e:do{g<15&&(p+=P[n++]<<g,g+=8,p+=P[n++]<<g,g+=8),x=y[p&v];t:for(;;){if(j=x>>>24,p>>>=j,g-=j,j=x>>>16&255,j===0)$[i++]=x&65535;else if(j&16){C=x&65535,j&=15,j&&(g<j&&(p+=P[n++]<<g,g+=8),C+=p&(1<<j)-1,p>>>=j,g-=j),g<15&&(p+=P[n++]<<g,g+=8,p+=P[n++]<<g,g+=8),x=m[p&b];r:for(;;){if(j=x>>>24,p>>>=j,g-=j,j=x>>>16&255,j&16){if(R=x&65535,j&=15,g<j&&(p+=P[n++]<<g,g+=8,g<j&&(p+=P[n++]<<g,g+=8)),R+=p&(1<<j)-1,R>u){t.msg="invalid distance too far back",V.mode=wy;break e}if(p>>>=j,g-=j,j=i-a,R>j){if(j=R-j,j>d&&V.sane){t.msg="invalid distance too far back",V.mode=wy;break e}if(L=0,A=f,h===0){if(L+=c-j,j<C){C-=j;do $[i++]=f[L++];while(--j);L=i-R,A=$}}else if(h<j){if(L+=c+h-j,j-=h,j<C){C-=j;do $[i++]=f[L++];while(--j);if(L=0,h<C){j=h,C-=j;do $[i++]=f[L++];while(--j);L=i-R,A=$}}}else if(L+=h-j,j<C){C-=j;do $[i++]=f[L++];while(--j);L=i-R,A=$}for(;C>2;)$[i++]=A[L++],$[i++]=A[L++],$[i++]=A[L++],C-=3;C&&($[i++]=A[L++],C>1&&($[i++]=A[L++]))}else{L=i-R;do $[i++]=$[L++],$[i++]=$[L++],$[i++]=$[L++],C-=3;while(C>2);C&&($[i++]=$[L++],C>1&&($[i++]=$[L++]))}}else if((j&64)===0){x=m[(x&65535)+(p&(1<<j)-1)];continue r}else{t.msg="invalid distance code",V.mode=wy;break e}break}}else if((j&64)===0){x=y[(x&65535)+(p&(1<<j)-1)];continue t}else if(j&32){V.mode=W9e;break e}else{t.msg="invalid literal/length code",V.mode=wy;break e}break}}while(n<s&&i<o);C=g>>3,n-=C,g-=C<<3,p&=(1<<g)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<o?257+(o-i):257-(i-o),V.hold=p,V.bits=g};const nf=15,B9=852,U9=592,V9=0,G2=1,W9=2,H9e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),K9e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Z9e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),G9e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),X9e=(e,t,r,n,s,i,a,o)=>{const u=o.bits;let c=0,d=0,h=0,f=0,p=0,g=0,y=0,m=0,v=0,b=0,x,j,C,R,L,A=null,P;const $=new Uint16Array(nf+1),V=new Uint16Array(nf+1);let U=null,E,I,N;for(c=0;c<=nf;c++)$[c]=0;for(d=0;d<n;d++)$[t[r+d]]++;for(p=u,f=nf;f>=1&&$[f]===0;f--);if(p>f&&(p=f),f===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<f&&$[h]===0;h++);for(p<h&&(p=h),m=1,c=1;c<=nf;c++)if(m<<=1,m-=$[c],m<0)return-1;if(m>0&&(e===V9||f!==1))return-1;for(V[1]=0,c=1;c<nf;c++)V[c+1]=V[c]+$[c];for(d=0;d<n;d++)t[r+d]!==0&&(a[V[t[r+d]]++]=d);if(e===V9?(A=U=a,P=20):e===G2?(A=H9e,U=K9e,P=257):(A=Z9e,U=G9e,P=0),b=0,d=0,c=h,L=i,g=p,y=0,C=-1,v=1<<p,R=v-1,e===G2&&v>B9||e===W9&&v>U9)return 1;for(;;){E=c-y,a[d]+1<P?(I=0,N=a[d]):a[d]>=P?(I=U[a[d]-P],N=A[a[d]-P]):(I=96,N=0),x=1<<c-y,j=1<<g,h=j;do j-=x,s[L+(b>>y)+j]=E<<24|I<<16|N|0;while(j!==0);for(x=1<<c-1;b&x;)x>>=1;if(x!==0?(b&=x-1,b+=x):b=0,d++,--$[c]===0){if(c===f)break;c=t[r+a[d]]}if(c>p&&(b&R)!==C){for(y===0&&(y=p),L+=h,g=c-y,m=1<<g;g+y<f&&(m-=$[g+y],!(m<=0));)g++,m<<=1;if(v+=1<<g,e===G2&&v>B9||e===W9&&v>U9)return 1;C=b&R,s[C]=p<<24|g<<16|L-i|0}}return b!==0&&(s[L+b]=c-y<<24|64<<16|0),o.bits=p,0};var dm=X9e;const Q9e=0,lte=1,cte=2,{Z_FINISH:q9,Z_BLOCK:Y9e,Z_TREES:_y,Z_OK:Ad,Z_STREAM_END:J9e,Z_NEED_DICT:ePe,Z_STREAM_ERROR:Oa,Z_DATA_ERROR:ute,Z_MEM_ERROR:dte,Z_BUF_ERROR:tPe,Z_DEFLATED:H9}=A0,G1=16180,K9=16181,Z9=16182,G9=16183,X9=16184,Q9=16185,Y9=16186,J9=16187,eP=16188,tP=16189,Av=16190,sl=16191,X2=16192,rP=16193,Q2=16194,nP=16195,sP=16196,iP=16197,aP=16198,ky=16199,Sy=16200,oP=16201,lP=16202,cP=16203,uP=16204,dP=16205,Y2=16206,fP=16207,hP=16208,fn=16209,fte=16210,hte=16211,rPe=852,nPe=592,sPe=15,iPe=sPe,pP=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function aPe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<G1||t.mode>hte?1:0},pte=e=>{if(qd(e))return Oa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=G1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(rPe),t.distcode=t.distdyn=new Int32Array(nPe),t.sane=1,t.back=-1,Ad},mte=e=>{if(qd(e))return Oa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,pte(e)},gte=(e,t)=>{let r;if(qd(e))return Oa;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Oa:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,mte(e))},yte=(e,t)=>{if(!e)return Oa;const r=new aPe;e.state=r,r.strm=e,r.window=null,r.mode=G1;const n=gte(e,t);return n!==Ad&&(e.state=null),n},oPe=e=>yte(e,iPe);let mP=!0,J2,e_;const lPe=e=>{if(mP){J2=new Int32Array(512),e_=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(dm(lte,e.lens,0,288,J2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;dm(cte,e.lens,0,32,e_,0,e.work,{bits:5}),mP=!1}e.lencode=J2,e.lenbits=9,e.distcode=e_,e.distbits=5},bte=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},cPe=(e,t)=>{let r,n,s,i,a,o,u,c,d,h,f,p,g,y,m=0,v,b,x,j,C,R,L,A;const P=new Uint8Array(4);let $,V;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qd(e)||!e.output||!e.input&&e.avail_in!==0)return Oa;r=e.state,r.mode===sl&&(r.mode=X2),a=e.next_out,s=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=r.hold,d=r.bits,h=o,f=u,A=Ad;e:for(;;)switch(r.mode){case G1:if(r.wrap===0){r.mode=X2;break}for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=c&255,P[1]=c>>>8&255,r.check=ys(r.check,P,2,0),c=0,d=0,r.mode=K9;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=fn;break}if((c&15)!==H9){e.msg="unknown compression method",r.mode=fn;break}if(c>>>=4,d-=4,L=(c&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){e.msg="invalid window size",r.mode=fn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?tP:sl,c=0,d=0;break;case K9:for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.flags=c,(r.flags&255)!==H9){e.msg="unknown compression method",r.mode=fn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=fn;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,r.check=ys(r.check,P,2,0)),c=0,d=0,r.mode=Z9;case Z9:for(;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,P[2]=c>>>16&255,P[3]=c>>>24&255,r.check=ys(r.check,P,4,0)),c=0,d=0,r.mode=G9;case G9:for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,r.check=ys(r.check,P,2,0)),c=0,d=0,r.mode=X9;case X9:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,r.check=ys(r.check,P,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=Q9;case Q9:if(r.flags&1024&&(p=r.length,p>o&&(p=o),p&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+p),L)),r.flags&512&&r.wrap&4&&(r.check=ys(r.check,n,p,i)),o-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=Y9;case Y9:if(r.flags&2048){if(o===0)break e;p=0;do L=n[i+p++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=ys(r.check,n,p,i)),o-=p,i+=p,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=J9;case J9:if(r.flags&4096){if(o===0)break e;p=0;do L=n[i+p++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=ys(r.check,n,p,i)),o-=p,i+=p,L)break e}else r.head&&(r.head.comment=null);r.mode=eP;case eP:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=fn;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=sl;break;case tP:for(;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}e.adler=r.check=pP(c),c=0,d=0,r.mode=Av;case Av:if(r.havedict===0)return e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=d,ePe;e.adler=r.check=1,r.mode=sl;case sl:if(t===Y9e||t===_y)break e;case X2:if(r.last){c>>>=d&7,d-=d&7,r.mode=Y2;break}for(;d<3;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}switch(r.last=c&1,c>>>=1,d-=1,c&3){case 0:r.mode=rP;break;case 1:if(lPe(r),r.mode=ky,t===_y){c>>>=2,d-=2;break e}break;case 2:r.mode=sP;break;case 3:e.msg="invalid block type",r.mode=fn}c>>>=2,d-=2;break;case rP:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=fn;break}if(r.length=c&65535,c=0,d=0,r.mode=Q2,t===_y)break e;case Q2:r.mode=nP;case nP:if(p=r.length,p){if(p>o&&(p=o),p>u&&(p=u),p===0)break e;s.set(n.subarray(i,i+p),a),o-=p,i+=p,u-=p,a+=p,r.length-=p;break}r.mode=sl;break;case sP:for(;d<14;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.nlen=(c&31)+257,c>>>=5,d-=5,r.ndist=(c&31)+1,c>>>=5,d-=5,r.ncode=(c&15)+4,c>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=fn;break}r.have=0,r.mode=iP;case iP:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.lens[U[r.have++]]=c&7,c>>>=3,d-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,$={bits:r.lenbits},A=dm(Q9e,r.lens,0,19,r.lencode,0,r.work,$),r.lenbits=$.bits,A){e.msg="invalid code lengths set",r.mode=fn;break}r.have=0,r.mode=aP;case aP:for(;r.have<r.nlen+r.ndist;){for(;m=r.lencode[c&(1<<r.lenbits)-1],v=m>>>24,b=m>>>16&255,x=m&65535,!(v<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(x<16)c>>>=v,d-=v,r.lens[r.have++]=x;else{if(x===16){for(V=v+2;d<V;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(c>>>=v,d-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=fn;break}L=r.lens[r.have-1],p=3+(c&3),c>>>=2,d-=2}else if(x===17){for(V=v+3;d<V;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=v,d-=v,L=0,p=3+(c&7),c>>>=3,d-=3}else{for(V=v+7;d<V;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=v,d-=v,L=0,p=11+(c&127),c>>>=7,d-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=fn;break}for(;p--;)r.lens[r.have++]=L}}if(r.mode===fn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=fn;break}if(r.lenbits=9,$={bits:r.lenbits},A=dm(lte,r.lens,0,r.nlen,r.lencode,0,r.work,$),r.lenbits=$.bits,A){e.msg="invalid literal/lengths set",r.mode=fn;break}if(r.distbits=6,r.distcode=r.distdyn,$={bits:r.distbits},A=dm(cte,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,$),r.distbits=$.bits,A){e.msg="invalid distances set",r.mode=fn;break}if(r.mode=ky,t===_y)break e;case ky:r.mode=Sy;case Sy:if(o>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=d,q9e(e,f),a=e.next_out,s=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=r.hold,d=r.bits,r.mode===sl&&(r.back=-1);break}for(r.back=0;m=r.lencode[c&(1<<r.lenbits)-1],v=m>>>24,b=m>>>16&255,x=m&65535,!(v<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(b&&(b&240)===0){for(j=v,C=b,R=x;m=r.lencode[R+((c&(1<<j+C)-1)>>j)],v=m>>>24,b=m>>>16&255,x=m&65535,!(j+v<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=j,d-=j,r.back+=j}if(c>>>=v,d-=v,r.back+=v,r.length=x,b===0){r.mode=dP;break}if(b&32){r.back=-1,r.mode=sl;break}if(b&64){e.msg="invalid literal/length code",r.mode=fn;break}r.extra=b&15,r.mode=oP;case oP:if(r.extra){for(V=r.extra;d<V;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=lP;case lP:for(;m=r.distcode[c&(1<<r.distbits)-1],v=m>>>24,b=m>>>16&255,x=m&65535,!(v<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if((b&240)===0){for(j=v,C=b,R=x;m=r.distcode[R+((c&(1<<j+C)-1)>>j)],v=m>>>24,b=m>>>16&255,x=m&65535,!(j+v<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=j,d-=j,r.back+=j}if(c>>>=v,d-=v,r.back+=v,b&64){e.msg="invalid distance code",r.mode=fn;break}r.offset=x,r.extra=b&15,r.mode=cP;case cP:if(r.extra){for(V=r.extra;d<V;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=fn;break}r.mode=uP;case uP:if(u===0)break e;if(p=f-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=fn;break}p>r.wnext?(p-=r.wnext,g=r.wsize-p):g=r.wnext-p,p>r.length&&(p=r.length),y=r.window}else y=s,g=a-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do s[a++]=y[g++];while(--p);r.length===0&&(r.mode=Sy);break;case dP:if(u===0)break e;s[a++]=r.length,u--,r.mode=Sy;break;case Y2:if(r.wrap){for(;d<32;){if(o===0)break e;o--,c|=n[i++]<<d,d+=8}if(f-=u,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?ys(r.check,s,f,a-f):dg(r.check,s,f,a-f)),f=u,r.wrap&4&&(r.flags?c:pP(c))!==r.check){e.msg="incorrect data check",r.mode=fn;break}c=0,d=0}r.mode=fP;case fP:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=fn;break}c=0,d=0}r.mode=hP;case hP:A=J9e;break e;case fn:A=ute;break e;case fte:return dte;case hte:default:return Oa}return e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=d,(r.wsize||f!==e.avail_out&&r.mode<fn&&(r.mode<Y2||t!==q9))&&bte(e,e.output,e.next_out,f-e.avail_out),h-=e.avail_in,f-=e.avail_out,e.total_in+=h,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?ys(r.check,s,f,e.next_out-f):dg(r.check,s,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===sl?128:0)+(r.mode===ky||r.mode===Q2?256:0),(h===0&&f===0||t===q9)&&A===Ad&&(A=tPe),A},uPe=e=>{if(qd(e))return Oa;let t=e.state;return t.window&&(t.window=null),e.state=null,Ad},dPe=(e,t)=>{if(qd(e))return Oa;const r=e.state;return(r.wrap&2)===0?Oa:(r.head=t,t.done=!1,Ad)},fPe=(e,t)=>{const r=t.length;let n,s,i;return qd(e)||(n=e.state,n.wrap!==0&&n.mode!==Av)?Oa:n.mode===Av&&(s=1,s=dg(s,t,r,0),s!==n.check)?ute:(i=bte(e,t,r,r),i?(n.mode=fte,dte):(n.havedict=1,Ad))};var hPe=mte,pPe=gte,mPe=pte,gPe=oPe,yPe=yte,bPe=cPe,vPe=uPe,xPe=dPe,wPe=fPe,_Pe="pako inflate (from Nodeca project)",dl={inflateReset:hPe,inflateReset2:pPe,inflateResetKeep:mPe,inflateInit:gPe,inflateInit2:yPe,inflate:bPe,inflateEnd:vPe,inflateGetHeader:xPe,inflateSetDictionary:wPe,inflateInfo:_Pe};function kPe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var SPe=kPe;const vte=Object.prototype.toString,{Z_NO_FLUSH:jPe,Z_FINISH:NPe,Z_OK:pg,Z_STREAM_END:t_,Z_NEED_DICT:r_,Z_STREAM_ERROR:CPe,Z_DATA_ERROR:gP,Z_MEM_ERROR:TPe}=A0;function D0(e){this.options=Z1.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ate,this.strm.avail_out=0;let r=dl.inflateInit2(this.strm,t.windowBits);if(r!==pg)throw new Error(Td[r]);if(this.header=new SPe,dl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=hg.string2buf(t.dictionary):vte.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=dl.inflateSetDictionary(this.strm,t.dictionary),r!==pg)))throw new Error(Td[r])}D0.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?NPe:jPe,vte.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=dl.inflate(r,a),i===r_&&s&&(i=dl.inflateSetDictionary(r,s),i===pg?i=dl.inflate(r,a):i===gP&&(i=r_));r.avail_in>0&&i===t_&&r.state.wrap>0&&e[r.next_in]!==0;)dl.inflateReset(r),i=dl.inflate(r,a);switch(i){case CPe:case gP:case r_:case TPe:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===t_))if(this.options.to==="string"){let u=hg.utf8border(r.output,r.next_out),c=r.next_out-u,d=hg.buf2string(r.output,u);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(u,u+c),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===pg&&o===0)){if(i===t_)return i=dl.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};D0.prototype.onData=function(e){this.chunks.push(e)};D0.prototype.onEnd=function(e){e===pg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Z1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function VN(e,t){const r=new D0(t);if(r.push(e),r.err)throw r.msg||Td[r.err];return r.result}function EPe(e,t){return t=t||{},t.raw=!0,VN(e,t)}var APe=D0,PPe=VN,IPe=EPe,DPe=VN,MPe={Inflate:APe,inflate:PPe,inflateRaw:IPe,ungzip:DPe};const{Deflate:RPe,deflate:$Pe,deflateRaw:OPe,gzip:FPe}=V9e,{Inflate:LPe,inflate:zPe,inflateRaw:BPe,ungzip:UPe}=MPe;var VPe=RPe,WPe=$Pe,qPe=OPe,HPe=FPe,KPe=LPe,ZPe=zPe,GPe=BPe,XPe=UPe,QPe=A0,YPe={Deflate:VPe,deflate:WPe,deflateRaw:qPe,gzip:HPe,Inflate:KPe,inflate:ZPe,inflateRaw:GPe,ungzip:XPe,constants:QPe};const JPe=()=>"web",eIe=e=>{switch(e){case"android":return" ";case"ios":return" iOS";default:return" "}};function n_(){const[,e]=fs(),t=JPe(),[r,n]=T.useState(navigator.onLine),[s,i]=T.useState("permissions"),[a,o]=T.useState(!1),[u,c]=T.useState(null),[d,h]=T.useState(""),[f,p]=T.useState(null),[g,y]=T.useState(!1),m=T.useRef(null),v=[{id:"storage",label:" ",description:"   ",status:"pending",required:!0,platforms:["web"]},{id:"notifications",label:"",description:"  ",status:"pending",required:!0,platforms:["web"]},{id:"network",label:" ",description:"   ",status:"pending",required:!0,platforms:["web"]},{id:"geolocation",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"camera",label:"",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"vibration",label:"",description:" ",status:"pending",required:!1,platforms:["web"]},{id:"battery",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"networkInfo",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"database",label:" ",description:"  ",status:"pending",required:!0,platforms:["web"]},{id:"server",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"backup",label:" ",description:"   ",status:"pending",required:!1,platforms:["web"]},{id:"emergency",label:" ",description:"    ",status:"pending",required:!0,platforms:["web"]},{id:"tables",label:" ",description:"  ",status:"pending",required:!0,platforms:["web"]}],[b,x]=T.useState(v.filter(Z=>Z.platforms.includes(t))),j=T.useCallback((Z,te)=>{x(X=>X.map(ae=>ae.id===Z?{...ae,...te}:ae))},[]);T.useEffect(()=>{const Z=()=>n(!0),te=()=>n(!1);return window.addEventListener("online",Z),window.addEventListener("offline",te),()=>{window.removeEventListener("online",Z),window.removeEventListener("offline",te)}},[]);const C=async()=>{try{if("storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persisted())return"granted";const Z="__storage_test__";return localStorage.setItem(Z,Z),localStorage.removeItem(Z),"indexedDB"in window?new Promise(te=>{const X=indexedDB.open("__test_db__",1);X.onerror=()=>te("denied"),X.onsuccess=()=>{X.result.close(),indexedDB.deleteDatabase("__test_db__"),te("granted")}}):"granted"}catch{return"denied"}},R=async()=>{try{return"Notification"in window?Notification.permission==="granted"?"granted":Notification.permission==="denied"?"denied":"pending":"unavailable"}catch{return"unavailable"}},L=async()=>{if(!navigator.onLine)return"denied";try{const Z=new AbortController,te=setTimeout(()=>Z.abort(),5e3),X=await fetch("/api/health",{method:"GET",signal:Z.signal,cache:"no-store"});return clearTimeout(te),X.ok?"granted":"warning"}catch{return navigator.onLine?"warning":"denied"}},A=async()=>{try{if(!("geolocation"in navigator))return"unavailable";if("permissions"in navigator){const Z=await navigator.permissions.query({name:"geolocation"});if(Z.state==="granted")return"granted";if(Z.state==="denied")return"denied"}return"pending"}catch{return"unavailable"}},P=async()=>{try{if(!("mediaDevices"in navigator))return"unavailable";if("permissions"in navigator)try{const Z=await navigator.permissions.query({name:"camera"});if(Z.state==="granted")return"granted";if(Z.state==="denied")return"denied"}catch{}return"pending"}catch{return"unavailable"}},$=async()=>{try{return"vibrate"in navigator?(navigator.vibrate(1),"granted"):"unavailable"}catch{return"unavailable"}},V=async()=>{try{if("getBattery"in navigator){const Z=await navigator.getBattery();return j("battery",{details:`${Math.round(Z.level*100)}%`}),"granted"}return"unavailable"}catch{return"unavailable"}},U=async()=>{try{const Z=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return Z?(j("networkInfo",{details:Z.effectiveType||Z.type}),"granted"):"unavailable"}catch{return"unavailable"}},E=async()=>{try{await Xv();const Z=["projects","workers","financialTransfers","wells","wellExpenses"];let te=0;const X={};for(const ae of Z)try{const re=await td(ae);te+=re,X[ae]=re}catch{X[ae]=0}{const ae={totalRecords:te,tables:X,timestamp:new Date().toLocaleString("ar-SA"),isEmpty:te===0};j("database",{details:te>0?`${te} `:"",expandedDetails:ae})}return"granted"}catch(Z){return console.error("[DB Check] :",Z),"denied"}},I=async()=>{try{const Z=new AbortController,te=setTimeout(()=>Z.abort(),8e3),X=performance.now(),ae=await fetch("/api/health",{signal:Z.signal,cache:"no-store"}),re=Math.round(performance.now()-X);if(clearTimeout(te),ae.ok){const ee=await ae.json().catch(()=>({})),G=ee.database==="connected"?"":"",Y=localStorage.getItem("emergency_mode")==="true",ie={dbStatus:G,responseTime:`${re}ms`,status:ae.status,emergencyMode:Y?"":"",timestamp:new Date().toLocaleString("ar-SA")};return j("server",{details:G,expandedDetails:ie}),ee.database==="connected"?"granted":"warning"}return j("server",{details:"  ",expandedDetails:{status:ae.status,timestamp:new Date().toLocaleString("ar-SA")}}),"warning"}catch(Z){return j("server",{details:" ",expandedDetails:{error:Z.message,timestamp:new Date().toLocaleString("ar-SA")}}),"denied"}},N=async()=>{try{const Z="latest_backup_timestamp",te=localStorage.getItem(Z);let X=!1,ae="";if(navigator.onLine)try{const ee=new AbortController,G=setTimeout(()=>ee.abort(),1e4),Y=await fetch("/api/sync/latest-backup",{signal:ee.signal,cache:"no-store"});if(clearTimeout(G),Y.ok){const ie=await Y.json();if(ie.timestamp)return X=!0,ae=new Date(ie.timestamp).toLocaleString("ar-SA"),localStorage.setItem(Z,ie.timestamp),j("backup",{details:" ",expandedDetails:{source:"",timestamp:ae,status:""}}),"granted"}}catch{}if(te){const ee=new Date(te),Y=(new Date().getTime()-ee.getTime())/(1e3*60*60),ie=ee.toLocaleString("ar-SA");if(Y<24){const ce={source:"",timestamp:ie,ageHours:Math.round(Y),status:""};return j("backup",{details:" ",expandedDetails:ce}),"granted"}else if(Y<168){const ce={source:"",timestamp:ie,ageHours:Math.round(Y),status:""};return j("backup",{details:" ",expandedDetails:ce}),"warning"}}return j("backup",{details:" ",expandedDetails:{source:" ",status:"   "}}),"unavailable"}catch{return"unavailable"}},w=async()=>{try{const Z=localStorage.getItem("emergency_mode")==="true",te=localStorage.getItem("offline_queue");let X=0;if(te)try{const G=JSON.parse(te);X=Array.isArray(G)?G.length:0}catch{}let ae=!1,re=0;try{re=await td("projects"),ae=re>0}catch{re=0}const ee={mode:Z?"":"",queueCount:X,hasLocalData:ae,projectsCount:re,timestamp:new Date().toLocaleString("ar-SA")};return Z?(j("emergency",{details:` (${X} )`,expandedDetails:ee}),"warning"):ae?(j("emergency",{details:" ",expandedDetails:ee}),"granted"):(j("emergency",{details:" ",expandedDetails:ee}),"pending")}catch{return"denied"}},_=async()=>{try{const Z=["projects","workers","financialTransfers","wells","wellExpenses","recentActivities"],te={},X=[];let ae=!0;for(const Y of Z)try{const ie=await td(Y);te[Y]=ie,X.push({name:Y,count:ie,status:"ok"})}catch{te[Y]=-1,X.push({name:Y,count:0,status:"error"}),ae=!1}const re=Object.values(te).filter(Y=>Y>=0).reduce((Y,ie)=>Y+ie,0),ee=Object.values(te).filter(Y=>Y>=0).length,G={tables:X,totalRecords:re,validTables:ee,totalTables:Z.length,timestamp:new Date().toLocaleString("ar-SA")};return j("tables",{details:`${ee}/${Z.length}  (${re} )`,expandedDetails:G}),ae?"granted":"warning"}catch(Z){return console.error("[Tables Check] Error:",Z),"denied"}},k=async()=>{try{return"storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persist(),await ud(),"granted"}catch{return"denied"}},S=async()=>{try{return"Notification"in window?await Notification.requestPermission()==="granted"?"granted":"denied":"unavailable"}catch{return"unavailable"}},D=async()=>{try{return"geolocation"in navigator?new Promise(Z=>{navigator.geolocation.getCurrentPosition(()=>Z("granted"),te=>Z(te.code===te.PERMISSION_DENIED?"denied":"warning"),{timeout:1e4,enableHighAccuracy:!1})}):"unavailable"}catch{return"unavailable"}},O=async()=>{try{if(!("mediaDevices"in navigator))return"unavailable";try{return(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(te=>te.stop()),"granted"}catch(Z){return Z.name==="NotAllowedError"?"denied":Z.name==="NotFoundError"?"unavailable":"denied"}}catch{return"unavailable"}},B=async()=>{try{return await oJ(),localStorage.setItem("setup_complete","true"),localStorage.setItem("latest_backup_timestamp",new Date().toISOString()),"granted"}catch{return localStorage.setItem("setup_complete","true"),"warning"}},q=async Z=>new Promise((te,X)=>{const ae=new FileReader;ae.onload=async re=>{try{const ee=re.target?.result;if(Z.name.endsWith(".gz")||Z.name.endsWith(".gzip")){const G=new Uint8Array(ee),Y=YPe.ungzip(G,{to:"string"});if(Z.name.includes(".sql"))te({type:"sql",content:Y});else try{const ie=JSON.parse(Y);te({type:"json",content:ie})}catch{te({type:"sql",content:Y})}}else if(Z.name.endsWith(".sql"))te({type:"sql",content:ee});else if(Z.name.endsWith(".json")){const G=JSON.parse(ee);te({type:"json",content:G})}else try{const G=JSON.parse(ee);te({type:"json",content:G})}catch{te({type:"sql",content:ee})}}catch(ee){X(ee)}},ae.onerror=()=>X(new Error("   ")),Z.name.endsWith(".gz")||Z.name.endsWith(".gzip")?ae.readAsArrayBuffer(Z):ae.readAsText(Z)}),H=async Z=>{if(Z.type==="json"){const te=Z.content,X=["projects","workers","financialTransfers","wells","wellExpenses","recentActivities"];for(const ae of X)if(te[ae]&&Array.isArray(te[ae]))for(const re of te[ae])try{await ii(ae,re)}catch(ee){console.warn(`[Import]    ${ae}:`,ee)}}else if(Z.type==="sql"){const te=Z.content,X=/INSERT INTO (\w+)\s*\((.*?)\)\s*VALUES\s*\((.*?)\);/gi;let ae;for(;(ae=X.exec(te))!==null;){const re=ae[1].toLowerCase(),ee=ae[2].split(",").map(ce=>ce.trim().replace(/"/g,"")),Y=ae[3].split(",").map(ce=>(ce=ce.trim(),ce==="NULL"||ce==="null"?null:ce.startsWith("'")&&ce.endsWith("'")?ce.slice(1,-1):isNaN(Number(ce))?ce:Number(ce))),ie={};ee.forEach((ce,me)=>{ie[ce]=Y[me]});try{await db.put(re,ie)}catch(ce){console.warn("[SQL Import] :",ce)}}}},Q=async Z=>{const te=Z.target.files?.[0];if(te){h("  ...");try{const X=await q(te);h("  ..."),await H(X),localStorage.setItem("setup_complete","true"),localStorage.setItem("latest_backup_timestamp",new Date().toISOString()),localStorage.setItem("backup_source",te.name),j("backup",{status:"granted",details:" "}),j("database",{status:"granted",details:" "}),h("  !"),setTimeout(()=>h(""),3e3)}catch(X){console.error("[Import] :",X),h(`: ${X.message}`),setTimeout(()=>h(""),5e3)}m.current&&(m.current.value="")}},M=Z=>{switch(Z){case"granted":return"";case"denied":return"";case"pending":return" ";case"unavailable":return" ";case"warning":return"";default:return""}};T.useEffect(()=>{const Z=localStorage.getItem("permissions_granted")==="true",te=localStorage.getItem("setup_complete")==="true";if(Z&&te){e("/login");return}(async()=>{const ae=["storage","notifications","network","geolocation","camera","vibration","battery","networkInfo"];for(const re of ae){if(!b.find(G=>G.id===re))continue;c(re);let ee="pending";re==="storage"?ee=await C():re==="notifications"?ee=await R():re==="network"?ee=await L():re==="geolocation"?ee=await A():re==="camera"?ee=await P():re==="vibration"?ee=await $():re==="battery"?ee=await V():re==="networkInfo"&&(ee=await U()),j(re,{status:ee,details:b.find(G=>G.id===re)?.details||M(ee)})}c(null)})()},[e,j,t,b]);const K=async()=>{o(!0);const Z=[{id:"storage",fn:k},{id:"notifications",fn:S},{id:"geolocation",fn:D},{id:"camera",fn:O}];for(const re of Z){if(!b.find(G=>G.id===re.id))continue;c(re.id),j(re.id,{status:"checking"});const ee=await re.fn();j(re.id,{status:ee,details:M(ee)})}i("system");const te=[{id:"database",fn:E},{id:"server",fn:I},{id:"backup",fn:N},{id:"emergency",fn:w},{id:"tables",fn:_}];let X="denied";for(const re of te){if(!b.find(G=>G.id===re.id))continue;c(re.id),j(re.id,{status:"checking"});const ee=await re.fn();re.id==="database"&&(X=ee),re.id==="server"&&ee==="denied"&&localStorage.setItem("emergency_mode","true"),j(re.id,{status:ee,details:b.find(G=>G.id===re.id)?.details||M(ee)})}const ae=b.find(re=>re.id==="backup");if(ae&&(ae.status==="granted"||ae.status==="warning")){c("backup"),j("backup",{status:"checking",details:" ..."});const re=await B();j("backup",{status:re,details:re==="granted"?" ":" "})}c(null),o(!1),(X==="granted"||X==="warning")&&(localStorage.setItem("permissions_granted","true"),localStorage.setItem("permissions_timestamp",new Date().toISOString()),i("complete"),setTimeout(()=>e("/login"),1500))},z=()=>{localStorage.setItem("permissions_granted","true"),localStorage.setItem("emergency_mode","true"),e("/login")},F=async()=>{y(!0),p(null);const Z=[{id:"database",fn:E},{id:"server",fn:I},{id:"backup",fn:N},{id:"emergency",fn:w},{id:"tables",fn:_}];for(const te of Z)if(b.find(ae=>ae.id===te.id)){c(te.id),j(te.id,{status:"checking"});try{const ae=await te.fn();j(te.id,{status:ae})}catch(ae){console.error(`[Refresh] Error checking ${te.id}:`,ae),j(te.id,{status:"warning"})}}c(null),y(!1)},W=Z=>({storage:Li,notifications:Ki,network:rd,geolocation:Io,camera:HO,database:Im,server:pd,backup:ds,vibration:Tle,battery:Hoe,networkInfo:kle,emergency:io,tables:Li})[Z]||io,J=Math.round(b.filter(Z=>["granted","warning","unavailable","denied"].includes(Z.status)).length/b.length*100),le=b.filter(Z=>["storage","notifications","network","geolocation","camera","vibration","battery","networkInfo"].includes(Z.id)),ne=b.filter(Z=>["database","server","backup","emergency","tables"].includes(Z.id)),ue=s==="permissions"?le:s==="system"?ne:b;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background to-muted/30 flex flex-col",children:[l.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${J}%`}})}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"relative inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-4",children:s==="complete"?l.jsx(Zr,{className:"w-8 h-8 text-green-500"}):l.jsx(Fs,{className:"w-8 h-8 text-primary"})}),l.jsx("h1",{className:"text-xl font-semibold text-foreground mb-1",children:s==="permissions"?" ":s==="system"?" ":" "}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[r?l.jsxs(l.Fragment,{children:[l.jsx(rd,{className:"w-3.5 h-3.5 text-green-500"})," "]}):l.jsxs(l.Fragment,{children:[l.jsx(wf,{className:"w-3.5 h-3.5 text-amber-500"}),"  "]}),l.jsx("span",{className:"text-muted-foreground/50",children:""}),l.jsxs(l.Fragment,{children:[l.jsx(mj,{className:"w-3.5 h-3.5"})," "]})]})]}),l.jsx("div",{className:"space-y-2 mb-6 max-h-[50vh] overflow-y-auto",children:ue.map(Z=>{const te=W(Z.id),X=u===Z.id,ae=f===Z.id,re=Z.expandedDetails&&Object.keys(Z.expandedDetails).length>0;return l.jsxs("div",{"data-testid":`check-${Z.id}`,className:we("rounded-xl border transition-all duration-200",Z.status==="checking"&&"border-primary/40 bg-primary/5",Z.status==="granted"&&"border-green-200 dark:border-green-800/50 bg-green-50/50 dark:bg-green-900/10",Z.status==="warning"&&"border-amber-200 dark:border-amber-800/50 bg-amber-50/50 dark:bg-amber-900/10",Z.status==="denied"&&"border-red-200 dark:border-red-800/50 bg-red-50/50 dark:bg-red-900/10",Z.status==="unavailable"&&"border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30",Z.status==="pending"&&"border-border/50 bg-muted/30"),children:[l.jsxs("div",{className:"flex items-center gap-3 p-3",children:[l.jsx("div",{className:we("flex items-center justify-center w-9 h-9 rounded-lg transition-colors shrink-0",Z.status==="checking"&&"bg-primary/15 text-primary",Z.status==="granted"&&"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",Z.status==="warning"&&"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",Z.status==="denied"&&"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",Z.status==="unavailable"&&"bg-slate-100 dark:bg-slate-800 text-slate-400",Z.status==="pending"&&"bg-muted text-muted-foreground"),children:Z.status==="checking"||X?l.jsx(Dr,{className:"w-4 h-4 animate-spin"}):Z.status==="granted"?l.jsx(Zr,{className:"w-4 h-4"}):["denied","warning"].includes(Z.status)?l.jsx(Ss,{className:"w-4 h-4"}):l.jsx(te,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:we("text-sm font-medium truncate",Z.status==="pending"?"text-muted-foreground":"text-foreground"),children:Z.label}),Z.required&&Z.status!=="granted"&&l.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",children:""})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[Z.details&&l.jsx("span",{className:we("text-xs shrink-0",Z.status==="granted"&&"text-green-600 dark:text-green-400",Z.status==="warning"&&"text-amber-600 dark:text-amber-400",Z.status==="denied"&&"text-red-600 dark:text-red-400",Z.status==="unavailable"&&"text-slate-400"),children:Z.details}),re&&l.jsx("button",{onClick:()=>p(ae?null:Z.id),className:"p-0.5 hover:bg-black/5 dark:hover:bg-white/5 rounded transition-colors","data-testid":`btn-expand-${Z.id}`,children:ae?l.jsx(lo,{className:"w-4 h-4"}):l.jsx(pn,{className:"w-4 h-4"})})]})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:Z.description})]})]}),ae&&re&&l.jsx("div",{className:"px-3 pb-3 border-t border-current/10",children:l.jsx("div",{className:"mt-3 space-y-2 text-xs",children:Z.id==="tables"&&Z.expandedDetails?.tables?l.jsx(l.Fragment,{children:Z.expandedDetails.tables.map(ee=>l.jsxs("div",{className:"flex justify-between items-center p-2 bg-black/2.5 dark:bg-white/2.5 rounded",children:[l.jsx("span",{className:"font-medium",children:ee.name}),l.jsxs("span",{className:ee.status==="ok"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[ee.count," "]})]},ee.name))}):Object.entries(Z.expandedDetails||{}).map(([ee,G])=>l.jsxs("div",{className:"flex justify-between items-center p-2 bg-black/2.5 dark:bg-white/2.5 rounded",children:[l.jsx("span",{className:"text-muted-foreground",children:ee}),l.jsx("span",{className:"font-medium",children:String(G)})]},ee))})})]},Z.id)})}),s!=="complete"&&l.jsxs("div",{className:"space-y-2",children:[s==="system"&&l.jsx(_e,{"data-testid":"btn-refresh-checks",variant:"outline",className:"w-full h-10",onClick:F,disabled:a||g,children:g?l.jsxs(l.Fragment,{children:[l.jsx(Dr,{className:"w-4 h-4 animate-spin ml-2"}),"  ..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ds,{className:"w-4 h-4 ml-2"})," "]})}),l.jsx(_e,{"data-testid":"btn-request-all",className:"w-full h-11",onClick:K,disabled:a||g,children:a?l.jsxs(l.Fragment,{children:[l.jsx(Dr,{className:"w-4 h-4 animate-spin ml-2"}),"  ..."]}):l.jsxs(l.Fragment,{children:[l.jsx(io,{className:"w-4 h-4 ml-2"}),"   "]})}),l.jsx(Input,{ref:m,type:"file",accept:".sql,.json,.gz,.gzip,.backup",onChange:Q,className:"hidden","data-testid":"input-backup-file"}),l.jsxs(_e,{"data-testid":"btn-import-backup",variant:"outline",className:"w-full h-10",onClick:()=>m.current?.click(),disabled:a,children:[l.jsx(Ak,{className:"w-4 h-4 ml-2"}),"  "]}),d&&l.jsx("div",{className:we("text-center text-sm p-2 rounded-lg",d.includes("")?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400":d.includes("")?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"),children:d}),l.jsx(_e,{"data-testid":"btn-skip",variant:"ghost",className:"w-full h-9 text-sm text-muted-foreground",onClick:z,disabled:a,children:" ( )"})]}),s==="complete"&&l.jsxs("div",{className:"text-center p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800/50",children:[l.jsx(Zr,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),l.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"   "}),l.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:" ..."})]}),l.jsxs("p",{className:"text-center text-[10px] text-muted-foreground/60 mt-6",children:["v3.1  ",eIe(t),"   "]})]})})]})}function tIe(){const[e,t]=T.useState(()=>ng()),[r,n]=T.useState(navigator.onLine),[s,i]=T.useState([]),[a,o]=T.useState([]),[u,c]=T.useState([]),[d,h]=T.useState([]),[f,p]=T.useState([]),[g,y]=T.useState(null),m=T.useCallback(async()=>{try{const[R,L,A,P,$,V]=await Promise.all([Kc(),tae(),lO(),sae(),oO(100),oae()]);i(R),o(L),c(A),h(P),p($),y(V)}catch(R){console.warn(" [useSyncData]   :",R)}},[]);T.useEffect(()=>{const R=B1($=>{t($),m()}),L=()=>{n(!0),Oc().catch(console.error)},A=()=>n(!1);window.addEventListener("online",L),window.addEventListener("offline",A),m();const P=setInterval(m,1e4);return()=>{R(),window.removeEventListener("online",L),window.removeEventListener("offline",A),clearInterval(P)}},[m]);const v=async()=>{r&&(await Oc(),await m())},b=async R=>{await rae(R),await m()},x=async()=>{await nae(),await m()},j=async R=>{await iae(R),await m()},C=async()=>{await aae(),await m()};return{isSyncing:e.isSyncing,offlineCount:e.pendingCount,lastSync:e.lastSync,lastError:e.lastError,lastErrorType:e.lastErrorType,lastErrorDetails:e.lastErrorDetails,isOnline:r,latency:e.latency,progress:e.progress,pendingItems:s,allQueueItems:a,failedItems:u,duplicateItems:d,syncHistory:f,offlineStats:g,manualSync:v,cancelOperation:b,cancelAllOperations:x,retryOperation:j,retryAllOperations:C,refreshData:m}}const s_={syncAuditLogs:"/api/sync-audit/logs",syncAuditStats:"/api/sync-audit/stats",syncAuditModules:"/api/sync-audit/modules"};function xte(e){if(!e)return" ";const t=Date.now()-e,r=Math.floor(t/1e3);if(r<60)return` ${r} `;const n=Math.floor(r/60);if(n<60)return` ${n} `;const s=Math.floor(n/60);return s<24?` ${s} `:` ${Math.floor(s/24)} `}function wte(e){if(!e)return"-";const t=new Date(e);return t.toLocaleDateString("ar-YE",{year:"numeric",month:"2-digit",day:"2-digit"})+" "+t.toLocaleTimeString("ar-YE",{hour:"2-digit",minute:"2-digit"})}function _te(e){switch(e){case"create":return"";case"update":return"";case"delete":return"";default:return e}}function kte(e){switch(e){case"pending":return l.jsx(ft,{variant:"secondary","data-testid":"badge-status-pending",children:" "});case"in-flight":return l.jsx(ft,{variant:"default","data-testid":"badge-status-inflight",children:" "});case"failed":return l.jsx(ft,{variant:"destructive","data-testid":"badge-status-failed",children:""});case"conflict":return l.jsx(ft,{variant:"warning","data-testid":"badge-status-conflict",children:""});case"duplicate-resolved":return l.jsx(ft,{variant:"outline","data-testid":"badge-status-duplicate",children:" -  "});case"success":return l.jsx(ft,{variant:"success","data-testid":"badge-status-success",children:""});case"duplicate":return l.jsx(ft,{variant:"outline","data-testid":"badge-status-dup-log",children:""});case"skipped":return l.jsx(ft,{variant:"secondary","data-testid":"badge-status-skipped",children:" "});default:return l.jsx(ft,{variant:"secondary",children:e||" "})}}function Ste(e){const r=e.split("/")[2]||e;return{"fund-transfers":" ","project-fund-transfers":" ",workers:"","worker-attendance":" ",suppliers:"",materials:"","material-purchases":" ","supplier-payments":" ","transportation-expenses":" ",projects:""}[r]||r}function rIe(){const{isSyncing:e,isOnline:t,pendingItems:r,failedItems:n,duplicateItems:s,syncHistory:i,offlineStats:a,lastSync:o,latency:u,cancelOperation:c,retryOperation:d,retryAllOperations:h}=tIe(),{toast:f}=zr(),[p,g]=T.useState("pending"),[y,m]=T.useState(new Set),{searchValue:v,filterValues:b,onSearchChange:x,onFilterChange:j,onReset:C}=U1({action:"all",status:"all"},""),{data:R=[]}=st({queryKey:fe.projects,queryFn:async()=>{const w=await Ie("/api/projects","GET");return w?.data||w||[]}}),L=w=>w.filter(_=>{const k=!v||(_.endpoint||"").toLowerCase().includes(v.toLowerCase())||(_.id||"").toLowerCase().includes(v.toLowerCase())||(_.lastError||"").toLowerCase().includes(v.toLowerCase()),S=b.action==="all"||_.action===b.action;return k&&S}),A=T.useMemo(()=>L(r),[r,v,b]),P=T.useMemo(()=>L(n),[n,v,b]),$=T.useMemo(()=>i.filter(w=>{const _=!v||(w.endpoint||"").toLowerCase().includes(v.toLowerCase())||(w.errorMessage||"").toLowerCase().includes(v.toLowerCase()),k=b.status==="all"||w.status===b.status;return _&&k}),[i,v,b]),V=w=>{m(_=>{const k=new Set(_);return k.has(w)?k.delete(w):k.add(w),k})},U=async w=>{await c(w),f({title:" ",description:"     "})},E=async w=>{await d(w),f({title:" ",description:"     "})},I=async()=>{await h(),f({title:" ",description:"    "})},N=i.filter(w=>w.status==="success").length;return i.filter(w=>w.status==="failed").length,i.filter(w=>w.status==="duplicate").length,l.jsxs("div",{className:"space-y-4 pb-20","data-testid":"page-sync-management",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(ft,{variant:t?"success":"destructive","data-testid":"badge-connection-status",children:t?l.jsxs(l.Fragment,{children:[l.jsx(rd,{className:"h-3 w-3 ml-1"})," "]}):l.jsxs(l.Fragment,{children:[l.jsx(wf,{className:"h-3 w-3 ml-1"}),"  "]})}),o>0&&l.jsxs(ft,{variant:"outline","data-testid":"badge-last-sync",children:[l.jsx(mn,{className:"h-3 w-3 ml-1"})," : ",xte(o)]}),u&&u>0&&l.jsxs(ft,{variant:"outline","data-testid":"badge-latency",children:[l.jsx(Fs,{className:"h-3 w-3 ml-1"}),u,"ms"]}),e&&l.jsxs(ft,{variant:"default","data-testid":"badge-syncing",children:[l.jsx(ds,{className:"h-3 w-3 ml-1 animate-spin"})," "]})]}),l.jsx(nu,{stats:[{title:" ",value:a?.pendingSync??r.length,icon:mn,color:r.length>0?"orange":"blue",status:r.length>10?"warning":"normal"},{title:"",value:a?.failedSync??n.length,icon:zb,color:n.length>0?"red":"gray",status:n.length>0?"critical":"normal"},{title:" ( 100)",value:a?.totalSuccessful??N,icon:Zr,color:"green"},{title:"  ",value:a?.duplicateResolved??s.length,icon:vf,color:"purple"}],columns:4,hideHeader:!0}),l.jsx(Dt,{className:"border-none shadow-sm",children:l.jsx(Ht,{className:"p-3",children:l.jsx(yN,{searchValue:v,onSearchChange:x,placeholder:"      ...",filters:[{key:"action",label:" ",options:[{label:"",value:"all"},{label:"",value:"create"},{label:"",value:"update"},{label:"",value:"delete"}]},...p==="history"?[{key:"status",label:"",options:[{label:"",value:"all"},{label:"",value:"success"},{label:"",value:"failed"},{label:"",value:"duplicate"},{label:" ",value:"skipped"}]}]:[]],filterValues:b,onFilterChange:j,onReset:C})})}),l.jsxs(PJ,{value:p,onValueChange:g,className:"w-full",dir:"rtl",children:[l.jsxs(SN,{className:"grid w-full grid-cols-5 mb-4","data-testid":"tabs-sync",children:[l.jsxs(_a,{value:"pending",className:"gap-1","data-testid":"tab-pending",children:[l.jsx(mn,{className:"h-3.5 w-3.5"}),"",r.length>0&&l.jsx(ft,{variant:"secondary",className:"mr-1 text-[10px] px-1.5",children:r.length})]}),l.jsxs(_a,{value:"failed",className:"gap-1","data-testid":"tab-failed",children:[l.jsx(Il,{className:"h-3.5 w-3.5"}),"",n.length>0&&l.jsx(ft,{variant:"destructive",className:"mr-1 text-[10px] px-1.5",children:n.length})]}),l.jsxs(_a,{value:"duplicates",className:"gap-1","data-testid":"tab-duplicates",children:[l.jsx(vf,{className:"h-3.5 w-3.5"}),"",s.length>0&&l.jsx(ft,{variant:"secondary",className:"mr-1 text-[10px] px-1.5",children:s.length})]}),l.jsxs(_a,{value:"history",className:"gap-1","data-testid":"tab-history",children:[l.jsx(G8,{className:"h-3.5 w-3.5"}),""]}),l.jsxs(_a,{value:"server-audit",className:"gap-1","data-testid":"tab-server-audit",children:[l.jsx(pd,{className:"h-3.5 w-3.5"})," "]})]}),l.jsx(ka,{value:"pending",children:l.jsx(i_,{items:A,emptyMessage:"   ",emptyIcon:Zr,expandedItems:y,onToggleExpand:V,actions:w=>l.jsx("div",{className:"flex items-center gap-1",children:l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>U(w.id),"data-testid":`button-cancel-${w.id.substring(0,8)}`,children:l.jsx(Nn,{className:"h-4 w-4 text-destructive"})})}),projects:R})}),l.jsxs(ka,{value:"failed",children:[n.length>0&&l.jsx("div",{className:"flex justify-end mb-3 gap-2",children:l.jsxs(_e,{variant:"outline",size:"sm",onClick:I,"data-testid":"button-retry-all",children:[l.jsx(xl,{className:"h-3.5 w-3.5 ml-1"}),"   (",n.length,")"]})}),l.jsx(i_,{items:P,emptyMessage:"   ",emptyIcon:Zr,showError:!0,expandedItems:y,onToggleExpand:V,actions:w=>l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>E(w.id),"data-testid":`button-retry-${w.id.substring(0,8)}`,children:l.jsx(xl,{className:"h-4 w-4 text-blue-500"})}),l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>U(w.id),"data-testid":`button-delete-${w.id.substring(0,8)}`,children:l.jsx(Nn,{className:"h-4 w-4 text-destructive"})})]}),projects:R})]}),l.jsx(ka,{value:"duplicates",children:l.jsx(i_,{items:s,emptyMessage:"   ",emptyIcon:vf,showError:!0,expandedItems:y,onToggleExpand:V,actions:w=>l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>U(w.id),"data-testid":`button-clear-dup-${w.id.substring(0,8)}`,children:l.jsx(Nn,{className:"h-4 w-4 text-muted-foreground"})}),projects:R})}),l.jsx(ka,{value:"history",children:l.jsx(bo,{className:"h-[500px]",children:$.length===0?l.jsx(WN,{icon:G8,message:"    "}):l.jsx("div",{className:"space-y-2",children:$.map(w=>l.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card","data-testid":`log-entry-${w.id.substring(0,8)}`,children:l.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:`mt-0.5 p-1.5 rounded-md ${w.status==="success"?"bg-green-100 text-green-600 dark:bg-green-900/30":w.status==="failed"?"bg-red-100 text-red-600 dark:bg-red-900/30":w.status==="duplicate"?"bg-purple-100 text-purple-600 dark:bg-purple-900/30":"bg-gray-100 text-gray-600 dark:bg-gray-900/30"}`,children:w.status==="success"?l.jsx(Zr,{className:"h-4 w-4"}):w.status==="failed"?l.jsx(zb,{className:"h-4 w-4"}):w.status==="duplicate"?l.jsx(vf,{className:"h-4 w-4"}):l.jsx(Ss,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[kte(w.status),l.jsx(ft,{variant:"outline",className:"text-[10px]",children:_te(w.action)}),l.jsx("span",{className:"text-xs text-muted-foreground truncate",children:Ste(w.endpoint)})]}),w.errorMessage&&l.jsx("p",{className:"text-xs text-destructive truncate",children:w.errorMessage}),w.payloadSummary&&l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:w.payloadSummary}),l.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Qn,{className:"h-3 w-3"}),wte(w.timestamp)]}),w.duration&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Fs,{className:"h-3 w-3"}),w.duration,"ms"]}),w.retryCount!==void 0&&w.retryCount>0&&l.jsxs("span",{children:[" #",w.retryCount]})]})]})]})},w.id))})})}),l.jsx(ka,{value:"server-audit",children:l.jsx(nIe,{})})]})]})}function nIe(){const[e,t]=T.useState(1),[r,n]=T.useState("all"),[s,i]=T.useState("all"),[a,o]=T.useState("all"),[u,c]=T.useState(""),[d,h]=T.useState(new Set),f=T.useMemo(()=>({page:e,limit:30,module:r!=="all"?r:void 0,status:s!=="all"?s:void 0,action:a!=="all"?a:void 0,search:u||void 0}),[e,r,s,a,u]),p=T.useMemo(()=>{const $=new URLSearchParams;return Object.entries(f).forEach(([V,U])=>{U!==void 0&&$.set(V,String(U))}),$.toString()},[f]),{data:g,isLoading:y}=st({queryKey:fe.syncAuditLogsFiltered(f),queryFn:async()=>await Ie(`${s_.syncAuditLogs}?${p}`,"GET"),refetchInterval:3e4}),{data:m}=st({queryKey:fe.syncAuditStats,queryFn:async()=>{const $=await Ie(s_.syncAuditStats,"GET");return $?.data||$||{}},refetchInterval:6e4}),{data:v}=st({queryKey:fe.syncAuditModules,queryFn:async()=>{const $=await Ie(s_.syncAuditModules,"GET");return $?.data||$?.modules||[]}}),b=g?.logs||[],x=g?.pagination||{},j={total:x.total||0,pages:x.totalPages||x.pages||1},C=m||{},R=Array.isArray(v)?v:[],L=$=>{h(V=>{const U=new Set(V);return U.has($)?U.delete($):U.add($),U})};function A($){switch($){case"success":return l.jsx(ft,{variant:"success",children:""});case"failed":return l.jsx(ft,{variant:"destructive",children:""});case"duplicate":return l.jsx(ft,{variant:"outline",children:""});case"skipped":return l.jsx(ft,{variant:"secondary",children:""});case"conflict":return l.jsx(ft,{variant:"destructive",children:""});default:return l.jsx(ft,{variant:"secondary",children:$})}}function P($){const U={create:{label:"",variant:"success"},update:{label:"",variant:"default"},delete:{label:"",variant:"destructive"},sync_push:{label:"",variant:"default"},sync_pull:{label:"",variant:"default"},full_backup:{label:" ",variant:"outline"},delta_sync:{label:" ",variant:"outline"},instant_sync:{label:" ",variant:"outline"}}[$]||{label:$,variant:"secondary"};return l.jsx(ft,{variant:U.variant,className:"text-[10px]",children:U.label})}return l.jsxs("div",{className:"space-y-4","data-testid":"server-audit-section",children:[l.jsx(nu,{stats:[{title:" ",value:C.total||0,icon:Li,color:"blue"},{title:"",value:C.success||0,icon:Zr,color:"green"},{title:"",value:C.failed||0,icon:zb,color:(C.failed||0)>0?"red":"gray"},{title:"",value:C.todayCount||0,icon:Qn,color:"purple"}],columns:4,hideHeader:!0}),l.jsx(Dt,{className:"border-none shadow-sm",children:l.jsx(Ht,{className:"p-3",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("div",{className:"relative flex-1 min-w-[180px]",children:[l.jsx(uo,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(tt,{placeholder:"   ...",value:u,onChange:$=>{c($.target.value),t(1)},className:"pr-9","data-testid":"input-audit-search"})]}),l.jsxs(En,{value:r,onValueChange:$=>{n($),t(1)},children:[l.jsx(bn,{className:"w-[140px]","data-testid":"select-audit-module",children:l.jsx(An,{placeholder:""})}),l.jsxs(vn,{children:[l.jsx(vt,{value:"all",children:" "}),R.map($=>l.jsx(vt,{value:$.value||$,children:$.label||$},$.value||$))]})]}),l.jsxs(En,{value:s,onValueChange:$=>{i($),t(1)},children:[l.jsx(bn,{className:"w-[120px]","data-testid":"select-audit-status",children:l.jsx(An,{placeholder:""})}),l.jsxs(vn,{children:[l.jsx(vt,{value:"all",children:" "}),l.jsx(vt,{value:"success",children:""}),l.jsx(vt,{value:"failed",children:""}),l.jsx(vt,{value:"duplicate",children:""}),l.jsx(vt,{value:"skipped",children:""}),l.jsx(vt,{value:"conflict",children:""})]})]}),l.jsxs(En,{value:a,onValueChange:$=>{o($),t(1)},children:[l.jsx(bn,{className:"w-[140px]","data-testid":"select-audit-action",children:l.jsx(An,{placeholder:" "})}),l.jsxs(vn,{children:[l.jsx(vt,{value:"all",children:" "}),l.jsx(vt,{value:"create",children:""}),l.jsx(vt,{value:"update",children:""}),l.jsx(vt,{value:"delete",children:""}),l.jsx(vt,{value:"full_backup",children:" "}),l.jsx(vt,{value:"delta_sync",children:" "}),l.jsx(vt,{value:"instant_sync",children:" "})]})]})]})})}),y?l.jsxs("div",{className:"flex items-center justify-center py-16 text-muted-foreground",children:[l.jsx(ds,{className:"h-6 w-6 animate-spin ml-2"}),l.jsx("span",{children:" ..."})]}):b.length===0?l.jsx(WN,{icon:io,message:"    "}):l.jsx(bo,{className:"h-[500px]",children:l.jsx("div",{className:"space-y-2",children:b.map($=>{const V=d.has($.id);return l.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden","data-testid":`audit-log-${$.id}`,children:[l.jsxs("div",{className:"flex items-center justify-between p-3 gap-2",children:[l.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:`mt-0.5 p-1.5 rounded-md ${$.status==="success"?"bg-green-100 text-green-600 dark:bg-green-900/30":$.status==="failed"?"bg-red-100 text-red-600 dark:bg-red-900/30":"bg-gray-100 text-gray-600 dark:bg-gray-900/30"}`,children:$.status==="success"?l.jsx(Zr,{className:"h-4 w-4"}):$.status==="failed"?l.jsx(zb,{className:"h-4 w-4"}):l.jsx(Ss,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[A($.status),P($.action),l.jsx(ft,{variant:"outline",className:"text-[10px]",children:$.module})]}),l.jsx("p",{className:"text-sm truncate",children:$.description}),$.errorMessage&&l.jsx("p",{className:"text-xs text-destructive truncate",children:$.errorMessage}),l.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground flex-wrap",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Qn,{className:"h-3 w-3"}),new Date($.createdAt).toLocaleDateString("ar-YE",{year:"numeric",month:"2-digit",day:"2-digit"})," ",new Date($.createdAt).toLocaleTimeString("ar-YE",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),$.userName&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Rd,{className:"h-3 w-3"}),$.userName]}),$.durationMs&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Fs,{className:"h-3 w-3"}),$.durationMs,"ms"]}),$.projectName&&l.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[l.jsx(Un,{className:"h-3 w-3"}),$.projectName]})]})]})]}),l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>L($.id),"data-testid":`button-expand-audit-${$.id}`,children:V?l.jsx(lo,{className:"h-4 w-4"}):l.jsx(pn,{className:"h-4 w-4"})})]}),V&&l.jsx("div",{className:"border-t p-3 bg-muted/30",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),l.jsx("span",{children:$.tableName})]}),$.recordId&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-mono text-[11px]",children:$.recordId})]}),$.syncType&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:" : "}),l.jsx("span",{children:$.syncType})]}),$.ipAddress&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:" IP: "}),l.jsx("span",{className:"font-mono text-[11px]",dir:"ltr",children:$.ipAddress})]}),$.amount&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),l.jsx("span",{children:Number($.amount).toLocaleString("ar-SA")})]}),$.oldValues&&l.jsx("div",{className:"col-span-full",children:l.jsxs("details",{children:[l.jsx("summary",{className:"text-muted-foreground cursor-pointer text-[11px]",children:" "}),l.jsx("pre",{className:"mt-1 p-2 rounded bg-muted text-[10px] overflow-auto max-h-32 font-mono",dir:"ltr",children:JSON.stringify($.oldValues,null,2)})]})}),$.newValues&&l.jsx("div",{className:"col-span-full",children:l.jsxs("details",{children:[l.jsx("summary",{className:"text-muted-foreground cursor-pointer text-[11px]",children:" "}),l.jsx("pre",{className:"mt-1 p-2 rounded bg-muted text-[10px] overflow-auto max-h-32 font-mono",dir:"ltr",children:JSON.stringify($.newValues,null,2)})]})})]})})]},$.id)})})}),j.pages>1&&l.jsxs("div",{className:"flex items-center justify-between px-2",children:[l.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",e,"  ",j.pages," (",j.total," )"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(_e,{variant:"outline",size:"icon",disabled:e<=1,onClick:()=>t($=>Math.max(1,$-1)),"data-testid":"button-audit-prev",children:l.jsx(hd,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"outline",size:"icon",disabled:e>=j.pages,onClick:()=>t($=>$+1),"data-testid":"button-audit-next",children:l.jsx(Lb,{className:"h-4 w-4"})})]})]})]})}function WN({icon:e,message:t}){return l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-muted-foreground space-y-3",children:[l.jsx(e,{className:"h-12 w-12 opacity-15"}),l.jsx("p",{className:"text-sm",children:t})]})}function i_({items:e,emptyMessage:t,emptyIcon:r,showError:n,expandedItems:s,onToggleExpand:i,actions:a,projects:o}){return e.length===0?l.jsx(WN,{icon:r,message:t}):l.jsx(bo,{className:"h-[500px]",children:l.jsx("div",{className:"space-y-2",children:e.map(u=>{const c=s.has(u.id),d=u.payload||{},h=o.find(f=>f.id===d.projectId)?.name;return l.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden","data-testid":`sync-item-${u.id.substring(0,8)}`,children:[l.jsxs("div",{className:"flex items-center justify-between p-3 gap-2",children:[l.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:`mt-0.5 p-1.5 rounded-md ${u.action==="create"?"bg-green-100 text-green-600 dark:bg-green-900/30":u.action==="update"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"bg-red-100 text-red-600 dark:bg-red-900/30"}`,children:l.jsx(us,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[kte(u.status),l.jsx(ft,{variant:u.action==="create"?"success":u.action==="update"?"default":"destructive",className:"text-[10px]",children:_te(u.action)}),l.jsx("span",{className:"text-xs text-muted-foreground",children:Ste(u.endpoint)}),l.jsx("span",{className:"font-mono text-[9px] px-1 py-0.5 rounded bg-muted text-muted-foreground",children:u.id.substring(0,8)})]}),n&&u.lastError&&l.jsxs("p",{className:"text-xs text-destructive flex items-start gap-1",children:[l.jsx(Ss,{className:"h-3 w-3 mt-0.5 shrink-0"}),l.jsx("span",{className:"truncate",children:u.lastError})]}),l.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground flex-wrap",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Qn,{className:"h-3 w-3"}),wte(u.timestamp)]}),u.retries>0&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(xl,{className:"h-3 w-3"}),u.retries," "]}),h&&l.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[l.jsx(Un,{className:"h-3 w-3"}),h]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>i(u.id),"data-testid":`button-expand-${u.id.substring(0,8)}`,children:c?l.jsx(lo,{className:"h-4 w-4"}):l.jsx(pn,{className:"h-4 w-4"})}),a(u)]})]}),c&&l.jsx("div",{className:"border-t p-3 bg-muted/30",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),l.jsx("span",{className:"font-mono text-[11px]",children:u.endpoint})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-mono text-[11px]",children:u.id})]}),u.idempotencyKey&&l.jsxs("div",{className:"col-span-full",children:[l.jsx("span",{className:"text-muted-foreground",children:" : "}),l.jsx("span",{className:"font-mono text-[11px]",children:u.idempotencyKey})]}),u.errorType&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:" : "}),l.jsx(ft,{variant:"outline",className:"text-[10px]",children:u.errorType})]}),u.lastAttemptAt&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:" : "}),l.jsx("span",{children:xte(u.lastAttemptAt)})]}),u.lastError&&l.jsxs("div",{className:"col-span-full",children:[l.jsx("span",{className:"text-muted-foreground",children:" : "}),l.jsx("span",{className:"text-destructive",children:u.lastError})]}),l.jsx("div",{className:"col-span-full",children:l.jsxs("details",{children:[l.jsx("summary",{className:"text-muted-foreground cursor-pointer text-[11px]",children:"   (JSON)"}),l.jsx("pre",{className:"mt-1 p-2 rounded bg-muted text-[10px] overflow-auto max-h-40 font-mono",dir:"ltr",children:JSON.stringify(d,null,2)})]})})]})})]},u.id)})})})}if(typeof window<"u"){const e=window.ResizeObserver;window.ResizeObserver=class extends e{constructor(r){super((n,s)=>{window.requestAnimationFrame(()=>{!Array.isArray(n)||!n.length||r(n,s)})})}}}const sIe=T.lazy(()=>Mr(()=>import("./worker-accounts-CH4lxxbv.js"),__vite__mapDeps([0,1]))),iIe=T.lazy(()=>Mr(()=>import("./suppliers-professional-BFuV92N0.js"),__vite__mapDeps([2,3]))),aIe=T.lazy(()=>Mr(()=>import("./customers-VbvR6NQz.js"),[])),oIe=T.lazy(()=>Mr(()=>import("./supplier-accounts-B0W_b30b.js"),[])),lIe=T.lazy(()=>Mr(()=>import("./autocomplete-admin-BiheuGJ3.js"),[])),cIe=T.lazy(()=>Mr(()=>import("./equipment-management-BqXKcqyS.js"),__vite__mapDeps([4,5])).then(e=>({default:e.EquipmentManagement}))),uIe=T.lazy(()=>Mr(()=>import("./admin-notifications-52MrVasb.js"),__vite__mapDeps([6,7]))),dIe=T.lazy(()=>Mr(()=>import("./SmartErrorsPage-BmzlVkcM.js"),__vite__mapDeps([8,3]))),fIe=T.lazy(()=>Mr(()=>import("./SecurityPoliciesPage-BF0WICuY.js"),__vite__mapDeps([9,10,11])).then(e=>({default:e.SecurityPoliciesPage}))),hIe=T.lazy(()=>Mr(()=>import("./axion-reports-BQ9ZjqHc.js"),__vite__mapDeps([12,11]))),pIe=T.lazy(()=>Mr(()=>import("./settings-iplE6wRV.js"),__vite__mapDeps([13,3,5]))),mIe=T.lazy(()=>Mr(()=>import("./users-management-DV9ia2iD.js"),[])),gIe=T.lazy(()=>Mr(()=>import("./ai-chat-Uu2s-X3K.js"),__vite__mapDeps([14,7]))),yIe=T.lazy(()=>Mr(()=>import("./sync-comparison-CaULcxX-.js"),[]));function Hs(){return l.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col items-center justify-center bg-white/80 dark:bg-slate-900/80 backdrop-blur-md gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Dr,{className:"h-12 w-12 animate-spin text-blue-600"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full animate-pulse"})})]}),l.jsx("p",{className:"text-sm font-medium text-slate-500 animate-pulse",children:"  ..."})]})}Xv().catch(console.error);rAe(3e4);const bIe=T.lazy(()=>Mr(()=>import("./index-CxhpW18Q.js"),__vite__mapDeps([15,11]))),vIe=T.lazy(()=>Mr(()=>import("./AdminDashboard-DDJt8rqt.js"),__vite__mapDeps([16,10])));function xIe(){return v1e(),T.useEffect(()=>{(async()=>{try{await ud(),console.log("     "),aJ(),uae(3e4),fae().catch(r=>console.warn("[AuditLog] Init failed:",r)),console.log("        ");const t=B1(r=>{!r.isSyncing&&r.lastSync>0&&r.pendingCount===0&&(console.log(" [Sync]    -   ..."),requestAnimationFrame(()=>{try{[["/api/projects"],["/api/projects/with-stats"],["/api/workers"],["/api/materials"],["/api/suppliers"],["/api/notifications"]].forEach(s=>vs.invalidateQueries({queryKey:s,refetchType:"active",exact:!1}))}catch(n){console.error("    :",n)}}))});return()=>t()}catch(t){console.error("     :",t)}})()},[]),l.jsxs(Z$,{children:[l.jsx(Yt,{path:"/",component:W5e}),l.jsx(Yt,{path:"/deployment",component:Zje}),l.jsx(Yt,{path:"/projects",component:D5e}),l.jsx(Yt,{path:"/workers",component:Y5e}),l.jsx(Yt,{path:"/worker-accounts",children:l.jsx(hs,{children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(sIe,{})})})}),l.jsx(Yt,{path:"/suppliers-pro",children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(iIe,{})})}),l.jsx(Yt,{path:"/customers",children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(aIe,{})})}),l.jsx(Yt,{path:"/supplier-accounts",children:l.jsx(hs,{children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(oIe,{})})})}),l.jsx(Yt,{path:"/worker-attendance",component:qje}),l.jsx(Yt,{path:"/material-purchase",component:h3e}),l.jsx(Yt,{path:"/transport-management",component:y3e}),l.jsx(Yt,{path:"/project-transfers",children:l.jsx(hs,{children:l.jsx(Q6e,{})})}),l.jsx(Yt,{path:"/project-transactions",children:l.jsx(hs,{children:l.jsx(J6e,{})})}),l.jsx(Yt,{path:"/project-fund-custody",children:l.jsx(hs,{children:l.jsx(e5e,{})})}),l.jsx(Yt,{path:"/autocomplete-admin",children:l.jsx(hs,{children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(lIe,{})})})}),l.jsx(Yt,{path:"/equipment",children:l.jsx(hs,{children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(cIe,{})})})}),l.jsx(Yt,{path:"/notifications",component:pNe}),l.jsx(Yt,{path:"/admin-notifications",children:l.jsx(hs,{children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(uIe,{})})})}),l.jsx(Yt,{path:"/smart-errors",children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(dIe,{})})}),l.jsx(Yt,{path:"/security-policies",children:l.jsx(hs,{children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(fIe,{})})})}),l.jsx(Yt,{path:"/daily-expenses",component:bNe}),l.jsx(Yt,{path:"/wells",component:xNe}),l.jsx(Yt,{path:"/admin/backups",children:l.jsx(hs,{children:l.jsx(cNe,{})})}),l.jsx(Yt,{path:"/settings",children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(pIe,{})})}),l.jsx(Yt,{path:"/well-cost-report",component:wNe}),l.jsx(Yt,{path:"/well-accounting",component:jNe}),l.jsx(Yt,{path:"/reports",children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(hIe,{})})}),l.jsx(Yt,{path:"/users-management",children:l.jsx(hs,{children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(mIe,{})})})}),l.jsx(Yt,{path:"/ai-chat",children:l.jsx(hs,{children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(gIe,{})})})}),l.jsx(Yt,{path:"/admin/monitoring",children:l.jsx(hs,{children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(bIe,{})})})}),l.jsx(Yt,{path:"/admin/dashboard",children:l.jsx(hs,{children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(vIe,{})})})}),l.jsx(Yt,{path:"/sync-comparison",children:l.jsx(hs,{children:l.jsx(T.Suspense,{fallback:l.jsx(Hs,{}),children:l.jsx(yIe,{})})})}),l.jsx(Yt,{path:"/admin/data-health",children:l.jsx(hs,{children:l.jsx(NNe,{})})}),l.jsx(Yt,{path:"/local-db",children:l.jsx(hs,{children:l.jsx(INe,{})})}),l.jsx(Yt,{path:"/admin/sync",children:l.jsx(hs,{children:l.jsx(rIe,{})})}),l.jsx(Yt,{component:rde})]})}function wIe(){return l.jsx(I4,{children:l.jsx(Rie,{client:vs,children:l.jsx(Ype,{children:l.jsx(dx,{children:l.jsx(Hwe,{children:l.jsxs("div",{dir:"rtl",children:[l.jsx(I4,{children:l.jsxs(Z$,{children:[l.jsx(Yt,{path:"/check",component:n_}),l.jsx(Yt,{path:"/setup",component:n_}),l.jsx(Yt,{path:"/permissions",component:n_}),l.jsx(Yt,{path:"/login",component:Vbe}),l.jsx(Yt,{path:"/register",component:bxe}),l.jsx(Yt,{path:"/verify-email",component:Nxe}),l.jsx(Yt,{path:"/forgot-password",component:_xe}),l.jsx(Yt,{path:"/reset-password",component:xxe}),l.jsx(Yt,{path:"*",component:()=>l.jsx(HEe,{children:l.jsx(GEe,{children:l.jsx(uwe,{children:l.jsx(qEe,{children:l.jsx(xIe,{})})})})})})]})}),l.jsx(uce,{})]})})})})})})}const _Ie=async()=>{const e=document.getElementById("root");if(e)try{"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then(r=>{for(let n of r)n.update(),n.addEventListener("updatefound",()=>{const s=n.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(console.log("      ..."),window.location.reload())})})}),"caches"in window&&caches.keys().then(r=>{r.forEach(n=>{n.includes("binarjoin-v")&&!n.includes("binarjoin-v3")&&(caches.delete(n),console.log("    :",n))})})),ud().catch(console.error),I$(e).render(l.jsx(wIe,{}))}catch(t){console.error("Fatal startup error:",t),e.innerHTML='<div style="padding:20px;text-align:center;direction:rtl;">    .   .</div>'}};_Ie();export{Ss as $,Sl as A,_e as B,XO as C,Jt as D,TIe as E,EIe as F,Vo as G,cr as H,tt as I,is as J,En as K,Fe as L,bn as M,An as N,vn as O,Hn as P,fe as Q,vt as R,qy as S,un as T,yn as U,ep as V,md as W,Ie as X,KA as Y,Tk as Z,Mr as _,zr as a,wl as a$,Io as a0,Cle as a1,zn as a2,uo as a3,Qr as a4,J8 as a5,ri as a6,Ow as a7,Ms as a8,Un as a9,os as aA,Ch as aB,$l as aC,pu as aD,mr as aE,Hpe as aF,G8 as aG,Xi as aH,Zr as aI,Js as aJ,Ag as aK,Gc as aL,ze as aM,Ga as aN,eo as aO,DIe as aP,ar as aQ,ql as aR,Fs as aS,bj as aT,Ki as aU,Pg as aV,AIe as aW,qh as aX,Xx as aY,U1 as aZ,Zc as a_,Kn as aa,Li as ab,Po as ac,mn as ad,io as ae,us as af,PJ as ag,SN as ah,_a as ai,Oh as aj,ka as ak,ft as al,iu as am,ds as an,Nee as ao,Me as ap,Rl as aq,Fl as ar,Ar as as,Tr as at,Sn as au,Pr as av,ln as aw,p3e as ax,Fn as ay,HO as az,Yn as b,nu as b0,gj as b1,yj as b2,we as b3,Di as b4,uK as b5,dK as b6,Mc as b7,H8 as b8,Mm as b9,Ls as bA,Dr as bB,xN as bC,wN as bD,Sd as bE,Ti as bF,_N as bG,Xs as bH,qO as bI,vs as bJ,bo as bK,Woe as bL,X8 as bM,co as bN,vf as bO,pn as bP,hd as bQ,Im as bR,_Ne as bS,xr as bT,R$ as bU,XS as bV,KPe as bW,ZPe as bX,Ase as bY,Il as ba,yN as bb,qm as bc,Kr as bd,hle as be,zb as bf,VO as bg,jt as bh,tS as bi,dwe as bj,eG as bk,ts as bl,_i as bm,dN as bn,ij as bo,Ic as bp,tIe as bq,yle as br,jle as bs,oae as bt,tr as bu,Ma as bv,wt as bw,et as bx,f5 as by,Nj as bz,vo as c,yo as d,EX as e,st as f,ht as g,rp as h,za as i,l as j,em as k,Dt as l,Ht as m,_s as n,Hr as o,cl as p,Nn as q,T as r,Qn as s,Rd as t,fs as u,YO as v,xs as w,ls as x,ws as y,Rs as z};
