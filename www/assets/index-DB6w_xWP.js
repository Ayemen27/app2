const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/worker-accounts-CrGwsbww.js","assets/worker-accounts-S6QwB5fq.css","assets/suppliers-professional-Dxz4SyaA.js","assets/switch-TwjVFlBD.js","assets/equipment-management-C9kt-Acq.js","assets/upload-BDTkljbt.js","assets/admin-notifications-Dz-uXUa_.js","assets/sparkles-6NAu9r3a.js","assets/SmartErrorsPage-OP-MA4VL.js","assets/SecurityPoliciesPage-DlzDw2su.js","assets/shield-alert-C4kO9jXu.js","assets/AreaChart-CQ1Gckwy.js","assets/axion-reports-BMGeQImj.js","assets/settings-CY2Li0Z-.js","assets/ai-chat-Cn6wtNyL.js","assets/index-1Iz9D7CA.js","assets/AdminDashboard-DLEJBFE4.js"])))=>i.map(i=>d[i]);
var Pie=Object.defineProperty;var sC=e=>{throw TypeError(e)};var Iie=(e,t,r)=>t in e?Pie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fe=(e,t,r)=>Iie(e,typeof t!="symbol"?t+"":t,r),g_=(e,t,r)=>t.has(e)||sC("Cannot "+r);var be=(e,t,r)=>(g_(e,t,"read from private field"),r?r.call(e):t.get(e)),At=(e,t,r)=>t.has(e)?sC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ct=(e,t,r,n)=>(g_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),dr=(e,t,r)=>(g_(e,t,"access private method"),r);var Py=(e,t,r,n)=>({set _(s){ct(e,t,s,r)},get _(){return be(e,t,n)}});function g$(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y$={exports:{}},Hx={},b$={exports:{}},vr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0=Symbol.for("react.element"),Rie=Symbol.for("react.portal"),Oie=Symbol.for("react.fragment"),Mie=Symbol.for("react.strict_mode"),Die=Symbol.for("react.profiler"),$ie=Symbol.for("react.provider"),Lie=Symbol.for("react.context"),Fie=Symbol.for("react.forward_ref"),zie=Symbol.for("react.suspense"),Bie=Symbol.for("react.memo"),Uie=Symbol.for("react.lazy"),iC=Symbol.iterator;function Vie(e){return e===null||typeof e!="object"?null:(e=iC&&e[iC]||e["@@iterator"],typeof e=="function"?e:null)}var v$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x$=Object.assign,w$={};function up(e,t,r){this.props=e,this.context=t,this.refs=w$,this.updater=r||v$}up.prototype.isReactComponent={};up.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};up.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _$(){}_$.prototype=up.prototype;function tN(e,t,r){this.props=e,this.context=t,this.refs=w$,this.updater=r||v$}var rN=tN.prototype=new _$;rN.constructor=tN;x$(rN,up.prototype);rN.isPureReactComponent=!0;var aC=Array.isArray,S$=Object.prototype.hasOwnProperty,nN={current:null},k$={key:!0,ref:!0,__self:!0,__source:!0};function j$(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)S$.call(t,n)&&!k$.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:p0,type:e,key:i,ref:a,props:s,_owner:nN.current}}function Wie(e,t){return{$$typeof:p0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sN(e){return typeof e=="object"&&e!==null&&e.$$typeof===p0}function qie(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var oC=/\/+/g;function y_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qie(""+e.key):t.toString(36)}function Eb(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case p0:case Rie:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+y_(a,0):n,aC(s)?(r="",e!=null&&(r=e.replace(oC,"$&/")+"/"),Eb(s,t,r,"",function(l){return l})):s!=null&&(sN(s)&&(s=Wie(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(oC,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",aC(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+y_(i,o);a+=Eb(i,t,r,u,s)}else if(u=Vie(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+y_(i,o++),a+=Eb(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Iy(e,t,r){if(e==null)return e;var n=[],s=0;return Eb(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Hie(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ji={current:null},Cb={transition:null},Kie={ReactCurrentDispatcher:ji,ReactCurrentBatchConfig:Cb,ReactCurrentOwner:nN};function N$(){throw Error("act(...) is not supported in production builds of React.")}vr.Children={map:Iy,forEach:function(e,t,r){Iy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Iy(e,function(){t++}),t},toArray:function(e){return Iy(e,function(t){return t})||[]},only:function(e){if(!sN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vr.Component=up;vr.Fragment=Oie;vr.Profiler=Die;vr.PureComponent=tN;vr.StrictMode=Mie;vr.Suspense=zie;vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kie;vr.act=N$;vr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=x$({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=nN.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)S$.call(t,u)&&!k$.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var l=0;l<u;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:p0,type:e.type,key:s,ref:i,props:n,_owner:a}};vr.createContext=function(e){return e={$$typeof:Lie,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$ie,_context:e},e.Consumer=e};vr.createElement=j$;vr.createFactory=function(e){var t=j$.bind(null,e);return t.type=e,t};vr.createRef=function(){return{current:null}};vr.forwardRef=function(e){return{$$typeof:Fie,render:e}};vr.isValidElement=sN;vr.lazy=function(e){return{$$typeof:Uie,_payload:{_status:-1,_result:e},_init:Hie}};vr.memo=function(e,t){return{$$typeof:Bie,type:e,compare:t===void 0?null:t}};vr.startTransition=function(e){var t=Cb.transition;Cb.transition={};try{e()}finally{Cb.transition=t}};vr.unstable_act=N$;vr.useCallback=function(e,t){return ji.current.useCallback(e,t)};vr.useContext=function(e){return ji.current.useContext(e)};vr.useDebugValue=function(){};vr.useDeferredValue=function(e){return ji.current.useDeferredValue(e)};vr.useEffect=function(e,t){return ji.current.useEffect(e,t)};vr.useId=function(){return ji.current.useId()};vr.useImperativeHandle=function(e,t,r){return ji.current.useImperativeHandle(e,t,r)};vr.useInsertionEffect=function(e,t){return ji.current.useInsertionEffect(e,t)};vr.useLayoutEffect=function(e,t){return ji.current.useLayoutEffect(e,t)};vr.useMemo=function(e,t){return ji.current.useMemo(e,t)};vr.useReducer=function(e,t,r){return ji.current.useReducer(e,t,r)};vr.useRef=function(e){return ji.current.useRef(e)};vr.useState=function(e){return ji.current.useState(e)};vr.useSyncExternalStore=function(e,t,r){return ji.current.useSyncExternalStore(e,t,r)};vr.useTransition=function(){return ji.current.useTransition()};vr.version="18.3.1";b$.exports=vr;var E=b$.exports;const jt=eN(E),Kx=g$({__proto__:null,default:jt},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gie=E,Zie=Symbol.for("react.element"),Xie=Symbol.for("react.fragment"),Yie=Object.prototype.hasOwnProperty,Qie=Gie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jie={key:!0,ref:!0,__self:!0,__source:!0};function T$(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Yie.call(t,n)&&!Jie.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Zie,type:e,key:i,ref:a,props:s,_owner:Qie.current}}Hx.Fragment=Xie;Hx.jsx=T$;Hx.jsxs=T$;y$.exports=Hx;var c=y$.exports,eae=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Zu="1.8.0",lC=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function tae(e){var t=new Set([e]),r=new Set,n=e.match(lC);if(!n)return function(){return!1};var s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(s.prerelease!=null)return function(u){return u===e};function i(o){return r.add(o),!1}function a(o){return t.add(o),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;var l=u.match(lC);if(!l)return i(u);var d={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return d.prerelease!=null||s.major!==d.major?i(u):s.major===0?s.minor===d.minor&&s.patch<=d.patch?a(u):i(u):s.minor<=d.minor?a(u):i(u)}}var rae=tae(Zu),nae=Zu.split(".")[0],ig=Symbol.for("opentelemetry.js.api."+nae),ag=eae;function m0(e,t,r,n){var s;n===void 0&&(n=!1);var i=ag[ig]=(s=ag[ig])!==null&&s!==void 0?s:{version:Zu};if(!n&&i[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(a.stack||a.message),!1}if(i.version!==Zu){var a=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+Zu);return r.error(a.stack||a.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Zu+"."),!0}function kd(e){var t,r,n=(t=ag[ig])===null||t===void 0?void 0:t.version;if(!(!n||!rae(n)))return(r=ag[ig])===null||r===void 0?void 0:r[e]}function g0(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Zu+".");var r=ag[ig];r&&delete r[e]}var sae=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},iae=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},aae=(function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Wp("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Wp("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Wp("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Wp("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Wp("verbose",this._namespace,t)},e})();function Wp(e,t,r){var n=kd("diag");if(n)return r.unshift(t),n[e].apply(n,iae([],sae(r),!1))}var Wr;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Wr||(Wr={}));function oae(e,t){e<Wr.NONE?e=Wr.NONE:e>Wr.ALL&&(e=Wr.ALL),t=t||{};function r(n,s){var i=t[n];return typeof i=="function"&&e>=s?i.bind(t):function(){}}return{error:r("error",Wr.ERROR),warn:r("warn",Wr.WARN),info:r("info",Wr.INFO),debug:r("debug",Wr.DEBUG),verbose:r("verbose",Wr.VERBOSE)}}var lae=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},cae=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},uae="diag",sl=(function(){function e(){function t(s){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=kd("diag");if(o)return o[s].apply(o,cae([],lae(i),!1))}}var r=this,n=function(s,i){var a,o,u;if(i===void 0&&(i={logLevel:Wr.INFO}),s===r){var l=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((a=l.stack)!==null&&a!==void 0?a:l.message),!1}typeof i=="number"&&(i={logLevel:i});var d=kd("diag"),h=oae((o=i.logLevel)!==null&&o!==void 0?o:Wr.INFO,s);if(d&&!i.suppressOverrideMessage){var f=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";d.warn("Current logger will be overwritten from "+f),h.warn("Current logger will overwrite one already registered from "+f)}return m0("diag",h,r,!0)};r.setLogger=n,r.disable=function(){g0(uae,r)},r.createComponentLogger=function(s){return new aae(s)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e})(),dae=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},fae=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hae=(function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=dae(t,2),n=r[0],s=r[1];return[n,s]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var i=new e(this._entries);try{for(var a=fae(n),o=a.next();!o.done;o=a.next()){var u=o.value;i._entries.delete(u)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e})(),pae=Symbol("BaggageEntryMetadata"),mae=sl.instance();function gae(e){return e===void 0&&(e={}),new hae(new Map(Object.entries(e)))}function iN(e){return typeof e!="string"&&(mae.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:pae,toString:function(){return e}}}function Gx(e){return Symbol.for(e)}var yae=(function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,s){var i=new e(r._currentContext);return i._currentContext.set(n,s),i},r.deleteValue=function(n){var s=new e(r._currentContext);return s._currentContext.delete(n),s}}return e})(),Nf=new yae,dp=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),bae=(function(){function e(){}return e.prototype.createHistogram=function(t,r){return Tae},e.prototype.createCounter=function(t,r){return Nae},e.prototype.createUpDownCounter=function(t,r){return Eae},e.prototype.createObservableGauge=function(t,r){return Aae},e.prototype.createObservableCounter=function(t,r){return Cae},e.prototype.createObservableUpDownCounter=function(t,r){return Pae},e.prototype.addBatchObservableCallback=function(t,r){},e.prototype.removeBatchObservableCallback=function(t){},e})(),aN=(function(){function e(){}return e})(),vae=(function(e){dp(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(r,n){},t})(aN),xae=(function(e){dp(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(r,n){},t})(aN),wae=(function(e){dp(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(r,n){},t})(aN),oN=(function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e})(),_ae=(function(e){dp(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(oN),Sae=(function(e){dp(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(oN),kae=(function(e){dp(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(oN),jae=new bae,Nae=new vae,Tae=new wae,Eae=new xae,Cae=new _ae,Aae=new Sae,Pae=new kae,Iae={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},Rae={set:function(e,t,r){e!=null&&(e[t]=r)}},Oae=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Mae=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Dae=(function(){function e(){}return e.prototype.active=function(){return Nf},e.prototype.with=function(t,r,n){for(var s=[],i=3;i<arguments.length;i++)s[i-3]=arguments[i];return r.call.apply(r,Mae([n],Oae(s),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e})(),$ae=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Lae=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},b_="context",Fae=new Dae,Zx=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return m0(b_,t,sl.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var s,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return(s=this._getContextManager()).with.apply(s,Lae([t,r,n],$ae(i),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return kd(b_)||Fae},e.prototype.disable=function(){this._getContextManager().disable(),g0(b_,sl.instance())},e})(),Vl;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(Vl||(Vl={}));var E$="0000000000000000",C$="00000000000000000000000000000000",A$={traceId:C$,spanId:E$,traceFlags:Vl.NONE},Om=(function(){function e(t){t===void 0&&(t=A$),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e})(),lN=Gx("OpenTelemetry Context Key SPAN");function cN(e){return e.getValue(lN)||void 0}function zae(){return cN(Zx.getInstance().active())}function uN(e,t){return e.setValue(lN,t)}function Bae(e){return e.deleteValue(lN)}function Uae(e,t){return uN(e,new Om(t))}function P$(e){var t;return(t=cN(e))===null||t===void 0?void 0:t.spanContext()}var Vae=/^([0-9a-f]{32})$/i,Wae=/^[0-9a-f]{16}$/i;function I$(e){return Vae.test(e)&&e!==C$}function qae(e){return Wae.test(e)&&e!==E$}function Xx(e){return I$(e.traceId)&&qae(e.spanId)}function Hae(e){return new Om(e)}var v_=Zx.getInstance(),R$=(function(){function e(){}return e.prototype.startSpan=function(t,r,n){n===void 0&&(n=v_.active());var s=!!r?.root;if(s)return new Om;var i=n&&P$(n);return Kae(i)&&Xx(i)?new Om(i):new Om},e.prototype.startActiveSpan=function(t,r,n,s){var i,a,o;if(!(arguments.length<2)){arguments.length===2?o=r:arguments.length===3?(i=r,o=n):(i=r,a=n,o=s);var u=a??v_.active(),l=this.startSpan(t,i,u),d=uN(u,l);return v_.with(d,o,void 0,l)}},e})();function Kae(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var Gae=new R$,Zae=(function(){function e(t,r,n,s){this._provider=t,this.name=r,this.version=n,this.options=s}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,s){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):Gae},e})(),Xae=(function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new R$},e})(),Yae=new Xae,cC=(function(){function e(){}return e.prototype.getTracer=function(t,r,n){var s;return(s=this.getDelegateTracer(t,r,n))!==null&&s!==void 0?s:new Zae(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:Yae},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,r,n)},e})(),gv;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(gv||(gv={}));var og;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(og||(og={}));var Th;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Th||(Th={}));var Hn=Zx.getInstance(),or=sl.instance(),Qae=(function(){function e(){}return e.prototype.getMeter=function(t,r,n){return jae},e})(),Jae=new Qae,x_="metrics",eoe=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return m0(x_,t,sl.instance())},e.prototype.getMeterProvider=function(){return kd(x_)||Jae},e.prototype.getMeter=function(t,r,n){return this.getMeterProvider().getMeter(t,r,n)},e.prototype.disable=function(){g0(x_,sl.instance())},e})(),dN=eoe.getInstance(),toe=(function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e})(),fN=Gx("OpenTelemetry Baggage Key");function O$(e){return e.getValue(fN)||void 0}function roe(){return O$(Zx.getInstance().active())}function noe(e,t){return e.setValue(fN,t)}function soe(e){return e.deleteValue(fN)}var w_="propagation",ioe=new toe,aoe=(function(){function e(){this.createBaggage=gae,this.getBaggage=O$,this.getActiveBaggage=roe,this.setBaggage=noe,this.deleteBaggage=soe}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return m0(w_,t,sl.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=Rae),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=Iae),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){g0(w_,sl.instance())},e.prototype._getGlobalPropagator=function(){return kd(w_)||ioe},e})(),Ra=aoe.getInstance(),__="trace",ooe=(function(){function e(){this._proxyTracerProvider=new cC,this.wrapSpanContext=Hae,this.isSpanContextValid=Xx,this.deleteSpan=Bae,this.getSpan=cN,this.getActiveSpan=zae,this.getSpanContext=P$,this.setSpan=uN,this.setSpanContext=Uae}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=m0(__,this._proxyTracerProvider,sl.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return kd(__)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){g0(__,sl.instance()),this._proxyTracerProvider=new cC},e})(),$s=ooe.getInstance();const M$=Gx("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function loe(e){return e.setValue(M$,!0)}function coe(e){return e.getValue(M$)===!0}function Ab(e){const t={};if(typeof e!="object"||e==null)return t;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;if(!uoe(r)){or.warn(`Invalid attribute key: ${r}`);continue}const n=e[r];if(!D$(n)){or.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}function uoe(e){return typeof e=="string"&&e!==""}function D$(e){return e==null?!0:Array.isArray(e)?doe(e):$$(typeof e)}function doe(e){let t;for(const r of e){if(r==null)continue;const n=typeof r;if(n!==t){if(!t){if($$(n)){t=n;continue}return!1}return!1}}return!0}function $$(e){switch(e){case"number":case"boolean":case"string":return!0}return!1}function foe(){return e=>{or.error(hoe(e))}}function hoe(e){return typeof e=="string"?e:JSON.stringify(poe(e))}function poe(e){const t={};let r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;const s=r[n];s&&(t[n]=String(s))}),r=Object.getPrototypeOf(r);return t}let moe=foe();function Eh(e){try{moe(e)}catch{}}const goe="2.5.1",S_="exception.message",yoe="exception.stacktrace",k_="exception.type",boe="service.name",WS="telemetry.sdk.language",voe="webjs",qS="telemetry.sdk.name",HS="telemetry.sdk.version",xoe="process.runtime.name",j_={[qS]:"opentelemetry",[xoe]:"browser",[WS]:voe,[HS]:goe},Ef=performance,woe=9,_oe=6,Soe=Math.pow(10,_oe),KS=Math.pow(10,woe);function Cf(e){const t=e/1e3,r=Math.trunc(t),n=Math.round(e%1e3*Soe);return[r,n]}function koe(e){const t=Cf(Ef.timeOrigin),r=Cf(typeof e=="number"?e:Ef.now());return F$(t,r)}function joe(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=KS),[r,n]}function L$(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}function uC(e){return L$(e)||typeof e=="number"||e instanceof Date}function F$(e,t){const r=[e[0]+t[0],e[1]+t[1]];return r[1]>=KS&&(r[1]-=KS,r[0]+=1),r}var GS;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(GS||(GS={}));const Noe="[object Object]",Toe="[object Null]",Eoe="[object Undefined]",Coe=Function.prototype,z$=Coe.toString,Aoe=z$.call(Object),Poe=Object.getPrototypeOf,B$=Object.prototype,U$=B$.hasOwnProperty,Hu=Symbol?Symbol.toStringTag:void 0,V$=B$.toString;function dC(e){if(!Ioe(e)||Roe(e)!==Noe)return!1;const t=Poe(e);if(t===null)return!0;const r=U$.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&z$.call(r)===Aoe}function Ioe(e){return e!=null&&typeof e=="object"}function Roe(e){return e==null?e===void 0?Eoe:Toe:Hu&&Hu in Object(e)?Ooe(e):Moe(e)}function Ooe(e){const t=U$.call(e,Hu),r=e[Hu];let n=!1;try{e[Hu]=void 0,n=!0}catch{}const s=V$.call(e);return n&&(t?e[Hu]=r:delete e[Hu]),s}function Moe(e){return V$.call(e)}const Doe=20;function $oe(...e){let t=e.shift();const r=new WeakMap;for(;e.length>0;)t=W$(t,e.shift(),0,r);return t}function N_(e){return yv(e)?e.slice():e}function W$(e,t,r=0,n){let s;if(!(r>Doe)){if(r++,Pb(e)||Pb(t)||q$(t))s=N_(t);else if(yv(e)){if(s=e.slice(),yv(t))for(let i=0,a=t.length;i<a;i++)s.push(N_(t[i]));else if(qp(t)){const i=Object.keys(t);for(let a=0,o=i.length;a<o;a++){const u=i[a];s[u]=N_(t[u])}}}else if(qp(e))if(qp(t)){if(!Loe(e,t))return t;s=Object.assign({},e);const i=Object.keys(t);for(let a=0,o=i.length;a<o;a++){const u=i[a],l=t[u];if(Pb(l))typeof l>"u"?delete s[u]:s[u]=l;else{const d=s[u],h=l;if(fC(e,u,n)||fC(t,u,n))delete s[u];else{if(qp(d)&&qp(h)){const f=n.get(d)||[],p=n.get(h)||[];f.push({obj:e,key:u}),p.push({obj:t,key:u}),n.set(d,f),n.set(h,p)}s[u]=W$(s[u],l,r,n)}}}}else s=t;return s}}function fC(e,t,r){const n=r.get(e[t])||[];for(let s=0,i=n.length;s<i;s++){const a=n[s];if(a.key===t&&a.obj===e)return!0}return!1}function yv(e){return Array.isArray(e)}function q$(e){return typeof e=="function"}function qp(e){return!Pb(e)&&!yv(e)&&!q$(e)&&typeof e=="object"}function Pb(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function Loe(e,t){return!(!dC(e)||!dC(t))}let Foe=class{constructor(){fe(this,"_promise");fe(this,"_resolve");fe(this,"_reject");this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}},zoe=class{constructor(t,r){fe(this,"_isCalled",!1);fe(this,"_deferred",new Foe);fe(this,"_callback");fe(this,"_that");this._callback=t,this._that=r}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}},Ry;function Boe(){if(Ry===void 0)try{const e=globalThis.process.argv0;Ry=e?`unknown_service:${e}`:"unknown_service"}catch{Ry="unknown_service"}return Ry}const ym=e=>e!==null&&typeof e=="object"&&typeof e.then=="function";class bv{constructor(t,r){fe(this,"_rawAttributes");fe(this,"_asyncAttributesPending",!1);fe(this,"_schemaUrl");fe(this,"_memoizedAttributes");const n=t.attributes??{};this._rawAttributes=Object.entries(n).map(([s,i])=>(ym(i)&&(this._asyncAttributesPending=!0),[s,i])),this._rawAttributes=hC(this._rawAttributes),this._schemaUrl=Woe(r?.schemaUrl)}static FromAttributeList(t,r){const n=new bv({},r);return n._rawAttributes=hC(t),n._asyncAttributesPending=t.filter(([s,i])=>ym(i)).length>0,n}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let t=0;t<this._rawAttributes.length;t++){const[r,n]=this._rawAttributes[t];this._rawAttributes[t]=[r,ym(n)?await n:n]}this._asyncAttributesPending=!1}}get attributes(){if(this.asyncAttributesPending&&or.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;const t={};for(const[r,n]of this._rawAttributes){if(ym(n)){or.debug(`Unsettled resource attribute ${r} skipped`);continue}n!=null&&(t[r]??(t[r]=n))}return this._asyncAttributesPending||(this._memoizedAttributes=t),t}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(t){if(t==null)return this;const r=qoe(this,t),n=r?{schemaUrl:r}:void 0;return bv.FromAttributeList([...t.getRawAttributes(),...this.getRawAttributes()],n)}}function Uoe(e,t){return bv.FromAttributeList(Object.entries(e),t)}function Voe(){return Uoe({[boe]:Boe(),[WS]:j_[WS],[qS]:j_[qS],[HS]:j_[HS]})}function hC(e){return e.map(([t,r])=>ym(r)?[t,r.catch(n=>{or.debug("promise rejection for resource attribute: %s - %s",t,n)})]:[t,r])}function Woe(e){if(typeof e=="string"||e===void 0)return e;or.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",e)}function qoe(e,t){const r=e?.schemaUrl,n=t?.schemaUrl,s=r===void 0||r==="",i=n===void 0||n==="";if(s)return n;if(i||r===n)return r;or.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',r,n)}const Hoe="exception";class Koe{constructor(t){fe(this,"_spanContext");fe(this,"kind");fe(this,"parentSpanContext");fe(this,"attributes",{});fe(this,"links",[]);fe(this,"events",[]);fe(this,"startTime");fe(this,"resource");fe(this,"instrumentationScope");fe(this,"_droppedAttributesCount",0);fe(this,"_droppedEventsCount",0);fe(this,"_droppedLinksCount",0);fe(this,"_attributesCount",0);fe(this,"name");fe(this,"status",{code:Th.UNSET});fe(this,"endTime",[0,0]);fe(this,"_ended",!1);fe(this,"_duration",[-1,-1]);fe(this,"_spanProcessor");fe(this,"_spanLimits");fe(this,"_attributeValueLengthLimit");fe(this,"_performanceStartTime");fe(this,"_performanceOffset");fe(this,"_startTimeProvided");const r=Date.now();this._spanContext=t.spanContext,this._performanceStartTime=Ef.now(),this._performanceOffset=r-(this._performanceStartTime+Ef.timeOrigin),this._startTimeProvided=t.startTime!=null,this._spanLimits=t.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=t.spanProcessor,this.name=t.name,this.parentSpanContext=t.parentSpanContext,this.kind=t.kind,this.links=t.links||[],this.startTime=this._getTime(t.startTime??r),this.resource=t.resource,this.instrumentationScope=t.scope,t.attributes!=null&&this.setAttributes(t.attributes),this._spanProcessor.onStart(this,t.context)}spanContext(){return this._spanContext}setAttribute(t,r){if(r==null||this._isSpanEnded())return this;if(t.length===0)return or.warn(`Invalid attribute key: ${t}`),this;if(!D$(r))return or.warn(`Invalid attribute value set for key: ${t}`),this;const{attributeCountLimit:n}=this._spanLimits,s=!Object.prototype.hasOwnProperty.call(this.attributes,t);return n!==void 0&&this._attributesCount>=n&&s?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(r),s&&this._attributesCount++,this)}setAttributes(t){for(const[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;const{eventCountLimit:s}=this._spanLimits;if(s===0)return or.warn("No events allowed."),this._droppedEventsCount++,this;s!==void 0&&this.events.length>=s&&(this._droppedEventsCount===0&&or.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),uC(r)&&(uC(n)||(n=r),r=void 0);const i=Ab(r);return this.events.push({name:t,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this}addLink(t){return this.links.push(t),this}addLinks(t){return this.links.push(...t),this}setStatus(t){return this._isSpanEnded()?this:(this.status={...t},this.status.message!=null&&typeof t.message!="string"&&(or.warn(`Dropping invalid status.message of type '${typeof t.message}', expected 'string'`),delete this.status.message),this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t){if(this._isSpanEnded()){or.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this.endTime=this._getTime(t),this._duration=joe(this.startTime,this.endTime),this._duration[0]<0&&(or.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&or.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnding&&this._spanProcessor.onEnding(this),this._ended=!0,this._spanProcessor.onEnd(this)}_getTime(t){if(typeof t=="number"&&t<=Ef.now())return koe(t+this._performanceOffset);if(typeof t=="number")return Cf(t);if(t instanceof Date)return Cf(t.getTime());if(L$(t))return t;if(this._startTimeProvided)return Cf(Date.now());const r=Ef.now()-this._performanceStartTime;return F$(this.startTime,Cf(r))}isRecording(){return this._ended===!1}recordException(t,r){const n={};typeof t=="string"?n[S_]=t:t&&(t.code?n[k_]=t.code.toString():t.name&&(n[k_]=t.name),t.message&&(n[S_]=t.message),t.stack&&(n[yoe]=t.stack)),n[k_]||n[S_]?this.addEvent(Hoe,n,r):or.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){const t=new Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);or.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,t)}return this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substring(0,r)}_truncateToSize(t){const r=this._attributeValueLengthLimit;return r<=0?(or.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}}var Ch;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Ch||(Ch={}));class vv{shouldSample(){return{decision:Ch.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}class Qf{shouldSample(){return{decision:Ch.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}class Oy{constructor(t){fe(this,"_root");fe(this,"_remoteParentSampled");fe(this,"_remoteParentNotSampled");fe(this,"_localParentSampled");fe(this,"_localParentNotSampled");this._root=t.root,this._root||(Eh(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Qf),this._remoteParentSampled=t.remoteParentSampled??new Qf,this._remoteParentNotSampled=t.remoteParentNotSampled??new vv,this._localParentSampled=t.localParentSampled??new Qf,this._localParentNotSampled=t.localParentNotSampled??new vv}shouldSample(t,r,n,s,i,a){const o=$s.getSpanContext(t);return!o||!Xx(o)?this._root.shouldSample(t,r,n,s,i,a):o.isRemote?o.traceFlags&Vl.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,s,i,a):this._remoteParentNotSampled.shouldSample(t,r,n,s,i,a):o.traceFlags&Vl.SAMPLED?this._localParentSampled.shouldSample(t,r,n,s,i,a):this._localParentNotSampled.shouldSample(t,r,n,s,i,a)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}class pC{constructor(t=0){fe(this,"_ratio");fe(this,"_upperBound");this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:I$(r)&&this._accumulate(r)<this._upperBound?Ch.RECORD_AND_SAMPLED:Ch.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){const s=n*8,i=parseInt(t.slice(s,s+8),16);r=(r^i)>>>0}return r}}var Do;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(Do||(Do={}));const mC=1;function H$(){return{sampler:K$(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:1/0,attributeCountLimit:128},spanLimits:{attributeValueLengthLimit:1/0,attributeCountLimit:128,linkCountLimit:128,eventCountLimit:128,attributePerEventCountLimit:128,attributePerLinkCountLimit:128}}}function K$(){const e=Do.ParentBasedAlwaysOn;switch(e){case Do.AlwaysOn:return new Qf;case Do.AlwaysOff:return new vv;case Do.ParentBasedAlwaysOn:return new Oy({root:new Qf});case Do.ParentBasedAlwaysOff:return new Oy({root:new vv});case Do.TraceIdRatio:return new pC(gC());case Do.ParentBasedTraceIdRatio:return new Oy({root:new pC(gC())});default:return or.error(`OTEL_TRACES_SAMPLER value "${e}" invalid, defaulting to "${Do.ParentBasedAlwaysOn}".`),new Oy({root:new Qf})}}function gC(){return or.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${mC}.`),mC}const Goe=128,Zoe=1/0;function Xoe(e){const t={sampler:K$()},r=H$(),n=Object.assign({},r,t,e);return n.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),n}function Yoe(e){const t=Object.assign({},e.spanLimits);return t.attributeCountLimit=e.spanLimits?.attributeCountLimit??e.generalLimits?.attributeCountLimit??void 0??void 0??Goe,t.attributeValueLengthLimit=e.spanLimits?.attributeValueLengthLimit??e.generalLimits?.attributeValueLengthLimit??void 0??void 0??Zoe,Object.assign({},e,{spanLimits:t})}class Qoe{constructor(t,r){fe(this,"_maxExportBatchSize");fe(this,"_maxQueueSize");fe(this,"_scheduledDelayMillis");fe(this,"_exportTimeoutMillis");fe(this,"_exporter");fe(this,"_isExporting",!1);fe(this,"_finishedSpans",[]);fe(this,"_timer");fe(this,"_shutdownOnce");fe(this,"_droppedSpansCount",0);this._exporter=t,this._maxExportBatchSize=typeof r?.maxExportBatchSize=="number"?r.maxExportBatchSize:512,this._maxQueueSize=typeof r?.maxQueueSize=="number"?r.maxQueueSize:2048,this._scheduledDelayMillis=typeof r?.scheduledDelayMillis=="number"?r.scheduledDelayMillis:5e3,this._exportTimeoutMillis=typeof r?.exportTimeoutMillis=="number"?r.exportTimeoutMillis:3e4,this._shutdownOnce=new zoe(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(or.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Vl.SAMPLED)!==0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&or.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(or.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()}_flushAll(){return new Promise((t,r)=>{const n=[],s=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let i=0,a=s;i<a;i++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{const n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);Hn.with(loe(Hn.active()),()=>{let s;this._finishedSpans.length<=this._maxExportBatchSize?(s=this._finishedSpans,this._finishedSpans=[]):s=this._finishedSpans.splice(0,this._maxExportBatchSize);const i=()=>this._exporter.export(s,o=>{clearTimeout(n),o.code===GS.SUCCESS?t():r(o.error??new Error("BatchSpanProcessor: span export failed"))});let a=null;for(let o=0,u=s.length;o<u;o++){const l=s[o];l.resource.asyncAttributesPending&&l.resource.waitForAsyncAttributes&&(a??(a=[]),a.push(l.resource.waitForAsyncAttributes()))}a===null?i():Promise.all(a).then(i,o=>{Eh(o),r(o)})})})}_maybeStartTimer(){if(this._isExporting)return;const t=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(r=>{this._isExporting=!1,Eh(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();this._timer===void 0&&(this._timer=setTimeout(()=>t(),this._scheduledDelayMillis),typeof this._timer!="number"&&this._timer.unref())}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}}class Joe extends Qoe{constructor(r,n){super(r,n);fe(this,"_visibilityChangeListener");fe(this,"_pageHideListener");this.onInit(n)}onInit(r){r?.disableAutoFlushOnDocumentHide!==!0&&typeof document<"u"&&(this._visibilityChangeListener=()=>{document.visibilityState==="hidden"&&this.forceFlush().catch(n=>{Eh(n)})},this._pageHideListener=()=>{this.forceFlush().catch(n=>{Eh(n)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}onShutdown(){typeof document<"u"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}}const ele=16,tle=8,yC=new Uint8Array(ele),bC=new Uint8Array(tle),rle=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function vC(e){for(let t=0;t<e.length;t++)e[t]=Math.random()*256>>>0;for(let t=0;t<e.length;t++)if(e[t]>0)return;e[e.length-1]=1}function xC(e){let t="";for(let r=0;r<e.length;r++)t+=rle[e[r]];return t}class nle{generateTraceId(){return vC(yC),xC(yC)}generateSpanId(){return vC(bC),xC(bC)}}class sle{constructor(t,r,n,s){fe(this,"_sampler");fe(this,"_generalLimits");fe(this,"_spanLimits");fe(this,"_idGenerator");fe(this,"instrumentationScope");fe(this,"_resource");fe(this,"_spanProcessor");const i=Xoe(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new nle,this._resource=n,this._spanProcessor=s,this.instrumentationScope=t}startSpan(t,r={},n=Hn.active()){r.root&&(n=$s.deleteSpan(n));const s=$s.getSpan(n);if(coe(n))return or.debug("Instrumentation suppressed, returning Noop Span"),$s.wrapSpanContext(A$);const i=s?.spanContext(),a=this._idGenerator.generateSpanId();let o,u,l;!i||!$s.isSpanContextValid(i)?u=this._idGenerator.generateTraceId():(u=i.traceId,l=i.traceState,o=i);const d=r.kind??og.INTERNAL,h=(r.links??[]).map(b=>({context:b.context,attributes:Ab(b.attributes)})),f=Ab(r.attributes),p=this._sampler.shouldSample(n,u,t,d,f,h);l=p.traceState??l;const g=p.decision===gv.RECORD_AND_SAMPLED?Vl.SAMPLED:Vl.NONE,y={traceId:u,spanId:a,traceFlags:g,traceState:l};if(p.decision===gv.NOT_RECORD)return or.debug("Recording is off, propagating context in a non-recording span"),$s.wrapSpanContext(y);const m=Ab(Object.assign(f,p.attributes));return new Koe({resource:this._resource,scope:this.instrumentationScope,context:n,spanContext:y,name:t,kind:d,links:h,parentSpanContext:o,attributes:m,startTime:r.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(t,r,n,s){let i,a,o;if(arguments.length<2)return;arguments.length===2?o=r:arguments.length===3?(i=r,o=n):(i=r,a=n,o=s);const u=a??Hn.active(),l=this.startSpan(t,i,u),d=$s.setSpan(u,l);return Hn.with(d,o,void 0,l)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}}class ile{constructor(t){fe(this,"_spanProcessors");this._spanProcessors=t}forceFlush(){const t=[];for(const r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{Eh(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(const n of this._spanProcessors)n.onStart(t,r)}onEnding(t){for(const r of this._spanProcessors)r.onEnding&&r.onEnding(t)}onEnd(t){for(const r of this._spanProcessors)r.onEnd(t)}shutdown(){const t=[];for(const r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}}var Ku;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(Ku||(Ku={}));class ale{constructor(t={}){fe(this,"_config");fe(this,"_tracers",new Map);fe(this,"_resource");fe(this,"_activeSpanProcessor");const r=$oe({},H$(),Yoe(t));this._resource=r.resource??Voe(),this._config=Object.assign({},r,{resource:this._resource});const n=[];t.spanProcessors?.length&&n.push(...t.spanProcessors),this._activeSpanProcessor=new ile(n)}getTracer(t,r,n){const s=`${t}@${r||""}:${n?.schemaUrl||""}`;return this._tracers.has(s)||this._tracers.set(s,new sle({name:t,version:r,schemaUrl:n?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(s)}forceFlush(){const t=this._config.forceFlushTimeoutMillis,r=this._activeSpanProcessor._spanProcessors.map(n=>new Promise(s=>{let i;const a=setTimeout(()=>{s(new Error(`Span processor did not completed within timeout period of ${t} ms`)),i=Ku.timeout},t);n.forceFlush().then(()=>{clearTimeout(a),i!==Ku.timeout&&(i=Ku.resolved,s(i))}).catch(o=>{clearTimeout(a),i=Ku.error,s(o)})}));return new Promise((n,s)=>{Promise.all(r).then(i=>{const a=i.filter(o=>o!==Ku.resolved);a.length>0?s(a):n()}).catch(i=>s([i]))})}shutdown(){return this._activeSpanProcessor.shutdown()}}class ole{constructor(){fe(this,"_enabled",!1);fe(this,"_currentContext",Nf)}_bindFunction(t=Nf,r){const n=this,s=function(...i){return n.with(t,()=>r.apply(this,i))};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!0,writable:!1,value:r.length}),s}active(){return this._currentContext}bind(t,r){return t===void 0&&(t=this.active()),typeof r=="function"?this._bindFunction(t,r):r}disable(){return this._currentContext=Nf,this._enabled=!1,this}enable(){return this._enabled?this:(this._enabled=!0,this._currentContext=Nf,this)}with(t,r,n,...s){const i=this._currentContext;this._currentContext=t||Nf;try{return r.call(n,...s)}finally{this._currentContext=i}}}const lle=Gx("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function G$(e){return e.getValue(lle)===!0}const cle="=",Z$=";",ZS=",",T_="baggage",ule=180,dle=4096,fle=8192;function hle(e){return e.reduce((t,r)=>{const n=`${t}${t!==""?ZS:""}${r}`;return n.length>fle?t:n},"")}function ple(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=Z$+r.metadata.toString()),n})}function mle(e){if(!e)return;const t=e.indexOf(Z$),r=t===-1?e:e.substring(0,t),n=r.indexOf(cle);if(n<=0)return;const s=r.substring(0,n).trim(),i=r.substring(n+1).trim();if(!s||!i)return;let a,o;try{a=decodeURIComponent(s),o=decodeURIComponent(i)}catch{return}let u;if(t!==-1&&t<e.length-1){const l=e.substring(t+1);u=iN(l)}return{key:a,value:o,metadata:u}}class gle{inject(t,r,n){const s=Ra.getBaggage(t);if(!s||G$(t))return;const i=ple(s).filter(o=>o.length<=dle).slice(0,ule),a=hle(i);a.length>0&&n.set(r,T_,a)}extract(t,r,n){const s=n.get(r,T_),i=Array.isArray(s)?s.join(ZS):s;if(!i)return t;const a={};return i.length===0||(i.split(ZS).forEach(u=>{const l=mle(u);if(l){const d={value:l.value};l.metadata&&(d.metadata=l.metadata),a[l.key]=d}}),Object.entries(a).length===0)?t:Ra.setBaggage(t,Ra.createBaggage(a))}fields(){return[T_]}}const XS=performance,yle=9,ble=6,vle=Math.pow(10,ble),YS=Math.pow(10,yle);function xv(e){const t=e/1e3,r=Math.trunc(t),n=Math.round(e%1e3*vle);return[r,n]}function xle(e){const t=xv(XS.timeOrigin),r=xv(typeof e=="number"?e:XS.now());return _le(t,r)}function Mm(e){if(wle(e))return e;if(typeof e=="number")return e<XS.timeOrigin?xle(e):xv(e);if(e instanceof Date)return xv(e.getTime());throw TypeError("Invalid input type")}function Mc(e){return e[0]*YS+e[1]}function wle(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}function _le(e,t){const r=[e[0]+t[0],e[1]+t[1]];return r[1]>=YS&&(r[1]-=YS,r[0]+=1),r}class Sle{constructor(t={}){fe(this,"_propagators");fe(this,"_fields");this._propagators=t.propagators??[],this._fields=Array.from(new Set(this._propagators.map(r=>typeof r.fields=="function"?r.fields():[]).reduce((r,n)=>r.concat(n),[])))}inject(t,r,n){for(const s of this._propagators)try{s.inject(t,r,n)}catch(i){or.warn(`Failed to inject with ${s.constructor.name}. Err: ${i.message}`)}}extract(t,r,n){return this._propagators.reduce((s,i)=>{try{return i.extract(s,r,n)}catch(a){or.warn(`Failed to extract with ${i.constructor.name}. Err: ${a.message}`)}return s},t)}fields(){return this._fields.slice()}}const QS="[_0-9a-z-*/]",kle=`[a-z]${QS}{0,255}`,jle=`[a-z0-9]${QS}{0,240}@[a-z]${QS}{0,13}`,Nle=new RegExp(`^(?:${kle}|${jle})$`),Tle=/^[ -~]{0,255}[!-~]$/,Ele=/,|=/;function Cle(e){return Nle.test(e)}function Ale(e){return Tle.test(e)&&!Ele.test(e)}const wC=32,Ple=512,_C=",",SC="=";class hN{constructor(t){fe(this,"_internalState",new Map);t&&this._parse(t)}set(t,r){const n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){const r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+SC+this.get(r)),t),[]).join(_C)}_parse(t){t.length>Ple||(this._internalState=t.split(_C).reverse().reduce((r,n)=>{const s=n.trim(),i=s.indexOf(SC);if(i!==-1){const a=s.slice(0,i),o=s.slice(i+1,n.length);Cle(a)&&Ale(o)&&r.set(a,o)}return r},new Map),this._internalState.size>wC&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,wC))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const t=new hN;return t._internalState=new Map(this._internalState),t}}const E_="traceparent",C_="tracestate",Ile="00",Rle="(?!ff)[\\da-f]{2}",Ole="(?![0]{32})[\\da-f]{32}",Mle="(?![0]{16})[\\da-f]{16}",Dle="[\\da-f]{2}",$le=new RegExp(`^\\s?(${Rle})-(${Ole})-(${Mle})-(${Dle})(-.*)?\\s?$`);function Lle(e){const t=$le.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}class Fle{inject(t,r,n){const s=$s.getSpanContext(t);if(!s||G$(t)||!Xx(s))return;const i=`${Ile}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||Vl.NONE).toString(16)}`;n.set(r,E_,i),s.traceState&&n.set(r,C_,s.traceState.serialize())}extract(t,r,n){const s=n.get(r,E_);if(!s)return t;const i=Array.isArray(s)?s[0]:s;if(typeof i!="string")return t;const a=Lle(i);if(!a)return t;a.isRemote=!0;const o=n.get(r,C_);if(o){const u=Array.isArray(o)?o.join(","):o;a.traceState=new hN(typeof u=="string"?u:void 0)}return $s.setSpanContext(t,a)}fields(){return[E_,C_]}}function zle(e,t){return typeof t=="string"?e===t:!!e.match(t)}function Ble(e){if(e!==null){if(e===void 0){const t=new ole;t.enable(),Hn.setGlobalContextManager(t);return}e.enable(),Hn.setGlobalContextManager(e)}}function Ule(e){if(e!==null){if(e===void 0){Ra.setGlobalPropagator(new Sle({propagators:[new Fle,new gle]}));return}Ra.setGlobalPropagator(e)}}class Vle extends ale{constructor(t={}){super(t)}register(t={}){$s.setGlobalTracerProvider(this),Ule(t.propagator),Ble(t.contextManager)}}var Jr;(function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.START_TIME="startTime",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"})(Jr||(Jr={}));const Wle="http.response_content_length",qle="http.response_content_length_uncompressed";let A_;function Hle(){return A_||(A_=document.createElement("a")),A_}function Kle(e,t){return t in e}function hl(e,t,r,n=!0){if(Kle(r,t)&&typeof r[t]=="number"&&!(n&&r[t]===0))return e.addEvent(t,r[t])}function wv(e,t,r=!1,n,s){if(n===void 0&&(n=t[Jr.START_TIME]!==0),r||(hl(e,Jr.FETCH_START,t,n),hl(e,Jr.DOMAIN_LOOKUP_START,t,n),hl(e,Jr.DOMAIN_LOOKUP_END,t,n),hl(e,Jr.CONNECT_START,t,n),hl(e,Jr.SECURE_CONNECTION_START,t,n),hl(e,Jr.CONNECT_END,t,n),hl(e,Jr.REQUEST_START,t,n),hl(e,Jr.RESPONSE_START,t,n),hl(e,Jr.RESPONSE_END,t,n)),!s){const i=t[Jr.ENCODED_BODY_SIZE];i!==void 0&&e.setAttribute(Wle,i);const a=t[Jr.DECODED_BODY_SIZE];a!==void 0&&i!==a&&e.setAttribute(qle,a)}}function Gle(e){return e.slice().sort((t,r)=>{const n=t[Jr.FETCH_START],s=r[Jr.FETCH_START];return n>s?1:n<s?-1:0})}function X$(){return typeof location<"u"?location.origin:void 0}function Y$(e,t,r,n,s=new WeakSet,i){const a=Al(e);e=a.toString();const o=Xle(e,t,r,n,s,i);if(o.length===0)return{mainRequest:void 0};if(o.length===1)return{mainRequest:o[0]};const u=Gle(o);if(a.origin!==X$()&&u.length>1){let l=u[0],d=Zle(u,l[Jr.RESPONSE_END],r);const h=l[Jr.RESPONSE_END];return d[Jr.FETCH_START]<h&&(d=l,l=void 0),{corsPreFlightRequest:l,mainRequest:d}}else return{mainRequest:o[0]}}function Zle(e,t,r){const n=Mc(r),s=Mc(Mm(t));let i=e[1],a;const o=e.length;for(let u=1;u<o;u++){const l=e[u],d=Mc(Mm(l[Jr.FETCH_START])),h=Mc(Mm(l[Jr.RESPONSE_END])),f=n-h;d>=s&&(!a||f<a)&&(a=f,i=l)}return i}function Xle(e,t,r,n,s,i){const a=Mc(t),o=Mc(r);let u=n.filter(l=>{const d=Mc(Mm(l[Jr.FETCH_START])),h=Mc(Mm(l[Jr.RESPONSE_END]));return l.initiatorType.toLowerCase()===(i||"xmlhttprequest")&&l.name===e&&d>=a&&h<=o});return u.length>0&&(u=u.filter(l=>!s.has(l))),u}function Al(e){if(typeof URL=="function")return new URL(e,typeof document<"u"?document.baseURI:typeof location<"u"?location.href:void 0);const t=Hle();return t.href=e,t}function Q$(e,t){let r=t||[];return(typeof r=="string"||r instanceof RegExp)&&(r=[r]),Al(e).origin===X$()?!0:r.some(s=>zle(e,s))}var Yle="=",kC=";",Qle=",";function Jle(e){var t=e.split(kC);if(!(t.length<=0)){var r=t.shift();if(r){var n=r.indexOf(Yle);if(!(n<=0)){var s=decodeURIComponent(r.substring(0,n).trim()),i=decodeURIComponent(r.substring(n+1).trim()),a;return t.length>0&&(a=iN(t.join(kC))),{key:s,value:i,metadata:a}}}}}function ece(e){return typeof e!="string"||e.length===0?{}:e.split(Qle).map(function(t){return Jle(t)}).filter(function(t){return t!==void 0&&t.value.length>0}).reduce(function(t,r){return t[r.key]=r.value,t},{})}var JS;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(JS||(JS={}));var tce=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},rce=",",nce=["OTEL_SDK_DISABLED"];function sce(e){return nce.indexOf(e)>-1}var ice=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function ace(e){return ice.indexOf(e)>-1}var oce=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function lce(e){return oce.indexOf(e)>-1}var P_=1/0,I_=128,cce=128,uce=128,J$={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Wr.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:P_,OTEL_ATTRIBUTE_COUNT_LIMIT:I_,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:P_,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:I_,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:P_,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:I_,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:cce,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:uce,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:JS.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function dce(e,t,r){if(!(typeof r[e]>"u")){var n=String(r[e]);t[e]=n.toLowerCase()==="true"}}function fce(e,t,r,n,s){if(n===void 0&&(n=-1/0),s===void 0&&(s=1/0),typeof r[e]<"u"){var i=Number(r[e]);isNaN(i)||(i<n?t[e]=n:i>s?t[e]=s:t[e]=i)}}function hce(e,t,r,n){n===void 0&&(n=rce);var s=r[e];typeof s=="string"&&(t[e]=s.split(n).map(function(i){return i.trim()}))}var pce={ALL:Wr.ALL,VERBOSE:Wr.VERBOSE,DEBUG:Wr.DEBUG,INFO:Wr.INFO,WARN:Wr.WARN,ERROR:Wr.ERROR,NONE:Wr.NONE};function mce(e,t,r){var n=r[e];if(typeof n=="string"){var s=pce[n.toUpperCase()];s!=null&&(t[e]=s)}}function gce(e){var t={};for(var r in J$){var n=r;switch(n){case"OTEL_LOG_LEVEL":mce(n,t,e);break;default:if(sce(n))dce(n,t,e);else if(ace(n))fce(n,t,e);else if(lce(n))hce(n,t,e);else{var s=e[n];typeof s<"u"&&s!==null&&(t[n]=String(s))}}}return t}function Hp(){var e=gce(tce);return Object.assign({},J$,e)}function eL(e){for(var t={},r=e.length,n=0;n<r;n++){var s=e[n];s&&(t[String(s).toUpperCase().replace(/[-.]/g,"_")]=s)}return t}var yce="cloud.provider",bce="cloud.account.id",vce="cloud.region",xce="cloud.availability_zone",wce="cloud.platform",_ce="aws.ecs.container.arn",Sce="aws.ecs.cluster.arn",kce="aws.ecs.launchtype",jce="aws.ecs.task.arn",Nce="aws.ecs.task.family",Tce="aws.ecs.task.revision",Ece="aws.eks.cluster.arn",Cce="aws.log.group.names",Ace="aws.log.group.arns",Pce="aws.log.stream.names",Ice="aws.log.stream.arns",Rce="container.name",Oce="container.id",Mce="container.runtime",Dce="container.image.name",$ce="container.image.tag",Lce="deployment.environment",Fce="device.id",zce="device.model.identifier",Bce="device.model.name",Uce="faas.name",Vce="faas.id",Wce="faas.version",qce="faas.instance",Hce="faas.max_memory",Kce="host.id",Gce="host.name",Zce="host.type",Xce="host.arch",Yce="host.image.name",Qce="host.image.id",Jce="host.image.version",eue="k8s.cluster.name",tue="k8s.node.name",rue="k8s.node.uid",nue="k8s.namespace.name",sue="k8s.pod.uid",iue="k8s.pod.name",aue="k8s.container.name",oue="k8s.replicaset.uid",lue="k8s.replicaset.name",cue="k8s.deployment.uid",uue="k8s.deployment.name",due="k8s.statefulset.uid",fue="k8s.statefulset.name",hue="k8s.daemonset.uid",pue="k8s.daemonset.name",mue="k8s.job.uid",gue="k8s.job.name",yue="k8s.cronjob.uid",bue="k8s.cronjob.name",vue="os.type",xue="os.description",wue="os.name",_ue="os.version",Sue="process.pid",kue="process.executable.name",jue="process.executable.path",Nue="process.command",Tue="process.command_line",Eue="process.command_args",Cue="process.owner",Aue="process.runtime.name",Pue="process.runtime.version",Iue="process.runtime.description",tL="service.name",Rue="service.namespace",Oue="service.instance.id",Mue="service.version",rL="telemetry.sdk.name",nL="telemetry.sdk.language",sL="telemetry.sdk.version",Due="telemetry.auto.version",$ue="webengine.name",Lue="webengine.version",Fue="webengine.description",zue=tL,jC=rL,NC=nL,TC=sL,bm=eL([yce,bce,vce,xce,wce,_ce,Sce,kce,jce,Nce,Tce,Ece,Cce,Ace,Pce,Ice,Rce,Oce,Mce,Dce,$ce,Lce,Fce,zce,Bce,Uce,Vce,Wce,qce,Hce,Kce,Gce,Zce,Xce,Yce,Qce,Jce,eue,tue,rue,nue,sue,iue,aue,oue,lue,cue,uue,due,fue,hue,pue,mue,gue,yue,bue,vue,xue,wue,_ue,Sue,kue,jue,Nue,Tue,Eue,Cue,Aue,Pue,Iue,tL,Rue,Oue,Mue,rL,nL,sL,Due,$ue,Lue,Fue]),Bue="cpp",Uue="dotnet",Vue="erlang",Wue="go",que="java",Hue="nodejs",Kue="php",Gue="python",Zue="ruby",Xue="webjs",Yue=eL([Bue,Uue,Vue,Wue,que,Hue,Kue,Gue,Zue,Xue]),Que="=",EC=";",Jue=",";function ede(e){var t=e.split(EC);if(!(t.length<=0)){var r=t.shift();if(r){var n=r.indexOf(Que);if(!(n<=0)){var s=decodeURIComponent(r.substring(0,n).trim()),i=decodeURIComponent(r.substring(n+1).trim()),a;return t.length>0&&(a=iN(t.join(EC))),{key:s,value:i,metadata:a}}}}}function tde(e){return typeof e!="string"||e.length===0?{}:e.split(Jue).map(function(t){return ede(t)}).filter(function(t){return t!==void 0&&t.value.length>0}).reduce(function(t,r){return t[r.key]=r.value,t},{})}var ek;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(ek||(ek={}));var rde=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},nde=",",sde=["OTEL_SDK_DISABLED"];function ide(e){return sde.indexOf(e)>-1}var ade=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function ode(e){return ade.indexOf(e)>-1}var lde=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function cde(e){return lde.indexOf(e)>-1}var R_=1/0,O_=128,ude=128,dde=128,iL={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Wr.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:R_,OTEL_ATTRIBUTE_COUNT_LIMIT:O_,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:R_,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:O_,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:R_,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:O_,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:ude,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:dde,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:ek.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function fde(e,t,r){if(!(typeof r[e]>"u")){var n=String(r[e]);t[e]=n.toLowerCase()==="true"}}function hde(e,t,r,n,s){if(n===void 0&&(n=-1/0),s===void 0&&(s=1/0),typeof r[e]<"u"){var i=Number(r[e]);isNaN(i)||(i<n?t[e]=n:i>s?t[e]=s:t[e]=i)}}function pde(e,t,r,n){n===void 0&&(n=nde);var s=r[e];typeof s=="string"&&(t[e]=s.split(n).map(function(i){return i.trim()}))}var mde={ALL:Wr.ALL,VERBOSE:Wr.VERBOSE,DEBUG:Wr.DEBUG,INFO:Wr.INFO,WARN:Wr.WARN,ERROR:Wr.ERROR,NONE:Wr.NONE};function gde(e,t,r){var n=r[e];if(typeof n=="string"){var s=mde[n.toUpperCase()];s!=null&&(t[e]=s)}}function yde(e){var t={};for(var r in iL){var n=r;switch(n){case"OTEL_LOG_LEVEL":gde(n,t,e);break;default:if(ide(n))fde(n,t,e);else if(ode(n))hde(n,t,e);else if(cde(n))pde(n,t,e);else{var s=e[n];typeof s<"u"&&s!==null&&(t[n]=String(s))}}}return t}function tk(){var e=yde(rde);return Object.assign({},iL,e)}var Af;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(Af||(Af={}));var bde=(function(){function e(){var t=this;this._promise=new Promise(function(r,n){t._resolve=r,t._reject=n})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(t){this._resolve(t)},e.prototype.reject=function(t){this._reject(t)},e})(),vde=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},xde=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},wde=(function(){function e(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new bde}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var t,r=this,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,xde([this._that],vde(n),!1))).then(function(i){return r._deferred.resolve(i)},function(i){return r._deferred.reject(i)})}catch(i){this._deferred.reject(i)}}return this._deferred.promise},e})(),_de=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},aL=1e4,Sde=5,kde=1e3,jde=5e3,Nde=1.5;function Tde(e){e===void 0&&(e={});var t={};return Object.entries(e).forEach(function(r){var n=_de(r,2),s=n[0],i=n[1];typeof i<"u"?t[s]=String(i):or.warn('Header "'+s+'" has invalid value ('+i+") and will be ignored")}),t}function Ede(e,t){return e.endsWith("/")||(e=e+"/"),e+t}function Cde(e){try{var t=new URL(e);return t.pathname===""&&(t.pathname=t.pathname+"/"),t.toString()}catch{return or.warn("Could not parse export URL: '"+e+"'"),e}}function Ade(e){return typeof e=="number"?e<=0?oL(e,aL):e:Pde()}function Pde(){var e,t=Number((e=tk().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:tk().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?oL(t,aL):t}function oL(e,t){return or.warn("Timeout must be greater than 0",e),t}function Ide(e){var t=[429,502,503,504];return t.includes(e)}function Rde(e){if(e==null)return-1;var t=Number.parseInt(e,10);if(Number.isInteger(t))return t>0?t*1e3:-1;var r=new Date(e).getTime()-Date.now();return r>=0?r:0}var Ode=(function(){function e(t){t===void 0&&(t={}),this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new wde(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:30,this.timeoutMillis=Ade(t.timeoutMillis),this.onInit(t)}return e.prototype.export=function(t,r){if(this._shutdownOnce.isCalled){r({code:Af.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:Af.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(function(){r({code:Af.SUCCESS})}).catch(function(n){r({code:Af.FAILED,error:n})})},e.prototype._export=function(t){var r=this;return new Promise(function(n,s){try{or.debug("items to be sent",t),r.send(t,n,s)}catch(i){s(i)}})},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then(function(){})},e.prototype._shutdown=function(){return or.debug("shutdown started"),this.onShutdown(),this.forceFlush()},e})(),Mde=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),vm=(function(e){Mde(t,e);function t(r,n,s){var i=e.call(this,r)||this;return i.name="OTLPExporterError",i.data=s,i.code=n,i}return t})(Error),_v=function(){return _v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},_v.apply(this,arguments)},Dde=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i};function $de(e,t,r,n,s){if(navigator.sendBeacon(t,new Blob([e],r)))or.debug("sendBeacon - can send",e),n();else{var i=new vm("sendBeacon - cannot send "+e);s(i)}}function Lde(e,t,r,n,s,i){var a,o,u=!1,l=setTimeout(function(){if(clearTimeout(a),u=!0,o.readyState===XMLHttpRequest.DONE){var h=new vm("Request Timeout");i(h)}else o.abort()},n),d=function(h,f){h===void 0&&(h=Sde),f===void 0&&(f=kde),o=new XMLHttpRequest,o.open("POST",t);var p={Accept:"application/json","Content-Type":"application/json"};Object.entries(_v(_v({},p),r)).forEach(function(g){var y=Dde(g,2),m=y[0],v=y[1];o.setRequestHeader(m,v)}),o.send(e),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE&&u===!1)if(o.status>=200&&o.status<=299)or.debug("xhr success",e),s(),clearTimeout(l),clearTimeout(a);else if(o.status&&Ide(o.status)&&h>0){var g=void 0;f=Nde*f,o.getResponseHeader("Retry-After")?g=Rde(o.getResponseHeader("Retry-After")):g=Math.round(Math.random()*(jde-f)+f),a=setTimeout(function(){d(h-1,f)},g)}else{var y=new vm("Failed to export with XHR (status: "+o.status+")",o.status);i(y),clearTimeout(l),clearTimeout(a)}},o.onabort=function(){if(u){var g=new vm("Request Timeout");i(g)}clearTimeout(l),clearTimeout(a)},o.onerror=function(){if(u){var g=new vm("Request Timeout");i(g)}clearTimeout(l),clearTimeout(a)}};d()}var Fde=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),zde=(function(e){Fde(t,e);function t(r){r===void 0&&(r={});var n=e.call(this,r)||this;return n._useXHR=!1,n._useXHR=!!r.headers||typeof navigator.sendBeacon!="function",n._useXHR?n._headers=Object.assign({},Tde(r.headers),tde(tk().OTEL_EXPORTER_OTLP_HEADERS)):n._headers={},n}return t.prototype.onInit=function(){},t.prototype.onShutdown=function(){},t.prototype.send=function(r,n,s){var i=this;if(this._shutdownOnce.isCalled){or.debug("Shutdown already started. Cannot send objects");return}var a=this.convert(r),o=JSON.stringify(a),u=new Promise(function(d,h){i._useXHR?Lde(o,i.url,i._headers,i.timeoutMillis,d,h):$de(o,i.url,{type:"application/json"},d,h)}).then(n,s);this._sendingPromises.push(u);var l=function(){var d=i._sendingPromises.indexOf(u);i._sendingPromises.splice(d,1)};u.then(l,l)},t})(Ode);function CC(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function pN(e){for(var t=new Uint8Array(e.length/2),r=0,n=0;n<e.length;n+=2){var s=CC(e.charCodeAt(n)),i=CC(e.charCodeAt(n+1));t[r++]=s<<4|i}return t}var Bde=9,Ude=Math.pow(10,Bde);function Vde(e){return e[0]*Ude+e[1]}function lL(e){var t=BigInt(1e9);return BigInt(e[0])*t+BigInt(e[1])}function Wde(e){var t=Number(BigInt.asUintN(32,e)),r=Number(BigInt.asUintN(32,e>>BigInt(32)));return{low:t,high:r}}function cL(e){var t=lL(e);return Wde(t)}function qde(e){var t=lL(e);return t.toString()}var Hde=typeof BigInt<"u"?qde:Vde;function AC(e){return e}function uL(e){if(e!==void 0)return pN(e)}var Kde={encodeHrTime:cL,encodeSpanContext:pN,encodeOptionalSpanContext:uL};function Gde(e){var t,r;if(e===void 0)return Kde;var n=(t=e.useLongBits)!==null&&t!==void 0?t:!0,s=(r=e.useHex)!==null&&r!==void 0?r:!1;return{encodeHrTime:n?cL:Hde,encodeSpanContext:s?AC:pN,encodeOptionalSpanContext:s?AC:uL}}var Zde=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i};function Xde(e){return{name:e.name,version:e.version}}function Yx(e){return Object.keys(e).map(function(t){return dL(t,e[t])})}function dL(e,t){return{key:e,value:fL(t)}}function fL(e){var t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(fL)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(function(r){var n=Zde(r,2),s=n[0],i=n[1];return dL(s,i)})}}:{}}function Yde(e,t){var r,n=e.spanContext(),s=e.status;return{traceId:t.encodeSpanContext(n.traceId),spanId:t.encodeSpanContext(n.spanId),parentSpanId:t.encodeOptionalSpanContext(e.parentSpanId),traceState:(r=n.traceState)===null||r===void 0?void 0:r.serialize(),name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:Yx(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(function(i){return Jde(i,t)}),droppedEventsCount:e.droppedEventsCount,status:{code:s.code,message:s.message},links:e.links.map(function(i){return Qde(i,t)}),droppedLinksCount:e.droppedLinksCount}}function Qde(e,t){var r;return{attributes:e.attributes?Yx(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:(r=e.context.traceState)===null||r===void 0?void 0:r.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}function Jde(e,t){return{attributes:e.attributes?Yx(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}function efe(e){return{attributes:Yx(e.attributes),droppedAttributesCount:0}}var tfe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},rfe=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i};function nfe(e,t){var r=Gde(t);return{resourceSpans:ife(e,r)}}function sfe(e){var t,r,n=new Map;try{for(var s=tfe(e),i=s.next();!i.done;i=s.next()){var a=i.value,o=n.get(a.resource);o||(o=new Map,n.set(a.resource,o));var u=a.instrumentationLibrary.name+"@"+(a.instrumentationLibrary.version||"")+":"+(a.instrumentationLibrary.schemaUrl||""),l=o.get(u);l||(l=[],o.set(u,l)),l.push(a)}}catch(d){t={error:d}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return n}function ife(e,t){for(var r=sfe(e),n=[],s=r.entries(),i=s.next();!i.done;){for(var a=rfe(i.value,2),o=a[0],u=a[1],l=[],d=u.values(),h=d.next();!h.done;){var f=h.value;if(f.length>0){var p=f.map(function(y){return Yde(y,t)});l.push({scope:Xde(f[0].instrumentationLibrary),spans:p,schemaUrl:f[0].instrumentationLibrary.schemaUrl})}h=d.next()}var g={resource:efe(o),scopeSpans:l,schemaUrl:void 0};n.push(g),i=s.next()}return n}var afe="1.24.0",gf,M_=(gf={},gf[bm.TELEMETRY_SDK_NAME]="opentelemetry",gf[bm.PROCESS_RUNTIME_NAME]="browser",gf[bm.TELEMETRY_SDK_LANGUAGE]=Yue.WEBJS,gf[bm.TELEMETRY_SDK_VERSION]=afe,gf);function ofe(){return"unknown_service"}var xc=function(){return xc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},xc.apply(this,arguments)},lfe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{l(n.next(d))}catch(h){a(h)}}function u(d){try{l(n.throw(d))}catch(h){a(h)}}function l(d){d.done?i(d.value):s(d.value).then(o,u)}l((n=n.apply(e,t||[])).next())})},cfe=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(d){return u([l,d])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(d){l=[6,d],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},ufe=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},dfe=(function(){function e(t,r){var n=this,s;this._attributes=t,this.asyncAttributesPending=r!=null,this._syncAttributes=(s=this._attributes)!==null&&s!==void 0?s:{},this._asyncAttributesPromise=r?.then(function(i){return n._attributes=Object.assign({},n._attributes,i),n.asyncAttributesPending=!1,i},function(i){return or.debug("a resource's async attributes promise rejected: %s",i),n.asyncAttributesPending=!1,{}})}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e((t={},t[zue]=ofe(),t[NC]=M_[NC],t[jC]=M_[jC],t[TC]=M_[TC],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&or.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return lfe(this,void 0,void 0,function(){return cfe(this,function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.merge=function(t){var r=this,n;if(!t)return this;var s=xc(xc({},this._syncAttributes),(n=t._syncAttributes)!==null&&n!==void 0?n:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(s);var i=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(function(a){var o,u=ufe(a,2),l=u[0],d=u[1];return xc(xc(xc(xc({},r._syncAttributes),l),(o=t._syncAttributes)!==null&&o!==void 0?o:t.attributes),d)});return new e(s,i)},e.EMPTY=new e({}),e})(),ffe=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),hL="v1/traces",hfe="http://localhost:4318/"+hL,pfe=(function(e){ffe(t,e);function t(r){r===void 0&&(r={});var n=e.call(this,r)||this;return n._headers=Object.assign(n._headers,ece(Hp().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),n}return t.prototype.convert=function(r){return nfe(r,{useHex:!0,useLongBits:!1})},t.prototype.getDefaultUrl=function(r){return typeof r.url=="string"?r.url:Hp().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?Cde(Hp().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):Hp().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?Ede(Hp().OTEL_EXPORTER_OTLP_ENDPOINT,hL):hfe},t})(zde),mfe=(function(){function e(){}return e.prototype.emit=function(t){},e})(),gfe=(function(){function e(){}return e.prototype.getLogger=function(t,r,n){return new mfe},e})(),PC=new gfe,yfe=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},My=Symbol.for("io.opentelemetry.js.api.logs"),Kp=yfe;function bfe(e,t,r){return function(n){return n===e?t:r}}var IC=1,vfe=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(t){return Kp[My]?this.getLoggerProvider():(Kp[My]=bfe(IC,t,PC),t)},e.prototype.getLoggerProvider=function(){var t,r;return(r=(t=Kp[My])===null||t===void 0?void 0:t.call(Kp,IC))!==null&&r!==void 0?r:PC},e.prototype.getLogger=function(t,r,n){return this.getLoggerProvider().getLogger(t,r,n)},e.prototype.disable=function(){delete Kp[My]},e})(),xfe=vfe.getInstance();function pL(e){e===void 0&&(e=[]);for(var t=[],r=0,n=e.length;r<n;r++){var s=e[r];if(Array.isArray(s)){var i=pL(s);t=t.concat(i.instrumentations)}else typeof s=="function"?t.push(new s):s.instrumentationName&&t.push(s)}return{instrumentations:t}}function wfe(e,t,r,n){for(var s=0,i=e.length;s<i;s++){var a=e[s];t&&a.setTracerProvider(t),r&&a.setMeterProvider(r),n&&a.setLoggerProvider&&a.setLoggerProvider(n),a.getConfig().enabled||a.enable()}}function _fe(e){e.forEach(function(t){return t.disable()})}function Sfe(e){var t=pL(e.instrumentations).instrumentations,r=e.tracerProvider||$s.getTracerProvider(),n=e.meterProvider||dN.getMeterProvider(),s=e.loggerProvider||xfe.getLoggerProvider();return wfe(t,r,n,s),function(){_fe(t)}}let mL=class{emit(t){}};const kfe=new mL,Dy=Symbol.for("io.opentelemetry.js.api.logs"),Gp=globalThis;function jfe(e,t,r){return n=>n===e?t:r}const RC=1;let Nfe=class{getLogger(t,r,n){return new mL}};const gL=new Nfe;let Tfe=class{constructor(t,r,n,s){this._provider=t,this.name=r,this.version=n,this.options=s}emit(t){this._getLogger().emit(t)}_getLogger(){if(this._delegate)return this._delegate;const t=this._provider._getDelegateLogger(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):kfe}},OC=class{getLogger(t,r,n){var s;return(s=this._getDelegateLogger(t,r,n))!==null&&s!==void 0?s:new Tfe(this,t,r,n)}_getDelegate(){var t;return(t=this._delegate)!==null&&t!==void 0?t:gL}_setDelegate(t){this._delegate=t}_getDelegateLogger(t,r,n){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getLogger(t,r,n)}},Efe=class yL{constructor(){this._proxyLoggerProvider=new OC}static getInstance(){return this._instance||(this._instance=new yL),this._instance}setGlobalLoggerProvider(t){return Gp[Dy]?this.getLoggerProvider():(Gp[Dy]=jfe(RC,t,gL),this._proxyLoggerProvider._setDelegate(t),t)}getLoggerProvider(){var t,r;return(r=(t=Gp[Dy])===null||t===void 0?void 0:t.call(Gp,RC))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(t,r,n){return this.getLoggerProvider().getLogger(t,r,n)}disable(){delete Gp[Dy],this._proxyLoggerProvider=new OC}};const Cfe=Efe.getInstance();let Ji=console.error.bind(console);function Zp(e,t,r){const n=!!e[t]&&Object.prototype.propertyIsEnumerable.call(e,t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}const bL=(e,t,r)=>{if(!e||!e[t]){Ji("no original function "+String(t)+" to wrap");return}if(!r){Ji("no wrapper function"),Ji(new Error().stack);return}const n=e[t];if(typeof n!="function"||typeof r!="function"){Ji("original object and wrapper must be functions");return}const s=r(n,t);return Zp(s,"__original",n),Zp(s,"__unwrap",()=>{e[t]===s&&Zp(e,t,n)}),Zp(s,"__wrapped",!0),Zp(e,t,s),s},Afe=(e,t,r)=>{if(e)Array.isArray(e)||(e=[e]);else{Ji("must provide one or more modules to patch"),Ji(new Error().stack);return}if(!(t&&Array.isArray(t))){Ji("must provide one or more functions to wrap on modules");return}e.forEach(n=>{t.forEach(s=>{bL(n,s,r)})})},vL=(e,t)=>{if(!e||!e[t]){Ji("no function to unwrap."),Ji(new Error().stack);return}const r=e[t];if(!r.__unwrap)Ji("no original to unwrap to -- has "+String(t)+" already been unwrapped?");else{r.__unwrap();return}},Pfe=(e,t)=>{if(e)Array.isArray(e)||(e=[e]);else{Ji("must provide one or more modules to patch"),Ji(new Error().stack);return}if(!(t&&Array.isArray(t))){Ji("must provide one or more functions to unwrap on modules");return}e.forEach(r=>{t.forEach(n=>{vL(r,n)})})};let Ife=class{constructor(t,r,n){fe(this,"_config",{});fe(this,"_tracer");fe(this,"_meter");fe(this,"_logger");fe(this,"_diag");fe(this,"instrumentationName");fe(this,"instrumentationVersion");fe(this,"_wrap",bL);fe(this,"_unwrap",vL);fe(this,"_massWrap",Afe);fe(this,"_massUnwrap",Pfe);this.instrumentationName=t,this.instrumentationVersion=r,this.setConfig(n),this._diag=or.createComponentLogger({namespace:t}),this._tracer=$s.getTracer(t,r),this._meter=dN.getMeter(t,r),this._logger=Cfe.getLogger(t,r),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(t){this._logger=t.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){const t=this.init()??[];return Array.isArray(t)?t:[t]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(t){this._config={enabled:!0,...t}}setTracerProvider(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(t,r,n,s){if(t)try{t(n,s)}catch(i){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},i)}}},Rfe=class extends Ife{constructor(t,r,n){super(t,r,n),this._config.enabled&&this.enable()}};function MC(e,t,r){let n,s;try{s=e()}catch(i){n=i}finally{return t(n,s),s}}function Ofe(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var Pi;(function(e){e[e.STABLE=1]="STABLE",e[e.OLD=2]="OLD",e[e.DUPLICATE=3]="DUPLICATE"})(Pi||(Pi={}));function Mfe(e,t){let r=Pi.OLD;const n=t?.split(",").map(s=>s.trim()).filter(s=>s!=="");for(const s of n??[])if(s.toLowerCase()===e+"/dup"){r=Pi.DUPLICATE;break}else s.toLowerCase()===e&&(r=Pi.STABLE);return r}const Dfe="error.type",$fe="http.request.method",Lfe="http.request.method_original",Ffe="http.response.status_code",zfe="server.address",Bfe="server.port",Ufe="url.full",DC=performance,Vfe=9,Wfe=6,qfe=Math.pow(10,Wfe),$C=Math.pow(10,Vfe);function rk(e){const t=e/1e3,r=Math.trunc(t),n=Math.round(e%1e3*qfe);return[r,n]}function LC(e){const t=rk(DC.timeOrigin),r=rk(DC.now());return Hfe(t,r)}function Hfe(e,t){const r=[e[0]+t[0],e[1]+t[1]];return r[1]>=$C&&(r[1]-=$C,r[0]+=1),r}function Kfe(e,t){return typeof t=="string"?e===t:!!e.match(t)}function Gfe(e,t){if(!t)return!1;for(const r of t)if(Kfe(e,r))return!0;return!1}var Sv;(function(e){e.COMPONENT="component",e.HTTP_STATUS_TEXT="http.status_text"})(Sv||(Sv={}));const Zfe="http.host",Xfe="http.method",Yfe="http.request.body.size",Qfe="http.request_content_length_uncompressed",Jfe="http.scheme",ehe="http.status_code",the="http.url",rhe="http.user_agent",xL=or.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-fetch/utils"});function nhe(...e){if(e[0]instanceof URL||typeof e[0]=="string"){const t=e[1];if(!t?.body)return Promise.resolve();if(t.body instanceof ReadableStream){const{body:r,length:n}=she(t.body);return t.body=r,n}else return Promise.resolve(ahe(t.body))}else{const t=e[0];return t?.body?t.clone().text().then(r=>nk(r)):Promise.resolve()}}function she(e){if(!e.pipeThrough)return xL.warn("Platform has ReadableStream but not pipeThrough!"),{body:e,length:Promise.resolve(void 0)};let t=0,r;const n=new Promise(i=>{r=i}),s=new TransformStream({start(){},async transform(i,a){const o=await i;t+=o.byteLength,a.enqueue(i)},flush(){r(t)}});return{body:e.pipeThrough(s),length:n}}function ihe(e){return typeof Document<"u"&&e instanceof Document}function ahe(e){if(ihe(e))return new XMLSerializer().serializeToString(document).length;if(typeof e=="string")return nk(e);if(e instanceof Blob)return e.size;if(e instanceof FormData)return lhe(e);if(e instanceof URLSearchParams)return nk(e.toString());if(e.byteLength!==void 0)return e.byteLength;xL.warn("unknown body type")}const ohe=new TextEncoder;function nk(e){return ohe.encode(e).byteLength}function lhe(e){let t=0;for(const[r,n]of e.entries())t+=r.length,n instanceof Blob?t+=n.size:t+=n.length;return t}function che(e){const t=dhe(),r=e.toUpperCase();return r in t?r:"_OTHER"}const uhe={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0,QUERY:!0};let D_;function dhe(){return D_===void 0&&(D_=uhe),D_}const fhe={"https:":"443","http:":"80"};function hhe(e){const t=Number(e.port||fhe[e.protocol]);if(t&&!isNaN(t))return t}const FC="0.212.0",phe=300,zC=typeof PerformanceObserver<"u";class mhe extends Rfe{constructor(r={}){super("@opentelemetry/instrumentation-fetch",FC,r);fe(this,"component","fetch");fe(this,"version",FC);fe(this,"moduleName",this.component);fe(this,"_usedResources",new WeakSet);fe(this,"_tasksCount",0);fe(this,"_semconvStability");this._semconvStability=Mfe("http",r?.semconvStabilityOptIn)}init(){}_addChildSpan(r,n){const s=this.tracer.startSpan("CORS Preflight",{startTime:n[Jr.FETCH_START]},$s.setSpan(Hn.active(),r)),i=!(this._semconvStability&Pi.OLD);wv(s,n,this.getConfig().ignoreNetworkEvents,void 0,i),s.end(n[Jr.RESPONSE_END])}_addFinalSpanAttributes(r,n){const s=Al(n.url);if(this._semconvStability&Pi.OLD&&(r.setAttribute(ehe,n.status),n.statusText!=null&&r.setAttribute(Sv.HTTP_STATUS_TEXT,n.statusText),r.setAttribute(Zfe,s.host),r.setAttribute(Jfe,s.protocol.replace(":","")),typeof navigator<"u"&&r.setAttribute(rhe,navigator.userAgent)),this._semconvStability&Pi.STABLE){r.setAttribute(Ffe,n.status),r.setAttribute(zfe,s.hostname);const i=hhe(s);i&&r.setAttribute(Bfe,i)}}_addHeaders(r,n){if(!Q$(n,this.getConfig().propagateTraceHeaderCorsUrls)){const s={};Ra.inject(Hn.active(),s),Object.keys(s).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(r instanceof Request)Ra.inject(Hn.active(),r.headers,{set:(s,i,a)=>s.set(i,typeof a=="string"?a:String(a))});else if(r.headers instanceof Headers)Ra.inject(Hn.active(),r.headers,{set:(s,i,a)=>s.set(i,typeof a=="string"?a:String(a))});else if(r.headers instanceof Map)Ra.inject(Hn.active(),r.headers,{set:(s,i,a)=>s.set(i,typeof a=="string"?a:String(a))});else{const s={};Ra.inject(Hn.active(),s),r.headers=Object.assign({},s,r.headers||{})}}_clearResources(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)}_createSpan(r,n={}){if(Gfe(r,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}let s="";const i={};if(this._semconvStability&Pi.OLD){const a=(n.method||"GET").toUpperCase();s=`HTTP ${a}`,i[Sv.COMPONENT]=this.moduleName,i[Xfe]=a,i[the]=r}if(this._semconvStability&Pi.STABLE){const a=n.method,o=che(n.method||"GET");s||(s=o),i[$fe]=o,o!==a&&(i[Lfe]=a),i[Ufe]=r}return this.tracer.startSpan(s,{kind:og.CLIENT,attributes:i})}_findResourceAndAddNetworkEvents(r,n,s){let i=n.entries;if(!i.length){if(!performance.getEntriesByType)return;i=performance.getEntriesByType("resource")}const a=Y$(n.spanUrl,n.startTime,s,i,this._usedResources,"fetch");if(a.mainRequest){const o=a.mainRequest;this._markResourceAsUsed(o);const u=a.corsPreFlightRequest;u&&(this._addChildSpan(r,u),this._markResourceAsUsed(u));const l=!(this._semconvStability&Pi.OLD);wv(r,o,this.getConfig().ignoreNetworkEvents,void 0,l)}}_markResourceAsUsed(r){this._usedResources.add(r)}_endSpan(r,n,s){const i=rk(Date.now()),a=LC();this._addFinalSpanAttributes(r,s),this._semconvStability&Pi.STABLE&&s.status>=400&&(r.setStatus({code:Th.ERROR}),r.setAttribute(Dfe,String(s.status))),setTimeout(()=>{n.observer?.disconnect(),this._findResourceAndAddNetworkEvents(r,n,a),this._tasksCount--,this._clearResources(),r.end(i)},phe)}_patchConstructor(){return r=>{const n=this,s=new Set(["url","type","redirected"]);function i(a,o){return new Proxy(a,{get(u,l,d){if(typeof l=="string"&&s.has(l))return Reflect.get(o,l);if(l==="clone")return function(){return i(u.clone(),o)};const h=Reflect.get(u,l,u);return typeof h=="function"?h.bind(u):h}})}return function(...o){const u=this,l=Al(o[0]instanceof Request?o[0].url:String(o[0])).href,d=o[0]instanceof Request?o[0]:o[1]||{},h=n._createSpan(l,d);if(!h)return r.apply(this,o);const f=n._prepareSpanData(l);n.getConfig().measureRequestSize&&nhe(...o).then(b=>{b&&(n._semconvStability&Pi.OLD&&h.setAttribute(Qfe,b),n._semconvStability&Pi.STABLE&&h.setAttribute(Yfe,b))}).catch(b=>{n._diag.warn("getFetchBodyLength",b)});function p(b,x){n._applyAttributesAfterFetch(b,d,x),n._endSpan(b,f,{status:x.status||0,statusText:x.message,url:l})}function g(b,x){n._applyAttributesAfterFetch(b,d,x),x.status>=200&&x.status<400?n._endSpan(b,f,x):n._endSpan(b,f,{status:x.status,statusText:x.statusText,url:l})}function y(b,x){if(!b)return null;const k=b.getReader();return new ReadableStream({async pull(T){try{const{value:O,done:F}=await k.read();F?(k.releaseLock(),T.close()):T.enqueue(O)}catch(O){T.error(O),k.cancel(O).catch(F=>{});try{k.releaseLock()}catch{}}},cancel(T){return x.cancel(T).catch(O=>{}),k.cancel(T)}})}function m(b,x,k){let T=null;try{const F=k.clone().body;if(F){const A=F.getReader(),D=k.status===204||k.status===205||k.status===304?null:y(k.body,A),V=new Response(D,{status:k.status,statusText:k.statusText,headers:k.headers});T=i(V,k);const B=()=>{A.read().then(({done:C})=>{C?g(b,k):B()},C=>{p(b,C)})};B()}else g(b,k)}finally{x(T??k)}}function v(b,x,k){try{p(b,k)}finally{x(k)}}return new Promise((b,x)=>Hn.with($s.setSpan(Hn.active(),h),()=>(n._addHeaders(d,l),n._callRequestHook(h,d),n._tasksCount++,r.apply(u,d instanceof Request?[d]:[l,d]).then(m.bind(u,h,b),v.bind(u,h,x)))))}}}_applyAttributesAfterFetch(r,n,s){const i=this.getConfig().applyCustomAttributesOnSpan;i&&MC(()=>i(r,n,s),a=>{a&&this._diag.error("applyCustomAttributesOnSpan",a)})}_callRequestHook(r,n){const s=this.getConfig().requestHook;s&&MC(()=>s(r,n),i=>{i&&this._diag.error("requestHook",i)})}_prepareSpanData(r){const n=LC(),s=[];if(typeof PerformanceObserver!="function")return{entries:s,startTime:n,spanUrl:r};const i=new PerformanceObserver(a=>{a.getEntries().forEach(u=>{u.initiatorType==="fetch"&&u.name===r&&s.push(u)})});return i.observe({entryTypes:["resource"]}),{entries:s,observer:i,startTime:n,spanUrl:r}}enable(){if(!zC){this._diag.warn("this instrumentation is intended for web usage only, it does not instrument server-side fetch()");return}Ofe(fetch)&&(this._unwrap(globalThis,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(globalThis,"fetch",this._patchConstructor())}disable(){zC&&(this._unwrap(globalThis,"fetch"),this._usedResources=new WeakSet)}}class wL{emit(t){}}const ghe=new wL,$y=Symbol.for("io.opentelemetry.js.api.logs"),Xp=globalThis;function yhe(e,t,r){return n=>n===e?t:r}const BC=1;class bhe{getLogger(t,r,n){return new wL}}const _L=new bhe;class vhe{constructor(t,r,n,s){this._provider=t,this.name=r,this.version=n,this.options=s}emit(t){this._getLogger().emit(t)}_getLogger(){if(this._delegate)return this._delegate;const t=this._provider._getDelegateLogger(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):ghe}}class UC{getLogger(t,r,n){var s;return(s=this._getDelegateLogger(t,r,n))!==null&&s!==void 0?s:new vhe(this,t,r,n)}_getDelegate(){var t;return(t=this._delegate)!==null&&t!==void 0?t:_L}_setDelegate(t){this._delegate=t}_getDelegateLogger(t,r,n){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getLogger(t,r,n)}}class mN{constructor(){this._proxyLoggerProvider=new UC}static getInstance(){return this._instance||(this._instance=new mN),this._instance}setGlobalLoggerProvider(t){return Xp[$y]?this.getLoggerProvider():(Xp[$y]=yhe(BC,t,_L),this._proxyLoggerProvider._setDelegate(t),t)}getLoggerProvider(){var t,r;return(r=(t=Xp[$y])===null||t===void 0?void 0:t.call(Xp,BC))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(t,r,n){return this.getLoggerProvider().getLogger(t,r,n)}disable(){delete Xp[$y],this._proxyLoggerProvider=new UC}}const xhe=mN.getInstance();let ea=console.error.bind(console);function Yp(e,t,r){const n=!!e[t]&&Object.prototype.propertyIsEnumerable.call(e,t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}const SL=(e,t,r)=>{if(!e||!e[t]){ea("no original function "+String(t)+" to wrap");return}if(!r){ea("no wrapper function"),ea(new Error().stack);return}const n=e[t];if(typeof n!="function"||typeof r!="function"){ea("original object and wrapper must be functions");return}const s=r(n,t);return Yp(s,"__original",n),Yp(s,"__unwrap",()=>{e[t]===s&&Yp(e,t,n)}),Yp(s,"__wrapped",!0),Yp(e,t,s),s},whe=(e,t,r)=>{if(e)Array.isArray(e)||(e=[e]);else{ea("must provide one or more modules to patch"),ea(new Error().stack);return}if(!(t&&Array.isArray(t))){ea("must provide one or more functions to wrap on modules");return}e.forEach(n=>{t.forEach(s=>{SL(n,s,r)})})},kL=(e,t)=>{if(!e||!e[t]){ea("no function to unwrap."),ea(new Error().stack);return}const r=e[t];if(!r.__unwrap)ea("no original to unwrap to -- has "+String(t)+" already been unwrapped?");else{r.__unwrap();return}},_he=(e,t)=>{if(e)Array.isArray(e)||(e=[e]);else{ea("must provide one or more modules to patch"),ea(new Error().stack);return}if(!(t&&Array.isArray(t))){ea("must provide one or more functions to unwrap on modules");return}e.forEach(r=>{t.forEach(n=>{kL(r,n)})})};class She{constructor(t,r,n){fe(this,"_config",{});fe(this,"_tracer");fe(this,"_meter");fe(this,"_logger");fe(this,"_diag");fe(this,"instrumentationName");fe(this,"instrumentationVersion");fe(this,"_wrap",SL);fe(this,"_unwrap",kL);fe(this,"_massWrap",whe);fe(this,"_massUnwrap",_he);this.instrumentationName=t,this.instrumentationVersion=r,this.setConfig(n),this._diag=or.createComponentLogger({namespace:t}),this._tracer=$s.getTracer(t,r),this._meter=dN.getMeter(t,r),this._logger=xhe.getLogger(t,r),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(t){this._logger=t.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){const t=this.init()??[];return Array.isArray(t)?t:[t]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(t){this._config={enabled:!0,...t}}setTracerProvider(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(t,r,n,s){if(t)try{t(n,s)}catch(i){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},i)}}}class khe extends She{constructor(t,r,n){super(t,r,n),this._config.enabled&&this.enable()}}function jhe(e,t,r){let n,s;try{s=e()}catch(i){n=i}finally{return t(n,s),s}}function VC(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var Ii;(function(e){e[e.STABLE=1]="STABLE",e[e.OLD=2]="OLD",e[e.DUPLICATE=3]="DUPLICATE"})(Ii||(Ii={}));function Nhe(e,t){let r=Ii.OLD;const n=t?.split(",").map(s=>s.trim()).filter(s=>s!=="");for(const s of n??[])if(s.toLowerCase()===e+"/dup"){r=Ii.DUPLICATE;break}else s.toLowerCase()===e&&(r=Ii.STABLE);return r}const WC="error.type",The="http.request.method",Ehe="http.request.method_original",Che="http.response.status_code",Ahe="server.address",Phe="server.port",Ihe="url.full",kv=performance,Rhe=9,Ohe=6,Mhe=Math.pow(10,Ohe),qC=Math.pow(10,Rhe);function HC(e){const t=e/1e3,r=Math.trunc(t),n=Math.round(e%1e3*Mhe);return[r,n]}function KC(e){const t=HC(kv.timeOrigin),r=HC(kv.now());return Dhe(t,r)}function Dhe(e,t){const r=[e[0]+t[0],e[1]+t[1]];return r[1]>=qC&&(r[1]-=qC,r[0]+=1),r}function $he(e,t){return typeof t=="string"?e===t:!!e.match(t)}function Lhe(e,t){if(!t)return!1;for(const r of t)if($he(e,r))return!0;return!1}const Fhe="http.host",zhe="http.method",Bhe="http.request.body.size",Uhe="http.request_content_length_uncompressed",Vhe="http.scheme",Whe="http.status_code",qhe="http.url",Hhe="http.user_agent";var vl;(function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"})(vl||(vl={}));const Khe=or.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-xml-http-request/utils"});function Ghe(e){return typeof Document<"u"&&e instanceof Document}function Zhe(e){if(Ghe(e))return new XMLSerializer().serializeToString(document).length;if(typeof e=="string")return GC(e);if(e instanceof Blob)return e.size;if(e instanceof FormData)return Yhe(e);if(e instanceof URLSearchParams)return GC(e.toString());if(e.byteLength!==void 0)return e.byteLength;Khe.warn("unknown body type")}const Xhe=new TextEncoder;function GC(e){return Xhe.encode(e).byteLength}function Yhe(e){let t=0;for(const[r,n]of e.entries())t+=r.length,n instanceof Blob?t+=n.size:t+=n.length;return t}function Qhe(e){const t=epe(),r=e.toUpperCase();return r in t?r:"_OTHER"}const Jhe={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0,QUERY:!0};let $_;function epe(){return $_===void 0&&($_=Jhe),$_}const tpe={"https:":"443","http:":"80"};function rpe(e){const t=Number(e.port||tpe[e.protocol]);if(t&&!isNaN(t))return t}const ZC="0.212.0";var sk;(function(e){e.HTTP_STATUS_TEXT="http.status_text"})(sk||(sk={}));const npe=300;class spe extends khe{constructor(r={}){super("@opentelemetry/instrumentation-xml-http-request",ZC,r);fe(this,"component","xml-http-request");fe(this,"version",ZC);fe(this,"moduleName",this.component);fe(this,"_tasksCount",0);fe(this,"_xhrMem",new WeakMap);fe(this,"_usedResources",new WeakSet);fe(this,"_semconvStability");this._semconvStability=Nhe("http",r?.semconvStabilityOptIn)}init(){}_addHeaders(r,n){const s=Al(n).href;if(!Q$(s,this.getConfig().propagateTraceHeaderCorsUrls)){const a={};Ra.inject(Hn.active(),a),Object.keys(a).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}const i={};Ra.inject(Hn.active(),i),Object.keys(i).forEach(a=>{r.setRequestHeader(a,String(i[a]))})}_addChildSpan(r,n){Hn.with($s.setSpan(Hn.active(),r),()=>{const s=this.tracer.startSpan("CORS Preflight",{startTime:n[Jr.FETCH_START]}),i=!(this._semconvStability&Ii.OLD);wv(s,n,this.getConfig().ignoreNetworkEvents,void 0,i),s.end(n[Jr.RESPONSE_END])})}_addFinalSpanAttributes(r,n,s){if(this._semconvStability&Ii.OLD){if(n.status!==void 0&&r.setAttribute(Whe,n.status),n.statusText!==void 0&&r.setAttribute(sk.HTTP_STATUS_TEXT,n.statusText),typeof s=="string"){const i=Al(s);r.setAttribute(Fhe,i.host),r.setAttribute(Vhe,i.protocol.replace(":",""))}r.setAttribute(Hhe,navigator.userAgent)}this._semconvStability&Ii.STABLE&&n.status&&r.setAttribute(Che,n.status)}_applyAttributesAfterXHR(r,n){const s=this.getConfig().applyCustomAttributesOnSpan;typeof s=="function"&&jhe(()=>s(r,n),i=>{i&&this._diag.error("applyCustomAttributesOnSpan",i)})}_addResourceObserver(r,n){const s=this._xhrMem.get(r);!s||typeof PerformanceObserver!="function"||typeof PerformanceResourceTiming!="function"||(s.createdResources={observer:new PerformanceObserver(i=>{const a=i.getEntries(),o=Al(n);a.forEach(u=>{u.initiatorType==="xmlhttprequest"&&u.name===o.href&&s.createdResources&&s.createdResources.entries.push(u)})}),entries:[]},s.createdResources.observer.observe({entryTypes:["resource"]}))}_clearResources(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(kv.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)}_findResourceAndAddNetworkEvents(r,n,s,i,a){if(!s||!i||!a||!r.createdResources)return;let o=r.createdResources.entries;(!o||!o.length)&&(o=kv.getEntriesByType("resource"));const u=Y$(Al(s).href,i,a,o,this._usedResources);if(u.mainRequest){const l=u.mainRequest;this._markResourceAsUsed(l);const d=u.corsPreFlightRequest;d&&(this._addChildSpan(n,d),this._markResourceAsUsed(d));const h=!(this._semconvStability&Ii.OLD);wv(n,l,this.getConfig().ignoreNetworkEvents,void 0,h)}}_cleanPreviousSpanInformation(r){const n=this._xhrMem.get(r);if(n){const s=n.callbackToRemoveEvents;s&&s(),this._xhrMem.delete(r)}}_createSpan(r,n,s){if(Lhe(n,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}let i="";const a=Al(n),o={};if(this._semconvStability&Ii.OLD&&(i=s.toUpperCase(),o[zhe]=s,o[qhe]=a.toString()),this._semconvStability&Ii.STABLE){const l=s,d=Qhe(s);i||(i=d),o[The]=d,d!==l&&(o[Ehe]=l),o[Ihe]=a.toString(),o[Ahe]=a.hostname;const h=rpe(a);h&&(o[Phe]=h)}const u=this.tracer.startSpan(i,{kind:og.CLIENT,attributes:o});return u.addEvent(vl.METHOD_OPEN),this._cleanPreviousSpanInformation(r),this._xhrMem.set(r,{span:u,spanUrl:n}),u}_markResourceAsUsed(r){this._usedResources.add(r)}_patchOpen(){return r=>{const n=this;return function(...i){const a=i[0],o=i[1];return n._createSpan(this,o,a),r.apply(this,i)}}}_patchSend(){const r=this;function n(d,h,f,p){const g=h.callbackToRemoveEvents;typeof g=="function"&&g();const{span:y,spanUrl:m,sendStartTime:v}=h;y&&(r._findResourceAndAddNetworkEvents(h,y,m,v,f),y.addEvent(d,p),r._addFinalSpanAttributes(y,h,m),y.end(p),r._tasksCount--),r._clearResources()}function s(d,h,f,p){const g=r._xhrMem.get(h);if(!g)return;if(g.status=h.status,g.statusText=h.statusText,r._xhrMem.delete(h),g.span){const v=g.span;r._applyAttributesAfterXHR(v,h),r._semconvStability&Ii.STABLE&&(f?p&&(v.setStatus({code:Th.ERROR,message:p}),v.setAttribute(WC,p)):g.status&&g.status>=400&&(v.setStatus({code:Th.ERROR}),v.setAttribute(WC,String(g.status))))}const y=KC(),m=Date.now();setTimeout(()=>{n(d,g,y,m)},npe)}function i(){s(vl.EVENT_ERROR,this,!0,"error")}function a(){s(vl.EVENT_ABORT,this,!1)}function o(){s(vl.EVENT_TIMEOUT,this,!0,"timeout")}function u(){this.status<299?s(vl.EVENT_LOAD,this,!1):s(vl.EVENT_ERROR,this,!1)}function l(d){d.removeEventListener("abort",a),d.removeEventListener("error",i),d.removeEventListener("load",u),d.removeEventListener("timeout",o);const h=r._xhrMem.get(d);h&&(h.callbackToRemoveEvents=void 0)}return d=>function(...f){const p=r._xhrMem.get(this);if(!p)return d.apply(this,f);const g=p.span,y=p.spanUrl;if(g&&y){if(r.getConfig().measureRequestSize&&f?.[0]){const m=f[0],v=Zhe(m);v!==void 0&&(r._semconvStability&Ii.OLD&&g.setAttribute(Uhe,v),r._semconvStability&Ii.STABLE&&g.setAttribute(Bhe,v))}Hn.with($s.setSpan(Hn.active(),g),()=>{r._tasksCount++,p.sendStartTime=KC(),g.addEvent(vl.METHOD_SEND),this.addEventListener("abort",a),this.addEventListener("error",i),this.addEventListener("load",u),this.addEventListener("timeout",o),p.callbackToRemoveEvents=()=>{l(this),p.createdResources&&p.createdResources.observer.disconnect()},r._addHeaders(this,y),r._addResourceObserver(this,y)})}return d.apply(this,f)}}enable(){this._diag.debug("applying patch to",this.moduleName,this.version),VC(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),VC(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())}disable(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}}const ipe="modulepreload",ape=function(e){return"/"+e},XC={},Ar=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");s=Promise.allSettled(r.map(u=>{if(u=ape(u),u in XC)return;XC[u]=!0;const l=u.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":ipe,l||(h.as="script"),h.crossOrigin="",h.href=u,o&&h.setAttribute("nonce",o),document.head.appendChild(h),l)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var Ah;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Ah||(Ah={}));class L_ extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const ope=e=>{var t,r;return e?.androidBridge?"android":!((r=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},lpe=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},n=r.Plugins=r.Plugins||{},s=()=>t!==null?t.name:ope(e),i=()=>s()!=="web",a=h=>{const f=l.get(h);return!!(f?.platforms.has(s())||o(h))},o=h=>{var f;return(f=r.PluginHeaders)===null||f===void 0?void 0:f.find(p=>p.name===h)},u=h=>e.console.error(h),l=new Map,d=(h,f={})=>{const p=l.get(h);if(p)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),p.proxy;const g=s(),y=o(h);let m;const v=async()=>(!m&&g in f?m=typeof f[g]=="function"?m=await f[g]():m=f[g]:t!==null&&!m&&"web"in f&&(m=typeof f.web=="function"?m=await f.web():m=f.web),m),b=(A,P)=>{var D,V;if(y){const B=y?.methods.find(C=>P===C.name);if(B)return B.rtype==="promise"?C=>r.nativePromise(h,P.toString(),C):(C,I)=>r.nativeCallback(h,P.toString(),C,I);if(A)return(D=A[P])===null||D===void 0?void 0:D.bind(A)}else{if(A)return(V=A[P])===null||V===void 0?void 0:V.bind(A);throw new L_(`"${h}" plugin is not implemented on ${g}`,Ah.Unimplemented)}},x=A=>{let P;const D=(...V)=>{const B=v().then(C=>{const I=b(C,A);if(I){const N=I(...V);return P=N?.remove,N}else throw new L_(`"${h}.${A}()" is not implemented on ${g}`,Ah.Unimplemented)});return A==="addListener"&&(B.remove=async()=>P()),B};return D.toString=()=>`${A.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:A,writable:!1,configurable:!1}),D},k=x("addListener"),T=x("removeListener"),O=(A,P)=>{const D=k({eventName:A},P),V=async()=>{const C=await D;T({eventName:A,callbackId:C},P)},B=new Promise(C=>D.then(()=>C({remove:V})));return B.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await V()},B},F=new Proxy({},{get(A,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?O:k;case"removeListener":return T;default:return x(P)}}});return n[h]=F,l.set(h,{name:h,proxy:F,platforms:new Set([...Object.keys(f),...y?[g]:[]])}),F};return r.convertFileSrc||(r.convertFileSrc=h=>h),r.getPlatform=s,r.handleError=u,r.isNativePlatform=i,r.isPluginAvailable=a,r.registerPlugin=d,r.Exception=L_,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},cpe=e=>e.Capacitor=lpe(e),vo=cpe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),fp=vo.registerPlugin;class jL{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(t);const a=async()=>this.removeListener(t,r);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,n){const s=this.listeners[t];if(!s){if(n){let i=this.retainedEventArguments[t];i||(i=[]),i.push(r),this.retainedEventArguments[t]=i}return}s.forEach(i=>i(r))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new vo.Exception(t,Ah.Unimplemented)}unavailable(t="not available"){return new vo.Exception(t,Ah.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const s=n.indexOf(r);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const YC=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),QC=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class upe extends jL{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=QC(s).trim(),i=QC(i).trim(),r[s]=i}),r}async setCookie(t){try{const r=YC(t.key),n=YC(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),a=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${i}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}fp("CapacitorCookies",{web:()=>new upe});const dpe=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(e)}),fpe=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,i,a)=>(s[i]=e[t[a]],s),{})},hpe=(e,t=!0)=>e?Object.entries(e).reduce((n,s)=>{const[i,a]=s;let o,u;return Array.isArray(a)?(u="",a.forEach(l=>{o=t?encodeURIComponent(l):l,u+=`${i}=${o}&`}),u.slice(0,-1)):(o=t?encodeURIComponent(a):a,u=`${i}=${o}`),`${n}&${u}`},"").substr(1):null,ppe=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),s=fpe(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,o]of Object.entries(e.data||{}))i.set(a,o);r.body=i.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((o,u)=>{i.append(u,o)});else for(const o of Object.keys(e.data))i.append(o,e.data[o]);r.body=i;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(s.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class mpe extends jL{async request(t){const r=ppe(t,t.webFetchExtra),n=hpe(t.params,t.shouldEncodeUrlParams),s=n?`${t.url}?${n}`:t.url,i=await fetch(s,r),a=i.headers.get("content-type")||"";let{responseType:o="text"}=i.ok?t:{};a.includes("application/json")&&(o="json");let u,l;switch(o){case"arraybuffer":case"blob":l=await i.blob(),u=await dpe(l);break;case"json":u=await i.json();break;case"document":case"text":default:u=await i.text()}const d={};return i.headers.forEach((h,f)=>{d[f]=h}),{data:u,headers:d,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}fp("CapacitorHttp",{web:()=>new mpe});const gpe=fp("Device",{web:()=>Ar(()=>import("./web-BahBFB8Z.js"),[]).then(e=>new e.DeviceWeb)}),ype=fp("App",{web:()=>Ar(()=>import("./web-D_XQtx9y.js"),[]).then(e=>new e.AppWeb)});async function bpe(){const[e,t]=await Promise.all([gpe.getInfo().catch(()=>({})),ype.getInfo().catch(()=>({}))]),r=new Vle({resource:new dfe({[bm.SERVICE_NAME]:"aiops-frontend","device.model":e.model||"unknown","device.platform":e.platform||"web","device.version":e.osVersion||"unknown","app.version":t.version||"unknown","app.build":t.build||"unknown"})}),n=new pfe({url:"/api/v1/traces"});r.addSpanProcessor(new Joe(n)),r.register(),Sfe({instrumentations:[new mhe({propagateTraceHeaderCorsUrls:[/https?:\/\/.*binarjoinanelytic\.info/,/https?:\/\/.*axion\.app/]}),new spe]}),console.log("OTEL Frontend Instrumentation Initialized with Device Info:",e)}bpe().catch(e=>{console.error("Failed to initialize OTEL instrumentation:",e)});var NL={exports:{}},da={},TL={exports:{}},EL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,j){var R=S.length;S.push(j);e:for(;0<R;){var $=R-1>>>1,U=S[$];if(0<s(U,j))S[$]=j,S[R]=U,R=$;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var j=S[0],R=S.pop();if(R!==j){S[0]=R;e:for(var $=0,U=S.length,q=U>>>1;$<q;){var H=2*($+1)-1,Y=S[H],M=H+1,K=S[M];if(0>s(Y,R))M<U&&0>s(K,Y)?(S[$]=K,S[M]=R,$=M):(S[$]=Y,S[H]=R,$=H);else if(M<U&&0>s(K,R))S[$]=K,S[M]=R,$=M;else break e}}return j}function s(S,j){var R=S.sortIndex-j.sortIndex;return R!==0?R:S.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],l=[],d=1,h=null,f=3,p=!1,g=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(S){for(var j=r(l);j!==null;){if(j.callback===null)n(l);else if(j.startTime<=S)n(l),j.sortIndex=j.expirationTime,t(u,j);else break;j=r(l)}}function k(S){if(y=!1,x(S),!g)if(r(u)!==null)g=!0,w(T);else{var j=r(l);j!==null&&_(k,j.startTime-S)}}function T(S,j){g=!1,y&&(y=!1,v(A),A=-1),p=!0;var R=f;try{for(x(j),h=r(u);h!==null&&(!(h.expirationTime>j)||S&&!V());){var $=h.callback;if(typeof $=="function"){h.callback=null,f=h.priorityLevel;var U=$(h.expirationTime<=j);j=e.unstable_now(),typeof U=="function"?h.callback=U:h===r(u)&&n(u),x(j)}else n(u);h=r(u)}if(h!==null)var q=!0;else{var H=r(l);H!==null&&_(k,H.startTime-j),q=!1}return q}finally{h=null,f=R,p=!1}}var O=!1,F=null,A=-1,P=5,D=-1;function V(){return!(e.unstable_now()-D<P)}function B(){if(F!==null){var S=e.unstable_now();D=S;var j=!0;try{j=F(!0,S)}finally{j?C():(O=!1,F=null)}}else O=!1}var C;if(typeof b=="function")C=function(){b(B)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,N=I.port2;I.port1.onmessage=B,C=function(){N.postMessage(null)}}else C=function(){m(B,0)};function w(S){F=S,O||(O=!0,C())}function _(S,j){A=m(function(){S(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,w(T))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(S){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var R=f;f=j;try{return S()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,j){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var R=f;f=S;try{return j()}finally{f=R}},e.unstable_scheduleCallback=function(S,j,R){var $=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?$+R:$):R=$,S){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=R+U,S={id:d++,callback:j,priorityLevel:S,startTime:R,expirationTime:U,sortIndex:-1},R>$?(S.sortIndex=R,t(l,S),r(u)===null&&S===r(l)&&(y?(v(A),A=-1):y=!0,_(k,R-$))):(S.sortIndex=U,t(u,S),g||p||(g=!0,w(T))),S},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(S){var j=f;return function(){var R=f;f=j;try{return S.apply(this,arguments)}finally{f=R}}}})(EL);TL.exports=EL;var vpe=TL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xpe=E,ca=vpe;function Qe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CL=new Set,lg={};function Yd(e,t){Ph(e,t),Ph(e+"Capture",t)}function Ph(e,t){for(lg[e]=t,e=0;e<t.length;e++)CL.add(t[e])}var Wl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ik=Object.prototype.hasOwnProperty,wpe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JC={},eA={};function _pe(e){return ik.call(eA,e)?!0:ik.call(JC,e)?!1:wpe.test(e)?eA[e]=!0:(JC[e]=!0,!1)}function Spe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kpe(e,t,r,n){if(t===null||typeof t>"u"||Spe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ni(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Us={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Us[e]=new Ni(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Us[t]=new Ni(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Us[e]=new Ni(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Us[e]=new Ni(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Us[e]=new Ni(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Us[e]=new Ni(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Us[e]=new Ni(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Us[e]=new Ni(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Us[e]=new Ni(e,5,!1,e.toLowerCase(),null,!1,!1)});var gN=/[\-:]([a-z])/g;function yN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gN,yN);Us[t]=new Ni(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gN,yN);Us[t]=new Ni(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gN,yN);Us[t]=new Ni(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Us[e]=new Ni(e,1,!1,e.toLowerCase(),null,!1,!1)});Us.xlinkHref=new Ni("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Us[e]=new Ni(e,1,!1,e.toLowerCase(),null,!0,!0)});function bN(e,t,r,n){var s=Us.hasOwnProperty(t)?Us[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kpe(t,r,s,n)&&(r=null),n||s===null?_pe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var rc=xpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ly=Symbol.for("react.element"),Pf=Symbol.for("react.portal"),If=Symbol.for("react.fragment"),vN=Symbol.for("react.strict_mode"),ak=Symbol.for("react.profiler"),AL=Symbol.for("react.provider"),PL=Symbol.for("react.context"),xN=Symbol.for("react.forward_ref"),ok=Symbol.for("react.suspense"),lk=Symbol.for("react.suspense_list"),wN=Symbol.for("react.memo"),wc=Symbol.for("react.lazy"),IL=Symbol.for("react.offscreen"),tA=Symbol.iterator;function Qp(e){return e===null||typeof e!="object"?null:(e=tA&&e[tA]||e["@@iterator"],typeof e=="function"?e:null)}var Mn=Object.assign,F_;function xm(e){if(F_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);F_=t&&t[1]||""}return`
`+F_+e}var z_=!1;function B_(e,t){if(!e||z_)return"";z_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{z_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xm(e):""}function jpe(e){switch(e.tag){case 5:return xm(e.type);case 16:return xm("Lazy");case 13:return xm("Suspense");case 19:return xm("SuspenseList");case 0:case 2:case 15:return e=B_(e.type,!1),e;case 11:return e=B_(e.type.render,!1),e;case 1:return e=B_(e.type,!0),e;default:return""}}function ck(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case If:return"Fragment";case Pf:return"Portal";case ak:return"Profiler";case vN:return"StrictMode";case ok:return"Suspense";case lk:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case PL:return(e.displayName||"Context")+".Consumer";case AL:return(e._context.displayName||"Context")+".Provider";case xN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wN:return t=e.displayName||null,t!==null?t:ck(e.type)||"Memo";case wc:t=e._payload,e=e._init;try{return ck(e(t))}catch{}}return null}function Npe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ck(t);case 8:return t===vN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tpe(e){var t=RL(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fy(e){e._valueTracker||(e._valueTracker=Tpe(e))}function OL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=RL(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function jv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uk(e,t){var r=t.checked;return Mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=lu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ML(e,t){t=t.checked,t!=null&&bN(e,"checked",t,!1)}function dk(e,t){ML(e,t);var r=lu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fk(e,t.type,r):t.hasOwnProperty("defaultValue")&&fk(e,t.type,lu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fk(e,t,r){(t!=="number"||jv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wm=Array.isArray;function Jf(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lu(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hk(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return Mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Qe(92));if(wm(r)){if(1<r.length)throw Error(Qe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:lu(r)}}function DL(e,t){var r=lu(t.value),n=lu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function iA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $L(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pk(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$L(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zy,LL=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zy=zy||document.createElement("div"),zy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Dm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Epe=["Webkit","ms","Moz","O"];Object.keys(Dm).forEach(function(e){Epe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dm[t]=Dm[e]})});function FL(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Dm.hasOwnProperty(e)&&Dm[e]?(""+t).trim():t+"px"}function zL(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=FL(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Cpe=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mk(e,t){if(t){if(Cpe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Qe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Qe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Qe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Qe(62))}}function gk(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yk=null;function _N(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bk=null,eh=null,th=null;function aA(e){if(e=v0(e)){if(typeof bk!="function")throw Error(Qe(280));var t=e.stateNode;t&&(t=r1(t),bk(e.stateNode,e.type,t))}}function BL(e){eh?th?th.push(e):th=[e]:eh=e}function UL(){if(eh){var e=eh,t=th;if(th=eh=null,aA(e),t)for(e=0;e<t.length;e++)aA(t[e])}}function VL(e,t){return e(t)}function WL(){}var U_=!1;function qL(e,t,r){if(U_)return e(t,r);U_=!0;try{return VL(e,t,r)}finally{U_=!1,(eh!==null||th!==null)&&(WL(),UL())}}function ug(e,t){var r=e.stateNode;if(r===null)return null;var n=r1(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Qe(231,t,typeof r));return r}var vk=!1;if(Wl)try{var Jp={};Object.defineProperty(Jp,"passive",{get:function(){vk=!0}}),window.addEventListener("test",Jp,Jp),window.removeEventListener("test",Jp,Jp)}catch{vk=!1}function Ape(e,t,r,n,s,i,a,o,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(d){this.onError(d)}}var $m=!1,Nv=null,Tv=!1,xk=null,Ppe={onError:function(e){$m=!0,Nv=e}};function Ipe(e,t,r,n,s,i,a,o,u){$m=!1,Nv=null,Ape.apply(Ppe,arguments)}function Rpe(e,t,r,n,s,i,a,o,u){if(Ipe.apply(this,arguments),$m){if($m){var l=Nv;$m=!1,Nv=null}else throw Error(Qe(198));Tv||(Tv=!0,xk=l)}}function Qd(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function HL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oA(e){if(Qd(e)!==e)throw Error(Qe(188))}function Ope(e){var t=e.alternate;if(!t){if(t=Qd(e),t===null)throw Error(Qe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return oA(s),e;if(i===n)return oA(s),t;i=i.sibling}throw Error(Qe(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(Qe(189))}}if(r.alternate!==n)throw Error(Qe(190))}if(r.tag!==3)throw Error(Qe(188));return r.stateNode.current===r?e:t}function KL(e){return e=Ope(e),e!==null?GL(e):null}function GL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GL(e);if(t!==null)return t;e=e.sibling}return null}var ZL=ca.unstable_scheduleCallback,lA=ca.unstable_cancelCallback,Mpe=ca.unstable_shouldYield,Dpe=ca.unstable_requestPaint,Kn=ca.unstable_now,$pe=ca.unstable_getCurrentPriorityLevel,SN=ca.unstable_ImmediatePriority,XL=ca.unstable_UserBlockingPriority,Ev=ca.unstable_NormalPriority,Lpe=ca.unstable_LowPriority,YL=ca.unstable_IdlePriority,Qx=null,Zo=null;function Fpe(e){if(Zo&&typeof Zo.onCommitFiberRoot=="function")try{Zo.onCommitFiberRoot(Qx,e,void 0,(e.current.flags&128)===128)}catch{}}var mo=Math.clz32?Math.clz32:Upe,zpe=Math.log,Bpe=Math.LN2;function Upe(e){return e>>>=0,e===0?32:31-(zpe(e)/Bpe|0)|0}var By=64,Uy=4194304;function _m(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=_m(o):(i&=a,i!==0&&(n=_m(i)))}else a=r&~s,a!==0?n=_m(a):i!==0&&(n=_m(i));if(n===0)return 0;if(t!==0&&t!==n&&(t&s)===0&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mo(t),s=1<<r,n|=e[r],t&=~s;return n}function Vpe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wpe(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-mo(i),o=1<<a,u=s[a];u===-1?((o&r)===0||(o&n)!==0)&&(s[a]=Vpe(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function wk(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QL(){var e=By;return By<<=1,(By&4194240)===0&&(By=64),e}function V_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function y0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mo(t),e[t]=r}function qpe(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-mo(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function kN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mo(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var qr=0;function JL(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var eF,jN,tF,rF,nF,_k=!1,Vy=[],zc=null,Bc=null,Uc=null,dg=new Map,fg=new Map,Sc=[],Hpe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cA(e,t){switch(e){case"focusin":case"focusout":zc=null;break;case"dragenter":case"dragleave":Bc=null;break;case"mouseover":case"mouseout":Uc=null;break;case"pointerover":case"pointerout":dg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fg.delete(t.pointerId)}}function em(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=v0(t),t!==null&&jN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Kpe(e,t,r,n,s){switch(t){case"focusin":return zc=em(zc,e,t,r,n,s),!0;case"dragenter":return Bc=em(Bc,e,t,r,n,s),!0;case"mouseover":return Uc=em(Uc,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return dg.set(i,em(dg.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,fg.set(i,em(fg.get(i)||null,e,t,r,n,s)),!0}return!1}function sF(e){var t=Xu(e.target);if(t!==null){var r=Qd(t);if(r!==null){if(t=r.tag,t===13){if(t=HL(r),t!==null){e.blockedOn=t,nF(e.priority,function(){tF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ib(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Sk(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);yk=n,r.target.dispatchEvent(n),yk=null}else return t=v0(r),t!==null&&jN(t),e.blockedOn=r,!1;t.shift()}return!0}function uA(e,t,r){Ib(e)&&r.delete(t)}function Gpe(){_k=!1,zc!==null&&Ib(zc)&&(zc=null),Bc!==null&&Ib(Bc)&&(Bc=null),Uc!==null&&Ib(Uc)&&(Uc=null),dg.forEach(uA),fg.forEach(uA)}function tm(e,t){e.blockedOn===t&&(e.blockedOn=null,_k||(_k=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,Gpe)))}function hg(e){function t(s){return tm(s,e)}if(0<Vy.length){tm(Vy[0],e);for(var r=1;r<Vy.length;r++){var n=Vy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zc!==null&&tm(zc,e),Bc!==null&&tm(Bc,e),Uc!==null&&tm(Uc,e),dg.forEach(t),fg.forEach(t),r=0;r<Sc.length;r++)n=Sc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Sc.length&&(r=Sc[0],r.blockedOn===null);)sF(r),r.blockedOn===null&&Sc.shift()}var rh=rc.ReactCurrentBatchConfig,Av=!0;function Zpe(e,t,r,n){var s=qr,i=rh.transition;rh.transition=null;try{qr=1,NN(e,t,r,n)}finally{qr=s,rh.transition=i}}function Xpe(e,t,r,n){var s=qr,i=rh.transition;rh.transition=null;try{qr=4,NN(e,t,r,n)}finally{qr=s,rh.transition=i}}function NN(e,t,r,n){if(Av){var s=Sk(e,t,r,n);if(s===null)J_(e,t,n,Pv,r),cA(e,n);else if(Kpe(s,e,t,r,n))n.stopPropagation();else if(cA(e,n),t&4&&-1<Hpe.indexOf(e)){for(;s!==null;){var i=v0(s);if(i!==null&&eF(i),i=Sk(e,t,r,n),i===null&&J_(e,t,n,Pv,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else J_(e,t,n,null,r)}}var Pv=null;function Sk(e,t,r,n){if(Pv=null,e=_N(n),e=Xu(e),e!==null)if(t=Qd(e),t===null)e=null;else if(r=t.tag,r===13){if(e=HL(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pv=e,null}function iF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($pe()){case SN:return 1;case XL:return 4;case Ev:case Lpe:return 16;case YL:return 536870912;default:return 16}default:return 16}}var Dc=null,TN=null,Rb=null;function aF(){if(Rb)return Rb;var e,t=TN,r=t.length,n,s="value"in Dc?Dc.value:Dc.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Rb=s.slice(e,1<n?1-n:void 0)}function Ob(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wy(){return!0}function dA(){return!1}function fa(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wy:dA,this.isPropagationStopped=dA,this}return Mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wy)},persist:function(){},isPersistent:Wy}),t}var hp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EN=fa(hp),b0=Mn({},hp,{view:0,detail:0}),Ype=fa(b0),W_,q_,rm,Jx=Mn({},b0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:CN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rm&&(rm&&e.type==="mousemove"?(W_=e.screenX-rm.screenX,q_=e.screenY-rm.screenY):q_=W_=0,rm=e),W_)},movementY:function(e){return"movementY"in e?e.movementY:q_}}),fA=fa(Jx),Qpe=Mn({},Jx,{dataTransfer:0}),Jpe=fa(Qpe),eme=Mn({},b0,{relatedTarget:0}),H_=fa(eme),tme=Mn({},hp,{animationName:0,elapsedTime:0,pseudoElement:0}),rme=fa(tme),nme=Mn({},hp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sme=fa(nme),ime=Mn({},hp,{data:0}),hA=fa(ime),ame={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ome={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lme={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cme(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lme[e])?!!t[e]:!1}function CN(){return cme}var ume=Mn({},b0,{key:function(e){if(e.key){var t=ame[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ob(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ome[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:CN,charCode:function(e){return e.type==="keypress"?Ob(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ob(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dme=fa(ume),fme=Mn({},Jx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pA=fa(fme),hme=Mn({},b0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:CN}),pme=fa(hme),mme=Mn({},hp,{propertyName:0,elapsedTime:0,pseudoElement:0}),gme=fa(mme),yme=Mn({},Jx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bme=fa(yme),vme=[9,13,27,32],AN=Wl&&"CompositionEvent"in window,Lm=null;Wl&&"documentMode"in document&&(Lm=document.documentMode);var xme=Wl&&"TextEvent"in window&&!Lm,oF=Wl&&(!AN||Lm&&8<Lm&&11>=Lm),mA=" ",gA=!1;function lF(e,t){switch(e){case"keyup":return vme.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rf=!1;function wme(e,t){switch(e){case"compositionend":return cF(t);case"keypress":return t.which!==32?null:(gA=!0,mA);case"textInput":return e=t.data,e===mA&&gA?null:e;default:return null}}function _me(e,t){if(Rf)return e==="compositionend"||!AN&&lF(e,t)?(e=aF(),Rb=TN=Dc=null,Rf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oF&&t.locale!=="ko"?null:t.data;default:return null}}var Sme={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sme[e.type]:t==="textarea"}function uF(e,t,r,n){BL(n),t=Iv(t,"onChange"),0<t.length&&(r=new EN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fm=null,pg=null;function kme(e){wF(e,0)}function e1(e){var t=Df(e);if(OL(t))return e}function jme(e,t){if(e==="change")return t}var dF=!1;if(Wl){var K_;if(Wl){var G_="oninput"in document;if(!G_){var bA=document.createElement("div");bA.setAttribute("oninput","return;"),G_=typeof bA.oninput=="function"}K_=G_}else K_=!1;dF=K_&&(!document.documentMode||9<document.documentMode)}function vA(){Fm&&(Fm.detachEvent("onpropertychange",fF),pg=Fm=null)}function fF(e){if(e.propertyName==="value"&&e1(pg)){var t=[];uF(t,pg,e,_N(e)),qL(kme,t)}}function Nme(e,t,r){e==="focusin"?(vA(),Fm=t,pg=r,Fm.attachEvent("onpropertychange",fF)):e==="focusout"&&vA()}function Tme(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return e1(pg)}function Eme(e,t){if(e==="click")return e1(t)}function Cme(e,t){if(e==="input"||e==="change")return e1(t)}function Ame(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xo=typeof Object.is=="function"?Object.is:Ame;function mg(e,t){if(xo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ik.call(t,s)||!xo(e[s],t[s]))return!1}return!0}function xA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wA(e,t){var r=xA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xA(r)}}function hF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pF(){for(var e=window,t=jv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=jv(e.document)}return t}function PN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pme(e){var t=pF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hF(r.ownerDocument.documentElement,r)){if(n!==null&&PN(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=wA(r,i);var a=wA(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ime=Wl&&"documentMode"in document&&11>=document.documentMode,Of=null,kk=null,zm=null,jk=!1;function _A(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jk||Of==null||Of!==jv(n)||(n=Of,"selectionStart"in n&&PN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zm&&mg(zm,n)||(zm=n,n=Iv(kk,"onSelect"),0<n.length&&(t=new EN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Of)))}function qy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mf={animationend:qy("Animation","AnimationEnd"),animationiteration:qy("Animation","AnimationIteration"),animationstart:qy("Animation","AnimationStart"),transitionend:qy("Transition","TransitionEnd")},Z_={},mF={};Wl&&(mF=document.createElement("div").style,"AnimationEvent"in window||(delete Mf.animationend.animation,delete Mf.animationiteration.animation,delete Mf.animationstart.animation),"TransitionEvent"in window||delete Mf.transitionend.transition);function t1(e){if(Z_[e])return Z_[e];if(!Mf[e])return e;var t=Mf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mF)return Z_[e]=t[r];return e}var gF=t1("animationend"),yF=t1("animationiteration"),bF=t1("animationstart"),vF=t1("transitionend"),xF=new Map,SA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Su(e,t){xF.set(e,t),Yd(t,[e])}for(var X_=0;X_<SA.length;X_++){var Y_=SA[X_],Rme=Y_.toLowerCase(),Ome=Y_[0].toUpperCase()+Y_.slice(1);Su(Rme,"on"+Ome)}Su(gF,"onAnimationEnd");Su(yF,"onAnimationIteration");Su(bF,"onAnimationStart");Su("dblclick","onDoubleClick");Su("focusin","onFocus");Su("focusout","onBlur");Su(vF,"onTransitionEnd");Ph("onMouseEnter",["mouseout","mouseover"]);Ph("onMouseLeave",["mouseout","mouseover"]);Ph("onPointerEnter",["pointerout","pointerover"]);Ph("onPointerLeave",["pointerout","pointerover"]);Yd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mme=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sm));function kA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Rpe(n,t,void 0,e),e.currentTarget=null}function wF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;kA(s,o,l),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,l=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;kA(s,o,l),i=u}}}if(Tv)throw e=xk,Tv=!1,xk=null,e}function cn(e,t){var r=t[Ak];r===void 0&&(r=t[Ak]=new Set);var n=e+"__bubble";r.has(n)||(_F(t,e,2,!1),r.add(n))}function Q_(e,t,r){var n=0;t&&(n|=4),_F(r,e,n,t)}var Hy="_reactListening"+Math.random().toString(36).slice(2);function gg(e){if(!e[Hy]){e[Hy]=!0,CL.forEach(function(r){r!=="selectionchange"&&(Mme.has(r)||Q_(r,!1,e),Q_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hy]||(t[Hy]=!0,Q_("selectionchange",!1,t))}}function _F(e,t,r,n){switch(iF(t)){case 1:var s=Zpe;break;case 4:s=Xpe;break;default:s=NN}r=s.bind(null,t,r,e),s=void 0,!vk||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function J_(e,t,r,n,s){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Xu(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}qL(function(){var l=i,d=_N(r),h=[];e:{var f=xF.get(e);if(f!==void 0){var p=EN,g=e;switch(e){case"keypress":if(Ob(r)===0)break e;case"keydown":case"keyup":p=dme;break;case"focusin":g="focus",p=H_;break;case"focusout":g="blur",p=H_;break;case"beforeblur":case"afterblur":p=H_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Jpe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=pme;break;case gF:case yF:case bF:p=rme;break;case vF:p=gme;break;case"scroll":p=Ype;break;case"wheel":p=bme;break;case"copy":case"cut":case"paste":p=sme;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pA}var y=(t&4)!==0,m=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var b=l,x;b!==null;){x=b;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,v!==null&&(k=ug(b,v),k!=null&&y.push(yg(b,k,x)))),m)break;b=b.return}0<y.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:y}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==yk&&(g=r.relatedTarget||r.fromElement)&&(Xu(g)||g[ql]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=l,g=g?Xu(g):null,g!==null&&(m=Qd(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=l),p!==g)){if(y=fA,k="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=pA,k="onPointerLeave",v="onPointerEnter",b="pointer"),m=p==null?f:Df(p),x=g==null?f:Df(g),f=new y(k,b+"leave",p,r,d),f.target=m,f.relatedTarget=x,k=null,Xu(d)===l&&(y=new y(v,b+"enter",g,r,d),y.target=x,y.relatedTarget=m,k=y),m=k,p&&g)t:{for(y=p,v=g,b=0,x=y;x;x=yf(x))b++;for(x=0,k=v;k;k=yf(k))x++;for(;0<b-x;)y=yf(y),b--;for(;0<x-b;)v=yf(v),x--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=yf(y),v=yf(v)}y=null}else y=null;p!==null&&jA(h,f,p,y,!1),g!==null&&m!==null&&jA(h,m,g,y,!0)}}e:{if(f=l?Df(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=jme;else if(yA(f))if(dF)T=Cme;else{T=Tme;var O=Nme}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=Eme);if(T&&(T=T(e,l))){uF(h,T,r,d);break e}O&&O(e,f,l),e==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&fk(f,"number",f.value)}switch(O=l?Df(l):window,e){case"focusin":(yA(O)||O.contentEditable==="true")&&(Of=O,kk=l,zm=null);break;case"focusout":zm=kk=Of=null;break;case"mousedown":jk=!0;break;case"contextmenu":case"mouseup":case"dragend":jk=!1,_A(h,r,d);break;case"selectionchange":if(Ime)break;case"keydown":case"keyup":_A(h,r,d)}var F;if(AN)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Rf?lF(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(oF&&r.locale!=="ko"&&(Rf||A!=="onCompositionStart"?A==="onCompositionEnd"&&Rf&&(F=aF()):(Dc=d,TN="value"in Dc?Dc.value:Dc.textContent,Rf=!0)),O=Iv(l,A),0<O.length&&(A=new hA(A,e,null,r,d),h.push({event:A,listeners:O}),F?A.data=F:(F=cF(r),F!==null&&(A.data=F)))),(F=xme?wme(e,r):_me(e,r))&&(l=Iv(l,"onBeforeInput"),0<l.length&&(d=new hA("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:l}),d.data=F))}wF(h,t)})}function yg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Iv(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ug(e,r),i!=null&&n.unshift(yg(e,i,s)),i=ug(e,t),i!=null&&n.push(yg(e,i,s))),e=e.return}return n}function yf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jA(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,l=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&l!==null&&(o=l,s?(u=ug(r,i),u!=null&&a.unshift(yg(r,u,o))):s||(u=ug(r,i),u!=null&&a.push(yg(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Dme=/\r\n?/g,$me=/\u0000|\uFFFD/g;function NA(e){return(typeof e=="string"?e:""+e).replace(Dme,`
`).replace($me,"")}function Ky(e,t,r){if(t=NA(t),NA(e)!==t&&r)throw Error(Qe(425))}function Rv(){}var Nk=null,Tk=null;function Ek(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ck=typeof setTimeout=="function"?setTimeout:void 0,Lme=typeof clearTimeout=="function"?clearTimeout:void 0,TA=typeof Promise=="function"?Promise:void 0,Fme=typeof queueMicrotask=="function"?queueMicrotask:typeof TA<"u"?function(e){return TA.resolve(null).then(e).catch(zme)}:Ck;function zme(e){setTimeout(function(){throw e})}function e2(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),hg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);hg(t)}function Vc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function EA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pp=Math.random().toString(36).slice(2),Uo="__reactFiber$"+pp,bg="__reactProps$"+pp,ql="__reactContainer$"+pp,Ak="__reactEvents$"+pp,Bme="__reactListeners$"+pp,Ume="__reactHandles$"+pp;function Xu(e){var t=e[Uo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ql]||r[Uo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=EA(e);e!==null;){if(r=e[Uo])return r;e=EA(e)}return t}e=r,r=e.parentNode}return null}function v0(e){return e=e[Uo]||e[ql],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Df(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Qe(33))}function r1(e){return e[bg]||null}var Pk=[],$f=-1;function ku(e){return{current:e}}function fn(e){0>$f||(e.current=Pk[$f],Pk[$f]=null,$f--)}function nn(e,t){$f++,Pk[$f]=e.current,e.current=t}var cu={},ci=ku(cu),Bi=ku(!1),jd=cu;function Ih(e,t){var r=e.type.contextTypes;if(!r)return cu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ui(e){return e=e.childContextTypes,e!=null}function Ov(){fn(Bi),fn(ci)}function CA(e,t,r){if(ci.current!==cu)throw Error(Qe(168));nn(ci,t),nn(Bi,r)}function SF(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Qe(108,Npe(e)||"Unknown",s));return Mn({},r,n)}function Mv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cu,jd=ci.current,nn(ci,e),nn(Bi,Bi.current),!0}function AA(e,t,r){var n=e.stateNode;if(!n)throw Error(Qe(169));r?(e=SF(e,t,jd),n.__reactInternalMemoizedMergedChildContext=e,fn(Bi),fn(ci),nn(ci,e)):fn(Bi),nn(Bi,r)}var _l=null,n1=!1,t2=!1;function kF(e){_l===null?_l=[e]:_l.push(e)}function Vme(e){n1=!0,kF(e)}function ju(){if(!t2&&_l!==null){t2=!0;var e=0,t=qr;try{var r=_l;for(qr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_l=null,n1=!1}catch(s){throw _l!==null&&(_l=_l.slice(e+1)),ZL(SN,ju),s}finally{qr=t,t2=!1}}return null}var Lf=[],Ff=0,Dv=null,$v=0,Ta=[],Ea=0,Nd=null,Il=1,Rl="";function zu(e,t){Lf[Ff++]=$v,Lf[Ff++]=Dv,Dv=e,$v=t}function jF(e,t,r){Ta[Ea++]=Il,Ta[Ea++]=Rl,Ta[Ea++]=Nd,Nd=e;var n=Il;e=Rl;var s=32-mo(n)-1;n&=~(1<<s),r+=1;var i=32-mo(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Il=1<<32-mo(t)+s|r<<s|n,Rl=i+e}else Il=1<<i|r<<s|n,Rl=e}function IN(e){e.return!==null&&(zu(e,1),jF(e,1,0))}function RN(e){for(;e===Dv;)Dv=Lf[--Ff],Lf[Ff]=null,$v=Lf[--Ff],Lf[Ff]=null;for(;e===Nd;)Nd=Ta[--Ea],Ta[Ea]=null,Rl=Ta[--Ea],Ta[Ea]=null,Il=Ta[--Ea],Ta[Ea]=null}var sa=null,ta=null,vn=!1,co=null;function NF(e,t){var r=Ma(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function PA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sa=e,ta=Vc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sa=e,ta=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nd!==null?{id:Il,overflow:Rl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ma(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,sa=e,ta=null,!0):!1;default:return!1}}function Ik(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rk(e){if(vn){var t=ta;if(t){var r=t;if(!PA(e,t)){if(Ik(e))throw Error(Qe(418));t=Vc(r.nextSibling);var n=sa;t&&PA(e,t)?NF(n,r):(e.flags=e.flags&-4097|2,vn=!1,sa=e)}}else{if(Ik(e))throw Error(Qe(418));e.flags=e.flags&-4097|2,vn=!1,sa=e}}}function IA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sa=e}function Gy(e){if(e!==sa)return!1;if(!vn)return IA(e),vn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ek(e.type,e.memoizedProps)),t&&(t=ta)){if(Ik(e))throw TF(),Error(Qe(418));for(;t;)NF(e,t),t=Vc(t.nextSibling)}if(IA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Qe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ta=Vc(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ta=null}}else ta=sa?Vc(e.stateNode.nextSibling):null;return!0}function TF(){for(var e=ta;e;)e=Vc(e.nextSibling)}function Rh(){ta=sa=null,vn=!1}function ON(e){co===null?co=[e]:co.push(e)}var Wme=rc.ReactCurrentBatchConfig;function nm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Qe(309));var n=r.stateNode}if(!n)throw Error(Qe(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Qe(284));if(!r._owner)throw Error(Qe(290,e))}return e}function Zy(e,t){throw e=Object.prototype.toString.call(t),Error(Qe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function RA(e){var t=e._init;return t(e._payload)}function EF(e){function t(v,b){if(e){var x=v.deletions;x===null?(v.deletions=[b],v.flags|=16):x.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(v,b){return v=Kc(v,b),v.index=0,v.sibling=null,v}function i(v,b,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<b?(v.flags|=2,b):x):(v.flags|=2,b)):(v.flags|=1048576,b)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,b,x,k){return b===null||b.tag!==6?(b=l2(x,v.mode,k),b.return=v,b):(b=s(b,x),b.return=v,b)}function u(v,b,x,k){var T=x.type;return T===If?d(v,b,x.props.children,k,x.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===wc&&RA(T)===b.type)?(k=s(b,x.props),k.ref=nm(v,b,x),k.return=v,k):(k=Bb(x.type,x.key,x.props,null,v.mode,k),k.ref=nm(v,b,x),k.return=v,k)}function l(v,b,x,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=c2(x,v.mode,k),b.return=v,b):(b=s(b,x.children||[]),b.return=v,b)}function d(v,b,x,k,T){return b===null||b.tag!==7?(b=bd(x,v.mode,k,T),b.return=v,b):(b=s(b,x),b.return=v,b)}function h(v,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=l2(""+b,v.mode,x),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ly:return x=Bb(b.type,b.key,b.props,null,v.mode,x),x.ref=nm(v,null,b),x.return=v,x;case Pf:return b=c2(b,v.mode,x),b.return=v,b;case wc:var k=b._init;return h(v,k(b._payload),x)}if(wm(b)||Qp(b))return b=bd(b,v.mode,x,null),b.return=v,b;Zy(v,b)}return null}function f(v,b,x,k){var T=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:o(v,b,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ly:return x.key===T?u(v,b,x,k):null;case Pf:return x.key===T?l(v,b,x,k):null;case wc:return T=x._init,f(v,b,T(x._payload),k)}if(wm(x)||Qp(x))return T!==null?null:d(v,b,x,k,null);Zy(v,x)}return null}function p(v,b,x,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(x)||null,o(b,v,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ly:return v=v.get(k.key===null?x:k.key)||null,u(b,v,k,T);case Pf:return v=v.get(k.key===null?x:k.key)||null,l(b,v,k,T);case wc:var O=k._init;return p(v,b,x,O(k._payload),T)}if(wm(k)||Qp(k))return v=v.get(x)||null,d(b,v,k,T,null);Zy(b,k)}return null}function g(v,b,x,k){for(var T=null,O=null,F=b,A=b=0,P=null;F!==null&&A<x.length;A++){F.index>A?(P=F,F=null):P=F.sibling;var D=f(v,F,x[A],k);if(D===null){F===null&&(F=P);break}e&&F&&D.alternate===null&&t(v,F),b=i(D,b,A),O===null?T=D:O.sibling=D,O=D,F=P}if(A===x.length)return r(v,F),vn&&zu(v,A),T;if(F===null){for(;A<x.length;A++)F=h(v,x[A],k),F!==null&&(b=i(F,b,A),O===null?T=F:O.sibling=F,O=F);return vn&&zu(v,A),T}for(F=n(v,F);A<x.length;A++)P=p(F,v,A,x[A],k),P!==null&&(e&&P.alternate!==null&&F.delete(P.key===null?A:P.key),b=i(P,b,A),O===null?T=P:O.sibling=P,O=P);return e&&F.forEach(function(V){return t(v,V)}),vn&&zu(v,A),T}function y(v,b,x,k){var T=Qp(x);if(typeof T!="function")throw Error(Qe(150));if(x=T.call(x),x==null)throw Error(Qe(151));for(var O=T=null,F=b,A=b=0,P=null,D=x.next();F!==null&&!D.done;A++,D=x.next()){F.index>A?(P=F,F=null):P=F.sibling;var V=f(v,F,D.value,k);if(V===null){F===null&&(F=P);break}e&&F&&V.alternate===null&&t(v,F),b=i(V,b,A),O===null?T=V:O.sibling=V,O=V,F=P}if(D.done)return r(v,F),vn&&zu(v,A),T;if(F===null){for(;!D.done;A++,D=x.next())D=h(v,D.value,k),D!==null&&(b=i(D,b,A),O===null?T=D:O.sibling=D,O=D);return vn&&zu(v,A),T}for(F=n(v,F);!D.done;A++,D=x.next())D=p(F,v,A,D.value,k),D!==null&&(e&&D.alternate!==null&&F.delete(D.key===null?A:D.key),b=i(D,b,A),O===null?T=D:O.sibling=D,O=D);return e&&F.forEach(function(B){return t(v,B)}),vn&&zu(v,A),T}function m(v,b,x,k){if(typeof x=="object"&&x!==null&&x.type===If&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ly:e:{for(var T=x.key,O=b;O!==null;){if(O.key===T){if(T=x.type,T===If){if(O.tag===7){r(v,O.sibling),b=s(O,x.props.children),b.return=v,v=b;break e}}else if(O.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===wc&&RA(T)===O.type){r(v,O.sibling),b=s(O,x.props),b.ref=nm(v,O,x),b.return=v,v=b;break e}r(v,O);break}else t(v,O);O=O.sibling}x.type===If?(b=bd(x.props.children,v.mode,k,x.key),b.return=v,v=b):(k=Bb(x.type,x.key,x.props,null,v.mode,k),k.ref=nm(v,b,x),k.return=v,v=k)}return a(v);case Pf:e:{for(O=x.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(v,b.sibling),b=s(b,x.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=c2(x,v.mode,k),b.return=v,v=b}return a(v);case wc:return O=x._init,m(v,b,O(x._payload),k)}if(wm(x))return g(v,b,x,k);if(Qp(x))return y(v,b,x,k);Zy(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(v,b.sibling),b=s(b,x),b.return=v,v=b):(r(v,b),b=l2(x,v.mode,k),b.return=v,v=b),a(v)):r(v,b)}return m}var Oh=EF(!0),CF=EF(!1),Lv=ku(null),Fv=null,zf=null,MN=null;function DN(){MN=zf=Fv=null}function $N(e){var t=Lv.current;fn(Lv),e._currentValue=t}function Ok(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function nh(e,t){Fv=e,MN=zf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Li=!0),e.firstContext=null)}function Ua(e){var t=e._currentValue;if(MN!==e)if(e={context:e,memoizedValue:t,next:null},zf===null){if(Fv===null)throw Error(Qe(308));zf=e,Fv.dependencies={lanes:0,firstContext:e}}else zf=zf.next=e;return t}var Yu=null;function LN(e){Yu===null?Yu=[e]:Yu.push(e)}function AF(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,LN(t)):(r.next=s.next,s.next=r),t.interleaved=r,Hl(e,n)}function Hl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _c=!1;function FN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ol(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wc(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Or&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Hl(e,r)}return s=n.interleaved,s===null?(t.next=t,LN(n)):(t.next=s.next,s.next=t),n.interleaved=t,Hl(e,r)}function Mb(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kN(e,r)}}function OA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zv(e,t,r,n){var s=e.updateQueue;_c=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,l=u.next;u.next=null,a===null?i=l:a.next=l,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,d=l=u=null,o=i;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(f=t,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Mn({},h,f);break e;case 2:_c=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(l=d=p,u=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=l,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ed|=a,e.lanes=a,e.memoizedState=h}}function MA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Qe(191,s));s.call(n)}}}var x0={},Xo=ku(x0),vg=ku(x0),xg=ku(x0);function Qu(e){if(e===x0)throw Error(Qe(174));return e}function zN(e,t){switch(nn(xg,t),nn(vg,e),nn(Xo,x0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pk(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pk(t,e)}fn(Xo),nn(Xo,t)}function Mh(){fn(Xo),fn(vg),fn(xg)}function IF(e){Qu(xg.current);var t=Qu(Xo.current),r=pk(t,e.type);t!==r&&(nn(vg,e),nn(Xo,r))}function BN(e){vg.current===e&&(fn(Xo),fn(vg))}var Nn=ku(0);function Bv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var r2=[];function UN(){for(var e=0;e<r2.length;e++)r2[e]._workInProgressVersionPrimary=null;r2.length=0}var Db=rc.ReactCurrentDispatcher,n2=rc.ReactCurrentBatchConfig,Td=0,In=null,os=null,_s=null,Uv=!1,Bm=!1,wg=0,qme=0;function Zs(){throw Error(Qe(321))}function VN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xo(e[r],t[r]))return!1;return!0}function WN(e,t,r,n,s,i){if(Td=i,In=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Db.current=e===null||e.memoizedState===null?Zme:Xme,e=r(n,s),Bm){i=0;do{if(Bm=!1,wg=0,25<=i)throw Error(Qe(301));i+=1,_s=os=null,t.updateQueue=null,Db.current=Yme,e=r(n,s)}while(Bm)}if(Db.current=Vv,t=os!==null&&os.next!==null,Td=0,_s=os=In=null,Uv=!1,t)throw Error(Qe(300));return e}function qN(){var e=wg!==0;return wg=0,e}function $o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _s===null?In.memoizedState=_s=e:_s=_s.next=e,_s}function Va(){if(os===null){var e=In.alternate;e=e!==null?e.memoizedState:null}else e=os.next;var t=_s===null?In.memoizedState:_s.next;if(t!==null)_s=t,os=e;else{if(e===null)throw Error(Qe(310));os=e,e={memoizedState:os.memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},_s===null?In.memoizedState=_s=e:_s=_s.next=e}return _s}function _g(e,t){return typeof t=="function"?t(e):t}function s2(e){var t=Va(),r=t.queue;if(r===null)throw Error(Qe(311));r.lastRenderedReducer=e;var n=os,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,l=i;do{var d=l.lane;if((Td&d)===d)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var h={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(o=u=h,a=n):u=u.next=h,In.lanes|=d,Ed|=d}l=l.next}while(l!==null&&l!==i);u===null?a=n:u.next=o,xo(n,t.memoizedState)||(Li=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,In.lanes|=i,Ed|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function i2(e){var t=Va(),r=t.queue;if(r===null)throw Error(Qe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);xo(i,t.memoizedState)||(Li=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function RF(){}function OF(e,t){var r=In,n=Va(),s=t(),i=!xo(n.memoizedState,s);if(i&&(n.memoizedState=s,Li=!0),n=n.queue,HN($F.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||_s!==null&&_s.memoizedState.tag&1){if(r.flags|=2048,Sg(9,DF.bind(null,r,n,s,t),void 0,null),Ts===null)throw Error(Qe(349));(Td&30)!==0||MF(r,t,s)}return s}function MF(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=In.updateQueue,t===null?(t={lastEffect:null,stores:null},In.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function DF(e,t,r,n){t.value=r,t.getSnapshot=n,LF(t)&&FF(e)}function $F(e,t,r){return r(function(){LF(t)&&FF(e)})}function LF(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xo(e,r)}catch{return!0}}function FF(e){var t=Hl(e,1);t!==null&&go(t,e,1,-1)}function DA(e){var t=$o();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:e},t.queue=e,e=e.dispatch=Gme.bind(null,In,e),[t.memoizedState,e]}function Sg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=In.updateQueue,t===null?(t={lastEffect:null,stores:null},In.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function zF(){return Va().memoizedState}function $b(e,t,r,n){var s=$o();In.flags|=e,s.memoizedState=Sg(1|t,r,void 0,n===void 0?null:n)}function s1(e,t,r,n){var s=Va();n=n===void 0?null:n;var i=void 0;if(os!==null){var a=os.memoizedState;if(i=a.destroy,n!==null&&VN(n,a.deps)){s.memoizedState=Sg(t,r,i,n);return}}In.flags|=e,s.memoizedState=Sg(1|t,r,i,n)}function $A(e,t){return $b(8390656,8,e,t)}function HN(e,t){return s1(2048,8,e,t)}function BF(e,t){return s1(4,2,e,t)}function UF(e,t){return s1(4,4,e,t)}function VF(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function WF(e,t,r){return r=r!=null?r.concat([e]):null,s1(4,4,VF.bind(null,t,e),r)}function KN(){}function qF(e,t){var r=Va();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&VN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function HF(e,t){var r=Va();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&VN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function KF(e,t,r){return(Td&21)===0?(e.baseState&&(e.baseState=!1,Li=!0),e.memoizedState=r):(xo(r,t)||(r=QL(),In.lanes|=r,Ed|=r,e.baseState=!0),t)}function Hme(e,t){var r=qr;qr=r!==0&&4>r?r:4,e(!0);var n=n2.transition;n2.transition={};try{e(!1),t()}finally{qr=r,n2.transition=n}}function GF(){return Va().memoizedState}function Kme(e,t,r){var n=Hc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ZF(e))XF(t,r);else if(r=AF(e,t,r,n),r!==null){var s=Si();go(r,e,n,s),YF(r,t,n)}}function Gme(e,t,r){var n=Hc(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ZF(e))XF(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,xo(o,a)){var u=t.interleaved;u===null?(s.next=s,LN(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=AF(e,t,s,n),r!==null&&(s=Si(),go(r,e,n,s),YF(r,t,n))}}function ZF(e){var t=e.alternate;return e===In||t!==null&&t===In}function XF(e,t){Bm=Uv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function YF(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kN(e,r)}}var Vv={readContext:Ua,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useInsertionEffect:Zs,useLayoutEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useMutableSource:Zs,useSyncExternalStore:Zs,useId:Zs,unstable_isNewReconciler:!1},Zme={readContext:Ua,useCallback:function(e,t){return $o().memoizedState=[e,t===void 0?null:t],e},useContext:Ua,useEffect:$A,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$b(4194308,4,VF.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $b(4194308,4,e,t)},useInsertionEffect:function(e,t){return $b(4,2,e,t)},useMemo:function(e,t){var r=$o();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$o();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Kme.bind(null,In,e),[n.memoizedState,e]},useRef:function(e){var t=$o();return e={current:e},t.memoizedState=e},useState:DA,useDebugValue:KN,useDeferredValue:function(e){return $o().memoizedState=e},useTransition:function(){var e=DA(!1),t=e[0];return e=Hme.bind(null,e[1]),$o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=In,s=$o();if(vn){if(r===void 0)throw Error(Qe(407));r=r()}else{if(r=t(),Ts===null)throw Error(Qe(349));(Td&30)!==0||MF(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,$A($F.bind(null,n,i,e),[e]),n.flags|=2048,Sg(9,DF.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=$o(),t=Ts.identifierPrefix;if(vn){var r=Rl,n=Il;r=(n&~(1<<32-mo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=qme++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xme={readContext:Ua,useCallback:qF,useContext:Ua,useEffect:HN,useImperativeHandle:WF,useInsertionEffect:BF,useLayoutEffect:UF,useMemo:HF,useReducer:s2,useRef:zF,useState:function(){return s2(_g)},useDebugValue:KN,useDeferredValue:function(e){var t=Va();return KF(t,os.memoizedState,e)},useTransition:function(){var e=s2(_g)[0],t=Va().memoizedState;return[e,t]},useMutableSource:RF,useSyncExternalStore:OF,useId:GF,unstable_isNewReconciler:!1},Yme={readContext:Ua,useCallback:qF,useContext:Ua,useEffect:HN,useImperativeHandle:WF,useInsertionEffect:BF,useLayoutEffect:UF,useMemo:HF,useReducer:i2,useRef:zF,useState:function(){return i2(_g)},useDebugValue:KN,useDeferredValue:function(e){var t=Va();return os===null?t.memoizedState=e:KF(t,os.memoizedState,e)},useTransition:function(){var e=i2(_g)[0],t=Va().memoizedState;return[e,t]},useMutableSource:RF,useSyncExternalStore:OF,useId:GF,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){t=Mn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Mk(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Mn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var i1={isMounted:function(e){return(e=e._reactInternals)?Qd(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Si(),s=Hc(e),i=Ol(n,s);i.payload=t,r!=null&&(i.callback=r),t=Wc(e,i,s),t!==null&&(go(t,e,s,n),Mb(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Si(),s=Hc(e),i=Ol(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Wc(e,i,s),t!==null&&(go(t,e,s,n),Mb(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Si(),n=Hc(e),s=Ol(r,n);s.tag=2,t!=null&&(s.callback=t),t=Wc(e,s,n),t!==null&&(go(t,e,n,r),Mb(t,e,n))}};function LA(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!mg(r,n)||!mg(s,i):!0}function QF(e,t,r){var n=!1,s=cu,i=t.contextType;return typeof i=="object"&&i!==null?i=Ua(i):(s=Ui(t)?jd:ci.current,n=t.contextTypes,i=(n=n!=null)?Ih(e,s):cu),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=i1,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function FA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&i1.enqueueReplaceState(t,t.state,null)}function Dk(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},FN(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ua(i):(i=Ui(t)?jd:ci.current,s.context=Ih(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Mk(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&i1.enqueueReplaceState(s,s.state,null),zv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Dh(e,t){try{var r="",n=t;do r+=jpe(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function a2(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $k(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Qme=typeof WeakMap=="function"?WeakMap:Map;function JF(e,t,r){r=Ol(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qv||(qv=!0,Kk=n),$k(e,t)},r}function ez(e,t,r){r=Ol(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){$k(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$k(e,t),typeof n!="function"&&(qc===null?qc=new Set([this]):qc.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function zA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Qme;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=fge.bind(null,e,t,r),t.then(e,e))}function BA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function UA(e,t,r,n,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ol(-1,1),t.tag=2,Wc(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var Jme=rc.ReactCurrentOwner,Li=!1;function gi(e,t,r,n){t.child=e===null?CF(t,null,r,n):Oh(t,e.child,r,n)}function VA(e,t,r,n,s){r=r.render;var i=t.ref;return nh(t,s),n=WN(e,t,r,n,i,s),r=qN(),e!==null&&!Li?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kl(e,t,s)):(vn&&r&&IN(t),t.flags|=1,gi(e,t,n,s),t.child)}function WA(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!t3(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,tz(e,t,i,n,s)):(e=Bb(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&s)===0){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:mg,r(a,n)&&e.ref===t.ref)return Kl(e,t,s)}return t.flags|=1,e=Kc(i,n),e.ref=t.ref,e.return=t,t.child=e}function tz(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(mg(i,n)&&e.ref===t.ref)if(Li=!1,t.pendingProps=n=i,(e.lanes&s)!==0)(e.flags&131072)!==0&&(Li=!0);else return t.lanes=e.lanes,Kl(e,t,s)}return Lk(e,t,r,n,s)}function rz(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nn(Uf,Zi),Zi|=r;else{if((r&1073741824)===0)return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nn(Uf,Zi),Zi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,nn(Uf,Zi),Zi|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,nn(Uf,Zi),Zi|=n;return gi(e,t,s,r),t.child}function nz(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Lk(e,t,r,n,s){var i=Ui(r)?jd:ci.current;return i=Ih(t,i),nh(t,s),r=WN(e,t,r,n,i,s),n=qN(),e!==null&&!Li?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kl(e,t,s)):(vn&&n&&IN(t),t.flags|=1,gi(e,t,r,s),t.child)}function qA(e,t,r,n,s){if(Ui(r)){var i=!0;Mv(t)}else i=!1;if(nh(t,s),t.stateNode===null)Lb(e,t),QF(t,r,n),Dk(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=Ua(l):(l=Ui(r)?jd:ci.current,l=Ih(t,l));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==l)&&FA(t,a,n,l),_c=!1;var f=t.memoizedState;a.state=f,zv(t,n,a,s),u=t.memoizedState,o!==n||f!==u||Bi.current||_c?(typeof d=="function"&&(Mk(t,r,d,n),u=t.memoizedState),(o=_c||LA(t,r,o,n,f,u,l))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=l,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,PF(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:no(t.type,o),a.props=l,h=t.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ua(u):(u=Ui(r)?jd:ci.current,u=Ih(t,u));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==u)&&FA(t,a,n,u),_c=!1,f=t.memoizedState,a.state=f,zv(t,n,a,s);var g=t.memoizedState;o!==h||f!==g||Bi.current||_c?(typeof p=="function"&&(Mk(t,r,p,n),g=t.memoizedState),(l=_c||LA(t,r,l,n,f,g,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=u,n=l):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Fk(e,t,r,n,i,s)}function Fk(e,t,r,n,s,i){nz(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&AA(t,r,!1),Kl(e,t,i);n=t.stateNode,Jme.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Oh(t,e.child,null,i),t.child=Oh(t,null,o,i)):gi(e,t,o,i),t.memoizedState=n.state,s&&AA(t,r,!0),t.child}function sz(e){var t=e.stateNode;t.pendingContext?CA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&CA(e,t.context,!1),zN(e,t.containerInfo)}function HA(e,t,r,n,s){return Rh(),ON(s),t.flags|=256,gi(e,t,r,n),t.child}var zk={dehydrated:null,treeContext:null,retryLane:0};function Bk(e){return{baseLanes:e,cachePool:null,transitions:null}}function iz(e,t,r){var n=t.pendingProps,s=Nn.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),nn(Nn,s&1),e===null)return Rk(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},(n&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=a):i=l1(a,n,0,null),e=bd(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Bk(r),t.memoizedState=zk,e):GN(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return ege(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return(a&1)===0&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Kc(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Kc(o,i):(i=bd(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Bk(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=zk,n}return i=e.child,e=i.sibling,n=Kc(i,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function GN(e,t){return t=l1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xy(e,t,r,n){return n!==null&&ON(n),Oh(t,e.child,null,r),e=GN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ege(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=a2(Error(Qe(422))),Xy(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=l1({mode:"visible",children:n.children},s,0,null),i=bd(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,(t.mode&1)!==0&&Oh(t,e.child,null,a),t.child.memoizedState=Bk(a),t.memoizedState=zk,i);if((t.mode&1)===0)return Xy(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Qe(419)),n=a2(i,n,void 0),Xy(e,t,a,n)}if(o=(a&e.childLanes)!==0,Li||o){if(n=Ts,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(n.suspendedLanes|a))!==0?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hl(e,s),go(n,e,s,-1))}return e3(),n=a2(Error(Qe(421))),Xy(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=hge.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ta=Vc(s.nextSibling),sa=t,vn=!0,co=null,e!==null&&(Ta[Ea++]=Il,Ta[Ea++]=Rl,Ta[Ea++]=Nd,Il=e.id,Rl=e.overflow,Nd=t),t=GN(t,n.children),t.flags|=4096,t)}function KA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ok(e.return,t,r)}function o2(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function az(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(gi(e,t,n.children,r),n=Nn.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&KA(e,r,t);else if(e.tag===19)KA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(nn(Nn,n),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Bv(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),o2(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Bv(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}o2(t,!0,r,null,i);break;case"together":o2(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lb(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ed|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(Qe(153));if(t.child!==null){for(e=t.child,r=Kc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function tge(e,t,r){switch(t.tag){case 3:sz(t),Rh();break;case 5:IF(t);break;case 1:Ui(t.type)&&Mv(t);break;case 4:zN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;nn(Lv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(nn(Nn,Nn.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?iz(e,t,r):(nn(Nn,Nn.current&1),e=Kl(e,t,r),e!==null?e.sibling:null);nn(Nn,Nn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return az(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),nn(Nn,Nn.current),n)break;return null;case 22:case 23:return t.lanes=0,rz(e,t,r)}return Kl(e,t,r)}var oz,Uk,lz,cz;oz=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uk=function(){};lz=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Qu(Xo.current);var i=null;switch(r){case"input":s=uk(e,s),n=uk(e,n),i=[];break;case"select":s=Mn({},s,{value:void 0}),n=Mn({},n,{value:void 0}),i=[];break;case"textarea":s=hk(e,s),n=hk(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Rv)}mk(r,n);var a;r=null;for(l in s)if(!n.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var o=s[l];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(lg.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var u=n[l];if(o=s?.[l],n.hasOwnProperty(l)&&u!==o&&(u!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(lg.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&cn("scroll",e),i||o===u||(i=[])):(i=i||[]).push(l,u))}r&&(i=i||[]).push("style",r);var l=i;(t.updateQueue=l)&&(t.flags|=4)}};cz=function(e,t,r,n){r!==n&&(t.flags|=4)};function sm(e,t){if(!vn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function rge(e,t,r){var n=t.pendingProps;switch(RN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:return Ui(t.type)&&Ov(),Xs(t),null;case 3:return n=t.stateNode,Mh(),fn(Bi),fn(ci),UN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,co!==null&&(Xk(co),co=null))),Uk(e,t),Xs(t),null;case 5:BN(t);var s=Qu(xg.current);if(r=t.type,e!==null&&t.stateNode!=null)lz(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Qe(166));return Xs(t),null}if(e=Qu(Xo.current),Gy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Uo]=t,n[bg]=i,e=(t.mode&1)!==0,r){case"dialog":cn("cancel",n),cn("close",n);break;case"iframe":case"object":case"embed":cn("load",n);break;case"video":case"audio":for(s=0;s<Sm.length;s++)cn(Sm[s],n);break;case"source":cn("error",n);break;case"img":case"image":case"link":cn("error",n),cn("load",n);break;case"details":cn("toggle",n);break;case"input":rA(n,i),cn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},cn("invalid",n);break;case"textarea":sA(n,i),cn("invalid",n)}mk(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ky(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ky(n.textContent,o,e),s=["children",""+o]):lg.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&cn("scroll",n)}switch(r){case"input":Fy(n),nA(n,i,!0);break;case"textarea":Fy(n),iA(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Rv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$L(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Uo]=t,e[bg]=n,oz(e,t,!1,!1),t.stateNode=e;e:{switch(a=gk(r,n),r){case"dialog":cn("cancel",e),cn("close",e),s=n;break;case"iframe":case"object":case"embed":cn("load",e),s=n;break;case"video":case"audio":for(s=0;s<Sm.length;s++)cn(Sm[s],e);s=n;break;case"source":cn("error",e),s=n;break;case"img":case"image":case"link":cn("error",e),cn("load",e),s=n;break;case"details":cn("toggle",e),s=n;break;case"input":rA(e,n),s=uk(e,n),cn("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Mn({},n,{value:void 0}),cn("invalid",e);break;case"textarea":sA(e,n),s=hk(e,n),cn("invalid",e);break;default:s=n}mk(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?zL(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&LL(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&cg(e,u):typeof u=="number"&&cg(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(lg.hasOwnProperty(i)?u!=null&&i==="onScroll"&&cn("scroll",e):u!=null&&bN(e,i,u,a))}switch(r){case"input":Fy(e),nA(e,n,!1);break;case"textarea":Fy(e),iA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+lu(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Jf(e,!!n.multiple,i,!1):n.defaultValue!=null&&Jf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Rv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&t.stateNode!=null)cz(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Qe(166));if(r=Qu(xg.current),Qu(Xo.current),Gy(t)){if(n=t.stateNode,r=t.memoizedProps,n[Uo]=t,(i=n.nodeValue!==r)&&(e=sa,e!==null))switch(e.tag){case 3:Ky(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ky(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Uo]=t,t.stateNode=n}return Xs(t),null;case 13:if(fn(Nn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vn&&ta!==null&&(t.mode&1)!==0&&(t.flags&128)===0)TF(),Rh(),t.flags|=98560,i=!1;else if(i=Gy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Qe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Qe(317));i[Uo]=t}else Rh(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xs(t),i=!1}else co!==null&&(Xk(co),co=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Nn.current&1)!==0?ds===0&&(ds=3):e3())),t.updateQueue!==null&&(t.flags|=4),Xs(t),null);case 4:return Mh(),Uk(e,t),e===null&&gg(t.stateNode.containerInfo),Xs(t),null;case 10:return $N(t.type._context),Xs(t),null;case 17:return Ui(t.type)&&Ov(),Xs(t),null;case 19:if(fn(Nn),i=t.memoizedState,i===null)return Xs(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)sm(i,!1);else{if(ds!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=Bv(e),a!==null){for(t.flags|=128,sm(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return nn(Nn,Nn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Kn()>$h&&(t.flags|=128,n=!0,sm(i,!1),t.lanes=4194304)}else{if(!n)if(e=Bv(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),sm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!vn)return Xs(t),null}else 2*Kn()-i.renderingStartTime>$h&&r!==1073741824&&(t.flags|=128,n=!0,sm(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Kn(),t.sibling=null,r=Nn.current,nn(Nn,n?r&1|2:r&1),t):(Xs(t),null);case 22:case 23:return JN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(Zi&1073741824)!==0&&(Xs(t),t.subtreeFlags&6&&(t.flags|=8192)):Xs(t),null;case 24:return null;case 25:return null}throw Error(Qe(156,t.tag))}function nge(e,t){switch(RN(t),t.tag){case 1:return Ui(t.type)&&Ov(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mh(),fn(Bi),fn(ci),UN(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return BN(t),null;case 13:if(fn(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Qe(340));Rh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fn(Nn),null;case 4:return Mh(),null;case 10:return $N(t.type._context),null;case 22:case 23:return JN(),null;case 24:return null;default:return null}}var Yy=!1,ri=!1,sge=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Bf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Fn(e,t,n)}else r.current=null}function Vk(e,t,r){try{r()}catch(n){Fn(e,t,n)}}var GA=!1;function ige(e,t){if(Nk=Av,e=pF(),PN(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,l=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++l===s&&(o=a),f===i&&++d===n&&(u=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tk={focusedElem:e,selectionRange:r},Av=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){t=pt;try{var g=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,m=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:no(t.type,y),m);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qe(163))}}catch(k){Fn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}return g=GA,GA=!1,g}function Um(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vk(t,r,i)}s=s.next}while(s!==n)}}function a1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Wk(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function uz(e){var t=e.alternate;t!==null&&(e.alternate=null,uz(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Uo],delete t[bg],delete t[Ak],delete t[Bme],delete t[Ume])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dz(e){return e.tag===5||e.tag===3||e.tag===4}function ZA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dz(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Rv));else if(n!==4&&(e=e.child,e!==null))for(qk(e,t,r),e=e.sibling;e!==null;)qk(e,t,r),e=e.sibling}function Hk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Hk(e,t,r),e=e.sibling;e!==null;)Hk(e,t,r),e=e.sibling}var Os=null,ao=!1;function fc(e,t,r){for(r=r.child;r!==null;)fz(e,t,r),r=r.sibling}function fz(e,t,r){if(Zo&&typeof Zo.onCommitFiberUnmount=="function")try{Zo.onCommitFiberUnmount(Qx,r)}catch{}switch(r.tag){case 5:ri||Bf(r,t);case 6:var n=Os,s=ao;Os=null,fc(e,t,r),Os=n,ao=s,Os!==null&&(ao?(e=Os,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Os.removeChild(r.stateNode));break;case 18:Os!==null&&(ao?(e=Os,r=r.stateNode,e.nodeType===8?e2(e.parentNode,r):e.nodeType===1&&e2(e,r),hg(e)):e2(Os,r.stateNode));break;case 4:n=Os,s=ao,Os=r.stateNode.containerInfo,ao=!0,fc(e,t,r),Os=n,ao=s;break;case 0:case 11:case 14:case 15:if(!ri&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&((i&2)!==0||(i&4)!==0)&&Vk(r,t,a),s=s.next}while(s!==n)}fc(e,t,r);break;case 1:if(!ri&&(Bf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Fn(r,t,o)}fc(e,t,r);break;case 21:fc(e,t,r);break;case 22:r.mode&1?(ri=(n=ri)||r.memoizedState!==null,fc(e,t,r),ri=n):fc(e,t,r);break;default:fc(e,t,r)}}function XA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sge),t.forEach(function(n){var s=pge.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function eo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Os=o.stateNode,ao=!1;break e;case 3:Os=o.stateNode.containerInfo,ao=!0;break e;case 4:Os=o.stateNode.containerInfo,ao=!0;break e}o=o.return}if(Os===null)throw Error(Qe(160));fz(i,a,s),Os=null,ao=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(l){Fn(s,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hz(t,e),t=t.sibling}function hz(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(eo(t,e),Oo(e),n&4){try{Um(3,e,e.return),a1(3,e)}catch(y){Fn(e,e.return,y)}try{Um(5,e,e.return)}catch(y){Fn(e,e.return,y)}}break;case 1:eo(t,e),Oo(e),n&512&&r!==null&&Bf(r,r.return);break;case 5:if(eo(t,e),Oo(e),n&512&&r!==null&&Bf(r,r.return),e.flags&32){var s=e.stateNode;try{cg(s,"")}catch(y){Fn(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&ML(s,i),gk(o,a);var l=gk(o,i);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?zL(s,h):d==="dangerouslySetInnerHTML"?LL(s,h):d==="children"?cg(s,h):bN(s,d,h,l)}switch(o){case"input":dk(s,i);break;case"textarea":DL(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Jf(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Jf(s,!!i.multiple,i.defaultValue,!0):Jf(s,!!i.multiple,i.multiple?[]:"",!1))}s[bg]=i}catch(y){Fn(e,e.return,y)}}break;case 6:if(eo(t,e),Oo(e),n&4){if(e.stateNode===null)throw Error(Qe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){Fn(e,e.return,y)}}break;case 3:if(eo(t,e),Oo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hg(t.containerInfo)}catch(y){Fn(e,e.return,y)}break;case 4:eo(t,e),Oo(e);break;case 13:eo(t,e),Oo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(YN=Kn())),n&4&&XA(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ri=(l=ri)||d,eo(t,e),ri=l):eo(t,e),Oo(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!d&&(e.mode&1)!==0)for(pt=e,d=e.child;d!==null;){for(h=pt=d;pt!==null;){switch(f=pt,p=f.child,f.tag){case 0:case 11:case 14:case 15:Um(4,f,f.return);break;case 1:Bf(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Fn(n,r,y)}}break;case 5:Bf(f,f.return);break;case 22:if(f.memoizedState!==null){QA(h);continue}}p!==null?(p.return=f,pt=p):QA(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=FL("display",a))}catch(y){Fn(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Fn(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:eo(t,e),Oo(e),n&4&&XA(e);break;case 21:break;default:eo(t,e),Oo(e)}}function Oo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(dz(r)){var n=r;break e}r=r.return}throw Error(Qe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(cg(s,""),n.flags&=-33);var i=ZA(e);Hk(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=ZA(e);qk(e,o,a);break;default:throw Error(Qe(161))}}catch(u){Fn(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function age(e,t,r){pt=e,pz(e)}function pz(e,t,r){for(var n=(e.mode&1)!==0;pt!==null;){var s=pt,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Yy;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||ri;o=Yy;var l=ri;if(Yy=a,(ri=u)&&!l)for(pt=s;pt!==null;)a=pt,u=a.child,a.tag===22&&a.memoizedState!==null?JA(s):u!==null?(u.return=a,pt=u):JA(s);for(;i!==null;)pt=i,pz(i),i=i.sibling;pt=s,Yy=o,ri=l}YA(e)}else(s.subtreeFlags&8772)!==0&&i!==null?(i.return=s,pt=i):YA(e)}}function YA(e){for(;pt!==null;){var t=pt;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ri||a1(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ri)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:no(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&MA(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}MA(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&hg(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qe(163))}ri||t.flags&512&&Wk(t)}catch(f){Fn(t,t.return,f)}}if(t===e){pt=null;break}if(r=t.sibling,r!==null){r.return=t.return,pt=r;break}pt=t.return}}function QA(e){for(;pt!==null;){var t=pt;if(t===e){pt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pt=r;break}pt=t.return}}function JA(e){for(;pt!==null;){var t=pt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{a1(4,t)}catch(u){Fn(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){Fn(t,s,u)}}var i=t.return;try{Wk(t)}catch(u){Fn(t,i,u)}break;case 5:var a=t.return;try{Wk(t)}catch(u){Fn(t,a,u)}}}catch(u){Fn(t,t.return,u)}if(t===e){pt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,pt=o;break}pt=t.return}}var oge=Math.ceil,Wv=rc.ReactCurrentDispatcher,ZN=rc.ReactCurrentOwner,Fa=rc.ReactCurrentBatchConfig,Or=0,Ts=null,Jn=null,Bs=0,Zi=0,Uf=ku(0),ds=0,kg=null,Ed=0,o1=0,XN=0,Vm=null,Mi=null,YN=0,$h=1/0,xl=null,qv=!1,Kk=null,qc=null,Qy=!1,$c=null,Hv=0,Wm=0,Gk=null,Fb=-1,zb=0;function Si(){return(Or&6)!==0?Kn():Fb!==-1?Fb:Fb=Kn()}function Hc(e){return(e.mode&1)===0?1:(Or&2)!==0&&Bs!==0?Bs&-Bs:Wme.transition!==null?(zb===0&&(zb=QL()),zb):(e=qr,e!==0||(e=window.event,e=e===void 0?16:iF(e.type)),e)}function go(e,t,r,n){if(50<Wm)throw Wm=0,Gk=null,Error(Qe(185));y0(e,r,n),((Or&2)===0||e!==Ts)&&(e===Ts&&((Or&2)===0&&(o1|=r),ds===4&&kc(e,Bs)),Vi(e,n),r===1&&Or===0&&(t.mode&1)===0&&($h=Kn()+500,n1&&ju()))}function Vi(e,t){var r=e.callbackNode;Wpe(e,t);var n=Cv(e,e===Ts?Bs:0);if(n===0)r!==null&&lA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&lA(r),t===1)e.tag===0?Vme(e8.bind(null,e)):kF(e8.bind(null,e)),Fme(function(){(Or&6)===0&&ju()}),r=null;else{switch(JL(n)){case 1:r=SN;break;case 4:r=XL;break;case 16:r=Ev;break;case 536870912:r=YL;break;default:r=Ev}r=_z(r,mz.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mz(e,t){if(Fb=-1,zb=0,(Or&6)!==0)throw Error(Qe(327));var r=e.callbackNode;if(sh()&&e.callbackNode!==r)return null;var n=Cv(e,e===Ts?Bs:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=Kv(e,n);else{t=n;var s=Or;Or|=2;var i=yz();(Ts!==e||Bs!==t)&&(xl=null,$h=Kn()+500,yd(e,t));do try{uge();break}catch(o){gz(e,o)}while(!0);DN(),Wv.current=i,Or=s,Jn!==null?t=0:(Ts=null,Bs=0,t=ds)}if(t!==0){if(t===2&&(s=wk(e),s!==0&&(n=s,t=Zk(e,s))),t===1)throw r=kg,yd(e,0),kc(e,n),Vi(e,Kn()),r;if(t===6)kc(e,n);else{if(s=e.current.alternate,(n&30)===0&&!lge(s)&&(t=Kv(e,n),t===2&&(i=wk(e),i!==0&&(n=i,t=Zk(e,i))),t===1))throw r=kg,yd(e,0),kc(e,n),Vi(e,Kn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Qe(345));case 2:Bu(e,Mi,xl);break;case 3:if(kc(e,n),(n&130023424)===n&&(t=YN+500-Kn(),10<t)){if(Cv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Si(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ck(Bu.bind(null,e,Mi,xl),t);break}Bu(e,Mi,xl);break;case 4:if(kc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-mo(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Kn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oge(n/1960))-n,10<n){e.timeoutHandle=Ck(Bu.bind(null,e,Mi,xl),n);break}Bu(e,Mi,xl);break;case 5:Bu(e,Mi,xl);break;default:throw Error(Qe(329))}}}return Vi(e,Kn()),e.callbackNode===r?mz.bind(null,e):null}function Zk(e,t){var r=Vm;return e.current.memoizedState.isDehydrated&&(yd(e,t).flags|=256),e=Kv(e,t),e!==2&&(t=Mi,Mi=r,t!==null&&Xk(t)),e}function Xk(e){Mi===null?Mi=e:Mi.push.apply(Mi,e)}function lge(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!xo(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kc(e,t){for(t&=~XN,t&=~o1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mo(t),n=1<<r;e[r]=-1,t&=~n}}function e8(e){if((Or&6)!==0)throw Error(Qe(327));sh();var t=Cv(e,0);if((t&1)===0)return Vi(e,Kn()),null;var r=Kv(e,t);if(e.tag!==0&&r===2){var n=wk(e);n!==0&&(t=n,r=Zk(e,n))}if(r===1)throw r=kg,yd(e,0),kc(e,t),Vi(e,Kn()),r;if(r===6)throw Error(Qe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bu(e,Mi,xl),Vi(e,Kn()),null}function QN(e,t){var r=Or;Or|=1;try{return e(t)}finally{Or=r,Or===0&&($h=Kn()+500,n1&&ju())}}function Cd(e){$c!==null&&$c.tag===0&&(Or&6)===0&&sh();var t=Or;Or|=1;var r=Fa.transition,n=qr;try{if(Fa.transition=null,qr=1,e)return e()}finally{qr=n,Fa.transition=r,Or=t,(Or&6)===0&&ju()}}function JN(){Zi=Uf.current,fn(Uf)}function yd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Lme(r)),Jn!==null)for(r=Jn.return;r!==null;){var n=r;switch(RN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ov();break;case 3:Mh(),fn(Bi),fn(ci),UN();break;case 5:BN(n);break;case 4:Mh();break;case 13:fn(Nn);break;case 19:fn(Nn);break;case 10:$N(n.type._context);break;case 22:case 23:JN()}r=r.return}if(Ts=e,Jn=e=Kc(e.current,null),Bs=Zi=t,ds=0,kg=null,XN=o1=Ed=0,Mi=Vm=null,Yu!==null){for(t=0;t<Yu.length;t++)if(r=Yu[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Yu=null}return e}function gz(e,t){do{var r=Jn;try{if(DN(),Db.current=Vv,Uv){for(var n=In.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Uv=!1}if(Td=0,_s=os=In=null,Bm=!1,wg=0,ZN.current=null,r===null||r.return===null){ds=1,kg=t,Jn=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=Bs,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,d=o,h=d.tag;if((d.mode&1)===0&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=BA(a);if(p!==null){p.flags&=-257,UA(p,a,o,i,t),p.mode&1&&zA(i,l,t),t=p,u=l;var g=t.updateQueue;if(g===null){var y=new Set;y.add(u),t.updateQueue=y}else g.add(u);break e}else{if((t&1)===0){zA(i,l,t),e3();break e}u=Error(Qe(426))}}else if(vn&&o.mode&1){var m=BA(a);if(m!==null){(m.flags&65536)===0&&(m.flags|=256),UA(m,a,o,i,t),ON(Dh(u,o));break e}}i=u=Dh(u,o),ds!==4&&(ds=2),Vm===null?Vm=[i]:Vm.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=JF(i,u,t);OA(i,v);break e;case 1:o=u;var b=i.type,x=i.stateNode;if((i.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qc===null||!qc.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=ez(i,o,t);OA(i,k);break e}}i=i.return}while(i!==null)}vz(r)}catch(T){t=T,Jn===r&&r!==null&&(Jn=r=r.return);continue}break}while(!0)}function yz(){var e=Wv.current;return Wv.current=Vv,e===null?Vv:e}function e3(){(ds===0||ds===3||ds===2)&&(ds=4),Ts===null||(Ed&268435455)===0&&(o1&268435455)===0||kc(Ts,Bs)}function Kv(e,t){var r=Or;Or|=2;var n=yz();(Ts!==e||Bs!==t)&&(xl=null,yd(e,t));do try{cge();break}catch(s){gz(e,s)}while(!0);if(DN(),Or=r,Wv.current=n,Jn!==null)throw Error(Qe(261));return Ts=null,Bs=0,ds}function cge(){for(;Jn!==null;)bz(Jn)}function uge(){for(;Jn!==null&&!Mpe();)bz(Jn)}function bz(e){var t=wz(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,t===null?vz(e):Jn=t,ZN.current=null}function vz(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=rge(r,t,Zi),r!==null){Jn=r;return}}else{if(r=nge(r,t),r!==null){r.flags&=32767,Jn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ds=6,Jn=null;return}}if(t=t.sibling,t!==null){Jn=t;return}Jn=t=e}while(t!==null);ds===0&&(ds=5)}function Bu(e,t,r){var n=qr,s=Fa.transition;try{Fa.transition=null,qr=1,dge(e,t,r,n)}finally{Fa.transition=s,qr=n}return null}function dge(e,t,r,n){do sh();while($c!==null);if((Or&6)!==0)throw Error(Qe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Qe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(qpe(e,i),e===Ts&&(Jn=Ts=null,Bs=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Qy||(Qy=!0,_z(Ev,function(){return sh(),null})),i=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||i){i=Fa.transition,Fa.transition=null;var a=qr;qr=1;var o=Or;Or|=4,ZN.current=null,ige(e,r),hz(r,e),Pme(Tk),Av=!!Nk,Tk=Nk=null,e.current=r,age(r),Dpe(),Or=o,qr=a,Fa.transition=i}else e.current=r;if(Qy&&(Qy=!1,$c=e,Hv=s),i=e.pendingLanes,i===0&&(qc=null),Fpe(r.stateNode),Vi(e,Kn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(qv)throw qv=!1,e=Kk,Kk=null,e;return(Hv&1)!==0&&e.tag!==0&&sh(),i=e.pendingLanes,(i&1)!==0?e===Gk?Wm++:(Wm=0,Gk=e):Wm=0,ju(),null}function sh(){if($c!==null){var e=JL(Hv),t=Fa.transition,r=qr;try{if(Fa.transition=null,qr=16>e?16:e,$c===null)var n=!1;else{if(e=$c,$c=null,Hv=0,(Or&6)!==0)throw Error(Qe(331));var s=Or;for(Or|=4,pt=e.current;pt!==null;){var i=pt,a=i.child;if((pt.flags&16)!==0){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var l=o[u];for(pt=l;pt!==null;){var d=pt;switch(d.tag){case 0:case 11:case 15:Um(8,d,i)}var h=d.child;if(h!==null)h.return=d,pt=h;else for(;pt!==null;){d=pt;var f=d.sibling,p=d.return;if(uz(d),d===l){pt=null;break}if(f!==null){f.return=p,pt=f;break}pt=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(y!==null)}}pt=i}}if((i.subtreeFlags&2064)!==0&&a!==null)a.return=i,pt=a;else e:for(;pt!==null;){if(i=pt,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Um(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,pt=v;break e}pt=i.return}}var b=e.current;for(pt=b;pt!==null;){a=pt;var x=a.child;if((a.subtreeFlags&2064)!==0&&x!==null)x.return=a,pt=x;else e:for(a=b;pt!==null;){if(o=pt,(o.flags&2048)!==0)try{switch(o.tag){case 0:case 11:case 15:a1(9,o)}}catch(T){Fn(o,o.return,T)}if(o===a){pt=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,pt=k;break e}pt=o.return}}if(Or=s,ju(),Zo&&typeof Zo.onPostCommitFiberRoot=="function")try{Zo.onPostCommitFiberRoot(Qx,e)}catch{}n=!0}return n}finally{qr=r,Fa.transition=t}}return!1}function t8(e,t,r){t=Dh(r,t),t=JF(e,t,1),e=Wc(e,t,1),t=Si(),e!==null&&(y0(e,1,t),Vi(e,t))}function Fn(e,t,r){if(e.tag===3)t8(e,e,r);else for(;t!==null;){if(t.tag===3){t8(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qc===null||!qc.has(n))){e=Dh(r,e),e=ez(t,e,1),t=Wc(t,e,1),e=Si(),t!==null&&(y0(t,1,e),Vi(t,e));break}}t=t.return}}function fge(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Si(),e.pingedLanes|=e.suspendedLanes&r,Ts===e&&(Bs&r)===r&&(ds===4||ds===3&&(Bs&130023424)===Bs&&500>Kn()-YN?yd(e,0):XN|=r),Vi(e,t)}function xz(e,t){t===0&&((e.mode&1)===0?t=1:(t=Uy,Uy<<=1,(Uy&130023424)===0&&(Uy=4194304)));var r=Si();e=Hl(e,t),e!==null&&(y0(e,t,r),Vi(e,r))}function hge(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xz(e,r)}function pge(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Qe(314))}n!==null&&n.delete(t),xz(e,r)}var wz;wz=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bi.current)Li=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Li=!1,tge(e,t,r);Li=(e.flags&131072)!==0}else Li=!1,vn&&(t.flags&1048576)!==0&&jF(t,$v,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Lb(e,t),e=t.pendingProps;var s=Ih(t,ci.current);nh(t,r),s=WN(null,t,n,e,s,r);var i=qN();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ui(n)?(i=!0,Mv(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,FN(t),s.updater=i1,t.stateNode=s,s._reactInternals=t,Dk(t,n,e,r),t=Fk(null,t,n,!0,i,r)):(t.tag=0,vn&&i&&IN(t),gi(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Lb(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=gge(n),e=no(n,e),s){case 0:t=Lk(null,t,n,e,r);break e;case 1:t=qA(null,t,n,e,r);break e;case 11:t=VA(null,t,n,e,r);break e;case 14:t=WA(null,t,n,no(n.type,e),r);break e}throw Error(Qe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:no(n,s),Lk(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:no(n,s),qA(e,t,n,s,r);case 3:e:{if(sz(t),e===null)throw Error(Qe(387));n=t.pendingProps,i=t.memoizedState,s=i.element,PF(e,t),zv(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Dh(Error(Qe(423)),t),t=HA(e,t,n,r,s);break e}else if(n!==s){s=Dh(Error(Qe(424)),t),t=HA(e,t,n,r,s);break e}else for(ta=Vc(t.stateNode.containerInfo.firstChild),sa=t,vn=!0,co=null,r=CF(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rh(),n===s){t=Kl(e,t,r);break e}gi(e,t,n,r)}t=t.child}return t;case 5:return IF(t),e===null&&Rk(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Ek(n,s)?a=null:i!==null&&Ek(n,i)&&(t.flags|=32),nz(e,t),gi(e,t,a,r),t.child;case 6:return e===null&&Rk(t),null;case 13:return iz(e,t,r);case 4:return zN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Oh(t,null,n,r):gi(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:no(n,s),VA(e,t,n,s,r);case 7:return gi(e,t,t.pendingProps,r),t.child;case 8:return gi(e,t,t.pendingProps.children,r),t.child;case 12:return gi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,nn(Lv,n._currentValue),n._currentValue=a,i!==null)if(xo(i.value,a)){if(i.children===s.children&&!Bi.current){t=Kl(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Ol(-1,r&-r),u.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Ok(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Qe(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Ok(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}gi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,nh(t,r),s=Ua(s),n=n(s),t.flags|=1,gi(e,t,n,r),t.child;case 14:return n=t.type,s=no(n,t.pendingProps),s=no(n.type,s),WA(e,t,n,s,r);case 15:return tz(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:no(n,s),Lb(e,t),t.tag=1,Ui(n)?(e=!0,Mv(t)):e=!1,nh(t,r),QF(t,n,s),Dk(t,n,s,r),Fk(null,t,n,!0,e,r);case 19:return az(e,t,r);case 22:return rz(e,t,r)}throw Error(Qe(156,t.tag))};function _z(e,t){return ZL(e,t)}function mge(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(e,t,r,n){return new mge(e,t,r,n)}function t3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gge(e){if(typeof e=="function")return t3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xN)return 11;if(e===wN)return 14}return 2}function Kc(e,t){var r=e.alternate;return r===null?(r=Ma(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bb(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")t3(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case If:return bd(r.children,s,i,t);case vN:a=8,s|=8;break;case ak:return e=Ma(12,r,t,s|2),e.elementType=ak,e.lanes=i,e;case ok:return e=Ma(13,r,t,s),e.elementType=ok,e.lanes=i,e;case lk:return e=Ma(19,r,t,s),e.elementType=lk,e.lanes=i,e;case IL:return l1(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case AL:a=10;break e;case PL:a=9;break e;case xN:a=11;break e;case wN:a=14;break e;case wc:a=16,n=null;break e}throw Error(Qe(130,e==null?e:typeof e,""))}return t=Ma(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function bd(e,t,r,n){return e=Ma(7,e,n,t),e.lanes=r,e}function l1(e,t,r,n){return e=Ma(22,e,n,t),e.elementType=IL,e.lanes=r,e.stateNode={isHidden:!1},e}function l2(e,t,r){return e=Ma(6,e,null,t),e.lanes=r,e}function c2(e,t,r){return t=Ma(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yge(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=V_(0),this.expirationTimes=V_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V_(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function r3(e,t,r,n,s,i,a,o,u){return e=new yge(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ma(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},FN(i),e}function bge(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Sz(e){if(!e)return cu;e=e._reactInternals;e:{if(Qd(e)!==e||e.tag!==1)throw Error(Qe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ui(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Qe(171))}if(e.tag===1){var r=e.type;if(Ui(r))return SF(e,r,t)}return t}function kz(e,t,r,n,s,i,a,o,u){return e=r3(r,n,!0,e,s,i,a,o,u),e.context=Sz(null),r=e.current,n=Si(),s=Hc(r),i=Ol(n,s),i.callback=t??null,Wc(r,i,s),e.current.lanes=s,y0(e,s,n),Vi(e,n),e}function c1(e,t,r,n){var s=t.current,i=Si(),a=Hc(s);return r=Sz(r),t.context===null?t.context=r:t.pendingContext=r,t=Ol(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wc(s,t,a),e!==null&&(go(e,s,a,i),Mb(e,s,a)),a}function Gv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function r8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function n3(e,t){r8(e,t),(e=e.alternate)&&r8(e,t)}function vge(){return null}var jz=typeof reportError=="function"?reportError:function(e){console.error(e)};function s3(e){this._internalRoot=e}u1.prototype.render=s3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Qe(409));c1(e,t,null,null)};u1.prototype.unmount=s3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cd(function(){c1(null,e,null,null)}),t[ql]=null}};function u1(e){this._internalRoot=e}u1.prototype.unstable_scheduleHydration=function(e){if(e){var t=rF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sc.length&&t!==0&&t<Sc[r].priority;r++);Sc.splice(r,0,e),r===0&&sF(e)}};function i3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function n8(){}function xge(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var l=Gv(a);i.call(l)}}var a=kz(t,n,e,0,null,!1,!1,"",n8);return e._reactRootContainer=a,e[ql]=a.current,gg(e.nodeType===8?e.parentNode:e),Cd(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var l=Gv(u);o.call(l)}}var u=r3(e,0,!1,null,null,!1,!1,"",n8);return e._reactRootContainer=u,e[ql]=u.current,gg(e.nodeType===8?e.parentNode:e),Cd(function(){c1(t,u,r,n)}),u}function f1(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=Gv(a);o.call(u)}}c1(t,a,e,s)}else a=xge(r,t,e,s,n);return Gv(a)}eF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_m(t.pendingLanes);r!==0&&(kN(t,r|1),Vi(t,Kn()),(Or&6)===0&&($h=Kn()+500,ju()))}break;case 13:Cd(function(){var n=Hl(e,1);if(n!==null){var s=Si();go(n,e,1,s)}}),n3(e,1)}};jN=function(e){if(e.tag===13){var t=Hl(e,134217728);if(t!==null){var r=Si();go(t,e,134217728,r)}n3(e,134217728)}};tF=function(e){if(e.tag===13){var t=Hc(e),r=Hl(e,t);if(r!==null){var n=Si();go(r,e,t,n)}n3(e,t)}};rF=function(){return qr};nF=function(e,t){var r=qr;try{return qr=e,t()}finally{qr=r}};bk=function(e,t,r){switch(t){case"input":if(dk(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=r1(n);if(!s)throw Error(Qe(90));OL(n),dk(n,s)}}}break;case"textarea":DL(e,r);break;case"select":t=r.value,t!=null&&Jf(e,!!r.multiple,t,!1)}};VL=QN;WL=Cd;var wge={usingClientEntryPoint:!1,Events:[v0,Df,r1,BL,UL,QN]},im={findFiberByHostInstance:Xu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_ge={bundleType:im.bundleType,version:im.version,rendererPackageName:im.rendererPackageName,rendererConfig:im.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=KL(e),e===null?null:e.stateNode},findFiberByHostInstance:im.findFiberByHostInstance||vge,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jy.isDisabled&&Jy.supportsFiber)try{Qx=Jy.inject(_ge),Zo=Jy}catch{}}da.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wge;da.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i3(t))throw Error(Qe(200));return bge(e,t,null,r)};da.createRoot=function(e,t){if(!i3(e))throw Error(Qe(299));var r=!1,n="",s=jz;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=r3(e,1,!1,null,null,r,!1,n,s),e[ql]=t.current,gg(e.nodeType===8?e.parentNode:e),new s3(t)};da.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Qe(188)):(e=Object.keys(e).join(","),Error(Qe(268,e)));return e=KL(t),e=e===null?null:e.stateNode,e};da.flushSync=function(e){return Cd(e)};da.hydrate=function(e,t,r){if(!d1(t))throw Error(Qe(200));return f1(null,e,t,!0,r)};da.hydrateRoot=function(e,t,r){if(!i3(e))throw Error(Qe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=jz;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=kz(t,null,e,1,r??null,s,!1,i,a),e[ql]=t.current,gg(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new u1(t)};da.render=function(e,t,r){if(!d1(t))throw Error(Qe(200));return f1(null,e,t,!1,r)};da.unmountComponentAtNode=function(e){if(!d1(e))throw Error(Qe(40));return e._reactRootContainer?(Cd(function(){f1(null,null,e,!1,function(){e._reactRootContainer=null,e[ql]=null})}),!0):!1};da.unstable_batchedUpdates=QN;da.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!d1(r))throw Error(Qe(200));if(e==null||e._reactInternals===void 0)throw Error(Qe(38));return f1(e,t,r,!1,n)};da.version="18.3.1-next-f1338f8080-20240426";function Nz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nz)}catch(e){console.error(e)}}Nz(),NL.exports=da;var Nu=NL.exports;const Sge=eN(Nu);var Tz,s8=Nu;Tz=s8.createRoot,s8.hydrateRoot;const Yk=(e,t)=>t.some(r=>e instanceof r);let i8,a8;function kge(){return i8||(i8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jge(){return a8||(a8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qk=new WeakMap,u2=new WeakMap,h1=new WeakMap;function Nge(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{r(vd(e.result)),s()},a=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return h1.set(t,e),t}function Tge(e){if(Qk.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Qk.set(e,t)}let Jk={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Qk.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return vd(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ez(e){Jk=e(Jk)}function Ege(e){return jge().includes(e)?function(...t){return e.apply(e4(this),t),vd(this.request)}:function(...t){return vd(e.apply(e4(this),t))}}function Cge(e){return typeof e=="function"?Ege(e):(e instanceof IDBTransaction&&Tge(e),Yk(e,kge())?new Proxy(e,Jk):e)}function vd(e){if(e instanceof IDBRequest)return Nge(e);if(u2.has(e))return u2.get(e);const t=Cge(e);return t!==e&&(u2.set(e,t),h1.set(t,e)),t}const e4=e=>h1.get(e);function Age(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=vd(a);return n&&a.addEventListener("upgradeneeded",u=>{n(vd(a.result),u.oldVersion,u.newVersion,vd(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),o.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const Pge=["get","getKey","getAll","getAllKeys","count"],Ige=["put","add","delete","clear"],d2=new Map;function o8(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(d2.get(t))return d2.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=Ige.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Pge.includes(r)))return;const i=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let l=u.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),s&&u.done]))[0]};return d2.set(t,i),i}Ez(e=>({...e,get:(t,r,n)=>o8(t,r)||e.get(t,r,n),has:(t,r)=>!!o8(t,r)||e.has(t,r)}));const Rge=["continue","continuePrimaryKey","advance"],l8={},t4=new WeakMap,Cz=new WeakMap,Oge={get(e,t){if(!Rge.includes(t))return e[t];let r=l8[t];return r||(r=l8[t]=function(...n){t4.set(this,Cz.get(this)[t](...n))}),r}};async function*Mge(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,Oge);for(Cz.set(r,t),h1.set(r,e4(t));t;)yield r,t=await(t4.get(r)||t.continue()),t4.delete(r)}function c8(e,t){return t===Symbol.asyncIterator&&Yk(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Yk(e,[IDBIndex,IDBObjectStore])}Ez(e=>({...e,get(t,r,n){return c8(t,r)?Mge:e.get(t,r,n)},has(t,r){return c8(t,r)||e.has(t,r)}}));class Dge{constructor(t){this.sqlite=t,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(t){return Promise.reject(t)}}async saveToStore(t){try{return await this.sqlite.saveToStore({database:t}),Promise.resolve()}catch(r){return Promise.reject(r)}}async saveToLocalDisk(t){try{return await this.sqlite.saveToLocalDisk({database:t}),Promise.resolve()}catch(r){return Promise.reject(r)}}async getFromLocalDiskToStore(t){const r=t??!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:r}),Promise.resolve()}catch(n){return Promise.reject(n)}}async echo(t){try{const r=await this.sqlite.echo({value:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isSecretStored(){try{const t=await this.sqlite.isSecretStored();return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async setEncryptionSecret(t){try{return await this.sqlite.setEncryptionSecret({passphrase:t}),Promise.resolve()}catch(r){return Promise.reject(r)}}async changeEncryptionSecret(t,r){try{return await this.sqlite.changeEncryptionSecret({passphrase:t,oldpassphrase:r}),Promise.resolve()}catch(n){return Promise.reject(n)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(t){return Promise.reject(t)}}async checkEncryptionSecret(t){try{const r=await this.sqlite.checkEncryptionSecret({passphrase:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async addUpgradeStatement(t,r){try{return t.endsWith(".db")&&(t=t.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:t,upgrade:r}),Promise.resolve()}catch(n){return Promise.reject(n)}}async createConnection(t,r,n,s,i){try{t.endsWith(".db")&&(t=t.slice(0,-3)),await this.sqlite.createConnection({database:t,encrypted:r,mode:n,version:s,readonly:i});const a=new u8(t,i,this.sqlite),o=i?`RO_${t}`:`RW_${t}`;return this._connectionDict.set(o,a),Promise.resolve(a)}catch(a){return Promise.reject(a)}}async closeConnection(t,r){try{t.endsWith(".db")&&(t=t.slice(0,-3)),await this.sqlite.closeConnection({database:t,readonly:r});const n=r?`RO_${t}`:`RW_${t}`;return this._connectionDict.delete(n),Promise.resolve()}catch(n){return Promise.reject(n)}}async isConnection(t,r){const n={};t.endsWith(".db")&&(t=t.slice(0,-3));const s=r?`RO_${t}`:`RW_${t}`;return n.result=this._connectionDict.has(s),Promise.resolve(n)}async retrieveConnection(t,r){t.endsWith(".db")&&(t=t.slice(0,-3));const n=r?`RO_${t}`:`RW_${t}`;if(this._connectionDict.has(n)){const s=this._connectionDict.get(n);return typeof s<"u"?Promise.resolve(s):Promise.reject(`Connection ${t} is undefined`)}else return Promise.reject(`Connection ${t} does not exist`)}async getNCDatabasePath(t,r){try{const n=await this.sqlite.getNCDatabasePath({path:t,database:r});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async createNCConnection(t,r){try{await this.sqlite.createNCConnection({databasePath:t,version:r});const n=new u8(t,!0,this.sqlite),s=`RO_${t})`;return this._connectionDict.set(s,n),Promise.resolve(n)}catch(n){return Promise.reject(n)}}async closeNCConnection(t){try{await this.sqlite.closeNCConnection({databasePath:t});const r=`RO_${t})`;return this._connectionDict.delete(r),Promise.resolve()}catch(r){return Promise.reject(r)}}async isNCConnection(t){const r={},n=`RO_${t})`;return r.result=this._connectionDict.has(n),Promise.resolve(r)}async retrieveNCConnection(t){if(this._connectionDict.has(t)){const r=`RO_${t})`,n=this._connectionDict.get(r);return typeof n<"u"?Promise.resolve(n):Promise.reject(`Connection ${t} is undefined`)}else return Promise.reject(`Connection ${t} does not exist`)}async isNCDatabase(t){try{const r=await this.sqlite.isNCDatabase({databasePath:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const t=new Map;try{for(const r of this._connectionDict.keys()){const n=r.substring(3),s=r.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:n,readonly:s}),t.set(r,null)}for(const r of t.keys())this._connectionDict.delete(r);return Promise.resolve()}catch(r){return Promise.reject(r)}}async checkConnectionsConsistency(){try{const t=[...this._connectionDict.keys()],r=[],n=[];for(const i of t)r.push(i.substring(0,2)),n.push(i.substring(3));const s=await this.sqlite.checkConnectionsConsistency({dbNames:n,openModes:r});return s.result||(this._connectionDict=new Map),Promise.resolve(s)}catch(t){return this._connectionDict=new Map,Promise.reject(t)}}async importFromJson(t){try{const r=await this.sqlite.importFromJson({jsonstring:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isJsonValid(t){try{const r=await this.sqlite.isJsonValid({jsonstring:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async copyFromAssets(t){const r=t??!0;try{return await this.sqlite.copyFromAssets({overwrite:r}),Promise.resolve()}catch(n){return Promise.reject(n)}}async getFromHTTPRequest(t,r){const n=r??!0;try{return await this.sqlite.getFromHTTPRequest({url:t,overwrite:n}),Promise.resolve()}catch(s){return Promise.reject(s)}}async isDatabaseEncrypted(t){t.endsWith(".db")&&(t=t.slice(0,-3));try{const r=await this.sqlite.isDatabaseEncrypted({database:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isInConfigEncryption(){try{const t=await this.sqlite.isInConfigEncryption();return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isInConfigBiometricAuth(){try{const t=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isDatabase(t){t.endsWith(".db")&&(t=t.slice(0,-3));try{const r=await this.sqlite.isDatabase({database:t});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async getDatabaseList(){try{const r=(await this.sqlite.getDatabaseList()).values;r.sort();const n={values:r};return Promise.resolve(n)}catch(t){return Promise.reject(t)}}async getMigratableDbList(t){const r=t||"default";try{const n=await this.sqlite.getMigratableDbList({folderPath:r});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async addSQLiteSuffix(t,r){const n=t||"default",s=r||[];try{const i=await this.sqlite.addSQLiteSuffix({folderPath:n,dbNameList:s});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async deleteOldDatabases(t,r){const n=t||"default",s=r||[];try{const i=await this.sqlite.deleteOldDatabases({folderPath:n,dbNameList:s});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async moveDatabasesAndAddSuffix(t,r){const n=t||"default",s=r||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:n,dbNameList:s})}}class u8{constructor(t,r,n){this.dbName=t,this.readonly=r,this.sqlite=n}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async beginTransaction(){try{const t=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async commitTransaction(){try{const t=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async rollbackTransaction(){try{const t=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isTransactionActive(){try{const t=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async loadExtension(t){try{return await this.sqlite.loadExtension({database:this.dbName,path:t,readonly:this.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}}async enableLoadExtension(t){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:t,readonly:this.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}}async getUrl(){try{const t=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async getVersion(){try{const t=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async getTableList(){try{const t=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async execute(t,r=!0,n=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const s=await this.sqlite.execute({database:this.dbName,statements:t,transaction:r,readonly:!1,isSQL92:n});return Promise.resolve(s)}}catch(s){return Promise.reject(s)}}async query(t,r,n=!0){let s;try{return r&&r.length>0?s=await this.sqlite.query({database:this.dbName,statement:t,values:r,readonly:this.readonly,isSQL92:!0}):s=await this.sqlite.query({database:this.dbName,statement:t,values:[],readonly:this.readonly,isSQL92:n}),s=await this.reorderRows(s),Promise.resolve(s)}catch(i){return Promise.reject(i)}}async run(t,r,n=!0,s="no",i=!0){let a;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(r&&r.length>0?a=await this.sqlite.run({database:this.dbName,statement:t,values:r,transaction:n,readonly:!1,returnMode:s,isSQL92:!0}):a=await this.sqlite.run({database:this.dbName,statement:t,values:[],transaction:n,readonly:!1,returnMode:s,isSQL92:i}),a.changes=await this.reorderRows(a.changes),Promise.resolve(a))}catch(o){return Promise.reject(o)}}async executeSet(t,r=!0,n="no",s=!0){let i;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(i=await this.sqlite.executeSet({database:this.dbName,set:t,transaction:r,readonly:!1,returnMode:n,isSQL92:s}),i.changes=await this.reorderRows(i.changes),Promise.resolve(i))}catch(a){return Promise.reject(a)}}async isExists(){try{const t=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isTable(t){try{const r=await this.sqlite.isTableExists({database:this.dbName,table:t,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isDBOpen(){try{const t=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const t=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(t)}}catch(t){return Promise.reject(t)}}async setSyncDate(t){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:t,readonly:!1}),Promise.resolve())}catch(r){return Promise.reject(r)}}async getSyncDate(){try{const t=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let r="";return t.syncDate>0&&(r=new Date(t.syncDate*1e3).toISOString()),Promise.resolve(r)}catch(t){return Promise.reject(t)}}async exportToJson(t,r=!1){try{const n=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:t,readonly:this.readonly,encrypted:r});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}}async executeTransaction(t,r=!0){let n=0,s=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");if(await this.sqlite.beginTransaction({database:this.dbName}),s=await this.sqlite.isTransactionActive({database:this.dbName}),!s)return Promise.reject("After Begin Transaction, no transaction active");try{for(const o of t){if(typeof o!="object"||!("statement"in o))throw new Error("Error a task.statement must be provided");if("values"in o&&o.values&&o.values.length>0){const u=o.statement.toUpperCase().includes("RETURNING")?"all":"no",l=await this.sqlite.run({database:this.dbName,statement:o.statement,values:o.values,transaction:!1,readonly:!1,returnMode:u,isSQL92:r});if(l.changes.changes<0)throw new Error("Error in transaction method run ");n+=l.changes.changes}else{const u=await this.sqlite.execute({database:this.dbName,statements:o.statement,transaction:!1,readonly:!1});if(u.changes.changes<0)throw new Error("Error in transaction method execute ");n+=u.changes.changes}}const i=await this.sqlite.commitTransaction({database:this.dbName});n+=i.changes.changes;const a={changes:{changes:n}};return Promise.resolve(a)}catch(i){const a=i.message?i.message:i;return await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(a)}}async reorderRows(t){const r=t;if(t?.values&&typeof t.values[0]=="object"&&Object.keys(t.values[0]).includes("ios_columns")){const n=t.values[0].ios_columns,s=[];for(let i=1;i<t.values.length;i++){const a=t.values[i],o={};for(const u of n)o[u]=a[u];s.push(o)}r.values=s}return Promise.resolve(r)}}const $ge=fp("CapacitorSQLite",{web:()=>Ar(()=>import("./web-Wm5LowgL.js"),[]).then(e=>new e.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite});class Lge{constructor(){this.db=null,this.dbName="binarjoin_native.db",this._initialized=!1,this._initPromise=null,this.sqlite=new Dge($ge),this._initPromise=this.initialize().catch(t=>console.error("[SQLite] Auto-Init Failed:",t))}async initialize(){if(!(this._initialized&&this.db||vo.getPlatform()==="web"))try{let r=!1;try{r=(await this.sqlite.isConnection(this.dbName,!1)).result??!1}catch(n){console.warn("[SQLite] Connection check failed, assuming false:",n),r=!1}if(r)this.db=await this.sqlite.retrieveConnection(this.dbName,!1);else try{this.db=await this.sqlite.createConnection(this.dbName,!1,"no-encryption",1,!1)}catch(n){if(n?.message?.includes("already exists"))this.db=await this.sqlite.retrieveConnection(this.dbName,!1);else throw n}await this.db.open(),await this.createTables(),this._initialized=!0}catch(r){throw console.error("[SQLite] Critical Init Error:",r),this.db=null,r}}async waitForReady(){this._initPromise&&await this._initPromise}get isReady(){return this._initialized&&this.db!==null}async createTables(){if(!this.db)return;const t=["users","authUserSessions","emailVerificationTokens","passwordResetTokens","projectTypes","projects","workers","wells","fundTransfers","workerAttendance","suppliers","materials","materialPurchases","supplierPayments","transportationExpenses","workerTransfers","workerBalances","dailyExpenseSummaries","workerTypes","autocompleteData","workerMiscExpenses","printSettings","projectFundTransfers","securityPolicies","securityPolicyImplementations","securityPolicySuggestions","securityPolicyViolations","permissionAuditLogs","userProjectPermissions","materialCategories","wellTasks","wellExpenses","wellAuditLogs","wellTaskAccounts","notifications","notificationReadStates","aiChatSessions","aiChatMessages","aiUsageStats","buildDeployments","reportTemplates","emergencyUsers","syncQueue","syncMetadata","userData","syncHistory","equipment","equipmentMovements"];for(const r of t)await this.db.execute(`
        CREATE TABLE IF NOT EXISTS ${r} (
          id TEXT PRIMARY KEY, 
          data TEXT,
          synced INTEGER DEFAULT 1,
          isLocal INTEGER DEFAULT 0,
          pendingSync INTEGER DEFAULT 0
        );
      `)}async get(t,r){if(!this.db)return null;try{await this.ensureTable(t);const n=await this.db.query(`SELECT data FROM ${t} WHERE id = ?`,[r]);return n.values&&n.values.length>0?JSON.parse(n.values[0].data):null}catch(n){return console.warn(`[SQLite] get ${t}/${r}:`,n),null}}async set(t,r,n){if(this.db)try{await this.ensureTable(t),await this.db.run(`INSERT OR REPLACE INTO ${t} (id, data) VALUES (?, ?)`,[r.toString(),JSON.stringify(n)])}catch(s){console.warn(`[SQLite] set ${t}/${r}:`,s)}}async getAll(t){if(!this.db)return[];try{await this.ensureTable(t);const r=await this.db.query(`SELECT data FROM ${t}`);return r.values?r.values.map(n=>JSON.parse(n.data)):[]}catch(r){return console.warn(`[SQLite] getAll ${t}:`,r),[]}}async delete(t,r){if(this.db)try{await this.ensureTable(t),await this.db.run(`DELETE FROM ${t} WHERE id = ?`,[r])}catch(n){console.warn(`[SQLite] delete ${t}/${r}:`,n)}}async clearTable(t){if(this.db)try{await this.ensureTable(t),await this.db.run(`DELETE FROM ${t}`,[])}catch(r){console.warn(`[SQLite] clearTable ${t}:`,r)}}async count(t){if(!this.db)return 0;try{await this.ensureTable(t);const r=await this.db.query(`SELECT COUNT(*) as cnt FROM ${t}`);return r.values&&r.values.length>0&&r.values[0].cnt||0}catch(r){return console.warn(`[SQLite] count ${t}:`,r),0}}async query(t,r){return(await this.getAll(t)).filter(r)}async ensureTable(t){if(this.db)try{await this.db.execute(`
        CREATE TABLE IF NOT EXISTS ${t} (
          id TEXT PRIMARY KEY,
          data TEXT,
          synced INTEGER DEFAULT 1,
          isLocal INTEGER DEFAULT 0,
          pendingSync INTEGER DEFAULT 0
        );
      `)}catch{}}}const wo=new Lge;async function Az(){const e=vo.getPlatform();if(e==="android"||e==="ios")try{console.log(" [DB]    SQLite ...");const t=wo.waitForReady(),r=new Promise((n,s)=>setTimeout(()=>s(new Error("SQLite Initialization Timeout")),5e3));return await Promise.race([t,r]),console.log(" [DB]    SQLite "),wo}catch(t){return console.error(" SQLite Engine Critical Failure, falling back to IDB:",t),Ca||(Ca=await Ad()),Ca}return Ca||(Ca=await Ad()),Ca}let Ca=null;const Fge=["users","authUserSessions","emailVerificationTokens","passwordResetTokens","projectTypes","projects","workers","wells","fundTransfers","workerAttendance","suppliers","materials","materialPurchases","supplierPayments","transportationExpenses","workerTransfers","workerBalances","dailyExpenseSummaries","workerTypes","autocompleteData","workerMiscExpenses","printSettings","projectFundTransfers","securityPolicies","securityPolicyImplementations","securityPolicySuggestions","securityPolicyViolations","permissionAuditLogs","userProjectPermissions","materialCategories","wellTasks","wellExpenses","wellAuditLogs","wellTaskAccounts","notifications","notificationReadStates","aiChatSessions","aiChatMessages","aiUsageStats","buildDeployments","reportTemplates","backupLogs","backupSettings","emergencyUsers","syncQueue","syncMetadata","userData","syncHistory","deadLetterQueue","localAuditLog"];async function Ad(){if(Ca)return Ca;try{Ca=await Age("binarjoin-db",14,{upgrade(e,t,r){console.log(`[DB] Upgrading from ${t} to ${r}`);for(const n of Fge)if(!e.objectStoreNames.contains(n))if(n==="syncQueue"){const s=e.createObjectStore(n,{keyPath:"id"});s.createIndex("timestamp","timestamp"),s.createIndex("action","action"),s.createIndex("status","status")}else if(n==="syncHistory"){const s=e.createObjectStore(n,{keyPath:"id"});s.createIndex("timestamp","timestamp"),s.createIndex("status","status")}else if(n==="userData")e.createObjectStore(n,{keyPath:"id"}).createIndex("type","type");else if(n==="syncMetadata")e.createObjectStore(n,{keyPath:"key"});else if(n==="deadLetterQueue"){const s=e.createObjectStore(n,{keyPath:"id"});s.createIndex("movedAt","movedAt"),s.createIndex("errorType","errorType")}else if(n==="localAuditLog"){const s=e.createObjectStore(n,{keyPath:"id"});s.createIndex("timestamp","timestamp"),s.createIndex("sequence","sequence"),s.createIndex("entityType","entityType")}else{const s=e.createObjectStore(n,{keyPath:"id"});try{s.createIndex("synced","synced"),s.createIndex("_pendingSync","_pendingSync")}catch{}}}})}catch(e){throw console.error("[DB] Critical initialization error:",e),e}return Ca}async function zge(){const e=vo.getPlatform();if(e==="android"||e==="ios"){const t=await Az();if(t)return t}return Ca||await Ad()}async function Ub(e,t,r,n){const{smartPut:s,smartDelete:i,smartAdd:a}=await Ar(async()=>{const{smartPut:d,smartDelete:h,smartAdd:f}=await Promise.resolve().then(()=>Ng);return{smartPut:d,smartDelete:h,smartAdd:f}},void 0),o=r.id||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2)),u={...r,id:o,_isLocal:!0,_pendingSync:!0};t==="delete"?await i(e,o):await s(e,u);const l=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2);return await a("syncQueue",{id:l,action:t,endpoint:n,payload:u,timestamp:Date.now(),retries:0}),u}async function r4(e){const{smartGetAll:t}=await Ar(async()=>{const{smartGetAll:n}=await Promise.resolve().then(()=>Ng);return{smartGetAll:n}},void 0);return(await t(e)).sort((n,s)=>{const i=new Date(n.createdAt||0).getTime();return new Date(s.createdAt||0).getTime()-i})}const Bge=Object.freeze(Object.defineProperty({__proto__:null,getDB:zge,getListLocal:r4,getSmartStorage:Az,initializeDB:Ad,performLocalOperation:Ub},Symbol.toStringTag,{value:"Module"}));function Uge(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,i,a=[],o="",u=e.split("/");for(u[0]||u.shift();s=u.shift();)r=s[0],r==="*"?(a.push(r),o+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~n?n:~i?i:s.length)),o+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+s.substring(i))):o+="/"+s;return{keys:a,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}var Pz={exports:{}},Iz={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh=E;function Vge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wge=typeof Object.is=="function"?Object.is:Vge,qge=Lh.useState,Hge=Lh.useEffect,Kge=Lh.useLayoutEffect,Gge=Lh.useDebugValue;function Zge(e,t){var r=t(),n=qge({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return Kge(function(){s.value=r,s.getSnapshot=t,f2(s)&&i({inst:s})},[e,r,t]),Hge(function(){return f2(s)&&i({inst:s}),e(function(){f2(s)&&i({inst:s})})},[e]),Gge(r),r}function f2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Wge(e,r)}catch{return!0}}function Xge(e,t){return t()}var Yge=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xge:Zge;Iz.useSyncExternalStore=Lh.useSyncExternalStore!==void 0?Lh.useSyncExternalStore:Yge;Pz.exports=Iz;var Qge=Pz.exports;const Jge=Kx.useInsertionEffect,e0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rz=e0e?E.useLayoutEffect:E.useEffect,t0e=Jge||Rz,a3=e=>{const t=E.useRef([e,(...r)=>t[0](...r)]).current;return t0e(()=>{t[0]=e}),t[1]},r0e="popstate",o3="pushState",l3="replaceState",n0e="hashchange",d8=[r0e,o3,l3,n0e],s0e=e=>{for(const t of d8)addEventListener(t,e);return()=>{for(const t of d8)removeEventListener(t,e)}},Oz=(e,t)=>Qge.useSyncExternalStore(s0e,e,t),f8=()=>location.search,i0e=({ssrSearch:e}={})=>Oz(f8,e!=null?()=>e:f8),h8=()=>location.pathname,a0e=({ssrPath:e}={})=>Oz(h8,e!=null?()=>e:h8),o0e=(e,{replace:t=!1,state:r=null}={})=>history[t?l3:o3](r,"",e),l0e=(e={})=>[a0e(e),o0e],p8=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[p8]>"u"){for(const e of[o3,l3]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,p8,{value:!0})}const c0e=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Mz=(e="")=>e==="/"?"":e,u0e=(e,t)=>e[0]==="~"?e.slice(1):Mz(t)+e,d0e=(e="",t)=>c0e(m8(Mz(e)),m8(t)),m8=e=>{try{return decodeURI(e)}catch{return e}},Dz={hook:l0e,searchHook:i0e,parser:Uge,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,r)=>e(t,r)},$z=E.createContext(Dz),mp=()=>E.useContext($z),Lz={},Fz=E.createContext(Lz),f0e=()=>E.useContext(Fz),w0=e=>{const[t,r]=e.hook(e);return[d0e(e.base,t),a3((n,s)=>e.aroundNav(r,u0e(n,e.base),s))]},gs=()=>w0(mp()),zz=(e,t,r,n)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),a=s.exec(r)||[],[o,...u]=a;return o!==void 0?[!0,(()=>{const l=i!==!1?Object.fromEntries(i.map((h,f)=>[h,u[f]])):a.groups;let d={...u};return l&&Object.assign(d,l),d})(),...n?[o]:[]]:[!1,null]},h0e=({children:e,...t})=>{const r=mp(),n=t.hook?Dz:r;let s=n;const[i,a=t.ssrSearch??""]=t.ssrPath?.split("?")??[];i&&(t.ssrSearch=a,t.ssrPath=i),t.hrefs=t.hrefs??t.hook?.hrefs,t.searchHook=t.searchHook??t.hook?.searchHook;let o=E.useRef({}),u=o.current,l=u;for(let d in n){const h=d==="base"?n[d]+(t[d]??""):t[d]??n[d];u===l&&h!==l[d]&&(o.current=l={...l}),l[d]=h,(h!==n[d]||h!==s[d])&&(s=l)}return E.createElement($z.Provider,{value:s,children:e})},g8=({children:e,component:t},r)=>t?E.createElement(t,{params:r}):typeof e=="function"?e(r):e,p0e=e=>{let t=E.useRef(Lz);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,s])=>s!==r[n])?e:r},Xt=({path:e,nest:t,match:r,...n})=>{const s=mp(),[i]=w0(s),[a,o,u]=r??zz(s.parser,e,i,t),l=p0e({...f0e(),...o});if(!a)return null;const d=u?E.createElement(h0e,{base:u},g8(n,l)):g8(n,l);return E.createElement(Fz.Provider,{value:l,children:d})};E.forwardRef((e,t)=>{const r=mp(),[n,s]=w0(r),{to:i="",href:a=i,onClick:o,asChild:u,children:l,className:d,replace:h,state:f,transition:p,...g}=e,y=a3(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(o?.(v),v.defaultPrevented||(v.preventDefault(),s(a,e)))}),m=r.hrefs(a[0]==="~"?a.slice(1):r.base+a,r);return u&&E.isValidElement(l)?E.cloneElement(l,{onClick:y,href:m}):E.createElement("a",{...g,onClick:y,href:m,className:d?.call?d(n===a):d,children:l,ref:t})});const Bz=e=>Array.isArray(e)?e.flatMap(t=>Bz(t&&t.type===E.Fragment?t.props.children:t)):[e],Uz=({children:e,location:t})=>{const r=mp(),[n]=w0(r);for(const s of Bz(e)){let i=0;if(E.isValidElement(s)&&(i=zz(r.parser,s.props.path,t||n,s.props.nest))[0])return E.cloneElement(s,{match:i})}return null},Zv=e=>{const{to:t,href:r=t}=e,n=mp(),[,s]=w0(n),i=a3(()=>s(t||r,e)),{ssrContext:a}=n;return Rz(()=>{i()},[]),a&&(a.redirectTo=t),null};var gp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},m0e={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Nc,Jj,p9,g0e=(p9=class{constructor(){At(this,Nc,m0e);At(this,Jj,!1)}setTimeoutProvider(e){ct(this,Nc,e)}setTimeout(e,t){return be(this,Nc).setTimeout(e,t)}clearTimeout(e){be(this,Nc).clearTimeout(e)}setInterval(e,t){return be(this,Nc).setInterval(e,t)}clearInterval(e){be(this,Nc).clearInterval(e)}},Nc=new WeakMap,Jj=new WeakMap,p9),Ju=new g0e;function y0e(e){setTimeout(e,0)}var Pd=typeof window>"u"||"Deno"in globalThis;function yi(){}function b0e(e,t){return typeof e=="function"?e(t):e}function n4(e){return typeof e=="number"&&e>=0&&e!==1/0}function Vz(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gc(e,t){return typeof e=="function"?e(t):e}function Na(e,t){return typeof e=="function"?e(t):e}function y8(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==c3(a,t.options))return!1}else if(!jg(t.queryKey,a))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function b8(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Id(t.options.mutationKey)!==Id(i))return!1}else if(!jg(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function c3(e,t){return(t?.queryKeyHashFn||Id)(e)}function Id(e){return JSON.stringify(e,(t,r)=>s4(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function jg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>jg(e[r],t[r])):!1}var v0e=Object.prototype.hasOwnProperty;function Wz(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=v8(e)&&v8(t);if(!n&&!(s4(e)&&s4(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,u=n?new Array(o):{};let l=0;for(let d=0;d<o;d++){const h=n?d:a[d],f=e[h],p=t[h];if(f===p){u[h]=f,(n?d<i:v0e.call(e,h))&&l++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){u[h]=p;continue}const g=Wz(f,p,r+1);u[h]=g,g===f&&l++}return i===o&&l===i?e:u}function Xv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function v8(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function s4(e){if(!x8(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!x8(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function x8(e){return Object.prototype.toString.call(e)==="[object Object]"}function x0e(e){return new Promise(t=>{Ju.setTimeout(t,e)})}function i4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Wz(e,t):t}function w0e(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function _0e(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var u3=Symbol();function qz(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===u3?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function d3(e,t){return typeof e=="function"?e(...t):!!e}function S0e(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var ld,Tc,mh,m9,k0e=(m9=class extends gp{constructor(){super();At(this,ld);At(this,Tc);At(this,mh);ct(this,mh,t=>{if(!Pd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){be(this,Tc)||this.setEventListener(be(this,mh))}onUnsubscribe(){var t;this.hasListeners()||((t=be(this,Tc))==null||t.call(this),ct(this,Tc,void 0))}setEventListener(t){var r;ct(this,mh,t),(r=be(this,Tc))==null||r.call(this),ct(this,Tc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){be(this,ld)!==t&&(ct(this,ld,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){return typeof be(this,ld)=="boolean"?be(this,ld):globalThis.document?.visibilityState!=="hidden"}},ld=new WeakMap,Tc=new WeakMap,mh=new WeakMap,m9),f3=new k0e;function a4(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var j0e=y0e;function N0e(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=j0e;const i=o=>{t?e.push(o):s(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||a()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var cs=N0e(),gh,Ec,yh,g9,T0e=(g9=class extends gp{constructor(){super();At(this,gh,!0);At(this,Ec);At(this,yh);ct(this,yh,t=>{if(!Pd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){be(this,Ec)||this.setEventListener(be(this,yh))}onUnsubscribe(){var t;this.hasListeners()||((t=be(this,Ec))==null||t.call(this),ct(this,Ec,void 0))}setEventListener(t){var r;ct(this,yh,t),(r=be(this,Ec))==null||r.call(this),ct(this,Ec,t(this.setOnline.bind(this)))}setOnline(t){be(this,gh)!==t&&(ct(this,gh,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return be(this,gh)}},gh=new WeakMap,Ec=new WeakMap,yh=new WeakMap,g9),Yv=new T0e;function E0e(e){return Math.min(1e3*2**e,3e4)}function Hz(e){return(e??"online")==="online"?Yv.isOnline():!0}var o4=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Kz(e){let t=!1,r=0,n;const s=a4(),i=()=>s.status!=="pending",a=y=>{if(!i()){const m=new o4(y);f(m),e.onCancel?.(m)}},o=()=>{t=!0},u=()=>{t=!1},l=()=>f3.isFocused()&&(e.networkMode==="always"||Yv.isOnline())&&e.canRun(),d=()=>Hz(e.networkMode)&&e.canRun(),h=y=>{i()||(n?.(),s.resolve(y))},f=y=>{i()||(n?.(),s.reject(y))},p=()=>new Promise(y=>{n=m=>{(i()||l())&&y(m)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),g=()=>{if(i())return;let y;const m=r===0?e.initialPromise:void 0;try{y=m??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(h).catch(v=>{if(i())return;const b=e.retry??(Pd?0:3),x=e.retryDelay??E0e,k=typeof x=="function"?x(r,v):x,T=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,v);if(t||!T){f(v);return}r++,e.onFail?.(r,v),x0e(k).then(()=>l()?void 0:p()).then(()=>{t?f(v):g()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n?.(),s),cancelRetry:o,continueRetry:u,canStart:d,start:()=>(d()?g():p().then(g),s)}}var cd,y9,Gz=(y9=class{constructor(){At(this,cd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),n4(this.gcTime)&&ct(this,cd,Ju.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pd?1/0:300*1e3))}clearGcTimeout(){be(this,cd)&&(Ju.clearTimeout(be(this,cd)),ct(this,cd,void 0))}},cd=new WeakMap,y9),ud,bh,ka,dd,bs,c0,fd,so,bl,b9,C0e=(b9=class extends Gz{constructor(t){super();At(this,so);At(this,ud);At(this,bh);At(this,ka);At(this,dd);At(this,bs);At(this,c0);At(this,fd);ct(this,fd,!1),ct(this,c0,t.defaultOptions),this.setOptions(t.options),this.observers=[],ct(this,dd,t.client),ct(this,ka,be(this,dd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ct(this,ud,_8(this.options)),this.state=t.state??be(this,ud),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return be(this,bs)?.promise}setOptions(t){if(this.options={...be(this,c0),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=_8(this.options);r.data!==void 0&&(this.setState(w8(r.data,r.dataUpdatedAt)),ct(this,ud,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&be(this,ka).remove(this)}setData(t,r){const n=i4(this.state.data,t,this.options);return dr(this,so,bl).call(this,{data:n,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),n}setState(t,r){dr(this,so,bl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){const r=be(this,bs)?.promise;return be(this,bs)?.cancel(t),r?r.then(yi).catch(yi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(be(this,ud))}isActive(){return this.observers.some(t=>Na(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===u3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Vz(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),be(this,bs)?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),be(this,bs)?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),be(this,ka).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(be(this,bs)&&(be(this,fd)?be(this,bs).cancel({revert:!0}):be(this,bs).cancelRetry()),this.scheduleGc()),be(this,ka).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||dr(this,so,bl).call(this,{type:"invalidate"})}async fetch(t,r){if(this.state.fetchStatus!=="idle"&&be(this,bs)?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(be(this,bs))return be(this,bs).continueRetry(),be(this,bs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(l=>l.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,s=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(ct(this,fd,!0),n.signal)})},i=()=>{const u=qz(this.options,r),d=(()=>{const h={client:be(this,dd),queryKey:this.queryKey,meta:this.meta};return s(h),h})();return ct(this,fd,!1),this.options.persister?this.options.persister(u,d,this):u(d)},o=(()=>{const u={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:be(this,dd),state:this.state,fetchFn:i};return s(u),u})();this.options.behavior?.onFetch(o,this),ct(this,bh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&dr(this,so,bl).call(this,{type:"fetch",meta:o.fetchOptions?.meta}),ct(this,bs,Kz({initialPromise:r?.initialPromise,fn:o.fetchFn,onCancel:u=>{u instanceof o4&&u.revert&&this.setState({...be(this,bh),fetchStatus:"idle"}),n.abort()},onFail:(u,l)=>{dr(this,so,bl).call(this,{type:"failed",failureCount:u,error:l})},onPause:()=>{dr(this,so,bl).call(this,{type:"pause"})},onContinue:()=>{dr(this,so,bl).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const u=await be(this,bs).start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),be(this,ka).config.onSuccess?.(u,this),be(this,ka).config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof o4){if(u.silent)return be(this,bs).promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw dr(this,so,bl).call(this,{type:"error",error:u}),be(this,ka).config.onError?.(u,this),be(this,ka).config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}},ud=new WeakMap,bh=new WeakMap,ka=new WeakMap,dd=new WeakMap,bs=new WeakMap,c0=new WeakMap,fd=new WeakMap,so=new WeakSet,bl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Zz(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...w8(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ct(this,bh,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),cs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),be(this,ka).notify({query:this,type:"updated",action:t})})},b9);function Zz(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Hz(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function w8(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function _8(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ci,Nr,u0,pi,hd,vh,Nl,Cc,d0,xh,wh,pd,md,Ac,_h,zr,km,l4,c4,u4,d4,f4,h4,p4,Xz,v9,A0e=(v9=class extends gp{constructor(t,r){super();At(this,zr);At(this,Ci);At(this,Nr);At(this,u0);At(this,pi);At(this,hd);At(this,vh);At(this,Nl);At(this,Cc);At(this,d0);At(this,xh);At(this,wh);At(this,pd);At(this,md);At(this,Ac);At(this,_h,new Set);this.options=r,ct(this,Ci,t),ct(this,Cc,null),ct(this,Nl,a4()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(be(this,Nr).addObserver(this),S8(be(this,Nr),this.options)?dr(this,zr,km).call(this):this.updateResult(),dr(this,zr,d4).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return m4(be(this,Nr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return m4(be(this,Nr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,dr(this,zr,f4).call(this),dr(this,zr,h4).call(this),be(this,Nr).removeObserver(this)}setOptions(t){const r=this.options,n=be(this,Nr);if(this.options=be(this,Ci).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Na(this.options.enabled,be(this,Nr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");dr(this,zr,p4).call(this),be(this,Nr).setOptions(this.options),r._defaulted&&!Xv(this.options,r)&&be(this,Ci).getQueryCache().notify({type:"observerOptionsUpdated",query:be(this,Nr),observer:this});const s=this.hasListeners();s&&k8(be(this,Nr),n,this.options,r)&&dr(this,zr,km).call(this),this.updateResult(),s&&(be(this,Nr)!==n||Na(this.options.enabled,be(this,Nr))!==Na(r.enabled,be(this,Nr))||Gc(this.options.staleTime,be(this,Nr))!==Gc(r.staleTime,be(this,Nr)))&&dr(this,zr,l4).call(this);const i=dr(this,zr,c4).call(this);s&&(be(this,Nr)!==n||Na(this.options.enabled,be(this,Nr))!==Na(r.enabled,be(this,Nr))||i!==be(this,Ac))&&dr(this,zr,u4).call(this,i)}getOptimisticResult(t){const r=be(this,Ci).getQueryCache().build(be(this,Ci),t),n=this.createResult(r,t);return I0e(this,n)&&(ct(this,pi,n),ct(this,vh,this.options),ct(this,hd,be(this,Nr).state)),n}getCurrentResult(){return be(this,pi)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&be(this,Nl).status==="pending"&&be(this,Nl).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){be(this,_h).add(t)}getCurrentQuery(){return be(this,Nr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=be(this,Ci).defaultQueryOptions(t),n=be(this,Ci).getQueryCache().build(be(this,Ci),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return dr(this,zr,km).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),be(this,pi)))}createResult(t,r){const n=be(this,Nr),s=this.options,i=be(this,pi),a=be(this,hd),o=be(this,vh),l=t!==n?t.state:be(this,u0),{state:d}=t;let h={...d},f=!1,p;if(r._optimisticResults){const P=this.hasListeners(),D=!P&&S8(t,r),V=P&&k8(t,n,r,s);(D||V)&&(h={...h,...Zz(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:m}=h;p=h.data;let v=!1;if(r.placeholderData!==void 0&&p===void 0&&m==="pending"){let P;i?.isPlaceholderData&&r.placeholderData===o?.placeholderData?(P=i.data,v=!0):P=typeof r.placeholderData=="function"?r.placeholderData(be(this,wh)?.state.data,be(this,wh)):r.placeholderData,P!==void 0&&(m="success",p=i4(i?.data,P,r),f=!0)}if(r.select&&p!==void 0&&!v)if(i&&p===a?.data&&r.select===be(this,d0))p=be(this,xh);else try{ct(this,d0,r.select),p=r.select(p),p=i4(i?.data,p,r),ct(this,xh,p),ct(this,Cc,null)}catch(P){ct(this,Cc,P)}be(this,Cc)&&(g=be(this,Cc),p=be(this,xh),y=Date.now(),m="error");const b=h.fetchStatus==="fetching",x=m==="pending",k=m==="error",T=x&&b,O=p!==void 0,A={status:m,fetchStatus:h.fetchStatus,isPending:x,isSuccess:m==="success",isError:k,isInitialLoading:T,isLoading:T,data:p,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>l.dataUpdateCount||h.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:k&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:k&&O,isStale:h3(t,r),refetch:this.refetch,promise:be(this,Nl),isEnabled:Na(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=A.data!==void 0,D=A.status==="error"&&!P,V=I=>{D?I.reject(A.error):P&&I.resolve(A.data)},B=()=>{const I=ct(this,Nl,A.promise=a4());V(I)},C=be(this,Nl);switch(C.status){case"pending":t.queryHash===n.queryHash&&V(C);break;case"fulfilled":(D||A.data!==C.value)&&B();break;case"rejected":(!D||A.error!==C.reason)&&B();break}}return A}updateResult(){const t=be(this,pi),r=this.createResult(be(this,Nr),this.options);if(ct(this,hd,be(this,Nr).state),ct(this,vh,this.options),be(this,hd).data!==void 0&&ct(this,wh,be(this,Nr)),Xv(r,t))return;ct(this,pi,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!be(this,_h).size)return!0;const a=new Set(i??be(this,_h));return this.options.throwOnError&&a.add("error"),Object.keys(be(this,pi)).some(o=>{const u=o;return be(this,pi)[u]!==t[u]&&a.has(u)})};dr(this,zr,Xz).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&dr(this,zr,d4).call(this)}},Ci=new WeakMap,Nr=new WeakMap,u0=new WeakMap,pi=new WeakMap,hd=new WeakMap,vh=new WeakMap,Nl=new WeakMap,Cc=new WeakMap,d0=new WeakMap,xh=new WeakMap,wh=new WeakMap,pd=new WeakMap,md=new WeakMap,Ac=new WeakMap,_h=new WeakMap,zr=new WeakSet,km=function(t){dr(this,zr,p4).call(this);let r=be(this,Nr).fetch(this.options,t);return t?.throwOnError||(r=r.catch(yi)),r},l4=function(){dr(this,zr,f4).call(this);const t=Gc(this.options.staleTime,be(this,Nr));if(Pd||be(this,pi).isStale||!n4(t))return;const n=Vz(be(this,pi).dataUpdatedAt,t)+1;ct(this,pd,Ju.setTimeout(()=>{be(this,pi).isStale||this.updateResult()},n))},c4=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(be(this,Nr)):this.options.refetchInterval)??!1},u4=function(t){dr(this,zr,h4).call(this),ct(this,Ac,t),!(Pd||Na(this.options.enabled,be(this,Nr))===!1||!n4(be(this,Ac))||be(this,Ac)===0)&&ct(this,md,Ju.setInterval(()=>{(this.options.refetchIntervalInBackground||f3.isFocused())&&dr(this,zr,km).call(this)},be(this,Ac)))},d4=function(){dr(this,zr,l4).call(this),dr(this,zr,u4).call(this,dr(this,zr,c4).call(this))},f4=function(){be(this,pd)&&(Ju.clearTimeout(be(this,pd)),ct(this,pd,void 0))},h4=function(){be(this,md)&&(Ju.clearInterval(be(this,md)),ct(this,md,void 0))},p4=function(){const t=be(this,Ci).getQueryCache().build(be(this,Ci),this.options);if(t===be(this,Nr))return;const r=be(this,Nr);ct(this,Nr,t),ct(this,u0,t.state),this.hasListeners()&&(r?.removeObserver(this),t.addObserver(this))},Xz=function(t){cs.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(be(this,pi))}),be(this,Ci).getQueryCache().notify({query:be(this,Nr),type:"observerResultsUpdated"})})},v9);function P0e(e,t){return Na(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function S8(e,t){return P0e(e,t)||e.state.data!==void 0&&m4(e,t,t.refetchOnMount)}function m4(e,t,r){if(Na(t.enabled,e)!==!1&&Gc(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&h3(e,t)}return!1}function k8(e,t,r,n){return(e!==t||Na(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&h3(e,r)}function h3(e,t){return Na(t.enabled,e)!==!1&&e.isStaleByTime(Gc(t.staleTime,e))}function I0e(e,t){return!Xv(e.getCurrentResult(),t)}function j8(e){return{onFetch:(t,r)=>{const n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const l=async()=>{let d=!1;const h=g=>{S0e(g,()=>t.signal,()=>d=!0)},f=qz(t.options,t.fetchOptions),p=async(g,y,m)=>{if(d)return Promise.reject();if(y==null&&g.pages.length)return Promise.resolve(g);const b=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:y,direction:m?"backward":"forward",meta:t.options.meta};return h(O),O})(),x=await f(b),{maxPages:k}=t.options,T=m?_0e:w0e;return{pages:T(g.pages,x,k),pageParams:T(g.pageParams,y,k)}};if(s&&i.length){const g=s==="backward",y=g?R0e:N8,m={pages:i,pageParams:a},v=y(n,m);o=await p(m,v,g)}else{const g=e??i.length;do{const y=u===0?a[0]??n.initialPageParam:N8(n,o);if(u>0&&y==null)break;o=await p(o,y),u++}while(u<g)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=l}}}function N8(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function R0e(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var f0,Fo,Qs,gd,zo,yc,x9,O0e=(x9=class extends Gz{constructor(t){super();At(this,zo);At(this,f0);At(this,Fo);At(this,Qs);At(this,gd);ct(this,f0,t.client),this.mutationId=t.mutationId,ct(this,Qs,t.mutationCache),ct(this,Fo,[]),this.state=t.state||Yz(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){be(this,Fo).includes(t)||(be(this,Fo).push(t),this.clearGcTimeout(),be(this,Qs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ct(this,Fo,be(this,Fo).filter(r=>r!==t)),this.scheduleGc(),be(this,Qs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){be(this,Fo).length||(this.state.status==="pending"?this.scheduleGc():be(this,Qs).remove(this))}continue(){return be(this,gd)?.continue()??this.execute(this.state.variables)}async execute(t){const r=()=>{dr(this,zo,yc).call(this,{type:"continue"})},n={client:be(this,f0),meta:this.options.meta,mutationKey:this.options.mutationKey};ct(this,gd,Kz({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{dr(this,zo,yc).call(this,{type:"failed",failureCount:a,error:o})},onPause:()=>{dr(this,zo,yc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>be(this,Qs).canRun(this)}));const s=this.state.status==="pending",i=!be(this,gd).canStart();try{if(s)r();else{dr(this,zo,yc).call(this,{type:"pending",variables:t,isPaused:i}),be(this,Qs).config.onMutate&&await be(this,Qs).config.onMutate(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&dr(this,zo,yc).call(this,{type:"pending",context:o,variables:t,isPaused:i})}const a=await be(this,gd).start();return await be(this,Qs).config.onSuccess?.(a,t,this.state.context,this,n),await this.options.onSuccess?.(a,t,this.state.context,n),await be(this,Qs).config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,t,this.state.context,n),dr(this,zo,yc).call(this,{type:"success",data:a}),a}catch(a){try{await be(this,Qs).config.onError?.(a,t,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onError?.(a,t,this.state.context,n)}catch(o){Promise.reject(o)}try{await be(this,Qs).config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,a,t,this.state.context,n)}catch(o){Promise.reject(o)}throw dr(this,zo,yc).call(this,{type:"error",error:a}),a}finally{be(this,Qs).runNext(this)}}},f0=new WeakMap,Fo=new WeakMap,Qs=new WeakMap,gd=new WeakMap,zo=new WeakSet,yc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),cs.batch(()=>{be(this,Fo).forEach(n=>{n.onMutationUpdate(t)}),be(this,Qs).notify({mutation:this,type:"updated",action:t})})},x9);function Yz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Tl,io,h0,w9,M0e=(w9=class extends gp{constructor(t={}){super();At(this,Tl);At(this,io);At(this,h0);this.config=t,ct(this,Tl,new Set),ct(this,io,new Map),ct(this,h0,0)}build(t,r,n){const s=new O0e({client:t,mutationCache:this,mutationId:++Py(this,h0)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){be(this,Tl).add(t);const r=eb(t);if(typeof r=="string"){const n=be(this,io).get(r);n?n.push(t):be(this,io).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(be(this,Tl).delete(t)){const r=eb(t);if(typeof r=="string"){const n=be(this,io).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&be(this,io).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=eb(t);if(typeof r=="string"){const s=be(this,io).get(r)?.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){const r=eb(t);return typeof r=="string"?be(this,io).get(r)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){cs.batch(()=>{be(this,Tl).forEach(t=>{this.notify({type:"removed",mutation:t})}),be(this,Tl).clear(),be(this,io).clear()})}getAll(){return Array.from(be(this,Tl))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>b8(r,n))}findAll(t={}){return this.getAll().filter(r=>b8(t,r))}notify(t){cs.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return cs.batch(()=>Promise.all(t.map(r=>r.continue().catch(yi))))}},Tl=new WeakMap,io=new WeakMap,h0=new WeakMap,w9);function eb(e){return e.options.scope?.id}var El,Pc,Ai,Cl,Ul,Vb,g4,_9,D0e=(_9=class extends gp{constructor(r,n){super();At(this,Ul);At(this,El);At(this,Pc);At(this,Ai);At(this,Cl);ct(this,El,r),this.setOptions(n),this.bindMethods(),dr(this,Ul,Vb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){const n=this.options;this.options=be(this,El).defaultMutationOptions(r),Xv(this.options,n)||be(this,El).getMutationCache().notify({type:"observerOptionsUpdated",mutation:be(this,Ai),observer:this}),n?.mutationKey&&this.options.mutationKey&&Id(n.mutationKey)!==Id(this.options.mutationKey)?this.reset():be(this,Ai)?.state.status==="pending"&&be(this,Ai).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||be(this,Ai)?.removeObserver(this)}onMutationUpdate(r){dr(this,Ul,Vb).call(this),dr(this,Ul,g4).call(this,r)}getCurrentResult(){return be(this,Pc)}reset(){be(this,Ai)?.removeObserver(this),ct(this,Ai,void 0),dr(this,Ul,Vb).call(this),dr(this,Ul,g4).call(this)}mutate(r,n){return ct(this,Cl,n),be(this,Ai)?.removeObserver(this),ct(this,Ai,be(this,El).getMutationCache().build(be(this,El),this.options)),be(this,Ai).addObserver(this),be(this,Ai).execute(r)}},El=new WeakMap,Pc=new WeakMap,Ai=new WeakMap,Cl=new WeakMap,Ul=new WeakSet,Vb=function(){const r=be(this,Ai)?.state??Yz();ct(this,Pc,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},g4=function(r){cs.batch(()=>{if(be(this,Cl)&&this.hasListeners()){const n=be(this,Pc).variables,s=be(this,Pc).context,i={client:be(this,El),meta:this.options.meta,mutationKey:this.options.mutationKey};if(r?.type==="success"){try{be(this,Cl).onSuccess?.(r.data,n,s,i)}catch(a){Promise.reject(a)}try{be(this,Cl).onSettled?.(r.data,null,n,s,i)}catch(a){Promise.reject(a)}}else if(r?.type==="error"){try{be(this,Cl).onError?.(r.error,n,s,i)}catch(a){Promise.reject(a)}try{be(this,Cl).onSettled?.(void 0,r.error,n,s,i)}catch(a){Promise.reject(a)}}}this.listeners.forEach(n=>{n(be(this,Pc))})})},_9),Bo,S9,$0e=(S9=class extends gp{constructor(t={}){super();At(this,Bo);this.config=t,ct(this,Bo,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??c3(s,r);let a=this.get(i);return a||(a=new C0e({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){be(this,Bo).has(t.queryHash)||(be(this,Bo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=be(this,Bo).get(t.queryHash);r&&(t.destroy(),r===t&&be(this,Bo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return be(this,Bo).get(t)}getAll(){return[...be(this,Bo).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>y8(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>y8(t,n)):r}notify(t){cs.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){cs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Bo=new WeakMap,S9),$n,Ic,Rc,Sh,kh,Oc,jh,Nh,k9,L0e=(k9=class{constructor(e={}){At(this,$n);At(this,Ic);At(this,Rc);At(this,Sh);At(this,kh);At(this,Oc);At(this,jh);At(this,Nh);ct(this,$n,e.queryCache||new $0e),ct(this,Ic,e.mutationCache||new M0e),ct(this,Rc,e.defaultOptions||{}),ct(this,Sh,new Map),ct(this,kh,new Map),ct(this,Oc,0)}mount(){Py(this,Oc)._++,be(this,Oc)===1&&(ct(this,jh,f3.subscribe(async e=>{e&&(await this.resumePausedMutations(),be(this,$n).onFocus())})),ct(this,Nh,Yv.subscribe(async e=>{e&&(await this.resumePausedMutations(),be(this,$n).onOnline())})))}unmount(){var e,t;Py(this,Oc)._--,be(this,Oc)===0&&((e=be(this,jh))==null||e.call(this),ct(this,jh,void 0),(t=be(this,Nh))==null||t.call(this),ct(this,Nh,void 0))}isFetching(e){return be(this,$n).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return be(this,Ic).findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return be(this,$n).get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=be(this,$n).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Gc(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return be(this,$n).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=be(this,$n).get(n.queryHash)?.state.data,a=b0e(t,i);if(a!==void 0)return be(this,$n).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return cs.batch(()=>be(this,$n).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return be(this,$n).get(t.queryHash)?.state}removeQueries(e){const t=be(this,$n);cs.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=be(this,$n);return cs.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=cs.batch(()=>be(this,$n).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(yi).catch(yi)}invalidateQueries(e,t={}){return cs.batch(()=>(be(this,$n).findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=cs.batch(()=>be(this,$n).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(yi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(yi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=be(this,$n).build(this,t);return r.isStaleByTime(Gc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(yi).catch(yi)}fetchInfiniteQuery(e){return e.behavior=j8(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(yi).catch(yi)}ensureInfiniteQueryData(e){return e.behavior=j8(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yv.isOnline()?be(this,Ic).resumePausedMutations():Promise.resolve()}getQueryCache(){return be(this,$n)}getMutationCache(){return be(this,Ic)}getDefaultOptions(){return be(this,Rc)}setDefaultOptions(e){ct(this,Rc,e)}setQueryDefaults(e,t){be(this,Sh).set(Id(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...be(this,Sh).values()],r={};return t.forEach(n=>{jg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){be(this,kh).set(Id(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...be(this,kh).values()],r={};return t.forEach(n=>{jg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...be(this,Rc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=c3(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===u3&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...be(this,Rc).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){be(this,$n).clear(),be(this,Ic).clear()}},$n=new WeakMap,Ic=new WeakMap,Rc=new WeakMap,Sh=new WeakMap,kh=new WeakMap,Oc=new WeakMap,jh=new WeakMap,Nh=new WeakMap,k9),Qz=E.createContext(void 0),ns=e=>{const t=E.useContext(Qz);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},F0e=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(Qz.Provider,{value:e,children:t})),Jz=E.createContext(!1),z0e=()=>E.useContext(Jz);Jz.Provider;function B0e(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var U0e=E.createContext(B0e()),V0e=()=>E.useContext(U0e),W0e=(e,t,r)=>{const n=r?.state.error&&typeof e.throwOnError=="function"?d3(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},q0e=e=>{E.useEffect(()=>{e.clearReset()},[e])},H0e=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||d3(r,[e.error,n])),K0e=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},G0e=(e,t)=>e.isLoading&&e.isFetching&&!t,Z0e=(e,t)=>e?.suspense&&t.isPending,T8=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function X0e(e,t,r){const n=z0e(),s=V0e(),i=ns(),a=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const o=i.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",K0e(a),W0e(a,s,o),q0e(s);const u=!i.getQueryCache().get(a.queryHash),[l]=E.useState(()=>new t(i,a)),d=l.getOptimisticResult(a),h=!n&&e.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(f=>{const p=h?l.subscribe(cs.batchCalls(f)):yi;return l.updateResult(),p},[l,h]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),E.useEffect(()=>{l.setOptions(a)},[a,l]),Z0e(a,d))throw T8(a,l,s);if(H0e({result:d,errorResetBoundary:s,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!Pd&&G0e(d,n)&&(u?T8(a,l,s):o?.promise)?.catch(yi).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?d:l.trackResult(d)}function nt(e,t){return X0e(e,A0e)}function ht(e,t){const r=ns(),[n]=E.useState(()=>new D0e(r,e));E.useEffect(()=>{n.setOptions(e)},[n,e]);const s=E.useSyncExternalStore(E.useCallback(a=>n.subscribe(cs.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=E.useCallback((a,o)=>{n.mutate(a,o).catch(yi)},[n]);if(s.error&&d3(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function nc(){try{const e=vo.getPlatform();return e==="android"||e==="ios"}catch{return!1}}let qm=null;async function sc(){const{getDB:e}=await Ar(async()=>{const{getDB:t}=await Promise.resolve().then(()=>Bge);return{getDB:t}},void 0);return await e()}async function p1(){qm||(qm=nc()?wo.waitForReady():sc().then(()=>{})),await qm}async function Tu(){qm?await qm:await p1()}async function Wa(e,t){if(await Tu(),nc())return await wo.get(e,t);const r=await sc();try{return await r.get(e,t)}catch{return null}}async function Ki(e){if(await Tu(),nc())return await wo.getAll(e);const t=await sc();try{return await t.getAll(e)}catch{return[]}}async function ui(e,t){await Tu();const r=(t.id||t.key||"").toString();r&&(nc()?await wo.set(e,r,t):await(await sc()).put(e,t))}async function _0(e,t){await Tu();const r=(t.id||t.key||"").toString();r&&(nc()?await wo.set(e,r,t):await(await sc()).add(e,t))}async function S0(e,t){await Tu(),nc()?await wo.delete(e,t):await(await sc()).delete(e,t)}async function p3(e){if(await Tu(),nc())await wo.clearTable(e);else{const t=await sc();try{await t.clear(e)}catch(r){console.warn(`[smartClear] Failed to clear ${e}:`,r)}}}async function xd(e){if(await Tu(),nc())return await wo.count(e);const t=await sc();try{return await t.count(e)}catch{return 0}}async function Zc(e,t){if(!t||t.length===0)return 0;if(await Tu(),nc()){let r=0;for(const n of t)if(n&&(n.id||n.key)){const s=(n.id||n.key).toString();await wo.set(e,s,n),r++}return r}else{const r=await sc();let n=0;try{const s=r.transaction(e,"readwrite"),i=s.objectStore(e);for(const a of t)if(a&&(a.id||a.key))try{i.put(a),n++}catch(o){console.warn(`[smartSave] Failed to put record in ${e}:`,o)}await s.done}catch(s){console.warn(`[smartSave] Transaction failed for ${e}, falling back to individual puts:`,s);for(const i of t)if(i&&(i.id||i.key))try{await r.put(e,i),n++}catch(a){console.warn(`[smartSave] Fallback put failed in ${e}:`,a)}}return n}}const Ng=Object.freeze(Object.defineProperty({__proto__:null,initializeStorage:p1,smartAdd:_0,smartClear:p3,smartCount:xd,smartDelete:S0,smartGet:Wa,smartGetAll:Ki,smartPut:ui,smartSave:Zc},Symbol.toStringTag,{value:"Module"}));function E8(){return typeof navigator<"u"?navigator.onLine:!0}var Y0e={};const h2="https://app2.binarjoinanelytic.info";function p2(){if(typeof window>"u")return!1;const e=window.Capacitor;if(e?.isNativePlatform?.()||e?.isNative===!0||e?.getPlatform?.()==="android"||e?.getPlatform?.()==="ios")return!0;const t=window.location.protocol;return t==="capacitor:"||t==="ionic:"}const Fh={isProduction:typeof window<"u"?window.location.hostname==="binarjoinanelytic.info"||window.location.hostname==="www.binarjoinanelytic.info"||p2():!0,isAndroid:typeof window<"u"&&p2(),getApiBaseUrl:()=>{if(typeof window>"u")return Y0e.VITE_API_BASE_URL||"";if(p2())return h2;const e=window.location.hostname;return e==="binarjoinanelytic.info"||e==="www.binarjoinanelytic.info"||e==="app2.binarjoinanelytic.info"?h2:""},getExternalServerUrl:()=>h2},Rs=[];for(let e=0;e<256;++e)Rs.push((e+256).toString(16).slice(1));function Q0e(e,t=0){return(Rs[e[t+0]]+Rs[e[t+1]]+Rs[e[t+2]]+Rs[e[t+3]]+"-"+Rs[e[t+4]]+Rs[e[t+5]]+"-"+Rs[e[t+6]]+Rs[e[t+7]]+"-"+Rs[e[t+8]]+Rs[e[t+9]]+"-"+Rs[e[t+10]]+Rs[e[t+11]]+Rs[e[t+12]]+Rs[e[t+13]]+Rs[e[t+14]]+Rs[e[t+15]]).toLowerCase()}let m2;const J0e=new Uint8Array(16);function eye(){if(!m2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");m2=crypto.getRandomValues.bind(crypto)}return m2(J0e)}const tye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C8={randomUUID:tye};function rye(e,t,r){e=e||{};const n=e.random??e.rng?.()??eye();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Q0e(n)}function k0(e,t,r){return C8.randomUUID&&!e?C8.randomUUID():rye(e)}function nye(e,t,r){const n=r.id||r.transferNumber||"";return`${e}:${t}:${n}`}function sye(e){const t=["transferDate","selectedDate","date","paymentDate","attendanceDate","expenseDate"],r={...e};for(const n of t)if(r[n]){const s=r[n];typeof s=="string"&&s.includes("T")?r[n]=s.split("T")[0]:s instanceof Date?r[n]=s.toISOString().split("T")[0]:typeof s=="number"&&(r[n]=new Date(s).toISOString().split("T")[0])}return r.selectedDate&&!r.transferDate&&(r.transferDate=r.selectedDate),r}function m1(e){const t=[];return e.transferNumber&&t.push(`: ${e.transferNumber}`),e.amount&&t.push(`: ${e.amount}`),e.name&&t.push(`: ${e.name}`),e.projectId&&t.push(`: ${e.projectId}`),e.id&&t.push(`ID: ${String(e.id).substring(0,8)}`),t.join(" | ")||" "}async function ih(e,t,r){r=sye(r);const n=nye(e,t,r),i=(await Ki("syncQueue")).find(u=>u.idempotencyKey===n&&u.status!=="failed"&&u.status!=="duplicate-resolved");if(i)return console.log(` [Queue]    : ${n}`),e==="update"&&(i.payload={...i.payload,...r},i.timestamp=Date.now(),await ui("syncQueue",i),console.log(` [Queue]   payload  : ${i.id}`)),i.id;const a=k0(),o={id:a,action:e,endpoint:t,payload:r,timestamp:Date.now(),retries:0,status:"pending",idempotencyKey:n};return await _0("syncQueue",o),a}async function zh(){return(await Ki("syncQueue")).filter(t=>t.status==="pending"||t.status==="failed"||!t.status).sort((t,r)=>t.timestamp-r.timestamp)}async function iye(){return(await Ki("syncQueue")).sort((t,r)=>r.timestamp-t.timestamp)}async function g1(e){await S0("syncQueue",e)}async function m3(e){const t=await Wa("syncQueue",e);t&&(t.status="in-flight",t.lastAttemptAt=Date.now(),await ui("syncQueue",t))}async function Pl(e,t,r){const n=await Wa("syncQueue",e);n&&(n.status="failed",n.retries=(n.retries||0)+1,n.lastError=t,n.errorType=r||"unknown",n.lastAttemptAt=Date.now(),await ui("syncQueue",n))}async function eB(e,t){const r=await Wa("syncQueue",e);r&&(r.status="duplicate-resolved",r.lastError=t,r.lastAttemptAt=Date.now(),await ui("syncQueue",r),await Da({queueItemId:e,action:r.action,endpoint:r.endpoint,status:"duplicate",errorMessage:t,payloadSummary:m1(r.payload),retryCount:r.retries}))}async function aye(e){const t=await Wa("syncQueue",e);t&&await Da({queueItemId:e,action:t.action,endpoint:t.endpoint,status:"skipped",errorMessage:"    ",payloadSummary:m1(t.payload),retryCount:t.retries}),await S0("syncQueue",e)}async function oye(){const e=await zh(),t=e.length;for(const r of e)await Da({queueItemId:r.id,action:r.action,endpoint:r.endpoint,status:"skipped",errorMessage:"   ( )",payloadSummary:m1(r.payload),retryCount:r.retries});return await p3("syncQueue"),t}async function Da(e){const t={id:k0(),timestamp:Date.now(),...e};try{await _0("syncHistory",t);const r=await Ki("syncHistory");if(r.length>500){const s=r.sort((i,a)=>a.timestamp-i.timestamp).slice(500);for(const i of s)await S0("syncHistory",i.id)}}catch(r){console.warn(" [SyncLog]   :",r)}}async function tB(e=50){try{return(await Ki("syncHistory")).sort((r,n)=>n.timestamp-r.timestamp).slice(0,e)}catch{return[]}}async function rB(){return(await Ki("syncQueue")).filter(t=>t.status==="failed"||t.status==="conflict").sort((t,r)=>r.lastAttemptAt-t.lastAttemptAt)}async function lye(){return(await Ki("syncQueue")).filter(t=>t.status==="duplicate-resolved").sort((t,r)=>r.lastAttemptAt-t.lastAttemptAt)}async function cye(e){const t=await Wa("syncQueue",e);t&&(t.status==="failed"||t.status==="conflict")&&(t.status="pending",t.lastError=void 0,await ui("syncQueue",t))}async function uye(){const e=await rB();let t=0;for(const r of e)r.status="pending",r.lastError=void 0,await ui("syncQueue",r),t++;return t}async function dye(){const e=await xd("syncQueue"),t=await xd("userData"),r=await Ki("syncQueue"),n=r.filter(l=>l.status==="failed"||l.status==="conflict").length,s=r.filter(l=>l.status==="duplicate-resolved").length;let i=[];try{i=await tB(100)}catch{}const a=i.filter(l=>l.status==="success").length,o=i.filter(l=>l.status==="failed").length,u=await xd("deadLetterQueue");return{pendingSync:e-n-s,failedSync:n,duplicateResolved:s,deadLetterCount:u,localUserData:t,totalSuccessful:a,totalRecentFailures:o,lastUpdate:Date.now()}}async function y4(e){const t={id:k0(),originalId:e.id,action:e.action,endpoint:e.endpoint,payload:e.payload,timestamp:e.timestamp,movedAt:Date.now(),totalRetries:e.retries,lastError:e.lastError||"   ",errorType:e.errorType||"max_retries",idempotencyKey:e.idempotencyKey};await _0("deadLetterQueue",t),await g1(e.id),await Da({queueItemId:e.id,action:e.action,endpoint:e.endpoint,status:"failed",errorMessage:`       ${e.retries} `,payloadSummary:m1(e.payload),retryCount:e.retries})}let g2=!1;const Hm={maxRetries:8,baseDelayMs:500,maxDelayMs:6e4,jitterFactor:.3,nonRetryableStatuses:[400,401,403,404,422]};function Wb(e){const t=Hm.baseDelayMs*Math.pow(2,e),r=Math.min(t,Hm.maxDelayMs),n=r*Hm.jitterFactor*(Math.random()*2-1);return Math.max(0,Math.round(r+n))}function nB(e){return e===409?!1:!Hm.nonRetryableStatuses.includes(e)}async function qb(){if(!g2){g2=!0;try{await hye()}finally{g2=!1}}}function sB(e){if(e?.status)return e.status;if(e?.statusCode)return e.statusCode;const t=e?.message||String(e),r=t.match(/status:\s*(\d{3})/i);return r?parseInt(r[1],10):t.includes(" ")||t.includes("duplicate")||t.includes("already exists")?409:t.includes(" ")||t.includes("validation")||t.includes("")?400:0}function Vf(e){const t=[];return e.transferNumber&&t.push(`: ${e.transferNumber}`),e.amount&&t.push(`: ${e.amount}`),e.id&&t.push(`ID: ${String(e.id).substring(0,8)}`),t.join(" | ")||" "}async function fye(e,t){const r=Date.now();console.log(`[Silent-Sync]   ${e} (${t.length} )...`);for(const n of t)await m3(n.id);try{const n=t.map(a=>({action:a.action==="create"?"POST":a.action==="update"?"PATCH":"DELETE",endpoint:a.endpoint,payload:a.payload})),s=`batch:${e}:${t[0]?.retries||0}`,i=await Ie("/api/sync/batch","POST",{operations:n},0,{"x-idempotency-key":s});if(i&&i.success){for(const a of t)await g1(a.id),await b4(a,!0),await Da({queueItemId:a.id,action:a.action,endpoint:a.endpoint,status:"success",duration:Date.now()-r,payloadSummary:Vf(a.payload),retryCount:a.retries});console.log(`[Silent-Sync]  ${e}  (${Date.now()-r}ms)`)}else{const a=i?.message||i?.error||" ";throw new Error(a)}}catch(n){const s=sB(n),i=n?.message||String(n);console.error(`[Silent-Sync]   ${e}:`,i);for(const a of t){if(!nB(s)&&s>0)await y4({...a,retries:a.retries+1,lastError:i,errorType:"validation"});else{const o=Date.now()+Wb(a.retries+1);await Pl(a.id,i,"batch");const u=await Wa("syncQueue",a.id);u&&(u.nextRetryAt=o,await ui("syncQueue",u))}await Da({queueItemId:a.id,action:a.action,endpoint:a.endpoint,status:"failed",duration:Date.now()-r,errorMessage:i,errorCode:String(s),payloadSummary:Vf(a.payload),retryCount:a.retries+1})}}}async function hye(){const e=await zh();if(e.length===0)return;const t=Date.now(),r=e.filter(i=>!(i.nextRetryAt&&i.nextRetryAt>t));if(r.length===0)return;const n=new Map,s=[];for(const i of r)i.batchId?(n.has(i.batchId)||n.set(i.batchId,[]),n.get(i.batchId).push(i)):s.push(i);console.log(`[Silent-Sync]   ${r.length}  (${n.size}  ${s.length} )   ${e.length}...`);for(const[i,a]of n)await fye(i,a);for(const i of s)try{if(i.retries>=Hm.maxRetries){console.warn(`[Silent-Sync]  ${i.id}  DLQ  ${i.retries} `),await y4(i);continue}if(await m3(i.id),i.retries>0){const d=Wb(i.retries);await new Promise(h=>setTimeout(h,d))}else await new Promise(d=>setTimeout(d,100));const a=i.action==="create"?"POST":i.action==="update"?"PATCH":"DELETE",o=Date.now();let u;try{const d=i.idempotencyKey||`sync:${i.id}:${i.retries}`;u=await Ie(i.endpoint,a,i.payload,0,{"x-idempotency-key":d})}catch(d){const h=sB(d),f=d?.message||d?.error||String(d);if(h===409){console.log(`[Silent-Sync]   (409): ${i.id}`),await eB(i.id,f),await b4(i,!0);continue}if(!nB(h)){console.error(`[Silent-Sync]     (${h}): ${i.id}`),await y4({...i,retries:i.retries+1,lastError:f,errorType:"validation"}),await Da({queueItemId:i.id,action:i.action,endpoint:i.endpoint,status:"failed",duration:Date.now()-o,errorMessage:`  DLQ: ${f}`,errorCode:String(h),payloadSummary:Vf(i.payload),retryCount:i.retries+1});continue}const p=Date.now()+Wb(i.retries+1);await Pl(i.id,f,"network");const g=await Wa("syncQueue",i.id);g&&(g.nextRetryAt=p,await ui("syncQueue",g)),await Da({queueItemId:i.id,action:i.action,endpoint:i.endpoint,status:"failed",duration:Date.now()-o,errorMessage:f,errorCode:String(h),payloadSummary:Vf(i.payload),retryCount:i.retries+1});continue}const l=Date.now()-o;if(u&&u.success!==!1)await g1(i.id),await b4(i,!0),await Da({queueItemId:i.id,action:i.action,endpoint:i.endpoint,status:"success",duration:l,payloadSummary:Vf(i.payload),retryCount:i.retries}),console.log(`[Silent-Sync] : ${i.id} (${l}ms)`);else{const d=u?.message||u?.error||"  ",h=Date.now()+Wb(i.retries+1);await Pl(i.id,d,"server");const f=await Wa("syncQueue",i.id);f&&(f.nextRetryAt=h,await ui("syncQueue",f)),await Da({queueItemId:i.id,action:i.action,endpoint:i.endpoint,status:"failed",duration:l,errorMessage:d,payloadSummary:Vf(i.payload),retryCount:i.retries+1})}}catch(a){console.error(`[Silent-Sync]    ${i.id}:`,a),await Pl(i.id,a.message||String(a),"unknown")}}async function b4(e,t){try{const r=e.endpoint.split("/")[2],n=e.payload?.id;if(!r||!n)return;const s=await Wa(r,n);s&&(s._pendingSync=!t,s._isLocal=!t,await ui(r,s))}catch{}}let A8=null,P8=null;function pye(e=3e4){A8===null&&(qb(),A8=setInterval(()=>{navigator.onLine&&qb()},e),P8=()=>{qb()},window.addEventListener("online",P8))}let Hb=0,v4="0";async function mye(e){const t=new TextEncoder,r=await crypto.subtle.digest("SHA-256",t.encode(e));return Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("")}async function gye(){const e=await Ki("localAuditLog");if(e.length>0){const t=e.sort((r,n)=>n.sequence-r.sequence);Hb=t[0].sequence,v4=t[0].hash}}async function g3(e,t,r,n){Hb++;const s=v4,i=Date.now(),a=`${Hb}:${e}:${t}:${r}:${s}:${i}`,o=await mye(a),u={id:k0(),action:e,entityType:t,entityId:r,payload:{...n},timestamp:i,sequence:Hb,hash:o,previousHash:s};await _0("localAuditLog",u),v4=o}const iB={"/api/fund-transfers":"fundTransfers","/api/worker-attendance":"workerAttendance","/api/transportation-expenses":"transportationExpenses","/api/material-purchases":"materialPurchases","/api/worker-transfers":"workerTransfers","/api/worker-misc-expenses":"workerMiscExpenses","/api/workers":"workers","/api/projects":"projects","/api/suppliers":"suppliers","/api/materials":"materials","/api/wells":"wells","/api/project-types":"projectTypes","/api/autocomplete":"autocompleteData","/api/supplier-payments":"supplierPayments"};function aB(e){const t=e.split("?")[0];for(const[r,n]of Object.entries(iB))if(t===r||t.startsWith(r+"/"))return n;return t.startsWith("/api/projects/")&&t.includes("/fund-transfers")?"fundTransfers":t.startsWith("/api/projects/")&&t.includes("/worker-attendance")?"workerAttendance":t.startsWith("/api/projects/")&&t.includes("/material-purchases")?"materialPurchases":t.startsWith("/api/projects/")&&t.includes("/transportation")?"transportationExpenses":(t.startsWith("/api/projects/")&&t.includes("/daily-expenses"),null)}function y3(e){const t=e.split("?")[0];t.split("/");for(const[r]of Object.entries(iB))if(t.startsWith(r+"/")){const s=t.substring(r.length+1).split("/")[0];if(s&&s.length>0)return s}return null}async function I8(e,t,r){const n=aB(e);if(!n)throw new Error(`[Offline]    ${e}  `);if(t==="POST")return yye(e,n,r);if(t==="PATCH"||t==="PUT")return bye(e,n,r);if(t==="DELETE")return vye(e,n);if(t==="GET")return xye(e,n);throw new Error(`[Offline]  ${t}    `)}async function yye(e,t,r){const n=r?.id||k0(),s={...r,id:n,_isLocal:!0,_pendingSync:!0,_offlineCreatedAt:Date.now(),createdAt:r?.createdAt||new Date().toISOString()};return await ui(t,s),await ih("create",e,s),g3("create",t,n,s).catch(i=>console.warn("[Audit]  :",i)),{success:!0,data:{success:!0,data:s,message:"  "},isOffline:!0,pendingSync:!0}}async function bye(e,t,r){const n=y3(e)||r?.id;if(!n)throw new Error("[Offline]     ");const i={...await Wa(t,n)||{},...r,id:n,_pendingSync:!0,_offlineUpdatedAt:Date.now(),updatedAt:new Date().toISOString()};return await ui(t,i),await ih("update",e,i),g3("update",t,n,i).catch(a=>console.warn("[Audit]  :",a)),{success:!0,data:{success:!0,data:i,message:"  "},isOffline:!0,pendingSync:!0}}async function vye(e,t){const r=y3(e);if(!r)throw new Error("[Offline]     ");return await S0(t,r),await ih("delete",e,{id:r}),g3("delete",t,r,{id:r}).catch(n=>console.warn("[Audit]  :",n)),{success:!0,data:{success:!0,message:"  "},isOffline:!0,pendingSync:!0}}async function xye(e,t){const r=y3(e);if(r){const s=await Wa(t,r);return{success:!!s,data:s?{success:!0,data:s}:{success:!1,data:null},isOffline:!0,pendingSync:!1}}const n=await Ki(t);return{success:!0,data:{success:!0,data:n,count:n.length},isOffline:!0,pendingSync:!1}}function R8(e){return aB(e)!==null}const he={projects:["/api/projects"],projectsWithStats:["/api/projects/with-stats"],projectTypes:["/api/project-types"],materials:["/api/materials"],suppliers:["/api/suppliers"],workers:["/api/workers"],workerTypes:["/api/worker-types"],notifications:["/api/notifications"],autocomplete:["/api/autocomplete"],tasks:["/api/tasks"],transportationExpenses:["/api/transportation-expenses"],workerMiscExpenses:["/api/worker-misc-expenses"],financialSummary:["/api/financial-summary"],healthStats:["/api/health/stats"],users:["/api/users"],usersList:["/api/users/list"],aiSessions:["/api/ai/sessions"],backupsStatus:["/api/backups/status"],backupsLogs:["/api/backups/logs"],backupsDatabases:["/api/backups/databases"],equipment:["equipment"],equipmentMovements:["equipment-movements"],wells:["wells"],recentActivities:["/api/recent-activities"],recentActivitiesByProject:e=>["/api/recent-activities",e],healthFull:["/api/health/full"],incidents:["/api/incidents"],metricsSummary:["/api/metrics/summary"],aiAccess:["/api/ai/access"],dbConnections:["/api/db/connections"],dbStats:["/api/stats"],adminDataHealth:["/api/admin/data-health"],autocompleteTransportCategories:["/api/autocomplete/transport-categories"],autocompleteTransactionCategories:["/api/autocomplete/transaction-categories"],syncProjects:["/api/projects"],syncAuditLogs:["/api/sync-audit/logs"],syncAuditStats:["/api/sync-audit/stats"],syncAuditModules:["/api/sync-audit/modules"],syncAuditLogsFiltered:e=>["/api/sync-audit/logs",e],projectTransportation:(e,t,r)=>["/api/projects",e,"transportation",t,r].filter(Boolean),projectFundTransfersFiltered:(e,t)=>["/api/projects",e,"fund-transfers",t].filter(r=>r!==void 0),projectFundTransfersIncoming:(e,t)=>["/api/projects",e,"fund-transfers","incoming",t].filter(r=>r!==void 0),projectFundTransfersOutgoing:(e,t)=>["/api/projects",e,"fund-transfers","outgoing",t].filter(r=>r!==void 0),projectWorkerAttendanceFiltered:(e,t)=>["/api/projects",e,"worker-attendance",t].filter(r=>r!==void 0),projectMaterialPurchasesFiltered:(e,t)=>["/api/projects",e,"material-purchases",t].filter(r=>r!==void 0),transportationExpensesFiltered:(e,t)=>["/api/transportation-expenses",e,t].filter(r=>r!==void 0),workerMiscExpensesFiltered:(e,t)=>["/api/worker-misc-expenses",e,t].filter(Boolean),workerTransfersFiltered:(e,t)=>["/api/worker-transfers",e,t].filter(r=>r!==void 0),workerStats:(e,t)=>["/api/workers",e,"stats",t].filter(Boolean),projectAttendance:e=>["/api/projects",e,"attendance"],dailyExpensesComplex:(e,t,r)=>["/api/projects",e,t,r].filter(Boolean),materialPurchases:(e,t)=>["/api/projects",e,"material-purchases",t].filter(Boolean),workerAttendance:(e,t)=>["/api/projects",e,"worker-attendance",t].filter(Boolean),workerAttendanceAll:e=>["/api/projects",e,"worker-attendance"],dailyExpenses:(e,t)=>["/api/projects",e,"daily-expenses",t].filter(Boolean),previousBalance:(e,t)=>["/api/projects",e,"previous-balance",t].filter(Boolean),dailySummary:(e,t)=>["/api/projects",e,"daily-summary",t].filter(Boolean),projectStats:e=>["/api/projects",e,"stats"],workerTransfers:e=>["/api/worker-transfers",e],projectFundTransfers:["/api/project-fund-transfers"],allFundTransfers:["/api/projects/all/fund-transfers"],supplierStatistics:["/api/suppliers/statistics"],supplierStatisticsFiltered:(...e)=>["/api/suppliers/statistics",...e],materialPurchasesDateRange:["/api/material-purchases/date-range"],materialPurchasesFiltered:(...e)=>["/api/material-purchases",...e],dailyProjectTransfers:(e,t)=>["/api/daily-project-transfers",e,t].filter(Boolean),dailyExpenseSummaries:["/api/daily-expense-summaries"],wellTasks:e=>["well-tasks",e],wellExpenses:e=>["well-expenses",e],wellCostReport:e=>["well-cost-report",e],wellById:e=>["well",e],wellsByProject:e=>["wells",e],autocompleteCategory:e=>["autocomplete",e],autocompleteOwnerNames:e=>["autocomplete/ownerNames",e],autocompleteFanTypes:e=>["autocomplete/fanTypes",e],autocompletePumpPowers:e=>["autocomplete/pumpPowers",e],autocompleteTaskDescriptions:e=>["autocomplete/taskDescriptions",e],notificationsByUser:e=>["/api/notifications",e],adminNotifications:(...e)=>["admin-notifications",...e],userActivity:["user-activity"],metrics:["/api/metrics/current"],diagnostics:["/api/diagnostics/checks"],workerAttendanceEdit:e=>["/api/worker-attendance",e],materialPurchaseEdit:e=>["/api/material-purchases",e],reportsWorkerStatement:(...e)=>["/api/reports/worker-statement",...e],reportsDashboardKpis:(...e)=>["/api/reports/dashboard-kpis",...e],securityPolicies:["/api/security/policies"],securityViolations:["/api/security/violations"],securitySuggestions:["/api/security/suggestions"],projectCosts:e=>["project-costs",e],errorLogs:["/api/error-logs"],usersWithRoles:["/api/users","with-roles"],workerStatsSimple:e=>["/api/workers",e,"stats"],equipmentFiltered:(...e)=>["equipment",...e],equipmentMovementsById:e=>["equipment-movements",e],autocompleteAdmin:(...e)=>["autocomplete-admin",...e],autocompleteFanTypesPrefix:["autocomplete/fanTypes"],autocompletePumpPowersPrefix:["autocomplete/pumpPowers"],autocompleteOwnerNamesPrefix:["autocomplete/ownerNames"]};let x4=null;function O8(e){x4=e}function wye(){return x4?x4.getAccessToken():localStorage.getItem("accessToken")}async function Ie(e,t="GET",r,n=0,s){const i=Fh.getApiBaseUrl();let a=e;if(!e.startsWith("http")){const d=e.startsWith("/")?e:`/${e}`;a=`${i}${d}`}const o=typeof window<"u"?localStorage.getItem("accessToken"):null;o||(console.warn(` [apiRequest]    : ${t} ${e}`),typeof window<"u"&&!window.location.pathname.includes("/login")&&e.includes("/auth/login"));const u={"Content-Type":"application/json",...s||{}};o&&(u.Authorization=`Bearer ${o}`);const l={method:t,headers:u,credentials:"include"};r&&t!=="GET"&&(l.body=JSON.stringify(r));try{if(!navigator.onLine&&t!=="GET"&&R8(e)){console.log(` [apiRequest]   -   : ${t} ${e}`);const p=await I8(e,t,r);if(p.success)return window.dispatchEvent(new CustomEvent("offline-mutation-queued",{detail:{endpoint:e,method:t,pendingSync:!0}})),{...p.data,isOffline:!0,pendingSync:!0}}console.log(` API Request: ${t} ${e}`,r||"");const d=await fetch(a,l),h=d.headers.get("content-type");if(d.status===401){console.log(" [apiRequest] 401 Unauthorized - Checking tokens...");const p=localStorage.getItem("refreshToken");if(p&&n===0)try{const y=`${Fh.getApiBaseUrl()}/api/auth/refresh`;console.log(" [apiRequest] Attempting silent refresh...");const m=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:p})});if(m.ok){const v=await m.json(),b=v.data?.accessToken||v.accessToken,x=v.data?.refreshToken||v.refreshToken;if(b){console.log(" [apiRequest] Refresh successful, retrying request"),localStorage.setItem("accessToken",b),x&&localStorage.setItem("refreshToken",x);const k={...u,Authorization:`Bearer ${b}`},T={...l,headers:k},O=await fetch(a,T);if(!O.ok)throw new Error("    ");return await O.json()}}else console.error(" [apiRequest] Refresh response not OK:",m.status)}catch(g){console.error(" [apiRequest] Refresh failed:",g)}if(!window.location.pathname.includes("/login"))return console.warn(" [apiRequest] Session expired, but staying in-place for offline support."),null;throw new Error(" ")}if(!d.ok){let p=`HTTP error! status: ${d.status}`;try{if(h&&h.includes("application/json"))p=(await d.json()).message||p;else{const g=await d.text();console.error(" [apiRequest]   text/html; charset=UTF-8   JSON:",{url:e,method:t,status:d.status,contentType:h,responsePreview:g.substring(0,200)})}}catch{}throw new Error(p)}if(!h||!h.includes("application/json")){const p=await d.text();throw console.error(" [apiRequest]   text/html; charset=UTF-8   JSON:",{url:e,method:t,status:d.status,contentType:h,responsePreview:p.substring(0,200)}),new Error(`   :  JSON    ${h}`)}const f=await d.json();return console.log(` API Response: ${t} ${e}`,f),f}catch(d){if(d instanceof TypeError&&(d.message.includes("Failed to fetch")||d.message.includes("NetworkError")||d.message.includes("Network request failed"))&&t!=="GET"&&R8(e)){console.log(` [apiRequest]   -   : ${t} ${e}`);try{const h=await I8(e,t,r);if(h.success)return window.dispatchEvent(new CustomEvent("offline-mutation-queued",{detail:{endpoint:e,method:t,pendingSync:!0}})),{...h.data,isOffline:!0,pendingSync:!0}}catch(h){console.error(" [apiRequest]    :",h)}}throw console.error(` API Error: ${t} ${e}`,d),d}}const _ye=({on401:e,useLocalFallback:t=!0})=>async({queryKey:r})=>{const n=Fh.getApiBaseUrl(),s=r.join("/");let i=s;if(!s.startsWith("http"))if(n){const o=s.startsWith("/")?s:`/${s}`;i=`${n}${o}`}else s.startsWith("/")||(i=`/${s}`);async function a(o=0){const u=new AbortController,l=setTimeout(()=>u.abort(),3e4);try{const d=E8();if(console.log(` [QueryClient]  : ${d?"":" "}`),!d&&t){console.log(` [QueryClient]   -     : ${r.join("/")}`);try{const y=r[0].startsWith("/api/")?r[0].substring(5):r[0],m=await Ki(y);if(m&&Array.isArray(m)&&m.length>0)return console.log(` [QueryClient]   ${m.length}  `),m}catch(y){console.error(" [QueryClient]    :",y)}}const h={},f=wye();f&&(h.Authorization=`Bearer ${f}`),console.log(` [QueryClient]  : ${i}`,{hasToken:!!f,online:E8()});const p=await fetch(i,{headers:h,credentials:"include",signal:u.signal});if(clearTimeout(l),!p.ok){if(p.status===401&&o===0){console.log(" [QueryClient] 401 -   ...");const m=localStorage.getItem("refreshToken");if(m)try{const b=`${Fh.getApiBaseUrl()}/api/auth/refresh`,x=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:m})});if(x.ok){const k=await x.json(),T=k.data?.accessToken||k.accessToken,O=k.data?.refreshToken||k.refreshToken;if(T)return console.log(" [QueryClient]      ..."),localStorage.setItem("accessToken",T),O&&localStorage.setItem("refreshToken",O),a(o+1)}}catch(v){console.error(" [QueryClient]   :",v)}throw console.error(" [QueryClient] Unauthorized (401) -  "),new Error("Authentication Error (401)")}if(p.status===401)throw new Error("Authentication Error (401)");const y=await p.json().catch(()=>({message:`Error ${p.status}`}));throw new Error(y?.message||`Error ${p.status}`)}const g=await p.json();if(console.log(` [QueryClient]    ${r.join("/")}:`,{hasData:!!g,dataType:typeof g}),console.log(` [QueryClient]    ${r.join("/")}:`,{dataType:typeof g,isObject:g&&typeof g=="object",hasSuccess:g?.success!==void 0,hasDataProperty:g?.data!==void 0,actualDataValue:g?.data,rawData:g}),g&&typeof g=="object"){const y=typeof r[0]=="string"&&r[0].includes("migration");if(g.success!==void 0&&g.hasOwnProperty("data"))return console.log(` [QueryClient]  API   ${r.join("/")}:`,{success:g.success,dataExists:g.data!==void 0,dataType:typeof g.data}),y?g.data:g.data===null||g.data===void 0?[]:g.data;if(Array.isArray(g))return console.log(` [QueryClient]    ${r.join("/")}:`,g.length),g;if(g.data!==void 0)return console.log(` [QueryClient]  data   ${r.join("/")}:`,g.data),g.data!==null?g.data:[]}return console.log(` [QueryClient]      ${r.join("/")}:`,g),g}catch(d){throw clearTimeout(l),d instanceof Error&&d.name==="AbortError"?(console.log(` [QueryClient] timeout  ${r.join("/")}`),new Error("      ")):(console.error(` [QueryClient]   ${r.join("/")}`,d),d)}}return a()},$u={REFERENCE_DATA:1e3*60*10,ACTIVE_DATA:1e3*60*5},Ss=new L0e({defaultOptions:{queries:{queryFn:_ye({on401:"throw",useLocalFallback:!0}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1e3*60*5,gcTime:1e3*60*60,retry:!1,refetchOnReconnect:!1,refetchOnMount:!1,placeholderData:e=>e},mutations:{retry:1}}}),Lu=he;async function Sye(){console.log(" [Prefetch]     ...");const e=Date.now(),t=[Ss.prefetchQuery({queryKey:Lu.projects,staleTime:$u.REFERENCE_DATA}),Ss.prefetchQuery({queryKey:Lu.projectsWithStats,staleTime:$u.REFERENCE_DATA}),Ss.prefetchQuery({queryKey:Lu.workers,staleTime:$u.REFERENCE_DATA}),Ss.prefetchQuery({queryKey:Lu.materials,staleTime:$u.REFERENCE_DATA}),Ss.prefetchQuery({queryKey:Lu.suppliers,staleTime:$u.REFERENCE_DATA}),Ss.prefetchQuery({queryKey:Lu.autocomplete,staleTime:$u.REFERENCE_DATA}),Ss.prefetchQuery({queryKey:Lu.notifications,staleTime:$u.ACTIVE_DATA})];try{await Promise.all(t);const r=Date.now()-e;console.log(` [Prefetch]       ${r}ms`)}catch(r){console.warn(" [Prefetch]    :",r)}}function kye(){console.log(" [Cache]    ..."),Ss.clear()}const jye=3,Nye=5e3;let y2=0;function Tye(){return y2=(y2+1)%Number.MAX_SAFE_INTEGER,y2.toString()}const b2=new Map,M8=e=>{if(b2.has(e))return;const t=setTimeout(()=>{b2.delete(e),Km({type:"REMOVE_TOAST",toastId:e})},Nye);b2.set(e,t)},Eye=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,jye)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?M8(r):e.toasts.forEach(n=>{M8(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Kb=[];let Gb={toasts:[]};function Km(e){Gb=Eye(Gb,e),Kb.forEach(t=>{t(Gb)})}function b3({...e}){const t=Tye(),r=s=>Km({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Km({type:"DISMISS_TOAST",toastId:t});return Km({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Br(){const[e,t]=E.useState(Gb);return E.useEffect(()=>(Kb.push(t),()=>{const r=Kb.indexOf(t);r>-1&&Kb.splice(r,1)}),[e]),{...e,toast:b3,dismiss:r=>Km({type:"DISMISS_TOAST",toastId:r})}}function et(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function D8(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ol(...e){return t=>{let r=!1;const n=e.map(s=>{const i=D8(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():D8(e[s],null)}}}}function tr(...e){return E.useCallback(ol(...e),e)}function Cye(e,t){const r=E.createContext(t),n=i=>{const{children:a,...o}=i,u=E.useMemo(()=>o,Object.values(o));return c.jsx(r.Provider,{value:u,children:a})};n.displayName=e+"Provider";function s(i){const a=E.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Ws(e,t=[]){let r=[];function n(i,a){const o=E.createContext(a),u=r.length;r=[...r,a];const l=h=>{const{scope:f,children:p,...g}=h,y=f?.[e]?.[u]||o,m=E.useMemo(()=>g,Object.values(g));return c.jsx(y.Provider,{value:m,children:p})};l.displayName=i+"Provider";function d(h,f){const p=f?.[e]?.[u]||o,g=E.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[l,d]}const s=()=>{const i=r.map(a=>E.createContext(a));return function(o){const u=o?.[e]||i;return E.useMemo(()=>({[`__scope${e}`]:{...o,[e]:u}}),[o,u])}};return s.scopeName=e,[n,Aye(s,...t)]}function Aye(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:u,scopeName:l})=>{const h=u(i)[`__scope${l}`];return{...o,...h}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function $8(e){const t=Pye(e),r=E.forwardRef((n,s)=>{const{children:i,...a}=n,o=E.Children.toArray(i),u=o.find(Rye);if(u){const l=u.props.children,d=o.map(h=>h===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:h);return c.jsx(t,{...a,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return c.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Pye(e){const t=E.forwardRef((r,n)=>{const{children:s,...i}=r;if(E.isValidElement(s)){const a=Mye(s),o=Oye(i,s.props);return s.type!==E.Fragment&&(o.ref=n?ol(n,a):a),E.cloneElement(s,o)}return E.Children.count(s)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Iye=Symbol("radix.slottable");function Rye(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Iye}function Oye(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Mye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function y1(e){const t=e+"CollectionProvider",[r,n]=Ws(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:m,children:v}=y,b=jt.useRef(null),x=jt.useRef(new Map).current;return c.jsx(s,{scope:m,itemMap:x,collectionRef:b,children:v})};a.displayName=t;const o=e+"CollectionSlot",u=$8(o),l=jt.forwardRef((y,m)=>{const{scope:v,children:b}=y,x=i(o,v),k=tr(m,x.collectionRef);return c.jsx(u,{ref:k,children:b})});l.displayName=o;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=$8(d),p=jt.forwardRef((y,m)=>{const{scope:v,children:b,...x}=y,k=jt.useRef(null),T=tr(m,k),O=i(d,v);return jt.useEffect(()=>(O.itemMap.set(k,{ref:k,...x}),()=>void O.itemMap.delete(k))),c.jsx(f,{[h]:"",ref:T,children:b})});p.displayName=d;function g(y){const m=i(e+"CollectionConsumer",y);return jt.useCallback(()=>{const b=m.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(m.itemMap.values()).sort((O,F)=>x.indexOf(O.ref.current)-x.indexOf(F.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:l,ItemSlot:p},g,n]}function v2(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function Dye(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function oB(...e){return t=>e.forEach(r=>Dye(r,t))}function lB(...e){return E.useCallback(oB(...e),e)}var cB=E.forwardRef((e,t)=>{const{children:r,...n}=e,s=E.Children.toArray(r),i=s.find(Lye);if(i){const a=i.props.children,o=s.map(u=>u===i?E.Children.count(a)>1?E.Children.only(null):E.isValidElement(a)?a.props.children:null:u);return c.jsx(w4,{...n,ref:t,children:E.isValidElement(a)?E.cloneElement(a,void 0,o):null})}return c.jsx(w4,{...n,ref:t,children:r})});cB.displayName="Slot";var w4=E.forwardRef((e,t)=>{const{children:r,...n}=e;if(E.isValidElement(r)){const s=zye(r);return E.cloneElement(r,{...Fye(n,r.props),ref:t?oB(t,s):s})}return E.Children.count(r)>1?E.Children.only(null):null});w4.displayName="SlotClone";var $ye=({children:e})=>c.jsx(c.Fragment,{children:e});function Lye(e){return E.isValidElement(e)&&e.type===$ye}function Fye(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{i(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function zye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Bye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],uB=Bye.reduce((e,t)=>{const r=E.forwardRef((n,s)=>{const{asChild:i,...a}=n,o=i?cB:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(o,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Uye(e,t){e&&Nu.flushSync(()=>e.dispatchEvent(t))}function dB(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...r)=>t.current?.(...r),[])}function Vye(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...r)=>t.current?.(...r),[])}function Wye(e,t=globalThis?.document){const r=Vye(e);E.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var qye="DismissableLayer",_4="dismissableLayer.update",Hye="dismissableLayer.pointerDownOutside",Kye="dismissableLayer.focusOutside",L8,fB=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jd=E.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...u}=e,l=E.useContext(fB),[d,h]=E.useState(null),f=d?.ownerDocument??globalThis?.document,[,p]=E.useState({}),g=lB(t,F=>h(F)),y=Array.from(l.layers),[m]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(m),b=d?y.indexOf(d):-1,x=l.layersWithOutsidePointerEventsDisabled.size>0,k=b>=v,T=Zye(F=>{const A=F.target,P=[...l.branches].some(D=>D.contains(A));!k||P||(s?.(F),a?.(F),F.defaultPrevented||o?.())},f),O=Xye(F=>{const A=F.target;[...l.branches].some(D=>D.contains(A))||(i?.(F),a?.(F),F.defaultPrevented||o?.())},f);return Wye(F=>{b===l.layers.size-1&&(n?.(F),!F.defaultPrevented&&o&&(F.preventDefault(),o()))},f),E.useEffect(()=>{if(d)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(L8=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(d)),l.layers.add(d),F8(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=L8)}},[d,f,r,l]),E.useEffect(()=>()=>{d&&(l.layers.delete(d),l.layersWithOutsidePointerEventsDisabled.delete(d),F8())},[d,l]),E.useEffect(()=>{const F=()=>p({});return document.addEventListener(_4,F),()=>document.removeEventListener(_4,F)},[]),c.jsx(uB.div,{...u,ref:g,style:{pointerEvents:x?k?"auto":"none":void 0,...e.style},onFocusCapture:v2(e.onFocusCapture,O.onFocusCapture),onBlurCapture:v2(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:v2(e.onPointerDownCapture,T.onPointerDownCapture)})});Jd.displayName=qye;var Gye="DismissableLayerBranch",hB=E.forwardRef((e,t)=>{const r=E.useContext(fB),n=E.useRef(null),s=lB(t,n);return E.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c.jsx(uB.div,{...e,ref:s})});hB.displayName=Gye;function Zye(e,t=globalThis?.document){const r=dB(e),n=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let u=function(){pB(Hye,r,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Xye(e,t=globalThis?.document){const r=dB(e),n=E.useRef(!1);return E.useEffect(()=>{const s=i=>{i.target&&!n.current&&pB(Kye,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function F8(){const e=new CustomEvent(_4);document.dispatchEvent(e)}function pB(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Uye(s,i):s.dispatchEvent(i)}var Yye=Jd,Qye=hB;function Jye(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ebe(...e){return t=>e.forEach(r=>Jye(r,t))}var mB=E.forwardRef((e,t)=>{const{children:r,...n}=e,s=E.Children.toArray(r),i=s.find(rbe);if(i){const a=i.props.children,o=s.map(u=>u===i?E.Children.count(a)>1?E.Children.only(null):E.isValidElement(a)?a.props.children:null:u);return c.jsx(S4,{...n,ref:t,children:E.isValidElement(a)?E.cloneElement(a,void 0,o):null})}return c.jsx(S4,{...n,ref:t,children:r})});mB.displayName="Slot";var S4=E.forwardRef((e,t)=>{const{children:r,...n}=e;if(E.isValidElement(r)){const s=sbe(r);return E.cloneElement(r,{...nbe(n,r.props),ref:t?ebe(t,s):s})}return E.Children.count(r)>1?E.Children.only(null):null});S4.displayName="SlotClone";var tbe=({children:e})=>c.jsx(c.Fragment,{children:e});function rbe(e){return E.isValidElement(e)&&e.type===tbe}function nbe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{i(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function sbe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ibe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],abe=ibe.reduce((e,t)=>{const r=E.forwardRef((n,s)=>{const{asChild:i,...a}=n,o=i?mB:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(o,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),obe=globalThis?.document?E.useLayoutEffect:()=>{},lbe="Portal",yp=E.forwardRef((e,t)=>{const{container:r,...n}=e,[s,i]=E.useState(!1);obe(()=>i(!0),[]);const a=r||s&&globalThis?.document?.body;return a?Sge.createPortal(c.jsx(abe.div,{...n,ref:t}),a):null});yp.displayName=lbe;var Cs=globalThis?.document?E.useLayoutEffect:()=>{};function cbe(e,t){return E.useReducer((r,n)=>t[r][n]??r,e)}var ss=e=>{const{present:t,children:r}=e,n=ube(t),s=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),i=tr(n.ref,dbe(s));return typeof r=="function"||n.isPresent?E.cloneElement(s,{ref:i}):null};ss.displayName="Presence";function ube(e){const[t,r]=E.useState(),n=E.useRef(null),s=E.useRef(e),i=E.useRef("none"),a=e?"mounted":"unmounted",[o,u]=cbe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const l=tb(n.current);i.current=o==="mounted"?l:"none"},[o]),Cs(()=>{const l=n.current,d=s.current;if(d!==e){const f=i.current,p=tb(l);e?u("MOUNT"):p==="none"||l?.display==="none"?u("UNMOUNT"):u(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Cs(()=>{if(t){let l;const d=t.ownerDocument.defaultView??window,h=p=>{const y=tb(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&y&&(u("ANIMATION_END"),!s.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",l=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},f=p=>{p.target===t&&(i.current=tb(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(l),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:E.useCallback(l=>{n.current=l?getComputedStyle(l):null,r(l)},[])}}function tb(e){return e?.animationName||"none"}function dbe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function fbe(e){const t=hbe(e),r=E.forwardRef((n,s)=>{const{children:i,...a}=n,o=E.Children.toArray(i),u=o.find(mbe);if(u){const l=u.props.children,d=o.map(h=>h===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:h);return c.jsx(t,{...a,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return c.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function hbe(e){const t=E.forwardRef((r,n)=>{const{children:s,...i}=r;if(E.isValidElement(s)){const a=ybe(s),o=gbe(i,s.props);return s.type!==E.Fragment&&(o.ref=n?ol(n,a):a),E.cloneElement(s,o)}return E.Children.count(s)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pbe=Symbol("radix.slottable");function mbe(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pbe}function gbe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function ybe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var bbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wt=bbe.reduce((e,t)=>{const r=fbe(`Primitive.${t}`),n=E.forwardRef((s,i)=>{const{asChild:a,...o}=s,u=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gB(e,t){e&&Nu.flushSync(()=>e.dispatchEvent(t))}function ni(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...r)=>t.current?.(...r),[])}var vbe=Kx[" useInsertionEffect ".trim().toString()]||Cs;function qa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,a]=xbe({defaultProp:t,onChange:r}),o=e!==void 0,u=o?e:s;{const d=E.useRef(e!==void 0);E.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const l=E.useCallback(d=>{if(o){const h=wbe(d)?d(e):d;h!==e&&a.current?.(h)}else i(d)},[o,e,i,a]);return[u,l]}function xbe({defaultProp:e,onChange:t}){const[r,n]=E.useState(e),s=E.useRef(r),i=E.useRef(t);return vbe(()=>{i.current=t},[t]),E.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,n,i]}function wbe(e){return typeof e=="function"}var _be=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Sbe="VisuallyHidden",v3=E.forwardRef((e,t)=>c.jsx(wt.span,{...e,ref:t,style:{..._be,...e.style}}));v3.displayName=Sbe;var x3="ToastProvider",[w3,kbe,jbe]=y1("Toast"),[yB]=Ws("Toast",[jbe]),[Nbe,b1]=yB(x3),bB=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[o,u]=E.useState(null),[l,d]=E.useState(0),h=E.useRef(!1),f=E.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${x3}\`. Expected non-empty \`string\`.`),c.jsx(w3.Provider,{scope:t,children:c.jsx(Nbe,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:l,viewport:o,onViewportChange:u,onToastAdd:E.useCallback(()=>d(p=>p+1),[]),onToastRemove:E.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};bB.displayName=x3;var vB="ToastViewport",Tbe=["F8"],k4="toast.viewportPause",j4="toast.viewportResume",xB=E.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Tbe,label:s="Notifications ({hotkey})",...i}=e,a=b1(vB,r),o=kbe(r),u=E.useRef(null),l=E.useRef(null),d=E.useRef(null),h=E.useRef(null),f=tr(t,h,a.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;E.useEffect(()=>{const m=v=>{n.length!==0&&n.every(x=>v[x]||v.code===x)&&h.current?.focus()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),E.useEffect(()=>{const m=u.current,v=h.current;if(g&&m&&v){const b=()=>{if(!a.isClosePausedRef.current){const O=new CustomEvent(k4);v.dispatchEvent(O),a.isClosePausedRef.current=!0}},x=()=>{if(a.isClosePausedRef.current){const O=new CustomEvent(j4);v.dispatchEvent(O),a.isClosePausedRef.current=!1}},k=O=>{!m.contains(O.relatedTarget)&&x()},T=()=>{m.contains(document.activeElement)||x()};return m.addEventListener("focusin",b),m.addEventListener("focusout",k),m.addEventListener("pointermove",b),m.addEventListener("pointerleave",T),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{m.removeEventListener("focusin",b),m.removeEventListener("focusout",k),m.removeEventListener("pointermove",b),m.removeEventListener("pointerleave",T),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[g,a.isClosePausedRef]);const y=E.useCallback(({tabbingDirection:m})=>{const b=o().map(x=>{const k=x.ref.current,T=[k,...zbe(k)];return m==="forwards"?T:T.reverse()});return(m==="forwards"?b.reverse():b).flat()},[o]);return E.useEffect(()=>{const m=h.current;if(m){const v=b=>{const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const T=document.activeElement,O=b.shiftKey;if(b.target===m&&O){l.current?.focus();return}const P=y({tabbingDirection:O?"backwards":"forwards"}),D=P.findIndex(V=>V===T);x2(P.slice(D+1))?b.preventDefault():O?l.current?.focus():d.current?.focus()}};return m.addEventListener("keydown",v),()=>m.removeEventListener("keydown",v)}},[o,y]),c.jsxs(Qye,{ref:u,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&c.jsx(N4,{ref:l,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"forwards"});x2(m)}}),c.jsx(w3.Slot,{scope:r,children:c.jsx(wt.ol,{tabIndex:-1,...i,ref:f})}),g&&c.jsx(N4,{ref:d,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"backwards"});x2(m)}})]})});xB.displayName=vB;var wB="ToastFocusProxy",N4=E.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=b1(wB,r);return c.jsx(v3,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{const o=a.relatedTarget;!i.viewport?.contains(o)&&n()}})});N4.displayName=wB;var j0="Toast",Ebe="toast.swipeStart",Cbe="toast.swipeMove",Abe="toast.swipeCancel",Pbe="toast.swipeEnd",_B=E.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=e,[o,u]=qa({prop:n,defaultProp:s??!0,onChange:i,caller:j0});return c.jsx(ss,{present:r||o,children:c.jsx(Obe,{open:o,...a,ref:t,onClose:()=>u(!1),onPause:ni(e.onPause),onResume:ni(e.onResume),onSwipeStart:et(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:et(e.onSwipeMove,l=>{const{x:d,y:h}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:et(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:et(e.onSwipeEnd,l=>{const{x:d,y:h}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),u(!1)})})})});_B.displayName=j0;var[Ibe,Rbe]=yB(j0,{onClose(){}}),Obe=E.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:o,onPause:u,onResume:l,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...g}=e,y=b1(j0,r),[m,v]=E.useState(null),b=tr(t,I=>v(I)),x=E.useRef(null),k=E.useRef(null),T=s||y.duration,O=E.useRef(0),F=E.useRef(T),A=E.useRef(0),{onToastAdd:P,onToastRemove:D}=y,V=ni(()=>{m?.contains(document.activeElement)&&y.viewport?.focus(),a()}),B=E.useCallback(I=>{!I||I===1/0||(window.clearTimeout(A.current),O.current=new Date().getTime(),A.current=window.setTimeout(V,I))},[V]);E.useEffect(()=>{const I=y.viewport;if(I){const N=()=>{B(F.current),l?.()},w=()=>{const _=new Date().getTime()-O.current;F.current=F.current-_,window.clearTimeout(A.current),u?.()};return I.addEventListener(k4,w),I.addEventListener(j4,N),()=>{I.removeEventListener(k4,w),I.removeEventListener(j4,N)}}},[y.viewport,T,u,l,B]),E.useEffect(()=>{i&&!y.isClosePausedRef.current&&B(T)},[i,T,y.isClosePausedRef,B]),E.useEffect(()=>(P(),()=>D()),[P,D]);const C=E.useMemo(()=>m?CB(m):null,[m]);return y.viewport?c.jsxs(c.Fragment,{children:[C&&c.jsx(Mbe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:C}),c.jsx(Ibe,{scope:r,onClose:V,children:Nu.createPortal(c.jsx(w3.ItemSlot,{scope:r,children:c.jsx(Yye,{asChild:!0,onEscapeKeyDown:et(o,()=>{y.isFocusedToastEscapeKeyDownRef.current||V(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(wt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:et(e.onKeyDown,I=>{I.key==="Escape"&&(o?.(I.nativeEvent),I.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:et(e.onPointerDown,I=>{I.button===0&&(x.current={x:I.clientX,y:I.clientY})}),onPointerMove:et(e.onPointerMove,I=>{if(!x.current)return;const N=I.clientX-x.current.x,w=I.clientY-x.current.y,_=!!k.current,S=["left","right"].includes(y.swipeDirection),j=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,R=S?j(0,N):0,$=S?0:j(0,w),U=I.pointerType==="touch"?10:2,q={x:R,y:$},H={originalEvent:I,delta:q};_?(k.current=q,rb(Cbe,h,H,{discrete:!1})):z8(q,y.swipeDirection,U)?(k.current=q,rb(Ebe,d,H,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(N)>U||Math.abs(w)>U)&&(x.current=null)}),onPointerUp:et(e.onPointerUp,I=>{const N=k.current,w=I.target;if(w.hasPointerCapture(I.pointerId)&&w.releasePointerCapture(I.pointerId),k.current=null,x.current=null,N){const _=I.currentTarget,S={originalEvent:I,delta:N};z8(N,y.swipeDirection,y.swipeThreshold)?rb(Pbe,p,S,{discrete:!0}):rb(Abe,f,S,{discrete:!0}),_.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Mbe=e=>{const{__scopeToast:t,children:r,...n}=e,s=b1(j0,t),[i,a]=E.useState(!1),[o,u]=E.useState(!1);return Lbe(()=>a(!0)),E.useEffect(()=>{const l=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(l)},[]),o?null:c.jsx(yp,{asChild:!0,children:c.jsx(v3,{...n,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",r]})})})},Dbe="ToastTitle",SB=E.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c.jsx(wt.div,{...n,ref:t})});SB.displayName=Dbe;var $be="ToastDescription",kB=E.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c.jsx(wt.div,{...n,ref:t})});kB.displayName=$be;var jB="ToastAction",NB=E.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?c.jsx(EB,{altText:r,asChild:!0,children:c.jsx(_3,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${jB}\`. Expected non-empty \`string\`.`),null)});NB.displayName=jB;var TB="ToastClose",_3=E.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Rbe(TB,r);return c.jsx(EB,{asChild:!0,children:c.jsx(wt.button,{type:"button",...n,ref:t,onClick:et(e.onClick,s.onClose)})})});_3.displayName=TB;var EB=E.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return c.jsx(wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function CB(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Fbe(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...CB(n))}}),t}function rb(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?gB(s,i):s.dispatchEvent(i)}var z8=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function Lbe(e=()=>{}){const t=ni(e);Cs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Fbe(e){return e.nodeType===e.ELEMENT_NODE}function zbe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function x2(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Bbe=bB,AB=xB,PB=_B,IB=SB,RB=kB,OB=NB,MB=_3;function DB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=DB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $B(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=DB(e))&&(n&&(n+=" "),n+=t);return n}const B8=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,U8=$B,ef=(e,t)=>r=>{var n;if(t?.variants==null)return U8(e,r?.class,r?.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(l=>{const d=r?.[l],h=i?.[l];if(d===null)return null;const f=B8(d)||B8(h);return s[l][f]}),o=r&&Object.entries(r).reduce((l,d)=>{let[h,f]=d;return f===void 0||(l[h]=f),l},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((l,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(g=>{let[y,m]=g;return Array.isArray(m)?m.includes({...i,...o}[y]):{...i,...o}[y]===m})?[...l,h,f]:l},[]);return U8(e,a,u,r?.class,r?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ube=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LB=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vbe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wbe=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},u)=>E.createElement("svg",{ref:u,...Vbe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:LB("lucide",s),...o},[...a.map(([l,d])=>E.createElement(l,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const r=E.forwardRef(({className:n,...s},i)=>E.createElement(Wbe,{ref:i,iconNode:t,className:LB(`lucide-${Ube(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Oe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qbe=Oe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hbe=Oe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Oe("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kbe=Oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Oe("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gbe=Oe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zbe=Oe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xbe=Oe("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=Oe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=Oe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=Oe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Oe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=Oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ybe=Oe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Oe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qbe=Oe("ChartGantt",[["path",{d:"M10 6h8",key:"zvc2xc"}],["path",{d:"M12 16h6",key:"yi5mkt"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 11h7",key:"wz2hg0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=Oe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=Oe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jbe=Oe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=Oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=Oe("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=Oe("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Oe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=Oe("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=Oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eve=Oe("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=Oe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tve=Oe("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=Oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rve=Oe("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=Oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nve=Oe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sve=Oe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Oe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=Oe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=Oe("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ive=Oe("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Oe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ave=Oe("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ove=Oe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lve=Oe("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cve=Oe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Oe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Oe("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=Oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uve=Oe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dve=Oe("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=Oe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fve=Oe("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=Oe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hve=Oe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=Oe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Oe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=Oe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pve=Oe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mve=Oe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=Oe("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gve=Oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yve=Oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=Oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Oe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bve=Oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=Oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=Oe("MonitorSmartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vve=Oe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xve=Oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wve=Oe("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Oe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ve=Oe("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sve=Oe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Oe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=Oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kve=Oe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=Oe("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=Oe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=Oe("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Oe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Oe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jve=Oe("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=Oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=Oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nve=Oe("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=Oe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=Oe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tve=Oe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eve=Oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=Oe("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=Oe("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Oe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=Oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Oe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Oe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cve=Oe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ave=Oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pve=Oe("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Oe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Oe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Oe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=Oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),E3="-",Ive=e=>{const t=Ove(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const o=a.split(E3);return o[0]===""&&o.length!==1&&o.shift(),XB(o,t)||Rve(a)},getConflictingClassGroupIds:(a,o)=>{const u=r[a]||[];return o&&n[a]?[...u,...n[a]]:u}}},XB=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?XB(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(E3);return t.validators.find(({validator:a})=>a(i))?.classGroupId},Q8=/^\[(.+)\]$/,Rve=e=>{if(Q8.test(e)){const t=Q8.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Ove=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Dve(Object.entries(e.classGroups),r).forEach(([i,a])=>{P4(a,n,i,t)}),n},P4=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:J8(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Mve(s)){P4(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{P4(a,J8(t,i),r,n)})})},J8=(e,t)=>{let r=e;return t.split(E3).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Mve=e=>e.isThemeGetter,Dve=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[r,s]}):e,$ve=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},YB="!",Lve=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=o=>{const u=[];let l=0,d=0,h;for(let m=0;m<o.length;m++){let v=o[m];if(l===0){if(v===s&&(n||o.slice(m,m+i)===t)){u.push(o.slice(d,m)),d=m+i;continue}if(v==="/"){h=m;continue}}v==="["?l++:v==="]"&&l--}const f=u.length===0?o:o.substring(d),p=f.startsWith(YB),g=p?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}};return r?o=>r({className:o,parseClassName:a}):a},Fve=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},zve=e=>({cache:$ve(e.cacheSize),parseClassName:Lve(e),...Ive(e)}),Bve=/\s+/,Uve=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(Bve);let o="";for(let u=a.length-1;u>=0;u-=1){const l=a[u],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(l);let g=!!p,y=n(g?f.substring(0,p):f);if(!y){if(!g){o=l+(o.length>0?" "+o:o);continue}if(y=n(f),!y){o=l+(o.length>0?" "+o:o);continue}g=!1}const m=Fve(d).join(":"),v=h?m+YB:m,b=v+y;if(i.includes(b))continue;i.push(b);const x=s(y,g);for(let k=0;k<x.length;++k){const T=x[k];i.push(v+T)}o=l+(o.length>0?" "+o:o)}return o};function Vve(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=QB(t))&&(n&&(n+=" "),n+=r);return n}const QB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=QB(e[n]))&&(r&&(r+=" "),r+=t);return r};function Wve(e,...t){let r,n,s,i=a;function a(u){const l=t.reduce((d,h)=>h(d),e());return r=zve(l),n=r.cache.get,s=r.cache.set,i=o,o(u)}function o(u){const l=n(u);if(l)return l;const d=Uve(u,r);return s(u,d),d}return function(){return i(Vve.apply(null,arguments))}}const ln=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},JB=/^\[(?:([a-z-]+):)?(.+)\]$/i,qve=/^\d+\/\d+$/,Hve=new Set(["px","full","screen"]),Kve=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gve=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zve=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Xve=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Yve=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pl=e=>ah(e)||Hve.has(e)||qve.test(e),hc=e=>vp(e,"length",ixe),ah=e=>!!e&&!Number.isNaN(Number(e)),_2=e=>vp(e,"number",ah),am=e=>!!e&&Number.isInteger(Number(e)),Qve=e=>e.endsWith("%")&&ah(e.slice(0,-1)),cr=e=>JB.test(e),pc=e=>Kve.test(e),Jve=new Set(["length","size","percentage"]),exe=e=>vp(e,Jve,eU),txe=e=>vp(e,"position",eU),rxe=new Set(["image","url"]),nxe=e=>vp(e,rxe,oxe),sxe=e=>vp(e,"",axe),om=()=>!0,vp=(e,t,r)=>{const n=JB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ixe=e=>Gve.test(e)&&!Zve.test(e),eU=()=>!1,axe=e=>Xve.test(e),oxe=e=>Yve.test(e),lxe=()=>{const e=ln("colors"),t=ln("spacing"),r=ln("blur"),n=ln("brightness"),s=ln("borderColor"),i=ln("borderRadius"),a=ln("borderSpacing"),o=ln("borderWidth"),u=ln("contrast"),l=ln("grayscale"),d=ln("hueRotate"),h=ln("invert"),f=ln("gap"),p=ln("gradientColorStops"),g=ln("gradientColorStopPositions"),y=ln("inset"),m=ln("margin"),v=ln("opacity"),b=ln("padding"),x=ln("saturate"),k=ln("scale"),T=ln("sepia"),O=ln("skew"),F=ln("space"),A=ln("translate"),P=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",cr,t],B=()=>[cr,t],C=()=>["",pl,hc],I=()=>["auto",ah,cr],N=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],w=()=>["solid","dashed","dotted","double","none"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",cr],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[ah,cr];return{cacheSize:500,separator:":",theme:{colors:[om],spacing:[pl,hc],blur:["none","",pc,cr],brightness:$(),borderColor:[e],borderRadius:["none","","full",pc,cr],borderSpacing:B(),borderWidth:C(),contrast:$(),grayscale:j(),hueRotate:$(),invert:j(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[Qve,hc],inset:V(),margin:V(),opacity:$(),padding:B(),saturate:$(),scale:$(),sepia:j(),skew:$(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",cr]}],container:["container"],columns:[{columns:[pc]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...N(),cr]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",am,cr]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",cr]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",am,cr]}],"grid-cols":[{"grid-cols":[om]}],"col-start-end":[{col:["auto",{span:["full",am,cr]},cr]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[om]}],"row-start-end":[{row:["auto",{span:[am,cr]},cr]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",cr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",cr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",cr,t]}],"min-w":[{"min-w":[cr,t,"min","max","fit"]}],"max-w":[{"max-w":[cr,t,"none","full","min","max","fit","prose",{screen:[pc]},pc]}],h:[{h:[cr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[cr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[cr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[cr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",pc,hc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_2]}],"font-family":[{font:[om]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",cr]}],"line-clamp":[{"line-clamp":["none",ah,_2]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pl,cr]}],"list-image":[{"list-image":["none",cr]}],"list-style-type":[{list:["none","disc","decimal",cr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...w(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pl,hc]}],"underline-offset":[{"underline-offset":["auto",pl,cr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",cr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",cr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...N(),txe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",exe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nxe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...w(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:w()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...w()]}],"outline-offset":[{"outline-offset":[pl,cr]}],"outline-w":[{outline:[pl,hc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[pl,hc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",pc,sxe]}],"shadow-color":[{shadow:[om]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[..._(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",pc,cr]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",cr]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",cr]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",cr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[am,cr]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",cr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",cr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",cr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pl,hc,_2]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cxe=Wve(lxe);function _e(...e){return cxe($B(e))}const ze=e=>{if(e==null)return"0 .";let t;if(typeof e=="string"){if(e.match(/^(\d{1,3})\1{2,}$/))return"0 .";const r=e.replace(/[^\d.-]/g,"");t=parseFloat(r)}else t=e;return isNaN(t)||!isFinite(t)?"0 .":Math.abs(t)>1e11?(console.warn("    :",t),"0 ."):`${t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})} .`},is=e=>{if(e==null)return 0;if(typeof e=="number")return isNaN(e)||!isFinite(e)||Math.abs(e)>1e11?0:e;if(typeof e=="string"){if(e.match(/^(\d{1,3})\1{2,}$/)||e.match(/^(\d)\1{5,}$/))return 0;const t=e.replace(/[^\d.-]/g,""),r=parseFloat(t);return isNaN(r)||!isFinite(r)||Math.abs(r)>1e11?0:r}return 0},oo=e=>{const t=typeof e=="string"?new Date(e):e;return isNaN(t.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}).format(t).replace(/[-]/g,n=>"0123456789"["".indexOf(n)])},eP=e=>{const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"";const r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${s}`};function Ls(){return new Date().toISOString().split("T")[0]}const uxe=Bbe,tU=E.forwardRef(({className:e,...t},r)=>c.jsx(AB,{ref:r,className:_e("fixed top-4 left-4 z-[9999] flex max-h-screen w-full max-w-md flex-col gap-3 p-4 sm:max-w-[420px]",e),...t}));tU.displayName=AB.displayName;const dxe=ef("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-2xl border p-4 pr-8 shadow-2xl transition-all duration-300 ease-out data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-right-full data-[state=open]:slide-in-from-top-8 backdrop-blur-md hover:scale-[1.02] hover:shadow-3xl",{variants:{variant:{default:"border-border bg-card dark:bg-slate-900 text-foreground shadow-lg",destructive:"destructive group border-destructive/50 bg-destructive/10 dark:bg-destructive/20 text-destructive shadow-lg backdrop-blur-xl",success:"border-green-500/50 bg-green-500/10 dark:bg-green-500/20 text-green-600 dark:text-green-400 shadow-lg",warning:"border-yellow-500/50 bg-yellow-500/10 dark:bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 shadow-lg"}},defaultVariants:{variant:"default"}}),rU=E.forwardRef(({className:e,variant:t,...r},n)=>c.jsx(PB,{ref:n,className:_e(dxe({variant:t}),e),...r}));rU.displayName=PB.displayName;const fxe=E.forwardRef(({className:e,...t},r)=>c.jsx(OB,{ref:r,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-xl border bg-transparent px-3 text-sm font-medium ring-offset-background transition-all duration-200 hover:bg-secondary hover:scale-105 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-red-300/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400",e),...t}));fxe.displayName=OB.displayName;const nU=E.forwardRef(({className:e,...t},r)=>c.jsx(MB,{ref:r,className:_e("absolute right-2 top-2 rounded-xl p-1.5 text-foreground/50 opacity-0 transition-all duration-200 hover:text-foreground hover:bg-gray-100/80 hover:scale-110 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:hover:bg-red-500/20 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(fs,{className:"h-4 w-4 transition-transform duration-200 hover:rotate-90"})}));nU.displayName=MB.displayName;const sU=E.forwardRef(({className:e,...t},r)=>c.jsx(IB,{ref:r,className:_e("text-sm font-bold tracking-wide",e),...t}));sU.displayName=IB.displayName;const iU=E.forwardRef(({className:e,...t},r)=>c.jsx(RB,{ref:r,className:_e("text-sm opacity-90 leading-relaxed",e),...t}));iU.displayName=RB.displayName;function hxe(){const{toasts:e}=Br();return c.jsxs(uxe,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return c.jsxs(rU,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(sU,{children:r}),n&&c.jsx(iU,{children:n})]}),s,c.jsx(nU,{})]},t)}),c.jsx(tU,{})]})}var pxe=Kx[" useId ".trim().toString()]||(()=>{}),mxe=0;function aa(e){const[t,r]=E.useState(pxe());return Cs(()=>{r(n=>n??String(mxe++))},[e]),t?`radix-${t}`:""}const gxe=["top","right","bottom","left"],fu=Math.min,Yi=Math.max,rx=Math.round,nb=Math.floor,Qo=e=>({x:e,y:e}),yxe={left:"right",right:"left",bottom:"top",top:"bottom"},bxe={start:"end",end:"start"};function I4(e,t,r){return Yi(e,fu(t,r))}function Gl(e,t){return typeof e=="function"?e(t):e}function Zl(e){return e.split("-")[0]}function xp(e){return e.split("-")[1]}function C3(e){return e==="x"?"y":"x"}function A3(e){return e==="y"?"height":"width"}const vxe=new Set(["top","bottom"]);function Ho(e){return vxe.has(Zl(e))?"y":"x"}function P3(e){return C3(Ho(e))}function xxe(e,t,r){r===void 0&&(r=!1);const n=xp(e),s=P3(e),i=A3(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=nx(a)),[a,nx(a)]}function wxe(e){const t=nx(e);return[R4(e),t,R4(t)]}function R4(e){return e.replace(/start|end/g,t=>bxe[t])}const tP=["left","right"],rP=["right","left"],_xe=["top","bottom"],Sxe=["bottom","top"];function kxe(e,t,r){switch(e){case"top":case"bottom":return r?t?rP:tP:t?tP:rP;case"left":case"right":return t?_xe:Sxe;default:return[]}}function jxe(e,t,r,n){const s=xp(e);let i=kxe(Zl(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(R4)))),i}function nx(e){return e.replace(/left|right|bottom|top/g,t=>yxe[t])}function Nxe(e){return{top:0,right:0,bottom:0,left:0,...e}}function aU(e){return typeof e!="number"?Nxe(e):{top:e,right:e,bottom:e,left:e}}function sx(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function nP(e,t,r){let{reference:n,floating:s}=e;const i=Ho(t),a=P3(t),o=A3(a),u=Zl(t),l=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[o]/2-s[o]/2;let p;switch(u){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-s.width,y:h};break;default:p={x:n.x,y:n.y}}switch(xp(t)){case"start":p[a]-=f*(r&&l?-1:1);break;case"end":p[a]+=f*(r&&l?-1:1);break}return p}const Txe=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,o=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=nP(l,n,u),f=n,p={},g=0;for(let y=0;y<o.length;y++){const{name:m,fn:v}=o[y],{x:b,y:x,data:k,reset:T}=await v({x:d,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:l,platform:a,elements:{reference:e,floating:t}});d=b??d,h=x??h,p={...p,[m]:{...p[m],...k}},T&&g<=50&&(g++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(l=T.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):T.rects),{x:d,y:h}=nP(l,f,u)),y=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Ag(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:o,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Gl(t,e),g=aU(p),m=o[f?h==="floating"?"reference":"floating":h],v=sx(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(m)))==null||r?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:l,rootBoundary:d,strategy:u})),b=h==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),k=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},T=sx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:x,strategy:u}):b);return{top:(v.top-T.top+g.top)/k.y,bottom:(T.bottom-v.bottom+g.bottom)/k.y,left:(v.left-T.left+g.left)/k.x,right:(T.right-v.right+g.right)/k.x}}const Exe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:o,middlewareData:u}=t,{element:l,padding:d=0}=Gl(e,t)||{};if(l==null)return{};const h=aU(d),f={x:r,y:n},p=P3(s),g=A3(p),y=await a.getDimensions(l),m=p==="y",v=m?"top":"left",b=m?"bottom":"right",x=m?"clientHeight":"clientWidth",k=i.reference[g]+i.reference[p]-f[p]-i.floating[g],T=f[p]-i.reference[p],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let F=O?O[x]:0;(!F||!await(a.isElement==null?void 0:a.isElement(O)))&&(F=o.floating[x]||i.floating[g]);const A=k/2-T/2,P=F/2-y[g]/2-1,D=fu(h[v],P),V=fu(h[b],P),B=D,C=F-y[g]-V,I=F/2-y[g]/2+A,N=I4(B,I,C),w=!u.arrow&&xp(s)!=null&&I!==N&&i.reference[g]/2-(I<B?D:V)-y[g]/2<0,_=w?I<B?I-B:I-C:0;return{[p]:f[p]+_,data:{[p]:N,centerOffset:I-N-_,...w&&{alignmentOffset:_}},reset:w}}}),Cxe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:u,elements:l}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...m}=Gl(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Zl(s),b=Ho(o),x=Zl(o)===o,k=await(u.isRTL==null?void 0:u.isRTL(l.floating)),T=f||(x||!y?[nx(o)]:wxe(o)),O=g!=="none";!f&&O&&T.push(...jxe(o,y,g,k));const F=[o,...T],A=await Ag(t,m),P=[];let D=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(A[v]),h){const I=xxe(s,a,k);P.push(A[I[0]],A[I[1]])}if(D=[...D,{placement:s,overflows:P}],!P.every(I=>I<=0)){var V,B;const I=(((V=i.flip)==null?void 0:V.index)||0)+1,N=F[I];if(N&&(!(h==="alignment"?b!==Ho(N):!1)||D.every(S=>Ho(S.placement)===b?S.overflows[0]>0:!0)))return{data:{index:I,overflows:D},reset:{placement:N}};let w=(B=D.filter(_=>_.overflows[0]<=0).sort((_,S)=>_.overflows[1]-S.overflows[1])[0])==null?void 0:B.placement;if(!w)switch(p){case"bestFit":{var C;const _=(C=D.filter(S=>{if(O){const j=Ho(S.placement);return j===b||j==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(j=>j>0).reduce((j,R)=>j+R,0)]).sort((S,j)=>S[1]-j[1])[0])==null?void 0:C[0];_&&(w=_);break}case"initialPlacement":w=o;break}if(s!==w)return{reset:{placement:w}}}return{}}}};function sP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function iP(e){return gxe.some(t=>e[t]>=0)}const Axe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Gl(e,t);switch(n){case"referenceHidden":{const i=await Ag(t,{...s,elementContext:"reference"}),a=sP(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:iP(a)}}}case"escaped":{const i=await Ag(t,{...s,altBoundary:!0}),a=sP(i,r.floating);return{data:{escapedOffsets:a,escaped:iP(a)}}}default:return{}}}}},oU=new Set(["left","top"]);async function Pxe(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Zl(r),o=xp(r),u=Ho(r)==="y",l=oU.has(a)?-1:1,d=i&&u?-1:1,h=Gl(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),u?{x:p*d,y:f*l}:{x:f*l,y:p*d}}const Ixe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:o}=t,u=await Pxe(t,e);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:a}}}}},Rxe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:m=>{let{x:v,y:b}=m;return{x:v,y:b}}},...u}=Gl(e,t),l={x:r,y:n},d=await Ag(t,u),h=Ho(Zl(s)),f=C3(h);let p=l[f],g=l[h];if(i){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=p+d[m],x=p-d[v];p=I4(b,p,x)}if(a){const m=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=g+d[m],x=g-d[v];g=I4(b,g,x)}const y=o.fn({...t,[f]:p,[h]:g});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[f]:i,[h]:a}}}}}},Oxe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:o=0,mainAxis:u=!0,crossAxis:l=!0}=Gl(e,t),d={x:r,y:n},h=Ho(s),f=C3(h);let p=d[f],g=d[h];const y=Gl(o,t),m=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const x=f==="y"?"height":"width",k=i.reference[f]-i.floating[x]+m.mainAxis,T=i.reference[f]+i.reference[x]-m.mainAxis;p<k?p=k:p>T&&(p=T)}if(l){var v,b;const x=f==="y"?"width":"height",k=oU.has(Zl(s)),T=i.reference[h]-i.floating[x]+(k&&((v=a.offset)==null?void 0:v[h])||0)+(k?0:m.crossAxis),O=i.reference[h]+i.reference[x]+(k?0:((b=a.offset)==null?void 0:b[h])||0)-(k?m.crossAxis:0);g<T?g=T:g>O&&(g=O)}return{[f]:p,[h]:g}}}},Mxe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:o}=t,{apply:u=()=>{},...l}=Gl(e,t),d=await Ag(t,l),h=Zl(s),f=xp(s),p=Ho(s)==="y",{width:g,height:y}=i.floating;let m,v;h==="top"||h==="bottom"?(m=h,v=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=h,m=f==="end"?"top":"bottom");const b=y-d.top-d.bottom,x=g-d.left-d.right,k=fu(y-d[m],b),T=fu(g-d[v],x),O=!t.middlewareData.shift;let F=k,A=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(F=b),O&&!f){const D=Yi(d.left,0),V=Yi(d.right,0),B=Yi(d.top,0),C=Yi(d.bottom,0);p?A=g-2*(D!==0||V!==0?D+V:Yi(d.left,d.right)):F=y-2*(B!==0||C!==0?B+C:Yi(d.top,d.bottom))}await u({...t,availableWidth:A,availableHeight:F});const P=await a.getDimensions(o.floating);return g!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function v1(){return typeof window<"u"}function wp(e){return lU(e)?(e.nodeName||"").toLowerCase():"#document"}function oa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ll(e){var t;return(t=(lU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lU(e){return v1()?e instanceof Node||e instanceof oa(e).Node:!1}function jo(e){return v1()?e instanceof Element||e instanceof oa(e).Element:!1}function il(e){return v1()?e instanceof HTMLElement||e instanceof oa(e).HTMLElement:!1}function aP(e){return!v1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oa(e).ShadowRoot}const Dxe=new Set(["inline","contents"]);function E0(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=No(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Dxe.has(s)}const $xe=new Set(["table","td","th"]);function Lxe(e){return $xe.has(wp(e))}const Fxe=[":popover-open",":modal"];function x1(e){return Fxe.some(t=>{try{return e.matches(t)}catch{return!1}})}const zxe=["transform","translate","scale","rotate","perspective"],Bxe=["transform","translate","scale","rotate","perspective","filter"],Uxe=["paint","layout","strict","content"];function I3(e){const t=R3(),r=jo(e)?No(e):e;return zxe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Bxe.some(n=>(r.willChange||"").includes(n))||Uxe.some(n=>(r.contain||"").includes(n))}function Vxe(e){let t=hu(e);for(;il(t)&&!Vh(t);){if(I3(t))return t;if(x1(t))return null;t=hu(t)}return null}function R3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Wxe=new Set(["html","body","#document"]);function Vh(e){return Wxe.has(wp(e))}function No(e){return oa(e).getComputedStyle(e)}function w1(e){return jo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hu(e){if(wp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||aP(e)&&e.host||ll(e);return aP(t)?t.host:t}function cU(e){const t=hu(e);return Vh(t)?e.ownerDocument?e.ownerDocument.body:e.body:il(t)&&E0(t)?t:cU(t)}function Pg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=cU(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=oa(s);if(i){const o=O4(a);return t.concat(a,a.visualViewport||[],E0(s)?s:[],o&&r?Pg(o):[])}return t.concat(s,Pg(s,[],r))}function O4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function uU(e){const t=No(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=il(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,o=rx(r)!==i||rx(n)!==a;return o&&(r=i,n=a),{width:r,height:n,$:o}}function O3(e){return jo(e)?e:e.contextElement}function oh(e){const t=O3(e);if(!il(t))return Qo(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=uU(t);let a=(i?rx(r.width):r.width)/n,o=(i?rx(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const qxe=Qo(0);function dU(e){const t=oa(e);return!R3()||!t.visualViewport?qxe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Hxe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==oa(e)?!1:t}function Dd(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=O3(e);let a=Qo(1);t&&(n?jo(n)&&(a=oh(n)):a=oh(e));const o=Hxe(i,r,n)?dU(i):Qo(0);let u=(s.left+o.x)/a.x,l=(s.top+o.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const f=oa(i),p=n&&jo(n)?oa(n):n;let g=f,y=O4(g);for(;y&&n&&p!==g;){const m=oh(y),v=y.getBoundingClientRect(),b=No(y),x=v.left+(y.clientLeft+parseFloat(b.paddingLeft))*m.x,k=v.top+(y.clientTop+parseFloat(b.paddingTop))*m.y;u*=m.x,l*=m.y,d*=m.x,h*=m.y,u+=x,l+=k,g=oa(y),y=O4(g)}}return sx({width:d,height:h,x:u,y:l})}function _1(e,t){const r=w1(e).scrollLeft;return t?t.left+r:Dd(ll(e)).left+r}function fU(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-_1(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function Kxe(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=ll(n),o=t?x1(t.floating):!1;if(n===a||o&&i)return r;let u={scrollLeft:0,scrollTop:0},l=Qo(1);const d=Qo(0),h=il(n);if((h||!h&&!i)&&((wp(n)!=="body"||E0(a))&&(u=w1(n)),il(n))){const p=Dd(n);l=oh(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const f=a&&!h&&!i?fU(a,u):Qo(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-u.scrollLeft*l.x+d.x+f.x,y:r.y*l.y-u.scrollTop*l.y+d.y+f.y}}function Gxe(e){return Array.from(e.getClientRects())}function Zxe(e){const t=ll(e),r=w1(e),n=e.ownerDocument.body,s=Yi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Yi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+_1(e);const o=-r.scrollTop;return No(n).direction==="rtl"&&(a+=Yi(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:o}}const oP=25;function Xxe(e,t){const r=oa(e),n=ll(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,o=0,u=0;if(s){i=s.width,a=s.height;const d=R3();(!d||d&&t==="fixed")&&(o=s.offsetLeft,u=s.offsetTop)}const l=_1(n);if(l<=0){const d=n.ownerDocument,h=d.body,f=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(n.clientWidth-h.clientWidth-p);g<=oP&&(i-=g)}else l<=oP&&(i+=l);return{width:i,height:a,x:o,y:u}}const Yxe=new Set(["absolute","fixed"]);function Qxe(e,t){const r=Dd(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=il(e)?oh(e):Qo(1),a=e.clientWidth*i.x,o=e.clientHeight*i.y,u=s*i.x,l=n*i.y;return{width:a,height:o,x:u,y:l}}function lP(e,t,r){let n;if(t==="viewport")n=Xxe(e,r);else if(t==="document")n=Zxe(ll(e));else if(jo(t))n=Qxe(t,r);else{const s=dU(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return sx(n)}function hU(e,t){const r=hu(e);return r===t||!jo(r)||Vh(r)?!1:No(r).position==="fixed"||hU(r,t)}function Jxe(e,t){const r=t.get(e);if(r)return r;let n=Pg(e,[],!1).filter(o=>jo(o)&&wp(o)!=="body"),s=null;const i=No(e).position==="fixed";let a=i?hu(e):e;for(;jo(a)&&!Vh(a);){const o=No(a),u=I3(a);!u&&o.position==="fixed"&&(s=null),(i?!u&&!s:!u&&o.position==="static"&&!!s&&Yxe.has(s.position)||E0(a)&&!u&&hU(e,a))?n=n.filter(d=>d!==a):s=o,a=hu(a)}return t.set(e,n),n}function e1e(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?x1(t)?[]:Jxe(t,this._c):[].concat(r),n],o=a[0],u=a.reduce((l,d)=>{const h=lP(t,d,s);return l.top=Yi(h.top,l.top),l.right=fu(h.right,l.right),l.bottom=fu(h.bottom,l.bottom),l.left=Yi(h.left,l.left),l},lP(t,o,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function t1e(e){const{width:t,height:r}=uU(e);return{width:t,height:r}}function r1e(e,t,r){const n=il(t),s=ll(t),i=r==="fixed",a=Dd(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const u=Qo(0);function l(){u.x=_1(s)}if(n||!n&&!i)if((wp(t)!=="body"||E0(s))&&(o=w1(t)),n){const p=Dd(t,!0,i,t);u.x=p.x+t.clientLeft,u.y=p.y+t.clientTop}else s&&l();i&&!n&&s&&l();const d=s&&!n&&!i?fU(s,o):Qo(0),h=a.left+o.scrollLeft-u.x-d.x,f=a.top+o.scrollTop-u.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function S2(e){return No(e).position==="static"}function cP(e,t){if(!il(e)||No(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ll(e)===r&&(r=r.ownerDocument.body),r}function pU(e,t){const r=oa(e);if(x1(e))return r;if(!il(e)){let s=hu(e);for(;s&&!Vh(s);){if(jo(s)&&!S2(s))return s;s=hu(s)}return r}let n=cP(e,t);for(;n&&Lxe(n)&&S2(n);)n=cP(n,t);return n&&Vh(n)&&S2(n)&&!I3(n)?r:n||Vxe(e)||r}const n1e=async function(e){const t=this.getOffsetParent||pU,r=this.getDimensions,n=await r(e.floating);return{reference:r1e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function s1e(e){return No(e).direction==="rtl"}const i1e={convertOffsetParentRelativeRectToViewportRelativeRect:Kxe,getDocumentElement:ll,getClippingRect:e1e,getOffsetParent:pU,getElementRects:n1e,getClientRects:Gxe,getDimensions:t1e,getScale:oh,isElement:jo,isRTL:s1e};function mU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function a1e(e,t){let r=null,n;const s=ll(e);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,u){o===void 0&&(o=!1),u===void 0&&(u=1),i();const l=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=l;if(o||t(),!f||!p)return;const g=nb(h),y=nb(s.clientWidth-(d+f)),m=nb(s.clientHeight-(h+p)),v=nb(d),x={rootMargin:-g+"px "+-y+"px "+-m+"px "+-v+"px",threshold:Yi(0,fu(1,u))||1};let k=!0;function T(O){const F=O[0].intersectionRatio;if(F!==u){if(!k)return a();F?a(!1,F):n=setTimeout(()=>{a(!1,1e-7)},1e3)}F===1&&!mU(l,e.getBoundingClientRect())&&a(),k=!1}try{r=new IntersectionObserver(T,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(T,x)}r.observe(e)}return a(!0),i}function o1e(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,l=O3(e),d=s||i?[...l?Pg(l):[],...Pg(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const h=l&&o?a1e(l,r):null;let f=-1,p=null;a&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),r()}),l&&!u&&p.observe(l),p.observe(t));let g,y=u?Dd(e):null;u&&m();function m(){const v=Dd(e);y&&!mU(y,v)&&r(),y=v,g=requestAnimationFrame(m)}return r(),()=>{var v;d.forEach(b=>{s&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),h?.(),(v=p)==null||v.disconnect(),p=null,u&&cancelAnimationFrame(g)}}const l1e=Ixe,c1e=Rxe,u1e=Cxe,d1e=Mxe,f1e=Axe,uP=Exe,h1e=Oxe,p1e=(e,t,r)=>{const n=new Map,s={platform:i1e,...r},i={...s.platform,_c:n};return Txe(e,t,{...s,platform:i})};var m1e=typeof document<"u",g1e=function(){},Xb=m1e?E.useLayoutEffect:g1e;function ix(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ix(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!ix(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function gU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dP(e,t){const r=gU(e);return Math.round(t*r)/r}function k2(e){const t=E.useRef(e);return Xb(()=>{t.current=e}),t}function y1e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:u,open:l}=e,[d,h]=E.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=E.useState(n);ix(f,n)||p(n);const[g,y]=E.useState(null),[m,v]=E.useState(null),b=E.useCallback(S=>{S!==O.current&&(O.current=S,y(S))},[]),x=E.useCallback(S=>{S!==F.current&&(F.current=S,v(S))},[]),k=i||g,T=a||m,O=E.useRef(null),F=E.useRef(null),A=E.useRef(d),P=u!=null,D=k2(u),V=k2(s),B=k2(l),C=E.useCallback(()=>{if(!O.current||!F.current)return;const S={placement:t,strategy:r,middleware:f};V.current&&(S.platform=V.current),p1e(O.current,F.current,S).then(j=>{const R={...j,isPositioned:B.current!==!1};I.current&&!ix(A.current,R)&&(A.current=R,Nu.flushSync(()=>{h(R)}))})},[f,t,r,V,B]);Xb(()=>{l===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(S=>({...S,isPositioned:!1})))},[l]);const I=E.useRef(!1);Xb(()=>(I.current=!0,()=>{I.current=!1}),[]),Xb(()=>{if(k&&(O.current=k),T&&(F.current=T),k&&T){if(D.current)return D.current(k,T,C);C()}},[k,T,C,D,P]);const N=E.useMemo(()=>({reference:O,floating:F,setReference:b,setFloating:x}),[b,x]),w=E.useMemo(()=>({reference:k,floating:T}),[k,T]),_=E.useMemo(()=>{const S={position:r,left:0,top:0};if(!w.floating)return S;const j=dP(w.floating,d.x),R=dP(w.floating,d.y);return o?{...S,transform:"translate("+j+"px, "+R+"px)",...gU(w.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:j,top:R}},[r,o,w.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:C,refs:N,elements:w,floatingStyles:_}),[d,C,N,w,_])}const b1e=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?uP({element:n.current,padding:s}).fn(r):{}:n?uP({element:n,padding:s}).fn(r):{}}}},v1e=(e,t)=>({...l1e(e),options:[e,t]}),x1e=(e,t)=>({...c1e(e),options:[e,t]}),w1e=(e,t)=>({...h1e(e),options:[e,t]}),_1e=(e,t)=>({...u1e(e),options:[e,t]}),S1e=(e,t)=>({...d1e(e),options:[e,t]}),k1e=(e,t)=>({...f1e(e),options:[e,t]}),j1e=(e,t)=>({...b1e(e),options:[e,t]});var N1e="Arrow",yU=E.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return c.jsx(wt.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});yU.displayName=N1e;var T1e=yU;function M3(e){const[t,r]=E.useState(void 0);return Cs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const u=i.borderBoxSize,l=Array.isArray(u)?u[0]:u;a=l.inlineSize,o=l.blockSize}else a=e.offsetWidth,o=e.offsetHeight;r({width:a,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var D3="Popper",[bU,Eu]=Ws(D3),[E1e,vU]=bU(D3),xU=e=>{const{__scopePopper:t,children:r}=e,[n,s]=E.useState(null);return c.jsx(E1e,{scope:t,anchor:n,onAnchorChange:s,children:r})};xU.displayName=D3;var wU="PopperAnchor",_U=E.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=vU(wU,r),a=E.useRef(null),o=tr(t,a),u=E.useRef(null);return E.useEffect(()=>{const l=u.current;u.current=n?.current||a.current,l!==u.current&&i.onAnchorChange(u.current)}),n?null:c.jsx(wt.div,{...s,ref:o})});_U.displayName=wU;var $3="PopperContent",[C1e,A1e]=bU($3),SU=E.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...y}=e,m=vU($3,r),[v,b]=E.useState(null),x=tr(t,K=>b(K)),[k,T]=E.useState(null),O=M3(k),F=O?.width??0,A=O?.height??0,P=n+(i!=="center"?"-"+i:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(l)?l:[l],B=V.length>0,C={padding:D,boundary:V.filter(I1e),altBoundary:B},{refs:I,floatingStyles:N,placement:w,isPositioned:_,middlewareData:S}=y1e({strategy:"fixed",placement:P,whileElementsMounted:(...K)=>o1e(...K,{animationFrame:p==="always"}),elements:{reference:m.anchor},middleware:[v1e({mainAxis:s+A,alignmentAxis:a}),u&&x1e({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?w1e():void 0,...C}),u&&_1e({...C}),S1e({...C,apply:({elements:K,rects:z,availableWidth:L,availableHeight:W})=>{const{width:J,height:le}=z.reference,ne=K.floating.style;ne.setProperty("--radix-popper-available-width",`${L}px`),ne.setProperty("--radix-popper-available-height",`${W}px`),ne.setProperty("--radix-popper-anchor-width",`${J}px`),ne.setProperty("--radix-popper-anchor-height",`${le}px`)}}),k&&j1e({element:k,padding:o}),R1e({arrowWidth:F,arrowHeight:A}),f&&k1e({strategy:"referenceHidden",...C})]}),[j,R]=NU(w),$=ni(g);Cs(()=>{_&&$?.()},[_,$]);const U=S.arrow?.x,q=S.arrow?.y,H=S.arrow?.centerOffset!==0,[Y,M]=E.useState();return Cs(()=>{v&&M(window.getComputedStyle(v).zIndex)},[v]),c.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...N,transform:_?N.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[S.transformOrigin?.x,S.transformOrigin?.y].join(" "),...S.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(C1e,{scope:r,placedSide:j,onArrowChange:T,arrowX:U,arrowY:q,shouldHideArrow:H,children:c.jsx(wt.div,{"data-side":j,"data-align":R,...y,ref:x,style:{...y.style,animation:_?void 0:"none"}})})})});SU.displayName=$3;var kU="PopperArrow",P1e={top:"bottom",right:"left",bottom:"top",left:"right"},jU=E.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=A1e(kU,n),a=P1e[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(T1e,{...s,ref:r,style:{...s.style,display:"block"}})})});jU.displayName=kU;function I1e(e){return e!==null}var R1e=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:s}=t,a=s.arrow?.centerOffset!==0,o=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[l,d]=NU(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(s.arrow?.x??0)+o/2,p=(s.arrow?.y??0)+u/2;let g="",y="";return l==="bottom"?(g=a?h:`${f}px`,y=`${-u}px`):l==="top"?(g=a?h:`${f}px`,y=`${n.floating.height+u}px`):l==="right"?(g=`${-u}px`,y=a?h:`${p}px`):l==="left"&&(g=`${n.floating.width+u}px`,y=a?h:`${p}px`),{data:{x:g,y}}}});function NU(e){const[t,r="center"]=e.split("-");return[t,r]}var S1=xU,C0=_U,k1=SU,j1=jU,O1e=Symbol("radix.slottable");function M1e(e){const t=({children:r})=>c.jsx(c.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=O1e,t}var D1e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$1e="VisuallyHidden",TU=E.forwardRef((e,t)=>c.jsx(wt.span,{...e,ref:t,style:{...D1e,...e.style}}));TU.displayName=$1e;var L1e=TU,[N1]=Ws("Tooltip",[Eu]),T1=Eu(),EU="TooltipProvider",F1e=700,M4="tooltip.open",[z1e,L3]=N1(EU),CU=e=>{const{__scopeTooltip:t,delayDuration:r=F1e,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,a=E.useRef(!0),o=E.useRef(!1),u=E.useRef(0);return E.useEffect(()=>{const l=u.current;return()=>window.clearTimeout(l)},[]),c.jsx(z1e,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:E.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:E.useCallback(l=>{o.current=l},[]),disableHoverableContent:s,children:i})};CU.displayName=EU;var Ig="Tooltip",[B1e,E1]=N1(Ig),AU=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:a,delayDuration:o}=e,u=L3(Ig,e.__scopeTooltip),l=T1(t),[d,h]=E.useState(null),f=aa(),p=E.useRef(0),g=a??u.disableHoverableContent,y=o??u.delayDuration,m=E.useRef(!1),[v,b]=qa({prop:n,defaultProp:s??!1,onChange:F=>{F?(u.onOpen(),document.dispatchEvent(new CustomEvent(M4))):u.onClose(),i?.(F)},caller:Ig}),x=E.useMemo(()=>v?m.current?"delayed-open":"instant-open":"closed",[v]),k=E.useCallback(()=>{window.clearTimeout(p.current),p.current=0,m.current=!1,b(!0)},[b]),T=E.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),O=E.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{m.current=!0,b(!0),p.current=0},y)},[y,b]);return E.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),c.jsx(S1,{...l,children:c.jsx(B1e,{scope:t,contentId:f,open:v,stateAttribute:x,trigger:d,onTriggerChange:h,onTriggerEnter:E.useCallback(()=>{u.isOpenDelayedRef.current?O():k()},[u.isOpenDelayedRef,O,k]),onTriggerLeave:E.useCallback(()=>{g?T():(window.clearTimeout(p.current),p.current=0)},[T,g]),onOpen:k,onClose:T,disableHoverableContent:g,children:r})})};AU.displayName=Ig;var D4="TooltipTrigger",PU=E.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=E1(D4,r),i=L3(D4,r),a=T1(r),o=E.useRef(null),u=tr(t,o,s.onTriggerChange),l=E.useRef(!1),d=E.useRef(!1),h=E.useCallback(()=>l.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(C0,{asChild:!0,...a,children:c.jsx(wt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:u,onPointerMove:et(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:et(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:et(e.onPointerDown,()=>{s.open&&s.onClose(),l.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:et(e.onFocus,()=>{l.current||s.onOpen()}),onBlur:et(e.onBlur,s.onClose),onClick:et(e.onClick,s.onClose)})})});PU.displayName=D4;var U1e="TooltipPortal",[CVe,V1e]=N1(U1e,{forceMount:void 0}),Wh="TooltipContent",IU=E.forwardRef((e,t)=>{const r=V1e(Wh,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,a=E1(Wh,e.__scopeTooltip);return c.jsx(ss,{present:n||a.open,children:a.disableHoverableContent?c.jsx(RU,{side:s,...i,ref:t}):c.jsx(W1e,{side:s,...i,ref:t})})}),W1e=E.forwardRef((e,t)=>{const r=E1(Wh,e.__scopeTooltip),n=L3(Wh,e.__scopeTooltip),s=E.useRef(null),i=tr(t,s),[a,o]=E.useState(null),{trigger:u,onClose:l}=r,d=s.current,{onPointerInTransitChange:h}=n,f=E.useCallback(()=>{o(null),h(!1)},[h]),p=E.useCallback((g,y)=>{const m=g.currentTarget,v={x:g.clientX,y:g.clientY},b=Z1e(v,m.getBoundingClientRect()),x=X1e(v,b),k=Y1e(y.getBoundingClientRect()),T=J1e([...x,...k]);o(T),h(!0)},[h]);return E.useEffect(()=>()=>f(),[f]),E.useEffect(()=>{if(u&&d){const g=m=>p(m,d),y=m=>p(m,u);return u.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[u,d,p,f]),E.useEffect(()=>{if(a){const g=y=>{const m=y.target,v={x:y.clientX,y:y.clientY},b=u?.contains(m)||d?.contains(m),x=!Q1e(v,a);b?f():x&&(f(),l())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[u,d,a,l,f]),c.jsx(RU,{...e,ref:i})}),[q1e,H1e]=N1(Ig,{isInside:!1}),K1e=M1e("TooltipContent"),RU=E.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=e,u=E1(Wh,r),l=T1(r),{onClose:d}=u;return E.useEffect(()=>(document.addEventListener(M4,d),()=>document.removeEventListener(M4,d)),[d]),E.useEffect(()=>{if(u.trigger){const h=f=>{f.target?.contains(u.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,d]),c.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(k1,{"data-state":u.stateAttribute,...l,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(K1e,{children:n}),c.jsx(q1e,{scope:r,isInside:!0,children:c.jsx(L1e,{id:u.contentId,role:"tooltip",children:s||n})})]})})});IU.displayName=Wh;var OU="TooltipArrow",G1e=E.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=T1(r);return H1e(OU,r).isInside?null:c.jsx(j1,{...s,...n,ref:t})});G1e.displayName=OU;function Z1e(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function X1e(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Y1e(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Q1e(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i],u=t[a],l=o.x,d=o.y,h=u.x,f=u.y;d>n!=f>n&&r<(h-l)*(n-d)/(f-d)+l&&(s=!s)}return s}function J1e(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ewe(t)}function ewe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var twe=CU,rwe=AU,nwe=PU,MU=IU;const C1=twe,F3=rwe,z3=nwe,A1=E.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c.jsx(MU,{ref:n,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));A1.displayName=MU.displayName;const Pt=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Pt.displayName="Card";const Cn=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));Cn.displayName="CardHeader";const zn=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...t}));zn.displayName="CardTitle";const Yc=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));Yc.displayName="CardDescription";const Ft=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:_e("p-6 pt-0",e),...t}));Ft.displayName="CardContent";const swe=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:_e("flex items-center p-6 pt-0",e),...t}));swe.displayName="CardFooter";function iwe(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(Pt,{className:"w-full max-w-md mx-4",children:c.jsxs(Ft,{className:"pt-6",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Es,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var A0=e=>e.type==="checkbox",ed=e=>e instanceof Date,Ri=e=>e==null;const DU=e=>typeof e=="object";var ts=e=>!Ri(e)&&!Array.isArray(e)&&DU(e)&&!ed(e),$U=e=>ts(e)&&e.target?A0(e.target)?e.target.checked:e.target.value:e,awe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,LU=(e,t)=>e.has(awe(t)),owe=e=>{const t=e.constructor&&e.constructor.prototype;return ts(t)&&t.hasOwnProperty("isPrototypeOf")},B3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xn(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(B3&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(ts(e)&&owe(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Xn(e[s]));return n}var P1=e=>/^\w*$/.test(e),gn=e=>e===void 0,U3=e=>Array.isArray(e)?e.filter(Boolean):[],V3=e=>U3(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ot=(e,t,r)=>{if(!t||!ts(e))return r;const n=(P1(t)?[t]:V3(t)).reduce((s,i)=>Ri(s)?s:s[i],e);return gn(n)||n===e?gn(e[t])?r:e[t]:n},Xi=e=>typeof e=="boolean",vi=e=>typeof e=="function",Ur=(e,t,r)=>{let n=-1;const s=P1(t)?[t]:V3(t),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let u=r;if(n!==a){const l=e[o];u=ts(l)||Array.isArray(l)?l:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=u,e=e[o]}};const ax={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},uo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ml={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},W3=jt.createContext(null);W3.displayName="HookFormControlContext";const q3=()=>jt.useContext(W3);var FU=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==uo.all&&(t._proxyFormState[a]=!n||uo.all),r&&(r[a]=!0),e[a]}});return s};const H3=typeof window<"u"?jt.useLayoutEffect:jt.useEffect;function lwe(e){const t=q3(),{control:r=t,disabled:n,name:s,exact:i}=e||{},[a,o]=jt.useState(r._formState),u=jt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return H3(()=>r._subscribe({name:s,formState:u.current,exact:i,callback:l=>{!n&&o({...r._formState,...l})}}),[s,n,i]),jt.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),jt.useMemo(()=>FU(a,r,u.current,!1),[a,r])}var Qi=e=>typeof e=="string",$4=(e,t,r,n,s)=>Qi(e)?(n&&t.watch.add(e),ot(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ot(r,i))):(n&&(t.watchAll=!0),r),L4=e=>Ri(e)||!DU(e);function fo(e,t,r=new WeakSet){if(L4(e)||L4(t))return Object.is(e,t);if(ed(e)&&ed(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=t[i];if(ed(a)&&ed(o)||ts(a)&&ts(o)||Array.isArray(a)&&Array.isArray(o)?!fo(a,o,r):!Object.is(a,o))return!1}}return!0}function cwe(e){const t=q3(),{control:r=t,name:n,defaultValue:s,disabled:i,exact:a,compute:o}=e||{},u=jt.useRef(s),l=jt.useRef(o),d=jt.useRef(void 0),h=jt.useRef(r),f=jt.useRef(n);l.current=o;const[p,g]=jt.useState(()=>{const k=r._getWatch(n,u.current);return l.current?l.current(k):k}),y=jt.useCallback(k=>{const T=$4(n,r._names,k||r._formValues,!1,u.current);return l.current?l.current(T):T},[r._formValues,r._names,n]),m=jt.useCallback(k=>{if(!i){const T=$4(n,r._names,k||r._formValues,!1,u.current);if(l.current){const O=l.current(T);fo(O,d.current)||(g(O),d.current=O)}else g(T)}},[r._formValues,r._names,i,n]);H3(()=>((h.current!==r||!fo(f.current,n))&&(h.current=r,f.current=n,m()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:k=>{m(k.values)}})),[r,a,n,m]),jt.useEffect(()=>r._removeUnmounted());const v=h.current!==r,b=f.current,x=jt.useMemo(()=>{if(i)return null;const k=!v&&!fo(b,n);return v||k?y():null},[i,v,n,b,y]);return x!==null?x:p}function uwe(e){const t=q3(),{name:r,disabled:n,control:s=t,shouldUnregister:i,defaultValue:a,exact:o=!0}=e,u=LU(s._names.array,r),l=jt.useMemo(()=>ot(s._formValues,r,ot(s._defaultValues,r,a)),[s,r,a]),d=cwe({control:s,name:r,defaultValue:l,exact:o}),h=lwe({control:s,name:r,exact:o}),f=jt.useRef(e),p=jt.useRef(void 0),g=jt.useRef(s.register(r,{...e.rules,value:d,...Xi(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const y=jt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ot(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ot(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ot(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ot(h.validatingFields,r)},error:{enumerable:!0,get:()=>ot(h.errors,r)}}),[h,r]),m=jt.useCallback(k=>g.current.onChange({target:{value:$U(k),name:r},type:ax.CHANGE}),[r]),v=jt.useCallback(()=>g.current.onBlur({target:{value:ot(s._formValues,r),name:r},type:ax.BLUR}),[r,s._formValues]),b=jt.useCallback(k=>{const T=ot(s._fields,r);T&&T._f&&k&&(T._f.ref={focus:()=>vi(k.focus)&&k.focus(),select:()=>vi(k.select)&&k.select(),setCustomValidity:O=>vi(k.setCustomValidity)&&k.setCustomValidity(O),reportValidity:()=>vi(k.reportValidity)&&k.reportValidity()})},[s._fields,r]),x=jt.useMemo(()=>({name:r,value:d,...Xi(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:m,onBlur:v,ref:b}),[r,n,h.disabled,m,v,b,d]);return jt.useEffect(()=>{const k=s._options.shouldUnregister||i,T=p.current;T&&T!==r&&!u&&s.unregister(T),s.register(r,{...f.current.rules,...Xi(f.current.disabled)?{disabled:f.current.disabled}:{}});const O=(F,A)=>{const P=ot(s._fields,F);P&&P._f&&(P._f.mount=A)};if(O(r,!0),k){const F=Xn(ot(s._options.defaultValues,r,f.current.defaultValue));Ur(s._defaultValues,r,F),gn(ot(s._formValues,r))&&Ur(s._formValues,r,F)}return!u&&s.register(r),p.current=r,()=>{(u?k&&!s._state.action:k)?s.unregister(r):O(r,!1)}},[r,s,u,i]),jt.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),jt.useMemo(()=>({field:x,formState:h,fieldState:y}),[x,h,y])}const zU=e=>e.render(uwe(e)),K3=jt.createContext(null);K3.displayName="HookFormContext";const dwe=()=>jt.useContext(K3),fwe=e=>{const{children:t,watch:r,getValues:n,getFieldState:s,setError:i,clearErrors:a,setValue:o,trigger:u,formState:l,resetField:d,reset:h,handleSubmit:f,unregister:p,control:g,register:y,setFocus:m,subscribe:v}=e;return jt.createElement(K3.Provider,{value:jt.useMemo(()=>({watch:r,getValues:n,getFieldState:s,setError:i,clearErrors:a,setValue:o,trigger:u,formState:l,resetField:d,reset:h,handleSubmit:f,unregister:p,control:g,register:y,setFocus:m,subscribe:v}),[a,g,l,s,n,f,y,h,d,i,m,o,v,u,p,r])},jt.createElement(W3.Provider,{value:g},t))};var BU=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Zm=e=>Array.isArray(e)?e:[e],fP=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function UU(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&ts(s)&&i){const a=UU(s,i);ts(a)&&(r[n]=a)}else e[n]&&(r[n]=i)}return r}var mi=e=>ts(e)&&!Object.keys(e).length,G3=e=>e.type==="file",ox=e=>{if(!B3)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},VU=e=>e.type==="select-multiple",Z3=e=>e.type==="radio",hwe=e=>Z3(e)||A0(e),j2=e=>ox(e)&&e.isConnected;function pwe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=gn(e)?n++:e[t[n++]];return e}function mwe(e){for(const t in e)if(e.hasOwnProperty(t)&&!gn(e[t]))return!1;return!0}function Yn(e,t){const r=Array.isArray(t)?t:P1(t)?[t]:V3(t),n=r.length===1?e:pwe(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(ts(n)&&mi(n)||Array.isArray(n)&&mwe(n))&&Yn(e,r.slice(0,-1)),e}var gwe=e=>{for(const t in e)if(vi(e[t]))return!0;return!1};function WU(e){return Array.isArray(e)||ts(e)&&!gwe(e)}function F4(e,t={}){for(const r in e){const n=e[r];WU(n)?(t[r]=Array.isArray(n)?[]:{},F4(n,t[r])):gn(n)||(t[r]=!0)}return t}function Tf(e,t,r){r||(r=F4(t));for(const n in e){const s=e[n];if(WU(s))gn(t)||L4(r[n])?r[n]=F4(s,Array.isArray(s)?[]:{}):Tf(s,Ri(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!fo(s,i)}}return r}const hP={value:!1,isValid:!1},pP={value:!0,isValid:!0};var qU=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!gn(e[0].attributes.value)?gn(e[0].value)||e[0].value===""?pP:{value:e[0].value,isValid:!0}:pP:hP}return hP},HU=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>gn(e)?e:t?e===""?NaN:e&&+e:r&&Qi(e)?new Date(e):n?n(e):e;const mP={isValid:!1,value:null};var KU=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,mP):mP;function gP(e){const t=e.ref;return G3(t)?t.files:Z3(t)?KU(e.refs).value:VU(t)?[...t.selectedOptions].map(({value:r})=>r):A0(t)?qU(e.refs).value:HU(gn(t.value)?e.ref.value:t.value,e)}var ywe=(e,t,r,n)=>{const s={};for(const i of e){const a=ot(t,i);a&&Ur(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},lx=e=>e instanceof RegExp,lm=e=>gn(e)?e:lx(e)?e.source:ts(e)?lx(e.value)?e.value.source:e.value:e,yP=e=>({isOnSubmit:!e||e===uo.onSubmit,isOnBlur:e===uo.onBlur,isOnChange:e===uo.onChange,isOnAll:e===uo.all,isOnTouch:e===uo.onTouched});const bP="AsyncFunction";var bwe=e=>!!e&&!!e.validate&&!!(vi(e.validate)&&e.validate.constructor.name===bP||ts(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===bP)),vwe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),vP=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Xm=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=ot(e,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Xm(o,t))break}else if(ts(o)&&Xm(o,t))break}}};function xP(e,t,r){const n=ot(e,r);if(n||P1(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=ot(t,i),o=ot(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var xwe=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return mi(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||uo.all))},wwe=(e,t,r)=>!e||!t||e===t||Zm(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),_we=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Swe=(e,t)=>!U3(ot(e,t)).length&&Yn(e,t),kwe=(e,t,r)=>{const n=Zm(ot(e,r));return Ur(n,"root",t[r]),Ur(e,r,n),e};function wP(e,t,r="validate"){if(Qi(e)||Array.isArray(e)&&e.every(Qi)||Xi(e)&&!e)return{type:r,message:Qi(e)?e:"",ref:t}}var bf=e=>ts(e)&&!lx(e)?e:{value:e,message:""},_P=async(e,t,r,n,s,i)=>{const{ref:a,refs:o,required:u,maxLength:l,minLength:d,min:h,max:f,pattern:p,validate:g,name:y,valueAsNumber:m,mount:v}=e._f,b=ot(r,y);if(!v||t.has(y))return{};const x=o?o[0]:a,k=B=>{s&&x.reportValidity&&(x.setCustomValidity(Xi(B)?"":B||""),x.reportValidity())},T={},O=Z3(a),F=A0(a),A=O||F,P=(m||G3(a))&&gn(a.value)&&gn(b)||ox(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,D=BU.bind(null,y,n,T),V=(B,C,I,N=ml.maxLength,w=ml.minLength)=>{const _=B?C:I;T[y]={type:B?N:w,message:_,ref:a,...D(B?N:w,_)}};if(i?!Array.isArray(b)||!b.length:u&&(!A&&(P||Ri(b))||Xi(b)&&!b||F&&!qU(o).isValid||O&&!KU(o).isValid)){const{value:B,message:C}=Qi(u)?{value:!!u,message:u}:bf(u);if(B&&(T[y]={type:ml.required,message:C,ref:x,...D(ml.required,C)},!n))return k(C),T}if(!P&&(!Ri(h)||!Ri(f))){let B,C;const I=bf(f),N=bf(h);if(!Ri(b)&&!isNaN(b)){const w=a.valueAsNumber||b&&+b;Ri(I.value)||(B=w>I.value),Ri(N.value)||(C=w<N.value)}else{const w=a.valueAsDate||new Date(b),_=R=>new Date(new Date().toDateString()+" "+R),S=a.type=="time",j=a.type=="week";Qi(I.value)&&b&&(B=S?_(b)>_(I.value):j?b>I.value:w>new Date(I.value)),Qi(N.value)&&b&&(C=S?_(b)<_(N.value):j?b<N.value:w<new Date(N.value))}if((B||C)&&(V(!!B,I.message,N.message,ml.max,ml.min),!n))return k(T[y].message),T}if((l||d)&&!P&&(Qi(b)||i&&Array.isArray(b))){const B=bf(l),C=bf(d),I=!Ri(B.value)&&b.length>+B.value,N=!Ri(C.value)&&b.length<+C.value;if((I||N)&&(V(I,B.message,C.message),!n))return k(T[y].message),T}if(p&&!P&&Qi(b)){const{value:B,message:C}=bf(p);if(lx(B)&&!b.match(B)&&(T[y]={type:ml.pattern,message:C,ref:a,...D(ml.pattern,C)},!n))return k(C),T}if(g){if(vi(g)){const B=await g(b,r),C=wP(B,x);if(C&&(T[y]={...C,...D(ml.validate,C.message)},!n))return k(C.message),T}else if(ts(g)){let B={};for(const C in g){if(!mi(B)&&!n)break;const I=wP(await g[C](b,r),x,C);I&&(B={...I,...D(C,I.message)},k(I.message),n&&(T[y]=B))}if(!mi(B)&&(T[y]={ref:x,...B},!n))return T}}return k(!0),T};const jwe={mode:uo.onSubmit,reValidateMode:uo.onChange,shouldFocusError:!0};function Nwe(e={}){let t={...jwe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:vi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=ts(t.defaultValues)||ts(t.values)?Xn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Xn(s),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,l=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:fP(),state:fP()},g=t.criteriaMode===uo.all,y=Z=>Q=>{clearTimeout(l),l=setTimeout(Z,Q)},m=async Z=>{if(!a.keepIsValid&&!t.disabled&&(h.isValid||f.isValid||Z)){let Q;t.resolver?(Q=mi((await A()).errors),v()):Q=await D(n,!0),Q!==r.isValid&&p.state.next({isValid:Q})}},v=(Z,Q)=>{!t.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((Z||Array.from(o.mount)).forEach(ie=>{ie&&(Q?Ur(r.validatingFields,ie,Q):Yn(r.validatingFields,ie))}),p.state.next({validatingFields:r.validatingFields,isValidating:!mi(r.validatingFields)}))},b=(Z,Q=[],ie,ce,ge=!0,we=!0)=>{if(ce&&ie&&!t.disabled){if(a.action=!0,we&&Array.isArray(ot(n,Z))){const Te=ie(ot(n,Z),ce.argA,ce.argB);ge&&Ur(n,Z,Te)}if(we&&Array.isArray(ot(r.errors,Z))){const Te=ie(ot(r.errors,Z),ce.argA,ce.argB);ge&&Ur(r.errors,Z,Te),Swe(r.errors,Z)}if((h.touchedFields||f.touchedFields)&&we&&Array.isArray(ot(r.touchedFields,Z))){const Te=ie(ot(r.touchedFields,Z),ce.argA,ce.argB);ge&&Ur(r.touchedFields,Z,Te)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Tf(s,i)),p.state.next({name:Z,isDirty:B(Z,Q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ur(i,Z,Q)},x=(Z,Q)=>{Ur(r.errors,Z,Q),p.state.next({errors:r.errors})},k=Z=>{r.errors=Z,p.state.next({errors:r.errors,isValid:!1})},T=(Z,Q,ie,ce)=>{const ge=ot(n,Z);if(ge){const we=ot(i,Z,gn(ie)?ot(s,Z):ie);gn(we)||ce&&ce.defaultChecked||Q?Ur(i,Z,Q?we:gP(ge._f)):N(Z,we),a.mount&&!a.action&&m()}},O=(Z,Q,ie,ce,ge)=>{let we=!1,Te=!1;const Ae={name:Z};if(!t.disabled){if(!ie||ce){(h.isDirty||f.isDirty)&&(Te=r.isDirty,r.isDirty=Ae.isDirty=B(),we=Te!==Ae.isDirty);const De=fo(ot(s,Z),Q);Te=!!ot(r.dirtyFields,Z),De?Yn(r.dirtyFields,Z):Ur(r.dirtyFields,Z,!0),Ae.dirtyFields=r.dirtyFields,we=we||(h.dirtyFields||f.dirtyFields)&&Te!==!De}if(ie){const De=ot(r.touchedFields,Z);De||(Ur(r.touchedFields,Z,ie),Ae.touchedFields=r.touchedFields,we=we||(h.touchedFields||f.touchedFields)&&De!==ie)}we&&ge&&p.state.next(Ae)}return we?Ae:{}},F=(Z,Q,ie,ce)=>{const ge=ot(r.errors,Z),we=(h.isValid||f.isValid)&&Xi(Q)&&r.isValid!==Q;if(t.delayError&&ie?(u=y(()=>x(Z,ie)),u(t.delayError)):(clearTimeout(l),u=null,ie?Ur(r.errors,Z,ie):Yn(r.errors,Z)),(ie?!fo(ge,ie):ge)||!mi(ce)||we){const Te={...ce,...we&&Xi(Q)?{isValid:Q}:{},errors:r.errors,name:Z};r={...r,...Te},p.state.next(Te)}},A=async Z=>(v(Z,!0),await t.resolver(i,t.context,ywe(Z||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),P=async Z=>{const{errors:Q}=await A(Z);if(v(Z),Z)for(const ie of Z){const ce=ot(Q,ie);ce?Ur(r.errors,ie,ce):Yn(r.errors,ie)}else r.errors=Q;return Q},D=async(Z,Q,ie={valid:!0})=>{for(const ce in Z){const ge=Z[ce];if(ge){const{_f:we,...Te}=ge;if(we){const Ae=o.array.has(we.name),De=ge._f&&bwe(ge._f);De&&h.validatingFields&&v([we.name],!0);const Fe=await _P(ge,o.disabled,i,g,t.shouldUseNativeValidation&&!Q,Ae);if(De&&h.validatingFields&&v([we.name]),Fe[we.name]&&(ie.valid=!1,Q||e.shouldUseNativeValidation))break;!Q&&(ot(Fe,we.name)?Ae?kwe(r.errors,Fe,we.name):Ur(r.errors,we.name,Fe[we.name]):Yn(r.errors,we.name))}!mi(Te)&&await D(Te,Q,ie)}}return ie.valid},V=()=>{for(const Z of o.unMount){const Q=ot(n,Z);Q&&(Q._f.refs?Q._f.refs.every(ie=>!j2(ie)):!j2(Q._f.ref))&&z(Z)}o.unMount=new Set},B=(Z,Q)=>!t.disabled&&(Z&&Q&&Ur(i,Z,Q),!fo($(),s)),C=(Z,Q,ie)=>$4(Z,o,{...a.mount?i:gn(Q)?s:Qi(Z)?{[Z]:Q}:Q},ie,Q),I=Z=>U3(ot(a.mount?i:s,Z,t.shouldUnregister?ot(s,Z,[]):[])),N=(Z,Q,ie={})=>{const ce=ot(n,Z);let ge=Q;if(ce){const we=ce._f;we&&(!we.disabled&&Ur(i,Z,HU(Q,we)),ge=ox(we.ref)&&Ri(Q)?"":Q,VU(we.ref)?[...we.ref.options].forEach(Te=>Te.selected=ge.includes(Te.value)):we.refs?A0(we.ref)?we.refs.forEach(Te=>{(!Te.defaultChecked||!Te.disabled)&&(Array.isArray(ge)?Te.checked=!!ge.find(Ae=>Ae===Te.value):Te.checked=ge===Te.value||!!ge)}):we.refs.forEach(Te=>Te.checked=Te.value===ge):G3(we.ref)?we.ref.value="":(we.ref.value=ge,we.ref.type||p.state.next({name:Z,values:Xn(i)})))}(ie.shouldDirty||ie.shouldTouch)&&O(Z,ge,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&R(Z)},w=(Z,Q,ie)=>{for(const ce in Q){if(!Q.hasOwnProperty(ce))return;const ge=Q[ce],we=Z+"."+ce,Te=ot(n,we);(o.array.has(Z)||ts(ge)||Te&&!Te._f)&&!ed(ge)?w(we,ge,ie):N(we,ge,ie)}},_=(Z,Q,ie={})=>{const ce=ot(n,Z),ge=o.array.has(Z),we=Xn(Q);Ur(i,Z,we),ge?(p.array.next({name:Z,values:Xn(i)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&ie.shouldDirty&&p.state.next({name:Z,dirtyFields:Tf(s,i),isDirty:B(Z,we)})):ce&&!ce._f&&!Ri(we)?w(Z,we,ie):N(Z,we,ie),vP(Z,o)?p.state.next({...r,name:Z,values:Xn(i)}):p.state.next({name:a.mount?Z:void 0,values:Xn(i)})},S=async Z=>{a.mount=!0;const Q=Z.target;let ie=Q.name,ce=!0;const ge=ot(n,ie),we=De=>{ce=Number.isNaN(De)||ed(De)&&isNaN(De.getTime())||fo(De,ot(i,ie,De))},Te=yP(t.mode),Ae=yP(t.reValidateMode);if(ge){let De,Fe;const rt=Q.type?gP(ge._f):$U(Z),qe=Z.type===ax.BLUR||Z.type===ax.FOCUS_OUT,Ve=!vwe(ge._f)&&!t.resolver&&!ot(r.errors,ie)&&!ge._f.deps||_we(qe,ot(r.touchedFields,ie),r.isSubmitted,Ae,Te),pe=vP(ie,o,qe);Ur(i,ie,rt),qe?(!Q||!Q.readOnly)&&(ge._f.onBlur&&ge._f.onBlur(Z),u&&u(0)):ge._f.onChange&&ge._f.onChange(Z);const de=O(ie,rt,qe),Pe=!mi(de)||pe;if(!qe&&p.state.next({name:ie,type:Z.type,values:Xn(i)}),Ve)return(h.isValid||f.isValid)&&(t.mode==="onBlur"?qe&&m():qe||m()),Pe&&p.state.next({name:ie,...pe?{}:de});if(!qe&&pe&&p.state.next({...r}),t.resolver){const{errors:$e}=await A([ie]);if(v([ie]),we(rt),ce){const yt=xP(r.errors,n,ie),Ot=xP($e,n,yt.name||ie);De=Ot.error,ie=Ot.name,Fe=mi($e)}}else v([ie],!0),De=(await _P(ge,o.disabled,i,g,t.shouldUseNativeValidation))[ie],v([ie]),we(rt),ce&&(De?Fe=!1:(h.isValid||f.isValid)&&(Fe=await D(n,!0)));ce&&(ge._f.deps&&(!Array.isArray(ge._f.deps)||ge._f.deps.length>0)&&R(ge._f.deps),F(ie,Fe,De,de))}},j=(Z,Q)=>{if(ot(r.errors,Q)&&Z.focus)return Z.focus(),1},R=async(Z,Q={})=>{let ie,ce;const ge=Zm(Z);if(t.resolver){const we=await P(gn(Z)?Z:ge);ie=mi(we),ce=Z?!ge.some(Te=>ot(we,Te)):ie}else Z?(ce=(await Promise.all(ge.map(async we=>{const Te=ot(n,we);return await D(Te&&Te._f?{[we]:Te}:Te)}))).every(Boolean),!(!ce&&!r.isValid)&&m()):ce=ie=await D(n);return p.state.next({...!Qi(Z)||(h.isValid||f.isValid)&&ie!==r.isValid?{}:{name:Z},...t.resolver||!Z?{isValid:ie}:{},errors:r.errors}),Q.shouldFocus&&!ce&&Xm(n,j,Z?ge:o.mount),ce},$=(Z,Q)=>{let ie={...a.mount?i:s};return Q&&(ie=UU(Q.dirtyFields?r.dirtyFields:r.touchedFields,ie)),gn(Z)?ie:Qi(Z)?ot(ie,Z):Z.map(ce=>ot(ie,ce))},U=(Z,Q)=>({invalid:!!ot((Q||r).errors,Z),isDirty:!!ot((Q||r).dirtyFields,Z),error:ot((Q||r).errors,Z),isValidating:!!ot(r.validatingFields,Z),isTouched:!!ot((Q||r).touchedFields,Z)}),q=Z=>{Z&&Zm(Z).forEach(Q=>Yn(r.errors,Q)),p.state.next({errors:Z?r.errors:{}})},H=(Z,Q,ie)=>{const ce=(ot(n,Z,{_f:{}})._f||{}).ref,ge=ot(r.errors,Z)||{},{ref:we,message:Te,type:Ae,...De}=ge;Ur(r.errors,Z,{...De,...Q,ref:ce}),p.state.next({name:Z,errors:r.errors,isValid:!1}),ie&&ie.shouldFocus&&ce&&ce.focus&&ce.focus()},Y=(Z,Q)=>vi(Z)?p.state.subscribe({next:ie=>"values"in ie&&Z(C(void 0,Q),ie)}):C(Z,Q,!0),M=Z=>p.state.subscribe({next:Q=>{wwe(Z.name,Q.name,Z.exact)&&xwe(Q,Z.formState||h,ae,Z.reRenderRoot)&&Z.callback({values:{...i},...r,...Q,defaultValues:s})}}).unsubscribe,K=Z=>(a.mount=!0,f={...f,...Z.formState},M({...Z,formState:{...d,...Z.formState}})),z=(Z,Q={})=>{for(const ie of Z?Zm(Z):o.mount)o.mount.delete(ie),o.array.delete(ie),Q.keepValue||(Yn(n,ie),Yn(i,ie)),!Q.keepError&&Yn(r.errors,ie),!Q.keepDirty&&Yn(r.dirtyFields,ie),!Q.keepTouched&&Yn(r.touchedFields,ie),!Q.keepIsValidating&&Yn(r.validatingFields,ie),!t.shouldUnregister&&!Q.keepDefaultValue&&Yn(s,ie);p.state.next({values:Xn(i)}),p.state.next({...r,...Q.keepDirty?{isDirty:B()}:{}}),!Q.keepIsValid&&m()},L=({disabled:Z,name:Q})=>{if(Xi(Z)&&a.mount||Z||o.disabled.has(Q)){const ge=o.disabled.has(Q)!==!!Z;Z?o.disabled.add(Q):o.disabled.delete(Q),ge&&a.mount&&!a.action&&m()}},W=(Z,Q={})=>{let ie=ot(n,Z);const ce=Xi(Q.disabled)||Xi(t.disabled);return Ur(n,Z,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:Z}},name:Z,mount:!0,...Q}}),o.mount.add(Z),ie?L({disabled:Xi(Q.disabled)?Q.disabled:t.disabled,name:Z}):T(Z,!0,Q.value),{...ce?{disabled:Q.disabled||t.disabled}:{},...t.progressive?{required:!!Q.required,min:lm(Q.min),max:lm(Q.max),minLength:lm(Q.minLength),maxLength:lm(Q.maxLength),pattern:lm(Q.pattern)}:{},name:Z,onChange:S,onBlur:S,ref:ge=>{if(ge){W(Z,Q),ie=ot(n,Z);const we=gn(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,Te=hwe(we),Ae=ie._f.refs||[];if(Te?Ae.find(De=>De===we):we===ie._f.ref)return;Ur(n,Z,{_f:{...ie._f,...Te?{refs:[...Ae.filter(j2),we,...Array.isArray(ot(s,Z))?[{}]:[]],ref:{type:we.type,name:Z}}:{ref:we}}}),T(Z,!1,void 0,we)}else ie=ot(n,Z,{}),ie._f&&(ie._f.mount=!1),(t.shouldUnregister||Q.shouldUnregister)&&!(LU(o.array,Z)&&a.action)&&o.unMount.add(Z)}}},J=()=>t.shouldFocusError&&Xm(n,j,o.mount),le=Z=>{Xi(Z)&&(p.state.next({disabled:Z}),Xm(n,(Q,ie)=>{const ce=ot(n,ie);ce&&(Q.disabled=ce._f.disabled||Z,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(ge=>{ge.disabled=ce._f.disabled||Z}))},0,!1))},ne=(Z,Q)=>async ie=>{let ce;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let ge=Xn(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:we,values:Te}=await A();v(),r.errors=we,ge=Xn(Te)}else await D(n);if(o.disabled.size)for(const we of o.disabled)Yn(ge,we);if(Yn(r.errors,"root"),mi(r.errors)){p.state.next({errors:{}});try{await Z(ge,ie)}catch(we){ce=we}}else Q&&await Q({...r.errors},ie),J(),setTimeout(J);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:mi(r.errors)&&!ce,submitCount:r.submitCount+1,errors:r.errors}),ce)throw ce},ue=(Z,Q={})=>{ot(n,Z)&&(gn(Q.defaultValue)?_(Z,Xn(ot(s,Z))):(_(Z,Q.defaultValue),Ur(s,Z,Xn(Q.defaultValue))),Q.keepTouched||Yn(r.touchedFields,Z),Q.keepDirty||(Yn(r.dirtyFields,Z),r.isDirty=Q.defaultValue?B(Z,Xn(ot(s,Z))):B()),Q.keepError||(Yn(r.errors,Z),h.isValid&&m()),p.state.next({...r}))},G=(Z,Q={})=>{const ie=Z?Xn(Z):s,ce=Xn(ie),ge=mi(Z),we=ge?s:ce;if(Q.keepDefaultValues||(s=ie),!Q.keepValues){if(Q.keepDirtyValues){const Te=new Set([...o.mount,...Object.keys(Tf(s,i))]);for(const Ae of Array.from(Te)){const De=ot(r.dirtyFields,Ae),Fe=ot(i,Ae),rt=ot(we,Ae);De&&!gn(Fe)?Ur(we,Ae,Fe):!De&&!gn(rt)&&_(Ae,rt)}}else{if(B3&&gn(Z))for(const Te of o.mount){const Ae=ot(n,Te);if(Ae&&Ae._f){const De=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(ox(De)){const Fe=De.closest("form");if(Fe){Fe.reset();break}}}}if(Q.keepFieldsRef)for(const Te of o.mount)_(Te,ot(we,Te));else n={}}i=t.shouldUnregister?Q.keepDefaultValues?Xn(s):{}:Xn(we),p.array.next({values:{...we}}),p.state.next({values:{...we}})}o={mount:Q.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues||!t.shouldUnregister&&!mi(we),a.watch=!!t.shouldUnregister,a.keepIsValid=!!Q.keepIsValid,a.action=!1,Q.keepErrors||(r.errors={}),p.state.next({submitCount:Q.keepSubmitCount?r.submitCount:0,isDirty:ge?!1:Q.keepDirty?r.isDirty:!!(Q.keepDefaultValues&&!fo(Z,s)),isSubmitted:Q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ge?{}:Q.keepDirtyValues?Q.keepDefaultValues&&i?Tf(s,i):r.dirtyFields:Q.keepDefaultValues&&Z?Tf(s,Z):Q.keepDirty?r.dirtyFields:{},touchedFields:Q.keepTouched?r.touchedFields:{},errors:Q.keepErrors?r.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},te=(Z,Q)=>G(vi(Z)?Z(i):Z,{...t.resetOptions,...Q}),X=(Z,Q={})=>{const ie=ot(n,Z),ce=ie&&ie._f;if(ce){const ge=ce.refs?ce.refs[0]:ce.ref;ge.focus&&setTimeout(()=>{ge.focus(),Q.shouldSelect&&vi(ge.select)&&ge.select()})}},ae=Z=>{r={...r,...Z}},ee={control:{register:W,unregister:z,getFieldState:U,handleSubmit:ne,setError:H,_subscribe:M,_runSchema:A,_updateIsValidating:v,_focusError:J,_getWatch:C,_getDirty:B,_setValid:m,_setFieldArray:b,_setDisabledField:L,_setErrors:k,_getFieldArray:I,_reset:G,_resetDefaultValues:()=>vi(t.defaultValues)&&t.defaultValues().then(Z=>{te(Z,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:le,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(Z){a=Z},get _defaultValues(){return s},get _names(){return o},set _names(Z){o=Z},get _formState(){return r},get _options(){return t},set _options(Z){t={...t,...Z}}},subscribe:K,trigger:R,register:W,handleSubmit:ne,watch:Y,setValue:_,getValues:$,reset:te,resetField:ue,clearErrors:q,unregister:z,setError:H,setFocus:X,getFieldState:U};return{...ee,formControl:ee}}function Xl(e={}){const t=jt.useRef(void 0),r=jt.useRef(void 0),[n,s]=jt.useState({isDirty:!1,isValidating:!1,isLoading:vi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:vi(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!vi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=Nwe(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,H3(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),jt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),jt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),jt.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),jt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),jt.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),jt.useEffect(()=>{var a;e.values&&!fo(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),jt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=jt.useMemo(()=>FU(n,i),[i,n]),t.current}const SP=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ot(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},GU=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?SP(n.ref,r,e):n.refs&&n.refs.forEach(s=>SP(s,r,e))}},Twe=(e,t)=>{t.shouldUseNativeValidation&&GU(e,t);const r={};for(const n in e){const s=ot(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(Ewe(t.names||Object.keys(e),n)){const a=Object.assign({},ot(r,n));Ur(a,"root",i),Ur(r,n,a)}else Ur(r,n,i)}return r},Ewe=(e,t)=>e.some(r=>r.startsWith(t+"."));var Cwe=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var u=r[a].types,l=u&&u[n.code];r[a]=BU(a,t,r,s,l?[].concat(l,n.message):n.message)}e.shift()}return r},Yl=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve((function(a,o){try{var u=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(l){return i.shouldUseNativeValidation&&GU({},i),{errors:{},values:r.raw?n:l}})}catch(l){return o(l)}return u&&u.then?u.then(void 0,o):u})(0,function(a){if((function(o){return Array.isArray(o?.errors)})(a))return{values:{},errors:Twe(Cwe(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};const ZU=Object.freeze({status:"aborted"});function je(e,t,r){function n(o,u){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,u);const l=a.prototype,d=Object.keys(l);for(let h=0;h<d.length;h++){const f=d[h];f in o||(o[f]=l[f].bind(o))}}const s=r?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function a(o){var u;const l=r?.Parent?new i:this;n(l,o),(u=l._zod).deferred??(u.deferred=[]);for(const d of l._zod.deferred)d();return l}return Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>r?.Parent&&o instanceof r.Parent?!0:o?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}const XU=Symbol("zod_brand");class _d extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class I1 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const cx={};function di(e){return e&&Object.assign(cx,e),cx}function Awe(e){return e}function Pwe(e){return e}function Iwe(e){}function Rwe(e){throw new Error("Unexpected value in exhaustive check")}function Owe(e){}function X3(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function Ze(e,t="|"){return e.map(r=>zt(r)).join(t)}function ux(e,t){return typeof t=="bigint"?t.toString():t}function P0(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function rf(e){return e==null}function R1(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function YU(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let s=(n.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(n)){const u=n.match(/\d?e-(\d?)/);u?.[1]&&(s=Number.parseInt(u[1]))}const i=r>s?r:s,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}const kP=Symbol("evaluating");function hr(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==kP)return n===void 0&&(n=kP,n=r()),n},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Mwe(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function Cu(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function cl(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function Dwe(e){return cl(e._zod.def)}function $we(e,t){return t?t.reduce((r,n)=>r?.[n],e):e}function Lwe(e){const t=Object.keys(e),r=t.map(n=>e[n]);return Promise.all(r).then(n=>{const s={};for(let i=0;i<t.length;i++)s[t[i]]=n[i];return s})}function Fwe(e=10){const t="abcdefghijklmnopqrstuvwxyz";let r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function z4(e){return JSON.stringify(e)}function QU(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Y3="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function qh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const JU=P0(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function $d(e){if(qh(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(qh(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function O1(e){return $d(e)?{...e}:Array.isArray(e)?[...e]:e}function zwe(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}const Bwe=e=>{const t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},dx=new Set(["string","number","symbol"]),eV=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Ql(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Xa(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function Be(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Uwe(e){let t;return new Proxy({},{get(r,n,s){return t??(t=e()),Reflect.get(t,n,s)},set(r,n,s,i){return t??(t=e()),Reflect.set(t,n,s,i)},has(r,n){return t??(t=e()),Reflect.has(t,n)},deleteProperty(r,n){return t??(t=e()),Reflect.deleteProperty(t,n)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,n){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)},defineProperty(r,n,s){return t??(t=e()),Reflect.defineProperty(t,n,s)}})}function zt(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function tV(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const rV={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},nV={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function sV(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=cl(e._zod.def,{get shape(){const a={};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(a[o]=r.shape[o])}return Cu(this,"shape",a),a},checks:[]});return Xa(e,i)}function iV(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=cl(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete a[o]}return Cu(this,"shape",a),a},checks:[]});return Xa(e,i)}function aV(e,t){if(!$d(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const i=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(i,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=cl(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return Cu(this,"shape",i),i}});return Xa(e,s)}function oV(e,t){if(!$d(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=cl(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Cu(this,"shape",n),n}});return Xa(e,r)}function lV(e,t){const r=cl(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Cu(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Xa(e,r)}function cV(e,t,r){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=cl(t._zod.def,{get shape(){const o=t._zod.def.shape,u={...o};if(r)for(const l in r){if(!(l in o))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(u[l]=e?new e({type:"optional",innerType:o[l]}):o[l])}else for(const l in o)u[l]=e?new e({type:"optional",innerType:o[l]}):o[l];return Cu(this,"shape",u),u},checks:[]});return Xa(t,a)}function uV(e,t,r){const n=cl(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(r)for(const a in r){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(i[a]=new e({type:"nonoptional",innerType:s[a]}))}else for(const a in s)i[a]=new e({type:"nonoptional",innerType:s[a]});return Cu(this,"shape",i),i}});return Xa(t,n)}function td(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function po(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function jm(e){return typeof e=="string"?e:e?.message}function Ka(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const s=jm(e.inst?._zod.def?.error?.(e))??jm(t?.error?.(e))??jm(r.customError?.(e))??jm(r.localeError?.(e))??"Invalid input";n.message=s}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function M1(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function D1(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Gt(e){const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"nan":"number";case"object":{if(e===null)return"null";if(Array.isArray(e))return"array";const r=e;if(r&&Object.getPrototypeOf(r)!==Object.prototype&&"constructor"in r&&r.constructor)return r.constructor.name}}return t}function Hh(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}function Vwe(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}function dV(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}function fV(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function Wwe(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return dV(t+r)}function qwe(e){return fV(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Hwe(e){const t=e.replace(/^0x/,"");if(t.length%2!==0)throw new Error("Invalid hex string length");const r=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)r[n/2]=Number.parseInt(t.slice(n,n+2),16);return r}function Kwe(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}class Gwe{constructor(...t){}}const hV=Object.freeze(Object.defineProperty({__proto__:null,BIGINT_FORMAT_RANGES:nV,Class:Gwe,NUMBER_FORMAT_RANGES:rV,aborted:td,allowsEval:JU,assert:Owe,assertEqual:Awe,assertIs:Iwe,assertNever:Rwe,assertNotEqual:Pwe,assignProp:Cu,base64ToUint8Array:dV,base64urlToUint8Array:Wwe,cached:P0,captureStackTrace:Y3,cleanEnum:Vwe,cleanRegex:R1,clone:Xa,cloneDef:Dwe,createTransparentProxy:Uwe,defineLazy:hr,esc:z4,escapeRegex:Ql,extend:aV,finalizeIssue:Ka,floatSafeRemainder:YU,getElementAtPath:$we,getEnumValues:X3,getLengthableOrigin:D1,getParsedType:Bwe,getSizableOrigin:M1,hexToUint8Array:Hwe,isObject:qh,isPlainObject:$d,issue:Hh,joinValues:Ze,jsonStringifyReplacer:ux,merge:lV,mergeDefs:cl,normalizeParams:Be,nullish:rf,numKeys:zwe,objectClone:Mwe,omit:iV,optionalKeys:tV,parsedType:Gt,partial:cV,pick:sV,prefixIssues:po,primitiveTypes:eV,promiseAllObject:Lwe,propertyKeyTypes:dx,randomString:Fwe,required:uV,safeExtend:oV,shallowClone:O1,slugify:QU,stringifyPrimitive:zt,uint8ArrayToBase64:fV,uint8ArrayToBase64url:qwe,uint8ArrayToHex:Kwe,unwrapMessage:jm},Symbol.toStringTag,{value:"Module"})),pV=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ux,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Q3=je("$ZodError",pV),ha=je("$ZodError",pV,{Parent:Error});function J3(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function eT(e,t=r=>r.message){const r={_errors:[]},n=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>n({issues:a}));else if(i.code==="invalid_key")n({issues:i.issues});else if(i.code==="invalid_element")n({issues:i.issues});else if(i.path.length===0)r._errors.push(t(i));else{let a=r,o=0;for(;o<i.path.length;){const u=i.path[o];o===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(t(i))):a[u]=a[u]||{_errors:[]},a=a[u],o++}}};return n(e),r}function mV(e,t=r=>r.message){const r={errors:[]},n=(s,i=[])=>{var a,o;for(const u of s.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(l=>n({issues:l},u.path));else if(u.code==="invalid_key")n({issues:u.issues},u.path);else if(u.code==="invalid_element")n({issues:u.issues},u.path);else{const l=[...i,...u.path];if(l.length===0){r.errors.push(t(u));continue}let d=r,h=0;for(;h<l.length;){const f=l[h],p=h===l.length-1;typeof f=="string"?(d.properties??(d.properties={}),(a=d.properties)[f]??(a[f]={errors:[]}),d=d.properties[f]):(d.items??(d.items=[]),(o=d.items)[f]??(o[f]={errors:[]}),d=d.items[f]),p&&d.errors.push(t(u)),h++}}};return n(e),r}function gV(e){const t=[],r=e.map(n=>typeof n=="object"?n.key:n);for(const n of r)typeof n=="number"?t.push(`[${n}]`):typeof n=="symbol"?t.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?t.push(`[${JSON.stringify(n)}]`):(t.length&&t.push("."),t.push(n));return t.join("")}function yV(e){const t=[],r=[...e.issues].sort((n,s)=>(n.path??[]).length-(s.path??[]).length);for(const n of r)t.push(` ${n.message}`),n.path?.length&&t.push(`   at ${gV(n.path)}`);return t.join(`
`)}const I0=e=>(t,r,n,s)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new _d;if(a.issues.length){const o=new(s?.Err??e)(a.issues.map(u=>Ka(u,i,di())));throw Y3(o,s?.callee),o}return a.value},B4=I0(ha),R0=e=>async(t,r,n,s)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new(s?.Err??e)(a.issues.map(u=>Ka(u,i,di())));throw Y3(o,s?.callee),o}return a.value},U4=R0(ha),O0=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new _d;return i.issues.length?{success:!1,error:new(e??Q3)(i.issues.map(a=>Ka(a,s,di())))}:{success:!0,data:i.value}},bV=O0(ha),M0=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(a=>Ka(a,s,di())))}:{success:!0,data:i.value}},vV=M0(ha),tT=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return I0(e)(t,r,s)},Zwe=tT(ha),rT=e=>(t,r,n)=>I0(e)(t,r,n),Xwe=rT(ha),nT=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return R0(e)(t,r,s)},Ywe=nT(ha),sT=e=>async(t,r,n)=>R0(e)(t,r,n),Qwe=sT(ha),iT=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return O0(e)(t,r,s)},Jwe=iT(ha),aT=e=>(t,r,n)=>O0(e)(t,r,n),e_e=aT(ha),oT=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return M0(e)(t,r,s)},t_e=oT(ha),lT=e=>async(t,r,n)=>M0(e)(t,r,n),r_e=lT(ha),xV=/^[cC][^\s-]{8,}$/,wV=/^[0-9a-z]+$/,_V=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,SV=/^[0-9a-vA-V]{20}$/,kV=/^[A-Za-z0-9]{27}$/,jV=/^[a-zA-Z0-9_-]{21}$/,NV=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,n_e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,TV=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Kh=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,s_e=Kh(4),i_e=Kh(6),a_e=Kh(7),EV=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,o_e=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,l_e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,CV=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,c_e=CV,u_e=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,d_e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function AV(){return new RegExp(d_e,"u")}const PV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,RV=e=>{const t=Ql(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},OV=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,MV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,DV=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,cT=/^[A-Za-z0-9_-]*$/,$V=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,LV=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,FV=/^\+[1-9]\d{6,14}$/,zV="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",BV=new RegExp(`^${zV}$`);function UV(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function VV(e){return new RegExp(`^${UV(e)}$`)}function WV(e){const t=UV({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${zV}T(?:${n})$`)}const qV=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},HV=/^-?\d+n?$/,KV=/^-?\d+$/,uT=/^-?\d+(?:\.\d+)?$/,GV=/^(?:true|false)$/i,ZV=/^null$/i,XV=/^undefined$/i,YV=/^[^A-Z]*$/,QV=/^[^a-z]*$/,JV=/^[0-9a-fA-F]*$/;function D0(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function $0(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}const f_e=/^[0-9a-fA-F]{32}$/,h_e=D0(22,"=="),p_e=$0(22),m_e=/^[0-9a-fA-F]{40}$/,g_e=D0(27,"="),y_e=$0(27),b_e=/^[0-9a-fA-F]{64}$/,v_e=D0(43,"="),x_e=$0(43),w_e=/^[0-9a-fA-F]{96}$/,__e=D0(64,""),S_e=$0(64),k_e=/^[0-9a-fA-F]{128}$/,j_e=D0(86,"=="),N_e=$0(86),dT=Object.freeze(Object.defineProperty({__proto__:null,base64:DV,base64url:cT,bigint:HV,boolean:GV,browserEmail:u_e,cidrv4:OV,cidrv6:MV,cuid:xV,cuid2:wV,date:BV,datetime:WV,domain:LV,duration:NV,e164:FV,email:EV,emoji:AV,extendedDuration:n_e,guid:TV,hex:JV,hostname:$V,html5Email:o_e,idnEmail:c_e,integer:KV,ipv4:PV,ipv6:IV,ksuid:kV,lowercase:YV,mac:RV,md5_base64:h_e,md5_base64url:p_e,md5_hex:f_e,nanoid:jV,null:ZV,number:uT,rfc5322Email:l_e,sha1_base64:g_e,sha1_base64url:y_e,sha1_hex:m_e,sha256_base64:v_e,sha256_base64url:x_e,sha256_hex:b_e,sha384_base64:__e,sha384_base64url:S_e,sha384_hex:w_e,sha512_base64:j_e,sha512_base64url:N_e,sha512_hex:k_e,string:qV,time:VV,ulid:_V,undefined:XV,unicodeEmail:CV,uppercase:QV,uuid:Kh,uuid4:s_e,uuid6:i_e,uuid7:a_e,xid:SV},Symbol.toStringTag,{value:"Module"})),Sn=je("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),eW={number:"number",bigint:"bigint",object:"date"},fT=je("$ZodCheckLessThan",(e,t)=>{Sn.init(e,t);const r=eW[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,i=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),hT=je("$ZodCheckGreaterThan",(e,t)=>{Sn.init(e,t);const r=eW[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,i=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tW=je("$ZodCheckMultipleOf",(e,t)=>{Sn.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):YU(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),rW=je("$ZodCheckNumberFormat",(e,t)=>{Sn.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[s,i]=rV[t.format];e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,o.minimum=s,o.maximum=i,r&&(o.pattern=KV)}),e._zod.check=a=>{const o=a.value;if(r){if(!Number.isInteger(o)){a.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});return}if(!Number.isSafeInteger(o)){o>0?a.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort}):a.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort});return}}o<s&&a.issues.push({origin:"number",input:o,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),o>i&&a.issues.push({origin:"number",input:o,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!t.abort})}}),nW=je("$ZodCheckBigIntFormat",(e,t)=>{Sn.init(e,t);const[r,n]=nV[t.format];e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,i.minimum=r,i.maximum=n}),e._zod.check=s=>{const i=s.value;i<r&&s.issues.push({origin:"bigint",input:i,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),i>n&&s.issues.push({origin:"bigint",input:i,code:"too_big",maximum:n,inclusive:!0,inst:e,continue:!t.abort})}}),sW=je("$ZodCheckMaxSize",(e,t)=>{var r;Sn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!rf(s)&&s.size!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;s.size<=t.maximum||n.issues.push({origin:M1(s),code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),iW=je("$ZodCheckMinSize",(e,t)=>{var r;Sn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!rf(s)&&s.size!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;s.size>=t.minimum||n.issues.push({origin:M1(s),code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),aW=je("$ZodCheckSizeEquals",(e,t)=>{var r;Sn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!rf(s)&&s.size!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.size,s.maximum=t.size,s.size=t.size}),e._zod.check=n=>{const s=n.value,i=s.size;if(i===t.size)return;const a=i>t.size;n.issues.push({origin:M1(s),...a?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),oW=je("$ZodCheckMaxLength",(e,t)=>{var r;Sn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!rf(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const a=D1(s);n.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),lW=je("$ZodCheckMinLength",(e,t)=>{var r;Sn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!rf(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const a=D1(s);n.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),cW=je("$ZodCheckLengthEquals",(e,t)=>{var r;Sn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!rf(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,i=s.length;if(i===t.length)return;const a=D1(s),o=i>t.length;n.issues.push({origin:a,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),L0=je("$ZodCheckStringFormat",(e,t)=>{var r,n;Sn.init(e,t),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),uW=je("$ZodCheckRegex",(e,t)=>{L0.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),dW=je("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=YV),L0.init(e,t)}),fW=je("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=QV),L0.init(e,t)}),hW=je("$ZodCheckIncludes",(e,t)=>{Sn.init(e,t);const r=Ql(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),pW=je("$ZodCheckStartsWith",(e,t)=>{Sn.init(e,t);const r=new RegExp(`^${Ql(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),mW=je("$ZodCheckEndsWith",(e,t)=>{Sn.init(e,t);const r=new RegExp(`.*${Ql(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function jP(e,t,r){e.issues.length&&t.issues.push(...po(r,e.issues))}const gW=je("$ZodCheckProperty",(e,t)=>{Sn.init(e,t),e._zod.check=r=>{const n=t.schema._zod.run({value:r.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(s=>jP(s,r,t.property));jP(n,r,t.property)}}),yW=je("$ZodCheckMimeType",(e,t)=>{Sn.init(e,t);const r=new Set(t.mime);e._zod.onattach.push(n=>{n._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e,continue:!t.abort})}}),bW=je("$ZodCheckOverwrite",(e,t)=>{Sn.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class vW{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(a=>a),s=Math.min(...n.map(a=>a.length-a.trimStart().length)),i=n.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of i)this.content.push(a)}compile(){const t=Function,r=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,s.join(`
`))}}const xW={major:4,minor:3,patch:6},rr=je("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=xW;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const s of n)for(const i of s._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(a,o,u)=>{let l=td(a),d;for(const h of o){if(h._zod.def.when){if(!h._zod.def.when(a))continue}else if(l)continue;const f=a.issues.length,p=h._zod.check(a);if(p instanceof Promise&&u?.async===!1)throw new _d;if(d||p instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await p,a.issues.length!==f&&(l||(l=td(a,f)))});else{if(a.issues.length===f)continue;l||(l=td(a,f))}}return d?d.then(()=>a):a},i=(a,o,u)=>{if(td(a))return a.aborted=!0,a;const l=s(o,n,u);if(l instanceof Promise){if(u.async===!1)throw new _d;return l.then(d=>e._zod.parse(d,u))}return e._zod.parse(l,u)};e._zod.run=(a,o)=>{if(o.skipChecks)return e._zod.parse(a,o);if(o.direction==="backward"){const l=e._zod.parse({value:a.value,issues:[]},{...o,skipChecks:!0});return l instanceof Promise?l.then(d=>i(d,a,o)):i(l,a,o)}const u=e._zod.parse(a,o);if(u instanceof Promise){if(o.async===!1)throw new _d;return u.then(l=>s(l,n,o))}return s(u,n,o)}}hr(e,"~standard",()=>({validate:s=>{try{const i=bV(e,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return vV(e,s).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),F0=je("$ZodString",(e,t)=>{rr.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??qV(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),tn=je("$ZodStringFormat",(e,t)=>{L0.init(e,t),F0.init(e,t)}),wW=je("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=TV),tn.init(e,t)}),_W=je("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Kh(n))}else t.pattern??(t.pattern=Kh());tn.init(e,t)}),SW=je("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=EV),tn.init(e,t)}),kW=je("$ZodURL",(e,t)=>{tn.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),jW=je("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=AV()),tn.init(e,t)}),NW=je("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=jV),tn.init(e,t)}),TW=je("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=xV),tn.init(e,t)}),EW=je("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=wV),tn.init(e,t)}),CW=je("$ZodULID",(e,t)=>{t.pattern??(t.pattern=_V),tn.init(e,t)}),AW=je("$ZodXID",(e,t)=>{t.pattern??(t.pattern=SV),tn.init(e,t)}),PW=je("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=kV),tn.init(e,t)}),IW=je("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=WV(t)),tn.init(e,t)}),RW=je("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=BV),tn.init(e,t)}),OW=je("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=VV(t)),tn.init(e,t)}),MW=je("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=NV),tn.init(e,t)}),DW=je("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=PV),tn.init(e,t),e._zod.bag.format="ipv4"}),$W=je("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=IV),tn.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),LW=je("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=RV(t.delimiter)),tn.init(e,t),e._zod.bag.format="mac"}),FW=je("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=OV),tn.init(e,t)}),zW=je("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=MV),tn.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[s,i]=n;if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function pT(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const BW=je("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=DV),tn.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{pT(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function UW(e){if(!cT.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return pT(r)}const VW=je("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=cT),tn.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{UW(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),WW=je("$ZodE164",(e,t)=>{t.pattern??(t.pattern=FV),tn.init(e,t)});function qW(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const HW=je("$ZodJWT",(e,t)=>{tn.init(e,t),e._zod.check=r=>{qW(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),KW=je("$ZodCustomStringFormat",(e,t)=>{tn.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),mT=je("$ZodNumber",(e,t)=>{rr.init(e,t),e._zod.pattern=e._zod.bag.pattern??uT,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...i?{received:i}:{}}),r}}),GW=je("$ZodNumberFormat",(e,t)=>{rW.init(e,t),mT.init(e,t)}),gT=je("$ZodBoolean",(e,t)=>{rr.init(e,t),e._zod.pattern=GV,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),r}}),yT=je("$ZodBigInt",(e,t)=>{rr.init(e,t),e._zod.pattern=HV,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),ZW=je("$ZodBigIntFormat",(e,t)=>{nW.init(e,t),yT.init(e,t)}),XW=je("$ZodSymbol",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;return typeof s=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:s,inst:e}),r}}),YW=je("$ZodUndefined",(e,t)=>{rr.init(e,t),e._zod.pattern=XV,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(r,n)=>{const s=r.value;return typeof s>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:s,inst:e}),r}}),QW=je("$ZodNull",(e,t)=>{rr.init(e,t),e._zod.pattern=ZV,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{const s=r.value;return s===null||r.issues.push({expected:"null",code:"invalid_type",input:s,inst:e}),r}}),JW=je("$ZodAny",(e,t)=>{rr.init(e,t),e._zod.parse=r=>r}),eq=je("$ZodUnknown",(e,t)=>{rr.init(e,t),e._zod.parse=r=>r}),tq=je("$ZodNever",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),rq=je("$ZodVoid",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;return typeof s>"u"||r.issues.push({expected:"void",code:"invalid_type",input:s,inst:e}),r}}),nq=je("$ZodDate",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}const s=r.value,i=s instanceof Date;return i&&!Number.isNaN(s.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:s,...i?{received:"Invalid Date"}:{},inst:e}),r}});function NP(e,t,r){e.issues.length&&t.issues.push(...po(r,e.issues)),t.value[r]=e.value}const sq=je("$ZodArray",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const i=[];for(let a=0;a<s.length;a++){const o=s[a],u=t.element._zod.run({value:o,issues:[]},n);u instanceof Promise?i.push(u.then(l=>NP(l,r,a))):NP(u,r,a)}return i.length?Promise.all(i).then(()=>r):r}});function fx(e,t,r,n,s){if(e.issues.length){if(s&&!(r in n))return;t.issues.push(...po(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function iq(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=tV(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function aq(e,t,r,n,s,i){const a=[],o=s.keySet,u=s.catchall._zod,l=u.def.type,d=u.optout==="optional";for(const h in t){if(o.has(h))continue;if(l==="never"){a.push(h);continue}const f=u.run({value:t[h],issues:[]},n);f instanceof Promise?e.push(f.then(p=>fx(p,r,h,t,d))):fx(f,r,h,t,d)}return a.length&&r.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}const oq=je("$ZodObject",(e,t)=>{if(rr.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...o};return Object.defineProperty(t,"shape",{value:u}),u}})}const n=P0(()=>iq(t));hr(e._zod,"propValues",()=>{const o=t.shape,u={};for(const l in o){const d=o[l]._zod;if(d.values){u[l]??(u[l]=new Set);for(const h of d.values)u[l].add(h)}}return u});const s=qh,i=t.catchall;let a;e._zod.parse=(o,u)=>{a??(a=n.value);const l=o.value;if(!s(l))return o.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),o;o.value={};const d=[],h=a.shape;for(const f of a.keys){const p=h[f],g=p._zod.optout==="optional",y=p._zod.run({value:l[f],issues:[]},u);y instanceof Promise?d.push(y.then(m=>fx(m,o,f,l,g))):fx(y,o,f,l,g)}return i?aq(d,l,o,u,n.value,e):d.length?Promise.all(d).then(()=>o):o}}),lq=je("$ZodObjectJIT",(e,t)=>{oq.init(e,t);const r=e._zod.parse,n=P0(()=>iq(t)),s=f=>{const p=new vW(["shape","payload","ctx"]),g=n.value,y=x=>{const k=z4(x);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};p.write("const input = payload.value;");const m=Object.create(null);let v=0;for(const x of g.keys)m[x]=`key_${v++}`;p.write("const newResult = {};");for(const x of g.keys){const k=m[x],T=z4(x),F=f[x]?._zod?.optout==="optional";p.write(`const ${k} = ${y(x)};`),F?p.write(`
        if (${k}.issues.length) {
          if (${T} in input) {
            payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${T}, ...iss.path] : [${T}]
            })));
          }
        }
        
        if (${k}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${k}.value;
        }
        
      `):p.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${T}, ...iss.path] : [${T}]
          })));
        }
        
        if (${k}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${k}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const b=p.compile();return(x,k)=>b(f,x,k)};let i;const a=qh,o=!cx.jitless,l=o&&JU.value,d=t.catchall;let h;e._zod.parse=(f,p)=>{h??(h=n.value);const g=f.value;return a(g)?o&&l&&p?.async===!1&&p.jitless!==!0?(i||(i=s(t.shape)),f=i(f,p),d?aq([],g,f,p,h,e):f):r(f,p):(f.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),f)}});function TP(e,t,r,n){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const s=e.filter(i=>!td(i));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(a=>Ka(a,n,di())))}),t)}const $1=je("$ZodUnion",(e,t)=>{rr.init(e,t),hr(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),hr(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),hr(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),hr(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>R1(i.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(r)return n(s,i);let a=!1;const o=[];for(const u of t.options){const l=u._zod.run({value:s.value,issues:[]},i);if(l instanceof Promise)o.push(l),a=!0;else{if(l.issues.length===0)return l;o.push(l)}}return a?Promise.all(o).then(u=>TP(u,s,e,i)):TP(o,s,e,i)}});function EP(e,t,r,n){const s=e.filter(i=>i.issues.length===0);return s.length===1?(t.value=s[0].value,t):(s.length===0?t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(a=>Ka(a,n,di())))}):t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:[],inclusive:!1}),t)}const cq=je("$ZodXor",(e,t)=>{$1.init(e,t),t.inclusive=!1;const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(r)return n(s,i);let a=!1;const o=[];for(const u of t.options){const l=u._zod.run({value:s.value,issues:[]},i);l instanceof Promise?(o.push(l),a=!0):o.push(l)}return a?Promise.all(o).then(u=>EP(u,s,e,i)):EP(o,s,e,i)}}),uq=je("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,$1.init(e,t);const r=e._zod.parse;hr(e._zod,"propValues",()=>{const s={};for(const i of t.options){const a=i._zod.propValues;if(!a||Object.keys(a).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(const[o,u]of Object.entries(a)){s[o]||(s[o]=new Set);for(const l of u)s[o].add(l)}}return s});const n=P0(()=>{const s=t.options,i=new Map;for(const a of s){const o=a._zod.propValues?.[t.discriminator];if(!o||o.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(a)}"`);for(const u of o){if(i.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);i.set(u,a)}}return i});e._zod.parse=(s,i)=>{const a=s.value;if(!qh(a))return s.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),s;const o=n.value.get(a?.[t.discriminator]);return o?o._zod.run(s,i):t.unionFallback?r(s,i):(s.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:a,path:[t.discriminator],inst:e}),s)}}),dq=je("$ZodIntersection",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,i=t.left._zod.run({value:s,issues:[]},n),a=t.right._zod.run({value:s,issues:[]},n);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([u,l])=>CP(r,u,l)):CP(r,i,a)}});function V4(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if($d(e)&&$d(t)){const r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),s={...e,...t};for(const i of n){const a=V4(e[i],t[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};s[i]=a.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],i=t[n],a=V4(s,i);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};r.push(a.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function CP(e,t,r){const n=new Map;let s;for(const o of t.issues)if(o.code==="unrecognized_keys"){s??(s=o);for(const u of o.keys)n.has(u)||n.set(u,{}),n.get(u).l=!0}else e.issues.push(o);for(const o of r.issues)if(o.code==="unrecognized_keys")for(const u of o.keys)n.has(u)||n.set(u,{}),n.get(u).r=!0;else e.issues.push(o);const i=[...n].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(i.length&&s&&e.issues.push({...s,keys:i}),td(e))return e;const a=V4(t.value,r.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const bT=je("$ZodTuple",(e,t)=>{rr.init(e,t);const r=t.items;e._zod.parse=(n,s)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),n;n.value=[];const a=[],o=[...r].reverse().findIndex(d=>d._zod.optin!=="optional"),u=o===-1?0:r.length-o;if(!t.rest){const d=i.length>r.length,h=i.length<u-1;if(d||h)return n.issues.push({...d?{code:"too_big",maximum:r.length,inclusive:!0}:{code:"too_small",minimum:r.length},input:i,inst:e,origin:"array"}),n}let l=-1;for(const d of r){if(l++,l>=i.length&&l>=u)continue;const h=d._zod.run({value:i[l],issues:[]},s);h instanceof Promise?a.push(h.then(f=>sb(f,n,l))):sb(h,n,l)}if(t.rest){const d=i.slice(r.length);for(const h of d){l++;const f=t.rest._zod.run({value:h,issues:[]},s);f instanceof Promise?a.push(f.then(p=>sb(p,n,l))):sb(f,n,l)}}return a.length?Promise.all(a).then(()=>n):n}});function sb(e,t,r){e.issues.length&&t.issues.push(...po(r,e.issues)),t.value[r]=e.value}const fq=je("$ZodRecord",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!$d(s))return r.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),r;const i=[],a=t.keyType._zod.values;if(a){r.value={};const o=new Set;for(const l of a)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){o.add(typeof l=="number"?l.toString():l);const d=t.valueType._zod.run({value:s[l],issues:[]},n);d instanceof Promise?i.push(d.then(h=>{h.issues.length&&r.issues.push(...po(l,h.issues)),r.value[l]=h.value})):(d.issues.length&&r.issues.push(...po(l,d.issues)),r.value[l]=d.value)}let u;for(const l in s)o.has(l)||(u=u??[],u.push(l));u&&u.length>0&&r.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:u})}else{r.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;let u=t.keyType._zod.run({value:o,issues:[]},n);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof o=="string"&&uT.test(o)&&u.issues.length){const h=t.keyType._zod.run({value:Number(o),issues:[]},n);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");h.issues.length===0&&(u=h)}if(u.issues.length){t.mode==="loose"?r.value[o]=s[o]:r.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(h=>Ka(h,n,di())),input:o,path:[o],inst:e});continue}const d=t.valueType._zod.run({value:s[o],issues:[]},n);d instanceof Promise?i.push(d.then(h=>{h.issues.length&&r.issues.push(...po(o,h.issues)),r.value[u.value]=h.value})):(d.issues.length&&r.issues.push(...po(o,d.issues)),r.value[u.value]=d.value)}}return i.length?Promise.all(i).then(()=>r):r}}),hq=je("$ZodMap",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!(s instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:s,inst:e}),r;const i=[];r.value=new Map;for(const[a,o]of s){const u=t.keyType._zod.run({value:a,issues:[]},n),l=t.valueType._zod.run({value:o,issues:[]},n);u instanceof Promise||l instanceof Promise?i.push(Promise.all([u,l]).then(([d,h])=>{AP(d,h,r,a,s,e,n)})):AP(u,l,r,a,s,e,n)}return i.length?Promise.all(i).then(()=>r):r}});function AP(e,t,r,n,s,i,a){e.issues.length&&(dx.has(typeof n)?r.issues.push(...po(n,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:s,inst:i,issues:e.issues.map(o=>Ka(o,a,di()))})),t.issues.length&&(dx.has(typeof n)?r.issues.push(...po(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:s,inst:i,key:n,issues:t.issues.map(o=>Ka(o,a,di()))})),r.value.set(e.value,t.value)}const pq=je("$ZodSet",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!(s instanceof Set))return r.issues.push({input:s,inst:e,expected:"set",code:"invalid_type"}),r;const i=[];r.value=new Set;for(const a of s){const o=t.valueType._zod.run({value:a,issues:[]},n);o instanceof Promise?i.push(o.then(u=>PP(u,r))):PP(o,r)}return i.length?Promise.all(i).then(()=>r):r}});function PP(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}const mq=je("$ZodEnum",(e,t)=>{rr.init(e,t);const r=X3(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>dx.has(typeof s)).map(s=>typeof s=="string"?Ql(s):s.toString()).join("|")})$`),e._zod.parse=(s,i)=>{const a=s.value;return n.has(a)||s.issues.push({code:"invalid_value",values:r,input:a,inst:e}),s}}),gq=je("$ZodLiteral",(e,t)=>{if(rr.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?Ql(n):n?Ql(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,s)=>{const i=n.value;return r.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),yq=je("$ZodFile",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;return s instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:s,inst:e}),r}}),bq=je("$ZodTransform",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new I1(e.constructor.name);const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(r.value=a,r));if(s instanceof Promise)throw new _d;return r.value=s,r}});function IP(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const vT=je("$ZodOptional",(e,t)=>{rr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",hr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),hr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${R1(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>IP(i,r.value)):IP(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),vq=je("$ZodExactOptional",(e,t)=>{vT.init(e,t),hr(e._zod,"values",()=>t.innerType._zod.values),hr(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),xq=je("$ZodNullable",(e,t)=>{rr.init(e,t),hr(e._zod,"optin",()=>t.innerType._zod.optin),hr(e._zod,"optout",()=>t.innerType._zod.optout),hr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${R1(r.source)}|null)$`):void 0}),hr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),wq=je("$ZodDefault",(e,t)=>{rr.init(e,t),e._zod.optin="optional",hr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>RP(i,t)):RP(s,t)}});function RP(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const _q=je("$ZodPrefault",(e,t)=>{rr.init(e,t),e._zod.optin="optional",hr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),Sq=je("$ZodNonOptional",(e,t)=>{rr.init(e,t),hr(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>OP(i,e)):OP(s,e)}});function OP(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const kq=je("$ZodSuccess",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new I1("ZodSuccess");const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>(r.value=i.issues.length===0,r)):(r.value=s.issues.length===0,r)}}),jq=je("$ZodCatch",(e,t)=>{rr.init(e,t),hr(e._zod,"optin",()=>t.innerType._zod.optin),hr(e._zod,"optout",()=>t.innerType._zod.optout),hr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(a=>Ka(a,n,di()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(i=>Ka(i,n,di()))},input:r.value}),r.issues=[]),r)}}),Nq=je("$ZodNaN",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:e,expected:"nan",code:"invalid_type"}),r)}),Tq=je("$ZodPipe",(e,t)=>{rr.init(e,t),hr(e._zod,"values",()=>t.in._zod.values),hr(e._zod,"optin",()=>t.in._zod.optin),hr(e._zod,"optout",()=>t.out._zod.optout),hr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const i=t.out._zod.run(r,n);return i instanceof Promise?i.then(a=>ib(a,t.in,n)):ib(i,t.in,n)}const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(i=>ib(i,t.out,n)):ib(s,t.out,n)}});function ib(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const xT=je("$ZodCodec",(e,t)=>{rr.init(e,t),hr(e._zod,"values",()=>t.in._zod.values),hr(e._zod,"optin",()=>t.in._zod.optin),hr(e._zod,"optout",()=>t.out._zod.optout),hr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if((n.direction||"forward")==="forward"){const i=t.in._zod.run(r,n);return i instanceof Promise?i.then(a=>ab(a,t,n)):ab(i,t,n)}else{const i=t.out._zod.run(r,n);return i instanceof Promise?i.then(a=>ab(a,t,n)):ab(i,t,n)}}});function ab(e,t,r){if(e.issues.length)return e.aborted=!0,e;if((r.direction||"forward")==="forward"){const s=t.transform(e.value,e);return s instanceof Promise?s.then(i=>ob(e,i,t.out,r)):ob(e,s,t.out,r)}else{const s=t.reverseTransform(e.value,e);return s instanceof Promise?s.then(i=>ob(e,i,t.in,r)):ob(e,s,t.in,r)}}function ob(e,t,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},n)}const Eq=je("$ZodReadonly",(e,t)=>{rr.init(e,t),hr(e._zod,"propValues",()=>t.innerType._zod.propValues),hr(e._zod,"values",()=>t.innerType._zod.values),hr(e._zod,"optin",()=>t.innerType?._zod?.optin),hr(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(MP):MP(s)}});function MP(e){return e.value=Object.freeze(e.value),e}const Cq=je("$ZodTemplateLiteral",(e,t)=>{rr.init(e,t);const r=[];for(const n of t.parts)if(typeof n=="object"&&n!==null){if(!n._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);const s=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!s)throw new Error(`Invalid template literal part: ${n._zod.traits}`);const i=s.startsWith("^")?1:0,a=s.endsWith("$")?s.length-1:s.length;r.push(s.slice(i,a))}else if(n===null||eV.has(typeof n))r.push(Ql(`${n}`));else throw new Error(`Invalid template literal part: ${n}`);e._zod.pattern=new RegExp(`^${r.join("")}$`),e._zod.parse=(n,s)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:e,expected:"string",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),Aq=je("$ZodFunction",(e,t)=>(rr.init(e,t),e._def=t,e._zod.def=t,e.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...n){const s=e._def.input?B4(e._def.input,n):n,i=Reflect.apply(r,this,s);return e._def.output?B4(e._def.output,i):i}},e.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...n){const s=e._def.input?await U4(e._def.input,n):n,i=await Reflect.apply(r,this,s);return e._def.output?await U4(e._def.output,i):i}},e._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:e}),r):(e._def.output&&e._def.output._zod.def.type==="promise"?r.value=e.implementAsync(r.value):r.value=e.implement(r.value),r),e.input=(...r)=>{const n=e.constructor;return Array.isArray(r[0])?new n({type:"function",input:new bT({type:"tuple",items:r[0],rest:r[1]}),output:e._def.output}):new n({type:"function",input:r[0],output:e._def.output})},e.output=r=>{const n=e.constructor;return new n({type:"function",input:e._def.input,output:r})},e)),Pq=je("$ZodPromise",(e,t)=>{rr.init(e,t),e._zod.parse=(r,n)=>Promise.resolve(r.value).then(s=>t.innerType._zod.run({value:s,issues:[]},n))}),Iq=je("$ZodLazy",(e,t)=>{rr.init(e,t),hr(e._zod,"innerType",()=>t.getter()),hr(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),hr(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),hr(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),hr(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),Rq=je("$ZodCustom",(e,t)=>{Sn.init(e,t),rr.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(i=>DP(i,r,n,e));DP(s,r,n,e)}});function DP(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(Hh(s))}}const T_e=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(s){return e[s]??null}const r={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`  :   instanceof ${s.expected}    ${o}`:`  :   ${i}    ${o}`}case"invalid_value":return s.values.length===1?`  :   ${zt(s.values[0])}`:`  :     : ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`   :    ${s.origin??""} ${i} ${s.maximum.toString()} ${a.unit??""}`:`  :    ${s.origin??""} ${i} ${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`  :   ${s.origin}   ${i} ${s.minimum.toString()} ${a.unit}`:`  :   ${s.origin}   ${i} ${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`  :     "${s.prefix}"`:i.format==="ends_with"?`  :     "${i.suffix}"`:i.format==="includes"?`  :    "${i.includes}"`:i.format==="regex"?`  :     ${i.pattern}`:`${r[i.format]??s.format}  `}case"not_multiple_of":return`  :      ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"":""} ${s.keys.length>1?"":""}: ${Ze(s.keys," ")}`;case"invalid_key":return`    ${s.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${s.origin}`;default:return"  "}}};function E_e(){return{localeError:T_e()}}const C_e=()=>{const e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function t(s){return e[s]??null}const r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Yanl dyr: gzlniln instanceof ${s.expected}, daxil olan ${o}`:`Yanl dyr: gzlniln ${i}, daxil olan ${o}`}case"invalid_value":return s.values.length===1?`Yanl dyr: gzlniln ${zt(s.values[0])}`:`Yanl seim: aadaklardan biri olmaldr: ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`ox byk: gzlniln ${s.origin??"dyr"} ${i}${s.maximum.toString()} ${a.unit??"element"}`:`ox byk: gzlniln ${s.origin??"dyr"} ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`ox kiik: gzlniln ${s.origin} ${i}${s.minimum.toString()} ${a.unit}`:`ox kiik: gzlniln ${s.origin} ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Yanl mtn: "${i.prefix}" il balamaldr`:i.format==="ends_with"?`Yanl mtn: "${i.suffix}" il bitmlidir`:i.format==="includes"?`Yanl mtn: "${i.includes}" daxil olmaldr`:i.format==="regex"?`Yanl mtn: ${i.pattern} ablonuna uyun olmaldr`:`Yanl ${r[i.format]??s.format}`}case"not_multiple_of":return`Yanl dd: ${s.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${s.keys.length>1?"lar":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`${s.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${s.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}};function A_e(){return{localeError:C_e()}}function $P(e,t,r,n){const s=Math.abs(e),i=s%10,a=s%100;return a>=11&&a<=19?n:i===1?t:i>=2&&i<=4?r:n}const P_e=()=>{const e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected},  ${o}`:` :  ${i},  ${o}`}case"invalid_value":return s.values.length===1?` :  ${zt(s.values[0])}`:` :    ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);if(a){const o=Number(s.maximum),u=$P(o,a.unit.one,a.unit.few,a.unit.many);return` : ,  ${s.origin??""}  ${a.verb} ${i}${s.maximum.toString()} ${u}`}return` : ,  ${s.origin??""}   ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);if(a){const o=Number(s.minimum),u=$P(o,a.unit.one,a.unit.few,a.unit.many);return` : ,  ${s.origin}  ${a.verb} ${i}${s.minimum.toString()} ${u}`}return` : ,  ${s.origin}   ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` :    "${i.prefix}"`:i.format==="ends_with"?` :    "${i.suffix}"`:i.format==="includes"?` :   "${i.includes}"`:i.format==="regex"?` :    ${i.pattern}`:` ${r[i.format]??s.format}`}case"not_multiple_of":return` :    ${s.divisor}`;case"unrecognized_keys":return` ${s.keys.length>1?"":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`   ${s.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${s.origin}`;default:return" "}}};function I_e(){return{localeError:P_e()}}const R_e=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(s){return e[s]??null}const r={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected},  ${o}`:` :  ${i},  ${o}`}case"invalid_value":return s.values.length===1?` :  ${zt(s.values[0])}`:` :    ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` :   ${s.origin??""}   ${i}${s.maximum.toString()} ${a.unit??""}`:` :   ${s.origin??""}   ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` :   ${s.origin}   ${i}${s.minimum.toString()} ${a.unit}`:` :   ${s.origin}   ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;if(i.format==="starts_with")return` :     "${i.prefix}"`;if(i.format==="ends_with")return` :     "${i.suffix}"`;if(i.format==="includes")return` :    "${i.includes}"`;if(i.format==="regex")return` :     ${i.pattern}`;let a="";return i.format==="emoji"&&(a=""),i.format==="datetime"&&(a=""),i.format==="date"&&(a=""),i.format==="time"&&(a=""),i.format==="duration"&&(a=""),`${a} ${r[i.format]??s.format}`}case"not_multiple_of":return` :      ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"":""} ${s.keys.length>1?"":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`   ${s.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${s.origin}`;default:return" "}}};function O_e(){return{localeError:R_e()}}const M_e=()=>{const e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(s){return e[s]??null}const r={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Tipus invlid: s'esperava instanceof ${s.expected}, s'ha rebut ${o}`:`Tipus invlid: s'esperava ${i}, s'ha rebut ${o}`}case"invalid_value":return s.values.length===1?`Valor invlid: s'esperava ${zt(s.values[0])}`:`Opci invlida: s'esperava una de ${Ze(s.values," o ")}`;case"too_big":{const i=s.inclusive?"com a mxim":"menys de",a=t(s.origin);return a?`Massa gran: s'esperava que ${s.origin??"el valor"} contingus ${i} ${s.maximum.toString()} ${a.unit??"elements"}`:`Massa gran: s'esperava que ${s.origin??"el valor"} fos ${i} ${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?"com a mnim":"ms de",a=t(s.origin);return a?`Massa petit: s'esperava que ${s.origin} contingus ${i} ${s.minimum.toString()} ${a.unit}`:`Massa petit: s'esperava que ${s.origin} fos ${i} ${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Format invlid: ha de comenar amb "${i.prefix}"`:i.format==="ends_with"?`Format invlid: ha d'acabar amb "${i.suffix}"`:i.format==="includes"?`Format invlid: ha d'incloure "${i.includes}"`:i.format==="regex"?`Format invlid: ha de coincidir amb el patr ${i.pattern}`:`Format invlid per a ${r[i.format]??s.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${s.divisor}`;case"unrecognized_keys":return`Clau${s.keys.length>1?"s":""} no reconeguda${s.keys.length>1?"s":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Clau invlida a ${s.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${s.origin}`;default:return"Entrada invlida"}}};function D_e(){return{localeError:M_e()}}const $_e=()=>{const e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function t(s){return e[s]??null}const r={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},n={nan:"NaN",number:"slo",string:"etzec",function:"funkce",array:"pole"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Neplatn vstup: oekvno instanceof ${s.expected}, obdreno ${o}`:`Neplatn vstup: oekvno ${i}, obdreno ${o}`}case"invalid_value":return s.values.length===1?`Neplatn vstup: oekvno ${zt(s.values[0])}`:`Neplatn monost: oekvna jedna z hodnot ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Hodnota je pli velk: ${s.origin??"hodnota"} mus mt ${i}${s.maximum.toString()} ${a.unit??"prvk"}`:`Hodnota je pli velk: ${s.origin??"hodnota"} mus bt ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Hodnota je pli mal: ${s.origin??"hodnota"} mus mt ${i}${s.minimum.toString()} ${a.unit??"prvk"}`:`Hodnota je pli mal: ${s.origin??"hodnota"} mus bt ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Neplatn etzec: mus zanat na "${i.prefix}"`:i.format==="ends_with"?`Neplatn etzec: mus konit na "${i.suffix}"`:i.format==="includes"?`Neplatn etzec: mus obsahovat "${i.includes}"`:i.format==="regex"?`Neplatn etzec: mus odpovdat vzoru ${i.pattern}`:`Neplatn formt ${r[i.format]??s.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${s.divisor}`;case"unrecognized_keys":return`Neznm kle: ${Ze(s.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${s.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${s.origin}`;default:return"Neplatn vstup"}}};function L_e(){return{localeError:$_e()}}const F_e=()=>{const e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function t(s){return e[s]??null}const r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Ugyldigt input: forventede instanceof ${s.expected}, fik ${o}`:`Ugyldigt input: forventede ${i}, fik ${o}`}case"invalid_value":return s.values.length===1?`Ugyldig vrdi: forventede ${zt(s.values[0])}`:`Ugyldigt valg: forventede en af flgende ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin),o=n[s.origin]??s.origin;return a?`For stor: forventede ${o??"value"} ${a.verb} ${i} ${s.maximum.toString()} ${a.unit??"elementer"}`:`For stor: forventede ${o??"value"} havde ${i} ${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin),o=n[s.origin]??s.origin;return a?`For lille: forventede ${o} ${a.verb} ${i} ${s.minimum.toString()} ${a.unit}`:`For lille: forventede ${o} havde ${i} ${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Ugyldig streng: skal starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: skal ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: skal indeholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: skal matche mnsteret ${i.pattern}`:`Ugyldig ${r[i.format]??s.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${s.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${s.origin}`;default:return"Ugyldigt input"}}};function z_e(){return{localeError:F_e()}}const B_e=()=>{const e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(s){return e[s]??null}const r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},n={nan:"NaN",number:"Zahl",array:"Array"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Ungltige Eingabe: erwartet instanceof ${s.expected}, erhalten ${o}`:`Ungltige Eingabe: erwartet ${i}, erhalten ${o}`}case"invalid_value":return s.values.length===1?`Ungltige Eingabe: erwartet ${zt(s.values[0])}`:`Ungltige Option: erwartet eine von ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Zu gro: erwartet, dass ${s.origin??"Wert"} ${i}${s.maximum.toString()} ${a.unit??"Elemente"} hat`:`Zu gro: erwartet, dass ${s.origin??"Wert"} ${i}${s.maximum.toString()} ist`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Zu klein: erwartet, dass ${s.origin} ${i}${s.minimum.toString()} ${a.unit} hat`:`Zu klein: erwartet, dass ${s.origin} ${i}${s.minimum.toString()} ist`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Ungltiger String: muss mit "${i.prefix}" beginnen`:i.format==="ends_with"?`Ungltiger String: muss mit "${i.suffix}" enden`:i.format==="includes"?`Ungltiger String: muss "${i.includes}" enthalten`:i.format==="regex"?`Ungltiger String: muss dem Muster ${i.pattern} entsprechen`:`Ungltig: ${r[i.format]??s.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${s.divisor} sein`;case"unrecognized_keys":return`${s.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${s.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${s.origin}`;default:return"Ungltige Eingabe"}}};function U_e(){return{localeError:B_e()}}const V_e=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function t(s){return e[s]??null}const r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return`Invalid input: expected ${i}, received ${o}`}case"invalid_value":return s.values.length===1?`Invalid input: expected ${zt(s.values[0])}`:`Invalid option: expected one of ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Too big: expected ${s.origin??"value"} to have ${i}${s.maximum.toString()} ${a.unit??"elements"}`:`Too big: expected ${s.origin??"value"} to be ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Too small: expected ${s.origin} to have ${i}${s.minimum.toString()} ${a.unit}`:`Too small: expected ${s.origin} to be ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${r[i.format]??s.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${s.divisor}`;case"unrecognized_keys":return`Unrecognized key${s.keys.length>1?"s":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Invalid key in ${s.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${s.origin}`;default:return"Invalid input"}}};function Oq(){return{localeError:V_e()}}const W_e=()=>{const e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(s){return e[s]??null}const r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},n={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Nevalida enigo: atendiis instanceof ${s.expected}, riceviis ${o}`:`Nevalida enigo: atendiis ${i}, riceviis ${o}`}case"invalid_value":return s.values.length===1?`Nevalida enigo: atendiis ${zt(s.values[0])}`:`Nevalida opcio: atendiis unu el ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Tro granda: atendiis ke ${s.origin??"valoro"} havu ${i}${s.maximum.toString()} ${a.unit??"elementojn"}`:`Tro granda: atendiis ke ${s.origin??"valoro"} havu ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Tro malgranda: atendiis ke ${s.origin} havu ${i}${s.minimum.toString()} ${a.unit}`:`Tro malgranda: atendiis ke ${s.origin} estu ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Nevalida karaktraro: devas komencii per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas finii per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${r[i.format]??s.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${s.divisor}`;case"unrecognized_keys":return`Nekonata${s.keys.length>1?"j":""} losilo${s.keys.length>1?"j":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${s.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${s.origin}`;default:return"Nevalida enigo"}}};function q_e(){return{localeError:W_e()}}const H_e=()=>{const e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function t(s){return e[s]??null}const r={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN",string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Entrada invlida: se esperaba instanceof ${s.expected}, recibido ${o}`:`Entrada invlida: se esperaba ${i}, recibido ${o}`}case"invalid_value":return s.values.length===1?`Entrada invlida: se esperaba ${zt(s.values[0])}`:`Opcin invlida: se esperaba una de ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin),o=n[s.origin]??s.origin;return a?`Demasiado grande: se esperaba que ${o??"valor"} tuviera ${i}${s.maximum.toString()} ${a.unit??"elementos"}`:`Demasiado grande: se esperaba que ${o??"valor"} fuera ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin),o=n[s.origin]??s.origin;return a?`Demasiado pequeo: se esperaba que ${o} tuviera ${i}${s.minimum.toString()} ${a.unit}`:`Demasiado pequeo: se esperaba que ${o} fuera ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Cadena invlida: debe comenzar con "${i.prefix}"`:i.format==="ends_with"?`Cadena invlida: debe terminar en "${i.suffix}"`:i.format==="includes"?`Cadena invlida: debe incluir "${i.includes}"`:i.format==="regex"?`Cadena invlida: debe coincidir con el patrn ${i.pattern}`:`Invlido ${r[i.format]??s.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${s.divisor}`;case"unrecognized_keys":return`Llave${s.keys.length>1?"s":""} desconocida${s.keys.length>1?"s":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Llave invlida en ${n[s.origin]??s.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${n[s.origin]??s.origin}`;default:return"Entrada invlida"}}};function K_e(){return{localeError:H_e()}}const G_e=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(s){return e[s]??null}const r={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected}  ${o}  `:` :  ${i}  ${o}  `}case"invalid_value":return s.values.length===1?` :  ${zt(s.values[0])} `:` :    ${Ze(s.values,"|")} `;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` : ${s.origin??""}  ${i}${s.maximum.toString()} ${a.unit??""} `:` : ${s.origin??""}  ${i}${s.maximum.toString()} `}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` : ${s.origin}  ${i}${s.minimum.toString()} ${a.unit} `:` : ${s.origin}  ${i}${s.minimum.toString()} `}case"invalid_format":{const i=s;return i.format==="starts_with"?` :   "${i.prefix}"  `:i.format==="ends_with"?` :   "${i.suffix}"  `:i.format==="includes"?` :   "${i.includes}" `:i.format==="regex"?` :    ${i.pattern}   `:`${r[i.format]??s.format} `}case"not_multiple_of":return` :   ${s.divisor} `;case"unrecognized_keys":return`${s.keys.length>1?"":""} : ${Ze(s.keys,", ")}`;case"invalid_key":return`   ${s.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${s.origin}`;default:return" "}}};function Z_e(){return{localeError:G_e()}}const X_e=()=>{const e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function t(s){return e[s]??null}const r={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Virheellinen tyyppi: odotettiin instanceof ${s.expected}, oli ${o}`:`Virheellinen tyyppi: odotettiin ${i}, oli ${o}`}case"invalid_value":return s.values.length===1?`Virheellinen syte: tytyy olla ${zt(s.values[0])}`:`Virheellinen valinta: tytyy olla yksi seuraavista: ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Liian suuri: ${a.subject} tytyy olla ${i}${s.maximum.toString()} ${a.unit}`.trim():`Liian suuri: arvon tytyy olla ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Liian pieni: ${a.subject} tytyy olla ${i}${s.minimum.toString()} ${a.unit}`.trim():`Liian pieni: arvon tytyy olla ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Virheellinen syte: tytyy alkaa "${i.prefix}"`:i.format==="ends_with"?`Virheellinen syte: tytyy loppua "${i.suffix}"`:i.format==="includes"?`Virheellinen syte: tytyy sislt "${i.includes}"`:i.format==="regex"?`Virheellinen syte: tytyy vastata snnllist lauseketta ${i.pattern}`:`Virheellinen ${r[i.format]??s.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${s.divisor} monikerta`;case"unrecognized_keys":return`${s.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${Ze(s.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}};function Y_e(){return{localeError:X_e()}}const Q_e=()=>{const e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(s){return e[s]??null}const r={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},n={nan:"NaN",number:"nombre",array:"tableau"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Entre invalide : instanceof ${s.expected} attendu, ${o} reu`:`Entre invalide : ${i} attendu, ${o} reu`}case"invalid_value":return s.values.length===1?`Entre invalide : ${zt(s.values[0])} attendu`:`Option invalide : une valeur parmi ${Ze(s.values,"|")} attendue`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Trop grand : ${s.origin??"valeur"} doit ${a.verb} ${i}${s.maximum.toString()} ${a.unit??"lment(s)"}`:`Trop grand : ${s.origin??"valeur"} doit tre ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Trop petit : ${s.origin} doit ${a.verb} ${i}${s.minimum.toString()} ${a.unit}`:`Trop petit : ${s.origin} doit tre ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Chane invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Chane invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Chane invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Chane invalide : doit correspondre au modle ${i.pattern}`:`${r[i.format]??s.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${s.divisor}`;case"unrecognized_keys":return`Cl${s.keys.length>1?"s":""} non reconnue${s.keys.length>1?"s":""} : ${Ze(s.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${s.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${s.origin}`;default:return"Entre invalide"}}};function J_e(){return{localeError:Q_e()}}const e2e=()=>{const e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(s){return e[s]??null}const r={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Entre invalide : attendu instanceof ${s.expected}, reu ${o}`:`Entre invalide : attendu ${i}, reu ${o}`}case"invalid_value":return s.values.length===1?`Entre invalide : attendu ${zt(s.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"":"<",a=t(s.origin);return a?`Trop grand : attendu que ${s.origin??"la valeur"} ait ${i}${s.maximum.toString()} ${a.unit}`:`Trop grand : attendu que ${s.origin??"la valeur"} soit ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?"":">",a=t(s.origin);return a?`Trop petit : attendu que ${s.origin} ait ${i}${s.minimum.toString()} ${a.unit}`:`Trop petit : attendu que ${s.origin} soit ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Chane invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Chane invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Chane invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Chane invalide : doit correspondre au motif ${i.pattern}`:`${r[i.format]??s.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${s.divisor}`;case"unrecognized_keys":return`Cl${s.keys.length>1?"s":""} non reconnue${s.keys.length>1?"s":""} : ${Ze(s.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${s.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${s.origin}`;default:return"Entre invalide"}}};function t2e(){return{localeError:e2e()}}const r2e=()=>{const e={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},t={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},r=l=>l?e[l]:void 0,n=l=>{const d=r(l);return d?d.label:l??e.unknown.label},s=l=>`${n(l)}`,i=l=>(r(l)?.gender??"m")==="f"?" ":" ",a=l=>l?t[l]??null:null,o={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}},u={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{const d=l.expected,h=u[d??""]??n(d),f=Gt(l.input),p=u[f]??e[f]?.label??f;return/^[A-Z]/.test(l.expected)?`  :   instanceof ${l.expected},  ${p}`:`  :   ${h},  ${p}`}case"invalid_value":{if(l.values.length===1)return`  :    ${zt(l.values[0])}`;const d=l.values.map(p=>zt(p));if(l.values.length===2)return`  :    ${d[0]}  ${d[1]}`;const h=d[d.length-1];return`  :    ${d.slice(0,-1).join(", ")}  ${h}`}case"too_big":{const d=a(l.origin),h=s(l.origin??"value");if(l.origin==="string")return`${d?.longLabel??""} : ${h}   ${l.maximum.toString()} ${d?.unit??""} ${l.inclusive?" ":" "}`.trim();if(l.origin==="number"){const g=l.inclusive?`   -${l.maximum}`:` -${l.maximum}`;return` : ${h}   ${g}`}if(l.origin==="array"||l.origin==="set"){const g=l.origin==="set"?"":"",y=l.inclusive?`${l.maximum} ${d?.unit??""}  `:` -${l.maximum} ${d?.unit??""}`;return` : ${h} ${g}  ${y}`.trim()}const f=l.inclusive?"<=":"<",p=i(l.origin??"value");return d?.unit?`${d.longLabel} : ${h} ${p} ${f}${l.maximum.toString()} ${d.unit}`:`${d?.longLabel??""} : ${h} ${p} ${f}${l.maximum.toString()}`}case"too_small":{const d=a(l.origin),h=s(l.origin??"value");if(l.origin==="string")return`${d?.shortLabel??""} : ${h}   ${l.minimum.toString()} ${d?.unit??""} ${l.inclusive?" ":""}`.trim();if(l.origin==="number"){const g=l.inclusive?`   -${l.minimum}`:` -${l.minimum}`;return` : ${h}   ${g}`}if(l.origin==="array"||l.origin==="set"){const g=l.origin==="set"?"":"";if(l.minimum===1&&l.inclusive){const m=(l.origin==="set","  ");return` : ${h} ${g}  ${m}`}const y=l.inclusive?`${l.minimum} ${d?.unit??""}  `:` -${l.minimum} ${d?.unit??""}`;return` : ${h} ${g}  ${y}`.trim()}const f=l.inclusive?">=":">",p=i(l.origin??"value");return d?.unit?`${d.shortLabel} : ${h} ${p} ${f}${l.minimum.toString()} ${d.unit}`:`${d?.shortLabel??""} : ${h} ${p} ${f}${l.minimum.toString()}`}case"invalid_format":{const d=l;if(d.format==="starts_with")return`    "${d.prefix}"`;if(d.format==="ends_with")return`    "${d.suffix}"`;if(d.format==="includes")return`   "${d.includes}"`;if(d.format==="regex")return`    ${d.pattern}`;const h=o[d.format],f=h?.label??d.format,g=(h?.gender??"m")==="f"?"":"";return`${f}  ${g}`}case"not_multiple_of":return`  :     ${l.divisor}`;case"unrecognized_keys":return`${l.keys.length>1?"":""}  ${l.keys.length>1?"":""}: ${Ze(l.keys,", ")}`;case"invalid_key":return"   ";case"invalid_union":return"  ";case"invalid_element":return`   ${s(l.origin??"array")}`;default:return"  "}}};function n2e(){return{localeError:r2e()}}const s2e=()=>{const e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(s){return e[s]??null}const r={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},n={nan:"NaN",number:"szm",array:"tmb"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`rvnytelen bemenet: a vrt rtk instanceof ${s.expected}, a kapott rtk ${o}`:`rvnytelen bemenet: a vrt rtk ${i}, a kapott rtk ${o}`}case"invalid_value":return s.values.length===1?`rvnytelen bemenet: a vrt rtk ${zt(s.values[0])}`:`rvnytelen opci: valamelyik rtk vrt ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Tl nagy: ${s.origin??"rtk"} mrete tl nagy ${i}${s.maximum.toString()} ${a.unit??"elem"}`:`Tl nagy: a bemeneti rtk ${s.origin??"rtk"} tl nagy: ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Tl kicsi: a bemeneti rtk ${s.origin} mrete tl kicsi ${i}${s.minimum.toString()} ${a.unit}`:`Tl kicsi: a bemeneti rtk ${s.origin} tl kicsi ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`rvnytelen string: "${i.prefix}" rtkkel kell kezddnie`:i.format==="ends_with"?`rvnytelen string: "${i.suffix}" rtkkel kell vgzdnie`:i.format==="includes"?`rvnytelen string: "${i.includes}" rtket kell tartalmaznia`:i.format==="regex"?`rvnytelen string: ${i.pattern} mintnak kell megfelelnie`:`rvnytelen ${r[i.format]??s.format}`}case"not_multiple_of":return`rvnytelen szm: ${s.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${s.keys.length>1?"s":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${s.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${s.origin}`;default:return"rvnytelen bemenet"}}};function i2e(){return{localeError:s2e()}}function LP(e,t,r){return Math.abs(e)===1?t:r}function vf(e){if(!e)return"";const t=["","","","","","",""],r=e[e.length-1];return e+(t.includes(r)?"":"")}const a2e=()=>{const e={string:{unit:{one:"",many:""},verb:""},file:{unit:{one:"",many:""},verb:""},array:{unit:{one:"",many:""},verb:""},set:{unit:{one:"",many:""},verb:""}};function t(s){return e[s]??null}const r={regex:"",email:". ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`    instanceof ${s.expected},   ${o}`:`    ${i},   ${o}`}case"invalid_value":return s.values.length===1?`    ${zt(s.values[1])}`:`      ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);if(a){const o=Number(s.maximum),u=LP(o,a.unit.one,a.unit.many);return`    ,  ${vf(s.origin??"")}  ${i}${s.maximum.toString()} ${u}`}return`    ,  ${vf(s.origin??"")}  ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);if(a){const o=Number(s.minimum),u=LP(o,a.unit.one,a.unit.many);return`    ,  ${vf(s.origin)}  ${i}${s.minimum.toString()} ${u}`}return`    ,  ${vf(s.origin)}  ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`     "${i.prefix}"-`:i.format==="ends_with"?`     "${i.suffix}"-`:i.format==="includes"?`     "${i.includes}"`:i.format==="regex"?`     ${i.pattern} `:` ${r[i.format]??s.format}`}case"not_multiple_of":return`      ${s.divisor}-`;case"unrecognized_keys":return` ${s.keys.length>1?"":""}. ${Ze(s.keys,", ")}`;case"invalid_key":return`  ${vf(s.origin)}-`;case"invalid_union":return" ";case"invalid_element":return`  ${vf(s.origin)}-`;default:return" "}}};function o2e(){return{localeError:a2e()}}const l2e=()=>{const e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(s){return e[s]??null}const r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Input tidak valid: diharapkan instanceof ${s.expected}, diterima ${o}`:`Input tidak valid: diharapkan ${i}, diterima ${o}`}case"invalid_value":return s.values.length===1?`Input tidak valid: diharapkan ${zt(s.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Terlalu besar: diharapkan ${s.origin??"value"} memiliki ${i}${s.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: diharapkan ${s.origin??"value"} menjadi ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Terlalu kecil: diharapkan ${s.origin} memiliki ${i}${s.minimum.toString()} ${a.unit}`:`Terlalu kecil: diharapkan ${s.origin} menjadi ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`String tidak valid: harus dimulai dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak valid: harus berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak valid: harus menyertakan "${i.includes}"`:i.format==="regex"?`String tidak valid: harus sesuai pola ${i.pattern}`:`${r[i.format]??s.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${s.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${s.keys.length>1?"s":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${s.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${s.origin}`;default:return"Input tidak valid"}}};function c2e(){return{localeError:l2e()}}const u2e=()=>{const e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function t(s){return e[s]??null}const r={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},n={nan:"NaN",number:"nmer",array:"fylki"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Rangt gildi:  slst inn ${o} ar sem  a vera instanceof ${s.expected}`:`Rangt gildi:  slst inn ${o} ar sem  a vera ${i}`}case"invalid_value":return s.values.length===1?`Rangt gildi: gert r fyrir ${zt(s.values[0])}`:`gilt val: m vera eitt af eftirfarandi ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Of strt: gert er r fyrir a ${s.origin??"gildi"} hafi ${i}${s.maximum.toString()} ${a.unit??"hluti"}`:`Of strt: gert er r fyrir a ${s.origin??"gildi"} s ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Of lti: gert er r fyrir a ${s.origin} hafi ${i}${s.minimum.toString()} ${a.unit}`:`Of lti: gert er r fyrir a ${s.origin} s ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`gildur strengur: verur a byrja  "${i.prefix}"`:i.format==="ends_with"?`gildur strengur: verur a enda  "${i.suffix}"`:i.format==="includes"?`gildur strengur: verur a innihalda "${i.includes}"`:i.format==="regex"?`gildur strengur: verur a fylgja mynstri ${i.pattern}`:`Rangt ${r[i.format]??s.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${s.divisor}`;case"unrecognized_keys":return`ekkt ${s.keys.length>1?"ir lyklar":"ur lykill"}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${s.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${s.origin}`;default:return"Rangt gildi"}}};function d2e(){return{localeError:u2e()}}const f2e=()=>{const e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(s){return e[s]??null}const r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"numero",array:"vettore"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Input non valido: atteso instanceof ${s.expected}, ricevuto ${o}`:`Input non valido: atteso ${i}, ricevuto ${o}`}case"invalid_value":return s.values.length===1?`Input non valido: atteso ${zt(s.values[0])}`:`Opzione non valida: atteso uno tra ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Troppo grande: ${s.origin??"valore"} deve avere ${i}${s.maximum.toString()} ${a.unit??"elementi"}`:`Troppo grande: ${s.origin??"valore"} deve essere ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Troppo piccolo: ${s.origin} deve avere ${i}${s.minimum.toString()} ${a.unit}`:`Troppo piccolo: ${s.origin} deve essere ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Stringa non valida: deve iniziare con "${i.prefix}"`:i.format==="ends_with"?`Stringa non valida: deve terminare con "${i.suffix}"`:i.format==="includes"?`Stringa non valida: deve includere "${i.includes}"`:i.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${i.pattern}`:`Invalid ${r[i.format]??s.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${s.divisor}`;case"unrecognized_keys":return`Chiav${s.keys.length>1?"i":"e"} non riconosciut${s.keys.length>1?"e":"a"}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${s.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${s.origin}`;default:return"Input non valido"}}};function h2e(){return{localeError:f2e()}}const p2e=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`: instanceof ${s.expected}${o}`:`: ${i}${o}`}case"invalid_value":return s.values.length===1?`: ${zt(s.values[0])}`:`: ${Ze(s.values,"")}`;case"too_big":{const i=s.inclusive?"":"",a=t(s.origin);return a?`: ${s.origin??""}${s.maximum.toString()}${a.unit??""}${i}`:`: ${s.origin??""}${s.maximum.toString()}${i}`}case"too_small":{const i=s.inclusive?"":"",a=t(s.origin);return a?`: ${s.origin}${s.minimum.toString()}${a.unit}${i}`:`: ${s.origin}${s.minimum.toString()}${i}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`: "${i.prefix}"`:i.format==="ends_with"?`: "${i.suffix}"`:i.format==="includes"?`: "${i.includes}"`:i.format==="regex"?`: ${i.pattern}`:`${r[i.format]??s.format}`}case"not_multiple_of":return`: ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"":""}: ${Ze(s.keys,"")}`;case"invalid_key":return`${s.origin}`;case"invalid_union":return"";case"invalid_element":return`${s.origin}`;default:return""}}};function m2e(){return{localeError:p2e()}}const g2e=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(s){return e[s]??null}const r={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",string:"",boolean:"",function:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected},  ${o}`:` :  ${i},  ${o}`}case"invalid_value":return s.values.length===1?` :  ${zt(s.values[0])}`:` :  - ${Ze(s.values,"|")}-`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` :  ${s.origin??""} ${a.verb} ${i}${s.maximum.toString()} ${a.unit}`:` :  ${s.origin??""}  ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` :  ${s.origin} ${a.verb} ${i}${s.minimum.toString()} ${a.unit}`:` :  ${s.origin}  ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` :   "${i.prefix}"-`:i.format==="ends_with"?` :   "${i.suffix}"-`:i.format==="includes"?` :   "${i.includes}"-`:i.format==="regex"?` :    ${i.pattern}`:` ${r[i.format]??s.format}`}case"not_multiple_of":return` :   ${s.divisor}- `;case"unrecognized_keys":return` ${s.keys.length>1?"":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`  ${s.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${s.origin}-`;default:return" "}}};function y2e(){return{localeError:g2e()}}const b2e=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:" (Array)",null:" (null)"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`  instanceof ${s.expected}  ${o}`:`  ${i}  ${o}`}case"invalid_value":return s.values.length===1?`  ${zt(s.values[0])}`:`  ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`  ${s.origin??""} ${i} ${s.maximum.toString()} ${a.unit??""}`:`  ${s.origin??""} ${i} ${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`  ${s.origin} ${i} ${s.minimum.toString()} ${a.unit}`:`  ${s.origin} ${i} ${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`  "${i.prefix}"`:i.format==="ends_with"?`  "${i.suffix}"`:i.format==="includes"?`  "${i.includes}"`:i.format==="regex"?`  ${i.pattern}`:` ${r[i.format]??s.format}`}case"not_multiple_of":return`  ${s.divisor}`;case"unrecognized_keys":return` ${Ze(s.keys,", ")}`;case"invalid_key":return` ${s.origin}`;case"invalid_union":return"";case"invalid_element":return` ${s.origin}`;default:return""}}};function Mq(){return{localeError:b2e()}}function v2e(){return Mq()}const x2e=()=>{const e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function t(s){return e[s]??null}const r={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :   instanceof ${s.expected},   ${o}`:` :   ${i},   ${o}`}case"invalid_value":return s.values.length===1?` :  ${zt(s.values[0])}  `:` : ${Ze(s.values," ")}   `;case"too_big":{const i=s.inclusive?"":"",a=i===""?" ":" ",o=t(s.origin),u=o?.unit??"";return o?`${s.origin??""}  : ${s.maximum.toString()}${u} ${i}${a}`:`${s.origin??""}  : ${s.maximum.toString()} ${i}${a}`}case"too_small":{const i=s.inclusive?"":"",a=i===""?" ":" ",o=t(s.origin),u=o?.unit??"";return o?`${s.origin??""}  : ${s.minimum.toString()}${u} ${i}${a}`:`${s.origin??""}  : ${s.minimum.toString()} ${i}${a}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` : "${i.prefix}"()  `:i.format==="ends_with"?` : "${i.suffix}"()  `:i.format==="includes"?` : "${i.includes}"()  `:i.format==="regex"?` :  ${i.pattern}   `:` ${r[i.format]??s.format}`}case"not_multiple_of":return` : ${s.divisor}  `;case"unrecognized_keys":return`   : ${Ze(s.keys,", ")}`;case"invalid_key":return` : ${s.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${s.origin}`;default:return" "}}};function w2e(){return{localeError:x2e()}}const cm=e=>e.charAt(0).toUpperCase()+e.slice(1);function FP(e){const t=Math.abs(e),r=t%10,n=t%100;return n>=11&&n<=19||r===0?"many":r===1?"one":"few"}const _2e=()=>{const e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(s,i,a,o){const u=e[s]??null;return u===null?u:{unit:u.unit[i],verb:u.verb[o][a?"inclusive":"notInclusive"]}}const r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"},n={nan:"NaN",number:"skaiius",bigint:"sveikasis skaiius",string:"eilut",boolean:"login reikm",undefined:"neapibrta reikm",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin reikm"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Gautas tipas ${o}, o tiktasi - instanceof ${s.expected}`:`Gautas tipas ${o}, o tiktasi - ${i}`}case"invalid_value":return s.values.length===1?`Privalo bti ${zt(s.values[0])}`:`Privalo bti vienas i ${Ze(s.values,"|")} pasirinkim`;case"too_big":{const i=n[s.origin]??s.origin,a=t(s.origin,FP(Number(s.maximum)),s.inclusive??!1,"smaller");if(a?.verb)return`${cm(i??s.origin??"reikm")} ${a.verb} ${s.maximum.toString()} ${a.unit??"element"}`;const o=s.inclusive?"ne didesnis kaip":"maesnis kaip";return`${cm(i??s.origin??"reikm")} turi bti ${o} ${s.maximum.toString()} ${a?.unit}`}case"too_small":{const i=n[s.origin]??s.origin,a=t(s.origin,FP(Number(s.minimum)),s.inclusive??!1,"bigger");if(a?.verb)return`${cm(i??s.origin??"reikm")} ${a.verb} ${s.minimum.toString()} ${a.unit??"element"}`;const o=s.inclusive?"ne maesnis kaip":"didesnis kaip";return`${cm(i??s.origin??"reikm")} turi bti ${o} ${s.minimum.toString()} ${a?.unit}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Eilut privalo prasidti "${i.prefix}"`:i.format==="ends_with"?`Eilut privalo pasibaigti "${i.suffix}"`:i.format==="includes"?`Eilut privalo traukti "${i.includes}"`:i.format==="regex"?`Eilut privalo atitikti ${i.pattern}`:`Neteisingas ${r[i.format]??s.format}`}case"not_multiple_of":return`Skaiius privalo bti ${s.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${s.keys.length>1?"i":"as"} rakt${s.keys.length>1?"ai":"as"}: ${Ze(s.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga vestis";case"invalid_element":{const i=n[s.origin]??s.origin;return`${cm(i??s.origin??"reikm")} turi klaiding vest`}default:return"Klaidinga vestis"}}};function S2e(){return{localeError:_2e()}}const k2e=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(s){return e[s]??null}const r={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :   instanceof ${s.expected},  ${o}`:` :   ${i},  ${o}`}case"invalid_value":return s.values.length===1?`Invalid input: expected ${zt(s.values[0])}`:` :    ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` :   ${s.origin??""}   ${i}${s.maximum.toString()} ${a.unit??""}`:` :   ${s.origin??""}   ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` :   ${s.origin}   ${i}${s.minimum.toString()} ${a.unit}`:` :   ${s.origin}   ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` :     "${i.prefix}"`:i.format==="ends_with"?` :     "${i.suffix}"`:i.format==="includes"?` :    "${i.includes}"`:i.format==="regex"?` :      ${i.pattern}`:`Invalid ${r[i.format]??s.format}`}case"not_multiple_of":return` :      ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?" ":" "}: ${Ze(s.keys,", ")}`;case"invalid_key":return`   ${s.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${s.origin}`;default:return" "}}};function j2e(){return{localeError:k2e()}}const N2e=()=>{const e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(s){return e[s]??null}const r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"nombor"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Input tidak sah: dijangka instanceof ${s.expected}, diterima ${o}`:`Input tidak sah: dijangka ${i}, diterima ${o}`}case"invalid_value":return s.values.length===1?`Input tidak sah: dijangka ${zt(s.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Terlalu besar: dijangka ${s.origin??"nilai"} ${a.verb} ${i}${s.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: dijangka ${s.origin??"nilai"} adalah ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Terlalu kecil: dijangka ${s.origin} ${a.verb} ${i}${s.minimum.toString()} ${a.unit}`:`Terlalu kecil: dijangka ${s.origin} adalah ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`String tidak sah: mesti bermula dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak sah: mesti mengandungi "${i.includes}"`:i.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${i.pattern}`:`${r[i.format]??s.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${s.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${Ze(s.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${s.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${s.origin}`;default:return"Input tidak sah"}}};function T2e(){return{localeError:N2e()}}const E2e=()=>{const e={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function t(s){return e[s]??null}const r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},n={nan:"NaN",number:"getal"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Ongeldige invoer: verwacht instanceof ${s.expected}, ontving ${o}`:`Ongeldige invoer: verwacht ${i}, ontving ${o}`}case"invalid_value":return s.values.length===1?`Ongeldige invoer: verwacht ${zt(s.values[0])}`:`Ongeldige optie: verwacht n van ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin),o=s.origin==="date"?"laat":s.origin==="string"?"lang":"groot";return a?`Te ${o}: verwacht dat ${s.origin??"waarde"} ${i}${s.maximum.toString()} ${a.unit??"elementen"} ${a.verb}`:`Te ${o}: verwacht dat ${s.origin??"waarde"} ${i}${s.maximum.toString()} is`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin),o=s.origin==="date"?"vroeg":s.origin==="string"?"kort":"klein";return a?`Te ${o}: verwacht dat ${s.origin} ${i}${s.minimum.toString()} ${a.unit} ${a.verb}`:`Te ${o}: verwacht dat ${s.origin} ${i}${s.minimum.toString()} is`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Ongeldige tekst: moet met "${i.prefix}" beginnen`:i.format==="ends_with"?`Ongeldige tekst: moet op "${i.suffix}" eindigen`:i.format==="includes"?`Ongeldige tekst: moet "${i.includes}" bevatten`:i.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${i.pattern}`:`Ongeldig: ${r[i.format]??s.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${s.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${s.keys.length>1?"s":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${s.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${s.origin}`;default:return"Ongeldige invoer"}}};function C2e(){return{localeError:E2e()}}const A2e=()=>{const e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function t(s){return e[s]??null}const r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"tall",array:"liste"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Ugyldig input: forventet instanceof ${s.expected}, fikk ${o}`:`Ugyldig input: forventet ${i}, fikk ${o}`}case"invalid_value":return s.values.length===1?`Ugyldig verdi: forventet ${zt(s.values[0])}`:`Ugyldig valg: forventet en av ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`For stor(t): forventet ${s.origin??"value"} til  ha ${i}${s.maximum.toString()} ${a.unit??"elementer"}`:`For stor(t): forventet ${s.origin??"value"} til  ha ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`For lite(n): forventet ${s.origin} til  ha ${i}${s.minimum.toString()} ${a.unit}`:`For lite(n): forventet ${s.origin} til  ha ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Ugyldig streng: m starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: m ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: m inneholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: m matche mnsteret ${i.pattern}`:`Ugyldig ${r[i.format]??s.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${s.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${s.origin}`;default:return"Ugyldig input"}}};function P2e(){return{localeError:A2e()}}const I2e=()=>{const e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function t(s){return e[s]??null}const r={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},n={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Fsit giren: umulan instanceof ${s.expected}, alnan ${o}`:`Fsit giren: umulan ${i}, alnan ${o}`}case"invalid_value":return s.values.length===1?`Fsit giren: umulan ${zt(s.values[0])}`:`Fsit tercih: mteberler ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Fazla byk: ${s.origin??"value"}, ${i}${s.maximum.toString()} ${a.unit??"elements"} sahip olmalyd.`:`Fazla byk: ${s.origin??"value"}, ${i}${s.maximum.toString()} olmalyd.`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Fazla kk: ${s.origin}, ${i}${s.minimum.toString()} ${a.unit} sahip olmalyd.`:`Fazla kk: ${s.origin}, ${i}${s.minimum.toString()} olmalyd.`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Fsit metin: "${i.prefix}" ile balamal.`:i.format==="ends_with"?`Fsit metin: "${i.suffix}" ile bitmeli.`:i.format==="includes"?`Fsit metin: "${i.includes}" ihtiv etmeli.`:i.format==="regex"?`Fsit metin: ${i.pattern} nakna uymal.`:`Fsit ${r[i.format]??s.format}`}case"not_multiple_of":return`Fsit say: ${s.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${s.keys.length>1?"s":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`${s.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${s.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}};function R2e(){return{localeError:I2e()}}const O2e=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected} ,  ${o}  `:` :  ${i} ,  ${o}  `}case"invalid_value":return s.values.length===1?` :  ${zt(s.values[0])} `:` :    ${Ze(s.values,"|")}  `;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` : ${s.origin??""}  ${i}${s.maximum.toString()} ${a.unit??""} `:` : ${s.origin??""}  ${i}${s.maximum.toString()} `}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` : ${s.origin}  ${i}${s.minimum.toString()} ${a.unit} `:` : ${s.origin}  ${i}${s.minimum.toString()} `}case"invalid_format":{const i=s;return i.format==="starts_with"?` :   "${i.prefix}"   `:i.format==="ends_with"?` :   "${i.suffix}"    `:i.format==="includes"?` :  "${i.includes}" `:i.format==="regex"?` :   ${i.pattern}   `:`${r[i.format]??s.format}  `}case"not_multiple_of":return` :   ${s.divisor}  `;case"unrecognized_keys":return` ${s.keys.length>1?"":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`   ${s.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${s.origin} `;default:return" "}}};function M2e(){return{localeError:O2e()}}const D2e=()=>{const e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function t(s){return e[s]??null}const r={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},n={nan:"NaN",number:"liczba",array:"tablica"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Nieprawidowe dane wejciowe: oczekiwano instanceof ${s.expected}, otrzymano ${o}`:`Nieprawidowe dane wejciowe: oczekiwano ${i}, otrzymano ${o}`}case"invalid_value":return s.values.length===1?`Nieprawidowe dane wejciowe: oczekiwano ${zt(s.values[0])}`:`Nieprawidowa opcja: oczekiwano jednej z wartoci ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Za dua warto: oczekiwano, e ${s.origin??"warto"} bdzie mie ${i}${s.maximum.toString()} ${a.unit??"elementw"}`:`Zbyt du(y/a/e): oczekiwano, e ${s.origin??"warto"} bdzie wynosi ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Za maa warto: oczekiwano, e ${s.origin??"warto"} bdzie mie ${i}${s.minimum.toString()} ${a.unit??"elementw"}`:`Zbyt ma(y/a/e): oczekiwano, e ${s.origin??"warto"} bdzie wynosi ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Nieprawidowy cig znakw: musi zaczyna si od "${i.prefix}"`:i.format==="ends_with"?`Nieprawidowy cig znakw: musi koczy si na "${i.suffix}"`:i.format==="includes"?`Nieprawidowy cig znakw: musi zawiera "${i.includes}"`:i.format==="regex"?`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${i.pattern}`:`Nieprawidow(y/a/e) ${r[i.format]??s.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${s.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${s.keys.length>1?"s":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${s.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${s.origin}`;default:return"Nieprawidowe dane wejciowe"}}};function $2e(){return{localeError:D2e()}}const L2e=()=>{const e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(s){return e[s]??null}const r={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN",number:"nmero",null:"nulo"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Tipo invlido: esperado instanceof ${s.expected}, recebido ${o}`:`Tipo invlido: esperado ${i}, recebido ${o}`}case"invalid_value":return s.values.length===1?`Entrada invlida: esperado ${zt(s.values[0])}`:`Opo invlida: esperada uma das ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Muito grande: esperado que ${s.origin??"valor"} tivesse ${i}${s.maximum.toString()} ${a.unit??"elementos"}`:`Muito grande: esperado que ${s.origin??"valor"} fosse ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Muito pequeno: esperado que ${s.origin} tivesse ${i}${s.minimum.toString()} ${a.unit}`:`Muito pequeno: esperado que ${s.origin} fosse ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Texto invlido: deve comear com "${i.prefix}"`:i.format==="ends_with"?`Texto invlido: deve terminar com "${i.suffix}"`:i.format==="includes"?`Texto invlido: deve incluir "${i.includes}"`:i.format==="regex"?`Texto invlido: deve corresponder ao padro ${i.pattern}`:`${r[i.format]??s.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${s.divisor}`;case"unrecognized_keys":return`Chave${s.keys.length>1?"s":""} desconhecida${s.keys.length>1?"s":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Chave invlida em ${s.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${s.origin}`;default:return"Campo invlido"}}};function F2e(){return{localeError:L2e()}}function zP(e,t,r,n){const s=Math.abs(e),i=s%10,a=s%100;return a>=11&&a<=19?n:i===1?t:i>=2&&i<=4?r:n}const z2e=()=>{const e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected},  ${o}`:` :  ${i},  ${o}`}case"invalid_value":return s.values.length===1?` :  ${zt(s.values[0])}`:` :    ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);if(a){const o=Number(s.maximum),u=zP(o,a.unit.one,a.unit.few,a.unit.many);return`  : ,  ${s.origin??""}   ${i}${s.maximum.toString()} ${u}`}return`  : ,  ${s.origin??""}  ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);if(a){const o=Number(s.minimum),u=zP(o,a.unit.one,a.unit.few,a.unit.many);return`  : ,  ${s.origin}   ${i}${s.minimum.toString()} ${u}`}return`  : ,  ${s.origin}  ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` :    "${i.prefix}"`:i.format==="ends_with"?` :    "${i.suffix}"`:i.format==="includes"?` :   "${i.includes}"`:i.format==="regex"?` :    ${i.pattern}`:` ${r[i.format]??s.format}`}case"not_multiple_of":return` :    ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"":""} ${s.keys.length>1?"":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`   ${s.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${s.origin}`;default:return"  "}}};function B2e(){return{localeError:z2e()}}const U2e=()=>{const e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(s){return e[s]??null}const r={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},n={nan:"NaN",number:"tevilo",array:"tabela"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Neveljaven vnos: priakovano instanceof ${s.expected}, prejeto ${o}`:`Neveljaven vnos: priakovano ${i}, prejeto ${o}`}case"invalid_value":return s.values.length===1?`Neveljaven vnos: priakovano ${zt(s.values[0])}`:`Neveljavna monost: priakovano eno izmed ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Preveliko: priakovano, da bo ${s.origin??"vrednost"} imelo ${i}${s.maximum.toString()} ${a.unit??"elementov"}`:`Preveliko: priakovano, da bo ${s.origin??"vrednost"} ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Premajhno: priakovano, da bo ${s.origin} imelo ${i}${s.minimum.toString()} ${a.unit}`:`Premajhno: priakovano, da bo ${s.origin} ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Neveljaven niz: mora se zaeti z "${i.prefix}"`:i.format==="ends_with"?`Neveljaven niz: mora se konati z "${i.suffix}"`:i.format==="includes"?`Neveljaven niz: mora vsebovati "${i.includes}"`:i.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${i.pattern}`:`Neveljaven ${r[i.format]??s.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${s.divisor}`;case"unrecognized_keys":return`Neprepoznan${s.keys.length>1?"i kljui":" klju"}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${s.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${s.origin}`;default:return"Neveljaven vnos"}}};function V2e(){return{localeError:U2e()}}const W2e=()=>{const e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function t(s){return e[s]??null}const r={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},n={nan:"NaN",number:"antal",array:"lista"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Ogiltig inmatning: frvntat instanceof ${s.expected}, fick ${o}`:`Ogiltig inmatning: frvntat ${i}, fick ${o}`}case"invalid_value":return s.values.length===1?`Ogiltig inmatning: frvntat ${zt(s.values[0])}`:`Ogiltigt val: frvntade en av ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Fr stor(t): frvntade ${s.origin??"vrdet"} att ha ${i}${s.maximum.toString()} ${a.unit??"element"}`:`Fr stor(t): frvntat ${s.origin??"vrdet"} att ha ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Fr lite(t): frvntade ${s.origin??"vrdet"} att ha ${i}${s.minimum.toString()} ${a.unit}`:`Fr lite(t): frvntade ${s.origin??"vrdet"} att ha ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Ogiltig strng: mste brja med "${i.prefix}"`:i.format==="ends_with"?`Ogiltig strng: mste sluta med "${i.suffix}"`:i.format==="includes"?`Ogiltig strng: mste innehlla "${i.includes}"`:i.format==="regex"?`Ogiltig strng: mste matcha mnstret "${i.pattern}"`:`Ogiltig(t) ${r[i.format]??s.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${Ze(s.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${s.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${s.origin??"vrdet"}`;default:return"Ogiltig input"}}};function q2e(){return{localeError:W2e()}}const H2e=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(s){return e[s]??null}const r={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"",array:"",null:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` :  instanceof ${s.expected},  ${o}`:` :  ${i},  ${o}`}case"invalid_value":return s.values.length===1?` :  ${zt(s.values[0])}`:` :  ${Ze(s.values,"|")}  `;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` :  ${s.origin??""} ${i}${s.maximum.toString()} ${a.unit??""}   `:` :  ${s.origin??""} ${i}${s.maximum.toString()}   `}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` :  ${s.origin} ${i}${s.minimum.toString()} ${a.unit}   `:` :  ${s.origin} ${i}${s.minimum.toString()}   `}case"invalid_format":{const i=s;return i.format==="starts_with"?` : "${i.prefix}"   `:i.format==="ends_with"?` : "${i.suffix}"   `:i.format==="includes"?` : "${i.includes}"   `:i.format==="regex"?` : ${i.pattern}   `:` ${r[i.format]??s.format}`}case"not_multiple_of":return` : ${s.divisor}    `;case"unrecognized_keys":return`  ${s.keys.length>1?"":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`${s.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${s.origin}   `;default:return" "}}};function K2e(){return{localeError:H2e()}}const G2e=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},n={nan:"NaN",number:"",array:" (Array)",null:" (null)"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`:  instanceof ${s.expected}  ${o}`:`:  ${i}  ${o}`}case"invalid_value":return s.values.length===1?`:  ${zt(s.values[0])}`:`:  ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"":"",a=t(s.origin);return a?`: ${s.origin??""} ${i} ${s.maximum.toString()} ${a.unit??""}`:`: ${s.origin??""} ${i} ${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?"":"",a=t(s.origin);return a?`: ${s.origin} ${i} ${s.minimum.toString()} ${a.unit}`:`: ${s.origin} ${i} ${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`:  "${i.prefix}"`:i.format==="ends_with"?`:  "${i.suffix}"`:i.format==="includes"?`:  "${i.includes}" `:i.format==="regex"?`:  ${i.pattern}`:`: ${r[i.format]??s.format}`}case"not_multiple_of":return`:  ${s.divisor} `;case"unrecognized_keys":return`: ${Ze(s.keys,", ")}`;case"invalid_key":return` ${s.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${s.origin}`;default:return""}}};function Z2e(){return{localeError:G2e()}}const X2e=()=>{const e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function t(s){return e[s]??null}const r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Geersiz deer: beklenen instanceof ${s.expected}, alnan ${o}`:`Geersiz deer: beklenen ${i}, alnan ${o}`}case"invalid_value":return s.values.length===1?`Geersiz deer: beklenen ${zt(s.values[0])}`:`Geersiz seenek: aadakilerden biri olmal: ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`ok byk: beklenen ${s.origin??"deer"} ${i}${s.maximum.toString()} ${a.unit??"e"}`:`ok byk: beklenen ${s.origin??"deer"} ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`ok kk: beklenen ${s.origin} ${i}${s.minimum.toString()} ${a.unit}`:`ok kk: beklenen ${s.origin} ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Geersiz metin: "${i.prefix}" ile balamal`:i.format==="ends_with"?`Geersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Geersiz metin: "${i.includes}" iermeli`:i.format==="regex"?`Geersiz metin: ${i.pattern} desenine uymal`:`Geersiz ${r[i.format]??s.format}`}case"not_multiple_of":return`Geersiz say: ${s.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${s.keys.length>1?"lar":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`${s.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${s.origin} iinde geersiz deer`;default:return"Geersiz deer"}}};function Y2e(){return{localeError:X2e()}}const Q2e=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},n={nan:"NaN",number:"",array:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`  :  instanceof ${s.expected},  ${o}`:`  :  ${i},  ${o}`}case"invalid_value":return s.values.length===1?`  :  ${zt(s.values[0])}`:` :    ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` : ,  ${s.origin??""} ${a.verb} ${i}${s.maximum.toString()} ${a.unit??""}`:` : ,  ${s.origin??""}  ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` : ,  ${s.origin} ${a.verb} ${i}${s.minimum.toString()} ${a.unit}`:` : ,  ${s.origin}  ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` :    "${i.prefix}"`:i.format==="ends_with"?` :    "${i.suffix}"`:i.format==="includes"?` :   "${i.includes}"`:i.format==="regex"?` :    ${i.pattern}`:` ${r[i.format]??s.format}`}case"not_multiple_of":return` :    ${s.divisor}`;case"unrecognized_keys":return` ${s.keys.length>1?"":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`   ${s.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${s.origin}`;default:return"  "}}};function Dq(){return{localeError:Q2e()}}function J2e(){return Dq()}const eSe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},n={nan:"NaN",number:"",array:"",null:""};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`  : instanceof ${s.expected}   ${o}  `:`  : ${i}   ${o}  `}case"invalid_value":return s.values.length===1?`  : ${zt(s.values[0])}  `:` : ${Ze(s.values,"|")}     `;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` : ${s.origin??""}  ${i}${s.maximum.toString()} ${a.unit??""}   `:` : ${s.origin??""}  ${i}${s.maximum.toString()}   `}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` : ${s.origin}  ${i}${s.minimum.toString()} ${a.unit}   `:` : ${s.origin}  ${i}${s.minimum.toString()}   `}case"invalid_format":{const i=s;return i.format==="starts_with"?` : "${i.prefix}"    `:i.format==="ends_with"?` : "${i.suffix}"    `:i.format==="includes"?` : "${i.includes}"   `:i.format==="regex"?` :  ${i.pattern}    `:` ${r[i.format]??s.format}`}case"not_multiple_of":return` : ${s.divisor}    `;case"unrecognized_keys":return`   ${s.keys.length>1?"":""}: ${Ze(s.keys," ")}`;case"invalid_key":return`${s.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${s.origin}   `;default:return"  "}}};function tSe(){return{localeError:eSe()}}const rSe=()=>{const e={string:{unit:"belgi",verb:"bolishi kerak"},file:{unit:"bayt",verb:"bolishi kerak"},array:{unit:"element",verb:"bolishi kerak"},set:{unit:"element",verb:"bolishi kerak"}};function t(s){return e[s]??null}const r={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},n={nan:"NaN",number:"raqam",array:"massiv"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`Notogri kirish: kutilgan instanceof ${s.expected}, qabul qilingan ${o}`:`Notogri kirish: kutilgan ${i}, qabul qilingan ${o}`}case"invalid_value":return s.values.length===1?`Notogri kirish: kutilgan ${zt(s.values[0])}`:`Notogri variant: quyidagilardan biri kutilgan ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Juda katta: kutilgan ${s.origin??"qiymat"} ${i}${s.maximum.toString()} ${a.unit} ${a.verb}`:`Juda katta: kutilgan ${s.origin??"qiymat"} ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Juda kichik: kutilgan ${s.origin} ${i}${s.minimum.toString()} ${a.unit} ${a.verb}`:`Juda kichik: kutilgan ${s.origin} ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Notogri satr: "${i.prefix}" bilan boshlanishi kerak`:i.format==="ends_with"?`Notogri satr: "${i.suffix}" bilan tugashi kerak`:i.format==="includes"?`Notogri satr: "${i.includes}" ni oz ichiga olishi kerak`:i.format==="regex"?`Notogri satr: ${i.pattern} shabloniga mos kelishi kerak`:`Notogri ${r[i.format]??s.format}`}case"not_multiple_of":return`Notogri raqam: ${s.divisor} ning karralisi bolishi kerak`;case"unrecognized_keys":return`Nomalum kalit${s.keys.length>1?"lar":""}: ${Ze(s.keys,", ")}`;case"invalid_key":return`${s.origin} dagi kalit notogri`;case"invalid_union":return"Notogri kirish";case"invalid_element":return`${s.origin} da notogri qiymat`;default:return"Notogri kirish"}}};function nSe(){return{localeError:rSe()}}const sSe=()=>{const e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function t(s){return e[s]??null}const r={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},n={nan:"NaN",number:"s",array:"mng"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`u vo khng hp l: mong i instanceof ${s.expected}, nhn c ${o}`:`u vo khng hp l: mong i ${i}, nhn c ${o}`}case"invalid_value":return s.values.length===1?`u vo khng hp l: mong i ${zt(s.values[0])}`:`Ty chn khng hp l: mong i mt trong cc gi tr ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`Qu ln: mong i ${s.origin??"gi tr"} ${a.verb} ${i}${s.maximum.toString()} ${a.unit??"phn t"}`:`Qu ln: mong i ${s.origin??"gi tr"} ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Qu nh: mong i ${s.origin} ${a.verb} ${i}${s.minimum.toString()} ${a.unit}`:`Qu nh: mong i ${s.origin} ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`Chui khng hp l: phi bt u bng "${i.prefix}"`:i.format==="ends_with"?`Chui khng hp l: phi kt thc bng "${i.suffix}"`:i.format==="includes"?`Chui khng hp l: phi bao gm "${i.includes}"`:i.format==="regex"?`Chui khng hp l: phi khp vi mu ${i.pattern}`:`${r[i.format]??s.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${s.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${Ze(s.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${s.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${s.origin}`;default:return"u vo khng hp l"}}};function iSe(){return{localeError:sSe()}}const aSe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:"",null:"(null)"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` instanceof ${s.expected} ${o}`:` ${i} ${o}`}case"invalid_value":return s.values.length===1?` ${zt(s.values[0])}`:` ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` ${s.origin??""} ${i}${s.maximum.toString()} ${a.unit??""}`:` ${s.origin??""} ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` ${s.origin} ${i}${s.minimum.toString()} ${a.unit}`:` ${s.origin} ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` "${i.prefix}" `:i.format==="ends_with"?` "${i.suffix}" `:i.format==="includes"?` "${i.includes}"`:i.format==="regex"?` ${i.pattern}`:`${r[i.format]??s.format}`}case"not_multiple_of":return` ${s.divisor} `;case"unrecognized_keys":return`(key): ${Ze(s.keys,", ")}`;case"invalid_key":return`${s.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${s.origin} (value)`;default:return""}}};function oSe(){return{localeError:aSe()}}const lSe=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(s){return e[s]??null}const r={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?` instanceof ${s.expected} ${o}`:` ${i} ${o}`}case"invalid_value":return s.values.length===1?` ${zt(s.values[0])}`:` ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?` ${s.origin??""}  ${i}${s.maximum.toString()} ${a.unit??""}`:` ${s.origin??""}  ${i}${s.maximum.toString()}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?` ${s.origin}  ${i}${s.minimum.toString()} ${a.unit}`:` ${s.origin}  ${i}${s.minimum.toString()}`}case"invalid_format":{const i=s;return i.format==="starts_with"?` "${i.prefix}" `:i.format==="ends_with"?` "${i.suffix}" `:i.format==="includes"?` "${i.includes}"`:i.format==="regex"?` ${i.pattern}`:` ${r[i.format]??s.format}`}case"not_multiple_of":return` ${s.divisor} `;case"unrecognized_keys":return`${s.keys.length>1?"":""}${Ze(s.keys,"")}`;case"invalid_key":return`${s.origin} `;case"invalid_union":return"";case"invalid_element":return`${s.origin} `;default:return""}}};function cSe(){return{localeError:lSe()}}const uSe=()=>{const e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function t(s){return e[s]??null}const r={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},n={nan:"NaN",number:"nmb",array:"akop"};return s=>{switch(s.code){case"invalid_type":{const i=n[s.expected]??s.expected,a=Gt(s.input),o=n[a]??a;return/^[A-Z]/.test(s.expected)?`bwl ae: a n lti fi instanceof ${s.expected}, m a r ${o}`:`bwl ae: a n lti fi ${i}, m a r ${o}`}case"invalid_value":return s.values.length===1?`bwl ae: a n lti fi ${zt(s.values[0])}`:`yn ae: yan kan lra ${Ze(s.values,"|")}`;case"too_big":{const i=s.inclusive?"<=":"<",a=t(s.origin);return a?`T p j: a n lti j p ${s.origin??"iye"} ${a.verb} ${i}${s.maximum} ${a.unit}`:`T p j: a n lti j ${i}${s.maximum}`}case"too_small":{const i=s.inclusive?">=":">",a=t(s.origin);return a?`Kr ju: a n lti j p ${s.origin} ${a.verb} ${i}${s.minimum} ${a.unit}`:`Kr ju: a n lti j ${i}${s.minimum}`}case"invalid_format":{const i=s;return i.format==="starts_with"?`r ae: gbd br pl "${i.prefix}"`:i.format==="ends_with"?`r ae: gbd par pl "${i.suffix}"`:i.format==="includes"?`r ae: gbd n "${i.includes}"`:i.format==="regex"?`r ae: gbd b pr mu ${i.pattern}`:`Ae: ${r[i.format]??s.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${s.divisor}`;case"unrecognized_keys":return`Btn m: ${Ze(s.keys,", ")}`;case"invalid_key":return`Btn ae nn ${s.origin}`;case"invalid_union":return"bwl ae";case"invalid_element":return`Iye ae nn ${s.origin}`;default:return"bwl ae"}}};function dSe(){return{localeError:uSe()}}const $q=Object.freeze(Object.defineProperty({__proto__:null,ar:E_e,az:A_e,be:I_e,bg:O_e,ca:D_e,cs:L_e,da:z_e,de:U_e,en:Oq,eo:q_e,es:K_e,fa:Z_e,fi:Y_e,fr:J_e,frCA:t2e,he:n2e,hu:i2e,hy:o2e,id:c2e,is:d2e,it:h2e,ja:m2e,ka:y2e,kh:v2e,km:Mq,ko:w2e,lt:S2e,mk:j2e,ms:T2e,nl:C2e,no:P2e,ota:R2e,pl:$2e,ps:M2e,pt:F2e,ru:B2e,sl:V2e,sv:q2e,ta:K2e,th:Z2e,tr:Y2e,ua:J2e,uk:Dq,ur:tSe,uz:nSe,vi:iSe,yo:dSe,zhCN:oSe,zhTW:cSe},Symbol.toStringTag,{value:"Module"}));var BP;const Lq=Symbol("ZodOutput"),Fq=Symbol("ZodInput");class zq{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function wT(){return new zq}(BP=globalThis).__zod_globalRegistry??(BP.__zod_globalRegistry=wT());const La=globalThis.__zod_globalRegistry;function Bq(e,t){return new e({type:"string",...Be(t)})}function Uq(e,t){return new e({type:"string",coerce:!0,...Be(t)})}function _T(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Be(t)})}function hx(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Be(t)})}function ST(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Be(t)})}function kT(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Be(t)})}function jT(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Be(t)})}function NT(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Be(t)})}function L1(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Be(t)})}function TT(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Be(t)})}function ET(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Be(t)})}function CT(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Be(t)})}function AT(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Be(t)})}function PT(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Be(t)})}function IT(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Be(t)})}function RT(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Be(t)})}function OT(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Be(t)})}function MT(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Be(t)})}function Vq(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...Be(t)})}function DT(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Be(t)})}function $T(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Be(t)})}function LT(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Be(t)})}function FT(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Be(t)})}function zT(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Be(t)})}function BT(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Be(t)})}const Wq={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function qq(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Be(t)})}function Hq(e,t){return new e({type:"string",format:"date",check:"string_format",...Be(t)})}function Kq(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Be(t)})}function Gq(e,t){return new e({type:"string",format:"duration",check:"string_format",...Be(t)})}function Zq(e,t){return new e({type:"number",checks:[],...Be(t)})}function Xq(e,t){return new e({type:"number",coerce:!0,checks:[],...Be(t)})}function Yq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Be(t)})}function Qq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...Be(t)})}function Jq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...Be(t)})}function eH(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...Be(t)})}function tH(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...Be(t)})}function rH(e,t){return new e({type:"boolean",...Be(t)})}function nH(e,t){return new e({type:"boolean",coerce:!0,...Be(t)})}function sH(e,t){return new e({type:"bigint",...Be(t)})}function iH(e,t){return new e({type:"bigint",coerce:!0,...Be(t)})}function aH(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...Be(t)})}function oH(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...Be(t)})}function lH(e,t){return new e({type:"symbol",...Be(t)})}function cH(e,t){return new e({type:"undefined",...Be(t)})}function uH(e,t){return new e({type:"null",...Be(t)})}function dH(e){return new e({type:"any"})}function fH(e){return new e({type:"unknown"})}function hH(e,t){return new e({type:"never",...Be(t)})}function pH(e,t){return new e({type:"void",...Be(t)})}function mH(e,t){return new e({type:"date",...Be(t)})}function gH(e,t){return new e({type:"date",coerce:!0,...Be(t)})}function yH(e,t){return new e({type:"nan",...Be(t)})}function pu(e,t){return new fT({check:"less_than",...Be(t),value:e,inclusive:!1})}function za(e,t){return new fT({check:"less_than",...Be(t),value:e,inclusive:!0})}function mu(e,t){return new hT({check:"greater_than",...Be(t),value:e,inclusive:!1})}function $i(e,t){return new hT({check:"greater_than",...Be(t),value:e,inclusive:!0})}function UT(e){return mu(0,e)}function VT(e){return pu(0,e)}function WT(e){return za(0,e)}function qT(e){return $i(0,e)}function Gh(e,t){return new tW({check:"multiple_of",...Be(t),value:e})}function _p(e,t){return new sW({check:"max_size",...Be(t),maximum:e})}function gu(e,t){return new iW({check:"min_size",...Be(t),minimum:e})}function z0(e,t){return new aW({check:"size_equals",...Be(t),size:e})}function B0(e,t){return new oW({check:"max_length",...Be(t),maximum:e})}function Ld(e,t){return new lW({check:"min_length",...Be(t),minimum:e})}function U0(e,t){return new cW({check:"length_equals",...Be(t),length:e})}function F1(e,t){return new uW({check:"string_format",format:"regex",...Be(t),pattern:e})}function z1(e){return new dW({check:"string_format",format:"lowercase",...Be(e)})}function B1(e){return new fW({check:"string_format",format:"uppercase",...Be(e)})}function U1(e,t){return new hW({check:"string_format",format:"includes",...Be(t),includes:e})}function V1(e,t){return new pW({check:"string_format",format:"starts_with",...Be(t),prefix:e})}function W1(e,t){return new mW({check:"string_format",format:"ends_with",...Be(t),suffix:e})}function HT(e,t,r){return new gW({check:"property",property:e,schema:t,...Be(r)})}function q1(e,t){return new yW({check:"mime_type",mime:e,...Be(t)})}function ic(e){return new bW({check:"overwrite",tx:e})}function H1(e){return ic(t=>t.normalize(e))}function K1(){return ic(e=>e.trim())}function G1(){return ic(e=>e.toLowerCase())}function Z1(){return ic(e=>e.toUpperCase())}function X1(){return ic(e=>QU(e))}function bH(e,t,r){return new e({type:"array",element:t,...Be(r)})}function fSe(e,t,r){return new e({type:"union",options:t,...Be(r)})}function hSe(e,t,r){return new e({type:"union",options:t,inclusive:!1,...Be(r)})}function pSe(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...Be(n)})}function mSe(e,t,r){return new e({type:"intersection",left:t,right:r})}function gSe(e,t,r,n){const s=r instanceof rr,i=s?n:r,a=s?r:null;return new e({type:"tuple",items:t,rest:a,...Be(i)})}function ySe(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...Be(n)})}function bSe(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...Be(n)})}function vSe(e,t,r){return new e({type:"set",valueType:t,...Be(r)})}function xSe(e,t,r){const n=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new e({type:"enum",entries:n,...Be(r)})}function wSe(e,t,r){return new e({type:"enum",entries:t,...Be(r)})}function _Se(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...Be(r)})}function vH(e,t){return new e({type:"file",...Be(t)})}function SSe(e,t){return new e({type:"transform",transform:t})}function kSe(e,t){return new e({type:"optional",innerType:t})}function jSe(e,t){return new e({type:"nullable",innerType:t})}function NSe(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return typeof r=="function"?r():O1(r)}})}function TSe(e,t,r){return new e({type:"nonoptional",innerType:t,...Be(r)})}function ESe(e,t){return new e({type:"success",innerType:t})}function CSe(e,t,r){return new e({type:"catch",innerType:t,catchValue:typeof r=="function"?r:()=>r})}function ASe(e,t,r){return new e({type:"pipe",in:t,out:r})}function PSe(e,t){return new e({type:"readonly",innerType:t})}function ISe(e,t,r){return new e({type:"template_literal",parts:t,...Be(r)})}function RSe(e,t){return new e({type:"lazy",getter:t})}function OSe(e,t){return new e({type:"promise",innerType:t})}function xH(e,t,r){const n=Be(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function wH(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Be(r)})}function _H(e){const t=SH(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Hh(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(Hh(s))}},e(r.value,r)));return t}function SH(e,t){const r=new Sn({check:"custom",...Be(t)});return r._zod.check=e,r}function kH(e){const t=new Sn({check:"describe"});return t._zod.onattach=[r=>{const n=La.get(r)??{};La.add(r,{...n,description:e})}],t._zod.check=()=>{},t}function jH(e){const t=new Sn({check:"meta"});return t._zod.onattach=[r=>{const n=La.get(r)??{};La.add(r,{...n,...e})}],t._zod.check=()=>{},t}function NH(e,t){const r=Be(t);let n=r.truthy??["true","1","yes","on","y","enabled"],s=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(p=>typeof p=="string"?p.toLowerCase():p),s=s.map(p=>typeof p=="string"?p.toLowerCase():p));const i=new Set(n),a=new Set(s),o=e.Codec??xT,u=e.Boolean??gT,l=e.String??F0,d=new l({type:"string",error:r.error}),h=new u({type:"boolean",error:r.error}),f=new o({type:"pipe",in:d,out:h,transform:((p,g)=>{let y=p;return r.case!=="sensitive"&&(y=y.toLowerCase()),i.has(y)?!0:a.has(y)?!1:(g.issues.push({code:"invalid_value",expected:"stringbool",values:[...i,...a],input:g.value,inst:f,continue:!1}),{})}),reverseTransform:((p,g)=>p===!0?n[0]||"true":s[0]||"false"),error:r.error});return f}function V0(e,t,r,n={}){const s=Be(n),i={...Be(n),check:"string_format",type:"string",format:t,fn:typeof r=="function"?r:o=>r.test(o),...s};return r instanceof RegExp&&(i.pattern=r),new e(i)}function Zh(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??La,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Yr(e,t,r={path:[],schemaPath:[]}){var n;const s=e._zod.def,i=t.seen.get(e);if(i)return i.count++,r.schemaPath.includes(e)&&(i.cycle=r.path),i.schema;const a={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,a);const o=e._zod.toJSONSchema?.();if(o)a.schema=o;else{const d={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,d);else{const f=a.schema,p=t.processors[s.type];if(!p)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);p(e,t,f,d)}const h=e._zod.parent;h&&(a.ref||(a.ref=h),Yr(h,t,d),t.seen.get(h).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(a.schema,u),t.io==="input"&&hi(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((n=a.schema).default??(n.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function Xh(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const a of e.seen.entries()){const o=e.metadataRegistry.get(a[0])?.id;if(o){const u=n.get(o);if(u&&u!==a[0])throw new Error(`Duplicate schema id "${o}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(o,a[0])}}const s=a=>{const o=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const h=e.external.registry.get(a[0])?.id,f=e.external.uri??(g=>g);if(h)return{ref:f(h)};const p=a[1].defId??a[1].schema.id??`schema${e.counter++}`;return a[1].defId=p,{defId:p,ref:`${f("__shared")}#/${o}/${p}`}}if(a[1]===r)return{ref:"#"};const l=`#/${o}/`,d=a[1].schema.id??`__schema${e.counter++}`;return{defId:d,ref:l+d}},i=a=>{if(a[1].schema.$ref)return;const o=a[1],{ref:u,defId:l}=s(a);o.def={...o.schema},l&&(o.defId=l);const d=o.schema;for(const h in d)delete d[h];d.$ref=u};if(e.cycles==="throw")for(const a of e.seen.entries()){const o=a[1];if(o.cycle)throw new Error(`Cycle detected: #/${o.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of e.seen.entries()){const o=a[1];if(t===a[0]){i(a);continue}if(e.external){const l=e.external.registry.get(a[0])?.id;if(t!==a[0]&&l){i(a);continue}}if(e.metadataRegistry.get(a[0])?.id){i(a);continue}if(o.cycle){i(a);continue}if(o.count>1&&e.reused==="ref"){i(a);continue}}}function Yh(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=a=>{const o=e.seen.get(a);if(o.ref===null)return;const u=o.def??o.schema,l={...u},d=o.ref;if(o.ref=null,d){n(d);const f=e.seen.get(d),p=f.schema;if(p.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(p)):Object.assign(u,p),Object.assign(u,l),a._zod.parent===d)for(const y in u)y==="$ref"||y==="allOf"||y in l||delete u[y];if(p.$ref&&f.def)for(const y in u)y==="$ref"||y==="allOf"||y in f.def&&JSON.stringify(u[y])===JSON.stringify(f.def[y])&&delete u[y]}const h=a._zod.parent;if(h&&h!==d){n(h);const f=e.seen.get(h);if(f?.schema.$ref&&(u.$ref=f.schema.$ref,f.def))for(const p in u)p==="$ref"||p==="allOf"||p in f.def&&JSON.stringify(u[p])===JSON.stringify(f.def[p])&&delete u[p]}e.override({zodSchema:a,jsonSchema:u,path:o.path??[]})};for(const a of[...e.seen.entries()].reverse())n(a[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const a=e.external.registry.get(t)?.id;if(!a)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(a)}Object.assign(s,r.def??r.schema);const i=e.external?.defs??{};for(const a of e.seen.entries()){const o=a[1];o.def&&o.defId&&(i[o.defId]=o.def)}e.external||Object.keys(i).length>0&&(e.target==="draft-2020-12"?s.$defs=i:s.definitions=i);try{const a=JSON.parse(JSON.stringify(s));return Object.defineProperty(a,"~standard",{value:{...t["~standard"],jsonSchema:{input:Rg(t,"input",e.processors),output:Rg(t,"output",e.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function hi(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return hi(n.element,r);if(n.type==="set")return hi(n.valueType,r);if(n.type==="lazy")return hi(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return hi(n.innerType,r);if(n.type==="intersection")return hi(n.left,r)||hi(n.right,r);if(n.type==="record"||n.type==="map")return hi(n.keyType,r)||hi(n.valueType,r);if(n.type==="pipe")return hi(n.in,r)||hi(n.out,r);if(n.type==="object"){for(const s in n.shape)if(hi(n.shape[s],r))return!0;return!1}if(n.type==="union"){for(const s of n.options)if(hi(s,r))return!0;return!1}if(n.type==="tuple"){for(const s of n.items)if(hi(s,r))return!0;return!!(n.rest&&hi(n.rest,r))}return!1}const TH=(e,t={})=>r=>{const n=Zh({...r,processors:t});return Yr(e,n),Xh(n,e),Yh(n,e)},Rg=(e,t,r={})=>n=>{const{libraryOptions:s,target:i}=n??{},a=Zh({...s??{},target:i,io:t,processors:r});return Yr(e,a),Xh(a,e),Yh(a,e)},MSe={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},EH=(e,t,r,n)=>{const s=r;s.type="string";const{minimum:i,maximum:a,format:o,patterns:u,contentEncoding:l}=e._zod.bag;if(typeof i=="number"&&(s.minLength=i),typeof a=="number"&&(s.maxLength=a),o&&(s.format=MSe[o]??o,s.format===""&&delete s.format,o==="time"&&delete s.format),l&&(s.contentEncoding=l),u&&u.size>0){const d=[...u];d.length===1?s.pattern=d[0].source:d.length>1&&(s.allOf=[...d.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},CH=(e,t,r,n)=>{const s=r,{minimum:i,maximum:a,format:o,multipleOf:u,exclusiveMaximum:l,exclusiveMinimum:d}=e._zod.bag;typeof o=="string"&&o.includes("int")?s.type="integer":s.type="number",typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=d,s.exclusiveMinimum=!0):s.exclusiveMinimum=d),typeof i=="number"&&(s.minimum=i,typeof d=="number"&&t.target!=="draft-04"&&(d>=i?delete s.minimum:delete s.exclusiveMinimum)),typeof l=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=l,s.exclusiveMaximum=!0):s.exclusiveMaximum=l),typeof a=="number"&&(s.maximum=a,typeof l=="number"&&t.target!=="draft-04"&&(l<=a?delete s.maximum:delete s.exclusiveMaximum)),typeof u=="number"&&(s.multipleOf=u)},AH=(e,t,r,n)=>{r.type="boolean"},PH=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},IH=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},RH=(e,t,r,n)=>{t.target==="openapi-3.0"?(r.type="string",r.nullable=!0,r.enum=[null]):r.type="null"},OH=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},MH=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},DH=(e,t,r,n)=>{r.not={}},$H=(e,t,r,n)=>{},LH=(e,t,r,n)=>{},FH=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},zH=(e,t,r,n)=>{const s=e._zod.def,i=X3(s.entries);i.every(a=>typeof a=="number")&&(r.type="number"),i.every(a=>typeof a=="string")&&(r.type="string"),r.enum=i},BH=(e,t,r,n)=>{const s=e._zod.def,i=[];for(const a of s.values)if(a===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof a=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(a))}else i.push(a);if(i.length!==0)if(i.length===1){const a=i[0];r.type=a===null?"null":typeof a,t.target==="draft-04"||t.target==="openapi-3.0"?r.enum=[a]:r.const=a}else i.every(a=>typeof a=="number")&&(r.type="number"),i.every(a=>typeof a=="string")&&(r.type="string"),i.every(a=>typeof a=="boolean")&&(r.type="boolean"),i.every(a=>a===null)&&(r.type="null"),r.enum=i},UH=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},VH=(e,t,r,n)=>{const s=r,i=e._zod.pattern;if(!i)throw new Error("Pattern not found in template literal");s.type="string",s.pattern=i.source},WH=(e,t,r,n)=>{const s=r,i={type:"string",format:"binary",contentEncoding:"binary"},{minimum:a,maximum:o,mime:u}=e._zod.bag;a!==void 0&&(i.minLength=a),o!==void 0&&(i.maxLength=o),u?u.length===1?(i.contentMediaType=u[0],Object.assign(s,i)):(Object.assign(s,i),s.anyOf=u.map(l=>({contentMediaType:l}))):Object.assign(s,i)},qH=(e,t,r,n)=>{r.type="boolean"},HH=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},KH=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},GH=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},ZH=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},XH=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},YH=(e,t,r,n)=>{const s=r,i=e._zod.def,{minimum:a,maximum:o}=e._zod.bag;typeof a=="number"&&(s.minItems=a),typeof o=="number"&&(s.maxItems=o),s.type="array",s.items=Yr(i.element,t,{...n,path:[...n.path,"items"]})},QH=(e,t,r,n)=>{const s=r,i=e._zod.def;s.type="object",s.properties={};const a=i.shape;for(const l in a)s.properties[l]=Yr(a[l],t,{...n,path:[...n.path,"properties",l]});const o=new Set(Object.keys(a)),u=new Set([...o].filter(l=>{const d=i.shape[l]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));u.size>0&&(s.required=Array.from(u)),i.catchall?._zod.def.type==="never"?s.additionalProperties=!1:i.catchall?i.catchall&&(s.additionalProperties=Yr(i.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},KT=(e,t,r,n)=>{const s=e._zod.def,i=s.inclusive===!1,a=s.options.map((o,u)=>Yr(o,t,{...n,path:[...n.path,i?"oneOf":"anyOf",u]}));i?r.oneOf=a:r.anyOf=a},JH=(e,t,r,n)=>{const s=e._zod.def,i=Yr(s.left,t,{...n,path:[...n.path,"allOf",0]}),a=Yr(s.right,t,{...n,path:[...n.path,"allOf",1]}),o=l=>"allOf"in l&&Object.keys(l).length===1,u=[...o(i)?i.allOf:[i],...o(a)?a.allOf:[a]];r.allOf=u},eK=(e,t,r,n)=>{const s=r,i=e._zod.def;s.type="array";const a=t.target==="draft-2020-12"?"prefixItems":"items",o=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",u=i.items.map((f,p)=>Yr(f,t,{...n,path:[...n.path,a,p]})),l=i.rest?Yr(i.rest,t,{...n,path:[...n.path,o,...t.target==="openapi-3.0"?[i.items.length]:[]]}):null;t.target==="draft-2020-12"?(s.prefixItems=u,l&&(s.items=l)):t.target==="openapi-3.0"?(s.items={anyOf:u},l&&s.items.anyOf.push(l),s.minItems=u.length,l||(s.maxItems=u.length)):(s.items=u,l&&(s.additionalItems=l));const{minimum:d,maximum:h}=e._zod.bag;typeof d=="number"&&(s.minItems=d),typeof h=="number"&&(s.maxItems=h)},tK=(e,t,r,n)=>{const s=r,i=e._zod.def;s.type="object";const a=i.keyType,u=a._zod.bag?.patterns;if(i.mode==="loose"&&u&&u.size>0){const d=Yr(i.valueType,t,{...n,path:[...n.path,"patternProperties","*"]});s.patternProperties={};for(const h of u)s.patternProperties[h.source]=d}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(s.propertyNames=Yr(i.keyType,t,{...n,path:[...n.path,"propertyNames"]})),s.additionalProperties=Yr(i.valueType,t,{...n,path:[...n.path,"additionalProperties"]});const l=a._zod.values;if(l){const d=[...l].filter(h=>typeof h=="string"||typeof h=="number");d.length>0&&(s.required=d)}},rK=(e,t,r,n)=>{const s=e._zod.def,i=Yr(s.innerType,t,n),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=s.innerType,r.nullable=!0):r.anyOf=[i,{type:"null"}]},nK=(e,t,r,n)=>{const s=e._zod.def;Yr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType},sK=(e,t,r,n)=>{const s=e._zod.def;Yr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType,r.default=JSON.parse(JSON.stringify(s.defaultValue))},iK=(e,t,r,n)=>{const s=e._zod.def;Yr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},aK=(e,t,r,n)=>{const s=e._zod.def;Yr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType;let a;try{a=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=a},oK=(e,t,r,n)=>{const s=e._zod.def,i=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;Yr(i,t,n);const a=t.seen.get(e);a.ref=i},lK=(e,t,r,n)=>{const s=e._zod.def;Yr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType,r.readOnly=!0},cK=(e,t,r,n)=>{const s=e._zod.def;Yr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType},GT=(e,t,r,n)=>{const s=e._zod.def;Yr(s.innerType,t,n);const i=t.seen.get(e);i.ref=s.innerType},uK=(e,t,r,n)=>{const s=e._zod.innerType;Yr(s,t,n);const i=t.seen.get(e);i.ref=s},W4={string:EH,number:CH,boolean:AH,bigint:PH,symbol:IH,null:RH,undefined:OH,void:MH,never:DH,any:$H,unknown:LH,date:FH,enum:zH,literal:BH,nan:UH,template_literal:VH,file:WH,success:qH,custom:HH,function:KH,transform:GH,map:ZH,set:XH,array:YH,object:QH,union:KT,intersection:JH,tuple:eK,record:tK,nullable:rK,nonoptional:nK,default:sK,prefault:iK,catch:aK,pipe:oK,readonly:lK,promise:cK,optional:GT,lazy:uK};function dK(e,t){if("_idmap"in e){const n=e,s=Zh({...t,processors:W4}),i={};for(const u of n._idmap.entries()){const[l,d]=u;Yr(d,s)}const a={},o={registry:n,uri:t?.uri,defs:i};s.external=o;for(const u of n._idmap.entries()){const[l,d]=u;Xh(s,d),a[l]=Yh(s,d)}if(Object.keys(i).length>0){const u=s.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[u]:i}}return{schemas:a}}const r=Zh({...t,processors:W4});return Yr(e,r),Xh(r,e),Yh(r,e)}class DSe{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(t){this.ctx.counter=t}get seen(){return this.ctx.seen}constructor(t){let r=t?.target??"draft-2020-12";r==="draft-4"&&(r="draft-04"),r==="draft-7"&&(r="draft-07"),this.ctx=Zh({processors:W4,target:r,...t?.metadata&&{metadata:t.metadata},...t?.unrepresentable&&{unrepresentable:t.unrepresentable},...t?.override&&{override:t.override},...t?.io&&{io:t.io}})}process(t,r={path:[],schemaPath:[]}){return Yr(t,this.ctx,r)}emit(t,r){r&&(r.cycles&&(this.ctx.cycles=r.cycles),r.reused&&(this.ctx.reused=r.reused),r.external&&(this.ctx.external=r.external)),Xh(this.ctx,t);const n=Yh(this.ctx,t),{"~standard":s,...i}=n;return i}}const $Se=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),LSe=Object.freeze(Object.defineProperty({__proto__:null,$ZodAny:JW,$ZodArray:sq,$ZodAsyncError:_d,$ZodBase64:BW,$ZodBase64URL:VW,$ZodBigInt:yT,$ZodBigIntFormat:ZW,$ZodBoolean:gT,$ZodCIDRv4:FW,$ZodCIDRv6:zW,$ZodCUID:TW,$ZodCUID2:EW,$ZodCatch:jq,$ZodCheck:Sn,$ZodCheckBigIntFormat:nW,$ZodCheckEndsWith:mW,$ZodCheckGreaterThan:hT,$ZodCheckIncludes:hW,$ZodCheckLengthEquals:cW,$ZodCheckLessThan:fT,$ZodCheckLowerCase:dW,$ZodCheckMaxLength:oW,$ZodCheckMaxSize:sW,$ZodCheckMimeType:yW,$ZodCheckMinLength:lW,$ZodCheckMinSize:iW,$ZodCheckMultipleOf:tW,$ZodCheckNumberFormat:rW,$ZodCheckOverwrite:bW,$ZodCheckProperty:gW,$ZodCheckRegex:uW,$ZodCheckSizeEquals:aW,$ZodCheckStartsWith:pW,$ZodCheckStringFormat:L0,$ZodCheckUpperCase:fW,$ZodCodec:xT,$ZodCustom:Rq,$ZodCustomStringFormat:KW,$ZodDate:nq,$ZodDefault:wq,$ZodDiscriminatedUnion:uq,$ZodE164:WW,$ZodEmail:SW,$ZodEmoji:jW,$ZodEncodeError:I1,$ZodEnum:mq,$ZodError:Q3,$ZodExactOptional:vq,$ZodFile:yq,$ZodFunction:Aq,$ZodGUID:wW,$ZodIPv4:DW,$ZodIPv6:$W,$ZodISODate:RW,$ZodISODateTime:IW,$ZodISODuration:MW,$ZodISOTime:OW,$ZodIntersection:dq,$ZodJWT:HW,$ZodKSUID:PW,$ZodLazy:Iq,$ZodLiteral:gq,$ZodMAC:LW,$ZodMap:hq,$ZodNaN:Nq,$ZodNanoID:NW,$ZodNever:tq,$ZodNonOptional:Sq,$ZodNull:QW,$ZodNullable:xq,$ZodNumber:mT,$ZodNumberFormat:GW,$ZodObject:oq,$ZodObjectJIT:lq,$ZodOptional:vT,$ZodPipe:Tq,$ZodPrefault:_q,$ZodPromise:Pq,$ZodReadonly:Eq,$ZodRealError:ha,$ZodRecord:fq,$ZodRegistry:zq,$ZodSet:pq,$ZodString:F0,$ZodStringFormat:tn,$ZodSuccess:kq,$ZodSymbol:XW,$ZodTemplateLiteral:Cq,$ZodTransform:bq,$ZodTuple:bT,$ZodType:rr,$ZodULID:CW,$ZodURL:kW,$ZodUUID:_W,$ZodUndefined:YW,$ZodUnion:$1,$ZodUnknown:eq,$ZodVoid:rq,$ZodXID:AW,$ZodXor:cq,$brand:XU,$constructor:je,$input:Fq,$output:Lq,Doc:vW,JSONSchema:$Se,JSONSchemaGenerator:DSe,NEVER:ZU,TimePrecision:Wq,_any:dH,_array:bH,_base64:LT,_base64url:FT,_bigint:sH,_boolean:rH,_catch:CSe,_check:SH,_cidrv4:DT,_cidrv6:$T,_coercedBigint:iH,_coercedBoolean:nH,_coercedDate:gH,_coercedNumber:Xq,_coercedString:Uq,_cuid:CT,_cuid2:AT,_custom:xH,_date:mH,_decode:rT,_decodeAsync:sT,_default:NSe,_discriminatedUnion:pSe,_e164:zT,_email:_T,_emoji:TT,_encode:tT,_encodeAsync:nT,_endsWith:W1,_enum:xSe,_file:vH,_float32:Qq,_float64:Jq,_gt:mu,_gte:$i,_guid:hx,_includes:U1,_int:Yq,_int32:eH,_int64:aH,_intersection:mSe,_ipv4:OT,_ipv6:MT,_isoDate:Hq,_isoDateTime:qq,_isoDuration:Gq,_isoTime:Kq,_jwt:BT,_ksuid:RT,_lazy:RSe,_length:U0,_literal:_Se,_lowercase:z1,_lt:pu,_lte:za,_mac:Vq,_map:bSe,_max:za,_maxLength:B0,_maxSize:_p,_mime:q1,_min:$i,_minLength:Ld,_minSize:gu,_multipleOf:Gh,_nan:yH,_nanoid:ET,_nativeEnum:wSe,_negative:VT,_never:hH,_nonnegative:qT,_nonoptional:TSe,_nonpositive:WT,_normalize:H1,_null:uH,_nullable:jSe,_number:Zq,_optional:kSe,_overwrite:ic,_parse:I0,_parseAsync:R0,_pipe:ASe,_positive:UT,_promise:OSe,_property:HT,_readonly:PSe,_record:ySe,_refine:wH,_regex:F1,_safeDecode:aT,_safeDecodeAsync:lT,_safeEncode:iT,_safeEncodeAsync:oT,_safeParse:O0,_safeParseAsync:M0,_set:vSe,_size:z0,_slugify:X1,_startsWith:V1,_string:Bq,_stringFormat:V0,_stringbool:NH,_success:ESe,_superRefine:_H,_symbol:lH,_templateLiteral:ISe,_toLowerCase:G1,_toUpperCase:Z1,_transform:SSe,_trim:K1,_tuple:gSe,_uint32:tH,_uint64:oH,_ulid:PT,_undefined:cH,_union:fSe,_unknown:fH,_uppercase:B1,_url:L1,_uuid:ST,_uuidv4:kT,_uuidv6:jT,_uuidv7:NT,_void:pH,_xid:IT,_xor:hSe,clone:Xa,config:di,createStandardJSONSchemaMethod:Rg,createToJSONSchemaMethod:TH,decode:Xwe,decodeAsync:Qwe,describe:kH,encode:Zwe,encodeAsync:Ywe,extractDefs:Xh,finalize:Yh,flattenError:J3,formatError:eT,globalConfig:cx,globalRegistry:La,initializeContext:Zh,isValidBase64:pT,isValidBase64URL:UW,isValidJWT:qW,locales:$q,meta:jH,parse:B4,parseAsync:U4,prettifyError:yV,process:Yr,regexes:dT,registry:wT,safeDecode:e_e,safeDecodeAsync:r_e,safeEncode:Jwe,safeEncodeAsync:t_e,safeParse:bV,safeParseAsync:vV,toDotPath:gV,toJSONSchema:dK,treeifyError:mV,util:hV,version:xW},Symbol.toStringTag,{value:"Module"})),FSe=Object.freeze(Object.defineProperty({__proto__:null,endsWith:W1,gt:mu,gte:$i,includes:U1,length:U0,lowercase:z1,lt:pu,lte:za,maxLength:B0,maxSize:_p,mime:q1,minLength:Ld,minSize:gu,multipleOf:Gh,negative:VT,nonnegative:qT,nonpositive:WT,normalize:H1,overwrite:ic,positive:UT,property:HT,regex:F1,size:z0,slugify:X1,startsWith:V1,toLowerCase:G1,toUpperCase:Z1,trim:K1,uppercase:B1},Symbol.toStringTag,{value:"Module"})),ZT=je("ZodISODateTime",(e,t)=>{IW.init(e,t),rn.init(e,t)});function fK(e){return qq(ZT,e)}const XT=je("ZodISODate",(e,t)=>{RW.init(e,t),rn.init(e,t)});function hK(e){return Hq(XT,e)}const YT=je("ZodISOTime",(e,t)=>{OW.init(e,t),rn.init(e,t)});function pK(e){return Kq(YT,e)}const QT=je("ZodISODuration",(e,t)=>{MW.init(e,t),rn.init(e,t)});function mK(e){return Gq(QT,e)}const gK=Object.freeze(Object.defineProperty({__proto__:null,ZodISODate:XT,ZodISODateTime:ZT,ZodISODuration:QT,ZodISOTime:YT,date:hK,datetime:fK,duration:mK,time:pK},Symbol.toStringTag,{value:"Module"})),yK=(e,t)=>{Q3.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>eT(e,r)},flatten:{value:r=>J3(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,ux,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,ux,2)}},isEmpty:{get(){return e.issues.length===0}}})},zSe=je("ZodError",yK),pa=je("ZodError",yK,{Parent:Error}),bK=I0(pa),vK=R0(pa),xK=O0(pa),wK=M0(pa),_K=tT(pa),SK=rT(pa),kK=nT(pa),jK=sT(pa),NK=iT(pa),TK=aT(pa),EK=oT(pa),CK=lT(pa),lr=je("ZodType",(e,t)=>(rr.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Rg(e,"input"),output:Rg(e,"output")}}),e.toJSONSchema=TH(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(cl(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>Xa(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>bK(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>xK(e,r,n),e.parseAsync=async(r,n)=>vK(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>wK(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>_K(e,r,n),e.decode=(r,n)=>SK(e,r,n),e.encodeAsync=async(r,n)=>kK(e,r,n),e.decodeAsync=async(r,n)=>jK(e,r,n),e.safeEncode=(r,n)=>NK(e,r,n),e.safeDecode=(r,n)=>TK(e,r,n),e.safeEncodeAsync=async(r,n)=>EK(e,r,n),e.safeDecodeAsync=async(r,n)=>CK(e,r,n),e.refine=(r,n)=>e.check(FE(r,n)),e.superRefine=r=>e.check(zE(r)),e.overwrite=r=>e.check(ic(r)),e.optional=()=>$g(e),e.exactOptional=()=>xE(e),e.nullable=()=>Lg(e),e.nullish=()=>$g(Lg(e)),e.nonoptional=r=>NE(e,r),e.array=()=>kp(e),e.or=r=>jp([e,r]),e.and=r=>dE(e,r),e.transform=r=>Fg(e,xw(r)),e.default=r=>SE(e,r),e.prefault=r=>jE(e,r),e.catch=r=>CE(e,r),e.pipe=r=>Fg(e,r),e.readonly=()=>IE(e),e.describe=r=>{const n=e.clone();return La.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return La.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return La.get(e);const n=e.clone();return La.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),Y1=je("_ZodString",(e,t)=>{F0.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(n,s,i)=>EH(e,n,s);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(F1(...n)),e.includes=(...n)=>e.check(U1(...n)),e.startsWith=(...n)=>e.check(V1(...n)),e.endsWith=(...n)=>e.check(W1(...n)),e.min=(...n)=>e.check(Ld(...n)),e.max=(...n)=>e.check(B0(...n)),e.length=(...n)=>e.check(U0(...n)),e.nonempty=(...n)=>e.check(Ld(1,...n)),e.lowercase=n=>e.check(z1(n)),e.uppercase=n=>e.check(B1(n)),e.trim=()=>e.check(K1()),e.normalize=(...n)=>e.check(H1(...n)),e.toLowerCase=()=>e.check(G1()),e.toUpperCase=()=>e.check(Z1()),e.slugify=()=>e.check(X1())}),W0=je("ZodString",(e,t)=>{F0.init(e,t),Y1.init(e,t),e.email=r=>e.check(_T(Q1,r)),e.url=r=>e.check(L1(q0,r)),e.jwt=r=>e.check(BT(hw,r)),e.emoji=r=>e.check(TT(J1,r)),e.guid=r=>e.check(hx(Og,r)),e.uuid=r=>e.check(ST(Ko,r)),e.uuidv4=r=>e.check(kT(Ko,r)),e.uuidv6=r=>e.check(jT(Ko,r)),e.uuidv7=r=>e.check(NT(Ko,r)),e.nanoid=r=>e.check(ET(ew,r)),e.guid=r=>e.check(hx(Og,r)),e.cuid=r=>e.check(CT(tw,r)),e.cuid2=r=>e.check(AT(rw,r)),e.ulid=r=>e.check(PT(nw,r)),e.base64=r=>e.check(LT(uw,r)),e.base64url=r=>e.check(FT(dw,r)),e.xid=r=>e.check(IT(sw,r)),e.ksuid=r=>e.check(RT(iw,r)),e.ipv4=r=>e.check(OT(aw,r)),e.ipv6=r=>e.check(MT(ow,r)),e.cidrv4=r=>e.check(DT(lw,r)),e.cidrv6=r=>e.check($T(cw,r)),e.e164=r=>e.check(zT(fw,r)),e.datetime=r=>e.check(fK(r)),e.date=r=>e.check(hK(r)),e.time=r=>e.check(pK(r)),e.duration=r=>e.check(mK(r))});function gr(e){return Bq(W0,e)}const rn=je("ZodStringFormat",(e,t)=>{tn.init(e,t),Y1.init(e,t)}),Q1=je("ZodEmail",(e,t)=>{SW.init(e,t),rn.init(e,t)});function AK(e){return _T(Q1,e)}const Og=je("ZodGUID",(e,t)=>{wW.init(e,t),rn.init(e,t)});function PK(e){return hx(Og,e)}const Ko=je("ZodUUID",(e,t)=>{_W.init(e,t),rn.init(e,t)});function IK(e){return ST(Ko,e)}function RK(e){return kT(Ko,e)}function OK(e){return jT(Ko,e)}function MK(e){return NT(Ko,e)}const q0=je("ZodURL",(e,t)=>{kW.init(e,t),rn.init(e,t)});function DK(e){return L1(q0,e)}function $K(e){return L1(q0,{protocol:/^https?$/,hostname:LV,...Be(e)})}const J1=je("ZodEmoji",(e,t)=>{jW.init(e,t),rn.init(e,t)});function LK(e){return TT(J1,e)}const ew=je("ZodNanoID",(e,t)=>{NW.init(e,t),rn.init(e,t)});function FK(e){return ET(ew,e)}const tw=je("ZodCUID",(e,t)=>{TW.init(e,t),rn.init(e,t)});function zK(e){return CT(tw,e)}const rw=je("ZodCUID2",(e,t)=>{EW.init(e,t),rn.init(e,t)});function BK(e){return AT(rw,e)}const nw=je("ZodULID",(e,t)=>{CW.init(e,t),rn.init(e,t)});function UK(e){return PT(nw,e)}const sw=je("ZodXID",(e,t)=>{AW.init(e,t),rn.init(e,t)});function VK(e){return IT(sw,e)}const iw=je("ZodKSUID",(e,t)=>{PW.init(e,t),rn.init(e,t)});function WK(e){return RT(iw,e)}const aw=je("ZodIPv4",(e,t)=>{DW.init(e,t),rn.init(e,t)});function qK(e){return OT(aw,e)}const JT=je("ZodMAC",(e,t)=>{LW.init(e,t),rn.init(e,t)});function HK(e){return Vq(JT,e)}const ow=je("ZodIPv6",(e,t)=>{$W.init(e,t),rn.init(e,t)});function KK(e){return MT(ow,e)}const lw=je("ZodCIDRv4",(e,t)=>{FW.init(e,t),rn.init(e,t)});function GK(e){return DT(lw,e)}const cw=je("ZodCIDRv6",(e,t)=>{zW.init(e,t),rn.init(e,t)});function ZK(e){return $T(cw,e)}const uw=je("ZodBase64",(e,t)=>{BW.init(e,t),rn.init(e,t)});function XK(e){return LT(uw,e)}const dw=je("ZodBase64URL",(e,t)=>{VW.init(e,t),rn.init(e,t)});function YK(e){return FT(dw,e)}const fw=je("ZodE164",(e,t)=>{WW.init(e,t),rn.init(e,t)});function QK(e){return zT(fw,e)}const hw=je("ZodJWT",(e,t)=>{HW.init(e,t),rn.init(e,t)});function JK(e){return BT(hw,e)}const Sp=je("ZodCustomStringFormat",(e,t)=>{KW.init(e,t),rn.init(e,t)});function eG(e,t,r={}){return V0(Sp,e,t,r)}function tG(e){return V0(Sp,"hostname",$V,e)}function rG(e){return V0(Sp,"hex",JV,e)}function nG(e,t){const r=t?.enc??"hex",n=`${e}_${r}`,s=dT[n];if(!s)throw new Error(`Unrecognized hash format: ${n}`);return V0(Sp,n,s,t)}const H0=je("ZodNumber",(e,t)=>{mT.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(n,s,i)=>CH(e,n,s),e.gt=(n,s)=>e.check(mu(n,s)),e.gte=(n,s)=>e.check($i(n,s)),e.min=(n,s)=>e.check($i(n,s)),e.lt=(n,s)=>e.check(pu(n,s)),e.lte=(n,s)=>e.check(za(n,s)),e.max=(n,s)=>e.check(za(n,s)),e.int=n=>e.check(px(n)),e.safe=n=>e.check(px(n)),e.positive=n=>e.check(mu(0,n)),e.nonnegative=n=>e.check($i(0,n)),e.negative=n=>e.check(pu(0,n)),e.nonpositive=n=>e.check(za(0,n)),e.multipleOf=(n,s)=>e.check(Gh(n,s)),e.step=(n,s)=>e.check(Gh(n,s)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function pw(e){return Zq(H0,e)}const nf=je("ZodNumberFormat",(e,t)=>{GW.init(e,t),H0.init(e,t)});function px(e){return Yq(nf,e)}function sG(e){return Qq(nf,e)}function iG(e){return Jq(nf,e)}function aG(e){return eH(nf,e)}function oG(e){return tH(nf,e)}const K0=je("ZodBoolean",(e,t)=>{gT.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>AH(e,r,n)});function G0(e){return rH(K0,e)}const Z0=je("ZodBigInt",(e,t)=>{yT.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(n,s,i)=>PH(e,n),e.gte=(n,s)=>e.check($i(n,s)),e.min=(n,s)=>e.check($i(n,s)),e.gt=(n,s)=>e.check(mu(n,s)),e.gte=(n,s)=>e.check($i(n,s)),e.min=(n,s)=>e.check($i(n,s)),e.lt=(n,s)=>e.check(pu(n,s)),e.lte=(n,s)=>e.check(za(n,s)),e.max=(n,s)=>e.check(za(n,s)),e.positive=n=>e.check(mu(BigInt(0),n)),e.negative=n=>e.check(pu(BigInt(0),n)),e.nonpositive=n=>e.check(za(BigInt(0),n)),e.nonnegative=n=>e.check($i(BigInt(0),n)),e.multipleOf=(n,s)=>e.check(Gh(n,s));const r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function lG(e){return sH(Z0,e)}const mw=je("ZodBigIntFormat",(e,t)=>{ZW.init(e,t),Z0.init(e,t)});function cG(e){return aH(mw,e)}function uG(e){return oH(mw,e)}const eE=je("ZodSymbol",(e,t)=>{XW.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>IH(e,r)});function dG(e){return lH(eE,e)}const tE=je("ZodUndefined",(e,t)=>{YW.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>OH(e,r)});function fG(e){return cH(tE,e)}const rE=je("ZodNull",(e,t)=>{QW.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>RH(e,r,n)});function gw(e){return uH(rE,e)}const nE=je("ZodAny",(e,t)=>{JW.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>$H()});function Mg(){return dH(nE)}const sE=je("ZodUnknown",(e,t)=>{eq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>LH()});function Fd(){return fH(sE)}const iE=je("ZodNever",(e,t)=>{tq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>DH(e,r,n)});function yw(e){return hH(iE,e)}const aE=je("ZodVoid",(e,t)=>{rq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>MH(e,r)});function hG(e){return pH(aE,e)}const bw=je("ZodDate",(e,t)=>{nq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(n,s,i)=>FH(e,n),e.min=(n,s)=>e.check($i(n,s)),e.max=(n,s)=>e.check(za(n,s));const r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function pG(e){return mH(bw,e)}const oE=je("ZodArray",(e,t)=>{sq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>YH(e,r,n,s),e.element=t.element,e.min=(r,n)=>e.check(Ld(r,n)),e.nonempty=r=>e.check(Ld(1,r)),e.max=(r,n)=>e.check(B0(r,n)),e.length=(r,n)=>e.check(U0(r,n)),e.unwrap=()=>e.element});function kp(e,t){return bH(oE,e,t)}function mG(e){const t=e._zod.def.shape;return Np(Object.keys(t))}const X0=je("ZodObject",(e,t)=>{lq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>QH(e,r,n,s),hr(e,"shape",()=>t.shape),e.keyof=()=>Np(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Fd()}),e.loose=()=>e.clone({...e._zod.def,catchall:Fd()}),e.strict=()=>e.clone({...e._zod.def,catchall:yw()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>aV(e,r),e.safeExtend=r=>oV(e,r),e.merge=r=>lV(e,r),e.pick=r=>sV(e,r),e.omit=r=>iV(e,r),e.partial=(...r)=>cV(ww,e,r[0]),e.required=(...r)=>uV(_w,e,r[0])});function Au(e,t){const r={type:"object",shape:e??{},...Be(t)};return new X0(r)}function gG(e,t){return new X0({type:"object",shape:e,catchall:yw(),...Be(t)})}function yG(e,t){return new X0({type:"object",shape:e,catchall:Fd(),...Be(t)})}const Y0=je("ZodUnion",(e,t)=>{$1.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>KT(e,r,n,s),e.options=t.options});function jp(e,t){return new Y0({type:"union",options:e,...Be(t)})}const lE=je("ZodXor",(e,t)=>{Y0.init(e,t),cq.init(e,t),e._zod.processJSONSchema=(r,n,s)=>KT(e,r,n,s),e.options=t.options});function bG(e,t){return new lE({type:"union",options:e,inclusive:!1,...Be(t)})}const cE=je("ZodDiscriminatedUnion",(e,t)=>{Y0.init(e,t),uq.init(e,t)});function vG(e,t,r){return new cE({type:"union",options:t,discriminator:e,...Be(r)})}const uE=je("ZodIntersection",(e,t)=>{dq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>JH(e,r,n,s)});function dE(e,t){return new uE({type:"intersection",left:e,right:t})}const fE=je("ZodTuple",(e,t)=>{bT.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>eK(e,r,n,s),e.rest=r=>e.clone({...e._zod.def,rest:r})});function hE(e,t,r){const n=t instanceof rr,s=n?r:t,i=n?t:null;return new fE({type:"tuple",items:e,rest:i,...Be(s)})}const Q0=je("ZodRecord",(e,t)=>{fq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>tK(e,r,n,s),e.keyType=t.keyType,e.valueType=t.valueType});function vw(e,t,r){return new Q0({type:"record",keyType:e,valueType:t,...Be(r)})}function xG(e,t,r){const n=Xa(e);return n._zod.values=void 0,new Q0({type:"record",keyType:n,valueType:t,...Be(r)})}function wG(e,t,r){return new Q0({type:"record",keyType:e,valueType:t,mode:"loose",...Be(r)})}const pE=je("ZodMap",(e,t)=>{hq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>ZH(e,r),e.keyType=t.keyType,e.valueType=t.valueType,e.min=(...r)=>e.check(gu(...r)),e.nonempty=r=>e.check(gu(1,r)),e.max=(...r)=>e.check(_p(...r)),e.size=(...r)=>e.check(z0(...r))});function _G(e,t,r){return new pE({type:"map",keyType:e,valueType:t,...Be(r)})}const mE=je("ZodSet",(e,t)=>{pq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>XH(e,r),e.min=(...r)=>e.check(gu(...r)),e.nonempty=r=>e.check(gu(1,r)),e.max=(...r)=>e.check(_p(...r)),e.size=(...r)=>e.check(z0(...r))});function SG(e,t){return new mE({type:"set",valueType:e,...Be(t)})}const Qh=je("ZodEnum",(e,t)=>{mq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(n,s,i)=>zH(e,n,s),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const i={};for(const a of n)if(r.has(a))i[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Qh({...t,checks:[],...Be(s),entries:i})},e.exclude=(n,s)=>{const i={...t.entries};for(const a of n)if(r.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new Qh({...t,checks:[],...Be(s),entries:i})}});function Np(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Qh({type:"enum",entries:r,...Be(t)})}function kG(e,t){return new Qh({type:"enum",entries:e,...Be(t)})}const gE=je("ZodLiteral",(e,t)=>{gq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>BH(e,r,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Dg(e,t){return new gE({type:"literal",values:Array.isArray(e)?e:[e],...Be(t)})}const yE=je("ZodFile",(e,t)=>{yq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>WH(e,r,n),e.min=(r,n)=>e.check(gu(r,n)),e.max=(r,n)=>e.check(_p(r,n)),e.mime=(r,n)=>e.check(q1(Array.isArray(r)?r:[r],n))});function jG(e){return vH(yE,e)}const bE=je("ZodTransform",(e,t)=>{bq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>GH(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new I1(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(Hh(i,r.value,t));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=e),r.issues.push(Hh(a))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(i=>(r.value=i,r)):(r.value=s,r)}});function xw(e){return new bE({type:"transform",transform:e})}const ww=je("ZodOptional",(e,t)=>{vT.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>GT(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function $g(e){return new ww({type:"optional",innerType:e})}const vE=je("ZodExactOptional",(e,t)=>{vq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>GT(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function xE(e){return new vE({type:"optional",innerType:e})}const wE=je("ZodNullable",(e,t)=>{xq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>rK(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Lg(e){return new wE({type:"nullable",innerType:e})}function NG(e){return $g(Lg(e))}const _E=je("ZodDefault",(e,t)=>{wq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>sK(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function SE(e,t){return new _E({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():O1(t)}})}const kE=je("ZodPrefault",(e,t)=>{_q.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>iK(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function jE(e,t){return new kE({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():O1(t)}})}const _w=je("ZodNonOptional",(e,t)=>{Sq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>nK(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function NE(e,t){return new _w({type:"nonoptional",innerType:e,...Be(t)})}const TE=je("ZodSuccess",(e,t)=>{kq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>qH(e,r,n),e.unwrap=()=>e._zod.def.innerType});function TG(e){return new TE({type:"success",innerType:e})}const EE=je("ZodCatch",(e,t)=>{jq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>aK(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function CE(e,t){return new EE({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const AE=je("ZodNaN",(e,t)=>{Nq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>UH(e,r)});function EG(e){return yH(AE,e)}const Sw=je("ZodPipe",(e,t)=>{Tq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>oK(e,r,n,s),e.in=t.in,e.out=t.out});function Fg(e,t){return new Sw({type:"pipe",in:e,out:t})}const kw=je("ZodCodec",(e,t)=>{Sw.init(e,t),xT.init(e,t)});function CG(e,t,r){return new kw({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}const PE=je("ZodReadonly",(e,t)=>{Eq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>lK(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function IE(e){return new PE({type:"readonly",innerType:e})}const RE=je("ZodTemplateLiteral",(e,t)=>{Cq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>VH(e,r,n)});function AG(e,t){return new RE({type:"template_literal",parts:e,...Be(t)})}const OE=je("ZodLazy",(e,t)=>{Iq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>uK(e,r,n,s),e.unwrap=()=>e._zod.def.getter()});function ME(e){return new OE({type:"lazy",getter:e})}const DE=je("ZodPromise",(e,t)=>{Pq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>cK(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function PG(e){return new DE({type:"promise",innerType:e})}const $E=je("ZodFunction",(e,t)=>{Aq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>KH(e,r)});function mx(e){return new $E({type:"function",input:Array.isArray(e?.input)?hE(e?.input):e?.input??kp(Fd()),output:e?.output??Fd()})}const J0=je("ZodCustom",(e,t)=>{Rq.init(e,t),lr.init(e,t),e._zod.processJSONSchema=(r,n,s)=>HH(e,r)});function IG(e){const t=new Sn({check:"custom"});return t._zod.check=e,t}function LE(e,t){return xH(J0,e??(()=>!0),t)}function FE(e,t={}){return wH(J0,e,t)}function zE(e){return _H(e)}const RG=kH,OG=jH;function MG(e,t={}){const r=new J0({type:"custom",check:"custom",fn:n=>n instanceof e,abort:!0,...Be(t)});return r._zod.bag.Class=e,r._zod.check=n=>{n.value instanceof e||n.issues.push({code:"invalid_type",expected:e.name,input:n.value,inst:r,path:[...r._zod.def.path??[]]})},r}const DG=(...e)=>NH({Codec:kw,Boolean:K0,String:W0},...e);function $G(e){const t=ME(()=>jp([gr(e),pw(),G0(),gw(),kp(t),vw(gr(),t)]));return t}function jw(e,t){return Fg(xw(e),t)}const BSe=Object.freeze(Object.defineProperty({__proto__:null,ZodAny:nE,ZodArray:oE,ZodBase64:uw,ZodBase64URL:dw,ZodBigInt:Z0,ZodBigIntFormat:mw,ZodBoolean:K0,ZodCIDRv4:lw,ZodCIDRv6:cw,ZodCUID:tw,ZodCUID2:rw,ZodCatch:EE,ZodCodec:kw,ZodCustom:J0,ZodCustomStringFormat:Sp,ZodDate:bw,ZodDefault:_E,ZodDiscriminatedUnion:cE,ZodE164:fw,ZodEmail:Q1,ZodEmoji:J1,ZodEnum:Qh,ZodExactOptional:vE,ZodFile:yE,ZodFunction:$E,ZodGUID:Og,ZodIPv4:aw,ZodIPv6:ow,ZodIntersection:uE,ZodJWT:hw,ZodKSUID:iw,ZodLazy:OE,ZodLiteral:gE,ZodMAC:JT,ZodMap:pE,ZodNaN:AE,ZodNanoID:ew,ZodNever:iE,ZodNonOptional:_w,ZodNull:rE,ZodNullable:wE,ZodNumber:H0,ZodNumberFormat:nf,ZodObject:X0,ZodOptional:ww,ZodPipe:Sw,ZodPrefault:kE,ZodPromise:DE,ZodReadonly:PE,ZodRecord:Q0,ZodSet:mE,ZodString:W0,ZodStringFormat:rn,ZodSuccess:TE,ZodSymbol:eE,ZodTemplateLiteral:RE,ZodTransform:bE,ZodTuple:fE,ZodType:lr,ZodULID:nw,ZodURL:q0,ZodUUID:Ko,ZodUndefined:tE,ZodUnion:Y0,ZodUnknown:sE,ZodVoid:aE,ZodXID:sw,ZodXor:lE,_ZodString:Y1,_default:SE,_function:mx,any:Mg,array:kp,base64:XK,base64url:YK,bigint:lG,boolean:G0,catch:CE,check:IG,cidrv4:GK,cidrv6:ZK,codec:CG,cuid:zK,cuid2:BK,custom:LE,date:pG,describe:RG,discriminatedUnion:vG,e164:QK,email:AK,emoji:LK,enum:Np,exactOptional:xE,file:jG,float32:sG,float64:iG,function:mx,guid:PK,hash:nG,hex:rG,hostname:tG,httpUrl:$K,instanceof:MG,int:px,int32:aG,int64:cG,intersection:dE,ipv4:qK,ipv6:KK,json:$G,jwt:JK,keyof:mG,ksuid:WK,lazy:ME,literal:Dg,looseObject:yG,looseRecord:wG,mac:HK,map:_G,meta:OG,nan:EG,nanoid:FK,nativeEnum:kG,never:yw,nonoptional:NE,null:gw,nullable:Lg,nullish:NG,number:pw,object:Au,optional:$g,partialRecord:xG,pipe:Fg,prefault:jE,preprocess:jw,promise:PG,readonly:IE,record:vw,refine:FE,set:SG,strictObject:gG,string:gr,stringFormat:eG,stringbool:DG,success:TG,superRefine:zE,symbol:dG,templateLiteral:AG,transform:xw,tuple:hE,uint32:oG,uint64:uG,ulid:UK,undefined:fG,union:jp,unknown:Fd,url:DK,uuid:IK,uuidv4:RK,uuidv6:OK,uuidv7:MK,void:hG,xid:VK,xor:bG},Symbol.toStringTag,{value:"Module"})),USe={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function VSe(e){di({customError:e})}function WSe(){return di().customError}var q4;q4||(q4={});const lt={...BSe,...FSe,iso:gK},qSe=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function HSe(e,t){const r=e.$schema;return r==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":r==="http://json-schema.org/draft-07/schema#"?"draft-7":r==="http://json-schema.org/draft-04/schema#"?"draft-4":t??"draft-2020-12"}function KSe(e,t){if(!e.startsWith("#"))throw new Error("External $ref is not supported, only local refs (#/...) are allowed");const r=e.slice(1).split("/").filter(Boolean);if(r.length===0)return t.rootSchema;const n=t.version==="draft-2020-12"?"$defs":"definitions";if(r[0]===n){const s=r[1];if(!s||!t.defs[s])throw new Error(`Reference not found: ${e}`);return t.defs[s]}throw new Error(`Reference not found: ${e}`)}function LG(e,t){if(e.not!==void 0){if(typeof e.not=="object"&&Object.keys(e.not).length===0)return lt.never();throw new Error("not is not supported in Zod (except { not: {} } for never)")}if(e.unevaluatedItems!==void 0)throw new Error("unevaluatedItems is not supported");if(e.unevaluatedProperties!==void 0)throw new Error("unevaluatedProperties is not supported");if(e.if!==void 0||e.then!==void 0||e.else!==void 0)throw new Error("Conditional schemas (if/then/else) are not supported");if(e.dependentSchemas!==void 0||e.dependentRequired!==void 0)throw new Error("dependentSchemas and dependentRequired are not supported");if(e.$ref){const s=e.$ref;if(t.refs.has(s))return t.refs.get(s);if(t.processing.has(s))return lt.lazy(()=>{if(!t.refs.has(s))throw new Error(`Circular reference not resolved: ${s}`);return t.refs.get(s)});t.processing.add(s);const i=KSe(s,t),a=Js(i,t);return t.refs.set(s,a),t.processing.delete(s),a}if(e.enum!==void 0){const s=e.enum;if(t.version==="openapi-3.0"&&e.nullable===!0&&s.length===1&&s[0]===null)return lt.null();if(s.length===0)return lt.never();if(s.length===1)return lt.literal(s[0]);if(s.every(a=>typeof a=="string"))return lt.enum(s);const i=s.map(a=>lt.literal(a));return i.length<2?i[0]:lt.union([i[0],i[1],...i.slice(2)])}if(e.const!==void 0)return lt.literal(e.const);const r=e.type;if(Array.isArray(r)){const s=r.map(i=>{const a={...e,type:i};return LG(a,t)});return s.length===0?lt.never():s.length===1?s[0]:lt.union(s)}if(!r)return lt.any();let n;switch(r){case"string":{let s=lt.string();if(e.format){const i=e.format;i==="email"?s=s.check(lt.email()):i==="uri"||i==="uri-reference"?s=s.check(lt.url()):i==="uuid"||i==="guid"?s=s.check(lt.uuid()):i==="date-time"?s=s.check(lt.iso.datetime()):i==="date"?s=s.check(lt.iso.date()):i==="time"?s=s.check(lt.iso.time()):i==="duration"?s=s.check(lt.iso.duration()):i==="ipv4"?s=s.check(lt.ipv4()):i==="ipv6"?s=s.check(lt.ipv6()):i==="mac"?s=s.check(lt.mac()):i==="cidr"?s=s.check(lt.cidrv4()):i==="cidr-v6"?s=s.check(lt.cidrv6()):i==="base64"?s=s.check(lt.base64()):i==="base64url"?s=s.check(lt.base64url()):i==="e164"?s=s.check(lt.e164()):i==="jwt"?s=s.check(lt.jwt()):i==="emoji"?s=s.check(lt.emoji()):i==="nanoid"?s=s.check(lt.nanoid()):i==="cuid"?s=s.check(lt.cuid()):i==="cuid2"?s=s.check(lt.cuid2()):i==="ulid"?s=s.check(lt.ulid()):i==="xid"?s=s.check(lt.xid()):i==="ksuid"&&(s=s.check(lt.ksuid()))}typeof e.minLength=="number"&&(s=s.min(e.minLength)),typeof e.maxLength=="number"&&(s=s.max(e.maxLength)),e.pattern&&(s=s.regex(new RegExp(e.pattern))),n=s;break}case"number":case"integer":{let s=r==="integer"?lt.number().int():lt.number();typeof e.minimum=="number"&&(s=s.min(e.minimum)),typeof e.maximum=="number"&&(s=s.max(e.maximum)),typeof e.exclusiveMinimum=="number"?s=s.gt(e.exclusiveMinimum):e.exclusiveMinimum===!0&&typeof e.minimum=="number"&&(s=s.gt(e.minimum)),typeof e.exclusiveMaximum=="number"?s=s.lt(e.exclusiveMaximum):e.exclusiveMaximum===!0&&typeof e.maximum=="number"&&(s=s.lt(e.maximum)),typeof e.multipleOf=="number"&&(s=s.multipleOf(e.multipleOf)),n=s;break}case"boolean":{n=lt.boolean();break}case"null":{n=lt.null();break}case"object":{const s={},i=e.properties||{},a=new Set(e.required||[]);for(const[u,l]of Object.entries(i)){const d=Js(l,t);s[u]=a.has(u)?d:d.optional()}if(e.propertyNames){const u=Js(e.propertyNames,t),l=e.additionalProperties&&typeof e.additionalProperties=="object"?Js(e.additionalProperties,t):lt.any();if(Object.keys(s).length===0){n=lt.record(u,l);break}const d=lt.object(s).passthrough(),h=lt.looseRecord(u,l);n=lt.intersection(d,h);break}if(e.patternProperties){const u=e.patternProperties,l=Object.keys(u),d=[];for(const f of l){const p=Js(u[f],t),g=lt.string().regex(new RegExp(f));d.push(lt.looseRecord(g,p))}const h=[];if(Object.keys(s).length>0&&h.push(lt.object(s).passthrough()),h.push(...d),h.length===0)n=lt.object({}).passthrough();else if(h.length===1)n=h[0];else{let f=lt.intersection(h[0],h[1]);for(let p=2;p<h.length;p++)f=lt.intersection(f,h[p]);n=f}break}const o=lt.object(s);e.additionalProperties===!1?n=o.strict():typeof e.additionalProperties=="object"?n=o.catchall(Js(e.additionalProperties,t)):n=o.passthrough();break}case"array":{const s=e.prefixItems,i=e.items;if(s&&Array.isArray(s)){const a=s.map(u=>Js(u,t)),o=i&&typeof i=="object"&&!Array.isArray(i)?Js(i,t):void 0;o?n=lt.tuple(a).rest(o):n=lt.tuple(a),typeof e.minItems=="number"&&(n=n.check(lt.minLength(e.minItems))),typeof e.maxItems=="number"&&(n=n.check(lt.maxLength(e.maxItems)))}else if(Array.isArray(i)){const a=i.map(u=>Js(u,t)),o=e.additionalItems&&typeof e.additionalItems=="object"?Js(e.additionalItems,t):void 0;o?n=lt.tuple(a).rest(o):n=lt.tuple(a),typeof e.minItems=="number"&&(n=n.check(lt.minLength(e.minItems))),typeof e.maxItems=="number"&&(n=n.check(lt.maxLength(e.maxItems)))}else if(i!==void 0){const a=Js(i,t);let o=lt.array(a);typeof e.minItems=="number"&&(o=o.min(e.minItems)),typeof e.maxItems=="number"&&(o=o.max(e.maxItems)),n=o}else n=lt.array(lt.any());break}default:throw new Error(`Unsupported type: ${r}`)}return e.description&&(n=n.describe(e.description)),e.default!==void 0&&(n=n.default(e.default)),n}function Js(e,t){if(typeof e=="boolean")return e?lt.any():lt.never();let r=LG(e,t);const n=e.type||e.enum!==void 0||e.const!==void 0;if(e.anyOf&&Array.isArray(e.anyOf)){const o=e.anyOf.map(l=>Js(l,t)),u=lt.union(o);r=n?lt.intersection(r,u):u}if(e.oneOf&&Array.isArray(e.oneOf)){const o=e.oneOf.map(l=>Js(l,t)),u=lt.xor(o);r=n?lt.intersection(r,u):u}if(e.allOf&&Array.isArray(e.allOf))if(e.allOf.length===0)r=n?r:lt.any();else{let o=n?r:Js(e.allOf[0],t);const u=n?0:1;for(let l=u;l<e.allOf.length;l++)o=lt.intersection(o,Js(e.allOf[l],t));r=o}e.nullable===!0&&t.version==="openapi-3.0"&&(r=lt.nullable(r)),e.readOnly===!0&&(r=lt.readonly(r));const s={},i=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(const o of i)o in e&&(s[o]=e[o]);const a=["contentEncoding","contentMediaType","contentSchema"];for(const o of a)o in e&&(s[o]=e[o]);for(const o of Object.keys(e))qSe.has(o)||(s[o]=e[o]);return Object.keys(s).length>0&&t.registry.add(r,s),r}function GSe(e,t){if(typeof e=="boolean")return e?lt.any():lt.never();const r=HSe(e,t?.defaultTarget),n=e.$defs||e.definitions||{},s={version:r,defs:n,refs:new Map,processing:new Set,rootSchema:e,registry:t?.registry??La};return Js(e,s)}function ls(e){return Uq(W0,e)}function ZSe(e){return Xq(H0,e)}function XSe(e){return nH(K0,e)}function YSe(e){return iH(Z0,e)}function QSe(e){return gH(bw,e)}const JSe=Object.freeze(Object.defineProperty({__proto__:null,bigint:YSe,boolean:XSe,date:QSe,number:ZSe,string:ls},Symbol.toStringTag,{value:"Module"}));di(Oq());const eke=Object.freeze(Object.defineProperty({__proto__:null,$brand:XU,$input:Fq,$output:Lq,NEVER:ZU,TimePrecision:Wq,ZodAny:nE,ZodArray:oE,ZodBase64:uw,ZodBase64URL:dw,ZodBigInt:Z0,ZodBigIntFormat:mw,ZodBoolean:K0,ZodCIDRv4:lw,ZodCIDRv6:cw,ZodCUID:tw,ZodCUID2:rw,ZodCatch:EE,ZodCodec:kw,ZodCustom:J0,ZodCustomStringFormat:Sp,ZodDate:bw,ZodDefault:_E,ZodDiscriminatedUnion:cE,ZodE164:fw,ZodEmail:Q1,ZodEmoji:J1,ZodEnum:Qh,ZodError:zSe,ZodExactOptional:vE,ZodFile:yE,get ZodFirstPartyTypeKind(){return q4},ZodFunction:$E,ZodGUID:Og,ZodIPv4:aw,ZodIPv6:ow,ZodISODate:XT,ZodISODateTime:ZT,ZodISODuration:QT,ZodISOTime:YT,ZodIntersection:uE,ZodIssueCode:USe,ZodJWT:hw,ZodKSUID:iw,ZodLazy:OE,ZodLiteral:gE,ZodMAC:JT,ZodMap:pE,ZodNaN:AE,ZodNanoID:ew,ZodNever:iE,ZodNonOptional:_w,ZodNull:rE,ZodNullable:wE,ZodNumber:H0,ZodNumberFormat:nf,ZodObject:X0,ZodOptional:ww,ZodPipe:Sw,ZodPrefault:kE,ZodPromise:DE,ZodReadonly:PE,ZodRealError:pa,ZodRecord:Q0,ZodSet:mE,ZodString:W0,ZodStringFormat:rn,ZodSuccess:TE,ZodSymbol:eE,ZodTemplateLiteral:RE,ZodTransform:bE,ZodTuple:fE,ZodType:lr,ZodULID:nw,ZodURL:q0,ZodUUID:Ko,ZodUndefined:tE,ZodUnion:Y0,ZodUnknown:sE,ZodVoid:aE,ZodXID:sw,ZodXor:lE,_ZodString:Y1,_default:SE,_function:mx,any:Mg,array:kp,base64:XK,base64url:YK,bigint:lG,boolean:G0,catch:CE,check:IG,cidrv4:GK,cidrv6:ZK,clone:Xa,codec:CG,coerce:JSe,config:di,core:LSe,cuid:zK,cuid2:BK,custom:LE,date:pG,decode:SK,decodeAsync:jK,describe:RG,discriminatedUnion:vG,e164:QK,email:AK,emoji:LK,encode:_K,encodeAsync:kK,endsWith:W1,enum:Np,exactOptional:xE,file:jG,flattenError:J3,float32:sG,float64:iG,formatError:eT,fromJSONSchema:GSe,function:mx,getErrorMap:WSe,globalRegistry:La,gt:mu,gte:$i,guid:PK,hash:nG,hex:rG,hostname:tG,httpUrl:$K,includes:U1,instanceof:MG,int:px,int32:aG,int64:cG,intersection:dE,ipv4:qK,ipv6:KK,iso:gK,json:$G,jwt:JK,keyof:mG,ksuid:WK,lazy:ME,length:U0,literal:Dg,locales:$q,looseObject:yG,looseRecord:wG,lowercase:z1,lt:pu,lte:za,mac:HK,map:_G,maxLength:B0,maxSize:_p,meta:OG,mime:q1,minLength:Ld,minSize:gu,multipleOf:Gh,nan:EG,nanoid:FK,nativeEnum:kG,negative:VT,never:yw,nonnegative:qT,nonoptional:NE,nonpositive:WT,normalize:H1,null:gw,nullable:Lg,nullish:NG,number:pw,object:Au,optional:$g,overwrite:ic,parse:bK,parseAsync:vK,partialRecord:xG,pipe:Fg,positive:UT,prefault:jE,preprocess:jw,prettifyError:yV,promise:PG,property:HT,readonly:IE,record:vw,refine:FE,regex:F1,regexes:dT,registry:wT,safeDecode:TK,safeDecodeAsync:CK,safeEncode:NK,safeEncodeAsync:EK,safeParse:xK,safeParseAsync:wK,set:SG,setErrorMap:VSe,size:z0,slugify:X1,startsWith:V1,strictObject:gG,string:gr,stringFormat:eG,stringbool:DG,success:TG,superRefine:zE,symbol:dG,templateLiteral:AG,toJSONSchema:dK,toLowerCase:G1,toUpperCase:Z1,transform:xw,treeifyError:mV,trim:K1,tuple:hE,uint32:oG,uint64:uG,ulid:UK,undefined:fG,union:jp,unknown:Fd,uppercase:B1,url:DK,util:hV,uuid:IK,uuidv4:RK,uuidv6:OK,uuidv7:MK,void:hG,xid:VK,xor:bG},Symbol.toStringTag,{value:"Module"})),FG=E.createContext(void 0);function ac(){const e=E.useContext(FG);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function tke({children:e}){const[t,r]=E.useState(null),[n,s]=E.useState(!0),i=ns(),a=t!==null,o=()=>localStorage.getItem("accessToken"),u=()=>localStorage.getItem("refreshToken"),[l,d]=E.useState(0),[h,f]=E.useState(null);E.useEffect(()=>{O8({getAccessToken:o,refreshToken:F,logout:m})},[]);const g=(()=>{if(typeof window<"u"){const D=window.location.origin;if(D.includes("binarjoinanelytic.info"))return`${D}/api`;if(D.includes("replit.dev"))return`${D}/api`;if(D.startsWith("http://localhost")||D.startsWith("file://")||D==="null")return"https://app2.binarjoinanelytic.info/api"}const P="https://app2.binarjoinanelytic.info/api";return P.endsWith("/api")?P:`${P}/api`})();E.useEffect(()=>{(async()=>{try{const{smartGetAll:D,smartSave:V}=await Ar(async()=>{const{smartGetAll:C,smartSave:I}=await Promise.resolve().then(()=>Ng);return{smartGetAll:C,smartSave:I}},void 0);(await D("emergencyUsers")).length===0&&(console.log(" [AuthProvider]    ..."),await V("emergencyUsers",[{id:"emergency-admin",email:"admin@binarjoin.com",password:"admin",name:" ",role:"admin",createdAt:new Date().toISOString()}]))}catch{}})()},[]),E.useEffect(()=>{(async()=>{console.log(" [AuthProvider]   ...",new Date().toISOString());try{const D=localStorage.getItem("accessToken"),V=localStorage.getItem("user");if(!D||!V){console.log(" [AuthProvider]     "),s(!1);return}try{const B=JSON.parse(V);r(B),s(!1),console.log(" [AuthProvider]     ..."),fetch(`${g}/auth/me`,{headers:{Authorization:`Bearer ${D}`}}).then(async C=>{if(C.ok){const I=await C.json();if(I.user){const N=I.user.emailVerified===!0||I.user.email_verified===!0||!!I.user.emailVerifiedAt||!!I.user.email_verified_at||localStorage.getItem("emailVerified")==="true",w={...I.user,emailVerified:N};N&&localStorage.setItem("emailVerified","true"),r(w),localStorage.setItem("user",JSON.stringify(w))}}else console.warn(" [AuthProvider]    (401)      .")}).catch(()=>{})}catch(B){console.error(" [AuthProvider]     :",B),await m()}}catch(D){console.error(" [AuthProvider]  :",D)}finally{s(!1)}})()},[]),E.useEffect(()=>{const P=D=>{D.key==="accessToken"&&!D.newValue&&(console.log(" [AuthProvider]       "),r(null))};return window.addEventListener("storage",P),()=>window.removeEventListener("storage",P)},[]);const y=async(P,D)=>{console.log(" [AuthProvider.login]   :",P,new Date().toISOString());let V=null,B=null;try{console.log(` [AuthProvider.login]    ${g}/auth/login...`),B=await fetch(`${g}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:P,password:D})}),B.ok?V=await B.json():B.status===503||B.status===500?console.warn(` [AuthProvider]       (${B.status})    ...`):console.warn(` [AuthProvider]    ${B.status}    ...`)}catch(R){console.warn(" [AuthProvider]       ...",R)}if(!V||B&&!B.ok){console.log(" [AuthProvider]    /...");try{const{smartGetAll:R}=await Ar(async()=>{const{smartGetAll:q}=await Promise.resolve().then(()=>Ng);return{smartGetAll:q}},void 0),$=await R("emergencyUsers");console.log(` [AuthProvider]  ${$.length}  `);const U=$.find(q=>q.email.toLowerCase()===P.toLowerCase()&&q.password===D);if(U)console.log(" [AuthProvider]     "),V={success:!0,data:{user:{...U,emailVerified:!0},tokens:{accessToken:"emergency-token",refreshToken:"emergency-refresh"}}};else{const q=await R("users");console.log(` [AuthProvider]  ${q.length}  `);const H=q.find(Y=>Y.email.toLowerCase()===P.toLowerCase());H&&(console.log(" [AuthProvider]      ()"),V={success:!0,data:{user:H,tokens:{accessToken:"offline-token",refreshToken:"offline-refresh"}}})}}catch(R){console.error(" [AuthProvider]    :",R)}}if(B&&!B.ok&&!V){const R=await B.json().catch(()=>({}));if(B.status===403&&R.requireEmailVerification){const $=new Error(R.message||"     ");throw $.requireEmailVerification=!0,$.userId=R.data?.userId,$.email=R.data?.email,$.status=403,$.data=R.data,$}throw new Error(R.message||"  ")}const C=V?.data||V,I=C?.user||V?.user,N=I?.emailVerified===!0||I?.email_verified===!0||!!I?.emailVerifiedAt||!!I?.email_verified_at||localStorage.getItem("emailVerified")==="true";let w=C?.tokens?.accessToken||V?.tokens?.accessToken||C?.accessToken||V?.accessToken||V?.data?.accessToken||C?.token||V?.token,_=C?.tokens?.refreshToken||V?.tokens?.refreshToken||C?.refreshToken||V?.refreshToken||V?.data?.refreshToken;if(!w&&V&&typeof V=="object"){const R=["accessToken","token","jwt","auth_token"];for(const $ of R)if(V[$]){w=V[$];break}}if(console.log(" [AuthProvider.login]   :",{hasUser:!!I,hasToken:!!w,tokenType:typeof w}),!w)throw console.error(" [AuthProvider.login]    :",V),new Error("       .    .");const S={id:I?.id||"unknown",email:I?.email||P,name:I?.name||I?.fullName||`${I?.firstName||""} ${I?.lastName||""}`.trim()||P,role:I?.role||"admin",mfaEnabled:!!I?.mfaEnabled,emailVerified:N};return N&&localStorage.setItem("emailVerified","true"),console.log(" [AuthProvider.login]    localStorage..."),localStorage.setItem("user",JSON.stringify(S)),localStorage.setItem("accessToken",w),_&&localStorage.setItem("refreshToken",_),r(S),(async()=>{try{console.log(" [AuthProvider]   ...");const R=await Ar(()=>Promise.resolve().then(()=>sne),void 0),$=R.startSync||R.default?.startSync;typeof $=="function"&&await $()}catch(R){console.warn(" [AuthProvider]     :",R)}})().then(()=>{console.log(" [AuthProvider]   "),[["/api/projects"],["/api/projects/with-stats"],["/api/workers"],["/api/materials"],["/api/suppliers"],["/api/notifications"]].forEach($=>i.invalidateQueries({queryKey:$,refetchType:"active",exact:!1}))}).catch(()=>{}),await new Promise(R=>setTimeout(R,50)),Sye().catch(console.warn),console.log(" [AuthProvider.login]    "),V},m=async()=>{try{const P=localStorage.getItem("accessToken");if(P)try{await fetch(`${g}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${P}`}})}catch{}}catch{}finally{r(null),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),kye()}},[v,b]=E.useState(0),[x,k]=E.useState(!1),T=P=>new Promise(D=>setTimeout(D,P)),O=P=>Math.min(100*Math.pow(2,P),5e3),F=async(P=!1)=>{if(console.log(" [AuthProvider.refreshToken]    ..."),x&&!P){for(console.log(" [AuthProvider.refreshToken]    ...");x;)await T(100);return localStorage.getItem("accessToken")!==null}k(!0);const D=Date.now();try{const V=localStorage.getItem("refreshToken");if(!V)return console.log(" [AuthProvider.refreshToken]   refresh token"),!1;const B=3;for(let I=0;I<B;I++){const N=Date.now();console.log(` [AuthProvider.refreshToken]  ${I+1}/${B}...`);try{const w=new AbortController,_=setTimeout(()=>{w.abort(),console.log(` [AuthProvider.refreshToken] timeout  ${I+1}`)},1e4),S=await fetch(`${g}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:V}),signal:w.signal}),j=S.headers.get("content-type");if(!j||!j.includes("application/json")){console.error(" [AuthProvider.refreshToken]      ( JSON):",j),await T(2e3);continue}clearTimeout(_);const R=Date.now()-N;console.log(` [AuthProvider.refreshToken]  ${I+1}  ${R}ms`);const $=await S.json();if(S.ok&&$.success&&$.tokens){console.log(" [AuthProvider.refreshToken]  :",{success:$.success,hasTokens:!!$.tokens}),localStorage.setItem("accessToken",$.tokens.accessToken),localStorage.setItem("refreshToken",$.tokens.refreshToken),b(0);const U=Date.now()-D;return console.log(` [AuthProvider.refreshToken]    ${U}ms  ${I+1} `),!0}else console.log(` [AuthProvider.refreshToken]  ${S.status}:`,$.message||responseText);if(S.status===401||S.status===403){console.log(" [AuthProvider.refreshToken] refresh token   -     ");break}}catch(w){const _=Date.now()-N;w instanceof Error?w.name==="AbortError"?console.log(` [AuthProvider.refreshToken] timeout   ${I+1}  ${_}ms`):console.log(` [AuthProvider.refreshToken]     ${I+1}:`,w.message):console.log(` [AuthProvider.refreshToken]      ${I+1}:`,w)}if(I<B-1){const w=O(I);console.log(` [AuthProvider.refreshToken]  ${w}ms   ...`),await T(w)}}b(I=>I+1);const C=Date.now()-D;return console.log(` [AuthProvider.refreshToken]     ${C}ms ${B} `),localStorage.getItem("user")?(console.warn(" [AuthProvider]           Offline"),!1):(await m(),window.location.href="/login",!1)}catch(V){const B=Date.now()-D;return console.error(` [AuthProvider.refreshToken]    ${B}ms:`,V),b(C=>C+1),!1}finally{k(!1)}},A={user:t,isAuthenticated:a,isLoading:n,login:y,logout:m,refreshToken:F,getAccessToken:o,getRefreshToken:u};return E.useEffect(()=>{O8({getAccessToken:o,refreshToken:F,logout:m})},[]),c.jsx(FG.Provider,{value:A,children:e})}var rke=Symbol.for("react.lazy"),gx=Kx[" use ".trim().toString()];function nke(e){return typeof e=="object"&&e!==null&&"then"in e}function zG(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===rke&&"_payload"in e&&nke(e._payload)}function ey(e){const t=ske(e),r=E.forwardRef((n,s)=>{let{children:i,...a}=n;zG(i)&&typeof gx=="function"&&(i=gx(i._payload));const o=E.Children.toArray(i),u=o.find(ake);if(u){const l=u.props.children,d=o.map(h=>h===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:h);return c.jsx(t,{...a,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return c.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var sf=ey("Slot");function ske(e){const t=E.forwardRef((r,n)=>{let{children:s,...i}=r;if(zG(s)&&typeof gx=="function"&&(s=gx(s._payload)),E.isValidElement(s)){const a=lke(s),o=oke(i,s.props);return s.type!==E.Fragment&&(o.ref=n?ol(n,a):a),E.cloneElement(s,o)}return E.Children.count(s)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ike=Symbol("radix.slottable");function ake(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ike}function oke(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function lke(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var cke=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uke=cke.reduce((e,t)=>{const r=ey(`Primitive.${t}`),n=E.forwardRef((s,i)=>{const{asChild:a,...o}=s,u=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),dke="Label",BG=E.forwardRef((e,t)=>c.jsx(uke.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));BG.displayName=dke;var UG=BG;const fke=ef("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=E.forwardRef(({className:e,...t},r)=>c.jsx(UG,{ref:r,className:_e(fke(),e),...t}));Le.displayName=UG.displayName;const Jl=fwe,VG=E.createContext({}),Ir=({...e})=>c.jsx(VG.Provider,{value:{name:e.name},children:c.jsx(zU,{...e})}),Nw=()=>{const e=E.useContext(VG),t=E.useContext(WG),{getFieldState:r,formState:n}=dwe(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},WG=E.createContext({}),Cr=E.forwardRef(({className:e,...t},r)=>{const n=E.useId();return c.jsx(WG.Provider,{value:{id:n},children:c.jsx("div",{ref:r,className:_e("space-y-2",e),...t})})});Cr.displayName="FormItem";const Tn=E.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=Nw();return c.jsx(Le,{ref:r,className:_e(n&&"text-destructive",e),htmlFor:s,...t})});Tn.displayName="FormLabel";const Rr=E.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=Nw();return c.jsx(sf,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});Rr.displayName="FormControl";const hke=E.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Nw();return c.jsx("p",{ref:r,id:n,className:_e("text-sm text-muted-foreground",e),...t})});hke.displayName="FormDescription";const dn=E.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=Nw(),a=s?String(s?.message??""):t;return a?c.jsx("p",{ref:n,id:i,className:_e("text-[10px] font-black text-destructive text-right uppercase tracking-tighter mt-1 animate-in fade-in slide-in-from-top-1 duration-200",e),...r,children:a}):null});dn.displayName="FormMessage";const BE=E.createContext({});function UE(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const Tw=E.createContext(null),VE=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class pke extends E.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function mke({children:e,isPresent:t}){const r=E.useId(),n=E.useRef(null),s=E.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=E.useContext(VE);return E.useInsertionEffect(()=>{const{width:a,height:o,top:u,left:l}=s.current;if(t||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${u}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(pke,{isPresent:t,childRef:n,sizeRef:s,children:E.cloneElement(e,{ref:n})})}const gke=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=UE(yke),u=E.useId(),l=E.useCallback(h=>{o.set(h,!0);for(const f of o.values())if(!f)return;n&&n()},[o,n]),d=E.useMemo(()=>({id:u,initial:t,isPresent:r,custom:s,onExitComplete:l,register:h=>(o.set(h,!1),()=>o.delete(h))}),i?[Math.random(),l]:[r,l]);return E.useMemo(()=>{o.forEach((h,f)=>o.set(f,!1))},[r]),E.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),a==="popLayout"&&(e=c.jsx(mke,{isPresent:r,children:e})),c.jsx(Tw.Provider,{value:d,children:e})};function yke(){return new Map}function qG(e=!0){const t=E.useContext(Tw);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=E.useId();E.useEffect(()=>{e&&s(i)},[e]);const a=E.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,a]:[!0]}const lb=e=>e.key||"";function UP(e){const t=[];return E.Children.forEach(e,r=>{E.isValidElement(r)&&t.push(r)}),t}const WE=typeof window<"u",HG=WE?E.useLayoutEffect:E.useEffect,zg=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[o,u]=qG(a),l=E.useMemo(()=>UP(e),[e]),d=a&&!o?[]:l.map(lb),h=E.useRef(!0),f=E.useRef(l),p=UE(()=>new Map),[g,y]=E.useState(l),[m,v]=E.useState(l);HG(()=>{h.current=!1,f.current=l;for(let k=0;k<m.length;k++){const T=lb(m[k]);d.includes(T)?p.delete(T):p.get(T)!==!0&&p.set(T,!1)}},[m,d.length,d.join("-")]);const b=[];if(l!==g){let k=[...l];for(let T=0;T<m.length;T++){const O=m[T],F=lb(O);d.includes(F)||(k.splice(T,0,O),b.push(O))}i==="wait"&&b.length&&(k=b),v(UP(k)),y(l);return}const{forceRender:x}=E.useContext(BE);return c.jsx(c.Fragment,{children:m.map(k=>{const T=lb(k),O=a&&!o?!1:l===m||d.includes(T),F=()=>{if(p.has(T))p.set(T,!0);else return;let A=!0;p.forEach(P=>{P||(A=!1)}),A&&(x?.(),v(f.current),a&&u?.(),n&&n())};return c.jsx(gke,{isPresent:O,initial:!h.current||r?void 0:!1,custom:O?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:O?void 0:F,children:k},T)})})},la=e=>e;let KG=la;function qE(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jh=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},$l=e=>e*1e3,Ll=e=>e/1e3,bke={useManualTiming:!1};function vke(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(l){i.has(l)&&(u.schedule(l),e()),l(a)}const u={schedule:(l,d=!1,h=!1)=>{const p=h&&n?t:r;return d&&i.add(l),p.has(l)||p.add(l),l},cancel:l=>{r.delete(l),i.delete(l)},process:l=>{if(a=l,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(o),t.clear(),n=!1,s&&(s=!1,u.process(l))}};return u}const cb=["read","resolveKeyframes","update","preRender","render","postRender"],xke=40;function GG(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=cb.reduce((v,b)=>(v[b]=vke(i),v),{}),{read:o,resolveKeyframes:u,update:l,preRender:d,render:h,postRender:f}=a,p=()=>{const v=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(v-s.timestamp,xke),1),s.timestamp=v,s.isProcessing=!0,o.process(s),u.process(s),l.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(p))},g=()=>{r=!0,n=!0,s.isProcessing||e(p)};return{schedule:cb.reduce((v,b)=>{const x=a[b];return v[b]=(k,T=!1,O=!1)=>(r||g(),x.schedule(k,T,O)),v},{}),cancel:v=>{for(let b=0;b<cb.length;b++)a[cb[b]].cancel(v)},state:s,steps:a}}const{schedule:pn,cancel:yu,state:Ds,steps:N2}=GG(typeof requestAnimationFrame<"u"?requestAnimationFrame:la,!0),ZG=E.createContext({strict:!1}),VP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ep={};for(const e in VP)ep[e]={isEnabled:t=>VP[e].some(r=>!!t[r])};function wke(e){for(const t in e)ep[t]={...ep[t],...e[t]}}const _ke=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_ke.has(e)}let XG=e=>!yx(e);function Ske(e){e&&(XG=t=>t.startsWith("on")?!yx(t):e(t))}try{Ske(require("@emotion/is-prop-valid").default)}catch{}function kke(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(XG(s)||r===!0&&yx(s)||!t&&!yx(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function jke(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Ew=E.createContext({});function Bg(e){return typeof e=="string"||Array.isArray(e)}function Cw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const HE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],KE=["initial",...HE];function Aw(e){return Cw(e.animate)||KE.some(t=>Bg(e[t]))}function YG(e){return!!(Aw(e)||e.variants)}function Nke(e,t){if(Aw(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Bg(r)?r:void 0,animate:Bg(n)?n:void 0}}return e.inherit!==!1?t:{}}function Tke(e){const{initial:t,animate:r}=Nke(e,E.useContext(Ew));return E.useMemo(()=>({initial:t,animate:r}),[WP(t),WP(r)])}function WP(e){return Array.isArray(e)?e.join(" "):e}const Eke=Symbol.for("motionComponentSymbol");function Kf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Cke(e,t,r){return E.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Kf(r)&&(r.current=n))},[t])}const GE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ake="framerAppearId",QG="data-"+GE(Ake),{schedule:ZE}=GG(queueMicrotask,!1),JG=E.createContext({});function Pke(e,t,r,n,s){var i,a;const{visualElement:o}=E.useContext(Ew),u=E.useContext(ZG),l=E.useContext(Tw),d=E.useContext(VE).reducedMotion,h=E.useRef(null);n=n||u.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=E.useContext(JG);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Ike(h.current,r,s,p);const g=E.useRef(!1);E.useInsertionEffect(()=>{f&&g.current&&f.update(r,l)});const y=r[QG],m=E.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,y)));return HG(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),ZE.render(f.render),m.current&&f.animationState&&f.animationState.animateChanges())}),E.useEffect(()=>{f&&(!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),m.current=!1))}),f}function Ike(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:u,layoutRoot:l}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:eZ(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Kf(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:u,layoutRoot:l})}function eZ(e){if(e)return e.options.allowProjection!==!1?e.projection:eZ(e.parent)}function Rke({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var i,a;e&&wke(e);function o(l,d){let h;const f={...E.useContext(VE),...l,layoutId:Oke(l)},{isStatic:p}=f,g=Tke(l),y=n(l,p);if(!p&&WE){Mke();const m=Dke(f);h=m.MeasureLayout,g.visualElement=Pke(s,y,f,t,m.ProjectionNode)}return c.jsxs(Ew.Provider,{value:g,children:[h&&g.visualElement?c.jsx(h,{visualElement:g.visualElement,...f}):null,r(s,l,Cke(y,g.visualElement,d),y,p,g.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const u=E.forwardRef(o);return u[Eke]=s,u}function Oke({layoutId:e}){const t=E.useContext(BE).id;return t&&e!==void 0?t+"-"+e:e}function Mke(e,t){E.useContext(ZG).strict}function Dke(e){const{drag:t,layout:r}=ep;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const $ke=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XE(e){return typeof e!="string"||e.includes("-")?!1:!!($ke.indexOf(e)>-1||/[A-Z]/u.test(e))}function qP(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function YE(e,t,r,n){if(typeof t=="function"){const[s,i]=qP(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=qP(n);t=t(r!==void 0?r:e.custom,s,i)}return t}const H4=e=>Array.isArray(e),Lke=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Fke=e=>H4(e)?e[e.length-1]||0:e,ii=e=>!!(e&&e.getVelocity);function Yb(e){const t=ii(e)?e.get():e;return Lke(t)?t.toValue():t}function zke({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,i){const a={latestValues:Bke(n,s,i,e),renderState:t()};return r&&(a.onMount=o=>r({props:n,current:o,...a}),a.onUpdate=o=>r(o)),a}const tZ=e=>(t,r)=>{const n=E.useContext(Ew),s=E.useContext(Tw),i=()=>zke(e,t,n,s);return r?i():UE(i)};function Bke(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=Yb(i[f]);let{initial:a,animate:o}=e;const u=Aw(e),l=YG(e);t&&l&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Cw(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const g=YE(e,f[p]);if(g){const{transitionEnd:y,transition:m,...v}=g;for(const b in v){let x=v[b];if(Array.isArray(x)){const k=d?x.length-1:0;x=x[k]}x!==null&&(s[b]=x)}for(const b in y)s[b]=y[b]}}}return s}const Tp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],af=new Set(Tp),rZ=e=>t=>typeof t=="string"&&t.startsWith(e),nZ=rZ("--"),Uke=rZ("var(--"),QE=e=>Uke(e)?Vke.test(e.split("/*")[0].trim()):!1,Vke=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sZ=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ec=(e,t,r)=>r>t?t:r<e?e:r,Ep={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ug={...Ep,transform:e=>ec(0,1,e)},ub={...Ep,default:1},ty=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),bc=ty("deg"),Jo=ty("%"),Lt=ty("px"),Wke=ty("vh"),qke=ty("vw"),HP={...Jo,parse:e=>Jo.parse(e)/100,transform:e=>Jo.transform(e*100)},Hke={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,backgroundPositionX:Lt,backgroundPositionY:Lt},Kke={rotate:bc,rotateX:bc,rotateY:bc,rotateZ:bc,scale:ub,scaleX:ub,scaleY:ub,scaleZ:ub,skew:bc,skewX:bc,skewY:bc,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:Ug,originX:HP,originY:HP,originZ:Lt},KP={...Ep,transform:Math.round},JE={...Hke,...Kke,zIndex:KP,size:Lt,fillOpacity:Ug,strokeOpacity:Ug,numOctaves:KP},Gke={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zke=Tp.length;function Xke(e,t,r){let n="",s=!0;for(let i=0;i<Zke;i++){const a=Tp[i],o=e[a];if(o===void 0)continue;let u=!0;if(typeof o=="number"?u=o===(a.startsWith("scale")?1:0):u=parseFloat(o)===0,!u||r){const l=sZ(o,JE[a]);if(!u){s=!1;const d=Gke[a]||a;n+=`${d}(${l}) `}r&&(t[a]=l)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function e6(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const u in t){const l=t[u];if(af.has(u)){a=!0;continue}else if(nZ(u)){s[u]=l;continue}else{const d=sZ(l,JE[u]);u.startsWith("origin")?(o=!0,i[u]=d):n[u]=d}}if(t.transform||(a||r?n.transform=Xke(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:u="50%",originY:l="50%",originZ:d=0}=i;n.transformOrigin=`${u} ${l} ${d}`}}const Yke={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qke={offset:"strokeDashoffset",array:"strokeDasharray"};function Jke(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?Yke:Qke;e[i.offset]=Lt.transform(-n);const a=Lt.transform(t),o=Lt.transform(r);e[i.array]=`${a} ${o}`}function GP(e,t,r){return typeof e=="string"?e:Lt.transform(t+r*e)}function e4e(e,t,r){const n=GP(t,e.x,e.width),s=GP(r,e.y,e.height);return`${n} ${s}`}function t6(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...l},d,h){if(e6(e,l,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:g}=e;f.transform&&(g&&(p.transform=f.transform),delete f.transform),g&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=e4e(g,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Jke(f,a,o,u,!1)}const r6=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),iZ=()=>({...r6(),attrs:{}}),n6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function aZ(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const oZ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lZ(e,t,r,n){aZ(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(oZ.has(s)?s:GE(s),t.attrs[s])}const bx={};function t4e(e){Object.assign(bx,e)}function cZ(e,{layout:t,layoutId:r}){return af.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!bx[e]||e==="opacity")}function s6(e,t,r){var n;const{style:s}=e,i={};for(const a in s)(ii(s[a])||t.style&&ii(t.style[a])||cZ(a,e)||((n=r?.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function uZ(e,t,r){const n=s6(e,t,r);for(const s in e)if(ii(e[s])||ii(t[s])){const i=Tp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function r4e(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const ZP=["x","y","width","height","cx","cy","r"],n4e={useVisualState:tZ({scrapeMotionValuesFromProps:uZ,createRenderState:iZ,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const o in s)if(af.has(o)){i=!0;break}}if(!i)return;let a=!t;if(t)for(let o=0;o<ZP.length;o++){const u=ZP[o];e[u]!==t[u]&&(a=!0)}a&&pn.read(()=>{r4e(r,n),pn.render(()=>{t6(n,s,n6(r.tagName),e.transformTemplate),lZ(r,n)})})}})},s4e={useVisualState:tZ({scrapeMotionValuesFromProps:s6,createRenderState:r6})};function dZ(e,t,r){for(const n in t)!ii(t[n])&&!cZ(n,r)&&(e[n]=t[n])}function i4e({transformTemplate:e},t){return E.useMemo(()=>{const r=r6();return e6(r,t,e),Object.assign({},r.vars,r.style)},[t])}function a4e(e,t){const r=e.style||{},n={};return dZ(n,r,e),Object.assign(n,i4e(e,t)),n}function o4e(e,t){const r={},n=a4e(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function l4e(e,t,r,n){const s=E.useMemo(()=>{const i=iZ();return t6(i,t,n6(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};dZ(i,e.style,e),s.style={...i,...s.style}}return s}function c4e(e=!1){return(r,n,s,{latestValues:i},a)=>{const u=(XE(r)?l4e:o4e)(n,i,a,r),l=kke(n,typeof r=="string",e),d=r!==E.Fragment?{...l,...u,ref:s}:{},{children:h}=n,f=E.useMemo(()=>ii(h)?h.get():h,[h]);return E.createElement(r,{...d,children:f})}}function u4e(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...XE(n)?n4e:s4e,preloadedFeatures:e,useRender:c4e(s),createVisualElement:t,Component:n};return Rke(a)}}function fZ(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Pw(e,t,r){const n=e.getProps();return YE(n,t,r!==void 0?r:n.custom,e)}const d4e=qE(()=>window.ScrollTimeline!==void 0);class f4e{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(d4e()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class h4e extends f4e{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function i6(e,t){return e?e[t]||e.default||e:void 0}const K4=2e4;function hZ(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<K4;)t+=r,n=e.next(t);return t>=K4?1/0:t}function a6(e){return typeof e=="function"}function XP(e,t){e.timeline=t,e.onfinish=null}const o6=e=>Array.isArray(e)&&typeof e[0]=="number",p4e={linearEasing:void 0};function m4e(e,t){const r=qE(e);return()=>{var n;return(n=p4e[t])!==null&&n!==void 0?n:r()}}const vx=m4e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pZ=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(Jh(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function mZ(e){return!!(typeof e=="function"&&vx()||!e||typeof e=="string"&&(e in G4||vx())||o6(e)||Array.isArray(e)&&e.every(mZ))}const Nm=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,G4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nm([0,.65,.55,1]),circOut:Nm([.55,0,1,.45]),backIn:Nm([.31,.01,.66,-.59]),backOut:Nm([.33,1.53,.69,.99])};function gZ(e,t){if(e)return typeof e=="function"&&vx()?pZ(e,t):o6(e)?Nm(e):Array.isArray(e)?e.map(r=>gZ(r,t)||G4.easeOut):G4[e]}const to={x:!1,y:!1};function yZ(){return to.x||to.y}function g4e(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function bZ(e,t){const r=g4e(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function YP(e){return t=>{t.pointerType==="touch"||yZ()||e(t)}}function y4e(e,t,r={}){const[n,s,i]=bZ(e,r),a=YP(o=>{const{target:u}=o,l=t(o);if(typeof l!="function"||!u)return;const d=YP(h=>{l(h),u.removeEventListener("pointerleave",d)});u.addEventListener("pointerleave",d,s)});return n.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const vZ=(e,t)=>t?e===t?!0:vZ(e,t.parentElement):!1,l6=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,b4e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function v4e(e){return b4e.has(e.tagName)||e.tabIndex!==-1}const Tm=new WeakSet;function QP(e){return t=>{t.key==="Enter"&&e(t)}}function T2(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const x4e=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=QP(()=>{if(Tm.has(r))return;T2(r,"down");const s=QP(()=>{T2(r,"up")}),i=()=>T2(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function JP(e){return l6(e)&&!yZ()}function w4e(e,t,r={}){const[n,s,i]=bZ(e,r),a=o=>{const u=o.currentTarget;if(!JP(o)||Tm.has(u))return;Tm.add(u);const l=t(o),d=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!JP(p)||!Tm.has(u))&&(Tm.delete(u),typeof l=="function"&&l(p,{success:g}))},h=p=>{d(p,r.useGlobalTarget||vZ(u,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(o=>{!v4e(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",l=>x4e(l,s),s)}),i}function _4e(e){return e==="x"||e==="y"?to[e]?null:(to[e]=!0,()=>{to[e]=!1}):to.x||to.y?null:(to.x=to.y=!0,()=>{to.x=to.y=!1})}const xZ=new Set(["width","height","top","left","right","bottom",...Tp]);let Qb;function S4e(){Qb=void 0}const el={now:()=>(Qb===void 0&&el.set(Ds.isProcessing||bke.useManualTiming?Ds.timestamp:performance.now()),Qb),set:e=>{Qb=e,queueMicrotask(S4e)}};function c6(e,t){e.indexOf(t)===-1&&e.push(t)}function u6(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class d6{constructor(){this.subscriptions=[]}add(t){return c6(this.subscriptions,t),()=>u6(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function wZ(e,t){return t?e*(1e3/t):0}const eI=30,k4e=e=>!isNaN(parseFloat(e));class j4e{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=el.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=el.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=k4e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new d6);const n=this.events[t].add(r);return t==="change"?()=>{n(),pn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=el.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>eI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,eI);return wZ(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vg(e,t){return new j4e(e,t)}function N4e(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Vg(r))}function T4e(e,t){const r=Pw(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const o=Fke(i[a]);N4e(e,a,o)}}function E4e(e){return!!(ii(e)&&e.add)}function Z4(e,t){const r=e.getValue("willChange");if(E4e(r))return r.add(t)}function _Z(e){return e.props[QG]}const SZ=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,C4e=1e-7,A4e=12;function P4e(e,t,r,n,s){let i,a,o=0;do a=t+(r-t)/2,i=SZ(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>C4e&&++o<A4e);return a}function ry(e,t,r,n){if(e===t&&r===n)return la;const s=i=>P4e(i,0,1,e,r);return i=>i===0||i===1?i:SZ(s(i),t,n)}const kZ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,jZ=e=>t=>1-e(1-t),NZ=ry(.33,1.53,.69,.99),f6=jZ(NZ),TZ=kZ(f6),EZ=e=>(e*=2)<1?.5*f6(e):.5*(2-Math.pow(2,-10*(e-1))),h6=e=>1-Math.sin(Math.acos(e)),CZ=jZ(h6),AZ=kZ(h6),PZ=e=>/^0[^.\s]+$/u.test(e);function I4e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||PZ(e):!0}const Ym=e=>Math.round(e*1e5)/1e5,p6=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R4e(e){return e==null}const O4e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,m6=(e,t)=>r=>!!(typeof r=="string"&&O4e.test(r)&&r.startsWith(e)||t&&!R4e(r)&&Object.prototype.hasOwnProperty.call(r,t)),IZ=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,o]=n.match(p6);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},M4e=e=>ec(0,255,e),E2={...Ep,transform:e=>Math.round(M4e(e))},rd={test:m6("rgb","red"),parse:IZ("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+E2.transform(e)+", "+E2.transform(t)+", "+E2.transform(r)+", "+Ym(Ug.transform(n))+")"};function D4e(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const X4={test:m6("#"),parse:D4e,transform:rd.transform},Gf={test:m6("hsl","hue"),parse:IZ("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Jo.transform(Ym(t))+", "+Jo.transform(Ym(r))+", "+Ym(Ug.transform(n))+")"},ei={test:e=>rd.test(e)||X4.test(e)||Gf.test(e),parse:e=>rd.test(e)?rd.parse(e):Gf.test(e)?Gf.parse(e):X4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rd.transform(e):Gf.transform(e)},$4e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function L4e(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(p6))===null||t===void 0?void 0:t.length)||0)+(((r=e.match($4e))===null||r===void 0?void 0:r.length)||0)>0}const RZ="number",OZ="color",F4e="var",z4e="var(",tI="${}",B4e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(B4e,u=>(ei.test(u)?(n.color.push(i),s.push(OZ),r.push(ei.parse(u))):u.startsWith(z4e)?(n.var.push(i),s.push(F4e),r.push(u)):(n.number.push(i),s.push(RZ),r.push(parseFloat(u))),++i,tI)).split(tI);return{values:r,split:o,indexes:n,types:s}}function MZ(e){return Wg(e).values}function DZ(e){const{split:t,types:r}=Wg(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const o=r[a];o===RZ?i+=Ym(s[a]):o===OZ?i+=ei.transform(s[a]):i+=s[a]}return i}}const U4e=e=>typeof e=="number"?0:e;function V4e(e){const t=MZ(e);return DZ(e)(t.map(U4e))}const bu={test:L4e,parse:MZ,createTransformer:DZ,getAnimatableNone:V4e},W4e=new Set(["brightness","contrast","saturate","opacity"]);function q4e(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(p6)||[];if(!n)return e;const s=r.replace(n,"");let i=W4e.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const H4e=/\b([a-z-]*)\(.*?\)/gu,Y4={...bu,getAnimatableNone:e=>{const t=e.match(H4e);return t?t.map(q4e).join(" "):e}},K4e={...JE,color:ei,backgroundColor:ei,outlineColor:ei,fill:ei,stroke:ei,borderColor:ei,borderTopColor:ei,borderRightColor:ei,borderBottomColor:ei,borderLeftColor:ei,filter:Y4,WebkitFilter:Y4},g6=e=>K4e[e];function $Z(e,t){let r=g6(e);return r!==Y4&&(r=bu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const G4e=new Set(["auto","none","0"]);function Z4e(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!G4e.has(i)&&Wg(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=$Z(r,s)}const rI=e=>e===Ep||e===Lt,nI=(e,t)=>parseFloat(e.split(", ")[t]),sI=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return nI(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?nI(i[1],e):0}},X4e=new Set(["x","y","z"]),Y4e=Tp.filter(e=>!X4e.has(e));function Q4e(e){const t=[];return Y4e.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const tp={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:sI(4,13),y:sI(5,14)};tp.translateX=tp.x;tp.translateY=tp.y;const Sd=new Set;let Q4=!1,J4=!1;function LZ(){if(J4){const e=Array.from(Sd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=Q4e(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var o;(o=n.getValue(i))===null||o===void 0||o.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}J4=!1,Q4=!1,Sd.forEach(e=>e.complete()),Sd.clear()}function FZ(){Sd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(J4=!0)})}function J4e(){FZ(),LZ()}class y6{constructor(t,r,n,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Sd.add(this),Q4||(Q4=!0,pn.read(FZ),pn.resolveKeyframes(LZ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const a=s?.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const u=n.readValue(r,o);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Sd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Sd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const zZ=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),eje=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tje(e){const t=eje.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function BZ(e,t,r=1){const[n,s]=tje(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return zZ(a)?parseFloat(a):a}return QE(s)?BZ(s,t,r+1):s}const UZ=e=>t=>t.test(e),rje={test:e=>e==="auto",parse:e=>e},VZ=[Ep,Lt,Jo,bc,qke,Wke,rje],iI=e=>VZ.find(UZ(e));class WZ extends y6{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let l=t[u];if(typeof l=="string"&&(l=l.trim(),QE(l))){const d=BZ(l,r.current);d!==void 0&&(t[u]=d),u===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!xZ.has(n)||t.length!==2)return;const[s,i]=t,a=iI(s),o=iI(i);if(a!==o)if(rI(a)&&rI(o))for(let u=0;u<t.length;u++){const l=t[u];typeof l=="string"&&(t[u]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)I4e(t[s])&&n.push(s);n.length&&Z4e(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tp[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=tp[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,l])=>{r.getValue(u).set(l)}),this.resolveNoneKeyframes()}}const aI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bu.test(e)||e==="0")&&!e.startsWith("url("));function nje(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function sje(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=aI(s,t),o=aI(i,t);return!a||!o?!1:nje(e)||(r==="spring"||a6(r))&&n}const ije=e=>e!==null;function Iw(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(ije),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const aje=40;class qZ{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=el.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aje?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&J4e(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=el.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:a,onComplete:o,onUpdate:u,isGenerator:l}=this.options;if(!l&&!sje(t,n,s,i))if(a)this.options.duration=0;else{u&&u(Iw(t,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Pn=(e,t,r)=>e+(t-e)*r;function C2(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function oje({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const o=r<.5?r*(1+t):r+t-r*t,u=2*r-o;s=C2(u,o,e+1/3),i=C2(u,o,e),a=C2(u,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function xx(e,t){return r=>r>0?t:e}const A2=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},lje=[X4,rd,Gf],cje=e=>lje.find(t=>t.test(e));function oI(e){const t=cje(e);if(!t)return!1;let r=t.parse(e);return t===Gf&&(r=oje(r)),r}const lI=(e,t)=>{const r=oI(e),n=oI(t);if(!r||!n)return xx(e,t);const s={...r};return i=>(s.red=A2(r.red,n.red,i),s.green=A2(r.green,n.green,i),s.blue=A2(r.blue,n.blue,i),s.alpha=Pn(r.alpha,n.alpha,i),rd.transform(s))},uje=(e,t)=>r=>t(e(r)),ny=(...e)=>e.reduce(uje),ej=new Set(["none","hidden"]);function dje(e,t){return ej.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function fje(e,t){return r=>Pn(e,t,r)}function b6(e){return typeof e=="number"?fje:typeof e=="string"?QE(e)?xx:ei.test(e)?lI:mje:Array.isArray(e)?HZ:typeof e=="object"?ei.test(e)?lI:hje:xx}function HZ(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>b6(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function hje(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=b6(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function pje(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],u=(r=e.values[o])!==null&&r!==void 0?r:0;n[i]=u,s[a]++}return n}const mje=(e,t)=>{const r=bu.createTransformer(t),n=Wg(e),s=Wg(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?ej.has(e)&&!s.values.length||ej.has(t)&&!n.values.length?dje(e,t):ny(HZ(pje(n,s),s.values),r):xx(e,t)};function KZ(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Pn(e,t,r):b6(e)(e,t)}const gje=5;function GZ(e,t,r){const n=Math.max(t-gje,0);return wZ(r-e(n),t-n)}const Ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},P2=.001;function yje({duration:e=Ln.duration,bounce:t=Ln.bounce,velocity:r=Ln.velocity,mass:n=Ln.mass}){let s,i,a=1-t;a=ec(Ln.minDamping,Ln.maxDamping,a),e=ec(Ln.minDuration,Ln.maxDuration,Ll(e)),a<1?(s=l=>{const d=l*a,h=d*e,f=d-r,p=tj(l,a),g=Math.exp(-h);return P2-f/p*g},i=l=>{const h=l*a*e,f=h*r+r,p=Math.pow(a,2)*Math.pow(l,2)*e,g=Math.exp(-h),y=tj(Math.pow(l,2),a);return(-s(l)+P2>0?-1:1)*((f-p)*g)/y}):(s=l=>{const d=Math.exp(-l*e),h=(l-r)*e+1;return-P2+d*h},i=l=>{const d=Math.exp(-l*e),h=(r-l)*(e*e);return d*h});const o=5/e,u=vje(s,i,o);if(e=$l(e),isNaN(u))return{stiffness:Ln.stiffness,damping:Ln.damping,duration:e};{const l=Math.pow(u,2)*n;return{stiffness:l,damping:a*2*Math.sqrt(n*l),duration:e}}}const bje=12;function vje(e,t,r){let n=r;for(let s=1;s<bje;s++)n=n-e(n)/t(n);return n}function tj(e,t){return e*Math.sqrt(1-t*t)}const xje=["duration","bounce"],wje=["stiffness","damping","mass"];function cI(e,t){return t.some(r=>e[r]!==void 0)}function _je(e){let t={velocity:Ln.velocity,stiffness:Ln.stiffness,damping:Ln.damping,mass:Ln.mass,isResolvedFromDuration:!1,...e};if(!cI(e,wje)&&cI(e,xje))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*ec(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ln.mass,stiffness:s,damping:i}}else{const r=yje(e);t={...t,...r,mass:Ln.mass},t.isResolvedFromDuration=!0}return t}function ZZ(e=Ln.visualDuration,t=Ln.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:u,damping:l,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=_je({...r,velocity:-Ll(r.velocity||0)}),g=f||0,y=l/(2*Math.sqrt(u*d)),m=a-i,v=Ll(Math.sqrt(u/d)),b=Math.abs(m)<5;n||(n=b?Ln.restSpeed.granular:Ln.restSpeed.default),s||(s=b?Ln.restDelta.granular:Ln.restDelta.default);let x;if(y<1){const T=tj(v,y);x=O=>{const F=Math.exp(-y*v*O);return a-F*((g+y*v*m)/T*Math.sin(T*O)+m*Math.cos(T*O))}}else if(y===1)x=T=>a-Math.exp(-v*T)*(m+(g+v*m)*T);else{const T=v*Math.sqrt(y*y-1);x=O=>{const F=Math.exp(-y*v*O),A=Math.min(T*O,300);return a-F*((g+y*v*m)*Math.sinh(A)+T*m*Math.cosh(A))/T}}const k={calculatedDuration:p&&h||null,next:T=>{const O=x(T);if(p)o.done=T>=h;else{let F=0;y<1&&(F=T===0?$l(g):GZ(x,T,O));const A=Math.abs(F)<=n,P=Math.abs(a-O)<=s;o.done=A&&P}return o.value=o.done?a:O,o},toString:()=>{const T=Math.min(hZ(k),K4),O=pZ(F=>k.next(T*F).value,T,30);return T+"ms "+O}};return k}function uI({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:u,restDelta:l=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=A=>o!==void 0&&A<o||u!==void 0&&A>u,g=A=>o===void 0?u:u===void 0||Math.abs(o-A)<Math.abs(u-A)?o:u;let y=r*t;const m=h+y,v=a===void 0?m:a(m);v!==m&&(y=v-h);const b=A=>-y*Math.exp(-A/n),x=A=>v+b(A),k=A=>{const P=b(A),D=x(A);f.done=Math.abs(P)<=l,f.value=f.done?v:D};let T,O;const F=A=>{p(f.value)&&(T=A,O=ZZ({keyframes:[f.value,g(f.value)],velocity:GZ(x,A,f.value),damping:s,stiffness:i,restDelta:l,restSpeed:d}))};return F(0),{calculatedDuration:null,next:A=>{let P=!1;return!O&&T===void 0&&(P=!0,k(A),F(A)),T!==void 0&&A>=T?O.next(A-T):(!P&&k(A),f)}}}const Sje=ry(.42,0,1,1),kje=ry(0,0,.58,1),XZ=ry(.42,0,.58,1),jje=e=>Array.isArray(e)&&typeof e[0]!="number",Nje={linear:la,easeIn:Sje,easeInOut:XZ,easeOut:kje,circIn:h6,circInOut:AZ,circOut:CZ,backIn:f6,backInOut:TZ,backOut:NZ,anticipate:EZ},dI=e=>{if(o6(e)){KG(e.length===4);const[t,r,n,s]=e;return ry(t,r,n,s)}else if(typeof e=="string")return Nje[e];return e};function Tje(e,t,r){const n=[],s=r||KZ,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||la:t;o=ny(u,o)}n.push(o)}return n}function Eje(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(KG(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Tje(t,n,s),u=o.length,l=d=>{if(a&&d<e[0])return t[0];let h=0;if(u>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Jh(e[h],e[h+1],d);return o[h](f)};return r?d=>l(ec(e[0],e[i-1],d)):l}function Cje(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Jh(0,t,n);e.push(Pn(r,1,s))}}function Aje(e){const t=[0];return Cje(t,e.length-1),t}function Pje(e,t){return e.map(r=>r*t)}function Ije(e,t){return e.map(()=>t||XZ).splice(0,e.length-1)}function wx({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=jje(n)?n.map(dI):dI(n),i={done:!1,value:t[0]},a=Pje(r&&r.length===t.length?r:Aje(t),e),o=Eje(a,t,{ease:Array.isArray(s)?s:Ije(t,s)});return{calculatedDuration:e,next:u=>(i.value=o(u),i.done=u>=e,i)}}const Rje=e=>{const t=({timestamp:r})=>e(r);return{start:()=>pn.update(t,!0),stop:()=>yu(t),now:()=>Ds.isProcessing?Ds.timestamp:el.now()}},Oje={decay:uI,inertia:uI,tween:wx,keyframes:wx,spring:ZZ},Mje=e=>e/100;class v6 extends qZ{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,a=s?.KeyframeResolver||y6,o=(u,l)=>this.onKeyframesResolved(u,l);this.resolver=new a(i,o,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=a6(r)?r:Oje[r]||wx;let u,l;o!==wx&&typeof t[0]!="number"&&(u=ny(Mje,KZ(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});i==="mirror"&&(l=o({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=hZ(d));const{calculatedDuration:h}=d,f=h+s,p=f*(n+1)-s;return{generator:d,mirroredGenerator:l,mapPercentToKeyframes:u,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:u,calculatedDuration:l,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:g,repeatDelay:y,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let x=this.currentTime,k=i;if(p){const A=Math.min(this.currentTime,d)/h;let P=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(g==="reverse"?(D=1-D,y&&(D-=y/h)):g==="mirror"&&(k=a)),x=ec(0,1,D)*h}const T=b?{done:!1,value:u[0]}:k.next(x);o&&(T.value=o(T.value));let{done:O}=T;!b&&l!==null&&(O=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return F&&s!==void 0&&(T.value=Iw(u,this.options,s)),m&&m(T.value),F&&this.finish(),T}get duration(){const{resolved:t}=this;return t?Ll(t.calculatedDuration):0}get time(){return Ll(this.currentTime)}set time(t){t=$l(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ll(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Rje,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Dje=new Set(["opacity","clipPath","filter","transform"]);function $je(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:u}={}){const l={[t]:r};u&&(l.offset=u);const d=gZ(o,s);return Array.isArray(d)&&(l.easing=d),e.animate(l,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const Lje=qE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_x=10,Fje=2e4;function zje(e){return a6(e.type)||e.type==="spring"||!mZ(e.ease)}function Bje(e,t){const r=new v6({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<Fje;)n=r.sample(i),s.push(n.value),i+=_x;return{times:void 0,keyframes:s,duration:i-_x,ease:"linear"}}const YZ={anticipate:EZ,backInOut:TZ,circInOut:AZ};function Uje(e){return e in YZ}class fI extends qZ{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new WZ(i,(a,o)=>this.onKeyframesResolved(a,o),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:i,type:a,motionValue:o,name:u,startTime:l}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&vx()&&Uje(i)&&(i=YZ[i]),zje(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:g,...y}=this.options,m=Bje(t,y);t=m.keyframes,t.length===1&&(t[1]=t[0]),n=m.duration,s=m.times,i=m.ease,a="keyframes"}const d=$je(o.owner.current,u,t,{...this.options,duration:n,times:s,ease:i});return d.startTime=l??this.calcStartTime(),this.pendingTimeline?(XP(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(Iw(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Ll(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Ll(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=$l(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return la;const{animation:n}=r;XP(n,t)}return la}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:a,times:o}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:d,onComplete:h,element:f,...p}=this.options,g=new v6({...p,keyframes:n,duration:s,type:i,ease:a,times:o,isGenerator:!0}),y=$l(this.time);l.setWithVelocity(g.sample(y-_x).value,g.sample(y).value,_x)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=r.owner.getProps();return Lje()&&n&&Dje.has(n)&&!u&&!l&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const Vje={type:"spring",stiffness:500,damping:25,restSpeed:10},Wje=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),qje={type:"keyframes",duration:.8},Hje={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kje=(e,{keyframes:t})=>t.length>2?qje:af.has(e)?e.startsWith("scale")?Wje(t[1]):Vje:Hje;function Gje({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:u,elapsed:l,...d}){return!!Object.keys(d).length}const x6=(e,t,r,n={},s,i)=>a=>{const o=i6(n,e)||{},u=o.delay||n.delay||0;let{elapsed:l=0}=n;l=l-$l(u);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-l,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};Gje(o)||(d={...d,...Kje(e,d)}),d.duration&&(d.duration=$l(d.duration)),d.repeatDelay&&(d.repeatDelay=$l(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Iw(d.keyframes,o);if(f!==void 0)return pn.update(()=>{d.onUpdate(f),d.onComplete()}),new h4e([])}return!i&&fI.supports(d)?new fI(d):new v6(d)};function Zje({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function QZ(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...u}=t;n&&(a=n);const l=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in u){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),p=u[h];if(p===void 0||d&&Zje(d,h))continue;const g={delay:r,...i6(a||{},h)};let y=!1;if(window.MotionHandoffAnimation){const v=_Z(e);if(v){const b=window.MotionHandoffAnimation(v,h,pn);b!==null&&(g.startTime=b,y=!0)}}Z4(e,h),f.start(x6(h,f,p,e.shouldReduceMotion&&xZ.has(h)?{type:!1}:g,e,y));const m=f.animation;m&&l.push(m)}return o&&Promise.all(l).then(()=>{pn.update(()=>{o&&T4e(e,o)})}),l}function rj(e,t,r={}){var n;const s=Pw(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const a=s?()=>Promise.all(QZ(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return Xje(e,t,d+l,h,f,r)}:()=>Promise.resolve(),{when:u}=i;if(u){const[l,d]=u==="beforeChildren"?[a,o]:[o,a];return l().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function Xje(e,t,r=0,n=0,s=1,i){const a=[],o=(e.variantChildren.size-1)*n,u=s===1?(l=0)=>l*n:(l=0)=>o-l*n;return Array.from(e.variantChildren).sort(Yje).forEach((l,d)=>{l.notify("AnimationStart",t),a.push(rj(l,t,{...i,delay:r+u(d)}).then(()=>l.notify("AnimationComplete",t)))}),Promise.all(a)}function Yje(e,t){return e.sortNodePosition(t)}function Qje(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>rj(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=rj(e,t,r);else{const s=typeof t=="function"?Pw(e,t,r.custom):t;n=Promise.all(QZ(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Jje=KE.length;function JZ(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?JZ(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Jje;r++){const n=KE[r],s=e.props[n];(Bg(s)||s===!1)&&(t[n]=s)}return t}const eNe=[...HE].reverse(),tNe=HE.length;function rNe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Qje(e,r,n)))}function nNe(e){let t=rNe(e),r=hI(),n=!0;const s=u=>(l,d)=>{var h;const f=Pw(e,d,u==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...y}=f;l={...l,...y,...g}}return l};function i(u){t=u(e)}function a(u){const{props:l}=e,d=JZ(e.parent)||{},h=[],f=new Set;let p={},g=1/0;for(let m=0;m<tNe;m++){const v=eNe[m],b=r[v],x=l[v]!==void 0?l[v]:d[v],k=Bg(x),T=v===u?b.isActive:null;T===!1&&(g=m);let O=x===d[v]&&x!==l[v]&&k;if(O&&n&&e.manuallyAnimateOnMount&&(O=!1),b.protectedKeys={...p},!b.isActive&&T===null||!x&&!b.prevProp||Cw(x)||typeof x=="boolean")continue;const F=sNe(b.prevProp,x);let A=F||v===u&&b.isActive&&!O&&k||m>g&&k,P=!1;const D=Array.isArray(x)?x:[x];let V=D.reduce(s(v),{});T===!1&&(V={});const{prevResolvedValues:B={}}=b,C={...B,...V},I=_=>{A=!0,f.has(_)&&(P=!0,f.delete(_)),b.needsAnimating[_]=!0;const S=e.getValue(_);S&&(S.liveStyle=!1)};for(const _ in C){const S=V[_],j=B[_];if(p.hasOwnProperty(_))continue;let R=!1;H4(S)&&H4(j)?R=!fZ(S,j):R=S!==j,R?S!=null?I(_):f.add(_):S!==void 0&&f.has(_)?I(_):b.protectedKeys[_]=!0}b.prevProp=x,b.prevResolvedValues=V,b.isActive&&(p={...p,...V}),n&&e.blockInitialAnimation&&(A=!1),A&&(!(O&&F)||P)&&h.push(...D.map(_=>({animation:_,options:{type:v}})))}if(f.size){const m={};f.forEach(v=>{const b=e.getBaseTarget(v),x=e.getValue(v);x&&(x.liveStyle=!0),m[v]=b??null}),h.push({animation:m})}let y=!!h.length;return n&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(h):Promise.resolve()}function o(u,l){var d;if(r[u].isActive===l)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(u,l)}),r[u].isActive=l;const h=a(u);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=hI(),n=!0}}}function sNe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!fZ(t,e):!1}function Fu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hI(){return{animate:Fu(!0),whileInView:Fu(),whileHover:Fu(),whileTap:Fu(),whileDrag:Fu(),whileFocus:Fu(),exit:Fu()}}class Pu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class iNe extends Pu{constructor(t){super(t),t.animationState||(t.animationState=nNe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Cw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let aNe=0;class oNe extends Pu{constructor(){super(...arguments),this.id=aNe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const lNe={animation:{Feature:iNe},exit:{Feature:oNe}};function qg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function sy(e){return{point:{x:e.pageX,y:e.pageY}}}const cNe=e=>t=>l6(t)&&e(t,sy(t));function Qm(e,t,r,n){return qg(e,t,cNe(r),n)}const pI=(e,t)=>Math.abs(e-t);function uNe(e,t){const r=pI(e.x,t.x),n=pI(e.y,t.y);return Math.sqrt(r**2+n**2)}class eX{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=R2(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=uNe(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=h,{timestamp:y}=Ds;this.history.push({...g,timestamp:y});const{onStart:m,onMove:v}=this.handlers;f||(m&&m(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=I2(f,this.transformPagePoint),pn.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=R2(h.type==="pointercancel"?this.lastMoveEventInfo:I2(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,m),g&&g(h,m)},!l6(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=sy(t),o=I2(a,this.transformPagePoint),{point:u}=o,{timestamp:l}=Ds;this.history=[{...u,timestamp:l}];const{onSessionStart:d}=r;d&&d(t,R2(o,this.history)),this.removeListeners=ny(Qm(this.contextWindow,"pointermove",this.handlePointerMove),Qm(this.contextWindow,"pointerup",this.handlePointerUp),Qm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),yu(this.updatePoint)}}function I2(e,t){return t?{point:t(e.point)}:e}function mI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function R2({point:e},t){return{point:e,delta:mI(e,tX(t)),offset:mI(e,dNe(t)),velocity:fNe(t,.1)}}function dNe(e){return e[0]}function tX(e){return e[e.length-1]}function fNe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=tX(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>$l(t)));)r--;if(!n)return{x:0,y:0};const i=Ll(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const rX=1e-4,hNe=1-rX,pNe=1+rX,nX=.01,mNe=0-nX,gNe=0+nX;function ua(e){return e.max-e.min}function yNe(e,t,r){return Math.abs(e-t)<=r}function gI(e,t,r,n=.5){e.origin=n,e.originPoint=Pn(t.min,t.max,e.origin),e.scale=ua(r)/ua(t),e.translate=Pn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=hNe&&e.scale<=pNe||isNaN(e.scale))&&(e.scale=1),(e.translate>=mNe&&e.translate<=gNe||isNaN(e.translate))&&(e.translate=0)}function Jm(e,t,r,n){gI(e.x,t.x,r.x,n?n.originX:void 0),gI(e.y,t.y,r.y,n?n.originY:void 0)}function yI(e,t,r){e.min=r.min+t.min,e.max=e.min+ua(t)}function bNe(e,t,r){yI(e.x,t.x,r.x),yI(e.y,t.y,r.y)}function bI(e,t,r){e.min=t.min-r.min,e.max=e.min+ua(t)}function eg(e,t,r){bI(e.x,t.x,r.x),bI(e.y,t.y,r.y)}function vNe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Pn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Pn(r,e,n.max):Math.min(e,r)),e}function vI(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function xNe(e,{top:t,left:r,bottom:n,right:s}){return{x:vI(e.x,r,s),y:vI(e.y,t,n)}}function xI(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function wNe(e,t){return{x:xI(e.x,t.x),y:xI(e.y,t.y)}}function _Ne(e,t){let r=.5;const n=ua(e),s=ua(t);return s>n?r=Jh(t.min,t.max-n,e.min):n>s&&(r=Jh(e.min,e.max-s,t.min)),ec(0,1,r)}function SNe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const nj=.35;function kNe(e=nj){return e===!1?e=0:e===!0&&(e=nj),{x:wI(e,"left","right"),y:wI(e,"top","bottom")}}function wI(e,t,r){return{min:_I(e,t),max:_I(e,r)}}function _I(e,t){return typeof e=="number"?e:e[t]||0}const SI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zf=()=>({x:SI(),y:SI()}),kI=()=>({min:0,max:0}),Vn=()=>({x:kI(),y:kI()});function xa(e){return[e("x"),e("y")]}function sX({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function jNe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function NNe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function O2(e){return e===void 0||e===1}function sj({scale:e,scaleX:t,scaleY:r}){return!O2(e)||!O2(t)||!O2(r)}function Uu(e){return sj(e)||iX(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iX(e){return jI(e.x)||jI(e.y)}function jI(e){return e&&e!=="0%"}function Sx(e,t,r){const n=e-r,s=t*n;return r+s}function NI(e,t,r,n,s){return s!==void 0&&(e=Sx(e,s,n)),Sx(e,r,n)+t}function ij(e,t=0,r=1,n,s){e.min=NI(e.min,t,r,n,s),e.max=NI(e.max,t,r,n,s)}function aX(e,{x:t,y:r}){ij(e.x,t.translate,t.scale,t.originPoint),ij(e.y,r.translate,r.scale,r.originPoint)}const TI=.999999999999,EI=1.0000000000001;function TNe(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Yf(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,aX(e,a)),n&&Uu(i.latestValues)&&Yf(e,i.latestValues))}t.x<EI&&t.x>TI&&(t.x=1),t.y<EI&&t.y>TI&&(t.y=1)}function Xf(e,t){e.min=e.min+t,e.max=e.max+t}function CI(e,t,r,n,s=.5){const i=Pn(e.min,e.max,s);ij(e,t,r,i,n)}function Yf(e,t){CI(e.x,t.x,t.scaleX,t.scale,t.originX),CI(e.y,t.y,t.scaleY,t.scale,t.originY)}function oX(e,t){return sX(NNe(e.getBoundingClientRect(),t))}function ENe(e,t,r){const n=oX(e,r),{scroll:s}=t;return s&&(Xf(n.x,s.offset.x),Xf(n.y,s.offset.y)),n}const lX=({current:e})=>e?e.ownerDocument.defaultView:null,CNe=new WeakMap;class ANe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(sy(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_4e(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xa(m=>{let v=this.getAxisMotionValue(m).get()||0;if(Jo.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[m];x&&(v=ua(x)*(parseFloat(v)/100))}}this.originPoint[m]=v}),g&&pn.postRender(()=>g(d,h)),Z4(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:m}=h;if(p&&this.currentDirection===null){this.currentDirection=PNe(m),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,m),this.updateAxis("y",h.point,m),this.visualElement.render(),y&&y(d,h)},o=(d,h)=>this.stop(d,h),u=()=>xa(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new eX(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:lX(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&pn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!fb(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=vNe(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Kf(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=xNe(s.layoutBox,r):this.constraints=!1,this.elastic=kNe(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&xa(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=SNe(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Kf(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=ENe(n,s.root,this.visualElement.getTransformPagePoint());let a=wNe(s.layout.layoutBox,i);if(r){const o=r(jNe(a));this.hasMutatedConstraints=!!o,o&&(a=sX(o))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},l=xa(d=>{if(!fb(d,r,this.currentDirection))return;let h=u&&u[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(l).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Z4(this.visualElement,t),n.start(x6(t,n,0,r,this.visualElement,!1))}stopAnimation(){xa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xa(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){xa(r=>{const{drag:n}=this.getProps();if(!fb(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r];i.set(t[r]-Pn(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Kf(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};xa(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const u=o.get();s[a]=_Ne({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),xa(a=>{if(!fb(a,t,null))return;const o=this.getAxisMotionValue(a),{min:u,max:l}=this.constraints[a];o.set(Pn(u,l,s[a]))})}addListeners(){if(!this.visualElement.current)return;CNe.set(this.visualElement,this);const t=this.visualElement.current,r=Qm(t,"pointerdown",u=>{const{drag:l,dragListener:d=!0}=this.getProps();l&&d&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Kf(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),pn.read(n);const a=qg(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(xa(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=u[d].translate,h.set(h.get()+u[d].translate))}),this.visualElement.render())}));return()=>{a(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=nj,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function fb(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function PNe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class INe extends Pu{constructor(t){super(t),this.removeGroupControls=la,this.removeListeners=la,this.controls=new ANe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||la}unmount(){this.removeGroupControls(),this.removeListeners()}}const AI=e=>(t,r)=>{e&&pn.postRender(()=>e(t,r))};class RNe extends Pu{constructor(){super(...arguments),this.removePointerDownListener=la}onPointerDown(t){this.session=new eX(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lX(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:AI(t),onStart:AI(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&pn.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Qm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const um={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Lt.test(e))e=parseFloat(e);else return e;const r=PI(e,t.target.x),n=PI(e,t.target.y);return`${r}% ${n}%`}},ONe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=bu.parse(e);if(s.length>5)return n;const i=bu.createTransformer(e),a=typeof s[0]!="number"?1:0,o=r.x.scale*t.x,u=r.y.scale*t.y;s[0+a]/=o,s[1+a]/=u;const l=Pn(o,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=l),typeof s[3+a]=="number"&&(s[3+a]/=l),i(s)}};class MNe extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;t4e(DNe),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Jb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,a=n.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||pn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ZE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function cX(e){const[t,r]=qG(),n=E.useContext(BE);return c.jsx(MNe,{...e,layoutGroup:n,switchLayoutGroup:E.useContext(JG),isPresent:t,safeToRemove:r})}const DNe={borderRadius:{...um,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:um,borderTopRightRadius:um,borderBottomLeftRadius:um,borderBottomRightRadius:um,boxShadow:ONe};function $Ne(e,t,r){const n=ii(e)?e:Vg(e);return n.start(x6("",n,t,r)),n.animation}function LNe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const FNe=(e,t)=>e.depth-t.depth;class zNe{constructor(){this.children=[],this.isDirty=!1}add(t){c6(this.children,t),this.isDirty=!0}remove(t){u6(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(FNe),this.isDirty=!1,this.children.forEach(t)}}function BNe(e,t){const r=el.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(yu(n),e(i-t))};return pn.read(n,!0),()=>yu(n)}const uX=["TopLeft","TopRight","BottomLeft","BottomRight"],UNe=uX.length,II=e=>typeof e=="string"?parseFloat(e):e,RI=e=>typeof e=="number"||Lt.test(e);function VNe(e,t,r,n,s,i){s?(e.opacity=Pn(0,r.opacity!==void 0?r.opacity:1,WNe(n)),e.opacityExit=Pn(t.opacity!==void 0?t.opacity:1,0,qNe(n))):i&&(e.opacity=Pn(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<UNe;a++){const o=`border${uX[a]}Radius`;let u=OI(t,o),l=OI(r,o);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||RI(u)===RI(l)?(e[o]=Math.max(Pn(II(u),II(l),n),0),(Jo.test(l)||Jo.test(u))&&(e[o]+="%")):e[o]=l}(t.rotate||r.rotate)&&(e.rotate=Pn(t.rotate||0,r.rotate||0,n))}function OI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const WNe=dX(0,.5,CZ),qNe=dX(.5,.95,la);function dX(e,t,r){return n=>n<e?0:n>t?1:r(Jh(e,t,n))}function MI(e,t){e.min=t.min,e.max=t.max}function va(e,t){MI(e.x,t.x),MI(e.y,t.y)}function DI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $I(e,t,r,n,s){return e-=t,e=Sx(e,1/r,n),s!==void 0&&(e=Sx(e,1/s,n)),e}function HNe(e,t=0,r=1,n=.5,s,i=e,a=e){if(Jo.test(t)&&(t=parseFloat(t),t=Pn(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Pn(i.min,i.max,n);e===i&&(o-=t),e.min=$I(e.min,t,r,o,s),e.max=$I(e.max,t,r,o,s)}function LI(e,t,[r,n,s],i,a){HNe(e,t[r],t[n],t[s],t.scale,i,a)}const KNe=["x","scaleX","originX"],GNe=["y","scaleY","originY"];function FI(e,t,r,n){LI(e.x,t,KNe,r?r.x:void 0,n?n.x:void 0),LI(e.y,t,GNe,r?r.y:void 0,n?n.y:void 0)}function zI(e){return e.translate===0&&e.scale===1}function fX(e){return zI(e.x)&&zI(e.y)}function BI(e,t){return e.min===t.min&&e.max===t.max}function ZNe(e,t){return BI(e.x,t.x)&&BI(e.y,t.y)}function UI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function hX(e,t){return UI(e.x,t.x)&&UI(e.y,t.y)}function VI(e){return ua(e.x)/ua(e.y)}function WI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class XNe{constructor(){this.members=[]}add(t){c6(this.members,t),t.scheduleRender()}remove(t){if(u6(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YNe(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=r?.z||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:l,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:g}=r;l&&(n=`perspective(${l}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,u=e.y.scale*t.y;return(o!==1||u!==1)&&(n+=`scale(${o}, ${u})`),n||"none"}const Vu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Em=typeof window<"u"&&window.MotionDebug!==void 0,M2=["","X","Y","Z"],QNe={visibility:"hidden"},qI=1e3;let JNe=0;function D2(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function pX(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=_Z(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",pn,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&pX(n)}function mX({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=t?.()){this.id=JNe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Em&&(Vu.totalNodes=Vu.resolvedTargetDeltas=Vu.recalculatedProjection=0),this.nodes.forEach(r3e),this.nodes.forEach(o3e),this.nodes.forEach(l3e),this.nodes.forEach(n3e),Em&&window.MotionDebug.record(Vu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new zNe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new d6),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const u=this.eventHandlers.get(a);u&&u.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=LNe(a),this.instance=a;const{layoutId:u,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||u)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=BNe(f,250),Jb.hasAnimatedSinceResize&&(Jb.hasAnimatedSinceResize=!1,this.nodes.forEach(KI))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||h3e,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=d.getProps(),b=!this.targetLayout||!hX(this.targetLayout,g)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const k={...i6(y,"layout"),onPlay:m,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||KI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(c3e),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&pX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HI);return}this.isUpdating||this.nodes.forEach(i3e),this.isUpdating=!1,this.nodes.forEach(a3e),this.nodes.forEach(e3e),this.nodes.forEach(t3e),this.clearAllSnapshots();const o=el.now();Ds.delta=ec(0,1e3/60,o-Ds.timestamp),Ds.timestamp=o,Ds.isProcessing=!0,N2.update.process(Ds),N2.preRender.process(Ds),N2.render.process(Ds),Ds.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ZE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(s3e),this.sharedNodes.forEach(u3e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!fX(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;a&&(o||Uu(this.latestValues)||d)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return a&&(u=this.removeTransform(u)),p3e(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Vn();const u=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(m3e))){const{scroll:d}=this.root;d&&(Xf(u.x,d.offset.x),Xf(u.y,d.offset.y))}return u}removeElementScroll(a){var o;const u=Vn();if(va(u,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return u;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&va(u,a),Xf(u.x,h.offset.x),Xf(u.y,h.offset.y))}return u}applyTransform(a,o=!1){const u=Vn();va(u,a);for(let l=0;l<this.path.length;l++){const d=this.path[l];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Yf(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Uu(d.latestValues)&&Yf(u,d.latestValues)}return Uu(this.latestValues)&&Yf(u,this.latestValues),u}removeTransform(a){const o=Vn();va(o,a);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!Uu(l.latestValues))continue;sj(l.latestValues)&&l.updateSnapshot();const d=Vn(),h=l.measurePageBox();va(d,h),FI(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return Uu(this.latestValues)&&FI(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ds.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==u;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ds.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),eg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),va(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vn(),this.targetWithTransforms=Vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bNe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):va(this.target,this.layout.layoutBox),aX(this.target,this.targetDelta)):va(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),eg(this.relativeTargetOrigin,this.target,p.target),va(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Em&&Vu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sj(this.parent.latestValues)||iX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(l=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ds.timestamp&&(l=!1),l)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;va(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;TNe(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Vn());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DI(this.prevProjectionDelta.x,this.projectionDelta.x),DI(this.prevProjectionDelta.y,this.projectionDelta.y)),Jm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!WI(this.projectionDelta.x,this.prevProjectionDelta.x)||!WI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Em&&Vu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zf(),this.projectionDelta=Zf(),this.projectionDeltaWithTransform=Zf()}setAnimationOrigin(a,o=!1){const u=this.snapshot,l=u?u.latestValues:{},d={...this.latestValues},h=Zf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Vn(),p=u?u.source:void 0,g=this.layout?this.layout.source:void 0,y=p!==g,m=this.getStack(),v=!m||m.members.length<=1,b=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(f3e));this.animationProgress=0;let x;this.mixTargetDelta=k=>{const T=k/1e3;GI(h.x,a.x,T),GI(h.y,a.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eg(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d3e(this.relativeTarget,this.relativeTargetOrigin,f,T),x&&ZNe(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Vn()),va(x,this.relativeTarget)),y&&(this.animationValues=d,VNe(d,l,this.latestValues,T,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pn.update(()=>{Jb.hasAnimatedSinceResize=!0,this.currentAnimation=$Ne(0,qI,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:u,layout:l,latestValues:d}=a;if(!(!o||!u||!l)){if(this!==a&&this.layout&&l&&gX(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||Vn();const h=ua(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+h;const f=ua(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+f}va(o,u),Yf(o,d),Jm(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new XNe),this.sharedNodes.get(a).add(o);const l=o.options.initialPromotionConfig;o.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const l={};u.z&&D2("z",a,l,this.animationValues);for(let d=0;d<M2.length;d++)D2(`rotate${M2[d]}`,a,l,this.animationValues),D2(`skew${M2[d]}`,a,l,this.animationValues);a.render();for(const d in l)a.setStaticValue(d,l[d]),this.animationValues&&(this.animationValues[d]=l[d]);a.scheduleRender()}getProjectionStyles(a){var o,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return QNe;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Yb(a?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Yb(a?.pointerEvents)||""),this.hasProjected&&!Uu(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=YNe(this.projectionDeltaWithTransform,this.treeScale,f),d&&(l.transform=d(f,l.transform));const{x:p,y:g}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?l.opacity=h===this?(u=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in bx){if(f[y]===void 0)continue;const{correct:m,applyTo:v}=bx[y],b=l.transform==="none"?f[y]:m(f[y],h);if(v){const x=v.length;for(let k=0;k<x;k++)l[v[k]]=b}else l[y]=b}return this.options.layoutId&&(l.pointerEvents=h===this?Yb(a?.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(HI),this.root.sharedNodes.clear()}}}function e3e(e){e.updateLayout()}function t3e(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=r.source!==e.layout.source;i==="size"?xa(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],p=ua(f);f.min=n[h].min,f.max=f.min+p}):gX(i,r.layoutBox,n)&&xa(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],p=ua(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const o=Zf();Jm(o,n,r.layoutBox);const u=Zf();a?Jm(u,e.applyTransform(s,!0),r.measuredBox):Jm(u,n,r.layoutBox);const l=!fX(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=Vn();eg(g,r.layoutBox,f.layoutBox);const y=Vn();eg(y,n,p.layoutBox),hX(g,y)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:u,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function r3e(e){Em&&Vu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function n3e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function s3e(e){e.clearSnapshot()}function HI(e){e.clearMeasurements()}function i3e(e){e.isLayoutDirty=!1}function a3e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function KI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function o3e(e){e.resolveTargetDelta()}function l3e(e){e.calcProjection()}function c3e(e){e.resetSkewAndRotation()}function u3e(e){e.removeLeadSnapshot()}function GI(e,t,r){e.translate=Pn(t.translate,0,r),e.scale=Pn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function ZI(e,t,r,n){e.min=Pn(t.min,r.min,n),e.max=Pn(t.max,r.max,n)}function d3e(e,t,r,n){ZI(e.x,t.x,r.x,n),ZI(e.y,t.y,r.y,n)}function f3e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const h3e={duration:.45,ease:[.4,0,.1,1]},XI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),YI=XI("applewebkit/")&&!XI("chrome/")?Math.round:la;function QI(e){e.min=YI(e.min),e.max=YI(e.max)}function p3e(e){QI(e.x),QI(e.y)}function gX(e,t,r){return e==="position"||e==="preserve-aspect"&&!yNe(VI(t),VI(r),.2)}function m3e(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const g3e=mX({attachResizeListener:(e,t)=>qg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$2={current:void 0},yX=mX({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$2.current){const e=new g3e({});e.mount(window),e.setOptions({layoutScroll:!0}),$2.current=e}return $2.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),y3e={pan:{Feature:RNe},drag:{Feature:INe,ProjectionNode:yX,MeasureLayout:cX}};function JI(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&pn.postRender(()=>i(t,sy(t)))}class b3e extends Pu{mount(){const{current:t}=this.node;t&&(this.unmount=y4e(t,r=>(JI(this.node,r,"Start"),n=>JI(this.node,n,"End"))))}unmount(){}}class v3e extends Pu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ny(qg(this.node.current,"focus",()=>this.onFocus()),qg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function eR(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&pn.postRender(()=>i(t,sy(t)))}class x3e extends Pu{mount(){const{current:t}=this.node;t&&(this.unmount=w4e(t,r=>(eR(this.node,r,"Start"),(n,{success:s})=>eR(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const aj=new WeakMap,L2=new WeakMap,w3e=e=>{const t=aj.get(e.target);t&&t(e)},_3e=e=>{e.forEach(w3e)};function S3e({root:e,...t}){const r=e||document;L2.has(r)||L2.set(r,{});const n=L2.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(_3e,{root:e,...t})),n[s]}function k3e(e,t,r){const n=S3e(t);return aj.set(e,r),n.observe(e),()=>{aj.delete(e),n.unobserve(e)}}const j3e={some:0,all:1};class N3e extends Pu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:j3e[s]},o=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=l?d:h;f&&f(u)};return k3e(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(T3e(t,r))&&this.startObserver()}unmount(){}}function T3e({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const E3e={inView:{Feature:N3e},tap:{Feature:x3e},focus:{Feature:v3e},hover:{Feature:b3e}},C3e={layout:{ProjectionNode:yX,MeasureLayout:cX}},oj={current:null},bX={current:!1};function A3e(){if(bX.current=!0,!!WE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>oj.current=e.matches;e.addListener(t),t()}else oj.current=!1}const P3e=[...VZ,ei,bu],I3e=e=>P3e.find(UZ(e)),tR=new WeakMap;function R3e(e,t,r){for(const n in t){const s=t[n],i=r[n];if(ii(s))e.addValue(n,s);else if(ii(i))e.addValue(n,Vg(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,Vg(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const rR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class O3e{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=y6,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=el.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,pn.render(this.render,!1,!0))};const{latestValues:u,renderState:l,onUpdate:d}=a;this.onUpdate=d,this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=l,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Aw(r),this.isVariantNode=YG(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in f){const g=f[p];u[p]!==void 0&&ii(g)&&g.set(u[p],!1)}}mount(t){this.current=t,tR.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),bX.current||A3e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:oj.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){tR.delete(this.current),this.projection&&this.projection.unmount(),yu(this.notifyUpdate),yu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=af.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&pn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ep){const r=ep[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<rR.length;n++){const s=rR[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=R3e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Vg(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(zZ(s)||PZ(s))?s=parseFloat(s):!I3e(s)&&bu.test(r)&&(s=$Z(t,r)),this.setBaseTarget(t,ii(s)?s.get():s)),ii(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=YE(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ii(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new d6),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class vX extends O3e{constructor(){super(...arguments),this.KeyframeResolver=WZ}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ii(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function M3e(e){return window.getComputedStyle(e)}class D3e extends vX{constructor(){super(...arguments),this.type="html",this.renderInstance=aZ}readValueFromInstance(t,r){if(af.has(r)){const n=g6(r);return n&&n.default||0}else{const n=M3e(t),s=(nZ(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return oX(t,r)}build(t,r,n){e6(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return s6(t,r,n)}}class $3e extends vX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(af.has(r)){const n=g6(r);return n&&n.default||0}return r=oZ.has(r)?r:GE(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return uZ(t,r,n)}build(t,r,n){t6(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){lZ(t,r,n,s)}mount(t){this.isSVGTag=n6(t.tagName),super.mount(t)}}const L3e=(e,t)=>XE(e)?new $3e(t):new D3e(t,{allowProjection:e!==E.Fragment}),F3e=u4e({...lNe,...E3e,...y3e,...C3e},L3e),Zr=jke(F3e),z3e=(e,t="")=>{const[r,n]=E.useState(()=>typeof window<"u"&&localStorage.getItem(`form-memory-${e}`)||t),s=E.useCallback(a=>{n(a),typeof window<"u"&&(a?localStorage.setItem(`form-memory-${e}`,a):localStorage.removeItem(`form-memory-${e}`))},[e]),i=E.useCallback(()=>{n(""),typeof window<"u"&&localStorage.removeItem(`form-memory-${e}`)},[e]);return{value:r,updateValue:s,clearMemory:i}},B3e=(e,t,r,n)=>{const[s,i]=E.useState({isValid:!0});return E.useEffect(()=>{if(!e){i({isValid:!0});return}if(r){i(o=>({...o,isValidating:!0}));const a=setTimeout(()=>{const o=r(e);i({...o,isValidating:!1})},300);return()=>clearTimeout(a)}if(t&&(t==="email"||t==="password")){if(t==="email"&&e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){i({isValid:!1,message:"    ",isValidating:!1});return}i(o=>({...o,isValidating:!0}));const a=setTimeout(async()=>{try{const u=await(await fetch("/api/auth/validate-field",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field:t,value:e,context:n||"register"})})).json();u.success?i({isValid:u.isValid,message:u.message,strength:u.strength,suggestions:u.suggestions,isValidating:!1}):i({isValid:!1,message:"   ",isValidating:!1})}catch(o){console.error("  :",o),i({isValid:!1,message:"   ",isValidating:!1})}},500);return()=>clearTimeout(a)}},[e,r,t,n]),s},tt=E.forwardRef(({className:e,type:t="text",enableMemory:r=!1,memoryKey:n,validator:s,showValidation:i=!0,leftIcon:a,rightIcon:o,loading:u=!1,strengthIndicator:l=!1,fieldType:d,validationContext:h,hidePasswordToggle:f=!1,autoWidth:p=!1,maxWidth:g=420,onChange:y,value:m,...v},b)=>{const[x,k]=E.useState(!1),[T,O]=E.useState(!1),F=E.useRef(null),[A,P]=E.useState("100%"),{value:D,updateValue:V}=z3e(n||`input-${v.name||"default"}`,typeof m=="string"?m:""),B=m!==void 0?String(m):D,C=B3e(B,d,s,h);E.useEffect(()=>{if(p&&F.current){F.current.textContent=B||v.placeholder||"";const $=F.current.offsetWidth+32;P(Math.max(60,Math.min($,g)))}else p||P("100%")},[B,p,v.placeholder,g]);const I=E.useCallback($=>{const U=$.target.value;r&&m===void 0&&V(U),y?.($)},[r,m,V,y]),N=E.useCallback(()=>{k($=>!$)},[]),w=t==="password"?x?"text":"password":t,_=a||u,S=o||t==="password"||i&&C.message,j=()=>C.isValidating?"border-blue-300 ring-blue-100":C.isValid?C.isValid&&B?"border-green-300 ring-green-100 focus:border-green-500 focus:ring-green-200":"border-input focus:border-blue-500 focus:ring-blue-200":"border-red-300 ring-red-100 focus:border-red-500 focus:ring-red-200",R=E.useMemo(()=>{const $={position:"relative"};return p?($.width=typeof A=="number"?`${A}px`:A,$.minWidth="60px"):$.width="100%",$},[p,A]);return c.jsxs("div",{className:_e("relative",p?"inline-block align-bottom":"w-full"),children:[p&&c.jsx("span",{ref:F,className:"absolute invisible whitespace-pre font-inherit px-4 text-sm pointer-events-none",style:{font:"inherit",letterSpacing:"inherit"},"aria-hidden":"true"}),c.jsxs(Zr.div,{animate:{scale:T?1.01:1},transition:{type:"spring",stiffness:300,damping:25},style:R,children:[c.jsx("input",{type:w,className:_e("flex h-11 w-full rounded-xl border-2 bg-transparent px-4 py-2.5 text-sm ring-offset-background transition-all duration-300","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground/70","focus-visible:outline-none focus-visible:ring-0","disabled:cursor-not-allowed disabled:opacity-50","selection:bg-blue-200 dark:selection:bg-blue-900",_&&"pr-11",S&&"pl-11",j(),e),ref:b,value:B,onChange:I,onFocus:()=>O(!0),onBlur:()=>O(!1),...v}),_&&c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:u?c.jsx(Mr,{className:"h-4 w-4 animate-spin"}):a}),S&&c.jsxs("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[t==="password"&&!f&&c.jsx(Zr.div,{whileTap:{scale:.95},style:{background:"none",border:"none",padding:"4px",borderRadius:"6px",cursor:"pointer",color:"var(--muted-foreground)",transition:"colors 0.2s"},onTap:N,children:x?c.jsx(Bh,{className:"h-4 w-4"}):c.jsx(uu,{className:"h-4 w-4"})}),i&&B&&!C.isValidating&&c.jsx(Zr.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:30},children:C.isValid?c.jsx(Ha,{className:"h-4 w-4 text-green-500"}):c.jsx(Es,{className:"h-4 w-4 text-red-500"})}),C.isValidating&&c.jsx(Mr,{className:"h-4 w-4 animate-spin text-blue-500"}),o]})]}),l&&t==="password"&&B&&typeof C.strength=="number"&&c.jsxs(Zr.div,{style:{marginTop:"8px"},initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[c.jsx("div",{className:"flex space-x-1 rtl:space-x-reverse",style:{marginBottom:"4px"},children:[1,2,3,4].map($=>c.jsx("div",{style:{height:"4px",flex:1,borderRadius:"2px",transition:"all 0.3s",backgroundColor:C.strength>=$?$<=2?"#ef4444":$===3?"#eab308":"#22c55e":"#e5e7eb"}},$))}),c.jsxs("p",{style:{fontSize:"12px",color:"var(--muted-foreground)"},children:["  : ",C.strength<=2?"":C.strength===3?"":""]})]}),c.jsx(zg,{children:i&&C.message&&c.jsxs(Zr.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.2},style:{marginTop:"8px",fontSize:"12px",padding:"8px 12px",borderRadius:"8px",border:"1px solid",display:"flex",alignItems:"center",gap:"8px",color:C.isValid?"#15803d":"#dc2626",backgroundColor:C.isValid?"#f0fdf4":"#fef2f2",borderColor:C.isValid?"#bbf7d0":"#fecaca"},children:[C.isValid?c.jsx(Ha,{className:"h-3 w-3 text-green-500"}):c.jsx(Es,{className:"h-3 w-3 text-red-500"}),C.message]})})]})});tt.displayName="Input";const U3e=(e=1e3)=>{const[t,r]=E.useState(!1),n=E.useRef(0),s=E.useCallback(()=>{const i=Date.now();return i-n.current<e?(r(!0),!1):(n.current=i,r(!1),!0)},[e]);return{isLimited:t,checkRateLimit:s}},Hg=ef("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 transform-gpu relative overflow-hidden",{variants:{variant:{default:"bg-gradient-to-r from-blue-600 to-blue-700 text-primary-foreground hover:from-blue-700 hover:to-blue-800 hover:shadow-lg hover:shadow-blue-500/25 active:scale-95",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-destructive-foreground hover:from-red-700 hover:to-red-800 hover:shadow-lg hover:shadow-red-500/25 active:scale-95",outline:"border-2 border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-blue-300 hover:shadow-md active:scale-95",secondary:"bg-gradient-to-r from-gray-200 to-gray-300 text-secondary-foreground hover:from-gray-300 hover:to-gray-400 hover:shadow-md active:scale-95",ghost:"hover:bg-accent hover:text-accent-foreground hover:shadow-sm active:scale-95",link:"text-primary underline-offset-4 hover:underline hover:text-blue-600 active:scale-95",success:"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 hover:shadow-lg hover:shadow-green-500/25 active:scale-95",warning:"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 hover:shadow-lg hover:shadow-orange-500/25 active:scale-95"},size:{default:"h-11 px-6 py-2.5",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-xl px-8 text-base",icon:"h-11 w-11",xs:"h-7 px-2 text-xs rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Se=E.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,loading:s=!1,loadingText:i=" ...",enableRateLimit:a=!1,rateLimitDelay:o=1e3,ripple:u=!0,onClick:l,children:d,disabled:h,...f},p)=>{const g=n?sf:"button",{isLimited:y,checkRateLimit:m}=U3e(o),[v,b]=E.useState({}),[x,k]=E.useState(!1),T=E.useCallback(A=>{if(!(s||h)){if(a&&!m()){A.preventDefault();return}if(u){const D=A.currentTarget.getBoundingClientRect(),V=A.clientX-D.left,B=A.clientY-D.top;b({left:V-10,top:B-10,width:20,height:20}),k(!0),setTimeout(()=>k(!1),600)}l?.(A)}},[s,h,a,m,u,l]),O=h||s||a&&y,F=c.jsxs(c.Fragment,{children:[x&&u&&c.jsx(Zr.span,{className:"absolute bg-white/30 rounded-full pointer-events-none",style:v,initial:{scale:0,opacity:1},animate:{scale:4,opacity:0},transition:{duration:.6,ease:"easeOut"}}),s?c.jsxs(c.Fragment,{children:[c.jsx(Mr,{className:"h-4 w-4 animate-spin"}),i]}):d,a&&y&&c.jsx(Zr.div,{className:"absolute inset-0 bg-gray-400/20 rounded-lg flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsx("span",{className:"text-xs text-gray-600",children:"..."})})]});return c.jsx(Zr.div,{whileHover:{scale:O?1:1.02},whileTap:{scale:O?1:.98},transition:{type:"spring",stiffness:400,damping:25},children:c.jsx(g,{className:_e(Hg({variant:t,size:r,className:e})),ref:p,onClick:T,disabled:O,...f,children:F})})});Se.displayName="Button";const xX="/assets/logo_header_light.png",V3e="/assets/logo_header_dark.png",wX="/assets/app_icon_light.png",W3e="/assets/app_icon_dark.png",q3e=Au({email:gr().email("   "),password:gr().min(1,"  ")});function H3e(){const[,e]=gs(),{toast:t}=Br(),{login:r}=ac(),[n,s]=E.useState("online"),[i,a]=E.useState(!1),[o,u]=E.useState(!1),l=Xl({resolver:Yl(q3e),defaultValues:{email:"",password:""}}),d=ht({mutationFn:async h=>await r(h.email,h.password),onSuccess:()=>{t({title:"  ",description:"    "}),e("/")},onError:h=>{if(h.requireEmailVerification||h.status===403){t({title:"    ",description:"       ",variant:"default"});const f=h.userId||h.data?.userId,p=h.email||h.data?.email||l.getValues("email");e(`/verify-email?userId=${f}&email=${encodeURIComponent(p)}`);return}t({title:"  ",description:h.message||"    ",variant:"destructive"})}});return c.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[c.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%230f172a' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),c.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[c.jsxs("div",{className:"flex flex-col flex-1 gap-1",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[c.jsxs("div",{className:"text-right flex flex-col items-end",children:[c.jsx("h2",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest leading-none",children:" "}),c.jsx("span",{className:"text-[8px] text-gray-300 dark:text-slate-600 font-bold",children:"WELCOME BACK"})]}),c.jsx(Se,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-slate-100 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",children:c.jsxs("div",{className:"flex gap-0.5",children:[c.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"}),c.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"}),c.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"})]})})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[c.jsxs("div",{className:"relative mb-4 group cursor-pointer",children:[c.jsx("div",{className:"absolute -inset-1.5 bg-blue-500/10 rounded-[24px] blur-md opacity-0 group-hover:opacity-100 transition duration-500"}),c.jsxs("div",{className:"w-24 h-24 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative bg-white/50 dark:bg-white/5 backdrop-blur-sm rounded-2xl p-2 border border-white/20",children:[c.jsx("img",{src:wX,alt:"AXION Logo",className:"w-full h-full object-contain","data-testid":"img-logo-light"}),c.jsx("div",{className:"absolute top-2 right-2 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md ring-2 ring-blue-400/20 animate-pulse"})]})]}),c.jsxs("div",{className:"text-center relative",children:[c.jsx("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:c.jsx("img",{src:xX,alt:"AXION | ",className:"h-12 object-contain bg-white/30 dark:bg-white/5 backdrop-blur-sm rounded-lg px-4 py-1 border border-white/10","data-testid":"img-header-light"})}),c.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[c.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-r from-transparent to-blue-200 dark:to-blue-900"}),c.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-[9px] font-black tracking-[0.5em] uppercase",children:"Real Assets Management"}),c.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-l from-transparent to-blue-200 dark:to-blue-900"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 animate-in slide-in-from-bottom duration-500 delay-300 fill-mode-both",children:[c.jsxs("button",{type:"button",onClick:()=>s("offline"),className:`flex items-center justify-between p-2 rounded-xl border transition-all h-14 shadow-sm active:scale-95 ${n==="offline"?"bg-blue-600 dark:bg-white text-white dark:text-slate-900 border-blue-600 dark:border-white ring-2 ring-blue-600/10":"bg-card dark:bg-slate-900 border-border dark:border-slate-800 text-gray-500"}`,children:[c.jsxs("div",{className:"flex flex-col items-start leading-none text-right w-full",children:[c.jsx("span",{className:`text-[8px] font-bold ${n==="offline"?"text-slate-300 dark:text-slate-600":"text-gray-400"}`,children:""}),c.jsx("span",{className:"text-[11px] font-black",children:" "})]}),c.jsx("div",{className:`p-1.5 rounded-lg ${n==="offline"?"bg-white/10 dark:bg-slate-900/10 text-white dark:text-slate-900":"bg-gray-50 dark:bg-slate-800 text-gray-400"}`,children:c.jsx(Z8,{className:"w-4 h-4"})})]}),c.jsxs("button",{type:"button",onClick:()=>s("online"),className:`flex items-center justify-between p-2 rounded-xl border transition-all h-14 shadow-sm active:scale-95 ${n==="online"?"bg-blue-600 dark:bg-white text-white dark:text-slate-900 border-blue-600 dark:border-white ring-2 ring-blue-600/10":"bg-card dark:bg-slate-900 border-border dark:border-slate-800 text-gray-500"}`,children:[c.jsxs("div",{className:"flex flex-col items-start leading-none text-right w-full",children:[c.jsx("span",{className:`text-[8px] font-bold ${n==="online"?"text-slate-300 dark:text-slate-600":"text-gray-400"}`,children:""}),c.jsx("span",{className:"text-[11px] font-black",children:" "})]}),c.jsx("div",{className:`p-1.5 rounded-lg ${n==="online"?"bg-white/10 dark:bg-slate-900/10 text-white dark:text-slate-900":"bg-gray-50 dark:bg-slate-800 text-gray-400"}`,children:c.jsx(T3,{className:"w-4 h-4"})})]})]}),c.jsx(Jl,{...l,children:c.jsxs("form",{onSubmit:l.handleSubmit(h=>d.mutate(h)),className:"space-y-2 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[c.jsx(Ir,{control:l.control,name:"email",render:({field:h})=>c.jsx(Cr,{children:c.jsxs("div",{className:`bg-card dark:bg-slate-900 rounded-xl border shadow-sm h-16 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-slate-900/5 dark:focus-within:ring-white/5 ${l.formState.errors.email?"border-red-500":"border-border dark:border-slate-800"}`,children:[c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("span",{className:"text-[9px] text-gray-400 dark:text-slate-500 font-black text-right uppercase tracking-tighter",children:"Identity / "}),c.jsx(Rr,{children:c.jsx(tt,{...h,type:"text",autoComplete:"off",placeholder:"username@axion.system",className:"border-none p-0 h-6 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none","data-testid":"input-email"})})]}),c.jsx("button",{type:"button",onClick:()=>u(!0),className:"flex items-center justify-center ml-2 text-slate-300 dark:text-slate-700 hover:text-slate-600 dark:hover:text-slate-400 transition-colors","data-testid":"button-switch-account",children:c.jsx(xn,{className:"w-5 h-5",strokeWidth:1.5})})]})})}),c.jsx(Ir,{control:l.control,name:"password",render:({field:h})=>c.jsx(Cr,{children:c.jsxs("div",{className:`bg-card dark:bg-slate-900 rounded-xl border shadow-sm h-16 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-slate-900/5 dark:focus-within:ring-white/5 ${l.formState.errors.password?"border-red-500":"border-border dark:border-slate-800"}`,children:[c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("span",{className:"text-[9px] text-gray-400 dark:text-slate-500 font-black text-right uppercase tracking-tighter",children:"Security /  "}),c.jsx(Rr,{children:c.jsx(tt,{...h,type:i?"text":"password",autoComplete:"off",placeholder:"",className:"border-none p-0 h-6 text-base font-black text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-password",hidePasswordToggle:!0})})]}),c.jsx("button",{type:"button",onClick:()=>a(!i),className:"flex items-center justify-center ml-2 transition-colors","data-testid":"button-toggle-password",children:i?c.jsx(uu,{className:"w-5 h-5 text-blue-600 dark:text-blue-400",strokeWidth:2}):c.jsx(Bh,{className:"w-5 h-5 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})}),c.jsxs("div",{className:"flex justify-between px-1",children:[c.jsx("button",{type:"button",onClick:()=>e("/forgot-password"),className:"text-[10px] font-bold text-slate-400 dark:text-slate-600 hover:text-slate-900 dark:hover:text-white transition-colors","data-testid":"link-forgot-password",children:" "}),c.jsx("button",{type:"button",className:"text-[10px] font-bold text-blue-600 dark:text-blue-400",children:" "})]}),c.jsxs("div",{className:"space-y-2 pt-2",children:[c.jsx(Se,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:d.isPending,"data-testid":"button-login",children:d.isPending?c.jsx(Mr,{className:"animate-spin h-5 w-5"}):" "}),c.jsx(Se,{type:"button",variant:"ghost",className:"w-full h-10 text-blue-600/70 dark:text-blue-400/70 text-sm font-bold rounded-xl hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>e("/register"),"data-testid":"button-create-account",children:"    "})]})]})})]}),c.jsxs("div",{className:"flex flex-col items-center gap-3 pb-12 relative animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[c.jsxs("div",{className:"flex items-center gap-4 w-full",children:[c.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30"}),c.jsx("span",{className:"text-[8px] font-black text-blue-400 dark:text-blue-700 tracking-[0.2em] uppercase",children:"Axion Security v2.0"}),c.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30"})]}),c.jsx("div",{className:"flex gap-4 mb-4",children:[{Icon:ave,label:"Biometric",testId:"button-fingerprint"},{Icon:Z8,label:"QR Scan",testId:"button-scan-qr"},{Icon:hve,label:"Support",testId:"button-support"}].map(({Icon:h,label:f,testId:p},g)=>c.jsx("button",{type:"button",onClick:()=>{alert(`${f} feature coming soon on Axion Mobile.`)},className:"w-12 h-12 bg-card dark:bg-slate-900 rounded-2xl shadow-sm border border-border dark:border-slate-800 flex items-center justify-center text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:shadow-md transition-all active:scale-90","data-testid":p,children:c.jsx(h,{className:"w-5 h-5",strokeWidth:1.5})},g))}),c.jsxs("div",{className:"w-full flex flex-col items-center gap-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),c.jsx("span",{className:"text-[9px] font-black text-slate-400 dark:text-slate-600 tracking-wider",children:"AXION CORE v3.9.1 - SECURE"})]}),c.jsx("span",{className:"text-[8px] text-gray-300 dark:text-slate-700",children:" 2026 AXION OPERATIONS MANAGEMENT"})]}),o&&c.jsx("div",{className:"absolute bottom-16 left-0 right-0 px-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:c.jsxs("div",{className:"bg-blue-600 dark:bg-white h-12 rounded-xl flex items-center justify-between px-4 shadow-2xl border border-white/10 dark:border-black/5",children:[c.jsx("span",{className:"text-white dark:text-slate-900 text-[11px] font-medium text-right w-full ml-4",children:"      "}),c.jsx("button",{onClick:()=>u(!1),className:"w-6 h-6 bg-white/10 dark:bg-slate-900/10 rounded-lg flex items-center justify-center hover:bg-white/20 dark:hover:bg-slate-900/20 transition-colors",children:c.jsx(fs,{className:"w-4 h-4 text-white dark:text-slate-900",strokeWidth:2})})]})})]})]})]})}function w6(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Rw="Checkbox",[K3e]=Ws(Rw),[G3e,_6]=K3e(Rw);function Z3e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:a,name:o,onCheckedChange:u,required:l,value:d="on",internal_do_not_use_render:h}=e,[f,p]=qa({prop:r,defaultProp:s??!1,onChange:u,caller:Rw}),[g,y]=E.useState(null),[m,v]=E.useState(null),b=E.useRef(!1),x=g?!!a||!!g.closest("form"):!0,k={checked:f,disabled:i,setChecked:p,control:g,setControl:y,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:b,required:l,defaultChecked:Qc(s)?!1:s,isFormControl:x,bubbleInput:m,setBubbleInput:v};return c.jsx(G3e,{scope:t,...k,children:X3e(h)?h(k):n})}var _X="CheckboxTrigger",SX=E.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:a,disabled:o,checked:u,required:l,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:g}=_6(_X,e),y=tr(s,d),m=E.useRef(u);return E.useEffect(()=>{const v=i?.form;if(v){const b=()=>h(m.current);return v.addEventListener("reset",b),()=>v.removeEventListener("reset",b)}},[i,h]),c.jsx(wt.button,{type:"button",role:"checkbox","aria-checked":Qc(u)?"mixed":u,"aria-required":l,"data-state":EX(u),"data-disabled":o?"":void 0,disabled:o,value:a,...n,ref:y,onKeyDown:et(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:et(r,v=>{h(b=>Qc(b)?!0:!b),g&&p&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});SX.displayName=_X;var S6=E.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:a,disabled:o,value:u,onCheckedChange:l,form:d,...h}=e;return c.jsx(Z3e,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:o,required:a,onCheckedChange:l,name:n,form:d,value:u,internal_do_not_use_render:({isFormControl:f})=>c.jsxs(c.Fragment,{children:[c.jsx(SX,{...h,ref:t,__scopeCheckbox:r}),f&&c.jsx(TX,{__scopeCheckbox:r})]})})});S6.displayName=Rw;var kX="CheckboxIndicator",jX=E.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=_6(kX,r);return c.jsx(ss,{present:n||Qc(i.checked)||i.checked===!0,children:c.jsx(wt.span,{"data-state":EX(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});jX.displayName=kX;var NX="CheckboxBubbleInput",TX=E.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:o,disabled:u,name:l,value:d,form:h,bubbleInput:f,setBubbleInput:p}=_6(NX,e),g=tr(r,p),y=w6(i),m=M3(n);E.useEffect(()=>{const b=f;if(!b)return;const x=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(x,"checked").set,O=!s.current;if(y!==i&&T){const F=new Event("click",{bubbles:O});b.indeterminate=Qc(i),T.call(b,Qc(i)?!1:i),b.dispatchEvent(F)}},[f,y,i,s]);const v=E.useRef(Qc(i)?!1:i);return c.jsx(wt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??v.current,required:o,disabled:u,name:l,value:d,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});TX.displayName=NX;function X3e(e){return typeof e=="function"}function Qc(e){return e==="indeterminate"}function EX(e){return Qc(e)?"indeterminate":e?"checked":"unchecked"}const iy=E.forwardRef(({className:e,...t},r)=>c.jsx(S6,{ref:r,className:_e("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:c.jsx(jX,{className:_e("flex items-center justify-center text-current"),children:c.jsx(yo,{className:"h-4 w-4"})})}));iy.displayName=S6.displayName;function Y3e(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function CX(...e){return t=>e.forEach(r=>Y3e(r,t))}function Q3e(...e){return E.useCallback(CX(...e),e)}var AX=E.forwardRef((e,t)=>{const{children:r,...n}=e,s=E.Children.toArray(r),i=s.find(eTe);if(i){const a=i.props.children,o=s.map(u=>u===i?E.Children.count(a)>1?E.Children.only(null):E.isValidElement(a)?a.props.children:null:u);return c.jsx(lj,{...n,ref:t,children:E.isValidElement(a)?E.cloneElement(a,void 0,o):null})}return c.jsx(lj,{...n,ref:t,children:r})});AX.displayName="Slot";var lj=E.forwardRef((e,t)=>{const{children:r,...n}=e;if(E.isValidElement(r)){const s=rTe(r);return E.cloneElement(r,{...tTe(n,r.props),ref:t?CX(t,s):s})}return E.Children.count(r)>1?E.Children.only(null):null});lj.displayName="SlotClone";var J3e=({children:e})=>c.jsx(c.Fragment,{children:e});function eTe(e){return E.isValidElement(e)&&e.type===J3e}function tTe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{i(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function rTe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nTe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],sTe=nTe.reduce((e,t)=>{const r=E.forwardRef((n,s)=>{const{asChild:i,...a}=n,o=i?AX:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(o,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function nR(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...r)=>t.current?.(...r),[])}var F2="focusScope.autoFocusOnMount",z2="focusScope.autoFocusOnUnmount",sR={bubbles:!1,cancelable:!0},iTe="FocusScope",ay=E.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[o,u]=E.useState(null),l=nR(s),d=nR(i),h=E.useRef(null),f=Q3e(t,y=>u(y)),p=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let y=function(x){if(p.paused||!o)return;const k=x.target;o.contains(k)?h.current=k:vc(h.current,{select:!0})},m=function(x){if(p.paused||!o)return;const k=x.relatedTarget;k!==null&&(o.contains(k)||vc(h.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const T of x)T.removedNodes.length>0&&vc(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",m);const b=new MutationObserver(v);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",m),b.disconnect()}}},[n,o,p.paused]),E.useEffect(()=>{if(o){aR.add(p);const y=document.activeElement;if(!o.contains(y)){const v=new CustomEvent(F2,sR);o.addEventListener(F2,l),o.dispatchEvent(v),v.defaultPrevented||(aTe(dTe(PX(o)),{select:!0}),document.activeElement===y&&vc(o))}return()=>{o.removeEventListener(F2,l),setTimeout(()=>{const v=new CustomEvent(z2,sR);o.addEventListener(z2,d),o.dispatchEvent(v),v.defaultPrevented||vc(y??document.body,{select:!0}),o.removeEventListener(z2,d),aR.remove(p)},0)}}},[o,l,d,p]);const g=E.useCallback(y=>{if(!r&&!n||p.paused)return;const m=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(m&&v){const b=y.currentTarget,[x,k]=oTe(b);x&&k?!y.shiftKey&&v===k?(y.preventDefault(),r&&vc(x,{select:!0})):y.shiftKey&&v===x&&(y.preventDefault(),r&&vc(k,{select:!0})):v===b&&y.preventDefault()}},[r,n,p.paused]);return c.jsx(sTe.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});ay.displayName=iTe;function aTe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(vc(n,{select:t}),document.activeElement!==r)return}function oTe(e){const t=PX(e),r=iR(t,e),n=iR(t.reverse(),e);return[r,n]}function PX(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function iR(e,t){for(const r of e)if(!lTe(r,{upTo:t}))return r}function lTe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cTe(e){return e instanceof HTMLInputElement&&"select"in e}function vc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&cTe(e)&&t&&e.select()}}var aR=uTe();function uTe(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=oR(e,t),e.unshift(t)},remove(t){e=oR(e,t),e[0]?.resume()}}}function oR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function dTe(e){return e.filter(t=>t.tagName!=="A")}var B2=0;function Ow(){E.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??lR()),document.body.insertAdjacentElement("beforeend",e[1]??lR()),B2++,()=>{B2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),B2--}},[])}function lR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vo=function(){return Vo=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Vo.apply(this,arguments)};function IX(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function fTe(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var ev="right-scroll-bar-position",tv="width-before-scroll-bar",hTe="with-scroll-bars-hidden",pTe="--removed-body-scroll-bar-size";function U2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mTe(e,t){var r=E.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var gTe=typeof window<"u"?E.useLayoutEffect:E.useEffect,cR=new WeakMap;function yTe(e,t){var r=mTe(null,function(n){return e.forEach(function(s){return U2(s,n)})});return gTe(function(){var n=cR.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(o){i.has(o)||U2(o,null)}),i.forEach(function(o){s.has(o)||U2(o,a)})}cR.set(r,e)},[e]),r}function bTe(e){return e}function vTe(e,t){t===void 0&&(t=bTe);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(i),a=r}var u=function(){var d=a;a=[],d.forEach(i)},l=function(){return Promise.resolve().then(u)};l(),r={push:function(d){a.push(d),l()},filter:function(d){return a=a.filter(d),r}}}};return s}function xTe(e){e===void 0&&(e={});var t=vTe(null);return t.options=Vo({async:!0,ssr:!1},e),t}var RX=function(e){var t=e.sideCar,r=IX(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,Vo({},r))};RX.isSideCarExport=!0;function wTe(e,t){return e.useMedium(t),RX}var OX=xTe(),V2=function(){},Mw=E.forwardRef(function(e,t){var r=E.useRef(null),n=E.useState({onScrollCapture:V2,onWheelCapture:V2,onTouchMoveCapture:V2}),s=n[0],i=n[1],a=e.forwardProps,o=e.children,u=e.className,l=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,g=e.noIsolation,y=e.inert,m=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,x=e.gapMode,k=IX(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=f,O=yTe([r,t]),F=Vo(Vo({},k),s);return E.createElement(E.Fragment,null,d&&E.createElement(T,{sideCar:OX,removeScrollBar:l,shards:h,noRelative:p,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:x}),a?E.cloneElement(E.Children.only(o),Vo(Vo({},F),{ref:O})):E.createElement(b,Vo({},F,{className:u,ref:O}),o))});Mw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mw.classNames={fullWidth:tv,zeroRight:ev};var _Te=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function STe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_Te();return t&&e.setAttribute("nonce",t),e}function kTe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jTe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var NTe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=STe())&&(kTe(t,r),jTe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TTe=function(){var e=NTe();return function(t,r){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},MX=function(){var e=TTe(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},ETe={left:0,top:0,right:0,gap:0},W2=function(e){return parseInt(e||"",10)||0},CTe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[W2(r),W2(n),W2(s)]},ATe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ETe;var t=CTe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},PTe=MX(),lh="data-scroll-locked",ITe=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(hTe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(lh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ev,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(tv,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(ev," .").concat(ev,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(tv," .").concat(tv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(lh,`] {
    `).concat(pTe,": ").concat(o,`px;
  }
`)},uR=function(){var e=parseInt(document.body.getAttribute(lh)||"0",10);return isFinite(e)?e:0},RTe=function(){E.useEffect(function(){return document.body.setAttribute(lh,(uR()+1).toString()),function(){var e=uR()-1;e<=0?document.body.removeAttribute(lh):document.body.setAttribute(lh,e.toString())}},[])},OTe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;RTe();var i=E.useMemo(function(){return ATe(s)},[s]);return E.createElement(PTe,{styles:ITe(i,!t,s,r?"":"!important")})},cj=!1;if(typeof window<"u")try{var hb=Object.defineProperty({},"passive",{get:function(){return cj=!0,!0}});window.addEventListener("test",hb,hb),window.removeEventListener("test",hb,hb)}catch{cj=!1}var xf=cj?{passive:!1}:!1,MTe=function(e){return e.tagName==="TEXTAREA"},DX=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!MTe(e)&&r[t]==="visible")},DTe=function(e){return DX(e,"overflowY")},$Te=function(e){return DX(e,"overflowX")},dR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=$X(e,n);if(s){var i=LX(e,n),a=i[1],o=i[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},LTe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},FTe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},$X=function(e,t){return e==="v"?DTe(t):$Te(t)},LX=function(e,t){return e==="v"?LTe(t):FTe(t)},zTe=function(e,t){return e==="h"&&t==="rtl"?-1:1},BTe=function(e,t,r,n,s){var i=zTe(e,window.getComputedStyle(t).direction),a=i*n,o=r.target,u=t.contains(o),l=!1,d=a>0,h=0,f=0;do{if(!o)break;var p=LX(e,o),g=p[0],y=p[1],m=p[2],v=y-m-i*g;(g||v)&&$X(e,o)&&(h+=v,f+=g);var b=o.parentNode;o=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!u&&o!==document.body||u&&(t.contains(o)||t===o));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(l=!0),l},pb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fR=function(e){return[e.deltaX,e.deltaY]},hR=function(e){return e&&"current"in e?e.current:e},UTe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},VTe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},WTe=0,wf=[];function qTe(e){var t=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),s=E.useState(WTe++)[0],i=E.useState(MX)[0],a=E.useRef(e);E.useEffect(function(){a.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=fTe([e.lockRef.current],(e.shards||[]).map(hR),!0).filter(Boolean);return y.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=E.useCallback(function(y,m){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var v=pb(y),b=r.current,x="deltaX"in y?y.deltaX:b[0]-v[0],k="deltaY"in y?y.deltaY:b[1]-v[1],T,O=y.target,F=Math.abs(x)>Math.abs(k)?"h":"v";if("touches"in y&&F==="h"&&O.type==="range")return!1;var A=window.getSelection(),P=A&&A.anchorNode,D=P?P===O||P.contains(O):!1;if(D)return!1;var V=dR(F,O);if(!V)return!0;if(V?T=F:(T=F==="v"?"h":"v",V=dR(F,O)),!V)return!1;if(!n.current&&"changedTouches"in y&&(x||k)&&(n.current=T),!T)return!0;var B=n.current||T;return BTe(B,m,y,B==="h"?x:k)},[]),u=E.useCallback(function(y){var m=y;if(!(!wf.length||wf[wf.length-1]!==i)){var v="deltaY"in m?fR(m):pb(m),b=t.current.filter(function(T){return T.name===m.type&&(T.target===m.target||m.target===T.shadowParent)&&UTe(T.delta,v)})[0];if(b&&b.should){m.cancelable&&m.preventDefault();return}if(!b){var x=(a.current.shards||[]).map(hR).filter(Boolean).filter(function(T){return T.contains(m.target)}),k=x.length>0?o(m,x[0]):!a.current.noIsolation;k&&m.cancelable&&m.preventDefault()}}},[]),l=E.useCallback(function(y,m,v,b){var x={name:y,delta:m,target:v,should:b,shadowParent:HTe(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(k){return k!==x})},1)},[]),d=E.useCallback(function(y){r.current=pb(y),n.current=void 0},[]),h=E.useCallback(function(y){l(y.type,fR(y),y.target,o(y,e.lockRef.current))},[]),f=E.useCallback(function(y){l(y.type,pb(y),y.target,o(y,e.lockRef.current))},[]);E.useEffect(function(){return wf.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",u,xf),document.addEventListener("touchmove",u,xf),document.addEventListener("touchstart",d,xf),function(){wf=wf.filter(function(y){return y!==i}),document.removeEventListener("wheel",u,xf),document.removeEventListener("touchmove",u,xf),document.removeEventListener("touchstart",d,xf)}},[]);var p=e.removeScrollBar,g=e.inert;return E.createElement(E.Fragment,null,g?E.createElement(i,{styles:VTe(s)}):null,p?E.createElement(OTe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function HTe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const KTe=wTe(OX,qTe);var oy=E.forwardRef(function(e,t){return E.createElement(Mw,Vo({},e,{ref:t,sideCar:KTe}))});oy.classNames=Mw.classNames;var GTe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_f=new WeakMap,mb=new WeakMap,gb={},q2=0,FX=function(e){return e&&(e.host||FX(e.parentNode))},ZTe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=FX(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},XTe=function(e,t,r,n){var s=ZTe(t,Array.isArray(e)?e:[e]);gb[r]||(gb[r]=new WeakMap);var i=gb[r],a=[],o=new Set,u=new Set(s),l=function(h){!h||o.has(h)||(o.add(h),l(h.parentNode))};s.forEach(l);var d=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var p=f.getAttribute(n),g=p!==null&&p!=="false",y=(_f.get(f)||0)+1,m=(i.get(f)||0)+1;_f.set(f,y),i.set(f,m),a.push(f),y===1&&g&&mb.set(f,!0),m===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(t),o.clear(),q2++,function(){a.forEach(function(h){var f=_f.get(h)-1,p=i.get(h)-1;_f.set(h,f),i.set(h,p),f||(mb.has(h)||h.removeAttribute(n),mb.delete(h)),p||h.removeAttribute(r)}),q2--,q2||(_f=new WeakMap,_f=new WeakMap,mb=new WeakMap,gb={})}},Dw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=GTe(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),XTe(n,s,r,"aria-hidden")):function(){return null}};function YTe(e){const t=QTe(e),r=E.forwardRef((n,s)=>{const{children:i,...a}=n,o=E.Children.toArray(i),u=o.find(eEe);if(u){const l=u.props.children,d=o.map(h=>h===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:h);return c.jsx(t,{...a,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return c.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function QTe(e){const t=E.forwardRef((r,n)=>{const{children:s,...i}=r;if(E.isValidElement(s)){const a=rEe(s),o=tEe(i,s.props);return s.type!==E.Fragment&&(o.ref=n?ol(n,a):a),E.cloneElement(s,o)}return E.Children.count(s)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JTe=Symbol("radix.slottable");function eEe(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JTe}function tEe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function rEe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $w="Dialog",[zX,BX]=Ws($w),[nEe,Co]=zX($w),UX=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,o=E.useRef(null),u=E.useRef(null),[l,d]=qa({prop:n,defaultProp:s??!1,onChange:i,caller:$w});return c.jsx(nEe,{scope:t,triggerRef:o,contentRef:u,contentId:aa(),titleId:aa(),descriptionId:aa(),open:l,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};UX.displayName=$w;var VX="DialogTrigger",WX=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Co(VX,r),i=tr(t,s.triggerRef);return c.jsx(wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":N6(s.open),...n,ref:i,onClick:et(e.onClick,s.onOpenToggle)})});WX.displayName=VX;var k6="DialogPortal",[sEe,qX]=zX(k6,{forceMount:void 0}),HX=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Co(k6,t);return c.jsx(sEe,{scope:t,forceMount:r,children:E.Children.map(n,a=>c.jsx(ss,{present:r||i.open,children:c.jsx(yp,{asChild:!0,container:s,children:a})}))})};HX.displayName=k6;var kx="DialogOverlay",KX=E.forwardRef((e,t)=>{const r=qX(kx,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Co(kx,e.__scopeDialog);return i.modal?c.jsx(ss,{present:n||i.open,children:c.jsx(aEe,{...s,ref:t})}):null});KX.displayName=kx;var iEe=YTe("DialogOverlay.RemoveScroll"),aEe=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Co(kx,r);return c.jsx(oy,{as:iEe,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(wt.div,{"data-state":N6(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),zd="DialogContent",GX=E.forwardRef((e,t)=>{const r=qX(zd,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Co(zd,e.__scopeDialog);return c.jsx(ss,{present:n||i.open,children:i.modal?c.jsx(oEe,{...s,ref:t}):c.jsx(lEe,{...s,ref:t})})});GX.displayName=zd;var oEe=E.forwardRef((e,t)=>{const r=Co(zd,e.__scopeDialog),n=E.useRef(null),s=tr(t,r.contentRef,n);return E.useEffect(()=>{const i=n.current;if(i)return Dw(i)},[]),c.jsx(ZX,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:et(e.onFocusOutside,i=>i.preventDefault())})}),lEe=E.forwardRef((e,t)=>{const r=Co(zd,e.__scopeDialog),n=E.useRef(!1),s=E.useRef(!1);return c.jsx(ZX,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;r.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ZX=E.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,o=Co(zd,r),u=E.useRef(null),l=tr(t,u);return Ow(),c.jsxs(c.Fragment,{children:[c.jsx(ay,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Jd,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":N6(o.open),...a,ref:l,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(uEe,{titleId:o.titleId}),c.jsx(fEe,{contentRef:u,descriptionId:o.descriptionId})]})]})}),j6="DialogTitle",XX=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Co(j6,r);return c.jsx(wt.h2,{id:s.titleId,...n,ref:t})});XX.displayName=j6;var YX="DialogDescription",QX=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Co(YX,r);return c.jsx(wt.p,{id:s.descriptionId,...n,ref:t})});QX.displayName=YX;var JX="DialogClose",eY=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Co(JX,r);return c.jsx(wt.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>s.onOpenChange(!1))})});eY.displayName=JX;function N6(e){return e?"open":"closed"}var tY="DialogTitleWarning",[cEe,rY]=Cye(tY,{contentName:zd,titleName:j6,docsSlug:"dialog"}),uEe=({titleId:e})=>{const t=rY(tY),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},dEe="DialogDescriptionWarning",fEe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rY(dEe).contentName}}.`;return E.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},T6=UX,E6=WX,C6=HX,ly=KX,cy=GX,Cp=XX,Ap=QX,uy=eY,hEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pEe=hEe.reduce((e,t)=>{const r=ey(`Primitive.${t}`),n=E.forwardRef((s,i)=>{const{asChild:a,...o}=s,u=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),mEe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),gEe="VisuallyHidden",nY=E.forwardRef((e,t)=>c.jsx(pEe.span,{...e,ref:t,style:{...mEe,...e.style}}));nY.displayName=gEe;var yEe=nY;const ks=T6,rp=E6,bEe=C6,sY=E.forwardRef(({className:e,...t},r)=>c.jsx(ly,{ref:r,className:_e("fixed inset-0 z-[9998] bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));sY.displayName=ly.displayName;const hs=E.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(bEe,{children:[c.jsx(sY,{}),c.jsxs(cy,{ref:n,className:_e("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","bg-background opacity-100",e),style:{pointerEvents:"auto"},...r,children:[c.jsxs(yEe,{children:[c.jsx(Cp,{children:"Dialog Content"}),c.jsx(Ap,{children:"Accessibility description for the dialog content."})]}),t,c.jsxs(uy,{className:"absolute left-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(fs,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hs.displayName=cy.displayName;const js=({className:e,...t})=>c.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-right",e),...t});js.displayName="DialogHeader";const jx=({className:e,...t})=>c.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});jx.displayName="DialogFooter";const zs=E.forwardRef(({className:e,...t},r)=>c.jsx(Cp,{ref:r,className:_e("text-lg font-semibold leading-none tracking-tight",e),...t}));zs.displayName=Cp.displayName;const Fl=E.forwardRef(({className:e,...t},r)=>c.jsx(Ap,{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));Fl.displayName=Ap.displayName;const fr=[{name:"",code:"+967",flag:"https://flagcdn.com/w20/ye.png"},{name:"",code:"+966",flag:"https://flagcdn.com/w20/sa.png"},{name:"",code:"+971",flag:"https://flagcdn.com/w20/ae.png"},{name:"",code:"+968",flag:"https://flagcdn.com/w20/om.png"},{name:"",code:"+965",flag:"https://flagcdn.com/w20/kw.png"},{name:"",code:"+974",flag:"https://flagcdn.com/w20/qa.png"},{name:"",code:"+973",flag:"https://flagcdn.com/w20/bh.png"},{name:"",code:"+20",flag:"https://flagcdn.com/w20/eg.png"},{name:"",code:"+962",flag:"https://flagcdn.com/w20/jo.png"},{name:"",code:"+964",flag:"https://flagcdn.com/w20/iq.png"},{name:"",code:"+963",flag:"https://flagcdn.com/w20/sy.png"},{name:"",code:"+961",flag:"https://flagcdn.com/w20/lb.png"},{name:"",code:"+970",flag:"https://flagcdn.com/w20/ps.png"},{name:"",code:"+212",flag:"https://flagcdn.com/w20/ma.png"},{name:"",code:"+213",flag:"https://flagcdn.com/w20/dz.png"},{name:"",code:"+216",flag:"https://flagcdn.com/w20/tn.png"},{name:"",code:"+218",flag:"https://flagcdn.com/w20/ly.png"},{name:"",code:"+249",flag:"https://flagcdn.com/w20/sd.png"},{name:"",code:"+222",flag:"https://flagcdn.com/w20/mr.png"},{name:"",code:"+90",flag:"https://flagcdn.com/w20/tr.png"},{name:" ",code:"+1",flag:"https://flagcdn.com/w20/us.png"},{name:" ",code:"+44",flag:"https://flagcdn.com/w20/gb.png"}],vEe=Au({fullName:gr().min(1,"  "),email:gr().email("   "),phone:gr().min(9,"   "),password:gr().min(6,"       6 "),confirmPassword:gr().min(1,"   "),birthDate:gr().min(1,"  "),birthPlace:gr().min(1,"  "),gender:gr().min(1," "),terms:G0().refine(e=>e===!0,"   ")}).refine(e=>e.password===e.confirmPassword,{message:"   ",path:["confirmPassword"]}),xEe=()=>c.jsxs("div",{className:"flex flex-col items-center justify-center mb-4 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[c.jsx("div",{className:"relative mb-3 group cursor-pointer",children:c.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[c.jsx("img",{src:wX,alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),c.jsx("img",{src:W3e,alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),c.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),c.jsxs("div",{className:"text-center relative",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[c.jsx("img",{src:xX,alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),c.jsx("img",{src:V3e,alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-r from-transparent to-blue-200 dark:to-blue-900"}),c.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-[9px] font-black tracking-[0.5em] uppercase",children:"Real Assets Management"}),c.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-l from-transparent to-blue-200 dark:to-blue-900"})]})]})]});function wEe(){const[,e]=gs(),{toast:t}=Br(),[r,n]=E.useState(fr[0]),[s,i]=E.useState(""),[a,o]=E.useState(!1),[u,l]=E.useState(!1),[d,h]=E.useState(!1),[f,p]=E.useState(!1),[g,y]=E.useState(2e3),[m,v]=E.useState(1),[b,x]=E.useState(1);E.useEffect(()=>{(()=>{try{const A=Intl.DateTimeFormat().resolvedOptions().timeZone;A.includes("Aden")||A.includes("Sanaa")?n(fr.find(P=>P.code==="+967")||fr[0]):A.includes("Riyadh")?n(fr.find(P=>P.code==="+966")||fr[0]):A.includes("Dubai")||A.includes("Abu_Dhabi")?n(fr.find(P=>P.code==="+971")||fr[0]):A.includes("Cairo")?n(fr.find(P=>P.code==="+20")||fr[0]):A.includes("Muscat")?n(fr.find(P=>P.code==="+968")||fr[0]):A.includes("Kuwait")?n(fr.find(P=>P.code==="+965")||fr[0]):A.includes("Qatar")?n(fr.find(P=>P.code==="+974")||fr[0]):A.includes("Bahrain")?n(fr.find(P=>P.code==="+973")||fr[0]):A.includes("Amman")?n(fr.find(P=>P.code==="+962")||fr[0]):A.includes("Baghdad")?n(fr.find(P=>P.code==="+964")||fr[0]):A.includes("Damascus")?n(fr.find(P=>P.code==="+963")||fr[0]):A.includes("Beirut")?n(fr.find(P=>P.code==="+961")||fr[0]):A.includes("Gaza")||A.includes("Hebron")?n(fr.find(P=>P.code==="+970")||fr[0]):A.includes("Casablanca")?n(fr.find(P=>P.code==="+212")||fr[0]):A.includes("Algiers")?n(fr.find(P=>P.code==="+213")||fr[0]):A.includes("Tunis")?n(fr.find(P=>P.code==="+216")||fr[0]):A.includes("Tripoli")?n(fr.find(P=>P.code==="+218")||fr[0]):A.includes("Khartoum")?n(fr.find(P=>P.code==="+249")||fr[0]):A.includes("Istanbul")&&n(fr.find(P=>P.code==="+90")||fr[0])}catch(A){console.error("Failed to detect country:",A)}})()},[]);const k=fr.filter(F=>F.name.includes(s)||F.code.includes(s)),T=Xl({resolver:Yl(vEe),defaultValues:{fullName:"",email:"",phone:"",password:"",confirmPassword:"",birthDate:"",birthPlace:"",gender:"",terms:!1}}),O=ht({mutationFn:async F=>{const A=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)});if(!A.ok){const P=await A.json();throw new Error(P.message||"  ")}return A.json()},onSuccess:F=>{t({title:"   ",description:"      "});const A=F?.data?.user?.id,P=F?.data?.user?.email||T.getValues("email");e(`/verify-email?userId=${A}&email=${encodeURIComponent(P)}`)},onError:F=>{t({title:"  ",description:F.message,variant:"destructive"})}});return c.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[c.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),c.jsx("div",{className:"w-full max-w-[420px] h-full z-10 flex flex-col p-4 pt-safe justify-center relative",children:c.jsxs("div",{className:"flex flex-col gap-2 px-1 pt-2",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[c.jsxs("div",{className:"text-right flex flex-col items-end",children:[c.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),c.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"JOIN AXION OPS"})]}),c.jsx(Se,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>e("/login"),"data-testid":"button-back",children:c.jsxs("div",{className:"flex gap-0.5",children:[c.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),c.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),c.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),c.jsx(xEe,{}),c.jsx(Jl,{...T,children:c.jsxs("form",{onSubmit:T.handleSubmit(F=>O.mutate(F)),className:"space-y-2 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[c.jsx(Ir,{control:T.control,name:"fullName",render:({field:F})=>c.jsx(Cr,{className:"space-y-0",children:c.jsx("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Full Name / "}),c.jsx(Rr,{children:c.jsx(tt,{...F,placeholder:" ",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-fullname"})})]})})})}),c.jsx(Ir,{control:T.control,name:"email",render:({field:F})=>c.jsx(Cr,{className:"space-y-0",children:c.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Identity / "}),c.jsx(Rr,{children:c.jsx(tt,{...F,type:"email",placeholder:"username@axion.system",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-email"})})]}),c.jsx(j3,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})}),c.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[c.jsxs(ks,{open:a,onOpenChange:o,children:[c.jsx(rp,{asChild:!0,children:c.jsxs("button",{type:"button",className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-2 justify-between hover:bg-muted/50 transition-colors",children:[c.jsx(yn,{className:"w-3 h-3 text-blue-600/30"}),c.jsx("span",{className:"text-xs font-black text-foreground",dir:"ltr",children:r.code}),c.jsx("img",{src:r.flag,alt:r.name,className:"w-4 h-auto rounded-sm"})]})}),c.jsx(hs,{className:"max-w-[400px] w-[95%] p-0 rounded-3xl border-border dark:border-slate-800 bg-card dark:bg-slate-900 shadow-2xl overflow-hidden",dir:"rtl",children:c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"relative mb-4",children:[c.jsx(tt,{placeholder:"",value:s,onChange:F=>i(F.target.value),className:"w-full h-12 bg-muted/50 dark:bg-slate-800/50 border-none rounded-xl text-right pr-10 pl-4 text-sm font-bold focus-visible:ring-0"}),c.jsx(So,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground/40"})]}),c.jsx("div",{className:"max-h-[40vh] overflow-y-auto custom-scrollbar",children:k.map(F=>c.jsxs("button",{onClick:()=>{n(F),o(!1)},className:"w-full flex items-center justify-between p-3 hover:bg-muted/50 dark:hover:bg-slate-800/50 rounded-xl transition-colors mb-1",children:[c.jsx("img",{src:F.flag,alt:F.name,className:"w-6 h-auto rounded-sm shadow-sm"}),c.jsx("span",{className:"text-sm font-bold text-foreground flex-1 text-right px-4",dir:"ltr",children:F.code}),c.jsx("span",{className:"text-sm font-bold text-muted-foreground min-w-[100px] text-left",children:F.name})]},F.name+F.code))})]})})]}),c.jsx(Ir,{control:T.control,name:"phone",render:({field:F})=>c.jsx(Cr,{className:"space-y-0",children:c.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Smartphone / "}),c.jsx(Rr,{children:c.jsx(tt,{...F,placeholder:"7xxxxxxxx",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-phone"})})]}),c.jsx(T3,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx(Ir,{control:T.control,name:"password",render:({field:F})=>c.jsx(Cr,{className:"space-y-0",children:c.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Security /  "}),c.jsx(Rr,{children:c.jsx(tt,{...F,type:d?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-password",hidePasswordToggle:!0})})]}),c.jsx("button",{type:"button",onClick:()=>h(!d),className:"flex items-center justify-center ml-1 transition-colors",children:d?c.jsx(uu,{className:"w-4 h-4 text-blue-600 dark:text-blue-400",strokeWidth:2}):c.jsx(Bh,{className:"w-4 h-4 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})}),c.jsx(Ir,{control:T.control,name:"confirmPassword",render:({field:F})=>c.jsx(Cr,{className:"space-y-0",children:c.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Verify / "}),c.jsx(Rr,{children:c.jsx(tt,{...F,type:f?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-confirm-password",hidePasswordToggle:!0})})]}),c.jsx("button",{type:"button",onClick:()=>p(!f),className:"flex items-center justify-center ml-1 transition-colors",children:f?c.jsx(uu,{className:"w-4 h-4 text-blue-600 dark:text-blue-400",strokeWidth:2}):c.jsx(Bh,{className:"w-4 h-4 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx(Ir,{control:T.control,name:"birthPlace",render:({field:F})=>c.jsx(Cr,{className:"space-y-0",children:c.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Location /  "}),c.jsx(Rr,{children:c.jsx(tt,{...F,placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none"})})]}),c.jsx(qo,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})}),c.jsx(Ir,{control:T.control,name:"birthDate",render:({field:F})=>c.jsx(Cr,{className:"space-y-0",children:c.jsxs(ks,{open:u,onOpenChange:l,children:[c.jsx(rp,{asChild:!0,children:c.jsxs("button",{type:"button",className:"w-full bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 justify-between hover:bg-muted/50 transition-colors","data-testid":"button-birth-date",children:[c.jsx(rs,{className:"w-4 h-4 text-blue-600/30"}),c.jsx("span",{className:`text-xs font-bold ${F.value?"text-foreground":"text-muted-foreground/30"}`,children:F.value||" "})]})}),c.jsx(hs,{className:"max-w-[350px] w-[95%] p-0 rounded-3xl border-border dark:border-slate-800 bg-card dark:bg-slate-900 shadow-2xl overflow-hidden",dir:"rtl",children:c.jsxs("div",{className:"p-4",children:[c.jsx(js,{className:"pb-4 border-b border-border dark:border-slate-800",children:c.jsx(zs,{className:"text-center text-lg font-black text-foreground",children:" "})}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 py-6",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),c.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:Array.from({length:80},(A,P)=>2025-P).map(A=>c.jsx("button",{type:"button",onClick:()=>y(A),className:`w-full py-2 text-center font-bold transition-colors ${g===A?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:A},A))})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),c.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:["","","","","","","","","","","",""].map((A,P)=>c.jsx("button",{type:"button",onClick:()=>v(P+1),className:`w-full py-2 text-center font-bold text-sm transition-colors ${m===P+1?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:A},A))})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),c.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:Array.from({length:31},(A,P)=>P+1).map(A=>c.jsx("button",{type:"button",onClick:()=>x(A),className:`w-full py-2 text-center font-bold transition-colors ${b===A?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:A},A))})]})]}),c.jsx(Se,{onClick:()=>{const A=`${g}-${String(m).padStart(2,"0")}-${String(b).padStart(2,"0")}`;T.setValue("birthDate",A),l(!1)},className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-xl",children:" "})]})})]})})})]}),c.jsx(Ir,{control:T.control,name:"terms",render:({field:F})=>c.jsxs(Cr,{className:"flex flex-row items-center justify-center space-x-2 space-y-0 py-1",children:[c.jsx(Rr,{children:c.jsx(iy,{checked:F.value,onCheckedChange:F.onChange,className:"rounded-sm border-blue-600/30 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"})}),c.jsx("div",{className:"leading-none text-right px-2",children:c.jsxs(Tn,{className:"text-[10px] font-bold text-muted-foreground",children:["  ",c.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" "}),"  ",c.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" "})]})})]})}),c.jsx(Se,{type:"submit",className:"w-full h-12 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-xl font-black text-base shadow-lg shadow-blue-600/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 group",disabled:O.isPending,"data-testid":"button-submit",children:O.isPending?c.jsx(Mr,{className:"w-5 h-5 animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"  "}),c.jsx(Dl,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"})]})})]})}),c.jsx("div",{className:"mt-2 text-center pb-2 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:c.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:["  ",c.jsx("button",{onClick:()=>e("/login"),className:"text-blue-600 dark:text-blue-400 mr-1 hover:underline underline-offset-4",children:" "})]})})]})})]})}const _Ee=Au({newPassword:gr().min(8,"     8   ").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"         "),confirmPassword:gr().min(1,"   ")}).refine(e=>e.newPassword===e.confirmPassword,{message:"   ",path:["confirmPassword"]});function SEe(){const[,e]=gs(),{toast:t}=Br(),[r,n]=E.useState(!1),[s,i]=E.useState(null),[a,o]=E.useState(null),[u,l]=E.useState(!1),[d,h]=E.useState(!1),f=Xl({resolver:Yl(_Ee),defaultValues:{newPassword:"",confirmPassword:""}});E.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("token");m?(i(m),o(!0)):o(!1)},[]);const p=ht({mutationFn:async y=>{if(!s)throw new Error("   ");const m=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,newPassword:y.newPassword})});if(!m.ok){const v=await m.json();throw new Error(v.message||"     ")}return m.json()},onSuccess:y=>{y.success?(n(!0),t({title:"    ",description:"      "})):t({title:"     ",description:y.message,variant:"destructive"})},onError:y=>{t({title:"     ",description:y.message||"   ",variant:"destructive"})}}),g=y=>{p.mutate(y)};return a===!1?c.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[c.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),c.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[c.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center",children:c.jsx(ko,{className:"w-12 h-12 text-red-500"})}),c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h2",{className:"text-xl font-black text-red-600",children:"  "}),c.jsx("p",{className:"text-sm text-red-600/60 font-bold",children:"        .    ."})]}),c.jsxs("div",{className:"w-full space-y-2",children:[c.jsx(Se,{onClick:()=>e("/forgot-password"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",children:"  "}),c.jsx(Se,{variant:"ghost",onClick:()=>e("/login"),className:"w-full h-12 text-blue-600 font-bold",children:"  "})]})]})]}):r?c.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[c.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),c.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[c.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center",children:c.jsx(Ha,{className:"w-12 h-12 text-blue-600"})}),c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h2",{className:"text-xl font-black text-blue-600 dark:text-blue-400",children:" !"}),c.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"     .    ."})]}),c.jsx(Se,{onClick:()=>e("/login"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",children:"  "})]})]}):c.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[c.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),c.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[c.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[c.jsxs("div",{className:"text-right flex flex-col items-end",children:[c.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),c.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"SECURE ACCOUNT"})]}),c.jsx(Se,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>e("/login"),children:c.jsxs("div",{className:"flex gap-0.5",children:[c.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),c.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),c.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[c.jsx("div",{className:"relative mb-4 group cursor-pointer",children:c.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[c.jsx("img",{src:"/assets/app_icon_light.png",alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),c.jsx("img",{src:"/assets/app_icon_dark.png",alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),c.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),c.jsx("div",{className:"text-center relative",children:c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[c.jsx("img",{src:"/assets/logo_header_light.png",alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),c.jsx("img",{src:"/assets/logo_header_dark.png",alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]})})]}),c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h2",{className:"text-lg font-black text-blue-600 dark:text-blue-400 mb-1",children:"   "}),c.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"     "})]}),c.jsx(Jl,{...f,children:c.jsxs("form",{onSubmit:f.handleSubmit(g),className:"space-y-4 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[c.jsx(Ir,{control:f.control,name:"newPassword",render:({field:y})=>c.jsxs(Cr,{children:[c.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Security /  "}),c.jsx(Rr,{children:c.jsx(tt,{...y,type:u?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none",hidePasswordToggle:!0})})]}),c.jsx("button",{type:"button",onClick:()=>l(!u),className:"flex items-center justify-center ml-2 transition-colors",children:u?c.jsx(uu,{className:"w-5 h-5 text-blue-600"}):c.jsx(Bh,{className:"w-5 h-5 text-blue-600/30"})})]}),c.jsx(dn,{})]})}),c.jsx(Ir,{control:f.control,name:"confirmPassword",render:({field:y})=>c.jsxs(Cr,{children:[c.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Verify / "}),c.jsx(Rr,{children:c.jsx(tt,{...y,type:d?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none",hidePasswordToggle:!0})})]}),c.jsx("button",{type:"button",onClick:()=>h(!d),className:"flex items-center justify-center ml-2 transition-colors",children:d?c.jsx(uu,{className:"w-5 h-5 text-blue-600"}):c.jsx(Bh,{className:"w-5 h-5 text-blue-600/30"})})]}),c.jsx(dn,{})]})}),c.jsx(Se,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:p.isPending,children:p.isPending?c.jsx(Mr,{className:"animate-spin h-5 w-5"}):"   "})]})})]}),c.jsxs("div",{className:"flex flex-col items-center gap-2 pb-4 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[c.jsxs("div",{className:"flex items-center gap-4 w-full px-4",children:[c.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"}),c.jsx("span",{className:"text-[8px] font-black text-blue-600/30 dark:text-blue-400/30 tracking-[0.2em] uppercase",children:"Secure System"}),c.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"})]}),c.jsx("span",{className:"text-[8px] text-blue-600/20 dark:text-blue-400/20",children:" 2026 AXION OPERATIONS MANAGEMENT"})]})]})]})}const kEe=Au({email:gr().email("   ")});function jEe(){const[,e]=gs(),{toast:t}=Br(),[r,n]=E.useState(!1),s=Xl({resolver:Yl(kEe),defaultValues:{email:""}}),i=ht({mutationFn:async a=>{const o=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){const u=await o.json();throw new Error(u.message||"   ")}return o.json()},onSuccess:()=>{n(!0),t({title:"  ",description:"        "})},onError:a=>{t({title:"  ",description:a.message,variant:"destructive"})}});return r?c.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[c.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),c.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[c.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center",children:c.jsx(Ha,{className:"w-12 h-12 text-blue-600"})}),c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h2",{className:"text-xl font-black text-blue-600 dark:text-blue-400",children:"   "}),c.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"        .     ."})]}),c.jsx(Se,{onClick:()=>e("/login"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none","data-testid":"button-back-to-login",children:"  "})]})]}):c.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[c.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),c.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[c.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[c.jsxs("div",{className:"text-right flex flex-col items-end",children:[c.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),c.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"RECOVER ACCESS"})]}),c.jsx(Se,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>e("/login"),"data-testid":"button-back",children:c.jsxs("div",{className:"flex gap-0.5",children:[c.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),c.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),c.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[c.jsx("div",{className:"relative mb-4 group cursor-pointer",children:c.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[c.jsx("img",{src:"/assets/app_icon_light.png",alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),c.jsx("img",{src:"/assets/app_icon_dark.png",alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),c.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),c.jsx("div",{className:"text-center relative",children:c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[c.jsx("img",{src:"/assets/logo_header_light.png",alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),c.jsx("img",{src:"/assets/logo_header_dark.png",alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]})})]}),c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h2",{className:"text-lg font-black text-blue-600 dark:text-blue-400 mb-1",children:"  "}),c.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"        "})]}),c.jsx(Jl,{...s,children:c.jsxs("form",{onSubmit:s.handleSubmit(a=>i.mutate(a)),className:"space-y-4 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[c.jsx(Ir,{control:s.control,name:"email",render:({field:a})=>c.jsxs(Cr,{children:[c.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Identity / "}),c.jsx(Rr,{children:c.jsx(tt,{...a,type:"email",autoComplete:"email",placeholder:"username@axion.system",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none","data-testid":"input-email"})})]}),c.jsx(j3,{className:"w-5 h-5 text-blue-600/30 dark:text-blue-400/30 ml-2",strokeWidth:1.5})]}),c.jsx(dn,{})]})}),c.jsx(Se,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:i.isPending,"data-testid":"button-submit",children:i.isPending?c.jsx(Mr,{className:"animate-spin h-5 w-5"}):"  "}),c.jsx("div",{className:"text-center pt-2",children:c.jsxs("button",{type:"button",onClick:()=>e("/login"),className:"text-xs font-bold text-blue-600/60 dark:text-blue-400/60","data-testid":"link-login",children:["   ",c.jsx("span",{className:"text-blue-600 underline",children:" "})]})})]})})]}),c.jsxs("div",{className:"flex flex-col items-center gap-2 pb-4 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[c.jsxs("div",{className:"flex items-center gap-4 w-full px-4",children:[c.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"}),c.jsx("span",{className:"text-[8px] font-black text-blue-600/30 dark:text-blue-400/30 tracking-[0.2em] uppercase",children:"Secure Recovery"}),c.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"})]}),c.jsx("span",{className:"text-[8px] text-blue-600/20 dark:text-blue-400/20",children:" 2026 AXION OPERATIONS MANAGEMENT"})]})]})]})}const NEe=ef("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),iY=E.forwardRef(({className:e,variant:t,...r},n)=>c.jsx("div",{ref:n,role:"alert",className:_e(NEe({variant:t}),e),...r}));iY.displayName="Alert";const TEe=E.forwardRef(({className:e,...t},r)=>c.jsx("h5",{ref:r,className:_e("mb-1 font-medium leading-none tracking-tight",e),...t}));TEe.displayName="AlertTitle";const aY=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:_e("text-sm [&_p]:leading-relaxed",e),...t}));aY.displayName="AlertDescription";const EEe=Au({code:gr().length(6,"     6 ").regex(/^\d+$/,"       ")}),pR=()=>c.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute -top-40 -right-32 w-96 h-96 bg-gradient-to-br from-green-400/20 to-blue-600/20 rounded-full blur-3xl animate-blob"}),c.jsx("div",{className:"absolute -bottom-32 -left-40 w-96 h-96 bg-gradient-to-tr from-blue-400/20 to-purple-600/20 rounded-full blur-3xl animate-blob animation-delay-2000"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-r from-purple-400/20 to-pink-600/20 rounded-full blur-3xl animate-blob animation-delay-4000"})]});function CEe(){const[,e]=gs(),{toast:t}=Br(),[r,n]=E.useState("input"),[s,i]=E.useState({}),[a,o]=E.useState(0),[u,l]=E.useState(!1);E.useEffect(()=>{const m=new URLSearchParams(window.location.search),v=m.get("userId"),b=m.get("email"),x=m.get("token");v&&b&&i({id:v,email:b}),x&&v&&(console.log(" [EmailVerification]    :",{token:x,userId:v}),h.mutate({code:x,userId:v}))},[]),E.useEffect(()=>{let m;return a>0&&(m=setTimeout(()=>o(a-1),1e3)),()=>clearTimeout(m)},[a]);const d=Xl({resolver:Yl(EEe),defaultValues:{code:""}}),h=ht({mutationFn:async m=>{console.log(" [EmailVerification]    :",{code:m.code,userId:m.userId||s.id});const v=m.userId||s.id;if(!v)throw new Error("  ");const b=await fetch("/api/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:v,code:m.code})}),x=await b.json();if(!b.ok)throw new Error(x.message||"   ");return x},onSuccess:m=>{if(console.log(" [EmailVerification]   :",m),m.success){const v=localStorage.getItem("user");if(v){const x={...JSON.parse(v),emailVerified:!0};localStorage.setItem("user",JSON.stringify(x))}n("verified"),t({title:" ! ",description:m.message}),setTimeout(()=>{window.location.href="/"},2e3)}else n("error"),t({title:" ",description:m.message,variant:"destructive"})},onError:m=>{console.error(" [EmailVerification]   :",m),n("error"),t({title:" ",description:m instanceof Error?m.message:"   ",variant:"destructive"})}}),f=ht({mutationFn:async()=>{if(console.log(" [EmailVerification]    "),!s.id||!s.email)throw new Error("  ");const m=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s.id,email:s.email})}),v=await m.json();if(!m.ok)throw new Error(v.message||"  ");return v},onSuccess:m=>{console.log(" [EmailVerification]    :",m),t({title:"  ",description:m.message}),o(60),d.reset()},onError:m=>{console.error(" [EmailVerification]    :",m),t({title:"  ",description:m instanceof Error?m.message:"   ",variant:"destructive"})}}),p=m=>{h.mutate(m)},g=()=>{a===0&&f.mutate()},y=async()=>{const m=d.getValues("code");if(m&&m.length===6)try{await navigator.clipboard.writeText(m),l(!0),t({title:" !",description:"     "}),setTimeout(()=>l(!1),2e3)}catch{t({title:" ",description:"    ",variant:"destructive"})}else t({title:"   ",description:"    ",variant:"destructive"})};return r==="verified"?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4 relative",children:[c.jsx(pR,{}),c.jsxs(Pt,{className:"w-full max-w-md shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[c.jsxs(Cn,{className:"text-center space-y-1",children:[c.jsx("div",{className:"mx-auto bg-blue-600 dark:bg-white rounded-full p-4 w-20 h-20 flex items-center justify-center shadow-lg shadow-blue-600/20",children:c.jsx(Ha,{className:"w-10 h-10 text-white dark:text-blue-600"})}),c.jsx(zn,{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"  ! "}),c.jsx(Yc,{className:"text-lg",children:"    "})]}),c.jsx(Ft,{className:"space-y-1",children:c.jsxs("div",{className:"text-center space-y-1",children:[c.jsx("p",{className:"text-gray-600",children:"       ..."}),c.jsx(Se,{onClick:()=>e("/login"),className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700","data-testid":"button-continue-login",children:"   "})]})})]})]}):c.jsxs("div",{className:"w-full bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4 relative py-8",children:[c.jsx(pR,{}),c.jsxs(Pt,{className:"w-full max-w-md shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[c.jsxs(Cn,{className:"text-center space-y-1",children:[c.jsx("div",{className:"mx-auto bg-blue-600 dark:bg-white rounded-full p-4 w-20 h-20 flex items-center justify-center shadow-lg shadow-blue-600/20",children:c.jsx(j3,{className:"w-10 h-10 text-white dark:text-blue-600"})}),c.jsx(zn,{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"   "}),c.jsx(Yc,{className:"text-lg",children:"      "}),s.email&&c.jsxs("p",{className:"text-sm text-gray-600 bg-gray-100 p-2 rounded-lg",children:[" ",s.email]})]}),c.jsxs(Ft,{className:"space-y-1",children:[r==="error"&&c.jsx(iY,{className:"border-red-200 bg-red-50",children:c.jsx(aY,{className:"text-red-700",children:"    .        ."})}),c.jsx(Jl,{...d,children:c.jsxs("form",{onSubmit:d.handleSubmit(p),className:"space-y-1",children:[c.jsx(Ir,{control:d.control,name:"code",render:({field:m})=>c.jsxs(Cr,{children:[c.jsx(Tn,{className:"text-gray-700 font-medium",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx(Rr,{children:c.jsx(tt,{...m,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"000000",className:"text-center text-2xl font-mono tracking-widest h-14 border-2 focus:border-blue-500 pr-12",disabled:h.isPending,"data-testid":"input-verification-code",onChange:v=>{const b=v.target.value.replace(/\D/g,"");m.onChange(b)}})}),c.jsx(Se,{type:"button",variant:"ghost",size:"sm",onClick:y,className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-10 w-10 p-0 hover:bg-blue-100",title:"   ","data-testid":"button-copy-verification-code",children:u?c.jsx(yo,{className:"h-4 w-4 text-green-600"}):c.jsx(Wf,{className:"h-4 w-4 text-gray-500"})})]}),c.jsx(dn,{})]})}),c.jsx(Se,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold text-lg shadow-lg",disabled:h.isPending,"data-testid":"button-verify-email",children:h.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Mr,{className:"w-5 h-5 mr-2 animate-spin"})," ..."]}):c.jsxs(c.Fragment,{children:[c.jsx(bo,{className:"w-5 h-5 mr-2"}),"  "]})})]})}),c.jsxs("div",{className:"text-center space-y-1",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:""})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Se,{variant:"outline",onClick:g,disabled:a>0||f.isPending,className:"w-full border-2 hover:bg-gray-50","data-testid":"button-resend-code",children:f.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):a>0?c.jsxs(c.Fragment,{children:[c.jsx(bn,{className:"w-4 h-4 mr-2"})," ",a," "]}):c.jsxs(c.Fragment,{children:[c.jsx(ms,{className:"w-4 h-4 mr-2"}),"  "]})}),c.jsxs(Se,{variant:"ghost",onClick:()=>e("/login"),className:"w-full text-gray-600 hover:text-gray-800","data-testid":"button-back-login",children:[c.jsx(Kbe,{className:"w-4 h-4 mr-2"}),"   "]})]})]}),c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-blue-900",children:"  :"}),c.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[c.jsx("li",{children:"       "}),c.jsx("li",{children:"    24  "}),c.jsx("li",{children:"    6 "})]})]})]})]})]})}const al=Object.create(null);al.open="0";al.close="1";al.ping="2";al.pong="3";al.message="4";al.upgrade="5";al.noop="6";const rv=Object.create(null);Object.keys(al).forEach(e=>{rv[al[e]]=e});const uj={type:"error",data:"parser error"},oY=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",lY=typeof ArrayBuffer=="function",cY=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,A6=({type:e,data:t},r,n)=>oY&&t instanceof Blob?r?n(t):mR(t,n):lY&&(t instanceof ArrayBuffer||cY(t))?r?n(t):mR(new Blob([t]),n):n(al[e]+(t||"")),mR=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function gR(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let H2;function AEe(e,t){if(oY&&e.data instanceof Blob)return e.data.arrayBuffer().then(gR).then(t);if(lY&&(e.data instanceof ArrayBuffer||cY(e.data)))return t(gR(e.data));A6(e,!1,r=>{H2||(H2=new TextEncoder),t(H2.encode(r))})}const yR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<yR.length;e++)Cm[yR.charCodeAt(e)]=e;const PEe=e=>{let t=e.length*.75,r=e.length,n,s=0,i,a,o,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const l=new ArrayBuffer(t),d=new Uint8Array(l);for(n=0;n<r;n+=4)i=Cm[e.charCodeAt(n)],a=Cm[e.charCodeAt(n+1)],o=Cm[e.charCodeAt(n+2)],u=Cm[e.charCodeAt(n+3)],d[s++]=i<<2|a>>4,d[s++]=(a&15)<<4|o>>2,d[s++]=(o&3)<<6|u&63;return l},IEe=typeof ArrayBuffer=="function",P6=(e,t)=>{if(typeof e!="string")return{type:"message",data:uY(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:REe(e.substring(1),t)}:rv[r]?e.length>1?{type:rv[r],data:e.substring(1)}:{type:rv[r]}:uj},REe=(e,t)=>{if(IEe){const r=PEe(e);return uY(r,t)}else return{base64:!0,data:e}},uY=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},dY="",OEe=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((i,a)=>{A6(i,!1,o=>{n[a]=o,++s===r&&t(n.join(dY))})})},MEe=(e,t)=>{const r=e.split(dY),n=[];for(let s=0;s<r.length;s++){const i=P6(r[s],t);if(n.push(i),i.type==="error")break}return n};function DEe(){return new TransformStream({transform(e,t){AEe(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let K2;function yb(e){return e.reduce((t,r)=>t+r.length,0)}function bb(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function $Ee(e,t){K2||(K2=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(a,o){for(r.push(a);;){if(n===0){if(yb(r)<1)break;const u=bb(r,1);i=(u[0]&128)===128,s=u[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(yb(r)<2)break;const u=bb(r,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(yb(r)<8)break;const u=bb(r,8),l=new DataView(u.buffer,u.byteOffset,u.length),d=l.getUint32(0);if(d>Math.pow(2,21)-1){o.enqueue(uj);break}s=d*Math.pow(2,32)+l.getUint32(4),n=3}else{if(yb(r)<s)break;const u=bb(r,s);o.enqueue(P6(i?u:K2.decode(u),t)),n=0}if(s===0||s>e){o.enqueue(uj);break}}}})}const fY=4;function es(e){if(e)return LEe(e)}function LEe(e){for(var t in es.prototype)e[t]=es.prototype[t];return e}es.prototype.on=es.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};es.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};es.prototype.off=es.prototype.removeListener=es.prototype.removeAllListeners=es.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};es.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};es.prototype.emitReserved=es.prototype.emit;es.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};es.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Lw=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Aa=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),FEe="arraybuffer";function hY(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const zEe=Aa.setTimeout,BEe=Aa.clearTimeout;function Fw(e,t){t.useNativeTimers?(e.setTimeoutFn=zEe.bind(Aa),e.clearTimeoutFn=BEe.bind(Aa)):(e.setTimeoutFn=Aa.setTimeout.bind(Aa),e.clearTimeoutFn=Aa.clearTimeout.bind(Aa))}const UEe=1.33;function VEe(e){return typeof e=="string"?WEe(e):Math.ceil((e.byteLength||e.size)*UEe)}function WEe(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function pY(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function qEe(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function HEe(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class KEe extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class I6 extends es{constructor(t){super(),this.writable=!1,Fw(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new KEe(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=P6(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=qEe(t);return r.length?"?"+r:""}}class GEe extends I6{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};MEe(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,OEe(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=pY()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let mY=!1;try{mY=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ZEe=mY;function XEe(){}class YEe extends GEe{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}let ch=class nv extends es{constructor(t,r,n){super(),this.createRequest=t,Fw(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=hY(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=nv.requestsCount++,nv.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=XEe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete nv.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};ch.requestsCount=0;ch.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",bR);else if(typeof addEventListener=="function"){const e="onpagehide"in Aa?"pagehide":"unload";addEventListener(e,bR,!1)}}function bR(){for(let e in ch.requests)ch.requests.hasOwnProperty(e)&&ch.requests[e].abort()}const QEe=(function(){const e=gY({xdomain:!1});return e&&e.responseType!==null})();class JEe extends YEe{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=QEe&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ch(gY,this.uri(),t)}}function gY(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||ZEe))return new XMLHttpRequest}catch{}if(!t)try{return new Aa[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const yY=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class e6e extends I6{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=yY?{}:hY(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;A6(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&Lw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=pY()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const G2=Aa.WebSocket||Aa.MozWebSocket;class t6e extends e6e{createSocket(t,r,n){return yY?new G2(t,r,n):r?new G2(t,r):new G2(t)}doWrite(t,r){this.ws.send(r)}}class r6e extends I6{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=$Ee(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=DEe();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:o,value:u})=>{o||(this.onPacket(u),i())}).catch(o=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&Lw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const n6e={websocket:t6e,webtransport:r6e,polling:JEe},s6e=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i6e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function dj(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=s6e.exec(e||""),i={},a=14;for(;a--;)i[i6e[a]]=s[a]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=a6e(i,i.path),i.queryKey=o6e(i,i.query),i}function a6e(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function o6e(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const fj=typeof addEventListener=="function"&&typeof removeEventListener=="function",sv=[];fj&&addEventListener("offline",()=>{sv.forEach(e=>e())},!1);class Jc extends es{constructor(t,r){if(super(),this.binaryType=FEe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=dj(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=dj(r.host).host);Fw(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=HEe(this.opts.query)),fj&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},sv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=fY,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Jc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Jc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=VEe(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Lw(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Jc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),fj&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=sv.indexOf(this._offlineEventListener);n!==-1&&sv.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Jc.protocol=fY;class l6e extends Jc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Jc.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Jc.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function i(){n||(n=!0,d(),r.close(),r=null)}const a=h=>{const f=new Error("probe error: "+h);f.transport=r.name,i(),this.emitReserved("upgradeError",f)};function o(){a("transport closed")}function u(){a("socket closed")}function l(h){r&&h.name!==r.name&&i()}const d=()=>{r.removeListener("open",s),r.removeListener("error",a),r.removeListener("close",o),this.off("close",u),this.off("upgrading",l)};r.once("open",s),r.once("error",a),r.once("close",o),this.once("close",u),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let c6e=class extends l6e{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>n6e[s]).filter(s=>!!s)),super(t,n)}};function u6e(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=dj(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const d6e=typeof ArrayBuffer=="function",f6e=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,bY=Object.prototype.toString,h6e=typeof Blob=="function"||typeof Blob<"u"&&bY.call(Blob)==="[object BlobConstructor]",p6e=typeof File=="function"||typeof File<"u"&&bY.call(File)==="[object FileConstructor]";function R6(e){return d6e&&(e instanceof ArrayBuffer||f6e(e))||h6e&&e instanceof Blob||p6e&&e instanceof File}function iv(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(iv(e[r]))return!0;return!1}if(R6(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return iv(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&iv(e[r]))return!0;return!1}function m6e(e){const t=[],r=e.data,n=e;return n.data=hj(r,t),n.attachments=t.length,{packet:n,buffers:t}}function hj(e,t){if(!e)return e;if(R6(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=hj(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=hj(e[n],t));return r}return e}function g6e(e,t){return e.data=pj(e.data,t),delete e.attachments,e}function pj(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=pj(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=pj(e[r],t));return e}const y6e=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Tr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Tr||(Tr={}));class b6e{constructor(t){this.replacer=t}encode(t){return(t.type===Tr.EVENT||t.type===Tr.ACK)&&iv(t)?this.encodeAsBinary({type:t.type===Tr.EVENT?Tr.BINARY_EVENT:Tr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Tr.BINARY_EVENT||t.type===Tr.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=m6e(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}class O6 extends es{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Tr.BINARY_EVENT;n||r.type===Tr.BINARY_ACK?(r.type=n?Tr.EVENT:Tr.ACK,this.reconstructor=new v6e(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(R6(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Tr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Tr.BINARY_EVENT||n.type===Tr.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const a=t.substring(i,r);if(a!=Number(a)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const a=t.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(O6.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Tr.CONNECT:return vR(r);case Tr.DISCONNECT:return r===void 0;case Tr.CONNECT_ERROR:return typeof r=="string"||vR(r);case Tr.EVENT:case Tr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&y6e.indexOf(r[0])===-1);case Tr.ACK:case Tr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class v6e{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=g6e(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function vR(e){return Object.prototype.toString.call(e)==="[object Object]"}const x6e=Object.freeze(Object.defineProperty({__proto__:null,Decoder:O6,Encoder:b6e,get PacketType(){return Tr}},Symbol.toStringTag,{value:"Module"}));function lo(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const w6e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class vY extends es{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[lo(t,"open",this.onopen.bind(this)),lo(t,"packet",this.onpacket.bind(this)),lo(t,"error",this.onerror.bind(this)),lo(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,i;if(w6e.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const a={type:Tr.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,h=r.pop();this._registerAckCallback(d,h),a.id=d}const o=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(u?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},s),a=(...o)=>{this.io.clearTimeoutFn(i),r.apply(this,o)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...r){return new Promise((n,s)=>{const i=(a,o)=>a?s(a):n(o);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>(this._queue[0],s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Tr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Tr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Tr.EVENT:case Tr.BINARY_EVENT:this.onevent(t);break;case Tr.ACK:case Tr.BINARY_ACK:this.onack(t);break;case Tr.DISCONNECT:this.ondisconnect();break;case Tr.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Tr.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Tr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Pp(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Pp.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Pp.prototype.reset=function(){this.attempts=0};Pp.prototype.setMin=function(e){this.ms=e};Pp.prototype.setMax=function(e){this.max=e};Pp.prototype.setJitter=function(e){this.jitter=e};class mj extends es{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Fw(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Pp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||x6e;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new c6e(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=lo(r,"open",function(){n.onopen(),t&&t()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},a=lo(r,"error",i);if(this._timeout!==!1){const o=this._timeout,u=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},o);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(lo(t,"ping",this.onping.bind(this)),lo(t,"data",this.ondata.bind(this)),lo(t,"error",this.onerror.bind(this)),lo(t,"close",this.onclose.bind(this)),lo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Lw(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new vY(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const dm={};function av(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=u6e(e,t.path||"/socket.io"),n=r.source,s=r.id,i=r.path,a=dm[s]&&i in dm[s].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let u;return o?u=new mj(n,t):(dm[s]||(dm[s]=new mj(n,t)),u=dm[s]),r.query&&!t.query&&(t.query=r.queryKey),u.socket(r.path,t)}Object.assign(av,{Manager:mj,Socket:vY,io:av,connect:av});function _6e(){const e=ns(),{toast:t}=Br(),r=E.useRef(null);E.useEffect(()=>((()=>{try{console.log(" [Socket.IO]  ...");const s=av({reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:10,transports:["websocket","polling"],...window.location.hostname==="localhost"&&{}});r.current=s,s.on("connect",()=>{console.log(" [Socket.IO]   !",s.id)}),s.on("disconnect",i=>{console.log(" [Socket.IO]   :",i)}),s.on("error",i=>{console.error(" [Socket.IO] :",i)}),s.on("message",i=>{try{if(console.log(" [Socket.IO]  :",i),i.type==="INVALIDATE"){const a=[i.entity,i.id].filter(Boolean);console.log(" [Socket.IO]   cache:",a),e.invalidateQueries({queryKey:a})}else i.type==="UPDATE_ALL"&&e.invalidateQueries({queryKey:[i.entity],exact:!1})}catch(a){console.error(" [Socket.IO]    :",a)}})}catch(s){console.error(" [Socket.IO]   :",s)}})(),()=>{r.current&&r.current.disconnect()}),[e,t])}var zw="Collapsible",[S6e]=Ws(zw),[k6e,M6]=S6e(zw),xY=E.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:a,...o}=e,[u,l]=qa({prop:n,defaultProp:s??!1,onChange:a,caller:zw});return c.jsx(k6e,{scope:r,disabled:i,contentId:aa(),open:u,onOpenToggle:E.useCallback(()=>l(d=>!d),[l]),children:c.jsx(wt.div,{"data-state":$6(u),"data-disabled":i?"":void 0,...o,ref:t})})});xY.displayName=zw;var wY="CollapsibleTrigger",_Y=E.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=M6(wY,r);return c.jsx(wt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":$6(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:et(e.onClick,s.onOpenToggle)})});_Y.displayName=wY;var D6="CollapsibleContent",SY=E.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=M6(D6,e.__scopeCollapsible);return c.jsx(ss,{present:r||s.open,children:({present:i})=>c.jsx(j6e,{...n,ref:t,present:i})})});SY.displayName=D6;var j6e=E.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,a=M6(D6,r),[o,u]=E.useState(n),l=E.useRef(null),d=tr(t,l),h=E.useRef(0),f=h.current,p=E.useRef(0),g=p.current,y=a.open||o,m=E.useRef(y),v=E.useRef(void 0);return E.useEffect(()=>{const b=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(b)},[]),Cs(()=>{const b=l.current;if(b){v.current=v.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const x=b.getBoundingClientRect();h.current=x.height,p.current=x.width,m.current||(b.style.transitionDuration=v.current.transitionDuration,b.style.animationName=v.current.animationName),u(n)}},[a.open,n]),c.jsx(wt.div,{"data-state":$6(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:y&&s})});function $6(e){return e?"open":"closed"}var N6e=xY;const wa=N6e,_a=_Y,Sa=SY;function gj(e,[t,r]){return Math.min(r,Math.max(t,e))}var T6e=E.createContext(void 0);function Ip(e){const t=E.useContext(T6e);return e||t||"ltr"}function E6e(e){const t=C6e(e),r=E.forwardRef((n,s)=>{const{children:i,...a}=n,o=E.Children.toArray(i),u=o.find(P6e);if(u){const l=u.props.children,d=o.map(h=>h===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:h);return c.jsx(t,{...a,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return c.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function C6e(e){const t=E.forwardRef((r,n)=>{const{children:s,...i}=r;if(E.isValidElement(s)){const a=R6e(s),o=I6e(i,s.props);return s.type!==E.Fragment&&(o.ref=n?ol(n,a):a),E.cloneElement(s,o)}return E.Children.count(s)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var A6e=Symbol("radix.slottable");function P6e(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===A6e}function I6e(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function R6e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kY=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),O6e="VisuallyHidden",M6e=E.forwardRef((e,t)=>c.jsx(wt.span,{...e,ref:t,style:{...kY,...e.style}}));M6e.displayName=O6e;var D6e=[" ","Enter","ArrowUp","ArrowDown"],$6e=[" ","Enter"],Bd="Select",[Bw,Uw,L6e]=y1(Bd),[Rp]=Ws(Bd,[L6e,Eu]),Vw=Eu(),[F6e,Iu]=Rp(Bd),[z6e,B6e]=Rp(Bd),jY=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:u,dir:l,name:d,autoComplete:h,disabled:f,required:p,form:g}=e,y=Vw(t),[m,v]=E.useState(null),[b,x]=E.useState(null),[k,T]=E.useState(!1),O=Ip(l),[F,A]=qa({prop:n,defaultProp:s??!1,onChange:i,caller:Bd}),[P,D]=qa({prop:a,defaultProp:o,onChange:u,caller:Bd}),V=E.useRef(null),B=m?g||!!m.closest("form"):!0,[C,I]=E.useState(new Set),N=Array.from(C).map(w=>w.props.value).join(";");return c.jsx(S1,{...y,children:c.jsxs(F6e,{required:p,scope:t,trigger:m,onTriggerChange:v,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:k,onValueNodeHasChildrenChange:T,contentId:aa(),value:P,onValueChange:D,open:F,onOpenChange:A,dir:O,triggerPointerDownPosRef:V,disabled:f,children:[c.jsx(Bw.Provider,{scope:t,children:c.jsx(z6e,{scope:e.__scopeSelect,onNativeOptionAdd:E.useCallback(w=>{I(_=>new Set(_).add(w))},[]),onNativeOptionRemove:E.useCallback(w=>{I(_=>{const S=new Set(_);return S.delete(w),S})},[]),children:r})}),B?c.jsxs(ZY,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:P,onChange:w=>D(w.target.value),disabled:f,form:g,children:[P===void 0?c.jsx("option",{value:""}):null,Array.from(C)]},N):null]})})};jY.displayName=Bd;var NY="SelectTrigger",TY=E.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Vw(r),a=Iu(NY,r),o=a.disabled||n,u=tr(t,a.onTriggerChange),l=Uw(r),d=E.useRef("touch"),[h,f,p]=YY(y=>{const m=l().filter(x=>!x.disabled),v=m.find(x=>x.value===a.value),b=QY(m,y,v);b!==void 0&&a.onValueChange(b.value)}),g=y=>{o||(a.onOpenChange(!0),p()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(C0,{asChild:!0,...i,children:c.jsx(wt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":XY(a.value)?"":void 0,...s,ref:u,onClick:et(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:et(s.onPointerDown,y=>{d.current=y.pointerType;const m=y.target;m.hasPointerCapture(y.pointerId)&&m.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:et(s.onKeyDown,y=>{const m=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(m&&y.key===" ")&&D6e.includes(y.key)&&(g(),y.preventDefault())})})})});TY.displayName=NY;var EY="SelectValue",CY=E.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...o}=e,u=Iu(EY,r),{onValueNodeHasChildrenChange:l}=u,d=i!==void 0,h=tr(t,u.onValueNodeChange);return Cs(()=>{l(d)},[l,d]),c.jsx(wt.span,{...o,ref:h,style:{pointerEvents:"none"},children:XY(u.value)?c.jsx(c.Fragment,{children:a}):i})});CY.displayName=EY;var U6e="SelectIcon",AY=E.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return c.jsx(wt.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});AY.displayName=U6e;var V6e="SelectPortal",PY=e=>c.jsx(yp,{asChild:!0,...e});PY.displayName=V6e;var Ud="SelectContent",IY=E.forwardRef((e,t)=>{const r=Iu(Ud,e.__scopeSelect),[n,s]=E.useState();if(Cs(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Nu.createPortal(c.jsx(RY,{scope:e.__scopeSelect,children:c.jsx(Bw.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),i):null}return c.jsx(OY,{...e,ref:t})});IY.displayName=Ud;var ro=10,[RY,Ru]=Rp(Ud),W6e="SelectContentImpl",q6e=E6e("SelectContent.RemoveScroll"),OY=E.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:u,align:l,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:m,...v}=e,b=Iu(Ud,r),[x,k]=E.useState(null),[T,O]=E.useState(null),F=tr(t,K=>k(K)),[A,P]=E.useState(null),[D,V]=E.useState(null),B=Uw(r),[C,I]=E.useState(!1),N=E.useRef(!1);E.useEffect(()=>{if(x)return Dw(x)},[x]),Ow();const w=E.useCallback(K=>{const[z,...L]=B().map(le=>le.ref.current),[W]=L.slice(-1),J=document.activeElement;for(const le of K)if(le===J||(le?.scrollIntoView({block:"nearest"}),le===z&&T&&(T.scrollTop=0),le===W&&T&&(T.scrollTop=T.scrollHeight),le?.focus(),document.activeElement!==J))return},[B,T]),_=E.useCallback(()=>w([A,x]),[w,A,x]);E.useEffect(()=>{C&&_()},[C,_]);const{onOpenChange:S,triggerPointerDownPosRef:j}=b;E.useEffect(()=>{if(x){let K={x:0,y:0};const z=W=>{K={x:Math.abs(Math.round(W.pageX)-(j.current?.x??0)),y:Math.abs(Math.round(W.pageY)-(j.current?.y??0))}},L=W=>{K.x<=10&&K.y<=10?W.preventDefault():x.contains(W.target)||S(!1),document.removeEventListener("pointermove",z),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",z),document.addEventListener("pointerup",L,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",L,{capture:!0})}}},[x,S,j]),E.useEffect(()=>{const K=()=>S(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[S]);const[R,$]=YY(K=>{const z=B().filter(J=>!J.disabled),L=z.find(J=>J.ref.current===document.activeElement),W=QY(z,K,L);W&&setTimeout(()=>W.ref.current.focus())}),U=E.useCallback((K,z,L)=>{const W=!N.current&&!L;(b.value!==void 0&&b.value===z||W)&&(P(K),W&&(N.current=!0))},[b.value]),q=E.useCallback(()=>x?.focus(),[x]),H=E.useCallback((K,z,L)=>{const W=!N.current&&!L;(b.value!==void 0&&b.value===z||W)&&V(K)},[b.value]),Y=n==="popper"?yj:MY,M=Y===yj?{side:o,sideOffset:u,align:l,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:m}:{};return c.jsx(RY,{scope:r,content:x,viewport:T,onViewportChange:O,itemRefCallback:U,selectedItem:A,onItemLeave:q,itemTextRefCallback:H,focusSelectedItem:_,selectedItemText:D,position:n,isPositioned:C,searchRef:R,children:c.jsx(oy,{as:q6e,allowPinchZoom:!0,children:c.jsx(ay,{asChild:!0,trapped:b.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:et(s,K=>{b.trigger?.focus({preventScroll:!0}),K.preventDefault()}),children:c.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:c.jsx(Y,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:K=>K.preventDefault(),...v,...M,onPlaced:()=>I(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:et(v.onKeyDown,K=>{const z=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!z&&K.key.length===1&&$(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let W=B().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(K.key)&&(W=W.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const J=K.target,le=W.indexOf(J);W=W.slice(le+1)}setTimeout(()=>w(W)),K.preventDefault()}})})})})})})});OY.displayName=W6e;var H6e="SelectItemAlignedPosition",MY=E.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Iu(Ud,r),a=Ru(Ud,r),[o,u]=E.useState(null),[l,d]=E.useState(null),h=tr(t,F=>d(F)),f=Uw(r),p=E.useRef(!1),g=E.useRef(!0),{viewport:y,selectedItem:m,selectedItemText:v,focusSelectedItem:b}=a,x=E.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&l&&y&&m&&v){const F=i.trigger.getBoundingClientRect(),A=l.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),D=v.getBoundingClientRect();if(i.dir!=="rtl"){const J=D.left-A.left,le=P.left-J,ne=F.left-le,ue=F.width+ne,G=Math.max(ue,A.width),te=window.innerWidth-ro,X=gj(le,[ro,Math.max(ro,te-G)]);o.style.minWidth=ue+"px",o.style.left=X+"px"}else{const J=A.right-D.right,le=window.innerWidth-P.right-J,ne=window.innerWidth-F.right-le,ue=F.width+ne,G=Math.max(ue,A.width),te=window.innerWidth-ro,X=gj(le,[ro,Math.max(ro,te-G)]);o.style.minWidth=ue+"px",o.style.right=X+"px"}const V=f(),B=window.innerHeight-ro*2,C=y.scrollHeight,I=window.getComputedStyle(l),N=parseInt(I.borderTopWidth,10),w=parseInt(I.paddingTop,10),_=parseInt(I.borderBottomWidth,10),S=parseInt(I.paddingBottom,10),j=N+w+C+S+_,R=Math.min(m.offsetHeight*5,j),$=window.getComputedStyle(y),U=parseInt($.paddingTop,10),q=parseInt($.paddingBottom,10),H=F.top+F.height/2-ro,Y=B-H,M=m.offsetHeight/2,K=m.offsetTop+M,z=N+w+K,L=j-z;if(z<=H){const J=V.length>0&&m===V[V.length-1].ref.current;o.style.bottom="0px";const le=l.clientHeight-y.offsetTop-y.offsetHeight,ne=Math.max(Y,M+(J?q:0)+le+_),ue=z+ne;o.style.height=ue+"px"}else{const J=V.length>0&&m===V[0].ref.current;o.style.top="0px";const ne=Math.max(H,N+y.offsetTop+(J?U:0)+M)+L;o.style.height=ne+"px",y.scrollTop=z-H+y.offsetTop}o.style.margin=`${ro}px 0`,o.style.minHeight=R+"px",o.style.maxHeight=B+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,o,l,y,m,v,i.dir,n]);Cs(()=>x(),[x]);const[k,T]=E.useState();Cs(()=>{l&&T(window.getComputedStyle(l).zIndex)},[l]);const O=E.useCallback(F=>{F&&g.current===!0&&(x(),b?.(),g.current=!1)},[x,b]);return c.jsx(G6e,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:O,children:c.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:c.jsx(wt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});MY.displayName=H6e;var K6e="SelectPopperPosition",yj=E.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ro,...i}=e,a=Vw(r);return c.jsx(k1,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yj.displayName=K6e;var[G6e,L6]=Rp(Ud,{}),bj="SelectViewport",DY=E.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Ru(bj,r),a=L6(bj,r),o=tr(t,i.onViewportChange),u=E.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(Bw.Slot,{scope:r,children:c.jsx(wt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:et(s.onScroll,l=>{const d=l.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f?.current&&h){const p=Math.abs(u.current-d.scrollTop);if(p>0){const g=window.innerHeight-ro*2,y=parseFloat(h.style.minHeight),m=parseFloat(h.style.height),v=Math.max(y,m);if(v<g){const b=v+p,x=Math.min(g,b),k=b-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});DY.displayName=bj;var $Y="SelectGroup",[Z6e,X6e]=Rp($Y),Y6e=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=aa();return c.jsx(Z6e,{scope:r,id:s,children:c.jsx(wt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Y6e.displayName=$Y;var LY="SelectLabel",FY=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=X6e(LY,r);return c.jsx(wt.div,{id:s.id,...n,ref:t})});FY.displayName=LY;var Nx="SelectItem",[Q6e,zY]=Rp(Nx),BY=E.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,o=Iu(Nx,r),u=Ru(Nx,r),l=o.value===n,[d,h]=E.useState(i??""),[f,p]=E.useState(!1),g=tr(t,b=>u.itemRefCallback?.(b,n,s)),y=aa(),m=E.useRef("touch"),v=()=>{s||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Q6e,{scope:r,value:n,disabled:s,textId:y,isSelected:l,onItemTextChange:E.useCallback(b=>{h(x=>x||(b?.textContent??"").trim())},[]),children:c.jsx(Bw.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:c.jsx(wt.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":l&&f,"data-state":l?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:g,onFocus:et(a.onFocus,()=>p(!0)),onBlur:et(a.onBlur,()=>p(!1)),onClick:et(a.onClick,()=>{m.current!=="mouse"&&v()}),onPointerUp:et(a.onPointerUp,()=>{m.current==="mouse"&&v()}),onPointerDown:et(a.onPointerDown,b=>{m.current=b.pointerType}),onPointerMove:et(a.onPointerMove,b=>{m.current=b.pointerType,s?u.onItemLeave?.():m.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(a.onPointerLeave,b=>{b.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:et(a.onKeyDown,b=>{u.searchRef?.current!==""&&b.key===" "||($6e.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});BY.displayName=Nx;var Am="SelectItemText",UY=E.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=Iu(Am,r),o=Ru(Am,r),u=zY(Am,r),l=B6e(Am,r),[d,h]=E.useState(null),f=tr(t,v=>h(v),u.onItemTextChange,v=>o.itemTextRefCallback?.(v,u.value,u.disabled)),p=d?.textContent,g=E.useMemo(()=>c.jsx("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:m}=l;return Cs(()=>(y(g),()=>m(g)),[y,m,g]),c.jsxs(c.Fragment,{children:[c.jsx(wt.span,{id:u.textId,...i,ref:f}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Nu.createPortal(i.children,a.valueNode):null]})});UY.displayName=Am;var VY="SelectItemIndicator",WY=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return zY(VY,r).isSelected?c.jsx(wt.span,{"aria-hidden":!0,...n,ref:t}):null});WY.displayName=VY;var vj="SelectScrollUpButton",qY=E.forwardRef((e,t)=>{const r=Ru(vj,e.__scopeSelect),n=L6(vj,e.__scopeSelect),[s,i]=E.useState(!1),a=tr(t,n.onScrollButtonChange);return Cs(()=>{if(r.viewport&&r.isPositioned){let o=function(){const l=u.scrollTop>0;i(l)};const u=r.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?c.jsx(KY,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=r;o&&u&&(o.scrollTop=o.scrollTop-u.offsetHeight)}}):null});qY.displayName=vj;var xj="SelectScrollDownButton",HY=E.forwardRef((e,t)=>{const r=Ru(xj,e.__scopeSelect),n=L6(xj,e.__scopeSelect),[s,i]=E.useState(!1),a=tr(t,n.onScrollButtonChange);return Cs(()=>{if(r.viewport&&r.isPositioned){let o=function(){const l=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<l;i(d)};const u=r.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?c.jsx(KY,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=r;o&&u&&(o.scrollTop=o.scrollTop+u.offsetHeight)}}):null});HY.displayName=xj;var KY=E.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Ru("SelectScrollButton",r),a=E.useRef(null),o=Uw(r),u=E.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return E.useEffect(()=>()=>u(),[u]),Cs(()=>{o().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),c.jsx(wt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:et(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:et(s.onPointerMove,()=>{i.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:et(s.onPointerLeave,()=>{u()})})}),J6e="SelectSeparator",GY=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return c.jsx(wt.div,{"aria-hidden":!0,...n,ref:t})});GY.displayName=J6e;var wj="SelectArrow",e5e=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Vw(r),i=Iu(wj,r),a=Ru(wj,r);return i.open&&a.position==="popper"?c.jsx(j1,{...s,...n,ref:t}):null});e5e.displayName=wj;var t5e="SelectBubbleInput",ZY=E.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=E.useRef(null),i=tr(n,s),a=w6(t);return E.useEffect(()=>{const o=s.current;if(!o)return;const u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(h)}},[a,t]),c.jsx(wt.select,{...r,style:{...kY,...r.style},ref:i,defaultValue:t})});ZY.displayName=t5e;function XY(e){return e===""||e===void 0}function YY(e){const t=ni(e),r=E.useRef(""),n=E.useRef(0),s=E.useCallback(a=>{const o=r.current+a;t(o),(function u(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(o)},[t]),i=E.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function QY(e,t,r){const s=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=r5e(e,Math.max(i,0));s.length===1&&(a=a.filter(l=>l!==r));const u=a.find(l=>l.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function r5e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var n5e=jY,JY=TY,s5e=CY,i5e=AY,a5e=PY,eQ=IY,o5e=DY,tQ=FY,rQ=BY,l5e=UY,c5e=WY,nQ=qY,sQ=HY,iQ=GY;const Rn=e=>c.jsx(n5e,{modal:!1,...e}),On=s5e,wn=E.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(JY,{ref:n,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,c.jsx(i5e,{asChild:!0,children:c.jsx(yn,{className:"h-4 w-4 opacity-50"})})]}));wn.displayName=JY.displayName;const aQ=E.forwardRef(({className:e,...t},r)=>c.jsx(nQ,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(_o,{className:"h-4 w-4"})}));aQ.displayName=nQ.displayName;const oQ=E.forwardRef(({className:e,...t},r)=>c.jsx(sQ,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(yn,{className:"h-4 w-4"})}));oQ.displayName=sQ.displayName;const _n=E.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>c.jsx(a5e,{children:c.jsxs(eQ,{ref:s,className:_e("relative z-[99999] max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,style:{pointerEvents:"auto"},...n,children:[c.jsx(aQ,{}),c.jsx(o5e,{className:_e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(oQ,{})]})}));_n.displayName=eQ.displayName;const u5e=E.forwardRef(({className:e,...t},r)=>c.jsx(tQ,{ref:r,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));u5e.displayName=tQ.displayName;const vt=E.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(rQ,{ref:n,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(c5e,{children:c.jsx(yo,{className:"h-4 w-4"})})}),c.jsx(l5e,{children:t})]}));vt.displayName=rQ.displayName;const d5e=E.forwardRef(({className:e,...t},r)=>c.jsx(iQ,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));d5e.displayName=iQ.displayName;function us({value:e,onChange:t,placeholder:r,category:n,disabled:s=!1,className:i="",type:a="text",inputMode:o="text",autoWidth:u=!1,maxWidth:l=420}){const[d,h]=E.useState(!1),[f,p]=E.useState(""),g=E.useRef(null),y=E.useRef(null),m=ns(),{data:v=[],isLoading:b}=nt({queryKey:he.autocompleteCategory(n),queryFn:async()=>{const B=await Ie(`/api/autocomplete/${n}`,"GET");return B&&typeof B=="object"?B.data||B:[]},enabled:!!n,staleTime:1e3*60*5}),x=ht({mutationFn:B=>Ie("/api/autocomplete","POST",B),onSuccess:async()=>{await m.invalidateQueries({queryKey:he.autocompleteCategory(n)})},onError:B=>{console.error("Error saving autocomplete data:",B)}}),k=ht({mutationFn:({category:B,value:C})=>Ie(`/api/autocomplete/${B}/${encodeURIComponent(C)}`,"DELETE"),onSuccess:async()=>{await m.invalidateQueries({queryKey:he.autocompleteCategory(n)})}}),T=Array.isArray(v)?v.filter(B=>B?.value&&typeof B.value=="string"?B.value.toLowerCase().includes(f.toLowerCase()):!1):[],O=E.useCallback(B=>{t(B),h(!1),p(""),B&&typeof B=="string"&&B.trim()&&x.mutate({category:n,value:B.trim()})},[t,n,x]),F=E.useCallback(B=>{setTimeout(()=>{y.current&&!y.current.contains(B.relatedTarget)&&(h(!1),p(""),e&&typeof e=="string"&&e.trim()&&e.trim().length>=2&&x.mutate({category:n,value:e.trim()}))},150)},[e,n,x]),A=E.useCallback((B,C)=>{C.stopPropagation(),k.mutate({category:n,value:B})},[n,k]);E.useEffect(()=>{const B=C=>{y.current&&!y.current.contains(C.target)&&g.current&&!g.current.contains(C.target)&&(h(!1),p(""))};if(d)return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[d]);const P=B=>{const C=B.target.value;t(C),p(C),!d&&C&&C.length>=1&&h(!0)},D=E.useCallback(B=>{B.key==="Enter"&&e.trim()&&e.trim().length>=2&&(B.preventDefault(),h(!1),p(""),x.mutate({category:n,value:e.trim()}))},[e,n,x]),V=()=>{h(!0),m.refetchQueries({queryKey:he.autocompleteCategory(n)})};return c.jsxs("div",{className:_e("relative",u?"inline-block align-bottom":"w-full"),children:[c.jsx(tt,{ref:g,value:e,onChange:P,onFocus:V,onBlur:F,onKeyDown:D,placeholder:r,disabled:s,className:`arabic-numbers ${i}`,type:a,inputMode:o,autoWidth:u,maxWidth:l}),d&&!s&&c.jsx("div",{ref:y,className:"absolute z-50 w-full mt-1",children:c.jsx(Pt,{className:"max-h-64 overflow-y-auto shadow-lg border",children:b?c.jsxs("div",{className:"p-3 text-center text-gray-500",children:[c.jsx(So,{className:"w-4 h-4 animate-spin mx-auto"})," ..."]}):Array.isArray(T)&&T.length>0?c.jsx("div",{className:"py-1",children:T.slice(0,10).map(B=>c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 hover:bg-gray-100 cursor-pointer group",onClick:()=>O(B.value),children:[c.jsx("span",{className:"flex-1 text-right",children:B.value}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("span",{className:"text-xs text-gray-400",children:B.usageCount}),c.jsx(Se,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 hover:bg-red-100 hover:text-red-600",onClick:C=>A(B.value,C),children:c.jsx(An,{className:"w-3 h-3"})})]})]},B.id))}):f?c.jsxs("div",{className:"p-3 text-center text-gray-500",children:[c.jsx(So,{className:"w-4 h-4 mx-auto"}),'    "',f,'"']}):c.jsx("div",{className:"p-3 text-center text-gray-500",children:"    "})})})]})}const fm="construction-app-selected-project",hm="construction-app-selected-project-name",as="all",Lo=" ",f5e=[he.projects,he.projectsWithStats,he.workers,he.workerTypes,he.materials,he.projectFundTransfers,he.transportationExpenses,he.workerMiscExpenses,he.suppliers,he.dailyExpenseSummaries,he.notifications],lQ=E.createContext(null);function h5e({children:e}){const[t,r]=E.useState(as),[n,s]=E.useState(Lo),[i,a]=E.useState(!1),o=ns(),{data:u,isLoading:l,error:d}=nt({queryKey:he.projects,queryFn:async()=>{const O=await fetch("/api/projects",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`}});if(!O.ok)throw new Error("   ");const F=await O.json();return Array.isArray(F?.data)?F.data:Array.isArray(F)?F:[]},staleTime:1e3*5,gcTime:1e3*60*2,retry:2,refetchOnWindowFocus:!0,refetchOnMount:!0}),h=E.useMemo(()=>Array.isArray(u)?u:[],[u]);E.useEffect(()=>{try{const O=localStorage.getItem(fm),F=localStorage.getItem(hm);O&&O!=="undefined"&&O!=="null"?(r(O),F&&s(F)):(r(as),s(Lo))}catch{localStorage.removeItem(fm),localStorage.removeItem(hm),r(as),s(Lo)}finally{a(!0)}},[]);const f=!i||l,p=E.useCallback(async O=>{console.log(" [SelectedProjectContext]    ...",O);const F=Date.now();await o.cancelQueries();const A=f5e.map(D=>o.invalidateQueries({queryKey:D,refetchType:"all",exact:!1}));O&&O!==as&&A.push(o.invalidateQueries({predicate:D=>{const V=D.queryKey;return Array.isArray(V)&&V.some(B=>String(B)===O)},refetchType:"all"})),await Promise.all(A),await o.refetchQueries({type:"active",exact:!1});const P=Date.now()-F;console.log(` [SelectedProjectContext]      ${P}ms`)},[o]),g=E.useCallback(async(O,F)=>{console.log(" [SelectedProjectContext]   :",{projectId:O,projectName:F}),r(O),F?s(F):O===as&&s(Lo);try{O&&O!=="undefined"&&O!=="null"?(localStorage.setItem(fm,O),F?localStorage.setItem(hm,F):O===as&&localStorage.setItem(hm,Lo)):(localStorage.removeItem(fm),localStorage.removeItem(hm),s(""))}catch(A){console.error(" [SelectedProjectContext]    :",A)}await p(O)},[p]),y=E.useCallback(()=>{g(as,Lo)},[g]),m=E.useCallback(()=>{console.log(" [SelectedProjectContext]   "),g(as,Lo)},[g]),v=E.useCallback(()=>{try{const O=localStorage.getItem(fm);return!!(O&&O!=="undefined"&&O!=="null"&&O!==as)}catch{return!1}},[]),b=E.useCallback(()=>{if(!(t===as||!t))return t},[t]),x=t===as,k=E.useCallback(async()=>{await p(t)},[p,t]),T=E.useMemo(()=>({selectedProjectId:t,selectedProjectName:n,isLoading:f,isAllProjects:x,selectProject:g,clearProject:m,selectAllProjects:y,hasStoredProject:v,getProjectIdForApi:b,projects:h,projectsError:d,isProjectsLoading:l,refreshAllData:k}),[t,n,f,x,g,m,y,v,b,h,d,l,k]);return c.jsx(lQ.Provider,{value:T,children:e})}function p5e(){const e=E.useContext(lQ);if(!e)throw new Error("useSelectedProjectContext must be used within a SelectedProjectProvider");return e}function Ao(){const e=p5e();return{...e,refreshAllData:e.refreshAllData}}const m5e=ef("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ut({className:e,variant:t,...r}){return c.jsx("div",{className:_e(m5e({variant:t}),e),...r})}function g5e({worker:e,attendance:t,onAttendanceChange:r,selectedDate:n=Ls()}){const[s,i]=E.useState(t),[a,o]=E.useState(!1),[u,l]=E.useState(t.recordType||"work"),{data:d}=nt({queryKey:he.workerStatsSimple(e.id),queryFn:async()=>{try{const T=await Ie(`/api/workers/${e.id}/stats`,"GET");return T&&T.data?T.data:T||{totalWorkDays:0,totalProjects:0,totalEarnings:0}}catch(T){return console.error("Error fetching worker stats:",T),{totalWorkDays:0,totalProjects:0,totalEarnings:0}}},staleTime:3e4}),h=s.isPresent&&n===Ls();E.useEffect(()=>{i(t)},[t]);const f=T=>{const O={...s,...T};O.isPresent&&(T.workDays!==void 0||T.paidAmount!==void 0||T.overtime!==void 0||T.overtimeRate!==void 0)&&(O.actualWage=y(),O.totalPay=v(),O.remainingAmount=b(),O.hoursWorked=g()),i(O),r(O)},p=T=>{const O=T===!0;O||o(!1),f(O&&u==="work"?{isPresent:O,startTime:s.startTime||"07:00",endTime:s.endTime||"15:00",workDescription:s.workDescription,workDays:s.workDays===void 0?0:s.workDays,paidAmount:s.paidAmount,paymentType:s.paymentType||"partial"}:O&&u==="advance"?{isPresent:O,workDays:0,paidAmount:s.paidAmount||"0",paymentType:"advance",startTime:void 0,endTime:void 0}:{isPresent:O})},g=()=>{if(!s.startTime||!s.endTime)return 0;const T=new Date(`2000-01-01T${s.startTime}:00`);let F=new Date(`2000-01-01T${s.endTime}:00`).getTime()-T.getTime();F<0&&(F+=1440*60*1e3);const A=F/(1e3*60*60);return Math.max(0,A)},y=()=>{if(!s.isPresent||u==="advance")return 0;const T=s.workDays||0,O=parseFloat(String(e.dailyWage||"0"));return Math.max(0,O*T)},m=()=>{const T=s.overtime||0,O=s.overtimeRate||0;return T*O},v=()=>{const T=y(),O=m();return Math.max(0,T+O)},b=()=>{if(u==="advance")return-parseFloat(s.paidAmount||"0");const T=v(),O=parseFloat(s.paidAmount||"0");return T-O},x=T=>{switch(T){case"":return c.jsx(xn,{className:"h-5 w-5"});case"":return c.jsx(dve,{className:"h-5 w-5"});case"":return c.jsx(uve,{className:"h-5 w-5"});case"":return c.jsx(_ve,{className:"h-5 w-5"});case"":return c.jsx(ia,{className:"h-5 w-5"});default:return c.jsx(tf,{className:"h-5 w-5"})}},k=T=>{const O=T.toLowerCase();return O.includes("")||O.includes("master")?"bg-gradient-to-br from-primary to-primary/80":O.includes("")||O.includes("smith")?"bg-gradient-to-br from-orange-500 to-orange-600":O.includes("")||O.includes("tile")?"bg-gradient-to-br from-blue-500 to-blue-600":O.includes("")||O.includes("paint")?"bg-gradient-to-br from-green-500 to-green-600":O.includes("")||O.includes("labor")?"bg-gradient-to-br from-purple-500 to-purple-600":O.includes("")||O.includes("carpenter")?"bg-gradient-to-br from-amber-600 to-amber-700":O.includes("")||O.includes("electric")?"bg-gradient-to-br from-yellow-500 to-yellow-600":O.includes("")||O.includes("plumb")?"bg-gradient-to-br from-cyan-500 to-cyan-600":"bg-gradient-to-br from-gray-500 to-gray-600"};return c.jsx(Pt,{className:`mb-3 shadow-sm border-r-4 w-full max-w-full overflow-hidden ${h?"border-r-green-400 bg-green-50/50 dark:bg-green-950/20":"border-r-primary/20"}`,"data-testid":`worker-card-detailed-${e.id}`,children:c.jsxs(Ft,{className:"p-2 sm:p-3 max-w-full overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-border/30 w-full max-w-full",children:[c.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 flex-1 min-w-0 max-w-full overflow-hidden",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md profession-icon-container ${k(e.type)}`,children:x(e.type)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 mb-1",children:[c.jsx("h4",{className:"font-bold text-lg text-foreground truncate","data-testid":`worker-name-detailed-${e.id}`,children:e.name}),e.isActive?c.jsx(Ha,{className:"h-4 w-4 text-green-500 flex-shrink-0","data-testid":`worker-status-active-${e.id}`}):c.jsx(Es,{className:"h-4 w-4 text-red-500 flex-shrink-0","data-testid":`worker-status-inactive-${e.id}`})]}),c.jsxs("div",{className:"flex items-center space-x-reverse space-x-4 text-xs text-muted-foreground",children:[c.jsx("span",{className:"flex items-center space-x-reverse space-x-1",children:c.jsx(ut,{variant:"secondary",className:`${k(e.type)} text-white border-none shadow-sm text-[10px] px-2 py-0 h-5`,children:e.type})}),c.jsxs("span",{className:"flex items-center space-x-reverse space-x-1",children:[c.jsx(Jt,{className:"h-3 w-3"}),c.jsx("span",{className:"font-bold arabic-numbers","data-testid":`worker-daily-wage-${e.id}`,children:ze(e.dailyWage)})]}),c.jsxs("span",{className:"flex items-center space-x-reverse space-x-1",children:[c.jsx(Bn,{className:"h-3 w-3"}),c.jsxs("span",{className:"arabic-numbers",children:[d?.totalWorkDays||0," "]})]})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 flex-shrink-0",children:[s.isPresent&&c.jsxs(c.Fragment,{children:[c.jsx(Se,{variant:u==="work"?"default":"outline",size:"sm",onClick:()=>l("work"),className:"px-2 py-1 h-8 text-xs","data-testid":`record-type-work-${e.id}`,children:""}),c.jsx(Se,{variant:u==="advance"?"default":"outline",size:"sm",onClick:()=>l("advance"),className:"px-2 py-1 h-8 text-xs","data-testid":`record-type-advance-${e.id}`,children:""}),c.jsxs(Se,{variant:a?"default":"ghost",size:"sm",onClick:()=>o(!a),className:"px-2 py-1 h-8 flex items-center gap-1","data-testid":`toggle-details-${e.id}`,children:[a?c.jsx(_o,{className:"h-4 w-4"}):c.jsx(yn,{className:"h-4 w-4"}),c.jsx("span",{className:"text-xs",children:a?"":""})]})]}),c.jsx(Le,{htmlFor:`present-${e.id}`,className:"text-sm font-medium text-foreground cursor-pointer",children:""}),c.jsx(iy,{id:`present-${e.id}`,checked:s.isPresent,onCheckedChange:p,className:"w-5 h-5","data-testid":`attendance-checkbox-${e.id}`})]})]}),s.isPresent&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:[c.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-950/30 dark:to-blue-900/20 p-2 rounded-lg border border-blue-200 dark:border-blue-800",children:c.jsxs("div",{className:"space-y-1.5 text-sm",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground font-medium",children:""}),c.jsx("span",{className:"font-bold text-foreground",children:e.name})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),c.jsx("span",{className:"font-bold text-foreground arabic-numbers",children:ze(e.dailyWage||"0")})]}),c.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-blue-200 dark:border-blue-700",children:[c.jsx("span",{className:"text-muted-foreground font-medium",children:""}),c.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:ze(y())})]})]})}),c.jsx("div",{className:`bg-gradient-to-br ${u==="advance"?"from-red-50 to-red-100/50 dark:from-red-950/30 dark:to-red-900/20 border-red-200 dark:border-red-800":"from-purple-50 to-purple-100/50 dark:from-purple-950/30 dark:to-purple-900/20 border-purple-200 dark:border-purple-800"} p-2 rounded-lg border`,children:c.jsx("div",{className:"space-y-1.5 text-sm",children:u==="work"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),c.jsx(tt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"10.0",value:s.workDays||"",onChange:T=>{const O=T.target.value;f({workDays:O===""?0:parseFloat(O)||0})},placeholder:"0",className:"w-24 text-center text-sm h-7 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"},"data-testid":`work-days-summary-${e.id}`})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground font-medium",children:""}),c.jsx("span",{className:"font-bold text-foreground arabic-numbers",children:ze(parseFloat(s.paidAmount||"0"))})]}),c.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-purple-200 dark:border-purple-700",children:[c.jsx("span",{className:"text-muted-foreground font-medium",children:""}),c.jsx("span",{className:`font-bold arabic-numbers ${b()>0?"text-red-600 dark:text-red-400":"text-slate-700 dark:text-slate-300"}`,children:ze(Math.abs(b()))})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),c.jsx(tt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",placeholder:"0",value:s.paidAmount||"",onChange:T=>f({paidAmount:T.target.value}),className:"w-24 text-center arabic-numbers text-sm h-7"})]}),c.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-red-200 dark:border-red-700",children:[c.jsx("span",{className:"text-muted-foreground font-medium",children:""}),c.jsx("span",{className:"font-bold text-red-600 dark:text-red-400 arabic-numbers",children:ze(Math.abs(b()))})]})]})})})]}),s.isPresent&&a&&c.jsx("div",{className:"space-y-2 w-full max-w-full overflow-hidden",children:c.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-950/30 dark:to-gray-950/30 p-2 rounded-lg border border-slate-200 dark:border-slate-700 w-full max-w-full overflow-hidden",children:[c.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 mb-2",children:[c.jsx(bn,{className:"h-4 w-4 text-slate-600"}),c.jsx("h5",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm",children:"  "})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),c.jsx(tt,{type:"time",value:s.startTime||"07:00",onChange:T=>f({startTime:T.target.value}),className:"text-center font-mono text-xs h-8 px-1"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),c.jsx(tt,{type:"time",value:s.endTime||"15:00",onChange:T=>f({endTime:T.target.value}),className:"text-center font-mono text-xs h-8 px-1"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),c.jsx(tt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"2.0",value:s.workDays||"",onChange:T=>{const O=T.target.value;f({workDays:O===""?0:parseFloat(O)||0})},placeholder:"0",className:"text-center font-mono english-numbers text-xs h-8"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),c.jsx(tt,{type:"number",inputMode:"decimal",placeholder:"0",value:s.paidAmount||"",onChange:T=>f({paidAmount:T.target.value}),className:"text-center arabic-numbers text-xs h-8"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:""}),c.jsx("div",{className:"h-8 px-2 py-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-md flex items-center justify-center",children:c.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 arabic-numbers text-sm",children:g().toFixed(1)})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),c.jsx(tt,{type:"number",inputMode:"decimal",step:"0.5",min:"0",max:"8",value:s.overtime===void 0?"":s.overtime,onChange:T=>{const O=T.target.value;f({overtime:O===""?0:parseFloat(O)||0})},placeholder:"0",className:"text-center english-numbers text-sm h-8"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),c.jsx(tt,{type:"number",inputMode:"decimal",placeholder:"0",value:s.overtimeRate===void 0?"":s.overtimeRate,onChange:T=>{const O=T.target.value;f({overtimeRate:O===""?0:parseFloat(O)||0})},className:"text-center english-numbers text-sm h-8"})]})]}),c.jsxs("div",{className:"space-y-1 mb-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[c.jsx(Le,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),c.jsx(us,{value:s.workDescription||"",onChange:T=>f({workDescription:T}),placeholder:"   ...",category:"workDescriptions",autoWidth:!0,maxWidth:500,className:"w-full text-sm"})]}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:""}),c.jsx(tt,{type:"text",value:s.notes||"",onChange:T=>f({notes:T.target.value}),placeholder:" ...",autoWidth:!0,maxWidth:500,className:"text-sm h-8"})]})}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"  "}),c.jsx("div",{className:"h-8 px-2 py-1 bg-slate-200/50 dark:bg-slate-700/50 rounded-md flex items-center justify-center",children:c.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 arabic-numbers text-sm",children:ze(v())})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),c.jsx("div",{className:"h-8 px-2 py-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-md flex items-center justify-center",children:c.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 arabic-numbers text-sm",children:ze(m())})})]})]})]})})]})})}function y5e(e){const t=b5e(e),r=E.forwardRef((n,s)=>{const{children:i,...a}=n,o=E.Children.toArray(i),u=o.find(x5e);if(u){const l=u.props.children,d=o.map(h=>h===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:h);return c.jsx(t,{...a,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return c.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function b5e(e){const t=E.forwardRef((r,n)=>{const{children:s,...i}=r;if(E.isValidElement(s)){const a=_5e(s),o=w5e(i,s.props);return s.type!==E.Fragment&&(o.ref=n?ol(n,a):a),E.cloneElement(s,o)}return E.Children.count(s)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var v5e=Symbol("radix.slottable");function x5e(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===v5e}function w5e(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function _5e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ww="Popover",[cQ]=Ws(Ww,[Eu]),dy=Eu(),[S5e,Ou]=cQ(Ww),uQ=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,o=dy(t),u=E.useRef(null),[l,d]=E.useState(!1),[h,f]=qa({prop:n,defaultProp:s??!1,onChange:i,caller:Ww});return c.jsx(S1,{...o,children:c.jsx(S5e,{scope:t,contentId:aa(),triggerRef:u,open:h,onOpenChange:f,onOpenToggle:E.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:l,onCustomAnchorAdd:E.useCallback(()=>d(!0),[]),onCustomAnchorRemove:E.useCallback(()=>d(!1),[]),modal:a,children:r})})};uQ.displayName=Ww;var dQ="PopoverAnchor",k5e=E.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ou(dQ,r),i=dy(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=s;return E.useEffect(()=>(a(),()=>o()),[a,o]),c.jsx(C0,{...i,...n,ref:t})});k5e.displayName=dQ;var fQ="PopoverTrigger",hQ=E.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ou(fQ,r),i=dy(r),a=tr(t,s.triggerRef),o=c.jsx(wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":bQ(s.open),...n,ref:a,onClick:et(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?o:c.jsx(C0,{asChild:!0,...i,children:o})});hQ.displayName=fQ;var F6="PopoverPortal",[j5e,N5e]=cQ(F6,{forceMount:void 0}),pQ=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=Ou(F6,t);return c.jsx(j5e,{scope:t,forceMount:r,children:c.jsx(ss,{present:r||i.open,children:c.jsx(yp,{asChild:!0,container:s,children:n})})})};pQ.displayName=F6;var np="PopoverContent",mQ=E.forwardRef((e,t)=>{const r=N5e(np,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=Ou(np,e.__scopePopover);return c.jsx(ss,{present:n||i.open,children:i.modal?c.jsx(E5e,{...s,ref:t}):c.jsx(C5e,{...s,ref:t})})});mQ.displayName=np;var T5e=y5e("PopoverContent.RemoveScroll"),E5e=E.forwardRef((e,t)=>{const r=Ou(np,e.__scopePopover),n=E.useRef(null),s=tr(t,n),i=E.useRef(!1);return E.useEffect(()=>{const a=n.current;if(a)return Dw(a)},[]),c.jsx(oy,{as:T5e,allowPinchZoom:!0,children:c.jsx(gQ,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,a=>{a.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0,l=o.button===2||u;i.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:et(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),C5e=E.forwardRef((e,t)=>{const r=Ou(np,e.__scopePopover),n=E.useRef(!1),s=E.useRef(!1);return c.jsx(gQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;r.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),gQ=E.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:l,onInteractOutside:d,...h}=e,f=Ou(np,r),p=dy(r);return Ow(),c.jsx(ay,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:l,onDismiss:()=>f.onOpenChange(!1),children:c.jsx(k1,{"data-state":bQ(f.open),role:"dialog",id:f.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),yQ="PopoverClose",A5e=E.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ou(yQ,r);return c.jsx(wt.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>s.onOpenChange(!1))})});A5e.displayName=yQ;var P5e="PopoverArrow",I5e=E.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=dy(r);return c.jsx(j1,{...s,...n,ref:t})});I5e.displayName=P5e;function bQ(e){return e?"open":"closed"}var R5e=uQ,O5e=hQ,M5e=pQ,vQ=mQ;const qw=e=>c.jsx(R5e,{modal:!1,...e}),Hw=O5e,fy=E.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>c.jsx(M5e,{children:c.jsx(vQ,{ref:s,align:t,sideOffset:r,className:_e("z-[99999] w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","bg-popover opacity-100",e),style:{pointerEvents:"auto"},...n})}));fy.displayName=vQ.displayName;function D5e(e,t){return E.useReducer((r,n)=>t[r][n]??r,e)}var z6="ScrollArea",[xQ]=Ws(z6),[$5e,Ya]=xQ(z6),wQ=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...a}=e,[o,u]=E.useState(null),[l,d]=E.useState(null),[h,f]=E.useState(null),[p,g]=E.useState(null),[y,m]=E.useState(null),[v,b]=E.useState(0),[x,k]=E.useState(0),[T,O]=E.useState(!1),[F,A]=E.useState(!1),P=tr(t,V=>u(V)),D=Ip(s);return c.jsx($5e,{scope:r,type:n,dir:D,scrollHideDelay:i,scrollArea:o,viewport:l,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:T,onScrollbarXEnabledChange:O,scrollbarY:y,onScrollbarYChange:m,scrollbarYEnabled:F,onScrollbarYEnabledChange:A,onCornerWidthChange:b,onCornerHeightChange:k,children:c.jsx(wt.div,{dir:D,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});wQ.displayName=z6;var _Q="ScrollAreaViewport",SQ=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,a=Ya(_Q,r),o=E.useRef(null),u=tr(t,o,a.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(wt.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});SQ.displayName=_Q;var ul="ScrollAreaScrollbar",B6=E.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ya(ul,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,o=e.orientation==="horizontal";return E.useEffect(()=>(o?i(!0):a(!0),()=>{o?i(!1):a(!1)}),[o,i,a]),s.type==="hover"?c.jsx(L5e,{...n,ref:t,forceMount:r}):s.type==="scroll"?c.jsx(F5e,{...n,ref:t,forceMount:r}):s.type==="auto"?c.jsx(kQ,{...n,ref:t,forceMount:r}):s.type==="always"?c.jsx(U6,{...n,ref:t}):null});B6.displayName=ul;var L5e=E.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ya(ul,e.__scopeScrollArea),[i,a]=E.useState(!1);return E.useEffect(()=>{const o=s.scrollArea;let u=0;if(o){const l=()=>{window.clearTimeout(u),a(!0)},d=()=>{u=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return o.addEventListener("pointerenter",l),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),o.removeEventListener("pointerenter",l),o.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),c.jsx(ss,{present:r||i,children:c.jsx(kQ,{"data-state":i?"visible":"hidden",...n,ref:t})})}),F5e=E.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ya(ul,e.__scopeScrollArea),i=e.orientation==="horizontal",a=Gw(()=>u("SCROLL_END"),100),[o,u]=D5e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(o==="idle"){const l=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(l)}},[o,s.scrollHideDelay,u]),E.useEffect(()=>{const l=s.viewport,d=i?"scrollLeft":"scrollTop";if(l){let h=l[d];const f=()=>{const p=l[d];h!==p&&(u("SCROLL"),a()),h=p};return l.addEventListener("scroll",f),()=>l.removeEventListener("scroll",f)}},[s.viewport,i,u,a]),c.jsx(ss,{present:r||o!=="hidden",children:c.jsx(U6,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:et(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:et(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),kQ=E.forwardRef((e,t)=>{const r=Ya(ul,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,a]=E.useState(!1),o=e.orientation==="horizontal",u=Gw(()=>{if(r.viewport){const l=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(o?l:d)}},10);return sp(r.viewport,u),sp(r.content,u),c.jsx(ss,{present:n||i,children:c.jsx(U6,{"data-state":i?"visible":"hidden",...s,ref:t})})}),U6=E.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Ya(ul,e.__scopeScrollArea),i=E.useRef(null),a=E.useRef(0),[o,u]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=CQ(o.viewport,o.content),d={...n,sizes:o,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function h(f,p){return q5e(f,a.current,o,p)}return r==="horizontal"?c.jsx(z5e,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,p=xR(f,o,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):r==="vertical"?c.jsx(B5e,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,p=xR(f,o);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),z5e=E.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ya(ul,e.__scopeScrollArea),[a,o]=E.useState(),u=E.useRef(null),l=tr(t,u,i.onScrollbarXChange);return E.useEffect(()=>{u.current&&o(getComputedStyle(u.current))},[u]),c.jsx(NQ,{"data-orientation":"horizontal",...s,ref:l,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Kw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),PQ(f,h)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Ex(a.paddingLeft),paddingEnd:Ex(a.paddingRight)}})}})}),B5e=E.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ya(ul,e.__scopeScrollArea),[a,o]=E.useState(),u=E.useRef(null),l=tr(t,u,i.onScrollbarYChange);return E.useEffect(()=>{u.current&&o(getComputedStyle(u.current))},[u]),c.jsx(NQ,{"data-orientation":"vertical",...s,ref:l,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Kw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),PQ(f,h)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Ex(a.paddingTop),paddingEnd:Ex(a.paddingBottom)}})}})}),[U5e,jQ]=xQ(ul),NQ=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:d,onResize:h,...f}=e,p=Ya(ul,r),[g,y]=E.useState(null),m=tr(t,P=>y(P)),v=E.useRef(null),b=E.useRef(""),x=p.viewport,k=n.content-n.viewport,T=ni(d),O=ni(u),F=Gw(h,10);function A(P){if(v.current){const D=P.clientX-v.current.left,V=P.clientY-v.current.top;l({x:D,y:V})}}return E.useEffect(()=>{const P=D=>{const V=D.target;g?.contains(V)&&T(D,k)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[x,g,k,T]),E.useEffect(O,[n,O]),sp(g,F),sp(p.content,F),c.jsx(U5e,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:ni(i),onThumbPointerUp:ni(a),onThumbPositionChange:O,onThumbPointerDown:ni(o),children:c.jsx(wt.div,{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:et(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),v.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(P))}),onPointerMove:et(e.onPointerMove,A),onPointerUp:et(e.onPointerUp,P=>{const D=P.target;D.hasPointerCapture(P.pointerId)&&D.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),Tx="ScrollAreaThumb",TQ=E.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=jQ(Tx,e.__scopeScrollArea);return c.jsx(ss,{present:r||s.hasThumb,children:c.jsx(V5e,{ref:t,...n})})}),V5e=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Ya(Tx,r),a=jQ(Tx,r),{onThumbPositionChange:o}=a,u=tr(t,h=>a.onThumbChange(h)),l=E.useRef(void 0),d=Gw(()=>{l.current&&(l.current(),l.current=void 0)},100);return E.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!l.current){const p=H5e(h,o);l.current=p,o()}};return o(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,o]),c.jsx(wt.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:et(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,y=h.clientY-p.top;a.onThumbPointerDown({x:g,y})}),onPointerUp:et(e.onPointerUp,a.onThumbPointerUp)})});TQ.displayName=Tx;var V6="ScrollAreaCorner",EQ=E.forwardRef((e,t)=>{const r=Ya(V6,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c.jsx(W5e,{...e,ref:t}):null});EQ.displayName=V6;var W5e=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Ya(V6,r),[i,a]=E.useState(0),[o,u]=E.useState(0),l=!!(i&&o);return sp(s.scrollbarX,()=>{const d=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(d),u(d)}),sp(s.scrollbarY,()=>{const d=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(d),a(d)}),l?c.jsx(wt.div,{...n,ref:t,style:{width:i,height:o,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ex(e){return e?parseInt(e,10):0}function CQ(e,t){const r=e/t;return isNaN(r)?0:r}function Kw(e){const t=CQ(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function q5e(e,t,r,n="ltr"){const s=Kw(r),i=s/2,a=t||i,o=s-a,u=r.scrollbar.paddingStart+a,l=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return AQ([u,l],h)(e)}function xR(e,t,r="ltr"){const n=Kw(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,o=i-n,u=r==="ltr"?[0,a]:[a*-1,0],l=gj(e,u);return AQ([0,a],[0,o])(l)}function AQ(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function PQ(e,t){return e>0&&e<t}var H5e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,o=r.top!==i.top;(a||o)&&t(),r=i,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function Gw(e,t){const r=ni(e),n=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),E.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function sp(e,t){const r=ni(t);Cs(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var IQ=wQ,K5e=SQ,G5e=EQ;const Po=E.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(IQ,{ref:n,className:_e("relative overflow-hidden",e),...r,children:[c.jsx(K5e,{className:"h-full w-full rounded-[inherit]",children:t}),c.jsx(W6,{}),c.jsx(G5e,{})]}));Po.displayName=IQ.displayName;const W6=E.forwardRef(({className:e,orientation:t="vertical",...r},n)=>c.jsx(B6,{ref:n,orientation:t,className:_e("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:c.jsx(TQ,{className:"relative flex-1 rounded-full bg-border"})}));W6.displayName=B6.displayName;function Wn({value:e,onValueChange:t,options:r,placeholder:n="...",searchPlaceholder:s="...",emptyText:i="  ",disabled:a=!1,className:o="",triggerClassName:u="",contentClassName:l="",showSearch:d=!0,maxHeight:h=300,allowCustom:f=!1,onCustomAdd:p}){const[g,y]=E.useState(!1),[m,v]=E.useState(""),b=E.useRef(null),x=E.useMemo(()=>{if(!m.trim())return r;const A=m.toLowerCase().trim();return r.filter(P=>P.label.toLowerCase().includes(A)||P.value.toLowerCase().includes(A)||P.description?.toLowerCase().includes(A))},[r,m]),k=E.useMemo(()=>r.find(A=>A.value===e),[r,e]),T=E.useCallback(A=>{t(A),y(!1),v("")},[t]),O=E.useCallback(A=>{A.stopPropagation(),t("")},[t]);E.useEffect(()=>{if(g&&d&&b.current){b.current.focus();const A=setTimeout(()=>{b.current?.focus()},50);return()=>clearTimeout(A)}g||v("")},[g,d]);const F=E.useCallback(A=>{A.key==="Escape"&&y(!1)},[]);return c.jsx("div",{className:_e("w-full",o),children:c.jsxs(qw,{open:g,onOpenChange:y,children:[c.jsx(Hw,{asChild:!0,children:c.jsxs(Se,{variant:"outline",role:"combobox","aria-expanded":g,disabled:a,className:_e("w-full justify-between h-10 font-normal",!e&&"text-muted-foreground",u),children:[c.jsx("span",{className:"truncate text-right flex-1",children:k?.label||n}),c.jsxs("div",{className:"flex items-center gap-1 mr-2",children:[e&&!a&&c.jsx(fs,{className:"h-4 w-4 opacity-50 hover:opacity-100 cursor-pointer",onClick:O}),c.jsx(yn,{className:"h-4 w-4 opacity-50"})]})]})}),c.jsxs(fy,{className:_e("w-[var(--radix-popover-trigger-width)] p-0",l),align:"start",onKeyDown:F,children:[d&&c.jsx("div",{className:"border-b p-2",children:c.jsxs("div",{className:"relative",children:[c.jsx(So,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none"}),c.jsx(tt,{ref:b,placeholder:s,value:m,onChange:A=>v(A.target.value),className:"pr-8 h-9"})]})}),c.jsx(Po,{className:"w-full",style:{maxHeight:`${h}px`},children:c.jsx("div",{className:"p-1 min-w-[var(--radix-popover-trigger-width)]",children:x.length===0?c.jsx("div",{children:f&&m.trim()?c.jsxs("button",{onClick:()=>{T(m.trim()),p?.(m.trim())},className:_e("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150 bg-blue-50"),children:[c.jsx(Qn,{className:"h-4 w-4 shrink-0"}),c.jsx("div",{className:"flex-1 text-right",children:c.jsxs("div",{children:['+  "',m.trim(),'"']})})]}):c.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:i})}):c.jsxs(c.Fragment,{children:[x.map(A=>c.jsxs("button",{onClick:()=>!A.disabled&&T(A.value),disabled:A.disabled,className:_e("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150",e===A.value&&"bg-accent/50",A.disabled&&"opacity-50 cursor-not-allowed"),children:[c.jsx(yo,{className:_e("h-4 w-4 shrink-0",e===A.value?"opacity-100":"opacity-0")}),c.jsxs("div",{className:"flex-1 text-right",children:[c.jsx("div",{children:A.label}),A.description&&c.jsx("div",{className:"text-xs text-muted-foreground",children:A.description})]})]},A.value)),f&&m.trim()&&!x.some(A=>A.value===m.trim())&&c.jsxs("button",{onClick:()=>{T(m.trim()),p?.(m.trim())},className:_e("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right mt-1","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150 bg-blue-50"),children:[c.jsx(Qn,{className:"h-4 w-4 shrink-0"}),c.jsx("div",{className:"flex-1 text-right",children:c.jsxs("div",{children:['+  "',m.trim(),'"']})})]})]})})})]})]})})}function IVe({value:e,onValueChange:t,workers:r,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:i=" ",showInactiveWorkers:a=!0,disabled:o=!1,className:u=""}){const l=E.useMemo(()=>{const h=(a?r:r.filter(f=>f.isActive!==!1)).map(f=>({value:f.id,label:f.name,description:f.type?`${f.type}${f.isActive===!1?" ( )":""}`:f.isActive===!1?"( )":void 0}));return s?[{value:"all",label:i},...h]:h},[r,s,i,a]);return c.jsx(Wn,{value:e,onValueChange:t,options:l,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:o,className:u})}function RVe({value:e,onValueChange:t,projects:r,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:i=" ",disabled:a=!1,className:o=""}){const u=E.useMemo(()=>{const l=r.map(d=>({value:d.id,label:d.name,description:d.status||void 0}));return s?[{value:"all",label:i},...l]:l},[r,s,i]);return c.jsx(Wn,{value:e,onValueChange:t,options:u,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:a,className:o})}function OVe({value:e,onValueChange:t,users:r,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:i=" ",disabled:a=!1,className:o=""}){const u=E.useMemo(()=>{const l=r.map(d=>{const h=d.fullName||d.full_name||d.username||d.first_name||d.email||d.id;return{value:d.id,label:h,description:d.email||void 0}});return s?[{value:"all",label:i},...l]:l},[r,s,i]);return c.jsx(Wn,{value:e,onValueChange:t,options:u,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:a,className:o})}function _j({value:e,onValueChange:t,projectTypes:r,placeholder:n="  ",showNoneOption:s=!0,noneOptionLabel:i=" ",disabled:a=!1,className:o=""}){const u=E.useMemo(()=>{const l=r.map(d=>({value:d.id.toString(),label:d.name,description:d.description||void 0}));return s?[{value:"",label:i},...l]:l},[r,s,i]);return c.jsx(Wn,{value:e,onValueChange:t,options:u,placeholder:n,searchPlaceholder:"   ...",emptyText:"    ",disabled:a,className:o})}function Kg({projectId:e,value:t,onChange:r,showLabel:n=!0,disabled:s=!1,optional:i=!0}){const{data:a=[],isLoading:o}=nt({queryKey:he.wellsByProject(e),queryFn:async()=>{if(!e)return[];try{const l=await Ie(`/api/wells?projectId=${e}`);return l&&l.success&&Array.isArray(l.data)?l.data:Array.isArray(l)?l:l.data||[]}catch(l){return console.error("Error fetching wells:",l),[]}},enabled:!!e,staleTime:3e5}),u=E.useMemo(()=>{const l=a.map(d=>({value:String(d.id),label:` #${d.wellNumber} - ${d.ownerName}`}));return i?[{value:"none",label:" "},...l]:l},[a,i]);return!e||a.length===0?null:c.jsxs("div",{className:"space-y-1",children:[n&&c.jsxs(Le,{className:"text-xs font-bold text-foreground mb-1",children:[" ",!i&&c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(Wn,{options:u,value:t?String(t):"none",onValueChange:l=>r(l==="none"?void 0:parseInt(l)),placeholder:" ",searchPlaceholder:"  ...",emptyText:"   ",disabled:s||o})]})}const RQ=E.createContext(void 0);function Z5e({children:e}){const[t,r]=E.useState(null),[n,s]=E.useState(null),[i,a]=E.useState(" "),[o,u]=E.useState(!1),l=E.useCallback((h,f=" ")=>{r(p=>p===h?p:h),a(p=>p===f?p:f)},[]),d=E.useCallback(h=>{s(f=>f===h?f:h)},[]);return c.jsx(RQ.Provider,{value:{setFloatingAction:l,setRefreshAction:d,floatingAction:t,floatingLabel:i,refreshAction:n,setShowAddButton:u,showAddButton:o},children:e})}function Io(){const e=E.useContext(RQ);if(e===void 0)throw new Error("useFloatingButton must be used within a FloatingButtonProvider");return e}const wR={blue:{bg:"bg-gradient-to-br from-blue-50 to-sky-50 dark:from-blue-900/30 dark:to-sky-900/20",border:"border-blue-100 dark:border-blue-800/50",text:"text-blue-600 dark:text-blue-400",icon:"text-blue-500",gradient:"from-blue-500 to-sky-500"},green:{bg:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/20",border:"border-green-100 dark:border-green-800/50",text:"text-green-600 dark:text-green-400",icon:"text-green-500",gradient:"from-green-500 to-emerald-500"},orange:{bg:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/30 dark:to-amber-900/20",border:"border-orange-100 dark:border-orange-800/50",text:"text-orange-600 dark:text-orange-400",icon:"text-orange-500",gradient:"from-orange-500 to-amber-500"},red:{bg:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/20",border:"border-red-100 dark:border-red-800/50",text:"text-red-600 dark:text-red-400",icon:"text-red-500",gradient:"from-red-500 to-rose-500"},purple:{bg:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/20",border:"border-purple-100 dark:border-purple-800/50",text:"text-purple-600 dark:text-purple-400",icon:"text-purple-500",gradient:"from-purple-500 to-violet-500"},teal:{bg:"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/30 dark:to-cyan-900/20",border:"border-teal-100 dark:border-teal-800/50",text:"text-teal-600 dark:text-teal-400",icon:"text-teal-500",gradient:"from-teal-500 to-cyan-500"},indigo:{bg:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/30 dark:to-blue-900/20",border:"border-indigo-100 dark:border-indigo-800/50",text:"text-indigo-600 dark:text-indigo-400",icon:"text-indigo-500",gradient:"from-indigo-500 to-blue-500"},emerald:{bg:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/20",border:"border-emerald-100 dark:border-emerald-800/50",text:"text-emerald-600 dark:text-emerald-400",icon:"text-emerald-500",gradient:"from-emerald-500 to-green-500"},amber:{bg:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/30 dark:to-yellow-900/20",border:"border-amber-100 dark:border-amber-800/50",text:"text-amber-600 dark:text-amber-400",icon:"text-amber-500",gradient:"from-amber-500 to-yellow-500"},gray:{bg:"bg-gradient-to-br from-gray-50 to-slate-50 dark:from-gray-900/30 dark:to-slate-900/20",border:"border-gray-100 dark:border-gray-800/50",text:"text-gray-600 dark:text-gray-400",icon:"text-gray-500",gradient:"from-gray-500 to-slate-500"},cyan:{bg:"bg-gradient-to-br from-cyan-50 to-sky-50 dark:from-cyan-900/30 dark:to-sky-900/20",border:"border-cyan-100 dark:border-cyan-800/50",text:"text-cyan-600 dark:text-cyan-400",icon:"text-cyan-500",gradient:"from-cyan-500 to-sky-500"},rose:{bg:"bg-gradient-to-br from-rose-50 to-pink-50 dark:from-rose-900/30 dark:to-pink-900/20",border:"border-rose-100 dark:border-rose-800/50",text:"text-rose-600 dark:text-rose-400",icon:"text-rose-500",gradient:"from-rose-500 to-pink-500"},yellow:{bg:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/30 dark:to-amber-900/20",border:"border-yellow-100 dark:border-yellow-800/50",text:"text-yellow-600 dark:text-yellow-400",icon:"text-yellow-500",gradient:"from-yellow-500 to-amber-500"}};function _R(e){return isNaN(e)||!isFinite(e)||Math.abs(e)>1e11?"0":e.toLocaleString("en-US")}function X5e({item:e}){const t=e.splitValue;return t?c.jsxs("div",{className:_e("relative flex flex-col rounded-xl border transition-all overflow-hidden h-[50px]","bg-gradient-to-b from-slate-50 to-white dark:from-slate-900/50 dark:to-slate-900/30","border-slate-200 dark:border-slate-700","hover:shadow-sm"),children:[c.jsxs("div",{className:"flex items-center justify-center gap-1 py-0.5 px-2 bg-slate-100/80 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700",children:[c.jsx(e.icon,{className:"h-2.5 w-2.5 text-slate-600 dark:text-slate-400"}),c.jsx("span",{className:"text-[8px] font-bold text-slate-700 dark:text-slate-300 uppercase tracking-tighter",children:e.label})]}),c.jsxs("div",{className:"grid grid-cols-2 divide-x divide-slate-200 dark:divide-slate-700 rtl:divide-x-reverse flex-1",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center px-1 py-0 bg-teal-50/50 dark:bg-teal-900/20",children:[c.jsx("span",{className:"text-[7px] font-medium text-teal-600 dark:text-teal-400 leading-tight",children:""}),c.jsx("span",{className:"text-[10px] font-extrabold text-teal-700 dark:text-teal-300 arabic-numbers leading-none",children:_R(t.incoming)})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center px-1 py-0 bg-rose-50/50 dark:bg-rose-900/20",children:[c.jsx("span",{className:"text-[7px] font-medium text-rose-600 dark:text-rose-400 leading-tight",children:""}),c.jsx("span",{className:"text-[10px] font-extrabold text-rose-700 dark:text-rose-300 arabic-numbers leading-none",children:_R(t.outgoing)})]})]})]}):null}function Y5e({item:e}){if(e.isSplitCard)return c.jsx(X5e,{item:e});const t=wR[e.color]||wR.blue,r=e.icon,s=(a=>typeof a=="number"?isNaN(a)||!isFinite(a)||Math.abs(a)>1e11?"0":e.formatter?e.formatter(a):a.toLocaleString("en-US"):String(a))(e.value),i=a=>{const o=a.length;return o<=4?"0.75rem":o<=7?"0.65rem":o<=10?"0.6rem":o<=13?"0.55rem":"0.5rem"};return c.jsxs("div",{className:_e("relative flex flex-col p-1 rounded-xl border transition-all h-[50px]",t.bg,t.border,"hover:shadow-sm",e.onClick&&"cursor-pointer"),onClick:e.onClick,children:[c.jsxs("div",{className:"flex items-center justify-between gap-1 mb-0",children:[c.jsx("span",{className:"text-[8px] font-bold text-muted-foreground truncate flex-1 leading-tight uppercase tracking-tighter",children:e.label}),c.jsx("div",{className:_e("p-0.5 rounded-md flex-shrink-0",t.bg),children:c.jsx(r,{className:_e("h-2.5 w-2.5",t.icon)})})]}),e.showDot&&c.jsx("div",{className:_e("absolute top-2 right-10 h-2.5 w-2.5 rounded-full",e.dotColor||"bg-green-500")}),c.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[c.jsx("span",{className:_e("font-bold arabic-numbers leading-none whitespace-nowrap",t.text),style:{fontSize:i(s)},children:s}),e.unit&&c.jsx("span",{className:"text-[9px] text-muted-foreground leading-none",children:e.unit}),e.subLabel&&c.jsx("span",{className:"text-[9px] text-muted-foreground/70 truncate w-full mt-0.5",children:e.subLabel}),e.trend&&c.jsxs("span",{className:_e("text-[9px] flex items-center gap-0.5 mt-0.5",e.trend.isPositive?"text-green-500":"text-red-500"),children:[e.trend.isPositive?c.jsx(hn,{className:"h-2 w-2"}):c.jsx(oi,{className:"h-2 w-2"}),e.trend.value,"%"]})]})]})}function Q5e({rows:e,className:t}){if(!e||e.length===0)return null;const r=(s=3)=>{switch(s){case 2:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4";case 5:return"grid-cols-5";case 6:return"grid-cols-6";default:return"grid-cols-3"}},n=(s="sm")=>{switch(s){case"sm":return"gap-2";case"md":return"gap-3";case"lg":return"gap-4";default:return"gap-2"}};return c.jsx("div",{className:_e("space-y-2",t),children:e.map((s,i)=>c.jsx("div",{className:_e("grid",r(s.columns),n(s.gap)),children:s.items.map(a=>c.jsx(Y5e,{item:a},a.key))},i))})}const Zw=T6,q6=E6,OQ=uy,J5e=C6,MQ=E.forwardRef(({className:e,...t},r)=>c.jsx(ly,{className:_e("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));MQ.displayName=ly.displayName;const eCe=ef("fixed z-[9999] gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 bg-background opacity-100",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),hy=E.forwardRef(({side:e="right",className:t,children:r,...n},s)=>c.jsxs(J5e,{children:[c.jsx(MQ,{}),c.jsxs(cy,{ref:s,className:_e(eCe({side:e}),t),style:{pointerEvents:"auto"},...n,children:[r,c.jsxs(uy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(fs,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hy.displayName=cy.displayName;const H6=({className:e,...t})=>c.jsx("div",{className:_e("flex flex-col space-y-2 text-center sm:text-left",e),...t});H6.displayName="SheetHeader";const py=E.forwardRef(({className:e,...t},r)=>c.jsx(Cp,{ref:r,className:_e("text-lg font-semibold text-foreground",e),...t}));py.displayName=Cp.displayName;const DQ=E.forwardRef(({className:e,...t},r)=>c.jsx(Ap,{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));DQ.displayName=Ap.displayName;function Dr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Hi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function bi(e,t){const r=Dr(e);return isNaN(t)?Hi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function To(e,t){const r=Dr(e);if(isNaN(t))return Hi(e,NaN);if(!t)return r;const n=r.getDate(),s=Hi(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const K6=6048e5,tCe=864e5,$Q=6e4,LQ=36e5;let rCe={};function my(){return rCe}function Ga(e,t){const r=my(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Dr(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Vd(e){return Ga(e,{weekStartsOn:1})}function FQ(e){const t=Dr(e),r=t.getFullYear(),n=Hi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Vd(n),i=Hi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=Vd(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function ip(e){const t=Dr(e);return t.setHours(0,0,0,0),t}function Cx(e){const t=Dr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Go(e,t){const r=ip(e),n=ip(t),s=+r-Cx(r),i=+n-Cx(n);return Math.round((s-i)/tCe)}function nCe(e){const t=FQ(e),r=Hi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Vd(r)}function Sj(e,t){const r=t*7;return bi(e,r)}function sCe(e,t){return To(e,t*12)}function iCe(e){let t;return e.forEach(function(r){const n=Dr(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function aCe(e){let t;return e.forEach(r=>{const n=Dr(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Xw(e){return Hi(e,Date.now())}function ai(e,t){const r=ip(e),n=ip(t);return+r==+n}function G6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function oCe(e){if(!G6(e)&&typeof e!="number")return!1;const t=Dr(e);return!isNaN(Number(t))}function Gg(e,t){const r=Dr(e),n=Dr(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function lCe(e,t,r){const n=Ga(e,r),s=Ga(t,r),i=+n-Cx(n),a=+s-Cx(s);return Math.round((i-a)/K6)}function Z6(e){const t=Dr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Wi(e){const t=Dr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function zQ(e){const t=Dr(e),r=Hi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function X6(e,t){const r=my(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Dr(e),i=s.getDay(),a=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function BQ(e){return X6(e,{weekStartsOn:1})}const cCe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uCe=(e,t,r)=>{let n;const s=cCe[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function zl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const dCe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fCe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hCe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pCe={date:zl({formats:dCe,defaultWidth:"full"}),time:zl({formats:fCe,defaultWidth:"full"}),dateTime:zl({formats:hCe,defaultWidth:"full"})},mCe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gCe=(e,t,r,n)=>mCe[e];function xi(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=r?.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=r?.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const yCe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bCe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vCe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xCe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_Ce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SCe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kCe={ordinalNumber:SCe,era:xi({values:yCe,defaultWidth:"wide"}),quarter:xi({values:bCe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xi({values:vCe,defaultWidth:"wide"}),day:xi({values:xCe,defaultWidth:"wide"}),dayPeriod:xi({values:wCe,defaultWidth:"wide",formattingValues:_Ce,defaultFormattingWidth:"wide"})};function wi(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(o)?NCe(o,h=>h.test(a)):jCe(o,h=>h.test(a));let l;l=e.valueCallback?e.valueCallback(u):u,l=r.valueCallback?r.valueCallback(l):l;const d=t.slice(a.length);return{value:l,rest:d}}}function jCe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function NCe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Y6(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const TCe=/^(\d+)(th|st|nd|rd)?/i,ECe=/\d+/i,CCe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ACe={any:[/^b/i,/^(a|c)/i]},PCe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ICe={any:[/1/i,/2/i,/3/i,/4/i]},RCe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MCe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DCe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$Ce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LCe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FCe={ordinalNumber:Y6({matchPattern:TCe,parsePattern:ECe,valueCallback:e=>parseInt(e,10)}),era:wi({matchPatterns:CCe,defaultMatchWidth:"wide",parsePatterns:ACe,defaultParseWidth:"any"}),quarter:wi({matchPatterns:PCe,defaultMatchWidth:"wide",parsePatterns:ICe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wi({matchPatterns:RCe,defaultMatchWidth:"wide",parsePatterns:OCe,defaultParseWidth:"any"}),day:wi({matchPatterns:MCe,defaultMatchWidth:"wide",parsePatterns:DCe,defaultParseWidth:"any"}),dayPeriod:wi({matchPatterns:$Ce,defaultMatchWidth:"any",parsePatterns:LCe,defaultParseWidth:"any"})},UQ={code:"en-US",formatDistance:uCe,formatLong:pCe,formatRelative:gCe,localize:kCe,match:FCe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zCe(e){const t=Dr(e);return Go(t,zQ(t))+1}function VQ(e){const t=Dr(e),r=+Vd(t)-+nCe(t);return Math.round(r/K6)+1}function WQ(e,t){const r=Dr(e),n=r.getFullYear(),s=my(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=Hi(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=Ga(a,t),u=Hi(e,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const l=Ga(u,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function BCe(e,t){const r=my(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=WQ(e,t),i=Hi(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Ga(i,t)}function qQ(e,t){const r=Dr(e),n=+Ga(r,t)-+BCe(r,t);return Math.round(n/K6)+1}function Vr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const mc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Vr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Vr(r+1,2)},d(e,t){return Vr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Vr(e.getHours()%12||12,t.length)},H(e,t){return Vr(e.getHours(),t.length)},m(e,t){return Vr(e.getMinutes(),t.length)},s(e,t){return Vr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Vr(s,t.length)}},Sf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return mc.y(e,t)},Y:function(e,t,r,n){const s=WQ(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Vr(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Vr(i,t.length)},R:function(e,t){const r=FQ(e);return Vr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Vr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Vr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Vr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return mc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Vr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=qQ(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Vr(s,t.length)},I:function(e,t,r){const n=VQ(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Vr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):mc.d(e,t)},D:function(e,t,r){const n=zCe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Vr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Vr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Vr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Vr(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Sf.noon:n===0?s=Sf.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Sf.evening:n>=12?s=Sf.afternoon:n>=4?s=Sf.morning:s=Sf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return mc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):mc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Vr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Vr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):mc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):mc.s(e,t)},S:function(e,t){return mc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return jR(n);case"XXXX":case"XX":return Wu(n);case"XXXXX":case"XXX":default:return Wu(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return jR(n);case"xxxx":case"xx":return Wu(n);case"xxxxx":case"xxx":default:return Wu(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kR(n,":");case"OOOO":default:return"GMT"+Wu(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kR(n,":");case"zzzz":default:return"GMT"+Wu(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Vr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Vr(n,t.length)}};function kR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Vr(i,2)}function jR(e,t){return e%60===0?(e>0?"-":"+")+Vr(Math.abs(e)/60,2):Wu(e,t)}function Wu(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Vr(Math.trunc(n/60),2),i=Vr(n%60,2);return r+s+t+i}const NR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},HQ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},UCe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return NR(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",NR(n,t)).replace("{{time}}",HQ(s,t))},VCe={p:HQ,P:UCe},WCe=/^D+$/,qCe=/^Y+$/,HCe=["D","DD","YY","YYYY"];function KCe(e){return WCe.test(e)}function GCe(e){return qCe.test(e)}function ZCe(e,t,r){const n=XCe(e,t,r);if(console.warn(n),HCe.includes(e))throw new RangeError(n)}function XCe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const YCe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QCe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JCe=/^'([^]*?)'?$/,eAe=/''/g,tAe=/[a-zA-Z]/;function ur(e,t,r){const n=my(),s=r?.locale??n.locale??UQ,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Dr(e);if(!oCe(o))throw new RangeError("Invalid time value");let u=t.match(QCe).map(d=>{const h=d[0];if(h==="p"||h==="P"){const f=VCe[h];return f(d,s.formatLong)}return d}).join("").match(YCe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const h=d[0];if(h==="'")return{isToken:!1,value:rAe(d)};if(SR[h])return{isToken:!0,value:d};if(h.match(tAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:d}});s.localize.preprocessor&&(u=s.localize.preprocessor(o,u));const l={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return u.map(d=>{if(!d.isToken)return d.value;const h=d.value;(!r?.useAdditionalWeekYearTokens&&GCe(h)||!r?.useAdditionalDayOfYearTokens&&KCe(h))&&ZCe(h,t,String(e));const f=SR[h[0]];return f(o,h,s.localize,l)}).join("")}function rAe(e){const t=e.match(JCe);return t?t[1].replace(eAe,"'"):e}function nAe(e){const t=Dr(e),r=t.getFullYear(),n=t.getMonth(),s=Hi(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function sAe(e){return Math.trunc(+Dr(e)/1e3)}function iAe(e){const t=Dr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function aAe(e,t){return lCe(iAe(e),Wi(e),t)+1}function kj(e,t){const r=Dr(e),n=Dr(t);return r.getTime()>n.getTime()}function KQ(e,t){const r=Dr(e),n=Dr(t);return+r<+n}function oAe(e,t,r){const n=Ga(e,r),s=Ga(t,r);return+n==+s}function Yw(e,t){const r=Dr(e),n=Dr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function lAe(e,t){const r=Dr(e),n=Dr(t);return r.getFullYear()===n.getFullYear()}function cAe(e){return Yw(e,Xw(e))}function uAe(e,t){return oAe(e,Xw(e),t)}function dAe(e){return ai(e,Xw(e))}function ov(e,t){return bi(e,-t)}function fAe(e){return ai(e,ov(Xw(e),1))}function jj(e,t){const n=gAe(e);let s;if(n.date){const u=yAe(n.date,2);s=bAe(u.restDateString,u.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,o;if(n.time&&(a=vAe(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=xAe(n.timezone),isNaN(o))return new Date(NaN)}else{const u=new Date(i+a),l=new Date(0);return l.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),l.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),l}return new Date(i+a+o)}const vb={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},hAe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pAe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mAe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function gAe(e){const t={},r=e.split(vb.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],vb.timeZoneDelimiter.test(t.date)&&(t.date=e.split(vb.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=vb.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function yAe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function bAe(e,t){if(t===null)return new Date(NaN);const r=e.match(hAe);if(!r)return new Date(NaN);const n=!!r[4],s=pm(r[1]),i=pm(r[2])-1,a=pm(r[3]),o=pm(r[4]),u=pm(r[5])-1;if(n)return jAe(t,o,u)?wAe(t,o,u):new Date(NaN);{const l=new Date(0);return!SAe(t,i,a)||!kAe(t,s)?new Date(NaN):(l.setUTCFullYear(t,i,Math.max(s,a)),l)}}function pm(e){return e?parseInt(e):1}function vAe(e){const t=e.match(pAe);if(!t)return NaN;const r=Z2(t[1]),n=Z2(t[2]),s=Z2(t[3]);return NAe(r,n,s)?r*LQ+n*$Q+s*1e3:NaN}function Z2(e){return e&&parseFloat(e.replace(",","."))||0}function xAe(e){if(e==="Z")return 0;const t=e.match(mAe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return TAe(n,s)?r*(n*LQ+s*$Q):NaN}function wAe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const _Ae=[31,null,31,30,31,30,31,31,30,31,30,31];function GQ(e){return e%400===0||e%4===0&&e%100!==0}function SAe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(_Ae[t]||(GQ(e)?29:28))}function kAe(e,t){return t>=1&&t<=(GQ(e)?366:365)}function jAe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function NAe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function TAe(e,t){return t>=0&&t<=59}function X2(e,t){const r=Dr(e),n=r.getFullYear(),s=r.getDate(),i=Hi(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const a=nAe(i);return r.setMonth(t,Math.min(s,a)),r}function TR(e,t){const r=Dr(e);return isNaN(+r)?Hi(e,NaN):(r.setFullYear(t),r)}const EAe={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},CAe=(e,t,r)=>{const n=EAe[e];let s;return typeof n=="string"?s=n:t===1?s=n.one:t===2?s=n.two:t<=10?s=n.threeToTen.replace("{{count}}",String(t)):s=n.other.replace("{{count}}",String(t)),r?.addSuffix?r.comparison&&r.comparison>0?" "+s:" "+s:s},AAe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},PAe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},IAe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RAe={date:zl({formats:AAe,defaultWidth:"full"}),time:zl({formats:PAe,defaultWidth:"full"}),dateTime:zl({formats:IAe,defaultWidth:"full"})},OAe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},MAe=e=>OAe[e],DAe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},$Ae={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},LAe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},FAe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},zAe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},BAe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},UAe=e=>String(e),VAe={ordinalNumber:UAe,era:xi({values:DAe,defaultWidth:"wide"}),quarter:xi({values:$Ae,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xi({values:LAe,defaultWidth:"wide"}),day:xi({values:FAe,defaultWidth:"wide"}),dayPeriod:xi({values:zAe,defaultWidth:"wide",formattingValues:BAe,defaultFormattingWidth:"wide"})},WAe=/^(\d+)(th|st|nd|rd)?/i,qAe=/\d+/i,HAe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},KAe={any:[//,//]},GAe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},ZAe={any:[/1/i,/2/i,/3/i,/4/i]},XAe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},YAe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},QAe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},JAe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},e8e={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},t8e={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},r8e={ordinalNumber:Y6({matchPattern:WAe,parsePattern:qAe,valueCallback:e=>parseInt(e,10)}),era:wi({matchPatterns:HAe,defaultMatchWidth:"wide",parsePatterns:KAe,defaultParseWidth:"any"}),quarter:wi({matchPatterns:GAe,defaultMatchWidth:"wide",parsePatterns:ZAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wi({matchPatterns:XAe,defaultMatchWidth:"wide",parsePatterns:YAe,defaultParseWidth:"any"}),day:wi({matchPatterns:QAe,defaultMatchWidth:"wide",parsePatterns:JAe,defaultParseWidth:"any"}),dayPeriod:wi({matchPatterns:e8e,defaultMatchWidth:"any",parsePatterns:t8e,defaultParseWidth:"any"})},Fi={code:"ar",formatDistance:CAe,formatLong:RAe,formatRelative:MAe,localize:VAe,match:r8e,options:{weekStartsOn:6,firstWeekContainsDate:1}},n8e={lessThanXSeconds:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "}},s8e=(e,t,r)=>{let n;const s=n8e[e];return typeof s=="string"?n=s:t===1?n=s.one:t===2?n=s.two:t<=10?n=s.threeToTen.replace("{{count}}",String(t)):n=s.other.replace("{{count}}",String(t)),r?.addSuffix?r.comparison&&r.comparison>0?"  "+n:" "+n:n},i8e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a8e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o8e={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l8e={date:zl({formats:i8e,defaultWidth:"full"}),time:zl({formats:a8e,defaultWidth:"full"}),dateTime:zl({formats:o8e,defaultWidth:"full"})},c8e={lastWeek:"'' eeee '' p",yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:"eeee '' p",other:"P"},u8e=(e,t,r,n)=>c8e[e],d8e={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},f8e={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},h8e={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},p8e={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},m8e={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""}},g8e={narrow:{am:"",pm:"",midnight:"",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:" ",night:" "}},y8e=e=>String(e),b8e={ordinalNumber:y8e,era:xi({values:d8e,defaultWidth:"wide"}),quarter:xi({values:f8e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xi({values:h8e,defaultWidth:"wide"}),day:xi({values:p8e,defaultWidth:"wide"}),dayPeriod:xi({values:m8e,defaultWidth:"wide",formattingValues:g8e,defaultFormattingWidth:"wide"})},v8e=/^(\d+)(th|st|nd|rd)?/i,x8e=/\d+/i,w8e={narrow:/^(|)/i,abbreviated:/^(\.?\s?\.?|\.?\s?\.?\s?|a\.?\s?d\.?|c\.?\s?)/i,wide:/^( | | | )/i},_8e={any:[/^/i,/^/i]},S8e={narrow:/^[1234]/i,abbreviated:/^[1234]/i,wide:/^ [1234]/i},k8e={any:[/1/i,/2/i,/3/i,/4/i]},j8e={narrow:/^[]/i,abbreviated:/^(|||||||||||)/i,wide:/^(|||||||||||)/i},N8e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},T8e={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},E8e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},C8e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A8e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},P8e={ordinalNumber:Y6({matchPattern:v8e,parsePattern:x8e,valueCallback:e=>parseInt(e,10)}),era:wi({matchPatterns:w8e,defaultMatchWidth:"wide",parsePatterns:_8e,defaultParseWidth:"any"}),quarter:wi({matchPatterns:S8e,defaultMatchWidth:"wide",parsePatterns:k8e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wi({matchPatterns:j8e,defaultMatchWidth:"wide",parsePatterns:N8e,defaultParseWidth:"any"}),day:wi({matchPatterns:T8e,defaultMatchWidth:"wide",parsePatterns:E8e,defaultParseWidth:"any"}),dayPeriod:wi({matchPatterns:C8e,defaultMatchWidth:"any",parsePatterns:A8e,defaultParseWidth:"any"})},ZQ={code:"ar-SA",formatDistance:s8e,formatLong:l8e,formatRelative:u8e,localize:b8e,match:P8e,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Ht=function(){return Ht=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ht.apply(this,arguments)};function I8e(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function XQ(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function gy(e){return e.mode==="multiple"}function yy(e){return e.mode==="range"}function Qw(e){return e.mode==="single"}var R8e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function O8e(e,t){return ur(e,"LLLL y",t)}function M8e(e,t){return ur(e,"d",t)}function D8e(e,t){return ur(e,"LLLL",t)}function $8e(e){return"".concat(e)}function L8e(e,t){return ur(e,"cccccc",t)}function F8e(e,t){return ur(e,"yyyy",t)}var z8e=Object.freeze({__proto__:null,formatCaption:O8e,formatDay:M8e,formatMonthCaption:D8e,formatWeekNumber:$8e,formatWeekdayName:L8e,formatYearCaption:F8e}),B8e=function(e,t,r){return ur(e,"do MMMM (EEEE)",r)},U8e=function(){return"Month: "},V8e=function(){return"Go to next month"},W8e=function(){return"Go to previous month"},q8e=function(e,t){return ur(e,"cccc",t)},H8e=function(e){return"Week n. ".concat(e)},K8e=function(){return"Year: "},G8e=Object.freeze({__proto__:null,labelDay:B8e,labelMonthDropdown:U8e,labelNext:V8e,labelPrevious:W8e,labelWeekNumber:H8e,labelWeekday:q8e,labelYearDropdown:K8e});function Z8e(){var e="buttons",t=R8e,r=UQ,n={},s={},i=1,a={},o=new Date;return{captionLayout:e,classNames:t,formatters:z8e,labels:G8e,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:a,today:o,mode:"default"}}function X8e(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,i=e.fromDate,a=e.toDate;return n?i=Wi(n):t&&(i=new Date(t,0,1)),s?a=Z6(s):r&&(a=new Date(r,11,31)),{fromDate:i?ip(i):void 0,toDate:a?ip(a):void 0}}var YQ=E.createContext(void 0);function Y8e(e){var t,r=e.initialProps,n=Z8e(),s=X8e(r),i=s.fromDate,a=s.toDate,o=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;o!=="buttons"&&(!i||!a)&&(o="buttons");var u;(Qw(r)||gy(r)||yy(r))&&(u=r.onSelect);var l=Ht(Ht(Ht({},n),r),{captionLayout:o,classNames:Ht(Ht({},n.classNames),r.classNames),components:Ht({},r.components),formatters:Ht(Ht({},n.formatters),r.formatters),fromDate:i,labels:Ht(Ht({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ht(Ht({},n.modifiers),r.modifiers),modifiersClassNames:Ht(Ht({},n.modifiersClassNames),r.modifiersClassNames),onSelect:u,styles:Ht(Ht({},n.styles),r.styles),toDate:a});return c.jsx(YQ.Provider,{value:l,children:e.children})}function an(){var e=E.useContext(YQ);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function QQ(e){var t=an(),r=t.locale,n=t.classNames,s=t.styles,i=t.formatters.formatCaption;return c.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Q8e(e){return c.jsx("svg",Ht({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function JQ(e){var t,r,n=e.onChange,s=e.value,i=e.children,a=e.caption,o=e.className,u=e.style,l=an(),d=(r=(t=l.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Q8e;return c.jsxs("div",{className:o,style:u,children:[c.jsx("span",{className:l.classNames.vhidden,children:e["aria-label"]}),c.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:l.classNames.dropdown,style:l.styles.dropdown,value:s,onChange:n,children:i}),c.jsxs("div",{className:l.classNames.caption_label,style:l.styles.caption_label,"aria-hidden":"true",children:[a,c.jsx(d,{className:l.classNames.dropdown_icon,style:l.styles.dropdown_icon})]})]})}function J8e(e){var t,r=an(),n=r.fromDate,s=r.toDate,i=r.styles,a=r.locale,o=r.formatters.formatMonthCaption,u=r.classNames,l=r.components,d=r.labels.labelMonthDropdown;if(!n)return c.jsx(c.Fragment,{});if(!s)return c.jsx(c.Fragment,{});var h=[];if(lAe(n,s))for(var f=Wi(n),p=n.getMonth();p<=s.getMonth();p++)h.push(X2(f,p));else for(var f=Wi(new Date),p=0;p<=11;p++)h.push(X2(f,p));var g=function(m){var v=Number(m.target.value),b=X2(Wi(e.displayMonth),v);e.onChange(b)},y=(t=l?.Dropdown)!==null&&t!==void 0?t:JQ;return c.jsx(y,{name:"months","aria-label":d(),className:u.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:a}),children:h.map(function(m){return c.jsx("option",{value:m.getMonth(),children:o(m,{locale:a})},m.getMonth())})})}function ePe(e){var t,r=e.displayMonth,n=an(),s=n.fromDate,i=n.toDate,a=n.locale,o=n.styles,u=n.classNames,l=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,f=[];if(!s)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});for(var p=s.getFullYear(),g=i.getFullYear(),y=p;y<=g;y++)f.push(TR(zQ(new Date),y));var m=function(b){var x=TR(Wi(r),Number(b.target.value));e.onChange(x)},v=(t=l?.Dropdown)!==null&&t!==void 0?t:JQ;return c.jsx(v,{name:"years","aria-label":h(),className:u.dropdown_year,style:o.dropdown_year,onChange:m,value:r.getFullYear(),caption:d(r,{locale:a}),children:f.map(function(b){return c.jsx("option",{value:b.getFullYear(),children:d(b,{locale:a})},b.getFullYear())})})}function tPe(e,t){var r=E.useState(e),n=r[0],s=r[1],i=t===void 0?n:t;return[i,s]}function rPe(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,i=e.toDate,a=e.fromDate,o=e.numberOfMonths,u=o===void 0?1:o;if(i&&Gg(i,s)<0){var l=-1*(u-1);s=To(i,l)}return a&&Gg(s,a)<0&&(s=a),Wi(s)}function nPe(){var e=an(),t=rPe(e),r=tPe(t,e.month),n=r[0],s=r[1],i=function(a){var o;if(!e.disableNavigation){var u=Wi(a);s(u),(o=e.onMonthChange)===null||o===void 0||o.call(e,u)}};return[n,i]}function sPe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Wi(e),i=Wi(To(s,n)),a=Gg(i,s),o=[],u=0;u<a;u++){var l=To(s,u);o.push(l)}return r&&(o=o.reverse()),o}function iPe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=n?i:1,o=Wi(e);if(!r)return To(o,a);var u=Gg(r,e);if(!(u<i))return To(o,a)}}function aPe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=n?i:1,o=Wi(e);if(!r)return To(o,-a);var u=Gg(o,r);if(!(u<=0))return To(o,-a)}}var eJ=E.createContext(void 0);function oPe(e){var t=an(),r=nPe(),n=r[0],s=r[1],i=sPe(n,t),a=iPe(n,t),o=aPe(n,t),u=function(h){return i.some(function(f){return Yw(h,f)})},l=function(h,f){u(h)||(f&&KQ(h,f)?s(To(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:l,previousMonth:o,nextMonth:a,isDateDisplayed:u};return c.jsx(eJ.Provider,{value:d,children:e.children})}function by(){var e=E.useContext(eJ);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function ER(e){var t,r=an(),n=r.classNames,s=r.styles,i=r.components,a=by().goToMonth,o=function(d){a(To(d,e.displayIndex?-e.displayIndex:0))},u=(t=i?.CaptionLabel)!==null&&t!==void 0?t:QQ,l=c.jsx(u,{id:e.id,displayMonth:e.displayMonth});return c.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[c.jsx("div",{className:n.vhidden,children:l}),c.jsx(J8e,{onChange:o,displayMonth:e.displayMonth}),c.jsx(ePe,{onChange:o,displayMonth:e.displayMonth})]})}function lPe(e){return c.jsx("svg",Ht({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function cPe(e){return c.jsx("svg",Ht({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ax=E.forwardRef(function(e,t){var r=an(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var a=i.join(" "),o=Ht(Ht({},s.button_reset),s.button);return e.style&&Object.assign(o,e.style),c.jsx("button",Ht({},e,{ref:t,type:"button",className:a,style:o}))});function uPe(e){var t,r,n=an(),s=n.dir,i=n.locale,a=n.classNames,o=n.styles,u=n.labels,l=u.labelPrevious,d=u.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return c.jsx(c.Fragment,{});var f=l(e.previousMonth,{locale:i}),p=[a.nav_button,a.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),y=[a.nav_button,a.nav_button_next].join(" "),m=(t=h?.IconRight)!==null&&t!==void 0?t:cPe,v=(r=h?.IconLeft)!==null&&r!==void 0?r:lPe;return c.jsxs("div",{className:a.nav,style:o.nav,children:[!e.hidePrevious&&c.jsx(Ax,{name:"previous-month","aria-label":f,className:p,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?c.jsx(m,{className:a.nav_icon,style:o.nav_icon}):c.jsx(v,{className:a.nav_icon,style:o.nav_icon})}),!e.hideNext&&c.jsx(Ax,{name:"next-month","aria-label":g,className:y,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?c.jsx(v,{className:a.nav_icon,style:o.nav_icon}):c.jsx(m,{className:a.nav_icon,style:o.nav_icon})})]})}function CR(e){var t=an().numberOfMonths,r=by(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,a=r.displayMonths,o=a.findIndex(function(g){return Yw(e.displayMonth,g)}),u=o===0,l=o===a.length-1,d=t>1&&(u||!l),h=t>1&&(l||!u),f=function(){n&&i(n)},p=function(){s&&i(s)};return c.jsx(uPe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:f,onNextClick:p})}function dPe(e){var t,r=an(),n=r.classNames,s=r.disableNavigation,i=r.styles,a=r.captionLayout,o=r.components,u=(t=o?.CaptionLabel)!==null&&t!==void 0?t:QQ,l;return s?l=c.jsx(u,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?l=c.jsx(ER,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?l=c.jsxs(c.Fragment,{children:[c.jsx(ER,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),c.jsx(CR,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):l=c.jsxs(c.Fragment,{children:[c.jsx(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c.jsx(CR,{displayMonth:e.displayMonth,id:e.id})]}),c.jsx("div",{className:n.caption,style:i.caption,children:l})}function fPe(e){var t=an(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?c.jsx("tfoot",{className:s,style:n.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:r})})}):c.jsx(c.Fragment,{})}function hPe(e,t,r){for(var n=r?Vd(new Date):Ga(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var a=bi(n,i);s.push(a)}return s}function pPe(){var e=an(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,a=e.ISOWeek,o=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,l=hPe(s,i,a);return c.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&c.jsx("td",{style:r.head_cell,className:t.head_cell}),l.map(function(d,h){return c.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":u(d,{locale:s}),children:o(d,{locale:s})},h)})]})}function mPe(){var e,t=an(),r=t.classNames,n=t.styles,s=t.components,i=(e=s?.HeadRow)!==null&&e!==void 0?e:pPe;return c.jsx("thead",{style:n.head,className:r.head,children:c.jsx(i,{})})}function gPe(e){var t=an(),r=t.locale,n=t.formatters.formatDay;return c.jsx(c.Fragment,{children:n(e.date,{locale:r})})}var Q6=E.createContext(void 0);function yPe(e){if(!gy(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return c.jsx(Q6.Provider,{value:t,children:e.children})}return c.jsx(bPe,{initialProps:e.initialProps,children:e.children})}function bPe(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,i=t.max,a=function(l,d,h){var f,p;(f=t.onDayClick)===null||f===void 0||f.call(t,l,d,h);var g=!!(d.selected&&s&&n?.length===s);if(!g){var y=!!(!d.selected&&i&&n?.length===i);if(!y){var m=n?XQ([],n):[];if(d.selected){var v=m.findIndex(function(b){return ai(l,b)});m.splice(v,1)}else m.push(l);(p=t.onSelect)===null||p===void 0||p.call(t,m,l,d,h)}}},o={disabled:[]};n&&o.disabled.push(function(l){var d=i&&n.length>i-1,h=n.some(function(f){return ai(f,l)});return!!(d&&!h)});var u={selected:n,onDayClick:a,modifiers:o};return c.jsx(Q6.Provider,{value:u,children:r})}function J6(){var e=E.useContext(Q6);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function vPe(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?ai(s,e)&&ai(n,e)?void 0:ai(s,e)?{from:s,to:void 0}:ai(n,e)?void 0:kj(n,e)?{from:e,to:s}:{from:n,to:e}:s?kj(e,s)?{from:s,to:e}:{from:e,to:s}:n?KQ(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var e5=E.createContext(void 0);function xPe(e){if(!yy(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(e5.Provider,{value:t,children:e.children})}return c.jsx(wPe,{initialProps:e.initialProps,children:e.children})}function wPe(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},i=s.from,a=s.to,o=t.min,u=t.max,l=function(p,g,y){var m,v;(m=t.onDayClick)===null||m===void 0||m.call(t,p,g,y);var b=vPe(p,n);(v=t.onSelect)===null||v===void 0||v.call(t,b,p,g,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],ai(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),o&&(i&&!a&&d.disabled.push({after:ov(i,o-1),before:bi(i,o-1)}),i&&a&&d.disabled.push({after:i,before:bi(i,o-1)}),!i&&a&&d.disabled.push({after:ov(a,o-1),before:bi(a,o-1)})),u){if(i&&!a&&(d.disabled.push({before:bi(i,-u+1)}),d.disabled.push({after:bi(i,u-1)})),i&&a){var h=Go(a,i)+1,f=u-h;d.disabled.push({before:ov(i,f)}),d.disabled.push({after:bi(a,f)})}!i&&a&&(d.disabled.push({before:bi(a,-u+1)}),d.disabled.push({after:bi(a,u-1)}))}return c.jsx(e5.Provider,{value:{selected:n,onDayClick:l,modifiers:d},children:r})}function t5(){var e=E.useContext(e5);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function lv(e){return Array.isArray(e)?XQ([],e):e!==void 0?[e]:[]}function _Pe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=lv(s)}),t}var Eo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Eo||(Eo={}));var SPe=Eo.Selected,gl=Eo.Disabled,kPe=Eo.Hidden,jPe=Eo.Today,Y2=Eo.RangeEnd,Q2=Eo.RangeMiddle,J2=Eo.RangeStart,NPe=Eo.Outside;function TPe(e,t,r){var n,s=(n={},n[SPe]=lv(e.selected),n[gl]=lv(e.disabled),n[kPe]=lv(e.hidden),n[jPe]=[e.today],n[Y2]=[],n[Q2]=[],n[J2]=[],n[NPe]=[],n);return e.fromDate&&s[gl].push({before:e.fromDate}),e.toDate&&s[gl].push({after:e.toDate}),gy(e)?s[gl]=s[gl].concat(t.modifiers[gl]):yy(e)&&(s[gl]=s[gl].concat(r.modifiers[gl]),s[J2]=r.modifiers[J2],s[Q2]=r.modifiers[Q2],s[Y2]=r.modifiers[Y2]),s}var tJ=E.createContext(void 0);function EPe(e){var t=an(),r=J6(),n=t5(),s=TPe(t,r,n),i=_Pe(t.modifiers),a=Ht(Ht({},s),i);return c.jsx(tJ.Provider,{value:a,children:e.children})}function rJ(){var e=E.useContext(tJ);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function CPe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function APe(e){return!!(e&&typeof e=="object"&&"from"in e)}function PPe(e){return!!(e&&typeof e=="object"&&"after"in e)}function IPe(e){return!!(e&&typeof e=="object"&&"before"in e)}function RPe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function OPe(e,t){var r,n=t.from,s=t.to;if(n&&s){var i=Go(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var a=Go(e,n)>=0&&Go(s,e)>=0;return a}return s?ai(s,e):n?ai(n,e):!1}function MPe(e){return G6(e)}function DPe(e){return Array.isArray(e)&&e.every(G6)}function $Pe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(MPe(r))return ai(e,r);if(DPe(r))return r.includes(e);if(APe(r))return OPe(e,r);if(RPe(r))return r.dayOfWeek.includes(e.getDay());if(CPe(r)){var n=Go(r.before,e),s=Go(r.after,e),i=n>0,a=s<0,o=kj(r.before,r.after);return o?a&&i:i||a}return PPe(r)?Go(e,r.after)>0:IPe(r)?Go(r.before,e)>0:typeof r=="function"?r(e):!1})}function r5(e,t,r){var n=Object.keys(t).reduce(function(i,a){var o=t[a];return $Pe(e,o)&&i.push(a),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!Yw(e,r)&&(s.outside=!0),s}function LPe(e,t){for(var r=Wi(e[0]),n=Z6(e[e.length-1]),s,i,a=r;a<=n;){var o=r5(a,t),u=!o.disabled&&!o.hidden;if(!u){a=bi(a,1);continue}if(o.selected)return a;o.today&&!i&&(i=a),s||(s=a),a=bi(a,1)}return i||s}var FPe=365;function nJ(e,t){var r=t.moveBy,n=t.direction,s=t.context,i=t.modifiers,a=t.retry,o=a===void 0?{count:0,lastFocused:e}:a,u=s.weekStartsOn,l=s.fromDate,d=s.toDate,h=s.locale,f={day:bi,week:Sj,month:To,year:sCe,startOfWeek:function(m){return s.ISOWeek?Vd(m):Ga(m,{locale:h,weekStartsOn:u})},endOfWeek:function(m){return s.ISOWeek?BQ(m):X6(m,{locale:h,weekStartsOn:u})}},p=f[r](e,n==="after"?1:-1);n==="before"&&l?p=iCe([l,p]):n==="after"&&d&&(p=aCe([d,p]));var g=!0;if(i){var y=r5(p,i);g=!y.disabled&&!y.hidden}return g?p:o.count>FPe?o.lastFocused:nJ(p,{moveBy:r,direction:n,context:s,modifiers:i,retry:Ht(Ht({},o),{count:o.count+1})})}var sJ=E.createContext(void 0);function zPe(e){var t=by(),r=rJ(),n=E.useState(),s=n[0],i=n[1],a=E.useState(),o=a[0],u=a[1],l=LPe(t.displayMonths,r),d=s??(o&&t.isDateDisplayed(o))?o:l,h=function(){u(s),i(void 0)},f=function(m){i(m)},p=an(),g=function(m,v){if(s){var b=nJ(s,{moveBy:m,direction:v,context:p,modifiers:r});ai(s,b)||(t.goToDate(b,s),f(b))}},y={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return c.jsx(sJ.Provider,{value:y,children:e.children})}function n5(){var e=E.useContext(sJ);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function BPe(e,t){var r=rJ(),n=r5(e,r,t);return n}var s5=E.createContext(void 0);function UPe(e){if(!Qw(e.initialProps)){var t={selected:void 0};return c.jsx(s5.Provider,{value:t,children:e.children})}return c.jsx(VPe,{initialProps:e.initialProps,children:e.children})}function VPe(e){var t=e.initialProps,r=e.children,n=function(i,a,o){var u,l,d;if((u=t.onDayClick)===null||u===void 0||u.call(t,i,a,o),a.selected&&!t.required){(l=t.onSelect)===null||l===void 0||l.call(t,void 0,i,a,o);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,a,o)},s={selected:t.selected,onDayClick:n};return c.jsx(s5.Provider,{value:s,children:r})}function iJ(){var e=E.useContext(s5);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function WPe(e,t){var r=an(),n=iJ(),s=J6(),i=t5(),a=n5(),o=a.focusDayAfter,u=a.focusDayBefore,l=a.focusWeekAfter,d=a.focusWeekBefore,h=a.blur,f=a.focus,p=a.focusMonthBefore,g=a.focusMonthAfter,y=a.focusYearBefore,m=a.focusYearAfter,v=a.focusStartOfWeek,b=a.focusEndOfWeek,x=function(_){var S,j,R,$;Qw(r)?(S=n.onDayClick)===null||S===void 0||S.call(n,e,t,_):gy(r)?(j=s.onDayClick)===null||j===void 0||j.call(s,e,t,_):yy(r)?(R=i.onDayClick)===null||R===void 0||R.call(i,e,t,_):($=r.onDayClick)===null||$===void 0||$.call(r,e,t,_)},k=function(_){var S;f(e),(S=r.onDayFocus)===null||S===void 0||S.call(r,e,t,_)},T=function(_){var S;h(),(S=r.onDayBlur)===null||S===void 0||S.call(r,e,t,_)},O=function(_){var S;(S=r.onDayMouseEnter)===null||S===void 0||S.call(r,e,t,_)},F=function(_){var S;(S=r.onDayMouseLeave)===null||S===void 0||S.call(r,e,t,_)},A=function(_){var S;(S=r.onDayPointerEnter)===null||S===void 0||S.call(r,e,t,_)},P=function(_){var S;(S=r.onDayPointerLeave)===null||S===void 0||S.call(r,e,t,_)},D=function(_){var S;(S=r.onDayTouchCancel)===null||S===void 0||S.call(r,e,t,_)},V=function(_){var S;(S=r.onDayTouchEnd)===null||S===void 0||S.call(r,e,t,_)},B=function(_){var S;(S=r.onDayTouchMove)===null||S===void 0||S.call(r,e,t,_)},C=function(_){var S;(S=r.onDayTouchStart)===null||S===void 0||S.call(r,e,t,_)},I=function(_){var S;(S=r.onDayKeyUp)===null||S===void 0||S.call(r,e,t,_)},N=function(_){var S;switch(_.key){case"ArrowLeft":_.preventDefault(),_.stopPropagation(),r.dir==="rtl"?o():u();break;case"ArrowRight":_.preventDefault(),_.stopPropagation(),r.dir==="rtl"?u():o();break;case"ArrowDown":_.preventDefault(),_.stopPropagation(),l();break;case"ArrowUp":_.preventDefault(),_.stopPropagation(),d();break;case"PageUp":_.preventDefault(),_.stopPropagation(),_.shiftKey?y():p();break;case"PageDown":_.preventDefault(),_.stopPropagation(),_.shiftKey?m():g();break;case"Home":_.preventDefault(),_.stopPropagation(),v();break;case"End":_.preventDefault(),_.stopPropagation(),b();break}(S=r.onDayKeyDown)===null||S===void 0||S.call(r,e,t,_)},w={onClick:x,onFocus:k,onBlur:T,onKeyDown:N,onKeyUp:I,onMouseEnter:O,onMouseLeave:F,onPointerEnter:A,onPointerLeave:P,onTouchCancel:D,onTouchEnd:V,onTouchMove:B,onTouchStart:C};return w}function qPe(){var e=an(),t=iJ(),r=J6(),n=t5(),s=Qw(e)?t.selected:gy(e)?r.selected:yy(e)?n.selected:void 0;return s}function HPe(e){return Object.values(Eo).includes(e)}function KPe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(HPe(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function GPe(e,t){var r=Ht({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=Ht(Ht({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function ZPe(e,t,r){var n,s,i,a=an(),o=n5(),u=BPe(e,t),l=WPe(e,u),d=qPe(),h=!!(a.onDayClick||a.mode!=="default");E.useEffect(function(){var O;u.outside||o.focusedDay&&h&&ai(o.focusedDay,e)&&((O=r.current)===null||O===void 0||O.focus())},[o.focusedDay,e,r,h,u.outside]);var f=KPe(a,u).join(" "),p=GPe(a,u),g=!!(u.outside&&!a.showOutsideDays||u.hidden),y=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:gPe,m=c.jsx(y,{date:e,displayMonth:t,activeModifiers:u}),v={style:p,className:f,children:m,role:"gridcell"},b=o.focusTarget&&ai(o.focusTarget,e)&&!u.outside,x=o.focusedDay&&ai(o.focusedDay,e),k=Ht(Ht(Ht({},v),(n={disabled:u.disabled,role:"gridcell"},n["aria-selected"]=u.selected,n.tabIndex=x||b?0:-1,n)),l),T={isButton:h,isHidden:g,activeModifiers:u,selectedDays:d,buttonProps:k,divProps:v};return T}function XPe(e){var t=E.useRef(null),r=ZPe(e.date,e.displayMonth,t);return r.isHidden?c.jsx("div",{role:"gridcell"}):r.isButton?c.jsx(Ax,Ht({name:"day",ref:t},r.buttonProps)):c.jsx("div",Ht({},r.divProps))}function YPe(e){var t=e.number,r=e.dates,n=an(),s=n.onWeekNumberClick,i=n.styles,a=n.classNames,o=n.locale,u=n.labels.labelWeekNumber,l=n.formatters.formatWeekNumber,d=l(Number(t),{locale:o});if(!s)return c.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var h=u(Number(t),{locale:o}),f=function(p){s(t,r,p)};return c.jsx(Ax,{name:"week-number","aria-label":h,className:a.weeknumber,style:i.weeknumber,onClick:f,children:d})}function QPe(e){var t,r,n=an(),s=n.styles,i=n.classNames,a=n.showWeekNumber,o=n.components,u=(t=o?.Day)!==null&&t!==void 0?t:XPe,l=(r=o?.WeekNumber)!==null&&r!==void 0?r:YPe,d;return a&&(d=c.jsx("td",{className:i.cell,style:s.cell,children:c.jsx(l,{number:e.weekNumber,dates:e.dates})})),c.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(h){return c.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:c.jsx(u,{displayMonth:e.displayMonth,date:h})},sAe(h))})]})}function AR(e,t,r){for(var n=r?.ISOWeek?BQ(t):X6(t,r),s=r?.ISOWeek?Vd(e):Ga(e,r),i=Go(n,s),a=[],o=0;o<=i;o++)a.push(bi(s,o));var u=a.reduce(function(l,d){var h=r?.ISOWeek?VQ(d):qQ(d,r),f=l.find(function(p){return p.weekNumber===h});return f?(f.dates.push(d),l):(l.push({weekNumber:h,dates:[d]}),l)},[]);return u}function JPe(e,t){var r=AR(Wi(e),Z6(e),t);if(t?.useFixedWeeks){var n=aAe(e,t);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],a=Sj(i,6-n),o=AR(Sj(i,1),a,t);r.push.apply(r,o)}}return r}function eIe(e){var t,r,n,s=an(),i=s.locale,a=s.classNames,o=s.styles,u=s.hideHead,l=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,p=s.ISOWeek,g=JPe(e.displayMonth,{useFixedWeeks:!!l,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),y=(t=d?.Head)!==null&&t!==void 0?t:mPe,m=(r=d?.Row)!==null&&r!==void 0?r:QPe,v=(n=d?.Footer)!==null&&n!==void 0?n:fPe;return c.jsxs("table",{id:e.id,className:a.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&c.jsx(y,{}),c.jsx("tbody",{className:a.tbody,style:o.tbody,children:g.map(function(b){return c.jsx(m,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),c.jsx(v,{displayMonth:e.displayMonth})]})}function tIe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var rIe=tIe()?E.useLayoutEffect:E.useEffect,eS=!1,nIe=0;function PR(){return"react-day-picker-".concat(++nIe)}function sIe(e){var t,r=e??(eS?PR():null),n=E.useState(r),s=n[0],i=n[1];return rIe(function(){s===null&&i(PR())},[]),E.useEffect(function(){eS===!1&&(eS=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function iIe(e){var t,r,n=an(),s=n.dir,i=n.classNames,a=n.styles,o=n.components,u=by().displayMonths,l=sIe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=a.month,p=e.displayIndex===0,g=e.displayIndex===u.length-1,y=!p&&!g;s==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(h.push(i.caption_start),f=Ht(Ht({},f),a.caption_start)),g&&(h.push(i.caption_end),f=Ht(Ht({},f),a.caption_end)),y&&(h.push(i.caption_between),f=Ht(Ht({},f),a.caption_between));var m=(r=o?.Caption)!==null&&r!==void 0?r:dPe;return c.jsxs("div",{className:h.join(" "),style:f,children:[c.jsx(m,{id:l,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c.jsx(eIe,{id:d,"aria-labelledby":l,displayMonth:e.displayMonth})]},e.displayIndex)}function aIe(e){var t=an(),r=t.classNames,n=t.styles;return c.jsx("div",{className:r.months,style:n.months,children:e.children})}function oIe(e){var t,r,n=e.initialProps,s=an(),i=n5(),a=by(),o=E.useState(!1),u=o[0],l=o[1];E.useEffect(function(){s.initialFocus&&i.focusTarget&&(u||(i.focus(i.focusTarget),l(!0)))},[s.initialFocus,u,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=Ht(Ht({},s.styles.root),s.style),f=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,y){var m;return Ht(Ht({},g),(m={},m[y]=n[y],m))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:aIe;return c.jsx("div",Ht({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:c.jsx(p,{children:a.displayMonths.map(function(g,y){return c.jsx(iIe,{displayIndex:y,displayMonth:g},y)})})}))}function lIe(e){var t=e.children,r=I8e(e,["children"]);return c.jsx(Y8e,{initialProps:r,children:c.jsx(oPe,{children:c.jsx(UPe,{initialProps:r,children:c.jsx(yPe,{initialProps:r,children:c.jsx(xPe,{initialProps:r,children:c.jsx(EPe,{children:c.jsx(zPe,{children:t})})})})})})})}function cIe(e){return c.jsx(lIe,Ht({},e,{children:c.jsx(oIe,{initialProps:e})}))}function i5({className:e,classNames:t,showOutsideDays:r=!0,locale:n,...s}){const i=n??Fi,a=i===Fi||s.dir==="rtl";return c.jsx("div",{dir:a?"rtl":"ltr",lang:a?"ar":"en",children:c.jsx(cIe,{showOutsideDays:r,locale:i,weekStartsOn:6,className:_e("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center mb-1",caption_label:"hidden",caption_dropdowns:"flex justify-center items-center gap-1",nav:"flex items-center gap-1",nav_button:_e(Hg({variant:"ghost"}),"h-7 w-7 bg-transparent p-0 text-teal-700 hover:bg-teal-50 opacity-100"),nav_button_previous:a?"absolute right-1":"absolute left-1",nav_button_next:a?"absolute left-1":"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:_e(Hg({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{Dropdown:({value:o,onChange:u,children:l,...d})=>{const h=E.Children.toArray(l),f=h.find(g=>g.props.value===o),p=g=>{u?.({target:{value:g}})};return c.jsxs(Rn,{value:o?.toString(),onValueChange:g=>p(g),children:[c.jsx(wn,{className:"h-7 pr-2 pl-2 border-none bg-transparent hover:bg-accent hover:text-accent-foreground focus:ring-0",children:c.jsx(On,{children:f?.props?.children})}),c.jsx(_n,{position:"popper",children:c.jsx(Po,{className:"h-80",children:h.map((g,y)=>c.jsx(vt,{value:g.props.value?.toString()??"",children:g.props.children},`${g.props.value}-${y}`))})})]})},IconLeft:({className:o,...u})=>a?c.jsx(Rd,{className:_e("h-4 w-4",o),...u}):c.jsx(Qv,{className:_e("h-4 w-4",o),...u}),IconRight:({className:o,...u})=>a?c.jsx(Qv,{className:_e("h-4 w-4",o),...u}):c.jsx(Rd,{className:_e("h-4 w-4",o),...u})},...s})})}i5.displayName="Calendar";function tl({label:e,value:t,onChange:r,placeholder:n=" ",disabled:s=!1,className:i,required:a=!1,error:o,id:u}){const[l,d]=E.useState(!1),[h,f]=E.useState(void 0),p=E.useMemo(()=>{if(t){if(t instanceof Date)return t;if(typeof t=="string"){const v=new Date(t);return isNaN(v.getTime())?void 0:v}}},[t]);E.useEffect(()=>{l&&f(p||new Date)},[l,p]);const g=()=>{r?.(h),d(!1)},y=()=>{r?.(void 0),d(!1)},m=p?ur(p,"dd MMMM yyyy",{locale:Fi}):null;return c.jsxs("div",{className:_e("flex flex-col gap-1.5",i),children:[e&&c.jsxs(Le,{htmlFor:u,className:"text-right font-medium",children:[e,a&&c.jsx("span",{className:"text-destructive mr-1",children:"*"})]}),c.jsxs(ks,{open:l,onOpenChange:d,children:[c.jsx(rp,{asChild:!0,children:c.jsxs(Se,{id:u,variant:"ghost",disabled:s,className:_e("w-full justify-start text-right font-normal h-full bg-transparent hover:bg-transparent",!p&&"text-muted-foreground",o&&"text-destructive"),children:[c.jsx(rs,{className:"ml-2 h-4 w-4 opacity-50"}),c.jsx("span",{className:"truncate",children:m||n})]})}),c.jsxs(hs,{className:"z-[9999999] w-[92%] max-w-[310px] p-0 overflow-hidden border-none gap-0 rounded-2xl shadow-2xl fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 outline-none",children:[c.jsx("button",{onClick:()=>d(!1),className:"absolute left-4 top-4 text-white/70 hover:text-white z-50",children:c.jsx(fs,{className:"h-5 w-5"})}),c.jsxs(js,{className:"bg-teal-700 p-5 pt-10 text-white text-right relative",children:[c.jsx("div",{className:"text-xs opacity-80 mb-0.5 font-normal",children:ur(h||new Date,"yyyy")}),c.jsx("div",{className:"text-2xl font-bold",children:h?ur(h,"eeee d MMMM",{locale:Fi}):"  "})]}),c.jsx("div",{className:"p-0 flex justify-center bg-white min-h-[320px]",children:c.jsx(i5,{mode:"single",selected:h,onSelect:f,initialFocus:!0,captionLayout:"dropdown-buttons",fromYear:2020,toYear:2035,className:"border-none w-full p-2 pb-0 flex flex-col items-center",classNames:{caption_dropdowns:"flex justify-start gap-1 px-1",day_selected:"bg-teal-700 text-white hover:bg-teal-800 focus:bg-teal-700 rounded-full",day_today:"text-teal-700 font-bold",table:"w-full border-collapse space-y-0 mt-1",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",cell:"h-9 w-9 text-center text-sm p-0 relative",day:"h-9 w-9 p-0 font-normal hover:bg-teal-50 rounded-full transition-colors",months:"flex flex-col items-center w-full",month:"w-full px-2"}})}),c.jsxs("div",{className:"flex items-center justify-between px-8 py-6 bg-white",children:[c.jsx(Se,{variant:"ghost",onClick:g,className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:""}),c.jsx(Se,{variant:"ghost",onClick:()=>d(!1),className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:"Cancel"}),c.jsx(Se,{variant:"ghost",onClick:y,className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:""})]})]})]}),o&&c.jsx("p",{className:"text-sm text-destructive text-right",children:o})]})}function uIe({name:e,control:t,label:r,placeholder:n=" ",disabled:s=!1,className:i,required:a=!1,rules:o}){return c.jsx(zU,{name:e,control:t,rules:o,render:({field:u,fieldState:l})=>c.jsx(tl,{label:r,value:u.value,onChange:d=>{u.onChange(d?ur(d,"yyyy-MM-dd"):"")},placeholder:n,disabled:s,className:i,required:a,error:l.error?.message,id:e})})}function dIe({searchValue:e="",onSearchChange:t,searchPlaceholder:r="...",showSearch:n=!0,actions:s=[],onReset:i,onRefresh:a,isRefreshing:o=!1,hasActiveFilters:u=!1,viewMode:l="grid",onViewModeChange:d,showViewToggle:h=!1,className:f,filters:p=[],filterValues:g={},onFilterChange:y}){const[m,v]=E.useState(!1),b=E.useCallback(()=>{t?.("")},[t]),k=p.filter(P=>{const D=g[P.key];return P.type==="date"?D instanceof Date:P.type==="date-range"?D?.from||D?.to:D&&D!=="all"&&D!==P.defaultValue}).length,T=p.length>0&&y,O=P=>{const D=g[P.key];switch(P.type){case"date":return c.jsxs("div",{onClick:C=>C.stopPropagation(),className:"relative group mb-2",children:[c.jsx(Le,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),c.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:c.jsx(tl,{value:D?new Date(D):void 0,onChange:C=>{y?.(P.key,C),C&&y?.("dateRange",void 0)},placeholder:P.placeholder,className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]});case"date-range":const V=D?.from?D.from instanceof Date?D.from:new Date(D.from):void 0,B=D?.to?D.to instanceof Date?D.to:new Date(D.to):void 0;return c.jsxs("div",{onClick:C=>C.stopPropagation(),className:"grid grid-cols-2 gap-4 pt-2 mb-2",children:[c.jsxs("div",{className:"relative group",children:[c.jsx(Le,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),c.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:c.jsx(tl,{value:V,onChange:C=>{const I=typeof D=="object"&&D!==null?{...D}:{};I.from=C,C&&y?.("specificDate",void 0),y?.(P.key,I)},placeholder:"",className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]}),c.jsxs("div",{className:"relative group",children:[c.jsx(Le,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),c.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:c.jsx(tl,{value:B,onChange:C=>{const I=typeof D=="object"&&D!==null?{...D}:{};I.to=C,y?.(P.key,I)},placeholder:"",className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]})]});default:return c.jsxs("div",{onClick:C=>C.stopPropagation(),className:"relative group mb-2",children:[c.jsx(Le,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:P.label}),c.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:c.jsxs(Rn,{value:String(D||P.defaultValue||"all"),onValueChange:C=>y?.(P.key,C),children:[c.jsx(wn,{className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm font-medium",children:c.jsx(On,{placeholder:P.placeholder||P.label})}),c.jsx(_n,{className:"rounded-2xl shadow-2xl border-slate-200 dark:border-slate-800",children:P.options?.map(C=>c.jsx(vt,{value:String(C.value),className:"rounded-xl my-1 py-3 text-right",children:C.label},C.value))})]})})]})}},F=[];h&&d&&(F.push({key:"viewList",icon:mve,tooltip:" ",onClick:()=>d("list"),variant:l==="list"?"default":"ghost"}),F.push({key:"viewGrid",icon:pve,tooltip:" ",onClick:()=>d("grid"),variant:l==="grid"?"default":"ghost"})),a&&F.push({key:"refresh",icon:ms,tooltip:"",onClick:a,loading:o}),i&&u&&F.push({key:"reset",icon:Ml,tooltip:" ",onClick:i});const A=[...F,...Array.isArray(s)?s:[]];return c.jsxs("div",{className:_e("flex items-center gap-2 p-2 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",f),dir:"rtl",children:[n&&c.jsxs("div",{className:"relative flex-1",children:[c.jsx(tt,{type:"text",placeholder:r,value:e,onChange:P=>t?.(P.target.value),className:"h-9 pe-3 ps-10 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 rounded-lg text-sm text-right",dir:"rtl"}),e?c.jsx(Se,{variant:"ghost",size:"sm",className:"absolute left-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0 hover:bg-red-100 dark:hover:bg-red-900/30 z-10",onClick:b,type:"button",children:c.jsx(fs,{className:"h-4 w-4 text-gray-400 hover:text-red-500"})}):c.jsx(So,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),T&&c.jsxs(Zw,{open:m,onOpenChange:v,children:[c.jsx(q6,{asChild:!0,children:c.jsxs(Se,{variant:"ghost",size:"icon",className:_e("h-8 w-8 rounded-lg relative",k>0?"text-primary bg-primary/10":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"),children:[c.jsx(ex,{className:"h-4 w-4"}),k>0&&c.jsx(ut,{className:"absolute -top-1 -left-1 h-4 w-4 p-0 flex items-center justify-center text-[10px] bg-primary text-white",children:k})]})}),c.jsx(hy,{side:"bottom",className:"h-[85vh] sm:h-[80vh] sm:max-w-2xl rounded-t-[2.5rem] p-0 overflow-hidden border-t-0 bg-white dark:bg-gray-950 shadow-[0_-20px_50px_-12px_rgba(0,0,0,0.1)] z-[10001]",dir:"rtl",onPointerDownOutside:P=>{const D=P.target;(D.closest(".rdp")||D.closest('[role="listbox"]')||D.closest(".relative"))&&P.preventDefault()},onInteractOutside:P=>{const D=P.target;(D.closest(".rdp")||D.closest('[role="listbox"]'))&&P.preventDefault()},children:c.jsxs("div",{className:"flex flex-col h-full relative p-6 pb-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(OQ,{asChild:!0,children:c.jsx(Se,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:c.jsx(fs,{className:"h-5 w-5"})})}),c.jsx(py,{className:"text-xl font-bold tracking-tight",children:" "})]}),c.jsx("div",{className:"h-1.5 w-12 bg-slate-200 dark:bg-slate-800 rounded-full"})]}),c.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto custom-scrollbar px-1 pb-32 pt-2",children:[c.jsx("div",{className:"space-y-10 max-w-xl mx-auto",children:p.map(P=>c.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:O(P)},P.key))}),p.length===0&&c.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[c.jsx(ex,{className:"w-12 h-12 mb-4 opacity-20"}),c.jsx("p",{children:"    "})]})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent dark:from-gray-950 dark:via-gray-950/95 z-50",children:c.jsx("div",{className:"max-w-xl mx-auto",children:c.jsx(Se,{className:"w-full h-14 text-lg font-bold rounded-2xl shadow-2xl shadow-primary/30 bg-primary hover:bg-primary/90 text-primary-foreground transition-all active:scale-[0.98] border-none",onClick:()=>v(!1),children:""})})})]})})]}),A.length>0&&c.jsx(C1,{delayDuration:300,children:c.jsx("div",{className:"flex items-center gap-1 ps-2 border-r border-gray-200 dark:border-gray-700 pe-2",children:A.map(P=>{const D=P.icon;return c.jsxs(F3,{children:[c.jsx(z3,{asChild:!0,children:c.jsx(Se,{variant:P.variant||"ghost",size:"icon",className:_e("h-8 w-8 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-all duration-200",P.loading&&"bg-primary/10 text-primary",P.variant==="default"&&"bg-primary/10 text-primary"),onClick:P.onClick,disabled:P.disabled||P.loading,children:c.jsx(D,{className:_e("h-4 w-4 transition-transform duration-200",P.loading&&"animate-spin")})})}),P.tooltip&&c.jsx(A1,{side:"bottom",className:"text-xs",children:c.jsx("p",{children:P.loading?" ...":P.tooltip})})]},P.key)})})})]})}function fIe({filters:e,filterValues:t,onFilterChange:r,onReset:n,showAllFiltersButton:s=!0,className:i}){const[a,o]=E.useState(!1),l=e.filter(f=>{const p=t[f.key];return f.type==="date"?p instanceof Date:f.type==="date-range"?p?.from||p?.to:p&&p!=="all"&&p!==f.defaultValue}),d=f=>{const p=t[f.key];if(f.type==="date"&&p instanceof Date)return ur(p,"dd MMMM yyyy",{locale:Fi});if(f.type==="date-range"){if(p?.from&&p?.to)return`${ur(p.from,"dd MMM",{locale:Fi})} - ${ur(p.to,"dd MMM",{locale:Fi})}`;if(p?.from)return` ${ur(p.from,"dd MMM",{locale:Fi})}`}return f.options?.find(y=>y.value===p)?.label||p},h=f=>{f.type==="date"||f.type==="date-range"?r(f.key,void 0):r(f.key,f.defaultValue||"all")};return c.jsx("div",{className:_e("space-y-1",i),children:l.length>0&&c.jsx("div",{className:"flex flex-wrap items-center gap-2 justify-center",children:l.map(f=>c.jsxs(ut,{variant:"secondary",className:"gap-1.5 px-3 py-1.5 text-sm bg-blue-500 hover:bg-blue-600 text-white border-0 rounded-full cursor-default transition-colors",children:[c.jsx("span",{className:"font-medium",children:d(f)}),c.jsx("button",{onClick:p=>{p.stopPropagation(),h(f)},className:"hover:bg-white/20 rounded-full p-0.5 transition-colors mr-0.5",children:c.jsx(fs,{className:"h-3.5 w-3.5"})})]},f.key))})})}function hIe({config:e,className:t}){const{totalCount:r,filteredCount:n,totalLabel:s="",filteredLabel:i="",totalValue:a,totalValueLabel:o="",unit:u=".",categoryBreakdown:l,showBreakdown:d=!1}=e,h=f=>f==null?"0":typeof f=="number"?isNaN(f)||!isFinite(f)?"0":f.toLocaleString("en-US"):String(f);return c.jsxs("div",{className:_e("border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",t),children:[c.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-2.5 bg-gradient-to-l from-blue-50/80 to-slate-50/80 dark:from-blue-900/30 dark:to-slate-900/30",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[s,":"]}),c.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:n}),c.jsx("span",{className:"text-xs text-gray-500",children:i}),c.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 arabic-numbers",children:r})]}),a!==void 0&&!d&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[o,":"]}),c.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:h(a)}),u&&c.jsx("span",{className:"text-xs text-gray-500",children:u})]})]}),d&&l&&l.length>0&&c.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:[l.map((f,p)=>c.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[c.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.label,":"]}),c.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 arabic-numbers",children:[h(f.value)," ",f.unit||u]})]},p)),a!==void 0&&c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-blue-50/50 dark:bg-blue-900/20 border-t-2 border-blue-200 dark:border-blue-800",children:[c.jsxs("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-400",children:[o,":"]}),c.jsxs("span",{className:"text-base font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:[h(a)," ",u]})]})]})]})}function Qa({statsRows:e,searchValue:t,onSearchChange:r,searchPlaceholder:n,showSearch:s=!0,filters:i=[],filterValues:a={},onFilterChange:o,onReset:u,onRefresh:l,isRefreshing:d,actions:h,resultsSummary:f,showAllFiltersButton:p=!0,onShowAllFilters:g,className:y,compact:m=!1,viewMode:v,onViewModeChange:b,title:x,subtitle:k,hideHeader:T=!1}){const O=i.some(F=>{const A=a[F.key];return F.type==="date"?A instanceof Date:F.type==="date-range"?A?.from||A?.to:A&&A!=="all"&&A!==F.defaultValue})||!!(t&&t.length>0);return c.jsxs("div",{className:_e("space-y-2",y),children:[!T&&(x||k)&&c.jsxs("div",{className:"mb-4",children:[x&&c.jsx("h2",{className:"text-2xl font-bold",children:x}),k&&c.jsx("p",{className:"text-muted-foreground",children:k})]}),e&&e.length>0&&c.jsx(Q5e,{rows:e}),c.jsx(dIe,{searchValue:t,onSearchChange:r,searchPlaceholder:n,showSearch:s,actions:h,onReset:u,onRefresh:l,isRefreshing:d,hasActiveFilters:O,viewMode:v,onViewModeChange:b,showViewToggle:!!b,filters:i,filterValues:a,onFilterChange:o}),i.length>0&&o&&c.jsx(fIe,{filters:i,filterValues:a,onFilterChange:o,onReset:u,showAllFiltersButton:!1}),f&&c.jsx(hIe,{config:f})]})}function Kr({className:e,...t}){return c.jsx("div",{className:_e("animate-pulse rounded-md bg-muted",e),...t})}var tS="rovingFocusGroup.onEntryFocus",pIe={bubbles:!1,cancelable:!0},vy="RovingFocusGroup",[Nj,aJ,mIe]=y1(vy),[gIe,Op]=Ws(vy,[mIe]),[yIe,bIe]=gIe(vy),oJ=E.forwardRef((e,t)=>c.jsx(Nj.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Nj.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(vIe,{...e,ref:t})})}));oJ.displayName=vy;var vIe=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:u,onEntryFocus:l,preventScrollOnEntryFocus:d=!1,...h}=e,f=E.useRef(null),p=tr(t,f),g=Ip(i),[y,m]=qa({prop:a,defaultProp:o??null,onChange:u,caller:vy}),[v,b]=E.useState(!1),x=ni(l),k=aJ(r),T=E.useRef(!1),[O,F]=E.useState(0);return E.useEffect(()=>{const A=f.current;if(A)return A.addEventListener(tS,x),()=>A.removeEventListener(tS,x)},[x]),c.jsx(yIe,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:y,onItemFocus:E.useCallback(A=>m(A),[m]),onItemShiftTab:E.useCallback(()=>b(!0),[]),onFocusableItemAdd:E.useCallback(()=>F(A=>A+1),[]),onFocusableItemRemove:E.useCallback(()=>F(A=>A-1),[]),children:c.jsx(wt.div,{tabIndex:v||O===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:et(e.onMouseDown,()=>{T.current=!0}),onFocus:et(e.onFocus,A=>{const P=!T.current;if(A.target===A.currentTarget&&P&&!v){const D=new CustomEvent(tS,pIe);if(A.currentTarget.dispatchEvent(D),!D.defaultPrevented){const V=k().filter(w=>w.focusable),B=V.find(w=>w.active),C=V.find(w=>w.id===y),N=[B,C,...V].filter(Boolean).map(w=>w.ref.current);uJ(N,d)}}T.current=!1}),onBlur:et(e.onBlur,()=>b(!1))})})}),lJ="RovingFocusGroupItem",cJ=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...o}=e,u=aa(),l=i||u,d=bIe(lJ,r),h=d.currentTabStopId===l,f=aJ(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:y}=d;return E.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),c.jsx(Nj.ItemSlot,{scope:r,id:l,focusable:n,active:s,children:c.jsx(wt.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:et(e.onMouseDown,m=>{n?d.onItemFocus(l):m.preventDefault()}),onFocus:et(e.onFocus,()=>d.onItemFocus(l)),onKeyDown:et(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const v=_Ie(m,d.orientation,d.dir);if(v!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let x=f().filter(k=>k.focusable).map(k=>k.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const k=x.indexOf(m.currentTarget);x=d.loop?SIe(x,k+1):x.slice(k+1)}setTimeout(()=>uJ(x))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:y!=null}):a})})});cJ.displayName=lJ;var xIe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wIe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _Ie(e,t,r){const n=wIe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return xIe[n]}function uJ(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function SIe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var a5=oJ,o5=cJ;function kIe(e){const t=jIe(e),r=E.forwardRef((n,s)=>{const{children:i,...a}=n,o=E.Children.toArray(i),u=o.find(TIe);if(u){const l=u.props.children,d=o.map(h=>h===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:h);return c.jsx(t,{...a,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return c.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function jIe(e){const t=E.forwardRef((r,n)=>{const{children:s,...i}=r;if(E.isValidElement(s)){const a=CIe(s),o=EIe(i,s.props);return s.type!==E.Fragment&&(o.ref=n?ol(n,a):a),E.cloneElement(s,o)}return E.Children.count(s)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NIe=Symbol("radix.slottable");function TIe(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NIe}function EIe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function CIe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Tj=["Enter"," "],AIe=["ArrowDown","PageUp","Home"],dJ=["ArrowUp","PageDown","End"],PIe=[...AIe,...dJ],IIe={ltr:[...Tj,"ArrowRight"],rtl:[...Tj,"ArrowLeft"]},RIe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xy="Menu",[Zg,OIe,MIe]=y1(xy),[of,fJ]=Ws(xy,[MIe,Eu,Op]),Jw=Eu(),hJ=Op(),[DIe,lf]=of(xy),[$Ie,wy]=of(xy),pJ=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:a=!0}=e,o=Jw(t),[u,l]=E.useState(null),d=E.useRef(!1),h=ni(i),f=Ip(s);return E.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),c.jsx(S1,{...o,children:c.jsx(DIe,{scope:t,open:r,onOpenChange:h,content:u,onContentChange:l,children:c.jsx($Ie,{scope:t,onClose:E.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:a,children:n})})})};pJ.displayName=xy;var LIe="MenuAnchor",l5=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Jw(r);return c.jsx(C0,{...s,...n,ref:t})});l5.displayName=LIe;var c5="MenuPortal",[FIe,mJ]=of(c5,{forceMount:void 0}),gJ=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=lf(c5,t);return c.jsx(FIe,{scope:t,forceMount:r,children:c.jsx(ss,{present:r||i.open,children:c.jsx(yp,{asChild:!0,container:s,children:n})})})};gJ.displayName=c5;var Ba="MenuContent",[zIe,u5]=of(Ba),yJ=E.forwardRef((e,t)=>{const r=mJ(Ba,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=lf(Ba,e.__scopeMenu),a=wy(Ba,e.__scopeMenu);return c.jsx(Zg.Provider,{scope:e.__scopeMenu,children:c.jsx(ss,{present:n||i.open,children:c.jsx(Zg.Slot,{scope:e.__scopeMenu,children:a.modal?c.jsx(BIe,{...s,ref:t}):c.jsx(UIe,{...s,ref:t})})})})}),BIe=E.forwardRef((e,t)=>{const r=lf(Ba,e.__scopeMenu),n=E.useRef(null),s=tr(t,n);return E.useEffect(()=>{const i=n.current;if(i)return Dw(i)},[]),c.jsx(d5,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:et(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),UIe=E.forwardRef((e,t)=>{const r=lf(Ba,e.__scopeMenu);return c.jsx(d5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),VIe=kIe("MenuContent.ScrollLock"),d5=E.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:u,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...y}=e,m=lf(Ba,r),v=wy(Ba,r),b=Jw(r),x=hJ(r),k=OIe(r),[T,O]=E.useState(null),F=E.useRef(null),A=tr(t,F,m.onContentChange),P=E.useRef(0),D=E.useRef(""),V=E.useRef(0),B=E.useRef(null),C=E.useRef("right"),I=E.useRef(0),N=g?oy:E.Fragment,w=g?{as:VIe,allowPinchZoom:!0}:void 0,_=j=>{const R=D.current+j,$=k().filter(K=>!K.disabled),U=document.activeElement,q=$.find(K=>K.ref.current===U)?.textValue,H=$.map(K=>K.textValue),Y=tRe(H,R,q),M=$.find(K=>K.textValue===Y)?.ref.current;(function K(z){D.current=z,window.clearTimeout(P.current),z!==""&&(P.current=window.setTimeout(()=>K(""),1e3))})(R),M&&setTimeout(()=>M.focus())};E.useEffect(()=>()=>window.clearTimeout(P.current),[]),Ow();const S=E.useCallback(j=>C.current===B.current?.side&&nRe(j,B.current?.area),[]);return c.jsx(zIe,{scope:r,searchRef:D,onItemEnter:E.useCallback(j=>{S(j)&&j.preventDefault()},[S]),onItemLeave:E.useCallback(j=>{S(j)||(F.current?.focus(),O(null))},[S]),onTriggerLeave:E.useCallback(j=>{S(j)&&j.preventDefault()},[S]),pointerGraceTimerRef:V,onPointerGraceIntentChange:E.useCallback(j=>{B.current=j},[]),children:c.jsx(N,{...w,children:c.jsx(ay,{asChild:!0,trapped:s,onMountAutoFocus:et(i,j=>{j.preventDefault(),F.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:c.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:c.jsx(a5,{asChild:!0,...x,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:O,onEntryFocus:et(u,j=>{v.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(k1,{role:"menu","aria-orientation":"vertical","data-state":RJ(m.open),"data-radix-menu-content":"",dir:v.dir,...b,...y,ref:A,style:{outline:"none",...y.style},onKeyDown:et(y.onKeyDown,j=>{const $=j.target.closest("[data-radix-menu-content]")===j.currentTarget,U=j.ctrlKey||j.altKey||j.metaKey,q=j.key.length===1;$&&(j.key==="Tab"&&j.preventDefault(),!U&&q&&_(j.key));const H=F.current;if(j.target!==H||!PIe.includes(j.key))return;j.preventDefault();const M=k().filter(K=>!K.disabled).map(K=>K.ref.current);dJ.includes(j.key)&&M.reverse(),JIe(M)}),onBlur:et(e.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(P.current),D.current="")}),onPointerMove:et(e.onPointerMove,Xg(j=>{const R=j.target,$=I.current!==j.clientX;if(j.currentTarget.contains(R)&&$){const U=j.clientX>I.current?"right":"left";C.current=U,I.current=j.clientX}}))})})})})})})});yJ.displayName=Ba;var WIe="MenuGroup",f5=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c.jsx(wt.div,{role:"group",...n,ref:t})});f5.displayName=WIe;var qIe="MenuLabel",bJ=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c.jsx(wt.div,{...n,ref:t})});bJ.displayName=qIe;var Px="MenuItem",IR="menu.itemSelect",e_=E.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=E.useRef(null),a=wy(Px,e.__scopeMenu),o=u5(Px,e.__scopeMenu),u=tr(t,i),l=E.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const f=new CustomEvent(IR,{bubbles:!0,cancelable:!0});h.addEventListener(IR,p=>n?.(p),{once:!0}),gB(h,f),f.defaultPrevented?l.current=!1:a.onClose()}};return c.jsx(vJ,{...s,ref:u,disabled:r,onClick:et(e.onClick,d),onPointerDown:h=>{e.onPointerDown?.(h),l.current=!0},onPointerUp:et(e.onPointerUp,h=>{l.current||h.currentTarget?.click()}),onKeyDown:et(e.onKeyDown,h=>{const f=o.searchRef.current!=="";r||f&&h.key===" "||Tj.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});e_.displayName=Px;var vJ=E.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,a=u5(Px,r),o=hJ(r),u=E.useRef(null),l=tr(t,u),[d,h]=E.useState(!1),[f,p]=E.useState("");return E.useEffect(()=>{const g=u.current;g&&p((g.textContent??"").trim())},[i.children]),c.jsx(Zg.ItemSlot,{scope:r,disabled:n,textValue:s??f,children:c.jsx(o5,{asChild:!0,...o,focusable:!n,children:c.jsx(wt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:l,onPointerMove:et(e.onPointerMove,Xg(g=>{n?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(e.onPointerLeave,Xg(g=>a.onItemLeave(g))),onFocus:et(e.onFocus,()=>h(!0)),onBlur:et(e.onBlur,()=>h(!1))})})})}),HIe="MenuCheckboxItem",xJ=E.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return c.jsx(jJ,{scope:e.__scopeMenu,checked:r,children:c.jsx(e_,{role:"menuitemcheckbox","aria-checked":Ix(r)?"mixed":r,...s,ref:t,"data-state":p5(r),onSelect:et(s.onSelect,()=>n?.(Ix(r)?!0:!r),{checkForDefaultPrevented:!1})})})});xJ.displayName=HIe;var wJ="MenuRadioGroup",[KIe,GIe]=of(wJ,{value:void 0,onValueChange:()=>{}}),_J=E.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=ni(n);return c.jsx(KIe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:c.jsx(f5,{...s,ref:t})})});_J.displayName=wJ;var SJ="MenuRadioItem",kJ=E.forwardRef((e,t)=>{const{value:r,...n}=e,s=GIe(SJ,e.__scopeMenu),i=r===s.value;return c.jsx(jJ,{scope:e.__scopeMenu,checked:i,children:c.jsx(e_,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":p5(i),onSelect:et(n.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});kJ.displayName=SJ;var h5="MenuItemIndicator",[jJ,ZIe]=of(h5,{checked:!1}),NJ=E.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=ZIe(h5,r);return c.jsx(ss,{present:n||Ix(i.checked)||i.checked===!0,children:c.jsx(wt.span,{...s,ref:t,"data-state":p5(i.checked)})})});NJ.displayName=h5;var XIe="MenuSeparator",TJ=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c.jsx(wt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});TJ.displayName=XIe;var YIe="MenuArrow",EJ=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Jw(r);return c.jsx(j1,{...s,...n,ref:t})});EJ.displayName=YIe;var QIe="MenuSub",[MVe,CJ]=of(QIe),Pm="MenuSubTrigger",AJ=E.forwardRef((e,t)=>{const r=lf(Pm,e.__scopeMenu),n=wy(Pm,e.__scopeMenu),s=CJ(Pm,e.__scopeMenu),i=u5(Pm,e.__scopeMenu),a=E.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:u}=i,l={__scopeMenu:e.__scopeMenu},d=E.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return E.useEffect(()=>d,[d]),E.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),u(null)}},[o,u]),c.jsx(l5,{asChild:!0,...l,children:c.jsx(vJ,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":RJ(r.open),...e,ref:ol(t,s.onTriggerChange),onClick:h=>{e.onClick?.(h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:et(e.onPointerMove,Xg(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:et(e.onPointerLeave,Xg(h=>{d();const f=r.content?.getBoundingClientRect();if(f){const p=r.content?.dataset.side,g=p==="right",y=g?-5:5,m=f[g?"left":"right"],v=f[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:m,y:f.top},{x:v,y:f.top},{x:v,y:f.bottom},{x:m,y:f.bottom}],side:p}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(e.onKeyDown,h=>{const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||IIe[n.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});AJ.displayName=Pm;var PJ="MenuSubContent",IJ=E.forwardRef((e,t)=>{const r=mJ(Ba,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=lf(Ba,e.__scopeMenu),a=wy(Ba,e.__scopeMenu),o=CJ(PJ,e.__scopeMenu),u=E.useRef(null),l=tr(t,u);return c.jsx(Zg.Provider,{scope:e.__scopeMenu,children:c.jsx(ss,{present:n||i.open,children:c.jsx(Zg.Slot,{scope:e.__scopeMenu,children:c.jsx(d5,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:l,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{a.isUsingKeyboardRef.current&&u.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:et(e.onFocusOutside,d=>{d.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:et(e.onKeyDown,d=>{const h=d.currentTarget.contains(d.target),f=RIe[a.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),o.trigger?.focus(),d.preventDefault())})})})})})});IJ.displayName=PJ;function RJ(e){return e?"open":"closed"}function Ix(e){return e==="indeterminate"}function p5(e){return Ix(e)?"indeterminate":e?"checked":"unchecked"}function JIe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function eRe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function tRe(e,t,r){const s=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=eRe(e,Math.max(i,0));s.length===1&&(a=a.filter(l=>l!==r));const u=a.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function rRe(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i],u=t[a],l=o.x,d=o.y,h=u.x,f=u.y;d>n!=f>n&&r<(h-l)*(n-d)/(f-d)+l&&(s=!s)}return s}function nRe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return rRe(r,t)}function Xg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var sRe=pJ,iRe=l5,aRe=gJ,oRe=yJ,lRe=f5,cRe=bJ,uRe=e_,dRe=xJ,fRe=_J,hRe=kJ,pRe=NJ,mRe=TJ,gRe=EJ,yRe=AJ,bRe=IJ,t_="DropdownMenu",[vRe]=Ws(t_,[fJ]),Ti=fJ(),[xRe,OJ]=vRe(t_),MJ=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,u=Ti(t),l=E.useRef(null),[d,h]=qa({prop:s,defaultProp:i??!1,onChange:a,caller:t_});return c.jsx(xRe,{scope:t,triggerId:aa(),triggerRef:l,contentId:aa(),open:d,onOpenChange:h,onOpenToggle:E.useCallback(()=>h(f=>!f),[h]),modal:o,children:c.jsx(sRe,{...u,open:d,onOpenChange:h,dir:n,modal:o,children:r})})};MJ.displayName=t_;var DJ="DropdownMenuTrigger",$J=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=OJ(DJ,r),a=Ti(r);return c.jsx(iRe,{asChild:!0,...a,children:c.jsx(wt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:ol(t,i.triggerRef),onPointerDown:et(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:et(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});$J.displayName=DJ;var wRe="DropdownMenuPortal",LJ=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ti(t);return c.jsx(aRe,{...n,...r})};LJ.displayName=wRe;var FJ="DropdownMenuContent",zJ=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=OJ(FJ,r),i=Ti(r),a=E.useRef(!1);return c.jsx(oRe,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:et(e.onCloseAutoFocus,o=>{a.current||s.triggerRef.current?.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:et(e.onInteractOutside,o=>{const u=o.detail.originalEvent,l=u.button===0&&u.ctrlKey===!0,d=u.button===2||l;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zJ.displayName=FJ;var _Re="DropdownMenuGroup",SRe=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ti(r);return c.jsx(lRe,{...s,...n,ref:t})});SRe.displayName=_Re;var kRe="DropdownMenuLabel",BJ=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ti(r);return c.jsx(cRe,{...s,...n,ref:t})});BJ.displayName=kRe;var jRe="DropdownMenuItem",UJ=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ti(r);return c.jsx(uRe,{...s,...n,ref:t})});UJ.displayName=jRe;var NRe="DropdownMenuCheckboxItem",VJ=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ti(r);return c.jsx(dRe,{...s,...n,ref:t})});VJ.displayName=NRe;var TRe="DropdownMenuRadioGroup",ERe=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ti(r);return c.jsx(fRe,{...s,...n,ref:t})});ERe.displayName=TRe;var CRe="DropdownMenuRadioItem",WJ=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ti(r);return c.jsx(hRe,{...s,...n,ref:t})});WJ.displayName=CRe;var ARe="DropdownMenuItemIndicator",qJ=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ti(r);return c.jsx(pRe,{...s,...n,ref:t})});qJ.displayName=ARe;var PRe="DropdownMenuSeparator",HJ=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ti(r);return c.jsx(mRe,{...s,...n,ref:t})});HJ.displayName=PRe;var IRe="DropdownMenuArrow",RRe=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ti(r);return c.jsx(gRe,{...s,...n,ref:t})});RRe.displayName=IRe;var ORe="DropdownMenuSubTrigger",KJ=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ti(r);return c.jsx(yRe,{...s,...n,ref:t})});KJ.displayName=ORe;var MRe="DropdownMenuSubContent",GJ=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ti(r);return c.jsx(bRe,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GJ.displayName=MRe;var DRe=MJ,$Re=$J,LRe=LJ,ZJ=zJ,XJ=BJ,YJ=UJ,QJ=VJ,JJ=WJ,eee=qJ,tee=HJ,ree=KJ,nee=GJ;const see=e=>c.jsx(DRe,{modal:!1,...e}),iee=$Re,FRe=E.forwardRef(({className:e,inset:t,children:r,...n},s)=>c.jsxs(ree,{ref:s,className:_e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,c.jsx(Rd,{className:"ml-auto"})]}));FRe.displayName=ree.displayName;const zRe=E.forwardRef(({className:e,...t},r)=>c.jsx(nee,{ref:r,className:_e("z-[99999] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),style:{pointerEvents:"auto"},...t}));zRe.displayName=nee.displayName;const m5=E.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c.jsx(LRe,{children:c.jsx(ZJ,{ref:n,sideOffset:t,className:_e("z-[99999] max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]","bg-popover opacity-100",e),style:{pointerEvents:"auto"},...r})}));m5.displayName=ZJ.displayName;const Rx=E.forwardRef(({className:e,inset:t,...r},n)=>c.jsx(YJ,{ref:n,className:_e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Rx.displayName=YJ.displayName;const BRe=E.forwardRef(({className:e,children:t,checked:r,...n},s)=>c.jsxs(QJ,{ref:s,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(eee,{children:c.jsx(yo,{className:"h-4 w-4"})})}),t]}));BRe.displayName=QJ.displayName;const URe=E.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(JJ,{ref:n,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(eee,{children:c.jsx(WB,{className:"h-2 w-2 fill-current"})})}),t]}));URe.displayName=JJ.displayName;const aee=E.forwardRef(({className:e,inset:t,...r},n)=>c.jsx(XJ,{ref:n,className:_e("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));aee.displayName=XJ.displayName;const oee=E.forwardRef(({className:e,...t},r)=>c.jsx(tee,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));oee.displayName=tee.displayName;const VRe={default:"text-foreground",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",muted:"text-muted-foreground"},WRe={default:"text-primary",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",muted:"text-gray-400 dark:text-gray-500"},qRe={default:"bg-primary/10 text-primary border-primary/20",secondary:"bg-secondary text-secondary-foreground",destructive:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",outline:"border-border",success:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",warning:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400"},RR={default:"text-gray-600 hover:text-gray-800 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-800",blue:"text-blue-600 hover:text-blue-800 hover:bg-blue-100 dark:text-blue-400 dark:hover:text-blue-200 dark:hover:bg-blue-900/30",green:"text-green-600 hover:text-green-800 hover:bg-green-100 dark:text-green-400 dark:hover:text-green-200 dark:hover:bg-green-900/30",yellow:"text-yellow-600 hover:text-yellow-800 hover:bg-yellow-100 dark:text-yellow-400 dark:hover:text-yellow-200 dark:hover:bg-yellow-900/30",red:"text-red-600 hover:text-red-800 hover:bg-red-100 dark:text-red-400 dark:hover:text-red-200 dark:hover:bg-red-900/30",orange:"text-orange-600 hover:text-orange-800 hover:bg-orange-100 dark:text-orange-400 dark:hover:text-orange-200 dark:hover:bg-orange-900/30"};function HRe(e){const r=String(e||"").length;return r<=4?"text-sm font-bold":r<=7?"text-xs font-bold":r<=12?"text-[11px] font-semibold":r<=18?"text-[10px] font-semibold":r<=25?"text-[9px] font-medium":"text-[8px] font-medium"}function KRe({compact:e}){return c.jsxs("div",{className:_e("relative rounded-xl border bg-card shadow-sm overflow-hidden",e?"p-3":"p-4"),children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(Kr,{className:"h-5 w-32 mb-2"}),c.jsx(Kr,{className:"h-3 w-24"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx(Kr,{className:"h-7 w-7 rounded"}),c.jsx(Kr,{className:"h-7 w-7 rounded"})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[1,2,3,4].map(t=>c.jsxs("div",{className:"space-y-1",children:[c.jsx(Kr,{className:"h-3 w-16"}),c.jsx(Kr,{className:"h-4 w-24"})]},t))})]})}function Gr({title:e,subtitle:t,titleIcon:r,badges:n=[],fields:s,actions:i=[],footer:a,className:o,onClick:u,isLoading:l,compact:d=!1,headerColor:h}){if(l)return c.jsx(KRe,{compact:d});const f=(s||[]).filter(g=>!g.hidden),p=(i||[]).filter(g=>!g.hidden);return c.jsxs("div",{className:_e("group relative rounded-2xl border-2 bg-card text-card-foreground shadow-sm overflow-hidden transition-all duration-300","hover:shadow-xl hover:border-primary/30 hover:-translate-y-1",u&&"cursor-pointer",d?"p-4":"p-6",o),onClick:u,children:[h&&c.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 shadow-sm",style:{backgroundColor:h}}),c.jsx("div",{className:"flex items-start gap-3",children:c.jsx("div",{className:"flex-1 min-w-0",children:c.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[r&&c.jsx("div",{className:"shrink-0 w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:c.jsx(r,{className:"h-4 w-4 text-primary"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h3",{className:_e("font-extrabold text-foreground truncate",d?"text-lg":"text-xl"),children:e}),t&&c.jsx("p",{className:"text-sm text-muted-foreground truncate mt-0.5",children:t})]}),n.length>0&&c.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:n.map((g,y)=>c.jsx(ut,{variant:"outline",className:_e("text-[10px] px-1.5 py-0 h-5 font-medium",qRe[g.variant||"default"],g.className),children:g.label},y))})]})})}),c.jsxs("div",{className:_e("flex items-start",d?"mt-2":"mt-3"),children:[c.jsx("div",{className:_e("grid gap-x-2 grid-cols-2 flex-1",d?"gap-y-1":"gap-y-1.5"),children:f.map((g,y)=>{const m=g.icon;return c.jsxs("div",{className:_e("flex items-center gap-1 min-w-0",d?"py-0":"py-0.5"),children:[m&&c.jsx(m,{className:_e("h-3 w-3 shrink-0",g.iconClassName||WRe[g.color||"default"])}),c.jsxs("div",{className:"min-w-0 flex-1 flex items-baseline gap-1 flex-wrap",children:[c.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap font-medium",children:[g.label,":"]}),c.jsx("span",{className:_e("arabic-numbers break-words leading-tight",g.emphasis?"text-sm font-bold":HRe(g.value),VRe[g.color||"default"]),children:g.value||"-"})]})]},y)})}),p.length>0&&c.jsx("div",{className:"shrink-0 flex flex-col gap-0.5 mr-[-8px] mt-[-4px]",children:p.map((g,y)=>{const m=g.icon;return g.dropdown&&g.dropdown.length>0?c.jsxs(see,{children:[c.jsx(iee,{asChild:!0,children:c.jsx(Se,{size:"icon",variant:"ghost",className:_e("h-6 w-6 rounded-md",RR[g.color||"default"]),onClick:v=>v.stopPropagation(),disabled:g.disabled,title:g.label,children:c.jsx(m,{className:"h-3.5 w-3.5"})})}),c.jsx(m5,{align:"end",className:"w-48",children:g.dropdown.map((v,b)=>c.jsx(Rx,{onClick:x=>{x.stopPropagation(),v.onClick()},className:"text-right flex items-center justify-end gap-2",children:c.jsx("span",{children:v.label})},b))})]},y):c.jsx(Se,{size:"icon",variant:"ghost",className:_e("h-6 w-6 rounded-md",RR[g.color||"default"]),onClick:v=>{v.stopPropagation(),g.onClick()},disabled:g.disabled,title:g.label,children:c.jsx(m,{className:"h-3.5 w-3.5"})},y)})})]}),a&&c.jsx("div",{className:_e("border-t mt-3 pt-2",d&&"mt-2 pt-1.5"),children:a})]})}function Ns({children:e,columns:t=2,className:r}){const n={1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};return c.jsx("div",{className:_e("grid gap-3",n[t],r),children:e})}function GRe(){gs();const{selectedProjectId:e,isAllProjects:t,projects:r}=Ao(),[n,s]=E.useState(""),[i,a]=E.useState({dateRange:void 0,type:"all"}),[o,u]=E.useState(!1),[l,d]=E.useState(),h=new URLSearchParams(window.location.search),f=h.get("edit"),p=h.get("worker"),g=h.get("date"),[y,m]=E.useState(g||null),[v,b]=E.useState({}),[x,k]=E.useState(!1),[T,O]=E.useState(!1),[F,A]=E.useState(!0),[P,D]=E.useState({startTime:"07:00",endTime:"15:00",workDays:0,paymentType:"partial",paidAmount:"",workDescription:""}),{toast:V}=Br(),B=ns(),{setFloatingAction:C}=Io();E.useCallback((G,te)=>{a(X=>({...X,[G]:te}))},[]);const I=E.useCallback(()=>{s(""),a({dateRange:void 0,type:"all"}),F&&m(Ls()),V({title:"  ",description:"      "})},[V,F]),N=E.useCallback(async()=>{u(!0);try{await B.invalidateQueries({queryKey:he.workerAttendanceAll(e)}),V({title:" ",description:"   "})}catch{V({title:"",description:"  ",variant:"destructive"})}finally{u(!1)}},[B,e,V]);E.useEffect(()=>{!y&&F&&m(Ls())},[]),E.useEffect(()=>(C(null),()=>C(null)),[C]);const w=async(G,te)=>{if(!(!te||typeof te!="string"||!te.trim()))try{await Ie("/api/autocomplete","POST",{category:G,value:te.trim()})}catch(X){console.log(`Failed to save autocomplete value for ${G}:`,X)}},{data:_=[]}=nt({queryKey:he.workerAttendance(e,y),queryFn:async()=>{try{if(t){const X=[];for(const ae of r){const re=y?`/api/projects/${ae.id}/worker-attendance?date=${y}`:`/api/projects/${ae.id}/worker-attendance`;try{const ee=await Ie(re,"GET"),Z=ee?.data||ee||[];Array.isArray(Z)&&X.push(...Z.map(Q=>({...Q,projectId:ae.id,projectName:ae.name})))}catch(ee){console.error(`Error fetching attendance for project ${ae.id}:`,ee)}}return X}const G=y?`/api/projects/${e}/worker-attendance?date=${y}`:`/api/projects/${e}/worker-attendance`,te=await Ie(G,"GET");return te&&te.data&&Array.isArray(te.data)?te.data:Array.isArray(te)?te:[]}catch(G){return console.error("Error fetching attendance records:",G),[]}},enabled:!!e&&(t?r.length>0:!0),refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),{data:S=[]}=nt({queryKey:he.workerAttendanceAll(e),queryFn:async()=>{try{const G=await Ie(`/api/projects/${e}/worker-attendance`,"GET");return G&&G.data&&Array.isArray(G.data)?G.data:Array.isArray(G)?G:[]}catch(G){return console.error("Error fetching all attendance records:",G),[]}},enabled:!!e,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),{data:j}=nt({queryKey:he.workerAttendanceEdit(f),queryFn:async()=>{try{const G=await Ie(`/api/worker-attendance/${f}`,"GET");return G&&G.data?G.data:G||null}catch(G){return console.error("Error fetching attendance record for editing:",G),null}},enabled:!!f});E.useEffect(()=>{b({}),d(void 0)},[y,e]),E.useEffect(()=>{if(j&&p){const G={...v};G[p]={isPresent:!0,startTime:j.startTime,endTime:j.endTime,workDescription:j.workDescription||"",workDays:parseFloat(j.workDays?.toString()||"0"),paidAmount:j.paidAmount?.toString()||"",paymentType:j.paymentType||"partial"},b(G)}},[j,p]);const R=ht({mutationFn:G=>Ie(`/api/worker-attendance/${G}`,"DELETE"),onMutate:async G=>{const te=e,X=y,ae=he.workerAttendanceAll(te),re=he.workerAttendance(te,X);await B.cancelQueries({queryKey:ae}),await B.cancelQueries({queryKey:re});const ee=B.getQueryData(ae),Z=B.getQueryData(re);return Array.isArray(ee)&&B.setQueryData(ae,ee.filter(Q=>Q.id!==G)),Array.isArray(Z)&&B.setQueryData(re,Z.filter(Q=>Q.id!==G)),{previousAllData:ee,previousDateData:Z,allKey:ae,dateKey:re}},onSuccess:()=>{V({title:" ",description:"    ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(G,te,X)=>{X?.previousAllData&&X?.allKey&&B.setQueryData(X.allKey,X.previousAllData),X?.previousDateData&&X?.dateKey&&B.setQueryData(X.dateKey,X.previousDateData),console.error(" [DeleteAttendance]   :",G);const ae=G.message||"     ";V({title:"",description:ae,variant:"destructive"})},onSettled:(G,te,X,ae)=>{ae?.allKey&&B.invalidateQueries({queryKey:ae.allKey}),ae?.dateKey&&B.invalidateQueries({queryKey:ae.dateKey})}}),$=G=>{if(Array.isArray(U)?U.find(X=>X.id===G.workerId):null){const X={...v};X[G.workerId]={isPresent:!0,startTime:G.startTime,endTime:G.endTime,workDescription:G.workDescription||"",workDays:parseFloat(G.workDays?.toString()||"0"),paidAmount:G.paidAmount,paymentType:G.paymentType||"partial",recordId:G.id,recordType:G.recordType||"work"},b(X)}},{data:U=[],isLoading:q}=nt({queryKey:he.workers}),H=ht({onMutate:async G=>{console.log("      (Optimistic):",G.length);for(const te of G){const X=parseFloat(te.workDays?.toString()||"0"),ae=parseFloat(te.paidAmount?.toString()||"0");if(X<=0&&ae<=0){const ee=`         ${U.find(Z=>Z.id===te.workerId)?.name||""}`;throw V({title:" ",description:ee,variant:"destructive"}),new Error(ee)}}},mutationFn:async G=>{console.log("     :",G.length);const te=G.flatMap(re=>[w("workDescriptions",re.workDescription),w("paymentTypes",re.paymentType)]).filter(Boolean);te.length>0&&await Promise.all(te);const X=[],ae=[];for(const re of G)try{!re.attendanceDate&&re.date&&(re.attendanceDate=re.date),re.attendanceDate||(re.attendanceDate=y||Ls()),console.log(`    : ${re.workerId}  : ${re.attendanceDate}`);const ee=parseFloat(re.workDays?.toString()||"0"),Z=parseFloat(re.paidAmount?.toString()||"0");if(ee<=0&&Z<=0){const Q=U.find(ie=>ie.id===re.workerId);throw new Error(`         ${Q?.name||""}`)}if(re.recordType==="advance"?(re.workDays="0",console.log("   -  workDays = 0")):re.workDays!==void 0&&(re.workDays=re.workDays.toString()),re.recordId){console.log(`    : ${re.workerId} : ${re.recordId}`);const Q={...re};delete Q.recordId;const ie=await Ie(`/api/worker-attendance/${re.recordId}`,"PATCH",Q);X.push(ie)}else try{const Q=await Ie(`/api/projects/${re.projectId}/attendance?date=${re.date}&workerId=${re.workerId}`,"GET"),ie=Q?.data||Q||[],ce=Array.isArray(ie)?ie.find(ge=>ge.workerId===re.workerId):null;if(ce){console.log(`    : ${re.workerId}    -    `);const ge=await Ie(`/api/worker-attendance/${ce.id}`,"PATCH",re);X.push(ge)}else{console.log(`    : ${re.workerId}`);const ge=await Ie("/api/worker-attendance","POST",re);X.push(ge)}}catch(Q){console.log("       -  :",Q);try{const ie=await Ie("/api/worker-attendance","POST",re);X.push(ie)}catch(ie){throw ie.message&&ie.message.includes("unique")||ie.message.includes("UNIQUE")?(console.log(`      ${re.workerId}   `),new Error("      .      .")):ie}}}catch(ee){console.error(`      ${re.workerId}:`,ee);const Q=U.find(ce=>ce.id===re.workerId)?.name||"  ";let ie="  ";ee?.response?.data?.message?ie=ee.response.data.message:ee?.response?.data?.error?ie=ee.response.data.error:ee?.message&&(ie=ee.message),ae.push({workerId:re.workerId,workerName:Q,error:ie})}return console.log(`   ${X.length}   `),ae.length>0&&console.warn(`    ${ae.length}  :`,ae),{successful:X,failed:ae,totalProcessed:G.length}},onSuccess:async G=>{B.refetchQueries({queryKey:he.autocomplete}),B.refetchQueries({queryKey:he.workerAttendanceAll(e)});const{successful:te,failed:X,totalProcessed:ae}=G;if(X.length===0)V({title:"   ",description:`   ${te.length}  `});else if(te.length>0){const re=X.map(ee=>` ${ee.workerName}: ${ee.error}`).join(`
`);V({title:"   ",description:`: ${te.length} 
: ${X.length} 

${re}`,variant:"default"}),console.error(" :",X)}else{const re=X.map(ee=>` ${ee.workerName}: ${ee.error}`).join(`
`);V({title:"  ",description:`     :

${re}`,variant:"destructive"})}te.length>0&&b(re=>{const ee={...re};return te.forEach(Z=>{const Q=Z?.data||Z;Q?.workerId&&delete ee[Q.workerId]}),ee})},onError:async(G,te)=>{const X=te.flatMap(re=>[w("workDescriptions",re.workDescription),w("paymentTypes",re.paymentType)]).filter(Boolean);X.length>0&&(await Promise.all(X),B.refetchQueries({queryKey:he.autocomplete})),console.error("Error saving attendance:",G);let ae="    ";if(G?.response?.data?.error||G?.message){const re=G?.response?.data?.error||G?.message;re.includes("     ")?ae="        ":ae=re}V({title:"",description:ae,variant:"destructive"})}}),Y=(G,te)=>{const X=U.find(ae=>ae.id===G);if(X&&te.isPresent&&te.workDays===void 0){te.workDays=1;const ae=parseFloat(X.dailyWage||"0");te.actualWage=ae*(te.workDays||0),te.totalPay=te.actualWage,te.remainingAmount=te.totalPay-parseFloat(te.paidAmount||"0")}b(ae=>({...ae,[G]:te}))},M=()=>{const G={...v};Object.keys(G).forEach(te=>{G[te].isPresent&&(G[te]={...G[te],startTime:P.startTime,endTime:P.endTime,workDays:P.workDays,paymentType:P.paymentType,paidAmount:P.paidAmount,workDescription:P.workDescription})}),b(G),V({title:" ",description:"      "})},K=G=>{const te={};U.forEach(X=>{G?te[X.id]={isPresent:!0,startTime:P.startTime,endTime:P.endTime,workDays:P.workDays,paymentType:P.paymentType,paidAmount:P.paidAmount,workDescription:P.workDescription}:te[X.id]={isPresent:!1}}),b(te)},z=()=>{if(!e||e===as){V({title:"   ",description:"         ",variant:"destructive"});return}if(!y){V({title:"   ",description:"      ",variant:"destructive"});return}const G=Object.entries(v).filter(([ae,re])=>{if(!re.isPresent)return!1;const ee=re.recordType||"work";return ee==="work"&&(!re.workDays||re.workDays<=0)||ee==="advance"&&(!re.paidAmount||parseFloat(re.paidAmount)<=0)});if(G.length>0){const ae=G.some(([Q,ie])=>(ie.recordType||"work")==="work"),re=G.some(([Q,ie])=>(ie.recordType||"work")==="advance");let ee="";const Z=[];ae&&(ee+=`          
`,G.forEach(([Q,ie])=>{if((ie.recordType||"work")==="work"){const ge=U.find(we=>we.id===Q);Z.push(`  - ${ge?.name||"  "}:    `)}})),re&&(ee+=`         
`,G.forEach(([Q,ie])=>{if((ie.recordType||"work")==="advance"){const ge=U.find(we=>we.id===Q);Z.push(`  - ${ge?.name||"  "}:    `)}})),V({title:"   ",description:ee+(Z.length>0?`
`+Z.join(`
`):""),variant:"destructive"});return}if(Object.entries(v).filter(([ae,re])=>re.isPresent).length===0){V({title:" ",description:"     .     .",variant:"destructive"});return}const X=Object.entries(v).filter(([ae,re])=>re.isPresent?(re.recordType||"work")==="work"?re.workDays&&re.workDays>0:re.paidAmount&&parseFloat(re.paidAmount)>0:!1).map(([ae,re])=>{const ee=U.find(Ve=>Ve.id===ae),Z=parseFloat(ee?.dailyWage||"0"),Q=re.recordType||"work",ie=Q==="advance"?0:re.workDays||0,ce=Z*ie,ge=parseFloat(String(re.overtime||0)),we=parseFloat(String(re.overtimeRate||0)),Te=ge*we,Ae=Q==="advance"?0:Math.max(0,ce+Te),De=parseFloat(re.paidAmount||"0"),Fe=Q==="advance"?-De:re.paymentType==="credit"?Ae:Ae-De,rt=()=>{if(!re.startTime||!re.endTime)return 0;const Ve=new Date(`2000-01-01T${re.startTime}:00`);let de=new Date(`2000-01-01T${re.endTime}:00`).getTime()-Ve.getTime();return de<0&&(de+=1440*60*1e3),Math.max(0,de/(1e3*60*60))},qe={projectId:e,workerId:ae,date:y,attendanceDate:y,startTime:re.startTime||"07:00",endTime:re.endTime||"15:00",workDescription:re.workDescription||"",isPresent:!0,workDays:ie,dailyWage:ee?.dailyWage||"0",hoursWorked:rt().toString(),overtime:ge.toString(),overtimeRate:we.toString(),actualWage:ce.toString(),totalPay:Ae.toString(),paidAmount:De.toString(),remainingAmount:Fe.toString(),paymentType:re.paymentType||"partial",notes:re.notes||"",wellId:l||null};return re.recordId&&(qe.recordId=re.recordId),qe});if(X.length===0){V({title:"     ",description:`  :
   
     
     `,variant:"destructive"});return}H.mutate(X)},L=Array.isArray(_)?_:[],W=E.useMemo(()=>{if(!n.trim())return U;const G=n.toLowerCase().trim();return U.filter(te=>te.name?.toLowerCase().includes(G)||te.phone?.toLowerCase().includes(G)||te.type?.toLowerCase().includes(G))},[U,n]),J=E.useMemo(()=>{let G=L;if(n.trim()){const te=n.toLowerCase().trim();G=G.filter(X=>U.find(re=>re.id===X.workerId)?.name?.toLowerCase().includes(te)||X.workDescription?.toLowerCase().includes(te)||X.notes?.toLowerCase().includes(te))}return(i.dateRange?.from||i.dateRange?.to)&&(G=G.filter(te=>{const X=new Date(te.attendanceDate||te.date);if(i.dateRange.from){const ae=new Date(i.dateRange.from);if(ae.setHours(0,0,0,0),X<ae)return!1}if(i.dateRange.to){const ae=new Date(i.dateRange.to);if(ae.setHours(23,59,59,999),X>ae)return!1}return!0})),i.type&&i.type!=="all"&&(G=G.filter(te=>U.find(ae=>ae.id===te.workerId)?.type===i.type)),G},[L,U,n,i.dateRange,i.type]),le=E.useMemo(()=>{const G=J.length,te=J.reduce((Z,Q)=>Z+parseFloat(Q.workDays||"0"),0);let X=0,ae=0,re=0;J.forEach(Z=>{const Q=U.find(Te=>Te.id===Z.workerId),ie=parseFloat(Q?.dailyWage||Z.dailyWage||"0"),ce=parseFloat(Z.workDays||"0"),ge=ie*ce,we=parseFloat(Z.paidAmount||"0");X+=ge,ae+=we,Z.transfers&&(re+=parseFloat(Z.transfers))});const ee=X-ae-re;return{totalWorkers:W.length,presentWorkers:G,totalWorkDays:te,totalEarned:X,totalPaid:ae,totalRemaining:ee,allWorkersCount:U.length,allRecordsCount:L.length}},[J,W,U,L]),ne=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:le.totalWorkers,icon:xn,color:"blue"},{key:"present",label:" ",value:le.presentWorkers,icon:Xr,color:"green"},{key:"days",label:" ",value:le.totalWorkDays.toFixed(2),icon:bn,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"earned",label:"",value:ze(le.totalEarned),icon:Jt,color:"blue"},{key:"paid",label:"",value:ze(le.totalPaid),icon:Xr,color:"green"},{key:"remaining",label:"",value:ze(le.totalRemaining),icon:Jt,color:le.totalRemaining>=0?"purple":"red"}]}],[le]),ue=E.useMemo(()=>[{key:"date",label:"",type:"date",placeholder:" "},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"type",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...Array.from(new Set(U.map(G=>G.type))).filter(Boolean).map(G=>({value:G,label:G}))]}],[U]);return c.jsxs("div",{className:"p-4 space-y-4",children:[e&&c.jsx(Qa,{hideHeader:!0,title:"",statsRows:ne,searchValue:n,onSearchChange:s,searchPlaceholder:"  ...",showSearch:!0,filters:ue,filterValues:{date:y?(()=>{const[G,te,X]=y.split("-").map(Number);return new Date(G,te-1,X,12,0,0,0)})():void 0},onFilterChange:(G,te)=>{if(G==="date")if(te instanceof Date){const X=te.getFullYear(),ae=String(te.getMonth()+1).padStart(2,"0"),re=String(te.getDate()).padStart(2,"0");m(`${X}-${ae}-${re}`)}else m(null)},onReset:I,onRefresh:N,isRefreshing:o,resultsSummary:n?{totalCount:le.allRecordsCount,filteredCount:le.presentWorkers,totalLabel:" ",filteredLabel:"",totalValue:le.totalEarned,totalValueLabel:" ",unit:"."}:void 0}),U.length>0&&c.jsx(wa,{open:T,onOpenChange:O,children:c.jsxs(Pt,{className:"mb-4",children:[(!e||e===as||!y)&&c.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 p-4 m-4 rounded",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-amber-600 dark:text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-sm font-medium text-amber-800 dark:text-amber-300 mb-1",children:"    "}),c.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-400 space-y-1",children:[(!e||e===as)&&c.jsx("p",{children:"      "}),!y&&c.jsx("p",{children:"      "})]})]})]})}),c.jsx(_a,{asChild:!0,children:c.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(xn,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium text-foreground",children:"  "})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:T?" ":" "}),T?c.jsx(_o,{className:"h-5 w-5 text-muted-foreground"}):c.jsx(yn,{className:"h-5 w-5 text-muted-foreground"})]})]})}),c.jsx(Sa,{children:c.jsxs("div",{className:"p-4 bg-muted/30 border-b space-y-3",children:[c.jsx(Kg,{projectId:e,value:l,onChange:d,optional:!0}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center space-x-reverse space-x-2",children:c.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>k(!x),className:"px-2 py-1 h-8","data-testid":"toggle-shared-settings",children:x?c.jsx(_o,{className:"h-4 w-4"}):c.jsx(yn,{className:"h-4 w-4"})})}),x&&c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Se,{size:"sm",variant:"outline",onClick:()=>K(!0),className:"text-xs",children:" "}),c.jsx(Se,{size:"sm",variant:"outline",onClick:()=>K(!1),className:"text-xs",children:" "}),c.jsx(Se,{size:"sm",onClick:M,className:"text-xs",children:"  "})]})]}),x&&c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[c.jsxs("div",{children:[c.jsx(Le,{className:"text-xs text-muted-foreground",children:" "}),c.jsx(tt,{type:"time",value:P.startTime,onChange:G=>D(te=>({...te,startTime:G.target.value})),className:"mt-1",autoWidth:!0,maxWidth:120})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"text-xs text-muted-foreground",children:" "}),c.jsx(tt,{type:"time",value:P.endTime,onChange:G=>D(te=>({...te,endTime:G.target.value})),className:"mt-1",autoWidth:!0,maxWidth:120})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"text-xs text-muted-foreground",children:" "}),c.jsxs("div",{className:"relative mt-1",children:[c.jsx(tt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"10.0",value:P.workDays||"",onChange:G=>{const te=G.target.value;D(X=>({...X,workDays:te===""?0:parseFloat(te)||0}))},placeholder:"0",className:"mt-1 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"}}),P.workDays!==0&&c.jsx("button",{onClick:()=>D(G=>({...G,workDays:0})),className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"",children:""})]})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"text-xs text-muted-foreground",children:" "}),c.jsxs(Rn,{value:P.paymentType,onValueChange:G=>D(te=>({...te,paymentType:G})),children:[c.jsx(wn,{className:"mt-1",children:c.jsx(On,{})}),c.jsxs(_n,{children:[c.jsx(vt,{value:"full",children:" "}),c.jsx(vt,{value:"partial",children:" "}),c.jsx(vt,{value:"credit",children:" "})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[P.paymentType!=="credit"&&c.jsxs("div",{children:[c.jsx(Le,{className:"text-xs text-muted-foreground",children:" "}),c.jsx(tt,{type:"number",inputMode:"decimal",placeholder:"0",value:P.paidAmount,onChange:G=>D(te=>({...te,paidAmount:G.target.value})),className:"mt-1 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"}})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"text-xs text-muted-foreground",children:" "}),c.jsx(us,{value:P.workDescription,onChange:G=>D(te=>({...te,workDescription:G})),placeholder:"  ...",category:"workDescriptions",className:"mt-1"})]})]})]}),q?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-muted-foreground",children:"  ..."})}):U.length===0?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-muted-foreground",children:"   "})}):c.jsx("div",{className:"space-y-3",children:W.length===0&&n?c.jsx("div",{className:"text-center py-8",children:c.jsxs("p",{className:"text-muted-foreground",children:['    "',n,'"']})}):W.map(G=>c.jsx(g5e,{worker:G,attendance:v[G.id]||{isPresent:!1},onAttendanceChange:te=>Y(G.id,te),selectedDate:y??void 0},G.id))}),c.jsx("div",{className:"mt-6",children:c.jsxs(Se,{onClick:z,disabled:H.isPending,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[c.jsx(Lc,{className:"ml-2 h-4 w-4"}),H.isPending?" ...":" "]})})]})})]})}),e&&c.jsx("div",{className:"mt-6",children:J.length>0?c.jsx(Ns,{columns:2,children:J.map(G=>{const te=U.find(ie=>ie.id===G.workerId),X=parseFloat(te?.dailyWage||G.dailyWage||"0"),ae=parseFloat(G.workDays||"0"),re=X*ae,ee=parseFloat(G.paidAmount||"0"),Z=re-ee,Q=G.projectName||r.find(ie=>ie.id===G.projectId)?.name;return c.jsx(Gr,{title:te?.name||G.workerId,subtitle:t&&Q?`${Q} - ${G.date||G.attendanceDate}`:G.date||G.attendanceDate,titleIcon:tf,headerColor:"#22c55e",badges:[{label:"",variant:"success"},...t&&Q?[{label:Q,variant:"outline"}]:[]],fields:[{label:"",value:`${G.startTime||" "} - ${G.endTime||" "}`,icon:bn,color:"info"},{label:" ",value:ae.toString(),icon:rs,color:"warning"},{label:" ",value:ze(X),icon:Jt,color:"default"},{label:"",value:ze(re),icon:Jt,color:"info",emphasis:!0},{label:"",value:ze(ee),icon:Xr,color:"success"},{label:"",value:ze(Z),icon:Jt,color:Z>0?"danger":"success",emphasis:!0}],actions:[{icon:Sl,label:"",onClick:()=>$(G),color:"blue"},{icon:An,label:"",onClick:()=>R.mutate(G.id),color:"red",disabled:R.isPending}],footer:G.workDescription?c.jsx("p",{className:"text-sm text-muted-foreground",children:G.workDescription}):void 0,compact:!0},G.id)})}):null})]})}const ZRe=e=>e==="web"?[{id:1,name:" ",status:"pending",icon:qf},{id:2,name:"   GitHub",status:"pending",icon:qf},{id:3,name:"  ",status:"pending",icon:Od},{id:4,name:"   ",status:"pending",icon:Gm},{id:5,name:"   ",status:"pending",icon:en},{id:6,name:"   ",status:"pending",icon:Vs},{id:7,name:"  ",status:"pending",icon:Bn}]:[{id:1,name:" ",status:"pending",icon:qf},{id:2,name:"   GitHub",status:"pending",icon:qf},{id:3,name:"  ",status:"pending",icon:Od},{id:4,name:"   ",status:"pending",icon:Gm},{id:5,name:"   ",status:"pending",icon:en},{id:6,name:" APK  Android",status:"pending",icon:T3},{id:7,name:" APK  ",status:"pending",icon:Gm}],XRe=[{id:1,name:" ",status:"pending",icon:qf},{id:2,name:"   GitHub",status:"pending",icon:qf},{id:3,name:"   ",status:"pending",icon:Od},{id:4,name:" ",status:"pending",icon:en},{id:5,name:" ",status:"pending",icon:Vs},{id:6,name:" ",status:"pending",icon:Vs},{id:7,name:" ",status:"pending",icon:Bn}];function YRe(){const{toast:e}=Br(),[t,r]=E.useState(!1),[n,s]=E.useState(0),[i,a]=E.useState(XRe),[o,u]=E.useState([]),[l,d]=E.useState(!0),[h,f]=E.useState(null),[p,g]=E.useState(null),[y,m]=E.useState("web"),[v,b]=E.useState({show:!1,message:"",action:""}),x=E.useRef(null);E.useEffect(()=>{l&&x.current&&x.current.scrollIntoView({behavior:"smooth",block:"end"})},[o,l]);const k=(V,B="info")=>{u(C=>[...C,{id:Math.random().toString(36).substr(2,9),timestamp:new Date().toLocaleTimeString("ar-SA"),message:V,type:B}])},T=(V,B,C)=>{a(I=>I.map(N=>N.id===V?{...N,status:B,duration:C}:N))},O=async()=>{if(!y){e({description:"   ",variant:"destructive"});return}r(!0),s(0),u([]);const V=ZRe(y);a(V.map(C=>({...C,status:"pending",duration:void 0}))),f(Date.now()),g(null);const B=y==="web"?" ":" Android";k(`       ${B}...`,"info"),T(1,"running");try{k("      ...","info");const C=await Ie("/api/deployment/build","POST",{appType:y});if(console.log(" [startDeployment]  API:",{response:C}),C&&C.logs&&Array.isArray(C.logs)){let I=1;C.logs.forEach((N,w)=>{if(N&&N.message&&N.type){k(N.message,N.type);const S=Math.floor(w/2)+1;S<V.length&&I!==S&&(I<=V.length&&T(I,"success"),I=S,T(I,"running"))}}),a(N=>N.map((w,_)=>({...w,status:"success",duration:_<3?2:3}))),s(100),k(`      ${B}  100%!`,"success"),e({description:"   ",variant:"default"})}else k(`     - : ${JSON.stringify(C)}`,"warning"),s(100),a(I=>I.map(N=>({...N,status:"success",duration:3})))}catch(C){console.error(" [startDeployment] :",C);const I=C?.message||"   ";k(`   : ${I}`,"error"),a(N=>N.map((w,_)=>_===0?{...w,status:"success"}:_===1?{...w,status:"failed"}:w)),e({description:` : ${I}`,variant:"destructive"})}finally{r(!1),g(Date.now())}},F=()=>{if(!h)return"00:00";const V=p||Date.now(),B=Math.floor((V-h)/1e3),C=Math.floor(B/60),I=B%60;return`${C.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`},A=()=>{const V=o.map(B=>`[${B.timestamp}] ${B.message}`).join(`
`);navigator.clipboard.writeText(V),e({description:"    "})},P=async()=>{b({show:!1,message:"",action:""}),k("      ...","info");try{await Ie("/api/schema/apply","POST",{appType:y,timestamp:new Date().toISOString()}),k("      ","success")}catch(V){k(`   : ${V.message}`,"error")}},D=()=>{b({show:!1,message:"",action:""}),k("     ","warning")};return c.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-8 space-y-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsx("div",{className:"w-full md:w-auto",children:c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"   "}),c.jsxs(Rn,{value:y,onValueChange:V=>m(V),disabled:t,children:[c.jsx(wn,{className:"w-full md:w-56","data-testid":"select-app-type",children:c.jsx(On,{placeholder:" "})}),c.jsxs(_n,{children:[c.jsx(vt,{value:"web","data-testid":"option-web-app",children:" "}),c.jsx(vt,{value:"android","data-testid":"option-android-app",children:" Android"})]})]})]})}),c.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[c.jsxs(Se,{variant:"outline",size:"sm",onClick:A,className:"flex-1 md:flex-none hover-elevate","data-testid":"button-copy-logs",children:[c.jsx(Wf,{className:"w-4 h-4 ml-2"})," "]}),t?c.jsxs(Se,{variant:"destructive",onClick:()=>r(!1),className:"flex-1 md:flex-none hover-elevate","data-testid":"button-stop-build",children:[c.jsx(Tve,{className:"w-4 h-4 ml-2"})," "]}):c.jsxs(Se,{onClick:O,disabled:!y,className:"flex-1 md:flex-none bg-primary hover-elevate active-elevate-2 px-8",size:"lg","data-testid":"button-start-deployment",children:[c.jsx(kve,{className:"w-4 h-4 ml-2"}),"  "]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs(Pt,{className:"border-border/50 shadow-sm overflow-hidden",children:[c.jsx(Cn,{className:"bg-muted/30 pb-4",children:c.jsxs(zn,{className:"text-sm font-medium flex items-center justify-between",children:[c.jsx("span",{children:"  "}),c.jsx(ut,{variant:t?"secondary":"outline",className:t?"animate-pulse":"",children:t?" ":""})]})}),c.jsx(Ft,{className:"pt-6 space-y-1",children:i.map((V,B)=>c.jsxs("div",{className:"relative pr-6 pb-6 last:pb-0",children:[B!==i.length-1&&c.jsx("div",{className:`absolute right-[11px] top-6 bottom-0 w-[2px] ${V.status==="success"?"bg-primary":"bg-border"}`}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`absolute right-0 w-6 h-6 rounded-full flex items-center justify-center z-10 transition-colors ${V.status==="success"?"bg-primary text-primary-foreground":V.status==="running"?"bg-primary/20 text-primary animate-pulse border-2 border-primary":V.status==="failed"?"bg-destructive text-destructive-foreground":"bg-muted text-muted-foreground border-2 border-border"}`,children:V.status==="success"?c.jsx(yo,{className:"w-3 h-3"}):V.status==="failed"?c.jsx(Es,{className:"w-3 h-3"}):(()=>{const C=V.icon;return c.jsx(C,{className:"w-3 h-3"})})()}),c.jsxs("div",{className:"flex-1 pr-8",children:[c.jsx("p",{className:`text-sm font-semibold ${V.status==="running"?"text-primary":"text-foreground"}`,children:V.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[V.status==="running"&&c.jsx("span",{className:"text-[10px] text-primary animate-pulse uppercase font-bold",children:" "}),V.duration&&c.jsxs("span",{className:"text-[10px] text-muted-foreground font-mono",children:[V.duration," "]})]})]})]})]},V.id))})]}),c.jsx(Pt,{className:"bg-primary/5 border-primary/20",children:c.jsx(Ft,{className:"pt-6 space-y-4",children:c.jsxs("div",{className:"flex justify-between items-end",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase",children:" "}),c.jsx("p",{className:"text-3xl font-mono font-bold text-primary",children:F()})]}),c.jsx(bn,{className:"w-10 h-10 text-primary/20"})]})})})]}),c.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[c.jsxs(Pt,{className:"border-border/50 shadow-sm h-full flex flex-col",children:[c.jsxs(Cn,{className:"flex flex-row items-center justify-between border-b bg-muted/30",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-black/5 dark:bg-white/5 rounded-md border",children:[c.jsx(ZB,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-xs font-mono font-bold uppercase tracking-wider",children:" "})]}),t&&c.jsx(ut,{className:"bg-primary animate-pulse text-[10px]",children:" "})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer hover:text-foreground transition-colors",children:[c.jsx(Input,{type:"checkbox",checked:l,onChange:V=>d(V.target.checked),className:"rounded border-border w-4 h-4"})," "]}),c.jsx(Se,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",children:c.jsx(Gm,{className:"w-4 h-4"})})]})]}),c.jsx(Ft,{className:"p-0 bg-[#0d1117] min-h-[600px] flex-1",children:c.jsx(Po,{className:"h-full",children:c.jsxs("div",{className:"p-6 font-mono text-sm leading-relaxed space-y-1",children:[o.length===0?c.jsxs("div",{className:"text-muted-foreground/30 italic flex items-center gap-2",children:[c.jsx(Rd,{className:"w-4 h-4"}),"  ..."]}):o.map((V,B)=>c.jsxs("div",{className:"group flex gap-4 hover:bg-white/5 py-0.5 rounded px-2 -mx-2 transition-colors",children:[c.jsx("span",{className:"text-gray-600 select-none w-12 text-right text-[10px] pt-1",children:B+1}),c.jsx("span",{className:"text-gray-500 select-none w-20 pt-1 text-[11px]",children:V.timestamp}),c.jsx("span",{className:`flex-1 break-all ${V.type==="success"?"text-emerald-400 font-medium":V.type==="error"?"text-rose-400 font-bold":V.type==="warning"?"text-amber-400":"text-slate-300"}`,children:V.message})]},V.id)),c.jsx("div",{ref:x,className:"h-2"})]})})})]}),n===100&&!t&&c.jsx(Pt,{className:"bg-emerald-50 dark:bg-emerald-950/20 border-emerald-200 dark:border-emerald-800 animate-in fade-in slide-in-from-bottom-4",children:c.jsxs(Ft,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[c.jsxs("div",{className:"flex items-center gap-4 text-emerald-700 dark:text-emerald-400",children:[c.jsx("div",{className:"bg-emerald-500 text-white p-3 rounded-full shadow-lg shadow-emerald-500/20",children:c.jsx(yo,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold",children:" !"}),c.jsx("p",{className:"text-sm opacity-90",children:"         GitHub."})]})]}),c.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[c.jsx(Se,{className:"flex-1 md:flex-none bg-emerald-600 hover:bg-emerald-700 text-white border-0 shadow-lg shadow-emerald-500/20",asChild:!0,children:c.jsx("a",{href:"/",target:"_blank",children:"  "})}),c.jsx(Se,{variant:"outline",className:"flex-1 md:flex-none border-emerald-200 dark:border-emerald-800 text-emerald-700 dark:text-emerald-400 bg-transparent hover:bg-emerald-50 dark:hover:bg-emerald-900/30",children:"  "})]})]})}),i.some(V=>V.status==="failed")&&!t&&c.jsx(Pt,{className:"bg-rose-50 dark:bg-rose-950/20 border-rose-200 dark:border-rose-800",children:c.jsxs(Ft,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[c.jsxs("div",{className:"flex items-center gap-4 text-rose-700 dark:text-rose-400",children:[c.jsx("div",{className:"bg-rose-500 text-white p-3 rounded-full shadow-lg shadow-rose-500/20",children:c.jsx(Es,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold",children:"  "}),c.jsx("p",{className:"text-sm opacity-90",children:"   .    GitHub ."})]})]}),c.jsxs(Se,{onClick:O,className:"w-full md:w-auto bg-rose-600 hover:bg-rose-700 text-white border-0 shadow-lg shadow-rose-500/20",children:[c.jsx(Ml,{className:"w-4 h-4 ml-2"}),"  "]})]})}),v.show&&c.jsx(Pt,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800 animate-in fade-in slide-in-from-bottom-4",children:c.jsxs(Ft,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[c.jsxs("div",{className:"flex items-center gap-4 text-blue-700 dark:text-blue-400",children:[c.jsx("div",{className:"bg-blue-500 text-white p-3 rounded-full shadow-lg shadow-blue-500/20 animate-pulse",children:c.jsx(qi,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold",children:" "}),c.jsx("p",{className:"text-sm opacity-90",children:v.message})]})]}),c.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[c.jsxs(Se,{onClick:P,className:"flex-1 md:flex-none bg-blue-600 text-white","data-testid":"button-apply-schema",children:[c.jsx(yo,{className:"w-4 h-4"}),c.jsx("span",{className:"ml-2",children:""})]}),c.jsxs(Se,{onClick:D,variant:"outline",className:"flex-1 md:flex-none border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-400 bg-transparent hover:bg-blue-50 dark:hover:bg-blue-900/30","data-testid":"button-reject-schema",children:[c.jsx(Es,{className:"w-4 h-4 ml-2"}),""]})]})]})})]})]})]})}const ap=E.forwardRef(({className:e,autoHeight:t=!0,maxRows:r=10,minRows:n=3,onChange:s,...i},a)=>{const o=E.useRef(null),u=E.useCallback(()=>{const d=o.current;if(t&&d){d.style.height="auto";const f=n*20,p=d.scrollHeight,g=Math.max(f,p);d.style.height=`${g}px`,d.style.overflowY="hidden"}},[t,r,n]),l=d=>{u(),s?.(d)};return E.useEffect(()=>{u();const d=o.current;if(!d)return;const h=new ResizeObserver(()=>u());return h.observe(d),()=>h.disconnect()},[u,i.value]),c.jsx("textarea",{className:_e("flex w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm resize-none transition-[height] duration-100 ease-out",e),ref:d=>{o.current=d,typeof a=="function"?a(d):a&&(a.current=d)},onChange:l,...i})});ap.displayName="Textarea";var g5="Radio",[QRe,lee]=Ws(g5),[JRe,eOe]=QRe(g5),cee=E.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:a,value:o="on",onCheck:u,form:l,...d}=e,[h,f]=E.useState(null),p=tr(t,m=>f(m)),g=E.useRef(!1),y=h?l||!!h.closest("form"):!0;return c.jsxs(JRe,{scope:r,checked:s,disabled:a,children:[c.jsx(wt.button,{type:"button",role:"radio","aria-checked":s,"data-state":hee(s),"data-disabled":a?"":void 0,disabled:a,value:o,...d,ref:p,onClick:et(e.onClick,m=>{s||u?.(),y&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),y&&c.jsx(fee,{control:h,bubbles:!g.current,name:n,value:o,checked:s,required:i,disabled:a,form:l,style:{transform:"translateX(-100%)"}})]})});cee.displayName=g5;var uee="RadioIndicator",dee=E.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,i=eOe(uee,r);return c.jsx(ss,{present:n||i.checked,children:c.jsx(wt.span,{"data-state":hee(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});dee.displayName=uee;var tOe="RadioBubbleInput",fee=E.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=E.useRef(null),o=tr(a,i),u=w6(r),l=M3(t);return E.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[u,r,n]),c.jsx(wt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...s.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});fee.displayName=tOe;function hee(e){return e?"checked":"unchecked"}var rOe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],r_="RadioGroup",[nOe]=Ws(r_,[Op,lee]),pee=Op(),mee=lee(),[sOe,iOe]=nOe(r_),gee=E.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:a=!1,disabled:o=!1,orientation:u,dir:l,loop:d=!0,onValueChange:h,...f}=e,p=pee(r),g=Ip(l),[y,m]=qa({prop:i,defaultProp:s??null,onChange:h,caller:r_});return c.jsx(sOe,{scope:r,name:n,required:a,disabled:o,value:y,onValueChange:m,children:c.jsx(a5,{asChild:!0,...p,orientation:u,dir:g,loop:d,children:c.jsx(wt.div,{role:"radiogroup","aria-required":a,"aria-orientation":u,"data-disabled":o?"":void 0,dir:g,...f,ref:t})})})});gee.displayName=r_;var yee="RadioGroupItem",bee=E.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,i=iOe(yee,r),a=i.disabled||n,o=pee(r),u=mee(r),l=E.useRef(null),d=tr(t,l),h=i.value===s.value,f=E.useRef(!1);return E.useEffect(()=>{const p=y=>{rOe.includes(y.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),c.jsx(o5,{asChild:!0,...o,focusable:!a,active:h,children:c.jsx(cee,{disabled:a,required:i.required,checked:h,...u,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:et(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:et(s.onFocus,()=>{f.current&&l.current?.click()})})})});bee.displayName=yee;var aOe="RadioGroupIndicator",vee=E.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=mee(r);return c.jsx(dee,{...s,...n,ref:t})});vee.displayName=aOe;var xee=gee,wee=bee,oOe=vee;const _ee=E.forwardRef(({className:e,...t},r)=>c.jsx(xee,{className:_e("grid gap-2",e),...t,ref:r}));_ee.displayName=xee.displayName;const cv=E.forwardRef(({className:e,...t},r)=>c.jsx(wee,{ref:r,className:_e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c.jsx(oOe,{className:"flex items-center justify-center",children:c.jsx(WB,{className:"h-2.5 w-2.5 fill-current text-current"})})}));cv.displayName=wee.displayName;function xb(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var See={exports:{}};/*! ExcelJS 19-10-2023 */(function(e,t){(function(r){e.exports=r()})((function(){return(function r(n,s,i){function a(l,d){if(!s[l]){if(!n[l]){var h=typeof xb=="function"&&xb;if(!d&&h)return h(l,!0);if(o)return o(l,!0);var f=new Error("Cannot find module '"+l+"'");throw f.code="MODULE_NOT_FOUND",f}var p=s[l]={exports:{}};n[l][0].call(p.exports,(function(g){return a(n[l][1][g]||g)}),p,p.exports,r,n,s,i)}return s[l].exports}for(var o=typeof xb=="function"&&xb,u=0;u<i.length;u++)a(i[u]);return a})({1:[function(r,n,s){const i=r("fs"),a=r("fast-csv"),o=r("dayjs/plugin/customParseFormat"),u=r("dayjs/plugin/utc"),l=r("dayjs").extend(o).extend(u),d=r("../utils/stream-buf"),{fs:{exists:h}}=r("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(p){this.workbook=p,this.worksheet=null}async readFile(p,g){if(g=g||{},!await h(p))throw new Error("File not found: "+p);const y=i.createReadStream(p),m=await this.read(y,g);return y.close(),m}read(p,g){return g=g||{},new Promise((y,m)=>{const v=this.workbook.addWorksheet(g.sheetName),b=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],x=g.map||function(T){if(T==="")return null;const O=Number(T);if(!Number.isNaN(O)&&O!==1/0)return O;const F=b.reduce((P,D)=>{if(P)return P;const V=l(T,D,!0);return V.isValid()?V:null},null);if(F)return new Date(F.valueOf());const A=f[T];return A!==void 0?A:T},k=a.parse(g.parserOptions).on("data",T=>{v.addRow(T.map(x))}).on("end",()=>{k.emit("worksheet",v)});k.on("worksheet",y).on("error",m),p.pipe(k)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(p,g){return new Promise((y,m)=>{g=g||{};const v=this.workbook.getWorksheet(g.sheetName||g.sheetId),b=a.format(g.formatterOptions);p.on("finish",()=>{y()}),b.on("error",m),b.pipe(p);const{dateFormat:x,dateUTC:k}=g,T=g.map||(A=>{if(A){if(A.text||A.hyperlink)return A.hyperlink||A.text||"";if(A.formula||A.result)return A.result||"";if(A instanceof Date)return x?k?l.utc(A).format(x):l(A).format(x):k?l.utc(A).format():l(A).format();if(A.error)return A.error;if(typeof A=="object")return JSON.stringify(A)}return A}),O=g.includeEmptyRows===void 0||g.includeEmptyRows;let F=1;v&&v.eachRow((A,P)=>{if(O)for(;F++<P-1;)b.write([]);const{values:D}=A;D.shift(),b.write(D.map(T)),F=P}),b.end()})}writeFile(p,g){const y={encoding:(g=g||{}).encoding||"utf8"},m=i.createWriteStream(p,y);return this.write(m,g)}async writeBuffer(p){const g=new d;return await this.write(g,p),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(r,n,s){const i=r("../utils/col-cache");class a{constructor(u,l){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=u,l)if(typeof l=="string"){const h=i.decodeAddress(l);this.nativeCol=h.col+d,this.nativeColOff=0,this.nativeRow=h.row+d,this.nativeRowOff=0}else l.nativeCol!==void 0?(this.nativeCol=l.nativeCol||0,this.nativeColOff=l.nativeColOff||0,this.nativeRow=l.nativeRow||0,this.nativeRowOff=l.nativeRowOff||0):l.col!==void 0?(this.col=l.col+d,this.row=l.row+d):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(u){return u instanceof a||u==null?u:new a(u)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(u){this.nativeCol=Math.floor(u),this.nativeColOff=Math.floor((u-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(u){this.nativeRow=Math.floor(u),this.nativeRowOff=Math.floor((u-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(u){this.nativeCol=u.nativeCol,this.nativeColOff=u.nativeColOff,this.nativeRow=u.nativeRow,this.nativeRowOff=u.nativeRowOff}}n.exports=a},{"../utils/col-cache":19}],3:[function(r,n,s){const i=r("../utils/col-cache"),a=r("../utils/under-dash"),o=r("./enums"),{slideFormula:u}=r("../utils/shared-formula"),l=r("./note");class d{constructor(p,g,y){if(!p||!g)throw new Error("A Cell needs a Row");this._row=p,this._column=g,i.validateAddress(y),this._address=y,this._value=h.create(d.Types.Null,this),this.style=this._mergeStyle(p.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(p){this.style.numFmt=p}get font(){return this.style.font}set font(p){this.style.font=p}get alignment(){return this.style.alignment}set alignment(p){this.style.alignment=p}get border(){return this.style.border}set border(p){this.style.border=p}get fill(){return this.style.fill}set fill(p){this.style.fill=p}get protection(){return this.style.protection}set protection(p){this.style.protection=p}_mergeStyle(p,g,y){const m=p&&p.numFmt||g&&g.numFmt;m&&(y.numFmt=m);const v=p&&p.font||g&&g.font;v&&(y.font=v);const b=p&&p.alignment||g&&g.alignment;b&&(y.alignment=b);const x=p&&p.border||g&&g.border;x&&(y.border=x);const k=p&&p.fill||g&&g.fill;k&&(y.fill=k);const T=p&&p.protection||g&&g.protection;return T&&(y.protection=T),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===d.Types.Merge}merge(p,g){this._value.release(),this._value=h.create(d.Types.Merge,this,p),g||(this.style=p.style)}unmerge(){this.type===d.Types.Merge&&(this._value.release(),this._value=h.create(d.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(p){return this._value.type===d.Types.Merge&&this._value.isMergedTo(p)}get master(){return this.type===d.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===d.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(p){this.type!==d.Types.Merge?(this._value.release(),this._value=h.create(h.getType(p),this,p)):this._value.master.value=p}get note(){return this._comment&&this._comment.note}set note(p){this._comment=new l(p)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(p){this.type===d.Types.String&&(this._value=h.create(d.Types.Hyperlink,this,{text:this._value.value,hyperlink:p}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:p}=this._row;return{sheetName:p.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(p){this.names=[p]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(p){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),p.forEach(y=>{g.addEx(this.fullAddress,y)})}addName(p){this.workbook.definedNames.addEx(this.fullAddress,p)}removeName(p){this.workbook.definedNames.removeEx(this.fullAddress,p)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(p){this._dataValidations.add(this.address,p)}get model(){const{model:p}=this._value;return p.style=this.style,this._comment&&(p.comment=this._comment.model),p}set model(p){if(this._value.release(),this._value=h.create(p.type,this),this._value.model=p,p.comment)switch(p.comment.type){case"note":this._comment=l.fromModel(p.comment)}p.style?this.style=p.style:this.style={}}}d.Types=o.ValueType;const h={getType:f=>f==null?d.Types.Null:f instanceof String||typeof f=="string"?d.Types.String:typeof f=="number"?d.Types.Number:typeof f=="boolean"?d.Types.Boolean:f instanceof Date?d.Types.Date:f.text&&f.hyperlink?d.Types.Hyperlink:f.formula||f.sharedFormula?d.Types.Formula:f.richText?d.Types.RichText:f.sharedString?d.Types.SharedString:f.error?d.Types.Error:d.Types.JSON,types:[{t:d.Types.Null,f:class{constructor(f){this.model={address:f.address,type:d.Types.Null}}get value(){return null}set value(f){}get type(){return d.Types.Null}get effectiveType(){return d.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:d.Types.Number,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.Number,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Number}get effectiveType(){return d.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.String,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.String,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:d.Types.Date,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.Date,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Date}get effectiveType(){return d.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Hyperlink,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.Hyperlink,text:p?p.text:void 0,hyperlink:p?p.hyperlink:void 0},p&&p.tooltip&&(this.model.tooltip=p.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return d.Types.Hyperlink}get effectiveType(){return d.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:d.Types.Formula,f:class{constructor(f,p){this.cell=f,this.model={address:f.address,type:d.Types.Formula,shareType:p?p.shareType:void 0,ref:p?p.ref:void 0,formula:p?p.formula:void 0,sharedFormula:p?p.sharedFormula:void 0,result:p?p.result:void 0}}_copyModel(f){const p={},g=y=>{const m=f[y];m&&(p[y]=m)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),p}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(h.getType(f)){case d.Types.Null:case d.Types.String:case d.Types.Number:case d.Types.Date:break;case d.Types.Hyperlink:case d.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return d.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?o.ValueType.Null:f instanceof String||typeof f=="string"?o.ValueType.String:typeof f=="number"?o.ValueType.Number:f instanceof Date?o.ValueType.Date:f.text&&f.hyperlink?o.ValueType.Hyperlink:f.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,p=f.findCell(this.model.sharedFormula);this._translatedFormula=p&&u(p.formula,p.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:d.Types.Merge,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.Merge,master:p?p.address:void 0},this._master=p,p&&p.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof d?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return d.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:d.Types.JSON,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.String,value:JSON.stringify(p),rawValue:p}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:d.Types.SharedString,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.SharedString,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.SharedString}get effectiveType(){return d.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.RichText,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.String,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return d.Types.RichText}get effectiveType(){return d.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:d.Types.Boolean,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.Boolean,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Boolean}get effectiveType(){return d.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Error,f:class{constructor(f,p){this.model={address:f.address,type:d.Types.Error,value:p}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Error}get effectiveType(){return d.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,p)=>(f[p.t]=p.f,f),[]),create(f,p,g){const y=this.types[f];if(!y)throw new Error("Could not create Value of type "+f);return new y(p,g)}};n.exports=d},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(r,n,s){const i=r("../utils/under-dash"),a=r("./enums"),o=r("../utils/col-cache");class u{constructor(d,h,f){this._worksheet=d,this._number=h,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(d){d?(this.key=d.key,this.width=d.width!==void 0?d.width:9,this.outlineLevel=d.outlineLevel,d.style?this.style=d.style:this.style={},this.header=d.header,this._hidden=!!d.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(d){d!==void 0?(this._header=d,this.headers.forEach((h,f)=>{this._worksheet.getCell(f+1,this.number).value=h})):this._header=void 0}get key(){return this._key}set key(d){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=d,d&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(d){return this.width===d.width&&this.hidden===d.hidden&&this.outlineLevel===d.outlineLevel&&i.isEqual(this.style,d.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const d=this.style;return!d||!(d.font||d.numFmt||d.alignment||d.border||d.fill||d.protection)}get headerCount(){return this.headers.length}eachCell(d,h){const f=this.number;h||(h=d,d=null),this._worksheet.eachRow(d,(p,g)=>{h(p.getCell(f),g)})}get values(){const d=[];return this.eachCell((h,f)=>{h&&h.type!==a.ValueType.Null&&(d[f]=h.value)}),d}set values(d){if(!d)return;const h=this.number;let f=0;d.hasOwnProperty("0")&&(f=1),d.forEach((p,g)=>{this._worksheet.getCell(g+f,h).value=p})}_applyStyle(d,h){return this.style[d]=h,this.eachCell(f=>{f[d]=h}),h}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}static toModel(d){const h=[];let f=null;return d&&d.forEach((p,g)=>{p.isDefault?f&&(f=null):f&&p.equivalentTo(f)?f.max=g+1:(f={min:g+1,max:g+1,width:p.width!==void 0?p.width:9,style:p.style,isCustomWidth:p.isCustomWidth,hidden:p.hidden,outlineLevel:p.outlineLevel,collapsed:p.collapsed},h.push(f))}),h.length?h:void 0}static fromModel(d,h){const f=[];let p=1,g=0;for(h=(h=h||[]).sort((function(y,m){return y.min-m.min}));g<h.length;){const y=h[g++];for(;p<y.min;)f.push(new u(d,p++));for(;p<=y.max;)f.push(new u(d,p++,y))}return f.length?f:null}}n.exports=u},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(r,n,s){n.exports=class{constructor(i){this.model=i||{}}add(i,a){return this.model[i]=a}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(r,n,s){const i=r("../utils/under-dash"),a=r("../utils/col-cache"),o=r("../utils/cell-matrix"),u=r("./range"),l=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(d){return this.matrixMap[d]||(this.matrixMap[d]=new o)}add(d,h){const f=a.decodeEx(d);this.addEx(f,h)}addEx(d,h){const f=this.getMatrix(h);if(d.top)for(let p=d.left;p<=d.right;p++)for(let g=d.top;g<=d.bottom;g++){const y={sheetName:d.sheetName,address:a.n2l(p)+g,row:g,col:p};f.addCellEx(y)}else f.addCellEx(d)}remove(d,h){const f=a.decodeEx(d);this.removeEx(f,h)}removeEx(d,h){this.getMatrix(h).removeCellEx(d)}removeAllNames(d){i.each(this.matrixMap,h=>{h.removeCellEx(d)})}forEach(d){i.each(this.matrixMap,(h,f)=>{h.forEach(p=>{d(f,p)})})}getNames(d){return this.getNamesEx(a.decodeEx(d))}getNamesEx(d){return i.map(this.matrixMap,(h,f)=>h.findCellEx(d)&&f).filter(Boolean)}_explore(d,h){h.mark=!1;const{sheetName:f}=h,p=new u(h.row,h.col,h.row,h.col,f);let g,y;function m(b,x){const k=d.findCellAt(f,b,h.col);return!(!k||!k.mark)&&(p[x]=b,k.mark=!1,!0)}for(y=h.row-1;m(y,"top");y--);for(y=h.row+1;m(y,"bottom");y++);function v(b,x){const k=[];for(y=p.top;y<=p.bottom;y++){const T=d.findCellAt(f,y,b);if(!T||!T.mark)return!1;k.push(T)}p[x]=b;for(let T=0;T<k.length;T++)k[T].mark=!1;return!0}for(g=h.col-1;v(g,"left");g--);for(g=h.col+1;v(g,"right");g++);return p}getRanges(d,h){return(h=h||this.matrixMap[d])?(h.forEach(f=>{f.mark=!0}),{name:d,ranges:h.map(f=>f.mark&&this._explore(h,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:d,ranges:[]}}normaliseMatrix(d,h){d.forEachInSheet(h,(f,p,g)=>{f&&(f.row===p&&f.col===g||(f.row=p,f.col=g,f.address=a.n2l(g)+p))})}spliceRows(d,h,f,p){i.each(this.matrixMap,g=>{g.spliceRows(d,h,f,p),this.normaliseMatrix(g,d)})}spliceColumns(d,h,f,p){i.each(this.matrixMap,g=>{g.spliceColumns(d,h,f,p),this.normaliseMatrix(g,d)})}get model(){return i.map(this.matrixMap,(d,h)=>this.getRanges(h,d)).filter(d=>d.ranges.length)}set model(d){const h=this.matrixMap={};d.forEach(f=>{const p=h[f.name]=new o;f.ranges.forEach(g=>{l.test(g.split("!").pop()||"")&&p.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(r,n,s){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(r,n,s){const i=r("../utils/col-cache"),a=r("./anchor");n.exports=class{constructor(o,u){this.worksheet=o,this.model=u}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:u,imageId:l,range:d,hyperlinks:h}=o;if(this.type=u,this.imageId=l,u==="image")if(typeof d=="string"){const f=i.decode(d);this.range={tl:new a(this.worksheet,{col:f.left,row:f.top},-1),br:new a(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,d.tl,0),br:d.br&&new a(this.worksheet,d.br,0),ext:d.ext,editAs:d.editAs,hyperlinks:h||d.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(r,n,s){const i=r("../utils/under-dash");class a{constructor(u){this.note=u}get model(){let u=null;switch(typeof this.note){case"string":u={type:"note",note:{texts:[{text:this.note}]}};break;default:u={type:"note",note:this.note}}return i.deepMerge({},a.DEFAULT_CONFIGS,u)}set model(u){const{note:l}=u,{texts:d}=l;d.length===1&&Object.keys(d[0]).length===1?this.note=d[0].text:this.note=l}static fromModel(u){const l=new a;return l.model=u,l}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=a},{"../utils/under-dash":26}],10:[function(r,n,s){const i=r("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(u,l,d,h,f){if(arguments.length<4){const p=i.decodeAddress(u),g=i.decodeAddress(l);this.model={top:Math.min(p.row,g.row),left:Math.min(p.col,g.col),bottom:Math.max(p.row,g.row),right:Math.max(p.col,g.col),sheetName:d},this.setTLBR(p.row,p.col,g.row,g.col,f)}else this.model={top:Math.min(u,d),left:Math.min(l,h),bottom:Math.max(u,d),right:Math.max(l,h),sheetName:f}}decode(u){switch(u.length){case 5:this.setTLBR(u[0],u[1],u[2],u[3],u[4]);break;case 4:this.setTLBR(u[0],u[1],u[2],u[3]);break;case 3:this.setTLBR(u[0],u[1],u[2]);break;case 2:this.setTLBR(u[0],u[1]);break;case 1:{const l=u[0];if(l instanceof a)this.model={top:l.model.top,left:l.model.left,bottom:l.model.bottom,right:l.model.right,sheetName:l.sheetName};else if(l instanceof Array)this.decode(l);else if(l.top&&l.left&&l.bottom&&l.right)this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName};else{const d=i.decodeEx(l);d.top?this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName}:this.model={top:d.row,left:d.col,bottom:d.row,right:d.col,sheetName:d.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+u.length)}}get top(){return this.model.top||1}set top(u){this.model.top=u}get left(){return this.model.left||1}set left(u){this.model.left=u}get bottom(){return this.model.bottom||1}set bottom(u){this.model.bottom=u}get right(){return this.model.right||1}set right(u){this.model.right=u}get sheetName(){return this.model.sheetName}set sheetName(u){this.model.sheetName=u}get _serialisedSheetName(){const{sheetName:u}=this.model;return u?/^[a-zA-Z0-9]*$/.test(u)?u+"!":`'${u}'!`:""}expand(u,l,d,h){(!this.model.top||u<this.top)&&(this.top=u),(!this.model.left||l<this.left)&&(this.left=l),(!this.model.bottom||d>this.bottom)&&(this.bottom=d),(!this.model.right||h>this.right)&&(this.right=h)}expandRow(u){if(u){const{dimensions:l,number:d}=u;l&&this.expand(d,l.min,d,l.max)}}expandToAddress(u){const l=i.decodeEx(u);this.expand(l.row,l.col,l.row,l.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&!(u.bottom<this.top)&&!(u.top>this.bottom)&&!(u.right<this.left)&&!(u.left>this.right)}contains(u){const l=i.decodeEx(u);return this.containsEx(l)}containsEx(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&u.row>=this.top&&u.row<=this.bottom&&u.col>=this.left&&u.col<=this.right}forEachAddress(u){for(let l=this.left;l<=this.right;l++)for(let d=this.top;d<=this.bottom;d++)u(i.encodeAddress(d,l),d,l)}}n.exports=a},{"../utils/col-cache":19}],11:[function(r,n,s){const i=r("../utils/under-dash"),a=r("./enums"),o=r("../utils/col-cache"),u=r("./cell");n.exports=class{constructor(l,d){this._worksheet=l,this._number=d,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(l){return this._cells[l-1]}getCellEx(l){let d=this._cells[l.col-1];if(!d){const h=this._worksheet.getColumn(l.col);d=new u(this,h,l.address),this._cells[l.col-1]=d}return d}getCell(l){if(typeof l=="string"){const d=this._worksheet.getColumnKey(l);l=d?d.number:o.l2n(l)}return this._cells[l-1]||this.getCellEx({address:o.encodeAddress(this._number,l),row:this._number,col:l})}splice(l,d){const h=l+d;for(var f=arguments.length,p=new Array(f>2?f-2:0),g=2;g<f;g++)p[g-2]=arguments[g];const y=p.length-d,m=this._cells.length;let v,b,x;if(y<0)for(v=l+p.length;v<=m;v++)x=this._cells[v-1],b=this._cells[v-y-1],b?(x=this.getCell(v),x.value=b.value,x.style=b.style,x._comment=b._comment):x&&(x.value=null,x.style={},x._comment=void 0);else if(y>0)for(v=m;v>=h;v--)b=this._cells[v-1],b?(x=this.getCell(v+y),x.value=b.value,x.style=b.style,x._comment=b._comment):this._cells[v+y-1]=void 0;for(v=0;v<p.length;v++)x=this.getCell(l+v),x.value=p[v],x.style={},x._comment=void 0}eachCell(l,d){if(d||(d=l,l=null),l&&l.includeEmpty){const h=this._cells.length;for(let f=1;f<=h;f++)d(this.getCell(f),f)}else this._cells.forEach((h,f)=>{h&&h.type!==a.ValueType.Null&&d(h,f+1)})}addPageBreak(l,d){const h=this._worksheet,f=Math.max(0,l-1)||0,p=Math.max(0,d-1)||16838,g={id:this._number,max:p,man:1};f&&(g.min=f),h.rowBreaks.push(g)}get values(){const l=[];return this._cells.forEach(d=>{d&&d.type!==a.ValueType.Null&&(l[d.col]=d.value)}),l}set values(l){if(this._cells=[],l)if(l instanceof Array){let d=0;l.hasOwnProperty("0")&&(d=1),l.forEach((h,f)=>{h!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,f+d),row:this._number,col:f+d}).value=h)})}else this._worksheet.eachColumnKey((d,h)=>{l[h]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,d.number),row:this._number,col:d.number}).value=l[h])})}get hasValues(){return i.some(this._cells,l=>l&&l.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let l=0;return this.eachCell(()=>{l++}),l}get dimensions(){let l=0,d=0;return this._cells.forEach(h=>{h&&h.type!==a.ValueType.Null&&((!l||l>h.col)&&(l=h.col),d<h.col&&(d=h.col))}),l>0?{min:l,max:d}:null}_applyStyle(l,d){return this.style[l]=d,this._cells.forEach(h=>{h&&(h[l]=d)}),d}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const l=[];let d=0,h=0;return this._cells.forEach(f=>{if(f){const p=f.model;p&&((!d||d>f.col)&&(d=f.col),h<f.col&&(h=f.col),l.push(p))}}),this.height||l.length?{cells:l,number:this.number,min:d,max:h,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(l){if(l.number!==this._number)throw new Error("Invalid row number in model");let d;this._cells=[],l.cells.forEach(h=>{switch(h.type){case u.Types.Merge:break;default:{let f;if(h.address)f=o.decodeAddress(h.address);else if(d){const{row:p}=d,g=d.col+1;f={row:p,col:g,address:o.encodeAddress(p,g),$col$row:`$${o.n2l(g)}$${p}`}}d=f,this.getCellEx(f).model=h;break}}}),l.height?this.height=l.height:delete this.height,this.hidden=l.hidden,this.outlineLevel=l.outlineLevel||0,this.style=l.style&&JSON.parse(JSON.stringify(l.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(r,n,s){const i=r("../utils/col-cache");class a{constructor(u,l,d){this.table=u,this.column=l,this.index=d}_set(u,l){this.table.cacheState(),this.column[u]=l}get name(){return this.column.name}set name(u){this._set("name",u)}get filterButton(){return this.column.filterButton}set filterButton(u){this.column.filterButton=u}get style(){return this.column.style}set style(u){this.column.style=u}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(u){this._set("totalsRowLabel",u)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(u){this._set("totalsRowFunction",u)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(u){this._set("totalsRowResult",u)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(u){this._set("totalsRowFormula",u)}}n.exports=class{constructor(o,u){this.worksheet=o,u&&(this.table=u,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:o}=this,u=(y,m,v)=>{y[m]===void 0&&(y[m]=v)};u(o,"headerRow",!0),u(o,"totalsRow",!1),u(o,"style",{}),u(o.style,"theme","TableStyleMedium2"),u(o.style,"showFirstColumn",!1),u(o.style,"showLastColumn",!1),u(o.style,"showRowStripes",!1),u(o.style,"showColumnStripes",!1);const l=(y,m)=>{if(!y)throw new Error(m)};l(o.ref,"Table must have ref"),l(o.columns,"Table must have column definitions"),l(o.rows,"Table must have row definitions"),o.tl=i.decodeAddress(o.ref);const{row:d,col:h}=o.tl;l(d>0,"Table must be on valid row"),l(h>0,"Table must be on valid col");const{width:f,filterHeight:p,tableHeight:g}=this;o.autoFilterRef=i.encode(d,h,d+p-1,h+f-1),o.tableRef=i.encode(d,h,d+g-1,h+f-1),o.columns.forEach((y,m)=>{l(y.name,`Column ${m} must have a name`),m===0?u(y,"totalsRowLabel","Total"):(u(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const o=(p,g)=>{g&&Object.keys(g).forEach(y=>{p[y]=g[y]})},{worksheet:u,table:l}=this,{row:d,col:h}=l.tl;let f=0;if(l.headerRow){const p=u.getRow(d+f++);l.columns.forEach((g,y)=>{const{style:m,name:v}=g,b=p.getCell(h+y);b.value=v,o(b,m)})}if(l.rows.forEach(p=>{const g=u.getRow(d+f++);p.forEach((y,m)=>{const v=g.getCell(h+m);v.value=y,o(v,l.columns[m].style)})}),l.totalsRow){const p=u.getRow(d+f++);l.columns.forEach((g,y)=>{const m=p.getCell(h+y);if(y===0)m.value=g.totalsRowLabel;else{const v=this.getFormula(g);m.value=v?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}o(m,g.style)})}}load(o){const{table:u}=this,{row:l,col:d}=u.tl;let h=0;if(u.headerRow){const f=o.getRow(l+h++);u.columns.forEach((p,g)=>{f.getCell(d+g).value=p.name})}if(u.rows.forEach(f=>{const p=o.getRow(l+h++);f.forEach((g,y)=>{p.getCell(d+y).value=g})}),u.totalsRow){const f=o.getRow(l+h++);u.columns.forEach((p,g)=>{const y=f.getCell(d+g);g===0?y.value=p.totalsRowLabel:this.getFormula(p)&&(y.value={formula:p.totalsRowFormula,result:p.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const o=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let u=0;u<this._cache.tableHeight;u++){const l=this.worksheet.getRow(o.row+u);for(let d=0;d<this._cache.width;d++)l.getCell(o.col+d).value=null}else{for(let u=this.tableHeight;u<this._cache.tableHeight;u++){const l=this.worksheet.getRow(o.row+u);for(let d=0;d<this._cache.width;d++)l.getCell(o.col+d).value=null}for(let u=0;u<this.tableHeight;u++){const l=this.worksheet.getRow(o.row+u);for(let d=this.width;d<this._cache.width;d++)l.getCell(o.col+d).value=null}}this.store()}addRow(o,u){this.cacheState(),u===void 0?this.table.rows.push(o):this.table.rows.splice(u,0,o)}removeRows(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,u)}getColumn(o){const u=this.table.columns[o];return new a(this,u,o)}addColumn(o,u,l){this.cacheState(),l===void 0?(this.table.columns.push(o),this.table.rows.forEach((d,h)=>{d.push(u[h])})):(this.table.columns.splice(l,0,o),this.table.rows.forEach((d,h)=>{d.splice(l,0,u[h])}))}removeColumns(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,u),this.table.rows.forEach(l=>{l.splice(o,u)})}_assign(o,u,l){this.cacheState(),o[u]=l}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(r,n,s){const i=r("./worksheet"),a=r("./defined-names"),o=r("../xlsx/xlsx"),u=r("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new u(this)),this._csv}get nextId(){for(let l=1;l<this._worksheets.length;l++)if(!this._worksheets[l])return l;return this._worksheets.length||1}addWorksheet(l,d){const h=this.nextId;d&&(typeof d=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),d={properties:{tabColor:{argb:d}}}):(d.argb||d.theme||d.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),d={properties:{tabColor:d}}));const f=this._worksheets.reduce((y,m)=>(m&&m.orderNo)>y?m.orderNo:y,0),p=Object.assign({},d,{id:h,name:l,orderNo:f+1,workbook:this}),g=new i(p);return this._worksheets[h]=g,g}removeWorksheetEx(l){delete this._worksheets[l.id]}removeWorksheet(l){const d=this.getWorksheet(l);d&&d.destroy()}getWorksheet(l){return l===void 0?this._worksheets.find(Boolean):typeof l=="number"?this._worksheets[l]:typeof l=="string"?this._worksheets.find(d=>d&&d.name===l):void 0}get worksheets(){return this._worksheets.slice(1).sort((l,d)=>l.orderNo-d.orderNo).filter(Boolean)}eachSheet(l){this.worksheets.forEach(d=>{l(d,d.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(l){const d=this.media.length;return this.media.push(Object.assign({},l,{type:"image"})),d}getImage(l){return this.media[l]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(l=>l.model),sheets:this.worksheets.map(l=>l.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(l){this.creator=l.creator,this.lastModifiedBy=l.lastModifiedBy,this.lastPrinted=l.lastPrinted,this.created=l.created,this.modified=l.modified,this.company=l.company,this.manager=l.manager,this.title=l.title,this.subject=l.subject,this.keywords=l.keywords,this.category=l.category,this.description=l.description,this.language=l.language,this.revision=l.revision,this.contentStatus=l.contentStatus,this.properties=l.properties,this.calcProperties=l.calcProperties,this._worksheets=[],l.worksheets.forEach(d=>{const{id:h,name:f,state:p}=d,g=l.sheets&&l.sheets.findIndex(y=>y.id===h);(this._worksheets[h]=new i({id:h,name:f,orderNo:g,state:p,workbook:this})).model=d}),this._definedNames.model=l.definedNames,this.views=l.views,this._themes=l.themes,this.media=l.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(r,n,s){const i=r("../utils/under-dash"),a=r("../utils/col-cache"),o=r("./range"),u=r("./row"),l=r("./column"),d=r("./enums"),h=r("./image"),f=r("./table"),p=r("./data-validations"),g=r("../utils/encryptor"),{copyStyle:y}=r("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new p,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new o;return this._rows.forEach(v=>{if(v){const b=v.dimensions;b&&m.expand(v.number,b.min,v.number,b.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((x,k)=>{const T=(k.header?1:k.headers&&k.headers.length)||0;return Math.max(x,T)},0);let v=1;const b=this._columns=[];m.forEach(x=>{const k=new l(this,v++,!1);b.push(k),k.defn=x})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){i.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=a.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new l(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const b=this._rows.length;for(var x=arguments.length,k=new Array(x>2?x-2:0),T=2;T<x;T++)k[T-2]=arguments[T];if(k.length>0)for(let P=0;P<b;P++){const D=[m,v];k.forEach(B=>{D.push(B[P]||null)});const V=this.getRow(P+1);V.splice.apply(V,D)}else this._rows.forEach(P=>{P&&P.splice(m,v)});const O=k.length-v,F=m+v,A=this._columns.length;if(O<0)for(let P=m+k.length;P<=A;P++)this.getColumn(P).defn=this.getColumn(P-O).defn;else if(O>0)for(let P=A;P>=F;P--)this.getColumn(P+O).defn=this.getColumn(P).defn;for(let P=m;P<m+k.length;P++)this.getColumn(P).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,k.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(b=>{b.eachCell(x=>{let{col:k}=x;m[k]||(m[k]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new u(this,m)),v}getRows(m,v){if(v<1)return;const b=[];for(let x=m;x<m+v;x++)b.push(this.getRow(x));return b}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=this._nextRow,x=this.getRow(b);return x.values=m,this._setStyleOption(b,v[0]==="i"?v:"n"),x}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=[];return m.forEach(x=>{b.push(this.addRow(x,v))}),b}insertRow(m,v){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,b),this.getRow(m)}insertRows(m,v){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),b!=="n")for(let x=0;x<v.length;x++)b[0]==="o"&&this.findRow(v.length+m+x)!==void 0?this._copyStyle(v.length+m+x,m+x,b[1]==="+"):b[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+x,b[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this.getRow(m),k=this.getRow(v);k.style=y(x.style),x.eachCell({includeEmpty:b},(T,O)=>{k.getCell(O).style=y(T.style)}),k.height=x.height}duplicateRow(m,v){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this._rows[m-1],k=new Array(v).fill(x.values);this.spliceRows(m+1,b?0:v,...k);for(let T=0;T<v;T++){const O=this._rows[m+T];O.style=x.style,O.height=x.height,x.eachCell({includeEmpty:!0},(F,A)=>{O.getCell(A).style=F.style})}}spliceRows(m,v){const b=m+v;for(var x=arguments.length,k=new Array(x>2?x-2:0),T=2;T<x;T++)k[T-2]=arguments[T];const O=k.length,F=O-v,A=this._rows.length;let P,D;if(F<0)for(m===A&&(this._rows[A-1]=void 0),P=b;P<=A;P++)if(D=this._rows[P-1],D){const V=this.getRow(P+F);V.values=D.values,V.style=D.style,V.height=D.height,D.eachCell({includeEmpty:!0},(B,C)=>{V.getCell(C).style=B.style}),this._rows[P-1]=void 0}else this._rows[P+F-1]=void 0;else if(F>0)for(P=A;P>=b;P--)if(D=this._rows[P-1],D){const V=this.getRow(P+F);V.values=D.values,V.style=D.style,V.height=D.height,D.eachCell({includeEmpty:!0},(B,C)=>{if(V.getCell(C).style=B.style,B._value.constructor.name==="MergeValue"){const I=this.getRow(B._row._number+O).getCell(C),N=B._value._master,w=this.getRow(N._row._number+O).getCell(N._column._number);I.merge(w)}})}else this._rows[P+F-1]=void 0;for(P=0;P<O;P++){const V=this.getRow(m+P);V.style={},V.values=k[P]}this.workbook.definedNames.spliceRows(this.name,m,v,O)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const b=this._rows.length;for(let x=1;x<=b;x++)v(this.getRow(x),x)}else this._rows.forEach(b=>{b&&b.hasValues&&v(b,b.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const b=a.getAddress(m,v),x=this._rows[b.row-1];return x?x.findCell(b.col):void 0}getCell(m,v){const b=a.getAddress(m,v);return this.getRow(b.row).getCellEx(b)}mergeCells(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];const x=new o(v);this._mergeCellsInternal(x)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];const x=new o(v);this._mergeCellsInternal(x,!0)}_mergeCellsInternal(m,v){i.each(this._merges,x=>{if(x.intersects(m))throw new Error("Cannot merge already merged cells")});const b=this.getCell(m.top,m.left);for(let x=m.top;x<=m.bottom;x++)for(let k=m.left;k<=m.right;k++)(x>m.top||k>m.left)&&this.getCell(x,k).merge(b,v);this._merges[b.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let b=v.top;b<=v.bottom;b++)for(let x=v.left;x<=v.right;x++)this.getCell(b,x).unmerge();delete this._merges[m.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];const x=new o(v);for(let k=x.top;k<=x.bottom;k++)for(let T=x.left;T<=x.right;T++){const O=this.findCell(k,T);O&&(O.type===d.ValueType.Merge?this._unMergeMaster(O.master):this._merges[O.address]&&this._unMergeMaster(O))}}fillFormula(m,v,b){let x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const k=a.decode(m),{top:T,left:O,bottom:F,right:A}=k,P=A-O+1,D=a.encodeAddress(T,O),V=x==="shared";let B;B=typeof b=="function"?b:Array.isArray(b)?Array.isArray(b[0])?(I,N)=>b[I-T][N-O]:(I,N)=>b[(I-T)*P+(N-O)]:()=>{};let C=!0;for(let I=T;I<=F;I++)for(let N=O;N<=A;N++)C?(this.getCell(I,N).value={shareType:x,formula:v,ref:m,result:B(I,N)},C=!1):this.getCell(I,N).value=V?{sharedFormula:D,result:B(I,N)}:B(I,N)}addImage(m,v){const b={type:"image",imageId:m,range:v};this._media.push(new h(this,b))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new h(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(b=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),b()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new f(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(x=>x.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(x=>x.model),conditionalFormattings:this.conditionalFormattings};m.cols=l.toModel(this.columns);const v=m.rows=[],b=m.dimensions=new o;return this._rows.forEach(x=>{const k=x&&x.model;k&&(b.expand(k.number,k.min,k.number,k.max),v.push(k))}),m.merges=[],i.each(this._merges,x=>{m.merges.push(x.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const b=new u(this,v.number);this._rows[b.number-1]=b,b.model=v})}_parseMergeCells(m){i.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=l.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new p(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new h(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,b)=>{const x=new f;return x.model=b,v[b.name]=x,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(r,n,s){r("core-js/modules/es.promise"),r("core-js/modules/es.promise.finally"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.values"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.async-iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.find"),r("core-js/modules/es.string.from-code-point"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.number.is-nan"),r("regenerator-runtime/runtime");const i={Workbook:r("./doc/workbook")},a=r("./doc/enums");Object.keys(a).forEach(o=>{i[o]=a[o]}),n.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(r,n,s){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(a){return typeof a=="string"?a:i?i.decode(a):a.toString()}},{}],17:[function(r,n,s){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=r("buffer");s.stringToBuffer=function(o){return typeof o!="string"?o:i?a.from(i.encode(o).buffer):a.from(o)}},{buffer:220}],18:[function(r,n,s){const i=r("./under-dash"),a=r("./col-cache");n.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(a.decodeEx(o))}getCell(o){return this.findCellEx(a.decodeEx(o),!0)}findCell(o){return this.findCellEx(a.decodeEx(o),!1)}findCellAt(o,u,l){const d=this.sheets[o],h=d&&d[u];return h&&h[l]}addCellEx(o){if(o.top)for(let u=o.top;u<=o.bottom;u++)for(let l=o.left;l<=o.right;l++)this.getCellAt(o.sheetName,u,l);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,u){const l=this.findSheet(o,u),d=this.findSheetRow(l,o,u);return this.findRowCell(d,o,u)}getCellAt(o,u,l){const d=this.sheets[o]||(this.sheets[o]=[]),h=d[u]||(d[u]=[]);return h[l]||(h[l]={sheetName:o,address:a.n2l(l)+u,row:u,col:l})}removeCellEx(o){const u=this.findSheet(o);if(!u)return;const l=this.findSheetRow(u,o);l&&delete l[o.col]}forEachInSheet(o,u){const l=this.sheets[o];l&&l.forEach((d,h)=>{d&&d.forEach((f,p)=>{f&&u(f,h,p)})})}forEach(o){i.each(this.sheets,(u,l)=>{this.forEachInSheet(l,o)})}map(o){const u=[];return this.forEach(l=>{u.push(o(l))}),u}findSheet(o,u){const l=o.sheetName;return this.sheets[l]?this.sheets[l]:u?this.sheets[l]=[]:void 0}findSheetRow(o,u,l){const{row:d}=u;return o&&o[d]?o[d]:l?o[d]=[]:void 0}findRowCell(o,u,l){const{col:d}=u;return o&&o[d]?o[d]:l?o[d]=this.template?Object.assign(u,JSON.parse(JSON.stringify(this.template))):u:void 0}spliceRows(o,u,l,d){const h=this.sheets[o];if(h){const f=[];for(let p=0;p<d;p++)f.push([]);h.splice(u,l,...f)}}spliceColumns(o,u,l,d){const h=this.sheets[o];if(h){const f=[];for(let p=0;p<d;p++)f.push(null);i.each(h,p=>{p.splice(u,l,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(r,n,s){const i=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let u,l,d,h,f,p=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;p<=26;)u=this._dictionary[p-1],this._n2l[p]=u,this._l2n[u]=p,p++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(p=27;p<=702;)l=p-27,d=l%26,h=Math.floor(l/26),u=this._dictionary[h]+this._dictionary[d],this._n2l[p]=u,this._l2n[u]=p,p++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(p=703;p<=16384;)l=p-703,d=l%26,h=Math.floor(l/26)%26,f=Math.floor(l/676),u=this._dictionary[f]+this._dictionary[h]+this._dictionary[d],this._n2l[p]=u,this._l2n[u]=p,p++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!i.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){const u=o.length<5&&this._hash[o];if(u)return u;let l=!1,d="",h=0,f=!1,p="",g=0;for(let m,v=0;v<o.length;v++)if(m=o.charCodeAt(v),!f&&m>=65&&m<=90)l=!0,d+=o[v],h=26*h+m-64;else if(m>=48&&m<=57)f=!0,p+=o[v],g=10*g+m-48;else if(f&&l&&m!==36)break;if(l){if(h>16384)throw new Error("Out of bounds. Invalid column letter: "+d)}else h=void 0;f||(g=void 0);const y={address:o=d+p,col:h,row:g,$col$row:`$${d}$${p}`};return h<=100&&g<=100&&(this._hash[o]=y,this._hash[y.$col$row]=y),y},getAddress(o,u){if(u){const l=this.n2l(u)+o;return this.decodeAddress(l)}return this.decodeAddress(o)},decode(o){const u=o.split(":");if(u.length===2){const l=this.decodeAddress(u[0]),d=this.decodeAddress(u[1]),h={top:Math.min(l.row,d.row),left:Math.min(l.col,d.col),bottom:Math.max(l.row,d.row),right:Math.max(l.col,d.col)};return h.tl=this.n2l(h.left)+h.top,h.br=this.n2l(h.right)+h.bottom,h.dimensions=`${h.tl}:${h.br}`,h}return this.decodeAddress(o)},decodeEx(o){const u=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),l=u[1]||u[2],d=u[3],h=d.split(":");if(h.length>1){let p=this.decodeAddress(h[0]),g=this.decodeAddress(h[1]);const y=Math.min(p.row,g.row),m=Math.min(p.col,g.col),v=Math.max(p.row,g.row),b=Math.max(p.col,g.col);return p=this.n2l(m)+y,g=this.n2l(b)+v,{top:y,left:m,bottom:v,right:b,sheetName:l,tl:{address:p,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:l},br:{address:g,col:b,row:v,$col$row:`$${this.n2l(b)}$${v}`,sheetName:l},dimensions:`${p}:${g}`}}if(d.startsWith("#"))return l?{sheetName:l,error:d}:{error:d};const f=this.decodeAddress(d);return l?{sheetName:l,...f}:f},encodeAddress:(o,u)=>a.n2l(u)+o,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,u){const[l,d,,h,f]=o,[p,g]=u;return p>=l&&p<=h&&g>=d&&g<=f}};n.exports=a},{}],20:[function(r,n,s){const i=(o,u)=>({...o,...u.reduce((l,d)=>(o[d]&&(l[d]={...o[d]}),l),{})}),a=function(o,u,l){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[l]&&(u[l]=i(o[l],d))};s.copyStyle=o=>{if(!o)return o;if(u=o,Object.keys(u).length===0)return{};var u;const l={...o};return a(o,l,"font",["color"]),a(o,l,"alignment"),a(o,l,"protection"),o.border&&(a(o,l,"border"),a(o.border,l.border,"top",["color"]),a(o.border,l.border,"left",["color"]),a(o.border,l.border,"bottom",["color"]),a(o.border,l.border,"right",["color"]),a(o.border,l.border,"diagonal",["color"])),o.fill&&(a(o,l,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(l.fill.stops=o.fill.stops.map(d=>i(d,["color"])))),l}},{}],21:[function(r,n,s){(function(i){(function(){const a=r("crypto"),o={hash(u){const l=a.createHash(u);for(var d=arguments.length,h=new Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return l.update(i.concat(h)),l.digest()},convertPasswordToHash(u,l,d,h){if(l=l.toLowerCase(),a.getHashes().indexOf(l)<0)throw new Error(`Hash algorithm '${l}' not supported!`);const f=i.from(u,"utf16le");let p=this.hash(l,i.from(d,"base64"),f);for(let g=0;g<h;g++){const y=i.alloc(4);y.writeUInt32LE(g,0),p=this.hash(l,p,y)}return p.toString("base64")},randomBytes:u=>a.randomBytes(u)};n.exports=o}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(r,n,s){const{SaxesParser:i}=r("saxes"),{PassThrough:a}=r("readable-stream"),{bufferToString:o}=r("./browser-buffer-decode");n.exports=async function*(u){u.pipe&&!u[Symbol.asyncIterator]&&(u=u.pipe(new a));const l=new i;let d;l.on("error",f=>{d=f});let h=[];l.on("opentag",f=>h.push({eventType:"opentag",value:f})),l.on("text",f=>h.push({eventType:"text",value:f})),l.on("closetag",f=>h.push({eventType:"closetag",value:f}));for await(const f of u){if(l.write(o(f)),d)throw d;yield h,h=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(r,n,s){const i=r("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(u,l,d){const h=i.decode(l),f=i.decode(d);return u.replace(a,(p,g,y,m,v)=>{if(v)return p;const b=o.exec(m);if(b){const x=b[1],k=b[2].toUpperCase(),T=b[3],O=b[4];if(k.length>3||k.length===3&&k>"XFD")return p;let F=i.l2n(k),A=parseInt(O,10);return x||(F+=f.col-h.col),T||(A+=f.row-h.row),(g||"")+(x||"")+i.n2l(F)+(T||"")+A}return p})}}},{"./col-cache":19}],24:[function(r,n,s){(function(i,a){(function(){const o=r("readable-stream"),u=r("./utils"),l=r("./string-buf");class d{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,b,x){return this.toBuffer().copy(m,v,b,x)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class h{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,b,x){return this._data._buf.copy(m,v,b,x)}toBuffer(){return this._data.toBuffer()}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,b,x){this._data.copy(m,v,b,x)}toBuffer(){return this._data}}class p{constructor(m){this.size=m,this.buffer=a.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=a.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,b){const x=Math.min(b,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+x),this.iWrite+=x,x}}const g=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};u.inherits(g,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const y=new p(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map((function(m){return new Promise(v=>{m.write(y.toBuffer(),()=>{v()})})})))},_writeToBuffers(y){let m=0;const v=y.length;for(;m<v;)m+=this._getWritableBuffer().write(y,m,v-m)},async write(y,m,v){let b;if(m instanceof Function&&(v=m,m="utf8"),v=v||u.nop,y instanceof l)b=new h(y);else if(y instanceof a)b=new f(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");b=new d(y,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(b);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(b),i.nextTick(v)):(await this._pipe(b),v());else this.paused||this.emit("data",b.toBuffer()),this._writeToBuffers(b),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,m,v){const b=x=>{x?v(x):(this._flush(),this.pipes.forEach(k=>{k.end()}),this.emit("finish"))};y?this.write(y,m,b):b()},read(y){let m;if(y){for(m=[];y&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],b=v.read(y);y-=b.length,m.push(b),v.eod&&v.full&&this.buffers.shift()}return a.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],a.concat(m)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(m=>m!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(r,n,s){(function(i){(function(){n.exports=class{constructor(a){this._buf=i.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let o=2*this._buf.length;for(;o<a;)o*=2;const u=i.alloc(o);this._buf.copy(u,0),this._buf=u}addText(a){this._buffer=void 0;let o=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+a.length),o=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=o}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],26:[function(r,n,s){const{toString:i}=Object.prototype,a=/["&<>]/,o={each:function(u,l){u&&(Array.isArray(u)?u.forEach(l):Object.keys(u).forEach(d=>{l(u[d],d)}))},some:function(u,l){return!!u&&(Array.isArray(u)?u.some(l):Object.keys(u).some(d=>l(u[d],d)))},every:function(u,l){return!u||(Array.isArray(u)?u.every(l):Object.keys(u).every(d=>l(u[d],d)))},map:function(u,l){return u?Array.isArray(u)?u.map(l):Object.keys(u).map(d=>l(u[d],d)):[]},keyBy:(u,l)=>u.reduce((d,h)=>(d[h[l]]=h,d),{}),isEqual:function(u,l){const d=typeof u,h=typeof l,f=Array.isArray(u),p=Array.isArray(l);let g;if(d!==h)return!1;switch(typeof u){case"object":if(f||p)return!(!f||!p)&&u.length===l.length&&u.every((y,m)=>{const v=l[m];return o.isEqual(y,v)});if(u===null||l===null)return u===l;if(g=Object.keys(u),Object.keys(l).length!==g.length)return!1;for(const y of g)if(!l.hasOwnProperty(y))return!1;return o.every(u,(y,m)=>{const v=l[m];return o.isEqual(y,v)});default:return u===l}},escapeHtml(u){const l=a.exec(u);if(!l)return u;let d="",h="",f=0,p=l.index;for(;p<u.length;p++){switch(u.charAt(p)){case'"':h="&quot;";break;case"&":h="&amp;";break;case"'":h="&apos;";break;case"<":h="&lt;";break;case">":h="&gt;";break;default:continue}f!==p&&(d+=u.substring(f,p)),f=p+1,d+=h}return f!==p?d+u.substring(f,p):d},strcmp:(u,l)=>u<l?-1:u>l?1:0,isUndefined:u=>i.call(u)==="[object Undefined]",isObject:u=>i.call(u)==="[object Object]",deepMerge(){const u=arguments[0]||{},{length:l}=arguments;let d,h,f;function p(g,y){d=u[y],f=Array.isArray(g),o.isObject(g)||f?(f?(f=!1,h=d&&Array.isArray(d)?d:[]):h=d&&o.isObject(d)?d:{},u[y]=o.deepMerge(h,g)):o.isUndefined(g)||(u[y]=g)}for(let g=0;g<l;g++)o.each(arguments[g],p);return u}};n.exports=o},{}],27:[function(r,n,s){(function(i,a){(function(){const o=r("fs"),u=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,l={nop(){},promiseImmediate:d=>new Promise(h=>{i.setImmediate?a(()=>{h(d)}):setTimeout(()=>{h(d)},1)}),inherits:function(d,h,f,p){d.super_=h,p||(p=f,f=null),f&&Object.keys(f).forEach(y=>{Object.defineProperty(d,y,Object.getOwnPropertyDescriptor(f,y))});const g={constructor:{value:d,enumerable:!1,writable:!1,configurable:!0}};p&&Object.keys(p).forEach(y=>{g[y]=Object.getOwnPropertyDescriptor(p,y)}),d.prototype=Object.create(h.prototype,g)},dateToExcel:(d,h)=>25569+d.getTime()/864e5-(h?1462:0),excelToDate(d,h){const f=Math.round(24*(d-25569+(h?1462:0))*3600*1e3);return new Date(f)},parsePath(d){const h=d.lastIndexOf("/");return{path:d.substring(0,h),name:d.substring(h+1)}},getRelsPath(d){const h=l.parsePath(d);return`${h.path}/_rels/${h.name}.rels`},xmlEncode(d){const h=u.exec(d);if(!h)return d;let f="",p="",g=0,y=h.index;for(;y<d.length;y++){const m=d.charCodeAt(y);switch(m){case 34:p="&quot;";break;case 38:p="&amp;";break;case 39:p="&apos;";break;case 60:p="&lt;";break;case 62:p="&gt;";break;case 127:p="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){p="";break}continue}g!==y&&(f+=d.substring(g,y)),g=y+1,p&&(f+=p)}return g!==y?f+d.substring(g,y):f},xmlDecode:d=>d.replace(/&([a-z]*);/g,h=>{switch(h){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return h}}),validInt(d){const h=parseInt(d,10);return Number.isNaN(h)?0:h},isDateFmt(d){return d?(d=(d=d.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:d=>new Promise(h=>{o.access(d,o.constants.F_OK,f=>{h(!f)})})},toIsoDateString:d=>d.toIsoString().subsstr(0,10),parseBoolean:d=>d===!0||d==="true"||d===1||d==="1"};n.exports=l}).call(this)}).call(this,typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{fs:216,timers:523}],28:[function(r,n,s){const i=r("./under-dash"),a=r("./utils");function o(d,h,f){d.push(` ${h}="${a.xmlEncode(f.toString())}"`)}function u(d,h){if(h){const f=[];i.each(h,(p,g)=>{p!==void 0&&o(f,g,p)}),d.push(f.join(""))}}class l{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(h){const f=this._xml;f.push("<?xml"),u(f,h),f.push(`?>
`)}openNode(h,f){const p=this.tos,g=this._xml;p&&this.open&&g.push(">"),this._stack.push(h),g.push("<"),g.push(h),u(g,f),this.leaf=!0,this.open=!0}addAttribute(h,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&o(this._xml,h,f)}addAttributes(h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u(this._xml,h)}writeText(h){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(a.xmlEncode(h.toString()))}writeXml(h){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(h)}closeNode(){const h=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(h),f.push(">")),this.open=!1,this.leaf=!1}leafNode(h,f,p){this.openNode(h,f),p!==void 0&&this.writeText(p),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const h=this._rollbacks.pop();this._xml.length>h.xml&&this._xml.splice(h.xml,this._xml.length-h.xml),this._stack.length>h.stack&&this._stack.splice(h.stack,this._stack.length-h.stack),this.leaf=h.leaf,this.open=h.open}get xml(){return this.closeAll(),this._xml.join("")}}l.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=l},{"./under-dash":26,"./utils":27}],29:[function(r,n,s){(function(i){(function(){const a=r("events"),o=r("jszip"),u=r("./stream-buf"),{stringToBuffer:l}=r("./browser-buffer-encode");class d extends a.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new o,this.stream=new u}append(f,p){p.hasOwnProperty("base64")&&p.base64?this.zip.file(p.name,f,{base64:!0}):(i.browser&&typeof f=="string"&&(f=l(f)),this.zip.file(p.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,p){return this.stream.pipe(f,p)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}n.exports={ZipWriter:d}}).call(this)}).call(this,r("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(r,n,s){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(r,n,s){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(r,n,s){const i=r("../../utils/parse-sax"),a=r("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(l){}parseText(l){}parseClose(l){}reconcile(l,d){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(l=>{l instanceof o?l.reset():l.xform&&l.xform.reset()})}mergeModel(l){this.model=Object.assign(this.model||{},l)}async parse(l){for await(const d of l)for(const{eventType:h,value:f}of d)if(h==="opentag")this.parseOpen(f);else if(h==="text")this.parseText(f);else if(h==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(l){return this.parse(i(l))}get xml(){return this.toXml(this.model)}toXml(l){const d=new a;return this.render(d,l),d.xml}static toAttribute(l,d){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(h)return d}else if(h||l!==d)return l.toString()}static toStringAttribute(l,d){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(l,d,h)}static toStringValue(l,d){return l===void 0?d:l}static toBoolAttribute(l,d){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(h)return d}else if(h||l!==d)return l?"1":"0"}static toBoolValue(l,d){return l===void 0?d:l==="1"}static toIntAttribute(l,d){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(l,d,h)}static toIntValue(l,d){return l===void 0?d:parseInt(l,10)}static toFloatAttribute(l,d){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(l,d,h)}static toFloatValue(l,d){return l===void 0?d:parseFloat(l)}}n.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(r,n,s){const i=r("../base-xform"),a=r("../../../utils/col-cache");function o(l){try{return a.decodeEx(l),!0}catch{return!1}}function u(l){const d=[];let h=!1,f="";return l.split(",").forEach(p=>{if(!p)return;const g=(p.match(/'/g)||[]).length;if(!g)return void(h?f+=p+",":o(p)&&d.push(p));const y=g%2==0;!h&&y&&o(p)?d.push(p):h&&!y?(h=!1,o(f+p)&&d.push(f+p),f=""):(h=!0,f+=p+",")}),d}n.exports=class extends i{render(l,d){l.openNode("definedName",{name:d.name,localSheetId:d.localSheetId}),l.writeText(d.ranges.join(",")),l.closeNode()}parseOpen(l){switch(l.name){case"definedName":return this._parsedName=l.attributes.name,this._parsedLocalSheetId=l.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(l){this._parsedText.push(l)}parseClose(){return this.model={name:this._parsedName,ranges:u(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(r,n,s){const i=r("../../../utils/utils"),a=r("../base-xform");n.exports=class extends a{render(o,u){o.leafNode("sheet",{sheetId:u.id,name:u.name,state:u.state,"r:id":u.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:i.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{render(a,o){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{render(a,o){a.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{render(a,o){const u={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(u.visibility=o.visibility),a.leafNode("workbookView",u)}parseOpen(a){if(a.name==="workbookView"){const o=this.model={},u=function(d,h,f){const p=h!==void 0?o[d]=h:f;p!==void 0&&(o[d]=p)},l=function(d,h,f){const p=h!==void 0?o[d]=parseInt(h,10):f;p!==void 0&&(o[d]=p)};return l("x",a.attributes.xWindow,0),l("y",a.attributes.yWindow,0),l("width",a.attributes.windowWidth,25e3),l("height",a.attributes.windowHeight,1e4),u("visibility",a.attributes.visibility,"visible"),l("activeTab",a.attributes.activeTab,void 0),l("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../../../utils/col-cache"),o=r("../../../utils/xml-stream"),u=r("../base-xform"),l=r("../static-xform"),d=r("../list-xform"),h=r("./defined-name-xform"),f=r("./sheet-xform"),p=r("./workbook-view-xform"),g=r("./workbook-properties-xform"),y=r("./workbook-calc-properties-xform");class m extends u{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new d({tag:"bookViews",count:!1,childXform:new p}),sheets:new d({tag:"sheets",count:!1,childXform:new f}),definedNames:new d({tag:"definedNames",count:!1,childXform:new h}),calcPr:new y}}prepare(b){b.sheets=b.worksheets;const x=[];let k=0;b.sheets.forEach(T=>{if(T.pageSetup&&T.pageSetup.printArea&&T.pageSetup.printArea.split("&&").forEach(O=>{const F=O.split(":"),A={name:"_xlnm.Print_Area",ranges:[`'${T.name}'!$${F[0]}:$${F[1]}`],localSheetId:k};x.push(A)}),T.pageSetup&&(T.pageSetup.printTitlesRow||T.pageSetup.printTitlesColumn)){const O=[];if(T.pageSetup.printTitlesColumn){const A=T.pageSetup.printTitlesColumn.split(":");O.push(`'${T.name}'!$${A[0]}:$${A[1]}`)}if(T.pageSetup.printTitlesRow){const A=T.pageSetup.printTitlesRow.split(":");O.push(`'${T.name}'!$${A[0]}:$${A[1]}`)}const F={name:"_xlnm.Print_Titles",ranges:O,localSheetId:k};x.push(F)}k++}),x.length&&(b.definedNames=b.definedNames.concat(x)),(b.media||[]).forEach((T,O)=>{T.name=T.type+(O+1)})}render(b,x){b.openXml(o.StdDocAttributes),b.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(b),this.map.workbookPr.render(b,x.properties),this.map.bookViews.render(b,x.views),this.map.sheets.render(b,x.sheets),this.map.definedNames.render(b,x.definedNames),this.map.calcPr.render(b,x.calcProperties),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"workbook":return!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(b){const x=(b.workbookRels||[]).reduce((A,P)=>(A[P.Id]=P,A),{}),k=[];let T,O=0;(b.sheets||[]).forEach(A=>{const P=x[A.rId];P&&(T=b.worksheetHash["xl/"+P.Target.replace(/^(\s|\/xl\/)+/,"")],T&&(T.name=A.name,T.id=A.id,T.state=A.state,k[O++]=T))});const F=[];i.each(b.definedNames,A=>{if(A.name==="_xlnm.Print_Area"){if(T=k[A.localSheetId],T){T.pageSetup||(T.pageSetup={});const P=a.decodeEx(A.ranges[0]);T.pageSetup.printArea=T.pageSetup.printArea?`${T.pageSetup.printArea}&&${P.dimensions}`:P.dimensions}}else if(A.name==="_xlnm.Print_Titles"){if(T=k[A.localSheetId],T){T.pageSetup||(T.pageSetup={});const P=A.ranges.join(","),D=/\$/g,V=/\$\d+:\$\d+/,B=P.match(V);if(B&&B.length){const N=B[0];T.pageSetup.printTitlesRow=N.replace(D,"")}const C=/\$[A-Z]+:\$[A-Z]+/,I=P.match(C);if(I&&I.length){const N=I[0];T.pageSetup.printTitlesColumn=N.replace(D,"")}}}else F.push(A)}),b.definedNames=F,b.media.forEach((A,P)=>{A.index=P})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new l({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(r,n,s){const i=r("../strings/rich-text-xform"),a=r("../../../utils/utils"),o=r("../base-xform"),u=n.exports=function(l){this.model=l};a.inherits(u,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(l,d){d=d||this.model,l.openNode("comment",{ref:d.ref,authorId:0}),l.openNode("text"),d&&d.note&&d.note.texts&&d.note.texts.forEach(h=>{this.richTextXform.render(l,h)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"comment":return this.model={type:"note",note:{texts:[]},...l.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../../../utils/utils"),o=r("../base-xform"),u=r("./comment-xform"),l=n.exports=function(){this.map={comment:new u}};a.inherits(l,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(d,h){h=h||this.model,d.openXml(i.StdDocAttributes),d.openNode("comments",l.COMMENTS_ATTRIBUTES),d.openNode("authors"),d.leafNode("author",null,"Author"),d.closeNode(),d.openNode("commentList"),h.comments.forEach(f=>{this.map.comment.render(d,f)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,o,u){(o===u[2]||this.tag==="x:SizeWithCells"&&o===u[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(a){const o=Math.floor(a.left),u=Math.floor(68*(a.left-o)),l=Math.floor(a.top),d=Math.floor(18*(a.top-l)),h=Math.floor(a.right),f=Math.floor(68*(a.right-h)),p=Math.floor(a.bottom);return[o,u,l,d,h,f,p,Math.floor(18*(a.bottom-p))]}getDefaultRect(a){const o=a.col,u=Math.max(a.row-2,0);return[o,6,u,14,o+2,2,u+4,16]}render(a,o){const u=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);a.leafNode("x:Anchor",null,u.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(r,n,s){const i=r("../base-xform"),a=r("./vml-anchor-xform"),o=r("./style/vml-protection-xform"),u=r("./style/vml-position-xform"),l=["twoCells","oneCells","absolute"];n.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new u({tag:"x:SizeWithCells"}),"x:MoveWithCells":new u({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(d,h){const{protection:f,editAs:p}=h.note;d.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(d,p,l),this.map["x:SizeWithCells"].render(d,p,l),this.map["x:Anchor"].render(d,h),this.map["x:Locked"].render(d,f.locked),d.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(d,f.lockText),d.leafNode("x:Row",null,h.refAddress.row-1),d.leafNode("x:Column",null,h.refAddress.col-1),d.closeNode()}parseOpen(d){switch(d.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const d=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),h=Object.keys(d).length;this.model.editAs=l[h],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform"),o=r("./vml-shape-xform");class u extends a{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(d,h){d.openXml(i.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.openNode("o:shapelayout",{"v:ext":"edit"}),d.leafNode("o:idmap",{"v:ext":"edit",data:1}),d.closeNode(),d.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),d.leafNode("v:stroke",{joinstyle:"miter"}),d.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),d.closeNode(),h.comments.forEach((f,p)=>{this.map["v:shape"].render(d,f,p)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,h){d.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,h):this.map["xdr:oneCellAnchor"].reconcile(f,h)})}}u.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(r,n,s){const i=r("../base-xform"),a=r("./vml-textbox-xform"),o=r("./vml-client-data-xform");class u extends i{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new o}}get tag(){return"v:shape"}render(d,h,f){d.openNode("v:shape",u.V_SHAPE_ATTRIBUTES(h,f)),d.leafNode("v:fill",{color2:"infoBackground [80]"}),d.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),d.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(d,h),this.map["x:ClientData"].render(d,h),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={margins:{insetmode:d.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}u.V_SHAPE_ATTRIBUTES=(l,d)=>({id:"_x0000_s"+(1025+d),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":l.note.margins&&l.note.margins.insetmode}),n.exports=u},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(a,o,u){return`${parseFloat(a)*o.toFixed(2)}${u}`}reverseConversionUnit(a){return(a||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(a,o){const u={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:l}=o.note&&o.note.margins;Array.isArray(l)&&(l=l.map(d=>this.conversionUnit(d,10,"mm")).join(",")),l&&(u.inset=l)}a.openNode("v:textbox",u),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(r,n,s){const i=r("./base-xform");n.exports=class extends i{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,o){this.model[a]=o.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{render(a,o){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,o.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{render(a,o){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(u=>{a.leafNode("vt:lpstr",void 0,u.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform"),o=r("../simple/string-xform"),u=r("./app-heading-pairs-xform"),l=r("./app-titles-of-parts-xform");class d extends a{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new u,TitleOfParts:new l}}render(f,p){f.openXml(i.StdDocAttributes),f.openNode("Properties",d.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,p.worksheets),this.map.TitleOfParts.render(f,p.worksheets),this.map.Company.render(f,p.company||""),this.map.Manager.render(f,p.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"Properties":return!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}d.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3,6}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform");class o extends a{render(l,d){l.openXml(i.StdDocAttributes),l.openNode("Types",o.PROPERTY_ATTRIBUTES);const h={};(d.media||[]).forEach(f=>{if(f.type==="image"){const p=f.extension;h[p]||(h[p]=!0,l.leafNode("Default",{Extension:p,ContentType:"image/"+p}))}}),l.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),l.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),l.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),d.worksheets.forEach(f=>{const p=`/xl/worksheets/sheet${f.id}.xml`;l.leafNode("Override",{PartName:p,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),l.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),l.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),d.sharedStrings&&d.sharedStrings.count&&l.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),d.tables&&d.tables.forEach(f=>{l.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),d.drawings&&d.drawings.forEach(f=>{l.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),d.commentRefs&&(l.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),d.commentRefs.forEach(f=>{let{commentName:p}=f;l.leafNode("Override",{PartName:`/xl/${p}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),l.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),l.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),l.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform"),o=r("../simple/date-xform"),u=r("../simple/string-xform"),l=r("../simple/integer-xform");class d extends a{constructor(){super(),this.map={"dc:creator":new u({tag:"dc:creator"}),"dc:title":new u({tag:"dc:title"}),"dc:subject":new u({tag:"dc:subject"}),"dc:description":new u({tag:"dc:description"}),"dc:identifier":new u({tag:"dc:identifier"}),"dc:language":new u({tag:"dc:language"}),"cp:keywords":new u({tag:"cp:keywords"}),"cp:category":new u({tag:"cp:category"}),"cp:lastModifiedBy":new u({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:d.DateFormat}),"cp:revision":new l({tag:"cp:revision"}),"cp:version":new u({tag:"cp:version"}),"cp:contentStatus":new u({tag:"cp:contentStatus"}),"cp:contentType":new u({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:d.DateAttrs,format:d.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:d.DateAttrs,format:d.DateFormat})}}render(f,p){f.openXml(i.StdDocAttributes),f.openNode("cp:coreProperties",d.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,p.creator),this.map["dc:title"].render(f,p.title),this.map["dc:subject"].render(f,p.subject),this.map["dc:description"].render(f,p.description),this.map["dc:identifier"].render(f,p.identifier),this.map["dc:language"].render(f,p.language),this.map["cp:keywords"].render(f,p.keywords),this.map["cp:category"].render(f,p.category),this.map["cp:lastModifiedBy"].render(f,p.lastModifiedBy),this.map["cp:lastPrinted"].render(f,p.lastPrinted),this.map["cp:revision"].render(f,p.revision),this.map["cp:version"].render(f,p.version),this.map["cp:contentStatus"].render(f,p.contentStatus),this.map["cp:contentType"].render(f,p.contentType),this.map["dcterms:created"].render(f,p.created),this.map["dcterms:modified"].render(f,p.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}d.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{render(a,o){a.leafNode("Relationship",o)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform"),o=r("./relationship-xform");class u extends a{constructor(){super(),this.map={Relationship:new o}}render(d,h){h=h||this._values,d.openXml(i.StdDocAttributes),d.openNode("Relationships",u.RELATIONSHIPS_ATTRIBUTES),h.forEach(f=>{this.map.Relationship.render(d,f)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(d){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,o){if(a&&a.rId){const u=o.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(u){const l=u[1],d=o.mediaIndex[l];return o.media[d]}}}}},{"../base-xform":32}],57:[function(r,n,s){const i=r("../base-xform"),a=r("./blip-xform");n.exports=class extends i{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(o,u){o.openNode(this.tag),this.map["a:blip"].render(o,u),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"a:blip"}render(a,o){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(r,n,s){const i=r("../base-xform"),a=r("./hlink-click-xform"),o=r("./ext-lst-xform");n.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(u,l){u.openNode(this.tag,{id:l.index,name:"Picture "+l.index}),this.map["a:hlinkClick"].render(u,l),this.map["a:extLst"].render(u,l),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(r,n,s){const i=r("../base-xform"),a=r("../simple/integer-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(o,u){o.openNode(this.tag),this.map["xdr:col"].render(o,u.nativeCol),this.map["xdr:colOff"].render(o,u.nativeColOff),this.map["xdr:row"].render(o,u.nativeRow),this.map["xdr:rowOff"].render(o,u.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(r,n,s){const i=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),o=r("../base-xform"),u=r("./two-cell-anchor-xform"),l=r("./one-cell-anchor-xform");class d extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new u,"xdr:oneCellAnchor":new l}}prepare(f){f.anchors.forEach((p,g)=>{p.anchorType=(function(y){return(typeof y.range=="string"?i.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(p),this.map[p.anchorType].prepare(p,{index:g})})}get tag(){return"xdr:wsDr"}render(f,p){f.openXml(a.StdDocAttributes),f.openNode(this.tag,d.DRAWING_ATTRIBUTES),p.anchors.forEach(g=>{this.map[g.anchorType].render(f,g)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:return!0}}reconcile(f,p){f.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,p):this.map["xdr:oneCellAnchor"].reconcile(g,p)})}}d.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=d},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,o){a.openNode(this.tag);const u=Math.floor(9525*o.width),l=Math.floor(9525*o.height);a.addAttribute("cx",u),a.addAttribute("cy",l),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"a:hlinkClick"}render(a,o){o.hyperlinks&&o.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(r,n,s){const i=r("../base-xform"),a=r("./c-nv-pr-xform"),o=r("./c-nv-pic-pr-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(u,l){u.openNode(this.tag),this.map["xdr:cNvPr"].render(u,l),this.map["xdr:cNvPicPr"].render(u,l),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(r,n,s){const i=r("./base-cell-anchor-xform"),a=r("../static-xform"),o=r("./cell-position-xform"),u=r("./ext-xform"),l=r("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new u({tag:"xdr:ext"}),"xdr:pic":new l,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(d,h){this.map["xdr:pic"].prepare(d.picture,h)}render(d,h){d.openNode(this.tag,{editAs:h.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,h.range.tl),this.map["xdr:ext"].render(d,h.range.ext),this.map["xdr:pic"].render(d,h.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,h){d.medium=this.reconcilePicture(d.picture,h)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(r,n,s){const i=r("../base-xform"),a=r("../static-xform"),o=r("./blip-fill-xform"),u=r("./nv-pic-pr-xform"),l=r("./sp-pr");n.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new u,"xdr:blipFill":new o,"xdr:spPr":new a(l)}}get tag(){return"xdr:pic"}prepare(d,h){d.index=h.index+1}render(d,h){d.openNode(this.tag),this.map["xdr:nvPicPr"].render(d,h),this.map["xdr:blipFill"].render(d,h),this.map["xdr:spPr"].render(d,h),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(r,n,s){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(r,n,s){const i=r("./base-cell-anchor-xform"),a=r("../static-xform"),o=r("./cell-position-xform"),u=r("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new u,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(l,d){this.map["xdr:pic"].prepare(l.picture,d)}render(l,d){l.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,d.range.tl),this.map["xdr:to"].render(l,d.range.br),this.map["xdr:pic"].render(l,d.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,d){l.medium=this.reconcilePicture(l.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(r,n,s){const i=r("./base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,o){const{childXform:u}=this;a&&a.forEach((l,d)=>{o.index=d,u.prepare(l,o)})}render(a,o){if(this.always||o&&o.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,o&&o.length||0);const{childXform:u}=this;(o||[]).forEach((l,d)=>{u.render(a,l,d)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,o){if(a){const{childXform:u}=this;a.forEach(l=>{u.reconcile(l,o)})}}}},{"./base-xform":32}],72:[function(r,n,s){const i=r("../../../utils/col-cache"),a=r("../base-xform");n.exports=class extends a{get tag(){return"autoFilter"}render(o,u){if(u)if(typeof u=="string")o.leafNode("autoFilter",{ref:u});else{const l=function(f){return typeof f=="string"?f:i.getAddress(f.row,f.column).address},d=l(u.from),h=l(u.to);d&&h&&o.leafNode("autoFilter",{ref:`${d}:${h}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(r,n,s){const i=r("../../../utils/utils"),a=r("../base-xform"),o=r("../../../doc/range"),u=r("../../../doc/enums"),l=r("../strings/rich-text-xform");function d(h){if(h==null)return u.ValueType.Null;if(h instanceof String||typeof h=="string")return u.ValueType.String;if(typeof h=="number")return u.ValueType.Number;if(typeof h=="boolean")return u.ValueType.Boolean;if(h instanceof Date)return u.ValueType.Date;if(h.text&&h.hyperlink)return u.ValueType.Hyperlink;if(h.formula)return u.ValueType.Formula;if(h.error)return u.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends a{constructor(){super(),this.richTextXForm=new l}get tag(){return"c"}prepare(h,f){const p=f.styles.addStyleModel(h.style||{},(function(g){switch(g.type){case u.ValueType.Formula:return d(g.result);default:return g.type}})(h));switch(p&&(h.styleId=p),h.comment&&f.comments.push({...h.comment,ref:h.address}),h.type){case u.ValueType.String:case u.ValueType.RichText:f.sharedStrings&&(h.ssId=f.sharedStrings.add(h.value));break;case u.ValueType.Date:f.date1904&&(h.date1904=!0);break;case u.ValueType.Hyperlink:f.sharedStrings&&h.text!==void 0&&h.text!==null&&(h.ssId=f.sharedStrings.add(h.text)),f.hyperlinks.push({address:h.address,target:h.hyperlink,tooltip:h.tooltip});break;case u.ValueType.Merge:f.merges.add(h);break;case u.ValueType.Formula:if(f.date1904&&(h.date1904=!0),h.shareType==="shared"&&(h.si=f.siFormulae++),h.formula)f.formulae[h.address]=h;else if(h.sharedFormula){const g=f.formulae[h.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+h.address);g.si===void 0?(g.shareType="shared",g.si=f.siFormulae++,g.range=new o(g.address,h.address)):g.range&&g.range.expandToAddress(h.address),h.si=g.si}}}renderFormula(h,f){let p=null;switch(f.shareType){case"shared":p={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":p={t:"array",ref:f.ref};break;default:f.si!==void 0&&(p={t:"shared",si:f.si})}switch(d(f.result)){case u.ValueType.Null:h.leafNode("f",p,f.formula);break;case u.ValueType.String:h.addAttribute("t","str"),h.leafNode("f",p,f.formula),h.leafNode("v",null,f.result);break;case u.ValueType.Number:h.leafNode("f",p,f.formula),h.leafNode("v",null,f.result);break;case u.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("f",p,f.formula),h.leafNode("v",null,f.result?1:0);break;case u.ValueType.Error:h.addAttribute("t","e"),h.leafNode("f",p,f.formula),h.leafNode("v",null,f.result.error);break;case u.ValueType.Date:h.leafNode("f",p,f.formula),h.leafNode("v",null,i.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(h,f){if(f.type!==u.ValueType.Null||f.styleId){switch(h.openNode("c"),h.addAttribute("r",f.address),f.styleId&&h.addAttribute("s",f.styleId),f.type){case u.ValueType.Null:break;case u.ValueType.Number:h.leafNode("v",null,f.value);break;case u.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("v",null,f.value?"1":"0");break;case u.ValueType.Error:h.addAttribute("t","e"),h.leafNode("v",null,f.value.error);break;case u.ValueType.String:case u.ValueType.RichText:f.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(h.addAttribute("t","inlineStr"),h.openNode("is"),f.value.richText.forEach(p=>{this.richTextXForm.render(h,p)}),h.closeNode("is")):(h.addAttribute("t","str"),h.leafNode("v",null,f.value));break;case u.ValueType.Date:h.leafNode("v",null,i.dateToExcel(f.value,f.date1904));break;case u.ValueType.Hyperlink:f.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,f.ssId)):(h.addAttribute("t","str"),h.leafNode("v",null,f.text));break;case u.ValueType.Formula:this.renderFormula(h,f);break;case u.ValueType.Merge:}h.closeNode()}}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"c":return this.model={address:h.attributes.r},this.t=h.attributes.t,h.attributes.s&&(this.model.styleId=parseInt(h.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=h.attributes.si,this.model.shareType=h.attributes.t,this.model.ref=h.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){if(this.parser)this.parser.parseText(h);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+h:h;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+h:h:this.model.value=this.model.value?this.model.value+h:h}}parseClose(h){switch(h){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=u.ValueType.Formula,f.value&&(this.t==="str"?f.result=i.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=u.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=u.ValueType.String,f.value=i.xmlDecode(f.value);break;case"inlineStr":f.type=u.ValueType.String;break;case"b":f.type=u.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=u.ValueType.Error,f.value={error:f.value};break;default:f.type=u.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=u.ValueType.Null:f.type=u.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(h),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(h),!0)}}reconcile(h,f){const p=h.styleId&&f.styles&&f.styles.getStyleModel(h.styleId);switch(p&&(h.style=p),h.styleId!==void 0&&(h.styleId=void 0),h.type){case u.ValueType.String:typeof h.value=="number"&&f.sharedStrings&&(h.value=f.sharedStrings.getString(h.value)),h.value.richText&&(h.type=u.ValueType.RichText);break;case u.ValueType.Number:p&&i.isDateFmt(p.numFmt)&&(h.type=u.ValueType.Date,h.value=i.excelToDate(h.value,f.date1904));break;case u.ValueType.Formula:h.result!==void 0&&p&&i.isDateFmt(p.numFmt)&&(h.result=i.excelToDate(h.result,f.date1904)),h.shareType==="shared"&&(h.ref?f.formulae[h.si]=h.address:(h.sharedFormula=f.formulae[h.si],delete h.shareType),delete h.si)}const g=f.hyperlinkMap[h.address];g&&(h.type===u.ValueType.Formula?(h.text=h.result,h.result=void 0):(h.text=h.value,h.value=void 0),h.type=u.ValueType.Hyperlink,h.hyperlink=g);const y=f.commentsMap&&f.commentsMap[h.address];y&&(h.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{get tag(){return"x14:cfIcon"}render(a,o){a.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(a){let{attributes:o}=a;this.model={iconSet:o.iconSet,iconId:i.toIntValue(o.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(r,n,s){const{v4:i}=r("uuid"),a=r("../../base-xform"),o=r("../../composite-xform"),u=r("./databar-ext-xform"),l=r("./icon-set-ext-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class h extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new u,"x14:iconSet":this.iconSetXform=new l}}get tag(){return"x14:cfRule"}static isExt(p){return p.type==="dataBar"?u.isExt(p):!(p.type!=="iconSet"||!p.custom&&!d[p.iconSet])}prepare(p){h.isExt(p)&&(p.x14Id=`{${i()}}`.toUpperCase())}render(p,g){if(h.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(p,g);break;case"iconSet":this.renderIconSet(p,g)}}renderDataBar(p,g){p.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(p,g),p.closeNode()}renderIconSet(p,g){p.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${i()}}`}),this.iconSetXform.render(p,g),p.closeNode()}createNewModel(p){let{attributes:g}=p;return{type:g.type,x14Id:g.id,priority:a.toIntValue(g.priority)}}onParserClose(p,g){Object.assign(this.model,g.model)}}n.exports=h},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(r,n,s){const i=r("../../composite-xform"),a=r("./f-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(o,u){o.openNode(this.tag,{type:u.type}),u.value!==void 0&&this.fExtXform.render(o,u.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,u){switch(o){case"xm:f":this.model.value=u.model?parseFloat(u.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(r,n,s){const i=r("../../composite-xform"),a=r("./sqref-ext-xform"),o=r("./cf-rule-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(u,l){u.rules.forEach(d=>{this.cfRule.prepare(d,l)})}render(u,l){l.rules.some(o.isExt)&&(u.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),l.rules.filter(o.isExt).forEach(d=>this.cfRule.render(u,d)),this.sqRef.render(u,l.ref),u.closeNode())}createNewModel(){return{rules:[]}}onParserClose(u,l){switch(u){case"xm:sqref":this.model.ref=l.model;break;case"x14:cfRule":this.model.rules.push(l.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(r,n,s){const i=r("../../composite-xform"),a=r("./cf-rule-ext-xform"),o=r("./conditional-formatting-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(u){return u.hasExtContent===void 0&&(u.hasExtContent=u.some(l=>l.rules.some(a.isExt))),u.hasExtContent}prepare(u,l){u.forEach(d=>{this.cfXform.prepare(d,l)})}render(u,l){this.hasContent(l)&&(u.openNode(this.tag),l.forEach(d=>this.cfXform.render(u,d)),u.closeNode())}createNewModel(){return[]}onParserClose(u,l){this.model.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(r,n,s){const i=r("../../base-xform"),a=r("../../composite-xform"),o=r("../../style/color-xform"),u=r("./cfvo-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(l){return!l.gradient}get tag(){return"x14:dataBar"}render(l,d){l.openNode(this.tag,{minLength:i.toIntAttribute(d.minLength,0,!0),maxLength:i.toIntAttribute(d.maxLength,100,!0),border:i.toBoolAttribute(d.border,!1),gradient:i.toBoolAttribute(d.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(d.axisPosition,"auto"),direction:i.toAttribute(d.direction,"leftToRight")}),d.cfvo.forEach(h=>{this.cfvoXform.render(l,h)}),this.borderColorXform.render(l,d.borderColor),this.negativeBorderColorXform.render(l,d.negativeBorderColor),this.negativeFillColorXform.render(l,d.negativeFillColor),this.axisColorXform.render(l,d.axisColor),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{cfvo:[],minLength:i.toIntValue(d.minLength,0),maxLength:i.toIntValue(d.maxLength,100),border:i.toBoolValue(d.border,!1),gradient:i.toBoolValue(d.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(d.axisPosition,"auto"),direction:i.toStringValue(d.direction,"leftToRight")}}onParserClose(l,d){const[,h]=l.split(":");switch(h){case"cfvo":this.model.cfvo.push(d.model);break;default:this.model[h]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{get tag(){return"xm:f"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(r,n,s){const i=r("../../base-xform"),a=r("../../composite-xform"),o=r("./cfvo-ext-xform"),u=r("./cf-icon-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new u}}get tag(){return"x14:iconSet"}render(l,d){l.openNode(this.tag,{iconSet:i.toStringAttribute(d.iconSet),reverse:i.toBoolAttribute(d.reverse,!1),showValue:i.toBoolAttribute(d.showValue,!0),custom:i.toBoolAttribute(d.icons,!1)}),d.cfvo.forEach(h=>{this.cfvoXform.render(l,h)}),d.icons&&d.icons.forEach((h,f)=>{h.iconId=f,this.cfIconXform.render(l,h)}),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{cfvo:[],iconSet:i.toStringValue(d.iconSet,"3TrafficLights"),reverse:i.toBoolValue(d.reverse,!1),showValue:i.toBoolValue(d.showValue,!0)}}onParserClose(l,d){const[,h]=l.split(":");switch(h){case"cfvo":this.model.cfvo.push(d.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(d.model);break;default:this.model[h]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{get tag(){return"xm:sqref"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(r,n,s){const i=r("../../base-xform"),a=r("../../composite-xform"),o=r("../../../../doc/range"),u=r("./databar-xform"),l=r("./ext-lst-ref-xform"),d=r("./formula-xform"),h=r("./color-scale-xform"),f=r("./icon-set-xform"),p={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=m=>{const{type:v,operator:b}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:b}}};class y extends a{constructor(){super(),this.map={dataBar:this.databarXform=new u,extLst:this.extLstRefXform=new l,formula:this.formulaXform=new d,colorScale:this.colorScaleXform=new h,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!p[v.iconSet]}render(v,b){switch(b.type){case"expression":this.renderExpression(v,b);break;case"cellIs":this.renderCellIs(v,b);break;case"top10":this.renderTop10(v,b);break;case"aboveAverage":this.renderAboveAverage(v,b);break;case"dataBar":this.renderDataBar(v,b);break;case"colorScale":this.renderColorScale(v,b);break;case"iconSet":this.renderIconSet(v,b);break;case"containsText":this.renderText(v,b);break;case"timePeriod":this.renderTimePeriod(v,b)}}renderExpression(v,b){v.openNode(this.tag,{type:"expression",dxfId:b.dxfId,priority:b.priority}),this.formulaXform.render(v,b.formulae[0]),v.closeNode()}renderCellIs(v,b){v.openNode(this.tag,{type:"cellIs",dxfId:b.dxfId,priority:b.priority,operator:b.operator}),b.formulae.forEach(x=>{this.formulaXform.render(v,x)}),v.closeNode()}renderTop10(v,b){v.leafNode(this.tag,{type:"top10",dxfId:b.dxfId,priority:b.priority,percent:i.toBoolAttribute(b.percent,!1),bottom:i.toBoolAttribute(b.bottom,!1),rank:i.toIntValue(b.rank,10,!0)})}renderAboveAverage(v,b){v.leafNode(this.tag,{type:"aboveAverage",dxfId:b.dxfId,priority:b.priority,aboveAverage:i.toBoolAttribute(b.aboveAverage,!0)})}renderDataBar(v,b){v.openNode(this.tag,{type:"dataBar",priority:b.priority}),this.databarXform.render(v,b),this.extLstRefXform.render(v,b),v.closeNode()}renderColorScale(v,b){v.openNode(this.tag,{type:"colorScale",priority:b.priority}),this.colorScaleXform.render(v,b),v.closeNode()}renderIconSet(v,b){y.isPrimitive(b)&&(v.openNode(this.tag,{type:"iconSet",priority:b.priority}),this.iconSetXform.render(v,b),v.closeNode())}renderText(v,b){v.openNode(this.tag,{type:b.operator,dxfId:b.dxfId,priority:b.priority,operator:i.toStringAttribute(b.operator,"containsText")});const x=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const T=new o(k.ref),{tl:O}=T;switch(k.operator){case"containsText":return`NOT(ISERROR(SEARCH("${k.text}",${O})))`;case"containsBlanks":return`LEN(TRIM(${O}))=0`;case"notContainsBlanks":return`LEN(TRIM(${O}))>0`;case"containsErrors":return`ISERROR(${O})`;case"notContainsErrors":return`NOT(ISERROR(${O}))`;default:return}})(b);x&&this.formulaXform.render(v,x),v.closeNode()}renderTimePeriod(v,b){v.openNode(this.tag,{type:"timePeriod",dxfId:b.dxfId,priority:b.priority,timePeriod:b.timePeriod});const x=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const T=new o(k.ref),{tl:O}=T;switch(k.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${O},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${O},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${O},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${O},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${O},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${O},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${O},1)=TODAY()-1`;case"today":return`FLOOR(${O},1)=TODAY()`;case"tomorrow":return`FLOOR(${O},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${O},1)<=6,FLOOR(${O},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${O})=MONTH(EDATE(TODAY(),0-1)),YEAR(${O})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${O})=MONTH(TODAY()),YEAR(${O})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${O})=MONTH(EDATE(TODAY(),0+1)),YEAR(${O})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(b);x&&this.formulaXform.render(v,x),v.closeNode()}createNewModel(v){let{attributes:b}=v;return{...g(b),dxfId:i.toIntValue(b.dxfId),priority:i.toIntValue(b.priority),timePeriod:b.timePeriod,percent:i.toBoolValue(b.percent),bottom:i.toBoolValue(b.bottom),rank:i.toIntValue(b.rank),aboveAverage:i.toBoolValue(b.aboveAverage)}}onParserClose(v,b){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,b.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(b.model)}}}n.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{get tag(){return"cfvo"}render(a,o){a.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(a){this.model={type:a.attributes.type,value:i.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(r,n,s){const i=r("../../composite-xform"),a=r("../../style/color-xform"),o=r("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new a}}get tag(){return"colorScale"}render(u,l){u.openNode(this.tag),l.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),l.color.forEach(d=>{this.colorXform.render(u,d)}),u.closeNode()}createNewModel(u){return{cfvo:[],color:[]}}onParserClose(u,l){this.model[u].push(l.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(r,n,s){const i=r("../../composite-xform"),a=r("./cf-rule-xform");n.exports=class extends i{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(o,u){u.rules.some(a.isPrimitive)&&(o.openNode(this.tag,{sqref:u.ref}),u.rules.forEach(l=>{a.isPrimitive(l)&&(l.ref=u.ref,this.map.cfRule.render(o,l))}),o.closeNode())}createNewModel(o){let{attributes:u}=o;return{ref:u.sqref,rules:[]}}onParserClose(o,u){this.model.rules.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(r,n,s){const i=r("../../base-xform"),a=r("./conditional-formatting-xform");n.exports=class extends i{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,u){let l=o.reduce((d,h)=>Math.max(d,...h.rules.map(f=>f.priority||0)),1);o.forEach(d=>{d.rules.forEach(h=>{h.priority||(h.priority=l++),h.style&&(h.dxfId=u.styles.addDxfStyle(h.style))})})}render(o,u){u.forEach(l=>{this.cfXform.render(o,l)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,u){o.forEach(l=>{l.rules.forEach(d=>{d.dxfId!==void 0&&(d.style=u.styles.getDxfStyle(d.dxfId),delete d.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(r,n,s){const i=r("../../composite-xform"),a=r("../../style/color-xform"),o=r("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new a}}get tag(){return"dataBar"}render(u,l){u.openNode(this.tag),l.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),this.colorXform.render(u,l.color),u.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(u,l){switch(u){case"cfvo":this.model.cfvo.push(l.model);break;case"color":this.model.color=l.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(r,n,s){const i=r("../../base-xform"),a=r("../../composite-xform");class o extends i{get tag(){return"x14:id"}render(d,h){d.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(d){this.model+=d}parseClose(d){return d!==this.tag}}class u extends a{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(d,h){d.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(d,h.x14Id),d.closeNode()}createNewModel(){return{}}onParserClose(d,h){this.model.x14Id=h.model}}n.exports=class extends a{constructor(){super(),this.map={ext:new u}}get tag(){return"extLst"}render(l,d){l.openNode(this.tag),this.map.ext.render(l,d),l.closeNode()}createNewModel(){return{}}onParserClose(l,d){Object.assign(this.model,d.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(r,n,s){const i=r("../../base-xform");n.exports=class extends i{get tag(){return"formula"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(r,n,s){const i=r("../../base-xform"),a=r("../../composite-xform"),o=r("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(u,l){u.openNode(this.tag,{iconSet:i.toStringAttribute(l.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(l.reverse,!1),showValue:i.toBoolAttribute(l.showValue,!0)}),l.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),u.closeNode()}createNewModel(u){let{attributes:l}=u;return{iconSet:i.toStringValue(l.iconSet,"3TrafficLights"),reverse:i.toBoolValue(l.reverse),showValue:i.toBoolValue(l.showValue),cfvo:[]}}onParserClose(u,l){this.model[u].push(l.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(r,n,s){const i=r("../../../utils/utils"),a=r("../base-xform");n.exports=class extends a{get tag(){return"col"}prepare(o,u){const l=u.styles.addStyleModel(o.style||{});l&&(o.styleId=l)}render(o,u){o.openNode("col"),o.addAttribute("min",u.min),o.addAttribute("max",u.max),u.width&&o.addAttribute("width",u.width),u.styleId&&o.addAttribute("style",u.styleId),u.hidden&&o.addAttribute("hidden","1"),u.bestFit&&o.addAttribute("bestFit","1"),u.outlineLevel&&o.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){const u=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(u.styleId=parseInt(o.attributes.style,10)),i.parseBoolean(o.attributes.hidden)&&(u.hidden=!0),i.parseBoolean(o.attributes.bestFit)&&(u.bestFit=!0),o.attributes.outlineLevel&&(u.outlineLevel=parseInt(o.attributes.outlineLevel,10)),i.parseBoolean(o.attributes.collapsed)&&(u.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,u){o.styleId&&(o.style=u.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../../../utils/utils"),o=r("../../../utils/col-cache"),u=r("../base-xform"),l=r("../../../doc/range");function d(f,p,g,y){const m=p[g];m!==void 0?f[g]=m:y!==void 0&&(f[g]=y)}function h(f,p,g,y){const m=p[g];m!==void 0&&(f[g]=a.parseBoolean(m))}n.exports=class extends u{get tag(){return"dataValidations"}render(f,p){const g=(function(y){const m=i.map(y,(x,k)=>({address:k,dataValidation:x,marked:!1})).sort((x,k)=>i.strcmp(x.address,k.address)),v=i.keyBy(m,"address"),b=(x,k,T)=>{for(let O=0;O<k;O++){const F=o.encodeAddress(x.row+O,T);if(!y[F]||!i.isEqual(y[x.address],y[F]))return!1}return!0};return m.map(x=>{if(!x.marked){const k=o.decodeEx(x.address);if(k.dimensions)return v[k.dimensions].marked=!0,{...x.dataValidation,sqref:x.address};let T=1,O=o.encodeAddress(k.row+T,k.col);for(;y[O]&&i.isEqual(x.dataValidation,y[O]);)T++,O=o.encodeAddress(k.row+T,k.col);let F=1;for(;b(k,T,k.col+F);)F++;for(let A=0;A<T;A++)for(let P=0;P<F;P++)O=o.encodeAddress(k.row+A,k.col+P),v[O].marked=!0;if(T>1||F>1){const A=k.row+(T-1),P=k.col+(F-1);return{...x.dataValidation,sqref:`${x.address}:${o.encodeAddress(A,P)}`}}return{...x.dataValidation,sqref:x.address}}return null}).filter(Boolean)})(p);g.length&&(f.openNode("dataValidations",{count:g.length}),g.forEach(y=>{f.openNode("dataValidation"),y.type!=="any"&&(f.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&f.addAttribute("operator",y.operator),y.allowBlank&&f.addAttribute("allowBlank","1")),y.showInputMessage&&f.addAttribute("showInputMessage","1"),y.promptTitle&&f.addAttribute("promptTitle",y.promptTitle),y.prompt&&f.addAttribute("prompt",y.prompt),y.showErrorMessage&&f.addAttribute("showErrorMessage","1"),y.errorStyle&&f.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&f.addAttribute("errorTitle",y.errorTitle),y.error&&f.addAttribute("error",y.error),f.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((m,v)=>{f.openNode("formula"+(v+1)),y.type==="date"?f.writeText(a.dateToExcel(new Date(m))):f.writeText(m),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const p={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&h(p,f.attributes,"allowBlank"),h(p,f.attributes,"showInputMessage"),h(p,f.attributes,"showErrorMessage"),p.type){case"any":case"list":case"custom":break;default:d(p,f.attributes,"operator","between")}return d(p,f.attributes,"promptTitle"),d(p,f.attributes,"prompt"),d(p,f.attributes,"errorStyle"),d(p,f.attributes,"errorTitle"),d(p,f.attributes,"error"),this._dataValidation=p,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(p=>{p.includes(":")?new l(p).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[p]=this._dataValidation}),!0;case"formula1":case"formula2":{let p=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":p=parseInt(p,10);break;case"decimal":p=parseFloat(p);break;case"date":p=a.excelToDate(parseFloat(p))}return this._dataValidation.formulae.push(p),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"dimension"}render(a,o){o&&a.leafNode("dimension",{ref:o})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"drawing"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(r,n,s){const i=r("../composite-xform"),a=r("./cf-ext/conditional-formattings-ext-xform");class o extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(l){return this.conditionalFormattings.hasContent(l.conditionalFormattings)}prepare(l,d){this.conditionalFormattings.prepare(l.conditionalFormattings,d)}render(l,d){l.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(l,d.conditionalFormattings),l.closeNode()}createNewModel(){return{}}onParserClose(l,d){this.model[l]=d.model}}n.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(u,l){this.ext.prepare(u,l)}hasContent(u){return this.ext.hasContent(u)}render(u,l){this.hasContent(l)&&(u.openNode("extLst"),this.ext.render(u,l),u.closeNode())}createNewModel(){return{}}onParserClose(u,l){Object.assign(this.model,l.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"headerFooter"}render(a,o){if(o){a.addRollback();let u=!1;a.openNode("headerFooter"),o.differentFirst&&(a.addAttribute("differentFirst","1"),u=!0),o.differentOddEven&&(a.addAttribute("differentOddEven","1"),u=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(a.leafNode("oddHeader",null,o.oddHeader),u=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(a.leafNode("oddFooter",null,o.oddFooter),u=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(a.leafNode("evenHeader",null,o.evenHeader),u=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(a.leafNode("evenFooter",null,o.evenFooter),u=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(a.leafNode("firstHeader",null,o.firstHeader),u=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(a.leafNode("firstFooter",null,o.firstFooter),u=!0),u?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"hyperlink"}render(a,o){this.isInternalLink(o)?a.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):a.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"mergeCell"}render(a,o){a.leafNode("mergeCell",{ref:o})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../../../doc/range"),o=r("../../../utils/col-cache"),u=r("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(l){if(this.merges[l.master])this.merges[l.master].expandToAddress(l.address);else{const d=`${l.master}:${l.address}`;this.merges[l.master]=new a(d)}}get mergeCells(){return i.map(this.merges,l=>l.range)}reconcile(l,d){i.each(l,h=>{const f=o.decode(h);for(let p=f.top;p<=f.bottom;p++){const g=d[p-1];for(let y=f.left;y<=f.right;y++){const m=g.cells[y-1];m?m.type===u.ValueType.Merge&&(m.master=f.tl):g.cells[y]={type:u.ValueType.Null,address:o.encodeAddress(p,y)}}}})}getMasterAddress(l){const d=this.hash[l];return d&&d.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(r,n,s){const i=r("../base-xform"),a=o=>o!==void 0;n.exports=class extends i{get tag(){return"outlinePr"}render(o,u){return!(!u||!a(u.summaryBelow)&&!a(u.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:a(u.summaryBelow)?Number(u.summaryBelow):void 0,summaryRight:a(u.summaryRight)?Number(u.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:a(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:a(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"brk"}render(a,o){a.leafNode("brk",o)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../base-xform");n.exports=class extends a{get tag(){return"pageMargins"}render(o,u){if(u){const l={left:u.left,right:u.right,top:u.top,bottom:u.bottom,header:u.header,footer:u.footer};i.some(l,d=>d!==void 0)&&o.leafNode(this.tag,l)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"pageSetUpPr"}render(a,o){return!(!o||!o.fitToPage)&&(a.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../base-xform");function o(h){return h?"1":void 0}function u(h){switch(h){case"overThenDown":return h;default:return}}function l(h){switch(h){case"atEnd":case"asDisplyed":return h;default:return}}function d(h){switch(h){case"dash":case"blank":case"NA":return h;default:return}}n.exports=class extends a{get tag(){return"pageSetup"}render(h,f){if(f){const p={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:u(f.pageOrder),blackAndWhite:o(f.blackAndWhite),draft:o(f.draft),cellComments:l(f.cellComments),errors:d(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:o(f.firstPageNumber),usePrinterDefaults:o(f.usePrinterDefaults),copies:f.copies};i.some(p,g=>g!==void 0)&&h.leafNode(this.tag,p)}}parseOpen(h){switch(h.name){case this.tag:return this.model={paperSize:(f=h.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:h.attributes.orientation||"portrait",horizontalDpi:parseInt(h.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(h.attributes.verticalDpi||"4294967295",10),pageOrder:h.attributes.pageOrder||"downThenOver",blackAndWhite:h.attributes.blackAndWhite==="1",draft:h.attributes.draft==="1",cellComments:h.attributes.cellComments||"None",errors:h.attributes.errors||"displayed",scale:parseInt(h.attributes.scale||"100",10),fitToWidth:parseInt(h.attributes.fitToWidth||"1",10),fitToHeight:parseInt(h.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(h.attributes.firstPageNumber||"1",10),useFirstPageNumber:h.attributes.useFirstPageNumber==="1",usePrinterDefaults:h.attributes.usePrinterDefaults==="1",copies:parseInt(h.attributes.copies||"1",10)},!0;default:return!1}var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"picture"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../base-xform");function o(u){return u?"1":void 0}n.exports=class extends a{get tag(){return"printOptions"}render(u,l){if(l){const d={headings:o(l.showRowColHeaders),gridLines:o(l.showGridLines),horizontalCentered:o(l.horizontalCentered),verticalCentered:o(l.verticalCentered)};i.some(d,h=>h!==void 0)&&u.leafNode(this.tag,d)}}parseOpen(u){switch(u.name){case this.tag:return this.model={showRowColHeaders:u.attributes.headings==="1",showGridLines:u.attributes.gridLines==="1",horizontalCentered:u.attributes.horizontalCentered==="1",verticalCentered:u.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(r,n,s){const i=r("./page-breaks-xform"),a=r("../list-xform");n.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(o,u){if(u&&u.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,u.length),o.addAttribute("manualBreakCount",u.length));const{childXform:l}=this;u.forEach(d=>{l.render(o,d)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(r,n,s){const i=r("../base-xform"),a=r("../../../utils/utils"),o=r("./cell-xform");n.exports=class extends i{constructor(u){super(),this.maxItems=u&&u.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(u,l){const d=l.styles.addStyleModel(u.style);d&&(u.styleId=d);const h=this.map.c;u.cells.forEach(f=>{h.prepare(f,l)})}render(u,l,d){u.openNode("row"),u.addAttribute("r",l.number),l.height&&(u.addAttribute("ht",l.height),u.addAttribute("customHeight","1")),l.hidden&&u.addAttribute("hidden","1"),l.min>0&&l.max>0&&l.min<=l.max&&u.addAttribute("spans",`${l.min}:${l.max}`),l.styleId&&(u.addAttribute("s",l.styleId),u.addAttribute("customFormat","1")),u.addAttribute("x14ac:dyDescent","0.25"),l.outlineLevel&&u.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&u.addAttribute("collapsed","1");const h=this.map.c;l.cells.forEach(f=>{h.render(u,f,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;if(u.name==="row"){this.numRowsSeen+=1;const l=u.attributes.spans?u.attributes.spans.split(":").map(h=>parseInt(h,10)):[void 0,void 0],d=this.model={number:parseInt(u.attributes.r,10),min:l[0],max:l[1],cells:[]};return u.attributes.s&&(d.styleId=parseInt(u.attributes.s,10)),a.parseBoolean(u.attributes.hidden)&&(d.hidden=!0),a.parseBoolean(u.attributes.bestFit)&&(d.bestFit=!0),u.attributes.ht&&(d.height=parseFloat(u.attributes.ht)),u.attributes.outlineLevel&&(d.outlineLevel=parseInt(u.attributes.outlineLevel,10)),a.parseBoolean(u.attributes.collapsed)&&(d.collapsed=!0),!0}return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(u,l){u.style=u.styleId?l.styles.getStyleModel(u.styleId):{},u.styleId!==void 0&&(u.styleId=void 0);const d=this.map.c;u.cells.forEach(h=>{d.reconcile(h,l)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../base-xform");n.exports=class extends a{get tag(){return"sheetFormatPr"}render(o,u){if(u){const l={defaultRowHeight:u.defaultRowHeight,outlineLevelRow:u.outlineLevelRow,outlineLevelCol:u.outlineLevelCol,"x14ac:dyDescent":u.dyDescent};u.defaultColWidth&&(l.defaultColWidth=u.defaultColWidth),u.defaultRowHeight&&u.defaultRowHeight===15||(l.customHeight="1"),i.some(l,d=>d!==void 0)&&o.leafNode("sheetFormatPr",l)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(r,n,s){const i=r("../base-xform"),a=r("../style/color-xform"),o=r("./page-setup-properties-xform"),u=r("./outline-properties-xform");n.exports=class extends i{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new o,outlinePr:new u}}get tag(){return"sheetPr"}render(l,d){if(d){l.addRollback(),l.openNode("sheetPr");let h=!1;h=this.map.tabColor.render(l,d.tabColor)||h,h=this.map.pageSetUpPr.render(l,d.pageSetup)||h,h=this.map.outlinePr.render(l,d.outlineProperties)||h,h?(l.closeNode(),l.commit()):l.rollback()}}parseOpen(l){return this.parser?(this.parser.parseOpen(l),!0):l.name===this.tag?(this.reset(),!0):!!this.map[l.name]&&(this.parser=this.map[l.name],this.parser.parseOpen(l),!0)}parseText(l){return!!this.parser&&(this.parser.parseText(l),!0)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../base-xform");function o(l,d){return l?d:void 0}function u(l,d){return l===d||void 0}n.exports=class extends a{get tag(){return"sheetProtection"}render(l,d){if(d){const h={sheet:o(d.sheet,"1"),selectLockedCells:d.selectLockedCells===!1?"1":void 0,selectUnlockedCells:d.selectUnlockedCells===!1?"1":void 0,formatCells:o(d.formatCells,"0"),formatColumns:o(d.formatColumns,"0"),formatRows:o(d.formatRows,"0"),insertColumns:o(d.insertColumns,"0"),insertRows:o(d.insertRows,"0"),insertHyperlinks:o(d.insertHyperlinks,"0"),deleteColumns:o(d.deleteColumns,"0"),deleteRows:o(d.deleteRows,"0"),sort:o(d.sort,"0"),autoFilter:o(d.autoFilter,"0"),pivotTables:o(d.pivotTables,"0")};d.sheet&&(h.algorithmName=d.algorithmName,h.hashValue=d.hashValue,h.saltValue=d.saltValue,h.spinCount=d.spinCount,h.objects=o(d.objects===!1,"1"),h.scenarios=o(d.scenarios===!1,"1")),i.some(h,f=>f!==void 0)&&l.leafNode(this.tag,h)}}parseOpen(l){switch(l.name){case this.tag:return this.model={sheet:u(l.attributes.sheet,"1"),objects:l.attributes.objects!=="1"&&void 0,scenarios:l.attributes.scenarios!=="1"&&void 0,selectLockedCells:l.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:l.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:u(l.attributes.formatCells,"0"),formatColumns:u(l.attributes.formatColumns,"0"),formatRows:u(l.attributes.formatRows,"0"),insertColumns:u(l.attributes.insertColumns,"0"),insertRows:u(l.attributes.insertRows,"0"),insertHyperlinks:u(l.attributes.insertHyperlinks,"0"),deleteColumns:u(l.attributes.deleteColumns,"0"),deleteRows:u(l.attributes.deleteRows,"0"),sort:u(l.attributes.sort,"0"),autoFilter:u(l.attributes.autoFilter,"0"),pivotTables:u(l.attributes.pivotTables,"0")},l.attributes.algorithmName&&(this.model.algorithmName=l.attributes.algorithmName,this.model.hashValue=l.attributes.hashValue,this.model.saltValue=l.attributes.saltValue,this.model.spinCount=parseInt(l.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(r,n,s){const i=r("../../../utils/col-cache"),a=r("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends a{get tag(){return"sheetView"}prepare(u){switch(u.state){case"frozen":case"split":break;default:u.state="normal"}}render(u,l){u.openNode("sheetView",{workbookViewId:l.workbookViewId||0});const d=function(y,m,v){v&&u.addAttribute(y,m)};let h,f,p,g;switch(d("rightToLeft","1",l.rightToLeft===!0),d("tabSelected","1",l.tabSelected),d("showRuler","0",l.showRuler===!1),d("showRowColHeaders","0",l.showRowColHeaders===!1),d("showGridLines","0",l.showGridLines===!1),d("zoomScale",l.zoomScale,l.zoomScale),d("zoomScaleNormal",l.zoomScaleNormal,l.zoomScaleNormal),d("view",l.style,l.style),l.state){case"frozen":f=l.xSplit||0,p=l.ySplit||0,h=l.topLeftCell||i.getAddress(p+1,f+1).address,g=(l.xSplit&&l.ySplit?"bottomRight":l.xSplit&&"topRight")||"bottomLeft",u.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:h,activePane:g,state:"frozen"}),u.leafNode("selection",{pane:g,activeCell:l.activeCell,sqref:l.activeCell});break;case"split":l.activePane==="topLeft"&&(l.activePane=void 0),u.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:l.topLeftCell,activePane:l.activePane}),u.leafNode("selection",{pane:l.activePane,activeCell:l.activeCell,sqref:l.activeCell});break;case"normal":l.activeCell&&u.leafNode("selection",{activeCell:l.activeCell,sqref:l.activeCell})}u.closeNode()}parseOpen(u){switch(u.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(u.attributes.workbookViewId,10),rightToLeft:u.attributes.rightToLeft==="1",tabSelected:u.attributes.tabSelected==="1",showRuler:u.attributes.showRuler!=="0",showRowColHeaders:u.attributes.showRowColHeaders!=="0",showGridLines:u.attributes.showGridLines!=="0",zoomScale:parseInt(u.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(u.attributes.zoomScaleNormal||"100",10),style:u.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(u.attributes.xSplit||"0",10),ySplit:parseInt(u.attributes.ySplit||"0",10),topLeftCell:u.attributes.topLeftCell,activePane:u.attributes.activePane||"topLeft",state:u.attributes.state},!0;case"selection":{const l=u.attributes.pane||"topLeft";return this.selections[l]={pane:l,activeCell:u.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(u){let l,d;switch(u){case"sheetView":return this.sheetView&&this.pane?(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(l.activePane=this.pane.activePane),d=this.selections[this.pane.activePane],d&&d.activeCell&&(l.activeCell=d.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)):(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},d=this.selections.topLeft,d&&d.activeCell&&(l.activeCell=d.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"tablePart"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../../../utils/col-cache"),o=r("../../../utils/xml-stream"),u=r("../../rel-type"),l=r("./merges"),d=r("../base-xform"),h=r("../list-xform"),f=r("./row-xform"),p=r("./col-xform"),g=r("./dimension-xform"),y=r("./hyperlink-xform"),m=r("./merge-cell-xform"),v=r("./data-validations-xform"),b=r("./sheet-properties-xform"),x=r("./sheet-format-properties-xform"),k=r("./sheet-view-xform"),T=r("./sheet-protection-xform"),O=r("./page-margins-xform"),F=r("./page-setup-xform"),A=r("./print-options-xform"),P=r("./auto-filter-xform"),D=r("./picture-xform"),V=r("./drawing-xform"),B=r("./table-part-xform"),C=r("./row-breaks-xform"),I=r("./header-footer-xform"),N=r("./cf/conditional-formattings-xform"),w=r("./ext-lst-xform"),_=(j,R)=>{if(!R||!R.length)return j;if(!j||!j.length)return R;const $={},U={};return j.forEach(q=>{$[q.ref]=q,q.rules.forEach(H=>{const{x14Id:Y}=H;Y&&(U[Y]=H)})}),R.forEach(q=>{q.rules.forEach(H=>{const Y=U[H.x14Id];Y?((M,K)=>{Object.keys(K).forEach(z=>{const L=M[z],W=K[z];L===void 0&&W!==void 0&&(M[z]=W)})})(Y,H):$[q.ref]?$[q.ref].rules.push(H):j.push({ref:q.ref,rules:[H]})})}),j};class S extends d{constructor(R){super();const{maxRows:$,maxCols:U,ignoreNodes:q}=R||{};this.ignoreNodes=q||[],this.map={sheetPr:new b,dimension:new g,sheetViews:new h({tag:"sheetViews",count:!1,childXform:new k}),sheetFormatPr:new x,cols:new h({tag:"cols",count:!1,childXform:new p}),sheetData:new h({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:U}),maxItems:$}),autoFilter:new P,mergeCells:new h({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new C,hyperlinks:new h({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new O,dataValidations:new v,pageSetup:new F,headerFooter:new I,printOptions:new A,picture:new D,drawing:new V,sheetProtection:new T,tableParts:new h({tag:"tableParts",count:!0,childXform:new B}),conditionalFormatting:new N,extLst:new w}}prepare(R,$){$.merges=new l,R.hyperlinks=$.hyperlinks=[],R.comments=$.comments=[],$.formulae={},$.siFormulae=0,this.map.cols.prepare(R.cols,$),this.map.sheetData.prepare(R.rows,$),this.map.conditionalFormatting.prepare(R.conditionalFormattings,$),R.mergeCells=$.merges.mergeCells;const U=R.rels=[];function q(M){return"rId"+(M.length+1)}if(R.hyperlinks.forEach(M=>{const K=q(U);M.rId=K,U.push({Id:K,Type:u.Hyperlink,Target:M.target,TargetMode:"External"})}),R.comments.length>0){const M={Id:q(U),Type:u.Comments,Target:`../comments${R.id}.xml`};U.push(M);const K={Id:q(U),Type:u.VmlDrawing,Target:`../drawings/vmlDrawing${R.id}.vml`};U.push(K),R.comments.forEach(z=>{z.refAddress=a.decodeAddress(z.ref)}),$.commentRefs.push({commentName:"comments"+R.id,vmlDrawing:"vmlDrawing"+R.id})}const H=[];let Y;R.media.forEach(M=>{if(M.type==="background"){const K=q(U);Y=$.media[M.imageId],U.push({Id:K,Type:u.Image,Target:`../media/${Y.name}.${Y.extension}`}),R.background={rId:K},R.image=$.media[M.imageId]}else if(M.type==="image"){let{drawing:K}=R;Y=$.media[M.imageId],K||(K=R.drawing={rId:q(U),name:"drawing"+ ++$.drawingsCount,anchors:[],rels:[]},$.drawings.push(K),U.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let z=this.preImageId===M.imageId?H[M.imageId]:H[K.rels.length];z||(z=q(K.rels),H[K.rels.length]=z,K.rels.push({Id:z,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Y.name}.${Y.extension}`}));const L={picture:{rId:z},range:M.range};if(M.hyperlinks&&M.hyperlinks.hyperlink){const W=q(K.rels);H[K.rels.length]=W,L.picture.hyperlinks={tooltip:M.hyperlinks.tooltip,rId:W},K.rels.push({Id:W,Type:u.Hyperlink,Target:M.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=M.imageId,K.anchors.push(L)}}),R.tables.forEach(M=>{const K=q(U);M.rId=K,U.push({Id:K,Type:u.Table,Target:"../tables/"+M.target}),M.columns.forEach(z=>{const{style:L}=z;L&&(z.dxfId=$.styles.addDxfStyle(L))})}),this.map.extLst.prepare(R,$)}render(R,$){R.openXml(o.StdDocAttributes),R.openNode("worksheet",S.WORKSHEET_ATTRIBUTES);const U=$.properties?{defaultRowHeight:$.properties.defaultRowHeight,dyDescent:$.properties.dyDescent,outlineLevelCol:$.properties.outlineLevelCol,outlineLevelRow:$.properties.outlineLevelRow}:void 0;$.properties&&$.properties.defaultColWidth&&(U.defaultColWidth=$.properties.defaultColWidth);const q={outlineProperties:$.properties&&$.properties.outlineProperties,tabColor:$.properties&&$.properties.tabColor,pageSetup:$.pageSetup&&$.pageSetup.fitToPage?{fitToPage:$.pageSetup.fitToPage}:void 0},H=$.pageSetup&&$.pageSetup.margins,Y={showRowColHeaders:$.pageSetup&&$.pageSetup.showRowColHeaders,showGridLines:$.pageSetup&&$.pageSetup.showGridLines,horizontalCentered:$.pageSetup&&$.pageSetup.horizontalCentered,verticalCentered:$.pageSetup&&$.pageSetup.verticalCentered},M=$.sheetProtection;this.map.sheetPr.render(R,q),this.map.dimension.render(R,$.dimensions),this.map.sheetViews.render(R,$.views),this.map.sheetFormatPr.render(R,U),this.map.cols.render(R,$.cols),this.map.sheetData.render(R,$.rows),this.map.sheetProtection.render(R,M),this.map.autoFilter.render(R,$.autoFilter),this.map.mergeCells.render(R,$.mergeCells),this.map.conditionalFormatting.render(R,$.conditionalFormattings),this.map.dataValidations.render(R,$.dataValidations),this.map.hyperlinks.render(R,$.hyperlinks),this.map.printOptions.render(R,Y),this.map.pageMargins.render(R,H),this.map.pageSetup.render(R,$.pageSetup),this.map.headerFooter.render(R,$.headerFooter),this.map.rowBreaks.render(R,$.rowBreaks),this.map.drawing.render(R,$.drawing),this.map.picture.render(R,$.background),this.map.tableParts.render(R,$.tables),this.map.extLst.render(R,$),$.rels&&$.rels.forEach(K=>{K.Type===u.VmlDrawing&&R.leafNode("legacyDrawing",{"r:id":K.Id})}),R.closeNode()}parseOpen(R){return this.parser?(this.parser.parseOpen(R),!0):R.name==="worksheet"?(i.each(this.map,$=>{$.reset()}),!0):(this.map[R.name]&&!this.ignoreNodes.includes(R.name)&&(this.parser=this.map[R.name],this.parser.parseOpen(R)),!0)}parseText(R){this.parser&&this.parser.parseText(R)}parseClose(R){if(this.parser)return this.parser.parseClose(R)||(this.parser=void 0),!0;switch(R){case"worksheet":{const $=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&($.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&($.outlineProperties=this.map.sheetPr.model.outlineProperties);const U={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},q=Object.assign(U,this.map.pageSetup.model,this.map.printOptions.model),H=_(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:$,views:this.map.sheetViews.model,pageSetup:q,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:H},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(R,$){const U=(R.relationships||[]).reduce((H,Y)=>{if(H[Y.Id]=Y,Y.Type===u.Comments&&(R.comments=$.comments[Y.Target].comments),Y.Type===u.VmlDrawing&&R.comments&&R.comments.length){const M=$.vmlDrawings[Y.Target].comments;R.comments.forEach((K,z)=>{K.note=Object.assign({},K.note,M[z])})}return H},{});if($.commentsMap=(R.comments||[]).reduce((H,Y)=>(Y.ref&&(H[Y.ref]=Y),H),{}),$.hyperlinkMap=(R.hyperlinks||[]).reduce((H,Y)=>(Y.rId&&(H[Y.address]=U[Y.rId].Target),H),{}),$.formulae={},R.rows=R.rows&&R.rows.filter(Boolean)||[],R.rows.forEach(H=>{H.cells=H.cells&&H.cells.filter(Boolean)||[]}),this.map.cols.reconcile(R.cols,$),this.map.sheetData.reconcile(R.rows,$),this.map.conditionalFormatting.reconcile(R.conditionalFormattings,$),R.media=[],R.drawing){const H=U[R.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(H){const Y=H[1];$.drawings[Y].anchors.forEach(M=>{if(M.medium){const K={type:"image",imageId:M.medium.index,range:M.range,hyperlinks:M.picture.hyperlinks};R.media.push(K)}})}}const q=R.background&&U[R.background.rId];if(q){const H=q.Target.split("/media/")[1],Y=$.mediaIndex&&$.mediaIndex[H];Y!==void 0&&R.media.push({type:"background",imageId:Y})}R.tables=(R.tables||[]).map(H=>{const Y=U[H.rId];return $.tables[Y.Target]}),delete R.relationships,delete R.hyperlinks,delete R.comments}}S.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=S},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,o){o&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=a.parse||function(o){return new Date(o)}}render(a,o){o&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(o)):a.writeText(this._format(o)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,o){(o||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,o):a.writeText(o),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,o){o!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,o):a.writeText(o),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(r,n,s){const i=r("./base-xform"),a=r("../../utils/xml-stream");n.exports=class extends i{constructor(o){super(),this._model=o}render(o){if(!this._xml){const u=new a;(function l(d,h){d.openNode(h.tag,h.$),h.c&&h.c.forEach(f=>{l(d,f)}),h.t&&d.writeText(h.t),d.closeNode()})(u,this._model),this._xml=u.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(r,n,s){const i=r("./text-xform"),a=r("./rich-text-xform"),o=r("../base-xform");n.exports=class extends o{constructor(){super(),this.map={r:new a,t:new i}}get tag(){return"rPh"}render(u,l){if(u.openNode(this.tag,{sb:l.sb||0,eb:l.eb||0}),l&&l.hasOwnProperty("richText")&&l.richText){const{r:d}=this.map;l.richText.forEach(h=>{d.render(u,h)})}else l&&this.map.t.render(u,l.text);u.closeNode()}parseOpen(u){const{name:l}=u;return this.parser?(this.parser.parseOpen(u),!0):l===this.tag?(this.model={sb:parseInt(u.attributes.sb,10),eb:parseInt(u.attributes.eb,10)},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(r,n,s){const i=r("./text-xform"),a=r("../style/font-xform"),o=r("../base-xform");class u extends o{constructor(d){super(),this.model=d}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new a(u.FONT_OPTIONS))}render(d,h){h=h||this.model,d.openNode("r"),h.font&&this.fontXform.render(d,h.font),this.textXform.render(d,h.text),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(d),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){switch(d){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}}u.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=u},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(r,n,s){const i=r("./text-xform"),a=r("./rich-text-xform"),o=r("./phonetic-text-xform"),u=r("../base-xform");n.exports=class extends u{constructor(l){super(),this.model=l,this.map={r:new a,t:new i,rPh:new o}}get tag(){return"si"}render(l,d){l.openNode(this.tag),d&&d.hasOwnProperty("richText")&&d.richText?d.richText.length?d.richText.forEach(h=>{this.map.r.render(l,h)}):this.map.t.render(l,""):d!=null&&this.map.t.render(l,d),l.closeNode()}parseOpen(l){const{name:d}=l;return this.parser?(this.parser.parseOpen(l),!0):d===this.tag?(this.model={},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform"),o=r("./shared-string-xform");n.exports=class extends a{constructor(u){super(),this.model=u||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(u){return this.model.values[u]}add(u){return u.richText?this.addRichText(u):this.addText(u)}addText(u){let l=this.hash[u];return l===void 0&&(l=this.hash[u]=this.model.values.length,this.model.values.push(u)),this.model.count++,l}addRichText(u){const l=this.sharedStringXform.toXml(u);let d=this.rich[l];return d===void 0&&(d=this.rich[l]=this.model.values.length,this.model.values.push(u)),this.model.count++,d}render(u,l){l=l||this._values,u.openXml(i.StdDocAttributes),u.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.count,uniqueCount:l.values.length});const d=this.sharedStringXform;l.values.forEach(h=>{d.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(u),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(u){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"t"}render(a,o){a.openNode("t"),/^\s|\n|\s$/.test(o)&&a.addAttribute("xml:space","preserve"),a.writeText(o),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(r,n,s){const i=r("../../../doc/enums"),a=r("../../../utils/utils"),o=r("../base-xform"),u={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((d,h)=>(d[h]=!0,d),{}),horizontal(d){return this.horizontalValues[d]?d:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((d,h)=>(d[h]=!0,d),{}),vertical(d){return d==="middle"?"center":this.verticalValues[d]?d:void 0},wrapText:d=>!!d||void 0,shrinkToFit:d=>!!d||void 0,textRotation(d){switch(d){case"vertical":return d;default:return(d=a.validInt(d))>=-90&&d<=90?d:void 0}},indent:d=>(d=a.validInt(d),Math.max(0,d)),readingOrder(d){switch(d){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},l={toXml(d){if(d=u.textRotation(d)){if(d==="vertical")return 255;const h=Math.round(d);if(h>=0&&h<=90)return h;if(h<0&&h>=-90)return 90-h}},toModel(d){const h=a.validInt(d);if(h!==void 0){if(h===255)return"vertical";if(h>=0&&h<=90)return h;if(h>90&&h<=180)return 90-h}}};n.exports=class extends o{get tag(){return"alignment"}render(d,h){d.addRollback(),d.openNode("alignment");let f=!1;function p(g,y){y&&(d.addAttribute(g,y),f=!0)}p("horizontal",u.horizontal(h.horizontal)),p("vertical",u.vertical(h.vertical)),p("wrapText",!!u.wrapText(h.wrapText)&&"1"),p("shrinkToFit",!!u.shrinkToFit(h.shrinkToFit)&&"1"),p("indent",u.indent(h.indent)),p("textRotation",l.toXml(h.textRotation)),p("readingOrder",u.readingOrder(h.readingOrder)),d.closeNode(),f?d.commit():d.rollback()}parseOpen(d){const h={};let f=!1;function p(g,y,m){g&&(h[y]=m,f=!0)}p(d.attributes.horizontal,"horizontal",d.attributes.horizontal),p(d.attributes.vertical,"vertical",d.attributes.vertical==="center"?"middle":d.attributes.vertical),p(d.attributes.wrapText,"wrapText",a.parseBoolean(d.attributes.wrapText)),p(d.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(d.attributes.shrinkToFit)),p(d.attributes.indent,"indent",parseInt(d.attributes.indent,10)),p(d.attributes.textRotation,"textRotation",l.toModel(d.attributes.textRotation)),p(d.attributes.readingOrder,"readingOrder",d.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?h:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(r,n,s){const i=r("../base-xform"),a=r("../../../utils/utils"),o=r("./color-xform");class u extends i{constructor(d){super(),this.name=d,this.map={color:new o}}get tag(){return this.name}render(d,h,f){const p=h&&h.color||f||this.defaultColor;d.openNode(this.name),h&&h.style&&(d.addAttribute("style",h.style),p&&this.map.color.render(d,p)),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.name:{const{style:h}=d.attributes;return this.model=h?{style:h}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(d===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(d){return u.validStyleValues[d]}}u.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((l,d)=>(l[d]=!0,l),{}),n.exports=class extends i{constructor(){super(),this.map={top:new u("top"),left:new u("left"),bottom:new u("bottom"),right:new u("right"),diagonal:new u("diagonal")}}render(l,d){const{color:h}=d;function f(p,g){p&&!p.color&&d.color&&(p={...p,color:d.color}),g.render(l,p,h)}l.openNode("border"),d.diagonal&&d.diagonal.style&&(d.diagonal.up&&l.addAttribute("diagonalUp","1"),d.diagonal.down&&l.addAttribute("diagonalDown","1")),f(d.left,this.map.left),f(d.right,this.map.right),f(d.top,this.map.top),f(d.bottom,this.map.bottom),f(d.diagonal,this.map.diagonal),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(l.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(l.attributes.diagonalDown),!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;if(l==="border"){const d=this.model={},h=function(f,p,g){p&&(g&&Object.assign(p,g),d[f]=p)};h("left",this.map.left.model),h("right",this.map.right.model),h("top",this.map.top.model),h("bottom",this.map.bottom.model),h("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,o){return!!o&&(a.openNode(this.name),o.argb?a.addAttribute("rgb",o.argb):o.theme!==void 0?(a.addAttribute("theme",o.theme),o.tint!==void 0&&a.addAttribute("tint",o.tint)):o.indexed!==void 0?a.addAttribute("indexed",o.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(r,n,s){const i=r("../base-xform"),a=r("./alignment-xform"),o=r("./border-xform"),u=r("./fill-xform"),l=r("./font-xform"),d=r("./numfmt-xform"),h=r("./protection-xform");n.exports=class extends i{constructor(){super(),this.map={alignment:new a,border:new o,fill:new u,font:new l,numFmt:new d,protection:new h}}get tag(){return"dxf"}render(f,p){if(f.openNode(this.tag),p.font&&this.map.font.render(f,p.font),p.numFmt&&p.numFmtId){const g={id:p.numFmtId,formatCode:p.numFmt};this.map.numFmt.render(f,g)}p.fill&&this.map.fill.render(f,p.fill),p.alignment&&this.map.alignment.render(f,p.alignment),p.border&&this.map.border.render(f,p.border),p.protection&&this.map.protection.render(f,p.protection),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(r,n,s){const i=r("../base-xform"),a=r("./color-xform");class o extends i{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(f,p){f.openNode("stop"),f.addAttribute("position",p.position),this.map.color.render(f,p.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class u extends i{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,p){f.openNode("patternFill"),f.addAttribute("patternType",p.pattern),p.fgColor&&this.map.fgColor.render(f,p.fgColor),p.bgColor&&this.map.bgColor.render(f,p.bgColor),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"patternFill":return this.model={type:"pattern",pattern:f.attributes.patternType},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class l extends i{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,p){switch(f.openNode("gradientFill"),p.gradient){case"angle":f.addAttribute("degree",p.degree);break;case"path":f.addAttribute("type","path"),p.center.left&&(f.addAttribute("left",p.center.left),p.center.right===void 0&&f.addAttribute("right",p.center.left)),p.center.right&&f.addAttribute("right",p.center.right),p.center.top&&(f.addAttribute("top",p.center.top),p.center.bottom===void 0&&f.addAttribute("bottom",p.center.top)),p.center.bottom&&f.addAttribute("bottom",p.center.bottom)}const g=this.map.stop;p.stops.forEach(y=>{g.render(f,y)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const p=this.model={stops:[]};return f.attributes.degree?(p.gradient="angle",p.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(p.gradient="path",p.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(p.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(p.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class d extends i{constructor(){super(),this.map={patternFill:new u,gradientFill:new l}}get tag(){return"fill"}render(f,p){switch(f.addRollback(),f.openNode("fill"),p.type){case"pattern":this.map.patternFill.render(f,p);break;case"gradient":this.map.gradientFill.render(f,p);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"fill":return this.model={},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return d.validPatternValues[f]}}d.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((h,f)=>(h[f]=!0,h),{}),d.StopXform=o,d.PatternFillXform=u,d.GradientFillXform=l,n.exports=d},{"../base-xform":32,"./color-xform":128}],131:[function(r,n,s){const i=r("./color-xform"),a=r("../simple/boolean-xform"),o=r("../simple/integer-xform"),u=r("../simple/string-xform"),l=r("./underline-xform"),d=r("../../../utils/under-dash"),h=r("../base-xform");class f extends h{constructor(g){super(),this.options=g||f.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new l},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new u({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new u({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new u({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,y){const{map:m}=this;g.openNode(this.options.tagName),d.each(this.map,(v,b)=>{m[b].xform.render(g,y[v.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const y=this.map[g];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}f.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(r,n,s){const i=r("../../../utils/under-dash"),a=r("../../defaultnumformats"),o=r("../base-xform"),u=(function(){const d={};return i.each(a,(h,f)=>{h.f&&(d[h.f]=parseInt(f,10))}),d})();class l extends o{constructor(h,f){super(),this.id=h,this.formatCode=f}get tag(){return"numFmt"}render(h,f){h.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(h){switch(h.name){case"numFmt":return this.model={id:parseInt(h.attributes.numFmtId,10),formatCode:h.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}l.getDefaultFmtId=function(d){return u[d]},l.getDefaultFmtCode=function(d){return a[d]&&a[d].f},n.exports=l},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(r,n,s){const i=r("../base-xform"),a={boolean:(o,u)=>o===void 0?u:o};n.exports=class extends i{get tag(){return"protection"}render(o,u){o.addRollback(),o.openNode("protection");let l=!1;function d(h,f){f!==void 0&&(o.addAttribute(h,f),l=!0)}d("locked",a.boolean(u.locked,!0)?void 0:"0"),d("hidden",a.boolean(u.hidden,!1)?"1":void 0),o.closeNode(),l?o.commit():o.rollback()}parseOpen(o){const u={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},l=!u.locked||u.hidden;this.model=l?u:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(r,n,s){const i=r("../base-xform"),a=r("./alignment-xform"),o=r("./protection-xform");n.exports=class extends i{constructor(u){super(),this.xfId=!(!u||!u.xfId),this.map={alignment:new a,protection:new o}}get tag(){return"xf"}render(u,l){u.openNode("xf",{numFmtId:l.numFmtId||0,fontId:l.fontId||0,fillId:l.fillId||0,borderId:l.borderId||0}),this.xfId&&u.addAttribute("xfId",l.xfId||0),l.numFmtId&&u.addAttribute("applyNumberFormat","1"),l.fontId&&u.addAttribute("applyFont","1"),l.fillId&&u.addAttribute("applyFill","1"),l.borderId&&u.addAttribute("applyBorder","1"),l.alignment&&u.addAttribute("applyAlignment","1"),l.protection&&u.addAttribute("applyProtection","1"),l.alignment&&this.map.alignment.render(u,l.alignment),l.protection&&this.map.protection.render(u,l.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"xf":return this.model={numFmtId:parseInt(u.attributes.numFmtId,10),fontId:parseInt(u.attributes.fontId,10),fillId:parseInt(u.attributes.fillId,10),borderId:parseInt(u.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(u.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(u),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):u!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(r,n,s){const i=r("../../../doc/enums"),a=r("../../../utils/xml-stream"),o=r("../base-xform"),u=r("../static-xform"),l=r("../list-xform"),d=r("./font-xform"),h=r("./fill-xform"),f=r("./border-xform"),p=r("./numfmt-xform"),g=r("./style-xform"),y=r("./dxf-xform");class m extends o{constructor(b){super(),this.map={numFmts:new l({tag:"numFmts",count:!0,childXform:new p}),fonts:new l({tag:"fonts",count:!0,childXform:new d,$:{"x14ac:knownFonts":1}}),fills:new l({tag:"fills",count:!0,childXform:new h}),borders:new l({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new l({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new l({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new l({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new p,font:new d,fill:new h,border:new f,style:new g({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},b&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(b,x){x=x||this.model,b.openXml(a.StdDocAttributes),b.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(x.numFmts&&x.numFmts.length&&(b.openNode("numFmts",{count:x.numFmts.length}),x.numFmts.forEach(k=>{b.writeXml(k)}),b.closeNode()),x.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),b.openNode("fonts",{count:x.fonts.length,"x14ac:knownFonts":1}),x.fonts.forEach(k=>{b.writeXml(k)}),b.closeNode(),b.openNode("fills",{count:x.fills.length}),x.fills.forEach(k=>{b.writeXml(k)}),b.closeNode(),b.openNode("borders",{count:x.borders.length}),x.borders.forEach(k=>{b.writeXml(k)}),b.closeNode(),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),b.openNode("cellXfs",{count:x.styles.length}),x.styles.forEach(k=>{b.writeXml(k)}),b.closeNode()):(this.map.numFmts.render(b,x.numFmts),this.map.fonts.render(b,x.fonts),this.map.fills.render(b,x.fills),this.map.borders.render(b,x.borders),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(b,x.styles)),m.STATIC_XFORMS.cellStyles.render(b),this.map.dxfs.render(b,x.dxfs),m.STATIC_XFORMS.tableStyles.render(b),m.STATIC_XFORMS.extLst.render(b),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"styleSheet":{this.model={};const x=(k,T)=>{T.model&&T.model.length&&(this.model[k]=T.model)};if(x("numFmts",this.map.numFmts),x("fonts",this.map.fonts),x("fills",this.map.fills),x("borders",this.map.borders),x("styles",this.map.cellXfs),x("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const k=this.index.numFmt;this.model.numFmts.forEach(T=>{k[T.id]=T.formatCode})}return!1}default:return!0}}addStyleModel(b,x){if(!b)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(b))return this.weakMap.get(b);const k={};if(x=x||i.ValueType.Number,b.numFmt)k.numFmtId=this._addNumFmtStr(b.numFmt);else switch(x){case i.ValueType.Number:k.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:k.numFmtId=this._addNumFmtStr("mm-dd-yy")}b.font&&(k.fontId=this._addFont(b.font)),b.border&&(k.borderId=this._addBorder(b.border)),b.fill&&(k.fillId=this._addFill(b.fill)),b.alignment&&(k.alignment=b.alignment),b.protection&&(k.protection=b.protection);const T=this._addStyle(k);return this.weakMap&&this.weakMap.set(b,T),T}getStyleModel(b){const x=this.model.styles[b];if(!x)return null;let k=this.index.model[b];if(k)return k;if(k=this.index.model[b]={},x.numFmtId){const O=this.index.numFmt[x.numFmtId]||p.getDefaultFmtCode(x.numFmtId);O&&(k.numFmt=O)}function T(O,F,A){if(A||A===0){const P=F[A];P&&(k[O]=P)}}return T("font",this.model.fonts,x.fontId),T("border",this.model.borders,x.borderId),T("fill",this.model.fills,x.fillId),x.alignment&&(k.alignment=x.alignment),x.protection&&(k.protection=x.protection),k}addDxfStyle(b){return b.numFmt&&(b.numFmtId=this._addNumFmtStr(b.numFmt)),this.model.dxfs.push(b),this.model.dxfs.length-1}getDxfStyle(b){return this.model.dxfs[b]}_addStyle(b){const x=this.map.style.toXml(b);let k=this.index.style[x];return k===void 0&&(k=this.index.style[x]=this.model.styles.length,this.model.styles.push(x)),k}_addNumFmtStr(b){let x=p.getDefaultFmtId(b);if(x!==void 0||(x=this.index.numFmt[b],x!==void 0))return x;x=this.index.numFmt[b]=164+this.model.numFmts.length;const k=this.map.numFmt.toXml({id:x,formatCode:b});return this.model.numFmts.push(k),x}_addFont(b){const x=this.map.font.toXml(b);let k=this.index.font[x];return k===void 0&&(k=this.index.font[x]=this.model.fonts.length,this.model.fonts.push(x)),k}_addBorder(b){const x=this.map.border.toXml(b);let k=this.index.border[x];return k===void 0&&(k=this.index.border[x]=this.model.borders.length,this.model.borders.push(x)),k}_addFill(b){const x=this.map.fill.toXml(b);let k=this.index.fill[x];return k===void 0&&(k=this.index.fill[x]=this.model.fills.length,this.model.fills.push(x)),k}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new u({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new u({tag:"dxfs",$:{count:0}}),tableStyles:new u({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new u({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,b){switch(b){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:p.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(r,n,s){const i=r("../base-xform");class a extends i{constructor(u){super(),this.model=u}get tag(){return"u"}render(u,l){if((l=l||this.model)===!0)u.leafNode("u");else{const d=a.Attributes[l];d&&u.leafNode("u",d)}}parseOpen(u){u.name==="u"&&(this.model=u.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=a},{"../base-xform":32}],137:[function(r,n,s){const i=r("../base-xform"),a=r("./filter-column-xform");n.exports=class extends i{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((u,l)=>{this.map.filterColumn.prepare(u,{index:l})})}render(o,u){return o.openNode(this.tag,{ref:u.autoFilterRef}),u.columns.forEach(l=>{this.map.filterColumn.render(o,l)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"customFilter"}render(a,o){a.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(r,n,s){const i=r("../base-xform"),a=r("../list-xform"),o=r("./custom-filter-xform"),u=r("./filter-xform");n.exports=class extends i{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new u})}}get tag(){return"filterColumn"}prepare(l,d){l.colId=d.index.toString()}render(l,d){return d.customFilters?(l.openNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),this.map.customFilters.render(l,d.customFilters),l.closeNode(),!0):(l.leafNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),!0)}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;const{attributes:d}=l;switch(l.name){case this.tag:return this.model={filterButton:d.hiddenButton==="0"},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"filter"}render(a,o){a.leafNode(this.tag,{val:o.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"tableColumn"}prepare(a,o){a.id=o.index+1}render(a,o){return a.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:o}=a;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(r,n,s){const i=r("../base-xform");n.exports=class extends i{get tag(){return"tableStyleInfo"}render(a,o){return a.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:o}=a;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(r,n,s){const i=r("../../../utils/xml-stream"),a=r("../base-xform"),o=r("../list-xform"),u=r("./auto-filter-xform"),l=r("./table-column-xform"),d=r("./table-style-info-xform");class h extends a{constructor(){super(),this.map={autoFilter:new u,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new l}),tableStyleInfo:new d}}prepare(p,g){this.map.autoFilter.prepare(p),this.map.tableColumns.prepare(p.columns,g)}get tag(){return"table"}render(p,g){p.openXml(i.StdDocAttributes),p.openNode(this.tag,{...h.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(p,g),this.map.tableColumns.render(p,g.columns),this.map.tableStyleInfo.render(p,g.style),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;const{name:g,attributes:y}=p;switch(g){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p)}return!0}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,y)=>{this.model.columns[y].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(p,g){p.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=g.styles.getDxfStyle(y.dxfId))})}}h.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=h},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(r,n,s){(function(i,a){(function(){const o=r("fs"),u=r("jszip"),{PassThrough:l}=r("readable-stream"),d=r("../utils/zip-stream"),h=r("../utils/stream-buf"),f=r("../utils/utils"),p=r("../utils/xml-stream"),{bufferToString:g}=r("../utils/browser-buffer-decode"),y=r("./xform/style/styles-xform"),m=r("./xform/core/core-xform"),v=r("./xform/strings/shared-strings-xform"),b=r("./xform/core/relationships-xform"),x=r("./xform/core/content-types-xform"),k=r("./xform/core/app-xform"),T=r("./xform/book/workbook-xform"),O=r("./xform/sheet/worksheet-xform"),F=r("./xform/drawing/drawing-xform"),A=r("./xform/table/table-xform"),P=r("./xform/comment/comments-xform"),D=r("./xform/comment/vml-notes-xform"),V=r("./xml/theme1");class B{constructor(I){this.workbook=I}async readFile(I,N){if(!await f.fs.exists(I))throw new Error("File not found: "+I);const w=o.createReadStream(I);try{const _=await this.read(w,N);return w.close(),_}catch(_){throw w.close(),_}}parseRels(I){return new b().parseStream(I)}parseWorkbook(I){return new T().parseStream(I)}parseSharedStrings(I){return new v().parseStream(I)}reconcile(I,N){const w=new T,_=new O(N),S=new F,j=new A;w.reconcile(I);const R={media:I.media,mediaIndex:I.mediaIndex};Object.keys(I.drawings).forEach(q=>{const H=I.drawings[q],Y=I.drawingRels[q];Y&&(R.rels=Y.reduce((M,K)=>(M[K.Id]=K,M),{}),(H.anchors||[]).forEach(M=>{const K=M.picture&&M.picture.hyperlinks;K&&R.rels[K.rId]&&(K.hyperlink=R.rels[K.rId].Target,delete K.rId)}),S.reconcile(H,R))});const $={styles:I.styles};Object.values(I.tables).forEach(q=>{j.reconcile(q,$)});const U={styles:I.styles,sharedStrings:I.sharedStrings,media:I.media,mediaIndex:I.mediaIndex,date1904:I.properties&&I.properties.date1904,drawings:I.drawings,comments:I.comments,tables:I.tables,vmlDrawings:I.vmlDrawings};I.worksheets.forEach(q=>{q.relationships=I.worksheetRels[q.sheetNo],_.reconcile(q,U)}),delete I.worksheetHash,delete I.worksheetRels,delete I.globalRels,delete I.sharedStrings,delete I.workbookRels,delete I.sheetDefs,delete I.styles,delete I.mediaIndex,delete I.drawings,delete I.drawingRels,delete I.vmlDrawings}async _processWorksheetEntry(I,N,w,_,S){const j=new O(_),R=await j.parseStream(I);R.sheetNo=w,N.worksheetHash[S]=R,N.worksheets.push(R)}async _processCommentEntry(I,N,w){const _=new P,S=await _.parseStream(I);N.comments[`../${w}.xml`]=S}async _processTableEntry(I,N,w){const _=new A,S=await _.parseStream(I);N.tables[`../tables/${w}.xml`]=S}async _processWorksheetRelsEntry(I,N,w){const _=new b,S=await _.parseStream(I);N.worksheetRels[w]=S}async _processMediaEntry(I,N,w){const _=w.lastIndexOf(".");if(_>=1){const S=w.substr(_+1),j=w.substr(0,_);await new Promise((R,$)=>{const U=new h;U.on("finish",()=>{N.mediaIndex[w]=N.media.length,N.mediaIndex[j]=N.media.length;const q={type:"image",name:j,extension:S,buffer:U.toBuffer()};N.media.push(q),R()}),I.on("error",q=>{$(q)}),I.pipe(U)})}}async _processDrawingEntry(I,N,w){const _=new F,S=await _.parseStream(I);N.drawings[w]=S}async _processDrawingRelsEntry(I,N,w){const _=new b,S=await _.parseStream(I);N.drawingRels[w]=S}async _processVmlDrawingEntry(I,N,w){const _=new D,S=await _.parseStream(I);N.vmlDrawings[`../drawings/${w}.vml`]=S}async _processThemeEntry(I,N,w){await new Promise((_,S)=>{const j=new h;I.on("error",S),j.on("error",S),j.on("finish",()=>{N.themes[w]=j.read().toString(),_()}),I.pipe(j)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(I,N){!I[Symbol.asyncIterator]&&I.pipe&&(I=I.pipe(new l));const w=[];for await(const _ of I)w.push(_);return this.load(a.concat(w),N)}async load(I,N){let w;w=N&&N.base64?a.from(I.toString(),"base64"):I;const _={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},S=await u.loadAsync(w);for(const j of Object.values(S.files))if(!j.dir){let R,$=j.name;if($[0]==="/"&&($=$.substr(1)),$.match(/xl\/media\//)||$.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))R=new l,R.write(await j.async("nodebuffer"));else{let U;R=new l({writableObjectMode:!0,readableObjectMode:!0}),U=i.browser?g(await j.async("nodebuffer")):await j.async("string");const q=16384;for(let H=0;H<U.length;H+=q)R.write(U.substring(H,H+q))}switch(R.end(),$){case"_rels/.rels":_.globalRels=await this.parseRels(R);break;case"xl/workbook.xml":{const U=await this.parseWorkbook(R);_.sheets=U.sheets,_.definedNames=U.definedNames,_.views=U.views,_.properties=U.properties,_.calcProperties=U.calcProperties;break}case"xl/_rels/workbook.xml.rels":_.workbookRels=await this.parseRels(R);break;case"xl/sharedStrings.xml":_.sharedStrings=new v,await _.sharedStrings.parseStream(R);break;case"xl/styles.xml":_.styles=new y,await _.styles.parseStream(R);break;case"docProps/app.xml":{const U=new k,q=await U.parseStream(R);_.company=q.company,_.manager=q.manager;break}case"docProps/core.xml":{const U=new m,q=await U.parseStream(R);Object.assign(_,q);break}default:{let U=$.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(U){await this._processWorksheetEntry(R,_,U[1],N,$);break}if(U=$.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),U){await this._processWorksheetRelsEntry(R,_,U[1]);break}if(U=$.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),U){await this._processThemeEntry(R,_,U[1]);break}if(U=$.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),U){await this._processMediaEntry(R,_,U[1]);break}if(U=$.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),U){await this._processDrawingEntry(R,_,U[1]);break}if(U=$.match(/xl\/(comments\d+)[.]xml/),U){await this._processCommentEntry(R,_,U[1]);break}if(U=$.match(/xl\/tables\/(table\d+)[.]xml/),U){await this._processTableEntry(R,_,U[1]);break}if(U=$.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),U){await this._processDrawingRelsEntry(R,_,U[1]);break}if(U=$.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),U){await this._processVmlDrawingEntry(R,_,U[1]);break}}}}return this.reconcile(_,N),this.workbook.model=_,this.workbook}async addMedia(I,N){await Promise.all(N.media.map(async w=>{if(w.type==="image"){const _=`xl/media/${w.name}.${w.extension}`;if(w.filename){const S=await(function(j,R){return new Promise(($,U)=>{o.readFile(j,R,(q,H)=>{q?U(q):$(H)})})})(w.filename);return I.append(S,{name:_})}if(w.buffer)return I.append(w.buffer,{name:_});if(w.base64){const S=w.base64,j=S.substring(S.indexOf(",")+1);return I.append(j,{name:_,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(I,N){const w=new F,_=new b;N.worksheets.forEach(S=>{const{drawing:j}=S;if(j){w.prepare(j,{});let R=w.toXml(j);I.append(R,{name:`xl/drawings/${j.name}.xml`}),R=_.toXml(j.rels),I.append(R,{name:`xl/drawings/_rels/${j.name}.xml.rels`})}})}addTables(I,N){const w=new A;N.worksheets.forEach(_=>{const{tables:S}=_;S.forEach(j=>{w.prepare(j,{});const R=w.toXml(j);I.append(R,{name:"xl/tables/"+j.target})})})}async addContentTypes(I,N){const w=new x().toXml(N);I.append(w,{name:"[Content_Types].xml"})}async addApp(I,N){const w=new k().toXml(N);I.append(w,{name:"docProps/app.xml"})}async addCore(I,N){const w=new m;I.append(w.toXml(N),{name:"docProps/core.xml"})}async addThemes(I,N){const w=N.themes||{theme1:V};Object.keys(w).forEach(_=>{const S=w[_],j=`xl/theme/${_}.xml`;I.append(S,{name:j})})}async addOfficeRels(I){const N=new b().toXml([{Id:"rId1",Type:B.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:B.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:B.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);I.append(N,{name:"_rels/.rels"})}async addWorkbookRels(I,N){let w=1;const _=[{Id:"rId"+w++,Type:B.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:B.RelType.Theme,Target:"theme/theme1.xml"}];N.sharedStrings.count&&_.push({Id:"rId"+w++,Type:B.RelType.SharedStrings,Target:"sharedStrings.xml"}),N.worksheets.forEach(j=>{j.rId="rId"+w++,_.push({Id:j.rId,Type:B.RelType.Worksheet,Target:`worksheets/sheet${j.id}.xml`})});const S=new b().toXml(_);I.append(S,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(I,N){N.sharedStrings&&N.sharedStrings.count&&I.append(N.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(I,N){const{xml:w}=N.styles;w&&I.append(w,{name:"xl/styles.xml"})}async addWorkbook(I,N){const w=new T;I.append(w.toXml(N),{name:"xl/workbook.xml"})}async addWorksheets(I,N){const w=new O,_=new b,S=new P,j=new D;N.worksheets.forEach(R=>{let $=new p;w.render($,R),I.append($.xml,{name:`xl/worksheets/sheet${R.id}.xml`}),R.rels&&R.rels.length&&($=new p,_.render($,R.rels),I.append($.xml,{name:`xl/worksheets/_rels/sheet${R.id}.xml.rels`})),R.comments.length>0&&($=new p,S.render($,R),I.append($.xml,{name:`xl/comments${R.id}.xml`}),$=new p,j.render($,R),I.append($.xml,{name:`xl/drawings/vmlDrawing${R.id}.vml`}))})}_finalize(I){return new Promise((N,w)=>{I.on("finish",()=>{N(this)}),I.on("error",w),I.finalize()})}prepareModel(I,N){I.creator=I.creator||"ExcelJS",I.lastModifiedBy=I.lastModifiedBy||"ExcelJS",I.created=I.created||new Date,I.modified=I.modified||new Date,I.useSharedStrings=N.useSharedStrings===void 0||N.useSharedStrings,I.useStyles=N.useStyles===void 0||N.useStyles,I.sharedStrings=new v,I.styles=I.useStyles?new y(!0):new y.Mock;const w=new T,_=new O;w.prepare(I);const S={sharedStrings:I.sharedStrings,styles:I.styles,date1904:I.properties.date1904,drawingsCount:0,media:I.media};S.drawings=I.drawings=[],S.commentRefs=I.commentRefs=[];let j=0;I.tables=[],I.worksheets.forEach(R=>{R.tables.forEach($=>{j++,$.target=`table${j}.xml`,$.id=j,I.tables.push($)}),_.prepare(R,S)})}async write(I,N){N=N||{};const{model:w}=this.workbook,_=new d.ZipWriter(N.zip);return _.pipe(I),this.prepareModel(w,N),await this.addContentTypes(_,w),await this.addOfficeRels(_,w),await this.addWorkbookRels(_,w),await this.addWorksheets(_,w),await this.addSharedStrings(_,w),await this.addDrawings(_,w),await this.addTables(_,w),await Promise.all([this.addThemes(_,w),this.addStyles(_,w)]),await this.addMedia(_,w),await Promise.all([this.addApp(_,w),this.addCore(_,w)]),await this.addWorkbook(_,w),this._finalize(_)}writeFile(I,N){const w=o.createWriteStream(I);return new Promise((_,S)=>{w.on("finish",()=>{_()}),w.on("error",j=>{S(j)}),this.write(w,N).then(()=>{w.end()}).catch(j=>{S(j)})})}async writeBuffer(I){const N=new h;return await this.write(N,I),N.read()}}B.RelType=r("./rel-type"),n.exports=B}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(r,n,s){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(r,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const a=r("stream"),o=r("./formatter");class u extends a.Transform{constructor(d){super({writableObjectMode:d.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=d,this.rowFormatter=new o.RowFormatter(d),this.hasWrittenBOM=!d.writeBOM}transform(d){return this.rowFormatter.rowTransform=d,this}_transform(d,h,f){let p=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(d,(g,y)=>g?(p=!0,f(g)):(y&&y.forEach(m=>{this.push(i.from(m,"utf8"))}),p=!0,f()))}catch(g){if(p)throw g;f(g)}}_flush(d){this.rowFormatter.finish((h,f)=>h?d(h):(f&&f.forEach(p=>{this.push(i.from(p,"utf8"))}),d()))}}s.CsvFormatterStream=u}).call(this)}).call(this,r("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),i?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),i?.quote===!0?this.quote='"':i?.quote===!1&&(this.quote=""),typeof i?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=i.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(r,n,s){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const a=i(r("lodash.isboolean")),o=i(r("lodash.isnil")),u=i(r("lodash.escaperegexp"));s.FieldFormatter=class{constructor(l){this._headers=null,this.formatterOptions=l,l.headers!==null&&(this.headers=l.headers),this.REPLACE_REGEXP=new RegExp(l.quote,"g");const d=`[${l.delimiter}${u.default(l.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(d)}set headers(l){this._headers=l}shouldQuote(l,d){const h=d?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(h)?h:Array.isArray(h)?h[l]:this._headers!==null&&h[this._headers[l]]}format(l,d,h){const f=(""+(o.default(l)?"":l)).replace(/\0/g,""),{formatterOptions:p}=this;return p.quote!==""&&f.indexOf(p.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,p.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(d,h)?this.quoteField(f):f}quoteField(l){const{quote:d}=this.formatterOptions;return`${d}${l}${d}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(r,n,s){var i=function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const a=i(r("lodash.isfunction")),o=i(r("lodash.isequal")),u=r("./FieldFormatter"),l=r("../types");class d{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new u.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return d.isRowHashArray(f)?f.map(p=>p[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return l.isSyncTransform(f)?(p,g)=>{let y=null;try{y=f(p)}catch(m){return g(m)}return g(null,y)}:(p,g)=>{f(p,g)}}set rowTransform(f){if(!a.default(f))throw new TypeError("The transform should be a function");this._rowTransform=d.createTransform(f)}format(f,p){this.callTransformer(f,(g,y)=>{if(g)return p(g);if(!f)return p(null);const m=[];if(y){const{shouldFormatColumns:v,headers:b}=this.checkHeaders(y);if(this.shouldWriteHeaders&&b&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(b,!0)),this.hasWrittenHeaders=!0),v){const x=this.gatherColumns(y);m.push(this.formatColumns(x,!1))}}return p(null,m)})}finish(f){const p=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));p.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&p.push(this.formatterOptions.rowDelimiter),f(null,p)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const p=d.gatherHeaders(f);return this.headers=p,this.fieldFormatter.headers=p,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(p,f),headers:p}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?d.isRowHashArray(f)?this.headers.map((p,g)=>{const y=f[g];return y?y[1]:""}):d.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((p,g)=>f[g]):this.headers.map(p=>f[p])}callTransformer(f,p){return this._rowTransform?this._rowTransform(f,p):p(null,f)}formatColumns(f,p){const g=f.map((m,v)=>this.fieldFormatter.format(m,v,p)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,g].join(""):g}}s.RowFormatter=d},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var i=r("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var a=r("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(r,n,s){(function(i){(function(){var a=Object.create?function(v,b,x,k){k===void 0&&(k=x),Object.defineProperty(v,k,{enumerable:!0,get:function(){return b[x]}})}:function(v,b,x,k){k===void 0&&(k=x),v[k]=b[x]},o=Object.create?function(v,b){Object.defineProperty(v,"default",{enumerable:!0,value:b})}:function(v,b){v.default=b},u=function(v){if(v&&v.__esModule)return v;var b={};if(v!=null)for(var x in v)x!=="default"&&Object.prototype.hasOwnProperty.call(v,x)&&a(b,v,x);return o(b,v),b},l=function(v,b){for(var x in v)x==="default"||Object.prototype.hasOwnProperty.call(b,x)||a(b,v,x)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const d=r("util"),h=r("stream"),f=u(r("fs")),p=r("./FormatterOptions"),g=r("./CsvFormatterStream");l(r("./types"),s);var y=r("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var m=r("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),s.format=v=>new g.CsvFormatterStream(new p.FormatterOptions(v)),s.write=(v,b)=>{const x=s.format(b),k=d.promisify((T,O)=>{x.write(T,void 0,O)});return v.reduce((T,O)=>T.then(()=>k(O)),Promise.resolve()).then(()=>x.end()).catch(T=>{x.emit("error",T)}),x},s.writeToStream=(v,b,x)=>s.write(b,x).pipe(v),s.writeToBuffer=function(v){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const x=[],k=new h.Writable({write(T,O,F){x.push(T),F()}});return new Promise((T,O)=>{k.on("error",O).on("finish",()=>T(i.concat(x))),s.write(v,b).pipe(k)})},s.writeToString=(v,b)=>s.writeToBuffer(v,b).then(x=>x.toString()),s.writeToPath=(v,b,x)=>{const k=f.createWriteStream(v,{encoding:"utf8"});return s.write(b,x).pipe(k)}}).call(this)}).call(this,r("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1},{}],153:[function(r,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const a=r("string_decoder"),o=r("stream"),u=r("./transforms"),l=r("./parser");class d extends o.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new l.Parser(f),this.headerTransformer=new u.HeaderTransformer(f),this.decoder=new a.StringDecoder(f.encoding),this.rowTransformerValidator=new u.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var p=arguments.length,g=new Array(p>1?p-1:0),y=1;y<p;y++)g[y-1]=arguments[y];return super.emit(f,...g)}_transform(f,p,g){if(this.hasHitRowLimit)return g();const y=d.wrapDoneCallback(g);try{const{lines:m}=this,v=m+this.decoder.write(f),b=this.parse(v,!0);return this.processRows(b,y)}catch(m){return y(m)}}_flush(f){const p=d.wrapDoneCallback(f);if(this.hasHitRowLimit)return p();try{const g=this.lines+this.decoder.end(),y=this.parse(g,!1);return this.processRows(y,p)}catch(g){return p(g)}}parse(f,p){if(!f)return[];const{line:g,rows:y}=this.parser.parse(f,p);return this.lines=g,y}processRows(f,p){const g=f.length,y=m=>{const v=k=>k?p(k):m%100!=0?y(m+1):void i(()=>y(m+1));if(this.checkAndEmitHeaders(),m>=g||this.hasHitRowLimit)return p();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const b=f[m];this.rowCount+=1,this.parsedRowCount+=1;const x=this.rowCount;return this.transformRow(b,(k,T)=>{if(k)return this.rowCount-=1,v(k);if(!T)return v(new Error("expected transform result"));if(T.isValid){if(T.row)return this.pushRow(T.row,v)}else this.emit("data-invalid",T.row,x,T.reason);return v()})};y(0)}transformRow(f,p){try{this.headerTransformer.transform(f,(g,y)=>g?p(g):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,p):this.skipRow(p):(this.rowCount-=1,this.parsedRowCount-=1,p(null,{row:null,isValid:!0})):this.shouldEmitRows?p(null,{isValid:!1,row:f}):this.skipRow(p):p(new Error("Expected result from header transform")))}catch(g){p(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,p){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),p()}catch(g){p(g)}}static wrapDoneCallback(f){let p=!1;return function(g){if(g){if(p)throw g;return p=!0,void f(g)}for(var y=arguments.length,m=new Array(y>1?y-1:0),v=1;v<y;v++)m[v-1]=arguments[v];f(...m)}}}s.CsvParserStream=d}).call(this)}).call(this,r("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(r,n,s){var i=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const a=i(r("lodash.escaperegexp")),o=i(r("lodash.isnil"));s.ParserOptions=class{constructor(u){var l;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,u||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(l=this.escape)!==null&&l!==void 0?l:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(r,n,s){var i=Object.create?function(y,m,v,b){b===void 0&&(b=v),Object.defineProperty(y,b,{enumerable:!0,get:function(){return m[v]}})}:function(y,m,v,b){b===void 0&&(b=v),y[b]=m[v]},a=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},o=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&i(m,y,v);return a(m,y),m},u=function(y,m){for(var v in y)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||i(m,y,v)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const l=o(r("fs")),d=r("stream"),h=r("./ParserOptions"),f=r("./CsvParserStream");u(r("./types"),s);var p=r("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return p.CsvParserStream}});var g=r("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),s.parse=y=>new f.CsvParserStream(new h.ParserOptions(y)),s.parseStream=(y,m)=>y.pipe(new f.CsvParserStream(new h.ParserOptions(m))),s.parseFile=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.createReadStream(y).pipe(new f.CsvParserStream(new h.ParserOptions(m)))},s.parseString=(y,m)=>{const v=new d.Readable;return v.push(y),v.push(null),v.pipe(new f.CsvParserStream(new h.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const i=r("./Scanner"),a=r("./RowParser"),o=r("./Token");class u{constructor(d){this.parserOptions=d,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(d){return d&&d.charCodeAt(0)===65279?d.slice(1):d}parse(d,h){const f=new i.Scanner({line:u.removeBOM(d),parserOptions:this.parserOptions,hasMoreData:h});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(d){const h=[];let f=!0;for(;f;)f=this.parseRow(d,h);return{line:d.line,rows:h}}parseWithComments(d){const{parserOptions:h}=this,f=[];for(let p=d.nextCharacterToken;p!==null;p=d.nextCharacterToken)if(o.Token.isTokenComment(p,h)){if(d.advancePastLine()===null)return{line:d.lineFromCursor,rows:f};if(!d.hasMoreCharacters)return{line:d.lineFromCursor,rows:f};d.truncateToCursor()}else if(!this.parseRow(d,f))break;return{line:d.line,rows:f}}parseRow(d,h){if(!d.nextNonSpaceToken)return!1;const f=this.rowParser.parse(d);return f!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(f)||h.push(f),!0)}}s.Parser=u},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const i=r("./column"),a=r("./Token");s.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new i.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){const{parserOptions:u}=this,{hasMoreData:l}=o,d=o,h=[];let f=this.getStartToken(d,h);for(;f;){if(a.Token.isTokenRowDelimiter(f))return d.advancePastToken(f),!d.hasMoreCharacters&&a.Token.isTokenCarriageReturn(f,u)&&l?null:(d.truncateToCursor(),h);if(!this.shouldSkipColumnParse(d,f,h)){const p=this.columnParser.parse(d);if(p===null)return null;h.push(p)}f=d.nextNonSpaceToken}return l?null:(d.truncateToCursor(),h)}getStartToken(o,u){const l=o.nextNonSpaceToken;return l!==null&&a.Token.isTokenDelimiter(l,this.parserOptions)?(u.push(""),o.nextNonSpaceToken):l}shouldSkipColumnParse(o,u,l){const{parserOptions:d}=this;if(a.Token.isTokenDelimiter(u,d)){o.advancePastToken(u);const h=o.nextCharacterToken;if(!o.hasMoreCharacters||h!==null&&a.Token.isTokenRowDelimiter(h)||h!==null&&a.Token.isTokenDelimiter(h,d))return l.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const i=r("./Token"),a=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:o}=this,u=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(u)===-1)return null;const l=u.exec(o);if(l==null)return null;const d=l[1],h=this.cursor+(l.index||0);return new i.Token({token:d,startCursor:h,endCursor:h+d.length-1})}get nextCharacterToken(){const{cursor:o,lineLength:u}=this;return u<=o?null:new i.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const o=a.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const a=i.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(i,a){return i.token===a.carriageReturn}static isTokenComment(i,a){return a.supportsComments&&!!i&&i.token===a.comment}static isTokenEscapeCharacter(i,a){return i.token===a.escapeChar}static isTokenQuote(i,a){return i.token===a.quote}static isTokenDelimiter(i,a){return i.token===a.delimiter}}},{}],160:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(i){i.trim?this.format=a=>a.trim():i.ltrim?this.format=a=>a.trimLeft():i.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const i=r("./NonQuotedColumnParser"),a=r("./QuotedColumnParser"),o=r("../Token");s.ColumnParser=class{constructor(u){this.parserOptions=u,this.quotedColumnParser=new a.QuotedColumnParser(u),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(u)}parse(u){const{nextNonSpaceToken:l}=u;return l!==null&&o.Token.isTokenQuote(l,this.parserOptions)?(u.advanceToToken(l),this.quotedColumnParser.parse(u)):this.nonQuotedColumnParser.parse(u)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const i=r("./ColumnFormatter"),a=r("../Token");s.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const{parserOptions:u}=this,l=[];let d=o.nextCharacterToken;for(;d&&!a.Token.isTokenDelimiter(d,u)&&!a.Token.isTokenRowDelimiter(d);d=o.nextCharacterToken)l.push(d.token),o.advancePastToken(d);return this.columnFormatter.format(l.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const i=r("./ColumnFormatter"),a=r("../Token");s.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const u=o.cursor,{foundClosingQuote:l,col:d}=this.gatherDataBetweenQuotes(o);if(!l){if(o.advanceTo(u),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),d}gatherDataBetweenQuotes(o){const{parserOptions:u}=this;let l=!1,d=!1;const h=[];let f=o.nextCharacterToken;for(;!d&&f!==null;f=o.nextCharacterToken){const p=a.Token.isTokenQuote(f,u);if(!l&&p)l=!0;else if(l)if(a.Token.isTokenEscapeCharacter(f,u)){o.advancePastToken(f);const g=o.nextCharacterToken;g!==null&&(a.Token.isTokenQuote(g,u)||a.Token.isTokenEscapeCharacter(g,u))?(h.push(g.token),f=g):p?d=!0:h.push(f.token)}else p?d=!0:h.push(f.token);o.advancePastToken(f)}return{col:this.columnFormatter.format(h.join("")),foundClosingQuote:d}}checkForMalformedColumn(o){const{parserOptions:u}=this,{nextNonSpaceToken:l}=o;if(l){const d=a.Token.isTokenDelimiter(l,u),h=a.Token.isTokenRowDelimiter(l);if(!d&&!h){const f=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${u.escapedDelimiter}' OR new line got: '${l.token}'. at '${f}`)}o.advanceToToken(l)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var i=r("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var a=r("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var o=r("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var u=r("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return u.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var i=r("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return i.Parser}});var a=r("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var o=r("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var u=r("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return u.Token}});var l=r("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return l.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return l.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(r,n,s){var i=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const a=i(r("lodash.isundefined")),o=i(r("lodash.isfunction")),u=i(r("lodash.uniq")),l=i(r("lodash.groupby"));s.HeaderTransformer=class{constructor(d){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=d,d.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(d.headers)?this.setHeaders(d.headers):o.default(d.headers)&&(this.headersTransform=d.headers)}transform(d,h){return this.shouldMapRow(d)?h(null,this.processRow(d)):h(null,{row:null,isValid:!0})}shouldMapRow(d){const{parserOptions:h}=this;if(!this.headersTransform&&h.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(d)){if(this.headersTransform)this.setHeaders(this.headersTransform(d));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(d)}return!1}return!0}processRow(d){if(!this.headers)return{row:d,isValid:!0};const{parserOptions:h}=this;if(!h.discardUnmappedColumns&&d.length>this.headersLength){if(!h.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${d.length}`);return{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}}return h.strictColumnHandling&&d.length<this.headersLength?{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}:{row:this.mapHeaders(d),isValid:!0}}mapHeaders(d){const h={},{headers:f,headersLength:p}=this;for(let g=0;g<p;g+=1){const y=f[g];if(!a.default(y)){const m=d[g];a.default(m)?h[y]="":h[y]=m}}return h}setHeaders(d){var h;const f=d.filter(p=>!!p);if(u.default(f).length!==f.length){const p=l.default(f),g=Object.keys(p).filter(y=>p[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=d,this.receivedHeaders=!0,this.headersLength=((h=this.headers)===null||h===void 0?void 0:h.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(r,n,s){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const a=i(r("lodash.isfunction")),o=r("../types");class u{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(d){return o.isSyncTransform(d)?(h,f)=>{let p=null;try{p=d(h)}catch(g){return f(g)}return f(null,p)}:d}static createValidator(d){return o.isSyncValidate(d)?(h,f)=>{f(null,{row:h,isValid:d(h)})}:(h,f)=>{d(h,(p,g,y)=>p?f(p):f(null,g?{row:h,isValid:g,reason:y}:{row:h,isValid:!1,reason:y}))}}set rowTransform(d){if(!a.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}set rowValidator(d){if(!a.default(d))throw new TypeError("The validate should be a function");this._rowValidator=u.createValidator(d)}transformAndValidate(d,h){return this.callTransformer(d,(f,p)=>f?h(f):p?this.callValidator(p,(g,y)=>g?h(g):y&&!y.isValid?h(null,{row:p,isValid:!1,reason:y.reason}):h(null,{row:p,isValid:!0})):h(null,{row:null,isValid:!0}))}callTransformer(d,h){return this._rowTransform?this._rowTransform(d,h):h(null,d)}callValidator(d,h){return this._rowValidator?this._rowValidator(d,h):h(null,{row:d,isValid:!0})}}s.RowTransformerValidator=u},{"../types":169,"lodash.isfunction":446}],168:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var i=r("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var a=r("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1,s.isSyncValidate=i=>i.length===1},{}],170:[function(r,n,s){const i=s;i.bignum=r("bn.js"),i.define=r("./asn1/api").define,i.base=r("./asn1/base"),i.constants=r("./asn1/constants"),i.decoders=r("./asn1/decoders"),i.encoders=r("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(r,n,s){const i=r("./encoders"),a=r("./decoders"),o=r("inherits");function u(l,d){this.name=l,this.body=d,this.decoders={},this.encoders={}}s.define=function(l,d){return new u(l,d)},u.prototype._createNamed=function(l){const d=this.name;function h(f){this._initNamed(f,d)}return o(h,l),h.prototype._initNamed=function(f,p){l.call(this,f,p)},new h(this)},u.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(a[l])),this.decoders[l]},u.prototype.decode=function(l,d,h){return this._getDecoder(d).decode(l,h)},u.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(i[l])),this.encoders[l]},u.prototype.encode=function(l,d,h){return this._getEncoder(d).encode(l,h)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(r,n,s){const i=r("inherits"),a=r("../base/reporter").Reporter,o=r("safer-buffer").Buffer;function u(d,h){a.call(this,h),o.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function l(d,h){if(Array.isArray(d))this.length=0,this.value=d.map((function(f){return l.isEncoderBuffer(f)||(f=new l(f,h)),this.length+=f.length,f}),this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return h.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=o.byteLength(d);else{if(!o.isBuffer(d))return h.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}i(u,a),s.DecoderBuffer=u,u.isDecoderBuffer=function(d){return d instanceof u?!0:typeof d=="object"&&o.isBuffer(d.base)&&d.constructor.name==="DecoderBuffer"&&typeof d.offset=="number"&&typeof d.length=="number"&&typeof d.save=="function"&&typeof d.restore=="function"&&typeof d.isEmpty=="function"&&typeof d.readUInt8=="function"&&typeof d.skip=="function"&&typeof d.raw=="function"},u.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},u.prototype.restore=function(d){const h=new u(this.base);return h.offset=d.offset,h.length=this.offset,this.offset=d.offset,a.prototype.restore.call(this,d.reporter),h},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},u.prototype.skip=function(d,h){if(!(this.offset+d<=this.length))return this.error(h||"DecoderBuffer overrun");const f=new u(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+d,this.offset+=d,f},u.prototype.raw=function(d){return this.base.slice(d?d.offset:this.offset,this.length)},s.EncoderBuffer=l,l.isEncoderBuffer=function(d){return d instanceof l?!0:typeof d=="object"&&d.constructor.name==="EncoderBuffer"&&typeof d.length=="number"&&typeof d.join=="function"},l.prototype.join=function(d,h){return d||(d=o.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(f){f.join(d,h),h+=f.length})):(typeof this.value=="number"?d[h]=this.value:typeof this.value=="string"?d.write(this.value,h):o.isBuffer(this.value)&&this.value.copy(d,h),h+=this.length)),d}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(r,n,s){const i=s;i.Reporter=r("./reporter").Reporter,i.DecoderBuffer=r("./buffer").DecoderBuffer,i.EncoderBuffer=r("./buffer").EncoderBuffer,i.Node=r("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(r,n,s){const i=r("../base/reporter").Reporter,a=r("../base/buffer").EncoderBuffer,o=r("../base/buffer").DecoderBuffer,u=r("minimalistic-assert"),l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l);function h(p,g,y){const m={};this._baseState=m,m.name=y,m.enc=p,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=h;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const p=this._baseState,g={};f.forEach((function(m){g[m]=p[m]}));const y=new this.constructor(g.parent);return y._baseState=g,y},h.prototype._wrap=function(){const p=this._baseState;d.forEach((function(g){this[g]=function(){const y=new this.constructor(this);return p.children.push(y),y[g].apply(y,arguments)}}),this)},h.prototype._init=function(p){const g=this._baseState;u(g.parent===null),p.call(this),g.children=g.children.filter((function(y){return y._baseState.parent===this}),this),u.equal(g.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(p){const g=this._baseState,y=p.filter((function(m){return m instanceof this.constructor}),this);p=p.filter((function(m){return!(m instanceof this.constructor)}),this),y.length!==0&&(u(g.children===null),g.children=y,y.forEach((function(m){m._baseState.parent=this}),this)),p.length!==0&&(u(g.args===null),g.args=p,g.reverseArgs=p.map((function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach((function(b){b==(0|b)&&(b|=0);const x=m[b];v[x]=b})),v})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(p){h.prototype[p]=function(){const g=this._baseState;throw new Error(p+" not implemented for encoding: "+g.enc)}})),l.forEach((function(p){h.prototype[p]=function(){const g=this._baseState,y=Array.prototype.slice.call(arguments);return u(g.tag===null),g.tag=p,this._useArgs(y),this}})),h.prototype.use=function(p){u(p);const g=this._baseState;return u(g.use===null),g.use=p,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(p){const g=this._baseState;return u(g.default===null),g.default=p,g.optional=!0,this},h.prototype.explicit=function(p){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.explicit=p,this},h.prototype.implicit=function(p){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.implicit=p,this},h.prototype.obj=function(){const p=this._baseState,g=Array.prototype.slice.call(arguments);return p.obj=!0,g.length!==0&&this._useArgs(g),this},h.prototype.key=function(p){const g=this._baseState;return u(g.key===null),g.key=p,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(p){const g=this._baseState;return u(g.choice===null),g.choice=p,this._useArgs(Object.keys(p).map((function(y){return p[y]}))),this},h.prototype.contains=function(p){const g=this._baseState;return u(g.use===null),g.contains=p,this},h.prototype._decode=function(p,g){const y=this._baseState;if(y.parent===null)return p.wrapResult(y.children[0]._decode(p,g));let m,v=y.default,b=!0,x=null;if(y.key!==null&&(x=p.enterKey(y.key)),y.optional){let k=null;if(y.explicit!==null?k=y.explicit:y.implicit!==null?k=y.implicit:y.tag!==null&&(k=y.tag),k!==null||y.any){if(b=this._peekTag(p,k,y.any),p.isError(b))return b}else{const T=p.save();try{y.choice===null?this._decodeGeneric(y.tag,p,g):this._decodeChoice(p,g),b=!0}catch{b=!1}p.restore(T)}}if(y.obj&&b&&(m=p.enterObject()),b){if(y.explicit!==null){const T=this._decodeTag(p,y.explicit);if(p.isError(T))return T;p=T}const k=p.offset;if(y.use===null&&y.choice===null){let T;y.any&&(T=p.save());const O=this._decodeTag(p,y.implicit!==null?y.implicit:y.tag,y.any);if(p.isError(O))return O;y.any?v=p.raw(T):p=O}if(g&&g.track&&y.tag!==null&&g.track(p.path(),k,p.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(p.path(),p.offset,p.length,"content"),y.any||(v=y.choice===null?this._decodeGeneric(y.tag,p,g):this._decodeChoice(p,g)),p.isError(v))return v;if(y.any||y.choice!==null||y.children===null||y.children.forEach((function(T){T._decode(p,g)})),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const T=new o(v);v=this._getUse(y.contains,p._reporterState.obj)._decode(T,g)}}return y.obj&&b&&(v=p.leaveObject(m)),y.key===null||v===null&&b!==!0?x!==null&&p.exitKey(x):p.leaveKey(x,y.key,v),v},h.prototype._decodeGeneric=function(p,g,y){const m=this._baseState;return p==="seq"||p==="set"?null:p==="seqof"||p==="setof"?this._decodeList(g,p,m.args[0],y):/str$/.test(p)?this._decodeStr(g,p,y):p==="objid"&&m.args?this._decodeObjid(g,m.args[0],m.args[1],y):p==="objid"?this._decodeObjid(g,null,null,y):p==="gentime"||p==="utctime"?this._decodeTime(g,p,y):p==="null_"?this._decodeNull(g,y):p==="bool"?this._decodeBool(g,y):p==="objDesc"?this._decodeStr(g,p,y):p==="int"||p==="enum"?this._decodeInt(g,m.args&&m.args[0],y):m.use!==null?this._getUse(m.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+p)},h.prototype._getUse=function(p,g){const y=this._baseState;return y.useDecoder=this._use(p,g),u(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},h.prototype._decodeChoice=function(p,g){const y=this._baseState;let m=null,v=!1;return Object.keys(y.choice).some((function(b){const x=p.save(),k=y.choice[b];try{const T=k._decode(p,g);if(p.isError(T))return!1;m={type:b,value:T},v=!0}catch{return p.restore(x),!1}return!0}),this),v?m:p.error("Choice not matched")},h.prototype._createEncoderBuffer=function(p){return new a(p,this.reporter)},h.prototype._encode=function(p,g,y){const m=this._baseState;if(m.default!==null&&m.default===p)return;const v=this._encodeValue(p,g,y);return v===void 0||this._skipDefault(v,g,y)?void 0:v},h.prototype._encodeValue=function(p,g,y){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(p,g||new i);let v=null;if(this.reporter=g,m.optional&&p===void 0){if(m.default===null)return;p=m.default}let b=null,x=!1;if(m.any)v=this._createEncoderBuffer(p);else if(m.choice)v=this._encodeChoice(p,g);else if(m.contains)b=this._getUse(m.contains,y)._encode(p,g),x=!0;else if(m.children)b=m.children.map((function(k){if(k._baseState.tag==="null_")return k._encode(null,g,p);if(k._baseState.key===null)return g.error("Child should have a key");const T=g.enterKey(k._baseState.key);if(typeof p!="object")return g.error("Child expected, but input is not object");const O=k._encode(p[k._baseState.key],g,p);return g.leaveKey(T),O}),this).filter((function(k){return k})),b=this._createEncoderBuffer(b);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return g.error("Too many args for : "+m.tag);if(!Array.isArray(p))return g.error("seqof/setof, but data is not Array");const k=this.clone();k._baseState.implicit=null,b=this._createEncoderBuffer(p.map((function(T){const O=this._baseState;return this._getUse(O.args[0],p)._encode(T,g)}),k))}else m.use!==null?v=this._getUse(m.use,y)._encode(p,g):(b=this._encodePrimitive(m.tag,p),x=!0);if(!m.any&&m.choice===null){const k=m.implicit!==null?m.implicit:m.tag,T=m.implicit===null?"universal":"context";k===null?m.use===null&&g.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(k,x,T,b))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},h.prototype._encodeChoice=function(p,g){const y=this._baseState,m=y.choice[p.type];return m||u(!1,p.type+" not found in "+JSON.stringify(Object.keys(y.choice))),m._encode(p.value,g)},h.prototype._encodePrimitive=function(p,g){const y=this._baseState;if(/str$/.test(p))return this._encodeStr(g,p);if(p==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(p==="objid")return this._encodeObjid(g,null,null);if(p==="gentime"||p==="utctime")return this._encodeTime(g,p);if(p==="null_")return this._encodeNull();if(p==="int"||p==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(p==="bool")return this._encodeBool(g);if(p==="objDesc")return this._encodeStr(g,p);throw new Error("Unsupported tag: "+p)},h.prototype._isNumstr=function(p){return/^[0-9 ]*$/.test(p)},h.prototype._isPrintstr=function(p){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(p)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(r,n,s){const i=r("inherits");function a(u){this._reporterState={obj:null,path:[],options:u||{},errors:[]}}function o(u,l){this.path=u,this.rethrow(l)}s.Reporter=a,a.prototype.isError=function(u){return u instanceof o},a.prototype.save=function(){const u=this._reporterState;return{obj:u.obj,pathLen:u.path.length}},a.prototype.restore=function(u){const l=this._reporterState;l.obj=u.obj,l.path=l.path.slice(0,u.pathLen)},a.prototype.enterKey=function(u){return this._reporterState.path.push(u)},a.prototype.exitKey=function(u){const l=this._reporterState;l.path=l.path.slice(0,u-1)},a.prototype.leaveKey=function(u,l,d){const h=this._reporterState;this.exitKey(u),h.obj!==null&&(h.obj[l]=d)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const u=this._reporterState,l=u.obj;return u.obj={},l},a.prototype.leaveObject=function(u){const l=this._reporterState,d=l.obj;return l.obj=u,d},a.prototype.error=function(u){let l;const d=this._reporterState,h=u instanceof o;if(l=h?u:new o(d.path.map((function(f){return"["+JSON.stringify(f)+"]"})).join(""),u.message||u,u.stack),!d.options.partial)throw l;return h||d.errors.push(l),l},a.prototype.wrapResult=function(u){const l=this._reporterState;return l.options.partial?{result:this.isError(u)?null:u,errors:l.errors}:u},i(o,Error),o.prototype.rethrow=function(u){if(this.message=u+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(l){this.stack=l.stack}return this}},{inherits:440}],176:[function(r,n,s){function i(a){const o={};return Object.keys(a).forEach((function(u){(0|u)==u&&(u|=0);const l=a[u];o[l]=u})),o}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=i(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=i(s.tag)},{}],177:[function(r,n,s){const i=s;i._reverse=function(a){const o={};return Object.keys(a).forEach((function(u){(0|u)==u&&(u|=0);const l=a[u];o[l]=u})),o},i.der=r("./der")},{"./der":176}],178:[function(r,n,s){const i=r("inherits"),a=r("bn.js"),o=r("../base/buffer").DecoderBuffer,u=r("../base/node"),l=r("../constants/der");function d(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new h,this.tree._init(g.body)}function h(g){u.call(this,"der",g)}function f(g,y){let m=g.readUInt8(y);if(g.isError(m))return m;const v=l.tagClass[m>>6],b=(32&m)==0;if((31&m)==31){let x=m;for(m=0;(128&x)==128;){if(x=g.readUInt8(y),g.isError(x))return x;m<<=7,m|=127&x}}else m&=31;return{cls:v,primitive:b,tag:m,tagStr:l.tag[m]}}function p(g,y,m){let v=g.readUInt8(m);if(g.isError(v))return v;if(!y&&v===128)return null;if((128&v)==0)return v;const b=127&v;if(b>4)return g.error("length octect is too long");v=0;for(let x=0;x<b;x++){v<<=8;const k=g.readUInt8(m);if(g.isError(k))return k;v|=k}return v}n.exports=d,d.prototype.decode=function(g,y){return o.isDecoderBuffer(g)||(g=new o(g,y)),this.tree._decode(g,y)},i(h,u),h.prototype._peekTag=function(g,y,m){if(g.isEmpty())return!1;const v=g.save(),b=f(g,'Failed to peek tag: "'+y+'"');return g.isError(b)?b:(g.restore(v),b.tag===y||b.tagStr===y||b.tagStr+"of"===y||m)},h.prototype._decodeTag=function(g,y,m){const v=f(g,'Failed to decode tag of "'+y+'"');if(g.isError(v))return v;let b=p(g,v.primitive,'Failed to get length of "'+y+'"');if(g.isError(b))return b;if(!m&&v.tag!==y&&v.tagStr!==y&&v.tagStr+"of"!==y)return g.error('Failed to match tag: "'+y+'"');if(v.primitive||b!==null)return g.skip(b,'Failed to match body of: "'+y+'"');const x=g.save(),k=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(k)?k:(b=g.offset-x.offset,g.restore(x),g.skip(b,'Failed to match body of: "'+y+'"'))},h.prototype._skipUntilEnd=function(g,y){for(;;){const m=f(g,y);if(g.isError(m))return m;const v=p(g,m.primitive,y);if(g.isError(v))return v;let b;if(b=m.primitive||v!==null?g.skip(v):this._skipUntilEnd(g,y),g.isError(b))return b;if(m.tagStr==="end")break}},h.prototype._decodeList=function(g,y,m,v){const b=[];for(;!g.isEmpty();){const x=this._peekTag(g,"end");if(g.isError(x))return x;const k=m.decode(g,"der",v);if(g.isError(k)&&x)break;b.push(k)}return b},h.prototype._decodeStr=function(g,y){if(y==="bitstr"){const m=g.readUInt8();return g.isError(m)?m:{unused:m,data:g.raw()}}if(y==="bmpstr"){const m=g.raw();if(m.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let v="";for(let b=0;b<m.length/2;b++)v+=String.fromCharCode(m.readUInt16BE(2*b));return v}if(y==="numstr"){const m=g.raw().toString("ascii");return this._isNumstr(m)?m:g.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return g.raw();if(y==="printstr"){const m=g.raw().toString("ascii");return this._isPrintstr(m)?m:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?g.raw().toString():g.error("Decoding of string type: "+y+" unsupported")},h.prototype._decodeObjid=function(g,y,m){let v;const b=[];let x=0,k=0;for(;!g.isEmpty();)k=g.readUInt8(),x<<=7,x|=127&k,(128&k)==0&&(b.push(x),x=0);128&k&&b.push(x);const T=b[0]/40|0,O=b[0]%40;if(v=m?b:[T,O].concat(b.slice(1)),y){let F=y[v.join(" ")];F===void 0&&(F=y[v.join(".")]),F!==void 0&&(v=F)}return v},h.prototype._decodeTime=function(g,y){const m=g.raw().toString();let v,b,x,k,T,O;if(y==="gentime")v=0|m.slice(0,4),b=0|m.slice(4,6),x=0|m.slice(6,8),k=0|m.slice(8,10),T=0|m.slice(10,12),O=0|m.slice(12,14);else{if(y!=="utctime")return g.error("Decoding "+y+" time is not supported yet");v=0|m.slice(0,2),b=0|m.slice(2,4),x=0|m.slice(4,6),k=0|m.slice(6,8),T=0|m.slice(8,10),O=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,b-1,x,k,T,O,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(g){const y=g.readUInt8();return g.isError(y)?y:y!==0},h.prototype._decodeInt=function(g,y){const m=g.raw();let v=new a(m);return y&&(v=y[v.toString(10)]||v),v},h.prototype._use=function(g,y){return typeof g=="function"&&(g=g(y)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(r,n,s){const i=s;i.der=r("./der"),i.pem=r("./pem")},{"./der":178,"./pem":180}],180:[function(r,n,s){const i=r("inherits"),a=r("safer-buffer").Buffer,o=r("./der");function u(l){o.call(this,l),this.enc="pem"}i(u,o),n.exports=u,u.prototype.decode=function(l,d){const h=l.toString().split(/[\r\n]+/g),f=d.label.toUpperCase(),p=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,y=-1;for(let b=0;b<h.length;b++){const x=h[b].match(p);if(x!==null&&x[2]===f){if(g!==-1){if(x[1]!=="END")break;y=b;break}if(x[1]!=="BEGIN")break;g=b}}if(g===-1||y===-1)throw new Error("PEM section not found for: "+f);const m=h.slice(g+1,y).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=a.from(m,"base64");return o.prototype.decode.call(this,v,d)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(r,n,s){const i=r("inherits"),a=r("safer-buffer").Buffer,o=r("../base/node"),u=r("../constants/der");function l(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new d,this.tree._init(f.body)}function d(f){o.call(this,"der",f)}function h(f){return f<10?"0"+f:f}n.exports=l,l.prototype.encode=function(f,p){return this.tree._encode(f,p).join()},i(d,o),d.prototype._encodeComposite=function(f,p,g,y){const m=(function(x,k,T,O){let F;if(x==="seqof"?x="seq":x==="setof"&&(x="set"),u.tagByName.hasOwnProperty(x))F=u.tagByName[x];else{if(typeof x!="number"||(0|x)!==x)return O.error("Unknown tag: "+x);F=x}return F>=31?O.error("Multi-octet tag encoding unsupported"):(k||(F|=32),F|=u.tagClassByName[T||"universal"]<<6,F)})(f,p,g,this.reporter);if(y.length<128){const x=a.alloc(2);return x[0]=m,x[1]=y.length,this._createEncoderBuffer([x,y])}let v=1;for(let x=y.length;x>=256;x>>=8)v++;const b=a.alloc(2+v);b[0]=m,b[1]=128|v;for(let x=1+v,k=y.length;k>0;x--,k>>=8)b[x]=255&k;return this._createEncoderBuffer([b,y])},d.prototype._encodeStr=function(f,p){if(p==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(p==="bmpstr"){const g=a.alloc(2*f.length);for(let y=0;y<f.length;y++)g.writeUInt16BE(f.charCodeAt(y),2*y);return this._createEncoderBuffer(g)}return p==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):p==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(p)||p==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+p+" unsupported")},d.prototype._encodeObjid=function(f,p,g){if(typeof f=="string"){if(!p)return this.reporter.error("string objid given, but no values map found");if(!p.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=p[f].split(/[\s.]+/g);for(let b=0;b<f.length;b++)f[b]|=0}else if(Array.isArray(f)){f=f.slice();for(let b=0;b<f.length;b++)f[b]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!g){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let y=0;for(let b=0;b<f.length;b++){let x=f[b];for(y++;x>=128;x>>=7)y++}const m=a.alloc(y);let v=m.length-1;for(let b=f.length-1;b>=0;b--){let x=f[b];for(m[v--]=127&x;(x>>=7)>0;)m[v--]=128|127&x}return this._createEncoderBuffer(m)},d.prototype._encodeTime=function(f,p){let g;const y=new Date(f);return p==="gentime"?g=[h(y.getUTCFullYear()),h(y.getUTCMonth()+1),h(y.getUTCDate()),h(y.getUTCHours()),h(y.getUTCMinutes()),h(y.getUTCSeconds()),"Z"].join(""):p==="utctime"?g=[h(y.getUTCFullYear()%100),h(y.getUTCMonth()+1),h(y.getUTCDate()),h(y.getUTCHours()),h(y.getUTCMinutes()),h(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+p+" time is not supported yet"),this._encodeStr(g,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(f,p){if(typeof f=="string"){if(!p)return this.reporter.error("String int or enum given, but no values map");if(!p.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=p[f]}if(typeof f!="number"&&!a.isBuffer(f)){const m=f.toArray();!f.sign&&128&m[0]&&m.unshift(0),f=a.from(m)}if(a.isBuffer(f)){let m=f.length;f.length===0&&m++;const v=a.alloc(m);return f.copy(v),f.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let g=1;for(let m=f;m>=256;m>>=8)g++;const y=new Array(g);for(let m=y.length-1;m>=0;m--)y[m]=255&f,f>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(a.from(y))},d.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},d.prototype._use=function(f,p){return typeof f=="function"&&(f=f(p)),f._getEncoder("der").tree},d.prototype._skipDefault=function(f,p,g){const y=this._baseState;let m;if(y.default===null)return!1;const v=f.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,p,g).join()),v.length!==y.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==y.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(r,n,s){const i=s;i.der=r("./der"),i.pem=r("./pem")},{"./der":181,"./pem":183}],183:[function(r,n,s){const i=r("inherits"),a=r("./der");function o(u){a.call(this,u),this.enc="pem"}i(o,a),n.exports=o,o.prototype.encode=function(u,l){const d=a.prototype.encode.call(this,u).toString("base64"),h=["-----BEGIN "+l.label+"-----"];for(let f=0;f<d.length;f+=64)h.push(d.slice(f,f+64));return h.push("-----END "+l.label+"-----"),h.join(`
`)}},{"./der":181,inherits:440}],184:[function(r,n,s){(function(i,a){function o(C,I){if(!C)throw new Error(I||"Assertion failed")}function u(C,I){C.super_=I;var N=function(){};N.prototype=I.prototype,C.prototype=new N,C.prototype.constructor=C}function l(C,I,N){if(l.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(I!=="le"&&I!=="be"||(N=I,I=10),this._init(C||0,I||10,N||"be"))}var d;typeof i=="object"?i.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function h(C,I){var N=C.charCodeAt(I);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function f(C,I,N){var w=h(C,N);return N-1>=I&&(w|=h(C,N-1)<<4),w}function p(C,I,N,w){for(var _=0,S=Math.min(C.length,N),j=I;j<S;j++){var R=C.charCodeAt(j)-48;_*=w,_+=R>=49?R-49+10:R>=17?R-17+10:R}return _}l.isBN=function(C){return C instanceof l||C!==null&&typeof C=="object"&&C.constructor.wordSize===l.wordSize&&Array.isArray(C.words)},l.max=function(C,I){return C.cmp(I)>0?C:I},l.min=function(C,I){return C.cmp(I)<0?C:I},l.prototype._init=function(C,I,N){if(typeof C=="number")return this._initNumber(C,I,N);if(typeof C=="object")return this._initArray(C,I,N);I==="hex"&&(I=16),o(I===(0|I)&&I>=2&&I<=36);var w=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<C.length&&(I===16?this._parseHex(C,w,N):(this._parseBase(C,I,w),N==="le"&&this._initArray(this.toArray(),I,N)))},l.prototype._initNumber=function(C,I,N){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(o(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),I,N)},l.prototype._initArray=function(C,I,N){if(o(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var _,S,j=0;if(N==="be")for(w=C.length-1,_=0;w>=0;w-=3)S=C[w]|C[w-1]<<8|C[w-2]<<16,this.words[_]|=S<<j&67108863,this.words[_+1]=S>>>26-j&67108863,(j+=24)>=26&&(j-=26,_++);else if(N==="le")for(w=0,_=0;w<C.length;w+=3)S=C[w]|C[w+1]<<8|C[w+2]<<16,this.words[_]|=S<<j&67108863,this.words[_+1]=S>>>26-j&67108863,(j+=24)>=26&&(j-=26,_++);return this.strip()},l.prototype._parseHex=function(C,I,N){this.length=Math.ceil((C.length-I)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var _,S=0,j=0;if(N==="be")for(w=C.length-1;w>=I;w-=2)_=f(C,I,w)<<S,this.words[j]|=67108863&_,S>=18?(S-=18,j+=1,this.words[j]|=_>>>26):S+=8;else for(w=(C.length-I)%2==0?I+1:I;w<C.length;w+=2)_=f(C,I,w)<<S,this.words[j]|=67108863&_,S>=18?(S-=18,j+=1,this.words[j]|=_>>>26):S+=8;this.strip()},l.prototype._parseBase=function(C,I,N){this.words=[0],this.length=1;for(var w=0,_=1;_<=67108863;_*=I)w++;w--,_=_/I|0;for(var S=C.length-N,j=S%w,R=Math.min(S,S-j)+N,$=0,U=N;U<R;U+=w)$=p(C,U,U+w,I),this.imuln(_),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($);if(j!==0){var q=1;for($=p(C,U,C.length,I),U=0;U<j;U++)q*=I;this.imuln(q),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($)}this.strip()},l.prototype.copy=function(C){C.words=new Array(this.length);for(var I=0;I<this.length;I++)C.words[I]=this.words[I];C.length=this.length,C.negative=this.negative,C.red=this.red},l.prototype.clone=function(){var C=new l(null);return this.copy(C),C},l.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(C,I,N){N.negative=I.negative^C.negative;var w=C.length+I.length|0;N.length=w,w=w-1|0;var _=0|C.words[0],S=0|I.words[0],j=_*S,R=67108863&j,$=j/67108864|0;N.words[0]=R;for(var U=1;U<w;U++){for(var q=$>>>26,H=67108863&$,Y=Math.min(U,I.length-1),M=Math.max(0,U-C.length+1);M<=Y;M++){var K=U-M|0;q+=(j=(_=0|C.words[K])*(S=0|I.words[M])+H)/67108864|0,H=67108863&j}N.words[U]=0|H,$=0|q}return $!==0?N.words[U]=0|$:N.length--,N.strip()}l.prototype.toString=function(C,I){var N;if(I=0|I||1,(C=C||10)===16||C==="hex"){N="";for(var w=0,_=0,S=0;S<this.length;S++){var j=this.words[S],R=(16777215&(j<<w|_)).toString(16);N=(_=j>>>24-w&16777215)!==0||S!==this.length-1?g[6-R.length]+R+N:R+N,(w+=2)>=26&&(w-=26,S--)}for(_!==0&&(N=_.toString(16)+N);N.length%I!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(C===(0|C)&&C>=2&&C<=36){var $=y[C],U=m[C];N="";var q=this.clone();for(q.negative=0;!q.isZero();){var H=q.modn(U).toString(C);N=(q=q.idivn(U)).isZero()?H+N:g[$-H.length]+H+N}for(this.isZero()&&(N="0"+N);N.length%I!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}o(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(C,I){return o(d!==void 0),this.toArrayLike(d,C,I)},l.prototype.toArray=function(C,I){return this.toArrayLike(Array,C,I)},l.prototype.toArrayLike=function(C,I,N){var w=this.byteLength(),_=N||Math.max(1,w);o(w<=_,"byte array longer than desired length"),o(_>0,"Requested array length <= 0"),this.strip();var S,j,R=I==="le",$=new C(_),U=this.clone();if(R){for(j=0;!U.isZero();j++)S=U.andln(255),U.iushrn(8),$[j]=S;for(;j<_;j++)$[j]=0}else{for(j=0;j<_-w;j++)$[j]=0;for(j=0;!U.isZero();j++)S=U.andln(255),U.iushrn(8),$[_-j-1]=S}return $},Math.clz32?l.prototype._countBits=function(C){return 32-Math.clz32(C)}:l.prototype._countBits=function(C){var I=C,N=0;return I>=4096&&(N+=13,I>>>=13),I>=64&&(N+=7,I>>>=7),I>=8&&(N+=4,I>>>=4),I>=2&&(N+=2,I>>>=2),N+I},l.prototype._zeroBits=function(C){if(C===0)return 26;var I=C,N=0;return(8191&I)==0&&(N+=13,I>>>=13),(127&I)==0&&(N+=7,I>>>=7),(15&I)==0&&(N+=4,I>>>=4),(3&I)==0&&(N+=2,I>>>=2),(1&I)==0&&N++,N},l.prototype.bitLength=function(){var C=this.words[this.length-1],I=this._countBits(C);return 26*(this.length-1)+I},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,I=0;I<this.length;I++){var N=this._zeroBits(this.words[I]);if(C+=N,N!==26)break}return C},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},l.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var I=0;I<C.length;I++)this.words[I]=this.words[I]|C.words[I];return this.strip()},l.prototype.ior=function(C){return o((this.negative|C.negative)==0),this.iuor(C)},l.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},l.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},l.prototype.iuand=function(C){var I;I=this.length>C.length?C:this;for(var N=0;N<I.length;N++)this.words[N]=this.words[N]&C.words[N];return this.length=I.length,this.strip()},l.prototype.iand=function(C){return o((this.negative|C.negative)==0),this.iuand(C)},l.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},l.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},l.prototype.iuxor=function(C){var I,N;this.length>C.length?(I=this,N=C):(I=C,N=this);for(var w=0;w<N.length;w++)this.words[w]=I.words[w]^N.words[w];if(this!==I)for(;w<I.length;w++)this.words[w]=I.words[w];return this.length=I.length,this.strip()},l.prototype.ixor=function(C){return o((this.negative|C.negative)==0),this.iuxor(C)},l.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},l.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},l.prototype.inotn=function(C){o(typeof C=="number"&&C>=0);var I=0|Math.ceil(C/26),N=C%26;this._expand(I),N>0&&I--;for(var w=0;w<I;w++)this.words[w]=67108863&~this.words[w];return N>0&&(this.words[w]=~this.words[w]&67108863>>26-N),this.strip()},l.prototype.notn=function(C){return this.clone().inotn(C)},l.prototype.setn=function(C,I){o(typeof C=="number"&&C>=0);var N=C/26|0,w=C%26;return this._expand(N+1),this.words[N]=I?this.words[N]|1<<w:this.words[N]&~(1<<w),this.strip()},l.prototype.iadd=function(C){var I,N,w;if(this.negative!==0&&C.negative===0)return this.negative=0,I=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,I=this.isub(C),C.negative=1,I._normSign();this.length>C.length?(N=this,w=C):(N=C,w=this);for(var _=0,S=0;S<w.length;S++)I=(0|N.words[S])+(0|w.words[S])+_,this.words[S]=67108863&I,_=I>>>26;for(;_!==0&&S<N.length;S++)I=(0|N.words[S])+_,this.words[S]=67108863&I,_=I>>>26;if(this.length=N.length,_!==0)this.words[this.length]=_,this.length++;else if(N!==this)for(;S<N.length;S++)this.words[S]=N.words[S];return this},l.prototype.add=function(C){var I;return C.negative!==0&&this.negative===0?(C.negative=0,I=this.sub(C),C.negative^=1,I):C.negative===0&&this.negative!==0?(this.negative=0,I=C.sub(this),this.negative=1,I):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},l.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var I=this.iadd(C);return C.negative=1,I._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var N,w,_=this.cmp(C);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(N=this,w=C):(N=C,w=this);for(var S=0,j=0;j<w.length;j++)S=(I=(0|N.words[j])-(0|w.words[j])+S)>>26,this.words[j]=67108863&I;for(;S!==0&&j<N.length;j++)S=(I=(0|N.words[j])+S)>>26,this.words[j]=67108863&I;if(S===0&&j<N.length&&N!==this)for(;j<N.length;j++)this.words[j]=N.words[j];return this.length=Math.max(this.length,j),N!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(C){return this.clone().isub(C)};var b=function(C,I,N){var w,_,S,j=C.words,R=I.words,$=N.words,U=0,q=0|j[0],H=8191&q,Y=q>>>13,M=0|j[1],K=8191&M,z=M>>>13,L=0|j[2],W=8191&L,J=L>>>13,le=0|j[3],ne=8191&le,ue=le>>>13,G=0|j[4],te=8191&G,X=G>>>13,ae=0|j[5],re=8191&ae,ee=ae>>>13,Z=0|j[6],Q=8191&Z,ie=Z>>>13,ce=0|j[7],ge=8191&ce,we=ce>>>13,Te=0|j[8],Ae=8191&Te,De=Te>>>13,Fe=0|j[9],rt=8191&Fe,qe=Fe>>>13,Ve=0|R[0],pe=8191&Ve,de=Ve>>>13,Pe=0|R[1],$e=8191&Pe,yt=Pe>>>13,Ot=0|R[2],it=8191&Ot,Bt=Ot>>>13,st=0|R[3],gt=8191&st,dt=st>>>13,sr=0|R[4],_t=8191&sr,ir=sr>>>13,qt=0|R[5],Ct=8191&qt,pr=qt>>>13,er=0|R[6],Ut=8191&er,ve=er>>>13,ke=0|R[7],Re=8191&ke,He=ke>>>13,St=0|R[8],Ge=8191&St,bt=St>>>13,Tt=0|R[9],mt=8191&Tt,Mt=Tt>>>13;N.negative=C.negative^I.negative,N.length=19;var Rt=(U+(w=Math.imul(H,pe))|0)+((8191&(_=(_=Math.imul(H,de))+Math.imul(Y,pe)|0))<<13)|0;U=((S=Math.imul(Y,de))+(_>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,w=Math.imul(K,pe),_=(_=Math.imul(K,de))+Math.imul(z,pe)|0,S=Math.imul(z,de);var Dt=(U+(w=w+Math.imul(H,$e)|0)|0)+((8191&(_=(_=_+Math.imul(H,yt)|0)+Math.imul(Y,$e)|0))<<13)|0;U=((S=S+Math.imul(Y,yt)|0)+(_>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,w=Math.imul(W,pe),_=(_=Math.imul(W,de))+Math.imul(J,pe)|0,S=Math.imul(J,de),w=w+Math.imul(K,$e)|0,_=(_=_+Math.imul(K,yt)|0)+Math.imul(z,$e)|0,S=S+Math.imul(z,yt)|0;var Zt=(U+(w=w+Math.imul(H,it)|0)|0)+((8191&(_=(_=_+Math.imul(H,Bt)|0)+Math.imul(Y,it)|0))<<13)|0;U=((S=S+Math.imul(Y,Bt)|0)+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,w=Math.imul(ne,pe),_=(_=Math.imul(ne,de))+Math.imul(ue,pe)|0,S=Math.imul(ue,de),w=w+Math.imul(W,$e)|0,_=(_=_+Math.imul(W,yt)|0)+Math.imul(J,$e)|0,S=S+Math.imul(J,yt)|0,w=w+Math.imul(K,it)|0,_=(_=_+Math.imul(K,Bt)|0)+Math.imul(z,it)|0,S=S+Math.imul(z,Bt)|0;var $r=(U+(w=w+Math.imul(H,gt)|0)|0)+((8191&(_=(_=_+Math.imul(H,dt)|0)+Math.imul(Y,gt)|0))<<13)|0;U=((S=S+Math.imul(Y,dt)|0)+(_>>>13)|0)+($r>>>26)|0,$r&=67108863,w=Math.imul(te,pe),_=(_=Math.imul(te,de))+Math.imul(X,pe)|0,S=Math.imul(X,de),w=w+Math.imul(ne,$e)|0,_=(_=_+Math.imul(ne,yt)|0)+Math.imul(ue,$e)|0,S=S+Math.imul(ue,yt)|0,w=w+Math.imul(W,it)|0,_=(_=_+Math.imul(W,Bt)|0)+Math.imul(J,it)|0,S=S+Math.imul(J,Bt)|0,w=w+Math.imul(K,gt)|0,_=(_=_+Math.imul(K,dt)|0)+Math.imul(z,gt)|0,S=S+Math.imul(z,dt)|0;var mr=(U+(w=w+Math.imul(H,_t)|0)|0)+((8191&(_=(_=_+Math.imul(H,ir)|0)+Math.imul(Y,_t)|0))<<13)|0;U=((S=S+Math.imul(Y,ir)|0)+(_>>>13)|0)+(mr>>>26)|0,mr&=67108863,w=Math.imul(re,pe),_=(_=Math.imul(re,de))+Math.imul(ee,pe)|0,S=Math.imul(ee,de),w=w+Math.imul(te,$e)|0,_=(_=_+Math.imul(te,yt)|0)+Math.imul(X,$e)|0,S=S+Math.imul(X,yt)|0,w=w+Math.imul(ne,it)|0,_=(_=_+Math.imul(ne,Bt)|0)+Math.imul(ue,it)|0,S=S+Math.imul(ue,Bt)|0,w=w+Math.imul(W,gt)|0,_=(_=_+Math.imul(W,dt)|0)+Math.imul(J,gt)|0,S=S+Math.imul(J,dt)|0,w=w+Math.imul(K,_t)|0,_=(_=_+Math.imul(K,ir)|0)+Math.imul(z,_t)|0,S=S+Math.imul(z,ir)|0;var ye=(U+(w=w+Math.imul(H,Ct)|0)|0)+((8191&(_=(_=_+Math.imul(H,pr)|0)+Math.imul(Y,Ct)|0))<<13)|0;U=((S=S+Math.imul(Y,pr)|0)+(_>>>13)|0)+(ye>>>26)|0,ye&=67108863,w=Math.imul(Q,pe),_=(_=Math.imul(Q,de))+Math.imul(ie,pe)|0,S=Math.imul(ie,de),w=w+Math.imul(re,$e)|0,_=(_=_+Math.imul(re,yt)|0)+Math.imul(ee,$e)|0,S=S+Math.imul(ee,yt)|0,w=w+Math.imul(te,it)|0,_=(_=_+Math.imul(te,Bt)|0)+Math.imul(X,it)|0,S=S+Math.imul(X,Bt)|0,w=w+Math.imul(ne,gt)|0,_=(_=_+Math.imul(ne,dt)|0)+Math.imul(ue,gt)|0,S=S+Math.imul(ue,dt)|0,w=w+Math.imul(W,_t)|0,_=(_=_+Math.imul(W,ir)|0)+Math.imul(J,_t)|0,S=S+Math.imul(J,ir)|0,w=w+Math.imul(K,Ct)|0,_=(_=_+Math.imul(K,pr)|0)+Math.imul(z,Ct)|0,S=S+Math.imul(z,pr)|0;var Ke=(U+(w=w+Math.imul(H,Ut)|0)|0)+((8191&(_=(_=_+Math.imul(H,ve)|0)+Math.imul(Y,Ut)|0))<<13)|0;U=((S=S+Math.imul(Y,ve)|0)+(_>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,w=Math.imul(ge,pe),_=(_=Math.imul(ge,de))+Math.imul(we,pe)|0,S=Math.imul(we,de),w=w+Math.imul(Q,$e)|0,_=(_=_+Math.imul(Q,yt)|0)+Math.imul(ie,$e)|0,S=S+Math.imul(ie,yt)|0,w=w+Math.imul(re,it)|0,_=(_=_+Math.imul(re,Bt)|0)+Math.imul(ee,it)|0,S=S+Math.imul(ee,Bt)|0,w=w+Math.imul(te,gt)|0,_=(_=_+Math.imul(te,dt)|0)+Math.imul(X,gt)|0,S=S+Math.imul(X,dt)|0,w=w+Math.imul(ne,_t)|0,_=(_=_+Math.imul(ne,ir)|0)+Math.imul(ue,_t)|0,S=S+Math.imul(ue,ir)|0,w=w+Math.imul(W,Ct)|0,_=(_=_+Math.imul(W,pr)|0)+Math.imul(J,Ct)|0,S=S+Math.imul(J,pr)|0,w=w+Math.imul(K,Ut)|0,_=(_=_+Math.imul(K,ve)|0)+Math.imul(z,Ut)|0,S=S+Math.imul(z,ve)|0;var oe=(U+(w=w+Math.imul(H,Re)|0)|0)+((8191&(_=(_=_+Math.imul(H,He)|0)+Math.imul(Y,Re)|0))<<13)|0;U=((S=S+Math.imul(Y,He)|0)+(_>>>13)|0)+(oe>>>26)|0,oe&=67108863,w=Math.imul(Ae,pe),_=(_=Math.imul(Ae,de))+Math.imul(De,pe)|0,S=Math.imul(De,de),w=w+Math.imul(ge,$e)|0,_=(_=_+Math.imul(ge,yt)|0)+Math.imul(we,$e)|0,S=S+Math.imul(we,yt)|0,w=w+Math.imul(Q,it)|0,_=(_=_+Math.imul(Q,Bt)|0)+Math.imul(ie,it)|0,S=S+Math.imul(ie,Bt)|0,w=w+Math.imul(re,gt)|0,_=(_=_+Math.imul(re,dt)|0)+Math.imul(ee,gt)|0,S=S+Math.imul(ee,dt)|0,w=w+Math.imul(te,_t)|0,_=(_=_+Math.imul(te,ir)|0)+Math.imul(X,_t)|0,S=S+Math.imul(X,ir)|0,w=w+Math.imul(ne,Ct)|0,_=(_=_+Math.imul(ne,pr)|0)+Math.imul(ue,Ct)|0,S=S+Math.imul(ue,pr)|0,w=w+Math.imul(W,Ut)|0,_=(_=_+Math.imul(W,ve)|0)+Math.imul(J,Ut)|0,S=S+Math.imul(J,ve)|0,w=w+Math.imul(K,Re)|0,_=(_=_+Math.imul(K,He)|0)+Math.imul(z,Re)|0,S=S+Math.imul(z,He)|0;var xe=(U+(w=w+Math.imul(H,Ge)|0)|0)+((8191&(_=(_=_+Math.imul(H,bt)|0)+Math.imul(Y,Ge)|0))<<13)|0;U=((S=S+Math.imul(Y,bt)|0)+(_>>>13)|0)+(xe>>>26)|0,xe&=67108863,w=Math.imul(rt,pe),_=(_=Math.imul(rt,de))+Math.imul(qe,pe)|0,S=Math.imul(qe,de),w=w+Math.imul(Ae,$e)|0,_=(_=_+Math.imul(Ae,yt)|0)+Math.imul(De,$e)|0,S=S+Math.imul(De,yt)|0,w=w+Math.imul(ge,it)|0,_=(_=_+Math.imul(ge,Bt)|0)+Math.imul(we,it)|0,S=S+Math.imul(we,Bt)|0,w=w+Math.imul(Q,gt)|0,_=(_=_+Math.imul(Q,dt)|0)+Math.imul(ie,gt)|0,S=S+Math.imul(ie,dt)|0,w=w+Math.imul(re,_t)|0,_=(_=_+Math.imul(re,ir)|0)+Math.imul(ee,_t)|0,S=S+Math.imul(ee,ir)|0,w=w+Math.imul(te,Ct)|0,_=(_=_+Math.imul(te,pr)|0)+Math.imul(X,Ct)|0,S=S+Math.imul(X,pr)|0,w=w+Math.imul(ne,Ut)|0,_=(_=_+Math.imul(ne,ve)|0)+Math.imul(ue,Ut)|0,S=S+Math.imul(ue,ve)|0,w=w+Math.imul(W,Re)|0,_=(_=_+Math.imul(W,He)|0)+Math.imul(J,Re)|0,S=S+Math.imul(J,He)|0,w=w+Math.imul(K,Ge)|0,_=(_=_+Math.imul(K,bt)|0)+Math.imul(z,Ge)|0,S=S+Math.imul(z,bt)|0;var Ee=(U+(w=w+Math.imul(H,mt)|0)|0)+((8191&(_=(_=_+Math.imul(H,Mt)|0)+Math.imul(Y,mt)|0))<<13)|0;U=((S=S+Math.imul(Y,Mt)|0)+(_>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,w=Math.imul(rt,$e),_=(_=Math.imul(rt,yt))+Math.imul(qe,$e)|0,S=Math.imul(qe,yt),w=w+Math.imul(Ae,it)|0,_=(_=_+Math.imul(Ae,Bt)|0)+Math.imul(De,it)|0,S=S+Math.imul(De,Bt)|0,w=w+Math.imul(ge,gt)|0,_=(_=_+Math.imul(ge,dt)|0)+Math.imul(we,gt)|0,S=S+Math.imul(we,dt)|0,w=w+Math.imul(Q,_t)|0,_=(_=_+Math.imul(Q,ir)|0)+Math.imul(ie,_t)|0,S=S+Math.imul(ie,ir)|0,w=w+Math.imul(re,Ct)|0,_=(_=_+Math.imul(re,pr)|0)+Math.imul(ee,Ct)|0,S=S+Math.imul(ee,pr)|0,w=w+Math.imul(te,Ut)|0,_=(_=_+Math.imul(te,ve)|0)+Math.imul(X,Ut)|0,S=S+Math.imul(X,ve)|0,w=w+Math.imul(ne,Re)|0,_=(_=_+Math.imul(ne,He)|0)+Math.imul(ue,Re)|0,S=S+Math.imul(ue,He)|0,w=w+Math.imul(W,Ge)|0,_=(_=_+Math.imul(W,bt)|0)+Math.imul(J,Ge)|0,S=S+Math.imul(J,bt)|0;var Me=(U+(w=w+Math.imul(K,mt)|0)|0)+((8191&(_=(_=_+Math.imul(K,Mt)|0)+Math.imul(z,mt)|0))<<13)|0;U=((S=S+Math.imul(z,Mt)|0)+(_>>>13)|0)+(Me>>>26)|0,Me&=67108863,w=Math.imul(rt,it),_=(_=Math.imul(rt,Bt))+Math.imul(qe,it)|0,S=Math.imul(qe,Bt),w=w+Math.imul(Ae,gt)|0,_=(_=_+Math.imul(Ae,dt)|0)+Math.imul(De,gt)|0,S=S+Math.imul(De,dt)|0,w=w+Math.imul(ge,_t)|0,_=(_=_+Math.imul(ge,ir)|0)+Math.imul(we,_t)|0,S=S+Math.imul(we,ir)|0,w=w+Math.imul(Q,Ct)|0,_=(_=_+Math.imul(Q,pr)|0)+Math.imul(ie,Ct)|0,S=S+Math.imul(ie,pr)|0,w=w+Math.imul(re,Ut)|0,_=(_=_+Math.imul(re,ve)|0)+Math.imul(ee,Ut)|0,S=S+Math.imul(ee,ve)|0,w=w+Math.imul(te,Re)|0,_=(_=_+Math.imul(te,He)|0)+Math.imul(X,Re)|0,S=S+Math.imul(X,He)|0,w=w+Math.imul(ne,Ge)|0,_=(_=_+Math.imul(ne,bt)|0)+Math.imul(ue,Ge)|0,S=S+Math.imul(ue,bt)|0;var ft=(U+(w=w+Math.imul(W,mt)|0)|0)+((8191&(_=(_=_+Math.imul(W,Mt)|0)+Math.imul(J,mt)|0))<<13)|0;U=((S=S+Math.imul(J,Mt)|0)+(_>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(rt,gt),_=(_=Math.imul(rt,dt))+Math.imul(qe,gt)|0,S=Math.imul(qe,dt),w=w+Math.imul(Ae,_t)|0,_=(_=_+Math.imul(Ae,ir)|0)+Math.imul(De,_t)|0,S=S+Math.imul(De,ir)|0,w=w+Math.imul(ge,Ct)|0,_=(_=_+Math.imul(ge,pr)|0)+Math.imul(we,Ct)|0,S=S+Math.imul(we,pr)|0,w=w+Math.imul(Q,Ut)|0,_=(_=_+Math.imul(Q,ve)|0)+Math.imul(ie,Ut)|0,S=S+Math.imul(ie,ve)|0,w=w+Math.imul(re,Re)|0,_=(_=_+Math.imul(re,He)|0)+Math.imul(ee,Re)|0,S=S+Math.imul(ee,He)|0,w=w+Math.imul(te,Ge)|0,_=(_=_+Math.imul(te,bt)|0)+Math.imul(X,Ge)|0,S=S+Math.imul(X,bt)|0;var Xe=(U+(w=w+Math.imul(ne,mt)|0)|0)+((8191&(_=(_=_+Math.imul(ne,Mt)|0)+Math.imul(ue,mt)|0))<<13)|0;U=((S=S+Math.imul(ue,Mt)|0)+(_>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,w=Math.imul(rt,_t),_=(_=Math.imul(rt,ir))+Math.imul(qe,_t)|0,S=Math.imul(qe,ir),w=w+Math.imul(Ae,Ct)|0,_=(_=_+Math.imul(Ae,pr)|0)+Math.imul(De,Ct)|0,S=S+Math.imul(De,pr)|0,w=w+Math.imul(ge,Ut)|0,_=(_=_+Math.imul(ge,ve)|0)+Math.imul(we,Ut)|0,S=S+Math.imul(we,ve)|0,w=w+Math.imul(Q,Re)|0,_=(_=_+Math.imul(Q,He)|0)+Math.imul(ie,Re)|0,S=S+Math.imul(ie,He)|0,w=w+Math.imul(re,Ge)|0,_=(_=_+Math.imul(re,bt)|0)+Math.imul(ee,Ge)|0,S=S+Math.imul(ee,bt)|0;var Ye=(U+(w=w+Math.imul(te,mt)|0)|0)+((8191&(_=(_=_+Math.imul(te,Mt)|0)+Math.imul(X,mt)|0))<<13)|0;U=((S=S+Math.imul(X,Mt)|0)+(_>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,w=Math.imul(rt,Ct),_=(_=Math.imul(rt,pr))+Math.imul(qe,Ct)|0,S=Math.imul(qe,pr),w=w+Math.imul(Ae,Ut)|0,_=(_=_+Math.imul(Ae,ve)|0)+Math.imul(De,Ut)|0,S=S+Math.imul(De,ve)|0,w=w+Math.imul(ge,Re)|0,_=(_=_+Math.imul(ge,He)|0)+Math.imul(we,Re)|0,S=S+Math.imul(we,He)|0,w=w+Math.imul(Q,Ge)|0,_=(_=_+Math.imul(Q,bt)|0)+Math.imul(ie,Ge)|0,S=S+Math.imul(ie,bt)|0;var Vt=(U+(w=w+Math.imul(re,mt)|0)|0)+((8191&(_=(_=_+Math.imul(re,Mt)|0)+Math.imul(ee,mt)|0))<<13)|0;U=((S=S+Math.imul(ee,Mt)|0)+(_>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,w=Math.imul(rt,Ut),_=(_=Math.imul(rt,ve))+Math.imul(qe,Ut)|0,S=Math.imul(qe,ve),w=w+Math.imul(Ae,Re)|0,_=(_=_+Math.imul(Ae,He)|0)+Math.imul(De,Re)|0,S=S+Math.imul(De,He)|0,w=w+Math.imul(ge,Ge)|0,_=(_=_+Math.imul(ge,bt)|0)+Math.imul(we,Ge)|0,S=S+Math.imul(we,bt)|0;var Yt=(U+(w=w+Math.imul(Q,mt)|0)|0)+((8191&(_=(_=_+Math.imul(Q,Mt)|0)+Math.imul(ie,mt)|0))<<13)|0;U=((S=S+Math.imul(ie,Mt)|0)+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,w=Math.imul(rt,Re),_=(_=Math.imul(rt,He))+Math.imul(qe,Re)|0,S=Math.imul(qe,He),w=w+Math.imul(Ae,Ge)|0,_=(_=_+Math.imul(Ae,bt)|0)+Math.imul(De,Ge)|0,S=S+Math.imul(De,bt)|0;var Wt=(U+(w=w+Math.imul(ge,mt)|0)|0)+((8191&(_=(_=_+Math.imul(ge,Mt)|0)+Math.imul(we,mt)|0))<<13)|0;U=((S=S+Math.imul(we,Mt)|0)+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,w=Math.imul(rt,Ge),_=(_=Math.imul(rt,bt))+Math.imul(qe,Ge)|0,S=Math.imul(qe,bt);var kt=(U+(w=w+Math.imul(Ae,mt)|0)|0)+((8191&(_=(_=_+Math.imul(Ae,Mt)|0)+Math.imul(De,mt)|0))<<13)|0;U=((S=S+Math.imul(De,Mt)|0)+(_>>>13)|0)+(kt>>>26)|0,kt&=67108863;var Sr=(U+(w=Math.imul(rt,mt))|0)+((8191&(_=(_=Math.imul(rt,Mt))+Math.imul(qe,mt)|0))<<13)|0;return U=((S=Math.imul(qe,Mt))+(_>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,$[0]=Rt,$[1]=Dt,$[2]=Zt,$[3]=$r,$[4]=mr,$[5]=ye,$[6]=Ke,$[7]=oe,$[8]=xe,$[9]=Ee,$[10]=Me,$[11]=ft,$[12]=Xe,$[13]=Ye,$[14]=Vt,$[15]=Yt,$[16]=Wt,$[17]=kt,$[18]=Sr,U!==0&&($[19]=U,N.length++),N};function x(C,I,N){return new k().mulp(C,I,N)}function k(C,I){this.x=C,this.y=I}Math.imul||(b=v),l.prototype.mulTo=function(C,I){var N=this.length+C.length;return this.length===10&&C.length===10?b(this,C,I):N<63?v(this,C,I):N<1024?(function(w,_,S){S.negative=_.negative^w.negative,S.length=w.length+_.length;for(var j=0,R=0,$=0;$<S.length-1;$++){var U=R;R=0;for(var q=67108863&j,H=Math.min($,_.length-1),Y=Math.max(0,$-w.length+1);Y<=H;Y++){var M=$-Y,K=(0|w.words[M])*(0|_.words[Y]),z=67108863&K;q=67108863&(z=z+q|0),R+=(U=(U=U+(K/67108864|0)|0)+(z>>>26)|0)>>>26,U&=67108863}S.words[$]=q,j=U,U=R}return j!==0?S.words[$]=j:S.length--,S.strip()})(this,C,I):x(this,C,I)},k.prototype.makeRBT=function(C){for(var I=new Array(C),N=l.prototype._countBits(C)-1,w=0;w<C;w++)I[w]=this.revBin(w,N,C);return I},k.prototype.revBin=function(C,I,N){if(C===0||C===N-1)return C;for(var w=0,_=0;_<I;_++)w|=(1&C)<<I-_-1,C>>=1;return w},k.prototype.permute=function(C,I,N,w,_,S){for(var j=0;j<S;j++)w[j]=I[C[j]],_[j]=N[C[j]]},k.prototype.transform=function(C,I,N,w,_,S){this.permute(S,C,I,N,w,_);for(var j=1;j<_;j<<=1)for(var R=j<<1,$=Math.cos(2*Math.PI/R),U=Math.sin(2*Math.PI/R),q=0;q<_;q+=R)for(var H=$,Y=U,M=0;M<j;M++){var K=N[q+M],z=w[q+M],L=N[q+M+j],W=w[q+M+j],J=H*L-Y*W;W=H*W+Y*L,L=J,N[q+M]=K+L,w[q+M]=z+W,N[q+M+j]=K-L,w[q+M+j]=z-W,M!==R&&(J=$*H-U*Y,Y=$*Y+U*H,H=J)}},k.prototype.guessLen13b=function(C,I){var N=1|Math.max(I,C),w=1&N,_=0;for(N=N/2|0;N;N>>>=1)_++;return 1<<_+1+w},k.prototype.conjugate=function(C,I,N){if(!(N<=1))for(var w=0;w<N/2;w++){var _=C[w];C[w]=C[N-w-1],C[N-w-1]=_,_=I[w],I[w]=-I[N-w-1],I[N-w-1]=-_}},k.prototype.normalize13b=function(C,I){for(var N=0,w=0;w<I/2;w++){var _=8192*Math.round(C[2*w+1]/I)+Math.round(C[2*w]/I)+N;C[w]=67108863&_,N=_<67108864?0:_/67108864|0}return C},k.prototype.convert13b=function(C,I,N,w){for(var _=0,S=0;S<I;S++)_+=0|C[S],N[2*S]=8191&_,_>>>=13,N[2*S+1]=8191&_,_>>>=13;for(S=2*I;S<w;++S)N[S]=0;o(_===0),o((-8192&_)==0)},k.prototype.stub=function(C){for(var I=new Array(C),N=0;N<C;N++)I[N]=0;return I},k.prototype.mulp=function(C,I,N){var w=2*this.guessLen13b(C.length,I.length),_=this.makeRBT(w),S=this.stub(w),j=new Array(w),R=new Array(w),$=new Array(w),U=new Array(w),q=new Array(w),H=new Array(w),Y=N.words;Y.length=w,this.convert13b(C.words,C.length,j,w),this.convert13b(I.words,I.length,U,w),this.transform(j,S,R,$,w,_),this.transform(U,S,q,H,w,_);for(var M=0;M<w;M++){var K=R[M]*q[M]-$[M]*H[M];$[M]=R[M]*H[M]+$[M]*q[M],R[M]=K}return this.conjugate(R,$,w),this.transform(R,$,Y,S,w,_),this.conjugate(Y,S,w),this.normalize13b(Y,w),N.negative=C.negative^I.negative,N.length=C.length+I.length,N.strip()},l.prototype.mul=function(C){var I=new l(null);return I.words=new Array(this.length+C.length),this.mulTo(C,I)},l.prototype.mulf=function(C){var I=new l(null);return I.words=new Array(this.length+C.length),x(this,C,I)},l.prototype.imul=function(C){return this.clone().mulTo(C,this)},l.prototype.imuln=function(C){o(typeof C=="number"),o(C<67108864);for(var I=0,N=0;N<this.length;N++){var w=(0|this.words[N])*C,_=(67108863&w)+(67108863&I);I>>=26,I+=w/67108864|0,I+=_>>>26,this.words[N]=67108863&_}return I!==0&&(this.words[N]=I,this.length++),this},l.prototype.muln=function(C){return this.clone().imuln(C)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(C){var I=(function(S){for(var j=new Array(S.bitLength()),R=0;R<j.length;R++){var $=R/26|0,U=R%26;j[R]=(S.words[$]&1<<U)>>>U}return j})(C);if(I.length===0)return new l(1);for(var N=this,w=0;w<I.length&&I[w]===0;w++,N=N.sqr());if(++w<I.length)for(var _=N.sqr();w<I.length;w++,_=_.sqr())I[w]!==0&&(N=N.mul(_));return N},l.prototype.iushln=function(C){o(typeof C=="number"&&C>=0);var I,N=C%26,w=(C-N)/26,_=67108863>>>26-N<<26-N;if(N!==0){var S=0;for(I=0;I<this.length;I++){var j=this.words[I]&_,R=(0|this.words[I])-j<<N;this.words[I]=R|S,S=j>>>26-N}S&&(this.words[I]=S,this.length++)}if(w!==0){for(I=this.length-1;I>=0;I--)this.words[I+w]=this.words[I];for(I=0;I<w;I++)this.words[I]=0;this.length+=w}return this.strip()},l.prototype.ishln=function(C){return o(this.negative===0),this.iushln(C)},l.prototype.iushrn=function(C,I,N){var w;o(typeof C=="number"&&C>=0),w=I?(I-I%26)/26:0;var _=C%26,S=Math.min((C-_)/26,this.length),j=67108863^67108863>>>_<<_,R=N;if(w-=S,w=Math.max(0,w),R){for(var $=0;$<S;$++)R.words[$]=this.words[$];R.length=S}if(S!==0)if(this.length>S)for(this.length-=S,$=0;$<this.length;$++)this.words[$]=this.words[$+S];else this.words[0]=0,this.length=1;var U=0;for($=this.length-1;$>=0&&(U!==0||$>=w);$--){var q=0|this.words[$];this.words[$]=U<<26-_|q>>>_,U=q&j}return R&&U!==0&&(R.words[R.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(C,I,N){return o(this.negative===0),this.iushrn(C,I,N)},l.prototype.shln=function(C){return this.clone().ishln(C)},l.prototype.ushln=function(C){return this.clone().iushln(C)},l.prototype.shrn=function(C){return this.clone().ishrn(C)},l.prototype.ushrn=function(C){return this.clone().iushrn(C)},l.prototype.testn=function(C){o(typeof C=="number"&&C>=0);var I=C%26,N=(C-I)/26,w=1<<I;return!(this.length<=N)&&!!(this.words[N]&w)},l.prototype.imaskn=function(C){o(typeof C=="number"&&C>=0);var I=C%26,N=(C-I)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(I!==0&&N++,this.length=Math.min(N,this.length),I!==0){var w=67108863^67108863>>>I<<I;this.words[this.length-1]&=w}return this.strip()},l.prototype.maskn=function(C){return this.clone().imaskn(C)},l.prototype.iaddn=function(C){return o(typeof C=="number"),o(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},l.prototype._iaddn=function(C){this.words[0]+=C;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},l.prototype.isubn=function(C){if(o(typeof C=="number"),o(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},l.prototype.addn=function(C){return this.clone().iaddn(C)},l.prototype.subn=function(C){return this.clone().isubn(C)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(C,I,N){var w,_,S=C.length+N;this._expand(S);var j=0;for(w=0;w<C.length;w++){_=(0|this.words[w+N])+j;var R=(0|C.words[w])*I;j=((_-=67108863&R)>>26)-(R/67108864|0),this.words[w+N]=67108863&_}for(;w<this.length-N;w++)j=(_=(0|this.words[w+N])+j)>>26,this.words[w+N]=67108863&_;if(j===0)return this.strip();for(o(j===-1),j=0,w=0;w<this.length;w++)j=(_=-(0|this.words[w])+j)>>26,this.words[w]=67108863&_;return this.negative=1,this.strip()},l.prototype._wordDiv=function(C,I){var N=(this.length,C.length),w=this.clone(),_=C,S=0|_.words[_.length-1];(N=26-this._countBits(S))!==0&&(_=_.ushln(N),w.iushln(N),S=0|_.words[_.length-1]);var j,R=w.length-_.length;if(I!=="mod"){(j=new l(null)).length=R+1,j.words=new Array(j.length);for(var $=0;$<j.length;$++)j.words[$]=0}var U=w.clone()._ishlnsubmul(_,1,R);U.negative===0&&(w=U,j&&(j.words[R]=1));for(var q=R-1;q>=0;q--){var H=67108864*(0|w.words[_.length+q])+(0|w.words[_.length+q-1]);for(H=Math.min(H/S|0,67108863),w._ishlnsubmul(_,H,q);w.negative!==0;)H--,w.negative=0,w._ishlnsubmul(_,1,q),w.isZero()||(w.negative^=1);j&&(j.words[q]=H)}return j&&j.strip(),w.strip(),I!=="div"&&N!==0&&w.iushrn(N),{div:j||null,mod:w}},l.prototype.divmod=function(C,I,N){return o(!C.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&C.negative===0?(S=this.neg().divmod(C,I),I!=="mod"&&(w=S.div.neg()),I!=="div"&&(_=S.mod.neg(),N&&_.negative!==0&&_.iadd(C)),{div:w,mod:_}):this.negative===0&&C.negative!==0?(S=this.divmod(C.neg(),I),I!=="mod"&&(w=S.div.neg()),{div:w,mod:S.mod}):(this.negative&C.negative)!=0?(S=this.neg().divmod(C.neg(),I),I!=="div"&&(_=S.mod.neg(),N&&_.negative!==0&&_.isub(C)),{div:S.div,mod:_}):C.length>this.length||this.cmp(C)<0?{div:new l(0),mod:this}:C.length===1?I==="div"?{div:this.divn(C.words[0]),mod:null}:I==="mod"?{div:null,mod:new l(this.modn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new l(this.modn(C.words[0]))}:this._wordDiv(C,I);var w,_,S},l.prototype.div=function(C){return this.divmod(C,"div",!1).div},l.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},l.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},l.prototype.divRound=function(C){var I=this.divmod(C);if(I.mod.isZero())return I.div;var N=I.div.negative!==0?I.mod.isub(C):I.mod,w=C.ushrn(1),_=C.andln(1),S=N.cmp(w);return S<0||_===1&&S===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},l.prototype.modn=function(C){o(C<=67108863);for(var I=(1<<26)%C,N=0,w=this.length-1;w>=0;w--)N=(I*N+(0|this.words[w]))%C;return N},l.prototype.idivn=function(C){o(C<=67108863);for(var I=0,N=this.length-1;N>=0;N--){var w=(0|this.words[N])+67108864*I;this.words[N]=w/C|0,I=w%C}return this.strip()},l.prototype.divn=function(C){return this.clone().idivn(C)},l.prototype.egcd=function(C){o(C.negative===0),o(!C.isZero());var I=this,N=C.clone();I=I.negative!==0?I.umod(C):I.clone();for(var w=new l(1),_=new l(0),S=new l(0),j=new l(1),R=0;I.isEven()&&N.isEven();)I.iushrn(1),N.iushrn(1),++R;for(var $=N.clone(),U=I.clone();!I.isZero();){for(var q=0,H=1;(I.words[0]&H)==0&&q<26;++q,H<<=1);if(q>0)for(I.iushrn(q);q-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd($),_.isub(U)),w.iushrn(1),_.iushrn(1);for(var Y=0,M=1;(N.words[0]&M)==0&&Y<26;++Y,M<<=1);if(Y>0)for(N.iushrn(Y);Y-- >0;)(S.isOdd()||j.isOdd())&&(S.iadd($),j.isub(U)),S.iushrn(1),j.iushrn(1);I.cmp(N)>=0?(I.isub(N),w.isub(S),_.isub(j)):(N.isub(I),S.isub(w),j.isub(_))}return{a:S,b:j,gcd:N.iushln(R)}},l.prototype._invmp=function(C){o(C.negative===0),o(!C.isZero());var I=this,N=C.clone();I=I.negative!==0?I.umod(C):I.clone();for(var w,_=new l(1),S=new l(0),j=N.clone();I.cmpn(1)>0&&N.cmpn(1)>0;){for(var R=0,$=1;(I.words[0]&$)==0&&R<26;++R,$<<=1);if(R>0)for(I.iushrn(R);R-- >0;)_.isOdd()&&_.iadd(j),_.iushrn(1);for(var U=0,q=1;(N.words[0]&q)==0&&U<26;++U,q<<=1);if(U>0)for(N.iushrn(U);U-- >0;)S.isOdd()&&S.iadd(j),S.iushrn(1);I.cmp(N)>=0?(I.isub(N),_.isub(S)):(N.isub(I),S.isub(_))}return(w=I.cmpn(1)===0?_:S).cmpn(0)<0&&w.iadd(C),w},l.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var I=this.clone(),N=C.clone();I.negative=0,N.negative=0;for(var w=0;I.isEven()&&N.isEven();w++)I.iushrn(1),N.iushrn(1);for(;;){for(;I.isEven();)I.iushrn(1);for(;N.isEven();)N.iushrn(1);var _=I.cmp(N);if(_<0){var S=I;I=N,N=S}else if(_===0||N.cmpn(1)===0)break;I.isub(N)}return N.iushln(w)},l.prototype.invm=function(C){return this.egcd(C).a.umod(C)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(C){return this.words[0]&C},l.prototype.bincn=function(C){o(typeof C=="number");var I=C%26,N=(C-I)/26,w=1<<I;if(this.length<=N)return this._expand(N+1),this.words[N]|=w,this;for(var _=w,S=N;_!==0&&S<this.length;S++){var j=0|this.words[S];_=(j+=_)>>>26,j&=67108863,this.words[S]=j}return _!==0&&(this.words[S]=_,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(C){var I,N=C<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;if(this.strip(),this.length>1)I=1;else{N&&(C=-C),o(C<=67108863,"Number is too big");var w=0|this.words[0];I=w===C?0:w<C?-1:1}return this.negative!==0?0|-I:I},l.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var I=this.ucmp(C);return this.negative!==0?0|-I:I},l.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var I=0,N=this.length-1;N>=0;N--){var w=0|this.words[N],_=0|C.words[N];if(w!==_){w<_?I=-1:w>_&&(I=1);break}}return I},l.prototype.gtn=function(C){return this.cmpn(C)===1},l.prototype.gt=function(C){return this.cmp(C)===1},l.prototype.gten=function(C){return this.cmpn(C)>=0},l.prototype.gte=function(C){return this.cmp(C)>=0},l.prototype.ltn=function(C){return this.cmpn(C)===-1},l.prototype.lt=function(C){return this.cmp(C)===-1},l.prototype.lten=function(C){return this.cmpn(C)<=0},l.prototype.lte=function(C){return this.cmp(C)<=0},l.prototype.eqn=function(C){return this.cmpn(C)===0},l.prototype.eq=function(C){return this.cmp(C)===0},l.red=function(C){return new V(C)},l.prototype.toRed=function(C){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},l.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(C){return this.red=C,this},l.prototype.forceRed=function(C){return o(!this.red,"Already a number in reduction context"),this._forceRed(C)},l.prototype.redAdd=function(C){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},l.prototype.redIAdd=function(C){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},l.prototype.redSub=function(C){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},l.prototype.redISub=function(C){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},l.prototype.redShl=function(C){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},l.prototype.redMul=function(C){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},l.prototype.redIMul=function(C){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},l.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(C){return o(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var T={k256:null,p224:null,p192:null,p25519:null};function O(C,I){this.name=C,this.p=new l(I,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function D(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function V(C){if(typeof C=="string"){var I=l._prime(C);this.m=I.p,this.prime=I}else o(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function B(C){V.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O.prototype._tmp=function(){var C=new l(null);return C.words=new Array(Math.ceil(this.n/13)),C},O.prototype.ireduce=function(C){var I,N=C;do this.split(N,this.tmp),I=(N=(N=this.imulK(N)).iadd(this.tmp)).bitLength();while(I>this.n);var w=I<this.n?-1:N.ucmp(this.p);return w===0?(N.words[0]=0,N.length=1):w>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},O.prototype.split=function(C,I){C.iushrn(this.n,0,I)},O.prototype.imulK=function(C){return C.imul(this.k)},u(F,O),F.prototype.split=function(C,I){for(var N=Math.min(C.length,9),w=0;w<N;w++)I.words[w]=C.words[w];if(I.length=N,C.length<=9)return C.words[0]=0,void(C.length=1);var _=C.words[9];for(I.words[I.length++]=4194303&_,w=10;w<C.length;w++){var S=0|C.words[w];C.words[w-10]=(4194303&S)<<4|_>>>22,_=S}_>>>=22,C.words[w-10]=_,_===0&&C.length>10?C.length-=10:C.length-=9},F.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var I=0,N=0;N<C.length;N++){var w=0|C.words[N];I+=977*w,C.words[N]=67108863&I,I=64*w+(I/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},u(A,O),u(P,O),u(D,O),D.prototype.imulK=function(C){for(var I=0,N=0;N<C.length;N++){var w=19*(0|C.words[N])+I,_=67108863&w;w>>>=26,C.words[N]=_,I=w}return I!==0&&(C.words[C.length++]=I),C},l._prime=function(C){if(T[C])return T[C];var I;if(C==="k256")I=new F;else if(C==="p224")I=new A;else if(C==="p192")I=new P;else{if(C!=="p25519")throw new Error("Unknown prime "+C);I=new D}return T[C]=I,I},V.prototype._verify1=function(C){o(C.negative===0,"red works only with positives"),o(C.red,"red works only with red numbers")},V.prototype._verify2=function(C,I){o((C.negative|I.negative)==0,"red works only with positives"),o(C.red&&C.red===I.red,"red works only with red numbers")},V.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):C.umod(this.m)._forceRed(this)},V.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},V.prototype.add=function(C,I){this._verify2(C,I);var N=C.add(I);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},V.prototype.iadd=function(C,I){this._verify2(C,I);var N=C.iadd(I);return N.cmp(this.m)>=0&&N.isub(this.m),N},V.prototype.sub=function(C,I){this._verify2(C,I);var N=C.sub(I);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},V.prototype.isub=function(C,I){this._verify2(C,I);var N=C.isub(I);return N.cmpn(0)<0&&N.iadd(this.m),N},V.prototype.shl=function(C,I){return this._verify1(C),this.imod(C.ushln(I))},V.prototype.imul=function(C,I){return this._verify2(C,I),this.imod(C.imul(I))},V.prototype.mul=function(C,I){return this._verify2(C,I),this.imod(C.mul(I))},V.prototype.isqr=function(C){return this.imul(C,C.clone())},V.prototype.sqr=function(C){return this.mul(C,C)},V.prototype.sqrt=function(C){if(C.isZero())return C.clone();var I=this.m.andln(3);if(o(I%2==1),I===3){var N=this.m.add(new l(1)).iushrn(2);return this.pow(C,N)}for(var w=this.m.subn(1),_=0;!w.isZero()&&w.andln(1)===0;)_++,w.iushrn(1);o(!w.isZero());var S=new l(1).toRed(this),j=S.redNeg(),R=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new l(2*$*$).toRed(this);this.pow($,R).cmp(j)!==0;)$.redIAdd(j);for(var U=this.pow($,w),q=this.pow(C,w.addn(1).iushrn(1)),H=this.pow(C,w),Y=_;H.cmp(S)!==0;){for(var M=H,K=0;M.cmp(S)!==0;K++)M=M.redSqr();o(K<Y);var z=this.pow(U,new l(1).iushln(Y-K-1));q=q.redMul(z),U=z.redSqr(),H=H.redMul(U),Y=K}return q},V.prototype.invm=function(C){var I=C._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},V.prototype.pow=function(C,I){if(I.isZero())return new l(1).toRed(this);if(I.cmpn(1)===0)return C.clone();var N=new Array(16);N[0]=new l(1).toRed(this),N[1]=C;for(var w=2;w<N.length;w++)N[w]=this.mul(N[w-1],C);var _=N[0],S=0,j=0,R=I.bitLength()%26;for(R===0&&(R=26),w=I.length-1;w>=0;w--){for(var $=I.words[w],U=R-1;U>=0;U--){var q=$>>U&1;_!==N[0]&&(_=this.sqr(_)),q!==0||S!==0?(S<<=1,S|=q,(++j===4||w===0&&U===0)&&(_=this.mul(_,N[S]),j=0,S=0)):j=0}R=26}return _},V.prototype.convertTo=function(C){var I=C.umod(this.m);return I===C?I.clone():I},V.prototype.convertFrom=function(C){var I=C.clone();return I.red=null,I},l.mont=function(C){return new B(C)},u(B,V),B.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},B.prototype.convertFrom=function(C){var I=this.imod(C.mul(this.rinv));return I.red=null,I},B.prototype.imul=function(C,I){if(C.isZero()||I.isZero())return C.words[0]=0,C.length=1,C;var N=C.imul(I),w=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=N.isub(w).iushrn(this.shift),S=_;return _.cmp(this.m)>=0?S=_.isub(this.m):_.cmpn(0)<0&&(S=_.iadd(this.m)),S._forceRed(this)},B.prototype.mul=function(C,I){if(C.isZero()||I.isZero())return new l(0)._forceRed(this);var N=C.mul(I),w=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=N.isub(w).iushrn(this.shift),S=_;return _.cmp(this.m)>=0?S=_.isub(this.m):_.cmpn(0)<0&&(S=_.iadd(this.m)),S._forceRed(this)},B.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(r,n,s){s.byteLength=function(p){var g=h(p),y=g[0],m=g[1];return 3*(y+m)/4-m},s.toByteArray=function(p){var g,y,m=h(p),v=m[0],b=m[1],x=new o((function(O,F,A){return 3*(F+A)/4-A})(0,v,b)),k=0,T=b>0?v-4:v;for(y=0;y<T;y+=4)g=a[p.charCodeAt(y)]<<18|a[p.charCodeAt(y+1)]<<12|a[p.charCodeAt(y+2)]<<6|a[p.charCodeAt(y+3)],x[k++]=g>>16&255,x[k++]=g>>8&255,x[k++]=255&g;return b===2&&(g=a[p.charCodeAt(y)]<<2|a[p.charCodeAt(y+1)]>>4,x[k++]=255&g),b===1&&(g=a[p.charCodeAt(y)]<<10|a[p.charCodeAt(y+1)]<<4|a[p.charCodeAt(y+2)]>>2,x[k++]=g>>8&255,x[k++]=255&g),x},s.fromByteArray=function(p){for(var g,y=p.length,m=y%3,v=[],b=0,x=y-m;b<x;b+=16383)v.push(f(p,b,b+16383>x?x:b+16383));return m===1?(g=p[y-1],v.push(i[g>>2]+i[g<<4&63]+"==")):m===2&&(g=(p[y-2]<<8)+p[y-1],v.push(i[g>>10]+i[g>>4&63]+i[g<<2&63]+"=")),v.join("")};for(var i=[],a=[],o=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=u.length;l<d;++l)i[l]=u[l],a[u.charCodeAt(l)]=l;function h(p){var g=p.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=p.indexOf("=");return y===-1&&(y=g),[y,y===g?0:4-y%4]}function f(p,g,y){for(var m,v,b=[],x=g;x<y;x+=3)m=(p[x]<<16&16711680)+(p[x+1]<<8&65280)+(255&p[x+2]),b.push(i[(v=m)>>18&63]+i[v>>12&63]+i[v>>6&63]+i[63&v]);return b.join("")}a[45]=62,a[95]=63},{}],186:[function(r,n,s){(function(i,a){function o(N,w){if(!N)throw new Error(w||"Assertion failed")}function u(N,w){N.super_=w;var _=function(){};_.prototype=w.prototype,N.prototype=new _,N.prototype.constructor=N}function l(N,w,_){if(l.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&(w!=="le"&&w!=="be"||(_=w,w=10),this._init(N||0,w||10,_||"be"))}var d;typeof i=="object"?i.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function h(N,w){var _=N.charCodeAt(w);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void o(!1,"Invalid character in "+N)}function f(N,w,_){var S=h(N,_);return _-1>=w&&(S|=h(N,_-1)<<4),S}function p(N,w,_,S){for(var j=0,R=0,$=Math.min(N.length,_),U=w;U<$;U++){var q=N.charCodeAt(U)-48;j*=S,R=q>=49?q-49+10:q>=17?q-17+10:q,o(q>=0&&R<S,"Invalid character"),j+=R}return j}function g(N,w){N.words=w.words,N.length=w.length,N.negative=w.negative,N.red=w.red}if(l.isBN=function(N){return N instanceof l||N!==null&&typeof N=="object"&&N.constructor.wordSize===l.wordSize&&Array.isArray(N.words)},l.max=function(N,w){return N.cmp(w)>0?N:w},l.min=function(N,w){return N.cmp(w)<0?N:w},l.prototype._init=function(N,w,_){if(typeof N=="number")return this._initNumber(N,w,_);if(typeof N=="object")return this._initArray(N,w,_);w==="hex"&&(w=16),o(w===(0|w)&&w>=2&&w<=36);var S=0;(N=N.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<N.length&&(w===16?this._parseHex(N,S,_):(this._parseBase(N,w,S),_==="le"&&this._initArray(this.toArray(),w,_)))},l.prototype._initNumber=function(N,w,_){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(o(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),w,_)},l.prototype._initArray=function(N,w,_){if(o(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var j,R,$=0;if(_==="be")for(S=N.length-1,j=0;S>=0;S-=3)R=N[S]|N[S-1]<<8|N[S-2]<<16,this.words[j]|=R<<$&67108863,this.words[j+1]=R>>>26-$&67108863,($+=24)>=26&&($-=26,j++);else if(_==="le")for(S=0,j=0;S<N.length;S+=3)R=N[S]|N[S+1]<<8|N[S+2]<<16,this.words[j]|=R<<$&67108863,this.words[j+1]=R>>>26-$&67108863,($+=24)>=26&&($-=26,j++);return this._strip()},l.prototype._parseHex=function(N,w,_){this.length=Math.ceil((N.length-w)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var j,R=0,$=0;if(_==="be")for(S=N.length-1;S>=w;S-=2)j=f(N,w,S)<<R,this.words[$]|=67108863&j,R>=18?(R-=18,$+=1,this.words[$]|=j>>>26):R+=8;else for(S=(N.length-w)%2==0?w+1:w;S<N.length;S+=2)j=f(N,w,S)<<R,this.words[$]|=67108863&j,R>=18?(R-=18,$+=1,this.words[$]|=j>>>26):R+=8;this._strip()},l.prototype._parseBase=function(N,w,_){this.words=[0],this.length=1;for(var S=0,j=1;j<=67108863;j*=w)S++;S--,j=j/w|0;for(var R=N.length-_,$=R%S,U=Math.min(R,R-$)+_,q=0,H=_;H<U;H+=S)q=p(N,H,H+S,w),this.imuln(j),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if($!==0){var Y=1;for(q=p(N,H,N.length,w),H=0;H<$;H++)Y*=w;this.imuln(Y),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this._strip()},l.prototype.copy=function(N){N.words=new Array(this.length);for(var w=0;w<this.length;w++)N.words[w]=this.words[w];N.length=this.length,N.negative=this.negative,N.red=this.red},l.prototype._move=function(N){g(N,this)},l.prototype.clone=function(){var N=new l(null);return this.copy(N),N},l.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{l.prototype.inspect=y}else l.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(N,w){var _;if(w=0|w||1,(N=N||10)===16||N==="hex"){_="";for(var S=0,j=0,R=0;R<this.length;R++){var $=this.words[R],U=(16777215&($<<S|j)).toString(16);j=$>>>24-S&16777215,(S+=2)>=26&&(S-=26,R--),_=j!==0||R!==this.length-1?m[6-U.length]+U+_:U+_}for(j!==0&&(_=j.toString(16)+_);_.length%w!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(N===(0|N)&&N>=2&&N<=36){var q=v[N],H=b[N];_="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var M=Y.modrn(H).toString(N);_=(Y=Y.idivn(H)).isZero()?M+_:m[q-M.length]+M+_}for(this.isZero()&&(_="0"+_);_.length%w!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}o(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=67108864*this.words[1]:this.length===3&&this.words[2]===1?N+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},l.prototype.toJSON=function(){return this.toString(16,2)},d&&(l.prototype.toBuffer=function(N,w){return this.toArrayLike(d,N,w)}),l.prototype.toArray=function(N,w){return this.toArrayLike(Array,N,w)};function x(N,w,_){_.negative=w.negative^N.negative;var S=N.length+w.length|0;_.length=S,S=S-1|0;var j=0|N.words[0],R=0|w.words[0],$=j*R,U=67108863&$,q=$/67108864|0;_.words[0]=U;for(var H=1;H<S;H++){for(var Y=q>>>26,M=67108863&q,K=Math.min(H,w.length-1),z=Math.max(0,H-N.length+1);z<=K;z++){var L=H-z|0;Y+=($=(j=0|N.words[L])*(R=0|w.words[z])+M)/67108864|0,M=67108863&$}_.words[H]=0|M,q=0|Y}return q!==0?_.words[H]=0|q:_.length--,_._strip()}l.prototype.toArrayLike=function(N,w,_){this._strip();var S=this.byteLength(),j=_||Math.max(1,S);o(S<=j,"byte array longer than desired length"),o(j>0,"Requested array length <= 0");var R=(function($,U){return $.allocUnsafe?$.allocUnsafe(U):new $(U)})(N,j);return this["_toArrayLike"+(w==="le"?"LE":"BE")](R,S),R},l.prototype._toArrayLikeLE=function(N,w){for(var _=0,S=0,j=0,R=0;j<this.length;j++){var $=this.words[j]<<R|S;N[_++]=255&$,_<N.length&&(N[_++]=$>>8&255),_<N.length&&(N[_++]=$>>16&255),R===6?(_<N.length&&(N[_++]=$>>24&255),S=0,R=0):(S=$>>>24,R+=2)}if(_<N.length)for(N[_++]=S;_<N.length;)N[_++]=0},l.prototype._toArrayLikeBE=function(N,w){for(var _=N.length-1,S=0,j=0,R=0;j<this.length;j++){var $=this.words[j]<<R|S;N[_--]=255&$,_>=0&&(N[_--]=$>>8&255),_>=0&&(N[_--]=$>>16&255),R===6?(_>=0&&(N[_--]=$>>24&255),S=0,R=0):(S=$>>>24,R+=2)}if(_>=0)for(N[_--]=S;_>=0;)N[_--]=0},Math.clz32?l.prototype._countBits=function(N){return 32-Math.clz32(N)}:l.prototype._countBits=function(N){var w=N,_=0;return w>=4096&&(_+=13,w>>>=13),w>=64&&(_+=7,w>>>=7),w>=8&&(_+=4,w>>>=4),w>=2&&(_+=2,w>>>=2),_+w},l.prototype._zeroBits=function(N){if(N===0)return 26;var w=N,_=0;return(8191&w)==0&&(_+=13,w>>>=13),(127&w)==0&&(_+=7,w>>>=7),(15&w)==0&&(_+=4,w>>>=4),(3&w)==0&&(_+=2,w>>>=2),(1&w)==0&&_++,_},l.prototype.bitLength=function(){var N=this.words[this.length-1],w=this._countBits(N);return 26*(this.length-1)+w},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,w=0;w<this.length;w++){var _=this._zeroBits(this.words[w]);if(N+=_,_!==26)break}return N},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},l.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var w=0;w<N.length;w++)this.words[w]=this.words[w]|N.words[w];return this._strip()},l.prototype.ior=function(N){return o((this.negative|N.negative)==0),this.iuor(N)},l.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},l.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},l.prototype.iuand=function(N){var w;w=this.length>N.length?N:this;for(var _=0;_<w.length;_++)this.words[_]=this.words[_]&N.words[_];return this.length=w.length,this._strip()},l.prototype.iand=function(N){return o((this.negative|N.negative)==0),this.iuand(N)},l.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},l.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},l.prototype.iuxor=function(N){var w,_;this.length>N.length?(w=this,_=N):(w=N,_=this);for(var S=0;S<_.length;S++)this.words[S]=w.words[S]^_.words[S];if(this!==w)for(;S<w.length;S++)this.words[S]=w.words[S];return this.length=w.length,this._strip()},l.prototype.ixor=function(N){return o((this.negative|N.negative)==0),this.iuxor(N)},l.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},l.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},l.prototype.inotn=function(N){o(typeof N=="number"&&N>=0);var w=0|Math.ceil(N/26),_=N%26;this._expand(w),_>0&&w--;for(var S=0;S<w;S++)this.words[S]=67108863&~this.words[S];return _>0&&(this.words[S]=~this.words[S]&67108863>>26-_),this._strip()},l.prototype.notn=function(N){return this.clone().inotn(N)},l.prototype.setn=function(N,w){o(typeof N=="number"&&N>=0);var _=N/26|0,S=N%26;return this._expand(_+1),this.words[_]=w?this.words[_]|1<<S:this.words[_]&~(1<<S),this._strip()},l.prototype.iadd=function(N){var w,_,S;if(this.negative!==0&&N.negative===0)return this.negative=0,w=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,w=this.isub(N),N.negative=1,w._normSign();this.length>N.length?(_=this,S=N):(_=N,S=this);for(var j=0,R=0;R<S.length;R++)w=(0|_.words[R])+(0|S.words[R])+j,this.words[R]=67108863&w,j=w>>>26;for(;j!==0&&R<_.length;R++)w=(0|_.words[R])+j,this.words[R]=67108863&w,j=w>>>26;if(this.length=_.length,j!==0)this.words[this.length]=j,this.length++;else if(_!==this)for(;R<_.length;R++)this.words[R]=_.words[R];return this},l.prototype.add=function(N){var w;return N.negative!==0&&this.negative===0?(N.negative=0,w=this.sub(N),N.negative^=1,w):N.negative===0&&this.negative!==0?(this.negative=0,w=N.sub(this),this.negative=1,w):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},l.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var w=this.iadd(N);return N.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var _,S,j=this.cmp(N);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;j>0?(_=this,S=N):(_=N,S=this);for(var R=0,$=0;$<S.length;$++)R=(w=(0|_.words[$])-(0|S.words[$])+R)>>26,this.words[$]=67108863&w;for(;R!==0&&$<_.length;$++)R=(w=(0|_.words[$])+R)>>26,this.words[$]=67108863&w;if(R===0&&$<_.length&&_!==this)for(;$<_.length;$++)this.words[$]=_.words[$];return this.length=Math.max(this.length,$),_!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(N){return this.clone().isub(N)};var k=function(N,w,_){var S,j,R,$=N.words,U=w.words,q=_.words,H=0,Y=0|$[0],M=8191&Y,K=Y>>>13,z=0|$[1],L=8191&z,W=z>>>13,J=0|$[2],le=8191&J,ne=J>>>13,ue=0|$[3],G=8191&ue,te=ue>>>13,X=0|$[4],ae=8191&X,re=X>>>13,ee=0|$[5],Z=8191&ee,Q=ee>>>13,ie=0|$[6],ce=8191&ie,ge=ie>>>13,we=0|$[7],Te=8191&we,Ae=we>>>13,De=0|$[8],Fe=8191&De,rt=De>>>13,qe=0|$[9],Ve=8191&qe,pe=qe>>>13,de=0|U[0],Pe=8191&de,$e=de>>>13,yt=0|U[1],Ot=8191&yt,it=yt>>>13,Bt=0|U[2],st=8191&Bt,gt=Bt>>>13,dt=0|U[3],sr=8191&dt,_t=dt>>>13,ir=0|U[4],qt=8191&ir,Ct=ir>>>13,pr=0|U[5],er=8191&pr,Ut=pr>>>13,ve=0|U[6],ke=8191&ve,Re=ve>>>13,He=0|U[7],St=8191&He,Ge=He>>>13,bt=0|U[8],Tt=8191&bt,mt=bt>>>13,Mt=0|U[9],Rt=8191&Mt,Dt=Mt>>>13;_.negative=N.negative^w.negative,_.length=19;var Zt=(H+(S=Math.imul(M,Pe))|0)+((8191&(j=(j=Math.imul(M,$e))+Math.imul(K,Pe)|0))<<13)|0;H=((R=Math.imul(K,$e))+(j>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,S=Math.imul(L,Pe),j=(j=Math.imul(L,$e))+Math.imul(W,Pe)|0,R=Math.imul(W,$e);var $r=(H+(S=S+Math.imul(M,Ot)|0)|0)+((8191&(j=(j=j+Math.imul(M,it)|0)+Math.imul(K,Ot)|0))<<13)|0;H=((R=R+Math.imul(K,it)|0)+(j>>>13)|0)+($r>>>26)|0,$r&=67108863,S=Math.imul(le,Pe),j=(j=Math.imul(le,$e))+Math.imul(ne,Pe)|0,R=Math.imul(ne,$e),S=S+Math.imul(L,Ot)|0,j=(j=j+Math.imul(L,it)|0)+Math.imul(W,Ot)|0,R=R+Math.imul(W,it)|0;var mr=(H+(S=S+Math.imul(M,st)|0)|0)+((8191&(j=(j=j+Math.imul(M,gt)|0)+Math.imul(K,st)|0))<<13)|0;H=((R=R+Math.imul(K,gt)|0)+(j>>>13)|0)+(mr>>>26)|0,mr&=67108863,S=Math.imul(G,Pe),j=(j=Math.imul(G,$e))+Math.imul(te,Pe)|0,R=Math.imul(te,$e),S=S+Math.imul(le,Ot)|0,j=(j=j+Math.imul(le,it)|0)+Math.imul(ne,Ot)|0,R=R+Math.imul(ne,it)|0,S=S+Math.imul(L,st)|0,j=(j=j+Math.imul(L,gt)|0)+Math.imul(W,st)|0,R=R+Math.imul(W,gt)|0;var ye=(H+(S=S+Math.imul(M,sr)|0)|0)+((8191&(j=(j=j+Math.imul(M,_t)|0)+Math.imul(K,sr)|0))<<13)|0;H=((R=R+Math.imul(K,_t)|0)+(j>>>13)|0)+(ye>>>26)|0,ye&=67108863,S=Math.imul(ae,Pe),j=(j=Math.imul(ae,$e))+Math.imul(re,Pe)|0,R=Math.imul(re,$e),S=S+Math.imul(G,Ot)|0,j=(j=j+Math.imul(G,it)|0)+Math.imul(te,Ot)|0,R=R+Math.imul(te,it)|0,S=S+Math.imul(le,st)|0,j=(j=j+Math.imul(le,gt)|0)+Math.imul(ne,st)|0,R=R+Math.imul(ne,gt)|0,S=S+Math.imul(L,sr)|0,j=(j=j+Math.imul(L,_t)|0)+Math.imul(W,sr)|0,R=R+Math.imul(W,_t)|0;var Ke=(H+(S=S+Math.imul(M,qt)|0)|0)+((8191&(j=(j=j+Math.imul(M,Ct)|0)+Math.imul(K,qt)|0))<<13)|0;H=((R=R+Math.imul(K,Ct)|0)+(j>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,S=Math.imul(Z,Pe),j=(j=Math.imul(Z,$e))+Math.imul(Q,Pe)|0,R=Math.imul(Q,$e),S=S+Math.imul(ae,Ot)|0,j=(j=j+Math.imul(ae,it)|0)+Math.imul(re,Ot)|0,R=R+Math.imul(re,it)|0,S=S+Math.imul(G,st)|0,j=(j=j+Math.imul(G,gt)|0)+Math.imul(te,st)|0,R=R+Math.imul(te,gt)|0,S=S+Math.imul(le,sr)|0,j=(j=j+Math.imul(le,_t)|0)+Math.imul(ne,sr)|0,R=R+Math.imul(ne,_t)|0,S=S+Math.imul(L,qt)|0,j=(j=j+Math.imul(L,Ct)|0)+Math.imul(W,qt)|0,R=R+Math.imul(W,Ct)|0;var oe=(H+(S=S+Math.imul(M,er)|0)|0)+((8191&(j=(j=j+Math.imul(M,Ut)|0)+Math.imul(K,er)|0))<<13)|0;H=((R=R+Math.imul(K,Ut)|0)+(j>>>13)|0)+(oe>>>26)|0,oe&=67108863,S=Math.imul(ce,Pe),j=(j=Math.imul(ce,$e))+Math.imul(ge,Pe)|0,R=Math.imul(ge,$e),S=S+Math.imul(Z,Ot)|0,j=(j=j+Math.imul(Z,it)|0)+Math.imul(Q,Ot)|0,R=R+Math.imul(Q,it)|0,S=S+Math.imul(ae,st)|0,j=(j=j+Math.imul(ae,gt)|0)+Math.imul(re,st)|0,R=R+Math.imul(re,gt)|0,S=S+Math.imul(G,sr)|0,j=(j=j+Math.imul(G,_t)|0)+Math.imul(te,sr)|0,R=R+Math.imul(te,_t)|0,S=S+Math.imul(le,qt)|0,j=(j=j+Math.imul(le,Ct)|0)+Math.imul(ne,qt)|0,R=R+Math.imul(ne,Ct)|0,S=S+Math.imul(L,er)|0,j=(j=j+Math.imul(L,Ut)|0)+Math.imul(W,er)|0,R=R+Math.imul(W,Ut)|0;var xe=(H+(S=S+Math.imul(M,ke)|0)|0)+((8191&(j=(j=j+Math.imul(M,Re)|0)+Math.imul(K,ke)|0))<<13)|0;H=((R=R+Math.imul(K,Re)|0)+(j>>>13)|0)+(xe>>>26)|0,xe&=67108863,S=Math.imul(Te,Pe),j=(j=Math.imul(Te,$e))+Math.imul(Ae,Pe)|0,R=Math.imul(Ae,$e),S=S+Math.imul(ce,Ot)|0,j=(j=j+Math.imul(ce,it)|0)+Math.imul(ge,Ot)|0,R=R+Math.imul(ge,it)|0,S=S+Math.imul(Z,st)|0,j=(j=j+Math.imul(Z,gt)|0)+Math.imul(Q,st)|0,R=R+Math.imul(Q,gt)|0,S=S+Math.imul(ae,sr)|0,j=(j=j+Math.imul(ae,_t)|0)+Math.imul(re,sr)|0,R=R+Math.imul(re,_t)|0,S=S+Math.imul(G,qt)|0,j=(j=j+Math.imul(G,Ct)|0)+Math.imul(te,qt)|0,R=R+Math.imul(te,Ct)|0,S=S+Math.imul(le,er)|0,j=(j=j+Math.imul(le,Ut)|0)+Math.imul(ne,er)|0,R=R+Math.imul(ne,Ut)|0,S=S+Math.imul(L,ke)|0,j=(j=j+Math.imul(L,Re)|0)+Math.imul(W,ke)|0,R=R+Math.imul(W,Re)|0;var Ee=(H+(S=S+Math.imul(M,St)|0)|0)+((8191&(j=(j=j+Math.imul(M,Ge)|0)+Math.imul(K,St)|0))<<13)|0;H=((R=R+Math.imul(K,Ge)|0)+(j>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,S=Math.imul(Fe,Pe),j=(j=Math.imul(Fe,$e))+Math.imul(rt,Pe)|0,R=Math.imul(rt,$e),S=S+Math.imul(Te,Ot)|0,j=(j=j+Math.imul(Te,it)|0)+Math.imul(Ae,Ot)|0,R=R+Math.imul(Ae,it)|0,S=S+Math.imul(ce,st)|0,j=(j=j+Math.imul(ce,gt)|0)+Math.imul(ge,st)|0,R=R+Math.imul(ge,gt)|0,S=S+Math.imul(Z,sr)|0,j=(j=j+Math.imul(Z,_t)|0)+Math.imul(Q,sr)|0,R=R+Math.imul(Q,_t)|0,S=S+Math.imul(ae,qt)|0,j=(j=j+Math.imul(ae,Ct)|0)+Math.imul(re,qt)|0,R=R+Math.imul(re,Ct)|0,S=S+Math.imul(G,er)|0,j=(j=j+Math.imul(G,Ut)|0)+Math.imul(te,er)|0,R=R+Math.imul(te,Ut)|0,S=S+Math.imul(le,ke)|0,j=(j=j+Math.imul(le,Re)|0)+Math.imul(ne,ke)|0,R=R+Math.imul(ne,Re)|0,S=S+Math.imul(L,St)|0,j=(j=j+Math.imul(L,Ge)|0)+Math.imul(W,St)|0,R=R+Math.imul(W,Ge)|0;var Me=(H+(S=S+Math.imul(M,Tt)|0)|0)+((8191&(j=(j=j+Math.imul(M,mt)|0)+Math.imul(K,Tt)|0))<<13)|0;H=((R=R+Math.imul(K,mt)|0)+(j>>>13)|0)+(Me>>>26)|0,Me&=67108863,S=Math.imul(Ve,Pe),j=(j=Math.imul(Ve,$e))+Math.imul(pe,Pe)|0,R=Math.imul(pe,$e),S=S+Math.imul(Fe,Ot)|0,j=(j=j+Math.imul(Fe,it)|0)+Math.imul(rt,Ot)|0,R=R+Math.imul(rt,it)|0,S=S+Math.imul(Te,st)|0,j=(j=j+Math.imul(Te,gt)|0)+Math.imul(Ae,st)|0,R=R+Math.imul(Ae,gt)|0,S=S+Math.imul(ce,sr)|0,j=(j=j+Math.imul(ce,_t)|0)+Math.imul(ge,sr)|0,R=R+Math.imul(ge,_t)|0,S=S+Math.imul(Z,qt)|0,j=(j=j+Math.imul(Z,Ct)|0)+Math.imul(Q,qt)|0,R=R+Math.imul(Q,Ct)|0,S=S+Math.imul(ae,er)|0,j=(j=j+Math.imul(ae,Ut)|0)+Math.imul(re,er)|0,R=R+Math.imul(re,Ut)|0,S=S+Math.imul(G,ke)|0,j=(j=j+Math.imul(G,Re)|0)+Math.imul(te,ke)|0,R=R+Math.imul(te,Re)|0,S=S+Math.imul(le,St)|0,j=(j=j+Math.imul(le,Ge)|0)+Math.imul(ne,St)|0,R=R+Math.imul(ne,Ge)|0,S=S+Math.imul(L,Tt)|0,j=(j=j+Math.imul(L,mt)|0)+Math.imul(W,Tt)|0,R=R+Math.imul(W,mt)|0;var ft=(H+(S=S+Math.imul(M,Rt)|0)|0)+((8191&(j=(j=j+Math.imul(M,Dt)|0)+Math.imul(K,Rt)|0))<<13)|0;H=((R=R+Math.imul(K,Dt)|0)+(j>>>13)|0)+(ft>>>26)|0,ft&=67108863,S=Math.imul(Ve,Ot),j=(j=Math.imul(Ve,it))+Math.imul(pe,Ot)|0,R=Math.imul(pe,it),S=S+Math.imul(Fe,st)|0,j=(j=j+Math.imul(Fe,gt)|0)+Math.imul(rt,st)|0,R=R+Math.imul(rt,gt)|0,S=S+Math.imul(Te,sr)|0,j=(j=j+Math.imul(Te,_t)|0)+Math.imul(Ae,sr)|0,R=R+Math.imul(Ae,_t)|0,S=S+Math.imul(ce,qt)|0,j=(j=j+Math.imul(ce,Ct)|0)+Math.imul(ge,qt)|0,R=R+Math.imul(ge,Ct)|0,S=S+Math.imul(Z,er)|0,j=(j=j+Math.imul(Z,Ut)|0)+Math.imul(Q,er)|0,R=R+Math.imul(Q,Ut)|0,S=S+Math.imul(ae,ke)|0,j=(j=j+Math.imul(ae,Re)|0)+Math.imul(re,ke)|0,R=R+Math.imul(re,Re)|0,S=S+Math.imul(G,St)|0,j=(j=j+Math.imul(G,Ge)|0)+Math.imul(te,St)|0,R=R+Math.imul(te,Ge)|0,S=S+Math.imul(le,Tt)|0,j=(j=j+Math.imul(le,mt)|0)+Math.imul(ne,Tt)|0,R=R+Math.imul(ne,mt)|0;var Xe=(H+(S=S+Math.imul(L,Rt)|0)|0)+((8191&(j=(j=j+Math.imul(L,Dt)|0)+Math.imul(W,Rt)|0))<<13)|0;H=((R=R+Math.imul(W,Dt)|0)+(j>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,S=Math.imul(Ve,st),j=(j=Math.imul(Ve,gt))+Math.imul(pe,st)|0,R=Math.imul(pe,gt),S=S+Math.imul(Fe,sr)|0,j=(j=j+Math.imul(Fe,_t)|0)+Math.imul(rt,sr)|0,R=R+Math.imul(rt,_t)|0,S=S+Math.imul(Te,qt)|0,j=(j=j+Math.imul(Te,Ct)|0)+Math.imul(Ae,qt)|0,R=R+Math.imul(Ae,Ct)|0,S=S+Math.imul(ce,er)|0,j=(j=j+Math.imul(ce,Ut)|0)+Math.imul(ge,er)|0,R=R+Math.imul(ge,Ut)|0,S=S+Math.imul(Z,ke)|0,j=(j=j+Math.imul(Z,Re)|0)+Math.imul(Q,ke)|0,R=R+Math.imul(Q,Re)|0,S=S+Math.imul(ae,St)|0,j=(j=j+Math.imul(ae,Ge)|0)+Math.imul(re,St)|0,R=R+Math.imul(re,Ge)|0,S=S+Math.imul(G,Tt)|0,j=(j=j+Math.imul(G,mt)|0)+Math.imul(te,Tt)|0,R=R+Math.imul(te,mt)|0;var Ye=(H+(S=S+Math.imul(le,Rt)|0)|0)+((8191&(j=(j=j+Math.imul(le,Dt)|0)+Math.imul(ne,Rt)|0))<<13)|0;H=((R=R+Math.imul(ne,Dt)|0)+(j>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(Ve,sr),j=(j=Math.imul(Ve,_t))+Math.imul(pe,sr)|0,R=Math.imul(pe,_t),S=S+Math.imul(Fe,qt)|0,j=(j=j+Math.imul(Fe,Ct)|0)+Math.imul(rt,qt)|0,R=R+Math.imul(rt,Ct)|0,S=S+Math.imul(Te,er)|0,j=(j=j+Math.imul(Te,Ut)|0)+Math.imul(Ae,er)|0,R=R+Math.imul(Ae,Ut)|0,S=S+Math.imul(ce,ke)|0,j=(j=j+Math.imul(ce,Re)|0)+Math.imul(ge,ke)|0,R=R+Math.imul(ge,Re)|0,S=S+Math.imul(Z,St)|0,j=(j=j+Math.imul(Z,Ge)|0)+Math.imul(Q,St)|0,R=R+Math.imul(Q,Ge)|0,S=S+Math.imul(ae,Tt)|0,j=(j=j+Math.imul(ae,mt)|0)+Math.imul(re,Tt)|0,R=R+Math.imul(re,mt)|0;var Vt=(H+(S=S+Math.imul(G,Rt)|0)|0)+((8191&(j=(j=j+Math.imul(G,Dt)|0)+Math.imul(te,Rt)|0))<<13)|0;H=((R=R+Math.imul(te,Dt)|0)+(j>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,S=Math.imul(Ve,qt),j=(j=Math.imul(Ve,Ct))+Math.imul(pe,qt)|0,R=Math.imul(pe,Ct),S=S+Math.imul(Fe,er)|0,j=(j=j+Math.imul(Fe,Ut)|0)+Math.imul(rt,er)|0,R=R+Math.imul(rt,Ut)|0,S=S+Math.imul(Te,ke)|0,j=(j=j+Math.imul(Te,Re)|0)+Math.imul(Ae,ke)|0,R=R+Math.imul(Ae,Re)|0,S=S+Math.imul(ce,St)|0,j=(j=j+Math.imul(ce,Ge)|0)+Math.imul(ge,St)|0,R=R+Math.imul(ge,Ge)|0,S=S+Math.imul(Z,Tt)|0,j=(j=j+Math.imul(Z,mt)|0)+Math.imul(Q,Tt)|0,R=R+Math.imul(Q,mt)|0;var Yt=(H+(S=S+Math.imul(ae,Rt)|0)|0)+((8191&(j=(j=j+Math.imul(ae,Dt)|0)+Math.imul(re,Rt)|0))<<13)|0;H=((R=R+Math.imul(re,Dt)|0)+(j>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,S=Math.imul(Ve,er),j=(j=Math.imul(Ve,Ut))+Math.imul(pe,er)|0,R=Math.imul(pe,Ut),S=S+Math.imul(Fe,ke)|0,j=(j=j+Math.imul(Fe,Re)|0)+Math.imul(rt,ke)|0,R=R+Math.imul(rt,Re)|0,S=S+Math.imul(Te,St)|0,j=(j=j+Math.imul(Te,Ge)|0)+Math.imul(Ae,St)|0,R=R+Math.imul(Ae,Ge)|0,S=S+Math.imul(ce,Tt)|0,j=(j=j+Math.imul(ce,mt)|0)+Math.imul(ge,Tt)|0,R=R+Math.imul(ge,mt)|0;var Wt=(H+(S=S+Math.imul(Z,Rt)|0)|0)+((8191&(j=(j=j+Math.imul(Z,Dt)|0)+Math.imul(Q,Rt)|0))<<13)|0;H=((R=R+Math.imul(Q,Dt)|0)+(j>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,S=Math.imul(Ve,ke),j=(j=Math.imul(Ve,Re))+Math.imul(pe,ke)|0,R=Math.imul(pe,Re),S=S+Math.imul(Fe,St)|0,j=(j=j+Math.imul(Fe,Ge)|0)+Math.imul(rt,St)|0,R=R+Math.imul(rt,Ge)|0,S=S+Math.imul(Te,Tt)|0,j=(j=j+Math.imul(Te,mt)|0)+Math.imul(Ae,Tt)|0,R=R+Math.imul(Ae,mt)|0;var kt=(H+(S=S+Math.imul(ce,Rt)|0)|0)+((8191&(j=(j=j+Math.imul(ce,Dt)|0)+Math.imul(ge,Rt)|0))<<13)|0;H=((R=R+Math.imul(ge,Dt)|0)+(j>>>13)|0)+(kt>>>26)|0,kt&=67108863,S=Math.imul(Ve,St),j=(j=Math.imul(Ve,Ge))+Math.imul(pe,St)|0,R=Math.imul(pe,Ge),S=S+Math.imul(Fe,Tt)|0,j=(j=j+Math.imul(Fe,mt)|0)+Math.imul(rt,Tt)|0,R=R+Math.imul(rt,mt)|0;var Sr=(H+(S=S+Math.imul(Te,Rt)|0)|0)+((8191&(j=(j=j+Math.imul(Te,Dt)|0)+Math.imul(Ae,Rt)|0))<<13)|0;H=((R=R+Math.imul(Ae,Dt)|0)+(j>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,S=Math.imul(Ve,Tt),j=(j=Math.imul(Ve,mt))+Math.imul(pe,Tt)|0,R=Math.imul(pe,mt);var kr=(H+(S=S+Math.imul(Fe,Rt)|0)|0)+((8191&(j=(j=j+Math.imul(Fe,Dt)|0)+Math.imul(rt,Rt)|0))<<13)|0;H=((R=R+Math.imul(rt,Dt)|0)+(j>>>13)|0)+(kr>>>26)|0,kr&=67108863;var xr=(H+(S=Math.imul(Ve,Rt))|0)+((8191&(j=(j=Math.imul(Ve,Dt))+Math.imul(pe,Rt)|0))<<13)|0;return H=((R=Math.imul(pe,Dt))+(j>>>13)|0)+(xr>>>26)|0,xr&=67108863,q[0]=Zt,q[1]=$r,q[2]=mr,q[3]=ye,q[4]=Ke,q[5]=oe,q[6]=xe,q[7]=Ee,q[8]=Me,q[9]=ft,q[10]=Xe,q[11]=Ye,q[12]=Vt,q[13]=Yt,q[14]=Wt,q[15]=kt,q[16]=Sr,q[17]=kr,q[18]=xr,H!==0&&(q[19]=H,_.length++),_};function T(N,w,_){_.negative=w.negative^N.negative,_.length=N.length+w.length;for(var S=0,j=0,R=0;R<_.length-1;R++){var $=j;j=0;for(var U=67108863&S,q=Math.min(R,w.length-1),H=Math.max(0,R-N.length+1);H<=q;H++){var Y=R-H,M=(0|N.words[Y])*(0|w.words[H]),K=67108863&M;U=67108863&(K=K+U|0),j+=($=($=$+(M/67108864|0)|0)+(K>>>26)|0)>>>26,$&=67108863}_.words[R]=U,S=$,$=j}return S!==0?_.words[R]=S:_.length--,_._strip()}function O(N,w,_){return T(N,w,_)}Math.imul||(k=x),l.prototype.mulTo=function(N,w){var _=this.length+N.length;return this.length===10&&N.length===10?k(this,N,w):_<63?x(this,N,w):_<1024?T(this,N,w):O(this,N,w)},l.prototype.mul=function(N){var w=new l(null);return w.words=new Array(this.length+N.length),this.mulTo(N,w)},l.prototype.mulf=function(N){var w=new l(null);return w.words=new Array(this.length+N.length),O(this,N,w)},l.prototype.imul=function(N){return this.clone().mulTo(N,this)},l.prototype.imuln=function(N){var w=N<0;w&&(N=-N),o(typeof N=="number"),o(N<67108864);for(var _=0,S=0;S<this.length;S++){var j=(0|this.words[S])*N,R=(67108863&j)+(67108863&_);_>>=26,_+=j/67108864|0,_+=R>>>26,this.words[S]=67108863&R}return _!==0&&(this.words[S]=_,this.length++),w?this.ineg():this},l.prototype.muln=function(N){return this.clone().imuln(N)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(N){var w=(function(R){for(var $=new Array(R.bitLength()),U=0;U<$.length;U++){var q=U/26|0,H=U%26;$[U]=R.words[q]>>>H&1}return $})(N);if(w.length===0)return new l(1);for(var _=this,S=0;S<w.length&&w[S]===0;S++,_=_.sqr());if(++S<w.length)for(var j=_.sqr();S<w.length;S++,j=j.sqr())w[S]!==0&&(_=_.mul(j));return _},l.prototype.iushln=function(N){o(typeof N=="number"&&N>=0);var w,_=N%26,S=(N-_)/26,j=67108863>>>26-_<<26-_;if(_!==0){var R=0;for(w=0;w<this.length;w++){var $=this.words[w]&j,U=(0|this.words[w])-$<<_;this.words[w]=U|R,R=$>>>26-_}R&&(this.words[w]=R,this.length++)}if(S!==0){for(w=this.length-1;w>=0;w--)this.words[w+S]=this.words[w];for(w=0;w<S;w++)this.words[w]=0;this.length+=S}return this._strip()},l.prototype.ishln=function(N){return o(this.negative===0),this.iushln(N)},l.prototype.iushrn=function(N,w,_){var S;o(typeof N=="number"&&N>=0),S=w?(w-w%26)/26:0;var j=N%26,R=Math.min((N-j)/26,this.length),$=67108863^67108863>>>j<<j,U=_;if(S-=R,S=Math.max(0,S),U){for(var q=0;q<R;q++)U.words[q]=this.words[q];U.length=R}if(R!==0)if(this.length>R)for(this.length-=R,q=0;q<this.length;q++)this.words[q]=this.words[q+R];else this.words[0]=0,this.length=1;var H=0;for(q=this.length-1;q>=0&&(H!==0||q>=S);q--){var Y=0|this.words[q];this.words[q]=H<<26-j|Y>>>j,H=Y&$}return U&&H!==0&&(U.words[U.length++]=H),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(N,w,_){return o(this.negative===0),this.iushrn(N,w,_)},l.prototype.shln=function(N){return this.clone().ishln(N)},l.prototype.ushln=function(N){return this.clone().iushln(N)},l.prototype.shrn=function(N){return this.clone().ishrn(N)},l.prototype.ushrn=function(N){return this.clone().iushrn(N)},l.prototype.testn=function(N){o(typeof N=="number"&&N>=0);var w=N%26,_=(N-w)/26,S=1<<w;return!(this.length<=_)&&!!(this.words[_]&S)},l.prototype.imaskn=function(N){o(typeof N=="number"&&N>=0);var w=N%26,_=(N-w)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(w!==0&&_++,this.length=Math.min(_,this.length),w!==0){var S=67108863^67108863>>>w<<w;this.words[this.length-1]&=S}return this._strip()},l.prototype.maskn=function(N){return this.clone().imaskn(N)},l.prototype.iaddn=function(N){return o(typeof N=="number"),o(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(0|this.words[0])<=N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},l.prototype._iaddn=function(N){this.words[0]+=N;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},l.prototype.isubn=function(N){if(o(typeof N=="number"),o(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},l.prototype.addn=function(N){return this.clone().iaddn(N)},l.prototype.subn=function(N){return this.clone().isubn(N)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(N,w,_){var S,j,R=N.length+_;this._expand(R);var $=0;for(S=0;S<N.length;S++){j=(0|this.words[S+_])+$;var U=(0|N.words[S])*w;$=((j-=67108863&U)>>26)-(U/67108864|0),this.words[S+_]=67108863&j}for(;S<this.length-_;S++)$=(j=(0|this.words[S+_])+$)>>26,this.words[S+_]=67108863&j;if($===0)return this._strip();for(o($===-1),$=0,S=0;S<this.length;S++)$=(j=-(0|this.words[S])+$)>>26,this.words[S]=67108863&j;return this.negative=1,this._strip()},l.prototype._wordDiv=function(N,w){var _=(this.length,N.length),S=this.clone(),j=N,R=0|j.words[j.length-1];(_=26-this._countBits(R))!==0&&(j=j.ushln(_),S.iushln(_),R=0|j.words[j.length-1]);var $,U=S.length-j.length;if(w!=="mod"){($=new l(null)).length=U+1,$.words=new Array($.length);for(var q=0;q<$.length;q++)$.words[q]=0}var H=S.clone()._ishlnsubmul(j,1,U);H.negative===0&&(S=H,$&&($.words[U]=1));for(var Y=U-1;Y>=0;Y--){var M=67108864*(0|S.words[j.length+Y])+(0|S.words[j.length+Y-1]);for(M=Math.min(M/R|0,67108863),S._ishlnsubmul(j,M,Y);S.negative!==0;)M--,S.negative=0,S._ishlnsubmul(j,1,Y),S.isZero()||(S.negative^=1);$&&($.words[Y]=M)}return $&&$._strip(),S._strip(),w!=="div"&&_!==0&&S.iushrn(_),{div:$||null,mod:S}},l.prototype.divmod=function(N,w,_){return o(!N.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&N.negative===0?(R=this.neg().divmod(N,w),w!=="mod"&&(S=R.div.neg()),w!=="div"&&(j=R.mod.neg(),_&&j.negative!==0&&j.iadd(N)),{div:S,mod:j}):this.negative===0&&N.negative!==0?(R=this.divmod(N.neg(),w),w!=="mod"&&(S=R.div.neg()),{div:S,mod:R.mod}):(this.negative&N.negative)!=0?(R=this.neg().divmod(N.neg(),w),w!=="div"&&(j=R.mod.neg(),_&&j.negative!==0&&j.isub(N)),{div:R.div,mod:j}):N.length>this.length||this.cmp(N)<0?{div:new l(0),mod:this}:N.length===1?w==="div"?{div:this.divn(N.words[0]),mod:null}:w==="mod"?{div:null,mod:new l(this.modrn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new l(this.modrn(N.words[0]))}:this._wordDiv(N,w);var S,j,R},l.prototype.div=function(N){return this.divmod(N,"div",!1).div},l.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},l.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},l.prototype.divRound=function(N){var w=this.divmod(N);if(w.mod.isZero())return w.div;var _=w.div.negative!==0?w.mod.isub(N):w.mod,S=N.ushrn(1),j=N.andln(1),R=_.cmp(S);return R<0||j===1&&R===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},l.prototype.modrn=function(N){var w=N<0;w&&(N=-N),o(N<=67108863);for(var _=(1<<26)%N,S=0,j=this.length-1;j>=0;j--)S=(_*S+(0|this.words[j]))%N;return w?-S:S},l.prototype.modn=function(N){return this.modrn(N)},l.prototype.idivn=function(N){var w=N<0;w&&(N=-N),o(N<=67108863);for(var _=0,S=this.length-1;S>=0;S--){var j=(0|this.words[S])+67108864*_;this.words[S]=j/N|0,_=j%N}return this._strip(),w?this.ineg():this},l.prototype.divn=function(N){return this.clone().idivn(N)},l.prototype.egcd=function(N){o(N.negative===0),o(!N.isZero());var w=this,_=N.clone();w=w.negative!==0?w.umod(N):w.clone();for(var S=new l(1),j=new l(0),R=new l(0),$=new l(1),U=0;w.isEven()&&_.isEven();)w.iushrn(1),_.iushrn(1),++U;for(var q=_.clone(),H=w.clone();!w.isZero();){for(var Y=0,M=1;(w.words[0]&M)==0&&Y<26;++Y,M<<=1);if(Y>0)for(w.iushrn(Y);Y-- >0;)(S.isOdd()||j.isOdd())&&(S.iadd(q),j.isub(H)),S.iushrn(1),j.iushrn(1);for(var K=0,z=1;(_.words[0]&z)==0&&K<26;++K,z<<=1);if(K>0)for(_.iushrn(K);K-- >0;)(R.isOdd()||$.isOdd())&&(R.iadd(q),$.isub(H)),R.iushrn(1),$.iushrn(1);w.cmp(_)>=0?(w.isub(_),S.isub(R),j.isub($)):(_.isub(w),R.isub(S),$.isub(j))}return{a:R,b:$,gcd:_.iushln(U)}},l.prototype._invmp=function(N){o(N.negative===0),o(!N.isZero());var w=this,_=N.clone();w=w.negative!==0?w.umod(N):w.clone();for(var S,j=new l(1),R=new l(0),$=_.clone();w.cmpn(1)>0&&_.cmpn(1)>0;){for(var U=0,q=1;(w.words[0]&q)==0&&U<26;++U,q<<=1);if(U>0)for(w.iushrn(U);U-- >0;)j.isOdd()&&j.iadd($),j.iushrn(1);for(var H=0,Y=1;(_.words[0]&Y)==0&&H<26;++H,Y<<=1);if(H>0)for(_.iushrn(H);H-- >0;)R.isOdd()&&R.iadd($),R.iushrn(1);w.cmp(_)>=0?(w.isub(_),j.isub(R)):(_.isub(w),R.isub(j))}return(S=w.cmpn(1)===0?j:R).cmpn(0)<0&&S.iadd(N),S},l.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var w=this.clone(),_=N.clone();w.negative=0,_.negative=0;for(var S=0;w.isEven()&&_.isEven();S++)w.iushrn(1),_.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;_.isEven();)_.iushrn(1);var j=w.cmp(_);if(j<0){var R=w;w=_,_=R}else if(j===0||_.cmpn(1)===0)break;w.isub(_)}return _.iushln(S)},l.prototype.invm=function(N){return this.egcd(N).a.umod(N)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(N){return this.words[0]&N},l.prototype.bincn=function(N){o(typeof N=="number");var w=N%26,_=(N-w)/26,S=1<<w;if(this.length<=_)return this._expand(_+1),this.words[_]|=S,this;for(var j=S,R=_;j!==0&&R<this.length;R++){var $=0|this.words[R];j=($+=j)>>>26,$&=67108863,this.words[R]=$}return j!==0&&(this.words[R]=j,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(N){var w,_=N<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this._strip(),this.length>1)w=1;else{_&&(N=-N),o(N<=67108863,"Number is too big");var S=0|this.words[0];w=S===N?0:S<N?-1:1}return this.negative!==0?0|-w:w},l.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var w=this.ucmp(N);return this.negative!==0?0|-w:w},l.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var w=0,_=this.length-1;_>=0;_--){var S=0|this.words[_],j=0|N.words[_];if(S!==j){S<j?w=-1:S>j&&(w=1);break}}return w},l.prototype.gtn=function(N){return this.cmpn(N)===1},l.prototype.gt=function(N){return this.cmp(N)===1},l.prototype.gten=function(N){return this.cmpn(N)>=0},l.prototype.gte=function(N){return this.cmp(N)>=0},l.prototype.ltn=function(N){return this.cmpn(N)===-1},l.prototype.lt=function(N){return this.cmp(N)===-1},l.prototype.lten=function(N){return this.cmpn(N)<=0},l.prototype.lte=function(N){return this.cmp(N)<=0},l.prototype.eqn=function(N){return this.cmpn(N)===0},l.prototype.eq=function(N){return this.cmp(N)===0},l.red=function(N){return new C(N)},l.prototype.toRed=function(N){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},l.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(N){return this.red=N,this},l.prototype.forceRed=function(N){return o(!this.red,"Already a number in reduction context"),this._forceRed(N)},l.prototype.redAdd=function(N){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},l.prototype.redIAdd=function(N){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},l.prototype.redSub=function(N){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},l.prototype.redISub=function(N){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},l.prototype.redShl=function(N){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},l.prototype.redMul=function(N){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},l.prototype.redIMul=function(N){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},l.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(N){return o(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var F={k256:null,p224:null,p192:null,p25519:null};function A(N,w){this.name=N,this.p=new l(w,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function P(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function D(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function V(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(N){if(typeof N=="string"){var w=l._prime(N);this.m=w.p,this.prime=w}else o(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function I(N){C.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var N=new l(null);return N.words=new Array(Math.ceil(this.n/13)),N},A.prototype.ireduce=function(N){var w,_=N;do this.split(_,this.tmp),w=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(w>this.n);var S=w<this.n?-1:_.ucmp(this.p);return S===0?(_.words[0]=0,_.length=1):S>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},A.prototype.split=function(N,w){N.iushrn(this.n,0,w)},A.prototype.imulK=function(N){return N.imul(this.k)},u(P,A),P.prototype.split=function(N,w){for(var _=Math.min(N.length,9),S=0;S<_;S++)w.words[S]=N.words[S];if(w.length=_,N.length<=9)return N.words[0]=0,void(N.length=1);var j=N.words[9];for(w.words[w.length++]=4194303&j,S=10;S<N.length;S++){var R=0|N.words[S];N.words[S-10]=(4194303&R)<<4|j>>>22,j=R}j>>>=22,N.words[S-10]=j,j===0&&N.length>10?N.length-=10:N.length-=9},P.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var w=0,_=0;_<N.length;_++){var S=0|N.words[_];w+=977*S,N.words[_]=67108863&w,w=64*S+(w/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N},u(D,A),u(V,A),u(B,A),B.prototype.imulK=function(N){for(var w=0,_=0;_<N.length;_++){var S=19*(0|N.words[_])+w,j=67108863&S;S>>>=26,N.words[_]=j,w=S}return w!==0&&(N.words[N.length++]=w),N},l._prime=function(N){if(F[N])return F[N];var w;if(N==="k256")w=new P;else if(N==="p224")w=new D;else if(N==="p192")w=new V;else{if(N!=="p25519")throw new Error("Unknown prime "+N);w=new B}return F[N]=w,w},C.prototype._verify1=function(N){o(N.negative===0,"red works only with positives"),o(N.red,"red works only with red numbers")},C.prototype._verify2=function(N,w){o((N.negative|w.negative)==0,"red works only with positives"),o(N.red&&N.red===w.red,"red works only with red numbers")},C.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):(g(N,N.umod(this.m)._forceRed(this)),N)},C.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},C.prototype.add=function(N,w){this._verify2(N,w);var _=N.add(w);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},C.prototype.iadd=function(N,w){this._verify2(N,w);var _=N.iadd(w);return _.cmp(this.m)>=0&&_.isub(this.m),_},C.prototype.sub=function(N,w){this._verify2(N,w);var _=N.sub(w);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},C.prototype.isub=function(N,w){this._verify2(N,w);var _=N.isub(w);return _.cmpn(0)<0&&_.iadd(this.m),_},C.prototype.shl=function(N,w){return this._verify1(N),this.imod(N.ushln(w))},C.prototype.imul=function(N,w){return this._verify2(N,w),this.imod(N.imul(w))},C.prototype.mul=function(N,w){return this._verify2(N,w),this.imod(N.mul(w))},C.prototype.isqr=function(N){return this.imul(N,N.clone())},C.prototype.sqr=function(N){return this.mul(N,N)},C.prototype.sqrt=function(N){if(N.isZero())return N.clone();var w=this.m.andln(3);if(o(w%2==1),w===3){var _=this.m.add(new l(1)).iushrn(2);return this.pow(N,_)}for(var S=this.m.subn(1),j=0;!S.isZero()&&S.andln(1)===0;)j++,S.iushrn(1);o(!S.isZero());var R=new l(1).toRed(this),$=R.redNeg(),U=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new l(2*q*q).toRed(this);this.pow(q,U).cmp($)!==0;)q.redIAdd($);for(var H=this.pow(q,S),Y=this.pow(N,S.addn(1).iushrn(1)),M=this.pow(N,S),K=j;M.cmp(R)!==0;){for(var z=M,L=0;z.cmp(R)!==0;L++)z=z.redSqr();o(L<K);var W=this.pow(H,new l(1).iushln(K-L-1));Y=Y.redMul(W),H=W.redSqr(),M=M.redMul(H),K=L}return Y},C.prototype.invm=function(N){var w=N._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},C.prototype.pow=function(N,w){if(w.isZero())return new l(1).toRed(this);if(w.cmpn(1)===0)return N.clone();var _=new Array(16);_[0]=new l(1).toRed(this),_[1]=N;for(var S=2;S<_.length;S++)_[S]=this.mul(_[S-1],N);var j=_[0],R=0,$=0,U=w.bitLength()%26;for(U===0&&(U=26),S=w.length-1;S>=0;S--){for(var q=w.words[S],H=U-1;H>=0;H--){var Y=q>>H&1;j!==_[0]&&(j=this.sqr(j)),Y!==0||R!==0?(R<<=1,R|=Y,(++$===4||S===0&&H===0)&&(j=this.mul(j,_[R]),$=0,R=0)):$=0}U=26}return j},C.prototype.convertTo=function(N){var w=N.umod(this.m);return w===N?w.clone():w},C.prototype.convertFrom=function(N){var w=N.clone();return w.red=null,w},l.mont=function(N){return new I(N)},u(I,C),I.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},I.prototype.convertFrom=function(N){var w=this.imod(N.mul(this.rinv));return w.red=null,w},I.prototype.imul=function(N,w){if(N.isZero()||w.isZero())return N.words[0]=0,N.length=1,N;var _=N.imul(w),S=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=_.isub(S).iushrn(this.shift),R=j;return j.cmp(this.m)>=0?R=j.isub(this.m):j.cmpn(0)<0&&(R=j.iadd(this.m)),R._forceRed(this)},I.prototype.mul=function(N,w){if(N.isZero()||w.isZero())return new l(0)._forceRed(this);var _=N.mul(w),S=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=_.isub(S).iushrn(this.shift),R=j;return j.cmp(this.m)>=0?R=j.isub(this.m):j.cmpn(0)<0&&(R=j.iadd(this.m)),R._forceRed(this)},I.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(r,n,s){var i;function a(u){this.rand=u}if(n.exports=function(u){return i||(i=new a(null)),i.generate(u)},n.exports.Rand=a,a.prototype.generate=function(u){return this._rand(u)},a.prototype._rand=function(u){if(this.rand.getBytes)return this.rand.getBytes(u);for(var l=new Uint8Array(u),d=0;d<l.length;d++)l[d]=this.rand.getByte();return l},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(u){var l=new Uint8Array(u);return self.crypto.getRandomValues(l),l}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(u){var l=new Uint8Array(u);return self.msCrypto.getRandomValues(l),l}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(u){return o.randomBytes(u)}}catch{}},{crypto:188}],188:[function(r,n,s){},{}],189:[function(r,n,s){var i=r("safe-buffer").Buffer;function a(f){i.isBuffer(f)||(f=i.from(f));for(var p=f.length/4|0,g=new Array(p),y=0;y<p;y++)g[y]=f.readUInt32BE(4*y);return g}function o(f){for(;0<f.length;f++)f[0]=0}function u(f,p,g,y,m){for(var v,b,x,k,T=g[0],O=g[1],F=g[2],A=g[3],P=f[0]^p[0],D=f[1]^p[1],V=f[2]^p[2],B=f[3]^p[3],C=4,I=1;I<m;I++)v=T[P>>>24]^O[D>>>16&255]^F[V>>>8&255]^A[255&B]^p[C++],b=T[D>>>24]^O[V>>>16&255]^F[B>>>8&255]^A[255&P]^p[C++],x=T[V>>>24]^O[B>>>16&255]^F[P>>>8&255]^A[255&D]^p[C++],k=T[B>>>24]^O[P>>>16&255]^F[D>>>8&255]^A[255&V]^p[C++],P=v,D=b,V=x,B=k;return v=(y[P>>>24]<<24|y[D>>>16&255]<<16|y[V>>>8&255]<<8|y[255&B])^p[C++],b=(y[D>>>24]<<24|y[V>>>16&255]<<16|y[B>>>8&255]<<8|y[255&P])^p[C++],x=(y[V>>>24]<<24|y[B>>>16&255]<<16|y[P>>>8&255]<<8|y[255&D])^p[C++],k=(y[B>>>24]<<24|y[P>>>16&255]<<16|y[D>>>8&255]<<8|y[255&V])^p[C++],[v>>>=0,b>>>=0,x>>>=0,k>>>=0]}var l=[0,1,2,4,8,16,32,64,128,27,54],d=(function(){for(var f=new Array(256),p=0;p<256;p++)f[p]=p<128?p<<1:p<<1^283;for(var g=[],y=[],m=[[],[],[],[]],v=[[],[],[],[]],b=0,x=0,k=0;k<256;++k){var T=x^x<<1^x<<2^x<<3^x<<4;T=T>>>8^255&T^99,g[b]=T,y[T]=b;var O=f[b],F=f[O],A=f[F],P=257*f[T]^16843008*T;m[0][b]=P<<24|P>>>8,m[1][b]=P<<16|P>>>16,m[2][b]=P<<8|P>>>24,m[3][b]=P,P=16843009*A^65537*F^257*O^16843008*b,v[0][T]=P<<24|P>>>8,v[1][T]=P<<16|P>>>16,v[2][T]=P<<8|P>>>24,v[3][T]=P,b===0?b=x=1:(b=O^f[f[f[A^O]]],x^=f[f[x]])}return{SBOX:g,INV_SBOX:y,SUB_MIX:m,INV_SUB_MIX:v}})();function h(f){this._key=a(f),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var f=this._key,p=f.length,g=p+6,y=4*(g+1),m=[],v=0;v<p;v++)m[v]=f[v];for(v=p;v<y;v++){var b=m[v-1];v%p==0?(b=b<<8|b>>>24,b=d.SBOX[b>>>24]<<24|d.SBOX[b>>>16&255]<<16|d.SBOX[b>>>8&255]<<8|d.SBOX[255&b],b^=l[v/p|0]<<24):p>6&&v%p==4&&(b=d.SBOX[b>>>24]<<24|d.SBOX[b>>>16&255]<<16|d.SBOX[b>>>8&255]<<8|d.SBOX[255&b]),m[v]=m[v-p]^b}for(var x=[],k=0;k<y;k++){var T=y-k,O=m[T-(k%4?0:4)];x[k]=k<4||T<=4?O:d.INV_SUB_MIX[0][d.SBOX[O>>>24]]^d.INV_SUB_MIX[1][d.SBOX[O>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[O>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[255&O]]}this._nRounds=g,this._keySchedule=m,this._invKeySchedule=x},h.prototype.encryptBlockRaw=function(f){return u(f=a(f),this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},h.prototype.encryptBlock=function(f){var p=this.encryptBlockRaw(f),g=i.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[1],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[3],12),g},h.prototype.decryptBlock=function(f){var p=(f=a(f))[1];f[1]=f[3],f[3]=p;var g=u(f,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),y=i.allocUnsafe(16);return y.writeUInt32BE(g[0],0),y.writeUInt32BE(g[3],4),y.writeUInt32BE(g[2],8),y.writeUInt32BE(g[1],12),y},h.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},n.exports.AES=h},{"safe-buffer":494}],190:[function(r,n,s){var i=r("./aes"),a=r("safe-buffer").Buffer,o=r("cipher-base"),u=r("inherits"),l=r("./ghash"),d=r("buffer-xor"),h=r("./incr32");function f(p,g,y,m){o.call(this);var v=a.alloc(4,0);this._cipher=new i.AES(g);var b=this._cipher.encryptBlock(v);this._ghash=new l(b),y=(function(x,k,T){if(k.length===12)return x._finID=a.concat([k,a.from([0,0,0,1])]),a.concat([k,a.from([0,0,0,2])]);var O=new l(T),F=k.length,A=F%16;O.update(k),A&&(A=16-A,O.update(a.alloc(A,0))),O.update(a.alloc(8,0));var P=8*F,D=a.alloc(8);D.writeUIntBE(P,0,8),O.update(D),x._finID=O.state;var V=a.from(x._finID);return h(V),V})(this,y,b),this._prev=a.from(y),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=p,this._authTag=null,this._called=!1}u(f,o),f.prototype._update=function(p){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=a.alloc(g,0),this._ghash.update(g))}this._called=!0;var y=this._mode.encrypt(this,p);return this._decrypt?this._ghash.update(p):this._ghash.update(y),this._len+=p.length,y},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var p=d(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(g,y){var m=0;g.length!==y.length&&m++;for(var v=Math.min(g.length,y.length),b=0;b<v;++b)m+=g[b]^y[b];return m})(p,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=p,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(p){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=p},f.prototype.setAAD=function(p){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(p),this._alen+=p.length},n.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(r,n,s){var i=r("./encrypter"),a=r("./decrypter"),o=r("./modes/list.json");s.createCipher=s.Cipher=i.createCipher,s.createCipheriv=s.Cipheriv=i.createCipheriv,s.createDecipher=s.Decipher=a.createDecipher,s.createDecipheriv=s.Decipheriv=a.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(r,n,s){var i=r("./authCipher"),a=r("safe-buffer").Buffer,o=r("./modes"),u=r("./streamCipher"),l=r("cipher-base"),d=r("./aes"),h=r("evp_bytestokey");function f(y,m,v){l.call(this),this._cache=new p,this._last=void 0,this._cipher=new d.AES(m),this._prev=a.from(v),this._mode=y,this._autopadding=!0}function p(){this.cache=a.allocUnsafe(0)}function g(y,m,v){var b=o[y.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=a.from(v)),b.mode!=="GCM"&&v.length!==b.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=a.from(m)),m.length!==b.key/8)throw new TypeError("invalid key length "+m.length);return b.type==="stream"?new u(b.module,m,v,!0):b.type==="auth"?new i(b.module,m,v,!0):new f(b.module,m,v)}r("inherits")(f,l),f.prototype._update=function(y){var m,v;this._cache.add(y);for(var b=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),b.push(v);return a.concat(b)},f.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return(function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var b=-1;++b<v;)if(m[b+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)})(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},p.prototype.add=function(y){this.cache=a.concat([this.cache,y])},p.prototype.get=function(y){var m;if(y){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(y,m){var v=o[y.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var b=h(m,!1,v.key,v.iv);return g(y,b.key,b.iv)},s.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(r,n,s){var i=r("./modes"),a=r("./authCipher"),o=r("safe-buffer").Buffer,u=r("./streamCipher"),l=r("cipher-base"),d=r("./aes"),h=r("evp_bytestokey");function f(m,v,b){l.call(this),this._cache=new g,this._cipher=new d.AES(v),this._prev=o.from(b),this._mode=m,this._autopadding=!0}r("inherits")(f,l),f.prototype._update=function(m){var v,b;this._cache.add(m);for(var x=[];v=this._cache.get();)b=this._mode.encrypt(this,v),x.push(b);return o.concat(x)};var p=o.alloc(16,16);function g(){this.cache=o.allocUnsafe(0)}function y(m,v,b){var x=i[m.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),v.length!==x.key/8)throw new TypeError("invalid key length "+v.length);if(typeof b=="string"&&(b=o.from(b)),x.mode!=="GCM"&&b.length!==x.iv)throw new TypeError("invalid iv length "+b.length);return x.type==="stream"?new u(x.module,v,b):x.type==="auth"?new a(x.module,v,b):new f(x.module,v,b)}f.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},g.prototype.add=function(m){this.cache=o.concat([this.cache,m])},g.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},g.prototype.flush=function(){for(var m=16-this.cache.length,v=o.allocUnsafe(m),b=-1;++b<m;)v.writeUInt8(m,b);return o.concat([this.cache,v])},s.createCipheriv=y,s.createCipher=function(m,v){var b=i[m.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var x=h(v,!1,b.key,b.iv);return y(m,x.key,x.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(r,n,s){var i=r("safe-buffer").Buffer,a=i.alloc(16,0);function o(l){var d=i.allocUnsafe(16);return d.writeUInt32BE(l[0]>>>0,0),d.writeUInt32BE(l[1]>>>0,4),d.writeUInt32BE(l[2]>>>0,8),d.writeUInt32BE(l[3]>>>0,12),d}function u(l){this.h=l,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}u.prototype.ghash=function(l){for(var d=-1;++d<l.length;)this.state[d]^=l[d];this._multiply()},u.prototype._multiply=function(){for(var l,d,h,f=[(l=this.h).readUInt32BE(0),l.readUInt32BE(4),l.readUInt32BE(8),l.readUInt32BE(12)],p=[0,0,0,0],g=-1;++g<128;){for((this.state[~~(g/8)]&1<<7-g%8)!=0&&(p[0]^=f[0],p[1]^=f[1],p[2]^=f[2],p[3]^=f[3]),h=(1&f[3])!=0,d=3;d>0;d--)f[d]=f[d]>>>1|(1&f[d-1])<<31;f[0]=f[0]>>>1,h&&(f[0]=f[0]^225<<24)}this.state=o(p)},u.prototype.update=function(l){var d;for(this.cache=i.concat([this.cache,l]);this.cache.length>=16;)d=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(d)},u.prototype.final=function(l,d){return this.cache.length&&this.ghash(i.concat([this.cache,a],16)),this.ghash(o([0,l,0,d])),this.state},n.exports=u},{"safe-buffer":494}],195:[function(r,n,s){n.exports=function(i){for(var a,o=i.length;o--;){if((a=i.readUInt8(o))!==255){a++,i.writeUInt8(a,o);break}i.writeUInt8(0,o)}}},{}],196:[function(r,n,s){var i=r("buffer-xor");s.encrypt=function(a,o){var u=i(o,a._prev);return a._prev=a._cipher.encryptBlock(u),a._prev},s.decrypt=function(a,o){var u=a._prev;a._prev=o;var l=a._cipher.decryptBlock(o);return i(l,u)}},{"buffer-xor":219}],197:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("buffer-xor");function o(u,l,d){var h=l.length,f=a(l,u._cache);return u._cache=u._cache.slice(h),u._prev=i.concat([u._prev,d?l:f]),f}s.encrypt=function(u,l,d){for(var h,f=i.allocUnsafe(0);l.length;){if(u._cache.length===0&&(u._cache=u._cipher.encryptBlock(u._prev),u._prev=i.allocUnsafe(0)),!(u._cache.length<=l.length)){f=i.concat([f,o(u,l,d)]);break}h=u._cache.length,f=i.concat([f,o(u,l.slice(0,h),d)]),l=l.slice(h)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(r,n,s){var i=r("safe-buffer").Buffer;function a(u,l,d){for(var h,f,p=-1,g=0;++p<8;)h=l&1<<7-p?128:0,g+=(128&(f=u._cipher.encryptBlock(u._prev)[0]^h))>>p%8,u._prev=o(u._prev,d?h:f);return g}function o(u,l){var d=u.length,h=-1,f=i.allocUnsafe(u.length);for(u=i.concat([u,i.from([l])]);++h<d;)f[h]=u[h]<<1|u[h+1]>>7;return f}s.encrypt=function(u,l,d){for(var h=l.length,f=i.allocUnsafe(h),p=-1;++p<h;)f[p]=a(u,l[p],d);return f}},{"safe-buffer":494}],199:[function(r,n,s){var i=r("safe-buffer").Buffer;function a(o,u,l){var d=o._cipher.encryptBlock(o._prev)[0]^u;return o._prev=i.concat([o._prev.slice(1),i.from([l?u:d])]),d}s.encrypt=function(o,u,l){for(var d=u.length,h=i.allocUnsafe(d),f=-1;++f<d;)h[f]=a(o,u[f],l);return h}},{"safe-buffer":494}],200:[function(r,n,s){var i=r("buffer-xor"),a=r("safe-buffer").Buffer,o=r("../incr32");function u(l){var d=l._cipher.encryptBlockRaw(l._prev);return o(l._prev),d}s.encrypt=function(l,d){var h=Math.ceil(d.length/16),f=l._cache.length;l._cache=a.concat([l._cache,a.allocUnsafe(16*h)]);for(var p=0;p<h;p++){var g=u(l),y=f+16*p;l._cache.writeUInt32BE(g[0],y+0),l._cache.writeUInt32BE(g[1],y+4),l._cache.writeUInt32BE(g[2],y+8),l._cache.writeUInt32BE(g[3],y+12)}var m=l._cache.slice(0,d.length);return l._cache=l._cache.slice(d.length),i(d,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(r,n,s){s.encrypt=function(i,a){return i._cipher.encryptBlock(a)},s.decrypt=function(i,a){return i._cipher.decryptBlock(a)}},{}],202:[function(r,n,s){var i={ECB:r("./ecb"),CBC:r("./cbc"),CFB:r("./cfb"),CFB8:r("./cfb8"),CFB1:r("./cfb1"),OFB:r("./ofb"),CTR:r("./ctr"),GCM:r("./ctr")},a=r("./list.json");for(var o in a)a[o].module=i[a[o].mode];n.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(r,n,s){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(r,n,s){(function(i){(function(){var a=r("buffer-xor");function o(u){return u._prev=u._cipher.encryptBlock(u._prev),u._prev}s.encrypt=function(u,l){for(;u._cache.length<l.length;)u._cache=i.concat([u._cache,o(u)]);var d=u._cache.slice(0,l.length);return u._cache=u._cache.slice(l.length),a(l,d)}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(r,n,s){var i=r("./aes"),a=r("safe-buffer").Buffer,o=r("cipher-base");function u(l,d,h,f){o.call(this),this._cipher=new i.AES(d),this._prev=a.from(h),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=f,this._mode=l}r("inherits")(u,o),u.prototype._update=function(l){return this._mode.encrypt(this,l,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},n.exports=u},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(r,n,s){var i=r("browserify-des"),a=r("browserify-aes/browser"),o=r("browserify-aes/modes"),u=r("browserify-des/modes"),l=r("evp_bytestokey");function d(f,p,g){if(f=f.toLowerCase(),o[f])return a.createCipheriv(f,p,g);if(u[f])return new i({key:p,iv:g,mode:f});throw new TypeError("invalid suite type")}function h(f,p,g){if(f=f.toLowerCase(),o[f])return a.createDecipheriv(f,p,g);if(u[f])return new i({key:p,iv:g,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(f,p){var g,y;if(f=f.toLowerCase(),o[f])g=o[f].key,y=o[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");g=8*u[f].key,y=u[f].iv}var m=l(p,!1,g,y);return d(f,m.key,m.iv)},s.createCipheriv=s.Cipheriv=d,s.createDecipher=s.Decipher=function(f,p){var g,y;if(f=f.toLowerCase(),o[f])g=o[f].key,y=o[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");g=8*u[f].key,y=u[f].iv}var m=l(p,!1,g,y);return h(f,m.key,m.iv)},s.createDecipheriv=s.Decipheriv=h,s.listCiphers=s.getCiphers=function(){return Object.keys(u).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(r,n,s){var i=r("cipher-base"),a=r("des.js"),o=r("inherits"),u=r("safe-buffer").Buffer,l={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function d(h){i.call(this);var f,p=h.mode.toLowerCase(),g=l[p];f=h.decrypt?"decrypt":"encrypt";var y=h.key;u.isBuffer(y)||(y=u.from(y)),p!=="des-ede"&&p!=="des-ede-cbc"||(y=u.concat([y,y.slice(0,8)]));var m=h.iv;u.isBuffer(m)||(m=u.from(m)),this._des=g.create({key:y,iv:m,type:f})}l.des=l["des-cbc"],l.des3=l["des-ede3-cbc"],n.exports=d,o(d,i),d.prototype._update=function(h){return u.from(this._des.update(h))},d.prototype._final=function(){return u.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(r,n,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(r,n,s){(function(i){(function(){var a=r("bn.js"),o=r("randombytes");function u(d){var h,f=d.modulus.byteLength();do h=new a(o(f));while(h.cmp(d.modulus)>=0||!h.umod(d.prime1)||!h.umod(d.prime2));return h}function l(d,h){var f=(function(F){var A=u(F);return{blinder:A.toRed(a.mont(F.modulus)).redPow(new a(F.publicExponent)).fromRed(),unblinder:A.invm(F.modulus)}})(h),p=h.modulus.byteLength(),g=new a(d).mul(f.blinder).umod(h.modulus),y=g.toRed(a.mont(h.prime1)),m=g.toRed(a.mont(h.prime2)),v=h.coefficient,b=h.prime1,x=h.prime2,k=y.redPow(h.exponent1).fromRed(),T=m.redPow(h.exponent2).fromRed(),O=k.isub(T).imul(v).umod(b).imul(x);return T.iadd(O).imul(f.unblinder).umod(h.modulus).toArrayLike(i,"be",p)}l.getr=u,n.exports=l}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(r,n,s){n.exports=r("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(r,n,s){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(r,n,s){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("create-hash"),o=r("readable-stream"),u=r("inherits"),l=r("./sign"),d=r("./verify"),h=r("./algorithms.json");function f(m){o.Writable.call(this);var v=h[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function p(m){o.Writable.call(this);var v=h[m];if(!v)throw new Error("Unknown message digest");this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function g(m){return new f(m)}function y(m){return new p(m)}Object.keys(h).forEach((function(m){h[m].id=i.from(h[m].id,"hex"),h[m.toLowerCase()]=h[m]})),u(f,o.Writable),f.prototype._write=function(m,v,b){this._hash.update(m),b()},f.prototype.update=function(m,v){return typeof m=="string"&&(m=i.from(m,v)),this._hash.update(m),this},f.prototype.sign=function(m,v){this.end();var b=this._hash.digest(),x=l(b,m,this._hashType,this._signType,this._tag);return v?x.toString(v):x},u(p,o.Writable),p.prototype._write=function(m,v,b){this._hash.update(m),b()},p.prototype.update=function(m,v){return typeof m=="string"&&(m=i.from(m,v)),this._hash.update(m),this},p.prototype.verify=function(m,v,b){typeof v=="string"&&(v=i.from(v,b)),this.end();var x=this._hash.digest();return d(v,x,m,this._signType,this._tag)},n.exports={Sign:g,Verify:y,createSign:g,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("create-hmac"),o=r("browserify-rsa"),u=r("elliptic").ec,l=r("bn.js"),d=r("parse-asn1"),h=r("./curves.json");function f(m,v,b,x){if((m=i.from(m.toArray())).length<v.byteLength()){var k=i.alloc(v.byteLength()-m.length);m=i.concat([k,m])}var T=b.length,O=(function(P,D){P=(P=p(P,D)).mod(D);var V=i.from(P.toArray());if(V.length<D.byteLength()){var B=i.alloc(D.byteLength()-V.length);V=i.concat([B,V])}return V})(b,v),F=i.alloc(T);F.fill(1);var A=i.alloc(T);return A=a(x,A).update(F).update(i.from([0])).update(m).update(O).digest(),F=a(x,A).update(F).digest(),{k:A=a(x,A).update(F).update(i.from([1])).update(m).update(O).digest(),v:F=a(x,A).update(F).digest()}}function p(m,v){var b=new l(m),x=(m.length<<3)-v.bitLength();return x>0&&b.ishrn(x),b}function g(m,v,b){var x,k;do{for(x=i.alloc(0);8*x.length<m.bitLength();)v.v=a(b,v.k).update(v.v).digest(),x=i.concat([x,v.v]);k=p(x,m),v.k=a(b,v.k).update(v.v).update(i.from([0])).digest(),v.v=a(b,v.k).update(v.v).digest()}while(k.cmp(m)!==-1);return k}function y(m,v,b,x){return m.toRed(l.mont(b)).redPow(v).fromRed().mod(x)}n.exports=function(m,v,b,x,k){var T=d(v);if(T.curve){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(P,D){var V=h[D.curve.join(".")];if(!V)throw new Error("unknown curve "+D.curve.join("."));var B=new u(V).keyFromPrivate(D.privateKey).sign(P);return i.from(B.toDER())})(m,T)}if(T.type==="dsa"){if(x!=="dsa")throw new Error("wrong private key type");return(function(P,D,V){for(var B,C=D.params.priv_key,I=D.params.p,N=D.params.q,w=D.params.g,_=new l(0),S=p(P,N).mod(N),j=!1,R=f(C,N,P,V);j===!1;)B=g(N,R,V),_=y(w,B,I,N),(j=B.invm(N).imul(S.add(C.mul(_))).mod(N)).cmpn(0)===0&&(j=!1,_=new l(0));return(function($,U){$=$.toArray(),U=U.toArray(),128&$[0]&&($=[0].concat($)),128&U[0]&&(U=[0].concat(U));var q=[48,$.length+U.length+4,2,$.length];return q=q.concat($,[2,U.length],U),i.from(q)})(_,j)})(m,T,b)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");m=i.concat([k,m]);for(var O=T.modulus.byteLength(),F=[0,1];m.length+F.length+1<O;)F.push(255);F.push(0);for(var A=-1;++A<m.length;)F.push(m[A]);return o(F,T)},n.exports.getKey=f,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("bn.js"),o=r("elliptic").ec,u=r("parse-asn1"),l=r("./curves.json");function d(h,f){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(f)>=f)throw new Error("invalid sig")}n.exports=function(h,f,p,g,y){var m=u(p);if(m.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(F,A,P){var D=l[P.data.algorithm.curve.join(".")];if(!D)throw new Error("unknown curve "+P.data.algorithm.curve.join("."));var V=new o(D),B=P.data.subjectPrivateKey.data;return V.verify(A,F,B)})(h,f,m)}if(m.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return(function(F,A,P){var D=P.data.p,V=P.data.q,B=P.data.g,C=P.data.pub_key,I=u.signature.decode(F,"der"),N=I.s,w=I.r;d(N,V),d(w,V);var _=a.mont(D),S=N.invm(V);return B.toRed(_).redPow(new a(A).mul(S).mod(V)).fromRed().mul(C.toRed(_).redPow(w.mul(S).mod(V)).fromRed()).mod(D).mod(V).cmp(w)===0})(h,f,m)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");f=i.concat([y,f]);for(var v=m.modulus.byteLength(),b=[1],x=0;f.length+b.length+2<v;)b.push(255),x++;b.push(0);for(var k=-1;++k<f.length;)b.push(f[k]);b=i.from(b);var T=a.mont(m.modulus);h=(h=new a(h).toRed(T)).redPow(new a(m.publicExponent)),h=i.from(h.fromRed().toArray());var O=x<8?1:0;for(v=Math.min(h.length,b.length),h.length!==b.length&&(O=1),k=-1;++k<v;)O|=h[k]^b[k];return O===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(r,n,s){},{}],217:[function(r,n,s){var i=r("buffer"),a=i.Buffer;function o(l,d){for(var h in l)d[h]=l[h]}function u(l,d,h){return a(l,d,h)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(o(i,s),s.Buffer=u),o(a,u),u.from=function(l,d,h){if(typeof l=="number")throw new TypeError("Argument must not be a number");return a(l,d,h)},u.alloc=function(l,d,h){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=a(l);return d!==void 0?typeof h=="string"?f.fill(d,h):f.fill(d):f.fill(0),f},u.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a(l)},u.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}},{buffer:220}],218:[function(r,n,s){var i=r("safe-buffer").Buffer,a=i.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(m){var v;switch(this.encoding=(function(b){var x=(function(k){if(!k)return"utf8";for(var T;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(T)return;k=(""+k).toLowerCase(),T=!0}})(b);if(typeof x!="string"&&(i.isEncoding===a||!a(b)))throw new Error("Unknown encoding: "+b);return x||b})(m),this.encoding){case"utf16le":this.text=d,this.end=h,v=4;break;case"utf8":this.fillLast=l,v=4;break;case"base64":this.text=f,this.end=p,v=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(v)}function u(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function l(m){var v=this.lastTotal-this.lastNeed,b=(function(x,k,T){if((192&k[0])!=128)return x.lastNeed=0,"";if(x.lastNeed>1&&k.length>1){if((192&k[1])!=128)return x.lastNeed=1,"";if(x.lastNeed>2&&k.length>2&&(192&k[2])!=128)return x.lastNeed=2,""}})(this,m);return b!==void 0?b:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function d(m,v){if((m.length-v)%2==0){var b=m.toString("utf16le",v);if(b){var x=b.charCodeAt(b.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function h(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,b)}return v}function f(m,v){var b=(m.length-v)%3;return b===0?m.toString("base64",v):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-b))}function p(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function g(m){return m.toString(this.encoding)}function y(m){return m&&m.length?this.write(m):""}s.StringDecoder=o,o.prototype.write=function(m){if(m.length===0)return"";var v,b;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<m.length?v?v+this.text(m,b):this.text(m,b):v||""},o.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"":v},o.prototype.text=function(m,v){var b=(function(k,T,O){var F=T.length-1;if(F<O)return 0;var A=u(T[F]);return A>=0?(A>0&&(k.lastNeed=A-1),A):--F<O||A===-2?0:(A=u(T[F]))>=0?(A>0&&(k.lastNeed=A-2),A):--F<O||A===-2?0:(A=u(T[F]))>=0?(A>0&&(A===2?A=0:k.lastNeed=A-3),A):0})(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=b;var x=m.length-(b-this.lastNeed);return m.copy(this.lastChar,0,x),m.toString("utf8",v,x)},o.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(r,n,s){(function(i){(function(){n.exports=function(a,o){for(var u=Math.min(a.length,o.length),l=new i(u),d=0;d<u;++d)l[d]=a[d]^o[d];return l}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],220:[function(r,n,s){(function(i){(function(){var a=r("base64-js"),o=r("ieee754");s.Buffer=l,s.SlowBuffer=function(z){return+z!=z&&(z=0),l.alloc(+z)},s.INSPECT_MAX_BYTES=50;function u(z){if(z>2147483647)throw new RangeError('The value "'+z+'" is invalid for option "size"');var L=new Uint8Array(z);return L.__proto__=l.prototype,L}function l(z,L,W){if(typeof z=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(z)}return d(z,L,W)}function d(z,L,W){if(typeof z=="string")return(function(ne,ue){if(typeof ue=="string"&&ue!==""||(ue="utf8"),!l.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);var G=0|y(ne,ue),te=u(G),X=te.write(ne,ue);return X!==G&&(te=te.slice(0,X)),te})(z,L);if(ArrayBuffer.isView(z))return p(z);if(z==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(M(z,ArrayBuffer)||z&&M(z.buffer,ArrayBuffer))return(function(ne,ue,G){if(ue<0||ne.byteLength<ue)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<ue+(G||0))throw new RangeError('"length" is outside of buffer bounds');var te;return te=ue===void 0&&G===void 0?new Uint8Array(ne):G===void 0?new Uint8Array(ne,ue):new Uint8Array(ne,ue,G),te.__proto__=l.prototype,te})(z,L,W);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=z.valueOf&&z.valueOf();if(J!=null&&J!==z)return l.from(J,L,W);var le=(function(ne){if(l.isBuffer(ne)){var ue=0|g(ne.length),G=u(ue);return G.length===0||ne.copy(G,0,0,ue),G}if(ne.length!==void 0)return typeof ne.length!="number"||K(ne.length)?u(0):p(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return p(ne.data)})(z);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return l.from(z[Symbol.toPrimitive]("string"),L,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}function h(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function f(z){return h(z),u(z<0?0:0|g(z))}function p(z){for(var L=z.length<0?0:0|g(z.length),W=u(L),J=0;J<L;J+=1)W[J]=255&z[J];return W}function g(z){if(z>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|z}function y(z,L){if(l.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||M(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var W=z.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&W===0)return 0;for(var le=!1;;)switch(L){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return q(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*W;case"hex":return W>>>1;case"base64":return H(z).length;default:if(le)return J?-1:q(z).length;L=(""+L).toLowerCase(),le=!0}}function m(z,L,W){var J=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0)<=(L>>>=0))return"";for(z||(z="utf8");;)switch(z){case"hex":return I(this,L,W);case"utf8":case"utf-8":return V(this,L,W);case"ascii":return B(this,L,W);case"latin1":case"binary":return C(this,L,W);case"base64":return D(this,L,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,L,W);default:if(J)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),J=!0}}function v(z,L,W){var J=z[L];z[L]=z[W],z[W]=J}function b(z,L,W,J,le){if(z.length===0)return-1;if(typeof W=="string"?(J=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),K(W=+W)&&(W=le?0:z.length-1),W<0&&(W=z.length+W),W>=z.length){if(le)return-1;W=z.length-1}else if(W<0){if(!le)return-1;W=0}if(typeof L=="string"&&(L=l.from(L,J)),l.isBuffer(L))return L.length===0?-1:x(z,L,W,J,le);if(typeof L=="number")return L&=255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(z,L,W):Uint8Array.prototype.lastIndexOf.call(z,L,W):x(z,[L],W,J,le);throw new TypeError("val must be string, number or Buffer")}function x(z,L,W,J,le){var ne,ue=1,G=z.length,te=L.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(z.length<2||L.length<2)return-1;ue=2,G/=2,te/=2,W/=2}function X(Z,Q){return ue===1?Z[Q]:Z.readUInt16BE(Q*ue)}if(le){var ae=-1;for(ne=W;ne<G;ne++)if(X(z,ne)===X(L,ae===-1?0:ne-ae)){if(ae===-1&&(ae=ne),ne-ae+1===te)return ae*ue}else ae!==-1&&(ne-=ne-ae),ae=-1}else for(W+te>G&&(W=G-te),ne=W;ne>=0;ne--){for(var re=!0,ee=0;ee<te;ee++)if(X(z,ne+ee)!==X(L,ee)){re=!1;break}if(re)return ne}return-1}function k(z,L,W,J){W=Number(W)||0;var le=z.length-W;J?(J=Number(J))>le&&(J=le):J=le;var ne=L.length;J>ne/2&&(J=ne/2);for(var ue=0;ue<J;++ue){var G=parseInt(L.substr(2*ue,2),16);if(K(G))return ue;z[W+ue]=G}return ue}function T(z,L,W,J){return Y(q(L,z.length-W),z,W,J)}function O(z,L,W,J){return Y((function(le){for(var ne=[],ue=0;ue<le.length;++ue)ne.push(255&le.charCodeAt(ue));return ne})(L),z,W,J)}function F(z,L,W,J){return O(z,L,W,J)}function A(z,L,W,J){return Y(H(L),z,W,J)}function P(z,L,W,J){return Y((function(le,ne){for(var ue,G,te,X=[],ae=0;ae<le.length&&!((ne-=2)<0);++ae)ue=le.charCodeAt(ae),G=ue>>8,te=ue%256,X.push(te),X.push(G);return X})(L,z.length-W),z,W,J)}function D(z,L,W){return L===0&&W===z.length?a.fromByteArray(z):a.fromByteArray(z.slice(L,W))}function V(z,L,W){W=Math.min(z.length,W);for(var J=[],le=L;le<W;){var ne,ue,G,te,X=z[le],ae=null,re=X>239?4:X>223?3:X>191?2:1;if(le+re<=W)switch(re){case 1:X<128&&(ae=X);break;case 2:(192&(ne=z[le+1]))==128&&(te=(31&X)<<6|63&ne)>127&&(ae=te);break;case 3:ne=z[le+1],ue=z[le+2],(192&ne)==128&&(192&ue)==128&&(te=(15&X)<<12|(63&ne)<<6|63&ue)>2047&&(te<55296||te>57343)&&(ae=te);break;case 4:ne=z[le+1],ue=z[le+2],G=z[le+3],(192&ne)==128&&(192&ue)==128&&(192&G)==128&&(te=(15&X)<<18|(63&ne)<<12|(63&ue)<<6|63&G)>65535&&te<1114112&&(ae=te)}ae===null?(ae=65533,re=1):ae>65535&&(ae-=65536,J.push(ae>>>10&1023|55296),ae=56320|1023&ae),J.push(ae),le+=re}return(function(ee){var Z=ee.length;if(Z<=4096)return String.fromCharCode.apply(String,ee);for(var Q="",ie=0;ie<Z;)Q+=String.fromCharCode.apply(String,ee.slice(ie,ie+=4096));return Q})(J)}s.kMaxLength=2147483647,l.TYPED_ARRAY_SUPPORT=(function(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42}catch{return!1}})(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(z,L,W){return d(z,L,W)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(z,L,W){return(function(J,le,ne){return h(J),J<=0?u(J):le!==void 0?typeof ne=="string"?u(J).fill(le,ne):u(J).fill(le):u(J)})(z,L,W)},l.allocUnsafe=function(z){return f(z)},l.allocUnsafeSlow=function(z){return f(z)},l.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==l.prototype},l.compare=function(z,L){if(M(z,Uint8Array)&&(z=l.from(z,z.offset,z.byteLength)),M(L,Uint8Array)&&(L=l.from(L,L.offset,L.byteLength)),!l.isBuffer(z)||!l.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===L)return 0;for(var W=z.length,J=L.length,le=0,ne=Math.min(W,J);le<ne;++le)if(z[le]!==L[le]){W=z[le],J=L[le];break}return W<J?-1:J<W?1:0},l.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(z,L){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return l.alloc(0);var W;if(L===void 0)for(L=0,W=0;W<z.length;++W)L+=z[W].length;var J=l.allocUnsafe(L),le=0;for(W=0;W<z.length;++W){var ne=z[W];if(M(ne,Uint8Array)&&(ne=l.from(ne)),!l.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(J,le),le+=ne.length}return J},l.byteLength=y,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<z;L+=2)v(this,L,L+1);return this},l.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<z;L+=4)v(this,L,L+3),v(this,L+1,L+2);return this},l.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<z;L+=8)v(this,L,L+7),v(this,L+1,L+6),v(this,L+2,L+5),v(this,L+3,L+4);return this},l.prototype.toString=function(){var z=this.length;return z===0?"":arguments.length===0?V(this,0,z):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(z){if(!l.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||l.compare(this,z)===0},l.prototype.inspect=function(){var z="",L=s.INSPECT_MAX_BYTES;return z=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(z+=" ... "),"<Buffer "+z+">"},l.prototype.compare=function(z,L,W,J,le){if(M(z,Uint8Array)&&(z=l.from(z,z.offset,z.byteLength)),!l.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(L===void 0&&(L=0),W===void 0&&(W=z?z.length:0),J===void 0&&(J=0),le===void 0&&(le=this.length),L<0||W>z.length||J<0||le>this.length)throw new RangeError("out of range index");if(J>=le&&L>=W)return 0;if(J>=le)return-1;if(L>=W)return 1;if(this===z)return 0;for(var ne=(le>>>=0)-(J>>>=0),ue=(W>>>=0)-(L>>>=0),G=Math.min(ne,ue),te=this.slice(J,le),X=z.slice(L,W),ae=0;ae<G;++ae)if(te[ae]!==X[ae]){ne=te[ae],ue=X[ae];break}return ne<ue?-1:ue<ne?1:0},l.prototype.includes=function(z,L,W){return this.indexOf(z,L,W)!==-1},l.prototype.indexOf=function(z,L,W){return b(this,z,L,W,!0)},l.prototype.lastIndexOf=function(z,L,W){return b(this,z,L,W,!1)},l.prototype.write=function(z,L,W,J){if(L===void 0)J="utf8",W=this.length,L=0;else if(W===void 0&&typeof L=="string")J=L,W=this.length,L=0;else{if(!isFinite(L))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");L>>>=0,isFinite(W)?(W>>>=0,J===void 0&&(J="utf8")):(J=W,W=void 0)}var le=this.length-L;if((W===void 0||W>le)&&(W=le),z.length>0&&(W<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var ne=!1;;)switch(J){case"hex":return k(this,z,L,W);case"utf8":case"utf-8":return T(this,z,L,W);case"ascii":return O(this,z,L,W);case"latin1":case"binary":return F(this,z,L,W);case"base64":return A(this,z,L,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,z,L,W);default:if(ne)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ne=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(z,L,W){var J="";W=Math.min(z.length,W);for(var le=L;le<W;++le)J+=String.fromCharCode(127&z[le]);return J}function C(z,L,W){var J="";W=Math.min(z.length,W);for(var le=L;le<W;++le)J+=String.fromCharCode(z[le]);return J}function I(z,L,W){var J=z.length;(!L||L<0)&&(L=0),(!W||W<0||W>J)&&(W=J);for(var le="",ne=L;ne<W;++ne)le+=U(z[ne]);return le}function N(z,L,W){for(var J=z.slice(L,W),le="",ne=0;ne<J.length;ne+=2)le+=String.fromCharCode(J[ne]+256*J[ne+1]);return le}function w(z,L,W){if(z%1!=0||z<0)throw new RangeError("offset is not uint");if(z+L>W)throw new RangeError("Trying to access beyond buffer length")}function _(z,L,W,J,le,ne){if(!l.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>le||L<ne)throw new RangeError('"value" argument is out of bounds');if(W+J>z.length)throw new RangeError("Index out of range")}function S(z,L,W,J,le,ne){if(W+J>z.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function j(z,L,W,J,le){return L=+L,W>>>=0,le||S(z,0,W,4),o.write(z,L,W,J,23,4),W+4}function R(z,L,W,J,le){return L=+L,W>>>=0,le||S(z,0,W,8),o.write(z,L,W,J,52,8),W+8}l.prototype.slice=function(z,L){var W=this.length;(z=~~z)<0?(z+=W)<0&&(z=0):z>W&&(z=W),(L=L===void 0?W:~~L)<0?(L+=W)<0&&(L=0):L>W&&(L=W),L<z&&(L=z);var J=this.subarray(z,L);return J.__proto__=l.prototype,J},l.prototype.readUIntLE=function(z,L,W){z>>>=0,L>>>=0,W||w(z,L,this.length);for(var J=this[z],le=1,ne=0;++ne<L&&(le*=256);)J+=this[z+ne]*le;return J},l.prototype.readUIntBE=function(z,L,W){z>>>=0,L>>>=0,W||w(z,L,this.length);for(var J=this[z+--L],le=1;L>0&&(le*=256);)J+=this[z+--L]*le;return J},l.prototype.readUInt8=function(z,L){return z>>>=0,L||w(z,1,this.length),this[z]},l.prototype.readUInt16LE=function(z,L){return z>>>=0,L||w(z,2,this.length),this[z]|this[z+1]<<8},l.prototype.readUInt16BE=function(z,L){return z>>>=0,L||w(z,2,this.length),this[z]<<8|this[z+1]},l.prototype.readUInt32LE=function(z,L){return z>>>=0,L||w(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},l.prototype.readUInt32BE=function(z,L){return z>>>=0,L||w(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},l.prototype.readIntLE=function(z,L,W){z>>>=0,L>>>=0,W||w(z,L,this.length);for(var J=this[z],le=1,ne=0;++ne<L&&(le*=256);)J+=this[z+ne]*le;return J>=(le*=128)&&(J-=Math.pow(2,8*L)),J},l.prototype.readIntBE=function(z,L,W){z>>>=0,L>>>=0,W||w(z,L,this.length);for(var J=L,le=1,ne=this[z+--J];J>0&&(le*=256);)ne+=this[z+--J]*le;return ne>=(le*=128)&&(ne-=Math.pow(2,8*L)),ne},l.prototype.readInt8=function(z,L){return z>>>=0,L||w(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},l.prototype.readInt16LE=function(z,L){z>>>=0,L||w(z,2,this.length);var W=this[z]|this[z+1]<<8;return 32768&W?4294901760|W:W},l.prototype.readInt16BE=function(z,L){z>>>=0,L||w(z,2,this.length);var W=this[z+1]|this[z]<<8;return 32768&W?4294901760|W:W},l.prototype.readInt32LE=function(z,L){return z>>>=0,L||w(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},l.prototype.readInt32BE=function(z,L){return z>>>=0,L||w(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},l.prototype.readFloatLE=function(z,L){return z>>>=0,L||w(z,4,this.length),o.read(this,z,!0,23,4)},l.prototype.readFloatBE=function(z,L){return z>>>=0,L||w(z,4,this.length),o.read(this,z,!1,23,4)},l.prototype.readDoubleLE=function(z,L){return z>>>=0,L||w(z,8,this.length),o.read(this,z,!0,52,8)},l.prototype.readDoubleBE=function(z,L){return z>>>=0,L||w(z,8,this.length),o.read(this,z,!1,52,8)},l.prototype.writeUIntLE=function(z,L,W,J){z=+z,L>>>=0,W>>>=0,J||_(this,z,L,W,Math.pow(2,8*W)-1,0);var le=1,ne=0;for(this[L]=255&z;++ne<W&&(le*=256);)this[L+ne]=z/le&255;return L+W},l.prototype.writeUIntBE=function(z,L,W,J){z=+z,L>>>=0,W>>>=0,J||_(this,z,L,W,Math.pow(2,8*W)-1,0);var le=W-1,ne=1;for(this[L+le]=255&z;--le>=0&&(ne*=256);)this[L+le]=z/ne&255;return L+W},l.prototype.writeUInt8=function(z,L,W){return z=+z,L>>>=0,W||_(this,z,L,1,255,0),this[L]=255&z,L+1},l.prototype.writeUInt16LE=function(z,L,W){return z=+z,L>>>=0,W||_(this,z,L,2,65535,0),this[L]=255&z,this[L+1]=z>>>8,L+2},l.prototype.writeUInt16BE=function(z,L,W){return z=+z,L>>>=0,W||_(this,z,L,2,65535,0),this[L]=z>>>8,this[L+1]=255&z,L+2},l.prototype.writeUInt32LE=function(z,L,W){return z=+z,L>>>=0,W||_(this,z,L,4,4294967295,0),this[L+3]=z>>>24,this[L+2]=z>>>16,this[L+1]=z>>>8,this[L]=255&z,L+4},l.prototype.writeUInt32BE=function(z,L,W){return z=+z,L>>>=0,W||_(this,z,L,4,4294967295,0),this[L]=z>>>24,this[L+1]=z>>>16,this[L+2]=z>>>8,this[L+3]=255&z,L+4},l.prototype.writeIntLE=function(z,L,W,J){if(z=+z,L>>>=0,!J){var le=Math.pow(2,8*W-1);_(this,z,L,W,le-1,-le)}var ne=0,ue=1,G=0;for(this[L]=255&z;++ne<W&&(ue*=256);)z<0&&G===0&&this[L+ne-1]!==0&&(G=1),this[L+ne]=(z/ue>>0)-G&255;return L+W},l.prototype.writeIntBE=function(z,L,W,J){if(z=+z,L>>>=0,!J){var le=Math.pow(2,8*W-1);_(this,z,L,W,le-1,-le)}var ne=W-1,ue=1,G=0;for(this[L+ne]=255&z;--ne>=0&&(ue*=256);)z<0&&G===0&&this[L+ne+1]!==0&&(G=1),this[L+ne]=(z/ue>>0)-G&255;return L+W},l.prototype.writeInt8=function(z,L,W){return z=+z,L>>>=0,W||_(this,z,L,1,127,-128),z<0&&(z=255+z+1),this[L]=255&z,L+1},l.prototype.writeInt16LE=function(z,L,W){return z=+z,L>>>=0,W||_(this,z,L,2,32767,-32768),this[L]=255&z,this[L+1]=z>>>8,L+2},l.prototype.writeInt16BE=function(z,L,W){return z=+z,L>>>=0,W||_(this,z,L,2,32767,-32768),this[L]=z>>>8,this[L+1]=255&z,L+2},l.prototype.writeInt32LE=function(z,L,W){return z=+z,L>>>=0,W||_(this,z,L,4,2147483647,-2147483648),this[L]=255&z,this[L+1]=z>>>8,this[L+2]=z>>>16,this[L+3]=z>>>24,L+4},l.prototype.writeInt32BE=function(z,L,W){return z=+z,L>>>=0,W||_(this,z,L,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[L]=z>>>24,this[L+1]=z>>>16,this[L+2]=z>>>8,this[L+3]=255&z,L+4},l.prototype.writeFloatLE=function(z,L,W){return j(this,z,L,!0,W)},l.prototype.writeFloatBE=function(z,L,W){return j(this,z,L,!1,W)},l.prototype.writeDoubleLE=function(z,L,W){return R(this,z,L,!0,W)},l.prototype.writeDoubleBE=function(z,L,W){return R(this,z,L,!1,W)},l.prototype.copy=function(z,L,W,J){if(!l.isBuffer(z))throw new TypeError("argument should be a Buffer");if(W||(W=0),J||J===0||(J=this.length),L>=z.length&&(L=z.length),L||(L=0),J>0&&J<W&&(J=W),J===W||z.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),z.length-L<J-W&&(J=z.length-L+W);var le=J-W;if(this===z&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(L,W,J);else if(this===z&&W<L&&L<J)for(var ne=le-1;ne>=0;--ne)z[ne+L]=this[ne+W];else Uint8Array.prototype.set.call(z,this.subarray(W,J),L);return le},l.prototype.fill=function(z,L,W,J){if(typeof z=="string"){if(typeof L=="string"?(J=L,L=0,W=this.length):typeof W=="string"&&(J=W,W=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!l.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(z.length===1){var le=z.charCodeAt(0);(J==="utf8"&&le<128||J==="latin1")&&(z=le)}}else typeof z=="number"&&(z&=255);if(L<0||this.length<L||this.length<W)throw new RangeError("Out of range index");if(W<=L)return this;var ne;if(L>>>=0,W=W===void 0?this.length:W>>>0,z||(z=0),typeof z=="number")for(ne=L;ne<W;++ne)this[ne]=z;else{var ue=l.isBuffer(z)?z:l.from(z,J),G=ue.length;if(G===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(ne=0;ne<W-L;++ne)this[ne+L]=ue[ne%G]}return this};var $=/[^+/0-9A-Za-z-_]/g;function U(z){return z<16?"0"+z.toString(16):z.toString(16)}function q(z,L){var W;L=L||1/0;for(var J=z.length,le=null,ne=[],ue=0;ue<J;++ue){if((W=z.charCodeAt(ue))>55295&&W<57344){if(!le){if(W>56319){(L-=3)>-1&&ne.push(239,191,189);continue}if(ue+1===J){(L-=3)>-1&&ne.push(239,191,189);continue}le=W;continue}if(W<56320){(L-=3)>-1&&ne.push(239,191,189),le=W;continue}W=65536+(le-55296<<10|W-56320)}else le&&(L-=3)>-1&&ne.push(239,191,189);if(le=null,W<128){if((L-=1)<0)break;ne.push(W)}else if(W<2048){if((L-=2)<0)break;ne.push(W>>6|192,63&W|128)}else if(W<65536){if((L-=3)<0)break;ne.push(W>>12|224,W>>6&63|128,63&W|128)}else{if(!(W<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;ne.push(W>>18|240,W>>12&63|128,W>>6&63|128,63&W|128)}}return ne}function H(z){return a.toByteArray((function(L){if((L=(L=L.split("=")[0]).trim().replace($,"")).length<2)return"";for(;L.length%4!=0;)L+="=";return L})(z))}function Y(z,L,W,J){for(var le=0;le<J&&!(le+W>=L.length||le>=z.length);++le)L[le+W]=z[le];return le}function M(z,L){return z instanceof L||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===L.name}function K(z){return z!=z}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("stream").Transform,o=r("string_decoder").StringDecoder;function u(l){a.call(this),this.hashMode=typeof l=="string",this.hashMode?this[l]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("inherits")(u,a),u.prototype.update=function(l,d,h){typeof l=="string"&&(l=i.from(l,d));var f=this._update(l);return this.hashMode?this:(h&&(f=this._toString(f,h)),f)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(l,d,h){var f;try{this.hashMode?this._update(l):this.push(this._update(l))}catch(p){f=p}finally{h(f)}},u.prototype._flush=function(l){var d;try{this.push(this.__final())}catch(h){d=h}l(d)},u.prototype._finalOrDigest=function(l){var d=this.__final()||i.alloc(0);return l&&(d=this._toString(d,l,!0)),d},u.prototype._toString=function(l,d,h){if(this._decoder||(this._decoder=new o(d),this._encoding=d),this._encoding!==d)throw new Error("can't switch encodings");var f=this._decoder.write(l);return h&&(f+=this._decoder.end()),f},n.exports=u},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(r,n,s){var i=r("../internals/is-callable"),a=r("../internals/try-to-string"),o=TypeError;n.exports=function(u){if(i(u))return u;throw new o(a(u)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(r,n,s){var i=r("../internals/is-constructor"),a=r("../internals/try-to-string"),o=TypeError;n.exports=function(u){if(i(u))return u;throw new o(a(u)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(r,n,s){var i=r("../internals/is-callable"),a=String,o=TypeError;n.exports=function(u){if(typeof u=="object"||i(u))return u;throw new o("Can't set "+a(u)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(r,n,s){var i=r("../internals/well-known-symbol"),a=r("../internals/object-create"),o=r("../internals/object-define-property").f,u=i("unscopables"),l=Array.prototype;l[u]===void 0&&o(l,u,{configurable:!0,value:a(null)}),n.exports=function(d){l[u][d]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(r,n,s){var i=r("../internals/object-is-prototype-of"),a=TypeError;n.exports=function(o,u){if(i(u,o))return o;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(r,n,s){var i=r("../internals/is-object"),a=String,o=TypeError;n.exports=function(u){if(i(u))return u;throw new o(a(u)+" is not an object")}},{"../internals/is-object":289}],228:[function(r,n,s){var i=r("../internals/to-indexed-object"),a=r("../internals/to-absolute-index"),o=r("../internals/length-of-array-like"),u=function(l){return function(d,h,f){var p,g=i(d),y=o(g),m=a(f,y);if(l&&h!=h){for(;y>m;)if((p=g[m++])!=p)return!0}else for(;y>m;m++)if((l||m in g)&&g[m]===h)return l||m||0;return!l&&-1}};n.exports={includes:u(!0),indexOf:u(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(r,n,s){var i=r("../internals/function-bind-context"),a=r("../internals/function-uncurry-this"),o=r("../internals/indexed-object"),u=r("../internals/to-object"),l=r("../internals/length-of-array-like"),d=r("../internals/array-species-create"),h=a([].push),f=function(p){var g=p===1,y=p===2,m=p===3,v=p===4,b=p===6,x=p===7,k=p===5||b;return function(T,O,F,A){for(var P,D,V=u(T),B=o(V),C=i(O,F),I=l(B),N=0,w=A||d,_=g?w(T,I):y||x?w(T,0):void 0;I>N;N++)if((k||N in B)&&(D=C(P=B[N],N,V),p))if(g)_[N]=D;else if(D)switch(p){case 3:return!0;case 5:return P;case 6:return N;case 2:h(_,P)}else switch(p){case 4:return!1;case 7:h(_,P)}return b?-1:m||v?v:_}};n.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(r,n,s){var i=r("../internals/to-absolute-index"),a=r("../internals/length-of-array-like"),o=r("../internals/create-property"),u=Array,l=Math.max;n.exports=function(d,h,f){for(var p=a(d),g=i(h,p),y=i(f===void 0?p:f,p),m=u(l(y-g,0)),v=0;g<y;g++,v++)o(m,v,d[g]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(r,n,s){var i=r("../internals/function-uncurry-this");n.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(r,n,s){var i=r("../internals/is-array"),a=r("../internals/is-constructor"),o=r("../internals/is-object"),u=r("../internals/well-known-symbol")("species"),l=Array;n.exports=function(d){var h;return i(d)&&(h=d.constructor,(a(h)&&(h===l||i(h.prototype))||o(h)&&(h=h[u])===null)&&(h=void 0)),h===void 0?l:h}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(r,n,s){var i=r("../internals/array-species-constructor");n.exports=function(a,o){return new(i(a))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(r,n,s){var i=r("../internals/well-known-symbol")("iterator"),a=!1;try{var o=0,u={next:function(){return{done:!!o++}},return:function(){a=!0}};u[i]=function(){return this},Array.from(u,(function(){throw 2}))}catch{}n.exports=function(l,d){try{if(!d&&!a)return!1}catch{return!1}var h=!1;try{var f={};f[i]=function(){return{next:function(){return{done:h=!0}}}},l(f)}catch{}return h}},{"../internals/well-known-symbol":357}],235:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=i({}.toString),o=i("".slice);n.exports=function(u){return o(a(u),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(r,n,s){var i=r("../internals/to-string-tag-support"),a=r("../internals/is-callable"),o=r("../internals/classof-raw"),u=r("../internals/well-known-symbol")("toStringTag"),l=Object,d=o((function(){return arguments})())==="Arguments";n.exports=i?o:function(h){var f,p,g;return h===void 0?"Undefined":h===null?"Null":typeof(p=(function(y,m){try{return y[m]}catch{}})(f=l(h),u))=="string"?p:d?o(f):(g=o(f))==="Object"&&a(f.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(r,n,s){var i=r("../internals/has-own-property"),a=r("../internals/own-keys"),o=r("../internals/object-get-own-property-descriptor"),u=r("../internals/object-define-property");n.exports=function(l,d,h){for(var f=a(d),p=u.f,g=o.f,y=0;y<f.length;y++){var m=f[y];i(l,m)||h&&i(h,m)||p(l,m,g(d,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(r,n,s){var i=r("../internals/well-known-symbol")("match");n.exports=function(a){var o=/./;try{"/./"[a](o)}catch{try{return o[i]=!1,"/./"[a](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(r,n,s){var i=r("../internals/fails");n.exports=!i((function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}))},{"../internals/fails":260}],240:[function(r,n,s){n.exports=function(i,a){return{value:i,done:a}}},{}],241:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/object-define-property"),o=r("../internals/create-property-descriptor");n.exports=i?function(u,l,d){return a.f(u,l,o(1,d))}:function(u,l,d){return u[l]=d,u}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(r,n,s){n.exports=function(i,a){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:a}}},{}],243:[function(r,n,s){var i=r("../internals/to-property-key"),a=r("../internals/object-define-property"),o=r("../internals/create-property-descriptor");n.exports=function(u,l,d){var h=i(l);h in u?a.f(u,h,o(0,d)):u[h]=d}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(r,n,s){var i=r("../internals/make-built-in"),a=r("../internals/object-define-property");n.exports=function(o,u,l){return l.get&&i(l.get,u,{getter:!0}),l.set&&i(l.set,u,{setter:!0}),a.f(o,u,l)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(r,n,s){var i=r("../internals/is-callable"),a=r("../internals/object-define-property"),o=r("../internals/make-built-in"),u=r("../internals/define-global-property");n.exports=function(l,d,h,f){f||(f={});var p=f.enumerable,g=f.name!==void 0?f.name:d;if(i(h)&&o(h,g,f),f.global)p?l[d]=h:u(d,h);else{try{f.unsafe?l[d]&&(p=!0):delete l[d]}catch{}p?l[d]=h:a.f(l,d,{value:h,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return l}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(r,n,s){var i=r("../internals/global"),a=Object.defineProperty;n.exports=function(o,u){try{a(i,o,{value:u,configurable:!0,writable:!0})}catch{i[o]=u}return u}},{"../internals/global":274}],247:[function(r,n,s){var i=r("../internals/fails");n.exports=!i((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(r,n,s){var i=typeof document=="object"&&document.all,a=i===void 0&&i!==void 0;n.exports={all:i,IS_HTMLDDA:a}},{}],249:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/is-object"),o=i.document,u=a(o)&&a(o.createElement);n.exports=function(l){return u?o.createElement(l):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(r,n,s){var i=r("../internals/engine-is-deno"),a=r("../internals/engine-is-node");n.exports=!i&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(r,n,s){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(r,n,s){var i=r("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(r,n,s){var i=r("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/classof-raw");n.exports=a(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(r,n,s){var i=r("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(r,n,s){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(r,n,s){var i,a,o=r("../internals/global"),u=r("../internals/engine-user-agent"),l=o.process,d=o.Deno,h=l&&l.versions||d&&d.version,f=h&&h.v8;f&&(a=(i=f.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!a&&u&&(!(i=u.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=u.match(/Chrome\/(\d+)/))&&(a=+i[1]),n.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(r,n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/object-get-own-property-descriptor").f,o=r("../internals/create-non-enumerable-property"),u=r("../internals/define-built-in"),l=r("../internals/define-global-property"),d=r("../internals/copy-constructor-properties"),h=r("../internals/is-forced");n.exports=function(f,p){var g,y,m,v,b,x=f.target,k=f.global,T=f.stat;if(g=k?i:T?i[x]||l(x,{}):(i[x]||{}).prototype)for(y in p){if(v=p[y],m=f.dontCallGetSet?(b=a(g,y))&&b.value:g[y],!h(k?y:x+(T?".":"#")+y,f.forced)&&m!==void 0){if(typeof v==typeof m)continue;d(v,m)}(f.sham||m&&m.sham)&&o(v,"sham",!0),u(g,y,v,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(r,n,s){n.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(r,n,s){var i=r("../internals/function-bind-native"),a=Function.prototype,o=a.apply,u=a.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(i?u.bind(o):function(){return u.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(r,n,s){var i=r("../internals/function-uncurry-this-clause"),a=r("../internals/a-callable"),o=r("../internals/function-bind-native"),u=i(i.bind);n.exports=function(l,d){return a(l),d===void 0?l:o?u(l,d):function(){return l.apply(d,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(r,n,s){var i=r("../internals/fails");n.exports=!i((function(){var a=function(){}.bind();return typeof a!="function"||a.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(r,n,s){var i=r("../internals/function-bind-native"),a=Function.prototype.call;n.exports=i?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/has-own-property"),o=Function.prototype,u=i&&Object.getOwnPropertyDescriptor,l=a(o,"name"),d=l&&function(){}.name==="something",h=l&&(!i||i&&u(o,"name").configurable);n.exports={EXISTS:l,PROPER:d,CONFIGURABLE:h}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/a-callable");n.exports=function(o,u,l){try{return i(a(Object.getOwnPropertyDescriptor(o,u)[l]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(r,n,s){var i=r("../internals/classof-raw"),a=r("../internals/function-uncurry-this");n.exports=function(o){if(i(o)==="Function")return a(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(r,n,s){var i=r("../internals/function-bind-native"),a=Function.prototype,o=a.call,u=i&&a.bind.bind(o,o);n.exports=i?u:function(l){return function(){return o.apply(l,arguments)}}},{"../internals/function-bind-native":263}],269:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/is-callable"),o=function(u){return a(u)?u:void 0};n.exports=function(u,l){return arguments.length<2?o(i[u]):i[u]&&i[u][l]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(r,n,s){var i=r("../internals/classof"),a=r("../internals/get-method"),o=r("../internals/is-null-or-undefined"),u=r("../internals/iterators"),l=r("../internals/well-known-symbol")("iterator");n.exports=function(d){if(!o(d))return a(d,l)||a(d,"@@iterator")||u[i(d)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(r,n,s){var i=r("../internals/function-call"),a=r("../internals/a-callable"),o=r("../internals/an-object"),u=r("../internals/try-to-string"),l=r("../internals/get-iterator-method"),d=TypeError;n.exports=function(h,f){var p=arguments.length<2?l(h):f;if(a(p))return o(i(p,h));throw new d(u(h)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/is-array"),o=r("../internals/is-callable"),u=r("../internals/classof-raw"),l=r("../internals/to-string"),d=i([].push);n.exports=function(h){if(o(h))return h;if(a(h)){for(var f=h.length,p=[],g=0;g<f;g++){var y=h[g];typeof y=="string"?d(p,y):typeof y!="number"&&u(y)!=="Number"&&u(y)!=="String"||d(p,l(y))}var m=p.length,v=!0;return function(b,x){if(v)return v=!1,x;if(a(this))return x;for(var k=0;k<m;k++)if(p[k]===b)return x}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(r,n,s){var i=r("../internals/a-callable"),a=r("../internals/is-null-or-undefined");n.exports=function(o,u){var l=o[u];return a(l)?void 0:i(l)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(r,n,s){(function(i){(function(){var a=function(o){return o&&o.Math===Math&&o};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof i=="object"&&i)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/to-object"),o=i({}.hasOwnProperty);n.exports=Object.hasOwn||function(u,l){return o(a(u),l)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(r,n,s){n.exports={}},{}],277:[function(r,n,s){n.exports=function(i,a){try{arguments.length===1?console.error(i):console.error(i,a)}catch{}}},{}],278:[function(r,n,s){var i=r("../internals/get-built-in");n.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/fails"),o=r("../internals/document-create-element");n.exports=!i&&!a((function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/fails"),o=r("../internals/classof-raw"),u=Object,l=i("".split);n.exports=a((function(){return!u("z").propertyIsEnumerable(0)}))?function(d){return o(d)==="String"?l(d,""):u(d)}:u},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/is-callable"),o=r("../internals/shared-store"),u=i(Function.toString);a(o.inspectSource)||(o.inspectSource=function(l){return u(l)}),n.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(r,n,s){var i,a,o,u=r("../internals/weak-map-basic-detection"),l=r("../internals/global"),d=r("../internals/is-object"),h=r("../internals/create-non-enumerable-property"),f=r("../internals/has-own-property"),p=r("../internals/shared-store"),g=r("../internals/shared-key"),y=r("../internals/hidden-keys"),m=l.TypeError,v=l.WeakMap;if(u||p.state){var b=p.state||(p.state=new v);b.get=b.get,b.has=b.has,b.set=b.set,i=function(k,T){if(b.has(k))throw new m("Object already initialized");return T.facade=k,b.set(k,T),T},a=function(k){return b.get(k)||{}},o=function(k){return b.has(k)}}else{var x=g("state");y[x]=!0,i=function(k,T){if(f(k,x))throw new m("Object already initialized");return T.facade=k,h(k,x,T),T},a=function(k){return f(k,x)?k[x]:{}},o=function(k){return f(k,x)}}n.exports={set:i,get:a,has:o,enforce:function(k){return o(k)?a(k):i(k,{})},getterFor:function(k){return function(T){var O;if(!d(T)||(O=a(T)).type!==k)throw new m("Incompatible receiver, "+k+" required");return O}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(r,n,s){var i=r("../internals/well-known-symbol"),a=r("../internals/iterators"),o=i("iterator"),u=Array.prototype;n.exports=function(l){return l!==void 0&&(a.Array===l||u[o]===l)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(r,n,s){var i=r("../internals/classof-raw");n.exports=Array.isArray||function(a){return i(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(r,n,s){var i=r("../internals/document-all"),a=i.all;n.exports=i.IS_HTMLDDA?function(o){return typeof o=="function"||o===a}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/fails"),o=r("../internals/is-callable"),u=r("../internals/classof"),l=r("../internals/get-built-in"),d=r("../internals/inspect-source"),h=function(){},f=[],p=l("Reflect","construct"),g=/^\s*(?:class|function)\b/,y=i(g.exec),m=!g.test(h),v=function(x){if(!o(x))return!1;try{return p(h,f,x),!0}catch{return!1}},b=function(x){if(!o(x))return!1;switch(u(x)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!y(g,d(x))}catch{return!0}};b.sham=!0,n.exports=!p||a((function(){var x;return v(v.call)||!v(Object)||!v((function(){x=!0}))||x}))?b:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(r,n,s){var i=r("../internals/fails"),a=r("../internals/is-callable"),o=/#|\.prototype\./,u=function(p,g){var y=d[l(p)];return y===f||y!==h&&(a(g)?i(g):!!g)},l=u.normalize=function(p){return String(p).replace(o,".").toLowerCase()},d=u.data={},h=u.NATIVE="N",f=u.POLYFILL="P";n.exports=u},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(r,n,s){n.exports=function(i){return i==null}},{}],289:[function(r,n,s){var i=r("../internals/is-callable"),a=r("../internals/document-all"),o=a.all;n.exports=a.IS_HTMLDDA?function(u){return typeof u=="object"?u!==null:i(u)||u===o}:function(u){return typeof u=="object"?u!==null:i(u)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(r,n,s){n.exports=!1},{}],291:[function(r,n,s){var i=r("../internals/is-object"),a=r("../internals/classof-raw"),o=r("../internals/well-known-symbol")("match");n.exports=function(u){var l;return i(u)&&((l=u[o])!==void 0?!!l:a(u)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(r,n,s){var i=r("../internals/get-built-in"),a=r("../internals/is-callable"),o=r("../internals/object-is-prototype-of"),u=r("../internals/use-symbol-as-uid"),l=Object;n.exports=u?function(d){return typeof d=="symbol"}:function(d){var h=i("Symbol");return a(h)&&o(h.prototype,l(d))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(r,n,s){var i=r("../internals/function-bind-context"),a=r("../internals/function-call"),o=r("../internals/an-object"),u=r("../internals/try-to-string"),l=r("../internals/is-array-iterator-method"),d=r("../internals/length-of-array-like"),h=r("../internals/object-is-prototype-of"),f=r("../internals/get-iterator"),p=r("../internals/get-iterator-method"),g=r("../internals/iterator-close"),y=TypeError,m=function(b,x){this.stopped=b,this.result=x},v=m.prototype;n.exports=function(b,x,k){var T,O,F,A,P,D,V,B=k&&k.that,C=!(!k||!k.AS_ENTRIES),I=!(!k||!k.IS_RECORD),N=!(!k||!k.IS_ITERATOR),w=!(!k||!k.INTERRUPTED),_=i(x,B),S=function(R){return T&&g(T,"normal",R),new m(!0,R)},j=function(R){return C?(o(R),w?_(R[0],R[1],S):_(R[0],R[1])):w?_(R,S):_(R)};if(I)T=b.iterator;else if(N)T=b;else{if(!(O=p(b)))throw new y(u(b)+" is not iterable");if(l(O)){for(F=0,A=d(b);A>F;F++)if((P=j(b[F]))&&h(v,P))return P;return new m(!1)}T=f(b,O)}for(D=I?b.next:T.next;!(V=a(D,T)).done;){try{P=j(V.value)}catch(R){g(T,"throw",R)}if(typeof P=="object"&&P&&h(v,P))return P}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(r,n,s){var i=r("../internals/function-call"),a=r("../internals/an-object"),o=r("../internals/get-method");n.exports=function(u,l,d){var h,f;a(u);try{if(!(h=o(u,"return"))){if(l==="throw")throw d;return d}h=i(h,u)}catch(p){f=!0,h=p}if(l==="throw")throw d;if(f)throw h;return a(h),d}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(r,n,s){var i=r("../internals/iterators-core").IteratorPrototype,a=r("../internals/object-create"),o=r("../internals/create-property-descriptor"),u=r("../internals/set-to-string-tag"),l=r("../internals/iterators"),d=function(){return this};n.exports=function(h,f,p,g){var y=f+" Iterator";return h.prototype=a(i,{next:o(+!g,p)}),u(h,y,!1,!0),l[y]=d,h}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/function-call"),o=r("../internals/is-pure"),u=r("../internals/function-name"),l=r("../internals/is-callable"),d=r("../internals/iterator-create-constructor"),h=r("../internals/object-get-prototype-of"),f=r("../internals/object-set-prototype-of"),p=r("../internals/set-to-string-tag"),g=r("../internals/create-non-enumerable-property"),y=r("../internals/define-built-in"),m=r("../internals/well-known-symbol"),v=r("../internals/iterators"),b=r("../internals/iterators-core"),x=u.PROPER,k=u.CONFIGURABLE,T=b.IteratorPrototype,O=b.BUGGY_SAFARI_ITERATORS,F=m("iterator"),A=function(){return this};n.exports=function(P,D,V,B,C,I,N){d(V,D,B);var w,_,S,j=function(M){if(M===C&&H)return H;if(!O&&M&&M in U)return U[M];switch(M){case"keys":case"values":case"entries":return function(){return new V(this,M)}}return function(){return new V(this)}},R=D+" Iterator",$=!1,U=P.prototype,q=U[F]||U["@@iterator"]||C&&U[C],H=!O&&q||j(C),Y=D==="Array"&&U.entries||q;if(Y&&(w=h(Y.call(new P)))!==Object.prototype&&w.next&&(o||h(w)===T||(f?f(w,T):l(w[F])||y(w,F,A)),p(w,R,!0,!0),o&&(v[R]=A)),x&&C==="values"&&q&&q.name!=="values"&&(!o&&k?g(U,"name","values"):($=!0,H=function(){return a(q,this)})),C)if(_={values:j("values"),keys:I?H:j("keys"),entries:j("entries")},N)for(S in _)(O||$||!(S in U))&&y(U,S,_[S]);else i({target:D,proto:!0,forced:O||$},_);return o&&!N||U[F]===H||y(U,F,H,{name:C}),v[D]=H,_}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(r,n,s){var i,a,o,u=r("../internals/fails"),l=r("../internals/is-callable"),d=r("../internals/is-object"),h=r("../internals/object-create"),f=r("../internals/object-get-prototype-of"),p=r("../internals/define-built-in"),g=r("../internals/well-known-symbol"),y=r("../internals/is-pure"),m=g("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(a=f(f(o)))!==Object.prototype&&(i=a):v=!0),!d(i)||u((function(){var b={};return i[m].call(b)!==b}))?i={}:y&&(i=h(i)),l(i[m])||p(i,m,(function(){return this})),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(r,n,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(r,n,s){var i=r("../internals/to-length");n.exports=function(a){return i(a.length)}},{"../internals/to-length":343}],300:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/fails"),o=r("../internals/is-callable"),u=r("../internals/has-own-property"),l=r("../internals/descriptors"),d=r("../internals/function-name").CONFIGURABLE,h=r("../internals/inspect-source"),f=r("../internals/internal-state"),p=f.enforce,g=f.get,y=String,m=Object.defineProperty,v=i("".slice),b=i("".replace),x=i([].join),k=l&&!a((function(){return m((function(){}),"length",{value:8}).length!==8})),T=String(String).split("String"),O=n.exports=function(F,A,P){v(y(A),0,7)==="Symbol("&&(A="["+b(y(A),/^Symbol\(([^)]*)\)/,"$1")+"]"),P&&P.getter&&(A="get "+A),P&&P.setter&&(A="set "+A),(!u(F,"name")||d&&F.name!==A)&&(l?m(F,"name",{value:A,configurable:!0}):F.name=A),k&&P&&u(P,"arity")&&F.length!==P.arity&&m(F,"length",{value:P.arity});try{P&&u(P,"constructor")&&P.constructor?l&&m(F,"prototype",{writable:!1}):F.prototype&&(F.prototype=void 0)}catch{}var D=p(F);return u(D,"source")||(D.source=x(T,typeof A=="string"?A:"")),F};Function.prototype.toString=O((function(){return o(this)&&g(this).source||h(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(r,n,s){var i=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(o){var u=+o;return(u>0?a:i)(u)}},{}],302:[function(r,n,s){var i,a,o,u,l,d=r("../internals/global"),h=r("../internals/function-bind-context"),f=r("../internals/object-get-own-property-descriptor").f,p=r("../internals/task").set,g=r("../internals/queue"),y=r("../internals/engine-is-ios"),m=r("../internals/engine-is-ios-pebble"),v=r("../internals/engine-is-webos-webkit"),b=r("../internals/engine-is-node"),x=d.MutationObserver||d.WebKitMutationObserver,k=d.document,T=d.process,O=d.Promise,F=f(d,"queueMicrotask"),A=F&&F.value;if(!A){var P=new g,D=function(){var V,B;for(b&&(V=T.domain)&&V.exit();B=P.get();)try{B()}catch(C){throw P.head&&i(),C}V&&V.enter()};y||b||v||!x||!k?!m&&O&&O.resolve?((u=O.resolve(void 0)).constructor=O,l=h(u.then,u),i=function(){l(D)}):b?i=function(){T.nextTick(D)}:(p=h(p,d),i=function(){p(D)}):(a=!0,o=k.createTextNode(""),new x(D).observe(o,{characterData:!0}),i=function(){o.data=a=!a}),A=function(V){P.head||i(),P.add(V)}}n.exports=A},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(r,n,s){var i=r("../internals/a-callable"),a=TypeError,o=function(u){var l,d;this.promise=new u((function(h,f){if(l!==void 0||d!==void 0)throw new a("Bad Promise constructor");l=h,d=f})),this.resolve=i(l),this.reject=i(d)};n.exports.f=function(u){return new o(u)}},{"../internals/a-callable":222}],304:[function(r,n,s){var i=r("../internals/is-regexp"),a=TypeError;n.exports=function(o){if(i(o))throw new a("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/function-uncurry-this"),o=r("../internals/function-call"),u=r("../internals/fails"),l=r("../internals/object-keys"),d=r("../internals/object-get-own-property-symbols"),h=r("../internals/object-property-is-enumerable"),f=r("../internals/to-object"),p=r("../internals/indexed-object"),g=Object.assign,y=Object.defineProperty,m=a([].concat);n.exports=!g||u((function(){if(i&&g({b:1},g(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},b={},x=Symbol("assign detection");return v[x]=7,"abcdefghijklmnopqrst".split("").forEach((function(k){b[k]=k})),g({},v)[x]!==7||l(g({},b)).join("")!=="abcdefghijklmnopqrst"}))?function(v,b){for(var x=f(v),k=arguments.length,T=1,O=d.f,F=h.f;k>T;)for(var A,P=p(arguments[T++]),D=O?m(l(P),O(P)):l(P),V=D.length,B=0;V>B;)A=D[B++],i&&!o(F,P,A)||(x[A]=P[A]);return x}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(r,n,s){var i,a=r("../internals/an-object"),o=r("../internals/object-define-properties"),u=r("../internals/enum-bug-keys"),l=r("../internals/hidden-keys"),d=r("../internals/html"),h=r("../internals/document-create-element"),f=r("../internals/shared-key"),p=f("IE_PROTO"),g=function(){},y=function(b){return"<script>"+b+"<\/script>"},m=function(b){b.write(y("")),b.close();var x=b.parentWindow.Object;return b=null,x},v=function(){try{i=new ActiveXObject("htmlfile")}catch{}var b,x;v=typeof document<"u"?document.domain&&i?m(i):((x=h("iframe")).style.display="none",d.appendChild(x),x.src="javascript:",(b=x.contentWindow.document).open(),b.write(y("document.F=Object")),b.close(),b.F):m(i);for(var k=u.length;k--;)delete v.prototype[u[k]];return v()};l[p]=!0,n.exports=Object.create||function(b,x){var k;return b!==null?(g.prototype=a(b),k=new g,g.prototype=null,k[p]=b):k=v(),x===void 0?k:o.f(k,x)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/v8-prototype-define-bug"),o=r("../internals/object-define-property"),u=r("../internals/an-object"),l=r("../internals/to-indexed-object"),d=r("../internals/object-keys");s.f=i&&!a?Object.defineProperties:function(h,f){u(h);for(var p,g=l(f),y=d(f),m=y.length,v=0;m>v;)o.f(h,p=y[v++],g[p]);return h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/ie8-dom-define"),o=r("../internals/v8-prototype-define-bug"),u=r("../internals/an-object"),l=r("../internals/to-property-key"),d=TypeError,h=Object.defineProperty,f=Object.getOwnPropertyDescriptor;s.f=i?o?function(p,g,y){if(u(p),g=l(g),u(y),typeof p=="function"&&g==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var m=f(p,g);m&&m.writable&&(p[g]=y.value,y={configurable:"configurable"in y?y.configurable:m.configurable,enumerable:"enumerable"in y?y.enumerable:m.enumerable,writable:!1})}return h(p,g,y)}:h:function(p,g,y){if(u(p),g=l(g),u(y),a)try{return h(p,g,y)}catch{}if("get"in y||"set"in y)throw new d("Accessors not supported");return"value"in y&&(p[g]=y.value),p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/function-call"),o=r("../internals/object-property-is-enumerable"),u=r("../internals/create-property-descriptor"),l=r("../internals/to-indexed-object"),d=r("../internals/to-property-key"),h=r("../internals/has-own-property"),f=r("../internals/ie8-dom-define"),p=Object.getOwnPropertyDescriptor;s.f=i?p:function(g,y){if(g=l(g),y=d(y),f)try{return p(g,y)}catch{}if(h(g,y))return u(!a(o.f,g,y),g[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(r,n,s){var i=r("../internals/classof-raw"),a=r("../internals/to-indexed-object"),o=r("../internals/object-get-own-property-names").f,u=r("../internals/array-slice-simple"),l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(d){return l&&i(d)==="Window"?(function(h){try{return o(h)}catch{return u(l)}})(d):o(a(d))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(r,n,s){var i=r("../internals/object-keys-internal"),a=r("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(o){return i(o,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(r,n,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(r,n,s){var i=r("../internals/has-own-property"),a=r("../internals/is-callable"),o=r("../internals/to-object"),u=r("../internals/shared-key"),l=r("../internals/correct-prototype-getter"),d=u("IE_PROTO"),h=Object,f=h.prototype;n.exports=l?h.getPrototypeOf:function(p){var g=o(p);if(i(g,d))return g[d];var y=g.constructor;return a(y)&&g instanceof y?y.prototype:g instanceof h?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(r,n,s){var i=r("../internals/function-uncurry-this");n.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=r("../internals/has-own-property"),o=r("../internals/to-indexed-object"),u=r("../internals/array-includes").indexOf,l=r("../internals/hidden-keys"),d=i([].push);n.exports=function(h,f){var p,g=o(h),y=0,m=[];for(p in g)!a(l,p)&&a(g,p)&&d(m,p);for(;f.length>y;)a(g,p=f[y++])&&(~u(m,p)||d(m,p));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(r,n,s){var i=r("../internals/object-keys-internal"),a=r("../internals/enum-bug-keys");n.exports=Object.keys||function(o){return i(o,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(r,n,s){var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,o=a&&!i.call({1:2},1);s.f=o?function(u){var l=a(this,u);return!!l&&l.enumerable}:i},{}],318:[function(r,n,s){var i=r("../internals/function-uncurry-this-accessor"),a=r("../internals/an-object"),o=r("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var u,l=!1,d={};try{(u=i(Object.prototype,"__proto__","set"))(d,[]),l=d instanceof Array}catch{}return function(h,f){return a(h),o(f),l?u(h,f):h.__proto__=f,h}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/fails"),o=r("../internals/function-uncurry-this"),u=r("../internals/object-get-prototype-of"),l=r("../internals/object-keys"),d=r("../internals/to-indexed-object"),h=o(r("../internals/object-property-is-enumerable").f),f=o([].push),p=i&&a((function(){var y=Object.create(null);return y[2]=2,!h(y,2)})),g=function(y){return function(m){for(var v,b=d(m),x=l(b),k=p&&u(b)===null,T=x.length,O=0,F=[];T>O;)v=x[O++],i&&!(k?v in b:h(b,v))||f(F,y?[v,b[v]]:b[v]);return F}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(r,n,s){var i=r("../internals/function-call"),a=r("../internals/is-callable"),o=r("../internals/is-object"),u=TypeError;n.exports=function(l,d){var h,f;if(d==="string"&&a(h=l.toString)&&!o(f=i(h,l))||a(h=l.valueOf)&&!o(f=i(h,l))||d!=="string"&&a(h=l.toString)&&!o(f=i(h,l)))return f;throw new u("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(r,n,s){var i=r("../internals/get-built-in"),a=r("../internals/function-uncurry-this"),o=r("../internals/object-get-own-property-names"),u=r("../internals/object-get-own-property-symbols"),l=r("../internals/an-object"),d=a([].concat);n.exports=i("Reflect","ownKeys")||function(h){var f=o.f(l(h)),p=u.f;return p?d(f,p(h)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(r,n,s){var i=r("../internals/global");n.exports=i},{"../internals/global":274}],323:[function(r,n,s){n.exports=function(i){try{return{error:!1,value:i()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/promise-native-constructor"),o=r("../internals/is-callable"),u=r("../internals/is-forced"),l=r("../internals/inspect-source"),d=r("../internals/well-known-symbol"),h=r("../internals/engine-is-browser"),f=r("../internals/engine-is-deno"),p=r("../internals/is-pure"),g=r("../internals/engine-v8-version"),y=a&&a.prototype,m=d("species"),v=!1,b=o(i.PromiseRejectionEvent),x=u("Promise",(function(){var k=l(a),T=k!==String(a);if(!T&&g===66||p&&(!y.catch||!y.finally))return!0;if(!g||g<51||!/native code/.test(k)){var O=new a((function(A){A(1)})),F=function(A){A((function(){}),(function(){}))};if((O.constructor={})[m]=F,!(v=O.then((function(){}))instanceof F))return!0}return!T&&(h||f)&&!b}));n.exports={CONSTRUCTOR:x,REJECTION_EVENT:b,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(r,n,s){var i=r("../internals/global");n.exports=i.Promise},{"../internals/global":274}],326:[function(r,n,s){var i=r("../internals/an-object"),a=r("../internals/is-object"),o=r("../internals/new-promise-capability");n.exports=function(u,l){if(i(u),a(l)&&l.constructor===u)return l;var d=o.f(u);return(0,d.resolve)(l),d.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(r,n,s){var i=r("../internals/promise-native-constructor"),a=r("../internals/check-correctness-of-iteration"),o=r("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=o||!a((function(u){i.all(u).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(r,n,s){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(a){var o={item:a,next:null},u=this.tail;u?u.next=o:this.head=o,this.tail=o},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},n.exports=i},{}],329:[function(r,n,s){var i=r("../internals/is-null-or-undefined"),a=TypeError;n.exports=function(o){if(i(o))throw new a("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(r,n,s){var i=r("../internals/get-built-in"),a=r("../internals/define-built-in-accessor"),o=r("../internals/well-known-symbol"),u=r("../internals/descriptors"),l=o("species");n.exports=function(d){var h=i(d);u&&h&&!h[l]&&a(h,l,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(r,n,s){var i=r("../internals/object-define-property").f,a=r("../internals/has-own-property"),o=r("../internals/well-known-symbol")("toStringTag");n.exports=function(u,l,d){u&&!d&&(u=u.prototype),u&&!a(u,o)&&i(u,o,{configurable:!0,value:l})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(r,n,s){var i=r("../internals/shared"),a=r("../internals/uid"),o=i("keys");n.exports=function(u){return o[u]||(o[u]=a(u))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/define-global-property"),o=i["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(r,n,s){var i=r("../internals/is-pure"),a=r("../internals/shared-store");(n.exports=function(o,u){return a[o]||(a[o]=u!==void 0?u:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(r,n,s){var i=r("../internals/an-object"),a=r("../internals/a-constructor"),o=r("../internals/is-null-or-undefined"),u=r("../internals/well-known-symbol")("species");n.exports=function(l,d){var h,f=i(l).constructor;return f===void 0||o(h=i(f)[u])?d:a(h)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(r,n,s){var i=r("../internals/engine-v8-version"),a=r("../internals/fails"),o=r("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!a((function(){var u=Symbol("symbol detection");return!o(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(r,n,s){var i=r("../internals/function-call"),a=r("../internals/get-built-in"),o=r("../internals/well-known-symbol"),u=r("../internals/define-built-in");n.exports=function(){var l=a("Symbol"),d=l&&l.prototype,h=d&&d.valueOf,f=o("toPrimitive");d&&!d[f]&&u(d,f,(function(p){return i(h,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(r,n,s){var i=r("../internals/symbol-constructor-detection");n.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(r,n,s){var i,a,o,u,l=r("../internals/global"),d=r("../internals/function-apply"),h=r("../internals/function-bind-context"),f=r("../internals/is-callable"),p=r("../internals/has-own-property"),g=r("../internals/fails"),y=r("../internals/html"),m=r("../internals/array-slice"),v=r("../internals/document-create-element"),b=r("../internals/validate-arguments-length"),x=r("../internals/engine-is-ios"),k=r("../internals/engine-is-node"),T=l.setImmediate,O=l.clearImmediate,F=l.process,A=l.Dispatch,P=l.Function,D=l.MessageChannel,V=l.String,B=0,C={};g((function(){i=l.location}));var I=function(S){if(p(C,S)){var j=C[S];delete C[S],j()}},N=function(S){return function(){I(S)}},w=function(S){I(S.data)},_=function(S){l.postMessage(V(S),i.protocol+"//"+i.host)};T&&O||(T=function(S){b(arguments.length,1);var j=f(S)?S:P(S),R=m(arguments,1);return C[++B]=function(){d(j,void 0,R)},a(B),B},O=function(S){delete C[S]},k?a=function(S){F.nextTick(N(S))}:A&&A.now?a=function(S){A.now(N(S))}:D&&!x?(u=(o=new D).port2,o.port1.onmessage=w,a=h(u.postMessage,u)):l.addEventListener&&f(l.postMessage)&&!l.importScripts&&i&&i.protocol!=="file:"&&!g(_)?(a=_,l.addEventListener("message",w,!1)):a="onreadystatechange"in v("script")?function(S){y.appendChild(v("script")).onreadystatechange=function(){y.removeChild(this),I(S)}}:function(S){setTimeout(N(S),0)}),n.exports={set:T,clear:O}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(r,n,s){var i=r("../internals/to-integer-or-infinity"),a=Math.max,o=Math.min;n.exports=function(u,l){var d=i(u);return d<0?a(d+l,0):o(d,l)}},{"../internals/to-integer-or-infinity":342}],341:[function(r,n,s){var i=r("../internals/indexed-object"),a=r("../internals/require-object-coercible");n.exports=function(o){return i(a(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(r,n,s){var i=r("../internals/math-trunc");n.exports=function(a){var o=+a;return o!=o||o===0?0:i(o)}},{"../internals/math-trunc":301}],343:[function(r,n,s){var i=r("../internals/to-integer-or-infinity"),a=Math.min;n.exports=function(o){return o>0?a(i(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(r,n,s){var i=r("../internals/require-object-coercible"),a=Object;n.exports=function(o){return a(i(o))}},{"../internals/require-object-coercible":329}],345:[function(r,n,s){var i=r("../internals/function-call"),a=r("../internals/is-object"),o=r("../internals/is-symbol"),u=r("../internals/get-method"),l=r("../internals/ordinary-to-primitive"),d=r("../internals/well-known-symbol"),h=TypeError,f=d("toPrimitive");n.exports=function(p,g){if(!a(p)||o(p))return p;var y,m=u(p,f);if(m){if(g===void 0&&(g="default"),y=i(m,p,g),!a(y)||o(y))return y;throw new h("Can't convert object to primitive value")}return g===void 0&&(g="number"),l(p,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(r,n,s){var i=r("../internals/to-primitive"),a=r("../internals/is-symbol");n.exports=function(o){var u=i(o,"string");return a(u)?u:u+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(r,n,s){var i={};i[r("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(r,n,s){var i=r("../internals/classof"),a=String;n.exports=function(o){if(i(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(o)}},{"../internals/classof":236}],349:[function(r,n,s){var i=String;n.exports=function(a){try{return i(a)}catch{return"Object"}}},{}],350:[function(r,n,s){var i=r("../internals/function-uncurry-this"),a=0,o=Math.random(),u=i(1 .toString);n.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+u(++a+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(r,n,s){var i=r("../internals/symbol-constructor-detection");n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(r,n,s){var i=r("../internals/descriptors"),a=r("../internals/fails");n.exports=i&&a((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(r,n,s){var i=TypeError;n.exports=function(a,o){if(a<o)throw new i("Not enough arguments");return a}},{}],354:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/is-callable"),o=i.WeakMap;n.exports=a(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(r,n,s){var i=r("../internals/path"),a=r("../internals/has-own-property"),o=r("../internals/well-known-symbol-wrapped"),u=r("../internals/object-define-property").f;n.exports=function(l){var d=i.Symbol||(i.Symbol={});a(d,l)||u(d,l,{value:o.f(l)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(r,n,s){var i=r("../internals/well-known-symbol");s.f=i},{"../internals/well-known-symbol":357}],357:[function(r,n,s){var i=r("../internals/global"),a=r("../internals/shared"),o=r("../internals/has-own-property"),u=r("../internals/uid"),l=r("../internals/symbol-constructor-detection"),d=r("../internals/use-symbol-as-uid"),h=i.Symbol,f=a("wks"),p=d?h.for||h:h&&h.withoutSetter||u;n.exports=function(g){return o(f,g)||(f[g]=l&&o(h,g)?h[g]:p("Symbol."+g)),f[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/array-iteration").findIndex,o=r("../internals/add-to-unscopables"),u=!0;"findIndex"in[]&&Array(1).findIndex((function(){u=!1})),i({target:"Array",proto:!0,forced:u},{findIndex:function(l){return a(this,l,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/array-iteration").find,o=r("../internals/add-to-unscopables"),u=!0;"find"in[]&&Array(1).find((function(){u=!1})),i({target:"Array",proto:!0,forced:u},{find:function(l){return a(this,l,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/array-includes").includes,o=r("../internals/fails"),u=r("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(l){return a(this,l,arguments.length>1?arguments[1]:void 0)}}),u("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(r,n,s){var i=r("../internals/to-indexed-object"),a=r("../internals/add-to-unscopables"),o=r("../internals/iterators"),u=r("../internals/internal-state"),l=r("../internals/object-define-property").f,d=r("../internals/iterator-define"),h=r("../internals/create-iter-result-object"),f=r("../internals/is-pure"),p=r("../internals/descriptors"),g=u.set,y=u.getterFor("Array Iterator");n.exports=d(Array,"Array",(function(v,b){g(this,{type:"Array Iterator",target:i(v),index:0,kind:b})}),(function(){var v=y(this),b=v.target,x=v.kind,k=v.index++;if(!b||k>=b.length)return v.target=void 0,h(void 0,!0);switch(x){case"keys":return h(k,!1);case"values":return h(b[k],!1)}return h([k,b[k]],!1)}),"values");var m=o.Arguments=o.Array;if(a("keys"),a("values"),a("entries"),!f&&p&&m.name!=="values")try{l(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/get-built-in"),o=r("../internals/function-apply"),u=r("../internals/function-call"),l=r("../internals/function-uncurry-this"),d=r("../internals/fails"),h=r("../internals/is-callable"),f=r("../internals/is-symbol"),p=r("../internals/array-slice"),g=r("../internals/get-json-replacer-function"),y=r("../internals/symbol-constructor-detection"),m=String,v=a("JSON","stringify"),b=l(/./.exec),x=l("".charAt),k=l("".charCodeAt),T=l("".replace),O=l(1 .toString),F=/[\uD800-\uDFFF]/g,A=/^[\uD800-\uDBFF]$/,P=/^[\uDC00-\uDFFF]$/,D=!y||d((function(){var I=a("Symbol")("stringify detection");return v([I])!=="[null]"||v({a:I})!=="{}"||v(Object(I))!=="{}"})),V=d((function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'})),B=function(I,N){var w=p(arguments),_=g(N);if(h(_)||I!==void 0&&!f(I))return w[1]=function(S,j){if(h(_)&&(j=u(_,this,m(S),j)),!f(j))return j},o(v,null,w)},C=function(I,N,w){var _=x(w,N-1),S=x(w,N+1);return b(A,I)&&!b(P,S)||b(P,I)&&!b(A,_)?"\\u"+O(k(I,0),16):I};v&&i({target:"JSON",stat:!0,arity:3,forced:D||V},{stringify:function(I,N,w){var _=p(arguments),S=o(D?B:v,null,_);return V&&typeof S=="string"?T(S,F,C):S}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(r,n,s){r("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/symbol-constructor-detection"),o=r("../internals/fails"),u=r("../internals/object-get-own-property-symbols"),l=r("../internals/to-object");i({target:"Object",stat:!0,forced:!a||o((function(){u.f(1)}))},{getOwnPropertySymbols:function(d){var h=u.f;return h?h(l(d)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/to-object"),o=r("../internals/object-keys");i({target:"Object",stat:!0,forced:r("../internals/fails")((function(){o(1)}))},{keys:function(u){return o(a(u))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(o){return a(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/function-call"),o=r("../internals/a-callable"),u=r("../internals/new-promise-capability"),l=r("../internals/perform"),d=r("../internals/iterate");i({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{all:function(h){var f=this,p=u.f(f),g=p.resolve,y=p.reject,m=l((function(){var v=o(f.resolve),b=[],x=0,k=1;d(h,(function(T){var O=x++,F=!1;k++,a(v,f,T).then((function(A){F||(F=!0,b[O]=A,--k||g(b))}),y)})),--k||g(b)}));return m.error&&y(m.value),p.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/is-pure"),o=r("../internals/promise-constructor-detection").CONSTRUCTOR,u=r("../internals/promise-native-constructor"),l=r("../internals/get-built-in"),d=r("../internals/is-callable"),h=r("../internals/define-built-in"),f=u&&u.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(g){return this.then(void 0,g)}}),!a&&d(u)){var p=l("Promise").prototype.catch;f.catch!==p&&h(f,"catch",p,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(r,n,s){var i,a,o,u=r("../internals/export"),l=r("../internals/is-pure"),d=r("../internals/engine-is-node"),h=r("../internals/global"),f=r("../internals/function-call"),p=r("../internals/define-built-in"),g=r("../internals/object-set-prototype-of"),y=r("../internals/set-to-string-tag"),m=r("../internals/set-species"),v=r("../internals/a-callable"),b=r("../internals/is-callable"),x=r("../internals/is-object"),k=r("../internals/an-instance"),T=r("../internals/species-constructor"),O=r("../internals/task").set,F=r("../internals/microtask"),A=r("../internals/host-report-errors"),P=r("../internals/perform"),D=r("../internals/queue"),V=r("../internals/internal-state"),B=r("../internals/promise-native-constructor"),C=r("../internals/promise-constructor-detection"),I=r("../internals/new-promise-capability"),N=C.CONSTRUCTOR,w=C.REJECTION_EVENT,_=C.SUBCLASSING,S=V.getterFor("Promise"),j=V.set,R=B&&B.prototype,$=B,U=R,q=h.TypeError,H=h.document,Y=h.process,M=I.f,K=M,z=!!(H&&H.createEvent&&h.dispatchEvent),L=function(re){var ee;return!(!x(re)||!b(ee=re.then))&&ee},W=function(re,ee){var Z,Q,ie,ce=ee.value,ge=ee.state===1,we=ge?re.ok:re.fail,Te=re.resolve,Ae=re.reject,De=re.domain;try{we?(ge||(ee.rejection===2&&G(ee),ee.rejection=1),we===!0?Z=ce:(De&&De.enter(),Z=we(ce),De&&(De.exit(),ie=!0)),Z===re.promise?Ae(new q("Promise-chain cycle")):(Q=L(Z))?f(Q,Z,Te,Ae):Te(Z)):Ae(ce)}catch(Fe){De&&!ie&&De.exit(),Ae(Fe)}},J=function(re,ee){re.notified||(re.notified=!0,F((function(){for(var Z,Q=re.reactions;Z=Q.get();)W(Z,re);re.notified=!1,ee&&!re.rejection&&ne(re)})))},le=function(re,ee,Z){var Q,ie;z?((Q=H.createEvent("Event")).promise=ee,Q.reason=Z,Q.initEvent(re,!1,!0),h.dispatchEvent(Q)):Q={promise:ee,reason:Z},!w&&(ie=h["on"+re])?ie(Q):re==="unhandledrejection"&&A("Unhandled promise rejection",Z)},ne=function(re){f(O,h,(function(){var ee,Z=re.facade,Q=re.value;if(ue(re)&&(ee=P((function(){d?Y.emit("unhandledRejection",Q,Z):le("unhandledrejection",Z,Q)})),re.rejection=d||ue(re)?2:1,ee.error))throw ee.value}))},ue=function(re){return re.rejection!==1&&!re.parent},G=function(re){f(O,h,(function(){var ee=re.facade;d?Y.emit("rejectionHandled",ee):le("rejectionhandled",ee,re.value)}))},te=function(re,ee,Z){return function(Q){re(ee,Q,Z)}},X=function(re,ee,Z){re.done||(re.done=!0,Z&&(re=Z),re.value=ee,re.state=2,J(re,!0))},ae=function(re,ee,Z){if(!re.done){re.done=!0,Z&&(re=Z);try{if(re.facade===ee)throw new q("Promise can't be resolved itself");var Q=L(ee);Q?F((function(){var ie={done:!1};try{f(Q,ee,te(ae,ie,re),te(X,ie,re))}catch(ce){X(ie,ce,re)}})):(re.value=ee,re.state=1,J(re,!1))}catch(ie){X({done:!1},ie,re)}}};if(N&&(U=($=function(re){k(this,U),v(re),f(i,this);var ee=S(this);try{re(te(ae,ee),te(X,ee))}catch(Z){X(ee,Z)}}).prototype,(i=function(re){j(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new D,rejection:!1,state:0,value:void 0})}).prototype=p(U,"then",(function(re,ee){var Z=S(this),Q=M(T(this,$));return Z.parent=!0,Q.ok=!b(re)||re,Q.fail=b(ee)&&ee,Q.domain=d?Y.domain:void 0,Z.state===0?Z.reactions.add(Q):F((function(){W(Q,Z)})),Q.promise})),a=function(){var re=new i,ee=S(re);this.promise=re,this.resolve=te(ae,ee),this.reject=te(X,ee)},I.f=M=function(re){return re===$||re===void 0?new a(re):K(re)},!l&&b(B)&&R!==Object.prototype)){o=R.then,_||p(R,"then",(function(re,ee){var Z=this;return new $((function(Q,ie){f(o,Z,Q,ie)})).then(re,ee)}),{unsafe:!0});try{delete R.constructor}catch{}g&&g(R,U)}u({global:!0,constructor:!0,wrap:!0,forced:N},{Promise:$}),y($,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/is-pure"),o=r("../internals/promise-native-constructor"),u=r("../internals/fails"),l=r("../internals/get-built-in"),d=r("../internals/is-callable"),h=r("../internals/species-constructor"),f=r("../internals/promise-resolve"),p=r("../internals/define-built-in"),g=o&&o.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&u((function(){g.finally.call({then:function(){}},(function(){}))}))},{finally:function(m){var v=h(this,l("Promise")),b=d(m);return this.then(b?function(x){return f(v,m()).then((function(){return x}))}:m,b?function(x){return f(v,m()).then((function(){throw x}))}:m)}}),!a&&d(o)){var y=l("Promise").prototype.finally;g.finally!==y&&p(g,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(r,n,s){r("../modules/es.promise.constructor"),r("../modules/es.promise.all"),r("../modules/es.promise.catch"),r("../modules/es.promise.race"),r("../modules/es.promise.reject"),r("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/function-call"),o=r("../internals/a-callable"),u=r("../internals/new-promise-capability"),l=r("../internals/perform"),d=r("../internals/iterate");i({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{race:function(h){var f=this,p=u.f(f),g=p.reject,y=l((function(){var m=o(f.resolve);d(h,(function(v){a(m,f,v).then(p.resolve,g)}))}));return y.error&&g(y.value),p.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/function-call"),o=r("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:r("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(u){var l=o.f(this);return a(l.reject,void 0,u),l.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/get-built-in"),o=r("../internals/is-pure"),u=r("../internals/promise-native-constructor"),l=r("../internals/promise-constructor-detection").CONSTRUCTOR,d=r("../internals/promise-resolve"),h=a("Promise"),f=o&&!l;i({target:"Promise",stat:!0,forced:o||l},{resolve:function(p){return d(f&&this===h?u:this,p)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/function-uncurry-this"),o=r("../internals/to-absolute-index"),u=RangeError,l=String.fromCharCode,d=String.fromCodePoint,h=a([].join);i({target:"String",stat:!0,arity:1,forced:!!d&&d.length!==1},{fromCodePoint:function(f){for(var p,g=[],y=arguments.length,m=0;y>m;){if(p=+arguments[m++],o(p,1114111)!==p)throw new u(p+" is not a valid code point");g[m]=p<65536?l(p):l(55296+((p-=65536)>>10),p%1024+56320)}return h(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/function-uncurry-this"),o=r("../internals/not-a-regexp"),u=r("../internals/require-object-coercible"),l=r("../internals/to-string"),d=r("../internals/correct-is-regexp-logic"),h=a("".indexOf);i({target:"String",proto:!0,forced:!d("includes")},{includes:function(f){return!!~h(l(u(this)),l(o(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(r,n,s){r("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/global"),o=r("../internals/function-call"),u=r("../internals/function-uncurry-this"),l=r("../internals/is-pure"),d=r("../internals/descriptors"),h=r("../internals/symbol-constructor-detection"),f=r("../internals/fails"),p=r("../internals/has-own-property"),g=r("../internals/object-is-prototype-of"),y=r("../internals/an-object"),m=r("../internals/to-indexed-object"),v=r("../internals/to-property-key"),b=r("../internals/to-string"),x=r("../internals/create-property-descriptor"),k=r("../internals/object-create"),T=r("../internals/object-keys"),O=r("../internals/object-get-own-property-names"),F=r("../internals/object-get-own-property-names-external"),A=r("../internals/object-get-own-property-symbols"),P=r("../internals/object-get-own-property-descriptor"),D=r("../internals/object-define-property"),V=r("../internals/object-define-properties"),B=r("../internals/object-property-is-enumerable"),C=r("../internals/define-built-in"),I=r("../internals/define-built-in-accessor"),N=r("../internals/shared"),w=r("../internals/shared-key"),_=r("../internals/hidden-keys"),S=r("../internals/uid"),j=r("../internals/well-known-symbol"),R=r("../internals/well-known-symbol-wrapped"),$=r("../internals/well-known-symbol-define"),U=r("../internals/symbol-define-to-primitive"),q=r("../internals/set-to-string-tag"),H=r("../internals/internal-state"),Y=r("../internals/array-iteration").forEach,M=w("hidden"),K=H.set,z=H.getterFor("Symbol"),L=Object.prototype,W=a.Symbol,J=W&&W.prototype,le=a.RangeError,ne=a.TypeError,ue=a.QObject,G=P.f,te=D.f,X=F.f,ae=B.f,re=u([].push),ee=N("symbols"),Z=N("op-symbols"),Q=N("wks"),ie=!ue||!ue.prototype||!ue.prototype.findChild,ce=function(Ve,pe,de){var Pe=G(L,pe);Pe&&delete L[pe],te(Ve,pe,de),Pe&&Ve!==L&&te(L,pe,Pe)},ge=d&&f((function(){return k(te({},"a",{get:function(){return te(this,"a",{value:7}).a}})).a!==7}))?ce:te,we=function(Ve,pe){var de=ee[Ve]=k(J);return K(de,{type:"Symbol",tag:Ve,description:pe}),d||(de.description=pe),de},Te=function(Ve,pe,de){Ve===L&&Te(Z,pe,de),y(Ve);var Pe=v(pe);return y(de),p(ee,Pe)?(de.enumerable?(p(Ve,M)&&Ve[M][Pe]&&(Ve[M][Pe]=!1),de=k(de,{enumerable:x(0,!1)})):(p(Ve,M)||te(Ve,M,x(1,{})),Ve[M][Pe]=!0),ge(Ve,Pe,de)):te(Ve,Pe,de)},Ae=function(Ve,pe){y(Ve);var de=m(pe),Pe=T(de).concat(qe(de));return Y(Pe,(function($e){d&&!o(De,de,$e)||Te(Ve,$e,de[$e])})),Ve},De=function(Ve){var pe=v(Ve),de=o(ae,this,pe);return!(this===L&&p(ee,pe)&&!p(Z,pe))&&(!(de||!p(this,pe)||!p(ee,pe)||p(this,M)&&this[M][pe])||de)},Fe=function(Ve,pe){var de=m(Ve),Pe=v(pe);if(de!==L||!p(ee,Pe)||p(Z,Pe)){var $e=G(de,Pe);return!$e||!p(ee,Pe)||p(de,M)&&de[M][Pe]||($e.enumerable=!0),$e}},rt=function(Ve){var pe=X(m(Ve)),de=[];return Y(pe,(function(Pe){p(ee,Pe)||p(_,Pe)||re(de,Pe)})),de},qe=function(Ve){var pe=Ve===L,de=X(pe?Z:m(Ve)),Pe=[];return Y(de,(function($e){!p(ee,$e)||pe&&!p(L,$e)||re(Pe,ee[$e])})),Pe};h||(C(J=(W=function(){if(g(J,this))throw new ne("Symbol is not a constructor");var Ve=arguments.length&&arguments[0]!==void 0?b(arguments[0]):void 0,pe=S(Ve),de=function(Pe){this===L&&o(de,Z,Pe),p(this,M)&&p(this[M],pe)&&(this[M][pe]=!1);var $e=x(1,Pe);try{ge(this,pe,$e)}catch(yt){if(!(yt instanceof le))throw yt;ce(this,pe,$e)}};return d&&ie&&ge(L,pe,{configurable:!0,set:de}),we(pe,Ve)}).prototype,"toString",(function(){return z(this).tag})),C(W,"withoutSetter",(function(Ve){return we(S(Ve),Ve)})),B.f=De,D.f=Te,V.f=Ae,P.f=Fe,O.f=F.f=rt,A.f=qe,R.f=function(Ve){return we(j(Ve),Ve)},d&&(I(J,"description",{configurable:!0,get:function(){return z(this).description}}),l||C(L,"propertyIsEnumerable",De,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!h,sham:!h},{Symbol:W}),Y(T(Q),(function(Ve){$(Ve)})),i({target:"Symbol",stat:!0,forced:!h},{useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),i({target:"Object",stat:!0,forced:!h,sham:!d},{create:function(Ve,pe){return pe===void 0?k(Ve):Ae(k(Ve),pe)},defineProperty:Te,defineProperties:Ae,getOwnPropertyDescriptor:Fe}),i({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:rt}),U(),q(W,"Symbol"),_[M]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/get-built-in"),o=r("../internals/has-own-property"),u=r("../internals/to-string"),l=r("../internals/shared"),d=r("../internals/symbol-registry-detection"),h=l("string-to-symbol-registry"),f=l("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!d},{for:function(p){var g=u(p);if(o(h,g))return h[g];var y=a("Symbol")(g);return h[g]=y,f[y]=g,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(r,n,s){r("../modules/es.symbol.constructor"),r("../modules/es.symbol.for"),r("../modules/es.symbol.key-for"),r("../modules/es.json.stringify"),r("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(r,n,s){var i=r("../internals/export"),a=r("../internals/has-own-property"),o=r("../internals/is-symbol"),u=r("../internals/try-to-string"),l=r("../internals/shared"),d=r("../internals/symbol-registry-detection"),h=l("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!d},{keyFor:function(f){if(!o(f))throw new TypeError(u(f)+" is not a symbol");if(a(h,f))return h[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(r,n,s){function i(a){return Object.prototype.toString.call(a)}s.isArray=function(a){return Array.isArray?Array.isArray(a):i(a)==="[object Array]"},s.isBoolean=function(a){return typeof a=="boolean"},s.isNull=function(a){return a===null},s.isNullOrUndefined=function(a){return a==null},s.isNumber=function(a){return typeof a=="number"},s.isString=function(a){return typeof a=="string"},s.isSymbol=function(a){return typeof a=="symbol"},s.isUndefined=function(a){return a===void 0},s.isRegExp=function(a){return i(a)==="[object RegExp]"},s.isObject=function(a){return typeof a=="object"&&a!==null},s.isDate=function(a){return i(a)==="[object Date]"},s.isError=function(a){return i(a)==="[object Error]"||a instanceof Error},s.isFunction=function(a){return typeof a=="function"},s.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},s.isBuffer=r("buffer").Buffer.isBuffer},{buffer:220}],384:[function(r,n,s){(function(i){(function(){var a=r("elliptic"),o=r("bn.js");n.exports=function(h){return new l(h)};var u={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function l(h){this.curveType=u[h],this.curveType||(this.curveType={name:h}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function d(h,f,p){Array.isArray(h)||(h=h.toArray());var g=new i(h);if(p&&g.length<p){var y=new i(p-g.length);y.fill(0),g=i.concat([y,g])}return f?g.toString(f):g}u.p224=u.secp224r1,u.p256=u.secp256r1=u.prime256v1,u.p192=u.secp192r1=u.prime192v1,u.p384=u.secp384r1,u.p521=u.secp521r1,l.prototype.generateKeys=function(h,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,f)},l.prototype.computeSecret=function(h,f,p){return f=f||"utf8",i.isBuffer(h)||(h=new i(h,f)),d(this.curve.keyFromPublic(h).getPublic().mul(this.keys.getPrivate()).getX(),p,this.curveType.byteLength)},l.prototype.getPublicKey=function(h,f){var p=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(p[p.length-1]%2?p[0]=7:p[0]=6),d(p,h)},l.prototype.getPrivateKey=function(h){return d(this.keys.getPrivate(),h)},l.prototype.setPublicKey=function(h,f){return f=f||"utf8",i.isBuffer(h)||(h=new i(h,f)),this.keys._importPublic(h),this},l.prototype.setPrivateKey=function(h,f){f=f||"utf8",i.isBuffer(h)||(h=new i(h,f));var p=new o(h);return p=p.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(p),this}}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(r,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(r,n,s){var i=r("inherits"),a=r("md5.js"),o=r("ripemd160"),u=r("sha.js"),l=r("cipher-base");function d(h){l.call(this,"digest"),this._hash=h}i(d,l),d.prototype._update=function(h){this._hash.update(h)},d.prototype._final=function(){return this._hash.digest()},n.exports=function(h){return(h=h.toLowerCase())==="md5"?new a:h==="rmd160"||h==="ripemd160"?new o:new d(u(h))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(r,n,s){var i=r("md5.js");n.exports=function(a){return new i().update(a).digest()}},{"md5.js":450}],388:[function(r,n,s){var i=r("inherits"),a=r("./legacy"),o=r("cipher-base"),u=r("safe-buffer").Buffer,l=r("create-hash/md5"),d=r("ripemd160"),h=r("sha.js"),f=u.alloc(128);function p(g,y){o.call(this,"digest"),typeof y=="string"&&(y=u.from(y));var m=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=y,y.length>m?y=(g==="rmd160"?new d:h(g)).update(y).digest():y.length<m&&(y=u.concat([y,f],m));for(var v=this._ipad=u.allocUnsafe(m),b=this._opad=u.allocUnsafe(m),x=0;x<m;x++)v[x]=54^y[x],b[x]=92^y[x];this._hash=g==="rmd160"?new d:h(g),this._hash.update(v)}i(p,o),p.prototype._update=function(g){this._hash.update(g)},p.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new d:h(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,y){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new p("rmd160",y):g==="md5"?new a(l,y):new p(g,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(r,n,s){var i=r("inherits"),a=r("safe-buffer").Buffer,o=r("cipher-base"),u=a.alloc(128);function l(d,h){o.call(this,"digest"),typeof h=="string"&&(h=a.from(h)),this._alg=d,this._key=h,h.length>64?h=d(h):h.length<64&&(h=a.concat([h,u],64));for(var f=this._ipad=a.allocUnsafe(64),p=this._opad=a.allocUnsafe(64),g=0;g<64;g++)f[g]=54^h[g],p[g]=92^h[g];this._hash=[f]}i(l,o),l.prototype._update=function(d){this._hash.push(d)},l.prototype._final=function(){var d=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,d]))},n.exports=l},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(r,n,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=r("randombytes"),s.createHash=s.Hash=r("create-hash"),s.createHmac=s.Hmac=r("create-hmac");var i=r("browserify-sign/algos"),a=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);s.getHashes=function(){return o};var u=r("pbkdf2");s.pbkdf2=u.pbkdf2,s.pbkdf2Sync=u.pbkdf2Sync;var l=r("browserify-cipher");s.Cipher=l.Cipher,s.createCipher=l.createCipher,s.Cipheriv=l.Cipheriv,s.createCipheriv=l.createCipheriv,s.Decipher=l.Decipher,s.createDecipher=l.createDecipher,s.Decipheriv=l.Decipheriv,s.createDecipheriv=l.createDecipheriv,s.getCiphers=l.getCiphers,s.listCiphers=l.listCiphers;var d=r("diffie-hellman");s.DiffieHellmanGroup=d.DiffieHellmanGroup,s.createDiffieHellmanGroup=d.createDiffieHellmanGroup,s.getDiffieHellman=d.getDiffieHellman,s.createDiffieHellman=d.createDiffieHellman,s.DiffieHellman=d.DiffieHellman;var h=r("browserify-sign");s.createSign=h.createSign,s.Sign=h.Sign,s.createVerify=h.createVerify,s.Verify=h.Verify,s.createECDH=r("create-ecdh");var f=r("public-encrypt");s.publicEncrypt=f.publicEncrypt,s.privateEncrypt=f.privateEncrypt,s.publicDecrypt=f.publicDecrypt,s.privateDecrypt=f.privateDecrypt;var p=r("randomfill");s.randomFill=p.randomFill,s.randomFillSync=p.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(r,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=a()})(void 0,(function(){var i=6e4,a=36e5,o="millisecond",u="second",l="minute",d="hour",h="day",f="week",p="month",g="quarter",y="year",m="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var _=["th","st","nd","rd"],S=w%100;return"["+w+(_[(S-20)%10]||_[S]||_[0])+"]"}},T=function(w,_,S){var j=String(w);return!j||j.length>=_?w:""+Array(_+1-j.length).join(S)+w},O={s:T,z:function(w){var _=-w.utcOffset(),S=Math.abs(_),j=Math.floor(S/60),R=S%60;return(_<=0?"+":"-")+T(j,2,"0")+":"+T(R,2,"0")},m:function w(_,S){if(_.date()<S.date())return-w(S,_);var j=12*(S.year()-_.year())+(S.month()-_.month()),R=_.clone().add(j,p),$=S-R<0,U=_.clone().add(j+($?-1:1),p);return+(-(j+(S-R)/($?R-U:U-R))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:p,y,w:f,d:h,D:m,h:d,m:l,s:u,ms:o,Q:g}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},F="en",A={};A[F]=k;var P="$isDayjsObject",D=function(w){return w instanceof I||!(!w||!w[P])},V=function w(_,S,j){var R;if(!_)return F;if(typeof _=="string"){var $=_.toLowerCase();A[$]&&(R=$),S&&(A[$]=S,R=$);var U=_.split("-");if(!R&&U.length>1)return w(U[0])}else{var q=_.name;A[q]=_,R=q}return!j&&R&&(F=R),R||!j&&F},B=function(w,_){if(D(w))return w.clone();var S=typeof _=="object"?_:{};return S.date=w,S.args=arguments,new I(S)},C=O;C.l=V,C.i=D,C.w=function(w,_){return B(w,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var I=(function(){function w(S){this.$L=V(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[P]=!0}var _=w.prototype;return _.parse=function(S){this.$d=(function(j){var R=j.date,$=j.utc;if(R===null)return new Date(NaN);if(C.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var U=R.match(b);if(U){var q=U[2]-1||0,H=(U[7]||"0").substring(0,3);return $?new Date(Date.UTC(U[1],q,U[3]||1,U[4]||0,U[5]||0,U[6]||0,H)):new Date(U[1],q,U[3]||1,U[4]||0,U[5]||0,U[6]||0,H)}}return new Date(R)})(S),this.init()},_.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},_.$utils=function(){return C},_.isValid=function(){return this.$d.toString()!==v},_.isSame=function(S,j){var R=B(S);return this.startOf(j)<=R&&R<=this.endOf(j)},_.isAfter=function(S,j){return B(S)<this.startOf(j)},_.isBefore=function(S,j){return this.endOf(j)<B(S)},_.$g=function(S,j,R){return C.u(S)?this[j]:this.set(R,S)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(S,j){var R=this,$=!!C.u(j)||j,U=C.p(S),q=function(J,le){var ne=C.w(R.$u?Date.UTC(R.$y,le,J):new Date(R.$y,le,J),R);return $?ne:ne.endOf(h)},H=function(J,le){return C.w(R.toDate()[J].apply(R.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(le)),R)},Y=this.$W,M=this.$M,K=this.$D,z="set"+(this.$u?"UTC":"");switch(U){case y:return $?q(1,0):q(31,11);case p:return $?q(1,M):q(0,M+1);case f:var L=this.$locale().weekStart||0,W=(Y<L?Y+7:Y)-L;return q($?K-W:K+(6-W),M);case h:case m:return H(z+"Hours",0);case d:return H(z+"Minutes",1);case l:return H(z+"Seconds",2);case u:return H(z+"Milliseconds",3);default:return this.clone()}},_.endOf=function(S){return this.startOf(S,!1)},_.$set=function(S,j){var R,$=C.p(S),U="set"+(this.$u?"UTC":""),q=(R={},R[h]=U+"Date",R[m]=U+"Date",R[p]=U+"Month",R[y]=U+"FullYear",R[d]=U+"Hours",R[l]=U+"Minutes",R[u]=U+"Seconds",R[o]=U+"Milliseconds",R)[$],H=$===h?this.$D+(j-this.$W):j;if($===p||$===y){var Y=this.clone().set(m,1);Y.$d[q](H),Y.init(),this.$d=Y.set(m,Math.min(this.$D,Y.daysInMonth())).$d}else q&&this.$d[q](H);return this.init(),this},_.set=function(S,j){return this.clone().$set(S,j)},_.get=function(S){return this[C.p(S)]()},_.add=function(S,j){var R,$=this;S=Number(S);var U=C.p(j),q=function(M){var K=B($);return C.w(K.date(K.date()+Math.round(M*S)),$)};if(U===p)return this.set(p,this.$M+S);if(U===y)return this.set(y,this.$y+S);if(U===h)return q(1);if(U===f)return q(7);var H=(R={},R[l]=i,R[d]=a,R[u]=1e3,R)[U]||1,Y=this.$d.getTime()+S*H;return C.w(Y,this)},_.subtract=function(S,j){return this.add(-1*S,j)},_.format=function(S){var j=this,R=this.$locale();if(!this.isValid())return R.invalidDate||v;var $=S||"YYYY-MM-DDTHH:mm:ssZ",U=C.z(this),q=this.$H,H=this.$m,Y=this.$M,M=R.weekdays,K=R.months,z=R.meridiem,L=function(le,ne,ue,G){return le&&(le[ne]||le(j,$))||ue[ne].slice(0,G)},W=function(le){return C.s(q%12||12,le,"0")},J=z||function(le,ne,ue){var G=le<12?"AM":"PM";return ue?G.toLowerCase():G};return $.replace(x,(function(le,ne){return ne||(function(ue){switch(ue){case"YY":return String(j.$y).slice(-2);case"YYYY":return C.s(j.$y,4,"0");case"M":return Y+1;case"MM":return C.s(Y+1,2,"0");case"MMM":return L(R.monthsShort,Y,K,3);case"MMMM":return L(K,Y);case"D":return j.$D;case"DD":return C.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return L(R.weekdaysMin,j.$W,M,2);case"ddd":return L(R.weekdaysShort,j.$W,M,3);case"dddd":return M[j.$W];case"H":return String(q);case"HH":return C.s(q,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return J(q,H,!0);case"A":return J(q,H,!1);case"m":return String(H);case"mm":return C.s(H,2,"0");case"s":return String(j.$s);case"ss":return C.s(j.$s,2,"0");case"SSS":return C.s(j.$ms,3,"0");case"Z":return U}return null})(le)||U.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(S,j,R){var $,U=this,q=C.p(j),H=B(S),Y=(H.utcOffset()-this.utcOffset())*i,M=this-H,K=function(){return C.m(U,H)};switch(q){case y:$=K()/12;break;case p:$=K();break;case g:$=K()/3;break;case f:$=(M-Y)/6048e5;break;case h:$=(M-Y)/864e5;break;case d:$=M/a;break;case l:$=M/i;break;case u:$=M/1e3;break;default:$=M}return R?$:C.a($)},_.daysInMonth=function(){return this.endOf(p).$D},_.$locale=function(){return A[this.$L]},_.locale=function(S,j){if(!S)return this.$L;var R=this.clone(),$=V(S,j,!0);return $&&(R.$L=$),R},_.clone=function(){return C.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},w})(),N=I.prototype;return B.prototype=N,[["$ms",o],["$s",u],["$m",l],["$H",d],["$W",h],["$M",p],["$y",y],["$D",m]].forEach((function(w){N[w[1]]=function(_){return this.$g(_,w[0],w[1])}})),B.extend=function(w,_){return w.$i||(w(_,I,B),w.$i=!0),B},B.locale=V,B.isDayjs=D,B.unix=function(w){return B(1e3*w)},B.en=A[F],B.Ls=A,B.p={},B}))},{}],392:[function(r,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=a()})(void 0,(function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,u=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,d={},h=function(b){return(b=+b)+(b>68?1900:2e3)},f=function(b){return function(x){this[b]=+x}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=(function(x){if(!x||x==="Z")return 0;var k=x.match(/([+-]|\d\d)/g),T=60*k[1]+(+k[2]||0);return T===0?0:k[0]==="+"?-T:T})(b)}],g=function(b){var x=d[b];return x&&(x.indexOf?x:x.s.concat(x.f))},y=function(b,x){var k,T=d.meridiem;if(T){for(var O=1;O<=24;O+=1)if(b.indexOf(T(O,0,x))>-1){k=O>12;break}}else k=b===(x?"pm":"PM");return k},m={A:[l,function(b){this.afternoon=y(b,!1)}],a:[l,function(b){this.afternoon=y(b,!0)}],S:[/\d/,function(b){this.milliseconds=100*+b}],SS:[o,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[u,f("seconds")],ss:[u,f("seconds")],m:[u,f("minutes")],mm:[u,f("minutes")],H:[u,f("hours")],h:[u,f("hours")],HH:[u,f("hours")],hh:[u,f("hours")],D:[u,f("day")],DD:[o,f("day")],Do:[l,function(b){var x=d.ordinal,k=b.match(/\d+/);if(this.day=k[0],x)for(var T=1;T<=31;T+=1)x(T).replace(/\[|\]/g,"")===b&&(this.day=T)}],M:[u,f("month")],MM:[o,f("month")],MMM:[l,function(b){var x=g("months"),k=(g("monthsShort")||x.map((function(T){return T.slice(0,3)}))).indexOf(b)+1;if(k<1)throw new Error;this.month=k%12||k}],MMMM:[l,function(b){var x=g("months").indexOf(b)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,f("year")],YY:[o,function(b){this.year=h(b)}],YYYY:[/\d{4}/,f("year")],Z:p,ZZ:p};function v(b){var x,k;x=b,k=d&&d.formats;for(var T=(b=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(B,C,I){var N=I&&I.toUpperCase();return C||k[I]||i[I]||k[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(w,_,S){return _||S.slice(1)}))}))).match(a),O=T.length,F=0;F<O;F+=1){var A=T[F],P=m[A],D=P&&P[0],V=P&&P[1];T[F]=V?{regex:D,parser:V}:A.replace(/^\[|\]$/g,"")}return function(B){for(var C={},I=0,N=0;I<O;I+=1){var w=T[I];if(typeof w=="string")N+=w.length;else{var _=w.regex,S=w.parser,j=B.slice(N),R=_.exec(j)[0];S.call(C,R),B=B.replace(R,"")}}return(function($){var U=$.afternoon;if(U!==void 0){var q=$.hours;U?q<12&&($.hours+=12):q===12&&($.hours=0),delete $.afternoon}})(C),C}}return function(b,x,k){k.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(h=b.parseTwoDigitYear);var T=x.prototype,O=T.parse;T.parse=function(F){var A=F.date,P=F.utc,D=F.args;this.$u=P;var V=D[1];if(typeof V=="string"){var B=D[2]===!0,C=D[3]===!0,I=B||C,N=D[2];C&&(N=D[2]),d=this.$locale(),!B&&N&&(d=k.Ls[N]),this.$d=(function(j,R,$){try{if(["x","X"].indexOf(R)>-1)return new Date((R==="X"?1e3:1)*j);var U=v(R)(j),q=U.year,H=U.month,Y=U.day,M=U.hours,K=U.minutes,z=U.seconds,L=U.milliseconds,W=U.zone,J=new Date,le=Y||(q||H?1:J.getDate()),ne=q||J.getFullYear(),ue=0;q&&!H||(ue=H>0?H-1:J.getMonth());var G=M||0,te=K||0,X=z||0,ae=L||0;return W?new Date(Date.UTC(ne,ue,le,G,te,X,ae+60*W.offset*1e3)):$?new Date(Date.UTC(ne,ue,le,G,te,X,ae)):new Date(ne,ue,le,G,te,X,ae)}catch{return new Date("")}})(A,V,P),this.init(),N&&N!==!0&&(this.$L=this.locale(N).$L),I&&A!=this.format(V)&&(this.$d=new Date("")),d={}}else if(V instanceof Array)for(var w=V.length,_=1;_<=w;_+=1){D[1]=V[_-1];var S=k.apply(this,D);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}_===w&&(this.$d=new Date(""))}else O.call(this,F)}}}))},{}],393:[function(r,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=a()})(void 0,(function(){var i="minute",a=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(u,l,d){var h=l.prototype;d.utc=function(b){var x={date:b,utc:!0,args:arguments};return new l(x)},h.utc=function(b){var x=d(this.toDate(),{locale:this.$L,utc:!0});return b?x.add(this.utcOffset(),i):x},h.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var f=h.parse;h.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),f.call(this,b)};var p=h.init;h.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else p.call(this)};var g=h.utcOffset;h.utcOffset=function(b,x){var k=this.$utils().u;if(k(b))return this.$u?0:k(this.$offset)?g.call(this):this.$offset;if(typeof b=="string"&&(b=(function(A){A===void 0&&(A="");var P=A.match(a);if(!P)return null;var D=(""+P[0]).match(o)||["-",0,0],V=D[0],B=60*+D[1]+ +D[2];return B===0?0:V==="+"?B:-B})(b))===null)return this;var T=Math.abs(b)<=16?60*b:b,O=this;if(x)return O.$offset=T,O.$u=b===0,O;if(b!==0){var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(O=this.local().add(T+F,i)).$offset=T,O.$x.$localOffset=F}else O=this.utc();return O};var y=h.format;h.format=function(b){var x=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,x)},h.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*b},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var m=h.toDate;h.toDate=function(b){return b==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=h.diff;h.diff=function(b,x,k){if(b&&this.$u===b.$u)return v.call(this,b,x,k);var T=this.local(),O=d(b).local();return v.call(T,O,x,k)}}}))},{}],394:[function(r,n,s){s.utils=r("./des/utils"),s.Cipher=r("./des/cipher"),s.DES=r("./des/des"),s.CBC=r("./des/cbc"),s.EDE=r("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(r,n,s){var i=r("minimalistic-assert"),a=r("inherits"),o={};function u(l){i.equal(l.length,8,"Invalid IV length"),this.iv=new Array(8);for(var d=0;d<this.iv.length;d++)this.iv[d]=l[d]}s.instantiate=function(l){function d(g){l.call(this,g),this._cbcInit()}a(d,l);for(var h=Object.keys(o),f=0;f<h.length;f++){var p=h[f];d.prototype[p]=o[p]}return d.create=function(g){return new d(g)},d},o._cbcInit=function(){var l=new u(this.options.iv);this._cbcState=l},o._update=function(l,d,h,f){var p=this._cbcState,g=this.constructor.super_.prototype,y=p.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)y[m]^=l[d+m];for(g._update.call(this,y,0,h,f),m=0;m<this.blockSize;m++)y[m]=h[f+m]}else{for(g._update.call(this,l,d,h,f),m=0;m<this.blockSize;m++)h[f+m]^=y[m];for(m=0;m<this.blockSize;m++)y[m]=l[d+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(r,n,s){var i=r("minimalistic-assert");function a(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}n.exports=a,a.prototype._init=function(){},a.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},a.prototype._buffer=function(o,u){for(var l=Math.min(this.buffer.length-this.bufferOff,o.length-u),d=0;d<l;d++)this.buffer[this.bufferOff+d]=o[u+d];return this.bufferOff+=l,l},a.prototype._flushBuffer=function(o,u){return this._update(this.buffer,0,o,u),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(o){var u=0,l=0,d=(this.bufferOff+o.length)/this.blockSize|0,h=new Array(d*this.blockSize);this.bufferOff!==0&&(u+=this._buffer(o,u),this.bufferOff===this.buffer.length&&(l+=this._flushBuffer(h,l)));for(var f=o.length-(o.length-u)%this.blockSize;u<f;u+=this.blockSize)this._update(o,u,h,l),l+=this.blockSize;for(;u<o.length;u++,this.bufferOff++)this.buffer[this.bufferOff]=o[u];return h},a.prototype._updateDecrypt=function(o){for(var u=0,l=0,d=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,h=new Array(d*this.blockSize);d>0;d--)u+=this._buffer(o,u),l+=this._flushBuffer(h,l);return u+=this._buffer(o,u),h},a.prototype.final=function(o){var u,l;return o&&(u=this.update(o)),l=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),u?u.concat(l):l},a.prototype._pad=function(o,u){if(u===0)return!1;for(;u<o.length;)o[u++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},a.prototype._unpad=function(o){return o},a.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(r,n,s){var i=r("minimalistic-assert"),a=r("inherits"),o=r("./utils"),u=r("./cipher");function l(){this.tmp=new Array(2),this.keys=null}function d(f){u.call(this,f);var p=new l;this._desState=p,this.deriveKeys(p,f.key)}a(d,u),n.exports=d,d.create=function(f){return new d(f)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(f,p){f.keys=new Array(32),i.equal(p.length,this.blockSize,"Invalid key length");var g=o.readUInt32BE(p,0),y=o.readUInt32BE(p,4);o.pc1(g,y,f.tmp,0),g=f.tmp[0],y=f.tmp[1];for(var m=0;m<f.keys.length;m+=2){var v=h[m>>>1];g=o.r28shl(g,v),y=o.r28shl(y,v),o.pc2(g,y,f.keys,m)}},d.prototype._update=function(f,p,g,y){var m=this._desState,v=o.readUInt32BE(f,p),b=o.readUInt32BE(f,p+4);o.ip(v,b,m.tmp,0),v=m.tmp[0],b=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,b,m.tmp,0):this._decrypt(m,v,b,m.tmp,0),v=m.tmp[0],b=m.tmp[1],o.writeUInt32BE(g,v,y),o.writeUInt32BE(g,b,y+4)},d.prototype._pad=function(f,p){if(this.padding===!1)return!1;for(var g=f.length-p,y=p;y<f.length;y++)f[y]=g;return!0},d.prototype._unpad=function(f){if(this.padding===!1)return f;for(var p=f[f.length-1],g=f.length-p;g<f.length;g++)i.equal(f[g],p);return f.slice(0,f.length-p)},d.prototype._encrypt=function(f,p,g,y,m){for(var v=p,b=g,x=0;x<f.keys.length;x+=2){var k=f.keys[x],T=f.keys[x+1];o.expand(b,f.tmp,0),k^=f.tmp[0],T^=f.tmp[1];var O=o.substitute(k,T),F=b;b=(v^o.permute(O))>>>0,v=F}o.rip(b,v,y,m)},d.prototype._decrypt=function(f,p,g,y,m){for(var v=g,b=p,x=f.keys.length-2;x>=0;x-=2){var k=f.keys[x],T=f.keys[x+1];o.expand(v,f.tmp,0),k^=f.tmp[0],T^=f.tmp[1];var O=o.substitute(k,T),F=v;v=(b^o.permute(O))>>>0,b=F}o.rip(v,b,y,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(r,n,s){var i=r("minimalistic-assert"),a=r("inherits"),o=r("./cipher"),u=r("./des");function l(h,f){i.equal(f.length,24,"Invalid key length");var p=f.slice(0,8),g=f.slice(8,16),y=f.slice(16,24);this.ciphers=h==="encrypt"?[u.create({type:"encrypt",key:p}),u.create({type:"decrypt",key:g}),u.create({type:"encrypt",key:y})]:[u.create({type:"decrypt",key:y}),u.create({type:"encrypt",key:g}),u.create({type:"decrypt",key:p})]}function d(h){o.call(this,h);var f=new l(this.type,this.options.key);this._edeState=f}a(d,o),n.exports=d,d.create=function(h){return new d(h)},d.prototype._update=function(h,f,p,g){var y=this._edeState;y.ciphers[0]._update(h,f,p,g),y.ciphers[1]._update(p,g,p,g),y.ciphers[2]._update(p,g,p,g)},d.prototype._pad=u.prototype._pad,d.prototype._unpad=u.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(r,n,s){s.readUInt32BE=function(u,l){return(u[0+l]<<24|u[1+l]<<16|u[2+l]<<8|u[3+l])>>>0},s.writeUInt32BE=function(u,l,d){u[0+d]=l>>>24,u[1+d]=l>>>16&255,u[2+d]=l>>>8&255,u[3+d]=255&l},s.ip=function(u,l,d,h){for(var f=0,p=0,g=6;g>=0;g-=2){for(var y=0;y<=24;y+=8)f<<=1,f|=l>>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>>y+g&1}for(g=6;g>=0;g-=2){for(y=1;y<=25;y+=8)p<<=1,p|=l>>>y+g&1;for(y=1;y<=25;y+=8)p<<=1,p|=u>>>y+g&1}d[h+0]=f>>>0,d[h+1]=p>>>0},s.rip=function(u,l,d,h){for(var f=0,p=0,g=0;g<4;g++)for(var y=24;y>=0;y-=8)f<<=1,f|=l>>>y+g&1,f<<=1,f|=u>>>y+g&1;for(g=4;g<8;g++)for(y=24;y>=0;y-=8)p<<=1,p|=l>>>y+g&1,p<<=1,p|=u>>>y+g&1;d[h+0]=f>>>0,d[h+1]=p>>>0},s.pc1=function(u,l,d,h){for(var f=0,p=0,g=7;g>=5;g--){for(var y=0;y<=24;y+=8)f<<=1,f|=l>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>y+g&1}for(y=0;y<=24;y+=8)f<<=1,f|=l>>y+g&1;for(g=1;g<=3;g++){for(y=0;y<=24;y+=8)p<<=1,p|=l>>y+g&1;for(y=0;y<=24;y+=8)p<<=1,p|=u>>y+g&1}for(y=0;y<=24;y+=8)p<<=1,p|=u>>y+g&1;d[h+0]=f>>>0,d[h+1]=p>>>0},s.r28shl=function(u,l){return u<<l&268435455|u>>>28-l};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(u,l,d,h){for(var f=0,p=0,g=i.length>>>1,y=0;y<g;y++)f<<=1,f|=u>>>i[y]&1;for(y=g;y<i.length;y++)p<<=1,p|=l>>>i[y]&1;d[h+0]=f>>>0,d[h+1]=p>>>0},s.expand=function(u,l,d){var h=0,f=0;h=(1&u)<<5|u>>>27;for(var p=23;p>=15;p-=4)h<<=6,h|=u>>>p&63;for(p=11;p>=3;p-=4)f|=u>>>p&63,f<<=6;f|=(31&u)<<1|u>>>31,l[d+0]=h>>>0,l[d+1]=f>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(u,l){for(var d=0,h=0;h<4;h++)d<<=4,d|=a[64*h+(u>>>18-6*h&63)];for(h=0;h<4;h++)d<<=4,d|=a[256+64*h+(l>>>18-6*h&63)];return d>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(u){for(var l=0,d=0;d<o.length;d++)l<<=1,l|=u>>>o[d]&1;return l>>>0},s.padSplit=function(u,l,d){for(var h=u.toString(2);h.length<l;)h="0"+h;for(var f=[],p=0;p<l;p+=d)f.push(h.slice(p,p+d));return f.join(" ")}},{}],400:[function(r,n,s){(function(i){(function(){var a=r("./lib/generatePrime"),o=r("./lib/primes.json"),u=r("./lib/dh"),l={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(d){var h=new i(o[d].prime,"hex"),f=new i(o[d].gen,"hex");return new u(h,f)},s.createDiffieHellman=s.DiffieHellman=function d(h,f,p,g){return i.isBuffer(f)||l[f]===void 0?d(h,"binary",f,p):(f=f||"binary",g=g||"binary",p=p||new i([2]),i.isBuffer(p)||(p=new i(p,g)),typeof h=="number"?new u(a(h,p),p,!0):(i.isBuffer(h)||(h=new i(h,f)),new u(h,p,!0)))}}).call(this)}).call(this,r("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(r,n,s){(function(i){(function(){var a=r("bn.js"),o=new(r("miller-rabin")),u=new a(24),l=new a(11),d=new a(10),h=new a(3),f=new a(7),p=r("./generatePrime"),g=r("randombytes");function y(k,T){return T=T||"utf8",i.isBuffer(k)||(k=new i(k,T)),this._pub=new a(k),this}function m(k,T){return T=T||"utf8",i.isBuffer(k)||(k=new i(k,T)),this._priv=new a(k),this}n.exports=b;var v={};function b(k,T,O){this.setGenerator(T),this.__prime=new a(k),this._prime=a.mont(this.__prime),this._primeLen=k.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,O?(this.setPublicKey=y,this.setPrivateKey=m):this._primeCode=8}function x(k,T){var O=new i(k.toArray());return T?O.toString(T):O}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(k,T){var O=T.toString("hex"),F=[O,k.toString(16)].join("_");if(F in v)return v[F];var A,P=0;if(k.isEven()||!p.simpleSieve||!p.fermatTest(k)||!o.test(k))return P+=1,P+=O==="02"||O==="05"?8:4,v[F]=P,P;switch(o.test(k.shrn(1))||(P+=2),O){case"02":k.mod(u).cmp(l)&&(P+=8);break;case"05":(A=k.mod(d)).cmp(h)&&A.cmp(f)&&(P+=8);break;default:P+=4}return v[F]=P,P})(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new a(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(k){var T=(k=(k=new a(k)).toRed(this._prime)).redPow(this._priv).fromRed(),O=new i(T.toArray()),F=this.getPrime();if(O.length<F.length){var A=new i(F.length-O.length);A.fill(0),O=i.concat([A,O])}return O},b.prototype.getPublicKey=function(k){return x(this._pub,k)},b.prototype.getPrivateKey=function(k){return x(this._priv,k)},b.prototype.getPrime=function(k){return x(this.__prime,k)},b.prototype.getGenerator=function(k){return x(this._gen,k)},b.prototype.setGenerator=function(k,T){return T=T||"utf8",i.isBuffer(k)||(k=new i(k,T)),this.__gen=k,this._gen=new a(k),this}}).call(this)}).call(this,r("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(r,n,s){var i=r("randombytes");n.exports=k,k.simpleSieve=b,k.fermatTest=x;var a=r("bn.js"),o=new a(24),u=new(r("miller-rabin")),l=new a(1),d=new a(2),h=new a(5),f=(new a(16),new a(8),new a(10)),p=new a(3),g=(new a(7),new a(11)),y=new a(4),m=(new a(12),null);function v(){if(m!==null)return m;var T=[];T[0]=2;for(var O=1,F=3;F<1048576;F+=2){for(var A=Math.ceil(Math.sqrt(F)),P=0;P<O&&T[P]<=A&&F%T[P]!=0;P++);O!==P&&T[P]<=A||(T[O++]=F)}return m=T,T}function b(T){for(var O=v(),F=0;F<O.length;F++)if(T.modn(O[F])===0)return T.cmpn(O[F])===0;return!0}function x(T){var O=a.mont(T);return d.toRed(O).redPow(T.subn(1)).fromRed().cmpn(1)===0}function k(T,O){if(T<16)return new a(O===2||O===5?[140,123]:[140,39]);var F,A;for(O=new a(O);;){for(F=new a(i(Math.ceil(T/8)));F.bitLength()>T;)F.ishrn(1);if(F.isEven()&&F.iadd(l),F.testn(1)||F.iadd(d),O.cmp(d)){if(!O.cmp(h))for(;F.mod(f).cmp(p);)F.iadd(y)}else for(;F.mod(o).cmp(g);)F.iadd(y);if(b(A=F.shrn(1))&&b(F)&&x(A)&&x(F)&&u.test(A)&&u.test(F))return F}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(r,n,s){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(r,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(r,n,s){var i=s;i.version=r("../package.json").version,i.utils=r("./elliptic/utils"),i.rand=r("brorand"),i.curve=r("./elliptic/curve"),i.curves=r("./elliptic/curves"),i.ec=r("./elliptic/ec"),i.eddsa=r("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(r,n,s){var i=r("bn.js"),a=r("../utils"),o=a.getNAF,u=a.getJSF,l=a.assert;function d(f,p){this.type=f,this.p=new i(p.p,16),this.red=p.prime?i.red(p.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=p.n&&new i(p.n,16),this.g=p.g&&this.pointFromJSON(p.g,p.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(f,p){this.curve=f,this.type=p,this.precomputed=null}n.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(f,p){l(f.precomputed);var g=f._getDoubles(),y=o(p,1,this._bitLength),m=(1<<g.step+1)-(g.step%2==0?2:1);m/=3;var v,b,x=[];for(v=0;v<y.length;v+=g.step){b=0;for(var k=v+g.step-1;k>=v;k--)b=(b<<1)+y[k];x.push(b)}for(var T=this.jpoint(null,null,null),O=this.jpoint(null,null,null),F=m;F>0;F--){for(v=0;v<x.length;v++)(b=x[v])===F?O=O.mixedAdd(g.points[v]):b===-F&&(O=O.mixedAdd(g.points[v].neg()));T=T.add(O)}return T.toP()},d.prototype._wnafMul=function(f,p){var g=4,y=f._getNAFPoints(g);g=y.wnd;for(var m=y.points,v=o(p,g,this._bitLength),b=this.jpoint(null,null,null),x=v.length-1;x>=0;x--){for(var k=0;x>=0&&v[x]===0;x--)k++;if(x>=0&&k++,b=b.dblp(k),x<0)break;var T=v[x];l(T!==0),b=f.type==="affine"?T>0?b.mixedAdd(m[T-1>>1]):b.mixedAdd(m[-T-1>>1].neg()):T>0?b.add(m[T-1>>1]):b.add(m[-T-1>>1].neg())}return f.type==="affine"?b.toP():b},d.prototype._wnafMulAdd=function(f,p,g,y,m){var v,b,x,k=this._wnafT1,T=this._wnafT2,O=this._wnafT3,F=0;for(v=0;v<y;v++){var A=(x=p[v])._getNAFPoints(f);k[v]=A.wnd,T[v]=A.points}for(v=y-1;v>=1;v-=2){var P=v-1,D=v;if(k[P]===1&&k[D]===1){var V=[p[P],null,null,p[D]];p[P].y.cmp(p[D].y)===0?(V[1]=p[P].add(p[D]),V[2]=p[P].toJ().mixedAdd(p[D].neg())):p[P].y.cmp(p[D].y.redNeg())===0?(V[1]=p[P].toJ().mixedAdd(p[D]),V[2]=p[P].add(p[D].neg())):(V[1]=p[P].toJ().mixedAdd(p[D]),V[2]=p[P].toJ().mixedAdd(p[D].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],C=u(g[P],g[D]);for(F=Math.max(C[0].length,F),O[P]=new Array(F),O[D]=new Array(F),b=0;b<F;b++){var I=0|C[0][b],N=0|C[1][b];O[P][b]=B[3*(I+1)+(N+1)],O[D][b]=0,T[P]=V}}else O[P]=o(g[P],k[P],this._bitLength),O[D]=o(g[D],k[D],this._bitLength),F=Math.max(O[P].length,F),F=Math.max(O[D].length,F)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(v=F;v>=0;v--){for(var S=0;v>=0;){var j=!0;for(b=0;b<y;b++)_[b]=0|O[b][v],_[b]!==0&&(j=!1);if(!j)break;S++,v--}if(v>=0&&S++,w=w.dblp(S),v<0)break;for(b=0;b<y;b++){var R=_[b];R!==0&&(R>0?x=T[b][R-1>>1]:R<0&&(x=T[b][-R-1>>1].neg()),w=x.type==="affine"?w.mixedAdd(x):w.add(x))}}for(v=0;v<y;v++)T[v]=null;return m?w:w.toP()},d.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(f,p){f=a.toArray(f,p);var g=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*g)return f[0]===6?l(f[f.length-1]%2==0):f[0]===7&&l(f[f.length-1]%2==1),this.point(f.slice(1,1+g),f.slice(1+g,1+2*g));if((f[0]===2||f[0]===3)&&f.length-1===g)return this.pointFromX(f.slice(1,1+g),f[0]===3);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(f){return this.encode(f,!0)},h.prototype._encode=function(f){var p=this.curve.p.byteLength(),g=this.getX().toArray("be",p);return f?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",p))},h.prototype.encode=function(f,p){return a.encode(this._encode(p),f)},h.prototype.precompute=function(f){if(this.precomputed)return this;var p={doubles:null,naf:null,beta:null};return p.naf=this._getNAFPoints(8),p.doubles=this._getDoubles(4,f),p.beta=this._getBeta(),this.precomputed=p,this},h.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var p=this.precomputed.doubles;return!!p&&p.points.length>=Math.ceil((f.bitLength()+1)/p.step)},h.prototype._getDoubles=function(f,p){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],y=this,m=0;m<p;m+=f){for(var v=0;v<f;v++)y=y.dbl();g.push(y)}return{step:f,points:g}},h.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var p=[this],g=(1<<f)-1,y=g===1?null:this.dbl(),m=1;m<g;m++)p[m]=p[m-1].add(y);return{wnd:f,points:p}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(f){for(var p=this,g=0;g<f;g++)p=p.dbl();return p}},{"../utils":419,"bn.js":420}],407:[function(r,n,s){var i=r("../utils"),a=r("bn.js"),o=r("inherits"),u=r("./base"),l=i.assert;function d(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,u.call(this,"edwards",f),this.a=new a(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function h(f,p,g,y,m){u.BasePoint.call(this,f,"projective"),p===null&&g===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(p,16),this.y=new a(g,16),this.z=y?new a(y,16):this.curve.one,this.t=m&&new a(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(d,u),n.exports=d,d.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},d.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},d.prototype.jpoint=function(f,p,g,y){return this.point(f,p,g,y)},d.prototype.pointFromX=function(f,p){(f=new a(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),y=this.c2.redSub(this.a.redMul(g)),m=this.one.redSub(this.c2.redMul(this.d).redMul(g)),v=y.redMul(m.redInvm()),b=v.redSqrt();if(b.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var x=b.fromRed().isOdd();return(p&&!x||!p&&x)&&(b=b.redNeg()),this.point(f,b)},d.prototype.pointFromY=function(f,p){(f=new a(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),y=g.redSub(this.c2),m=g.redMul(this.d).redMul(this.c2).redSub(this.a),v=y.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(p)throw new Error("invalid point");return this.point(this.zero,f)}var b=v.redSqrt();if(b.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return b.fromRed().isOdd()!==p&&(b=b.redNeg()),this.point(b,f)},d.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var p=f.x.redSqr(),g=f.y.redSqr(),y=p.redMul(this.a).redAdd(g),m=this.c2.redMul(this.one.redAdd(this.d.redMul(p).redMul(g)));return y.cmp(m)===0},o(h,u.BasePoint),d.prototype.pointFromJSON=function(f){return h.fromJSON(this,f)},d.prototype.point=function(f,p,g,y){return new h(this,f,p,g,y)},h.fromJSON=function(f,p){return new h(f,p[0],p[1],p[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},h.prototype._extDbl=function(){var f=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var y=this.curve._mulA(f),m=this.x.redAdd(this.y).redSqr().redISub(f).redISub(p),v=y.redAdd(p),b=v.redSub(g),x=y.redSub(p),k=m.redMul(b),T=v.redMul(x),O=m.redMul(x),F=b.redMul(v);return this.curve.point(k,T,F,O)},h.prototype._projDbl=function(){var f,p,g,y,m,v,b=this.x.redAdd(this.y).redSqr(),x=this.x.redSqr(),k=this.y.redSqr();if(this.curve.twisted){var T=(y=this.curve._mulA(x)).redAdd(k);this.zOne?(f=b.redSub(x).redSub(k).redMul(T.redSub(this.curve.two)),p=T.redMul(y.redSub(k)),g=T.redSqr().redSub(T).redSub(T)):(m=this.z.redSqr(),v=T.redSub(m).redISub(m),f=b.redSub(x).redISub(k).redMul(v),p=T.redMul(y.redSub(k)),g=T.redMul(v))}else y=x.redAdd(k),m=this.curve._mulC(this.z).redSqr(),v=y.redSub(m).redSub(m),f=this.curve._mulC(b.redISub(y)).redMul(v),p=this.curve._mulC(y).redMul(x.redISub(k)),g=y.redMul(v);return this.curve.point(f,p,g)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(f){var p=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),g=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),y=this.t.redMul(this.curve.dd).redMul(f.t),m=this.z.redMul(f.z.redAdd(f.z)),v=g.redSub(p),b=m.redSub(y),x=m.redAdd(y),k=g.redAdd(p),T=v.redMul(b),O=x.redMul(k),F=v.redMul(k),A=b.redMul(x);return this.curve.point(T,O,A,F)},h.prototype._projAdd=function(f){var p,g,y=this.z.redMul(f.z),m=y.redSqr(),v=this.x.redMul(f.x),b=this.y.redMul(f.y),x=this.curve.d.redMul(v).redMul(b),k=m.redSub(x),T=m.redAdd(x),O=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(v).redISub(b),F=y.redMul(k).redMul(O);return this.curve.twisted?(p=y.redMul(T).redMul(b.redSub(this.curve._mulA(v))),g=k.redMul(T)):(p=y.redMul(T).redMul(b.redSub(v)),g=this.curve._mulC(k).redMul(T)),this.curve.point(F,p,g)},h.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},h.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},h.prototype.mulAdd=function(f,p,g){return this.curve._wnafMulAdd(1,[this,p],[f,g],2,!1)},h.prototype.jmulAdd=function(f,p,g){return this.curve._wnafMulAdd(1,[this,p],[f,g],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},h.prototype.eqXToP=function(f){var p=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(p)===0)return!0;for(var g=f.clone(),y=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(y),this.x.cmp(p)===0)return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(r,n,s){var i=s;i.base=r("./base"),i.short=r("./short"),i.mont=r("./mont"),i.edwards=r("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(r,n,s){var i=r("bn.js"),a=r("inherits"),o=r("./base"),u=r("../utils");function l(h){o.call(this,"mont",h),this.a=new i(h.a,16).toRed(this.red),this.b=new i(h.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function d(h,f,p){o.BasePoint.call(this,h,"projective"),f===null&&p===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(f,16),this.z=new i(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(l,o),n.exports=l,l.prototype.validate=function(h){var f=h.normalize().x,p=f.redSqr(),g=p.redMul(f).redAdd(p.redMul(this.a)).redAdd(f);return g.redSqrt().redSqr().cmp(g)===0},a(d,o.BasePoint),l.prototype.decodePoint=function(h,f){return this.point(u.toArray(h,f),1)},l.prototype.point=function(h,f){return new d(this,h,f)},l.prototype.pointFromJSON=function(h){return d.fromJSON(this,h)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(h,f){return new d(h,f[0],f[1]||h.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var h=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),p=h.redSub(f),g=h.redMul(f),y=p.redMul(f.redAdd(this.curve.a24.redMul(p)));return this.curve.point(g,y)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(h,f){var p=this.x.redAdd(this.z),g=this.x.redSub(this.z),y=h.x.redAdd(h.z),m=h.x.redSub(h.z).redMul(p),v=y.redMul(g),b=f.z.redMul(m.redAdd(v).redSqr()),x=f.x.redMul(m.redISub(v).redSqr());return this.curve.point(b,x)},d.prototype.mul=function(h){for(var f=h.clone(),p=this,g=this.curve.point(null,null),y=[];f.cmpn(0)!==0;f.iushrn(1))y.push(f.andln(1));for(var m=y.length-1;m>=0;m--)y[m]===0?(p=p.diffAdd(g,this),g=g.dbl()):(g=p.diffAdd(g,this),p=p.dbl());return g},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(h){return this.getX().cmp(h.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(r,n,s){var i=r("../utils"),a=r("bn.js"),o=r("inherits"),u=r("./base"),l=i.assert;function d(p){u.call(this,"short",p),this.a=new a(p.a,16).toRed(this.red),this.b=new a(p.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(p),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(p,g,y,m){u.BasePoint.call(this,p,"affine"),g===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(g,16),this.y=new a(y,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(p,g,y,m){u.BasePoint.call(this,p,"jacobian"),g===null&&y===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(g,16),this.y=new a(y,16),this.z=new a(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(d,u),n.exports=d,d.prototype._getEndomorphism=function(p){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,y;if(p.beta)g=new a(p.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);g=(g=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(p.lambda)y=new a(p.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(g))===0?y=v[0]:(y=v[1],l(this.g.mul(y).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:y,basis:p.basis?p.basis.map((function(b){return{a:new a(b.a,16),b:new a(b.b,16)}})):this._getEndoBasis(y)}}},d.prototype._getEndoRoots=function(p){var g=p===this.p?this.red:a.mont(p),y=new a(2).toRed(g).redInvm(),m=y.redNeg(),v=new a(3).toRed(g).redNeg().redSqrt().redMul(y);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},d.prototype._getEndoBasis=function(p){for(var g,y,m,v,b,x,k,T,O,F=this.n.ushrn(Math.floor(this.n.bitLength()/2)),A=p,P=this.n.clone(),D=new a(1),V=new a(0),B=new a(0),C=new a(1),I=0;A.cmpn(0)!==0;){var N=P.div(A);T=P.sub(N.mul(A)),O=B.sub(N.mul(D));var w=C.sub(N.mul(V));if(!m&&T.cmp(F)<0)g=k.neg(),y=D,m=T.neg(),v=O;else if(m&&++I==2)break;k=T,P=A,A=T,B=D,D=O,C=V,V=w}b=T.neg(),x=O;var _=m.sqr().add(v.sqr());return b.sqr().add(x.sqr()).cmp(_)>=0&&(b=g,x=y),m.negative&&(m=m.neg(),v=v.neg()),b.negative&&(b=b.neg(),x=x.neg()),[{a:m,b:v},{a:b,b:x}]},d.prototype._endoSplit=function(p){var g=this.endo.basis,y=g[0],m=g[1],v=m.b.mul(p).divRound(this.n),b=y.b.neg().mul(p).divRound(this.n),x=v.mul(y.a),k=b.mul(m.a),T=v.mul(y.b),O=b.mul(m.b);return{k1:p.sub(x).sub(k),k2:T.add(O).neg()}},d.prototype.pointFromX=function(p,g){(p=new a(p,16)).red||(p=p.toRed(this.red));var y=p.redSqr().redMul(p).redIAdd(p.redMul(this.a)).redIAdd(this.b),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(g&&!v||!g&&v)&&(m=m.redNeg()),this.point(p,m)},d.prototype.validate=function(p){if(p.inf)return!0;var g=p.x,y=p.y,m=this.a.redMul(g),v=g.redSqr().redMul(g).redIAdd(m).redIAdd(this.b);return y.redSqr().redISub(v).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(p,g,y){for(var m=this._endoWnafT1,v=this._endoWnafT2,b=0;b<p.length;b++){var x=this._endoSplit(g[b]),k=p[b],T=k._getBeta();x.k1.negative&&(x.k1.ineg(),k=k.neg(!0)),x.k2.negative&&(x.k2.ineg(),T=T.neg(!0)),m[2*b]=k,m[2*b+1]=T,v[2*b]=x.k1,v[2*b+1]=x.k2}for(var O=this._wnafMulAdd(1,m,v,2*b,y),F=0;F<2*b;F++)m[F]=null,v[F]=null;return O},o(h,u.BasePoint),d.prototype.point=function(p,g,y){return new h(this,p,g,y)},d.prototype.pointFromJSON=function(p,g){return h.fromJSON(this,p,g)},h.prototype._getBeta=function(){if(this.curve.endo){var p=this.precomputed;if(p&&p.beta)return p.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(p){var y=this.curve,m=function(v){return y.point(v.x.redMul(y.endo.beta),v.y)};p.beta=g,g.precomputed={beta:null,naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(m)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(m)}}}return g}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(p,g,y){typeof g=="string"&&(g=JSON.parse(g));var m=p.point(g[0],g[1],y);if(!g[2])return m;function v(x){return p.point(x[0],x[1],y)}var b=g[2];return m.precomputed={beta:null,doubles:b.doubles&&{step:b.doubles.step,points:[m].concat(b.doubles.points.map(v))},naf:b.naf&&{wnd:b.naf.wnd,points:[m].concat(b.naf.points.map(v))}},m},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(this.x.cmp(p.x)===0)return this.curve.point(null,null);var g=this.y.redSub(p.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(p.x).redInvm()));var y=g.redSqr().redISub(this.x).redISub(p.x),m=g.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,m)},h.prototype.dbl=function(){if(this.inf)return this;var p=this.y.redAdd(this.y);if(p.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,y=this.x.redSqr(),m=p.redInvm(),v=y.redAdd(y).redIAdd(y).redIAdd(g).redMul(m),b=v.redSqr().redISub(this.x.redAdd(this.x)),x=v.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,x)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(p){return p=new a(p,16),this.isInfinity()?this:this._hasDoubles(p)?this.curve._fixedNafMul(this,p):this.curve.endo?this.curve._endoWnafMulAdd([this],[p]):this.curve._wnafMul(this,p)},h.prototype.mulAdd=function(p,g,y){var m=[this,g],v=[p,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},h.prototype.jmulAdd=function(p,g,y){var m=[this,g],v=[p,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},h.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||this.x.cmp(p.x)===0&&this.y.cmp(p.y)===0)},h.prototype.neg=function(p){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(p&&this.precomputed){var y=this.precomputed,m=function(v){return v.neg()};g.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(m)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(m)}}}return g},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,u.BasePoint),d.prototype.jpoint=function(p,g,y){return new f(this,p,g,y)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var p=this.z.redInvm(),g=p.redSqr(),y=this.x.redMul(g),m=this.y.redMul(g).redMul(p);return this.curve.point(y,m)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var g=p.z.redSqr(),y=this.z.redSqr(),m=this.x.redMul(g),v=p.x.redMul(y),b=this.y.redMul(g.redMul(p.z)),x=p.y.redMul(y.redMul(this.z)),k=m.redSub(v),T=b.redSub(x);if(k.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=k.redSqr(),F=O.redMul(k),A=m.redMul(O),P=T.redSqr().redIAdd(F).redISub(A).redISub(A),D=T.redMul(A.redISub(P)).redISub(b.redMul(F)),V=this.z.redMul(p.z).redMul(k);return this.curve.jpoint(P,D,V)},f.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var g=this.z.redSqr(),y=this.x,m=p.x.redMul(g),v=this.y,b=p.y.redMul(g).redMul(this.z),x=y.redSub(m),k=v.redSub(b);if(x.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=x.redSqr(),O=T.redMul(x),F=y.redMul(T),A=k.redSqr().redIAdd(O).redISub(F).redISub(F),P=k.redMul(F.redISub(A)).redISub(v.redMul(O)),D=this.z.redMul(x);return this.curve.jpoint(A,P,D)},f.prototype.dblp=function(p){if(p===0)return this;if(this.isInfinity())return this;if(!p)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var y=this;for(g=0;g<p;g++)y=y.dbl();return y}var m=this.curve.a,v=this.curve.tinv,b=this.x,x=this.y,k=this.z,T=k.redSqr().redSqr(),O=x.redAdd(x);for(g=0;g<p;g++){var F=b.redSqr(),A=O.redSqr(),P=A.redSqr(),D=F.redAdd(F).redIAdd(F).redIAdd(m.redMul(T)),V=b.redMul(A),B=D.redSqr().redISub(V.redAdd(V)),C=V.redISub(B),I=D.redMul(C);I=I.redIAdd(I).redISub(P);var N=O.redMul(k);g+1<p&&(T=T.redMul(P)),b=B,k=N,O=I}return this.curve.jpoint(b,O.redMul(v),k)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var p,g,y;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),b=v.redSqr(),x=this.x.redAdd(v).redSqr().redISub(m).redISub(b);x=x.redIAdd(x);var k=m.redAdd(m).redIAdd(m),T=k.redSqr().redISub(x).redISub(x),O=b.redIAdd(b);O=(O=O.redIAdd(O)).redIAdd(O),p=T,g=k.redMul(x.redISub(T)).redISub(O),y=this.y.redAdd(this.y)}else{var F=this.x.redSqr(),A=this.y.redSqr(),P=A.redSqr(),D=this.x.redAdd(A).redSqr().redISub(F).redISub(P);D=D.redIAdd(D);var V=F.redAdd(F).redIAdd(F),B=V.redSqr(),C=P.redIAdd(P);C=(C=C.redIAdd(C)).redIAdd(C),p=B.redISub(D).redISub(D),g=V.redMul(D.redISub(p)).redISub(C),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(p,g,y)},f.prototype._threeDbl=function(){var p,g,y;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),b=v.redSqr(),x=this.x.redAdd(v).redSqr().redISub(m).redISub(b);x=x.redIAdd(x);var k=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),T=k.redSqr().redISub(x).redISub(x);p=T;var O=b.redIAdd(b);O=(O=O.redIAdd(O)).redIAdd(O),g=k.redMul(x.redISub(T)).redISub(O),y=this.y.redAdd(this.y)}else{var F=this.z.redSqr(),A=this.y.redSqr(),P=this.x.redMul(A),D=this.x.redSub(F).redMul(this.x.redAdd(F));D=D.redAdd(D).redIAdd(D);var V=P.redIAdd(P),B=(V=V.redIAdd(V)).redAdd(V);p=D.redSqr().redISub(B),y=this.y.redAdd(this.z).redSqr().redISub(A).redISub(F);var C=A.redSqr();C=(C=(C=C.redIAdd(C)).redIAdd(C)).redIAdd(C),g=D.redMul(V.redISub(p)).redISub(C)}return this.curve.jpoint(p,g,y)},f.prototype._dbl=function(){var p=this.curve.a,g=this.x,y=this.y,m=this.z,v=m.redSqr().redSqr(),b=g.redSqr(),x=y.redSqr(),k=b.redAdd(b).redIAdd(b).redIAdd(p.redMul(v)),T=g.redAdd(g),O=(T=T.redIAdd(T)).redMul(x),F=k.redSqr().redISub(O.redAdd(O)),A=O.redISub(F),P=x.redSqr();P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var D=k.redMul(A).redISub(P),V=y.redAdd(y).redMul(m);return this.curve.jpoint(F,D,V)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var p=this.x.redSqr(),g=this.y.redSqr(),y=this.z.redSqr(),m=g.redSqr(),v=p.redAdd(p).redIAdd(p),b=v.redSqr(),x=this.x.redAdd(g).redSqr().redISub(p).redISub(m),k=(x=(x=(x=x.redIAdd(x)).redAdd(x).redIAdd(x)).redISub(b)).redSqr(),T=m.redIAdd(m);T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T);var O=v.redIAdd(x).redSqr().redISub(b).redISub(k).redISub(T),F=g.redMul(O);F=(F=F.redIAdd(F)).redIAdd(F);var A=this.x.redMul(k).redISub(F);A=(A=A.redIAdd(A)).redIAdd(A);var P=this.y.redMul(O.redMul(T.redISub(O)).redISub(x.redMul(k)));P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var D=this.z.redAdd(x).redSqr().redISub(y).redISub(k);return this.curve.jpoint(A,P,D)},f.prototype.mul=function(p,g){return p=new a(p,g),this.curve._wnafMul(this,p)},f.prototype.eq=function(p){if(p.type==="affine")return this.eq(p.toJ());if(this===p)return!0;var g=this.z.redSqr(),y=p.z.redSqr();if(this.x.redMul(y).redISub(p.x.redMul(g)).cmpn(0)!==0)return!1;var m=g.redMul(this.z),v=y.redMul(p.z);return this.y.redMul(v).redISub(p.y.redMul(m)).cmpn(0)===0},f.prototype.eqXToP=function(p){var g=this.z.redSqr(),y=p.toRed(this.curve.red).redMul(g);if(this.x.cmp(y)===0)return!0;for(var m=p.clone(),v=this.curve.redN.redMul(g);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(v),this.x.cmp(y)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(r,n,s){var i,a=s,o=r("hash.js"),u=r("./curve"),l=r("./utils").assert;function d(f){f.type==="short"?this.curve=new u.short(f):f.type==="edwards"?this.curve=new u.edwards(f):this.curve=new u.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(f,p){Object.defineProperty(a,f,{configurable:!0,enumerable:!0,get:function(){var g=new d(p);return Object.defineProperty(a,f,{configurable:!0,enumerable:!0,value:g}),g}})}a.PresetCurve=d,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r("./precomputed/secp256k1")}catch{i=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(r,n,s){var i=r("bn.js"),a=r("hmac-drbg"),o=r("../utils"),u=r("../curves"),l=r("brorand"),d=o.assert,h=r("./key"),f=r("./signature");function p(g){if(!(this instanceof p))return new p(g);typeof g=="string"&&(d(Object.prototype.hasOwnProperty.call(u,g),"Unknown curve "+g),g=u[g]),g instanceof u.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=p,p.prototype.keyPair=function(g){return new h(this,g)},p.prototype.keyFromPrivate=function(g,y){return h.fromPrivate(this,g,y)},p.prototype.keyFromPublic=function(g,y){return h.fromPublic(this,g,y)},p.prototype.genKeyPair=function(g){g||(g={});for(var y=new a({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||l(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new i(2));;){var b=new i(y.generate(m));if(!(b.cmp(v)>0))return b.iaddn(1),this.keyFromPrivate(b)}},p.prototype._truncateToN=function(g,y){var m=8*g.byteLength()-this.n.bitLength();return m>0&&(g=g.ushrn(m)),!y&&g.cmp(this.n)>=0?g.sub(this.n):g},p.prototype.sign=function(g,y,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),y=this.keyFromPrivate(y,m),g=this._truncateToN(new i(g,16));for(var b=this.n.byteLength(),x=y.getPrivate().toArray("be",b),k=g.toArray("be",b),T=new a({hash:this.hash,entropy:x,nonce:k,pers:v.pers,persEnc:v.persEnc||"utf8"}),O=this.n.sub(new i(1)),F=0;;F++){var A=v.k?v.k(F):new i(T.generate(this.n.byteLength()));if(!((A=this._truncateToN(A,!0)).cmpn(1)<=0||A.cmp(O)>=0)){var P=this.g.mul(A);if(!P.isInfinity()){var D=P.getX(),V=D.umod(this.n);if(V.cmpn(0)!==0){var B=A.invm(this.n).mul(V.mul(y.getPrivate()).iadd(g));if((B=B.umod(this.n)).cmpn(0)!==0){var C=(P.getY().isOdd()?1:0)|(D.cmp(V)!==0?2:0);return v.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),C^=1),new f({r:V,s:B,recoveryParam:C})}}}}}},p.prototype.verify=function(g,y,m,v){g=this._truncateToN(new i(g,16)),m=this.keyFromPublic(m,v);var b=(y=new f(y,"hex")).r,x=y.s;if(b.cmpn(1)<0||b.cmp(this.n)>=0||x.cmpn(1)<0||x.cmp(this.n)>=0)return!1;var k,T=x.invm(this.n),O=T.mul(g).umod(this.n),F=T.mul(b).umod(this.n);return this.curve._maxwellTrick?!(k=this.g.jmulAdd(O,m.getPublic(),F)).isInfinity()&&k.eqXToP(b):!(k=this.g.mulAdd(O,m.getPublic(),F)).isInfinity()&&k.getX().umod(this.n).cmp(b)===0},p.prototype.recoverPubKey=function(g,y,m,v){d((3&m)===m,"The recovery param is more than two bits"),y=new f(y,v);var b=this.n,x=new i(g),k=y.r,T=y.s,O=1&m,F=m>>1;if(k.cmp(this.curve.p.umod(this.curve.n))>=0&&F)throw new Error("Unable to find sencond key candinate");k=F?this.curve.pointFromX(k.add(this.curve.n),O):this.curve.pointFromX(k,O);var A=y.r.invm(b),P=b.sub(x).mul(A).umod(b),D=T.mul(A).umod(b);return this.g.mulAdd(P,k,D)},p.prototype.getKeyRecoveryParam=function(g,y,m,v){if((y=new f(y,v)).recoveryParam!==null)return y.recoveryParam;for(var b=0;b<4;b++){var x;try{x=this.recoverPubKey(g,y,b)}catch{continue}if(x.eq(m))return b}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(r,n,s){var i=r("bn.js"),a=r("../utils").assert;function o(u,l){this.ec=u,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}n.exports=o,o.fromPublic=function(u,l,d){return l instanceof o?l:new o(u,{pub:l,pubEnc:d})},o.fromPrivate=function(u,l,d){return l instanceof o?l:new o(u,{priv:l,privEnc:d})},o.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(u,l){return typeof u=="string"&&(l=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,u):this.pub},o.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(u,l){this.priv=new i(u,l||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(u,l){if(u.x||u.y)return this.ec.curve.type==="mont"?a(u.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(u.x&&u.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(u.x,u.y));this.pub=this.ec.curve.decodePoint(u,l)},o.prototype.derive=function(u){return u.validate()||a(u.validate(),"public point not validated"),u.mul(this.priv).getX()},o.prototype.sign=function(u,l,d){return this.ec.sign(u,this,l,d)},o.prototype.verify=function(u,l){return this.ec.verify(u,l,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(r,n,s){var i=r("bn.js"),a=r("../utils"),o=a.assert;function u(p,g){if(p instanceof u)return p;this._importDER(p,g)||(o(p.r&&p.s,"Signature without r or s"),this.r=new i(p.r,16),this.s=new i(p.s,16),p.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=p.recoveryParam)}function l(){this.place=0}function d(p,g){var y=p[g.place++];if(!(128&y))return y;var m=15&y;if(m===0||m>4)return!1;for(var v=0,b=0,x=g.place;b<m;b++,x++)v<<=8,v|=p[x],v>>>=0;return!(v<=127)&&(g.place=x,v)}function h(p){for(var g=0,y=p.length-1;!p[g]&&!(128&p[g+1])&&g<y;)g++;return g===0?p:p.slice(g)}function f(p,g){if(g<128)p.push(g);else{var y=1+(Math.log(g)/Math.LN2>>>3);for(p.push(128|y);--y;)p.push(g>>>(y<<3)&255);p.push(g)}}n.exports=u,u.prototype._importDER=function(p,g){p=a.toArray(p,g);var y=new l;if(p[y.place++]!==48)return!1;var m=d(p,y);if(m===!1||m+y.place!==p.length||p[y.place++]!==2)return!1;var v=d(p,y);if(v===!1)return!1;var b=p.slice(y.place,v+y.place);if(y.place+=v,p[y.place++]!==2)return!1;var x=d(p,y);if(x===!1||p.length!==x+y.place)return!1;var k=p.slice(y.place,x+y.place);if(b[0]===0){if(!(128&b[1]))return!1;b=b.slice(1)}if(k[0]===0){if(!(128&k[1]))return!1;k=k.slice(1)}return this.r=new i(b),this.s=new i(k),this.recoveryParam=null,!0},u.prototype.toDER=function(p){var g=this.r.toArray(),y=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&y[0]&&(y=[0].concat(y)),g=h(g),y=h(y);!(y[0]||128&y[1]);)y=y.slice(1);var m=[2];f(m,g.length),(m=m.concat(g)).push(2),f(m,y.length);var v=m.concat(y),b=[48];return f(b,v.length),b=b.concat(v),a.encode(b,p)}},{"../utils":419,"bn.js":420}],415:[function(r,n,s){var i=r("hash.js"),a=r("../curves"),o=r("../utils"),u=o.assert,l=o.parseBytes,d=r("./key"),h=r("./signature");function f(p){if(u(p==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(p);p=a[p].curve,this.curve=p,this.g=p.g,this.g.precompute(p.n.bitLength()+1),this.pointClass=p.point().constructor,this.encodingLength=Math.ceil(p.n.bitLength()/8),this.hash=i.sha512}n.exports=f,f.prototype.sign=function(p,g){p=l(p);var y=this.keyFromSecret(g),m=this.hashInt(y.messagePrefix(),p),v=this.g.mul(m),b=this.encodePoint(v),x=this.hashInt(b,y.pubBytes(),p).mul(y.priv()),k=m.add(x).umod(this.curve.n);return this.makeSignature({R:v,S:k,Rencoded:b})},f.prototype.verify=function(p,g,y){p=l(p),g=this.makeSignature(g);var m=this.keyFromPublic(y),v=this.hashInt(g.Rencoded(),m.pubBytes(),p),b=this.g.mul(g.S());return g.R().add(m.pub().mul(v)).eq(b)},f.prototype.hashInt=function(){for(var p=this.hash(),g=0;g<arguments.length;g++)p.update(arguments[g]);return o.intFromLE(p.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(p){return d.fromPublic(this,p)},f.prototype.keyFromSecret=function(p){return d.fromSecret(this,p)},f.prototype.makeSignature=function(p){return p instanceof h?p:new h(this,p)},f.prototype.encodePoint=function(p){var g=p.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=p.getX().isOdd()?128:0,g},f.prototype.decodePoint=function(p){var g=(p=o.parseBytes(p)).length-1,y=p.slice(0,g).concat(-129&p[g]),m=(128&p[g])!=0,v=o.intFromLE(y);return this.curve.pointFromY(v,m)},f.prototype.encodeInt=function(p){return p.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(p){return o.intFromLE(p)},f.prototype.isPoint=function(p){return p instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(r,n,s){var i=r("../utils"),a=i.assert,o=i.parseBytes,u=i.cachedProperty;function l(d,h){this.eddsa=d,this._secret=o(h.secret),d.isPoint(h.pub)?this._pub=h.pub:this._pubBytes=o(h.pub)}l.fromPublic=function(d,h){return h instanceof l?h:new l(d,{pub:h})},l.fromSecret=function(d,h){return h instanceof l?h:new l(d,{secret:h})},l.prototype.secret=function(){return this._secret},u(l,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),u(l,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),u(l,"privBytes",(function(){var d=this.eddsa,h=this.hash(),f=d.encodingLength-1,p=h.slice(0,d.encodingLength);return p[0]&=248,p[f]&=127,p[f]|=64,p})),u(l,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),u(l,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),u(l,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),l.prototype.sign=function(d){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(d,this)},l.prototype.verify=function(d,h){return this.eddsa.verify(d,h,this)},l.prototype.getSecret=function(d){return a(this._secret,"KeyPair is public only"),i.encode(this.secret(),d)},l.prototype.getPublic=function(d){return i.encode(this.pubBytes(),d)},n.exports=l},{"../utils":419}],417:[function(r,n,s){var i=r("bn.js"),a=r("../utils"),o=a.assert,u=a.cachedProperty,l=a.parseBytes;function d(h,f){this.eddsa=h,typeof f!="object"&&(f=l(f)),Array.isArray(f)&&(f={R:f.slice(0,h.encodingLength),S:f.slice(h.encodingLength)}),o(f.R&&f.S,"Signature without R or S"),h.isPoint(f.R)&&(this._R=f.R),f.S instanceof i&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}u(d,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),u(d,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),u(d,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),u(d,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},n.exports=d},{"../utils":419,"bn.js":420}],418:[function(r,n,s){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(r,n,s){var i=s,a=r("bn.js"),o=r("minimalistic-assert"),u=r("minimalistic-crypto-utils");i.assert=o,i.toArray=u.toArray,i.zero2=u.zero2,i.toHex=u.toHex,i.encode=u.encode,i.getNAF=function(l,d,h){var f=new Array(Math.max(l.bitLength(),h)+1);f.fill(0);for(var p=1<<d+1,g=l.clone(),y=0;y<f.length;y++){var m,v=g.andln(p-1);g.isOdd()?(m=v>(p>>1)-1?(p>>1)-v:v,g.isubn(m)):m=0,f[y]=m,g.iushrn(1)}return f},i.getJSF=function(l,d){var h=[[],[]];l=l.clone(),d=d.clone();for(var f,p=0,g=0;l.cmpn(-p)>0||d.cmpn(-g)>0;){var y,m,v=l.andln(3)+p&3,b=d.andln(3)+g&3;v===3&&(v=-1),b===3&&(b=-1),y=(1&v)==0?0:(f=l.andln(7)+p&7)!==3&&f!==5||b!==2?v:-v,h[0].push(y),m=(1&b)==0?0:(f=d.andln(7)+g&7)!==3&&f!==5||v!==2?b:-b,h[1].push(m),2*p===y+1&&(p=1-p),2*g===m+1&&(g=1-g),l.iushrn(1),d.iushrn(1)}return h},i.cachedProperty=function(l,d,h){var f="_"+d;l.prototype[d]=function(){return this[f]!==void 0?this[f]:this[f]=h.call(this)}},i.parseBytes=function(l){return typeof l=="string"?i.toArray(l,"hex"):l},i.intFromLE=function(l){return new a(l,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(r,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(r,n,s){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(r,n,s){var i=Object.create||function(A){var P=function(){};return P.prototype=A,new P},a=Object.keys||function(A){var P=[];for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&P.push(D);return D},o=Function.prototype.bind||function(A){var P=this;return function(){return P.apply(A,arguments)}};function u(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._maxListeners=void 0;var l,d=10;try{var h={};Object.defineProperty&&Object.defineProperty(h,"x",{value:0}),l=h.x===0}catch{l=!1}function f(A){return A._maxListeners===void 0?u.defaultMaxListeners:A._maxListeners}function p(A,P,D){if(P)A.call(D);else for(var V=A.length,B=F(A,V),C=0;C<V;++C)B[C].call(D)}function g(A,P,D,V){if(P)A.call(D,V);else for(var B=A.length,C=F(A,B),I=0;I<B;++I)C[I].call(D,V)}function y(A,P,D,V,B){if(P)A.call(D,V,B);else for(var C=A.length,I=F(A,C),N=0;N<C;++N)I[N].call(D,V,B)}function m(A,P,D,V,B,C){if(P)A.call(D,V,B,C);else for(var I=A.length,N=F(A,I),w=0;w<I;++w)N[w].call(D,V,B,C)}function v(A,P,D,V){if(P)A.apply(D,V);else for(var B=A.length,C=F(A,B),I=0;I<B;++I)C[I].apply(D,V)}function b(A,P,D,V){var B,C,I;if(typeof D!="function")throw new TypeError('"listener" argument must be a function');if((C=A._events)?(C.newListener&&(A.emit("newListener",P,D.listener?D.listener:D),C=A._events),I=C[P]):(C=A._events=i(null),A._eventsCount=0),I){if(typeof I=="function"?I=C[P]=V?[D,I]:[I,D]:V?I.unshift(D):I.push(D),!I.warned&&(B=f(A))&&B>0&&I.length>B){I.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+I.length+' "'+String(P)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');N.name="MaxListenersExceededWarning",N.emitter=A,N.type=P,N.count=I.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",N.name,N.message)}}else I=C[P]=D,++A._eventsCount;return A}function x(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var A=new Array(arguments.length),P=0;P<A.length;++P)A[P]=arguments[P];this.listener.apply(this.target,A)}}function k(A,P,D){var V={fired:!1,wrapFn:void 0,target:A,type:P,listener:D},B=o.call(x,V);return B.listener=D,V.wrapFn=B,B}function T(A,P,D){var V=A._events;if(!V)return[];var B=V[P];return B?typeof B=="function"?D?[B.listener||B]:[B]:D?(function(C){for(var I=new Array(C.length),N=0;N<I.length;++N)I[N]=C[N].listener||C[N];return I})(B):F(B,B.length):[]}function O(A){var P=this._events;if(P){var D=P[A];if(typeof D=="function")return 1;if(D)return D.length}return 0}function F(A,P){for(var D=new Array(P),V=0;V<P;++V)D[V]=A[V];return D}l?Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(A){if(typeof A!="number"||A<0||A!=A)throw new TypeError('"defaultMaxListeners" must be a positive number');d=A}}):u.defaultMaxListeners=d,u.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||isNaN(A))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=A,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(A){var P,D,V,B,C,I,N=A==="error";if(I=this._events)N=N&&I.error==null;else if(!N)return!1;if(N){if(arguments.length>1&&(P=arguments[1]),P instanceof Error)throw P;var w=new Error('Unhandled "error" event. ('+P+")");throw w.context=P,w}if(!(D=I[A]))return!1;var _=typeof D=="function";switch(V=arguments.length){case 1:p(D,_,this);break;case 2:g(D,_,this,arguments[1]);break;case 3:y(D,_,this,arguments[1],arguments[2]);break;case 4:m(D,_,this,arguments[1],arguments[2],arguments[3]);break;default:for(B=new Array(V-1),C=1;C<V;C++)B[C-1]=arguments[C];v(D,_,this,B)}return!0},u.prototype.addListener=function(A,P){return b(this,A,P,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(A,P){return b(this,A,P,!0)},u.prototype.once=function(A,P){if(typeof P!="function")throw new TypeError('"listener" argument must be a function');return this.on(A,k(this,A,P)),this},u.prototype.prependOnceListener=function(A,P){if(typeof P!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(A,k(this,A,P)),this},u.prototype.removeListener=function(A,P){var D,V,B,C,I;if(typeof P!="function")throw new TypeError('"listener" argument must be a function');if(!(V=this._events))return this;if(!(D=V[A]))return this;if(D===P||D.listener===P)--this._eventsCount==0?this._events=i(null):(delete V[A],V.removeListener&&this.emit("removeListener",A,D.listener||P));else if(typeof D!="function"){for(B=-1,C=D.length-1;C>=0;C--)if(D[C]===P||D[C].listener===P){I=D[C].listener,B=C;break}if(B<0)return this;B===0?D.shift():(function(N,w){for(var _=w,S=_+1,j=N.length;S<j;_+=1,S+=1)N[_]=N[S];N.pop()})(D,B),D.length===1&&(V[A]=D[0]),V.removeListener&&this.emit("removeListener",A,I||P)}return this},u.prototype.removeAllListeners=function(A){var P,D,V;if(!(D=this._events))return this;if(!D.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):D[A]&&(--this._eventsCount==0?this._events=i(null):delete D[A]),this;if(arguments.length===0){var B,C=a(D);for(V=0;V<C.length;++V)(B=C[V])!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(P=D[A])=="function")this.removeListener(A,P);else if(P)for(V=P.length-1;V>=0;V--)this.removeListener(A,P[V]);return this},u.prototype.listeners=function(A){return T(this,A,!0)},u.prototype.rawListeners=function(A){return T(this,A,!1)},u.listenerCount=function(A,P){return typeof A.listenerCount=="function"?A.listenerCount(P):O.call(A,P)},u.prototype.listenerCount=O,u.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("md5.js");n.exports=function(o,u,l,d){if(i.isBuffer(o)||(o=i.from(o,"binary")),u&&(i.isBuffer(u)||(u=i.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=l/8,f=i.alloc(h),p=i.alloc(d||0),g=i.alloc(0);h>0||d>0;){var y=new a;y.update(g),y.update(o),u&&y.update(u),g=y.digest();var m=0;if(h>0){var v=f.length-h;m=Math.min(h,g.length),g.copy(f,v,0,m),h-=m}if(m<g.length&&d>0){var b=p.length-d,x=Math.min(d,g.length-m);g.copy(p,b,m,m+x),d-=x}}return g.fill(0),{key:f,iv:p}}},{"md5.js":450,"safe-buffer":494}],424:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var i=r("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var a=r("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("readable-stream").Transform;function o(u){a.call(this),this._block=i.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("inherits")(o,a),o.prototype._transform=function(u,l,d){var h=null;try{this.update(u,l)}catch(f){h=f}d(h)},o.prototype._flush=function(u){var l=null;try{this.push(this.digest())}catch(d){l=d}u(l)},o.prototype.update=function(u,l){if((function(y,m){if(!i.isBuffer(y)&&typeof y!="string")throw new TypeError(m+" must be a string or a buffer")})(u,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(u)||(u=i.from(u,l));for(var d=this._block,h=0;this._blockOffset+u.length-h>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)d[f++]=u[h++];this._update(),this._blockOffset=0}for(;h<u.length;)d[this._blockOffset++]=u[h++];for(var p=0,g=8*u.length;g>0;++p)this._length[p]+=g,(g=this._length[p]/4294967296|0)>0&&(this._length[p]-=4294967296*g);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var l=this._digest();u!==void 0&&(l=l.toString(u)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return l},o.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(r,n,s){var i=s;i.utils=r("./hash/utils"),i.common=r("./hash/common"),i.sha=r("./hash/sha"),i.ripemd=r("./hash/ripemd"),i.hmac=r("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(r,n,s){var i=r("./utils"),a=r("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=o,o.prototype.update=function(u,l){if(u=i.toArray(u,l),this.pending?this.pending=this.pending.concat(u):this.pending=u,this.pendingTotal+=u.length,this.pending.length>=this._delta8){var d=(u=this.pending).length%this._delta8;this.pending=u.slice(u.length-d,u.length),this.pending.length===0&&(this.pending=null),u=i.join32(u,0,u.length-d,this.endian);for(var h=0;h<u.length;h+=this._delta32)this._update(u,h,h+this._delta32)}return this},o.prototype.digest=function(u){return this.update(this._pad()),a(this.pending===null),this._digest(u)},o.prototype._pad=function(){var u=this.pendingTotal,l=this._delta8,d=l-(u+this.padLength)%l,h=new Array(d+this.padLength);h[0]=128;for(var f=1;f<d;f++)h[f]=0;if(u<<=3,this.endian==="big"){for(var p=8;p<this.padLength;p++)h[f++]=0;h[f++]=0,h[f++]=0,h[f++]=0,h[f++]=0,h[f++]=u>>>24&255,h[f++]=u>>>16&255,h[f++]=u>>>8&255,h[f++]=255&u}else for(h[f++]=255&u,h[f++]=u>>>8&255,h[f++]=u>>>16&255,h[f++]=u>>>24&255,h[f++]=0,h[f++]=0,h[f++]=0,h[f++]=0,p=8;p<this.padLength;p++)h[f++]=0;return h}},{"./utils":437,"minimalistic-assert":453}],428:[function(r,n,s){var i=r("./utils"),a=r("minimalistic-assert");function o(u,l,d){if(!(this instanceof o))return new o(u,l,d);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(l,d))}n.exports=o,o.prototype._init=function(u){u.length>this.blockSize&&(u=new this.Hash().update(u).digest()),a(u.length<=this.blockSize);for(var l=u.length;l<this.blockSize;l++)u.push(0);for(l=0;l<u.length;l++)u[l]^=54;for(this.inner=new this.Hash().update(u),l=0;l<u.length;l++)u[l]^=106;this.outer=new this.Hash().update(u)},o.prototype.update=function(u,l){return this.inner.update(u,l),this},o.prototype.digest=function(u){return this.outer.update(this.inner.digest()),this.outer.digest(u)}},{"./utils":437,"minimalistic-assert":453}],429:[function(r,n,s){var i=r("./utils"),a=r("./common"),o=i.rotl32,u=i.sum32,l=i.sum32_3,d=i.sum32_4,h=a.BlockHash;function f(){if(!(this instanceof f))return new f;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function p(k,T,O,F){return k<=15?T^O^F:k<=31?T&O|~T&F:k<=47?(T|~O)^F:k<=63?T&F|O&~F:T^(O|~F)}function g(k){return k<=15?0:k<=31?1518500249:k<=47?1859775393:k<=63?2400959708:2840853838}function y(k){return k<=15?1352829926:k<=31?1548603684:k<=47?1836072691:k<=63?2053994217:0}i.inherits(f,h),s.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(k,T){for(var O=this.h[0],F=this.h[1],A=this.h[2],P=this.h[3],D=this.h[4],V=O,B=F,C=A,I=P,N=D,w=0;w<80;w++){var _=u(o(d(O,p(w,F,A,P),k[m[w]+T],g(w)),b[w]),D);O=D,D=P,P=o(A,10),A=F,F=_,_=u(o(d(V,p(79-w,B,C,I),k[v[w]+T],y(w)),x[w]),N),V=N,N=I,I=o(C,10),C=B,B=_}_=l(this.h[1],A,I),this.h[1]=l(this.h[2],P,N),this.h[2]=l(this.h[3],D,V),this.h[3]=l(this.h[4],O,B),this.h[4]=l(this.h[0],F,C),this.h[0]=_},f.prototype._digest=function(k){return k==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(r,n,s){s.sha1=r("./sha/1"),s.sha224=r("./sha/224"),s.sha256=r("./sha/256"),s.sha384=r("./sha/384"),s.sha512=r("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(r,n,s){var i=r("../utils"),a=r("../common"),o=r("./common"),u=i.rotl32,l=i.sum32,d=i.sum32_5,h=o.ft_1,f=a.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(g,f),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(y,m){for(var v=this.W,b=0;b<16;b++)v[b]=y[m+b];for(;b<v.length;b++)v[b]=u(v[b-3]^v[b-8]^v[b-14]^v[b-16],1);var x=this.h[0],k=this.h[1],T=this.h[2],O=this.h[3],F=this.h[4];for(b=0;b<v.length;b++){var A=~~(b/20),P=d(u(x,5),h(A,k,T,O),F,v[b],p[A]);F=O,O=T,T=u(k,30),k=x,x=P}this.h[0]=l(this.h[0],x),this.h[1]=l(this.h[1],k),this.h[2]=l(this.h[2],T),this.h[3]=l(this.h[3],O),this.h[4]=l(this.h[4],F)},g.prototype._digest=function(y){return y==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(r,n,s){var i=r("../utils"),a=r("./256");function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,a),n.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(u){return u==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(r,n,s){var i=r("../utils"),a=r("../common"),o=r("./common"),u=r("minimalistic-assert"),l=i.sum32,d=i.sum32_4,h=i.sum32_5,f=o.ch32,p=o.maj32,g=o.s0_256,y=o.s1_256,m=o.g0_256,v=o.g1_256,b=a.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k(){if(!(this instanceof k))return new k;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}i.inherits(k,b),n.exports=k,k.blockSize=512,k.outSize=256,k.hmacStrength=192,k.padLength=64,k.prototype._update=function(T,O){for(var F=this.W,A=0;A<16;A++)F[A]=T[O+A];for(;A<F.length;A++)F[A]=d(v(F[A-2]),F[A-7],m(F[A-15]),F[A-16]);var P=this.h[0],D=this.h[1],V=this.h[2],B=this.h[3],C=this.h[4],I=this.h[5],N=this.h[6],w=this.h[7];for(u(this.k.length===F.length),A=0;A<F.length;A++){var _=h(w,y(C),f(C,I,N),this.k[A],F[A]),S=l(g(P),p(P,D,V));w=N,N=I,I=C,C=l(B,_),B=V,V=D,D=P,P=l(_,S)}this.h[0]=l(this.h[0],P),this.h[1]=l(this.h[1],D),this.h[2]=l(this.h[2],V),this.h[3]=l(this.h[3],B),this.h[4]=l(this.h[4],C),this.h[5]=l(this.h[5],I),this.h[6]=l(this.h[6],N),this.h[7]=l(this.h[7],w)},k.prototype._digest=function(T){return T==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(r,n,s){var i=r("../utils"),a=r("./512");function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,a),n.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(u){return u==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(r,n,s){var i=r("../utils"),a=r("../common"),o=r("minimalistic-assert"),u=i.rotr64_hi,l=i.rotr64_lo,d=i.shr64_hi,h=i.shr64_lo,f=i.sum64,p=i.sum64_hi,g=i.sum64_lo,y=i.sum64_4_hi,m=i.sum64_4_lo,v=i.sum64_5_hi,b=i.sum64_5_lo,x=a.BlockHash,k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function T(){if(!(this instanceof T))return new T;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=k,this.W=new Array(160)}function O(S,j,R,$,U){var q=S&R^~S&U;return q<0&&(q+=4294967296),q}function F(S,j,R,$,U,q){var H=j&$^~j&q;return H<0&&(H+=4294967296),H}function A(S,j,R,$,U){var q=S&R^S&U^R&U;return q<0&&(q+=4294967296),q}function P(S,j,R,$,U,q){var H=j&$^j&q^$&q;return H<0&&(H+=4294967296),H}function D(S,j){var R=u(S,j,28)^u(j,S,2)^u(j,S,7);return R<0&&(R+=4294967296),R}function V(S,j){var R=l(S,j,28)^l(j,S,2)^l(j,S,7);return R<0&&(R+=4294967296),R}function B(S,j){var R=u(S,j,14)^u(S,j,18)^u(j,S,9);return R<0&&(R+=4294967296),R}function C(S,j){var R=l(S,j,14)^l(S,j,18)^l(j,S,9);return R<0&&(R+=4294967296),R}function I(S,j){var R=u(S,j,1)^u(S,j,8)^d(S,j,7);return R<0&&(R+=4294967296),R}function N(S,j){var R=l(S,j,1)^l(S,j,8)^h(S,j,7);return R<0&&(R+=4294967296),R}function w(S,j){var R=u(S,j,19)^u(j,S,29)^d(S,j,6);return R<0&&(R+=4294967296),R}function _(S,j){var R=l(S,j,19)^l(j,S,29)^h(S,j,6);return R<0&&(R+=4294967296),R}i.inherits(T,x),n.exports=T,T.blockSize=1024,T.outSize=512,T.hmacStrength=192,T.padLength=128,T.prototype._prepareBlock=function(S,j){for(var R=this.W,$=0;$<32;$++)R[$]=S[j+$];for(;$<R.length;$+=2){var U=w(R[$-4],R[$-3]),q=_(R[$-4],R[$-3]),H=R[$-14],Y=R[$-13],M=I(R[$-30],R[$-29]),K=N(R[$-30],R[$-29]),z=R[$-32],L=R[$-31];R[$]=y(U,q,H,Y,M,K,z,L),R[$+1]=m(U,q,H,Y,M,K,z,L)}},T.prototype._update=function(S,j){this._prepareBlock(S,j);var R=this.W,$=this.h[0],U=this.h[1],q=this.h[2],H=this.h[3],Y=this.h[4],M=this.h[5],K=this.h[6],z=this.h[7],L=this.h[8],W=this.h[9],J=this.h[10],le=this.h[11],ne=this.h[12],ue=this.h[13],G=this.h[14],te=this.h[15];o(this.k.length===R.length);for(var X=0;X<R.length;X+=2){var ae=G,re=te,ee=B(L,W),Z=C(L,W),Q=O(L,W,J,le,ne),ie=F(L,W,J,le,ne,ue),ce=this.k[X],ge=this.k[X+1],we=R[X],Te=R[X+1],Ae=v(ae,re,ee,Z,Q,ie,ce,ge,we,Te),De=b(ae,re,ee,Z,Q,ie,ce,ge,we,Te);ae=D($,U),re=V($,U),ee=A($,U,q,H,Y),Z=P($,U,q,H,Y,M);var Fe=p(ae,re,ee,Z),rt=g(ae,re,ee,Z);G=ne,te=ue,ne=J,ue=le,J=L,le=W,L=p(K,z,Ae,De),W=g(z,z,Ae,De),K=Y,z=M,Y=q,M=H,q=$,H=U,$=p(Ae,De,Fe,rt),U=g(Ae,De,Fe,rt)}f(this.h,0,$,U),f(this.h,2,q,H),f(this.h,4,Y,M),f(this.h,6,K,z),f(this.h,8,L,W),f(this.h,10,J,le),f(this.h,12,ne,ue),f(this.h,14,G,te)},T.prototype._digest=function(S){return S==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(r,n,s){var i=r("../utils").rotr32;function a(l,d,h){return l&d^~l&h}function o(l,d,h){return l&d^l&h^d&h}function u(l,d,h){return l^d^h}s.ft_1=function(l,d,h,f){return l===0?a(d,h,f):l===1||l===3?u(d,h,f):l===2?o(d,h,f):void 0},s.ch32=a,s.maj32=o,s.p32=u,s.s0_256=function(l){return i(l,2)^i(l,13)^i(l,22)},s.s1_256=function(l){return i(l,6)^i(l,11)^i(l,25)},s.g0_256=function(l){return i(l,7)^i(l,18)^l>>>3},s.g1_256=function(l){return i(l,17)^i(l,19)^l>>>10}},{"../utils":437}],437:[function(r,n,s){var i=r("minimalistic-assert"),a=r("inherits");function o(h,f){return(64512&h.charCodeAt(f))==55296&&!(f<0||f+1>=h.length)&&(64512&h.charCodeAt(f+1))==56320}function u(h){return(h>>>24|h>>>8&65280|h<<8&16711680|(255&h)<<24)>>>0}function l(h){return h.length===1?"0"+h:h}function d(h){return h.length===7?"0"+h:h.length===6?"00"+h:h.length===5?"000"+h:h.length===4?"0000"+h:h.length===3?"00000"+h:h.length===2?"000000"+h:h.length===1?"0000000"+h:h}s.inherits=a,s.toArray=function(h,f){if(Array.isArray(h))return h.slice();if(!h)return[];var p=[];if(typeof h=="string")if(f){if(f==="hex")for((h=h.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(h="0"+h),y=0;y<h.length;y+=2)p.push(parseInt(h[y]+h[y+1],16))}else for(var g=0,y=0;y<h.length;y++){var m=h.charCodeAt(y);m<128?p[g++]=m:m<2048?(p[g++]=m>>6|192,p[g++]=63&m|128):o(h,y)?(m=65536+((1023&m)<<10)+(1023&h.charCodeAt(++y)),p[g++]=m>>18|240,p[g++]=m>>12&63|128,p[g++]=m>>6&63|128,p[g++]=63&m|128):(p[g++]=m>>12|224,p[g++]=m>>6&63|128,p[g++]=63&m|128)}else for(y=0;y<h.length;y++)p[y]=0|h[y];return p},s.toHex=function(h){for(var f="",p=0;p<h.length;p++)f+=l(h[p].toString(16));return f},s.htonl=u,s.toHex32=function(h,f){for(var p="",g=0;g<h.length;g++){var y=h[g];f==="little"&&(y=u(y)),p+=d(y.toString(16))}return p},s.zero2=l,s.zero8=d,s.join32=function(h,f,p,g){var y=p-f;i(y%4==0);for(var m=new Array(y/4),v=0,b=f;v<m.length;v++,b+=4){var x;x=g==="big"?h[b]<<24|h[b+1]<<16|h[b+2]<<8|h[b+3]:h[b+3]<<24|h[b+2]<<16|h[b+1]<<8|h[b],m[v]=x>>>0}return m},s.split32=function(h,f){for(var p=new Array(4*h.length),g=0,y=0;g<h.length;g++,y+=4){var m=h[g];f==="big"?(p[y]=m>>>24,p[y+1]=m>>>16&255,p[y+2]=m>>>8&255,p[y+3]=255&m):(p[y+3]=m>>>24,p[y+2]=m>>>16&255,p[y+1]=m>>>8&255,p[y]=255&m)}return p},s.rotr32=function(h,f){return h>>>f|h<<32-f},s.rotl32=function(h,f){return h<<f|h>>>32-f},s.sum32=function(h,f){return h+f>>>0},s.sum32_3=function(h,f,p){return h+f+p>>>0},s.sum32_4=function(h,f,p,g){return h+f+p+g>>>0},s.sum32_5=function(h,f,p,g,y){return h+f+p+g+y>>>0},s.sum64=function(h,f,p,g){var y=h[f],m=g+h[f+1]>>>0,v=(m<g?1:0)+p+y;h[f]=v>>>0,h[f+1]=m},s.sum64_hi=function(h,f,p,g){return(f+g>>>0<f?1:0)+h+p>>>0},s.sum64_lo=function(h,f,p,g){return f+g>>>0},s.sum64_4_hi=function(h,f,p,g,y,m,v,b){var x=0,k=f;return x+=(k=k+g>>>0)<f?1:0,x+=(k=k+m>>>0)<m?1:0,h+p+y+v+(x+=(k=k+b>>>0)<b?1:0)>>>0},s.sum64_4_lo=function(h,f,p,g,y,m,v,b){return f+g+m+b>>>0},s.sum64_5_hi=function(h,f,p,g,y,m,v,b,x,k){var T=0,O=f;return T+=(O=O+g>>>0)<f?1:0,T+=(O=O+m>>>0)<m?1:0,T+=(O=O+b>>>0)<b?1:0,h+p+y+v+x+(T+=(O=O+k>>>0)<k?1:0)>>>0},s.sum64_5_lo=function(h,f,p,g,y,m,v,b,x,k){return f+g+m+b+k>>>0},s.rotr64_hi=function(h,f,p){return(f<<32-p|h>>>p)>>>0},s.rotr64_lo=function(h,f,p){return(h<<32-p|f>>>p)>>>0},s.shr64_hi=function(h,f,p){return h>>>p},s.shr64_lo=function(h,f,p){return(h<<32-p|f>>>p)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(r,n,s){var i=r("hash.js"),a=r("minimalistic-crypto-utils"),o=r("minimalistic-assert");function u(l){if(!(this instanceof u))return new u(l);this.hash=l.hash,this.predResist=!!l.predResist,this.outLen=this.hash.outSize,this.minEntropy=l.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=a.toArray(l.entropy,l.entropyEnc||"hex"),h=a.toArray(l.nonce,l.nonceEnc||"hex"),f=a.toArray(l.pers,l.persEnc||"hex");o(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,h,f)}n.exports=u,u.prototype._init=function(l,d,h){var f=l.concat(d).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var p=0;p<this.V.length;p++)this.K[p]=0,this.V[p]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},u.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},u.prototype._update=function(l){var d=this._hmac().update(this.V).update([0]);l&&(d=d.update(l)),this.K=d.digest(),this.V=this._hmac().update(this.V).digest(),l&&(this.K=this._hmac().update(this.V).update([1]).update(l).digest(),this.V=this._hmac().update(this.V).digest())},u.prototype.reseed=function(l,d,h,f){typeof d!="string"&&(f=h,h=d,d=null),l=a.toArray(l,d),h=a.toArray(h,f),o(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(l.concat(h||[])),this._reseed=1},u.prototype.generate=function(l,d,h,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof d!="string"&&(f=h,h=d,d=null),h&&(h=a.toArray(h,f||"hex"),this._update(h));for(var p=[];p.length<l;)this.V=this._hmac().update(this.V).digest(),p=p.concat(this.V);var g=p.slice(0,l);return this._update(h),this._reseed++,a.encode(g,d)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(r,n,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(i,a,o,u,l){var d,h,f=8*l-u-1,p=(1<<f)-1,g=p>>1,y=-7,m=o?l-1:0,v=o?-1:1,b=i[a+m];for(m+=v,d=b&(1<<-y)-1,b>>=-y,y+=f;y>0;d=256*d+i[a+m],m+=v,y-=8);for(h=d&(1<<-y)-1,d>>=-y,y+=u;y>0;h=256*h+i[a+m],m+=v,y-=8);if(d===0)d=1-g;else{if(d===p)return h?NaN:1/0*(b?-1:1);h+=Math.pow(2,u),d-=g}return(b?-1:1)*h*Math.pow(2,d-u)},s.write=function(i,a,o,u,l,d){var h,f,p,g=8*d-l-1,y=(1<<g)-1,m=y>>1,v=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=u?0:d-1,x=u?1:-1,k=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(f=isNaN(a)?1:0,h=y):(h=Math.floor(Math.log(a)/Math.LN2),a*(p=Math.pow(2,-h))<1&&(h--,p*=2),(a+=h+m>=1?v/p:v*Math.pow(2,1-m))*p>=2&&(h++,p/=2),h+m>=y?(f=0,h=y):h+m>=1?(f=(a*p-1)*Math.pow(2,l),h+=m):(f=a*Math.pow(2,m-1)*Math.pow(2,l),h=0));l>=8;i[o+b]=255&f,b+=x,f/=256,l-=8);for(h=h<<l|f,g+=l;g>0;i[o+b]=255&h,b+=x,h/=256,g-=8);i[o+b-x]|=128*k}},{}],440:[function(r,n,s){typeof Object.create=="function"?n.exports=function(i,a){a&&(i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(i,a){if(a){i.super_=a;var o=function(){};o.prototype=a.prototype,i.prototype=new o,i.prototype.constructor=i}}},{}],441:[function(r,n,s){(function(i,a,o,u,l,d,h,f){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(p){typeof s=="object"&&n!==void 0?n.exports=p():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=p()})((function(){return(function p(g,y,m){function v(k,T){if(!y[k]){if(!g[k]){var O=typeof r=="function"&&r;if(!T&&O)return O(k,!0);if(b)return b(k,!0);var F=new Error("Cannot find module '"+k+"'");throw F.code="MODULE_NOT_FOUND",F}var A=y[k]={exports:{}};g[k][0].call(A.exports,(function(P){return v(g[k][1][P]||P)}),A,A.exports,p,g,y,m)}return y[k].exports}for(var b=typeof r=="function"&&r,x=0;x<m.length;x++)v(m[x]);return v})({1:[function(p,g,y){var m=p("./utils"),v=p("./support"),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(x){for(var k,T,O,F,A,P,D,V=[],B=0,C=x.length,I=C,N=m.getTypeOf(x)!=="string";B<x.length;)I=C-B,O=N?(k=x[B++],T=B<C?x[B++]:0,B<C?x[B++]:0):(k=x.charCodeAt(B++),T=B<C?x.charCodeAt(B++):0,B<C?x.charCodeAt(B++):0),F=k>>2,A=(3&k)<<4|T>>4,P=1<I?(15&T)<<2|O>>6:64,D=2<I?63&O:64,V.push(b.charAt(F)+b.charAt(A)+b.charAt(P)+b.charAt(D));return V.join("")},y.decode=function(x){var k,T,O,F,A,P,D=0,V=0,B="data:";if(x.substr(0,B.length)===B)throw new Error("Invalid base64 input, it looks like a data url.");var C,I=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===b.charAt(64)&&I--,x.charAt(x.length-2)===b.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=v.uint8array?new Uint8Array(0|I):new Array(0|I);D<x.length;)k=b.indexOf(x.charAt(D++))<<2|(F=b.indexOf(x.charAt(D++)))>>4,T=(15&F)<<4|(A=b.indexOf(x.charAt(D++)))>>2,O=(3&A)<<6|(P=b.indexOf(x.charAt(D++))),C[V++]=k,A!==64&&(C[V++]=T),P!==64&&(C[V++]=O);return C}},{"./support":30,"./utils":32}],2:[function(p,g,y){var m=p("./external"),v=p("./stream/DataWorker"),b=p("./stream/Crc32Probe"),x=p("./stream/DataLengthProbe");function k(T,O,F,A,P){this.compressedSize=T,this.uncompressedSize=O,this.crc32=F,this.compression=A,this.compressedContent=P}k.prototype={getContentWorker:function(){var T=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),O=this;return T.on("end",(function(){if(this.streamInfo.data_length!==O.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),T},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},k.createWorkerFrom=function(T,O,F){return T.pipe(new b).pipe(new x("uncompressedSize")).pipe(O.compressWorker(F)).pipe(new x("compressedSize")).withStreamInfo("compression",O)},g.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(p,g,y){var m=p("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},y.DEFLATE=p("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(p,g,y){var m=p("./utils"),v=(function(){for(var b,x=[],k=0;k<256;k++){b=k;for(var T=0;T<8;T++)b=1&b?3988292384^b>>>1:b>>>1;x[k]=b}return x})();g.exports=function(b,x){return b!==void 0&&b.length?m.getTypeOf(b)!=="string"?(function(k,T,O,F){var A=v,P=0+O;k^=-1;for(var D=0;D<P;D++)k=k>>>8^A[255&(k^T[D])];return-1^k})(0|x,b,b.length):(function(k,T,O,F){var A=v,P=0+O;k^=-1;for(var D=0;D<P;D++)k=k>>>8^A[255&(k^T.charCodeAt(D))];return-1^k})(0|x,b,b.length):0}},{"./utils":32}],5:[function(p,g,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(p,g,y){var m;m=typeof Promise<"u"?Promise:p("lie"),g.exports={Promise:m}},{lie:37}],7:[function(p,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=p("pako"),b=p("./utils"),x=p("./stream/GenericWorker"),k=m?"uint8array":"array";function T(O,F){x.call(this,"FlateWorker/"+O),this._pako=null,this._pakoAction=O,this._pakoOptions=F,this.meta={}}y.magic="\b\0",b.inherits(T,x),T.prototype.processChunk=function(O){this.meta=O.meta,this._pako===null&&this._createPako(),this._pako.push(b.transformTo(k,O.data),!1)},T.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},T.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},T.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var O=this;this._pako.onData=function(F){O.push({data:F,meta:O.meta})}},y.compressWorker=function(O){return new T("Deflate",O)},y.uncompressWorker=function(){return new T("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(p,g,y){function m(A,P){var D,V="";for(D=0;D<P;D++)V+=String.fromCharCode(255&A),A>>>=8;return V}function v(A,P,D,V,B,C){var I,N,w=A.file,_=A.compression,S=C!==k.utf8encode,j=b.transformTo("string",C(w.name)),R=b.transformTo("string",k.utf8encode(w.name)),$=w.comment,U=b.transformTo("string",C($)),q=b.transformTo("string",k.utf8encode($)),H=R.length!==w.name.length,Y=q.length!==$.length,M="",K="",z="",L=w.dir,W=w.date,J={crc32:0,compressedSize:0,uncompressedSize:0};P&&!D||(J.crc32=A.crc32,J.compressedSize=A.compressedSize,J.uncompressedSize=A.uncompressedSize);var le=0;P&&(le|=8),S||!H&&!Y||(le|=2048);var ne=0,ue=0;L&&(ne|=16),B==="UNIX"?(ue=798,ne|=(function(te,X){var ae=te;return te||(ae=X?16893:33204),(65535&ae)<<16})(w.unixPermissions,L)):(ue=20,ne|=(function(te){return 63&(te||0)})(w.dosPermissions)),I=W.getUTCHours(),I<<=6,I|=W.getUTCMinutes(),I<<=5,I|=W.getUTCSeconds()/2,N=W.getUTCFullYear()-1980,N<<=4,N|=W.getUTCMonth()+1,N<<=5,N|=W.getUTCDate(),H&&(K=m(1,1)+m(T(j),4)+R,M+="up"+m(K.length,2)+K),Y&&(z=m(1,1)+m(T(U),4)+q,M+="uc"+m(z.length,2)+z);var G="";return G+=`
\0`,G+=m(le,2),G+=_.magic,G+=m(I,2),G+=m(N,2),G+=m(J.crc32,4),G+=m(J.compressedSize,4),G+=m(J.uncompressedSize,4),G+=m(j.length,2),G+=m(M.length,2),{fileRecord:O.LOCAL_FILE_HEADER+G+j+M,dirRecord:O.CENTRAL_FILE_HEADER+m(ue,2)+G+m(U.length,2)+"\0\0\0\0"+m(ne,4)+m(V,4)+j+M+U}}var b=p("../utils"),x=p("../stream/GenericWorker"),k=p("../utf8"),T=p("../crc32"),O=p("../signature");function F(A,P,D,V){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=P,this.zipPlatform=D,this.encodeFileName=V,this.streamFiles=A,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}b.inherits(F,x),F.prototype.push=function(A){var P=A.meta.percent||0,D=this.entriesCount,V=this._sources.length;this.accumulate?this.contentBuffer.push(A):(this.bytesWritten+=A.data.length,x.prototype.push.call(this,{data:A.data,meta:{currentFile:this.currentFile,percent:D?(P+100*(D-V-1))/D:100}}))},F.prototype.openedSource=function(A){this.currentSourceOffset=this.bytesWritten,this.currentFile=A.file.name;var P=this.streamFiles&&!A.file.dir;if(P){var D=v(A,P,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:D.fileRecord,meta:{percent:0}})}else this.accumulate=!0},F.prototype.closedSource=function(A){this.accumulate=!1;var P=this.streamFiles&&!A.file.dir,D=v(A,P,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(D.dirRecord),P)this.push({data:(function(V){return O.DATA_DESCRIPTOR+m(V.crc32,4)+m(V.compressedSize,4)+m(V.uncompressedSize,4)})(A),meta:{percent:100}});else for(this.push({data:D.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},F.prototype.flush=function(){for(var A=this.bytesWritten,P=0;P<this.dirRecords.length;P++)this.push({data:this.dirRecords[P],meta:{percent:100}});var D=this.bytesWritten-A,V=(function(B,C,I,N,w){var _=b.transformTo("string",w(N));return O.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(B,2)+m(B,2)+m(C,4)+m(I,4)+m(_.length,2)+_})(this.dirRecords.length,D,A,this.zipComment,this.encodeFileName);this.push({data:V,meta:{percent:100}})},F.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},F.prototype.registerPrevious=function(A){this._sources.push(A);var P=this;return A.on("data",(function(D){P.processChunk(D)})),A.on("end",(function(){P.closedSource(P.previous.streamInfo),P._sources.length?P.prepareNextSource():P.end()})),A.on("error",(function(D){P.error(D)})),this},F.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},F.prototype.error=function(A){var P=this._sources;if(!x.prototype.error.call(this,A))return!1;for(var D=0;D<P.length;D++)try{P[D].error(A)}catch{}return!0},F.prototype.lock=function(){x.prototype.lock.call(this);for(var A=this._sources,P=0;P<A.length;P++)A[P].lock()},g.exports=F},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(p,g,y){var m=p("../compressions"),v=p("./ZipFileWorker");y.generateWorker=function(b,x,k){var T=new v(x.streamFiles,k,x.platform,x.encodeFileName),O=0;try{b.forEach((function(F,A){O++;var P=(function(C,I){var N=C||I,w=m[N];if(!w)throw new Error(N+" is not a valid compression method !");return w})(A.options.compression,x.compression),D=A.options.compressionOptions||x.compressionOptions||{},V=A.dir,B=A.date;A._compressWorker(P,D).withStreamInfo("file",{name:F,dir:V,date:B,comment:A.comment||"",unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions}).pipe(T)})),T.entriesCount=O}catch(F){T.error(F)}return T}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(p,g,y){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var b in this)typeof this[b]!="function"&&(v[b]=this[b]);return v}}(m.prototype=p("./object")).loadAsync=p("./load"),m.support=p("./support"),m.defaults=p("./defaults"),m.version="3.10.1",m.loadAsync=function(v,b){return new m().loadAsync(v,b)},m.external=p("./external"),g.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(p,g,y){var m=p("./utils"),v=p("./external"),b=p("./utf8"),x=p("./zipEntries"),k=p("./stream/Crc32Probe"),T=p("./nodejsUtils");function O(F){return new v.Promise((function(A,P){var D=F.decompressed.getContentWorker().pipe(new k);D.on("error",(function(V){P(V)})).on("end",(function(){D.streamInfo.crc32!==F.decompressed.crc32?P(new Error("Corrupted zip : CRC32 mismatch")):A()})).resume()}))}g.exports=function(F,A){var P=this;return A=m.extend(A||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:b.utf8decode}),T.isNode&&T.isStream(F)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",F,!0,A.optimizedBinaryString,A.base64).then((function(D){var V=new x(A);return V.load(D),V})).then((function(D){var V=[v.Promise.resolve(D)],B=D.files;if(A.checkCRC32)for(var C=0;C<B.length;C++)V.push(O(B[C]));return v.Promise.all(V)})).then((function(D){for(var V=D.shift(),B=V.files,C=0;C<B.length;C++){var I=B[C],N=I.fileNameStr,w=m.resolve(I.fileNameStr);P.file(w,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:A.createFolders}),I.dir||(P.file(w).unsafeOriginalName=N)}return V.zipComment.length&&(P.comment=V.zipComment),P}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(p,g,y){var m=p("../utils"),v=p("../stream/GenericWorker");function b(x,k){v.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(k)}m.inherits(b,v),b.prototype._bindStream=function(x){var k=this;(this._stream=x).pause(),x.on("data",(function(T){k.push({data:T,meta:{percent:0}})})).on("error",(function(T){k.isPaused?this.generatedError=T:k.error(T)})).on("end",(function(){k.isPaused?k._upstreamEnded=!0:k.end()}))},b.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},b.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=b},{"../stream/GenericWorker":28,"../utils":32}],13:[function(p,g,y){var m=p("readable-stream").Readable;function v(b,x,k){m.call(this,x),this._helper=b;var T=this;b.on("data",(function(O,F){T.push(O)||T._helper.pause(),k&&k(F)})).on("error",(function(O){T.emit("error",O)})).on("end",(function(){T.push(null)}))}p("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},g.exports=v},{"../utils":32,"readable-stream":16}],14:[function(p,g,y){g.exports={isNode:o!==void 0,newBufferFrom:function(m,v){if(o.from&&o.from!==Uint8Array.from)return o.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new o(m,v)},allocBuffer:function(m){if(o.alloc)return o.alloc(m);var v=new o(m);return v.fill(0),v},isBuffer:function(m){return o.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(p,g,y){function m(w,_,S){var j,R=b.getTypeOf(_),$=b.extend(S||{},T);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(w=B(w)),$.createFolders&&(j=V(w))&&C.call(this,j,!0);var U=R==="string"&&$.binary===!1&&$.base64===!1;S&&S.binary!==void 0||($.binary=!U),(_ instanceof O&&_.uncompressedSize===0||$.dir||!_||_.length===0)&&($.base64=!1,$.binary=!0,_="",$.compression="STORE",R="string");var q;q=_ instanceof O||_ instanceof x?_:P.isNode&&P.isStream(_)?new D(w,_):b.prepareContent(w,_,$.binary,$.optimizedBinaryString,$.base64);var H=new F(w,q,$);this.files[w]=H}var v=p("./utf8"),b=p("./utils"),x=p("./stream/GenericWorker"),k=p("./stream/StreamHelper"),T=p("./defaults"),O=p("./compressedObject"),F=p("./zipObject"),A=p("./generate"),P=p("./nodejsUtils"),D=p("./nodejs/NodejsStreamInputAdapter"),V=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var _=w.lastIndexOf("/");return 0<_?w.substring(0,_):""},B=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},C=function(w,_){return _=_!==void 0?_:T.createFolders,w=B(w),this.files[w]||m.call(this,w,null,{dir:!0,createFolders:_}),this.files[w]};function I(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var _,S,j;for(_ in this.files)j=this.files[_],(S=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&w(S,j)},filter:function(w){var _=[];return this.forEach((function(S,j){w(S,j)&&_.push(j)})),_},file:function(w,_,S){if(arguments.length!==1)return w=this.root+w,m.call(this,w,_,S),this;if(I(w)){var j=w;return this.filter((function($,U){return!U.dir&&j.test($)}))}var R=this.files[this.root+w];return R&&!R.dir?R:null},folder:function(w){if(!w)return this;if(I(w))return this.filter((function(R,$){return $.dir&&w.test(R)}));var _=this.root+w,S=C.call(this,_),j=this.clone();return j.root=S.name,j},remove:function(w){w=this.root+w;var _=this.files[w];if(_||(w.slice(-1)!=="/"&&(w+="/"),_=this.files[w]),_&&!_.dir)delete this.files[w];else for(var S=this.filter((function(R,$){return $.name.slice(0,w.length)===w})),j=0;j<S.length;j++)delete this.files[S[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var _,S={};try{if((S=b.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");b.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var j=S.comment||this.comment||"";_=A.generateWorker(this,S,j)}catch(R){(_=new x("error")).error(R)}return new k(_,S.type||"string",S.mimeType)},generateAsync:function(w,_){return this.generateInternalStream(w).accumulate(_)},generateNodeStream:function(w,_){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(_)}};g.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(p,g,y){g.exports=p("stream")},{stream:void 0}],17:[function(p,g,y){var m=p("./DataReader");function v(b){m.call(this,b);for(var x=0;x<this.data.length;x++)b[x]=255&b[x]}p("../utils").inherits(v,m),v.prototype.byteAt=function(b){return this.data[this.zero+b]},v.prototype.lastIndexOfSignature=function(b){for(var x=b.charCodeAt(0),k=b.charCodeAt(1),T=b.charCodeAt(2),O=b.charCodeAt(3),F=this.length-4;0<=F;--F)if(this.data[F]===x&&this.data[F+1]===k&&this.data[F+2]===T&&this.data[F+3]===O)return F-this.zero;return-1},v.prototype.readAndCheckSignature=function(b){var x=b.charCodeAt(0),k=b.charCodeAt(1),T=b.charCodeAt(2),O=b.charCodeAt(3),F=this.readData(4);return x===F[0]&&k===F[1]&&T===F[2]&&O===F[3]},v.prototype.readData=function(b){if(this.checkOffset(b),b===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,x},g.exports=v},{"../utils":32,"./DataReader":18}],18:[function(p,g,y){var m=p("../utils");function v(b){this.data=b,this.length=b.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||b<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+b+"). Corrupted zip ?")},setIndex:function(b){this.checkIndex(b),this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(){},readInt:function(b){var x,k=0;for(this.checkOffset(b),x=this.index+b-1;x>=this.index;x--)k=(k<<8)+this.byteAt(x);return this.index+=b,k},readString:function(b){return m.transformTo("string",this.readData(b))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var b=this.readInt(4);return new Date(Date.UTC(1980+(b>>25&127),(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}},g.exports=v},{"../utils":32}],19:[function(p,g,y){var m=p("./Uint8ArrayReader");function v(b){m.call(this,b)}p("../utils").inherits(v,m),v.prototype.readData=function(b){this.checkOffset(b);var x=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,x},g.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(p,g,y){var m=p("./DataReader");function v(b){m.call(this,b)}p("../utils").inherits(v,m),v.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)},v.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero},v.prototype.readAndCheckSignature=function(b){return b===this.readData(4)},v.prototype.readData=function(b){this.checkOffset(b);var x=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,x},g.exports=v},{"../utils":32,"./DataReader":18}],21:[function(p,g,y){var m=p("./ArrayReader");function v(b){m.call(this,b)}p("../utils").inherits(v,m),v.prototype.readData=function(b){if(this.checkOffset(b),b===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,x},g.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(p,g,y){var m=p("../utils"),v=p("../support"),b=p("./ArrayReader"),x=p("./StringReader"),k=p("./NodeBufferReader"),T=p("./Uint8ArrayReader");g.exports=function(O){var F=m.getTypeOf(O);return m.checkSupport(F),F!=="string"||v.uint8array?F==="nodebuffer"?new k(O):v.uint8array?new T(m.transformTo("uint8array",O)):new b(m.transformTo("array",O)):new x(O)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(p,g,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(p,g,y){var m=p("./GenericWorker"),v=p("../utils");function b(x){m.call(this,"ConvertWorker to "+x),this.destType=x}v.inherits(b,m),b.prototype.processChunk=function(x){this.push({data:v.transformTo(this.destType,x.data),meta:x.meta})},g.exports=b},{"../utils":32,"./GenericWorker":28}],25:[function(p,g,y){var m=p("./GenericWorker"),v=p("../crc32");function b(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}p("../utils").inherits(b,m),b.prototype.processChunk=function(x){this.streamInfo.crc32=v(x.data,this.streamInfo.crc32||0),this.push(x)},g.exports=b},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(p,g,y){var m=p("../utils"),v=p("./GenericWorker");function b(x){v.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}m.inherits(b,v),b.prototype.processChunk=function(x){if(x){var k=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=k+x.data.length}v.prototype.processChunk.call(this,x)},g.exports=b},{"../utils":32,"./GenericWorker":28}],27:[function(p,g,y){var m=p("../utils"),v=p("./GenericWorker");function b(x){v.call(this,"DataWorker");var k=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then((function(T){k.dataIsReady=!0,k.data=T,k.max=T&&T.length||0,k.type=m.getTypeOf(T),k.isPaused||k._tickAndRepeat()}),(function(T){k.error(T)}))}m.inherits(b,v),b.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},b.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},b.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},b.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,k=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,k);break;case"uint8array":x=this.data.subarray(this.index,k);break;case"array":case"nodebuffer":x=this.data.slice(this.index,k)}return this.index=k,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=b},{"../utils":32,"./GenericWorker":28}],28:[function(p,g,y){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,b){return this._listeners[v].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,b){if(this._listeners[v])for(var x=0;x<this._listeners[v].length;x++)this._listeners[v][x].call(this,b)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var b=this;return v.on("data",(function(x){b.processChunk(x)})),v.on("end",(function(){b.end()})),v.on("error",(function(x){b.error(x)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,b){return this.extraStreamInfo[v]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},g.exports=m},{}],29:[function(p,g,y){var m=p("../utils"),v=p("./ConvertWorker"),b=p("./GenericWorker"),x=p("../base64"),k=p("../support"),T=p("../external"),O=null;if(k.nodestream)try{O=p("../nodejs/NodejsStreamOutputAdapter")}catch{}function F(A,P,D){var V=P;switch(P){case"blob":case"arraybuffer":V="uint8array";break;case"base64":V="string"}try{this._internalType=V,this._outputType=P,this._mimeType=D,m.checkSupport(V),this._worker=A.pipe(new v(V)),A.lock()}catch(B){this._worker=new b("error"),this._worker.error(B)}}F.prototype={accumulate:function(A){return(function(P,D){return new T.Promise((function(V,B){var C=[],I=P._internalType,N=P._outputType,w=P._mimeType;P.on("data",(function(_,S){C.push(_),D&&D(S)})).on("error",(function(_){C=[],B(_)})).on("end",(function(){try{var _=(function(S,j,R){switch(S){case"blob":return m.newBlob(m.transformTo("arraybuffer",j),R);case"base64":return x.encode(j);default:return m.transformTo(S,j)}})(N,(function(S,j){var R,$=0,U=null,q=0;for(R=0;R<j.length;R++)q+=j[R].length;switch(S){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(U=new Uint8Array(q),R=0;R<j.length;R++)U.set(j[R],$),$+=j[R].length;return U;case"nodebuffer":return o.concat(j);default:throw new Error("concat : unsupported type '"+S+"'")}})(I,C),w);V(_)}catch(S){B(S)}C=[]})).resume()}))})(this,A)},on:function(A,P){var D=this;return A==="data"?this._worker.on(A,(function(V){P.call(D,V.data,V.meta)})):this._worker.on(A,(function(){m.delay(P,arguments,D)})),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new O(this,{objectMode:this._outputType!=="nodebuffer"},A)}},g.exports=F},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(p,g,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=o!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var m=new ArrayBuffer(0);try{y.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),y.blob=v.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!p("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(p,g,y){for(var m=p("./utils"),v=p("./support"),b=p("./nodejsUtils"),x=p("./stream/GenericWorker"),k=new Array(256),T=0;T<256;T++)k[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function O(){x.call(this,"utf-8 decode"),this.leftOver=null}function F(){x.call(this,"utf-8 encode")}k[254]=k[254]=1,y.utf8encode=function(A){return v.nodebuffer?b.newBufferFrom(A,"utf-8"):(function(P){var D,V,B,C,I,N=P.length,w=0;for(C=0;C<N;C++)(64512&(V=P.charCodeAt(C)))==55296&&C+1<N&&(64512&(B=P.charCodeAt(C+1)))==56320&&(V=65536+(V-55296<<10)+(B-56320),C++),w+=V<128?1:V<2048?2:V<65536?3:4;for(D=v.uint8array?new Uint8Array(w):new Array(w),C=I=0;I<w;C++)(64512&(V=P.charCodeAt(C)))==55296&&C+1<N&&(64512&(B=P.charCodeAt(C+1)))==56320&&(V=65536+(V-55296<<10)+(B-56320),C++),V<128?D[I++]=V:(V<2048?D[I++]=192|V>>>6:(V<65536?D[I++]=224|V>>>12:(D[I++]=240|V>>>18,D[I++]=128|V>>>12&63),D[I++]=128|V>>>6&63),D[I++]=128|63&V);return D})(A)},y.utf8decode=function(A){return v.nodebuffer?m.transformTo("nodebuffer",A).toString("utf-8"):(function(P){var D,V,B,C,I=P.length,N=new Array(2*I);for(D=V=0;D<I;)if((B=P[D++])<128)N[V++]=B;else if(4<(C=k[B]))N[V++]=65533,D+=C-1;else{for(B&=C===2?31:C===3?15:7;1<C&&D<I;)B=B<<6|63&P[D++],C--;1<C?N[V++]=65533:B<65536?N[V++]=B:(B-=65536,N[V++]=55296|B>>10&1023,N[V++]=56320|1023&B)}return N.length!==V&&(N.subarray?N=N.subarray(0,V):N.length=V),m.applyFromCharCode(N)})(A=m.transformTo(v.uint8array?"uint8array":"array",A))},m.inherits(O,x),O.prototype.processChunk=function(A){var P=m.transformTo(v.uint8array?"uint8array":"array",A.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var D=P;(P=new Uint8Array(D.length+this.leftOver.length)).set(this.leftOver,0),P.set(D,this.leftOver.length)}else P=this.leftOver.concat(P);this.leftOver=null}var V=(function(C,I){var N;for((I=I||C.length)>C.length&&(I=C.length),N=I-1;0<=N&&(192&C[N])==128;)N--;return N<0||N===0?I:N+k[C[N]]>I?N:I})(P),B=P;V!==P.length&&(v.uint8array?(B=P.subarray(0,V),this.leftOver=P.subarray(V,P.length)):(B=P.slice(0,V),this.leftOver=P.slice(V,P.length))),this.push({data:y.utf8decode(B),meta:A.meta})},O.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=O,m.inherits(F,x),F.prototype.processChunk=function(A){this.push({data:y.utf8encode(A.data),meta:A.meta})},y.Utf8EncodeWorker=F},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(p,g,y){var m=p("./support"),v=p("./base64"),b=p("./nodejsUtils"),x=p("./external");function k(D){return D}function T(D,V){for(var B=0;B<D.length;++B)V[B]=255&D.charCodeAt(B);return V}p("setimmediate"),y.newBlob=function(D,V){y.checkSupport("blob");try{return new Blob([D],{type:V})}catch{try{var B=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return B.append(D),B.getBlob(V)}catch{throw new Error("Bug : can't construct the Blob.")}}};var O={stringifyByChunk:function(D,V,B){var C=[],I=0,N=D.length;if(N<=B)return String.fromCharCode.apply(null,D);for(;I<N;)V==="array"||V==="nodebuffer"?C.push(String.fromCharCode.apply(null,D.slice(I,Math.min(I+B,N)))):C.push(String.fromCharCode.apply(null,D.subarray(I,Math.min(I+B,N)))),I+=B;return C.join("")},stringifyByChar:function(D){for(var V="",B=0;B<D.length;B++)V+=String.fromCharCode(D[B]);return V},applyCanBeUsed:{uint8array:(function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,b.allocBuffer(1)).length===1}catch{return!1}})()}};function F(D){var V=65536,B=y.getTypeOf(D),C=!0;if(B==="uint8array"?C=O.applyCanBeUsed.uint8array:B==="nodebuffer"&&(C=O.applyCanBeUsed.nodebuffer),C)for(;1<V;)try{return O.stringifyByChunk(D,B,V)}catch{V=Math.floor(V/2)}return O.stringifyByChar(D)}function A(D,V){for(var B=0;B<D.length;B++)V[B]=D[B];return V}y.applyFromCharCode=F;var P={};P.string={string:k,array:function(D){return T(D,new Array(D.length))},arraybuffer:function(D){return P.string.uint8array(D).buffer},uint8array:function(D){return T(D,new Uint8Array(D.length))},nodebuffer:function(D){return T(D,b.allocBuffer(D.length))}},P.array={string:F,array:k,arraybuffer:function(D){return new Uint8Array(D).buffer},uint8array:function(D){return new Uint8Array(D)},nodebuffer:function(D){return b.newBufferFrom(D)}},P.arraybuffer={string:function(D){return F(new Uint8Array(D))},array:function(D){return A(new Uint8Array(D),new Array(D.byteLength))},arraybuffer:k,uint8array:function(D){return new Uint8Array(D)},nodebuffer:function(D){return b.newBufferFrom(new Uint8Array(D))}},P.uint8array={string:F,array:function(D){return A(D,new Array(D.length))},arraybuffer:function(D){return D.buffer},uint8array:k,nodebuffer:function(D){return b.newBufferFrom(D)}},P.nodebuffer={string:F,array:function(D){return A(D,new Array(D.length))},arraybuffer:function(D){return P.nodebuffer.uint8array(D).buffer},uint8array:function(D){return A(D,new Uint8Array(D.length))},nodebuffer:k},y.transformTo=function(D,V){if(V=V||"",!D)return V;y.checkSupport(D);var B=y.getTypeOf(V);return P[B][D](V)},y.resolve=function(D){for(var V=D.split("/"),B=[],C=0;C<V.length;C++){var I=V[C];I==="."||I===""&&C!==0&&C!==V.length-1||(I===".."?B.pop():B.push(I))}return B.join("/")},y.getTypeOf=function(D){return typeof D=="string"?"string":Object.prototype.toString.call(D)==="[object Array]"?"array":m.nodebuffer&&b.isBuffer(D)?"nodebuffer":m.uint8array&&D instanceof Uint8Array?"uint8array":m.arraybuffer&&D instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(D){if(!m[D.toLowerCase()])throw new Error(D+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(D){var V,B,C="";for(B=0;B<(D||"").length;B++)C+="\\x"+((V=D.charCodeAt(B))<16?"0":"")+V.toString(16).toUpperCase();return C},y.delay=function(D,V,B){f((function(){D.apply(B||null,V||[])}))},y.inherits=function(D,V){function B(){}B.prototype=V.prototype,D.prototype=new B},y.extend=function(){var D,V,B={};for(D=0;D<arguments.length;D++)for(V in arguments[D])Object.prototype.hasOwnProperty.call(arguments[D],V)&&B[V]===void 0&&(B[V]=arguments[D][V]);return B},y.prepareContent=function(D,V,B,C,I){return x.Promise.resolve(V).then((function(N){return m.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new x.Promise((function(w,_){var S=new FileReader;S.onload=function(j){w(j.target.result)},S.onerror=function(j){_(j.target.error)},S.readAsArrayBuffer(N)})):N})).then((function(N){var w=y.getTypeOf(N);return w?(w==="arraybuffer"?N=y.transformTo("uint8array",N):w==="string"&&(I?N=v.decode(N):B&&C!==!0&&(N=(function(_){return T(_,m.uint8array?new Uint8Array(_.length):new Array(_.length))})(N))),N):x.Promise.reject(new Error("Can't read the data of '"+D+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(p,g,y){var m=p("./reader/readerFor"),v=p("./utils"),b=p("./signature"),x=p("./zipEntry"),k=p("./support");function T(O){this.files=[],this.loadOptions=O}T.prototype={checkSignature:function(O){if(!this.reader.readAndCheckSignature(O)){this.reader.index-=4;var F=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(F)+", expected "+v.pretty(O)+")")}},isSignature:function(O,F){var A=this.reader.index;this.reader.setIndex(O);var P=this.reader.readString(4)===F;return this.reader.setIndex(A),P},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var O=this.reader.readData(this.zipCommentLength),F=k.uint8array?"uint8array":"array",A=v.transformTo(F,O);this.zipComment=this.loadOptions.decodeFileName(A)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var O,F,A,P=this.zip64EndOfCentralSize-44;0<P;)O=this.reader.readInt(2),F=this.reader.readInt(4),A=this.reader.readData(F),this.zip64ExtensibleData[O]={id:O,length:F,value:A}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var O,F;for(O=0;O<this.files.length;O++)F=this.files[O],this.reader.setIndex(F.localHeaderOffset),this.checkSignature(b.LOCAL_FILE_HEADER),F.readLocalPart(this.reader),F.handleUTF8(),F.processAttributes()},readCentralDir:function(){var O;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(b.CENTRAL_FILE_HEADER);)(O=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(O);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var O=this.reader.lastIndexOfSignature(b.CENTRAL_DIRECTORY_END);if(O<0)throw this.isSignature(0,b.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(O);var F=O;if(this.checkSignature(b.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(O=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(O),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,b.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var A=this.centralDirOffset+this.centralDirSize;this.zip64&&(A+=20,A+=12+this.zip64EndOfCentralSize);var P=F-A;if(0<P)this.isSignature(F,b.CENTRAL_FILE_HEADER)||(this.reader.zero=P);else if(P<0)throw new Error("Corrupted zip: missing "+Math.abs(P)+" bytes.")},prepareReader:function(O){this.reader=m(O)},load:function(O){this.prepareReader(O),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=T},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(p,g,y){var m=p("./reader/readerFor"),v=p("./utils"),b=p("./compressedObject"),x=p("./crc32"),k=p("./utf8"),T=p("./compressions"),O=p("./support");function F(A,P){this.options=A,this.loadOptions=P}F.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(A){var P,D;if(A.skip(22),this.fileNameLength=A.readInt(2),D=A.readInt(2),this.fileName=A.readData(this.fileNameLength),A.skip(D),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((P=(function(V){for(var B in T)if(Object.prototype.hasOwnProperty.call(T,B)&&T[B].magic===V)return T[B];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new b(this.compressedSize,this.uncompressedSize,this.crc32,P,A.readData(this.compressedSize))},readCentralPart:function(A){this.versionMadeBy=A.readInt(2),A.skip(2),this.bitFlag=A.readInt(2),this.compressionMethod=A.readString(2),this.date=A.readDate(),this.crc32=A.readInt(4),this.compressedSize=A.readInt(4),this.uncompressedSize=A.readInt(4);var P=A.readInt(2);if(this.extraFieldsLength=A.readInt(2),this.fileCommentLength=A.readInt(2),this.diskNumberStart=A.readInt(2),this.internalFileAttributes=A.readInt(2),this.externalFileAttributes=A.readInt(4),this.localHeaderOffset=A.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");A.skip(P),this.readExtraFields(A),this.parseZIP64ExtraField(A),this.fileComment=A.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var A=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),A==0&&(this.dosPermissions=63&this.externalFileAttributes),A==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var A=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=A.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=A.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=A.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=A.readInt(4))}},readExtraFields:function(A){var P,D,V,B=A.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});A.index+4<B;)P=A.readInt(2),D=A.readInt(2),V=A.readData(D),this.extraFields[P]={id:P,length:D,value:V};A.setIndex(B)},handleUTF8:function(){var A=O.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=k.utf8decode(this.fileName),this.fileCommentStr=k.utf8decode(this.fileComment);else{var P=this.findExtraFieldUnicodePath();if(P!==null)this.fileNameStr=P;else{var D=v.transformTo(A,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(D)}var V=this.findExtraFieldUnicodeComment();if(V!==null)this.fileCommentStr=V;else{var B=v.transformTo(A,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(B)}}},findExtraFieldUnicodePath:function(){var A=this.extraFields[28789];if(A){var P=m(A.value);return P.readInt(1)!==1||x(this.fileName)!==P.readInt(4)?null:k.utf8decode(P.readData(A.length-5))}return null},findExtraFieldUnicodeComment:function(){var A=this.extraFields[25461];if(A){var P=m(A.value);return P.readInt(1)!==1||x(this.fileComment)!==P.readInt(4)?null:k.utf8decode(P.readData(A.length-5))}return null}},g.exports=F},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(p,g,y){function m(P,D,V){this.name=P,this.dir=V.dir,this.date=V.date,this.comment=V.comment,this.unixPermissions=V.unixPermissions,this.dosPermissions=V.dosPermissions,this._data=D,this._dataBinary=V.binary,this.options={compression:V.compression,compressionOptions:V.compressionOptions}}var v=p("./stream/StreamHelper"),b=p("./stream/DataWorker"),x=p("./utf8"),k=p("./compressedObject"),T=p("./stream/GenericWorker");m.prototype={internalStream:function(P){var D=null,V="string";try{if(!P)throw new Error("No output type specified.");var B=(V=P.toLowerCase())==="string"||V==="text";V!=="binarystring"&&V!=="text"||(V="string"),D=this._decompressWorker();var C=!this._dataBinary;C&&!B&&(D=D.pipe(new x.Utf8EncodeWorker)),!C&&B&&(D=D.pipe(new x.Utf8DecodeWorker))}catch(I){(D=new T("error")).error(I)}return new v(D,V,"")},async:function(P,D){return this.internalStream(P).accumulate(D)},nodeStream:function(P,D){return this.internalStream(P||"nodebuffer").toNodejsStream(D)},_compressWorker:function(P,D){if(this._data instanceof k&&this._data.compression.magic===P.magic)return this._data.getCompressedWorker();var V=this._decompressWorker();return this._dataBinary||(V=V.pipe(new x.Utf8EncodeWorker)),k.createWorkerFrom(V,P,D)},_decompressWorker:function(){return this._data instanceof k?this._data.getContentWorker():this._data instanceof T?this._data:new b(this._data)}};for(var O=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],F=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},A=0;A<O.length;A++)m.prototype[O[A]]=F;g.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(p,g,y){(function(m){var v,b,x=m.MutationObserver||m.WebKitMutationObserver;if(x){var k=0,T=new x(P),O=m.document.createTextNode("");T.observe(O,{characterData:!0}),v=function(){O.data=k=++k%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var D=m.document.createElement("script");D.onreadystatechange=function(){P(),D.onreadystatechange=null,D.parentNode.removeChild(D),D=null},m.document.documentElement.appendChild(D)}:function(){setTimeout(P,0)};else{var F=new m.MessageChannel;F.port1.onmessage=P,v=function(){F.port2.postMessage(0)}}var A=[];function P(){var D,V;b=!0;for(var B=A.length;B;){for(V=A,A=[],D=-1;++D<B;)V[D]();B=A.length}b=!1}g.exports=function(D){A.push(D)!==1||b||v()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(p,g,y){var m=p("immediate");function v(){}var b={},x=["REJECTED"],k=["FULFILLED"],T=["PENDING"];function O(B){if(typeof B!="function")throw new TypeError("resolver must be a function");this.state=T,this.queue=[],this.outcome=void 0,B!==v&&D(this,B)}function F(B,C,I){this.promise=B,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function A(B,C,I){m((function(){var N;try{N=C(I)}catch(w){return b.reject(B,w)}N===B?b.reject(B,new TypeError("Cannot resolve promise with itself")):b.resolve(B,N)}))}function P(B){var C=B&&B.then;if(B&&(typeof B=="object"||typeof B=="function")&&typeof C=="function")return function(){C.apply(B,arguments)}}function D(B,C){var I=!1;function N(S){I||(I=!0,b.reject(B,S))}function w(S){I||(I=!0,b.resolve(B,S))}var _=V((function(){C(w,N)}));_.status==="error"&&N(_.value)}function V(B,C){var I={};try{I.value=B(C),I.status="success"}catch(N){I.status="error",I.value=N}return I}(g.exports=O).prototype.finally=function(B){if(typeof B!="function")return this;var C=this.constructor;return this.then((function(I){return C.resolve(B()).then((function(){return I}))}),(function(I){return C.resolve(B()).then((function(){throw I}))}))},O.prototype.catch=function(B){return this.then(null,B)},O.prototype.then=function(B,C){if(typeof B!="function"&&this.state===k||typeof C!="function"&&this.state===x)return this;var I=new this.constructor(v);return this.state!==T?A(I,this.state===k?B:C,this.outcome):this.queue.push(new F(I,B,C)),I},F.prototype.callFulfilled=function(B){b.resolve(this.promise,B)},F.prototype.otherCallFulfilled=function(B){A(this.promise,this.onFulfilled,B)},F.prototype.callRejected=function(B){b.reject(this.promise,B)},F.prototype.otherCallRejected=function(B){A(this.promise,this.onRejected,B)},b.resolve=function(B,C){var I=V(P,C);if(I.status==="error")return b.reject(B,I.value);var N=I.value;if(N)D(B,N);else{B.state=k,B.outcome=C;for(var w=-1,_=B.queue.length;++w<_;)B.queue[w].callFulfilled(C)}return B},b.reject=function(B,C){B.state=x,B.outcome=C;for(var I=-1,N=B.queue.length;++I<N;)B.queue[I].callRejected(C);return B},O.resolve=function(B){return B instanceof this?B:b.resolve(new this(v),B)},O.reject=function(B){var C=new this(v);return b.reject(C,B)},O.all=function(B){var C=this;if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=B.length,N=!1;if(!I)return this.resolve([]);for(var w=new Array(I),_=0,S=-1,j=new this(v);++S<I;)R(B[S],S);return j;function R($,U){C.resolve($).then((function(q){w[U]=q,++_!==I||N||(N=!0,b.resolve(j,w))}),(function(q){N||(N=!0,b.reject(j,q))}))}},O.race=function(B){if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=B.length,I=!1;if(!C)return this.resolve([]);for(var N,w=-1,_=new this(v);++w<C;)N=B[w],this.resolve(N).then((function(S){I||(I=!0,b.resolve(_,S))}),(function(S){I||(I=!0,b.reject(_,S))}));return _}},{immediate:36}],38:[function(p,g,y){var m={};(0,p("./lib/utils/common").assign)(m,p("./lib/deflate"),p("./lib/inflate"),p("./lib/zlib/constants")),g.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(p,g,y){var m=p("./zlib/deflate"),v=p("./utils/common"),b=p("./utils/strings"),x=p("./zlib/messages"),k=p("./zlib/zstream"),T=Object.prototype.toString;function O(A){if(!(this instanceof O))return new O(A);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},A||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var D=m.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(D!==0)throw new Error(x[D]);if(P.header&&m.deflateSetHeader(this.strm,P.header),P.dictionary){var V;if(V=typeof P.dictionary=="string"?b.string2buf(P.dictionary):T.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,(D=m.deflateSetDictionary(this.strm,V))!==0)throw new Error(x[D]);this._dict_set=!0}}function F(A,P){var D=new O(P);if(D.push(A,!0),D.err)throw D.msg||x[D.err];return D.result}O.prototype.push=function(A,P){var D,V,B=this.strm,C=this.options.chunkSize;if(this.ended)return!1;V=P===~~P?P:P===!0?4:0,typeof A=="string"?B.input=b.string2buf(A):T.call(A)==="[object ArrayBuffer]"?B.input=new Uint8Array(A):B.input=A,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new v.Buf8(C),B.next_out=0,B.avail_out=C),(D=m.deflate(B,V))!==1&&D!==0)return this.onEnd(D),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||V!==4&&V!==2)||(this.options.to==="string"?this.onData(b.buf2binstring(v.shrinkBuf(B.output,B.next_out))):this.onData(v.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&D!==1);return V===4?(D=m.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===0):V!==2||(this.onEnd(0),!(B.avail_out=0))},O.prototype.onData=function(A){this.chunks.push(A)},O.prototype.onEnd=function(A){A===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},y.Deflate=O,y.deflate=F,y.deflateRaw=function(A,P){return(P=P||{}).raw=!0,F(A,P)},y.gzip=function(A,P){return(P=P||{}).gzip=!0,F(A,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(p,g,y){var m=p("./zlib/inflate"),v=p("./utils/common"),b=p("./utils/strings"),x=p("./zlib/constants"),k=p("./zlib/messages"),T=p("./zlib/zstream"),O=p("./zlib/gzheader"),F=Object.prototype.toString;function A(D){if(!(this instanceof A))return new A(D);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},D||{});var V=this.options;V.raw&&0<=V.windowBits&&V.windowBits<16&&(V.windowBits=-V.windowBits,V.windowBits===0&&(V.windowBits=-15)),!(0<=V.windowBits&&V.windowBits<16)||D&&D.windowBits||(V.windowBits+=32),15<V.windowBits&&V.windowBits<48&&(15&V.windowBits)==0&&(V.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var B=m.inflateInit2(this.strm,V.windowBits);if(B!==x.Z_OK)throw new Error(k[B]);this.header=new O,m.inflateGetHeader(this.strm,this.header)}function P(D,V){var B=new A(V);if(B.push(D,!0),B.err)throw B.msg||k[B.err];return B.result}A.prototype.push=function(D,V){var B,C,I,N,w,_,S=this.strm,j=this.options.chunkSize,R=this.options.dictionary,$=!1;if(this.ended)return!1;C=V===~~V?V:V===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof D=="string"?S.input=b.binstring2buf(D):F.call(D)==="[object ArrayBuffer]"?S.input=new Uint8Array(D):S.input=D,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new v.Buf8(j),S.next_out=0,S.avail_out=j),(B=m.inflate(S,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&R&&(_=typeof R=="string"?b.string2buf(R):F.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,B=m.inflateSetDictionary(this.strm,_)),B===x.Z_BUF_ERROR&&$===!0&&(B=x.Z_OK,$=!1),B!==x.Z_STREAM_END&&B!==x.Z_OK)return this.onEnd(B),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&B!==x.Z_STREAM_END&&(S.avail_in!==0||C!==x.Z_FINISH&&C!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=b.utf8border(S.output,S.next_out),N=S.next_out-I,w=b.buf2string(S.output,I),S.next_out=N,S.avail_out=j-N,N&&v.arraySet(S.output,S.output,I,N,0),this.onData(w)):this.onData(v.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&($=!0)}while((0<S.avail_in||S.avail_out===0)&&B!==x.Z_STREAM_END);return B===x.Z_STREAM_END&&(C=x.Z_FINISH),C===x.Z_FINISH?(B=m.inflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===x.Z_OK):C!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(S.avail_out=0))},A.prototype.onData=function(D){this.chunks.push(D)},A.prototype.onEnd=function(D){D===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg},y.Inflate=A,y.inflate=P,y.inflateRaw=function(D,V){return(V=V||{}).raw=!0,P(D,V)},y.ungzip=P},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(p,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(x){for(var k=Array.prototype.slice.call(arguments,1);k.length;){var T=k.shift();if(T){if(typeof T!="object")throw new TypeError(T+"must be non-object");for(var O in T)T.hasOwnProperty(O)&&(x[O]=T[O])}}return x},y.shrinkBuf=function(x,k){return x.length===k?x:x.subarray?x.subarray(0,k):(x.length=k,x)};var v={arraySet:function(x,k,T,O,F){if(k.subarray&&x.subarray)x.set(k.subarray(T,T+O),F);else for(var A=0;A<O;A++)x[F+A]=k[T+A]},flattenChunks:function(x){var k,T,O,F,A,P;for(k=O=0,T=x.length;k<T;k++)O+=x[k].length;for(P=new Uint8Array(O),k=F=0,T=x.length;k<T;k++)A=x[k],P.set(A,F),F+=A.length;return P}},b={arraySet:function(x,k,T,O,F){for(var A=0;A<O;A++)x[F+A]=k[T+A]},flattenChunks:function(x){return[].concat.apply([],x)}};y.setTyped=function(x){x?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,v)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,b))},y.setTyped(m)},{}],42:[function(p,g,y){var m=p("./common"),v=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b=!1}for(var x=new m.Buf8(256),k=0;k<256;k++)x[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function T(O,F){if(F<65537&&(O.subarray&&b||!O.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(O,F));for(var A="",P=0;P<F;P++)A+=String.fromCharCode(O[P]);return A}x[254]=x[254]=1,y.string2buf=function(O){var F,A,P,D,V,B=O.length,C=0;for(D=0;D<B;D++)(64512&(A=O.charCodeAt(D)))==55296&&D+1<B&&(64512&(P=O.charCodeAt(D+1)))==56320&&(A=65536+(A-55296<<10)+(P-56320),D++),C+=A<128?1:A<2048?2:A<65536?3:4;for(F=new m.Buf8(C),D=V=0;V<C;D++)(64512&(A=O.charCodeAt(D)))==55296&&D+1<B&&(64512&(P=O.charCodeAt(D+1)))==56320&&(A=65536+(A-55296<<10)+(P-56320),D++),A<128?F[V++]=A:(A<2048?F[V++]=192|A>>>6:(A<65536?F[V++]=224|A>>>12:(F[V++]=240|A>>>18,F[V++]=128|A>>>12&63),F[V++]=128|A>>>6&63),F[V++]=128|63&A);return F},y.buf2binstring=function(O){return T(O,O.length)},y.binstring2buf=function(O){for(var F=new m.Buf8(O.length),A=0,P=F.length;A<P;A++)F[A]=O.charCodeAt(A);return F},y.buf2string=function(O,F){var A,P,D,V,B=F||O.length,C=new Array(2*B);for(A=P=0;A<B;)if((D=O[A++])<128)C[P++]=D;else if(4<(V=x[D]))C[P++]=65533,A+=V-1;else{for(D&=V===2?31:V===3?15:7;1<V&&A<B;)D=D<<6|63&O[A++],V--;1<V?C[P++]=65533:D<65536?C[P++]=D:(D-=65536,C[P++]=55296|D>>10&1023,C[P++]=56320|1023&D)}return T(C,P)},y.utf8border=function(O,F){var A;for((F=F||O.length)>O.length&&(F=O.length),A=F-1;0<=A&&(192&O[A])==128;)A--;return A<0||A===0?F:A+x[O[A]]>F?A:F}},{"./common":41}],43:[function(p,g,y){g.exports=function(m,v,b,x){for(var k=65535&m|0,T=m>>>16&65535|0,O=0;b!==0;){for(b-=O=2e3<b?2e3:b;T=T+(k=k+v[x++]|0)|0,--O;);k%=65521,T%=65521}return k|T<<16|0}},{}],44:[function(p,g,y){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(p,g,y){var m=(function(){for(var v,b=[],x=0;x<256;x++){v=x;for(var k=0;k<8;k++)v=1&v?3988292384^v>>>1:v>>>1;b[x]=v}return b})();g.exports=function(v,b,x,k){var T=m,O=k+x;v^=-1;for(var F=k;F<O;F++)v=v>>>8^T[255&(v^b[F])];return-1^v}},{}],46:[function(p,g,y){var m,v=p("../utils/common"),b=p("./trees"),x=p("./adler32"),k=p("./crc32"),T=p("./messages"),O=-2,F=258,A=262,P=113;function D(M,K){return M.msg=T[K],K}function V(M){return(M<<1)-(4<M?9:0)}function B(M){for(var K=M.length;0<=--K;)M[K]=0}function C(M){var K=M.state,z=K.pending;z>M.avail_out&&(z=M.avail_out),z!==0&&(v.arraySet(M.output,K.pending_buf,K.pending_out,z,M.next_out),M.next_out+=z,K.pending_out+=z,M.total_out+=z,M.avail_out-=z,K.pending-=z,K.pending===0&&(K.pending_out=0))}function I(M,K){b._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,K),M.block_start=M.strstart,C(M.strm)}function N(M,K){M.pending_buf[M.pending++]=K}function w(M,K){M.pending_buf[M.pending++]=K>>>8&255,M.pending_buf[M.pending++]=255&K}function _(M,K){var z,L,W=M.max_chain_length,J=M.strstart,le=M.prev_length,ne=M.nice_match,ue=M.strstart>M.w_size-A?M.strstart-(M.w_size-A):0,G=M.window,te=M.w_mask,X=M.prev,ae=M.strstart+F,re=G[J+le-1],ee=G[J+le];M.prev_length>=M.good_match&&(W>>=2),ne>M.lookahead&&(ne=M.lookahead);do if(G[(z=K)+le]===ee&&G[z+le-1]===re&&G[z]===G[J]&&G[++z]===G[J+1]){J+=2,z++;do;while(G[++J]===G[++z]&&G[++J]===G[++z]&&G[++J]===G[++z]&&G[++J]===G[++z]&&G[++J]===G[++z]&&G[++J]===G[++z]&&G[++J]===G[++z]&&G[++J]===G[++z]&&J<ae);if(L=F-(ae-J),J=ae-F,le<L){if(M.match_start=K,ne<=(le=L))break;re=G[J+le-1],ee=G[J+le]}}while((K=X[K&te])>ue&&--W!=0);return le<=M.lookahead?le:M.lookahead}function S(M){var K,z,L,W,J,le,ne,ue,G,te,X=M.w_size;do{if(W=M.window_size-M.lookahead-M.strstart,M.strstart>=X+(X-A)){for(v.arraySet(M.window,M.window,X,X,0),M.match_start-=X,M.strstart-=X,M.block_start-=X,K=z=M.hash_size;L=M.head[--K],M.head[K]=X<=L?L-X:0,--z;);for(K=z=X;L=M.prev[--K],M.prev[K]=X<=L?L-X:0,--z;);W+=X}if(M.strm.avail_in===0)break;if(le=M.strm,ne=M.window,ue=M.strstart+M.lookahead,te=void 0,(G=W)<(te=le.avail_in)&&(te=G),z=te===0?0:(le.avail_in-=te,v.arraySet(ne,le.input,le.next_in,te,ue),le.state.wrap===1?le.adler=x(le.adler,ne,te,ue):le.state.wrap===2&&(le.adler=k(le.adler,ne,te,ue)),le.next_in+=te,le.total_in+=te,te),M.lookahead+=z,M.lookahead+M.insert>=3)for(J=M.strstart-M.insert,M.ins_h=M.window[J],M.ins_h=(M.ins_h<<M.hash_shift^M.window[J+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[J+3-1])&M.hash_mask,M.prev[J&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=J,J++,M.insert--,!(M.lookahead+M.insert<3)););}while(M.lookahead<A&&M.strm.avail_in!==0)}function j(M,K){for(var z,L;;){if(M.lookahead<A){if(S(M),M.lookahead<A&&K===0)return 1;if(M.lookahead===0)break}if(z=0,M.lookahead>=3&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,z=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),z!==0&&M.strstart-z<=M.w_size-A&&(M.match_length=_(M,z)),M.match_length>=3)if(L=b._tr_tally(M,M.strstart-M.match_start,M.match_length-3),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=3){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,z=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else L=b._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(L&&(I(M,!1),M.strm.avail_out===0))return 1}return M.insert=M.strstart<2?M.strstart:2,K===4?(I(M,!0),M.strm.avail_out===0?3:4):M.last_lit&&(I(M,!1),M.strm.avail_out===0)?1:2}function R(M,K){for(var z,L,W;;){if(M.lookahead<A){if(S(M),M.lookahead<A&&K===0)return 1;if(M.lookahead===0)break}if(z=0,M.lookahead>=3&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,z=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=2,z!==0&&M.prev_length<M.max_lazy_match&&M.strstart-z<=M.w_size-A&&(M.match_length=_(M,z),M.match_length<=5&&(M.strategy===1||M.match_length===3&&4096<M.strstart-M.match_start)&&(M.match_length=2)),M.prev_length>=3&&M.match_length<=M.prev_length){for(W=M.strstart+M.lookahead-3,L=b._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-3),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=W&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,z=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=2,M.strstart++,L&&(I(M,!1),M.strm.avail_out===0))return 1}else if(M.match_available){if((L=b._tr_tally(M,0,M.window[M.strstart-1]))&&I(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return 1}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(L=b._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<2?M.strstart:2,K===4?(I(M,!0),M.strm.avail_out===0?3:4):M.last_lit&&(I(M,!1),M.strm.avail_out===0)?1:2}function $(M,K,z,L,W){this.good_length=M,this.max_lazy=K,this.nice_length=z,this.max_chain=L,this.func=W}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),B(this.dyn_ltree),B(this.dyn_dtree),B(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),B(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),B(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(M){var K;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=2,(K=M.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:P,M.adler=K.wrap===2?0:1,K.last_flush=0,b._tr_init(K),0):D(M,O)}function H(M){var K=q(M);return K===0&&(function(z){z.window_size=2*z.w_size,B(z.head),z.max_lazy_match=m[z.level].max_lazy,z.good_match=m[z.level].good_length,z.nice_match=m[z.level].nice_length,z.max_chain_length=m[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=2,z.match_available=0,z.ins_h=0})(M.state),K}function Y(M,K,z,L,W,J){if(!M)return O;var le=1;if(K===-1&&(K=6),L<0?(le=0,L=-L):15<L&&(le=2,L-=16),W<1||9<W||z!==8||L<8||15<L||K<0||9<K||J<0||4<J)return D(M,O);L===8&&(L=9);var ne=new U;return(M.state=ne).strm=M,ne.wrap=le,ne.gzhead=null,ne.w_bits=L,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=W+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+3-1)/3),ne.window=new v.Buf8(2*ne.w_size),ne.head=new v.Buf16(ne.hash_size),ne.prev=new v.Buf16(ne.w_size),ne.lit_bufsize=1<<W+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new v.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=K,ne.strategy=J,ne.method=z,H(M)}m=[new $(0,0,0,0,(function(M,K){var z=65535;for(z>M.pending_buf_size-5&&(z=M.pending_buf_size-5);;){if(M.lookahead<=1){if(S(M),M.lookahead===0&&K===0)return 1;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var L=M.block_start+z;if((M.strstart===0||M.strstart>=L)&&(M.lookahead=M.strstart-L,M.strstart=L,I(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-A&&(I(M,!1),M.strm.avail_out===0))return 1}return M.insert=0,K===4?(I(M,!0),M.strm.avail_out===0?3:4):(M.strstart>M.block_start&&(I(M,!1),M.strm.avail_out),1)})),new $(4,4,8,4,j),new $(4,5,16,8,j),new $(4,6,32,32,j),new $(4,4,16,16,R),new $(8,16,32,32,R),new $(8,16,128,128,R),new $(8,32,128,256,R),new $(32,128,258,1024,R),new $(32,258,258,4096,R)],y.deflateInit=function(M,K){return Y(M,K,8,15,8,0)},y.deflateInit2=Y,y.deflateReset=H,y.deflateResetKeep=q,y.deflateSetHeader=function(M,K){return M&&M.state?M.state.wrap!==2?O:(M.state.gzhead=K,0):O},y.deflate=function(M,K){var z,L,W,J;if(!M||!M.state||5<K||K<0)return M?D(M,O):O;if(L=M.state,!M.output||!M.input&&M.avail_in!==0||L.status===666&&K!==4)return D(M,M.avail_out===0?-5:O);if(L.strm=M,z=L.last_flush,L.last_flush=K,L.status===42)if(L.wrap===2)M.adler=0,N(L,31),N(L,139),N(L,8),L.gzhead?(N(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),N(L,255&L.gzhead.time),N(L,L.gzhead.time>>8&255),N(L,L.gzhead.time>>16&255),N(L,L.gzhead.time>>24&255),N(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),N(L,255&L.gzhead.os),L.gzhead.extra&&L.gzhead.extra.length&&(N(L,255&L.gzhead.extra.length),N(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(M.adler=k(M.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=69):(N(L,0),N(L,0),N(L,0),N(L,0),N(L,0),N(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),N(L,3),L.status=P);else{var le=8+(L.w_bits-8<<4)<<8;le|=(2<=L.strategy||L.level<2?0:L.level<6?1:L.level===6?2:3)<<6,L.strstart!==0&&(le|=32),le+=31-le%31,L.status=P,w(L,le),L.strstart!==0&&(w(L,M.adler>>>16),w(L,65535&M.adler)),M.adler=1}if(L.status===69)if(L.gzhead.extra){for(W=L.pending;L.gzindex<(65535&L.gzhead.extra.length)&&(L.pending!==L.pending_buf_size||(L.gzhead.hcrc&&L.pending>W&&(M.adler=k(M.adler,L.pending_buf,L.pending-W,W)),C(M),W=L.pending,L.pending!==L.pending_buf_size));)N(L,255&L.gzhead.extra[L.gzindex]),L.gzindex++;L.gzhead.hcrc&&L.pending>W&&(M.adler=k(M.adler,L.pending_buf,L.pending-W,W)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=73)}else L.status=73;if(L.status===73)if(L.gzhead.name){W=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>W&&(M.adler=k(M.adler,L.pending_buf,L.pending-W,W)),C(M),W=L.pending,L.pending===L.pending_buf_size)){J=1;break}J=L.gzindex<L.gzhead.name.length?255&L.gzhead.name.charCodeAt(L.gzindex++):0,N(L,J)}while(J!==0);L.gzhead.hcrc&&L.pending>W&&(M.adler=k(M.adler,L.pending_buf,L.pending-W,W)),J===0&&(L.gzindex=0,L.status=91)}else L.status=91;if(L.status===91)if(L.gzhead.comment){W=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>W&&(M.adler=k(M.adler,L.pending_buf,L.pending-W,W)),C(M),W=L.pending,L.pending===L.pending_buf_size)){J=1;break}J=L.gzindex<L.gzhead.comment.length?255&L.gzhead.comment.charCodeAt(L.gzindex++):0,N(L,J)}while(J!==0);L.gzhead.hcrc&&L.pending>W&&(M.adler=k(M.adler,L.pending_buf,L.pending-W,W)),J===0&&(L.status=103)}else L.status=103;if(L.status===103&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&C(M),L.pending+2<=L.pending_buf_size&&(N(L,255&M.adler),N(L,M.adler>>8&255),M.adler=0,L.status=P)):L.status=P),L.pending!==0){if(C(M),M.avail_out===0)return L.last_flush=-1,0}else if(M.avail_in===0&&V(K)<=V(z)&&K!==4)return D(M,-5);if(L.status===666&&M.avail_in!==0)return D(M,-5);if(M.avail_in!==0||L.lookahead!==0||K!==0&&L.status!==666){var ne=L.strategy===2?(function(ue,G){for(var te;;){if(ue.lookahead===0&&(S(ue),ue.lookahead===0)){if(G===0)return 1;break}if(ue.match_length=0,te=b._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,te&&(I(ue,!1),ue.strm.avail_out===0))return 1}return ue.insert=0,G===4?(I(ue,!0),ue.strm.avail_out===0?3:4):ue.last_lit&&(I(ue,!1),ue.strm.avail_out===0)?1:2})(L,K):L.strategy===3?(function(ue,G){for(var te,X,ae,re,ee=ue.window;;){if(ue.lookahead<=F){if(S(ue),ue.lookahead<=F&&G===0)return 1;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=3&&0<ue.strstart&&(X=ee[ae=ue.strstart-1])===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]){re=ue.strstart+F;do;while(X===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]&&X===ee[++ae]&&ae<re);ue.match_length=F-(re-ae),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=3?(te=b._tr_tally(ue,1,ue.match_length-3),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):(te=b._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),te&&(I(ue,!1),ue.strm.avail_out===0))return 1}return ue.insert=0,G===4?(I(ue,!0),ue.strm.avail_out===0?3:4):ue.last_lit&&(I(ue,!1),ue.strm.avail_out===0)?1:2})(L,K):m[L.level].func(L,K);if(ne!==3&&ne!==4||(L.status=666),ne===1||ne===3)return M.avail_out===0&&(L.last_flush=-1),0;if(ne===2&&(K===1?b._tr_align(L):K!==5&&(b._tr_stored_block(L,0,0,!1),K===3&&(B(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),C(M),M.avail_out===0))return L.last_flush=-1,0}return K!==4?0:L.wrap<=0?1:(L.wrap===2?(N(L,255&M.adler),N(L,M.adler>>8&255),N(L,M.adler>>16&255),N(L,M.adler>>24&255),N(L,255&M.total_in),N(L,M.total_in>>8&255),N(L,M.total_in>>16&255),N(L,M.total_in>>24&255)):(w(L,M.adler>>>16),w(L,65535&M.adler)),C(M),0<L.wrap&&(L.wrap=-L.wrap),L.pending!==0?0:1)},y.deflateEnd=function(M){var K;return M&&M.state?(K=M.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==P&&K!==666?D(M,O):(M.state=null,K===P?D(M,-3):0):O},y.deflateSetDictionary=function(M,K){var z,L,W,J,le,ne,ue,G,te=K.length;if(!M||!M.state||(J=(z=M.state).wrap)===2||J===1&&z.status!==42||z.lookahead)return O;for(J===1&&(M.adler=x(M.adler,K,te,0)),z.wrap=0,te>=z.w_size&&(J===0&&(B(z.head),z.strstart=0,z.block_start=0,z.insert=0),G=new v.Buf8(z.w_size),v.arraySet(G,K,te-z.w_size,z.w_size,0),K=G,te=z.w_size),le=M.avail_in,ne=M.next_in,ue=M.input,M.avail_in=te,M.next_in=0,M.input=K,S(z);z.lookahead>=3;){for(L=z.strstart,W=z.lookahead-2;z.ins_h=(z.ins_h<<z.hash_shift^z.window[L+3-1])&z.hash_mask,z.prev[L&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=L,L++,--W;);z.strstart=L,z.lookahead=2,S(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=2,z.match_available=0,M.next_in=ne,M.input=ue,M.avail_in=le,z.wrap=J,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(p,g,y){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(p,g,y){g.exports=function(m,v){var b,x,k,T,O,F,A,P,D,V,B,C,I,N,w,_,S,j,R,$,U,q,H,Y,M;b=m.state,x=m.next_in,Y=m.input,k=x+(m.avail_in-5),T=m.next_out,M=m.output,O=T-(v-m.avail_out),F=T+(m.avail_out-257),A=b.dmax,P=b.wsize,D=b.whave,V=b.wnext,B=b.window,C=b.hold,I=b.bits,N=b.lencode,w=b.distcode,_=(1<<b.lenbits)-1,S=(1<<b.distbits)-1;e:do{I<15&&(C+=Y[x++]<<I,I+=8,C+=Y[x++]<<I,I+=8),j=N[C&_];t:for(;;){if(C>>>=R=j>>>24,I-=R,(R=j>>>16&255)==0)M[T++]=65535&j;else{if(!(16&R)){if((64&R)==0){j=N[(65535&j)+(C&(1<<R)-1)];continue t}if(32&R){b.mode=12;break e}m.msg="invalid literal/length code",b.mode=30;break e}$=65535&j,(R&=15)&&(I<R&&(C+=Y[x++]<<I,I+=8),$+=C&(1<<R)-1,C>>>=R,I-=R),I<15&&(C+=Y[x++]<<I,I+=8,C+=Y[x++]<<I,I+=8),j=w[C&S];r:for(;;){if(C>>>=R=j>>>24,I-=R,!(16&(R=j>>>16&255))){if((64&R)==0){j=w[(65535&j)+(C&(1<<R)-1)];continue r}m.msg="invalid distance code",b.mode=30;break e}if(U=65535&j,I<(R&=15)&&(C+=Y[x++]<<I,(I+=8)<R&&(C+=Y[x++]<<I,I+=8)),A<(U+=C&(1<<R)-1)){m.msg="invalid distance too far back",b.mode=30;break e}if(C>>>=R,I-=R,(R=T-O)<U){if(D<(R=U-R)&&b.sane){m.msg="invalid distance too far back",b.mode=30;break e}if(H=B,(q=0)===V){if(q+=P-R,R<$){for($-=R;M[T++]=B[q++],--R;);q=T-U,H=M}}else if(V<R){if(q+=P+V-R,(R-=V)<$){for($-=R;M[T++]=B[q++],--R;);if(q=0,V<$){for($-=R=V;M[T++]=B[q++],--R;);q=T-U,H=M}}}else if(q+=V-R,R<$){for($-=R;M[T++]=B[q++],--R;);q=T-U,H=M}for(;2<$;)M[T++]=H[q++],M[T++]=H[q++],M[T++]=H[q++],$-=3;$&&(M[T++]=H[q++],1<$&&(M[T++]=H[q++]))}else{for(q=T-U;M[T++]=M[q++],M[T++]=M[q++],M[T++]=M[q++],2<($-=3););$&&(M[T++]=M[q++],1<$&&(M[T++]=M[q++]))}break}}break}}while(x<k&&T<F);x-=$=I>>3,C&=(1<<(I-=$<<3))-1,m.next_in=x,m.next_out=T,m.avail_in=x<k?k-x+5:5-(x-k),m.avail_out=T<F?F-T+257:257-(T-F),b.hold=C,b.bits=I}},{}],49:[function(p,g,y){var m=p("../utils/common"),v=p("./adler32"),b=p("./crc32"),x=p("./inffast"),k=p("./inftrees"),T=-2;function O(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function F(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(_){var S;return _&&_.state?(S=_.state,_.total_in=_.total_out=S.total=0,_.msg="",S.wrap&&(_.adler=1&S.wrap),S.mode=1,S.last=0,S.havedict=0,S.dmax=32768,S.head=null,S.hold=0,S.bits=0,S.lencode=S.lendyn=new m.Buf32(852),S.distcode=S.distdyn=new m.Buf32(592),S.sane=1,S.back=-1,0):T}function P(_){var S;return _&&_.state?((S=_.state).wsize=0,S.whave=0,S.wnext=0,A(_)):T}function D(_,S){var j,R;return _&&_.state?(R=_.state,S<0?(j=0,S=-S):(j=1+(S>>4),S<48&&(S&=15)),S&&(S<8||15<S)?T:(R.window!==null&&R.wbits!==S&&(R.window=null),R.wrap=j,R.wbits=S,P(_))):T}function V(_,S){var j,R;return _?(R=new F,(_.state=R).window=null,(j=D(_,S))!==0&&(_.state=null),j):T}var B,C,I=!0;function N(_){if(I){var S;for(B=new m.Buf32(512),C=new m.Buf32(32),S=0;S<144;)_.lens[S++]=8;for(;S<256;)_.lens[S++]=9;for(;S<280;)_.lens[S++]=7;for(;S<288;)_.lens[S++]=8;for(k(1,_.lens,0,288,B,0,_.work,{bits:9}),S=0;S<32;)_.lens[S++]=5;k(2,_.lens,0,32,C,0,_.work,{bits:5}),I=!1}_.lencode=B,_.lenbits=9,_.distcode=C,_.distbits=5}function w(_,S,j,R){var $,U=_.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new m.Buf8(U.wsize)),R>=U.wsize?(m.arraySet(U.window,S,j-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(R<($=U.wsize-U.wnext)&&($=R),m.arraySet(U.window,S,j-R,$,U.wnext),(R-=$)?(m.arraySet(U.window,S,j-R,R,0),U.wnext=R,U.whave=U.wsize):(U.wnext+=$,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=$))),0}y.inflateReset=P,y.inflateReset2=D,y.inflateResetKeep=A,y.inflateInit=function(_){return V(_,15)},y.inflateInit2=V,y.inflate=function(_,S){var j,R,$,U,q,H,Y,M,K,z,L,W,J,le,ne,ue,G,te,X,ae,re,ee,Z,Q,ie=0,ce=new m.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return T;(j=_.state).mode===12&&(j.mode=13),q=_.next_out,$=_.output,Y=_.avail_out,U=_.next_in,R=_.input,H=_.avail_in,M=j.hold,K=j.bits,z=H,L=Y,ee=0;e:for(;;)switch(j.mode){case 1:if(j.wrap===0){j.mode=13;break}for(;K<16;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}if(2&j.wrap&&M===35615){ce[j.check=0]=255&M,ce[1]=M>>>8&255,j.check=b(j.check,ce,2,0),K=M=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&M)<<8)+(M>>8))%31){_.msg="incorrect header check",j.mode=30;break}if((15&M)!=8){_.msg="unknown compression method",j.mode=30;break}if(K-=4,re=8+(15&(M>>>=4)),j.wbits===0)j.wbits=re;else if(re>j.wbits){_.msg="invalid window size",j.mode=30;break}j.dmax=1<<re,_.adler=j.check=1,j.mode=512&M?10:12,K=M=0;break;case 2:for(;K<16;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}if(j.flags=M,(255&j.flags)!=8){_.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){_.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=M>>8&1),512&j.flags&&(ce[0]=255&M,ce[1]=M>>>8&255,j.check=b(j.check,ce,2,0)),K=M=0,j.mode=3;case 3:for(;K<32;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}j.head&&(j.head.time=M),512&j.flags&&(ce[0]=255&M,ce[1]=M>>>8&255,ce[2]=M>>>16&255,ce[3]=M>>>24&255,j.check=b(j.check,ce,4,0)),K=M=0,j.mode=4;case 4:for(;K<16;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}j.head&&(j.head.xflags=255&M,j.head.os=M>>8),512&j.flags&&(ce[0]=255&M,ce[1]=M>>>8&255,j.check=b(j.check,ce,2,0)),K=M=0,j.mode=5;case 5:if(1024&j.flags){for(;K<16;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}j.length=M,j.head&&(j.head.extra_len=M),512&j.flags&&(ce[0]=255&M,ce[1]=M>>>8&255,j.check=b(j.check,ce,2,0)),K=M=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(H<(W=j.length)&&(W=H),W&&(j.head&&(re=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),m.arraySet(j.head.extra,R,U,W,re)),512&j.flags&&(j.check=b(j.check,R,W,U)),H-=W,U+=W,j.length-=W),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(H===0)break e;for(W=0;re=R[U+W++],j.head&&re&&j.length<65536&&(j.head.name+=String.fromCharCode(re)),re&&W<H;);if(512&j.flags&&(j.check=b(j.check,R,W,U)),H-=W,U+=W,re)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(H===0)break e;for(W=0;re=R[U+W++],j.head&&re&&j.length<65536&&(j.head.comment+=String.fromCharCode(re)),re&&W<H;);if(512&j.flags&&(j.check=b(j.check,R,W,U)),H-=W,U+=W,re)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;K<16;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}if(M!==(65535&j.check)){_.msg="header crc mismatch",j.mode=30;break}K=M=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),_.adler=j.check=0,j.mode=12;break;case 10:for(;K<32;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}_.adler=j.check=O(M),K=M=0,j.mode=11;case 11:if(j.havedict===0)return _.next_out=q,_.avail_out=Y,_.next_in=U,_.avail_in=H,j.hold=M,j.bits=K,2;_.adler=j.check=1,j.mode=12;case 12:if(S===5||S===6)break e;case 13:if(j.last){M>>>=7&K,K-=7&K,j.mode=27;break}for(;K<3;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}switch(j.last=1&M,K-=1,3&(M>>>=1)){case 0:j.mode=14;break;case 1:if(N(j),j.mode=20,S!==6)break;M>>>=2,K-=2;break e;case 2:j.mode=17;break;case 3:_.msg="invalid block type",j.mode=30}M>>>=2,K-=2;break;case 14:for(M>>>=7&K,K-=7&K;K<32;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}if((65535&M)!=(M>>>16^65535)){_.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&M,K=M=0,j.mode=15,S===6)break e;case 15:j.mode=16;case 16:if(W=j.length){if(H<W&&(W=H),Y<W&&(W=Y),W===0)break e;m.arraySet($,R,U,W,q),H-=W,U+=W,Y-=W,q+=W,j.length-=W;break}j.mode=12;break;case 17:for(;K<14;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}if(j.nlen=257+(31&M),M>>>=5,K-=5,j.ndist=1+(31&M),M>>>=5,K-=5,j.ncode=4+(15&M),M>>>=4,K-=4,286<j.nlen||30<j.ndist){_.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;K<3;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}j.lens[ge[j.have++]]=7&M,M>>>=3,K-=3}for(;j.have<19;)j.lens[ge[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,Z={bits:j.lenbits},ee=k(0,j.lens,0,19,j.lencode,0,j.work,Z),j.lenbits=Z.bits,ee){_.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;ue=(ie=j.lencode[M&(1<<j.lenbits)-1])>>>16&255,G=65535&ie,!((ne=ie>>>24)<=K);){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}if(G<16)M>>>=ne,K-=ne,j.lens[j.have++]=G;else{if(G===16){for(Q=ne+2;K<Q;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}if(M>>>=ne,K-=ne,j.have===0){_.msg="invalid bit length repeat",j.mode=30;break}re=j.lens[j.have-1],W=3+(3&M),M>>>=2,K-=2}else if(G===17){for(Q=ne+3;K<Q;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}K-=ne,re=0,W=3+(7&(M>>>=ne)),M>>>=3,K-=3}else{for(Q=ne+7;K<Q;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}K-=ne,re=0,W=11+(127&(M>>>=ne)),M>>>=7,K-=7}if(j.have+W>j.nlen+j.ndist){_.msg="invalid bit length repeat",j.mode=30;break}for(;W--;)j.lens[j.have++]=re}}if(j.mode===30)break;if(j.lens[256]===0){_.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,Z={bits:j.lenbits},ee=k(1,j.lens,0,j.nlen,j.lencode,0,j.work,Z),j.lenbits=Z.bits,ee){_.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,Z={bits:j.distbits},ee=k(2,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,Z),j.distbits=Z.bits,ee){_.msg="invalid distances set",j.mode=30;break}if(j.mode=20,S===6)break e;case 20:j.mode=21;case 21:if(6<=H&&258<=Y){_.next_out=q,_.avail_out=Y,_.next_in=U,_.avail_in=H,j.hold=M,j.bits=K,x(_,L),q=_.next_out,$=_.output,Y=_.avail_out,U=_.next_in,R=_.input,H=_.avail_in,M=j.hold,K=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;ue=(ie=j.lencode[M&(1<<j.lenbits)-1])>>>16&255,G=65535&ie,!((ne=ie>>>24)<=K);){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}if(ue&&(240&ue)==0){for(te=ne,X=ue,ae=G;ue=(ie=j.lencode[ae+((M&(1<<te+X)-1)>>te)])>>>16&255,G=65535&ie,!(te+(ne=ie>>>24)<=K);){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}M>>>=te,K-=te,j.back+=te}if(M>>>=ne,K-=ne,j.back+=ne,j.length=G,ue===0){j.mode=26;break}if(32&ue){j.back=-1,j.mode=12;break}if(64&ue){_.msg="invalid literal/length code",j.mode=30;break}j.extra=15&ue,j.mode=22;case 22:if(j.extra){for(Q=j.extra;K<Q;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}j.length+=M&(1<<j.extra)-1,M>>>=j.extra,K-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;ue=(ie=j.distcode[M&(1<<j.distbits)-1])>>>16&255,G=65535&ie,!((ne=ie>>>24)<=K);){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}if((240&ue)==0){for(te=ne,X=ue,ae=G;ue=(ie=j.distcode[ae+((M&(1<<te+X)-1)>>te)])>>>16&255,G=65535&ie,!(te+(ne=ie>>>24)<=K);){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}M>>>=te,K-=te,j.back+=te}if(M>>>=ne,K-=ne,j.back+=ne,64&ue){_.msg="invalid distance code",j.mode=30;break}j.offset=G,j.extra=15&ue,j.mode=24;case 24:if(j.extra){for(Q=j.extra;K<Q;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}j.offset+=M&(1<<j.extra)-1,M>>>=j.extra,K-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){_.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(Y===0)break e;if(W=L-Y,j.offset>W){if((W=j.offset-W)>j.whave&&j.sane){_.msg="invalid distance too far back",j.mode=30;break}J=W>j.wnext?(W-=j.wnext,j.wsize-W):j.wnext-W,W>j.length&&(W=j.length),le=j.window}else le=$,J=q-j.offset,W=j.length;for(Y<W&&(W=Y),Y-=W,j.length-=W;$[q++]=le[J++],--W;);j.length===0&&(j.mode=21);break;case 26:if(Y===0)break e;$[q++]=j.length,Y--,j.mode=21;break;case 27:if(j.wrap){for(;K<32;){if(H===0)break e;H--,M|=R[U++]<<K,K+=8}if(L-=Y,_.total_out+=L,j.total+=L,L&&(_.adler=j.check=j.flags?b(j.check,$,L,q-L):v(j.check,$,L,q-L)),L=Y,(j.flags?M:O(M))!==j.check){_.msg="incorrect data check",j.mode=30;break}K=M=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;K<32;){if(H===0)break e;H--,M+=R[U++]<<K,K+=8}if(M!==(4294967295&j.total)){_.msg="incorrect length check",j.mode=30;break}K=M=0}j.mode=29;case 29:ee=1;break e;case 30:ee=-3;break e;case 31:return-4;case 32:default:return T}return _.next_out=q,_.avail_out=Y,_.next_in=U,_.avail_in=H,j.hold=M,j.bits=K,(j.wsize||L!==_.avail_out&&j.mode<30&&(j.mode<27||S!==4))&&w(_,_.output,_.next_out,L-_.avail_out)?(j.mode=31,-4):(z-=_.avail_in,L-=_.avail_out,_.total_in+=z,_.total_out+=L,j.total+=L,j.wrap&&L&&(_.adler=j.check=j.flags?b(j.check,$,L,_.next_out-L):v(j.check,$,L,_.next_out-L)),_.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(z==0&&L===0||S===4)&&ee===0&&(ee=-5),ee)},y.inflateEnd=function(_){if(!_||!_.state)return T;var S=_.state;return S.window&&(S.window=null),_.state=null,0},y.inflateGetHeader=function(_,S){var j;return _&&_.state?(2&(j=_.state).wrap)==0?T:((j.head=S).done=!1,0):T},y.inflateSetDictionary=function(_,S){var j,R=S.length;return _&&_.state?(j=_.state).wrap!==0&&j.mode!==11?T:j.mode===11&&v(1,S,R,0)!==j.check?-3:w(_,S,R,R)?(j.mode=31,-4):(j.havedict=1,0):T},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(p,g,y){var m=p("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(T,O,F,A,P,D,V,B){var C,I,N,w,_,S,j,R,$,U=B.bits,q=0,H=0,Y=0,M=0,K=0,z=0,L=0,W=0,J=0,le=0,ne=null,ue=0,G=new m.Buf16(16),te=new m.Buf16(16),X=null,ae=0;for(q=0;q<=15;q++)G[q]=0;for(H=0;H<A;H++)G[O[F+H]]++;for(K=U,M=15;1<=M&&G[M]===0;M--);if(M<K&&(K=M),M===0)return P[D++]=20971520,P[D++]=20971520,B.bits=1,0;for(Y=1;Y<M&&G[Y]===0;Y++);for(K<Y&&(K=Y),q=W=1;q<=15;q++)if(W<<=1,(W-=G[q])<0)return-1;if(0<W&&(T===0||M!==1))return-1;for(te[1]=0,q=1;q<15;q++)te[q+1]=te[q]+G[q];for(H=0;H<A;H++)O[F+H]!==0&&(V[te[O[F+H]]++]=H);if(S=T===0?(ne=X=V,19):T===1?(ne=v,ue-=257,X=b,ae-=257,256):(ne=x,X=k,-1),q=Y,_=D,L=H=le=0,N=-1,w=(J=1<<(z=K))-1,T===1&&852<J||T===2&&592<J)return 1;for(;;){for(j=q-L,$=V[H]<S?(R=0,V[H]):V[H]>S?(R=X[ae+V[H]],ne[ue+V[H]]):(R=96,0),C=1<<q-L,Y=I=1<<z;P[_+(le>>L)+(I-=C)]=j<<24|R<<16|$|0,I!==0;);for(C=1<<q-1;le&C;)C>>=1;if(C!==0?(le&=C-1,le+=C):le=0,H++,--G[q]==0){if(q===M)break;q=O[F+V[H]]}if(K<q&&(le&w)!==N){for(L===0&&(L=K),_+=Y,W=1<<(z=q-L);z+L<M&&!((W-=G[z+L])<=0);)z++,W<<=1;if(J+=1<<z,T===1&&852<J||T===2&&592<J)return 1;P[N=le&w]=K<<24|z<<16|_-D|0}}return le!==0&&(P[_+le]=q-L<<24|64<<16|0),B.bits=K,0}},{"../utils/common":41}],51:[function(p,g,y){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(p,g,y){var m=p("../utils/common");function v(X){for(var ae=X.length;0<=--ae;)X[ae]=0}var b=256,x=286,k=30,T=15,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(576);v(D);var V=new Array(60);v(V);var B=new Array(512);v(B);var C=new Array(256);v(C);var I=new Array(29);v(I);var N,w,_,S=new Array(k);function j(X,ae,re,ee,Z){this.static_tree=X,this.extra_bits=ae,this.extra_base=re,this.elems=ee,this.max_length=Z,this.has_stree=X&&X.length}function R(X,ae){this.dyn_tree=X,this.max_code=0,this.stat_desc=ae}function $(X){return X<256?B[X]:B[256+(X>>>7)]}function U(X,ae){X.pending_buf[X.pending++]=255&ae,X.pending_buf[X.pending++]=ae>>>8&255}function q(X,ae,re){X.bi_valid>16-re?(X.bi_buf|=ae<<X.bi_valid&65535,U(X,X.bi_buf),X.bi_buf=ae>>16-X.bi_valid,X.bi_valid+=re-16):(X.bi_buf|=ae<<X.bi_valid&65535,X.bi_valid+=re)}function H(X,ae,re){q(X,re[2*ae],re[2*ae+1])}function Y(X,ae){for(var re=0;re|=1&X,X>>>=1,re<<=1,0<--ae;);return re>>>1}function M(X,ae,re){var ee,Z,Q=new Array(16),ie=0;for(ee=1;ee<=T;ee++)Q[ee]=ie=ie+re[ee-1]<<1;for(Z=0;Z<=ae;Z++){var ce=X[2*Z+1];ce!==0&&(X[2*Z]=Y(Q[ce]++,ce))}}function K(X){var ae;for(ae=0;ae<x;ae++)X.dyn_ltree[2*ae]=0;for(ae=0;ae<k;ae++)X.dyn_dtree[2*ae]=0;for(ae=0;ae<19;ae++)X.bl_tree[2*ae]=0;X.dyn_ltree[512]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function z(X){8<X.bi_valid?U(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function L(X,ae,re,ee){var Z=2*ae,Q=2*re;return X[Z]<X[Q]||X[Z]===X[Q]&&ee[ae]<=ee[re]}function W(X,ae,re){for(var ee=X.heap[re],Z=re<<1;Z<=X.heap_len&&(Z<X.heap_len&&L(ae,X.heap[Z+1],X.heap[Z],X.depth)&&Z++,!L(ae,ee,X.heap[Z],X.depth));)X.heap[re]=X.heap[Z],re=Z,Z<<=1;X.heap[re]=ee}function J(X,ae,re){var ee,Z,Q,ie,ce=0;if(X.last_lit!==0)for(;ee=X.pending_buf[X.d_buf+2*ce]<<8|X.pending_buf[X.d_buf+2*ce+1],Z=X.pending_buf[X.l_buf+ce],ce++,ee===0?H(X,Z,ae):(H(X,(Q=C[Z])+b+1,ae),(ie=O[Q])!==0&&q(X,Z-=I[Q],ie),H(X,Q=$(--ee),re),(ie=F[Q])!==0&&q(X,ee-=S[Q],ie)),ce<X.last_lit;);H(X,256,ae)}function le(X,ae){var re,ee,Z,Q=ae.dyn_tree,ie=ae.stat_desc.static_tree,ce=ae.stat_desc.has_stree,ge=ae.stat_desc.elems,we=-1;for(X.heap_len=0,X.heap_max=573,re=0;re<ge;re++)Q[2*re]!==0?(X.heap[++X.heap_len]=we=re,X.depth[re]=0):Q[2*re+1]=0;for(;X.heap_len<2;)Q[2*(Z=X.heap[++X.heap_len]=we<2?++we:0)]=1,X.depth[Z]=0,X.opt_len--,ce&&(X.static_len-=ie[2*Z+1]);for(ae.max_code=we,re=X.heap_len>>1;1<=re;re--)W(X,Q,re);for(Z=ge;re=X.heap[1],X.heap[1]=X.heap[X.heap_len--],W(X,Q,1),ee=X.heap[1],X.heap[--X.heap_max]=re,X.heap[--X.heap_max]=ee,Q[2*Z]=Q[2*re]+Q[2*ee],X.depth[Z]=(X.depth[re]>=X.depth[ee]?X.depth[re]:X.depth[ee])+1,Q[2*re+1]=Q[2*ee+1]=Z,X.heap[1]=Z++,W(X,Q,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],(function(Te,Ae){var De,Fe,rt,qe,Ve,pe,de=Ae.dyn_tree,Pe=Ae.max_code,$e=Ae.stat_desc.static_tree,yt=Ae.stat_desc.has_stree,Ot=Ae.stat_desc.extra_bits,it=Ae.stat_desc.extra_base,Bt=Ae.stat_desc.max_length,st=0;for(qe=0;qe<=T;qe++)Te.bl_count[qe]=0;for(de[2*Te.heap[Te.heap_max]+1]=0,De=Te.heap_max+1;De<573;De++)Bt<(qe=de[2*de[2*(Fe=Te.heap[De])+1]+1]+1)&&(qe=Bt,st++),de[2*Fe+1]=qe,Pe<Fe||(Te.bl_count[qe]++,Ve=0,it<=Fe&&(Ve=Ot[Fe-it]),pe=de[2*Fe],Te.opt_len+=pe*(qe+Ve),yt&&(Te.static_len+=pe*($e[2*Fe+1]+Ve)));if(st!==0){do{for(qe=Bt-1;Te.bl_count[qe]===0;)qe--;Te.bl_count[qe]--,Te.bl_count[qe+1]+=2,Te.bl_count[Bt]--,st-=2}while(0<st);for(qe=Bt;qe!==0;qe--)for(Fe=Te.bl_count[qe];Fe!==0;)Pe<(rt=Te.heap[--De])||(de[2*rt+1]!==qe&&(Te.opt_len+=(qe-de[2*rt+1])*de[2*rt],de[2*rt+1]=qe),Fe--)}})(X,ae),M(Q,we,X.bl_count)}function ne(X,ae,re){var ee,Z,Q=-1,ie=ae[1],ce=0,ge=7,we=4;for(ie===0&&(ge=138,we=3),ae[2*(re+1)+1]=65535,ee=0;ee<=re;ee++)Z=ie,ie=ae[2*(ee+1)+1],++ce<ge&&Z===ie||(ce<we?X.bl_tree[2*Z]+=ce:Z!==0?(Z!==Q&&X.bl_tree[2*Z]++,X.bl_tree[32]++):ce<=10?X.bl_tree[34]++:X.bl_tree[36]++,Q=Z,we=(ce=0)===ie?(ge=138,3):Z===ie?(ge=6,3):(ge=7,4))}function ue(X,ae,re){var ee,Z,Q=-1,ie=ae[1],ce=0,ge=7,we=4;for(ie===0&&(ge=138,we=3),ee=0;ee<=re;ee++)if(Z=ie,ie=ae[2*(ee+1)+1],!(++ce<ge&&Z===ie)){if(ce<we)for(;H(X,Z,X.bl_tree),--ce!=0;);else Z!==0?(Z!==Q&&(H(X,Z,X.bl_tree),ce--),H(X,16,X.bl_tree),q(X,ce-3,2)):ce<=10?(H(X,17,X.bl_tree),q(X,ce-3,3)):(H(X,18,X.bl_tree),q(X,ce-11,7));Q=Z,we=(ce=0)===ie?(ge=138,3):Z===ie?(ge=6,3):(ge=7,4)}}v(S);var G=!1;function te(X,ae,re,ee){q(X,0+(ee?1:0),3),(function(Z,Q,ie,ce){z(Z),U(Z,ie),U(Z,~ie),m.arraySet(Z.pending_buf,Z.window,Q,ie,Z.pending),Z.pending+=ie})(X,ae,re)}y._tr_init=function(X){G||((function(){var ae,re,ee,Z,Q,ie=new Array(16);for(Z=ee=0;Z<28;Z++)for(I[Z]=ee,ae=0;ae<1<<O[Z];ae++)C[ee++]=Z;for(C[ee-1]=Z,Z=Q=0;Z<16;Z++)for(S[Z]=Q,ae=0;ae<1<<F[Z];ae++)B[Q++]=Z;for(Q>>=7;Z<k;Z++)for(S[Z]=Q<<7,ae=0;ae<1<<F[Z]-7;ae++)B[256+Q++]=Z;for(re=0;re<=T;re++)ie[re]=0;for(ae=0;ae<=143;)D[2*ae+1]=8,ae++,ie[8]++;for(;ae<=255;)D[2*ae+1]=9,ae++,ie[9]++;for(;ae<=279;)D[2*ae+1]=7,ae++,ie[7]++;for(;ae<=287;)D[2*ae+1]=8,ae++,ie[8]++;for(M(D,287,ie),ae=0;ae<k;ae++)V[2*ae+1]=5,V[2*ae]=Y(ae,5);N=new j(D,O,257,x,T),w=new j(V,F,0,k,T),_=new j(new Array(0),A,0,19,7)})(),G=!0),X.l_desc=new R(X.dyn_ltree,N),X.d_desc=new R(X.dyn_dtree,w),X.bl_desc=new R(X.bl_tree,_),X.bi_buf=0,X.bi_valid=0,K(X)},y._tr_stored_block=te,y._tr_flush_block=function(X,ae,re,ee){var Z,Q,ie=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=(function(ce){var ge,we=4093624447;for(ge=0;ge<=31;ge++,we>>>=1)if(1&we&&ce.dyn_ltree[2*ge]!==0)return 0;if(ce.dyn_ltree[18]!==0||ce.dyn_ltree[20]!==0||ce.dyn_ltree[26]!==0)return 1;for(ge=32;ge<b;ge++)if(ce.dyn_ltree[2*ge]!==0)return 1;return 0})(X)),le(X,X.l_desc),le(X,X.d_desc),ie=(function(ce){var ge;for(ne(ce,ce.dyn_ltree,ce.l_desc.max_code),ne(ce,ce.dyn_dtree,ce.d_desc.max_code),le(ce,ce.bl_desc),ge=18;3<=ge&&ce.bl_tree[2*P[ge]+1]===0;ge--);return ce.opt_len+=3*(ge+1)+5+5+4,ge})(X),Z=X.opt_len+3+7>>>3,(Q=X.static_len+3+7>>>3)<=Z&&(Z=Q)):Z=Q=re+5,re+4<=Z&&ae!==-1?te(X,ae,re,ee):X.strategy===4||Q===Z?(q(X,2+(ee?1:0),3),J(X,D,V)):(q(X,4+(ee?1:0),3),(function(ce,ge,we,Te){var Ae;for(q(ce,ge-257,5),q(ce,we-1,5),q(ce,Te-4,4),Ae=0;Ae<Te;Ae++)q(ce,ce.bl_tree[2*P[Ae]+1],3);ue(ce,ce.dyn_ltree,ge-1),ue(ce,ce.dyn_dtree,we-1)})(X,X.l_desc.max_code+1,X.d_desc.max_code+1,ie+1),J(X,X.dyn_ltree,X.dyn_dtree)),K(X),ee&&z(X)},y._tr_tally=function(X,ae,re){return X.pending_buf[X.d_buf+2*X.last_lit]=ae>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&ae,X.pending_buf[X.l_buf+X.last_lit]=255&re,X.last_lit++,ae===0?X.dyn_ltree[2*re]++:(X.matches++,ae--,X.dyn_ltree[2*(C[re]+b+1)]++,X.dyn_dtree[2*$(ae)]++),X.last_lit===X.lit_bufsize-1},y._tr_align=function(X){q(X,2,3),H(X,256,D),(function(ae){ae.bi_valid===16?(U(ae,ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0):8<=ae.bi_valid&&(ae.pending_buf[ae.pending++]=255&ae.bi_buf,ae.bi_buf>>=8,ae.bi_valid-=8)})(X)}},{"../utils/common":41}],53:[function(p,g,y){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(p,g,y){(function(m){(function(v,b){if(!v.setImmediate){var x,k,T,O,F=1,A={},P=!1,D=v.document,V=Object.getPrototypeOf&&Object.getPrototypeOf(v);V=V&&V.setTimeout?V:v,x={}.toString.call(v.process)==="[object process]"?function(N){i.nextTick((function(){C(N)}))}:(function(){if(v.postMessage&&!v.importScripts){var N=!0,w=v.onmessage;return v.onmessage=function(){N=!1},v.postMessage("","*"),v.onmessage=w,N}})()?(O="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",I,!1):v.attachEvent("onmessage",I),function(N){v.postMessage(O+N,"*")}):v.MessageChannel?((T=new MessageChannel).port1.onmessage=function(N){C(N.data)},function(N){T.port2.postMessage(N)}):D&&"onreadystatechange"in D.createElement("script")?(k=D.documentElement,function(N){var w=D.createElement("script");w.onreadystatechange=function(){C(N),w.onreadystatechange=null,k.removeChild(w),w=null},k.appendChild(w)}):function(N){setTimeout(C,0,N)},V.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var w=new Array(arguments.length-1),_=0;_<w.length;_++)w[_]=arguments[_+1];var S={callback:N,args:w};return A[F]=S,x(F),F++},V.clearImmediate=B}function B(N){delete A[N]}function C(N){if(P)setTimeout(C,0,N);else{var w=A[N];if(w){P=!0;try{(function(_){var S=_.callback,j=_.args;switch(j.length){case 0:S();break;case 1:S(j[0]);break;case 2:S(j[0],j[1]);break;case 3:S(j[0],j[1],j[2]);break;default:S.apply(void 0,j)}})(w)}finally{B(N),P=!1}}}}function I(N){N.source===v&&typeof N.data=="string"&&N.data.indexOf(O)===0&&C(+N.data.slice(O.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,r("_process"),typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],r("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(r,n,s){(function(i){(function(){var a=/[\\^$.*+?()[\]{}|]/g,o=RegExp(a.source),u=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,d=u||l||Function("return this")(),h=Object.prototype.toString,f=d.Symbol,p=f?f.prototype:void 0,g=p?p.toString:void 0;function y(m){if(typeof m=="string")return m;if((function(b){return typeof b=="symbol"||(function(x){return!!x&&typeof x=="object"})(b)&&h.call(b)=="[object Symbol]"})(m))return g?g.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}n.exports=function(m){var v;return(m=(v=m)==null?"":y(v))&&o.test(m)?m.replace(a,"\\$&"):m}}).call(this)}).call(this,typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(r,n,s){(function(i){(function(){var a="[object Arguments]",o="[object Map]",u="[object Object]",l="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,f=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[a]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[o]=v["[object Number]"]=v[u]=v["[object RegExp]"]=v[l]=v["[object String]"]=v["[object WeakMap]"]=!1;var b=typeof i=="object"&&i&&i.Object===Object&&i,x=typeof self=="object"&&self&&self.Object===Object&&self,k=b||x||Function("return this")(),T=typeof s=="object"&&s&&!s.nodeType&&s,O=T&&typeof n=="object"&&n&&!n.nodeType&&n,F=O&&O.exports===T&&b.process,A=(function(){try{return F&&F.binding("util")}catch{}})(),P=A&&A.isTypedArray;function D(oe,xe,Ee,Me){for(var ft=-1,Xe=oe?oe.length:0;++ft<Xe;){var Ye=oe[ft];xe(Me,Ye,Ee(Ye),oe)}return Me}function V(oe,xe){for(var Ee=-1,Me=oe?oe.length:0;++Ee<Me;)if(xe(oe[Ee],Ee,oe))return!0;return!1}function B(oe){var xe=!1;if(oe!=null&&typeof oe.toString!="function")try{xe=!!(oe+"")}catch{}return xe}function C(oe){var xe=-1,Ee=Array(oe.size);return oe.forEach((function(Me,ft){Ee[++xe]=[ft,Me]})),Ee}function I(oe){var xe=-1,Ee=Array(oe.size);return oe.forEach((function(Me){Ee[++xe]=Me})),Ee}var N,w,_,S=Array.prototype,j=Function.prototype,R=Object.prototype,$=k["__core-js_shared__"],U=(N=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",q=j.toString,H=R.hasOwnProperty,Y=R.toString,M=RegExp("^"+q.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=k.Symbol,z=k.Uint8Array,L=R.propertyIsEnumerable,W=S.splice,J=(w=Object.keys,_=Object,function(oe){return w(_(oe))}),le=_t(k,"DataView"),ne=_t(k,"Map"),ue=_t(k,"Promise"),G=_t(k,"Set"),te=_t(k,"WeakMap"),X=_t(Object,"create"),ae=ke(le),re=ke(ne),ee=ke(ue),Z=ke(G),Q=ke(te),ie=K?K.prototype:void 0,ce=ie?ie.valueOf:void 0,ge=ie?ie.toString:void 0;function we(oe){var xe=-1,Ee=oe?oe.length:0;for(this.clear();++xe<Ee;){var Me=oe[xe];this.set(Me[0],Me[1])}}function Te(oe){var xe=-1,Ee=oe?oe.length:0;for(this.clear();++xe<Ee;){var Me=oe[xe];this.set(Me[0],Me[1])}}function Ae(oe){var xe=-1,Ee=oe?oe.length:0;for(this.clear();++xe<Ee;){var Me=oe[xe];this.set(Me[0],Me[1])}}function De(oe){var xe=-1,Ee=oe?oe.length:0;for(this.__data__=new Ae;++xe<Ee;)this.add(oe[xe])}function Fe(oe){this.__data__=new Te(oe)}function rt(oe,xe){var Ee=Tt(oe)||bt(oe)?(function(Ye,Vt){for(var Yt=-1,Wt=Array(Ye);++Yt<Ye;)Wt[Yt]=Vt(Yt);return Wt})(oe.length,String):[],Me=Ee.length,ft=!!Me;for(var Xe in oe)!H.call(oe,Xe)||ft&&(Xe=="length"||qt(Xe,Me))||Ee.push(Xe);return Ee}function qe(oe,xe){for(var Ee=oe.length;Ee--;)if(Ge(oe[Ee][0],xe))return Ee;return-1}function Ve(oe,xe,Ee,Me){return de(oe,(function(ft,Xe,Ye){xe(Me,ft,Ee(ft),Ye)})),Me}we.prototype.clear=function(){this.__data__=X?X(null):{}},we.prototype.delete=function(oe){return this.has(oe)&&delete this.__data__[oe]},we.prototype.get=function(oe){var xe=this.__data__;if(X){var Ee=xe[oe];return Ee==="__lodash_hash_undefined__"?void 0:Ee}return H.call(xe,oe)?xe[oe]:void 0},we.prototype.has=function(oe){var xe=this.__data__;return X?xe[oe]!==void 0:H.call(xe,oe)},we.prototype.set=function(oe,xe){return this.__data__[oe]=X&&xe===void 0?"__lodash_hash_undefined__":xe,this},Te.prototype.clear=function(){this.__data__=[]},Te.prototype.delete=function(oe){var xe=this.__data__,Ee=qe(xe,oe);return!(Ee<0)&&(Ee==xe.length-1?xe.pop():W.call(xe,Ee,1),!0)},Te.prototype.get=function(oe){var xe=this.__data__,Ee=qe(xe,oe);return Ee<0?void 0:xe[Ee][1]},Te.prototype.has=function(oe){return qe(this.__data__,oe)>-1},Te.prototype.set=function(oe,xe){var Ee=this.__data__,Me=qe(Ee,oe);return Me<0?Ee.push([oe,xe]):Ee[Me][1]=xe,this},Ae.prototype.clear=function(){this.__data__={hash:new we,map:new(ne||Te),string:new we}},Ae.prototype.delete=function(oe){return sr(this,oe).delete(oe)},Ae.prototype.get=function(oe){return sr(this,oe).get(oe)},Ae.prototype.has=function(oe){return sr(this,oe).has(oe)},Ae.prototype.set=function(oe,xe){return sr(this,oe).set(oe,xe),this},De.prototype.add=De.prototype.push=function(oe){return this.__data__.set(oe,"__lodash_hash_undefined__"),this},De.prototype.has=function(oe){return this.__data__.has(oe)},Fe.prototype.clear=function(){this.__data__=new Te},Fe.prototype.delete=function(oe){return this.__data__.delete(oe)},Fe.prototype.get=function(oe){return this.__data__.get(oe)},Fe.prototype.has=function(oe){return this.__data__.has(oe)},Fe.prototype.set=function(oe,xe){var Ee=this.__data__;if(Ee instanceof Te){var Me=Ee.__data__;if(!ne||Me.length<199)return Me.push([oe,xe]),this;Ee=this.__data__=new Ae(Me)}return Ee.set(oe,xe),this};var pe,de=(pe=function(oe,xe){return oe&&Pe(oe,xe,ye)},function(oe,xe){if(oe==null)return oe;if(!mt(oe))return pe(oe,xe);for(var Ee=oe.length,Me=-1,ft=Object(oe);++Me<Ee&&xe(ft[Me],Me,ft)!==!1;);return oe}),Pe=(function(oe){return function(xe,Ee,Me){for(var ft=-1,Xe=Object(xe),Ye=Me(xe),Vt=Ye.length;Vt--;){var Yt=Ye[++ft];if(Ee(Xe[Yt],Yt,Xe)===!1)break}return xe}})();function $e(oe,xe){for(var Ee=0,Me=(xe=Ct(xe,oe)?[xe]:gt(xe)).length;oe!=null&&Ee<Me;)oe=oe[ve(xe[Ee++])];return Ee&&Ee==Me?oe:void 0}function yt(oe,xe){return oe!=null&&xe in Object(oe)}function Ot(oe,xe,Ee,Me,ft){return oe===xe||(oe==null||xe==null||!Dt(oe)&&!Zt(xe)?oe!=oe&&xe!=xe:(function(Xe,Ye,Vt,Yt,Wt,kt){var Sr=Tt(Xe),kr=Tt(Ye),xr="[object Array]",Hr="[object Array]";Sr||(xr=(xr=ir(Xe))==a?u:xr),kr||(Hr=(Hr=ir(Ye))==a?u:Hr);var kn=xr==u&&!B(Xe),on=Hr==u&&!B(Ye),Un=xr==Hr;if(Un&&!kn)return kt||(kt=new Fe),Sr||mr(Xe)?dt(Xe,Ye,Vt,Yt,Wt,kt):(function(Pr,yr,ga,Ja,cc,Is,Ks){switch(ga){case"[object DataView]":if(Pr.byteLength!=yr.byteLength||Pr.byteOffset!=yr.byteOffset)return!1;Pr=Pr.buffer,yr=yr.buffer;case"[object ArrayBuffer]":return!(Pr.byteLength!=yr.byteLength||!Ja(new z(Pr),new z(yr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ge(+Pr,+yr);case"[object Error]":return Pr.name==yr.name&&Pr.message==yr.message;case"[object RegExp]":case"[object String]":return Pr==yr+"";case o:var ya=C;case l:var dl=2&Is;if(ya||(ya=I),Pr.size!=yr.size&&!dl)return!1;var uc=Ks.get(Pr);if(uc)return uc==yr;Is|=1,Ks.set(Pr,yr);var Ro=dt(ya(Pr),ya(yr),Ja,cc,Is,Ks);return Ks.delete(Pr),Ro;case"[object Symbol]":if(ce)return ce.call(Pr)==ce.call(yr)}return!1})(Xe,Ye,xr,Vt,Yt,Wt,kt);if(!(2&Wt)){var Ps=kn&&H.call(Xe,"__wrapped__"),qs=on&&H.call(Ye,"__wrapped__");if(Ps||qs){var ma=Ps?Xe.value():Xe,Hs=qs?Ye.value():Ye;return kt||(kt=new Fe),Vt(ma,Hs,Yt,Wt,kt)}}return Un?(kt||(kt=new Fe),(function(Pr,yr,ga,Ja,cc,Is){var Ks=2&cc,ya=ye(Pr),dl=ya.length,uc=ye(yr).length;if(dl!=uc&&!Ks)return!1;for(var Ro=dl;Ro--;){var ba=ya[Ro];if(!(Ks?ba in yr:H.call(yr,ba)))return!1}var hf=Is.get(Pr);if(hf&&Is.get(yr))return hf==yr;var Mu=!0;Is.set(Pr,yr),Is.set(yr,Pr);for(var Ay=Ks;++Ro<dl;){ba=ya[Ro];var Vp=Pr[ba],pf=yr[ba];if(Ja)var mf=Ks?Ja(pf,Vp,ba,yr,Pr,Is):Ja(Vp,pf,ba,Pr,yr,Is);if(!(mf===void 0?Vp===pf||ga(Vp,pf,Ja,cc,Is):mf)){Mu=!1;break}Ay||(Ay=ba=="constructor")}if(Mu&&!Ay){var Du=Pr.constructor,dc=yr.constructor;Du==dc||!("constructor"in Pr)||!("constructor"in yr)||typeof Du=="function"&&Du instanceof Du&&typeof dc=="function"&&dc instanceof dc||(Mu=!1)}return Is.delete(Pr),Is.delete(yr),Mu})(Xe,Ye,Vt,Yt,Wt,kt)):!1})(oe,xe,Ot,Ee,Me,ft))}function it(oe){return!(!Dt(oe)||(function(xe){return!!U&&U in xe})(oe))&&(Mt(oe)||B(oe)?M:y).test(ke(oe))}function Bt(oe){return typeof oe=="function"?oe:oe==null?Ke:typeof oe=="object"?Tt(oe)?(function(Me,ft){return Ct(Me)&&pr(ft)?er(ve(Me),ft):function(Xe){var Ye=(function(Vt,Yt,Wt){var kt=Vt==null?void 0:$e(Vt,Yt);return kt===void 0?Wt:kt})(Xe,Me);return Ye===void 0&&Ye===ft?(function(Vt,Yt){return Vt!=null&&(function(Wt,kt,Sr){kt=Ct(kt,Wt)?[kt]:gt(kt);for(var kr,xr=-1,Hr=kt.length;++xr<Hr;){var kn=ve(kt[xr]);if(!(kr=Wt!=null&&Sr(Wt,kn)))break;Wt=Wt[kn]}return kr||!!(Hr=Wt?Wt.length:0)&&Rt(Hr)&&qt(kn,Hr)&&(Tt(Wt)||bt(Wt))})(Vt,Yt,yt)})(Xe,Me):Ot(ft,Ye,void 0,3)}})(oe[0],oe[1]):(function(Me){var ft=(function(Xe){for(var Ye=ye(Xe),Vt=Ye.length;Vt--;){var Yt=Ye[Vt],Wt=Xe[Yt];Ye[Vt]=[Yt,Wt,pr(Wt)]}return Ye})(Me);return ft.length==1&&ft[0][2]?er(ft[0][0],ft[0][1]):function(Xe){return Xe===Me||(function(Ye,Vt,Yt,Wt){var kt=Yt.length,Sr=kt;if(Ye==null)return!Sr;for(Ye=Object(Ye);kt--;){var kr=Yt[kt];if(kr[2]?kr[1]!==Ye[kr[0]]:!(kr[0]in Ye))return!1}for(;++kt<Sr;){var xr=(kr=Yt[kt])[0],Hr=Ye[xr],kn=kr[1];if(kr[2]){if(Hr===void 0&&!(xr in Ye))return!1}else{var on=new Fe,Un;if(!(Un===void 0?Ot(kn,Hr,Wt,3,on):Un))return!1}}return!0})(Xe,Me,ft)}})(oe):Ct(xe=oe)?(Ee=ve(xe),function(Me){return Me?.[Ee]}):(function(Me){return function(ft){return $e(ft,Me)}})(xe);var xe,Ee}function st(oe){if(Ee=(xe=oe)&&xe.constructor,Me=typeof Ee=="function"&&Ee.prototype||R,xe!==Me)return J(oe);var xe,Ee,Me,ft=[];for(var Xe in Object(oe))H.call(oe,Xe)&&Xe!="constructor"&&ft.push(Xe);return ft}function gt(oe){return Tt(oe)?oe:Ut(oe)}function dt(oe,xe,Ee,Me,ft,Xe){var Ye=2&ft,Vt=oe.length,Yt=xe.length;if(Vt!=Yt&&!(Ye&&Yt>Vt))return!1;var Wt=Xe.get(oe);if(Wt&&Xe.get(xe))return Wt==xe;var kt=-1,Sr=!0,kr=1&ft?new De:void 0;for(Xe.set(oe,xe),Xe.set(xe,oe);++kt<Vt;){var xr=oe[kt],Hr=xe[kt];if(Me)var kn=Ye?Me(Hr,xr,kt,xe,oe,Xe):Me(xr,Hr,kt,oe,xe,Xe);if(kn!==void 0){if(kn)continue;Sr=!1;break}if(kr){if(!V(xe,(function(on,Un){if(!kr.has(Un)&&(xr===on||Ee(xr,on,Me,ft,Xe)))return kr.add(Un)}))){Sr=!1;break}}else if(xr!==Hr&&!Ee(xr,Hr,Me,ft,Xe)){Sr=!1;break}}return Xe.delete(oe),Xe.delete(xe),Sr}function sr(oe,xe){var Ee,Me,ft=oe.__data__;return((Me=typeof(Ee=xe))=="string"||Me=="number"||Me=="symbol"||Me=="boolean"?Ee!=="__proto__":Ee===null)?ft[typeof xe=="string"?"string":"hash"]:ft.map}function _t(oe,xe){var Ee=(function(Me,ft){return Me?.[ft]})(oe,xe);return it(Ee)?Ee:void 0}var ir=function(oe){return Y.call(oe)};function qt(oe,xe){return!!(xe=xe??9007199254740991)&&(typeof oe=="number"||m.test(oe))&&oe>-1&&oe%1==0&&oe<xe}function Ct(oe,xe){if(Tt(oe))return!1;var Ee=typeof oe;return!(Ee!="number"&&Ee!="symbol"&&Ee!="boolean"&&oe!=null&&!$r(oe))||h.test(oe)||!d.test(oe)||xe!=null&&oe in Object(xe)}function pr(oe){return oe==oe&&!Dt(oe)}function er(oe,xe){return function(Ee){return Ee!=null&&Ee[oe]===xe&&(xe!==void 0||oe in Object(Ee))}}(le&&ir(new le(new ArrayBuffer(1)))!="[object DataView]"||ne&&ir(new ne)!=o||ue&&ir(ue.resolve())!="[object Promise]"||G&&ir(new G)!=l||te&&ir(new te)!="[object WeakMap]")&&(ir=function(oe){var xe=Y.call(oe),Ee=xe==u?oe.constructor:void 0,Me=Ee?ke(Ee):void 0;if(Me)switch(Me){case ae:return"[object DataView]";case re:return o;case ee:return"[object Promise]";case Z:return l;case Q:return"[object WeakMap]"}return xe});var Ut=St((function(oe){var xe;oe=(xe=oe)==null?"":(function(Me){if(typeof Me=="string")return Me;if($r(Me))return ge?ge.call(Me):"";var ft=Me+"";return ft=="0"&&1/Me==-1/0?"-0":ft})(xe);var Ee=[];return f.test(oe)&&Ee.push(""),oe.replace(p,(function(Me,ft,Xe,Ye){Ee.push(Xe?Ye.replace(g,"$1"):ft||Me)})),Ee}));function ve(oe){if(typeof oe=="string"||$r(oe))return oe;var xe=oe+"";return xe=="0"&&1/oe==-1/0?"-0":xe}function ke(oe){if(oe!=null){try{return q.call(oe)}catch{}try{return oe+""}catch{}}return""}var Re,He=(Re=function(oe,xe,Ee){H.call(oe,Ee)?oe[Ee].push(xe):oe[Ee]=[xe]},function(oe,xe){var Ee=Tt(oe)?D:Ve,Me={};return Ee(oe,Re,Bt(xe),Me)});function St(oe,xe){if(typeof oe!="function"||xe&&typeof xe!="function")throw new TypeError("Expected a function");var Ee=function(){var Me=arguments,ft=xe?xe.apply(this,Me):Me[0],Xe=Ee.cache;if(Xe.has(ft))return Xe.get(ft);var Ye=oe.apply(this,Me);return Ee.cache=Xe.set(ft,Ye),Ye};return Ee.cache=new(St.Cache||Ae),Ee}function Ge(oe,xe){return oe===xe||oe!=oe&&xe!=xe}function bt(oe){return(function(xe){return Zt(xe)&&mt(xe)})(oe)&&H.call(oe,"callee")&&(!L.call(oe,"callee")||Y.call(oe)==a)}St.Cache=Ae;var Tt=Array.isArray;function mt(oe){return oe!=null&&Rt(oe.length)&&!Mt(oe)}function Mt(oe){var xe=Dt(oe)?Y.call(oe):"";return xe=="[object Function]"||xe=="[object GeneratorFunction]"}function Rt(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=9007199254740991}function Dt(oe){var xe=typeof oe;return!!oe&&(xe=="object"||xe=="function")}function Zt(oe){return!!oe&&typeof oe=="object"}function $r(oe){return typeof oe=="symbol"||Zt(oe)&&Y.call(oe)=="[object Symbol]"}var mr=P?(function(oe){return function(xe){return oe(xe)}})(P):function(oe){return Zt(oe)&&Rt(oe.length)&&!!v[Y.call(oe)]};function ye(oe){return mt(oe)?rt(oe):st(oe)}function Ke(oe){return oe}n.exports=He}).call(this)}).call(this,typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(r,n,s){var i=Object.prototype.toString;n.exports=function(a){return a===!0||a===!1||(function(o){return!!o&&typeof o=="object"})(a)&&i.call(a)=="[object Boolean]"}},{}],445:[function(r,n,s){(function(i){(function(){var a="[object Arguments]",o="[object Map]",u="[object Object]",l="[object Set]",d=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[a]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[o]=f["[object Number]"]=f[u]=f["[object RegExp]"]=f[l]=f["[object String]"]=f["[object WeakMap]"]=!1;var p=typeof i=="object"&&i&&i.Object===Object&&i,g=typeof self=="object"&&self&&self.Object===Object&&self,y=p||g||Function("return this")(),m=typeof s=="object"&&s&&!s.nodeType&&s,v=m&&typeof n=="object"&&n&&!n.nodeType&&n,b=v&&v.exports===m,x=b&&p.process,k=(function(){try{return x&&x.binding&&x.binding("util")}catch{}})(),T=k&&k.isTypedArray;function O(ve,ke){for(var Re=-1,He=ve==null?0:ve.length;++Re<He;)if(ke(ve[Re],Re,ve))return!0;return!1}function F(ve){var ke=-1,Re=Array(ve.size);return ve.forEach((function(He,St){Re[++ke]=[St,He]})),Re}function A(ve){var ke=-1,Re=Array(ve.size);return ve.forEach((function(He){Re[++ke]=He})),Re}var P,D,V,B=Array.prototype,C=Function.prototype,I=Object.prototype,N=y["__core-js_shared__"],w=C.toString,_=I.hasOwnProperty,S=(P=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",j=I.toString,R=RegExp("^"+w.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=b?y.Buffer:void 0,U=y.Symbol,q=y.Uint8Array,H=I.propertyIsEnumerable,Y=B.splice,M=U?U.toStringTag:void 0,K=Object.getOwnPropertySymbols,z=$?$.isBuffer:void 0,L=(D=Object.keys,V=Object,function(ve){return D(V(ve))}),W=yt(y,"DataView"),J=yt(y,"Map"),le=yt(y,"Promise"),ne=yt(y,"Set"),ue=yt(y,"WeakMap"),G=yt(Object,"create"),te=st(W),X=st(J),ae=st(le),re=st(ne),ee=st(ue),Z=U?U.prototype:void 0,Q=Z?Z.valueOf:void 0;function ie(ve){var ke=-1,Re=ve==null?0:ve.length;for(this.clear();++ke<Re;){var He=ve[ke];this.set(He[0],He[1])}}function ce(ve){var ke=-1,Re=ve==null?0:ve.length;for(this.clear();++ke<Re;){var He=ve[ke];this.set(He[0],He[1])}}function ge(ve){var ke=-1,Re=ve==null?0:ve.length;for(this.clear();++ke<Re;){var He=ve[ke];this.set(He[0],He[1])}}function we(ve){var ke=-1,Re=ve==null?0:ve.length;for(this.__data__=new ge;++ke<Re;)this.add(ve[ke])}function Te(ve){var ke=this.__data__=new ce(ve);this.size=ke.size}function Ae(ve,ke){var Re=sr(ve),He=!Re&&dt(ve),St=!Re&&!He&&_t(ve),Ge=!Re&&!He&&!St&&er(ve),bt=Re||He||St||Ge,Tt=bt?(function(Rt,Dt){for(var Zt=-1,$r=Array(Rt);++Zt<Rt;)$r[Zt]=Dt(Zt);return $r})(ve.length,String):[],mt=Tt.length;for(var Mt in ve)!_.call(ve,Mt)||bt&&(Mt=="length"||St&&(Mt=="offset"||Mt=="parent")||Ge&&(Mt=="buffer"||Mt=="byteLength"||Mt=="byteOffset")||Bt(Mt,mt))||Tt.push(Mt);return Tt}function De(ve,ke){for(var Re=ve.length;Re--;)if(gt(ve[Re][0],ke))return Re;return-1}function Fe(ve){return ve==null?ve===void 0?"[object Undefined]":"[object Null]":M&&M in Object(ve)?(function(ke){var Re=_.call(ke,M),He=ke[M];try{ke[M]=void 0;var St=!0}catch{}var Ge=j.call(ke);return St&&(Re?ke[M]=He:delete ke[M]),Ge})(ve):(function(ke){return j.call(ke)})(ve)}function rt(ve){return pr(ve)&&Fe(ve)==a}function qe(ve,ke,Re,He,St){return ve===ke||(ve==null||ke==null||!pr(ve)&&!pr(ke)?ve!=ve&&ke!=ke:(function(Ge,bt,Tt,mt,Mt,Rt){var Dt=sr(Ge),Zt=sr(bt),$r=Dt?"[object Array]":it(Ge),mr=Zt?"[object Array]":it(bt),ye=($r=$r==a?u:$r)==u,Ke=(mr=mr==a?u:mr)==u,oe=$r==mr;if(oe&&_t(Ge)){if(!_t(bt))return!1;Dt=!0,ye=!1}if(oe&&!ye)return Rt||(Rt=new Te),Dt||er(Ge)?de(Ge,bt,Tt,mt,Mt,Rt):(function(Xe,Ye,Vt,Yt,Wt,kt,Sr){switch(Vt){case"[object DataView]":if(Xe.byteLength!=Ye.byteLength||Xe.byteOffset!=Ye.byteOffset)return!1;Xe=Xe.buffer,Ye=Ye.buffer;case"[object ArrayBuffer]":return!(Xe.byteLength!=Ye.byteLength||!kt(new q(Xe),new q(Ye)));case"[object Boolean]":case"[object Date]":case"[object Number]":return gt(+Xe,+Ye);case"[object Error]":return Xe.name==Ye.name&&Xe.message==Ye.message;case"[object RegExp]":case"[object String]":return Xe==Ye+"";case o:var kr=F;case l:var xr=1&Yt;if(kr||(kr=A),Xe.size!=Ye.size&&!xr)return!1;var Hr=Sr.get(Xe);if(Hr)return Hr==Ye;Yt|=2,Sr.set(Xe,Ye);var kn=de(kr(Xe),kr(Ye),Yt,Wt,kt,Sr);return Sr.delete(Xe),kn;case"[object Symbol]":if(Q)return Q.call(Xe)==Q.call(Ye)}return!1})(Ge,bt,$r,Tt,mt,Mt,Rt);if(!(1&Tt)){var xe=ye&&_.call(Ge,"__wrapped__"),Ee=Ke&&_.call(bt,"__wrapped__");if(xe||Ee){var Me=xe?Ge.value():Ge,ft=Ee?bt.value():bt;return Rt||(Rt=new Te),Mt(Me,ft,Tt,mt,Rt)}}return oe?(Rt||(Rt=new Te),(function(Xe,Ye,Vt,Yt,Wt,kt){var Sr=1&Vt,kr=Pe(Xe),xr=kr.length,Hr=Pe(Ye).length;if(xr!=Hr&&!Sr)return!1;for(var kn=xr;kn--;){var on=kr[kn];if(!(Sr?on in Ye:_.call(Ye,on)))return!1}var Un=kt.get(Xe);if(Un&&kt.get(Ye))return Un==Ye;var Ps=!0;kt.set(Xe,Ye),kt.set(Ye,Xe);for(var qs=Sr;++kn<xr;){on=kr[kn];var ma=Xe[on],Hs=Ye[on];if(Yt)var Pr=Sr?Yt(Hs,ma,on,Ye,Xe,kt):Yt(ma,Hs,on,Xe,Ye,kt);if(!(Pr===void 0?ma===Hs||Wt(ma,Hs,Vt,Yt,kt):Pr)){Ps=!1;break}qs||(qs=on=="constructor")}if(Ps&&!qs){var yr=Xe.constructor,ga=Ye.constructor;yr==ga||!("constructor"in Xe)||!("constructor"in Ye)||typeof yr=="function"&&yr instanceof yr&&typeof ga=="function"&&ga instanceof ga||(Ps=!1)}return kt.delete(Xe),kt.delete(Ye),Ps})(Ge,bt,Tt,mt,Mt,Rt)):!1})(ve,ke,Re,He,qe,St))}function Ve(ve){return!(!Ct(ve)||(function(ke){return!!S&&S in ke})(ve))&&(ir(ve)?R:d).test(st(ve))}function pe(ve){if(Re=(ke=ve)&&ke.constructor,He=typeof Re=="function"&&Re.prototype||I,ke!==He)return L(ve);var ke,Re,He,St=[];for(var Ge in Object(ve))_.call(ve,Ge)&&Ge!="constructor"&&St.push(Ge);return St}function de(ve,ke,Re,He,St,Ge){var bt=1&Re,Tt=ve.length,mt=ke.length;if(Tt!=mt&&!(bt&&mt>Tt))return!1;var Mt=Ge.get(ve);if(Mt&&Ge.get(ke))return Mt==ke;var Rt=-1,Dt=!0,Zt=2&Re?new we:void 0;for(Ge.set(ve,ke),Ge.set(ke,ve);++Rt<Tt;){var $r=ve[Rt],mr=ke[Rt];if(He)var ye=bt?He(mr,$r,Rt,ke,ve,Ge):He($r,mr,Rt,ve,ke,Ge);if(ye!==void 0){if(ye)continue;Dt=!1;break}if(Zt){if(!O(ke,(function(Ke,oe){if(xe=oe,!Zt.has(xe)&&($r===Ke||St($r,Ke,Re,He,Ge)))return Zt.push(oe);var xe}))){Dt=!1;break}}else if($r!==mr&&!St($r,mr,Re,He,Ge)){Dt=!1;break}}return Ge.delete(ve),Ge.delete(ke),Dt}function Pe(ve){return(function(ke,Re,He){var St=Re(ke);return sr(ke)?St:(function(Ge,bt){for(var Tt=-1,mt=bt.length,Mt=Ge.length;++Tt<mt;)Ge[Mt+Tt]=bt[Tt];return Ge})(St,He(ke))})(ve,Ut,Ot)}function $e(ve,ke){var Re,He,St=ve.__data__;return((He=typeof(Re=ke))=="string"||He=="number"||He=="symbol"||He=="boolean"?Re!=="__proto__":Re===null)?St[typeof ke=="string"?"string":"hash"]:St.map}function yt(ve,ke){var Re=(function(He,St){return He?.[St]})(ve,ke);return Ve(Re)?Re:void 0}ie.prototype.clear=function(){this.__data__=G?G(null):{},this.size=0},ie.prototype.delete=function(ve){var ke=this.has(ve)&&delete this.__data__[ve];return this.size-=ke?1:0,ke},ie.prototype.get=function(ve){var ke=this.__data__;if(G){var Re=ke[ve];return Re==="__lodash_hash_undefined__"?void 0:Re}return _.call(ke,ve)?ke[ve]:void 0},ie.prototype.has=function(ve){var ke=this.__data__;return G?ke[ve]!==void 0:_.call(ke,ve)},ie.prototype.set=function(ve,ke){var Re=this.__data__;return this.size+=this.has(ve)?0:1,Re[ve]=G&&ke===void 0?"__lodash_hash_undefined__":ke,this},ce.prototype.clear=function(){this.__data__=[],this.size=0},ce.prototype.delete=function(ve){var ke=this.__data__,Re=De(ke,ve);return!(Re<0)&&(Re==ke.length-1?ke.pop():Y.call(ke,Re,1),--this.size,!0)},ce.prototype.get=function(ve){var ke=this.__data__,Re=De(ke,ve);return Re<0?void 0:ke[Re][1]},ce.prototype.has=function(ve){return De(this.__data__,ve)>-1},ce.prototype.set=function(ve,ke){var Re=this.__data__,He=De(Re,ve);return He<0?(++this.size,Re.push([ve,ke])):Re[He][1]=ke,this},ge.prototype.clear=function(){this.size=0,this.__data__={hash:new ie,map:new(J||ce),string:new ie}},ge.prototype.delete=function(ve){var ke=$e(this,ve).delete(ve);return this.size-=ke?1:0,ke},ge.prototype.get=function(ve){return $e(this,ve).get(ve)},ge.prototype.has=function(ve){return $e(this,ve).has(ve)},ge.prototype.set=function(ve,ke){var Re=$e(this,ve),He=Re.size;return Re.set(ve,ke),this.size+=Re.size==He?0:1,this},we.prototype.add=we.prototype.push=function(ve){return this.__data__.set(ve,"__lodash_hash_undefined__"),this},we.prototype.has=function(ve){return this.__data__.has(ve)},Te.prototype.clear=function(){this.__data__=new ce,this.size=0},Te.prototype.delete=function(ve){var ke=this.__data__,Re=ke.delete(ve);return this.size=ke.size,Re},Te.prototype.get=function(ve){return this.__data__.get(ve)},Te.prototype.has=function(ve){return this.__data__.has(ve)},Te.prototype.set=function(ve,ke){var Re=this.__data__;if(Re instanceof ce){var He=Re.__data__;if(!J||He.length<199)return He.push([ve,ke]),this.size=++Re.size,this;Re=this.__data__=new ge(He)}return Re.set(ve,ke),this.size=Re.size,this};var Ot=K?function(ve){return ve==null?[]:(ve=Object(ve),(function(ke,Re){for(var He=-1,St=ke==null?0:ke.length,Ge=0,bt=[];++He<St;){var Tt=ke[He];Re(Tt,He,ke)&&(bt[Ge++]=Tt)}return bt})(K(ve),(function(ke){return H.call(ve,ke)})))}:function(){return[]},it=Fe;function Bt(ve,ke){return!!(ke=ke??9007199254740991)&&(typeof ve=="number"||h.test(ve))&&ve>-1&&ve%1==0&&ve<ke}function st(ve){if(ve!=null){try{return w.call(ve)}catch{}try{return ve+""}catch{}}return""}function gt(ve,ke){return ve===ke||ve!=ve&&ke!=ke}(W&&it(new W(new ArrayBuffer(1)))!="[object DataView]"||J&&it(new J)!=o||le&&it(le.resolve())!="[object Promise]"||ne&&it(new ne)!=l||ue&&it(new ue)!="[object WeakMap]")&&(it=function(ve){var ke=Fe(ve),Re=ke==u?ve.constructor:void 0,He=Re?st(Re):"";if(He)switch(He){case te:return"[object DataView]";case X:return o;case ae:return"[object Promise]";case re:return l;case ee:return"[object WeakMap]"}return ke});var dt=rt((function(){return arguments})())?rt:function(ve){return pr(ve)&&_.call(ve,"callee")&&!H.call(ve,"callee")},sr=Array.isArray,_t=z||function(){return!1};function ir(ve){if(!Ct(ve))return!1;var ke=Fe(ve);return ke=="[object Function]"||ke=="[object GeneratorFunction]"||ke=="[object AsyncFunction]"||ke=="[object Proxy]"}function qt(ve){return typeof ve=="number"&&ve>-1&&ve%1==0&&ve<=9007199254740991}function Ct(ve){var ke=typeof ve;return ve!=null&&(ke=="object"||ke=="function")}function pr(ve){return ve!=null&&typeof ve=="object"}var er=T?(function(ve){return function(ke){return ve(ke)}})(T):function(ve){return pr(ve)&&qt(ve.length)&&!!f[Fe(ve)]};function Ut(ve){return(ke=ve)!=null&&qt(ke.length)&&!ir(ke)?Ae(ve):pe(ve);var ke}n.exports=function(ve,ke){return qe(ve,ke)}}).call(this)}).call(this,typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(r,n,s){(function(i){(function(){var a=typeof i=="object"&&i&&i.Object===Object&&i,o=typeof self=="object"&&self&&self.Object===Object&&self,u=a||o||Function("return this")(),l=Object.prototype,d=l.hasOwnProperty,h=l.toString,f=u.Symbol,p=f?f.toStringTag:void 0;function g(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":p&&p in Object(y)?(function(m){var v=d.call(m,p),b=m[p];try{m[p]=void 0;var x=!0}catch{}var k=h.call(m);return x&&(v?m[p]=b:delete m[p]),k})(y):(function(m){return h.call(m)})(y)}n.exports=function(y){if(!(function(v){var b=typeof v;return v!=null&&(b=="object"||b=="function")})(y))return!1;var m=g(y);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(r,n,s){n.exports=function(i){return i==null}},{}],448:[function(r,n,s){n.exports=function(i){return i===void 0}},{}],449:[function(r,n,s){(function(i){(function(){var a=/^\[object .+?Constructor\]$/,o=typeof i=="object"&&i&&i.Object===Object&&i,u=typeof self=="object"&&self&&self.Object===Object&&self,l=o||u||Function("return this")();function d(U,q){return!!(U&&U.length)&&(function(H,Y,M){if(Y!=Y)return(function(L,W,J,le){for(var ne=L.length,ue=J+-1;++ue<ne;)if(W(L[ue],ue,L))return ue;return-1})(H,h,M);for(var K=M-1,z=H.length;++K<z;)if(H[K]===Y)return K;return-1})(U,q,0)>-1}function h(U){return U!=U}function f(U,q){return U.has(q)}function p(U){var q=-1,H=Array(U.size);return U.forEach((function(Y){H[++q]=Y})),H}var g,y=Array.prototype,m=Function.prototype,v=Object.prototype,b=l["__core-js_shared__"],x=(g=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",k=m.toString,T=v.hasOwnProperty,O=v.toString,F=RegExp("^"+k.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=y.splice,P=R(l,"Map"),D=R(l,"Set"),V=R(Object,"create");function B(U){var q=-1,H=U?U.length:0;for(this.clear();++q<H;){var Y=U[q];this.set(Y[0],Y[1])}}function C(U){var q=-1,H=U?U.length:0;for(this.clear();++q<H;){var Y=U[q];this.set(Y[0],Y[1])}}function I(U){var q=-1,H=U?U.length:0;for(this.clear();++q<H;){var Y=U[q];this.set(Y[0],Y[1])}}function N(U){var q=-1,H=U?U.length:0;for(this.__data__=new I;++q<H;)this.add(U[q])}function w(U,q){for(var H,Y,M=U.length;M--;)if((H=U[M][0])===(Y=q)||H!=H&&Y!=Y)return M;return-1}function _(U){return!(!$(U)||(q=U,x&&x in q))&&((function(H){var Y=$(H)?O.call(H):"";return Y=="[object Function]"||Y=="[object GeneratorFunction]"})(U)||(function(H){var Y=!1;if(H!=null&&typeof H.toString!="function")try{Y=!!(H+"")}catch{}return Y})(U)?F:a).test((function(H){if(H!=null){try{return k.call(H)}catch{}try{return H+""}catch{}}return""})(U));var q}B.prototype.clear=function(){this.__data__=V?V(null):{}},B.prototype.delete=function(U){return this.has(U)&&delete this.__data__[U]},B.prototype.get=function(U){var q=this.__data__;if(V){var H=q[U];return H==="__lodash_hash_undefined__"?void 0:H}return T.call(q,U)?q[U]:void 0},B.prototype.has=function(U){var q=this.__data__;return V?q[U]!==void 0:T.call(q,U)},B.prototype.set=function(U,q){return this.__data__[U]=V&&q===void 0?"__lodash_hash_undefined__":q,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(U){var q=this.__data__,H=w(q,U);return!(H<0)&&(H==q.length-1?q.pop():A.call(q,H,1),!0)},C.prototype.get=function(U){var q=this.__data__,H=w(q,U);return H<0?void 0:q[H][1]},C.prototype.has=function(U){return w(this.__data__,U)>-1},C.prototype.set=function(U,q){var H=this.__data__,Y=w(H,U);return Y<0?H.push([U,q]):H[Y][1]=q,this},I.prototype.clear=function(){this.__data__={hash:new B,map:new(P||C),string:new B}},I.prototype.delete=function(U){return j(this,U).delete(U)},I.prototype.get=function(U){return j(this,U).get(U)},I.prototype.has=function(U){return j(this,U).has(U)},I.prototype.set=function(U,q){return j(this,U).set(U,q),this},N.prototype.add=N.prototype.push=function(U){return this.__data__.set(U,"__lodash_hash_undefined__"),this},N.prototype.has=function(U){return this.__data__.has(U)};var S=D&&1/p(new D([,-0]))[1]==1/0?function(U){return new D(U)}:function(){};function j(U,q){var H,Y,M=U.__data__;return((Y=typeof(H=q))=="string"||Y=="number"||Y=="symbol"||Y=="boolean"?H!=="__proto__":H===null)?M[typeof q=="string"?"string":"hash"]:M.map}function R(U,q){var H=(function(Y,M){return Y?.[M]})(U,q);return _(H)?H:void 0}function $(U){var q=typeof U;return!!U&&(q=="object"||q=="function")}n.exports=function(U){return U&&U.length?(function(q,H,Y){var M=-1,K=d,z=q.length,L=!0,W=[],J=W;if(z>=200){var le=S(q);if(le)return p(le);L=!1,K=f,J=new N}else J=W;e:for(;++M<z;){var ne=q[M],ue=ne;if(ne=ne!==0?ne:0,L&&ue==ue){for(var G=J.length;G--;)if(J[G]===ue)continue e;W.push(ne)}else K(J,ue,Y)||(J!==W&&J.push(ue),W.push(ne))}return W})(U):[]}}).call(this)}).call(this,typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(r,n,s){var i=r("inherits"),a=r("hash-base"),o=r("safe-buffer").Buffer,u=new Array(16);function l(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function d(y,m){return y<<m|y>>>32-m}function h(y,m,v,b,x,k,T){return d(y+(m&v|~m&b)+x+k|0,T)+m|0}function f(y,m,v,b,x,k,T){return d(y+(m&b|v&~b)+x+k|0,T)+m|0}function p(y,m,v,b,x,k,T){return d(y+(m^v^b)+x+k|0,T)+m|0}function g(y,m,v,b,x,k,T){return d(y+(v^(m|~b))+x+k|0,T)+m|0}i(l,a),l.prototype._update=function(){for(var y=u,m=0;m<16;++m)y[m]=this._block.readInt32LE(4*m);var v=this._a,b=this._b,x=this._c,k=this._d;v=h(v,b,x,k,y[0],3614090360,7),k=h(k,v,b,x,y[1],3905402710,12),x=h(x,k,v,b,y[2],606105819,17),b=h(b,x,k,v,y[3],3250441966,22),v=h(v,b,x,k,y[4],4118548399,7),k=h(k,v,b,x,y[5],1200080426,12),x=h(x,k,v,b,y[6],2821735955,17),b=h(b,x,k,v,y[7],4249261313,22),v=h(v,b,x,k,y[8],1770035416,7),k=h(k,v,b,x,y[9],2336552879,12),x=h(x,k,v,b,y[10],4294925233,17),b=h(b,x,k,v,y[11],2304563134,22),v=h(v,b,x,k,y[12],1804603682,7),k=h(k,v,b,x,y[13],4254626195,12),x=h(x,k,v,b,y[14],2792965006,17),v=f(v,b=h(b,x,k,v,y[15],1236535329,22),x,k,y[1],4129170786,5),k=f(k,v,b,x,y[6],3225465664,9),x=f(x,k,v,b,y[11],643717713,14),b=f(b,x,k,v,y[0],3921069994,20),v=f(v,b,x,k,y[5],3593408605,5),k=f(k,v,b,x,y[10],38016083,9),x=f(x,k,v,b,y[15],3634488961,14),b=f(b,x,k,v,y[4],3889429448,20),v=f(v,b,x,k,y[9],568446438,5),k=f(k,v,b,x,y[14],3275163606,9),x=f(x,k,v,b,y[3],4107603335,14),b=f(b,x,k,v,y[8],1163531501,20),v=f(v,b,x,k,y[13],2850285829,5),k=f(k,v,b,x,y[2],4243563512,9),x=f(x,k,v,b,y[7],1735328473,14),v=p(v,b=f(b,x,k,v,y[12],2368359562,20),x,k,y[5],4294588738,4),k=p(k,v,b,x,y[8],2272392833,11),x=p(x,k,v,b,y[11],1839030562,16),b=p(b,x,k,v,y[14],4259657740,23),v=p(v,b,x,k,y[1],2763975236,4),k=p(k,v,b,x,y[4],1272893353,11),x=p(x,k,v,b,y[7],4139469664,16),b=p(b,x,k,v,y[10],3200236656,23),v=p(v,b,x,k,y[13],681279174,4),k=p(k,v,b,x,y[0],3936430074,11),x=p(x,k,v,b,y[3],3572445317,16),b=p(b,x,k,v,y[6],76029189,23),v=p(v,b,x,k,y[9],3654602809,4),k=p(k,v,b,x,y[12],3873151461,11),x=p(x,k,v,b,y[15],530742520,16),v=g(v,b=p(b,x,k,v,y[2],3299628645,23),x,k,y[0],4096336452,6),k=g(k,v,b,x,y[7],1126891415,10),x=g(x,k,v,b,y[14],2878612391,15),b=g(b,x,k,v,y[5],4237533241,21),v=g(v,b,x,k,y[12],1700485571,6),k=g(k,v,b,x,y[3],2399980690,10),x=g(x,k,v,b,y[10],4293915773,15),b=g(b,x,k,v,y[1],2240044497,21),v=g(v,b,x,k,y[8],1873313359,6),k=g(k,v,b,x,y[15],4264355552,10),x=g(x,k,v,b,y[6],2734768916,15),b=g(b,x,k,v,y[13],1309151649,21),v=g(v,b,x,k,y[4],4149444226,6),k=g(k,v,b,x,y[11],3174756917,10),x=g(x,k,v,b,y[2],718787259,15),b=g(b,x,k,v,y[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+b|0,this._c=this._c+x|0,this._d=this._d+k|0},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=o.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},n.exports=l},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(r,n,s){var i=r("bn.js"),a=r("brorand");function o(u){this.rand=u||new a.Rand}n.exports=o,o.create=function(u){return new o(u)},o.prototype._randbelow=function(u){var l=u.bitLength(),d=Math.ceil(l/8);do var h=new i(this.rand.generate(d));while(h.cmp(u)>=0);return h},o.prototype._randrange=function(u,l){var d=l.sub(u);return u.add(this._randbelow(d))},o.prototype.test=function(u,l,d){var h=u.bitLength(),f=i.mont(u),p=new i(1).toRed(f);l||(l=Math.max(1,h/48|0));for(var g=u.subn(1),y=0;!g.testn(y);y++);for(var m=u.shrn(y),v=g.toRed(f);l>0;l--){var b=this._randrange(new i(2),g);d&&d(b);var x=b.toRed(f).redPow(m);if(x.cmp(p)!==0&&x.cmp(v)!==0){for(var k=1;k<y;k++){if((x=x.redSqr()).cmp(p)===0)return!1;if(x.cmp(v)===0)break}if(k===y)return!1}}return!0},o.prototype.getDivisor=function(u,l){var d=u.bitLength(),h=i.mont(u),f=new i(1).toRed(h);l||(l=Math.max(1,d/48|0));for(var p=u.subn(1),g=0;!p.testn(g);g++);for(var y=u.shrn(g),m=p.toRed(h);l>0;l--){var v=this._randrange(new i(2),p),b=u.gcd(v);if(b.cmpn(1)!==0)return b;var x=v.toRed(h).redPow(y);if(x.cmp(f)!==0&&x.cmp(m)!==0){for(var k=1;k<g;k++){if((x=x.redSqr()).cmp(f)===0)return x.fromRed().subn(1).gcd(u);if(x.cmp(m)===0)break}if(k===g)return(x=x.redSqr()).fromRed().subn(1).gcd(u)}}return!1}},{"bn.js":452,brorand:187}],452:[function(r,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(r,n,s){function i(a,o){if(!a)throw new Error(o||"Assertion failed")}n.exports=i,i.equal=function(a,o,u){if(a!=o)throw new Error(u||"Assertion failed: "+a+" != "+o)}},{}],454:[function(r,n,s){var i=s;function a(u){return u.length===1?"0"+u:u}function o(u){for(var l="",d=0;d<u.length;d++)l+=a(u[d].toString(16));return l}i.toArray=function(u,l){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u!="string"){for(var h=0;h<u.length;h++)d[h]=0|u[h];return d}if(l==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),h=0;h<u.length;h+=2)d.push(parseInt(u[h]+u[h+1],16));else for(h=0;h<u.length;h++){var f=u.charCodeAt(h),p=f>>8,g=255&f;p?d.push(p,g):d.push(g)}return d},i.zero2=a,i.toHex=o,i.encode=function(u,l){return l==="hex"?o(u):u}},{}],455:[function(r,n,s){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(r,n,s){var i=r("asn1.js");s.certificate=r("./certificate");var a=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));s.RSAPrivateKey=a;var o=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));s.RSAPublicKey=o;var u=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}));s.PublicKey=u;var l=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),d=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(l),this.key("subjectPrivateKey").octstr())}));s.PrivateKey=d;var h=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));s.EncryptedPrivateKey=h;var f=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));s.DSAPrivateKey=f,s.DSAparam=i.define("DSAparam",(function(){this.int()}));var p=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())}));s.ECPrivateKey=p;var g=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));s.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(r,n,s){var i=r("asn1.js"),a=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),u=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),l=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())})),d=i.define("RelativeDistinguishedName",(function(){this.setof(o)})),h=i.define("RDNSequence",(function(){this.seqof(d)})),f=i.define("Name",(function(){this.choice({rdnSequence:this.use(h)})})),p=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))})),g=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),y=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(u),this.key("issuer").use(f),this.key("validity").use(p),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(l),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())})),m=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(u),this.key("signatureValue").bitstr())}));n.exports=m},{"asn1.js":170}],458:[function(r,n,s){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,u=r("evp_bytestokey"),l=r("browserify-aes"),d=r("safe-buffer").Buffer;n.exports=function(h,f){var p,g=h.toString(),y=g.match(i);if(y){var m="aes"+y[1],v=d.from(y[2],"hex"),b=d.from(y[3].replace(/[\r\n]/g,""),"base64"),x=u(f,v.slice(0,8),parseInt(y[1],10)).key,k=[],T=l.createDecipheriv(m,x,v);k.push(T.update(b)),k.push(T.final()),p=d.concat(k)}else{var O=g.match(o);p=d.from(O[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(a)[1],data:p}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(r,n,s){var i=r("./asn1"),a=r("./aesid.json"),o=r("./fixProc"),u=r("browserify-aes"),l=r("pbkdf2"),d=r("safe-buffer").Buffer;function h(f){var p;typeof f!="object"||d.isBuffer(f)||(p=f.passphrase,f=f.key),typeof f=="string"&&(f=d.from(f));var g,y,m=o(f,p),v=m.tag,b=m.data;switch(v){case"CERTIFICATE":y=i.certificate.decode(b,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=i.PublicKey.decode(b,"der")),g=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=i.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":b=(function(x,k){var T=x.algorithm.decrypt.kde.kdeparams.salt,O=parseInt(x.algorithm.decrypt.kde.kdeparams.iters.toString(),10),F=a[x.algorithm.decrypt.cipher.algo.join(".")],A=x.algorithm.decrypt.cipher.iv,P=x.subjectPrivateKey,D=parseInt(F.split("-")[1],10)/8,V=l.pbkdf2Sync(k,T,O,D,"sha1"),B=u.createDecipheriv(F,V,A),C=[];return C.push(B.update(P)),C.push(B.final()),d.concat(C)})(b=i.EncryptedPrivateKey.decode(b,"der"),p);case"PRIVATE KEY":switch(g=(y=i.PrivateKey.decode(b,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:i.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=i.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(b,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(b,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(b,"der")};case"EC PRIVATE KEY":return{curve:(b=i.ECPrivateKey.decode(b,"der")).parameters.value,privateKey:b.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=h,h.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(r,n,s){s.pbkdf2=r("./lib/async"),s.pbkdf2Sync=r("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(r,n,s){(function(i){(function(){var a,o,u=r("safe-buffer").Buffer,l=r("./precondition"),d=r("./default-encoding"),h=r("./sync"),f=r("./to-buffer"),p=i.crypto&&i.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function m(){return o||(o=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function v(b,x,k,T,O){return p.importKey("raw",b,{name:"PBKDF2"},!1,["deriveBits"]).then((function(F){return p.deriveBits({name:"PBKDF2",salt:x,iterations:k,hash:{name:O}},F,T<<3)})).then((function(F){return u.from(F)}))}n.exports=function(b,x,k,T,O,F){typeof O=="function"&&(F=O,O=void 0);var A=g[(O=O||"sha1").toLowerCase()];if(A&&typeof i.Promise=="function"){if(l(k,T),b=f(b,d,"Password"),x=f(x,d,"Salt"),typeof F!="function")throw new Error("No callback provided to pbkdf2");(function(P,D){P.then((function(V){m()((function(){D(null,V)}))}),(function(V){m()((function(){D(V)}))}))})((function(P){if(i.process&&!i.process.browser||!p||!p.importKey||!p.deriveBits)return Promise.resolve(!1);if(y[P]!==void 0)return y[P];var D=v(a=a||u.alloc(8),a,10,128,P).then((function(){return!0})).catch((function(){return!1}));return y[P]=D,D})(A).then((function(P){return P?v(b,x,k,T,A):h(b,x,k,T,O)})),F)}else m()((function(){var P;try{P=h(b,x,k,T,O)}catch(D){return F(D)}F(null,P)}))}}).call(this)}).call(this,typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(r,n,s){(function(i,a){(function(){var o;a.process&&a.process.browser?o="utf-8":a.process&&a.process.version?o=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",n.exports=o}).call(this)}).call(this,r("_process"),typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(r,n,s){var i=Math.pow(2,30)-1;n.exports=function(a,o){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>i||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(r,n,s){var i=r("create-hash/md5"),a=r("ripemd160"),o=r("sha.js"),u=r("safe-buffer").Buffer,l=r("./precondition"),d=r("./default-encoding"),h=r("./to-buffer"),f=u.alloc(128),p={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(y,m,v){var b=(function(A){function P(D){return o(A).update(D).digest()}return A==="rmd160"||A==="ripemd160"?function(D){return new a().update(D).digest()}:A==="md5"?i:P})(y),x=y==="sha512"||y==="sha384"?128:64;m.length>x?m=b(m):m.length<x&&(m=u.concat([m,f],x));for(var k=u.allocUnsafe(x+p[y]),T=u.allocUnsafe(x+p[y]),O=0;O<x;O++)k[O]=54^m[O],T[O]=92^m[O];var F=u.allocUnsafe(x+v+4);k.copy(F,0,0,x),this.ipad1=F,this.ipad2=k,this.opad=T,this.alg=y,this.blocksize=x,this.hash=b,this.size=p[y]}g.prototype.run=function(y,m){return y.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(y,m,v,b,x){l(v,b);var k=new g(x=x||"sha1",y=h(y,d,"Password"),(m=h(m,d,"Salt")).length),T=u.allocUnsafe(b),O=u.allocUnsafe(m.length+4);m.copy(O,0,0,m.length);for(var F=0,A=p[x],P=Math.ceil(b/A),D=1;D<=P;D++){O.writeUInt32BE(D,m.length);for(var V=k.run(O,k.ipad1),B=V,C=1;C<v;C++){B=k.run(B,k.ipad2);for(var I=0;I<A;I++)V[I]^=B[I]}V.copy(T,F),F+=A}return T}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(r,n,s){var i=r("safe-buffer").Buffer;n.exports=function(a,o,u){if(i.isBuffer(a))return a;if(typeof a=="string")return i.from(a,o);if(ArrayBuffer.isView(a))return i.from(a.buffer);throw new TypeError(u+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(r,n,s){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(a,o,u,l){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var d,h,f=arguments.length;switch(f){case 0:case 1:return i.nextTick(a);case 2:return i.nextTick((function(){a.call(null,o)}));case 3:return i.nextTick((function(){a.call(null,o,u)}));case 4:return i.nextTick((function(){a.call(null,o,u,l)}));default:for(d=new Array(f-1),h=0;h<d.length;)d[h++]=arguments[h];return i.nextTick((function(){a.apply(null,d)}))}}}:n.exports=i}).call(this)}).call(this,r("_process"))},{_process:467}],467:[function(r,n,s){var i,a,o=n.exports={};function u(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function d(x){if(i===setTimeout)return setTimeout(x,0);if((i===u||!i)&&setTimeout)return i=setTimeout,setTimeout(x,0);try{return i(x,0)}catch{try{return i.call(null,x,0)}catch{return i.call(this,x,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:u}catch{i=u}try{a=typeof clearTimeout=="function"?clearTimeout:l}catch{a=l}})();var h,f=[],p=!1,g=-1;function y(){p&&h&&(p=!1,h.length?f=h.concat(f):g=-1,f.length&&m())}function m(){if(!p){var x=d(y);p=!0;for(var k=f.length;k;){for(h=f,f=[];++g<k;)h&&h[g].run();g=-1,k=f.length}h=null,p=!1,(function(T){if(a===clearTimeout)return clearTimeout(T);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(T);try{a(T)}catch{try{return a.call(null,T)}catch{return a.call(this,T)}}})(x)}}function v(x,k){this.fun=x,this.array=k}function b(){}o.nextTick=function(x){var k=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)k[T-1]=arguments[T];f.push(new v(x,k)),f.length!==1||p||d(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(x){return[]},o.binding=function(x){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(x){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(r,n,s){s.publicEncrypt=r("./publicEncrypt"),s.privateDecrypt=r("./privateDecrypt"),s.privateEncrypt=function(i,a){return s.publicEncrypt(i,a,!0)},s.publicDecrypt=function(i,a){return s.privateDecrypt(i,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(r,n,s){var i=r("create-hash"),a=r("safe-buffer").Buffer;function o(u){var l=a.allocUnsafe(4);return l.writeUInt32BE(u,0),l}n.exports=function(u,l){for(var d,h=a.alloc(0),f=0;h.length<l;)d=o(f++),h=a.concat([h,i("sha1").update(u).update(d).digest()]);return h.slice(0,l)}},{"create-hash":386,"safe-buffer":494}],470:[function(r,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(r,n,s){var i=r("parse-asn1"),a=r("./mgf"),o=r("./xor"),u=r("bn.js"),l=r("browserify-rsa"),d=r("create-hash"),h=r("./withPublic"),f=r("safe-buffer").Buffer;n.exports=function(p,g,y){var m;m=p.padding?p.padding:y?1:4;var v,b=i(p),x=b.modulus.byteLength();if(g.length>x||new u(g).cmp(b.modulus)>=0)throw new Error("decryption error");v=y?h(new u(g),b):l(g,b);var k=f.alloc(x-v.length);if(v=f.concat([k,v],x),m===4)return(function(T,O){var F=T.modulus.byteLength(),A=d("sha1").update(f.alloc(0)).digest(),P=A.length;if(O[0]!==0)throw new Error("decryption error");var D=O.slice(1,P+1),V=O.slice(P+1),B=o(D,a(V,P)),C=o(V,a(B,F-P-1));if((function(N,w){N=f.from(N),w=f.from(w);var _=0,S=N.length;N.length!==w.length&&(_++,S=Math.min(N.length,w.length));for(var j=-1;++j<S;)_+=N[j]^w[j];return _})(A,C.slice(0,P)))throw new Error("decryption error");for(var I=P;C[I]===0;)I++;if(C[I++]!==1)throw new Error("decryption error");return C.slice(I)})(b,v);if(m===1)return(function(T,O,F){for(var A=O.slice(0,2),P=2,D=0;O[P++]!==0;)if(P>=O.length){D++;break}var V=O.slice(2,P-1);if((A.toString("hex")!=="0002"&&!F||A.toString("hex")!=="0001"&&F)&&D++,V.length<8&&D++,D)throw new Error("decryption error");return O.slice(P)})(0,v,y);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(r,n,s){var i=r("parse-asn1"),a=r("randombytes"),o=r("create-hash"),u=r("./mgf"),l=r("./xor"),d=r("bn.js"),h=r("./withPublic"),f=r("browserify-rsa"),p=r("safe-buffer").Buffer;n.exports=function(g,y,m){var v;v=g.padding?g.padding:m?1:4;var b,x=i(g);if(v===4)b=(function(k,T){var O=k.modulus.byteLength(),F=T.length,A=o("sha1").update(p.alloc(0)).digest(),P=A.length,D=2*P;if(F>O-D-2)throw new Error("message too long");var V=p.alloc(O-F-D-2),B=O-P-1,C=a(P),I=l(p.concat([A,V,p.alloc(1,1),T],B),u(C,B)),N=l(C,u(I,P));return new d(p.concat([p.alloc(1),N,I],O))})(x,y);else if(v===1)b=(function(k,T,O){var F,A=T.length,P=k.modulus.byteLength();if(A>P-11)throw new Error("message too long");return F=O?p.alloc(P-A-3,255):(function(D){for(var V,B=p.allocUnsafe(D),C=0,I=a(2*D),N=0;C<D;)N===I.length&&(I=a(2*D),N=0),(V=I[N++])&&(B[C++]=V);return B})(P-A-3),new d(p.concat([p.from([0,O?1:2]),F,p.alloc(1),T],P))})(x,y,m);else{if(v!==3)throw new Error("unknown padding");if((b=new d(y)).cmp(x.modulus)>=0)throw new Error("data too long for modulus")}return m?f(b,x):h(b,x)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(r,n,s){var i=r("bn.js"),a=r("safe-buffer").Buffer;n.exports=function(o,u){return a.from(o.toRed(i.mont(u.modulus)).redPow(new i(u.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(r,n,s){n.exports=function(i,a){for(var o=i.length,u=-1;++u<o;)i[u]^=a[u];return i}},{}],475:[function(r,n,s){(function(i,a){(function(){var o=r("safe-buffer").Buffer,u=a.crypto||a.msCrypto;u&&u.getRandomValues?n.exports=function(l,d){if(l>4294967295)throw new RangeError("requested too many random bytes");var h=o.allocUnsafe(l);if(l>0)if(l>65536)for(var f=0;f<l;f+=65536)u.getRandomValues(h.slice(f,f+65536));else u.getRandomValues(h);return typeof d=="function"?i.nextTick((function(){d(null,h)})):h}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,r("_process"),typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(r,n,s){(function(i,a){(function(){function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var u=r("safe-buffer"),l=r("randombytes"),d=u.Buffer,h=u.kMaxLength,f=a.crypto||a.msCrypto,p=Math.pow(2,32)-1;function g(v,b){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>p||v<0)throw new TypeError("offset must be a uint32");if(v>h||v>b)throw new RangeError("offset out of range")}function y(v,b,x){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>p||v<0)throw new TypeError("size must be a uint32");if(v+b>x||v>h)throw new RangeError("buffer too small")}function m(v,b,x,k){if(i.browser){var T=v.buffer,O=new Uint8Array(T,b,x);return f.getRandomValues(O),k?void i.nextTick((function(){k(null,v)})):v}if(!k)return l(x).copy(v,b),v;l(x,(function(F,A){if(F)return k(F);A.copy(v,b),k(null,v)}))}f&&f.getRandomValues||!i.browser?(s.randomFill=function(v,b,x,k){if(!(d.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")k=b,b=0,x=v.length;else if(typeof x=="function")k=x,x=v.length-b;else if(typeof k!="function")throw new TypeError('"cb" argument must be a function');return g(b,v.length),y(x,b,v.length),m(v,b,x,k)},s.randomFillSync=function(v,b,x){if(b===void 0&&(b=0),!(d.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(b,v.length),x===void 0&&(x=v.length-b),y(x,b,v.length),m(v,b,x)}):(s.randomFill=o,s.randomFillSync=o)}).call(this)}).call(this,r("_process"),typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(r,n,s){var i={};function a(u,l,d){d||(d=Error);var h=(function(f){var p,g;function y(m,v,b){return f.call(this,(function(x,k,T){return typeof l=="string"?l:l(x,k,T)})(m,v,b))||this}return g=f,(p=y).prototype=Object.create(g.prototype),p.prototype.constructor=p,p.__proto__=g,y})(d);h.prototype.name=d.name,h.prototype.code=u,i[u]=h}function o(u,l){if(Array.isArray(u)){var d=u.length;return u=u.map((function(h){return String(h)})),d>2?"one of ".concat(l," ").concat(u.slice(0,d-1).join(", "),", or ")+u[d-1]:d===2?"one of ".concat(l," ").concat(u[0]," or ").concat(u[1]):"of ".concat(l," ").concat(u[0])}return"of ".concat(l," ").concat(String(u))}a("ERR_INVALID_OPT_VALUE",(function(u,l){return'The value "'+l+'" is invalid for option "'+u+'"'}),TypeError),a("ERR_INVALID_ARG_TYPE",(function(u,l,d){var h,f,p;if(typeof l=="string"&&(f="not ",l.substr(0,f.length)===f)?(h="must not be",l=l.replace(/^not /,"")):h="must be",(function(y,m,v){return(v===void 0||v>y.length)&&(v=y.length),y.substring(v-m.length,v)===m})(u," argument"))p="The ".concat(u," ").concat(h," ").concat(o(l,"type"));else{var g=(function(y,m,v){return typeof v!="number"&&(v=0),!(v+m.length>y.length)&&y.indexOf(m,v)!==-1})(u,".")?"property":"argument";p='The "'.concat(u,'" ').concat(g," ").concat(h," ").concat(o(l,"type"))}return p+=". Received type ".concat(typeof d)}),TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",(function(u){return"The "+u+" method is not implemented"})),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",(function(u){return"Cannot call "+u+" after a stream was destroyed"})),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",(function(u){return"Unknown encoding: "+u}),TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=i},{}],478:[function(r,n,s){(function(i){(function(){var a=Object.keys||function(y){var m=[];for(var v in y)m.push(v);return m};n.exports=f;var o=r("./_stream_readable"),u=r("./_stream_writable");r("inherits")(f,o);for(var l=a(u.prototype),d=0;d<l.length;d++){var h=l[d];f.prototype[h]||(f.prototype[h]=u.prototype[h])}function f(y){if(!(this instanceof f))return new f(y);o.call(this,y),u.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p)))}function p(){this._writableState.ended||i.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,r("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(r,n,s){n.exports=a;var i=r("./_stream_transform");function a(o){if(!(this instanceof a))return new a(o);i.call(this,o)}r("inherits")(a,i),a.prototype._transform=function(o,u,l){l(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(r,n,s){(function(i,a){(function(){var o;n.exports=B,B.ReadableState=V,r("events").EventEmitter;var u=function(z,L){return z.listeners(L).length},l=r("./internal/streams/stream"),d=r("buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,p=r("util");f=p&&p.debuglog?p.debuglog("stream"):function(){};var g,y,m,v=r("./internal/streams/buffer_list"),b=r("./internal/streams/destroy"),x=r("./internal/streams/state").getHighWaterMark,k=r("../errors").codes,T=k.ERR_INVALID_ARG_TYPE,O=k.ERR_STREAM_PUSH_AFTER_EOF,F=k.ERR_METHOD_NOT_IMPLEMENTED,A=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("inherits")(B,l);var P=b.errorOrDestroy,D=["error","close","destroy","pause","resume"];function V(z,L,W){o=o||r("./_stream_duplex"),z=z||{},typeof W!="boolean"&&(W=L instanceof o),this.objectMode=!!z.objectMode,W&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=x(this,z,"readableHighWaterMark",W),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(g||(g=r("string_decoder/").StringDecoder),this.decoder=new g(z.encoding),this.encoding=z.encoding)}function B(z){if(o=o||r("./_stream_duplex"),!(this instanceof B))return new B(z);var L=this instanceof o;this._readableState=new V(z,this,L),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),l.call(this)}function C(z,L,W,J,le){f("readableAddChunk",L);var ne,ue=z._readableState;if(L===null)ue.reading=!1,(function(G,te){if(f("onEofChunk"),!te.ended){if(te.decoder){var X=te.decoder.end();X&&X.length&&(te.buffer.push(X),te.length+=te.objectMode?1:X.length)}te.ended=!0,te.sync?w(G):(te.needReadable=!1,te.emittedReadable||(te.emittedReadable=!0,_(G)))}})(z,ue);else if(le||(ne=(function(G,te){var X;ae=te,d.isBuffer(ae)||ae instanceof h||typeof te=="string"||te===void 0||G.objectMode||(X=new T("chunk",["string","Buffer","Uint8Array"],te));var ae;return X})(ue,L)),ne)P(z,ne);else if(ue.objectMode||L&&L.length>0)if(typeof L=="string"||ue.objectMode||Object.getPrototypeOf(L)===d.prototype||(L=(function(G){return d.from(G)})(L)),J)ue.endEmitted?P(z,new A):I(z,ue,L,!0);else if(ue.ended)P(z,new O);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!W?(L=ue.decoder.write(L),ue.objectMode||L.length!==0?I(z,ue,L,!1):S(z,ue)):I(z,ue,L,!1)}else J||(ue.reading=!1,S(z,ue));return!ue.ended&&(ue.length<ue.highWaterMark||ue.length===0)}function I(z,L,W,J){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,z.emit("data",W)):(L.length+=L.objectMode?1:W.length,J?L.buffer.unshift(W):L.buffer.push(W),L.needReadable&&w(z)),S(z,L)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z)}}),B.prototype.destroy=b.destroy,B.prototype._undestroy=b.undestroy,B.prototype._destroy=function(z,L){L(z)},B.prototype.push=function(z,L){var W,J=this._readableState;return J.objectMode?W=!0:typeof z=="string"&&((L=L||J.defaultEncoding)!==J.encoding&&(z=d.from(z,L),L=""),W=!0),C(this,z,L,!1,W)},B.prototype.unshift=function(z){return C(this,z,null,!0,!1)},B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(z){g||(g=r("string_decoder/").StringDecoder);var L=new g(z);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,J="";W!==null;)J+=L.write(W.data),W=W.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};function N(z,L){return z<=0||L.length===0&&L.ended?0:L.objectMode?1:z!=z?L.flowing&&L.length?L.buffer.head.data.length:L.length:(z>L.highWaterMark&&(L.highWaterMark=(function(W){return W>=1073741824?W=1073741824:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W})(z)),z<=L.length?z:L.ended?L.length:(L.needReadable=!0,0))}function w(z){var L=z._readableState;f("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(f("emitReadable",L.flowing),L.emittedReadable=!0,i.nextTick(_,z))}function _(z){var L=z._readableState;f("emitReadable_",L.destroyed,L.length,L.ended),L.destroyed||!L.length&&!L.ended||(z.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,q(z)}function S(z,L){L.readingMore||(L.readingMore=!0,i.nextTick(j,z,L))}function j(z,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var W=L.length;if(f("maybeReadMore read 0"),z.read(0),W===L.length)break}L.readingMore=!1}function R(z){var L=z._readableState;L.readableListening=z.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:z.listenerCount("data")>0&&z.resume()}function $(z){f("readable nexttick read 0"),z.read(0)}function U(z,L){f("resume",L.reading),L.reading||z.read(0),L.resumeScheduled=!1,z.emit("resume"),q(z),L.flowing&&!L.reading&&z.read(0)}function q(z){var L=z._readableState;for(f("flow",L.flowing);L.flowing&&z.read()!==null;);}function H(z,L){return L.length===0?null:(L.objectMode?W=L.buffer.shift():!z||z>=L.length?(W=L.decoder?L.buffer.join(""):L.buffer.length===1?L.buffer.first():L.buffer.concat(L.length),L.buffer.clear()):W=L.buffer.consume(z,L.decoder),W);var W}function Y(z){var L=z._readableState;f("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,i.nextTick(M,L,z))}function M(z,L){if(f("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,L.readable=!1,L.emit("end"),z.autoDestroy)){var W=L._writableState;(!W||W.autoDestroy&&W.finished)&&L.destroy()}}function K(z,L){for(var W=0,J=z.length;W<J;W++)if(z[W]===L)return W;return-1}B.prototype.read=function(z){f("read",z),z=parseInt(z,10);var L=this._readableState,W=z;if(z!==0&&(L.emittedReadable=!1),z===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return f("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?Y(this):w(this),null;if((z=N(z,L))===0&&L.ended)return L.length===0&&Y(this),null;var J,le=L.needReadable;return f("need readable",le),(L.length===0||L.length-z<L.highWaterMark)&&f("length less than watermark",le=!0),L.ended||L.reading?f("reading or ended",le=!1):le&&(f("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(z=N(W,L))),(J=z>0?H(z,L):null)===null?(L.needReadable=L.length<=L.highWaterMark,z=0):(L.length-=z,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),W!==z&&L.ended&&Y(this)),J!==null&&this.emit("data",J),J},B.prototype._read=function(z){P(this,new F("_read()"))},B.prototype.pipe=function(z,L){var W=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=z;break;case 1:J.pipes=[J.pipes,z];break;default:J.pipes.push(z)}J.pipesCount+=1,f("pipe count=%d opts=%j",J.pipesCount,L);var le=(!L||L.end!==!1)&&z!==i.stdout&&z!==i.stderr?ue:Z;function ne(Q,ie){f("onunpipe"),Q===W&&ie&&ie.hasUnpiped===!1&&(ie.hasUnpiped=!0,f("cleanup"),z.removeListener("close",re),z.removeListener("finish",ee),z.removeListener("drain",G),z.removeListener("error",ae),z.removeListener("unpipe",ne),W.removeListener("end",ue),W.removeListener("end",Z),W.removeListener("data",X),te=!0,!J.awaitDrain||z._writableState&&!z._writableState.needDrain||G())}function ue(){f("onend"),z.end()}J.endEmitted?i.nextTick(le):W.once("end",le),z.on("unpipe",ne);var G=(function(Q){return function(){var ie=Q._readableState;f("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&u(Q,"data")&&(ie.flowing=!0,q(Q))}})(W);z.on("drain",G);var te=!1;function X(Q){f("ondata");var ie=z.write(Q);f("dest.write",ie),ie===!1&&((J.pipesCount===1&&J.pipes===z||J.pipesCount>1&&K(J.pipes,z)!==-1)&&!te&&(f("false write response, pause",J.awaitDrain),J.awaitDrain++),W.pause())}function ae(Q){f("onerror",Q),Z(),z.removeListener("error",ae),u(z,"error")===0&&P(z,Q)}function re(){z.removeListener("finish",ee),Z()}function ee(){f("onfinish"),z.removeListener("close",re),Z()}function Z(){f("unpipe"),W.unpipe(z)}return W.on("data",X),(function(Q,ie,ce){if(typeof Q.prependListener=="function")return Q.prependListener(ie,ce);Q._events&&Q._events[ie]?Array.isArray(Q._events[ie])?Q._events[ie].unshift(ce):Q._events[ie]=[ce,Q._events[ie]]:Q.on(ie,ce)})(z,"error",ae),z.once("close",re),z.once("finish",ee),z.emit("pipe",W),J.flowing||(f("pipe resume"),W.resume()),z},B.prototype.unpipe=function(z){var L=this._readableState,W={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return z&&z!==L.pipes||(z||(z=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,z&&z.emit("unpipe",this,W)),this;if(!z){var J=L.pipes,le=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var ne=0;ne<le;ne++)J[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=K(L.pipes,z);return ue===-1||(L.pipes.splice(ue,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),z.emit("unpipe",this,W)),this},B.prototype.on=function(z,L){var W=l.prototype.on.call(this,z,L),J=this._readableState;return z==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):z==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,f("on readable",J.length,J.reading),J.length?w(this):J.reading||i.nextTick($,this))),W},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(z,L){var W=l.prototype.removeListener.call(this,z,L);return z==="readable"&&i.nextTick(R,this),W},B.prototype.removeAllListeners=function(z){var L=l.prototype.removeAllListeners.apply(this,arguments);return z!=="readable"&&z!==void 0||i.nextTick(R,this),L},B.prototype.resume=function(){var z=this._readableState;return z.flowing||(f("resume"),z.flowing=!z.readableListening,(function(L,W){W.resumeScheduled||(W.resumeScheduled=!0,i.nextTick(U,L,W))})(this,z)),z.paused=!1,this},B.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},B.prototype.wrap=function(z){var L=this,W=this._readableState,J=!1;for(var le in z.on("end",(function(){if(f("wrapped end"),W.decoder&&!W.ended){var ue=W.decoder.end();ue&&ue.length&&L.push(ue)}L.push(null)})),z.on("data",(function(ue){f("wrapped data"),W.decoder&&(ue=W.decoder.write(ue)),W.objectMode&&ue==null||(W.objectMode||ue&&ue.length)&&(L.push(ue)||(J=!0,z.pause()))})),z)this[le]===void 0&&typeof z[le]=="function"&&(this[le]=(function(ue){return function(){return z[ue].apply(z,arguments)}})(le));for(var ne=0;ne<D.length;ne++)z.on(D[ne],this.emit.bind(this,D[ne]));return this._read=function(ue){f("wrapped _read",ue),J&&(J=!1,z.resume())},this},typeof Symbol=="function"&&(B.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=r("./internal/streams/async_iterator")),y(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}}),B._fromList=H,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(B.from=function(z,L){return m===void 0&&(m=r("./internal/streams/from")),m(B,z,L)})}).call(this)}).call(this,r("_process"),typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(r,n,s){n.exports=f;var i=r("../errors").codes,a=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,u=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=i.ERR_TRANSFORM_WITH_LENGTH_0,d=r("./_stream_duplex");function h(y,m){var v=this._transformState;v.transforming=!1;var b=v.writecb;if(b===null)return this.emit("error",new o);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),b(y);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function f(y){if(!(this instanceof f))return new f(y);d.call(this,y),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush((function(m,v){g(y,m,v)}))}function g(y,m,v){if(m)return y.emit("error",m);if(v!=null&&y.push(v),y._writableState.length)throw new l;if(y._transformState.transforming)throw new u;return y.push(null)}r("inherits")(f,d),f.prototype.push=function(y,m){return this._transformState.needTransform=!1,d.prototype.push.call(this,y,m)},f.prototype._transform=function(y,m,v){v(new a("_transform()"))},f.prototype._write=function(y,m,v){var b=this._transformState;if(b.writecb=v,b.writechunk=y,b.writeencoding=m,!b.transforming){var x=this._readableState;(b.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},f.prototype._read=function(y){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},f.prototype._destroy=function(y,m){d.prototype._destroy.call(this,y,(function(v){m(v)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(r,n,s){(function(i,a){(function(){function o(j){var R=this;this.next=null,this.entry=null,this.finish=function(){(function($,U,q){var H=$.entry;for($.entry=null;H;){var Y=H.callback;U.pendingcb--,Y(q),H=H.next}U.corkedRequestsFree.next=$})(R,j)}}var u;n.exports=B,B.WritableState=V;var l={deprecate:r("util-deprecate")},d=r("./internal/streams/stream"),h=r("buffer").Buffer,f=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p,g=r("./internal/streams/destroy"),y=r("./internal/streams/state").getHighWaterMark,m=r("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,b=m.ERR_METHOD_NOT_IMPLEMENTED,x=m.ERR_MULTIPLE_CALLBACK,k=m.ERR_STREAM_CANNOT_PIPE,T=m.ERR_STREAM_DESTROYED,O=m.ERR_STREAM_NULL_VALUES,F=m.ERR_STREAM_WRITE_AFTER_END,A=m.ERR_UNKNOWN_ENCODING,P=g.errorOrDestroy;function D(){}function V(j,R,$){u=u||r("./_stream_duplex"),j=j||{},typeof $!="boolean"&&($=R instanceof u),this.objectMode=!!j.objectMode,$&&(this.objectMode=this.objectMode||!!j.writableObjectMode),this.highWaterMark=y(this,j,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var U=j.decodeStrings===!1;this.decodeStrings=!U,this.defaultEncoding=j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){(function(H,Y){var M=H._writableState,K=M.sync,z=M.writecb;if(typeof z!="function")throw new x;if((function(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0})(M),Y)(function(W,J,le,ne,ue){--J.pendingcb,le?(i.nextTick(ue,ne),i.nextTick(S,W,J),W._writableState.errorEmitted=!0,P(W,ne)):(ue(ne),W._writableState.errorEmitted=!0,P(W,ne),S(W,J))})(H,M,K,Y,z);else{var L=w(M)||H.destroyed;L||M.corked||M.bufferProcessing||!M.bufferedRequest||N(H,M),K?i.nextTick(I,H,M,L,z):I(H,M,L,z)}})(R,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function B(j){var R=this instanceof(u=u||r("./_stream_duplex"));if(!R&&!p.call(B,this))return new B(j);this._writableState=new V(j,this,R),this.writable=!0,j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final)),d.call(this)}function C(j,R,$,U,q,H,Y){R.writelen=U,R.writecb=Y,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new T("write")):$?j._writev(q,R.onwrite):j._write(q,H,R.onwrite),R.sync=!1}function I(j,R,$,U){$||(function(q,H){H.length===0&&H.needDrain&&(H.needDrain=!1,q.emit("drain"))})(j,R),R.pendingcb--,U(),S(j,R)}function N(j,R){R.bufferProcessing=!0;var $=R.bufferedRequest;if(j._writev&&$&&$.next){var U=R.bufferedRequestCount,q=new Array(U),H=R.corkedRequestsFree;H.entry=$;for(var Y=0,M=!0;$;)q[Y]=$,$.isBuf||(M=!1),$=$.next,Y+=1;q.allBuffers=M,C(j,R,!0,R.length,q,"",H.finish),R.pendingcb++,R.lastBufferedRequest=null,H.next?(R.corkedRequestsFree=H.next,H.next=null):R.corkedRequestsFree=new o(R),R.bufferedRequestCount=0}else{for(;$;){var K=$.chunk,z=$.encoding,L=$.callback;if(C(j,R,!1,R.objectMode?1:K.length,K,z,L),$=$.next,R.bufferedRequestCount--,R.writing)break}$===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=$,R.bufferProcessing=!1}function w(j){return j.ending&&j.length===0&&j.bufferedRequest===null&&!j.finished&&!j.writing}function _(j,R){j._final((function($){R.pendingcb--,$&&P(j,$),R.prefinished=!0,j.emit("prefinish"),S(j,R)}))}function S(j,R){var $=w(R);if($&&((function(q,H){H.prefinished||H.finalCalled||(typeof q._final!="function"||H.destroyed?(H.prefinished=!0,q.emit("prefinish")):(H.pendingcb++,H.finalCalled=!0,i.nextTick(_,q,H)))})(j,R),R.pendingcb===0&&(R.finished=!0,j.emit("finish"),R.autoDestroy))){var U=j._readableState;(!U||U.autoDestroy&&U.endEmitted)&&j.destroy()}return $}r("inherits")(B,d),V.prototype.getBuffer=function(){for(var j=this.bufferedRequest,R=[];j;)R.push(j),j=j.next;return R},(function(){try{Object.defineProperty(V.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(j){return!!p.call(this,j)||this===B&&j&&j._writableState instanceof V}})):p=function(j){return j instanceof this},B.prototype.pipe=function(){P(this,new k)},B.prototype.write=function(j,R,$){var U,q=this._writableState,H=!1,Y=!q.objectMode&&(U=j,h.isBuffer(U)||U instanceof f);return Y&&!h.isBuffer(j)&&(j=(function(M){return h.from(M)})(j)),typeof R=="function"&&($=R,R=null),Y?R="buffer":R||(R=q.defaultEncoding),typeof $!="function"&&($=D),q.ending?(function(M,K){var z=new F;P(M,z),i.nextTick(K,z)})(this,$):(Y||(function(M,K,z,L){var W;return z===null?W=new O:typeof z=="string"||K.objectMode||(W=new v("chunk",["string","Buffer"],z)),!W||(P(M,W),i.nextTick(L,W),!1)})(this,q,j,$))&&(q.pendingcb++,H=(function(M,K,z,L,W,J){if(!z){var le=(function(te,X,ae){return te.objectMode||te.decodeStrings===!1||typeof X!="string"||(X=h.from(X,ae)),X})(K,L,W);L!==le&&(z=!0,W="buffer",L=le)}var ne=K.objectMode?1:L.length;K.length+=ne;var ue=K.length<K.highWaterMark;if(ue||(K.needDrain=!0),K.writing||K.corked){var G=K.lastBufferedRequest;K.lastBufferedRequest={chunk:L,encoding:W,isBuf:z,callback:J,next:null},G?G.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else C(M,K,!1,ne,L,W,J);return ue})(this,q,Y,j,R,$)),H},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var j=this._writableState;j.corked&&(j.corked--,j.writing||j.corked||j.bufferProcessing||!j.bufferedRequest||N(this,j))},B.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=j.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((j+"").toLowerCase())>-1))throw new A(j);return this._writableState.defaultEncoding=j,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),B.prototype._write=function(j,R,$){$(new b("_write()"))},B.prototype._writev=null,B.prototype.end=function(j,R,$){var U=this._writableState;return typeof j=="function"?($=j,j=null,R=null):typeof R=="function"&&($=R,R=null),j!=null&&this.write(j,R),U.corked&&(U.corked=1,this.uncork()),U.ending||(function(q,H,Y){H.ending=!0,S(q,H),Y&&(H.finished?i.nextTick(Y):q.once("finish",Y)),H.ended=!0,q.writable=!1})(this,U,$),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(j){this._writableState&&(this._writableState.destroyed=j)}}),B.prototype.destroy=g.destroy,B.prototype._undestroy=g.undestroy,B.prototype._destroy=function(j,R){R(j)}}).call(this)}).call(this,r("_process"),typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(r,n,s){(function(i){(function(){var a;function o(T,O,F){return(O=(function(A){var P=(function(D,V){if(typeof D!="object"||D===null)return D;var B=D[Symbol.toPrimitive];if(B!==void 0){var C=B.call(D,V);if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(D)})(A,"string");return typeof P=="symbol"?P:String(P)})(O))in T?Object.defineProperty(T,O,{value:F,enumerable:!0,configurable:!0,writable:!0}):T[O]=F,T}var u=r("./end-of-stream"),l=Symbol("lastResolve"),d=Symbol("lastReject"),h=Symbol("error"),f=Symbol("ended"),p=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function m(T,O){return{value:T,done:O}}function v(T){var O=T[l];if(O!==null){var F=T[y].read();F!==null&&(T[p]=null,T[l]=null,T[d]=null,O(m(F,!1)))}}function b(T){i.nextTick(v,T)}var x=Object.getPrototypeOf((function(){})),k=Object.setPrototypeOf((o(a={get stream(){return this[y]},next:function(){var T=this,O=this[h];if(O!==null)return Promise.reject(O);if(this[f])return Promise.resolve(m(void 0,!0));if(this[y].destroyed)return new Promise((function(D,V){i.nextTick((function(){T[h]?V(T[h]):D(m(void 0,!0))}))}));var F,A=this[p];if(A)F=new Promise((function(D,V){return function(B,C){D.then((function(){V[f]?B(m(void 0,!0)):V[g](B,C)}),C)}})(A,this));else{var P=this[y].read();if(P!==null)return Promise.resolve(m(P,!1));F=new Promise(this[g])}return this[p]=F,F}},Symbol.asyncIterator,(function(){return this})),o(a,"return",(function(){var T=this;return new Promise((function(O,F){T[y].destroy(null,(function(A){A?F(A):O(m(void 0,!0))}))}))})),a),x);n.exports=function(T){var O,F=Object.create(k,(o(O={},y,{value:T,writable:!0}),o(O,l,{value:null,writable:!0}),o(O,d,{value:null,writable:!0}),o(O,h,{value:null,writable:!0}),o(O,f,{value:T._readableState.endEmitted,writable:!0}),o(O,g,{value:function(A,P){var D=F[y].read();D?(F[p]=null,F[l]=null,F[d]=null,A(m(D,!1))):(F[l]=A,F[d]=P)},writable:!0}),O));return F[p]=null,u(T,(function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var P=F[d];return P!==null&&(F[p]=null,F[l]=null,F[d]=null,P(A)),void(F[h]=A)}var D=F[l];D!==null&&(F[p]=null,F[l]=null,F[d]=null,D(m(void 0,!0))),F[f]=!0})),T.on("readable",b.bind(null,F)),F}}).call(this)}).call(this,r("_process"))},{"./end-of-stream":486,_process:467}],484:[function(r,n,s){function i(p,g){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(p);g&&(m=m.filter((function(v){return Object.getOwnPropertyDescriptor(p,v).enumerable}))),y.push.apply(y,m)}return y}function a(p){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{};g%2?i(Object(y),!0).forEach((function(m){o(p,m,y[m])})):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):i(Object(y)).forEach((function(m){Object.defineProperty(p,m,Object.getOwnPropertyDescriptor(y,m))}))}return p}function o(p,g,y){return(g=l(g))in p?Object.defineProperty(p,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[g]=y,p}function u(p,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,l(m.key),m)}}function l(p){var g=(function(y,m){if(typeof y!="object"||y===null)return y;var v=y[Symbol.toPrimitive];if(v!==void 0){var b=v.call(y,m);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(y)})(p,"string");return typeof g=="symbol"?g:String(g)}var d=r("buffer").Buffer,h=r("util").inspect,f=h&&h.custom||"inspect";n.exports=(function(){function p(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,p),this.head=null,this.tail=null,this.length=0}var g,y;return g=p,(y=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,b=""+v.data;v=v.next;)b+=m+v.data;return b}},{key:"concat",value:function(m){if(this.length===0)return d.alloc(0);for(var v,b,x,k=d.allocUnsafe(m>>>0),T=this.head,O=0;T;)v=T.data,b=k,x=O,d.prototype.copy.call(v,b,x),O+=T.data.length,T=T.next;return k}},{key:"consume",value:function(m,v){var b;return m<this.head.data.length?(b=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):b=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,b=1,x=v.data;for(m-=x.length;v=v.next;){var k=v.data,T=m>k.length?k.length:m;if(T===k.length?x+=k:x+=k.slice(0,m),(m-=T)==0){T===k.length?(++b,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=k.slice(T));break}++b}return this.length-=b,x}},{key:"_getBuffer",value:function(m){var v=d.allocUnsafe(m),b=this.head,x=1;for(b.data.copy(v),m-=b.data.length;b=b.next;){var k=b.data,T=m>k.length?k.length:m;if(k.copy(v,v.length-m,0,T),(m-=T)==0){T===k.length?(++x,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=k.slice(T));break}++x}return this.length-=x,v}},{key:f,value:function(m,v){return h(this,a(a({},v),{},{depth:0,customInspect:!1}))}}])&&u(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),p})()},{buffer:220,util:188}],485:[function(r,n,s){(function(i){(function(){function a(l,d){u(l,d),o(l)}function o(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function u(l,d){l.emit("error",d)}n.exports={destroy:function(l,d){var h=this,f=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return f||p?(d?d(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(u,this,l)):i.nextTick(u,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,(function(g){!d&&g?h._writableState?h._writableState.errorEmitted?i.nextTick(o,h):(h._writableState.errorEmitted=!0,i.nextTick(a,h,g)):i.nextTick(a,h,g):d?(i.nextTick(o,h),d(g)):i.nextTick(o,h)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(l,d){var h=l._readableState,f=l._writableState;h&&h.autoDestroy||f&&f.autoDestroy?l.destroy(d):l.emit("error",d)}}}).call(this)}).call(this,r("_process"))},{_process:467}],486:[function(r,n,s){var i=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}n.exports=function o(u,l,d){if(typeof l=="function")return o(u,null,l);l||(l={}),d=(function(T){var O=!1;return function(){if(!O){O=!0;for(var F=arguments.length,A=new Array(F),P=0;P<F;P++)A[P]=arguments[P];T.apply(this,A)}}})(d||a);var h=l.readable||l.readable!==!1&&u.readable,f=l.writable||l.writable!==!1&&u.writable,p=function(){u.writable||y()},g=u._writableState&&u._writableState.finished,y=function(){f=!1,g=!0,h||d.call(u)},m=u._readableState&&u._readableState.endEmitted,v=function(){h=!1,m=!0,f||d.call(u)},b=function(T){d.call(u,T)},x=function(){var T;return h&&!m?(u._readableState&&u._readableState.ended||(T=new i),d.call(u,T)):f&&!g?(u._writableState&&u._writableState.ended||(T=new i),d.call(u,T)):void 0},k=function(){u.req.on("finish",y)};return(function(T){return T.setHeader&&typeof T.abort=="function"})(u)?(u.on("complete",y),u.on("abort",x),u.req?k():u.on("request",k)):f&&!u._writableState&&(u.on("end",p),u.on("close",p)),u.on("end",v),u.on("finish",y),l.error!==!1&&u.on("error",b),u.on("close",x),function(){u.removeListener("complete",y),u.removeListener("abort",x),u.removeListener("request",k),u.req&&u.req.removeListener("finish",y),u.removeListener("end",p),u.removeListener("close",p),u.removeListener("finish",y),u.removeListener("end",v),u.removeListener("error",b),u.removeListener("close",x)}}},{"../../../errors":477}],487:[function(r,n,s){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(r,n,s){var i,a=r("../../../errors").codes,o=a.ERR_MISSING_ARGS,u=a.ERR_STREAM_DESTROYED;function l(g){if(g)throw g}function d(g,y,m,v){v=(function(k){var T=!1;return function(){T||(T=!0,k.apply(void 0,arguments))}})(v);var b=!1;g.on("close",(function(){b=!0})),i===void 0&&(i=r("./end-of-stream")),i(g,{readable:y,writable:m},(function(k){if(k)return v(k);b=!0,v()}));var x=!1;return function(k){if(!b&&!x)return x=!0,(function(T){return T.setHeader&&typeof T.abort=="function"})(g)?g.abort():typeof g.destroy=="function"?g.destroy():void v(k||new u("pipe"))}}function h(g){g()}function f(g,y){return g.pipe(y)}function p(g){return g.length?typeof g[g.length-1]!="function"?l:g.pop():l}n.exports=function(){for(var g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];var v,b=p(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new o("streams");var x=y.map((function(k,T){var O=T<y.length-1;return d(k,O,T>0,(function(F){v||(v=F),F&&x.forEach(h),O||(x.forEach(h),b(v))}))}));return y.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(r,n,s){var i=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(a,o,u,l){var d=(function(h,f,p){return h.highWaterMark!=null?h.highWaterMark:f?h[p]:null})(o,l,u);if(d!=null){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new i(l?u:"highWaterMark",d);return Math.floor(d)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(r,n,s){n.exports=r("events").EventEmitter},{events:422}],491:[function(r,n,s){(s=n.exports=r("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=r("./lib/_stream_writable.js"),s.Duplex=r("./lib/_stream_duplex.js"),s.Transform=r("./lib/_stream_transform.js"),s.PassThrough=r("./lib/_stream_passthrough.js"),s.finished=r("./lib/internal/streams/end-of-stream.js"),s.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(r,n,s){var i=(function(a){var o=Object.prototype,u=o.hasOwnProperty,l=Object.defineProperty||function(S,j,R){S[j]=R.value},d=typeof Symbol=="function"?Symbol:{},h=d.iterator||"@@iterator",f=d.asyncIterator||"@@asyncIterator",p=d.toStringTag||"@@toStringTag";function g(S,j,R){return Object.defineProperty(S,j,{value:R,enumerable:!0,configurable:!0,writable:!0}),S[j]}try{g({},"")}catch{g=function(j,R,$){return j[R]=$}}function y(S,j,R,$){var U=j&&j.prototype instanceof b?j:b,q=Object.create(U.prototype),H=new N($||[]);return l(q,"_invoke",{value:V(S,R,H)}),q}function m(S,j,R){try{return{type:"normal",arg:S.call(j,R)}}catch($){return{type:"throw",arg:$}}}a.wrap=y;var v={};function b(){}function x(){}function k(){}var T={};g(T,h,(function(){return this}));var O=Object.getPrototypeOf,F=O&&O(O(w([])));F&&F!==o&&u.call(F,h)&&(T=F);var A=k.prototype=b.prototype=Object.create(T);function P(S){["next","throw","return"].forEach((function(j){g(S,j,(function(R){return this._invoke(j,R)}))}))}function D(S,j){var R;l(this,"_invoke",{value:function($,U){function q(){return new j((function(H,Y){(function M(K,z,L,W){var J=m(S[K],S,z);if(J.type!=="throw"){var le=J.arg,ne=le.value;return ne&&typeof ne=="object"&&u.call(ne,"__await")?j.resolve(ne.__await).then((function(ue){M("next",ue,L,W)}),(function(ue){M("throw",ue,L,W)})):j.resolve(ne).then((function(ue){le.value=ue,L(le)}),(function(ue){return M("throw",ue,L,W)}))}W(J.arg)})($,U,H,Y)}))}return R=R?R.then(q,q):q()}})}function V(S,j,R){var $="suspendedStart";return function(U,q){if($==="executing")throw new Error("Generator is already running");if($==="completed"){if(U==="throw")throw q;return _()}for(R.method=U,R.arg=q;;){var H=R.delegate;if(H){var Y=B(H,R);if(Y){if(Y===v)continue;return Y}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if($==="suspendedStart")throw $="completed",R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);$="executing";var M=m(S,j,R);if(M.type==="normal"){if($=R.done?"completed":"suspendedYield",M.arg===v)continue;return{value:M.arg,done:R.done}}M.type==="throw"&&($="completed",R.method="throw",R.arg=M.arg)}}}function B(S,j){var R=j.method,$=S.iterator[R];if($===void 0)return j.delegate=null,R==="throw"&&S.iterator.return&&(j.method="return",j.arg=void 0,B(S,j),j.method==="throw")||R!=="return"&&(j.method="throw",j.arg=new TypeError("The iterator does not provide a '"+R+"' method")),v;var U=m($,S.iterator,j.arg);if(U.type==="throw")return j.method="throw",j.arg=U.arg,j.delegate=null,v;var q=U.arg;return q?q.done?(j[S.resultName]=q.value,j.next=S.nextLoc,j.method!=="return"&&(j.method="next",j.arg=void 0),j.delegate=null,v):q:(j.method="throw",j.arg=new TypeError("iterator result is not an object"),j.delegate=null,v)}function C(S){var j={tryLoc:S[0]};1 in S&&(j.catchLoc=S[1]),2 in S&&(j.finallyLoc=S[2],j.afterLoc=S[3]),this.tryEntries.push(j)}function I(S){var j=S.completion||{};j.type="normal",delete j.arg,S.completion=j}function N(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(C,this),this.reset(!0)}function w(S){if(S){var j=S[h];if(j)return j.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var R=-1,$=function U(){for(;++R<S.length;)if(u.call(S,R))return U.value=S[R],U.done=!1,U;return U.value=void 0,U.done=!0,U};return $.next=$}}return{next:_}}function _(){return{value:void 0,done:!0}}return x.prototype=k,l(A,"constructor",{value:k,configurable:!0}),l(k,"constructor",{value:x,configurable:!0}),x.displayName=g(k,p,"GeneratorFunction"),a.isGeneratorFunction=function(S){var j=typeof S=="function"&&S.constructor;return!!j&&(j===x||(j.displayName||j.name)==="GeneratorFunction")},a.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,k):(S.__proto__=k,g(S,p,"GeneratorFunction")),S.prototype=Object.create(A),S},a.awrap=function(S){return{__await:S}},P(D.prototype),g(D.prototype,f,(function(){return this})),a.AsyncIterator=D,a.async=function(S,j,R,$,U){U===void 0&&(U=Promise);var q=new D(y(S,j,R,$),U);return a.isGeneratorFunction(j)?q:q.next().then((function(H){return H.done?H.value:q.next()}))},P(A),g(A,p,"Generator"),g(A,h,(function(){return this})),g(A,"toString",(function(){return"[object Generator]"})),a.keys=function(S){var j=Object(S),R=[];for(var $ in j)R.push($);return R.reverse(),function U(){for(;R.length;){var q=R.pop();if(q in j)return U.value=q,U.done=!1,U}return U.done=!0,U}},a.values=w,N.prototype={constructor:N,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!S)for(var j in this)j.charAt(0)==="t"&&u.call(this,j)&&!isNaN(+j.slice(1))&&(this[j]=void 0)},stop:function(){this.done=!0;var S=this.tryEntries[0].completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var j=this;function R(M,K){return q.type="throw",q.arg=S,j.next=M,K&&(j.method="next",j.arg=void 0),!!K}for(var $=this.tryEntries.length-1;$>=0;--$){var U=this.tryEntries[$],q=U.completion;if(U.tryLoc==="root")return R("end");if(U.tryLoc<=this.prev){var H=u.call(U,"catchLoc"),Y=u.call(U,"finallyLoc");if(H&&Y){if(this.prev<U.catchLoc)return R(U.catchLoc,!0);if(this.prev<U.finallyLoc)return R(U.finallyLoc)}else if(H){if(this.prev<U.catchLoc)return R(U.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return R(U.finallyLoc)}}}},abrupt:function(S,j){for(var R=this.tryEntries.length-1;R>=0;--R){var $=this.tryEntries[R];if($.tryLoc<=this.prev&&u.call($,"finallyLoc")&&this.prev<$.finallyLoc){var U=$;break}}U&&(S==="break"||S==="continue")&&U.tryLoc<=j&&j<=U.finallyLoc&&(U=null);var q=U?U.completion:{};return q.type=S,q.arg=j,U?(this.method="next",this.next=U.finallyLoc,v):this.complete(q)},complete:function(S,j){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&j&&(this.next=j),v},finish:function(S){for(var j=this.tryEntries.length-1;j>=0;--j){var R=this.tryEntries[j];if(R.finallyLoc===S)return this.complete(R.completion,R.afterLoc),I(R),v}},catch:function(S){for(var j=this.tryEntries.length-1;j>=0;--j){var R=this.tryEntries[j];if(R.tryLoc===S){var $=R.completion;if($.type==="throw"){var U=$.arg;I(R)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(S,j,R){return this.delegate={iterator:w(S),resultName:j,nextLoc:R},this.method==="next"&&(this.arg=void 0),v}},a})(typeof n=="object"?n.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(r,n,s){var i=r("buffer").Buffer,a=r("inherits"),o=r("hash-base"),u=new Array(16),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function y(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(O,F){return O<<F|O>>>32-F}function v(O,F,A,P,D,V,B,C){return m(O+(F^A^P)+V+B|0,C)+D|0}function b(O,F,A,P,D,V,B,C){return m(O+(F&A|~F&P)+V+B|0,C)+D|0}function x(O,F,A,P,D,V,B,C){return m(O+((F|~A)^P)+V+B|0,C)+D|0}function k(O,F,A,P,D,V,B,C){return m(O+(F&P|A&~P)+V+B|0,C)+D|0}function T(O,F,A,P,D,V,B,C){return m(O+(F^(A|~P))+V+B|0,C)+D|0}a(y,o),y.prototype._update=function(){for(var O=u,F=0;F<16;++F)O[F]=this._block.readInt32LE(4*F);for(var A=0|this._a,P=0|this._b,D=0|this._c,V=0|this._d,B=0|this._e,C=0|this._a,I=0|this._b,N=0|this._c,w=0|this._d,_=0|this._e,S=0;S<80;S+=1){var j,R;S<16?(j=v(A,P,D,V,B,O[l[S]],p[0],h[S]),R=T(C,I,N,w,_,O[d[S]],g[0],f[S])):S<32?(j=b(A,P,D,V,B,O[l[S]],p[1],h[S]),R=k(C,I,N,w,_,O[d[S]],g[1],f[S])):S<48?(j=x(A,P,D,V,B,O[l[S]],p[2],h[S]),R=x(C,I,N,w,_,O[d[S]],g[2],f[S])):S<64?(j=k(A,P,D,V,B,O[l[S]],p[3],h[S]),R=b(C,I,N,w,_,O[d[S]],g[3],f[S])):(j=T(A,P,D,V,B,O[l[S]],p[4],h[S]),R=v(C,I,N,w,_,O[d[S]],g[4],f[S])),A=B,B=V,V=m(D,10),D=P,P=j,C=_,_=w,w=m(N,10),N=I,I=R}var $=this._b+D+w|0;this._b=this._c+V+_|0,this._c=this._d+B+C|0,this._d=this._e+A+I|0,this._e=this._a+P+N|0,this._a=$},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var O=i.alloc?i.alloc(20):new i(20);return O.writeInt32LE(this._a,0),O.writeInt32LE(this._b,4),O.writeInt32LE(this._c,8),O.writeInt32LE(this._d,12),O.writeInt32LE(this._e,16),O},n.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(r,n,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=r("buffer"),a=i.Buffer;function o(l,d){for(var h in l)d[h]=l[h]}function u(l,d,h){return a(l,d,h)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(o(i,s),s.Buffer=u),u.prototype=Object.create(a.prototype),o(a,u),u.from=function(l,d,h){if(typeof l=="number")throw new TypeError("Argument must not be a number");return a(l,d,h)},u.alloc=function(l,d,h){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=a(l);return d!==void 0?typeof h=="string"?f.fill(d,h):f.fill(d):f.fill(0),f},u.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a(l)},u.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}},{buffer:220}],495:[function(r,n,s){(function(i){(function(){var a,o=r("buffer"),u=o.Buffer,l={};for(a in o)o.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(l[a]=o[a]);var d=l.Buffer={};for(a in u)u.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(d[a]=u[a]);if(l.Buffer.prototype=u.prototype,d.from&&d.from!==Uint8Array.from||(d.from=function(h,f,p){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&h.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return u(h,f,p)}),d.alloc||(d.alloc=function(h,f,p){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2*(1<<30))throw new RangeError('The value "'+h+'" is invalid for option "size"');var g=u(h);return f&&f.length!==0?typeof p=="string"?g.fill(f,p):g.fill(f):g.fill(0),g}),!l.kStringMaxLength)try{l.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}l.constants||(l.constants={MAX_LENGTH:l.kMaxLength},l.kStringMaxLength&&(l.constants.MAX_STRING_LENGTH=l.kStringMaxLength)),n.exports=l}).call(this)}).call(this,r("_process"))},{_process:467,buffer:220}],496:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0});const i=r("xmlchars/xml/1.0/ed5"),a=r("xmlchars/xml/1.1/ed2"),o=r("xmlchars/xmlns/1.0/ed3");var u=i.isS,l=i.isChar,d=i.isNameStartChar,h=i.isNameChar,f=i.S_LIST,p=i.NAME_RE,g=a.isChar,y=o.isNCNameStartChar,m=o.isNCNameChar,v=o.NC_NAME_RE;const b="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",k={__proto__:null,xml:b,xmlns:x},T={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},O=w=>w===34||w===39,F=[34,39],A=[...F,91,62],P=[...F,60,93],D=[61,63,...f],V=[...f,62,38,60];function B(w,_,S){switch(_){case"xml":S!==b&&w.fail(`xml prefix must be bound to ${b}.`);break;case"xmlns":S!==x&&w.fail(`xmlns prefix must be bound to ${x}.`)}switch(S){case x:w.fail(_===""?`the default namespace may not be set to ${S}.`:`may not assign a prefix (even "xmlns") to the URI ${x}.`);break;case b:switch(_){case"xml":break;case"":w.fail(`the default namespace may not be set to ${S}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const C=w=>v.test(w),I=w=>p.test(w);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const N={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const _=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,_){this.nameStartCheck=y,this.nameCheck=m,this.isName=C,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},k);const S=this.opt.additionalNamespaces;S!=null&&((function(j,R){for(const $ of Object.keys(R))B(j,$,R[$])})(this,S),Object.assign(this.ns,S))}else this.nameStartCheck=d,this.nameCheck=h,this.isName=I,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:_}=this;this.state=_?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=_,this.xmlDeclPossible=!_,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:S}=this.opt;if(S===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");S="1.0"}this.setXMLVersion(S),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(T),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,_){this[N[w]]=_}off(w){this[N[w]]=void 0}makeError(w){var _;let S=(_=this.fileName)!==null&&_!==void 0?_:"";return this.trackPosition&&(S.length>0&&(S+=":"),S+=`${this.line}:${this.column}`),S.length>0&&(S+=": "),new Error(S+w)}fail(w){const _=this.makeError(w),S=this.errorHandler;if(S===void 0)throw _;return S(_),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let _=!1;w===null?(_=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let S=w.length;const j=w.charCodeAt(S-1);!_&&(j===13||j>=55296&&j<=56319)&&(this.carriedFromPrevious=w[S-1],S--,w=w.slice(0,S));const{stateTable:R}=this;for(this.chunk=w,this.i=0;this.i<S;)R[this.state].call(this);return this.chunkPosition+=S,_?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:_}=this;if(this.prevI=_,this.i=_+1,_>=w.length)return-1;const S=w.charCodeAt(_);if(this.column++,S<55296){if(S>=32||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(_+1)===10&&(this.i=_+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const j=65536+1024*(S-55296)+(w.charCodeAt(_+1)-56320);return this.i=_+2,j>1114111&&this.fail("disallowed character."),j}getCode11(){const{chunk:w,i:_}=this;if(this.prevI=_,this.i=_+1,_>=w.length)return-1;const S=w.charCodeAt(_);if(this.column++,S<55296){if(S>31&&S<127||S>159&&S!==8232||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const R=w.charCodeAt(_+1);R!==10&&R!==133||(this.i=_+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const j=65536+1024*(S-55296)+(w.charCodeAt(_+1)-56320);return this.i=_+2,j>1114111&&this.fail("disallowed character."),j}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:_}=this;const{chunk:S}=this;for(;;){const j=this.getCode(),R=j===-2,$=R?10:j;if($===-1||w.includes($))return this.text+=S.slice(_,this.prevI),$;R&&(this.text+=S.slice(_,this.prevI)+`
`,_=this.i)}}captureToChar(w){let{i:_}=this;const{chunk:S}=this;for(;;){let j=this.getCode();switch(j){case-2:this.text+=S.slice(_,this.prevI)+`
`,_=this.i,j=10;break;case-1:return this.text+=S.slice(_),!1}if(j===w)return this.text+=S.slice(_,this.prevI),!0}}captureNameChars(){const{chunk:w,i:_}=this;for(;;){const S=this.getCode();if(S===-1)return this.name+=w.slice(_),-1;if(!h(S))return this.name+=w.slice(_,this.prevI),S===-2?10:S}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!u(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=l,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,_=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),_){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const _=this.captureTo(A);switch(_){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(_),_===91?this.state=4:O(_)&&(this.state=3,this.q=_)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(P);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:O(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),_=this.openWakaBang+=w;this.text+=w,_!=="-"&&(this.state=_==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:_}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=_.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:S}=this,j=this.entity+_.slice(w,this.prevI);let R;this.state=S,j===""?(this.fail("empty entity name."),R="&;"):(R=this.parseEntity(j),this.entity=""),S===13&&this.textHandler===void 0||(this.text+=R);break e}case-1:this.entity+=_.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(d(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const _=this.getCodeNorm();_===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(_),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const _=this.getCodeNorm();switch(_){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(_),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||u(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:_}=this;for(;;){const S=this.getCodeNorm();if(S===-1)return void(this.piTarget+=w.slice(_));if(!this.nameCheck(S)){this.piTarget+=w.slice(_,this.prevI);const j=S===63;j||u(S)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=j?33:27):this.state=j?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:u(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const _=this.getCodeNorm();if(_===62){const{piTarget:S}=this;S.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:S,body:this.text}),this.piTarget=this.text="",this.state=13}else _===63?this.text+="?":(this.text+="?"+String.fromCodePoint(_),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo(D);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(u(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(w)||(O(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const _=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const S=_;this.xmlDecl.version=S,/^1\.[0-9]+$/.test(S)?this.opt.forceXMLVersion||this.setXMLVersion(S):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(_)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=_;break;case"standalone":_!=="yes"&&_!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=_}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(u(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const _=this.captureNameChars();if(_===-1)return;const S=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=S.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,S),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),_){case 62:this.openTag();break;case 47:this.state=35;break;default:u(_)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(d(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:u(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():d(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();O(w)?(this.q=w,this.state=40):u(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:_}=this;let{i:S}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+_.slice(S,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=_.slice(S,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=_.slice(S,this.prevI)+" ",S=this.i;break;case 60:return this.text+=_.slice(S,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=_.slice(S))}}sAttribValueClosed(){const w=this.getCodeNorm();u(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:d(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(V);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():u(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:_}=this;const{chunk:S,textHandler:j}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,j!==void 0){const{text:R}=this,$=S.slice(w,this.prevI);R.length!==0?(j(R+$),this.text=""):$.length!==0&&j($)}_=0;break e;case 38:this.state=14,this.entityReturnState=13,j!==void 0&&(this.text+=S.slice(w,this.prevI)),_=0;break e;case 93:switch(_){case 0:_=1;break;case 1:_=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:_===2&&this.fail('the string "]]>" is disallowed in char data.'),_=0;break;case-2:j!==void 0&&(this.text+=S.slice(w,this.prevI)+`
`),w=this.i,_=0;break;case-1:j!==void 0&&(this.text+=S.slice(w));break e;default:_=0}this.forbiddenState=_}handleTextOutsideRoot(){let{i:w}=this;const{chunk:_,textHandler:S}=this;let j=!1;e:for(;;){const R=this.getCode();switch(R){case 60:if(this.state=15,S!==void 0){const{text:$}=this,U=_.slice(w,this.prevI);$.length!==0?(S($+U),this.text=""):U.length!==0&&S(U)}break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=_.slice(w,this.prevI)),j=!0;break e;case-2:S!==void 0&&(this.text+=_.slice(w,this.prevI)+`
`),w=this.i;break;case-1:S!==void 0&&(this.text+=_.slice(w));break e;default:u(R)||(j=!0)}}j&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,_){var S;const{prefix:j,local:R}=this.qname(w),$={name:w,prefix:j,local:R,value:_};if(this.attribList.push($),(S=this.attributeHandler)===null||S===void 0||S.call(this,$),j==="xmlns"){const U=_.trim();this.currentXMLVersion==="1.0"&&U===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[R]=U,B(this,R,U)}else if(w==="xmlns"){const U=_.trim();this.topNS[""]=U,B(this,"",U)}}pushAttribPlain(w,_){var S;const j={name:w,value:_};this.attribList.push(j),(S=this.attributeHandler)===null||S===void 0||S.call(this,j)}end(){var w,_;this.sawRoot||this.fail("document must contain a root element.");const{tags:S}=this;for(;S.length>0;){const R=S.pop();this.fail("unclosed tag: "+R.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:j}=this;return j.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,j),this.text=""),this._closed=!0,(_=this.endHandler)===null||_===void 0||_.call(this),this._init(),this}resolve(w){var _,S;let j=this.topNS[w];if(j!==void 0)return j;const{tags:R}=this;for(let $=R.length-1;$>=0;$--)if(j=R[$].ns[w],j!==void 0)return j;return j=this.ns[w],j!==void 0?j:(S=(_=this.opt).resolvePrefix)===null||S===void 0?void 0:S.call(_,w)}qname(w){const _=w.indexOf(":");if(_===-1)return{prefix:"",local:w};const S=w.slice(_+1),j=w.slice(0,_);return(j===""||S===""||S.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:j,local:S}}processAttribsNS(){var w;const{attribList:_}=this,S=this.tag;{const{prefix:$,local:U}=this.qname(S.name);S.prefix=$,S.local=U;const q=S.uri=(w=this.resolve($))!==null&&w!==void 0?w:"";$!==""&&($==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),q===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify($)}.`),S.uri=$))}if(_.length===0)return;const{attributes:j}=S,R=new Set;for(const $ of _){const{name:U,prefix:q,local:H}=$;let Y,M;q===""?(Y=U==="xmlns"?x:"",M=U):(Y=this.resolve(q),Y===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(q)}.`),Y=q),M=`{${Y}}${H}`),R.has(M)&&this.fail(`duplicate attribute: ${M}.`),R.add(M),$.uri=Y,j[U]=$}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,_=this.tag.attributes;for(const{name:S,value:j}of w)_[S]!==void 0&&this.fail(`duplicate attribute: ${S}.`),_[S]=j;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:_}=this,S=this.tag;S.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,S),_.push(S),this.state=13,this.name=""}openSelfClosingTag(){var w,_,S;this.processAttribs();const{tags:j}=this,R=this.tag;R.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,R),(_=this.closeTagHandler)===null||_===void 0||_.call(this,R),(this.tag=(S=j[j.length-1])!==null&&S!==void 0?S:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:_}=this;if(this.state=13,this.name="",_==="")return this.fail("weird empty close tag."),void(this.text+="</>");const S=this.closeTagHandler;let j=w.length;for(;j-- >0;){const R=this.tag=w.pop();if(this.topNS=R.ns,S?.(R),R.name===_)break;this.fail("unexpected close tag.")}j===0?this.closedRoot=!0:j<0&&(this.fail(`unmatched closing tag: ${_}.`),this.text+=`</${_}>`)}parseEntity(w){if(w[0]!=="#"){const S=this.ENTITIES[w];return S!==void 0?S:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let _=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?_=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(_=parseInt(w.slice(1),10)),this.isChar(_)?String.fromCodePoint(_):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(r,n,s){var i=r("safe-buffer").Buffer;function a(o,u){this._block=i.alloc(o),this._finalSize=u,this._blockSize=o,this._len=0}a.prototype.update=function(o,u){typeof o=="string"&&(u=u||"utf8",o=i.from(o,u));for(var l=this._block,d=this._blockSize,h=o.length,f=this._len,p=0;p<h;){for(var g=f%d,y=Math.min(h-p,d-g),m=0;m<y;m++)l[g+m]=o[p+m];p+=y,(f+=y)%d==0&&this._update(l)}return this._len+=h,this},a.prototype.digest=function(o){var u=this._len%this._blockSize;this._block[u]=128,this._block.fill(0,u+1),u>=this._finalSize&&(this._update(this._block),this._block.fill(0));var l=8*this._len;if(l<=4294967295)this._block.writeUInt32BE(l,this._blockSize-4);else{var d=(4294967295&l)>>>0,h=(l-d)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var f=this._hash();return o?f.toString(o):f},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=a},{"safe-buffer":494}],498:[function(r,n,s){var i=n.exports=function(a){a=a.toLowerCase();var o=i[a];if(!o)throw new Error(a+" is not supported (we accept pull requests)");return new o};i.sha=r("./sha"),i.sha1=r("./sha1"),i.sha224=r("./sha224"),i.sha256=r("./sha256"),i.sha384=r("./sha384"),i.sha512=r("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(r,n,s){var i=r("inherits"),a=r("./hash"),o=r("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function d(){this.init(),this._w=l,a.call(this,64,56)}function h(p){return p<<30|p>>>2}function f(p,g,y,m){return p===0?g&y|~g&m:p===2?g&y|g&m|y&m:g^y^m}i(d,a),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(p){for(var g,y=this._w,m=0|this._a,v=0|this._b,b=0|this._c,x=0|this._d,k=0|this._e,T=0;T<16;++T)y[T]=p.readInt32BE(4*T);for(;T<80;++T)y[T]=y[T-3]^y[T-8]^y[T-14]^y[T-16];for(var O=0;O<80;++O){var F=~~(O/20),A=0|((g=m)<<5|g>>>27)+f(F,v,b,x)+k+y[O]+u[F];k=x,x=b,b=h(v),v=m,m=A}this._a=m+this._a|0,this._b=v+this._b|0,this._c=b+this._c|0,this._d=x+this._d|0,this._e=k+this._e|0},d.prototype._hash=function(){var p=o.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(r,n,s){var i=r("inherits"),a=r("./hash"),o=r("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function d(){this.init(),this._w=l,a.call(this,64,56)}function h(g){return g<<5|g>>>27}function f(g){return g<<30|g>>>2}function p(g,y,m,v){return g===0?y&m|~y&v:g===2?y&m|y&v|m&v:y^m^v}i(d,a),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(g){for(var y,m=this._w,v=0|this._a,b=0|this._b,x=0|this._c,k=0|this._d,T=0|this._e,O=0;O<16;++O)m[O]=g.readInt32BE(4*O);for(;O<80;++O)m[O]=(y=m[O-3]^m[O-8]^m[O-14]^m[O-16])<<1|y>>>31;for(var F=0;F<80;++F){var A=~~(F/20),P=h(v)+p(A,b,x,k)+T+m[F]+u[A]|0;T=k,k=x,x=f(b),b=v,v=P}this._a=v+this._a|0,this._b=b+this._b|0,this._c=x+this._c|0,this._d=k+this._d|0,this._e=T+this._e|0},d.prototype._hash=function(){var g=o.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(r,n,s){var i=r("inherits"),a=r("./sha256"),o=r("./hash"),u=r("safe-buffer").Buffer,l=new Array(64);function d(){this.init(),this._w=l,o.call(this,64,56)}i(d,a),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var h=u.allocUnsafe(28);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h},n.exports=d},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(r,n,s){var i=r("inherits"),a=r("./hash"),o=r("safe-buffer").Buffer,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=new Array(64);function d(){this.init(),this._w=l,a.call(this,64,56)}function h(m,v,b){return b^m&(v^b)}function f(m,v,b){return m&v|b&(m|v)}function p(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function g(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function y(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}i(d,a),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},d.prototype._update=function(m){for(var v,b=this._w,x=0|this._a,k=0|this._b,T=0|this._c,O=0|this._d,F=0|this._e,A=0|this._f,P=0|this._g,D=0|this._h,V=0;V<16;++V)b[V]=m.readInt32BE(4*V);for(;V<64;++V)b[V]=0|(((v=b[V-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+b[V-7]+y(b[V-15])+b[V-16];for(var B=0;B<64;++B){var C=D+g(F)+h(F,A,P)+u[B]+b[B]|0,I=p(x)+f(x,k,T)|0;D=P,P=A,A=F,F=O+C|0,O=T,T=k,k=x,x=C+I|0}this._a=x+this._a|0,this._b=k+this._b|0,this._c=T+this._c|0,this._d=O+this._d|0,this._e=F+this._e|0,this._f=A+this._f|0,this._g=P+this._g|0,this._h=D+this._h|0},d.prototype._hash=function(){var m=o.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(r,n,s){var i=r("inherits"),a=r("./sha512"),o=r("./hash"),u=r("safe-buffer").Buffer,l=new Array(160);function d(){this.init(),this._w=l,o.call(this,128,112)}i(d,a),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var h=u.allocUnsafe(48);function f(p,g,y){h.writeInt32BE(p,y),h.writeInt32BE(g,y+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),h},n.exports=d},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(r,n,s){var i=r("inherits"),a=r("./hash"),o=r("safe-buffer").Buffer,u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);function d(){this.init(),this._w=l,a.call(this,128,112)}function h(k,T,O){return O^k&(T^O)}function f(k,T,O){return k&T|O&(k|T)}function p(k,T){return(k>>>28|T<<4)^(T>>>2|k<<30)^(T>>>7|k<<25)}function g(k,T){return(k>>>14|T<<18)^(k>>>18|T<<14)^(T>>>9|k<<23)}function y(k,T){return(k>>>1|T<<31)^(k>>>8|T<<24)^k>>>7}function m(k,T){return(k>>>1|T<<31)^(k>>>8|T<<24)^(k>>>7|T<<25)}function v(k,T){return(k>>>19|T<<13)^(T>>>29|k<<3)^k>>>6}function b(k,T){return(k>>>19|T<<13)^(T>>>29|k<<3)^(k>>>6|T<<26)}function x(k,T){return k>>>0<T>>>0?1:0}i(d,a),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},d.prototype._update=function(k){for(var T=this._w,O=0|this._ah,F=0|this._bh,A=0|this._ch,P=0|this._dh,D=0|this._eh,V=0|this._fh,B=0|this._gh,C=0|this._hh,I=0|this._al,N=0|this._bl,w=0|this._cl,_=0|this._dl,S=0|this._el,j=0|this._fl,R=0|this._gl,$=0|this._hl,U=0;U<32;U+=2)T[U]=k.readInt32BE(4*U),T[U+1]=k.readInt32BE(4*U+4);for(;U<160;U+=2){var q=T[U-30],H=T[U-30+1],Y=y(q,H),M=m(H,q),K=v(q=T[U-4],H=T[U-4+1]),z=b(H,q),L=T[U-14],W=T[U-14+1],J=T[U-32],le=T[U-32+1],ne=M+W|0,ue=Y+L+x(ne,M)|0;ue=(ue=ue+K+x(ne=ne+z|0,z)|0)+J+x(ne=ne+le|0,le)|0,T[U]=ue,T[U+1]=ne}for(var G=0;G<160;G+=2){ue=T[G],ne=T[G+1];var te=f(O,F,A),X=f(I,N,w),ae=p(O,I),re=p(I,O),ee=g(D,S),Z=g(S,D),Q=u[G],ie=u[G+1],ce=h(D,V,B),ge=h(S,j,R),we=$+Z|0,Te=C+ee+x(we,$)|0;Te=(Te=(Te=Te+ce+x(we=we+ge|0,ge)|0)+Q+x(we=we+ie|0,ie)|0)+ue+x(we=we+ne|0,ne)|0;var Ae=re+X|0,De=ae+te+x(Ae,re)|0;C=B,$=R,B=V,R=j,V=D,j=S,D=P+Te+x(S=_+we|0,_)|0,P=A,_=w,A=F,w=N,F=O,N=I,O=Te+De+x(I=we+Ae|0,we)|0}this._al=this._al+I|0,this._bl=this._bl+N|0,this._cl=this._cl+w|0,this._dl=this._dl+_|0,this._el=this._el+S|0,this._fl=this._fl+j|0,this._gl=this._gl+R|0,this._hl=this._hl+$|0,this._ah=this._ah+O+x(this._al,I)|0,this._bh=this._bh+F+x(this._bl,N)|0,this._ch=this._ch+A+x(this._cl,w)|0,this._dh=this._dh+P+x(this._dl,_)|0,this._eh=this._eh+D+x(this._el,S)|0,this._fh=this._fh+V+x(this._fl,j)|0,this._gh=this._gh+B+x(this._gl,R)|0,this._hh=this._hh+C+x(this._hl,$)|0},d.prototype._hash=function(){var k=o.allocUnsafe(64);function T(O,F,A){k.writeInt32BE(O,A),k.writeInt32BE(F,A+4)}return T(this._ah,this._al,0),T(this._bh,this._bl,8),T(this._ch,this._cl,16),T(this._dh,this._dl,24),T(this._eh,this._el,32),T(this._fh,this._fl,40),T(this._gh,this._gl,48),T(this._hh,this._hl,56),k},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(r,n,s){n.exports=a;var i=r("events").EventEmitter;function a(){i.call(this)}r("inherits")(a,i),a.Readable=r("readable-stream/readable.js"),a.Writable=r("readable-stream/writable.js"),a.Duplex=r("readable-stream/duplex.js"),a.Transform=r("readable-stream/transform.js"),a.PassThrough=r("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(o,u){var l=this;function d(v){o.writable&&o.write(v)===!1&&l.pause&&l.pause()}function h(){l.readable&&l.resume&&l.resume()}l.on("data",d),o.on("drain",h),o._isStdio||u&&u.end===!1||(l.on("end",p),l.on("close",g));var f=!1;function p(){f||(f=!0,o.end())}function g(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function y(v){if(m(),i.listenerCount(this,"error")===0)throw v}function m(){l.removeListener("data",d),o.removeListener("drain",h),l.removeListener("end",p),l.removeListener("close",g),l.removeListener("error",y),o.removeListener("error",y),l.removeListener("end",m),l.removeListener("close",m),o.removeListener("close",m)}return l.on("error",y),o.on("error",y),l.on("end",m),l.on("close",m),o.on("close",m),o.emit("pipe",l),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(r,n,s){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},{}],507:[function(r,n,s){n.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(r,n,s){var i=r("process-nextick-args"),a=Object.keys||function(m){var v=[];for(var b in m)v.push(b);return v};n.exports=p;var o=Object.create(r("core-util-is"));o.inherits=r("inherits");var u=r("./_stream_readable"),l=r("./_stream_writable");o.inherits(p,u);for(var d=a(l.prototype),h=0;h<d.length;h++){var f=d[h];p.prototype[f]||(p.prototype[f]=l.prototype[f])}function p(m){if(!(this instanceof p))return new p(m);u.call(this,m),l.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||i.nextTick(y,this)}function y(m){m.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),p.prototype._destroy=function(m,v){this.push(null),this.end(),i.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(r,n,s){n.exports=o;var i=r("./_stream_transform"),a=Object.create(r("core-util-is"));function o(u){if(!(this instanceof o))return new o(u);i.call(this,u)}a.inherits=r("inherits"),a.inherits(o,i),o.prototype._transform=function(u,l,d){d(null,u)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(r,n,s){(function(i,a){(function(){var o=r("process-nextick-args");n.exports=O;var u,l=r("isarray");O.ReadableState=T,r("events").EventEmitter;var d=function($,U){return $.listeners(U).length},h=r("./internal/streams/stream"),f=r("safe-buffer").Buffer,p=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(r("core-util-is"));g.inherits=r("inherits");var y=r("util"),m=void 0;m=y&&y.debuglog?y.debuglog("stream"):function(){};var v,b=r("./internal/streams/BufferList"),x=r("./internal/streams/destroy");g.inherits(O,h);var k=["error","close","destroy","pause","resume"];function T($,U){$=$||{};var q=U instanceof(u=u||r("./_stream_duplex"));this.objectMode=!!$.objectMode,q&&(this.objectMode=this.objectMode||!!$.readableObjectMode);var H=$.highWaterMark,Y=$.readableHighWaterMark,M=this.objectMode?16:16384;this.highWaterMark=H||H===0?H:q&&(Y||Y===0)?Y:M,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(v||(v=r("string_decoder/").StringDecoder),this.decoder=new v($.encoding),this.encoding=$.encoding)}function O($){if(u=u||r("./_stream_duplex"),!(this instanceof O))return new O($);this._readableState=new T($,this),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),h.call(this)}function F($,U,q,H,Y){var M,K=$._readableState;return U===null?(K.reading=!1,(function(z,L){if(!L.ended){if(L.decoder){var W=L.decoder.end();W&&W.length&&(L.buffer.push(W),L.length+=L.objectMode?1:W.length)}L.ended=!0,D(z)}})($,K)):(Y||(M=(function(z,L){var W;J=L,f.isBuffer(J)||J instanceof p||typeof L=="string"||L===void 0||z.objectMode||(W=new TypeError("Invalid non-string/buffer chunk"));var J;return W})(K,U)),M?$.emit("error",M):K.objectMode||U&&U.length>0?(typeof U=="string"||K.objectMode||Object.getPrototypeOf(U)===f.prototype||(U=(function(z){return f.from(z)})(U)),H?K.endEmitted?$.emit("error",new Error("stream.unshift() after end event")):A($,K,U,!0):K.ended?$.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!q?(U=K.decoder.write(U),K.objectMode||U.length!==0?A($,K,U,!1):B($,K)):A($,K,U,!1))):H||(K.reading=!1)),(function(z){return!z.ended&&(z.needReadable||z.length<z.highWaterMark||z.length===0)})(K)}function A($,U,q,H){U.flowing&&U.length===0&&!U.sync?($.emit("data",q),$.read(0)):(U.length+=U.objectMode?1:q.length,H?U.buffer.unshift(q):U.buffer.push(q),U.needReadable&&D($)),B($,U)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),O.prototype.destroy=x.destroy,O.prototype._undestroy=x.undestroy,O.prototype._destroy=function($,U){this.push(null),U($)},O.prototype.push=function($,U){var q,H=this._readableState;return H.objectMode?q=!0:typeof $=="string"&&((U=U||H.defaultEncoding)!==H.encoding&&($=f.from($,U),U=""),q=!0),F(this,$,U,!1,q)},O.prototype.unshift=function($){return F(this,$,null,!0,!1)},O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function($){return v||(v=r("string_decoder/").StringDecoder),this._readableState.decoder=new v($),this._readableState.encoding=$,this};function P($,U){return $<=0||U.length===0&&U.ended?0:U.objectMode?1:$!=$?U.flowing&&U.length?U.buffer.head.data.length:U.length:($>U.highWaterMark&&(U.highWaterMark=(function(q){return q>=8388608?q=8388608:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q})($)),$<=U.length?$:U.ended?U.length:(U.needReadable=!0,0))}function D($){var U=$._readableState;U.needReadable=!1,U.emittedReadable||(m("emitReadable",U.flowing),U.emittedReadable=!0,U.sync?o.nextTick(V,$):V($))}function V($){m("emit readable"),$.emit("readable"),w($)}function B($,U){U.readingMore||(U.readingMore=!0,o.nextTick(C,$,U))}function C($,U){for(var q=U.length;!U.reading&&!U.flowing&&!U.ended&&U.length<U.highWaterMark&&(m("maybeReadMore read 0"),$.read(0),q!==U.length);)q=U.length;U.readingMore=!1}function I($){m("readable nexttick read 0"),$.read(0)}function N($,U){U.reading||(m("resume read 0"),$.read(0)),U.resumeScheduled=!1,U.awaitDrain=0,$.emit("resume"),w($),U.flowing&&!U.reading&&$.read(0)}function w($){var U=$._readableState;for(m("flow",U.flowing);U.flowing&&$.read()!==null;);}function _($,U){return U.length===0?null:(U.objectMode?q=U.buffer.shift():!$||$>=U.length?(q=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.head.data:U.buffer.concat(U.length),U.buffer.clear()):q=(function(H,Y,M){var K;return H<Y.head.data.length?(K=Y.head.data.slice(0,H),Y.head.data=Y.head.data.slice(H)):K=H===Y.head.data.length?Y.shift():M?(function(z,L){var W=L.head,J=1,le=W.data;for(z-=le.length;W=W.next;){var ne=W.data,ue=z>ne.length?ne.length:z;if(ue===ne.length?le+=ne:le+=ne.slice(0,z),(z-=ue)===0){ue===ne.length?(++J,W.next?L.head=W.next:L.head=L.tail=null):(L.head=W,W.data=ne.slice(ue));break}++J}return L.length-=J,le})(H,Y):(function(z,L){var W=f.allocUnsafe(z),J=L.head,le=1;for(J.data.copy(W),z-=J.data.length;J=J.next;){var ne=J.data,ue=z>ne.length?ne.length:z;if(ne.copy(W,W.length-z,0,ue),(z-=ue)===0){ue===ne.length?(++le,J.next?L.head=J.next:L.head=L.tail=null):(L.head=J,J.data=ne.slice(ue));break}++le}return L.length-=le,W})(H,Y),K})($,U.buffer,U.decoder),q);var q}function S($){var U=$._readableState;if(U.length>0)throw new Error('"endReadable()" called on non-empty stream');U.endEmitted||(U.ended=!0,o.nextTick(j,U,$))}function j($,U){$.endEmitted||$.length!==0||($.endEmitted=!0,U.readable=!1,U.emit("end"))}function R($,U){for(var q=0,H=$.length;q<H;q++)if($[q]===U)return q;return-1}O.prototype.read=function($){m("read",$),$=parseInt($,10);var U=this._readableState,q=$;if($!==0&&(U.emittedReadable=!1),$===0&&U.needReadable&&(U.length>=U.highWaterMark||U.ended))return m("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?S(this):D(this),null;if(($=P($,U))===0&&U.ended)return U.length===0&&S(this),null;var H,Y=U.needReadable;return m("need readable",Y),(U.length===0||U.length-$<U.highWaterMark)&&m("length less than watermark",Y=!0),U.ended||U.reading?m("reading or ended",Y=!1):Y&&(m("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||($=P(q,U))),(H=$>0?_($,U):null)===null?(U.needReadable=!0,$=0):U.length-=$,U.length===0&&(U.ended||(U.needReadable=!0),q!==$&&U.ended&&S(this)),H!==null&&this.emit("data",H),H},O.prototype._read=function($){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function($,U){var q=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=$;break;case 1:H.pipes=[H.pipes,$];break;default:H.pipes.push($)}H.pipesCount+=1,m("pipe count=%d opts=%j",H.pipesCount,U);var Y=(!U||U.end!==!1)&&$!==i.stdout&&$!==i.stderr?K:G;function M(te,X){m("onunpipe"),te===q&&X&&X.hasUnpiped===!1&&(X.hasUnpiped=!0,m("cleanup"),$.removeListener("close",ne),$.removeListener("finish",ue),$.removeListener("drain",z),$.removeListener("error",le),$.removeListener("unpipe",M),q.removeListener("end",K),q.removeListener("end",G),q.removeListener("data",J),L=!0,!H.awaitDrain||$._writableState&&!$._writableState.needDrain||z())}function K(){m("onend"),$.end()}H.endEmitted?o.nextTick(Y):q.once("end",Y),$.on("unpipe",M);var z=(function(te){return function(){var X=te._readableState;m("pipeOnDrain",X.awaitDrain),X.awaitDrain&&X.awaitDrain--,X.awaitDrain===0&&d(te,"data")&&(X.flowing=!0,w(te))}})(q);$.on("drain",z);var L=!1,W=!1;function J(te){m("ondata"),W=!1,$.write(te)!==!1||W||((H.pipesCount===1&&H.pipes===$||H.pipesCount>1&&R(H.pipes,$)!==-1)&&!L&&(m("false write response, pause",H.awaitDrain),H.awaitDrain++,W=!0),q.pause())}function le(te){m("onerror",te),G(),$.removeListener("error",le),d($,"error")===0&&$.emit("error",te)}function ne(){$.removeListener("finish",ue),G()}function ue(){m("onfinish"),$.removeListener("close",ne),G()}function G(){m("unpipe"),q.unpipe($)}return q.on("data",J),(function(te,X,ae){if(typeof te.prependListener=="function")return te.prependListener(X,ae);te._events&&te._events[X]?l(te._events[X])?te._events[X].unshift(ae):te._events[X]=[ae,te._events[X]]:te.on(X,ae)})($,"error",le),$.once("close",ne),$.once("finish",ue),$.emit("pipe",q),H.flowing||(m("pipe resume"),q.resume()),$},O.prototype.unpipe=function($){var U=this._readableState,q={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return $&&$!==U.pipes||($||($=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,$&&$.emit("unpipe",this,q)),this;if(!$){var H=U.pipes,Y=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var M=0;M<Y;M++)H[M].emit("unpipe",this,{hasUnpiped:!1});return this}var K=R(U.pipes,$);return K===-1||(U.pipes.splice(K,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),$.emit("unpipe",this,q)),this},O.prototype.on=function($,U){var q=h.prototype.on.call(this,$,U);if($==="data")this._readableState.flowing!==!1&&this.resume();else if($==="readable"){var H=this._readableState;H.endEmitted||H.readableListening||(H.readableListening=H.needReadable=!0,H.emittedReadable=!1,H.reading?H.length&&D(this):o.nextTick(I,this))}return q},O.prototype.addListener=O.prototype.on,O.prototype.resume=function(){var $=this._readableState;return $.flowing||(m("resume"),$.flowing=!0,(function(U,q){q.resumeScheduled||(q.resumeScheduled=!0,o.nextTick(N,U,q))})(this,$)),this},O.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},O.prototype.wrap=function($){var U=this,q=this._readableState,H=!1;for(var Y in $.on("end",(function(){if(m("wrapped end"),q.decoder&&!q.ended){var K=q.decoder.end();K&&K.length&&U.push(K)}U.push(null)})),$.on("data",(function(K){m("wrapped data"),q.decoder&&(K=q.decoder.write(K)),q.objectMode&&K==null||(q.objectMode||K&&K.length)&&(U.push(K)||(H=!0,$.pause()))})),$)this[Y]===void 0&&typeof $[Y]=="function"&&(this[Y]=(function(K){return function(){return $[K].apply($,arguments)}})(Y));for(var M=0;M<k.length;M++)$.on(k[M],this.emit.bind(this,k[M]));return this._read=function(K){m("wrapped _read",K),H&&(H=!1,$.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=_}).call(this)}).call(this,r("_process"),typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(r,n,s){n.exports=u;var i=r("./_stream_duplex"),a=Object.create(r("core-util-is"));function o(h,f){var p=this._transformState;p.transforming=!1;var g=p.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));p.writechunk=null,p.writecb=null,f!=null&&this.push(f),g(h);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function u(h){if(!(this instanceof u))return new u(h);i.call(this,h),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",l)}function l(){var h=this;typeof this._flush=="function"?this._flush((function(f,p){d(h,f,p)})):d(this,null,null)}function d(h,f,p){if(f)return h.emit("error",f);if(p!=null&&h.push(p),h._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(h._transformState.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}a.inherits=r("inherits"),a.inherits(u,i),u.prototype.push=function(h,f){return this._transformState.needTransform=!1,i.prototype.push.call(this,h,f)},u.prototype._transform=function(h,f,p){throw new Error("_transform() is not implemented")},u.prototype._write=function(h,f,p){var g=this._transformState;if(g.writecb=p,g.writechunk=h,g.writeencoding=f,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},u.prototype._read=function(h){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},u.prototype._destroy=function(h,f){var p=this;i.prototype._destroy.call(this,h,(function(g){f(g),p.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(r,n,s){(function(i,a,o){(function(){var u=r("process-nextick-args");function l(B){var C=this;this.next=null,this.entry=null,this.finish=function(){(function(I,N,w){var _=I.entry;for(I.entry=null;_;){var S=_.callback;N.pendingcb--,S(w),_=_.next}N.corkedRequestsFree.next=I})(C,B)}}n.exports=T;var d,h=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?o:u.nextTick;T.WritableState=k;var f=Object.create(r("core-util-is"));f.inherits=r("inherits");var p={deprecate:r("util-deprecate")},g=r("./internal/streams/stream"),y=r("safe-buffer").Buffer,m=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,b=r("./internal/streams/destroy");function x(){}function k(B,C){d=d||r("./_stream_duplex"),B=B||{};var I=C instanceof d;this.objectMode=!!B.objectMode,I&&(this.objectMode=this.objectMode||!!B.writableObjectMode);var N=B.highWaterMark,w=B.writableHighWaterMark,_=this.objectMode?16:16384;this.highWaterMark=N||N===0?N:I&&(w||w===0)?w:_,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var S=B.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){(function(R,$){var U=R._writableState,q=U.sync,H=U.writecb;if((function(M){M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0})(U),$)(function(M,K,z,L,W){--K.pendingcb,z?(u.nextTick(W,L),u.nextTick(V,M,K),M._writableState.errorEmitted=!0,M.emit("error",L)):(W(L),M._writableState.errorEmitted=!0,M.emit("error",L),V(M,K))})(R,U,q,$,H);else{var Y=P(U);Y||U.corked||U.bufferProcessing||!U.bufferedRequest||A(R,U),q?h(F,R,U,Y,H):F(R,U,Y,H)}})(C,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function T(B){if(d=d||r("./_stream_duplex"),!(v.call(T,this)||this instanceof d))return new T(B);this._writableState=new k(B,this),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),g.call(this)}function O(B,C,I,N,w,_,S){C.writelen=N,C.writecb=S,C.writing=!0,C.sync=!0,I?B._writev(w,C.onwrite):B._write(w,_,C.onwrite),C.sync=!1}function F(B,C,I,N){I||(function(w,_){_.length===0&&_.needDrain&&(_.needDrain=!1,w.emit("drain"))})(B,C),C.pendingcb--,N(),V(B,C)}function A(B,C){C.bufferProcessing=!0;var I=C.bufferedRequest;if(B._writev&&I&&I.next){var N=C.bufferedRequestCount,w=new Array(N),_=C.corkedRequestsFree;_.entry=I;for(var S=0,j=!0;I;)w[S]=I,I.isBuf||(j=!1),I=I.next,S+=1;w.allBuffers=j,O(B,C,!0,C.length,w,"",_.finish),C.pendingcb++,C.lastBufferedRequest=null,_.next?(C.corkedRequestsFree=_.next,_.next=null):C.corkedRequestsFree=new l(C),C.bufferedRequestCount=0}else{for(;I;){var R=I.chunk,$=I.encoding,U=I.callback;if(O(B,C,!1,C.objectMode?1:R.length,R,$,U),I=I.next,C.bufferedRequestCount--,C.writing)break}I===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=I,C.bufferProcessing=!1}function P(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function D(B,C){B._final((function(I){C.pendingcb--,I&&B.emit("error",I),C.prefinished=!0,B.emit("prefinish"),V(B,C)}))}function V(B,C){var I=P(C);return I&&((function(N,w){w.prefinished||w.finalCalled||(typeof N._final=="function"?(w.pendingcb++,w.finalCalled=!0,u.nextTick(D,N,w)):(w.prefinished=!0,N.emit("prefinish")))})(B,C),C.pendingcb===0&&(C.finished=!0,B.emit("finish"))),I}f.inherits(T,g),k.prototype.getBuffer=function(){for(var B=this.bufferedRequest,C=[];B;)C.push(B),B=B.next;return C},(function(){try{Object.defineProperty(k.prototype,"buffer",{get:p.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(B){return!!v.call(this,B)||this===T&&B&&B._writableState instanceof k}})):v=function(B){return B instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(B,C,I){var N,w=this._writableState,_=!1,S=!w.objectMode&&(N=B,y.isBuffer(N)||N instanceof m);return S&&!y.isBuffer(B)&&(B=(function(j){return y.from(j)})(B)),typeof C=="function"&&(I=C,C=null),S?C="buffer":C||(C=w.defaultEncoding),typeof I!="function"&&(I=x),w.ended?(function(j,R){var $=new Error("write after end");j.emit("error",$),u.nextTick(R,$)})(this,I):(S||(function(j,R,$,U){var q=!0,H=!1;return $===null?H=new TypeError("May not write null values to stream"):typeof $=="string"||$===void 0||R.objectMode||(H=new TypeError("Invalid non-string/buffer chunk")),H&&(j.emit("error",H),u.nextTick(U,H),q=!1),q})(this,w,B,I))&&(w.pendingcb++,_=(function(j,R,$,U,q,H){if(!$){var Y=(function(L,W,J){return L.objectMode||L.decodeStrings===!1||typeof W!="string"||(W=y.from(W,J)),W})(R,U,q);U!==Y&&($=!0,q="buffer",U=Y)}var M=R.objectMode?1:U.length;R.length+=M;var K=R.length<R.highWaterMark;if(K||(R.needDrain=!0),R.writing||R.corked){var z=R.lastBufferedRequest;R.lastBufferedRequest={chunk:U,encoding:q,isBuf:$,callback:H,next:null},z?z.next=R.lastBufferedRequest:R.bufferedRequest=R.lastBufferedRequest,R.bufferedRequestCount+=1}else O(j,R,!1,M,U,q,H);return K})(this,w,S,B,C,I)),_},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,B.writing||B.corked||B.bufferProcessing||!B.bufferedRequest||A(this,B))},T.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(B,C,I){I(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(B,C,I){var N=this._writableState;typeof B=="function"?(I=B,B=null,C=null):typeof C=="function"&&(I=C,C=null),B!=null&&this.write(B,C),N.corked&&(N.corked=1,this.uncork()),N.ending||(function(w,_,S){_.ending=!0,V(w,_),S&&(_.finished?u.nextTick(S):w.once("finish",S)),_.ended=!0,w.writable=!1})(this,N,I)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),T.prototype.destroy=b.destroy,T.prototype._undestroy=b.undestroy,T.prototype._destroy=function(B,C){this.end(),C(B)}}).call(this)}).call(this,r("_process"),typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(r,n,s){var i=r("safe-buffer").Buffer,a=r("util");n.exports=(function(){function o(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(u){var l={data:u,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},o.prototype.unshift=function(u){var l={data:u,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},o.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(u){if(this.length===0)return"";for(var l=this.head,d=""+l.data;l=l.next;)d+=u+l.data;return d},o.prototype.concat=function(u){if(this.length===0)return i.alloc(0);for(var l,d,h,f=i.allocUnsafe(u>>>0),p=this.head,g=0;p;)l=p.data,d=f,h=g,l.copy(d,h),g+=p.data.length,p=p.next;return f},o})(),a&&a.inspect&&a.inspect.custom&&(n.exports.prototype[a.inspect.custom]=function(){var o=a.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(r,n,s){var i=r("process-nextick-args");function a(o,u){o.emit("error",u)}n.exports={destroy:function(o,u){var l=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(u?u(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,o)):i.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,(function(f){!u&&f?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,i.nextTick(a,l,f)):i.nextTick(a,l,f):u&&u(f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(r,n,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(r,n,s){n.exports=r("./readable").PassThrough},{"./readable":517}],517:[function(r,n,s){(s=n.exports=r("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=r("./lib/_stream_writable.js"),s.Duplex=r("./lib/_stream_duplex.js"),s.Transform=r("./lib/_stream_transform.js"),s.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(r,n,s){n.exports=r("./readable").Transform},{"./readable":517}],519:[function(r,n,s){n.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(r,n,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(r,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(r,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(r,n,s){(function(i,a){(function(){var o=r("process/browser.js").nextTick,u=Function.prototype.apply,l=Array.prototype.slice,d={},h=0;function f(p,g){this._id=p,this._clearFn=g}s.setTimeout=function(){return new f(u.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new f(u.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(p){p.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(p,g){clearTimeout(p._idleTimeoutId),p._idleTimeout=g},s.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},s._unrefActive=s.active=function(p){clearTimeout(p._idleTimeoutId);var g=p._idleTimeout;g>=0&&(p._idleTimeoutId=setTimeout((function(){p._onTimeout&&p._onTimeout()}),g))},s.setImmediate=typeof i=="function"?i:function(p){var g=h++,y=!(arguments.length<2)&&l.call(arguments,1);return d[g]=!0,o((function(){d[g]&&(y?p.apply(null,y):p.call(null),s.clearImmediate(g))})),g},s.clearImmediate=typeof a=="function"?a:function(p){delete d[p]}}).call(this)}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(r,n,s){(function(i){(function(){function a(o){try{if(!i.localStorage)return!1}catch{return!1}var u=i.localStorage[o];return u!=null&&String(u).toLowerCase()==="true"}n.exports=function(o,u){if(a("noDeprecation"))return o;var l=!1;return function(){if(!l){if(a("throwDeprecation"))throw new Error(u);a("traceDeprecation")?console.trace(u):console.warn(u),l=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(r,n,s){typeof Object.create=="function"?n.exports=function(i,a){i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(i,a){i.super_=a;var o=function(){};o.prototype=a.prototype,i.prototype=new o,i.prototype.constructor=i}},{}],526:[function(r,n,s){n.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(r,n,s){(function(i,a){(function(){var o=/%[sdj%]/g;s.format=function(w){if(!k(w)){for(var _=[],S=0;S<arguments.length;S++)_.push(d(arguments[S]));return _.join(" ")}S=1;for(var j=arguments,R=j.length,$=String(w).replace(o,(function(q){if(q==="%%")return"%";if(S>=R)return q;switch(q){case"%s":return String(j[S++]);case"%d":return Number(j[S++]);case"%j":try{return JSON.stringify(j[S++])}catch{return"[Circular]"}default:return q}})),U=j[S];S<R;U=j[++S])b(U)||!F(U)?$+=" "+U:$+=" "+d(U);return $},s.deprecate=function(w,_){if(T(a.process))return function(){return s.deprecate(w,_).apply(this,arguments)};if(i.noDeprecation===!0)return w;var S=!1;return function(){if(!S){if(i.throwDeprecation)throw new Error(_);i.traceDeprecation?console.trace(_):console.error(_),S=!0}return w.apply(this,arguments)}};var u,l={};function d(w,_){var S={seen:[],stylize:f};return arguments.length>=3&&(S.depth=arguments[2]),arguments.length>=4&&(S.colors=arguments[3]),v(_)?S.showHidden=_:_&&s._extend(S,_),T(S.showHidden)&&(S.showHidden=!1),T(S.depth)&&(S.depth=2),T(S.colors)&&(S.colors=!1),T(S.customInspect)&&(S.customInspect=!0),S.colors&&(S.stylize=h),p(S,w,S.depth)}function h(w,_){var S=d.styles[_];return S?"\x1B["+d.colors[S][0]+"m"+w+"\x1B["+d.colors[S][1]+"m":w}function f(w,_){return w}function p(w,_,S){if(w.customInspect&&_&&D(_.inspect)&&_.inspect!==s.inspect&&(!_.constructor||_.constructor.prototype!==_)){var j=_.inspect(S,w);return k(j)||(j=p(w,j,S)),j}var R=(function(z,L){if(T(L))return z.stylize("undefined","undefined");if(k(L)){var W="'"+JSON.stringify(L).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(W,"string")}if(x(L))return z.stylize(""+L,"number");if(v(L))return z.stylize(""+L,"boolean");if(b(L))return z.stylize("null","null")})(w,_);if(R)return R;var $=Object.keys(_),U=(function(z){var L={};return z.forEach((function(W,J){L[W]=!0})),L})($);if(w.showHidden&&($=Object.getOwnPropertyNames(_)),P(_)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return g(_);if($.length===0){if(D(_)){var q=_.name?": "+_.name:"";return w.stylize("[Function"+q+"]","special")}if(O(_))return w.stylize(RegExp.prototype.toString.call(_),"regexp");if(A(_))return w.stylize(Date.prototype.toString.call(_),"date");if(P(_))return g(_)}var H,Y="",M=!1,K=["{","}"];return m(_)&&(M=!0,K=["[","]"]),D(_)&&(Y=" [Function"+(_.name?": "+_.name:"")+"]"),O(_)&&(Y=" "+RegExp.prototype.toString.call(_)),A(_)&&(Y=" "+Date.prototype.toUTCString.call(_)),P(_)&&(Y=" "+g(_)),$.length!==0||M&&_.length!=0?S<0?O(_)?w.stylize(RegExp.prototype.toString.call(_),"regexp"):w.stylize("[Object]","special"):(w.seen.push(_),H=M?(function(z,L,W,J,le){for(var ne=[],ue=0,G=L.length;ue<G;++ue)N(L,String(ue))?ne.push(y(z,L,W,J,String(ue),!0)):ne.push("");return le.forEach((function(te){te.match(/^\d+$/)||ne.push(y(z,L,W,J,te,!0))})),ne})(w,_,S,U,$):$.map((function(z){return y(w,_,S,U,z,M)})),w.seen.pop(),(function(z,L,W){return z.reduce((function(J,le){return le.indexOf(`
`)>=0,J+le.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?W[0]+(L===""?"":L+`
 `)+" "+z.join(`,
  `)+" "+W[1]:W[0]+L+" "+z.join(", ")+" "+W[1]})(H,Y,K)):K[0]+Y+K[1]}function g(w){return"["+Error.prototype.toString.call(w)+"]"}function y(w,_,S,j,R,$){var U,q,H;if((H=Object.getOwnPropertyDescriptor(_,R)||{value:_[R]}).get?q=H.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):H.set&&(q=w.stylize("[Setter]","special")),N(j,R)||(U="["+R+"]"),q||(w.seen.indexOf(H.value)<0?(q=b(S)?p(w,H.value,null):p(w,H.value,S-1)).indexOf(`
`)>-1&&(q=$?q.split(`
`).map((function(Y){return"  "+Y})).join(`
`).substr(2):`
`+q.split(`
`).map((function(Y){return"   "+Y})).join(`
`)):q=w.stylize("[Circular]","special")),T(U)){if($&&R.match(/^\d+$/))return q;(U=JSON.stringify(""+R)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.substr(1,U.length-2),U=w.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=w.stylize(U,"string"))}return U+": "+q}function m(w){return Array.isArray(w)}function v(w){return typeof w=="boolean"}function b(w){return w===null}function x(w){return typeof w=="number"}function k(w){return typeof w=="string"}function T(w){return w===void 0}function O(w){return F(w)&&V(w)==="[object RegExp]"}function F(w){return typeof w=="object"&&w!==null}function A(w){return F(w)&&V(w)==="[object Date]"}function P(w){return F(w)&&(V(w)==="[object Error]"||w instanceof Error)}function D(w){return typeof w=="function"}function V(w){return Object.prototype.toString.call(w)}function B(w){return w<10?"0"+w.toString(10):w.toString(10)}s.debuglog=function(w){if(T(u)&&(u=i.env.NODE_DEBUG||""),w=w.toUpperCase(),!l[w])if(new RegExp("\\b"+w+"\\b","i").test(u)){var _=i.pid;l[w]=function(){var S=s.format.apply(s,arguments);console.error("%s %d: %s",w,_,S)}}else l[w]=function(){};return l[w]},s.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=m,s.isBoolean=v,s.isNull=b,s.isNullOrUndefined=function(w){return w==null},s.isNumber=x,s.isString=k,s.isSymbol=function(w){return typeof w=="symbol"},s.isUndefined=T,s.isRegExp=O,s.isObject=F,s.isDate=A,s.isError=P,s.isFunction=D,s.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},s.isBuffer=r("./support/isBuffer");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var w=new Date,_=[B(w.getHours()),B(w.getMinutes()),B(w.getSeconds())].join(":");return[w.getDate(),C[w.getMonth()],_].join(" ")}function N(w,_){return Object.prototype.hasOwnProperty.call(w,_)}s.log=function(){console.log("%s - %s",I(),s.format.apply(s,arguments))},s.inherits=r("inherits"),s._extend=function(w,_){if(!_||!F(_))return w;for(var S=Object.keys(_),j=S.length;j--;)w[S[j]]=_[S[j]];return w}}).call(this)}).call(this,r("_process"),typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return p.default}});var i=g(r("./v1.js")),a=g(r("./v3.js")),o=g(r("./v4.js")),u=g(r("./v5.js")),l=g(r("./nil.js")),d=g(r("./version.js")),h=g(r("./validate.js")),f=g(r("./stringify.js")),p=g(r("./parse.js"));function g(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(r,n,s){function i(p){return 14+(p+64>>>9<<4)+1}function a(p,g){const y=(65535&p)+(65535&g);return(p>>16)+(g>>16)+(y>>16)<<16|65535&y}function o(p,g,y,m,v,b){return a((x=a(a(g,p),a(m,b)))<<(k=v)|x>>>32-k,y);var x,k}function u(p,g,y,m,v,b,x){return o(g&y|~g&m,p,g,v,b,x)}function l(p,g,y,m,v,b,x){return o(g&m|y&~m,p,g,v,b,x)}function d(p,g,y,m,v,b,x){return o(g^y^m,p,g,v,b,x)}function h(p,g,y,m,v,b,x){return o(y^(g|~m),p,g,v,b,x)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var f=function(p){if(typeof p=="string"){const g=unescape(encodeURIComponent(p));p=new Uint8Array(g.length);for(let y=0;y<g.length;++y)p[y]=g.charCodeAt(y)}return(function(g){const y=[],m=32*g.length;for(let v=0;v<m;v+=8){const b=g[v>>5]>>>v%32&255,x=parseInt("0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(15&b),16);y.push(x)}return y})((function(g,y){g[y>>5]|=128<<y%32,g[i(y)-1]=y;let m=1732584193,v=-271733879,b=-1732584194,x=271733878;for(let k=0;k<g.length;k+=16){const T=m,O=v,F=b,A=x;m=u(m,v,b,x,g[k],7,-680876936),x=u(x,m,v,b,g[k+1],12,-389564586),b=u(b,x,m,v,g[k+2],17,606105819),v=u(v,b,x,m,g[k+3],22,-1044525330),m=u(m,v,b,x,g[k+4],7,-176418897),x=u(x,m,v,b,g[k+5],12,1200080426),b=u(b,x,m,v,g[k+6],17,-1473231341),v=u(v,b,x,m,g[k+7],22,-45705983),m=u(m,v,b,x,g[k+8],7,1770035416),x=u(x,m,v,b,g[k+9],12,-1958414417),b=u(b,x,m,v,g[k+10],17,-42063),v=u(v,b,x,m,g[k+11],22,-1990404162),m=u(m,v,b,x,g[k+12],7,1804603682),x=u(x,m,v,b,g[k+13],12,-40341101),b=u(b,x,m,v,g[k+14],17,-1502002290),v=u(v,b,x,m,g[k+15],22,1236535329),m=l(m,v,b,x,g[k+1],5,-165796510),x=l(x,m,v,b,g[k+6],9,-1069501632),b=l(b,x,m,v,g[k+11],14,643717713),v=l(v,b,x,m,g[k],20,-373897302),m=l(m,v,b,x,g[k+5],5,-701558691),x=l(x,m,v,b,g[k+10],9,38016083),b=l(b,x,m,v,g[k+15],14,-660478335),v=l(v,b,x,m,g[k+4],20,-405537848),m=l(m,v,b,x,g[k+9],5,568446438),x=l(x,m,v,b,g[k+14],9,-1019803690),b=l(b,x,m,v,g[k+3],14,-187363961),v=l(v,b,x,m,g[k+8],20,1163531501),m=l(m,v,b,x,g[k+13],5,-1444681467),x=l(x,m,v,b,g[k+2],9,-51403784),b=l(b,x,m,v,g[k+7],14,1735328473),v=l(v,b,x,m,g[k+12],20,-1926607734),m=d(m,v,b,x,g[k+5],4,-378558),x=d(x,m,v,b,g[k+8],11,-2022574463),b=d(b,x,m,v,g[k+11],16,1839030562),v=d(v,b,x,m,g[k+14],23,-35309556),m=d(m,v,b,x,g[k+1],4,-1530992060),x=d(x,m,v,b,g[k+4],11,1272893353),b=d(b,x,m,v,g[k+7],16,-155497632),v=d(v,b,x,m,g[k+10],23,-1094730640),m=d(m,v,b,x,g[k+13],4,681279174),x=d(x,m,v,b,g[k],11,-358537222),b=d(b,x,m,v,g[k+3],16,-722521979),v=d(v,b,x,m,g[k+6],23,76029189),m=d(m,v,b,x,g[k+9],4,-640364487),x=d(x,m,v,b,g[k+12],11,-421815835),b=d(b,x,m,v,g[k+15],16,530742520),v=d(v,b,x,m,g[k+2],23,-995338651),m=h(m,v,b,x,g[k],6,-198630844),x=h(x,m,v,b,g[k+7],10,1126891415),b=h(b,x,m,v,g[k+14],15,-1416354905),v=h(v,b,x,m,g[k+5],21,-57434055),m=h(m,v,b,x,g[k+12],6,1700485571),x=h(x,m,v,b,g[k+3],10,-1894986606),b=h(b,x,m,v,g[k+10],15,-1051523),v=h(v,b,x,m,g[k+1],21,-2054922799),m=h(m,v,b,x,g[k+8],6,1873313359),x=h(x,m,v,b,g[k+15],10,-30611744),b=h(b,x,m,v,g[k+6],15,-1560198380),v=h(v,b,x,m,g[k+13],21,1309151649),m=h(m,v,b,x,g[k+4],6,-145523070),x=h(x,m,v,b,g[k+11],10,-1120210379),b=h(b,x,m,v,g[k+2],15,718787259),v=h(v,b,x,m,g[k+9],21,-343485551),m=a(m,T),v=a(v,O),b=a(b,F),x=a(x,A)}return[m,v,b,x]})((function(g){if(g.length===0)return[];const y=8*g.length,m=new Uint32Array(i(y));for(let v=0;v<y;v+=8)m[v>>5]|=(255&g[v/8])<<v%32;return m})(p),8*p.length))};s.default=f},{}],530:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=r("./validate.js"))&&i.__esModule?i:{default:i},o=function(u){if(!(0,a.default)(u))throw TypeError("Invalid UUID");let l;const d=new Uint8Array(16);return d[0]=(l=parseInt(u.slice(0,8),16))>>>24,d[1]=l>>>16&255,d[2]=l>>>8&255,d[3]=255&l,d[4]=(l=parseInt(u.slice(9,13),16))>>>8,d[5]=255&l,d[6]=(l=parseInt(u.slice(14,18),16))>>>8,d[7]=255&l,d[8]=(l=parseInt(u.slice(19,23),16))>>>8,d[9]=255&l,d[10]=(l=parseInt(u.slice(24,36),16))/1099511627776&255,d[11]=l/4294967296&255,d[12]=l>>>24&255,d[13]=l>>>16&255,d[14]=l>>>8&255,d[15]=255&l,d};s.default=o},{"./validate.js":541}],532:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(r,n,s){let i;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)};const a=new Uint8Array(16)},{}],534:[function(r,n,s){function i(u,l,d,h){switch(u){case 0:return l&d^~l&h;case 1:return l^d^h;case 2:return l&d^l&h^d&h;case 3:return l^d^h}}function a(u,l){return u<<l|u>>>32-l}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=function(u){const l=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof u=="string"){const g=unescape(encodeURIComponent(u));u=[];for(let y=0;y<g.length;++y)u.push(g.charCodeAt(y))}else Array.isArray(u)||(u=Array.prototype.slice.call(u));u.push(128);const h=u.length/4+2,f=Math.ceil(h/16),p=new Array(f);for(let g=0;g<f;++g){const y=new Uint32Array(16);for(let m=0;m<16;++m)y[m]=u[64*g+4*m]<<24|u[64*g+4*m+1]<<16|u[64*g+4*m+2]<<8|u[64*g+4*m+3];p[g]=y}p[f-1][14]=8*(u.length-1)/Math.pow(2,32),p[f-1][14]=Math.floor(p[f-1][14]),p[f-1][15]=8*(u.length-1)&4294967295;for(let g=0;g<f;++g){const y=new Uint32Array(80);for(let T=0;T<16;++T)y[T]=p[g][T];for(let T=16;T<80;++T)y[T]=a(y[T-3]^y[T-8]^y[T-14]^y[T-16],1);let m=d[0],v=d[1],b=d[2],x=d[3],k=d[4];for(let T=0;T<80;++T){const O=Math.floor(T/20),F=a(m,5)+i(O,v,b,x)+k+l[O]+y[T]>>>0;k=x,x=b,b=a(v,30)>>>0,v=m,m=F}d[0]=d[0]+m>>>0,d[1]=d[1]+v>>>0,d[2]=d[2]+b>>>0,d[3]=d[3]+x>>>0,d[4]=d[4]+k>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,255&d[0],d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,255&d[1],d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,255&d[2],d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,255&d[3],d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,255&d[4]]};s.default=o},{}],535:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=r("./validate.js"))&&i.__esModule?i:{default:i};const o=[];for(let l=0;l<256;++l)o.push((l+256).toString(16).substr(1));var u=function(l){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const h=(o[l[d+0]]+o[l[d+1]]+o[l[d+2]]+o[l[d+3]]+"-"+o[l[d+4]]+o[l[d+5]]+"-"+o[l[d+6]]+o[l[d+7]]+"-"+o[l[d+8]]+o[l[d+9]]+"-"+o[l[d+10]]+o[l[d+11]]+o[l[d+12]]+o[l[d+13]]+o[l[d+14]]+o[l[d+15]]).toLowerCase();if(!(0,a.default)(h))throw TypeError("Stringified UUID is invalid");return h};s.default=u},{"./validate.js":541}],536:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(r("./rng.js")),a=o(r("./stringify.js"));function o(p){return p&&p.__esModule?p:{default:p}}let u,l,d=0,h=0;var f=function(p,g,y){let m=g&&y||0;const v=g||new Array(16);let b=(p=p||{}).node||u,x=p.clockseq!==void 0?p.clockseq:l;if(b==null||x==null){const P=p.random||(p.rng||i.default)();b==null&&(b=u=[1|P[0],P[1],P[2],P[3],P[4],P[5]]),x==null&&(x=l=16383&(P[6]<<8|P[7]))}let k=p.msecs!==void 0?p.msecs:Date.now(),T=p.nsecs!==void 0?p.nsecs:h+1;const O=k-d+(T-h)/1e4;if(O<0&&p.clockseq===void 0&&(x=x+1&16383),(O<0||k>d)&&p.nsecs===void 0&&(T=0),T>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=k,h=T,l=x,k+=122192928e5;const F=(1e4*(268435455&k)+T)%4294967296;v[m++]=F>>>24&255,v[m++]=F>>>16&255,v[m++]=F>>>8&255,v[m++]=255&F;const A=k/4294967296*1e4&268435455;v[m++]=A>>>8&255,v[m++]=255&A,v[m++]=A>>>24&15|16,v[m++]=A>>>16&255,v[m++]=x>>>8|128,v[m++]=255&x;for(let P=0;P<6;++P)v[m+P]=b[P];return g||(0,a.default)(v)};s.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(r("./v35.js")),a=o(r("./md5.js"));function o(l){return l&&l.__esModule?l:{default:l}}var u=(0,i.default)("v3",48,a.default);s.default=u},{"./md5.js":529,"./v35.js":538}],538:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(d,h,f){function p(g,y,m,v){if(typeof g=="string"&&(g=(function(x){x=unescape(encodeURIComponent(x));const k=[];for(let T=0;T<x.length;++T)k.push(x.charCodeAt(T));return k})(g)),typeof y=="string"&&(y=(0,a.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let b=new Uint8Array(16+g.length);if(b.set(y),b.set(g,y.length),b=f(b),b[6]=15&b[6]|h,b[8]=63&b[8]|128,m){v=v||0;for(let x=0;x<16;++x)m[v+x]=b[x];return m}return(0,i.default)(b)}try{p.name=d}catch{}return p.DNS=u,p.URL=l,p},s.URL=s.DNS=void 0;var i=o(r("./stringify.js")),a=o(r("./parse.js"));function o(d){return d&&d.__esModule?d:{default:d}}const u="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=u;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=l},{"./parse.js":531,"./stringify.js":535}],539:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(r("./rng.js")),a=o(r("./stringify.js"));function o(l){return l&&l.__esModule?l:{default:l}}var u=function(l,d,h){const f=(l=l||{}).random||(l.rng||i.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,d){h=h||0;for(let p=0;p<16;++p)d[h+p]=f[p];return d}return(0,a.default)(f)};s.default=u},{"./rng.js":533,"./stringify.js":535}],540:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(r("./v35.js")),a=o(r("./sha1.js"));function o(l){return l&&l.__esModule?l:{default:l}}var u=(0,i.default)("v5",80,a.default);s.default=u},{"./sha1.js":534,"./v35.js":538}],541:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=r("./regex.js"))&&i.__esModule?i:{default:i},o=function(u){return typeof u=="string"&&a.default.test(u)};s.default=o},{"./regex.js":532}],542:[function(r,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=r("./validate.js"))&&i.__esModule?i:{default:i},o=function(u){if(!(0,a.default)(u))throw TypeError("Invalid UUID");return parseInt(u.substr(14,1),16)};s.default=o},{"./validate.js":541}],543:[function(r,n,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(r,n,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},s.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(r,n,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=i,s.isNCNameChar=function(a){return i(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)}))})(See);var y5=See.exports;const b5=eN(y5),kee=g$({__proto__:null,default:b5},[y5]);function n_(){try{return vo.isNativePlatform()}catch{return!1}}function jee(){if(n_())return!0;const e=navigator.userAgent.toLowerCase();return e.includes("wv")||e.includes("webview")||e.includes("android")&&!e.includes("chrome/")||e.includes("android")&&e.includes("version/")}function Nee(){const e=navigator.userAgent.toLowerCase();return(e.includes("iphone")||e.includes("ipad"))&&!e.includes("safari/")}function v5(){return n_()||jee()||Nee()}function Tee(){return!!(window.Android?.downloadBase64File||window.Android?.downloadFile||window.Android?.shareFile)}function Eee(){return!!window.webkit?.messageHandlers?.downloadFile}function lOe(e,t){const r=e.split(".").pop()?.toLowerCase();return r&&{pdf:"application/pdf",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xls:"application/vnd.ms-excel",csv:"text/csv",html:"text/html",json:"application/json",txt:"text/plain",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"}[r]||t}function Yg(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{const s=n.result,i=s.indexOf(",");t(i>=0?s.substring(i+1):s)},n.onerror=r,n.readAsDataURL(e)})}function En(e,t,r){const n=`[DL] ${e}: ${t}${r?" - "+r:""}`;console.log(n)}async function cOe(e,t,r){try{const s=(await Ar(()=>import("./index-DQZ2tst_.js"),[])).FileSharer;if(!s||typeof s.share!="function")return En("FileSharer","SKIP","plugin not available"),!1;const i=await Yg(e),a=t.replace(/[^a-zA-Z0-9\u0600-\u06FF._-]/g,"_"),o=lOe(a,r);return En("FileSharer","START",`${a} (${e.size} bytes)`),await s.share({filename:a,contentType:o,base64Data:i}),En("FileSharer","OK"),!0}catch(n){const s=String(n?.message||n||"");return En("FileSharer","ERROR",s),!!(s.includes("cancel")||s.includes("Cancel")||s.includes("dismiss")||s.includes("USER_CANCELLED"))}}async function uOe(e,t,r){try{const n=await Ar(()=>import("./index-CquLNwWS.js"),[]),s=await Ar(()=>import("./index-DaNPAOSv.js"),[]),i=n.Filesystem,a=n.Directory,o=s.Share;if(!i||!o)return En("CapFS+Share","SKIP","plugins not available"),!1;const u=await Yg(e),l=t.replace(/[^a-zA-Z0-9\u0600-\u06FF._-]/g,"_");En("CapFS","WRITING",l),await i.writeFile({path:l,data:u,directory:a.Cache});const d=await i.getUri({directory:a.Cache,path:l});return En("CapFS","URI",d.uri),await o.share({title:t,url:d.uri,dialogTitle:`: ${t}`}),En("CapShare","OK"),!0}catch(n){const s=String(n?.message||n||"");return En("CapFS+Share","ERROR",s),!!(s.includes("canceled")||s.includes("dismissed")||s.includes("cancel"))}}async function dOe(e,t,r){try{if(typeof navigator.share!="function"||typeof navigator.canShare!="function")return En("WebShare","SKIP","API not available"),!1;const n=new File([e],t,{type:r}),s={files:[n]};return navigator.canShare(s)?(En("WebShare","START",t),await navigator.share({files:[n],title:t}),En("WebShare","OK"),!0):(En("WebShare","SKIP","canShare=false"),!1)}catch(n){return n?.name==="AbortError"?(En("WebShare","CANCELLED"),!0):(En("WebShare","ERROR",String(n?.message||n)),!1)}}async function fOe(e,t,r){try{const n=await Yg(e);En("ServerProxy","UPLOADING",`${t} (${e.size} bytes)`);const s=await fetch("/api/temp-download",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({base64Data:n,fileName:t,mimeType:r})});if(!s.ok)return En("ServerProxy","UPLOAD_FAILED",`status=${s.status}`),!1;const i=await s.json();if(!i.success||!i.downloadUrl)return En("ServerProxy","BAD_RESPONSE"),!1;const a=new URL(i.downloadUrl,window.location.origin).href;if(En("ServerProxy","URL_READY",a),v5()){En("ServerProxy","MOBILE_REDIRECT","using window.location for download");const u=document.createElement("iframe");u.style.display="none",u.src=a,document.body.appendChild(u),await new Promise(l=>setTimeout(l,3e3));try{document.body.removeChild(u)}catch{}return En("ServerProxy","IFRAME_DONE"),!0}const o=document.createElement("a");return o.href=i.downloadUrl,o.download=t,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),En("ServerProxy","BROWSER_CLICK_DONE"),!0}catch(n){return En("ServerProxy","ERROR",String(n?.message||n)),!1}}function hOe(e,t){try{const r=URL.createObjectURL(e),n=document.createElement("a");return n.href=r,n.download=t,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(r),1e3),!0}catch(r){return console.error("[DL] Browser failed:",r),!1}}async function x5(e,t,r){const n=r||e.type||"application/octet-stream",s=v5(),i=n_();console.log("[DL] === START ===",{fileName:t,type:n,size:e.size,capacitor:i,mobile:s,ua:navigator.userAgent.substring(0,100)});const a=[];if(i){a.push("FileSharer");try{if(await cOe(e,t,n))return console.log("[DL] === SUCCESS via FileSharer ==="),!0}catch(o){console.error("[DL] FileSharer threw:",o?.message||o)}a.push("CapFS+Share");try{if(await uOe(e,t,n))return console.log("[DL] === SUCCESS via CapFS+Share ==="),!0}catch(o){console.error("[DL] CapFS+Share threw:",o?.message||o)}}if(s){a.push("WebShare");try{if(await dOe(e,t,n))return console.log("[DL] === SUCCESS via WebShare ==="),!0}catch(o){console.error("[DL] WebShare threw:",o?.message||o)}a.push("ServerProxy");try{if(await fOe(e,t,n))return console.log("[DL] === SUCCESS via ServerProxy (iframe) ==="),!0}catch(o){console.error("[DL] ServerProxy threw:",o?.message||o)}return console.error("[DL] === ALL MOBILE METHODS FAILED ===",a),!1}if(Tee())try{const o=await Yg(e);if(window.Android?.downloadBase64File)return window.Android.downloadBase64File(o,t,n),!0;if(window.Android?.downloadFile)return window.Android.downloadFile(o,t,n),!0;if(window.Android?.shareFile)return window.Android.shareFile(o,t,n),!0}catch(o){console.error("[DL] AndroidBridge:",o)}if(Eee())try{const o=await Yg(e);return window.webkit?.messageHandlers?.downloadFile?.postMessage({base64:o,fileName:t,mimeType:n}),!0}catch(o){console.error("[DL] iOSBridge:",o)}return console.log("[DL] Using browser download"),hOe(e,t)}async function Mp(e,t){const r=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});return x5(r,t)}const pOe=Object.freeze(Object.defineProperty({__proto__:null,downloadExcelFile:Mp,downloadFile:x5,hasAndroidBridge:Tee,hasIOSBridge:Eee,isAndroidWebView:jee,isCapacitorNative:n_,isIOSWebView:Nee,isMobileWebView:v5},Symbol.toStringTag,{value:"Module"}));async function mOe(e){const t=new b5.Workbook,r=t.addWorksheet(" ");r.views=[{rightToLeft:!0}],r.columns=[{header:"",key:"purchaseDate",width:15},{header:" ",key:"materialName",width:20},{header:"",key:"materialCategory",width:15},{header:"",key:"quantity",width:10},{header:"",key:"unit",width:10},{header:" ",key:"unitPrice",width:12},{header:" ",key:"totalAmount",width:15},{header:" ",key:"purchaseType",width:12},{header:"",key:"supplierName",width:20},{header:" ",key:"invoiceNumber",width:15},{header:"",key:"projectName",width:20},{header:"",key:"notes",width:30}];const n=r.getRow(1);n.font={bold:!0,color:{argb:"FFFFFFFF"}},n.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},n.alignment={vertical:"middle",horizontal:"center"},e.forEach(o=>{const u=r.addRow({purchaseDate:o.purchaseDate?ur(new Date(o.purchaseDate),"dd/MM/yyyy"):"",materialName:o.materialName||o.material?.name||"",materialCategory:o.materialCategory||o.material?.category||"",quantity:Number(o.quantity),unit:o.materialUnit||o.unit||o.material?.unit||"",unitPrice:Number(o.unitPrice),totalAmount:Number(o.totalAmount),purchaseType:o.purchaseType||"",supplierName:o.supplierName||"",invoiceNumber:o.invoiceNumber||"",projectName:o.projectName||o.project?.name||" ",notes:o.notes||""});u.alignment={vertical:"middle",horizontal:"right"},u.getCell("quantity").numFmt="#,##0.00",u.getCell("unitPrice").numFmt="#,##0.00",u.getCell("totalAmount").numFmt="#,##0.00"});const s=e.reduce((o,u)=>o+parseFloat(u.totalAmount||"0"),0),i=r.addRow({purchaseDate:"",totalAmount:s});i.font={bold:!0},i.getCell("totalAmount").numFmt="#,##0.00",i.getCell("totalAmount").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}};const a=await t.xlsx.writeBuffer();return await Mp(a,`__${new Date().toLocaleDateString("en-GB").replace(/\//g,"-")}.xlsx`)}function gOe(){const[,e]=gs(),{selectedProjectId:t,isAllProjects:r,getProjectIdForApi:n}=Ao(),[s,i]=E.useState(""),[a,o]=E.useState({paymentType:"all",category:"all",dateRange:void 0,dateFrom:"",dateTo:"",specificDate:""}),[u,l]=E.useState(!1),[d,h]=E.useState(!1),f=E.useCallback((ye,Ke)=>{ye==="selectedDate"?rt(Ke?ur(new Date(Ke),"yyyy-MM-dd"):""):o(oe=>({...oe,[ye]:Ke}))},[]),g=new URLSearchParams(window.location.search).get("edit"),[y,m]=E.useState(""),[v,b]=E.useState(""),[x,k]=E.useState(""),[T,O]=E.useState(""),[F,A]=E.useState(""),[P,D]=E.useState(""),V=P==="";E.useEffect(()=>{V&&A("0")},[V]);const[B,C]=E.useState(""),[I,N]=E.useState(""),[w,_]=E.useState(Ls()),[S,j]=E.useState(Ls()),[R,$]=E.useState(""),[U,q]=E.useState(""),[H,Y]=E.useState("0"),[M,K]=E.useState("0"),[z,L]=E.useState(null),[W,J]=E.useState(!1),[le,ne]=E.useState(!0),[ue,G]=E.useState(!1),[te,X]=E.useState(""),[ae,re]=E.useState(""),[ee,Z]=E.useState(""),[Q,ie]=E.useState(""),[ce,ge]=E.useState(""),[we,Te]=E.useState(""),[Ae,De]=E.useState(),[Fe,rt]=E.useState(()=>new URLSearchParams(window.location.search).get("date")||""),{toast:qe}=Br(),Ve=ns(),{setFloatingAction:pe}=Io(),de=E.useCallback(()=>{i(""),rt(""),o({paymentType:"all",category:"all",dateRange:void 0,dateFrom:"",dateTo:"",specificDate:""}),qe({title:"  ",description:"      "})},[qe]);E.useEffect(()=>{},[]),E.useEffect(()=>(pe(null),()=>pe(null)),[pe]);const Pe=async(ye,Ke)=>{if(!(!Ke||typeof Ke!="string"||!Ke.trim()))try{await Ie("/api/autocomplete","POST",{category:ye,value:Ke.trim()})}catch(oe){console.log(`Failed to save autocomplete value for ${ye}:`,oe)}},$e=()=>{X(""),re(""),Z(""),ie(""),ge(""),Te("")},yt=ht({mutationFn:async ye=>(await Promise.all([Pe("supplier_name",te),Pe("supplier_contact_person",ae),Pe("supplier_phone",ee),Pe("supplier_address",Q),Pe("supplier_payment_terms",ce)]),Ie("/api/suppliers","POST",ye)),onSuccess:ye=>{Ve.invalidateQueries({queryKey:he.suppliers}),qe({title:"   ",description:`   "${te}"   `}),C(te),G(!1),$e()},onError:ye=>{qe({title:"   ",description:ye?.message||"    .    .",variant:"destructive"})}}),Ot=async ye=>{if(ye.preventDefault(),!te.trim()){qe({title:"  ",description:"   ",variant:"destructive"});return}const Ke={name:te.trim(),contactPerson:ae.trim()||void 0,phone:ee.trim()||void 0,address:Q.trim()||void 0,paymentTerms:ce||void 0,notes:we.trim()||void 0,isActive:!0};yt.mutate(Ke)},{data:it=[]}=nt({queryKey:he.materials,queryFn:async()=>{try{const ye=await Ie("/api/materials","GET");return ye&&ye.data&&Array.isArray(ye.data)?ye.data:Array.isArray(ye)?ye:[]}catch(ye){return console.error("Error fetching materials:",ye),[]}},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:!1}),{data:Bt=[]}=nt({queryKey:he.suppliers,queryFn:async()=>{try{const ye=await Ie("/api/suppliers","GET");return ye&&ye.data&&Array.isArray(ye.data)?ye.data:Array.isArray(ye)?ye:[]}catch(ye){return console.error("Error fetching suppliers:",ye),[]}},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:!1}),{data:st,isLoading:gt}=nt({queryKey:he.materialPurchaseEdit(g),queryFn:async()=>{if(!g)return null;try{console.log(`    : ${g}`);const ye=await Ie(`/api/material-purchases/${g}`,"GET");console.log("    :",ye);let Ke=null;if(ye&&ye.data)Ke=ye.data;else if(ye&&ye.id)Ke=ye;else return console.warn("     "),null;return console.log("     :",Ke),Ke}catch(ye){return console.error("      :",ye),null}},enabled:!!g,retry:1,staleTime:0});E.useEffect(()=>{if(st&&g){console.log("    :",st),console.log("   :",{purchaseToEdit:{materialName:st.materialName,materialCategory:st.materialCategory,materialUnit:st.materialUnit,unit:st.unit},material:st.material?{name:st.material.name,category:st.material.category,unit:st.material.unit}:"    "});const ye=st.materialName||st.material?.name||"",Ke=st.materialCategory||st.material?.category||"",oe=st.materialUnit||st.unit||st.material?.unit||"";console.log("     :",{materialName:ye,materialCategory:Ke,materialUnit:oe}),m(ye),b(Ke),k(oe),O(st.quantity?.toString()||""),A(st.unitPrice?.toString()||""),D(st.purchaseType||""),C(st.supplierName||""),N(st.invoiceNumber||""),_(st.invoiceDate||""),j(st.purchaseDate||""),Y(st.paidAmount?.toString()||"0"),K(st.remainingAmount?.toString()||"0"),$(st.notes||""),q(st.invoicePhoto||""),L(st.id),J(st.addToInventory||!1),console.log("    :",{materialName:ye,materialCategory:Ke,materialUnit:oe,quantity:st.quantity,unitPrice:st.unitPrice,purchaseType:st.purchaseType})}},[st,g]),ht({mutationFn:ye=>Ie("/api/materials","POST",ye),onSuccess:()=>{Ve.invalidateQueries({queryKey:he.materials})},onError:ye=>{console.error("Material creation error:",ye);let Ke="    ";ye?.response?.data?.message&&(Ke=ye.response.data.message),qe({title:"",description:Ke,variant:"destructive"})}}),Array.isArray(it)&&it.map(ye=>ye.name),Array.isArray(it)&&Array.from(new Set(it.map(ye=>ye.unit)));const{data:dt=[]}=nt({queryKey:he.materialPurchases(t,Fe),enabled:!!t,queryFn:async()=>await Ie(`/api/projects/${t}/material-purchases?date=${Fe}`,"GET"),refetchOnWindowFocus:!1,retry:!1}),sr=E.useMemo(()=>dt&&dt.data&&Array.isArray(dt.data)?dt.data:Array.isArray(dt)?dt:[],[dt]),_t=E.useMemo(()=>{const ye=Array.isArray(it)?it.map(xe=>xe.category):[],Ke=Array.isArray(sr)?sr.map(xe=>xe.materialCategory):[];return Array.from(new Set([...ye,...Ke])).filter(Boolean).map(xe=>xe.trim()).filter(xe=>xe!=="")},[it,sr]),ir=Array.isArray(Bt)?Bt.filter(ye=>ye.isActive):[],qt=ht({mutationFn:async ye=>{if(!ye.projectId||ye.projectId==="all")throw new Error("       ");return await Promise.all([Pe("materialNames",y),Pe("materialCategories",v),Pe("materialUnits",x),Pe("supplierNames",B),Pe("invoiceNumbers",I),Pe("notes",R)]),Ie(`/api/projects/${ye.projectId}/material-purchases`,"POST",ye)},onMutate:async ye=>{await Ve.cancelQueries({queryKey:he.materialPurchases(t,Fe)});const Ke=Ve.getQueryData(he.materialPurchases(t,Fe));return Ve.setQueryData(he.materialPurchases(t,Fe),oe=>{const xe={id:`temp-${Date.now()}`,...ye,createdAt:new Date().toISOString()};return[...Array.isArray(oe)?oe:oe&&typeof oe=="object"&&Array.isArray(oe.data)?oe.data:[],xe]}),qe({title:" ",description:"  "}),{previousData:Ke}},onSuccess:async ye=>{Ve.invalidateQueries({queryKey:he.autocomplete});const Ke=ye?.equipmentCreated;qe({title:" ",description:Ke?"     () ":"    "}),Ct(),Ve.invalidateQueries({queryKey:he.materialPurchases(t,Fe)}),Ke&&Ve.invalidateQueries({queryKey:he.equipment})},onError:async ye=>{await Promise.all([Pe("materialNames",y),Pe("materialCategories",v),Pe("materialUnits",x),Pe("supplierNames",B),Pe("invoiceNumbers",I),Pe("notes",R)]),Ve.invalidateQueries({queryKey:he.autocomplete}),console.error("Material purchase error:",ye);let Ke="     ",oe=[];if(ye?.response?.data){const Ee=ye.response.data;Ee.message&&(Ke=Ee.message),Ee.details&&Array.isArray(Ee.details)?oe=Ee.details:Ee.validationErrors&&Array.isArray(Ee.validationErrors)&&(oe=Ee.validationErrors)}let xe=Ke;oe.length>0?xe=`${Ke}:
${oe.map(Ee=>` ${Ee}`).join(`
`)}`:ye?.response?.data?.error&&(xe=`${Ke}: ${ye.response.data.error}`),qe({title:"    ",description:xe,variant:"destructive",duration:1e4})}}),Ct=()=>{m(""),b(""),k(""),O(""),A(""),D(""),C(""),N(""),_(Ls()),j(Ls()),$(""),q(""),L(null),J(!1)},pr=ht({mutationFn:async({id:ye,data:Ke})=>{console.log(" [PATCH]   :",{id:ye,data:Ke}),await Promise.all([Pe("materialNames",y),Pe("materialCategories",v),Pe("materialUnits",x),Pe("supplierNames",B),Pe("invoiceNumbers",I),Pe("notes",R)]);const oe=await Ie(`/api/material-purchases/${ye}`,"PATCH",Ke);return console.log(" [PATCH]   :",oe),oe},onSuccess:async ye=>{Ve.invalidateQueries({queryKey:he.autocomplete});const Ke=ye?.equipmentCreated;Ke&&Ve.invalidateQueries({queryKey:he.equipment}),qe({title:Ke?"   ":" ",description:Ke?"       ":"    "}),Ct(),Ve.invalidateQueries({queryKey:he.materialPurchases(t,Fe)})},onError:async ye=>{await Promise.all([Pe("materialNames",y),Pe("materialCategories",v),Pe("materialUnits",x),Pe("supplierNames",B),Pe("invoiceNumbers",I),Pe("notes",R)]),Ve.invalidateQueries({queryKey:he.autocomplete}),console.error("Material purchase update error:",ye);let Ke="     ",oe=[];if(ye?.response?.data){const Ee=ye.response.data;Ee.message&&(Ke=Ee.message),Ee.details&&Array.isArray(Ee.details)?oe=Ee.details:Ee.validationErrors&&Array.isArray(Ee.validationErrors)&&(oe=Ee.validationErrors)}const xe=oe.length>0?`${Ke}

${oe.map(Ee=>` ${Ee}`).join(`
`)}`:Ke;qe({title:"    ",description:xe,variant:"destructive",duration:8e3})}}),er=ht({mutationFn:ye=>Ie(`/api/material-purchases/${ye}`,"DELETE"),onMutate:async ye=>{await Ve.cancelQueries({queryKey:he.materialPurchases(t,Fe)});const Ke=Ve.getQueryData(he.materialPurchases(t,Fe));return Ve.setQueryData(he.materialPurchases(t,Fe),oe=>oe?oe.filter(xe=>xe.id!==ye):[]),qe({title:" ",description:"    "}),{previousData:Ke}},onSuccess:()=>{qe({title:" ",description:"    "}),Ve.invalidateQueries({queryKey:he.materialPurchases(t,Fe)})},onError:ye=>{console.error("Material purchase delete error:",ye);let Ke="     ",oe=[];if(ye?.response?.data){const Ee=ye.response.data;Ee.message&&(Ke=Ee.message),Ee.details&&Array.isArray(Ee.details)&&(oe=Ee.details)}const xe=oe.length>0?`${Ke}

${oe.map(Ee=>` ${Ee}`).join(`
`)}`:Ke;qe({title:"    ",description:xe,variant:"destructive",duration:6e3})}}),Ut=()=>{const ye=parseFloat(T)||0,Ke=parseFloat(F)||0;return(ye*Ke).toFixed(2)},ve=ye=>{const Ke=ye.target.files?.[0];if(Ke){const oe=new FileReader;oe.onload=xe=>{q(xe.target?.result)},oe.readAsDataURL(Ke)}},ke=(ye=!1)=>{const Ke=P!=="";if(!t||!y||!x||!T||Ke&&!F){qe({title:"",description:"    ",variant:"destructive"});return}const oe=Ut(),xe={projectId:t,materialName:y.trim(),materialCategory:v?.trim()||null,materialUnit:x.trim(),quantity:T.toString(),unitPrice:(Ke?F:F||"0").toString(),totalAmount:(Ke?oe:oe||"0").toString(),purchaseType:P.trim(),paidAmount:P.trim()===""&&oe.toString()||"0",remainingAmount:(P.trim()===""||P.trim()==="")&&oe.toString()||"0",supplierName:B?.trim()||"",invoiceNumber:I?.trim()||"",invoiceDate:w||new Date().toISOString().split("T")[0],purchaseDate:S||new Date().toISOString().split("T")[0],notes:R?.trim()||"",wellId:Ae||null,invoicePhoto:U||"",addToInventory:W,status:"completed"};console.log("    :",xe),z?pr.mutate({id:z,data:xe}):qt.mutate(xe),!ye&&!z&&e("/daily-expenses")},{data:Re=[],isLoading:He,refetch:St}=nt({queryKey:he.materialPurchasesFiltered(n()??"all",Fe),queryFn:async()=>{const ye=n(),Ke="/api/material-purchases",oe=new URLSearchParams;ye&&ye!=="all"&&oe.append("projectId",ye),Fe&&Fe!==""&&oe.append("date",Fe);const xe=oe.toString(),Ee=xe?`${Ke}?${xe}`:Ke;console.log(` [Fetching] ${Ee}`);const Me=await Ie(Ee,"GET"),ft=Me.data||Me;return Array.isArray(ft)?ft:[]},enabled:!0,staleTime:0}),Ge=E.useMemo(()=>Re.filter(ye=>{const Ke=r||!t||ye.projectId===t,oe=s===""||ye.materialName?.toLowerCase().includes(s.toLowerCase())||ye.supplierName?.toLowerCase().includes(s.toLowerCase())||ye.notes?.toLowerCase().includes(s.toLowerCase())||ye.materialCategory?.toLowerCase().includes(s.toLowerCase()),xe=a.paymentType==="all"||ye.purchaseType===a.paymentType,Ee=!a.category||a.category==="all"||ye.materialCategory===a.category,Me=!Fe||ye.purchaseDate===Fe;let ft=!0;if(a.dateRange?.from||a.dateRange?.to){const Ye=new Date(ye.purchaseDate);if(a.dateRange.from){const Vt=new Date(a.dateRange.from);Vt.setHours(0,0,0,0),ft=ft&&Ye>=Vt}if(a.dateRange.to){const Vt=new Date(a.dateRange.to);Vt.setHours(23,59,59,999),ft=ft&&Ye<=Vt}}let Xe=!0;if(a.specificDate){const Ye=new Date(ye.purchaseDate),Vt=new Date(a.specificDate);Xe=Ye.getFullYear()===Vt.getFullYear()&&Ye.getMonth()===Vt.getMonth()&&Ye.getDate()===Vt.getDate()}return Ke&&oe&&xe&&Ee&&ft&&Me&&Xe}),[Re,t,r,s,a.paymentType,a.category,a.dateRange,a.specificDate,Fe]),bt=E.useMemo(()=>({total:Re.length,cash:Re.filter(ye=>ye.purchaseType==="").length,credit:Re.filter(ye=>ye.purchaseType?.includes("")||ye.purchaseType?.includes("")).length,supply:Re.filter(ye=>ye.purchaseType==="").length,totalValue:Re.reduce((ye,Ke)=>ye+parseFloat(Ke.totalAmount||"0"),0),avgValue:Re.length>0?Re.reduce((ye,Ke)=>ye+parseFloat(Ke.totalAmount||"0"),0)/Re.length:0}),[Re]),Tt=E.useCallback(async()=>{l(!0);try{await St()}finally{l(!1)}},[St]);E.useEffect(()=>{(r||t)&&!Re.length&&St()},[t,r,St,Re.length]);const mt=ye=>{m(ye.materialName||ye.material?.name||""),b(ye.materialCategory||ye.material?.category||""),k(ye.materialUnit||ye.material?.unit||ye.unit||""),O(ye.quantity),A(ye.unitPrice),D(ye.purchaseType||ye.paymentType||""),C(ye.supplierName||""),N(ye.invoiceNumber||""),_(ye.invoiceDate||""),j(ye.purchaseDate||""),$(ye.notes||""),q(ye.invoicePhoto||""),L(ye.id),J(ye.addToInventory||!1),ne(!1)},Mt=ye=>{if(!ye)return"N/A";try{return new Date(ye).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(Ke){return console.error("Error formatting date:",ye,Ke),ye}},Rt=ye=>{window.confirm("       ")&&er.mutate(ye)},Dt=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:bt.total,icon:en,color:"blue"},{key:"cash",label:" ",value:bt.cash,icon:Jt,color:"green"},{key:"credit",label:" ",value:bt.credit,icon:qB,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"supply",label:"",value:bt.supply,icon:X8,color:"purple"},{key:"totalValue",label:" ",value:ze(bt.totalValue),icon:hn,color:"teal"},{key:"avgValue",label:" ",value:ze(bt.avgValue),icon:Qbe,color:"indigo"}]}],[bt]),Zt=E.useMemo(()=>[{key:"selectedDate",label:"",type:"date",placeholder:" "},{key:"category",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...(_t||[]).map(ye=>({value:ye,label:ye}))]},{key:"paymentType",label:" ",type:"select",placeholder:"  ",options:[{value:"all",label:" "},{value:"",label:""},{value:"",label:""},{value:"",label:""}]},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"specificDate",label:"  ",type:"date",placeholder:"  "}],[_t]),$r=E.useCallback(async()=>{if(Ge.length===0){qe({title:"  ",description:"       ",variant:"destructive"});return}h(!0);try{const ye=await mOe(Ge);qe(ye?{title:"  ",description:`  ${Ge.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(ye){console.error("Export error:",ye),qe({title:"  ",description:"     ",variant:"destructive"})}finally{h(!1)}},[Ge,qe]),mr=E.useMemo(()=>[{key:"export",label:d?" ...":" ",icon:N0,onClick:$r,variant:"outline",disabled:d||Ge.length===0}],[$r,d,Ge.length]);return c.jsxs("div",{className:"p-4 slide-in",children:[c.jsx(Qa,{hideHeader:!0,title:"",statsRows:Dt,searchValue:s,onSearchChange:i,searchPlaceholder:"    ...",showSearch:!0,filters:Zt,filterValues:a,onFilterChange:f,onReset:de,onRefresh:Tt,isRefreshing:u,actions:mr}),gt&&g&&c.jsx(Pt,{className:"mb-4 border-blue-200 bg-blue-50",children:c.jsx(Ft,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}),c.jsx("span",{className:"text-blue-700",children:"    ..."})]})})}),c.jsx(wa,{open:!le,onOpenChange:ye=>ne(!ye),children:c.jsx(Pt,{className:"mb-4",children:c.jsxs(Ft,{className:le?"p-2":"p-4",children:[c.jsx(_a,{asChild:!0,children:c.jsxs("div",{className:`flex items-center justify-between cursor-pointer hover:bg-muted/50 rounded-lg transition-colors ${le?"p-2 -m-2":"p-2 -m-2 mb-2"}`,children:[c.jsxs("h3",{className:`font-semibold text-foreground flex items-center gap-2 ${le?"text-base":"text-lg"}`,children:[c.jsx(en,{className:le?"h-4 w-4 text-primary":"h-5 w-5 text-primary"}),z?" ":"  "]}),c.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:le?c.jsx(yn,{className:"h-4 w-4"}):c.jsx(_o,{className:"h-4 w-4"})})]})}),c.jsx(Sa,{children:c.jsxs("div",{className:"space-y-1 pt-2",children:[c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground",children:" "}),c.jsx(us,{value:y,onChange:m,category:"materialNames",placeholder:"    ..."})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground",children:" "}),c.jsx(us,{value:v,onChange:b,category:"materialCategories",placeholder:"    ..."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground",children:""}),c.jsx(tt,{type:"number",inputMode:"decimal",value:T,onChange:ye=>O(ye.target.value),placeholder:"0",className:"text-center arabic-numbers",autoWidth:!0,maxWidth:150})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground",children:""}),c.jsx(us,{value:x,onChange:k,category:"materialUnits",placeholder:"  ..."})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground",children:" "}),c.jsx(tt,{type:"number",inputMode:"decimal",value:F,onChange:ye=>A(ye.target.value),placeholder:"0.00",disabled:V,className:`text-center arabic-numbers ${V?"cursor-not-allowed opacity-50 bg-muted":""}`})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground",children:" "}),c.jsx(tt,{type:"number",value:Ut(),readOnly:!0,disabled:V,className:`text-center arabic-numbers ${V?"bg-muted cursor-not-allowed":"bg-muted"}`})]})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground",children:" "}),c.jsxs(_ee,{value:P,onValueChange:D,className:"flex gap-4",children:[c.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[c.jsx(cv,{value:"",id:"cash"}),c.jsx(Le,{htmlFor:"cash",className:"text-sm",children:""})]}),c.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[c.jsx(cv,{value:"",id:"credit"}),c.jsx(Le,{htmlFor:"credit",className:"text-sm",children:""})]}),c.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[c.jsx(cv,{value:"",id:"storage"}),c.jsx(Le,{htmlFor:"storage",className:"text-sm",children:""})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[c.jsx(iy,{id:"addToInventory",checked:W,onCheckedChange:ye=>J(ye===!0),"data-testid":"checkbox-add-to-inventory"}),c.jsxs(Le,{htmlFor:"addToInventory",className:"text-sm font-medium text-blue-700 dark:text-blue-300 cursor-pointer flex items-center gap-2",children:[c.jsx(en,{className:"h-4 w-4"}),"  ()"]})]}),c.jsx(Kg,{projectId:t,value:Ae,onChange:De,optional:!0}),c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground",children:" /"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Wn,{value:B,onValueChange:C,options:ir.map(ye=>({value:ye.name,label:ye.name,description:ye.contactPerson||void 0})),placeholder:" ...",searchPlaceholder:"  ...",emptyText:"   ",className:"flex-1"}),c.jsxs(ks,{open:ue,onOpenChange:G,children:[c.jsx(rp,{asChild:!0,children:c.jsx(Se,{type:"button",variant:"outline",size:"icon",title:"  ",children:c.jsx(Qn,{className:"h-4 w-4"})})}),c.jsxs(hs,{className:"sm:max-w-[425px]",dir:"rtl",children:[c.jsxs(js,{children:[c.jsx(zs,{children:"  "}),c.jsx(Fl,{children:"   .      ."})]}),c.jsxs("form",{onSubmit:Ot,className:"form-grid",children:[c.jsxs("div",{className:"form-field form-field-full",children:[c.jsx(Le,{htmlFor:"supplier-name",children:" / *"}),c.jsx(tt,{id:"supplier-name",value:te,onChange:ye=>X(ye.target.value),placeholder:":   ",required:!0})]}),c.jsxs("div",{className:"form-field",children:[c.jsx(Le,{htmlFor:"supplier-contact",children:" "}),c.jsx(tt,{id:"supplier-contact",value:ae,onChange:ye=>re(ye.target.value),placeholder:":  "})]}),c.jsxs("div",{className:"form-field",children:[c.jsx(Le,{htmlFor:"supplier-phone",children:" "}),c.jsx(tt,{id:"supplier-phone",value:ee,onChange:ye=>Z(ye.target.value),placeholder:": 777123456",type:"tel"})]}),c.jsxs("div",{className:"form-field form-field-full",children:[c.jsx(Le,{htmlFor:"supplier-address",children:""}),c.jsx(tt,{id:"supplier-address",value:Q,onChange:ye=>ie(ye.target.value),placeholder:":   "})]}),c.jsxs("div",{className:"form-field",children:[c.jsx(Le,{htmlFor:"supplier-payment",children:" "}),c.jsxs(Rn,{value:ce,onValueChange:ge,children:[c.jsx(wn,{children:c.jsx(On,{placeholder:"  "})}),c.jsxs(_n,{children:[c.jsx(vt,{value:"",children:""}),c.jsx(vt,{value:"",children:""}),c.jsx(vt,{value:" ",children:" "})]})]})]}),c.jsxs("div",{className:"form-field form-field-full",children:[c.jsx(Le,{htmlFor:"supplier-notes",children:""}),c.jsx(ap,{id:"supplier-notes",value:we,onChange:ye=>Te(ye.target.value),placeholder:"  ...",autoHeight:!0,minRows:3,maxRows:6})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx(Se,{type:"submit",disabled:yt.isPending||!te.trim(),children:yt.isPending?" ...":" "}),c.jsx(Se,{type:"button",variant:"outline",onClick:()=>{G(!1),$e()},children:""})]})]})]})]})]}),ir.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"   .  +   "})]}),c.jsx(tl,{label:" ",value:S,onChange:ye=>j(ye?ur(ye,"yyyy-MM-dd"):"")}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground",children:" "}),c.jsx(us,{type:"number",inputMode:"numeric",value:I,onChange:N,category:"invoiceNumbers",placeholder:" ",className:"arabic-numbers"})]}),c.jsx(tl,{label:" ",value:w,onChange:ye=>_(ye?ur(ye,"yyyy-MM-dd"):"")})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground",children:" "}),c.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[U?c.jsxs("div",{className:"space-y-2",children:[c.jsx("img",{src:U,alt:"Invoice",className:"max-w-full max-h-32 mx-auto rounded"}),c.jsx("p",{className:"text-sm text-success",children:"   "})]}):c.jsxs(c.Fragment,{children:[c.jsx(BB,{className:"h-12 w-12 text-muted-foreground mx-auto"}),c.jsx("p",{className:"text-muted-foreground",children:"   "})]}),c.jsx(tt,{type:"file",accept:"image/*",onChange:ve,className:"hidden",id:"invoice-photo"}),c.jsx(Le,{htmlFor:"invoice-photo",className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg cursor-pointer hover:bg-primary/90 transition-colors inline-block",children:U?" ":" "})]})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground",children:""}),c.jsx(us,{value:R,onChange:$,category:"notes",placeholder:"  ..."})]}),c.jsxs("div",{className:"space-y-3 pt-4",children:[c.jsxs(Se,{onClick:()=>ke(!1),disabled:qt.isPending||pr.isPending,className:"w-full bg-success hover:bg-success/90 text-success-foreground",children:[c.jsx(Lc,{className:"ml-2 h-4 w-4"}),qt.isPending||pr.isPending?" ...":z?" ":" "]}),!z&&c.jsxs(Se,{onClick:()=>ke(!0),disabled:qt.isPending,variant:"outline",className:"w-full",children:[c.jsx(Qn,{className:"ml-2 h-4 w-4"}),"  "]}),z&&c.jsx(Se,{onClick:Ct,variant:"outline",className:"w-full",children:" "})]})]})})]})})}),He&&c.jsx(Pt,{className:"mt-4",children:c.jsx(Ft,{className:"p-4",children:c.jsx("div",{className:"text-center text-muted-foreground",children:"  ..."})})}),!He&&Ge.length===0&&c.jsx(Pt,{className:"mt-4",children:c.jsx(Ft,{className:"p-4",children:c.jsxs("div",{className:"text-center text-muted-foreground",children:[c.jsx(en,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),c.jsx("h3",{className:"text-lg font-medium",children:"  "}),c.jsx("p",{className:"text-sm",children:Re.length>0?"       ":"     "})]})})}),Ge.length>0&&c.jsx("div",{className:"mt-4",children:c.jsx(Ns,{columns:3,children:Ge.map(ye=>{const Ke=ye.purchaseType||"",oe=Ke==="",xe=Ke===""||Ke==="",Ee=Ke===""||Ke===""||Ke==="",Me=oe?"#22c55e":xe?"#f97316":Ee?"#3b82f6":"#6366f1";return c.jsx(Gr,{title:ye.materialName||"  ",subtitle:Mt(ye.purchaseDate),titleIcon:X8,headerColor:Me,badges:[{label:Ke,variant:oe?"success":xe?"warning":Ee?"info":"default"}],fields:[...r||!t?[{label:"",value:ye.projectName||ye.project?.name||" ",icon:Gn,color:"info"}]:[],{label:"",value:ye.supplierName||" ",icon:xn,color:"default"},{label:"",value:`${ye.quantity} ${ye.materialUnit||ye.unit}`,icon:en,color:"warning",emphasis:!0},{label:" ",value:ze(ye.unitPrice),icon:Jt,color:"default"},{label:"",value:ze(ye.totalAmount),icon:Jt,color:oe?"success":xe?"warning":Ee?"info":"default",emphasis:!0},{label:"",value:Mt(ye.purchaseDate),icon:rs,color:"muted"}],actions:[{icon:du,label:"",onClick:()=>mt(ye),color:"blue"},{icon:An,label:"",onClick:()=>Rt(ye.id),color:"red"}],compact:!0},ye.id)})})})]})}function yOe({value:e,onValueChange:t,options:r,placeholder:n="...",emptyText:s="  ",allowCustom:i=!0,customPlaceholder:a=" ..."}){const[o,u]=E.useState(!1),[l,d]=E.useState(""),[h,f]=E.useState(!1),[p,g]=E.useState(""),y=E.useRef(null);E.useEffect(()=>{if(o&&y.current){y.current.focus();const T=setTimeout(()=>{y.current?.focus()},50);return()=>clearTimeout(T)}},[o]);const m=E.useMemo(()=>Array.from(new Set(r)).sort((O,F)=>String(O).localeCompare(String(F),"ar")),[r]),v=E.useMemo(()=>p?m.filter(T=>T.toLowerCase().includes(p.toLowerCase())):m,[m,p]),b=T=>{if(T==="__custom__"){f(!0);return}t(T),u(!1),f(!1),d(""),g("")},x=()=>{l.trim()&&(t(l.trim()),u(!1),f(!1),d(""),g(""))},k=e||n;return c.jsxs(qw,{open:o,onOpenChange:u,children:[c.jsx(Hw,{asChild:!0,children:c.jsxs(Se,{variant:"outline",role:"combobox","aria-expanded":o,className:"w-full justify-between",children:[c.jsx("span",{className:_e("truncate",!e&&"text-muted-foreground"),children:k}),c.jsx(yn,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsxs(fy,{className:"w-full p-0",align:"start",children:[c.jsx("div",{className:"border-b p-2",children:c.jsxs("div",{className:"relative",children:[c.jsx(So,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(tt,{ref:y,placeholder:"...",value:p,onChange:T=>g(T.target.value),className:"pr-8"})]})}),c.jsxs("div",{className:"max-h-60 overflow-auto",children:[v.length===0&&!i&&c.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:s}),v.map(T=>c.jsxs("button",{onClick:()=>b(T),className:"w-full flex items-center px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer",children:[c.jsx(yo,{className:_e("mr-2 h-4 w-4",e===T?"opacity-100":"opacity-0")}),T]},T)),i&&c.jsxs("button",{onClick:()=>b("__custom__"),className:"w-full flex items-center px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer text-primary",children:[c.jsx(Qn,{className:"mr-2 h-4 w-4"}),a]})]}),h&&c.jsxs("div",{className:"border-t p-3 space-y-2",children:[c.jsx(tt,{value:l,onChange:T=>d(T.target.value),placeholder:"  ...",onKeyDown:T=>{T.key==="Enter"&&(T.preventDefault(),x())},autoFocus:!0}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Se,{onClick:x,size:"sm",className:"flex-1",disabled:!l.trim(),children:""}),c.jsx(Se,{onClick:()=>{f(!1),d(""),g("")},size:"sm",variant:"outline",className:"flex-1",children:""})]})]})]})]})}const rS={blue:{border:"border-l-blue-500",text:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400"},green:{border:"border-l-green-500",text:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20",iconBg:"bg-green-100 dark:bg-green-900/30",iconColor:"text-green-600 dark:text-green-400"},orange:{border:"border-l-orange-500",text:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20",iconBg:"bg-orange-100 dark:bg-orange-900/30",iconColor:"text-orange-600 dark:text-orange-400"},red:{border:"border-l-red-500",text:"text-red-600",bg:"bg-red-50 dark:bg-red-900/20",iconBg:"bg-red-100 dark:bg-red-900/30",iconColor:"text-red-600 dark:text-red-400"},purple:{border:"border-l-purple-500",text:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-900/20",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400"},teal:{border:"border-l-teal-500",text:"text-teal-600",bg:"bg-teal-50 dark:bg-teal-900/20",iconBg:"bg-teal-100 dark:bg-teal-900/30",iconColor:"text-teal-600 dark:text-teal-400"},indigo:{border:"border-l-indigo-500",text:"text-indigo-600",bg:"bg-indigo-50 dark:bg-indigo-900/20",iconBg:"bg-indigo-100 dark:bg-indigo-900/30",iconColor:"text-indigo-600 dark:text-indigo-400"},emerald:{border:"border-l-emerald-500",text:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/20",iconBg:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400"},amber:{border:"border-l-amber-500",text:"text-amber-600",bg:"bg-amber-50 dark:bg-amber-900/20",iconBg:"bg-amber-100 dark:bg-amber-900/30",iconColor:"text-amber-600 dark:text-amber-400"},gray:{border:"border-l-gray-500",text:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20",iconBg:"bg-gray-100 dark:bg-gray-900/30",iconColor:"text-gray-600 dark:text-gray-400"},rose:{border:"border-l-rose-500",text:"text-rose-600",bg:"bg-rose-50 dark:bg-rose-900/20",iconBg:"bg-rose-100 dark:bg-rose-900/30",iconColor:"text-rose-600 dark:text-rose-400"},critical:{border:"border-l-red-600",text:"text-red-700",bg:"bg-red-100 dark:bg-red-950/40",iconBg:"bg-red-200 dark:bg-red-900/50",iconColor:"text-red-700 dark:text-red-300"},warning:{border:"border-l-amber-500",text:"text-amber-700",bg:"bg-amber-100 dark:bg-amber-950/40",iconBg:"bg-amber-200 dark:bg-amber-900/50",iconColor:"text-amber-700 dark:text-amber-300"}};function OR({title:e,label:t,value:r,icon:n,color:s="blue",gradient:i,iconBg:a,iconColor:o,formatter:u,className:l="","data-testid":d,secondaryLabel:h,secondaryIcon:f}){const p=s&&rS[s]?rS[s]:rS.blue,g=t||e||"",m=(()=>{if(r==null)return"0";if(typeof r=="number"){if(isNaN(r)||!isFinite(r))return"0";const x=Math.max(0,r);return u?u(x):x.toLocaleString("en-US")}return r.toString()})(),v=g.length>15,b=({children:x})=>v?c.jsx(C1,{delayDuration:300,children:c.jsxs(F3,{children:[c.jsx(z3,{asChild:!0,children:x}),c.jsx(A1,{side:"top",className:"max-w-[200px] text-center",children:c.jsx("p",{className:"text-xs",children:g})})]})}):c.jsx(c.Fragment,{children:x});return c.jsx(Pt,{className:_e(p.border,p.bg,"border-l-4 hover:shadow-md transition-all duration-300 h-full min-h-[60px] sm:min-h-[70px] rounded-xl overflow-hidden shadow-sm",l),children:c.jsxs(Ft,{className:"p-2 sm:p-3 flex flex-col justify-between h-full",children:[c.jsxs("div",{className:"flex items-start justify-between gap-1",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx(b,{children:c.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold text-muted-foreground/80 uppercase tracking-tighter truncate mb-0.5",children:g})}),c.jsx("p",{className:_e("text-xs sm:text-sm md:text-base font-black font-mono tracking-tighter leading-none",p.text),children:m})]}),c.jsx("div",{className:_e("h-6 w-6 sm:h-8 sm:w-9 rounded-lg flex items-center justify-center flex-shrink-0 shadow-sm",p.iconBg),children:c.jsx(n,{className:_e("h-3.5 w-3.5 sm:h-4 sm:w-5",p.iconColor)})})]}),(h||s==="critical"||s==="warning")&&c.jsxs("div",{className:"mt-2 sm:mt-4 pt-2 sm:pt-3 border-t border-black/5 dark:border-white/5 flex items-center gap-2",children:[s==="critical"&&c.jsx(Es,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-red-600 animate-pulse"}),s==="warning"&&c.jsx(Vs,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-amber-600"}),f&&c.jsx(f,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 opacity-70"}),c.jsx("span",{className:"text-[9px] sm:text-[10px] font-bold opacity-80 truncate",children:h||(s==="critical"?"1  ":s==="warning"?"1 ":"")})]})]})})}function vu({title:e,subtitle:t,stats:r,columns:n=2,showStatus:s=!0,compact:i=!1,hideHeader:a=!1}){const o={2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4"};if(a)return c.jsx("div",{className:`grid ${o[n]} gap-1 sm:gap-2`,children:r.map((f,p)=>c.jsxs("div",{className:"relative",children:[f.status==="critical"&&c.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-red-500 rounded-full animate-pulse z-10 border-2 border-white dark:border-slate-900"}),f.status==="warning"&&c.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-amber-500 rounded-full animate-pulse z-10 border-2 border-white dark:border-slate-900"}),c.jsx(OR,{title:f.title,value:f.value,icon:f.icon,color:f.color,formatter:f.formatter}),f.trend&&c.jsx("div",{className:"mt-2 flex items-center gap-1 text-xs",children:f.trend.isPositive?c.jsxs(c.Fragment,{children:[c.jsx(hn,{className:"h-3 w-3 text-green-600"}),c.jsxs("span",{className:"text-green-600",children:["+",f.trend.value,"%"]})]}):c.jsxs(c.Fragment,{children:[c.jsx(oi,{className:"h-3 w-3 text-red-600"}),c.jsxs("span",{className:"text-red-600",children:[f.trend.value,"%"]})]})})]},p))});const u=r.filter(f=>f.status==="critical"),l=r.filter(f=>f.status==="warning"),h=u.length>0?{label:"",color:"destructive"}:l.length>0?{label:"",color:"warning"}:{label:"",color:"default"};return c.jsxs("div",{className:"space-y-3",children:[e&&c.jsx("div",{className:"px-2",children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:e}),t&&c.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:t})]}),s&&c.jsx(ut,{variant:h.color==="default"?"secondary":h.color,className:"text-xs",children:h.label})]})}),c.jsx("div",{className:`grid ${o[n]} gap-1 sm:gap-2`,children:r.map((f,p)=>c.jsxs("div",{className:"relative",children:[f.status==="critical"&&c.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-red-500 rounded-full animate-pulse z-10 border-2 border-white dark:border-slate-900"}),f.status==="warning"&&c.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-amber-500 rounded-full animate-pulse z-10 border-2 border-white dark:border-slate-900"}),c.jsx(OR,{title:f.title,value:f.value,icon:f.icon,color:f.color,formatter:f.formatter}),f.trend&&c.jsx("div",{className:"mt-2 flex items-center gap-1 text-xs",children:f.trend.isPositive?c.jsxs(c.Fragment,{children:[c.jsx(hn,{className:"h-3 w-3 text-green-600"}),c.jsxs("span",{className:"text-green-600",children:["+",f.trend.value,"%"]})]}):c.jsxs(c.Fragment,{children:[c.jsx(oi,{className:"h-3 w-3 text-red-600"}),c.jsxs("span",{className:"text-red-600",children:[f.trend.value,"%"]})]})})]},p))})]})}const bOe={worker_transport:"border-l-blue-500",material_delivery:"border-l-green-500",concrete_transport:"border-l-orange-500",iron_platforms:"border-l-slate-500",fuel_shas:"border-l-red-500",fuel_hilux:"border-l-red-400",loading_unloading:"border-l-amber-500",maintenance:"border-l-purple-500",water_supply:"border-l-cyan-500",other:"border-l-slate-400"},vOe={worker_transport:"text-blue-500",material_delivery:"text-green-500",concrete_transport:"text-orange-500",iron_platforms:"text-slate-500",fuel_shas:"text-red-500",fuel_hilux:"text-red-400",loading_unloading:"text-amber-500",maintenance:"text-purple-500",water_supply:"text-cyan-500",other:"text-slate-400"};function xOe(){gs();const{selectedProjectId:e,isAllProjects:t,getProjectIdForApi:r}=Ao(),[n,s]=E.useState(""),[i,a]=E.useState({dateRange:void 0,specificDate:Ls()}),[o,u]=E.useState(!1),[l,d]=E.useState(null),[h,f]=E.useState(!1),[p,g]=E.useState(""),[y,m]=E.useState(""),[v,b]=E.useState(""),[x,k]=E.useState(Ls()),[T,O]=E.useState(""),[F,A]=E.useState("worker_transport"),[P,D]=E.useState(),{toast:V}=Br(),B=ns(),{setFloatingAction:C}=Io(),I=E.useCallback(()=>{g(""),m(""),b(""),k(Ls()),O(""),A("worker_transport"),D(void 0),d(null),u(!1)},[]);E.useEffect(()=>(C(()=>{u(!0),d(null)},"  "),()=>C(null)),[C]);const{data:N=[]}=nt({queryKey:he.workers}),{data:w,isLoading:_,refetch:S}=nt({queryKey:he.projectTransportation(e,i.specificDate,i.dateRange),queryFn:async()=>{let G=t?"/api/transportation-expenses":`/api/projects/${r()}/transportation-expenses`;const te=new URLSearchParams;i.specificDate&&te.append("date",i.specificDate),i.dateRange?.from&&te.append("dateFrom",eP(i.dateRange.from)),i.dateRange?.to&&te.append("dateTo",eP(i.dateRange.to));const X=te.toString();return await Ie(`${G}${X?`?${X}`:""}`,"GET")},enabled:!!e||t}),{data:j}=nt({queryKey:he.autocompleteTransportCategories,queryFn:async()=>Ie("/api/autocomplete/transport-categories","GET")}),R=E.useMemo(()=>{const G={worker_transport:" ",material_delivery:" ",concrete_transport:" ",iron_platforms:"  ",fuel_shas:" ",fuel_hilux:" ",loading_unloading:" ",maintenance:" ",water_supply:" ",other:""};return j?.data&&j.data.forEach(te=>{G[te.value]=te.label}),G},[j]),$=E.useMemo(()=>{const G=[{value:"all",label:" "},{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}];if(!j?.data)return G;const te=new Set(G.map(ae=>ae.value)),X=j.data.map(ae=>({value:ae.value,label:ae.label})).filter(ae=>!te.has(ae.value));return[...G,...X]},[j]),U=E.useMemo(()=>w?.data||[],[w]),q=E.useMemo(()=>{if(!n)return U;const G=n.toLowerCase();return U.filter(te=>te.description.toLowerCase().includes(G)||te.workerName&&te.workerName.toLowerCase().includes(G)||te.projectName&&te.projectName.toLowerCase().includes(G))},[U,n]),H=E.useMemo(()=>{const G=U.reduce((ie,ce)=>ie+Number(ce.amount),0),te=U.length,X=U.filter(ie=>ie.category==="maintenance").reduce((ie,ce)=>ie+Number(ce.amount),0),ae=U.filter(ie=>ie.category==="fuel_shas"||ie.category==="fuel_hilux").reduce((ie,ce)=>ie+Number(ce.amount),0),re=U.filter(ie=>ie.category==="material_delivery").reduce((ie,ce)=>ie+Number(ce.amount),0),ee=U.filter(ie=>ie.category==="concrete_transport").reduce((ie,ce)=>ie+Number(ce.amount),0),Z=U.filter(ie=>ie.category==="iron_platforms").reduce((ie,ce)=>ie+Number(ce.amount),0),Q=U.filter(ie=>ie.category==="other"||!["maintenance","fuel_shas","fuel_hilux","material_delivery","concrete_transport","iron_platforms"].includes(ie.category)).reduce((ie,ce)=>ie+Number(ce.amount),0);return[{title:"  ",value:ze(G),icon:Jt,color:"blue"},{title:" ",value:te,icon:si,color:"green"},{title:"  ",value:ze(te>0?G/te:0),icon:hn,color:"amber"},{title:" ",value:ze(X),icon:bp,color:"purple"},{title:" ",value:ze(ae),icon:nve,color:"red"},{title:" ",value:ze(re),icon:en,color:"indigo"},{title:" ",value:ze(ee),icon:Gn,color:"orange"},{title:"  ",value:ze(Z),icon:en,color:"slate"},{title:" ",value:ze(Q),icon:Uh,color:"gray"}]},[U]),Y=async()=>{try{const G=new y5.Workbook;G.views=[{activeTab:0,firstSheet:0,showGridLines:!0}];const te=G.addWorksheet(" ",{views:[{rightToLeft:!0}]});te.columns=[{header:"",key:"date",width:15},{header:" / ",key:"description",width:30},{header:" (RY)",key:"amount",width:15},{header:"",key:"category",width:20},{header:"",key:"worker",width:20},{header:" ",key:"well",width:12},{header:"",key:"notes",width:30}];const X=te.getRow(1);X.font={bold:!0,color:{argb:"FFFFFF"},size:12},X.fill={type:"pattern",pattern:"solid",fgColor:{argb:"1E293B"}},X.alignment={vertical:"middle",horizontal:"center"},U.forEach(ee=>{const Z=te.addRow({date:oo(ee.date),description:ee.description,amount:Number(ee.amount),category:R[ee.category]||ee.category||"",worker:N.find(Q=>Q.id===ee.workerId)?.name||" ",well:ee.wellId||"N/A",notes:ee.notes||""});Z.alignment={vertical:"middle",horizontal:"right"},Z.getCell(3).numFmt="#,##0"});const ae=await G.xlsx.writeBuffer(),re=await Mp(ae,`__${new Date().toLocaleDateString("en-GB").replace(/\//g,"-")}.xlsx`);V(re?{title:"  ",description:"    "}:{title:" ",description:"     .   .",variant:"destructive"})}catch(G){console.error("Export error:",G),V({title:"  ",variant:"destructive"})}},M=()=>{s(""),a({dateRange:void 0,specificDate:Ls()}),V({title:"  ",description:"   "})},K=async()=>{f(!0),await S(),f(!1),V({title:" ",description:"   "})},z=ht({mutationFn:async G=>l?Ie(`/api/transportation-expenses/${l}`,"PATCH",G):Ie("/api/transportation-expenses","POST",G),onSuccess:()=>{B.invalidateQueries({queryKey:he.projects}),B.invalidateQueries({queryKey:he.transportationExpenses}),V({title:l?"  ":"  "}),I()},onError:G=>{V({title:"  ",description:G?.message||"   ",variant:"destructive"})}}),L=ht({mutationFn:G=>Ie(`/api/transportation-expenses/${G}`,"DELETE"),onSuccess:()=>{B.invalidateQueries({queryKey:he.projects}),B.invalidateQueries({queryKey:he.transportationExpenses}),V({title:"  "})}}),W=G=>{if(G.preventDefault(),!y||!v){V({title:"",description:"   ",variant:"destructive"});return}z.mutate({projectId:e,workerId:p||null,amount:y,description:v,date:x,category:F,notes:T,wellId:P})},J=G=>{d(G.id),g(G.workerId||""),m(G.amount.toString()),b(G.description),k(G.date),O(G.notes||""),A(G.category||"worker_transport"),D(G.wellId||void 0),u(!0)},le=E.useCallback((G,te)=>{if(G==="specificDate")if(te instanceof Date){const X=te.getFullYear(),ae=String(te.getMonth()+1).padStart(2,"0"),re=String(te.getDate()).padStart(2,"0");a(ee=>({...ee,specificDate:`${X}-${ae}-${re}`,dateRange:void 0}))}else a(X=>({...X,specificDate:void 0}));else a(G==="dateRange"?X=>({...X,[G]:te,specificDate:void 0}):X=>({...X,[G]:te}))},[]),ne=[{key:"specificDate",type:"date",label:" ",placeholder:" "},{key:"dateRange",type:"date-range",label:" "},{key:"category",type:"select",label:"",placeholder:" ",options:$}],ue=[{key:"export",icon:N0,label:" ",onClick:Y,variant:"outline",tooltip:"   "}];return c.jsx("div",{className:"flex flex-col h-full w-full bg-slate-50/50 dark:bg-slate-950/50",children:c.jsx("div",{className:"flex-1 overflow-y-auto pb-24",children:c.jsxs("div",{className:"max-w-7xl mx-auto w-full p-4 space-y-6",children:[c.jsx(vu,{title:"  ",stats:H,columns:3}),c.jsx(ks,{open:o,onOpenChange:u,children:c.jsxs(hs,{className:"sm:max-w-[500px] p-0 overflow-hidden border-none rounded-2xl shadow-2xl",children:[c.jsx(js,{className:"p-6 bg-gradient-to-r from-primary/10 to-primary/5 border-b border-primary/10",children:c.jsxs(zs,{className:"flex items-center gap-3 text-xl font-bold text-primary",children:[c.jsx("div",{className:"p-2 bg-white dark:bg-slate-900 rounded-lg shadow-sm",children:c.jsx(si,{className:"h-5 w-5"})}),l?"  ":"   "]})}),c.jsx("div",{className:"p-4",children:c.jsxs("form",{onSubmit:W,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("div",{className:"col-span-2 space-y-1",children:[c.jsxs(Le,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[c.jsx(du,{className:"h-3 w-3"}),"  / "]}),c.jsx(us,{category:"transport_desc",value:v,onChange:b,placeholder:":    ...",className:"h-9 rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-primary/20",autoWidth:!0,maxWidth:400})]}),c.jsxs("div",{className:"col-span-1 space-y-1",children:[c.jsxs(Le,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[c.jsx(ex,{className:"h-3 w-3"})," "]}),c.jsx(Wn,{options:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}],value:F,onValueChange:G=>A(G),allowCustom:!0,placeholder:" ...",className:"h-9",triggerClassName:"h-9 text-xs"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs(Le,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[c.jsx(Jt,{className:"h-3 w-3"})," "]}),c.jsxs("div",{className:"relative",children:[c.jsx(tt,{type:"number",value:y,onChange:G=>m(G.target.value),placeholder:"0.00",autoWidth:!0,maxWidth:200,className:"min-h-11 rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 pl-7 focus:ring-primary/20 text-xs"}),c.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[9px] font-bold text-slate-400",children:"RY"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs(Le,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[c.jsx(rs,{className:"h-3 w-3"})," "]}),c.jsx(tl,{value:x,onChange:G=>k(G?ur(G,"yyyy-MM-dd"):Ls()),className:"h-9"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs(Le,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[c.jsx(Qn,{className:"h-3 w-3"}),"  ()"]}),c.jsx(yOe,{options:N.map(G=>String(G.name)),value:N.find(G=>G.id===p)?.name||"",onValueChange:G=>{const te=N.find(X=>X.name===G);te&&g(te.id)},placeholder:" ..."})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs(Le,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[c.jsx(q8,{className:"h-3 w-3"})," "]}),c.jsx(Kg,{projectId:e,value:P,onChange:D,showLabel:!1})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:""}),c.jsx(ap,{value:T,onChange:G=>O(G.target.value),placeholder:"  ...",className:"rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-primary/20 text-xs",autoHeight:!0,minRows:2,maxRows:6})]}),c.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[c.jsx(Se,{type:"button",variant:"ghost",onClick:I,className:"flex-1 rounded-lg h-9 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 text-xs font-bold",children:""}),c.jsxs(Se,{type:"submit",className:"flex-[2] rounded-lg h-9 shadow-lg shadow-primary/20 gap-2 text-xs font-bold",disabled:z.isPending,children:[c.jsx(Lc,{className:"h-4 w-4"}),l?"":""]})]})]})})]})}),c.jsx(Qa,{hideHeader:!0,filters:ne,filterValues:{...i,specificDate:i.specificDate?(()=>{const[G,te,X]=i.specificDate.split("-").map(Number);return new Date(G,te-1,X,12,0,0,0)})():void 0},onFilterChange:le,onSearchChange:s,searchValue:n,onReset:M,onRefresh:K,isRefreshing:h,actions:ue,searchPlaceholder:"   ..."}),_?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(G=>c.jsx("div",{className:"h-48 bg-slate-200 animate-pulse rounded-2xl"},G))}):U.length===0?c.jsxs(Pt,{className:"p-12 border-dashed border-2 flex flex-col items-center justify-center text-center bg-transparent rounded-2xl",children:[c.jsx(si,{className:"h-12 w-12 text-slate-300 mb-4"}),c.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"  "}),c.jsx("p",{className:"text-sm text-slate-400 max-w-xs",children:"        ."})]}):c.jsx(Ns,{children:q.map(G=>c.jsx(Gr,{title:G.description,subtitle:(()=>{const te=G.workerName||" ";return t&&G.projectName?`${te} - ${G.projectName}`:te})(),titleIcon:si,className:_e("hover-elevate active-elevate-2 transition-all duration-300 border-l-4 shadow-md hover:shadow-xl group py-2",bOe[G.category]||"border-l-blue-500"),compact:!0,fields:[{label:"",value:ze(Number(G.amount)),icon:Jt,emphasis:!0,color:"success",iconClassName:"text-green-600 dark:text-green-400"},{label:"",value:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}].find(te=>te.value===G.category)?.label||G.category||"",icon:ex,emphasis:!1,iconClassName:vOe[G.category]||"text-blue-500"},{label:"",value:G.date,icon:rs,color:"info",iconClassName:"text-sky-500"},{label:"",value:G.wellId?` ${G.wellId}`:"N/A",icon:q8,hidden:!G.wellId,color:"info",iconClassName:"text-amber-500"}],actions:[{icon:du,label:"",onClick:()=>J(G),variant:"ghost"},{icon:An,label:"",onClick:()=>{confirm("    ")&&L.mutate(G.id)},variant:"ghost"}],footer:G.notes&&c.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-800",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Uh,{className:"h-3 w-3 text-slate-400 mt-0.5"}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("p",{className:"text-[11px] text-slate-600 dark:text-slate-400 leading-relaxed italic",children:G.notes})})]})})},G.id))})]})})})}const We=Symbol.for("drizzle:entityKind");function vs(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,We))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(We in r&&r[We]===t[We])return!0;r=Object.getPrototypeOf(r)}return!1}var j9;j9=We;class op{constructor(t,r){fe(this,"name");fe(this,"keyAsName");fe(this,"primary");fe(this,"notNull");fe(this,"default");fe(this,"defaultFn");fe(this,"onUpdateFn");fe(this,"hasDefault");fe(this,"isUnique");fe(this,"uniqueName");fe(this,"uniqueType");fe(this,"dataType");fe(this,"columnType");fe(this,"enumValues");fe(this,"generated");fe(this,"generatedIdentity");fe(this,"config");this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}fe(op,j9,"Column");var N9;N9=We;class Cee{constructor(t,r,n){fe(this,"config");fe(this,"$default",this.$defaultFn);fe(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}fe(Cee,N9,"ColumnBuilder");const uh=Symbol.for("drizzle:Name");var T9;T9=We;class Aee{constructor(t,r){fe(this,"reference");fe(this,"_onUpdate","no action");fe(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:i}=t();return{name:n,columns:s,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new Pee(t,this)}}fe(Aee,T9,"PgForeignKeyBuilder");var E9;E9=We;class Pee{constructor(t,r){fe(this,"reference");fe(this,"onUpdate");fe(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:n}=this.reference(),s=r.map(o=>o.name),i=n.map(o=>o.name),a=[this.table[uh],...s,n[0].table[uh],...i];return t??`${a.join("_")}_fk`}}fe(Pee,E9,"PgForeignKey");function wOe(e,...t){return e(...t)}function _Oe(e,t){return`${e[uh]}_${t.join("_")}_unique`}function MR(e,t,r){for(let n=t;n<e.length;n++){const s=e[n];if(s==="\\"){n++;continue}if(s==='"')return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(s===","||s==="}"))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function Iee(e,t=0){const r=[];let n=t,s=!1;for(;n<e.length;){const i=e[n];if(i===","){(s||n===t)&&r.push(""),s=!0,n++;continue}if(s=!1,i==="\\"){n+=2;continue}if(i==='"'){const[u,l]=MR(e,n+1,!0);r.push(u),n=l;continue}if(i==="}")return[r,n+1];if(i==="{"){const[u,l]=Iee(e,n+1);r.push(u),n=l;continue}const[a,o]=MR(e,n,!1);r.push(a),n=o}return[r,n]}function SOe(e){const[t]=Iee(e,1);return t}function Ree(e){return`{${e.map(t=>Array.isArray(t)?Ree(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var C9,A9;class _r extends(A9=Cee,C9=We,A9){constructor(){super(...arguments);fe(this,"foreignKeyConfigs",[])}array(r){return new Mee(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>wOe((a,o)=>{const u=new Aee(()=>{const l=a();return{columns:[r],foreignColumns:[l]}});return o.onUpdate&&u.onUpdate(o.onUpdate),o.onDelete&&u.onDelete(o.onDelete),u.build(n)},s,i))}buildExtraConfigColumn(r){return new Oee(r,this.config)}}fe(_r,C9,"PgColumnBuilder");var P9,I9;class nr extends(I9=op,P9=We,I9){constructor(t,r){r.uniqueName||(r.uniqueName=_Oe(t,[r.name])),super(t,r),this.table=t}}fe(nr,P9,"PgColumn");var R9,O9;class Oee extends(O9=nr,R9=We,O9){constructor(){super(...arguments);fe(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});fe(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}fe(Oee,R9,"ExtraConfigColumn");var M9,D9;class Mee extends(D9=_r,M9=We,D9){constructor(t,r,n){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(t){const r=this.config.baseBuilder.build(t);return new Ej(t,this.config,r)}}fe(Mee,M9,"PgArrayBuilder");var $9,L9;const qx=class qx extends(L9=nr,$9=We,L9){constructor(r,n,s,i){super(r,n);fe(this,"size");this.baseColumn=s,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=SOe(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const s=r.map(i=>i===null?null:vs(this.baseColumn,qx)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?s:Ree(s)}};fe(qx,$9,"PgArray");let Ej=qx;const DR=Symbol.for("drizzle:isPgEnum");function kOe(e){return!!e&&typeof e=="function"&&DR in e&&e[DR]===!0}var F9;F9=We;class w5{constructor(t,r,n,s=!1,i=[]){this._={brand:"Subquery",sql:t,selectedFields:r,alias:n,isWith:s,usedTables:i}}}fe(w5,F9,"Subquery");const jOe={startActiveSpan(e,t){return t()}},dh=Symbol.for("drizzle:ViewBaseConfig"),nS=Symbol.for("drizzle:Schema"),$R=Symbol.for("drizzle:Columns"),LR=Symbol.for("drizzle:ExtraConfigColumns"),sS=Symbol.for("drizzle:OriginalName"),iS=Symbol.for("drizzle:BaseName"),Ox=Symbol.for("drizzle:IsAlias"),FR=Symbol.for("drizzle:ExtraConfigBuilder"),Dee=Symbol.for("drizzle:IsDrizzleTable");var z9,B9,U9,V9,W9,q9,H9,K9,G9,Z9,Tb;let xs=(Z9=We,G9=uh,K9=sS,H9=nS,q9=$R,W9=LR,V9=iS,U9=Ox,B9=Dee,z9=FR,Tb=class{constructor(t,r,n){fe(this,G9);fe(this,K9);fe(this,H9);fe(this,q9);fe(this,W9);fe(this,V9);fe(this,U9,!1);fe(this,B9,!0);fe(this,z9);this[uh]=this[sS]=t,this[nS]=r,this[iS]=n}},fe(Tb,Z9,"Table"),fe(Tb,"Symbol",{Name:uh,Schema:nS,OriginalName:sS,Columns:$R,ExtraConfigColumns:LR,BaseName:iS,IsAlias:Ox,ExtraConfigBuilder:FR}),Tb);function $ee(e){return typeof e=="object"&&e!==null&&Dee in e}function NOe(e){return e!=null&&typeof e.getSQL=="function"}function TOe(e){const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),r.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var X9;X9=We;class ja{constructor(t){fe(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new ps([this])}}fe(ja,X9,"StringChunk");var Y9;Y9=We;const Gu=class Gu{constructor(t){fe(this,"decoder",Lee);fe(this,"shouldInlineParams",!1);fe(this,"usedTables",[]);this.queryChunks=t;for(const r of t)if(vs(r,xs)){const n=r[xs.Symbol.Schema];this.usedTables.push(n===void 0?r[xs.Symbol.Name]:n+"."+r[xs.Symbol.Name])}}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return jOe.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,t);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:a,prepareTyping:o,inlineParams:u,paramStartIndex:l}=n;return TOe(t.map(d=>{if(vs(d,ja))return{sql:d.value.join(""),params:[]};if(vs(d,Mx))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new ja("(")];for(const[f,p]of d.entries())h.push(p),f<d.length-1&&h.push(new ja(", "));return h.push(new ja(")")),this.buildQueryFromSourceParams(h,n)}if(vs(d,Gu))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:u||d.shouldInlineParams});if(vs(d,xs)){const h=d[xs.Symbol.Schema],f=d[xs.Symbol.Name];return{sql:h===void 0||d[Ox]?i(f):i(h)+"."+i(f),params:[]}}if(vs(d,op)){const h=s.getColumnCasing(d);if(r.invokeSource==="indexes")return{sql:i(h),params:[]};const f=d.table[xs.Symbol.Schema];return{sql:d.table[Ox]||f===void 0?i(d.table[xs.Symbol.Name])+"."+i(h):i(f)+"."+i(d.table[xs.Symbol.Name])+"."+i(h),params:[]}}if(vs(d,Bee)){const h=d[dh].schema,f=d[dh].name;return{sql:h===void 0||d[dh].isAlias?i(f):i(h)+"."+i(f),params:[]}}if(vs(d,_5)){if(vs(d.value,Dx))return{sql:a(l.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(vs(h,Gu))return this.buildQueryFromSourceParams([h],n);if(u)return{sql:this.mapInlineParam(h,n),params:[]};let f=["none"];return o&&(f=[o(d.encoder)]),{sql:a(l.value++,h),params:[h],typings:f}}return vs(d,Dx)?{sql:a(l.value++,d),params:[d],typings:["none"]}:vs(d,Gu.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:vs(d,w5)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new ja("("),d._.sql,new ja(") "),new Mx(d._.alias)],n):kOe(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:NOe(d)?d.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new ja("("),d.getSQL(),new ja(")")],n):u?{sql:this.mapInlineParam(d,n),params:[]}:{sql:a(l.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const n=t.toString();return r(n==="[object Object]"?JSON.stringify(t):n)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Gu.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};fe(Gu,Y9,"SQL");let ps=Gu;var Q9;Q9=We;class Mx{constructor(t){fe(this,"brand");this.value=t}getSQL(){return new ps([this])}}fe(Mx,Q9,"Name");const Lee={mapFromDriverValue:e=>e},Fee={mapToDriverValue:e=>e};({...Lee,...Fee});var J9;J9=We;class _5{constructor(t,r=Fee){fe(this,"brand");this.value=t,this.encoder=r}getSQL(){return new ps([this])}}fe(_5,J9,"Param");function Kt(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new ja(e[0]));for(const[n,s]of t.entries())r.push(s,new ja(e[n+1]));return new ps(r)}(e=>{function t(){return new ps([])}e.empty=t;function r(u){return new ps(u)}e.fromList=r;function n(u){return new ps([new ja(u)])}e.raw=n;function s(u,l){const d=[];for(const[h,f]of u.entries())h>0&&l!==void 0&&d.push(l),d.push(f);return new ps(d)}e.join=s;function i(u){return new Mx(u)}e.identifier=i;function a(u){return new Dx(u)}e.placeholder=a;function o(u,l){return new _5(u,l)}e.param=o})(Kt||(Kt={}));(e=>{var r;r=We;const n=class n{constructor(i,a){fe(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};fe(n,r,"SQL.Aliased");let t=n;e.Aliased=t})(ps||(ps={}));var eM;eM=We;class Dx{constructor(t){this.name=t}getSQL(){return new ps([this])}}fe(Dx,eM,"Placeholder");const zee=Symbol.for("drizzle:IsDrizzleView");var tM,rM,nM;nM=We,rM=dh,tM=zee;class Bee{constructor({name:t,schema:r,selectedFields:n,query:s}){fe(this,rM);fe(this,tM,!0);this[dh]={name:t,originalName:t,schema:r,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new ps([this])}}fe(Bee,nM,"View");function EOe(e){return typeof e=="object"&&e!==null&&zee in e}op.prototype.getSQL=function(){return new ps([this])};xs.prototype.getSQL=function(){return new ps([this])};w5.prototype.getSQL=function(){return new ps([this])};function COe(e){return e[xs.Symbol.Columns]}function AOe(e){return e[dh].selectedFields}function As(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}typeof TextDecoder>"u"||new TextDecoder;var sM,iM;class _y extends(iM=_r,sM=We,iM){generatedAlwaysAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}fe(_y,sM,"PgIntColumnBaseBuilder");var aM,oM;class Uee extends(oM=_y,aM=We,oM){constructor(t){super(t,"number","PgBigInt53")}build(t){return new Vee(t,this.config)}}fe(Uee,aM,"PgBigInt53Builder");var lM,cM;class Vee extends(cM=nr,lM=We,cM){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}fe(Vee,lM,"PgBigInt53");var uM,dM;class Wee extends(dM=_y,uM=We,dM){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new qee(t,this.config)}}fe(Wee,uM,"PgBigInt64Builder");var fM,hM;class qee extends(hM=nr,fM=We,hM){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}fe(qee,fM,"PgBigInt64");function POe(e,t){const{name:r,config:n}=As(e,t);return n.mode==="number"?new Uee(r):new Wee(r)}var pM,mM;class Hee extends(mM=_r,pM=We,mM){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new Kee(t,this.config)}}fe(Hee,pM,"PgBigSerial53Builder");var gM,yM;class Kee extends(yM=nr,gM=We,yM){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}fe(Kee,gM,"PgBigSerial53");var bM,vM;class Gee extends(vM=_r,bM=We,vM){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new Zee(t,this.config)}}fe(Gee,bM,"PgBigSerial64Builder");var xM,wM;class Zee extends(wM=nr,xM=We,wM){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}fe(Zee,xM,"PgBigSerial64");function IOe(e,t){const{name:r,config:n}=As(e,t);return n.mode==="number"?new Hee(r):new Gee(r)}var _M,SM;class Xee extends(SM=_r,_M=We,SM){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new Yee(t,this.config)}}fe(Xee,_M,"PgBooleanBuilder");var kM,jM;class Yee extends(jM=nr,kM=We,jM){getSQLType(){return"boolean"}}fe(Yee,kM,"PgBoolean");function $t(e){return new Xee(e??"")}var NM,TM;class Qee extends(TM=_r,NM=We,TM){constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new Jee(t,this.config)}}fe(Qee,NM,"PgCharBuilder");var EM,CM;class Jee extends(CM=nr,EM=We,CM){constructor(){super(...arguments);fe(this,"length",this.config.length);fe(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}fe(Jee,EM,"PgChar");function ROe(e,t={}){const{name:r,config:n}=As(e,t);return new Qee(r,n)}var AM,PM;class ete extends(PM=_r,AM=We,PM){constructor(t){super(t,"string","PgCidr")}build(t){return new tte(t,this.config)}}fe(ete,AM,"PgCidrBuilder");var IM,RM;class tte extends(RM=nr,IM=We,RM){getSQLType(){return"cidr"}}fe(tte,IM,"PgCidr");function OOe(e){return new ete(e??"")}var OM,MM;class rte extends(MM=_r,OM=We,MM){constructor(t,r,n){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(t){return new nte(t,this.config)}}fe(rte,OM,"PgCustomColumnBuilder");var DM,$M;class nte extends($M=nr,DM=We,$M){constructor(r,n){super(r,n);fe(this,"sqlName");fe(this,"mapTo");fe(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}fe(nte,DM,"PgCustomColumn");function MOe(e){return(t,r)=>{const{name:n,config:s}=As(t,r);return new rte(n,s,e)}}var LM,FM;class Dp extends(FM=_r,LM=We,FM){defaultNow(){return this.default(Kt`now()`)}}fe(Dp,LM,"PgDateColumnBaseBuilder");var zM,BM;class ste extends(BM=Dp,zM=We,BM){constructor(t){super(t,"date","PgDate")}build(t){return new ite(t,this.config)}}fe(ste,zM,"PgDateBuilder");var UM,VM;class ite extends(VM=nr,UM=We,VM){getSQLType(){return"date"}mapFromDriverValue(t){return typeof t=="string"?new Date(t):t}mapToDriverValue(t){return t.toISOString()}}fe(ite,UM,"PgDate");var WM,qM;class ate extends(qM=Dp,WM=We,qM){constructor(t){super(t,"string","PgDateString")}build(t){return new ote(t,this.config)}}fe(ate,WM,"PgDateStringBuilder");var HM,KM;class ote extends(KM=nr,HM=We,KM){getSQLType(){return"date"}mapFromDriverValue(t){return typeof t=="string"?t:t.toISOString().slice(0,-14)}}fe(ote,HM,"PgDateString");function xu(e,t){const{name:r,config:n}=As(e,t);return n?.mode==="date"?new ste(r):new ate(r)}var GM,ZM;class lte extends(ZM=_r,GM=We,ZM){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new cte(t,this.config)}}fe(lte,GM,"PgDoublePrecisionBuilder");var XM,YM;class cte extends(YM=nr,XM=We,YM){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}fe(cte,XM,"PgDoublePrecision");function DOe(e){return new lte(e??"")}var QM,JM;class ute extends(JM=_r,QM=We,JM){constructor(t){super(t,"string","PgInet")}build(t){return new dte(t,this.config)}}fe(ute,QM,"PgInetBuilder");var eD,tD;class dte extends(tD=nr,eD=We,tD){getSQLType(){return"inet"}}fe(dte,eD,"PgInet");function cf(e){return new ute(e??"")}var rD,nD;class fte extends(nD=_y,rD=We,nD){constructor(t){super(t,"number","PgInteger")}build(t){return new hte(t,this.config)}}fe(fte,rD,"PgIntegerBuilder");var sD,iD;class hte extends(iD=nr,sD=We,iD){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}fe(hte,sD,"PgInteger");function Nt(e){return new fte(e??"")}var aD,oD;class pte extends(oD=_r,aD=We,oD){constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new mte(t,this.config)}}fe(pte,aD,"PgIntervalBuilder");var lD,cD;class mte extends(cD=nr,lD=We,cD){constructor(){super(...arguments);fe(this,"fields",this.config.intervalConfig.fields);fe(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}fe(mte,lD,"PgInterval");function $Oe(e,t={}){const{name:r,config:n}=As(e,t);return new pte(r,n)}var uD,dD;class gte extends(dD=_r,uD=We,dD){constructor(t){super(t,"json","PgJson")}build(t){return new yte(t,this.config)}}fe(gte,uD,"PgJsonBuilder");var fD,hD;class yte extends(hD=nr,fD=We,hD){constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}fe(yte,fD,"PgJson");function LOe(e){return new gte(e??"")}var pD,mD;class bte extends(mD=_r,pD=We,mD){constructor(t){super(t,"json","PgJsonb")}build(t){return new vte(t,this.config)}}fe(bte,pD,"PgJsonbBuilder");var gD,yD;class vte extends(yD=nr,gD=We,yD){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}fe(vte,gD,"PgJsonb");function br(e){return new bte(e??"")}var bD,vD;class xte extends(vD=_r,bD=We,vD){constructor(t){super(t,"array","PgLine")}build(t){return new wte(t,this.config)}}fe(xte,bD,"PgLineBuilder");var xD,wD;class wte extends(wD=nr,xD=We,wD){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,s]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}fe(wte,xD,"PgLine");var _D,SD;class _te extends(SD=_r,_D=We,SD){constructor(t){super(t,"json","PgLineABC")}build(t){return new Ste(t,this.config)}}fe(_te,_D,"PgLineABCBuilder");var kD,jD;class Ste extends(jD=nr,kD=We,jD){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,s]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}fe(Ste,kD,"PgLineABC");function FOe(e,t){const{name:r,config:n}=As(e,t);return!n?.mode||n.mode==="tuple"?new xte(r):new _te(r)}var ND,TD;class kte extends(TD=_r,ND=We,TD){constructor(t){super(t,"string","PgMacaddr")}build(t){return new jte(t,this.config)}}fe(kte,ND,"PgMacaddrBuilder");var ED,CD;class jte extends(CD=nr,ED=We,CD){getSQLType(){return"macaddr"}}fe(jte,ED,"PgMacaddr");function zOe(e){return new kte(e??"")}var AD,PD;class Nte extends(PD=_r,AD=We,PD){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new Tte(t,this.config)}}fe(Nte,AD,"PgMacaddr8Builder");var ID,RD;class Tte extends(RD=nr,ID=We,RD){getSQLType(){return"macaddr8"}}fe(Tte,ID,"PgMacaddr8");function BOe(e){return new Nte(e??"")}var OD,MD;class Ete extends(MD=_r,OD=We,MD){constructor(t,r,n){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(t){return new Cte(t,this.config)}}fe(Ete,OD,"PgNumericBuilder");var DD,$D;class Cte extends($D=nr,DD=We,$D){constructor(r,n){super(r,n);fe(this,"precision");fe(this,"scale");this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(r){return typeof r=="string"?r:String(r)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}fe(Cte,DD,"PgNumeric");var LD,FD;class Ate extends(FD=_r,LD=We,FD){constructor(t,r,n){super(t,"number","PgNumericNumber"),this.config.precision=r,this.config.scale=n}build(t){return new Pte(t,this.config)}}fe(Ate,LD,"PgNumericNumberBuilder");var zD,BD;class Pte extends(BD=nr,zD=We,BD){constructor(r,n){super(r,n);fe(this,"precision");fe(this,"scale");fe(this,"mapToDriverValue",String);this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}fe(Pte,zD,"PgNumericNumber");var UD,VD;class Ite extends(VD=_r,UD=We,VD){constructor(t,r,n){super(t,"bigint","PgNumericBigInt"),this.config.precision=r,this.config.scale=n}build(t){return new Rte(t,this.config)}}fe(Ite,UD,"PgNumericBigIntBuilder");var WD,qD;class Rte extends(qD=nr,WD=We,qD){constructor(r,n){super(r,n);fe(this,"precision");fe(this,"scale");fe(this,"mapFromDriverValue",BigInt);fe(this,"mapToDriverValue",String);this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}fe(Rte,WD,"PgNumericBigInt");function Ote(e,t){const{name:r,config:n}=As(e,t),s=n?.mode;return s==="number"?new Ate(r,n?.precision,n?.scale):s==="bigint"?new Ite(r,n?.precision,n?.scale):new Ete(r,n?.precision,n?.scale)}const Et=Ote;var HD,KD;class Mte extends(KD=_r,HD=We,KD){constructor(t){super(t,"array","PgPointTuple")}build(t){return new Dte(t,this.config)}}fe(Mte,HD,"PgPointTupleBuilder");var GD,ZD;class Dte extends(ZD=nr,GD=We,ZD){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}fe(Dte,GD,"PgPointTuple");var XD,YD;class $te extends(YD=_r,XD=We,YD){constructor(t){super(t,"json","PgPointObject")}build(t){return new Lte(t,this.config)}}fe($te,XD,"PgPointObjectBuilder");var QD,JD;class Lte extends(JD=nr,QD=We,JD){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}fe(Lte,QD,"PgPointObject");function UOe(e,t){const{name:r,config:n}=As(e,t);return!n?.mode||n.mode==="tuple"?new Mte(r):new $te(r)}function VOe(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function zR(e,t){const r=new ArrayBuffer(8),n=new DataView(r);for(let s=0;s<8;s++)n.setUint8(s,e[t+s]);return n.getFloat64(0,!0)}function Fte(e){const t=VOe(e);let r=0;const n=t[r];r+=1;const s=new DataView(t.buffer),i=s.getUint32(r,n===1);if(r+=4,i&536870912&&(s.getUint32(r,n===1),r+=4),(i&65535)===1){const a=zR(t,r);r+=8;const o=zR(t,r);return r+=8,[a,o]}throw new Error("Unsupported geometry type")}var e7,t7;class zte extends(t7=_r,e7=We,t7){constructor(t){super(t,"array","PgGeometry")}build(t){return new Bte(t,this.config)}}fe(zte,e7,"PgGeometryBuilder");var r7,n7;class Bte extends(n7=nr,r7=We,n7){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return Fte(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}fe(Bte,r7,"PgGeometry");var s7,i7;class Ute extends(i7=_r,s7=We,i7){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new Vte(t,this.config)}}fe(Ute,s7,"PgGeometryObjectBuilder");var a7,o7;class Vte extends(o7=nr,a7=We,o7){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=Fte(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}fe(Vte,a7,"PgGeometryObject");function WOe(e,t){const{name:r,config:n}=As(e,t);return!n?.mode||n.mode==="tuple"?new zte(r):new Ute(r)}var l7,c7;class Wte extends(c7=_r,l7=We,c7){constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new qte(t,this.config)}}fe(Wte,l7,"PgRealBuilder");var u7,d7;class qte extends(d7=nr,u7=We,d7){constructor(r,n){super(r,n);fe(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}fe(qte,u7,"PgReal");function qOe(e){return new Wte(e??"")}var f7,h7;class Hte extends(h7=_r,f7=We,h7){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new Kte(t,this.config)}}fe(Hte,f7,"PgSerialBuilder");var p7,m7;class Kte extends(m7=nr,p7=We,m7){getSQLType(){return"serial"}}fe(Kte,p7,"PgSerial");function Zn(e){return new Hte(e??"")}var g7,y7;class Gte extends(y7=_y,g7=We,y7){constructor(t){super(t,"number","PgSmallInt")}build(t){return new Zte(t,this.config)}}fe(Gte,g7,"PgSmallIntBuilder");var b7,v7;class Zte extends(v7=nr,b7=We,v7){constructor(){super(...arguments);fe(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}fe(Zte,b7,"PgSmallInt");function HOe(e){return new Gte(e??"")}var x7,w7;class Xte extends(w7=_r,x7=We,w7){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new Yte(t,this.config)}}fe(Xte,x7,"PgSmallSerialBuilder");var _7,S7;class Yte extends(S7=nr,_7=We,S7){getSQLType(){return"smallserial"}}fe(Yte,_7,"PgSmallSerial");function KOe(e){return new Xte(e??"")}var k7,j7;class Qte extends(j7=_r,k7=We,j7){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new Jte(t,this.config)}}fe(Qte,k7,"PgTextBuilder");var N7,T7;class Jte extends(T7=nr,N7=We,T7){constructor(){super(...arguments);fe(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}fe(Jte,N7,"PgText");function me(e,t={}){const{name:r,config:n}=As(e,t);return new Qte(r,n)}var E7,C7;class ere extends(C7=Dp,E7=We,C7){constructor(t,r,n){super(t,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(t){return new tre(t,this.config)}}fe(ere,E7,"PgTimeBuilder");var A7,P7;class tre extends(P7=nr,A7=We,P7){constructor(r,n){super(r,n);fe(this,"withTimezone");fe(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}fe(tre,A7,"PgTime");function GOe(e,t={}){const{name:r,config:n}=As(e,t);return new ere(r,n.withTimezone??!1,n.precision)}var I7,R7;class rre extends(R7=Dp,I7=We,R7){constructor(t,r,n){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(t){return new nre(t,this.config)}}fe(rre,I7,"PgTimestampBuilder");var O7,M7;class nre extends(M7=nr,O7=We,M7){constructor(r,n){super(r,n);fe(this,"withTimezone");fe(this,"precision");fe(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(r){return typeof r=="string"?new Date(this.withTimezone?r:r+"+0000"):r}}fe(nre,O7,"PgTimestamp");var D7,$7;class sre extends($7=Dp,D7=We,$7){constructor(t,r,n){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(t){return new ire(t,this.config)}}fe(sre,D7,"PgTimestampStringBuilder");var L7,F7;class ire extends(F7=nr,L7=We,F7){constructor(r,n){super(r,n);fe(this,"withTimezone");fe(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(r){if(typeof r=="string")return r;const n=r.toISOString().slice(0,-1).replace("T"," ");if(this.withTimezone){const s=r.getTimezoneOffset(),i=s<=0?"+":"-";return`${n}${i}${Math.floor(Math.abs(s)/60).toString().padStart(2,"0")}`}return n}}fe(ire,L7,"PgTimestampString");function Ue(e,t={}){const{name:r,config:n}=As(e,t);return n?.mode==="string"?new sre(r,n.withTimezone??!1,n.precision):new rre(r,n?.withTimezone??!1,n?.precision)}var z7,B7;class are extends(B7=_r,z7=We,B7){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Kt`gen_random_uuid()`)}build(t){return new ore(t,this.config)}}fe(are,z7,"PgUUIDBuilder");var U7,V7;class ore extends(V7=nr,U7=We,V7){getSQLType(){return"uuid"}}fe(ore,U7,"PgUUID");function ki(e){return new are(e??"")}var W7,q7;class lre extends(q7=_r,W7=We,q7){constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new cre(t,this.config)}}fe(lre,W7,"PgVarcharBuilder");var H7,K7;class cre extends(K7=nr,H7=We,K7){constructor(){super(...arguments);fe(this,"length",this.config.length);fe(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}fe(cre,H7,"PgVarchar");function Ne(e,t={}){const{name:r,config:n}=As(e,t);return new lre(r,n)}var G7,Z7;class ure extends(Z7=_r,G7=We,Z7){constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new dre(t,this.config)}}fe(ure,G7,"PgBinaryVectorBuilder");var X7,Y7;class dre extends(Y7=nr,X7=We,Y7){constructor(){super(...arguments);fe(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}fe(dre,X7,"PgBinaryVector");function ZOe(e,t){const{name:r,config:n}=As(e,t);return new ure(r,n)}var Q7,J7;class fre extends(J7=_r,Q7=We,J7){constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new hre(t,this.config)}}fe(fre,Q7,"PgHalfVectorBuilder");var e$,t$;class hre extends(t$=nr,e$=We,t$){constructor(){super(...arguments);fe(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}fe(hre,e$,"PgHalfVector");function XOe(e,t){const{name:r,config:n}=As(e,t);return new fre(r,n)}var r$,n$;class pre extends(n$=_r,r$=We,n$){constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new mre(t,this.config)}}fe(pre,r$,"PgSparseVectorBuilder");var s$,i$;class mre extends(i$=nr,s$=We,i$){constructor(){super(...arguments);fe(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}fe(mre,s$,"PgSparseVector");function YOe(e,t){const{name:r,config:n}=As(e,t);return new pre(r,n)}var a$,o$;class gre extends(o$=_r,a$=We,o$){constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new yre(t,this.config)}}fe(gre,a$,"PgVectorBuilder");var l$,c$;class yre extends(c$=nr,l$=We,c$){constructor(){super(...arguments);fe(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}fe(yre,l$,"PgVector");function QOe(e,t){const{name:r,config:n}=As(e,t);return new gre(r,n)}function JOe(){return{bigint:POe,bigserial:IOe,boolean:$t,char:ROe,cidr:OOe,customType:MOe,date:xu,doublePrecision:DOe,inet:cf,integer:Nt,interval:$Oe,json:LOe,jsonb:br,line:FOe,macaddr:zOe,macaddr8:BOe,numeric:Ote,point:UOe,geometry:WOe,real:qOe,serial:Zn,smallint:HOe,smallserial:KOe,text:me,time:GOe,timestamp:Ue,uuid:ki,varchar:Ne,bit:ZOe,halfvec:XOe,sparsevec:YOe,vector:QOe}}const Cj=Symbol.for("drizzle:PgInlineForeignKeys"),BR=Symbol.for("drizzle:EnableRLS");var u$,d$,f$,h$,p$,m$;class tg extends(m$=xs,p$=We,h$=Cj,f$=BR,d$=xs.Symbol.ExtraConfigBuilder,u$=xs.Symbol.ExtraConfigColumns,m$){constructor(){super(...arguments);fe(this,h$,[]);fe(this,f$,!1);fe(this,d$);fe(this,u$,{})}}fe(tg,p$,"PgTable"),fe(tg,"Symbol",Object.assign({},xs.Symbol,{InlineForeignKeys:Cj,EnableRLS:BR}));function e9e(e,t,r,n,s=e){const i=new tg(e,n,s),a=typeof t=="function"?t(JOe()):t,o=Object.fromEntries(Object.entries(a).map(([d,h])=>{const f=h;f.setName(d);const p=f.build(i);return i[Cj].push(...f.buildForeignKeys(p,i)),[d,p]})),u=Object.fromEntries(Object.entries(a).map(([d,h])=>{const f=h;f.setName(d);const p=f.buildExtraConfigColumn(i);return[d,p]})),l=Object.assign(i,o);return l[xs.Symbol.Columns]=o,l[xs.Symbol.ExtraConfigColumns]=u,r&&(l[tg.Symbol.ExtraConfigBuilder]=r),Object.assign(l,{enableRLS:()=>(l[tg.Symbol.EnableRLS]=!0,l)})}const xt=(e,t,r)=>e9e(e,t,r,void 0),jn={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function qn(e,t){return t.includes(e.columnType)}function t9e(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const r9e=jp([gr(),pw(),G0(),gw()]),n9e=jp([r9e,vw(gr(),Mg()),kp(Mg())]),s9e=LE(e=>e instanceof Buffer);function bre(e,t){const r=eke,n={};let s;return t9e(e)&&(s=e.enumValues.length?r.enum(e.enumValues):r.string()),s||(qn(e,["PgGeometry","PgPointTuple"])?s=r.tuple([r.number(),r.number()]):qn(e,["PgGeometryObject","PgPointObject"])?s=r.object({x:r.number(),y:r.number()}):qn(e,["PgHalfVector","PgVector"])?(s=r.array(r.number()),s=e.dimensions?s.length(e.dimensions):s):qn(e,["PgLine"])?s=r.tuple([r.number(),r.number(),r.number()]):qn(e,["PgLineABC"])?s=r.object({a:r.number(),b:r.number(),c:r.number()}):qn(e,["PgArray"])?(s=r.array(bre(e.baseColumn)),s=e.size?s.length(e.size):s):e.dataType==="array"?s=r.array(r.any()):e.dataType==="number"?s=i9e(e,r,n):e.dataType==="bigint"?s=a9e(e,r,n):e.dataType==="boolean"?s=n===!0||n.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?s=n===!0||n.date?r.coerce.date():r.date():e.dataType==="string"?s=o9e(e,r,n):e.dataType==="json"?s=n9e:e.dataType==="custom"?s=r.any():e.dataType==="buffer"&&(s=s9e)),s||(s=r.any()),s}function i9e(e,t,r){let n=e.getSQLType().includes("unsigned"),s,i,a=!1;qn(e,["MySqlTinyInt","SingleStoreTinyInt"])?(s=n?0:jn.INT8_MIN,i=n?jn.INT8_UNSIGNED_MAX:jn.INT8_MAX,a=!0):qn(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=n?0:jn.INT16_MIN,i=n?jn.INT16_UNSIGNED_MAX:jn.INT16_MAX,a=!0):qn(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=n?0:jn.INT24_MIN,i=n?jn.INT24_UNSIGNED_MAX:jn.INT24_MAX,a=qn(e,["MySqlMediumInt","SingleStoreMediumInt"])):qn(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=n?0:jn.INT32_MIN,i=n?jn.INT32_UNSIGNED_MAX:jn.INT32_MAX,a=!0):qn(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=n?0:jn.INT48_MIN,i=n?jn.INT48_UNSIGNED_MAX:jn.INT48_MAX):qn(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||qn(e,["MySqlSerial","SingleStoreSerial"]),s=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,a=!0):qn(e,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,a=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let o=r===!0||r?.number?a?t.coerce.number():t.coerce.number().int():a?t.int():t.number();return o=o.gte(s).lte(i),o}function a9e(e,t,r){const n=e.getSQLType().includes("unsigned"),s=n?0n:jn.INT64_MIN,i=n?jn.INT64_UNSIGNED_MAX:jn.INT64_MAX;return(r===!0||r?.bigint?t.coerce.bigint():t.bigint()).gte(s).lte(i)}function o9e(e,t,r){if(qn(e,["PgUUID"]))return t.uuid();let n,s,i=!1;qn(e,["PgVarchar","SQLiteText"])?n=e.length:qn(e,["MySqlVarChar","SingleStoreVarChar"])?n=e.length??jn.INT16_UNSIGNED_MAX:qn(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?n=jn.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?n=jn.INT24_UNSIGNED_MAX:e.textType==="text"?n=jn.INT16_UNSIGNED_MAX:n=jn.INT8_UNSIGNED_MAX),qn(e,["PgChar","MySqlChar","SingleStoreChar"])&&(n=e.length,i=!0),qn(e,["PgBinaryVector"])&&(s=/^[01]+$/,n=e.dimensions);let a=r===!0||r?.string?t.coerce.string():t.string();return a=s?a.regex(s):a,n&&i?a.length(n):n?a.max(n):a}function vre(e){return $ee(e)?COe(e):AOe(e)}function xre(e,t,r,n){const s={};for(const[i,a]of Object.entries(e)){if(!vs(a,op)&&!vs(a,ps)&&!vs(a,ps.Aliased)&&typeof a=="object"){const h=$ee(a)||EOe(a)?vre(a):a;s[i]=xre(h,t[i]??{},r);continue}const o=t[i];if(o!==void 0&&typeof o!="function"){s[i]=o;continue}const u=vs(a,op)?a:void 0,l=u?bre(u):Mg(),d=typeof o=="function"?o(l):l;r.never(u)||(s[i]=d,u&&(r.nullable(u)&&(s[i]=s[i].nullable()),r.optional(u)&&(s[i]=s[i].optional())))}return Au(s)}const l9e={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},It=(e,t)=>{const r=vre(e);return xre(r,{},l9e)},c9e=xt("devices",{id:Zn("id").primaryKey(),deviceId:me("device_id").notNull().unique(),model:me("model"),manufacturer:me("manufacturer"),osVersion:me("os_version"),sdkVersion:Nt("sdk_version"),appVersion:me("app_version"),lastSeen:Ue("last_seen").defaultNow(),metadata:br("metadata")}),u9e=xt("crashes",{id:Zn("id").primaryKey(),deviceId:me("device_id").notNull(),exceptionType:me("exception_type"),message:me("message"),stackTrace:me("stack_trace"),severity:me("severity"),appState:br("app_state"),metadata:br("metadata"),timestamp:Ue("timestamp").defaultNow(),appVersion:me("app_version")}),d9e=xt("metrics",{id:Zn("id").primaryKey(),deviceId:me("device_id").notNull(),metricName:me("metric_name").notNull(),value:Et("value",{precision:20,scale:4}).notNull(),unit:me("unit"),attributes:br("attributes"),timestamp:Ue("timestamp").defaultNow()});It(c9e).omit({id:!0,lastSeen:!0});It(u9e).omit({id:!0,timestamp:!0});It(d9e).omit({id:!0,timestamp:!0});const Sy={isLocal:$t("is_local").default(!1),synced:$t("synced").default(!0),pendingSync:$t("pending_sync").default(!1),version:Nt("version").default(1).notNull(),lastModifiedBy:Ne("last_modified_by")},Qr=xt("users",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),email:me("email").notNull().unique(),password:me("password").notNull(),passwordAlgo:me("password_algo").default("argon2id").notNull(),firstName:me("first_name"),lastName:me("last_name"),fullName:me("full_name"),phone:me("phone"),birthDate:me("birth_date"),birthPlace:me("birth_place"),gender:me("gender"),role:me("role").notNull().default("admin"),isActive:$t("is_active").default(!0).notNull(),notificationsEnabled:$t("notifications_enabled").default(!1).notNull(),emailVerifiedAt:Ue("email_verified_at"),totpSecret:me("totp_secret"),mfaEnabled:$t("mfa_enabled").default(!1).notNull(),fcmToken:me("fcm_token"),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull(),lastLogin:Ue("last_login"),refreshTokenHash:me("refresh_token_hash"),refreshTokenExpiresAt:Ue("refresh_token_expires_at"),isLocal:$t("is_local").default(!1),synced:$t("synced").default(!0),pendingSync:$t("pending_sync").default(!1),version:Nt("version").default(1).notNull(),lastModifiedBy:Ne("last_modified_by")},e=>({})),f9e=xt("refresh_tokens",{id:ki("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Qr.id,{onDelete:"cascade"}),tokenHash:me("token_hash").notNull(),replacedBy:ki("replaced_by"),revoked:$t("revoked").default(!1).notNull(),expiresAt:Ue("expires_at").notNull(),ipAddress:me("ip_address"),userAgent:me("user_agent"),deviceFingerprint:me("device_fingerprint"),createdAt:Ue("created_at").defaultNow().notNull()}),h9e=xt("audit_logs",{id:Zn("id").primaryKey(),userId:Ne("user_id").references(()=>Qr.id),action:me("action").notNull(),meta:br("meta"),ipAddress:me("ip_address"),createdAt:Ue("created_at").defaultNow().notNull()});xt("emergency_users",{id:Ne("id").primaryKey(),email:me("email").notNull().unique(),password:me("password").notNull(),name:me("name").notNull(),role:me("role").notNull().default("admin"),createdAt:Ue("created_at").defaultNow().notNull()});const p9e=xt("tasks",{id:Zn("id").primaryKey(),title:me("title").notNull(),description:me("description"),completed:$t("completed").notNull().default(!1),createdAt:Ue("created_at").defaultNow().notNull()});It(p9e).omit({id:!0,createdAt:!0});const m9e=xt("auth_user_sessions",{id:ki("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Qr.id),sessionToken:Ne("session_token"),deviceFingerprint:Ne("device_fingerprint"),userAgent:me("user_agent"),ipAddress:cf("ip_address"),locationData:br("location_data"),isTrustedDevice:$t("is_trusted_device").default(!1).notNull(),expiresAt:Ue("expires_at").notNull(),lastActivity:Ue("last_activity").defaultNow(),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull(),deviceId:Ne("device_id"),deviceName:Ne("device_name"),browserName:Ne("browser_name"),browserVersion:Ne("browser_version"),osName:Ne("os_name"),osVersion:Ne("os_version"),country:Ne("country"),city:Ne("city"),timezone:Ne("timezone"),loginMethod:Ne("login_method"),securityFlags:br("security_flags"),deviceType:Ne("device_type"),refreshTokenHash:me("refresh_token_hash"),accessTokenHash:me("access_token_hash"),isRevoked:$t("is_revoked").default(!1).notNull(),revokedAt:Ue("revoked_at",{withTimezone:!0}),revokedReason:Ne("revoked_reason")}),g9e=xt("notifications",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").references(()=>Qr.id),title:me("title").notNull(),body:me("body").notNull(),message:me("message"),type:me("type").notNull().default("system"),priority:Nt("priority").default(3),projectId:Ne("project_id").references(()=>sn.id),createdBy:Ne("created_by").references(()=>Qr.id),recipients:me("recipients").array(),payload:br("payload"),meta:br("meta"),readBy:me("read_by").array(),deliveredTo:me("delivered_to").array(),scheduledAt:Ue("scheduled_at"),channelPreference:br("channel_preference"),isRead:$t("is_read").default(!1).notNull(),targetPlatform:me("target_platform").default("all").notNull(),createdAt:Ue("created_at").defaultNow().notNull(),isLocal:$t("is_local").default(!1),synced:$t("synced").default(!0),pendingSync:$t("pending_sync").default(!1)});It(g9e).omit({id:!0,createdAt:!0,isRead:!0});xt("email_verification_tokens",{id:ki("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Qr.id),email:me("email").notNull(),token:Ne("token").notNull().unique(),tokenHash:Ne("token_hash").notNull(),verificationLink:me("verification_link").notNull(),expiresAt:Ue("expires_at").notNull(),verifiedAt:Ue("verified_at"),createdAt:Ue("created_at").defaultNow().notNull(),ipAddress:cf("ip_address"),userAgent:me("user_agent"),attemptsCount:Nt("attempts_count").default(0).notNull()});xt("password_reset_tokens",{id:ki("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Qr.id),token:Ne("token").notNull().unique(),tokenHash:Ne("token_hash").notNull(),expiresAt:Ue("expires_at").notNull(),usedAt:Ue("used_at"),createdAt:Ue("created_at").defaultNow().notNull(),ipAddress:cf("ip_address"),userAgent:me("user_agent")});const wre=xt("project_types",{id:Zn("id").primaryKey(),name:Ne("name",{length:100}).notNull().unique(),description:me("description"),isActive:$t("is_active").default(!0).notNull(),createdAt:Ue("created_at").defaultNow().notNull(),...Sy},e=>({uniqueProjectTypeName:Kt`UNIQUE ("name")`})),sn=xt("projects",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),name:me("name").notNull(),description:me("description"),location:me("location"),clientName:me("client_name"),budget:Et("budget",{precision:15,scale:2}),startDate:xu("start_date"),endDate:xu("end_date"),status:me("status").notNull().default("active"),engineerId:Ne("engineer_id"),managerName:me("manager_name"),contactPhone:me("contact_phone"),notes:me("notes"),imageUrl:me("image_url"),projectTypeId:Nt("project_type_id").references(()=>wre.id,{onDelete:"set null"}),isActive:$t("is_active").default(!0).notNull(),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull(),...Sy},e=>({uniqueProjectName:Kt`UNIQUE ("name")`})),uf=xt("workers",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),name:me("name").notNull(),type:me("type").notNull(),dailyWage:Et("daily_wage",{precision:15,scale:2}).notNull(),phone:me("phone"),hireDate:me("hire_date"),isActive:$t("is_active").default(!0).notNull(),createdAt:Ue("created_at").defaultNow().notNull(),...Sy},e=>({uniqueWorkerName:Kt`UNIQUE ("name")`})),oc=xt("wells",{id:Zn("id").primaryKey(),projectId:Ne("project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),wellNumber:Nt("well_number").notNull(),ownerName:me("owner_name").notNull(),region:Ne("region",{length:100}).notNull(),numberOfBases:Nt("number_of_bases").notNull(),baseCount:Nt("base_count"),numberOfPanels:Nt("number_of_panels").notNull(),panelCount:Nt("panel_count"),wellDepth:Nt("well_depth").notNull(),waterLevel:Nt("water_level"),numberOfPipes:Nt("number_of_pipes").notNull(),pipeCount:Nt("pipe_count"),fanType:Ne("fan_type",{length:100}),pumpPower:Nt("pump_power"),status:me("status").notNull().default("pending"),completionPercentage:Et("completion_percentage",{precision:5,scale:2}).default("0").notNull(),startDate:xu("start_date"),completionDate:xu("completion_date"),notes:me("notes"),createdBy:Ne("created_by").notNull().references(()=>Qr.id),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull(),...Sy},e=>({uniqueWellNumberInProject:Kt`UNIQUE (project_id, well_number)`})),y9e=xt("fund_transfers",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),amount:Et("amount",{precision:15,scale:2}).notNull(),senderName:me("sender_name"),transferNumber:me("transfer_number").unique(),transferType:me("transfer_type").notNull(),transferDate:me("transfer_date").notNull(),notes:me("notes"),createdAt:Ue("created_at").defaultNow().notNull()}),b9e=xt("worker_attendance",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),workerId:Ne("worker_id").notNull().references(()=>uf.id,{onDelete:"cascade"}),attendanceDate:me("attendance_date").notNull(),date:me("date"),startTime:me("start_time"),endTime:me("end_time"),workDescription:me("work_description"),isPresent:$t("is_present"),hoursWorked:Et("hours_worked",{precision:5,scale:2}).default("8.00"),overtime:Et("overtime",{precision:5,scale:2}).default("0.00"),overtimeRate:Et("overtime_rate",{precision:15,scale:2}).default("0.00"),workDays:Et("work_days",{precision:10,scale:2}).default("0.00"),dailyWage:Et("daily_wage",{precision:15,scale:2}).notNull(),actualWage:Et("actual_wage",{precision:15,scale:2}),totalPay:Et("total_pay",{precision:15,scale:2}).notNull(),paidAmount:Et("paid_amount",{precision:15,scale:2}).default("0"),remainingAmount:Et("remaining_amount",{precision:15,scale:2}).default("0"),paymentType:me("payment_type").default("partial"),notes:me("notes"),wellId:Nt("well_id").references(()=>oc.id,{onDelete:"set null"}),createdAt:Ue("created_at").defaultNow().notNull()},e=>({uniqueWorkerDate:Kt`UNIQUE (worker_id, attendance_date, project_id)`})),S5=xt("suppliers",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),name:me("name").notNull().unique(),contactPerson:me("contact_person"),phone:me("phone"),address:me("address"),paymentTerms:me("payment_terms").default(""),totalDebt:Et("total_debt",{precision:12,scale:2}).default("0").notNull(),isActive:$t("is_active").default(!0).notNull(),notes:me("notes"),createdAt:Ue("created_at").defaultNow().notNull()}),_re=xt("materials",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),name:me("name").notNull(),category:me("category").notNull(),unit:me("unit").notNull(),createdAt:Ue("created_at").defaultNow().notNull()}),Sre=xt("material_purchases",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),supplierId:Ne("supplier_id").references(()=>S5.id,{onDelete:"set null"}),materialId:Ne("material_id").references(()=>_re.id,{onDelete:"set null"}),materialName:me("material_name").notNull(),materialCategory:me("material_category"),materialUnit:me("material_unit"),quantity:Et("quantity",{precision:10,scale:3}).notNull(),unit:me("unit").notNull(),unitPrice:Et("unit_price",{precision:15,scale:2}).notNull(),totalAmount:Et("total_amount",{precision:15,scale:2}).notNull(),purchaseType:me("purchase_type").notNull().default(""),paidAmount:Et("paid_amount",{precision:15,scale:2}).default("0").notNull(),remainingAmount:Et("remaining_amount",{precision:15,scale:2}).default("0").notNull(),supplierName:me("supplier_name"),receiptNumber:me("receipt_number"),invoiceNumber:me("invoice_number"),invoiceDate:me("invoice_date"),dueDate:me("due_date"),invoicePhoto:me("invoice_photo"),notes:me("notes"),purchaseDate:me("purchase_date").notNull(),wellId:Nt("well_id").references(()=>oc.id,{onDelete:"set null"}),addToInventory:$t("add_to_inventory").default(!1),equipmentId:Nt("equipment_id"),createdAt:Ue("created_at").defaultNow().notNull()},e=>({uniqueInvoice:Kt`UNIQUE (project_id, supplier_id, invoice_number, purchase_date)`})),v9e=xt("supplier_payments",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),supplierId:Ne("supplier_id").notNull().references(()=>S5.id,{onDelete:"cascade"}),projectId:Ne("project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),purchaseId:Ne("purchase_id").references(()=>Sre.id,{onDelete:"set null"}),amount:Et("amount",{precision:15,scale:2}).notNull(),paymentMethod:me("payment_method").notNull().default(""),paymentDate:me("payment_date").notNull(),referenceNumber:me("reference_number"),notes:me("notes"),createdAt:Ue("created_at").defaultNow().notNull()}),x9e=xt("transportation_expenses",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),workerId:Ne("worker_id").references(()=>uf.id,{onDelete:"set null"}),amount:Et("amount",{precision:15,scale:2}).notNull(),description:me("description").notNull(),category:me("category").notNull().default("other"),date:me("date").notNull(),notes:me("notes"),wellId:Nt("well_id").references(()=>oc.id,{onDelete:"set null"}),createdAt:Ue("created_at").defaultNow().notNull()}),w9e=xt("worker_transfers",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),workerId:Ne("worker_id").notNull().references(()=>uf.id,{onDelete:"cascade"}),projectId:Ne("project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),amount:Et("amount",{precision:15,scale:2}).notNull(),transferNumber:me("transfer_number"),senderName:me("sender_name"),recipientName:me("recipient_name").notNull(),recipientPhone:me("recipient_phone"),transferMethod:me("transfer_method").notNull(),transferDate:me("transfer_date").notNull(),notes:me("notes"),createdAt:Ue("created_at").defaultNow().notNull()}),_9e=xt("worker_balances",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),workerId:Ne("worker_id").notNull().references(()=>uf.id,{onDelete:"cascade"}),projectId:Ne("project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),totalEarned:Et("total_earned",{precision:15,scale:2}).default("0").notNull(),totalPaid:Et("total_paid",{precision:15,scale:2}).default("0").notNull(),totalTransferred:Et("total_transferred",{precision:15,scale:2}).default("0").notNull(),currentBalance:Et("current_balance",{precision:15,scale:2}).default("0").notNull(),lastUpdated:Ue("last_updated").defaultNow().notNull(),createdAt:Ue("created_at").defaultNow().notNull()}),S9e=xt("daily_activity_logs",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),engineerId:Ne("engineer_id").notNull().references(()=>Qr.id),logDate:me("log_date").notNull(),activityTitle:me("activity_title").notNull(),description:me("description"),progressPercentage:Nt("progress_percentage").default(0),weatherConditions:me("weather_conditions"),temperature:Nt("temperature"),humidity:Nt("humidity"),images:br("images").default([]),wellId:Nt("well_id").references(()=>oc.id,{onDelete:"set null"}),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()});It(S9e).omit({id:!0,createdAt:!0,updatedAt:!0});const df=jw(e=>{if(e instanceof Date){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}return typeof e=="string"&&e.includes("T")?e.split("T")[0]:e},gr().regex(/^\d{4}-\d{2}-\d{2}$/,"     YYYY-MM-DD")),k9e=xt("daily_expense_summaries",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),date:me("date").notNull(),carriedForwardAmount:Et("carried_forward_amount",{precision:15,scale:2}).default("0").notNull(),totalFundTransfers:Et("total_fund_transfers",{precision:15,scale:2}).default("0").notNull(),totalWorkerWages:Et("total_worker_wages",{precision:15,scale:2}).default("0").notNull(),totalMaterialCosts:Et("total_material_costs",{precision:15,scale:2}).default("0").notNull(),totalTransportationCosts:Et("total_transportation_costs",{precision:15,scale:2}).default("0").notNull(),totalWorkerTransfers:Et("total_worker_transfers",{precision:15,scale:2}).default("0").notNull(),totalWorkerMiscExpenses:Et("total_worker_misc_expenses",{precision:15,scale:2}).default("0").notNull(),totalIncome:Et("total_income",{precision:15,scale:2}).notNull(),totalExpenses:Et("total_expenses",{precision:15,scale:2}).notNull(),remainingBalance:Et("remaining_balance",{precision:15,scale:2}).notNull(),notes:me("notes"),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()}),j9e=xt("worker_types",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),name:me("name").notNull().unique(),usageCount:Nt("usage_count").default(1).notNull(),lastUsed:Ue("last_used").defaultNow().notNull(),createdAt:Ue("created_at").defaultNow().notNull()}),N9e=xt("autocomplete_data",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),category:me("category").notNull(),value:me("value").notNull(),usageCount:Nt("usage_count").default(1).notNull(),lastUsed:Ue("last_used").defaultNow().notNull(),createdAt:Ue("created_at").defaultNow().notNull()}),T9e=xt("worker_misc_expenses",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),projectId:Ne("project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),amount:Et("amount",{precision:15,scale:2}).notNull(),description:me("description").notNull(),date:me("date").notNull(),notes:me("notes"),wellId:Nt("well_id").references(()=>oc.id,{onDelete:"set null"}),createdAt:Ue("created_at").defaultNow().notNull()}),E9e=xt("backup_logs",{id:Zn("id").primaryKey(),filename:me("filename").notNull(),size:Et("size",{precision:15,scale:2}),status:me("status").notNull(),destination:me("destination").notNull(),errorMessage:me("error_message"),triggeredBy:Ne("triggered_by").references(()=>Qr.id),createdAt:Ue("created_at").defaultNow().notNull()}),C9e=xt("backup_settings",{id:Zn("id").primaryKey(),autoBackupEnabled:$t("auto_backup_enabled").default(!0).notNull(),intervalMinutes:Nt("interval_minutes").default(1440).notNull(),telegramNotificationsEnabled:$t("telegram_notifications_enabled").default(!1).notNull(),gdriveEnabled:$t("gdrive_enabled").default(!1).notNull(),retentionDays:Nt("retention_days").default(30).notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()});It(E9e);It(C9e);const A9e=xt("print_settings",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),reportType:me("report_type").notNull().default("worker_statement"),name:me("name").notNull(),pageSize:me("page_size").notNull().default("A4"),pageOrientation:me("page_orientation").notNull().default("portrait"),marginTop:Et("margin_top",{precision:5,scale:2}).notNull().default("15.00"),marginBottom:Et("margin_bottom",{precision:5,scale:2}).notNull().default("15.00"),marginLeft:Et("margin_left",{precision:5,scale:2}).notNull().default("15.00"),marginRight:Et("margin_right",{precision:5,scale:2}).notNull().default("15.00"),fontFamily:me("font_family").notNull().default("Arial"),fontSize:Nt("font_size").notNull().default(12),headerFontSize:Nt("header_font_size").notNull().default(16),tableFontSize:Nt("table_font_size").notNull().default(10),headerBackgroundColor:me("header_background_color").notNull().default("#1e40af"),headerTextColor:me("header_text_color").notNull().default("#ffffff"),tableHeaderColor:me("table_header_color").notNull().default("#1e40af"),tableRowEvenColor:me("table_row_even_color").notNull().default("#ffffff"),tableRowOddColor:me("table_row_odd_color").notNull().default("#f9fafb"),tableBorderColor:me("table_border_color").notNull().default("#000000"),tableBorderWidth:Nt("table_border_width").notNull().default(1),tableCellPadding:Nt("table_cell_padding").notNull().default(3),tableColumnWidths:me("table_column_widths").notNull().default("[8,12,10,30,12,15,15,12]"),showHeader:$t("show_header").notNull().default(!0),showLogo:$t("show_logo").notNull().default(!0),showProjectInfo:$t("show_project_info").notNull().default(!0),showWorkerInfo:$t("show_worker_info").notNull().default(!0),showAttendanceTable:$t("show_attendance_table").notNull().default(!0),showTransfersTable:$t("show_transfers_table").notNull().default(!0),showSummary:$t("show_summary").notNull().default(!0),showSignatures:$t("show_signatures").notNull().default(!0),isDefault:$t("is_default").notNull().default(!1),isActive:$t("is_active").notNull().default(!0),userId:me("user_id"),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()}),P9e=xt("project_fund_transfers",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),fromProjectId:Ne("from_project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),toProjectId:Ne("to_project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),amount:Et("amount",{precision:15,scale:2}).notNull(),description:me("description"),transferReason:me("transfer_reason"),transferDate:me("transfer_date").notNull(),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()}),k5=xt("security_policies",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),policyId:Ne("policy_id").notNull().unique(),title:Ne("title",{length:500}).notNull(),description:me("description"),category:Ne("category",{length:100}).notNull(),severity:Ne("severity",{length:50}).notNull().default("medium"),status:Ne("status",{length:50}).notNull().default("draft"),complianceLevel:Ne("compliance_level",{length:100}),requirements:br("requirements"),implementation:br("implementation"),checkCriteria:br("check_criteria"),checkInterval:Nt("check_interval"),nextCheck:Ue("next_check"),violationsCount:Nt("violations_count").notNull().default(0),lastViolation:Ue("last_violation"),createdBy:Ne("created_by"),approvedBy:Ne("approved_by"),approvedAt:Ue("approved_at"),createdAt:Ue("created_at").notNull().defaultNow(),updatedAt:Ue("updated_at").notNull().defaultNow()});xt("security_policy_suggestions",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),suggestedPolicyId:Ne("suggested_policy_id").notNull(),title:Ne("title",{length:500}).notNull(),description:me("description"),category:Ne("category",{length:100}).notNull(),priority:Ne("priority",{length:50}).notNull().default("medium"),confidence:Nt("confidence").notNull().default(50),reasoning:me("reasoning"),estimatedImpact:Ne("estimated_impact",{length:500}),implementationEffort:Ne("implementation_effort",{length:100}),prerequisites:br("prerequisites"),sourceType:Ne("source_type",{length:100}),sourceData:br("source_data"),status:Ne("status",{length:50}).notNull().default("pending"),reviewedBy:Ne("reviewed_by"),reviewedAt:Ue("reviewed_at"),implementedAs:Ne("implemented_as").references(()=>k5.id,{onDelete:"set null"}),implementedAt:Ue("implemented_at"),createdAt:Ue("created_at").notNull().defaultNow(),updatedAt:Ue("updated_at").notNull().defaultNow()});xt("security_policy_implementations",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),policyId:Ne("policy_id").notNull().references(()=>k5.id,{onDelete:"cascade"}),implementationId:Ne("implementation_id").notNull(),implementationType:Ne("implementation_type",{length:100}).notNull(),status:Ne("status",{length:50}).notNull().default("pending"),configuration:br("configuration"),deploymentDetails:br("deployment_details"),successCriteria:br("success_criteria"),rollbackPlan:br("rollback_plan"),implementedBy:Ne("implemented_by"),implementationDate:Ue("implementation_date"),verificationDate:Ue("verification_date"),nextReview:Ue("next_review"),createdAt:Ue("created_at").notNull().defaultNow(),updatedAt:Ue("updated_at").notNull().defaultNow()});xt("security_policy_violations",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),policyId:Ne("policy_id").notNull().references(()=>k5.id,{onDelete:"cascade"}),violationId:Ne("violation_id").notNull().unique(),violatedRule:Ne("violated_rule",{length:500}).notNull(),severity:Ne("severity",{length:50}).notNull().default("medium"),status:Ne("status",{length:50}).notNull().default("open"),violationDetails:br("violation_details"),affectedResources:br("affected_resources"),impactAssessment:me("impact_assessment"),remediation_steps:br("remediation_steps"),detectedAt:Ue("detected_at").notNull().defaultNow(),resolvedAt:Ue("resolved_at"),resolvedBy:Ne("resolved_by"),createdAt:Ue("created_at").notNull().defaultNow(),updatedAt:Ue("updated_at").notNull().defaultNow()});const I9e=xt("user_project_permissions",{id:ki("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Qr.id,{onDelete:"cascade"}),projectId:Ne("project_id").notNull().references(()=>sn.id,{onDelete:"cascade"}),canView:$t("can_view").default(!0).notNull(),canAdd:$t("can_add").default(!1).notNull(),canEdit:$t("can_edit").default(!1).notNull(),canDelete:$t("can_delete").default(!1).notNull(),assignedBy:Ne("assigned_by").references(()=>Qr.id),assignedAt:Ue("assigned_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()},e=>({uniqueUserProject:Kt`UNIQUE (user_id, project_id)`})),R9e=xt("permission_audit_logs",{id:ki("id").primaryKey().default(Kt`gen_random_uuid()`),action:Ne("action").notNull(),actorId:Ne("actor_id").notNull().references(()=>Qr.id),targetUserId:Ne("target_user_id").references(()=>Qr.id),projectId:Ne("project_id").references(()=>sn.id),oldPermissions:br("old_permissions"),newPermissions:br("new_permissions"),ipAddress:cf("ip_address"),userAgent:me("user_agent"),notes:me("notes"),createdAt:Ue("created_at").defaultNow().notNull()}),UR=It(sn).omit({id:!0,createdAt:!0});It(uf).omit({id:!0,createdAt:!0});const O9e=It(y9e).omit({id:!0,createdAt:!0}).extend({transferDate:df,amount:jw(e=>e==null?"0":e.toString(),gr())});It(b9e).omit({id:!0,createdAt:!0}).extend({attendanceDate:df,dailyWage:ls(),actualWage:ls().optional(),totalPay:ls(),paidAmount:ls().optional(),remainingAmount:ls().optional(),paymentType:gr().optional().default("partial"),hoursWorked:ls().optional(),overtime:ls().optional(),overtimeRate:ls().optional(),notes:gr().optional(),startTime:gr().optional().refine(e=>e?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(e):!0,"     HH:MM"),endTime:gr().optional().refine(e=>e?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(e):!0,"     HH:MM")}).refine(e=>{if(e.startTime&&e.endTime){const t=parseInt(e.startTime.split(":")[0])*60+parseInt(e.startTime.split(":")[1]),r=parseInt(e.endTime.split(":")[0])*60+parseInt(e.endTime.split(":")[1]);return t<r||r<t}return!0},{message:"        ( )",path:["endTime"]});It(_re).omit({id:!0,createdAt:!0});It(Sre).omit({id:!0,createdAt:!0}).extend({purchaseDate:df,quantity:ls().refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"    0  "),unit:gr().min(1,"  ").default(""),unitPrice:ls().refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"     0  ").optional().or(Dg("")),totalAmount:ls().refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"     0  ").optional().or(Dg("")),purchaseType:gr().default(""),paidAmount:ls().default("0").refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"     0  "),remainingAmount:ls().default("0").refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"     0  ")});It(x9e).omit({id:!0,createdAt:!0}).extend({date:df,amount:ls()});It(w9e).omit({id:!0,createdAt:!0}).extend({transferDate:df,amount:ls()});const M9e=It(P9e).omit({id:!0,createdAt:!0}).extend({transferDate:df,amount:ls()});It(k9e).omit({id:!0,createdAt:!0,updatedAt:!0});It(j9e).omit({id:!0,createdAt:!0,lastUsed:!0});It(N9e).omit({id:!0,createdAt:!0,lastUsed:!0});It(T9e).omit({id:!0,createdAt:!0}).extend({date:df,amount:ls()});It(I9e).omit({id:!0,assignedAt:!0,updatedAt:!0});It(R9e).omit({id:!0,createdAt:!0});It(Qr).omit({id:!0,createdAt:!0,updatedAt:!0,lastLogin:!0}).extend({email:gr().min(5,"   ").max(255,"   ").email("    ").regex(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"      "),password:gr().min(8,"     8   ").max(128,"   ").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).*$/,"           "),firstName:gr().min(1,"  ").max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']+$/,"     "),lastName:gr().max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']*$/,"      ").optional(),role:Np(["admin","manager","user"],{errorMap:()=>({message:"    admin  manager  user"})})});It(uf).omit({id:!0,createdAt:!0}).extend({name:gr().min(2,"   ").max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']+$/,"      "),type:gr().min(1,"  ").max(100,"   "),dailyWage:gr().regex(/^\d+(\.\d{1,2})?$/,"      ").refine(e=>parseFloat(e)>0,{message:"       "})});const D9e=It(sn).omit({id:!0,createdAt:!0}).extend({name:gr().min(2,"   ").max(200,"   ").regex(/^[a-zA-Z-0-9\s\-_().]+$/,"      "),status:Np(["active","completed","paused"],{errorMap:()=>({message:"     active  completed  paused"})}),imageUrl:gr().url("   ").optional().or(Dg(""))});D9e.partial().omit({}).refine(e=>Object.keys(e).length>0,{message:"      "});gr().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i," UUID  ").or(gr().regex(/^[a-z0-9-]{8,50}$/,"  "));It(S5).omit({id:!0,createdAt:!0});It(v9e).omit({id:!0,createdAt:!0}).extend({amount:ls()});It(A9e).omit({id:!0,createdAt:!0,updatedAt:!0});It(_9e);It(m9e).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0});const $9e=xt("report_templates",{id:me("id").primaryKey().default(Kt`gen_random_uuid()`),templateName:me("template_name").notNull().default("default"),headerTitle:me("header_title").notNull().default("   "),headerSubtitle:me("header_subtitle").default(" "),companyName:me("company_name").notNull().default("  "),companyAddress:me("company_address").default(" - "),companyPhone:me("company_phone").default("+967 1 234567"),companyEmail:me("company_email").default("info@company.com"),footerText:me("footer_text").default("       "),footerContact:me("footer_contact").default(": info@company.com | +967 1 234567"),primaryColor:me("primary_color").notNull().default("#1f2937"),secondaryColor:me("secondary_color").notNull().default("#3b82f6"),accentColor:me("accent_color").notNull().default("#10b981"),textColor:me("text_color").notNull().default("#1f2937"),backgroundColor:me("background_color").notNull().default("#ffffff"),fontSize:Nt("font_size").notNull().default(11),fontFamily:me("font_family").notNull().default("Arial"),logoUrl:me("logo_url"),pageOrientation:me("page_orientation").notNull().default("portrait"),pageSize:me("page_size").notNull().default("A4"),margins:br("margins").default({top:1,bottom:1,left:.75,right:.75}),showHeader:$t("show_header").notNull().default(!0),showFooter:$t("show_footer").notNull().default(!0),showLogo:$t("show_logo").notNull().default(!0),showDate:$t("show_date").notNull().default(!0),showPageNumbers:$t("show_page_numbers").notNull().default(!0),isActive:$t("is_active").notNull().default(!0),createdAt:Ue("created_at").defaultNow(),updatedAt:Ue("updated_at").defaultNow()});It($9e).omit({id:!0,createdAt:!0,updatedAt:!0});It(f9e);It(h9e);const L9e=xt("notification_read_states",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),notificationId:me("notification_id").notNull(),userId:Ne("user_id").references(()=>Qr.id),isRead:$t("is_read").default(!0).notNull(),readAt:Ue("read_at").defaultNow().notNull(),deviceInfo:me("device_info"),createdAt:Ue("created_at").defaultNow().notNull()},e=>({uniqueNotificationUser:Kt`UNIQUE (notification_id, user_id)`})),F9e=xt("build_deployments",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),buildNumber:Nt("build_number").notNull(),status:me("status").notNull().default("running"),currentStep:me("current_step").notNull(),progress:Nt("progress").notNull().default(0),version:me("version").notNull(),appType:me("app_type").notNull().default("web"),logs:br("logs").notNull().default([]),steps:br("steps").notNull().default([]),startTime:Ue("start_time").defaultNow().notNull(),endTime:Ue("end_time"),triggeredBy:Ne("triggered_by").references(()=>Qr.id),createdAt:Ue("created_at").defaultNow().notNull()});It(F9e).omit({id:!0,createdAt:!0});It(L9e).omit({id:!0,createdAt:!0});const kre=xt("ai_chat_sessions",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Qr.id,{onDelete:"cascade"}),title:me("title").default(" "),isActive:$t("is_active").default(!0).notNull(),lastMessageAt:Ue("last_message_at"),messagesCount:Nt("messages_count").default(0).notNull(),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()}),z9e=xt("ai_chat_messages",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),sessionId:Ne("session_id").notNull().references(()=>kre.id,{onDelete:"cascade"}),role:me("role").notNull(),content:me("content").notNull(),model:me("model"),provider:me("provider"),tokensUsed:Nt("tokens_used"),action:me("action"),actionData:br("action_data"),createdAt:Ue("created_at").defaultNow().notNull()}),B9e=xt("ai_usage_stats",{id:Ne("id").primaryKey().default(Kt`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Qr.id,{onDelete:"cascade"}),date:me("date").notNull(),provider:me("provider").notNull(),model:me("model").notNull(),requestsCount:Nt("requests_count").default(0).notNull(),tokensUsed:Nt("tokens_used").default(0).notNull(),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()});It(kre).omit({id:!0,createdAt:!0,updatedAt:!0});It(z9e).omit({id:!0,createdAt:!0});It(B9e).omit({id:!0,createdAt:!0,updatedAt:!0});const j5=xt("well_tasks",{id:Zn("id").primaryKey(),wellId:Nt("well_id").notNull().references(()=>oc.id,{onDelete:"cascade"}),taskType:Ne("task_type",{length:50}).notNull(),description:me("description"),estimatedCost:Et("estimated_cost",{precision:12,scale:2}),actualCost:Et("actual_cost",{precision:12,scale:2}),taskOrder:Nt("task_order").notNull(),status:me("status").notNull().default("pending"),assignedWorkerId:Ne("assigned_worker_id").references(()=>uf.id,{onDelete:"set null"}),startDate:xu("start_date"),completionDate:xu("completion_date"),completedBy:Ne("completed_by").references(()=>Qr.id,{onDelete:"set null"}),createdBy:Ne("created_by").references(()=>Qr.id,{onDelete:"set null"}),notes:me("notes"),createdAt:Ue("created_at").defaultNow().notNull(),updatedAt:Ue("updated_at").defaultNow().notNull()}),U9e=xt("well_task_accounts",{id:Zn("id").primaryKey(),taskId:Nt("task_id").notNull().unique().references(()=>j5.id,{onDelete:"cascade"}),amount:Et("amount",{precision:12,scale:2}).notNull(),accountedBy:Ne("accounted_by").notNull().references(()=>Qr.id),accountedAt:Ue("accounted_at").defaultNow().notNull(),paymentMethod:Ne("payment_method",{length:50}),referenceNumber:Ne("reference_number",{length:100}),notes:me("notes")}),V9e=xt("well_expenses",{id:Zn("id").primaryKey(),wellId:Nt("well_id").notNull().references(()=>oc.id,{onDelete:"cascade"}),expenseType:Ne("expense_type",{length:50}).notNull(),referenceType:Ne("reference_type",{length:50}),referenceId:Ne("reference_id"),description:me("description").notNull(),category:Ne("category",{length:100}),quantity:Et("quantity",{precision:10,scale:2}).notNull(),unit:Ne("unit",{length:20}).notNull(),unitPrice:Et("unit_price",{precision:12,scale:2}).notNull(),totalAmount:Et("total_amount",{precision:12,scale:2}).notNull(),expenseDate:xu("expense_date").notNull(),createdBy:Ne("created_by").notNull().references(()=>Qr.id),createdAt:Ue("created_at").defaultNow().notNull(),notes:me("notes")}),W9e=xt("well_audit_logs",{id:Zn("id").primaryKey(),wellId:Nt("well_id").references(()=>oc.id,{onDelete:"set null"}),taskId:Nt("task_id").references(()=>j5.id,{onDelete:"set null"}),action:Ne("action",{length:50}).notNull(),entityType:Ne("entity_type",{length:50}).notNull(),entityId:Nt("entity_id").notNull(),previousData:br("previous_data"),newData:br("new_data"),userId:Ne("user_id").notNull().references(()=>Qr.id),ipAddress:cf("ip_address"),userAgent:me("user_agent"),createdAt:Ue("created_at").defaultNow().notNull()}),q9e=xt("material_categories",{id:Zn("id").primaryKey(),name:Ne("name",{length:100}).notNull().unique(),nameAr:Ne("name_ar",{length:100}).notNull(),type:Ne("type",{length:20}).notNull(),unit:Ne("unit",{length:20}).notNull(),description:me("description"),isActive:$t("is_active").default(!0).notNull(),createdAt:Ue("created_at").defaultNow().notNull()});It(wre).omit({id:!0,createdAt:!0});It(oc).omit({id:!0,createdAt:!0,updatedAt:!0});It(j5).omit({id:!0,createdAt:!0,updatedAt:!0});It(U9e).omit({id:!0,accountedAt:!0});It(V9e).omit({id:!0,createdAt:!0});It(W9e).omit({id:!0,createdAt:!0});It(q9e).omit({id:!0});const jre=xt("equipment",{id:Zn("id").primaryKey(),code:me("code"),name:me("name").notNull(),sku:me("sku"),type:me("type"),unit:me("unit").default(""),quantity:Nt("quantity").default(1).notNull(),status:me("status").default("available"),condition:me("condition").default("excellent"),description:me("description"),purchaseDate:me("purchase_date"),purchasePrice:me("purchase_price"),projectId:Ne("project_id").references(()=>sn.id),imageUrl:me("image_url"),createdAt:Ue("created_at").defaultNow().notNull()}),H9e=xt("equipment_movements",{id:Zn("id").primaryKey(),equipmentId:Nt("equipment_id").references(()=>jre.id),fromProjectId:Ne("from_project_id").references(()=>sn.id),toProjectId:Ne("to_project_id").references(()=>sn.id),quantity:Nt("quantity").default(1).notNull(),movementDate:Ue("movement_date").defaultNow(),reason:me("reason"),performedBy:me("performed_by"),notes:me("notes")});It(jre).omit({id:!0,createdAt:!0});It(H9e).omit({id:!0});const K9e=xt("account_types",{id:Zn("id").primaryKey(),code:Ne("code",{length:20}).notNull().unique(),nameAr:me("name_ar").notNull(),nameEn:me("name_en"),category:me("category").notNull(),normalBalance:me("normal_balance").notNull(),parentId:Nt("parent_id"),isActive:$t("is_active").default(!0),createdAt:Ue("created_at").defaultNow().notNull()}),Nre=xt("journal_entries",{id:ki("id").defaultRandom().primaryKey(),entryNumber:Zn("entry_number"),projectId:Ne("project_id").references(()=>sn.id),entryDate:me("entry_date").notNull(),description:me("description").notNull(),sourceTable:me("source_table").notNull(),sourceId:me("source_id").notNull(),entryType:me("entry_type").notNull(),reversalOfId:ki("reversal_of_id"),totalAmount:Et("total_amount",{precision:15,scale:2}).notNull(),status:me("status").default("posted"),createdBy:Ne("created_by").references(()=>Qr.id),createdAt:Ue("created_at").defaultNow().notNull(),...Sy}),G9e=xt("journal_lines",{id:ki("id").defaultRandom().primaryKey(),journalEntryId:ki("journal_entry_id").references(()=>Nre.id).notNull(),accountCode:Ne("account_code",{length:20}).notNull(),debitAmount:Et("debit_amount",{precision:15,scale:2}).default("0"),creditAmount:Et("credit_amount",{precision:15,scale:2}).default("0"),description:me("description"),createdAt:Ue("created_at").defaultNow().notNull()}),Z9e=xt("financial_audit_log",{id:ki("id").defaultRandom().primaryKey(),projectId:Ne("project_id").references(()=>sn.id),action:me("action").notNull(),entityType:me("entity_type").notNull(),entityId:me("entity_id").notNull(),previousData:br("previous_data"),newData:br("new_data"),changedFields:br("changed_fields"),userId:Ne("user_id").references(()=>Qr.id),userEmail:me("user_email"),reason:me("reason"),ipAddress:cf("ip_address"),createdAt:Ue("created_at").defaultNow().notNull()}),X9e=xt("reconciliation_records",{id:ki("id").defaultRandom().primaryKey(),projectId:Ne("project_id").references(()=>sn.id).notNull(),reconciliationDate:me("reconciliation_date").notNull(),ledgerBalance:Et("ledger_balance",{precision:15,scale:2}).notNull(),computedBalance:Et("computed_balance",{precision:15,scale:2}).notNull(),discrepancy:Et("discrepancy",{precision:15,scale:2}).notNull(),status:me("status").default("pending"),resolvedBy:Ne("resolved_by").references(()=>Qr.id),resolvedAt:Ue("resolved_at"),notes:me("notes"),createdAt:Ue("created_at").defaultNow().notNull()}),Y9e=xt("summary_invalidations",{id:ki("id").defaultRandom().primaryKey(),projectId:Ne("project_id").references(()=>sn.id).notNull(),invalidatedFrom:me("invalidated_from").notNull(),reason:me("reason").notNull(),sourceTable:me("source_table"),sourceId:me("source_id"),createdAt:Ue("created_at").defaultNow().notNull()});It(K9e).omit({id:!0,createdAt:!0});It(Nre).omit({id:!0,entryNumber:!0,createdAt:!0});It(G9e).omit({id:!0,createdAt:!0});It(Z9e).omit({id:!0,createdAt:!0});It(X9e).omit({id:!0,createdAt:!0});It(Y9e).omit({id:!0,createdAt:!0});const Q9e=xt("sync_audit_logs",{id:Zn("id").primaryKey(),userId:Ne("user_id").references(()=>Qr.id),userName:me("user_name"),module:Ne("module",{length:50}).notNull(),tableName:Ne("table_name",{length:100}).notNull(),recordId:me("record_id"),action:Ne("action",{length:20}).notNull(),status:Ne("status",{length:20}).notNull().default("success"),description:me("description").notNull(),oldValues:br("old_values"),newValues:br("new_values"),errorMessage:me("error_message"),ipAddress:me("ip_address"),userAgent:me("user_agent"),durationMs:Nt("duration_ms"),syncType:Ne("sync_type",{length:30}),projectId:Ne("project_id").references(()=>sn.id),projectName:me("project_name"),amount:Et("amount",{precision:15,scale:2}),createdAt:Ue("created_at").defaultNow().notNull()});It(Q9e).omit({id:!0,createdAt:!0});const J9e=xt("idempotency_keys",{id:Zn("id").primaryKey(),key:Ne("key",{length:255}).notNull().unique(),endpoint:Ne("endpoint",{length:255}).notNull(),method:Ne("method",{length:10}).notNull(),statusCode:Nt("status_code").notNull(),responseBody:br("response_body"),createdAt:Ue("created_at").defaultNow().notNull(),expiresAt:Ue("expires_at").notNull()});It(J9e).omit({id:!0,createdAt:!0});function eMe(){const{toast:e}=Br(),t=ns(),{setFloatingAction:r}=Io(),[n,s]=E.useState(null),[i,a]=E.useState(!1),o=[{key:"reason",label:"",type:"select",placeholder:" ",options:[{value:"payroll",label:""},{value:"materials",label:""},{value:"tools",label:""},{value:"maintenance",label:""},{value:"emergency",label:""},{value:"other",label:""}]},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],[u,l]=E.useState(""),[d,h]=E.useState({reason:"",dateRange:{from:void 0,to:void 0}}),f=N=>l(N),p=(N,w)=>{h(_=>({..._,[N]:w}))},g=()=>{l(""),h({reason:"",dateRange:{from:void 0,to:void 0}})},{data:y=[]}=nt({queryKey:he.projectsWithStats,queryFn:async()=>{const N=await Ie("/api/projects/with-stats","GET");return N.data||N||[]}}),m=y,{data:v={data:[]},isLoading:b,refetch:x}=nt({queryKey:he.projectFundTransfers,queryFn:async()=>await Ie("/api/project-fund-transfers","GET")||{data:[]}}),k=E.useMemo(()=>Array.isArray(v?.data)?v.data:[],[v]),T=E.useMemo(()=>{let N=k;if(u){const w=u.toLowerCase();N=N.filter(_=>_.transferReason?.toLowerCase().includes(w)||_.description?.toLowerCase().includes(w)||m.find(S=>S.id===_.fromProjectId)?.name.toLowerCase().includes(w)||m.find(S=>S.id===_.toProjectId)?.name.toLowerCase().includes(w))}if(d.reason&&(N=N.filter(w=>{if(!w.transferReason)return!1;const _=o.find(S=>S.key==="reason")?.options?.find(S=>S.value===d.reason);return w.transferReason===d.reason||w.transferReason===_?.label})),d.dateRange?.from||d.dateRange?.to){const w=d.dateRange.from?new Date(d.dateRange.from).getTime():0,_=d.dateRange.to?new Date(d.dateRange.to).getTime():1/0;N=N.filter(S=>{const j=new Date(S.transferDate).getTime();return j>=w&&j<=_})}return N},[k,u,d,m]),O=E.useMemo(()=>{const N=Array.isArray(k)?k:[];return{total:N.length,totalAmount:N.reduce((w,_)=>w+(parseFloat(_.amount?.toString()||"0")||0),0),filtered:T.length,outgoing:T.filter(w=>!T.some(_=>_.fromProjectId===_.toProjectId)).length,incoming:T.filter(w=>T.some(_=>_.toProjectId===_.fromProjectId)).length}},[k,T]),F=ht({mutationFn:async N=>n?Ie(`/api/project-fund-transfers/${n.id}`,"PATCH",N):Ie("/api/project-fund-transfers","POST",N),onSuccess:()=>{t.refetchQueries({queryKey:he.projectFundTransfers}),t.refetchQueries({queryKey:he.projectsWithStats}),e({title:" ",description:n?"   ":"    "}),P.reset(),s(null),a(!1)},onError:N=>{e({title:"",description:N.message||"    ",variant:"destructive"})}}),A=ht({mutationFn:async N=>{console.log(" [Client]  :",N);const w=await Ie(`/api/project-fund-transfers/${N}`,"DELETE");return console.log(" [Client]  :",w),w},onSuccess:(N,w)=>{console.log(" [Client]    ...",w),t.setQueryData(he.projectFundTransfers,_=>{console.log(" [Client]  :",_);const S=_?.data?.filter(R=>R.id!==w)||[],j={..._,data:S,success:!0};return console.log(" [Client]  :",j),j}),t.refetchQueries({queryKey:he.projectFundTransfers}),t.refetchQueries({queryKey:he.projectsWithStats}),e({title:" ",description:"    "})},onError:N=>{console.error(" [Client]   :",N),e({title:"",description:N.message||"    ",variant:"destructive"})}}),P=Xl({resolver:Yl(M9e),defaultValues:{fromProjectId:"",toProjectId:"",amount:"",transferReason:"",transferDate:new Date().toISOString().split("T")[0],description:""}});E.useEffect(()=>(r(()=>{s(null),P.reset({fromProjectId:"",toProjectId:"",amount:"",transferReason:"",transferDate:new Date().toISOString().split("T")[0],description:""}),a(!0)}," "),()=>r(null)),[r,P]);const D=N=>{if(!N.fromProjectId||!N.toProjectId||N.fromProjectId==="all"||N.toProjectId==="all"){e({title:"",description:"    .    ' '   .",variant:"destructive"});return}if(N.fromProjectId===N.toProjectId){e({title:"",description:"      ",variant:"destructive"});return}F.mutate(N)},V=N=>{s(N),P.reset({fromProjectId:N.fromProjectId,toProjectId:N.toProjectId,amount:N.amount,transferReason:N.transferReason||"",transferDate:N.transferDate||new Date().toISOString().split("T")[0],description:N.description||""}),a(!0)},B=N=>m.find(w=>w.id===N)?.name||" ",C=N=>{if(typeof N!="number"){const w=parseFloat(String(N));if(isNaN(w))return"0 .";N=w}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(N)+" ."},I=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:O.total,icon:Tg,color:"orange"},{key:"totalAmount",label:" ",value:O.totalAmount,icon:Jt,color:"green",formatter:C},{key:"filtered",label:" ",value:O.filtered,icon:oi,color:"blue"}]},{columns:3,gap:"sm",items:[{key:"today",label:" ",value:T.filter(N=>new Date(N.transferDate).toDateString()===new Date().toDateString()).length,icon:hn,color:"purple"},{key:"average",label:" ",value:O.total>0?O.totalAmount/O.total:0,icon:rs,color:"red",formatter:C},{key:"projects",label:" ",value:m.length,icon:$a,color:"indigo"}]}],[O,T,m]);return c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:[c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-40 md:pb-20",children:[c.jsx(Qa,{statsRows:I,searchValue:u,onSearchChange:f,searchPlaceholder:"  ...",showSearch:!0,filters:o,filterValues:d,onFilterChange:p,onReset:g,onRefresh:()=>x(),isRefreshing:b}),c.jsx("div",{className:"space-y-4 md:space-y-6",children:b?c.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(N=>c.jsx(Pt,{className:"bg-white dark:bg-slate-900",children:c.jsx(Ft,{className:"p-4 md:p-6",children:c.jsx(Kr,{className:"h-20 w-full"})})},N))}):T.length===0?c.jsx(Pt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:c.jsx(Ft,{className:"p-12",children:c.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[c.jsx(Tg,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),c.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"    "})]})})}):c.jsx(Ns,{columns:2,children:T.map(N=>c.jsx(Gr,{title:C(parseFloat(N.amount?.toString()||"0")),titleIcon:Jt,headerColor:"#f59e0b",badges:[{label:new Date(N.transferDate).toLocaleDateString("en-GB"),variant:"outline"}],fields:[{label:"",value:`${B(N.fromProjectId)}  ${B(N.toProjectId)}`,icon:Gn,color:"info"},{label:"",value:N.transferReason||" ",icon:Fs,color:"default"},{label:"",value:new Date(N.transferDate).toLocaleDateString("en-GB"),icon:rs,color:"info"}],actions:[{icon:du,label:"",onClick:()=>V(N),color:"blue"},{icon:An,label:"",onClick:()=>A.mutate(N.id),color:"red"}],compact:!0},N.id))})})]})}),i&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-[999999] flex items-end md:items-center justify-center p-0 md:p-4",children:c.jsxs(Pt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-2xl w-full max-h-[92vh] md:max-h-[85vh] md:w-full md:max-w-2xl rounded-t-[2rem] md:rounded-xl overflow-hidden flex flex-col mb-0 md:mb-0",children:[c.jsx(Cn,{className:"flex-shrink-0 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 p-4 md:p-5",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(zn,{className:"text-slate-900 dark:text-white text-base md:text-lg",children:n?"  ":"   "}),c.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{a(!1),s(null),P.reset()},className:"h-8 w-8 p-0 hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-full",children:c.jsx(fs,{className:"h-4 w-4"})})]})}),c.jsx(Ft,{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-24 md:pb-6",children:c.jsx(Jl,{...P,children:c.jsxs("form",{onSubmit:P.handleSubmit(D),className:"space-y-4 md:space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[c.jsx(Ir,{control:P.control,name:"amount",render:({field:N})=>c.jsxs(Cr,{children:[c.jsx(Tn,{className:"text-xs md:text-sm font-semibold",children:" ()"}),c.jsx(Rr,{children:c.jsx(tt,{type:"number",step:"0.01",placeholder:"0",...N,autoWidth:!0,maxWidth:250,className:"h-10 md:h-11 border-2 text-xs md:text-sm"})}),c.jsx(dn,{className:"text-xs"})]})}),c.jsx(Ir,{control:P.control,name:"transferDate",render:({field:N})=>c.jsxs(Cr,{className:"flex flex-col gap-1.5",children:[c.jsx(Tn,{className:"text-xs md:text-sm font-semibold",children:""}),c.jsx(tl,{value:N.value,onChange:w=>N.onChange(w?ur(w,"yyyy-MM-dd"):"")}),c.jsx(dn,{className:"text-xs"})]})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-4",children:[c.jsx(Ir,{control:P.control,name:"fromProjectId",render:({field:N})=>c.jsxs(Cr,{children:[c.jsx(Tn,{className:"text-xs md:text-sm font-semibold",children:"  *"}),c.jsx(Rr,{children:c.jsxs(Rn,{value:N.value||"",onValueChange:N.onChange,children:[c.jsx(wn,{className:"h-10 md:h-11 border-2 text-xs md:text-sm",children:c.jsx(On,{placeholder:"  "})}),c.jsx(_n,{className:"z-[9999999]",children:m.map(w=>c.jsx(vt,{value:w.id||"none",children:w.name},w.id))})]})}),c.jsx(dn,{className:"text-xs"})]})}),c.jsx(Ir,{control:P.control,name:"toProjectId",render:({field:N})=>c.jsxs(Cr,{children:[c.jsx(Tn,{className:"text-xs md:text-sm font-semibold",children:"  *"}),c.jsx(Rr,{children:c.jsxs(Rn,{value:N.value||"",onValueChange:N.onChange,children:[c.jsx(wn,{className:"h-10 md:h-11 border-2 text-xs md:text-sm",children:c.jsx(On,{placeholder:"  "})}),c.jsx(_n,{className:"z-[9999999]",children:m.map(w=>c.jsx(vt,{value:w.id||"none",children:w.name},w.id))})]})}),c.jsx(dn,{className:"text-xs"})]})})]}),c.jsx(Ir,{control:P.control,name:"transferReason",render:({field:N})=>c.jsxs(Cr,{children:[c.jsx(Tn,{className:"text-sm font-semibold",children:" "}),c.jsx(Rr,{children:c.jsx(ap,{placeholder:"   ...",className:"min-h-[60px] text-xs md:text-sm border-2",...N})}),c.jsx(dn,{className:"text-xs"})]})}),c.jsx(Ir,{control:P.control,name:"description",render:({field:N})=>c.jsxs(Cr,{children:[c.jsx(Tn,{className:"text-sm font-semibold",children:" ()"}),c.jsx(Rr,{children:c.jsx(ap,{placeholder:"   ...",className:"min-h-[100px] text-xs md:text-sm border-2",...N})}),c.jsx(dn,{className:"text-xs"})]})}),c.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4 md:p-6 mt-6 -mx-4 md:-mx-6 z-50 flex gap-3 shadow-lg",children:[c.jsx(Se,{type:"submit",disabled:F.isPending,className:"flex-1 h-10 md:h-11 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold shadow-lg shadow-blue-500/30",children:F.isPending?" ...":n?"":" "}),n&&c.jsx(Se,{type:"button",variant:"outline",onClick:()=>{s(null),P.reset()},className:"flex-1 h-10 md:h-11 border-2",children:""})]})]})})})]})})]})}function $p(e={}){const{projectId:t,date:r,dateFrom:n,dateTo:s,enabled:i=!0}=e,a=t&&t!=="all"?["/api/financial-summary",t,r,n,s]:["/api/financial-summary","all",r,n,s],{data:o,isLoading:u,error:l,refetch:d}=nt({queryKey:a,queryFn:async()=>{try{let g="/api/financial-summary";const y=new URLSearchParams;t&&t!=="all"&&y.append("projectId",t),r&&y.append("date",r),n&&y.append("dateFrom",n),s&&y.append("dateTo",s),y.toString()&&(g+=`?${y.toString()}`);const m=await Ie(g,"GET");return m?.success&&m?.data?m.data:null}catch(g){throw console.error(" [useFinancialSummary]     :",g),g}},enabled:i,staleTime:1e3*30,gcTime:1e3*60*2,refetchOnWindowFocus:!0,refetchOnMount:"always"});if((!t||t==="all")&&o){const g=o,y=g.totals||{totalIncome:0,totalCashExpenses:0,totalAllExpenses:0,cashBalance:0,totalBalance:0,totalWorkers:0,activeWorkers:0,materialExpensesCredit:0,carriedForwardBalance:0},m=g.projects?.reduce((v,b)=>({totalWorkerWages:v.totalWorkerWages+(b.expenses?.workerWages||0),totalTransportation:v.totalTransportation+(b.expenses?.transportExpenses||0),totalMaterialCosts:v.totalMaterialCosts+(b.expenses?.materialExpenses||0),totalWorkerTransfers:v.totalWorkerTransfers+(b.expenses?.workerTransfers||0),totalMiscExpenses:v.totalMiscExpenses+(b.expenses?.miscExpenses||0),totalFundTransfers:v.totalFundTransfers+(b.income?.fundTransfers||0),incomingProjectTransfers:v.incomingProjectTransfers+(b.income?.incomingProjectTransfers||0),outgoingProjectTransfers:v.outgoingProjectTransfers+(b.expenses?.outgoingProjectTransfers||0)}),{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0})||{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0};return{summary:null,allProjects:g,totals:{...y,...m,totalExpenses:y.totalAllExpenses||0,currentBalance:y.totalBalance||0,remainingBalance:y.totalBalance||0},isLoading:u,error:l,refetch:d}}const f=o,p=f&&f.income&&f.expenses&&f.workers;return{summary:f,allProjects:null,totals:p?{totalIncome:f.income?.totalIncome??0,totalCashExpenses:f.expenses?.totalCashExpenses??0,totalAllExpenses:f.expenses?.totalAllExpenses??0,totalExpenses:f.expenses?.totalCashExpenses??0,cashBalance:f.cashBalance??0,totalBalance:f.totalBalance??0,currentBalance:f.totalBalance??0,totalWorkers:f.workers?.totalWorkers??0,activeWorkers:f.workers?.activeWorkers??0,materialExpensesCredit:f.expenses?.materialExpensesCredit??0,carriedForwardBalance:f.income?.carriedForwardBalance??0,totalWorkerWages:f.expenses?.workerWages??0,totalTransportation:f.expenses?.transportExpenses??0,totalMaterialCosts:f.expenses?.materialExpenses??0,totalWorkerTransfers:f.expenses?.workerTransfers??0,totalMiscExpenses:f.expenses?.miscExpenses??0,totalFundTransfers:f.income?.fundTransfers??0,incomingProjectTransfers:f.income?.incomingProjectTransfers??0,outgoingProjectTransfers:f.expenses?.outgoingProjectTransfers??0,remainingBalance:f.totalBalance??0}:{totalIncome:0,totalCashExpenses:0,totalAllExpenses:0,totalExpenses:0,cashBalance:0,totalBalance:0,currentBalance:0,totalWorkers:0,activeWorkers:0,materialExpensesCredit:0,carriedForwardBalance:0,totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0,remainingBalance:0},isLoading:u,error:l,refetch:d}}const ho={name:"    ",subtitle:"Al-Fatihi Contracting & Engineering Consultancy",address:"  ",phone:"+966 XX XXXX XXX",email:"info@alfatihi.com",website:"www.alfatihi.com"},Dn={headerBlue:"2E75B6",headerDarkBlue:"1F5A96",lightBlue:"E7F3FF",yellowTotal:"FFFF00",greenTotal:"00B050",greenLight:"C6EFCE",orangeLight:"FCE4D6",white:"FFFFFF",black:"000000",gray:"6B7280"},ar={fonts:{header:{bold:!0,size:11,color:{argb:"FF"+Dn.white}},data:{size:10},bold:{bold:!0,size:10}},colors:{headerBg:"FF"+Dn.headerBlue,altRow:"FF"+Dn.lightBlue,green:"FF"+Dn.greenTotal,yellow:"FF"+Dn.yellowTotal,orange:"FF"+Dn.orangeLight},borders:{thin:{style:"thin"},medium:{style:"medium"}},headerMain:{font:{bold:!0,size:14,color:{argb:"FF"+Dn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Dn.headerDarkBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},headerSecondary:{font:{bold:!0,size:12,color:{argb:"FF"+Dn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Dn.headerBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableHeader:{font:{bold:!0,size:11,color:{argb:"FF"+Dn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Dn.headerBlue}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableCell:{font:{size:10},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableCellAlt:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Dn.lightBlue}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},greenRow:{font:{bold:!0,size:10,color:{argb:"FF"+Dn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Dn.greenTotal}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},greenLightRow:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Dn.greenLight}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},yellowRow:{font:{bold:!0,size:10,color:{argb:"FF"+Dn.black}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Dn.yellowTotal}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},orangeRow:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Dn.orangeLight}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},summaryRow:{font:{bold:!0,size:11,color:{argb:"FF"+Dn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Dn.headerBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},signatureBox:{font:{size:10,bold:!0},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},footer:{font:{size:9,italic:!0,color:{argb:"FF"+Dn.gray}},alignment:{horizontal:"center",vertical:"middle"}}};function wb(e,t){t.font&&(e.font=t.font),t.fill&&(e.fill=t.fill),t.alignment&&(e.alignment=t.alignment),t.border&&(e.border=t.border),t.numFmt&&(e.numFmt=t.numFmt)}function $Ve(e,t,r,n){let s=1;const i=e.columns?.length||8;e.mergeCells(s,1,s,i);const a=e.getRow(s);a.getCell(1).value=ho.name,wb(a.getCell(1),ar.headerMain),a.height=30,s++,e.mergeCells(s,1,s,i);const o=e.getRow(s);if(o.getCell(1).value=t,wb(o.getCell(1),ar.headerSecondary),o.height=25,s++,r){e.mergeCells(s,1,s,i);const u=e.getRow(s);u.getCell(1).value=r,wb(u.getCell(1),{font:{size:10},alignment:{horizontal:"center",vertical:"middle"}}),u.height=20,s++}if(n&&n.length>0){e.mergeCells(s,1,s,i);const u=e.getRow(s);u.getCell(1).value=n.join(" | "),wb(u.getCell(1),{font:{size:9},alignment:{horizontal:"center",vertical:"middle"}}),u.height=18,s++}return s++,s}const tMe=e=>({income:"",expense:"",deferred:"",transfer_from_project:" "})[e]||e;async function Tre(e,t,r,n){const s=(await Ar(async()=>{const{default:A}=await Promise.resolve().then(()=>kee);return{default:A}},void 0)).default,i=new s.Workbook;i.creator=ho.name,i.created=new Date;const a=i.addWorksheet(" ",{views:[{rightToLeft:!0}],pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0,margins:{left:.2,right:.2,top:.4,bottom:.4,header:.2,footer:.2}}});let o=1;a.mergeCells(`A${o}:O${o}`);const u=a.getCell(`A${o}`);u.value=ho.name,u.font={bold:!0,size:16,color:{argb:"FFFFFFFF"}},u.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F5A96"}},u.alignment={horizontal:"center",vertical:"middle"},a.getRow(o).height=30,o++,a.mergeCells(`A${o}:O${o}`);const l=a.getCell(`A${o}`);l.value=ho.subtitle,l.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},l.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E75B6"}},l.alignment={horizontal:"center",vertical:"middle"},a.getRow(o).height=25,o++,a.mergeCells(`A${o}:O${o}`);const d=a.getCell(`A${o}`),h=n?`  - ${n} - ${new Date().toLocaleDateString("en-GB")}`:`  - ${new Date().toLocaleDateString("en-GB")}`;d.value=h,d.font={bold:!0,size:14,color:{argb:"FF1F5A96"}},d.alignment={horizontal:"center",vertical:"middle"},a.getRow(o).height=28,o++,o++,[[" ",r(t.totalIncome)],[" ",r(t.totalExpenses)],[" ",r(t.balance)]].forEach(([A,P])=>{const D=a.getRow(o);a.mergeCells(`A${o}:D${o}`);const V=D.getCell(1);V.value=A,V.font={bold:!0,size:11},V.alignment={horizontal:"right",vertical:"middle"},a.mergeCells(`E${o}:H${o}`);const B=D.getCell(5);B.value=P,B.font={bold:!0,size:11,color:{argb:A===" "?t.balance>=0?"FF008000":"FFFF0000":"FF000000"}},B.alignment={horizontal:"left",vertical:"middle"},D.height=22,o++}),o++;const p=["#","","","",""," /"," "," ","",""," "," ","/"," "," "],g=a.getRow(o);p.forEach((A,P)=>{const D=g.getCell(P+1);D.value=A,D.font=ar.tableHeader.font,D.fill=ar.tableHeader.fill,D.alignment=ar.tableHeader.alignment,D.border=ar.tableHeader.border}),g.height=28,o++,a.getColumn(1).width=5,a.getColumn(2).width=12,a.getColumn(3).width=10,a.getColumn(4).width=14,a.getColumn(5).width=14,a.getColumn(6).width=16,a.getColumn(7).width=10,a.getColumn(8).width=11,a.getColumn(9).width=13,a.getColumn(10).width=8,a.getColumn(11).width=10,a.getColumn(12).width=9,a.getColumn(13).width=14,a.getColumn(14).width=11,a.getColumn(15).width=13,e.forEach((A,P)=>{const D=a.getRow(o),V=P%2===0?ar.tableCell:ar.tableCellAlt,C=new Date(A.date).toLocaleDateString("en-GB"),I=()=>A.workerName?A.workerName:A.materialName?A.materialName:A.description&&A.description!=="-"?A.description:"-",N=()=>A.supplierName?A.supplierName:A.recipientName?A.recipientName:"-";[P+1,C,tMe(A.type),A.category,A.projectName||" ",I(),A.workDays??"-",A.dailyWage?r(A.dailyWage):"-",A.payableAmount?r(A.payableAmount):"-",A.quantity??"-",A.unitPrice?r(A.unitPrice):"-",A.paymentType||"-",N(),A.transferMethod||"-",r(A.amount)].forEach((_,S)=>{const j=D.getCell(S+1);j.value=_,j.font=V.font,V.fill&&(j.fill=V.fill),j.alignment=V.alignment,j.border=V.border,S===2&&(A.type==="income"||A.type==="transfer_from_project"?j.font={...V.font,color:{argb:"FF008000"}}:A.type==="expense"?j.font={...V.font,color:{argb:"FFFF0000"}}:A.type==="deferred"&&(j.font={...V.font,color:{argb:"FFFF8C00"}})),S===8&&A.payableAmount&&A.amount===0&&(j.font={...V.font,bold:!0,color:{argb:"FFFF6600"}}),S===14&&(A.type==="income"||A.type==="transfer_from_project"?j.font={...V.font,bold:!0,color:{argb:"FF008000"}}:A.type==="expense"?j.font={...V.font,bold:!0,color:{argb:"FFFF0000"}}:A.type==="deferred"&&(j.font={...V.font,bold:!0,color:{argb:"FFFF8C00"}}))}),D.height=24,o++}),o++;const y=a.getRow(o);a.mergeCells(`A${o}:G${o}`);const m=y.getCell(1);m.value=` : ${e.length}`,m.font=ar.summaryRow.font,m.fill=ar.summaryRow.fill,m.alignment=ar.summaryRow.alignment,m.border=ar.summaryRow.border,a.mergeCells(`H${o}:O${o}`);const v=y.getCell(8);v.value=` : ${new Date().toLocaleDateString("en-GB")} ${new Date().toLocaleTimeString("en-GB")}`,v.font={size:10,italic:!0},v.alignment={horizontal:"center",vertical:"middle"},y.height=26,o+=2;const b=a.getRow(o);a.mergeCells(`A${o}:E${o}`);const x=b.getCell(1);x.value="  : ________________",x.font=ar.signatureBox.font,x.alignment=ar.signatureBox.alignment,x.border=ar.signatureBox.border,a.mergeCells(`K${o}:O${o}`);const k=b.getCell(11);k.value="  : ________________",k.font=ar.signatureBox.font,k.alignment=ar.signatureBox.alignment,k.border=ar.signatureBox.border,b.height=35,o+=2,a.mergeCells(`A${o}:O${o}`);const T=a.getCell(`A${o}`);T.value=`${ho.name} | ${ho.address} |     `,T.font=ar.footer.font,T.alignment=ar.footer.alignment;const O=await i.xlsx.writeBuffer(),F=`__${n?n+"_":""}${new Date().toISOString().split("T")[0]}.xlsx`;return await Mp(O,F)}function rMe(){const{getProjectIdForApi:e,isAllProjects:t}=Ao(),r=e()||"",[n,s]=E.useState("all"),[i,a]=E.useState(""),[o,u]=E.useState({}),[l,d]=E.useState(!1),{user:h}=ac(),{toast:f}=Br(),p=h?.role==="admin"||h?.role==="",{totals:g,isLoading:y}=$p({projectId:r||"all",enabled:!0}),m=E.useMemo(()=>({totalIncome:g?.totalIncome??0,totalExpenses:g?.totalCashExpenses??0,currentBalance:g?.totalBalance??0,deferredExpenses:g?.materialExpensesCredit??0}),[g]);[{title:"",value:m.totalIncome,icon:hn,color:"green",formatter:ee=>ze(ee)},{title:" ()",value:m.totalExpenses,icon:oi,color:"red",formatter:ee=>ze(ee)},{title:" ",value:m.currentBalance,icon:Jt,color:m.currentBalance>=0?"blue":"red",formatter:ee=>ze(ee)},{title:" ",value:m.deferredExpenses,icon:bn,color:"orange",formatter:ee=>ze(ee)}].map((ee,Z)=>c.jsx(Pt,{className:"overflow-hidden",children:c.jsx(Ft,{className:"p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`p-1.5 rounded-full bg-${ee.color}-100 dark:bg-${ee.color}-900/30`,children:c.jsx(ee.icon,{className:`h-3.5 w-3.5 text-${ee.color}-600 dark:text-${ee.color}-400`})}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("p",{className:"text-[10px] font-medium text-muted-foreground leading-none",children:ee.title}),c.jsx("p",{className:`text-xs font-bold arabic-numbers leading-none ${ee.color==="red"?"text-red-600":ee.color==="green"?"text-green-600":""}`,children:ee.formatter(ee.value)})]})]})})},Z));const b={staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1},{data:x=[]}=nt({queryKey:he.projects,...b}),{data:k=[],isLoading:T,error:O}=nt({queryKey:he.projectFundTransfersFiltered(r,t),queryFn:async()=>{try{if(console.log(`    : ${r},  : ${t}`),t){const ee=[];return await Promise.all(x.map(async Z=>{try{const Q=await Ie(`/api/projects/${Z.id}/fund-transfers`),ie=Array.isArray(Q?.data)?Q.data:Array.isArray(Q)?Q:[];ee.push(...ie.map(ce=>({...ce,projectId:Z.id,projectName:Z.name})))}catch(Q){console.error(`       ${Z.id}:`,Q)}})),console.log(`   ${ee.length}     `),ee}else{const ee=await Ie(`/api/projects/${r}/fund-transfers`);return console.log(`   ${Array.isArray(ee?.data)?ee.data.length:0}  `),Array.isArray(ee?.data)?ee.data:[]}}catch(ee){return console.error("     :",ee),[]}},enabled:(!!r||t)&&x.length>0,retry:1,staleTime:3e4}),{data:F=[],isLoading:A,error:P}=nt({queryKey:he.projectFundTransfersIncoming(r,t),queryFn:async()=>{try{console.log(`    : ${r},  : ${t}`);const ee=t?"/api/project-fund-transfers":`/api/projects/fund-transfers/incoming/${r}`,Z=await fetch(ee,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!Z.ok)return Z.status===401?(console.error("   -     "),[]):(console.error(`     : ${Z.status}`),[]);const Q=await Z.json(),ie=Array.isArray(Q?.data)?Q.data:Array.isArray(Q)?Q:[];return console.log(`   ${ie.length}   `),ie.length>0&&console.log("  :",ie.map(ce=>({:ce.fromProjectName,:ce.toProjectName,:ce.amount,:ce.transferDate}))),ie}catch(ee){return console.error("     :",ee),[]}},enabled:!0,retry:1,staleTime:3e4}),{data:D=[],isLoading:V,error:B}=nt({queryKey:he.projectFundTransfersOutgoing(r,t),queryFn:async()=>{try{console.log(`    : ${r},  : ${t}`);const ee=t?"/api/project-fund-transfers":`/api/projects/fund-transfers/outgoing/${r}`,Z=await fetch(ee,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!Z.ok)return Z.status===401?(console.error("   -     "),[]):(console.error(`     : ${Z.status}`),[]);const Q=await Z.json(),ie=Array.isArray(Q?.data)?Q.data:Array.isArray(Q)?Q:[];return console.log(`   ${ie.length}   `),ie.length>0&&console.log("  :",ie.map(ce=>({:ce.fromProjectName,:ce.toProjectName,:ce.amount,:ce.transferDate}))),ie}catch(ee){return console.error("     :",ee),[]}},enabled:!0,retry:1,staleTime:3e4}),{data:C=[],isLoading:I,error:N}=nt({queryKey:he.projectWorkerAttendanceFiltered(r,t),queryFn:async()=>{try{if(console.log(`    : ${r},  : ${t}`),t){const ee=[];for(const Z of x)try{const Q=await Ie(`/api/projects/${Z.id}/worker-attendance`),ie=Array.isArray(Q?.data)?Q.data:Array.isArray(Q)?Q:[];ee.push(...ie.map(ce=>({...ce,projectId:Z.id,projectName:Z.name})))}catch(Q){console.error(`      ${Z.id}:`,Q)}return console.log(`   ${ee.length}     `),ee}else{const ee=await Ie(`/api/projects/${r}/worker-attendance`),Z=Array.isArray(ee?.data)?ee.data:Array.isArray(ee)?ee:[];return console.log(`   ${Z.length}   `),Z}}catch(ee){return console.error("     :",ee),[]}},enabled:(!!r||t)&&x.length>0,retry:1,staleTime:3e4}),{data:w=[],isLoading:_,error:S}=nt({queryKey:he.projectMaterialPurchasesFiltered(r,t),queryFn:async()=>{try{if(console.log(`    : ${r},  : ${t}`),t){const ee=[];for(const Z of x)try{const Q=await fetch(`/api/projects/${Z.id}/material-purchases`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(Q.ok){const ie=await Q.json(),ce=Array.isArray(ie?.data)?ie.data:Array.isArray(ie)?ie:[];ee.push(...ce.map(ge=>({...ge,projectId:Z.id,projectName:Z.name})))}}catch(Q){console.error(`      ${Z.id}:`,Q)}return console.log(`   ${ee.length}     `),ee}else{const ee=await fetch(`/api/projects/${r}/material-purchases`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!ee.ok)return ee.status===401?(console.error("   -     "),[]):(console.error(`     : ${ee.status}`),[]);const Z=await ee.json(),Q=Array.isArray(Z?.data)?Z.data:Array.isArray(Z)?Z:[];return console.log(`   ${Q.length}  `),Q}}catch(ee){return console.error("     :",ee),[]}},enabled:(!!r||t)&&x.length>0,retry:1,staleTime:3e4}),{data:j=[],isLoading:R}=nt({queryKey:he.transportationExpensesFiltered(t,r),queryFn:async()=>{try{if(console.log(`    -  : ${t}, : ${r}`),t){const ee=[];for(const Z of x)try{const Q=await Ie(`/api/transportation-expenses?projectId=${Z.id}`),ie=Array.isArray(Q?.data)?Q.data:Array.isArray(Q)?Q:[];ee.push(...ie.map(ce=>({...ce,projectId:Z.id,projectName:Z.name})))}catch(Q){console.error(`       ${Z.id}:`,Q)}return console.log(`   ${ee.length}     `),ee}else{let ee="/api/transportation-expenses";r&&(ee=`/api/transportation-expenses?projectId=${r}`);const Z=await Ie(ee),Q=Array.isArray(Z?.data)?Z.data:Array.isArray(Z)?Z:[];return console.log(`   ${Q.length}  `),Q}}catch(ee){return console.error("     :",ee),[]}},enabled:(!!r||t)&&x.length>0,retry:1,staleTime:3e4}),{data:$=[],isLoading:U}=nt({queryKey:he.workerMiscExpensesFiltered(t,r),queryFn:async()=>{try{if(console.log(`    -  : ${t}, : ${r}`),t){const ee=[];for(const Z of x)try{const Q=await Ie(`/api/worker-misc-expenses?projectId=${Z.id}`),ie=Array.isArray(Q?.data)?Q.data:Array.isArray(Q)?Q:[];ee.push(...ie.map(ce=>({...ce,projectId:Z.id,projectName:Z.name})))}catch(Q){console.error(`      ${Z.id}:`,Q)}return console.log(`   ${ee.length}     `),ee}else{let ee="/api/worker-misc-expenses";r&&(ee=`/api/worker-misc-expenses?projectId=${r}`);const Z=await Ie(ee),Q=Array.isArray(Z?.data)?Z.data:Array.isArray(Z)?Z:[];return console.log(`   ${Q.length}  `),Q}}catch(ee){return console.error("     :",ee),[]}},enabled:(!!r||t)&&x.length>0,retry:1,staleTime:3e4}),{data:q=[],isLoading:H,error:Y}=nt({queryKey:he.workerTransfersFiltered(r,t),queryFn:async()=>{try{if(console.log(`    : ${r},  : ${t}`),t){const ee=[];for(const Z of x)try{const Q=await Ie(`/api/worker-transfers?projectId=${Z.id}`),ie=Array.isArray(Q?.data)?Q.data:Array.isArray(Q)?Q:[];ee.push(...ie.map(ce=>({...ce,projectId:Z.id,projectName:ce.projectName||Z.name})))}catch(Q){console.error(`      ${Z.id}:`,Q)}return console.log(`   ${ee.length}     `),ee}else{const ee=r?`/api/worker-transfers?projectId=${r}`:"/api/worker-transfers",Z=await Ie(ee),Q=Array.isArray(Z?.data)?Z.data:Array.isArray(Z)?Z:[];return console.log(`   ${Q.length}  `),Q}}catch(ee){return console.error("     :",ee),[]}},enabled:x.length>0,retry:1,staleTime:3e4}),{data:M=[]}=nt({queryKey:he.workers}),K=ee=>t?!0:ee.projectId===r,z=E.useMemo(()=>{const ee=[],Z=Array.isArray(k)?k:[],Q=Array.isArray(F)?F:[],ie=Array.isArray(D)?D:[],ce=Array.isArray(C)?C:[],ge=Array.isArray(w)?w:[],we=Array.isArray(j)?j:[],Te=Array.isArray($)?$:[],Ae=Array.isArray(q)?q:[],De=Array.isArray(M)?M:[];console.log(`     ${r}`),console.log("  :",{fundTransfers:Z?.length||0,incomingProjectTransfers:Q?.length||0,outgoingProjectTransfers:ie?.length||0,workerAttendance:ce?.length||0,materialPurchases:ge?.length||0,transportExpenses:we?.length||0,miscExpenses:Te?.length||0,workerTransfers:Ae?.length||0});const Fe=de=>de&&x.find($e=>String($e.id)===String(de))?.name||" ";console.log("   :",Z.length),Z.forEach(de=>{const Pe=de.transferDate,$e=parseFloat(de.amount);Pe&&!isNaN($e)&&$e>0&&ee.push({id:`fund-${de.id}`,date:Pe,type:"income",category:" ",amount:$e,description:`: ${de.senderName||" "}`,projectId:de.projectId,projectName:de.projectName||Fe(de.projectId)})}),Q.length>0?(console.log(`  ${Q.length}  `),Q.forEach(de=>{const Pe=de.transferDate,$e=parseFloat(de.amount);Pe&&!isNaN($e)&&$e>0&&(console.log(`   : ${$e}  ${de.fromProjectName}`),ee.push({id:`project-in-${de.id}`,date:Pe,type:"transfer_from_project",category:"    ",amount:$e,description:`  : ${de.fromProjectName||" "}${de.description?` - ${de.description}`:""}`,projectId:de.toProjectId,projectName:de.toProjectName||Fe(de.toProjectId)}))})):console.log(`      ${r}`),ie.length>0?(console.log(`  ${ie.length}  `),ie.forEach(de=>{const Pe=de.transferDate,$e=parseFloat(de.amount);Pe&&!isNaN($e)&&$e>0&&(console.log(`   : ${$e}  ${de.toProjectName}`),ee.push({id:`project-out-${de.id}`,date:Pe,type:"expense",category:"    ",amount:$e,description:`  : ${de.toProjectName||" "}${de.description?` - ${de.description}`:""}`,projectId:de.fromProjectId,projectName:de.fromProjectName||Fe(de.fromProjectId)}))})):console.log(`      ${r}`),console.log("   :",ce.length),ce.forEach((de,Pe)=>{const $e=de.date||de.attendanceDate||de.created_at;let yt=0;if(de.paidAmount!==void 0&&de.paidAmount!==null&&de.paidAmount!==""){const gt=parseFloat(de.paidAmount);!isNaN(gt)&&gt>0&&(yt=gt)}else if(de.actualWage!==void 0&&de.actualWage!==null&&de.actualWage!==""){const gt=parseFloat(de.actualWage);!isNaN(gt)&&gt>0&&(yt=gt)}let Ot=0;const it=de.dailyWage?parseFloat(de.dailyWage):0,Bt=de.workDays?parseFloat(de.workDays):0;!isNaN(it)&&!isNaN(Bt)&&it>0&&Bt>0&&(Ot=it*Bt);const st=yt>0?yt:0;if($e&&(Ot>0||st>0)){const dt=(Array.isArray(De)?De.find(qt=>qt.id===de.workerId):void 0)?.name||de.workerName||de.worker?.name||de.name||" ",sr=de.workDays?` (${de.workDays} )`:"",_t=Ot>0&&yt===0?" -  ":"",ir={id:`wage-${de.id}`,date:$e,type:"expense",category:Ot>0&&yt===0?"  ( )":" ",amount:st,description:`${dt}${sr}${_t}`,workerName:dt,workDays:Bt>0?Bt:void 0,dailyWage:it>0?it:void 0,payableAmount:Ot>0?Ot:void 0,projectId:de.projectId,projectName:de.projectName||Fe(de.projectId)};ee.push(ir)}});const rt=ge.filter(K);console.log("   :",rt.length),rt.forEach(de=>{const Pe=de.purchaseDate||de.date;let $e=0;if(de.totalAmount&&!isNaN(parseFloat(de.totalAmount))?$e=parseFloat(de.totalAmount):de.amount&&!isNaN(parseFloat(de.amount))?$e=parseFloat(de.amount):de.cost&&!isNaN(parseFloat(de.cost))&&($e=parseFloat(de.cost)),Pe&&$e>0){const yt=de.purchaseType===""||de.paymentType==="deferred"||de.isDeferred||de.deferred;ee.push({id:`material-${de.id}`,date:Pe,type:yt?"deferred":"expense",category:yt?" ":" ",amount:$e,description:`: ${de.materialName||de.name||" "}${yt?" ()":""}`,materialName:de.materialName||de.name||" ",quantity:de.quantity?parseFloat(de.quantity):void 0,unitPrice:de.unitPrice?parseFloat(de.unitPrice):void 0,paymentType:yt?"":"",supplierName:de.supplierName||de.supplier?.name||"",projectId:de.projectId,projectName:de.projectName||Fe(de.projectId)})}});const qe=we.filter(K);console.log("   :",qe.length),qe.forEach(de=>{const Pe=de.date,$e=parseFloat(de.amount);Pe&&!isNaN($e)&&$e>0&&ee.push({id:`transport-${de.id}`,date:Pe,type:"expense",category:"",amount:$e,description:`: ${de.description||" "}`,projectId:de.projectId,projectName:de.projectName||Fe(de.projectId)})});const Ve=Te.filter(K);console.log("   :",Ve.length),Ve.forEach(de=>{const Pe=de.date,$e=parseFloat(de.amount);Pe&&!isNaN($e)&&$e>0&&ee.push({id:`misc-${de.id}`,date:Pe,type:"expense",category:"",amount:$e,description:`: ${de.description||de.workerName||" "}`,projectId:de.projectId,projectName:de.projectName||Fe(de.projectId)})}),console.log("   :",Ae.length),Ae.forEach(de=>{const Pe=de.transferDate||de.date,$e=parseFloat(de.amount);if(Pe&&!isNaN($e)&&$e>0){const Ot=(Array.isArray(De)?De.find(st=>st.id===de.workerId):void 0)?.name||de.workerName||"  ",it=de.recipientName?`  ${de.recipientName}`:"",Bt=de.transferMethod==="hawaleh"?"()":de.transferMethod==="bank"?"( )":"()";ee.push({id:`worker-transfer-${de.id}`,date:Pe,type:"expense",category:" ",amount:$e,description:`${Ot}${it} ${Bt}`,workerName:Ot,recipientName:de.recipientName||"",transferMethod:de.transferMethod==="hawaleh"?"":de.transferMethod==="bank"?"":"",projectId:de.projectId,projectName:de.projectName||Fe(de.projectId)})}});const pe=ee.filter(de=>de.date&&!isNaN(new Date(de.date).getTime())).sort((de,Pe)=>new Date(Pe.date).getTime()-new Date(de.date).getTime());return console.log(`  : ${pe.length}   ${ee.length}`),console.log("   :",{_:pe.filter(de=>de.category===" ").length,_:pe.filter(de=>de.type==="transfer_from_project").length,_:pe.filter(de=>de.category==="    ").length,_:pe.filter(de=>de.category===" ").length,_:pe.filter(de=>de.category===" ").length,_:pe.filter(de=>de.category===" ").length,_:pe.filter(de=>de.type==="deferred").length,:pe.filter(de=>de.category==="").length,:pe.filter(de=>de.category==="").length,:pe.length}),pe},[r,t,k,F,D,C,w,j,$,q,M,x]),L=E.useMemo(()=>{let ee=z;return n!=="all"&&(ee=ee.filter(Z=>Z.type===n)),i&&(ee=ee.filter(Z=>Z.description.toLowerCase().includes(i.toLowerCase())||Z.category.toLowerCase().includes(i.toLowerCase()))),o.from&&(ee=ee.filter(Z=>new Date(Z.date)>=o.from)),o.to&&(ee=ee.filter(Z=>new Date(Z.date)<=o.to)),ee},[z,n,i,o]),W=E.useMemo(()=>{const ee=z.filter(Ae=>Ae.type==="income").reduce((Ae,De)=>Ae+(De.amount||0),0),Z=z.filter(Ae=>Ae.type==="transfer_from_project").reduce((Ae,De)=>Ae+(De.amount||0),0),Q=z.filter(Ae=>Ae.type==="expense").reduce((Ae,De)=>Ae+(De.amount||0),0),ie=z.filter(Ae=>Ae.type==="deferred").reduce((Ae,De)=>Ae+(De.amount||0),0),ce=z.filter(Ae=>Ae.category==="    ").reduce((Ae,De)=>Ae+(De.amount||0),0),ge=Q-ce,we=ee+Z,Te=Q+ie;return console.log("  :",{income:ee,transferFromProject:Z,expenses:Q,deferredExpenses:ie,otherExpenses:ge,transferToProjectExpenses:ce,totalIncome:we,totalExpenses:Te,balance:we-Te}),{income:ee,transferFromProject:Z,otherExpenses:ge,transferToProjectExpenses:ce,deferredExpenses:ie,totalIncome:we,expenses:Te,totalExpenses:Te,balance:we-Te}},[z]);Array.isArray(x)&&x.find(ee=>ee.id===r)?.name;const J=ee=>ze(ee),le=()=>x.find(ee=>ee.id===r)?.name||"",ue={key:"export",icon:l?Mr:N0,label:" Excel",onClick:async()=>{if(!(l||L.length===0)){d(!0);try{const ee=await Tre(L,{totalIncome:W.totalIncome,totalExpenses:W.totalExpenses,balance:W.balance},ze,t?" ":le());f(ee?{title:"  ",description:`  ${L.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(ee){console.error("  :",ee),f({title:"  ",description:"    ",variant:"destructive"})}finally{d(!1)}}},variant:"outline",disabled:l||L.length===0,loading:l,tooltip:"     Excel"},G=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"totalIncome",label:"",value:W.totalIncome,icon:hn,color:"green",formatter:J},{key:"totalExpenses",label:" ()",value:W.totalExpenses,icon:oi,color:"red",formatter:J},{key:"balance",label:" ",value:W.balance,icon:Jt,color:W.balance>=0?"blue":"red",formatter:J},{key:"deferred",label:" ",value:W.deferredExpenses,icon:bn,color:"orange",formatter:J}]}],[W]),{data:te}=nt({queryKey:he.autocompleteTransactionCategories,queryFn:async()=>Ie("/api/autocomplete/transaction-categories","GET")}),ae=[{key:"type",label:" ",type:"select",placeholder:" ",options:E.useMemo(()=>{const ee=[{value:"all",label:" "},{value:"income",label:""},{value:"expense",label:""},{value:"deferred",label:""},{value:"transfer_from_project",label:"    "}];if(!te?.data)return ee;const Z=new Set(ee.map(ie=>ie.value)),Q=te.data.map(ie=>({value:ie.value,label:ie.label})).filter(ie=>!Z.has(ie.value));return[...ee,...Q]},[te])},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],re=T||A||V||I||_||H||R||U;return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-24 md:pb-20",children:[c.jsx(Qa,{statsRows:G,searchValue:i,onSearchChange:a,searchPlaceholder:"    ...",showSearch:!0,filters:ae,actions:[ue],filterValues:{type:n,dateRange:o},onFilterChange:(ee,Z)=>{ee==="type"?s(Z):ee==="dateRange"&&u(Z||{})},onReset:()=>{a(""),s("all"),u({})}}),(O||N||S||Y||P||B)&&c.jsx(Pt,{className:"bg-red-50 border-red-200",children:c.jsx(Ft,{className:"p-4",children:c.jsxs("div",{className:"text-red-800",children:[c.jsx("h3",{className:"font-semibold",children:"    :"}),O&&c.jsx("p",{children:"     "}),N&&c.jsx("p",{children:"     "}),S&&c.jsx("p",{children:"     "}),Y&&c.jsx("p",{children:"     "}),P&&c.jsx("p",{children:"     "}),B&&c.jsx("p",{children:"     "}),c.jsx("p",{className:"text-sm mt-2 text-red-600",children:"         ."})]})})}),c.jsx("div",{className:"space-y-4 md:space-y-6",children:re?c.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(ee=>c.jsx(Pt,{className:"bg-white dark:bg-slate-900",children:c.jsx(Ft,{className:"p-4 md:p-6",children:c.jsx(Kr,{className:"h-20 w-full"})})},ee))}):L.length===0?c.jsx(Pt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:c.jsx(Ft,{className:"p-12",children:c.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[c.jsx(Fs,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),c.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"     "})]})})}):c.jsx(Ns,{columns:2,children:L.map(ee=>{const Z=ee.type==="income"||ee.type==="transfer_from_project",Q=ee.type==="deferred",ie=Z?"":Q?"":"",ce=()=>ee.category===" "?"/daily-expenses":ee.category===" "?"/worker-attendance":ee.category===" "?"/worker-accounts":ee.category===" "||ee.type==="deferred"?"/material-purchase":ee.category===""?"/daily-expenses":ee.category===""?"/worker-misc-expenses":ee.category.includes("")?"/project-transfers":"/daily-expenses";return c.jsx(Gr,{title:J(ee.amount),subtitle:ur(new Date(ee.date),"dd/MM/yyyy",{locale:Fi}),titleIcon:Z?Gbe:Hbe,headerColor:Z?"#10b981":Q?"#f59e0b":"#ef4444",badges:[{label:ee.category,variant:Z?"default":Q?"warning":"destructive"},{label:ie,variant:Z?"success":Q?"warning":"destructive"}],fields:[{label:"",value:ee.projectName||" ",icon:Gn,color:"info"},{label:"",value:ie,icon:Z?hn:oi,color:Z?"success":Q?"warning":"danger",emphasis:!0},{label:"",value:ee.category,icon:Fs,color:"default"},{label:"",value:J(ee.amount),icon:Jt,color:Z?"success":Q?"warning":"danger",emphasis:!0},{label:"",value:ee.description,icon:Fs,color:"default"}],actions:[{icon:du,label:"",onClick:()=>{const ge=ce();window.location.href=ge},color:"blue"},...p?[{icon:An,label:"",onClick:()=>{confirm(`      
${ee.category} - ${J(ee.amount)}`)&&f({title:"",description:"  ...",variant:"destructive"})},color:"red"}]:[]],compact:!0},ee.id)})})})]})})})}function nMe(){const{toast:e}=Br(),t=ns(),{setFloatingAction:r}=Io(),[n,s]=E.useState(null),[i,a]=E.useState(!1),o=[{key:"project",label:"",type:"select",placeholder:" ",options:[]},{key:"transferType",label:" ",type:"select",placeholder:" ",options:[{value:"",label:""},{value:"",label:""},{value:" ",label:" "}]},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],[u,l]=E.useState(""),[d,h]=E.useState({project:"",transferType:"",dateRange:{from:void 0,to:void 0}}),f=_=>l(_),p=(_,S)=>{h(j=>({...j,[_]:S}))},g=()=>{l(""),h({project:"",transferType:"",dateRange:{from:void 0,to:void 0}})},{data:y=[]}=nt({queryKey:he.projects,queryFn:async()=>(await Ie("/api/projects","GET")).data||[]}),{data:m=[],isLoading:v,refetch:b}=nt({queryKey:he.allFundTransfers,queryFn:async()=>(await Ie("/api/projects/all/fund-transfers","GET")).data||[]}),x=E.useMemo(()=>{let _=m;if(u){const S=u.toLowerCase();_=_.filter(j=>j.senderName?.toLowerCase().includes(S)||j.transferNumber?.toLowerCase().includes(S)||j.notes?.toLowerCase().includes(S)||j.projectName?.toLowerCase().includes(S))}if(d.project&&d.project!=="all"&&(_=_.filter(S=>S.projectId===d.project)),d.transferType&&(_=_.filter(S=>S.transferType===d.transferType)),d.dateRange?.from||d.dateRange?.to){const S=d.dateRange.from?new Date(d.dateRange.from).getTime():0,j=d.dateRange.to?new Date(d.dateRange.to).getTime():1/0;_=_.filter(R=>{const $=new Date(R.transferDate).getTime();return $>=S&&$<=j})}return _},[m,u,d]),{totals:k,isLoading:T,refetch:O}=$p(),F=E.useMemo(()=>({total:m.length,totalAmount:k?.totalIncome||m.reduce((_,S)=>_+(parseFloat(S.amount?.toString()||"0")||0),0),currentBalance:k?.totalBalance||0,filtered:x.length,today:x.filter(_=>new Date(_.transferDate).toDateString()===new Date().toDateString()).length,thisWeek:x.filter(_=>{const S=new Date(_.transferDate),j=new Date,R=new Date(j.getTime()-10080*60*1e3);return S>=R&&S<=j}).length}),[m,x,k]),A=ht({mutationFn:async _=>n?Ie(`/api/fund-transfers/${n.id}`,"PATCH",_):Ie("/api/fund-transfers","POST",_),onSuccess:()=>{t.refetchQueries({queryKey:he.allFundTransfers}),t.refetchQueries({queryKey:he.projectsWithStats}),e({title:" ",description:n?"  ":"   "}),D.reset(),s(null),a(!1)},onError:_=>{e({title:"",description:_.message||"   ",variant:"destructive"})}}),P=ht({mutationFn:async _=>Ie(`/api/fund-transfers/${_}`,"DELETE"),onSuccess:()=>{t.refetchQueries({queryKey:he.allFundTransfers}),t.refetchQueries({queryKey:he.projectsWithStats}),e({title:" ",description:"   "})},onError:_=>{e({title:"",description:_.message||"   ",variant:"destructive"})}}),D=Xl({resolver:Yl(O9e),defaultValues:{projectId:"",amount:"",senderName:"",transferNumber:"",transferType:"",transferDate:new Date().toISOString().split("T")[0],notes:""}});E.useEffect(()=>(r(()=>{s(null),D.reset({projectId:"",amount:"",senderName:"",transferNumber:"",transferType:"",transferDate:new Date().toISOString().split("T")[0],notes:""}),a(!0)}," "),()=>r(null)),[r,D]);const V=_=>{if(!_.projectId){e({title:"",description:"  ",variant:"destructive"});return}A.mutate(_)},B=_=>{s(_),D.reset({projectId:_.projectId,amount:_.amount,senderName:_.senderName||"",transferNumber:_.transferNumber||"",transferType:_.transferType||"",transferDate:_.transferDate,notes:_.notes||""}),a(!0)},C=_=>{if(typeof _!="number"){const S=parseFloat(String(_));if(isNaN(S))return"0 .";_=S}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(_)+" ."},I=E.useMemo(()=>y.map(_=>({value:_.id,label:_.name})),[y]),N=E.useMemo(()=>o.map(_=>_.key==="project"?{..._,options:I}:_),[I]),w=E.useMemo(()=>[{columns:4,gap:"sm",items:[{key:"totalAmount",label:" ",value:F.totalAmount,icon:hn,color:"blue",formatter:C},{key:"totalExpenses",label:" ",value:k?.totalCashExpenses||0,icon:hn,color:"red",formatter:C},{key:"currentBalance",label:" ",value:F.currentBalance,icon:Jt,color:F.currentBalance>=0?"green":"red",formatter:C},{key:"filtered",label:" ",value:F.filtered,icon:Fs,color:"purple"}]}],[F,k]);return c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:[c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-24 md:pb-20",children:[c.jsx(Qa,{statsRows:w,searchValue:u,onSearchChange:f,searchPlaceholder:"  ...",showSearch:!0,filters:N,filterValues:d,onFilterChange:p,onReset:g,onRefresh:()=>b(),isRefreshing:v}),c.jsx("div",{className:"space-y-4 md:space-y-6",children:v?c.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(_=>c.jsx(Pt,{className:"bg-white dark:bg-slate-900",children:c.jsx(Ft,{className:"p-4 md:p-6",children:c.jsx(Kr,{className:"h-20 w-full"})})},_))}):x.length===0?c.jsx(Pt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:c.jsx(Ft,{className:"p-12",children:c.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[c.jsx(Jt,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),c.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"   "})]})})}):c.jsx(Ns,{columns:2,children:x.map(_=>c.jsx(Gr,{title:C(parseFloat(_.amount?.toString()||"0")),titleIcon:Jt,headerColor:"#10b981",badges:[{label:new Date(_.transferDate).toLocaleDateString("en-GB"),variant:"outline"}],fields:[{label:"",value:_.projectName||" ",icon:Gn,color:"info"},{label:"",value:_.senderName||" ",icon:Fs,color:"default"},{label:" ",value:_.transferNumber||" ",icon:Fs,color:"default"},{label:"",value:_.transferType||" ",icon:Fs,color:"default"},{label:"",value:new Date(_.transferDate).toLocaleDateString("en-GB"),icon:rs,color:"info"}],actions:[{icon:du,label:"",onClick:()=>B(_),color:"blue"},{icon:An,label:"",onClick:()=>P.mutate(_.id),color:"red"}],compact:!0},_.id))})})]})}),i&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-end md:items-center justify-center p-4",children:c.jsxs(Pt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-2xl w-full max-h-[90vh] md:max-h-[80vh] md:w-full md:max-w-2xl rounded-t-2xl md:rounded-xl overflow-y-auto",children:[c.jsx(Cn,{className:"sticky top-0 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 p-4 md:p-5 z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(zn,{className:"text-slate-900 dark:text-white text-base md:text-lg",children:n?" ":"  "}),c.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{a(!1),s(null),D.reset()},className:"h-8 w-8 p-0",children:""})]})}),c.jsx(Ft,{className:"p-4 md:p-6 pb-4 md:pb-6",children:c.jsx(Jl,{...D,children:c.jsxs("form",{onSubmit:D.handleSubmit(V),className:"space-y-4 md:space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[c.jsx(Ir,{control:D.control,name:"amount",render:({field:_})=>c.jsxs(Cr,{children:[c.jsx(Tn,{className:"text-xs md:text-sm font-semibold",children:" () *"}),c.jsx(Rr,{children:c.jsx(tt,{type:"number",step:"0.01",placeholder:"0",..._,autoWidth:!0,maxWidth:250,onChange:S=>_.onChange(S.target.value),className:"h-10 md:h-11 border-2 text-xs md:text-sm"})}),c.jsx(dn,{className:"text-xs"})]})}),c.jsx(uIe,{name:"transferDate",control:D.control,label:" *",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[c.jsx(Ir,{control:D.control,name:"projectId",render:({field:_})=>c.jsxs(Cr,{children:[c.jsx(Tn,{className:"text-sm font-semibold",children:" *"}),c.jsx(Rr,{children:c.jsxs(Rn,{value:_.value,onValueChange:_.onChange,children:[c.jsx(wn,{className:"h-10 md:h-11 border-2",children:c.jsx(On,{placeholder:" "})}),c.jsx(_n,{className:"z-[100]",children:y.map(S=>c.jsx(vt,{value:S.id,children:S.name},S.id))})]})}),c.jsx(dn,{className:"text-xs"})]})}),c.jsx(Ir,{control:D.control,name:"transferType",render:({field:_})=>c.jsxs(Cr,{children:[c.jsx(Tn,{className:"text-sm font-semibold",children:" "}),c.jsx(Rr,{children:c.jsxs(Rn,{value:_.value||"",onValueChange:_.onChange,children:[c.jsx(wn,{className:"h-10 md:h-11 border-2",children:c.jsx(On,{placeholder:" "})}),c.jsxs(_n,{className:"z-[100]",children:[c.jsx(vt,{value:"",children:""}),c.jsx(vt,{value:"",children:""}),c.jsx(vt,{value:" ",children:" "})]})]})}),c.jsx(dn,{className:"text-xs"})]})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[c.jsx(Ir,{control:D.control,name:"senderName",render:({field:_})=>c.jsxs(Cr,{children:[c.jsx(Tn,{className:"text-sm font-semibold",children:" "}),c.jsx(Rr,{children:c.jsx(us,{category:"senderNames",placeholder:" ",value:_.value||"",onChange:_.onChange,className:"h-10 md:h-11 border-2"})}),c.jsx(dn,{className:"text-xs"})]})}),c.jsx(Ir,{control:D.control,name:"transferNumber",render:({field:_})=>c.jsxs(Cr,{children:[c.jsx(Tn,{className:"text-sm font-semibold",children:" "}),c.jsx(Rr,{children:c.jsx(us,{category:"transferNumbers",placeholder:" ",value:_.value||"",onChange:_.onChange,className:"h-10 md:h-11 border-2"})}),c.jsx(dn,{className:"text-xs"})]})})]}),c.jsx(Ir,{control:D.control,name:"notes",render:({field:_})=>c.jsxs(Cr,{children:[c.jsx(Tn,{className:"text-sm font-semibold",children:""}),c.jsx(Rr,{children:c.jsx(us,{category:"notes",placeholder:" ",value:_.value||"",onChange:_.onChange,className:"border-2 min-h-24 md:min-h-28"})}),c.jsx(dn,{className:"text-xs"})]})}),c.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4 md:p-6 mt-6 -mx-4 md:-mx-6 z-50 flex gap-3 shadow-lg",children:[c.jsx(Se,{type:"submit",disabled:A.isPending,className:"flex-1 h-10 md:h-11 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold shadow-lg shadow-green-500/30",children:A.isPending?" ...":n?"":" "}),n&&c.jsx(Se,{type:"button",variant:"outline",onClick:()=>{s(null),D.reset()},className:"flex-1 h-10 md:h-11 border-2",children:""})]})]})})})]})})]})}var sMe=Symbol("radix.slottable");function iMe(e){const t=({children:r})=>c.jsx(c.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=sMe,t}var Ere="AlertDialog",[aMe]=Ws(Ere,[BX]),lc=BX(),Cre=e=>{const{__scopeAlertDialog:t,...r}=e,n=lc(t);return c.jsx(T6,{...n,...r,modal:!0})};Cre.displayName=Ere;var oMe="AlertDialogTrigger",lMe=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=lc(r);return c.jsx(E6,{...s,...n,ref:t})});lMe.displayName=oMe;var cMe="AlertDialogPortal",Are=e=>{const{__scopeAlertDialog:t,...r}=e,n=lc(t);return c.jsx(C6,{...n,...r})};Are.displayName=cMe;var uMe="AlertDialogOverlay",Pre=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=lc(r);return c.jsx(ly,{...s,...n,ref:t})});Pre.displayName=uMe;var fh="AlertDialogContent",[dMe,fMe]=aMe(fh),hMe=iMe("AlertDialogContent"),Ire=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=lc(r),a=E.useRef(null),o=tr(t,a),u=E.useRef(null);return c.jsx(cEe,{contentName:fh,titleName:Rre,docsSlug:"alert-dialog",children:c.jsx(dMe,{scope:r,cancelRef:u,children:c.jsxs(cy,{role:"alertdialog",...i,...s,ref:o,onOpenAutoFocus:et(s.onOpenAutoFocus,l=>{l.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:l=>l.preventDefault(),onInteractOutside:l=>l.preventDefault(),children:[c.jsx(hMe,{children:n}),c.jsx(mMe,{contentRef:a})]})})})});Ire.displayName=fh;var Rre="AlertDialogTitle",Ore=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=lc(r);return c.jsx(Cp,{...s,...n,ref:t})});Ore.displayName=Rre;var Mre="AlertDialogDescription",Dre=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=lc(r);return c.jsx(Ap,{...s,...n,ref:t})});Dre.displayName=Mre;var pMe="AlertDialogAction",$re=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=lc(r);return c.jsx(uy,{...s,...n,ref:t})});$re.displayName=pMe;var Lre="AlertDialogCancel",Fre=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=fMe(Lre,r),i=lc(r),a=tr(t,s);return c.jsx(uy,{...i,...n,ref:a})});Fre.displayName=Lre;var mMe=({contentRef:e})=>{const t=`\`${fh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${fh}\` by passing a \`${Mre}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${fh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},gMe=Cre,yMe=Are,zre=Pre,Bre=Ire,Ure=$re,Vre=Fre,Wre=Ore,qre=Dre;const bMe=gMe,vMe=yMe,Hre=E.forwardRef(({className:e,...t},r)=>c.jsx(zre,{className:_e("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Hre.displayName=zre.displayName;const Kre=E.forwardRef(({className:e,...t},r)=>c.jsxs(vMe,{children:[c.jsx(Hre,{}),c.jsx(Bre,{ref:r,className:_e("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),style:{pointerEvents:"auto"},...t})]}));Kre.displayName=Bre.displayName;const Gre=({className:e,...t})=>c.jsx("div",{className:_e("flex flex-col space-y-2 text-center sm:text-left",e),...t});Gre.displayName="AlertDialogHeader";const Zre=({className:e,...t})=>c.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zre.displayName="AlertDialogFooter";const Xre=E.forwardRef(({className:e,...t},r)=>c.jsx(Wre,{ref:r,className:_e("text-lg font-semibold",e),...t}));Xre.displayName=Wre.displayName;const Yre=E.forwardRef(({className:e,...t},r)=>c.jsx(qre,{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));Yre.displayName=qre.displayName;const Qre=E.forwardRef(({className:e,...t},r)=>c.jsx(Ure,{ref:r,className:_e(Hg(),e),...t}));Qre.displayName=Ure.displayName;const Jre=E.forwardRef(({className:e,...t},r)=>c.jsx(Vre,{ref:r,className:_e(Hg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Jre.displayName=Vre.displayName;function xMe(){return c.jsxs(Pt,{className:"overflow-hidden",children:[c.jsx("div",{className:"h-2 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600"}),c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Kr,{className:"h-10 w-10 rounded-lg"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Kr,{className:"h-5 w-32"}),c.jsx(Kr,{className:"h-3 w-20"})]})]}),c.jsx(Kr,{className:"h-6 w-16 rounded-full"})]}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:[...Array(6)].map((e,t)=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Kr,{className:"h-4 w-4 rounded"}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx(Kr,{className:"h-3 w-12"}),c.jsx(Kr,{className:"h-4 w-16"})]})]},t))}),c.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[c.jsx(Kr,{className:"h-8 w-8 rounded"}),c.jsx(Kr,{className:"h-8 w-8 rounded"})]})]})]})}function wMe(){return c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",children:[...Array(6)].map((e,t)=>c.jsxs("div",{className:"flex items-center gap-3 p-2",children:[c.jsx(Kr,{className:"h-10 w-10 rounded-lg"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Kr,{className:"h-3 w-16"}),c.jsx(Kr,{className:"h-5 w-20"})]})]},t))})}function _Me(){return c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",children:[c.jsx(Kr,{className:"h-9 flex-1 rounded-lg"}),c.jsx(Kr,{className:"h-8 w-8 rounded-lg"}),c.jsxs("div",{className:"flex items-center gap-1 ps-2 border-r border-gray-200 dark:border-gray-700 pe-2",children:[c.jsx(Kr,{className:"h-8 w-8 rounded-lg"}),c.jsx(Kr,{className:"h-8 w-8 rounded-lg"})]})]})}function SMe(){return c.jsxs("div",{className:"space-y-2 p-2 animate-in fade-in duration-300",children:[c.jsx(wMe,{}),c.jsx(_Me,{}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-4",children:[...Array(8)].map((e,t)=>c.jsx(xMe,{},t))})]})}class kMe{constructor(){this.baseURL=`${Fh.getApiBaseUrl()}/api`}async request(t,r={}){const n=typeof window<"u"?localStorage.getItem("accessToken"):null;if(vo.getPlatform()!=="web"&&typeof navigator<"u"&&!navigator.onLine)throw console.warn(` [API] Offline mode on ${vo.getPlatform()}: skipping direct request to ${t}`),new Error("OFFLINE_MODE");try{const s=`${this.baseURL}${t}`;console.log(` API Request: ${r.method||"GET"} ${t}`,r.body||"");const i={"Content-Type":"application/json"};if(n&&n!=="undefined"&&n!=="null"){const u=n.replace(/^["'](.+)["']$/,"$1");i.Authorization=`Bearer ${u}`,i["x-auth-token"]=u}const a=await fetch(s,{...r,headers:{...i,...r.headers}});if(a.status===401&&(await a.clone().json().catch(()=>({}))).code==="TOKEN_EXPIRED"&&t!=="/auth/refresh"){console.log(" [API] Token expired, attempting refresh...");try{const l=await this.post("/auth/refresh",{refreshToken:localStorage.getItem("refreshToken")});if(l&&l.accessToken)return localStorage.setItem("accessToken",l.accessToken),l.refreshToken&&localStorage.setItem("refreshToken",l.refreshToken),this.request(t,r)}catch(l){console.error(" [API] Refresh failed:",l),typeof window<"u"&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/auth")}}if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const o=a.headers.get("content-type");if(o&&o.includes("application/json")){const u=await a.json();return console.log(` API Response: ${r.method||"GET"} ${t}`,u),u}else{const u=await a.text();return console.log(` API Response (non-JSON): ${r.method||"GET"} ${t}`),u}}catch(s){throw console.error(` API Error: ${r.method||"GET"} ${t}`,s),s}}async get(t){return this.request(t,{method:"GET"})}async post(t,r){return this.request(t,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(t,r){return this.request(t,{method:"PUT",body:r?JSON.stringify(r):void 0})}async delete(t){return this.request(t,{method:"DELETE"})}}new kMe;async function Lp(e,t="GET",r,n=3e4){const s=Fh.getApiBaseUrl(),i=e.startsWith("http")?e:`${s}${e}`,a={"Content-Type":"application/json"},o=typeof window<"u"?localStorage.getItem("accessToken"):null;if(o){const d=o.replace(/^["'](.+)["']$/,"$1");a.Authorization=`Bearer ${d}`,a["x-auth-token"]=d}const u=new AbortController,l=setTimeout(()=>u.abort(),n);try{const d=await fetch(i,{method:t,headers:a,body:r?JSON.stringify(r):void 0,signal:u.signal});if(clearTimeout(l),!d.ok){const f=await d.json().catch(()=>({}));throw new Error(f.message||`HTTP error! status: ${d.status}`)}const h=d.headers.get("content-type");return h&&h.includes("application/json")?await d.json():await d.text()}catch(d){throw clearTimeout(l),d}}class jMe{constructor(){this.events=[],this.listeners=[]}async initialize(){console.log(" [IntelligentMonitor] Initializing..."),window.addEventListener("unhandledrejection",t=>{this.logEvent({type:"error",severity:"critical",message:`Unhandled Promise Rejection: ${t.reason?.message||"Unknown"}`,metadata:{stack:t.reason?.stack}})})}logEvent(t){const r={...t,id:crypto.randomUUID(),timestamp:Date.now(),resolved:!1};this.events.push(r),console.log(` [IntelligentMonitor] [${t.severity.toUpperCase()}] ${t.message}`,t.metadata),(t.severity==="high"||t.severity==="critical")&&this.notifyAdmin(r),(t.type==="error"||t.type==="sync")&&this.attemptSelfHealing(r),this.notifyListeners(r)}notifyAdmin(t){b3({title:`  ${t.severity==="critical"?"":""}`,description:t.message,variant:t.severity==="critical"?"destructive":"default"})}async attemptSelfHealing(t){if(t.resolved)return;console.log(` [Self-Healing]   : ${t.id}`);let r="";if(t.type==="sync"){r="      ";try{const{triggerSync:n}=await Ar(async()=>{const{triggerSync:s}=await Promise.resolve().then(()=>sne);return{triggerSync:s}},void 0);setTimeout(()=>n(),5e3)}catch(n){console.error(" [Self-Healing]   :",n)}}else(t.message.includes("storage")||t.message.includes("quota"))&&(r="      ");if(r){this.updateEventStatus(t.id,!0,r);try{const{smartSave:n}=await Ar(async()=>{const{smartSave:s}=await Promise.resolve().then(()=>Ng);return{smartSave:s}},void 0);await n("systemEvents",[{id:t.id,type:"monitoring",data:{...t,actionTaken:r},timestamp:Date.now()}])}catch(n){console.error(" [IntelligentMonitor]     DB:",n)}}}updateEventStatus(t,r,n){const s=this.events.find(i=>i.id===t);s&&(s.resolved=r,s.actionTaken=n,console.log(` [IntelligentMonitor]   : ${t}  ${n}`))}subscribe(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}notifyListeners(t){this.listeners.forEach(r=>r(t))}getEvents(){return[...this.events]}}const hh=new jMe,ene=["users","emergency_users","auth_user_sessions","email_verification_tokens","password_reset_tokens","project_types","projects","workers","wells","fund_transfers","worker_attendance","suppliers","materials","material_purchases","supplier_payments","transportation_expenses","worker_transfers","worker_balances","daily_expense_summaries","worker_types","autocomplete_data","worker_misc_expenses","backup_logs","backup_settings","print_settings","project_fund_transfers","security_policies","security_policy_suggestions","security_policy_implementations","security_policy_violations","user_project_permissions","permission_audit_logs","report_templates","notification_read_states","build_deployments","notifications","ai_chat_sessions","ai_chat_messages","ai_usage_stats","well_tasks","well_task_accounts","well_expenses","well_audit_logs","material_categories"],NMe={emergency_users:"emergencyUsers",auth_user_sessions:"authUserSessions",email_verification_tokens:"emailVerificationTokens",password_reset_tokens:"passwordResetTokens",project_types:"projectTypes",fund_transfers:"fundTransfers",worker_attendance:"workerAttendance",material_purchases:"materialPurchases",supplier_payments:"supplierPayments",transportation_expenses:"transportationExpenses",worker_transfers:"workerTransfers",worker_balances:"workerBalances",daily_expense_summaries:"dailyExpenseSummaries",worker_types:"workerTypes",autocomplete_data:"autocompleteData",worker_misc_expenses:"workerMiscExpenses",backup_logs:"backupLogs",backup_settings:"backupSettings",print_settings:"printSettings",project_fund_transfers:"projectFundTransfers",security_policies:"securityPolicies",security_policy_suggestions:"securityPolicySuggestions",security_policy_implementations:"securityPolicyImplementations",security_policy_violations:"securityPolicyViolations",user_project_permissions:"userProjectPermissions",permission_audit_logs:"permissionAuditLogs",report_templates:"reportTemplates",notification_read_states:"notificationReadStates",build_deployments:"buildDeployments",ai_chat_sessions:"aiChatSessions",ai_chat_messages:"aiChatMessages",ai_usage_stats:"aiUsageStats",well_tasks:"wellTasks",well_task_accounts:"wellTaskAccounts",well_expenses:"wellExpenses",well_audit_logs:"wellAuditLogs",material_categories:"materialCategories"};function s_(e){return NMe[e]||e}const VR=5,TMe=2e3;let nd=!1;function EMe(e){if(e?.status)return e.status;if(e?.statusCode)return e.statusCode;const t=e?.message||String(e),r=t.match(/status:\s*(\d{3})/i);return r?parseInt(r[1],10):t.includes(" ")||t.includes("duplicate")||t.includes("already exists")?409:t.includes(" ")||t.includes("validation")||t.includes("")?400:0}let uv=[],dv={isSyncing:!1,lastSync:0,pendingCount:0,isOnline:typeof navigator<"u"?navigator.onLine:!0,lastErrorType:void 0,lastErrorDetails:void 0};function i_(e){return uv.push(e),()=>{uv=uv.filter(t=>t!==e)}}function Di(e){dv={...dv,...e},uv.forEach(t=>t(dv))}async function CMe(e,t){try{return await p3(e),await Zc(e,t),console.log(` [ForceSync] Table ${e} synced with ${t.length} records`),!0}catch(r){return console.error(` [ForceSync] Failed to sync ${e}:`,r),!1}}function $x(){return{...dv}}function AMe(e){return Math.min(3e4,TMe*Math.pow(2,e))}async function Aj(){if(!localStorage.getItem("accessToken"))return console.warn(" [Sync]      "),!1;if(typeof navigator<"u"&&!navigator.onLine)return console.warn(" [Sync]      "),!1;if(nd)return console.log(" [Sync]      "),!1;try{console.log(" [Sync]      ..."),Di({isSyncing:!0}),console.log(" [Sync]   apiRequest  /api/sync/full-backup");const t=await Lp("/api/sync/full-backup","POST",void 0,12e4);if(console.log(" [Sync]  :",t?"":""),!t||typeof t=="object"&&t.code==="INVALID_TOKEN")return console.error(" [Sync]          "),!1;if(!t.success||!t.data)return console.error(" [Sync]     :",t?.error||"  ",t),!1;const{data:r}=t,n=Object.entries(r),s=n.length;let i=0,a=0;if(r.users&&Array.isArray(r.users)){i++,Di({progress:{total:s,current:i,tableName:"users",percentage:Math.round(i/s*100)}}),await Zc("users",r.users);const u=r.users.map(l=>({id:l.id.toString(),email:l.email,password:l.password,name:`${l.firstName||""} ${l.lastName||""}`.trim(),role:l.role||"user"}));await Zc("emergencyUsers",u)}const o=5;for(let u=0;u<n.length;u+=o){const l=n.slice(u,u+o);for(const[d,h]of l)if(d!=="users"&&Array.isArray(h)){i++;const f=s_(d);Di({progress:{total:s,current:i,tableName:f,percentage:Math.min(100,Math.round(i/s*100))}}),await Zc(f,h),a+=h.length}}return await ui("syncMetadata",{id:"lastSync",key:"lastSync",timestamp:Date.now(),version:"3.1",recordCount:a,lastSyncTime:Date.now()}),console.log(" [Sync]    !"),Di({isSyncing:!1,lastSync:Date.now(),progress:void 0}),!0}catch(t){const r=t instanceof Error?t.message:"Unknown error";return console.error(" [Sync]    :",r),Di({isSyncing:!1,lastError:` : ${r}`}),t instanceof Error&&t.name==="AbortError"&&console.warn(" [Sync]         "),!1}finally{nd=!1}}async function eu(){if(!nd){if(!navigator.onLine){Di({isOnline:!1});return}nd=!0,Di({isSyncing:!0,isOnline:!0});try{const e=await zh();if(e.length===0){Di({isSyncing:!1}),nd=!1;return}console.log(` [Sync]   ${e.length} ...`);let t=0,r=0;for(const n of e){if(n.retries>=VR){console.warn(` [Sync]  ${n.id}    -   failed`),await Pl(n.id,`    (${VR})`,"max_retries"),r++;continue}try{await m3(n.id);const s=Date.now(),i=JSON.stringify(n.payload),a=btoa(encodeURIComponent(i).replace(/%([0-9A-F]{2})/g,(l,d)=>String.fromCharCode(parseInt(d,16)))).substring(0,32);let o;try{o=await Lp(n.endpoint,n.action==="create"?"POST":n.action==="update"?"PATCH":"DELETE",{...n.payload,_metadata:{signature:a,version:n.payload.version||1,clientTimestamp:Date.now(),deviceId:localStorage.getItem("deviceId")||"web-client"}})}catch(l){const d=EMe(l),h=l?.message||l?.error||String(l);if(d===409){console.log(` [Sync]   (409): ${n.id}`),await eB(n.id,h),t++;continue}if(d===400||d===422){console.error(` [Sync]   (${d}): ${n.id}`),await Pl(n.id,h,"validation"),await Da({queueItemId:n.id,action:n.action,endpoint:n.endpoint,status:"failed",duration:Date.now()-s,errorMessage:h,errorCode:String(d),retryCount:n.retries+1}),r++;continue}await Pl(n.id,h,"network"),r++,hh.logEvent({type:"sync",severity:n.retries>2?"high":"medium",message:`  : ${h}`,metadata:{retryCount:n.retries+1,itemId:n.id}});const f=AMe(n.retries);await new Promise(p=>setTimeout(p,f));continue}const u=Date.now()-s;if(o&&o.success!==!1){await g1(n.id);const l=n.payload.id,d=n.endpoint.split("/")[2];if(d&&l)try{const f=(await Ki(d)).find(p=>(p.id||p.key)===l);f&&(f.synced=!0,f.pendingSync=!1,f.isLocal=!1,await Zc(d,[f]))}catch(h){console.warn(` [Sync]      ${d}:`,h)}await Da({queueItemId:n.id,action:n.action,endpoint:n.endpoint,status:"success",duration:u,retryCount:n.retries}),t++,Di({latency:u,pendingCount:e.length-t-r})}else{const l=o?.message||o?.error||"  ";await Pl(n.id,l,"server"),r++}}catch(s){const i=s instanceof Error?s.message:"  ";await Pl(n.id,i,"unknown"),r++,hh.logEvent({type:"sync",severity:"high",message:`  : ${i}`,metadata:{itemId:n.id}})}}Di({lastSync:Date.now(),isSyncing:!1,syncedCount:t,failedCount:r})}catch(e){console.error(" [Sync]   :",e),Di({isSyncing:!1}),hh.logEvent({type:"error",severity:"high",message:`    : ${e instanceof Error?e.message:"  "}`})}finally{nd=!1}}}function tne(){window.addEventListener("online",()=>{Di({isOnline:!0}),Aj(),eu()}),window.addEventListener("offline",()=>{Di({isOnline:!1})}),(async()=>{console.log(" [Sync]    ..."),await Aj(),await eu()})(),setInterval(()=>{navigator.onLine&&eu()},3e4)}function PMe(){}function fv(){eu().catch(e=>console.error(" [Sync]    :",e))}async function rne(){try{console.log(" [Sync]       ...");const e=await Lp("/api/sync/full-backup","POST",void 0,6e4);if(!e||!e.success||!e.data)throw new Error("Backup failed on server");const{data:t}=e;let r=0;for(const[n,s]of Object.entries(t))if(Array.isArray(s)){const i=s_(n);await Zc(i,s),r+=s.length}return await ui("syncMetadata",{id:"lastSync",key:"lastSync",timestamp:Date.now(),version:"3.0",recordCount:r}),{recordCount:r}}catch(e){throw console.error(" [Sync]     :",e),e}}function IMe(){nd||eu().catch(e=>{console.error(" [Sync]   :",e)})}async function RMe(e,t){try{console.log(" [Sync]   ...");const r=Date.now(),n=await Lp("/api/sync/instant-sync","POST",{tables:e||[],lastSyncTime:t},6e4);if(!n||!n.success||!n.data)throw new Error("Instant sync failed");const{data:s}=n;let i=0;for(const[o,u]of Object.entries(s))if(Array.isArray(u)&&u.length>0){const l=s_(o);await Zc(l,u),i+=u.length}const a=Date.now()-r;return console.log(` [Sync]   : ${i}   ${a}ms`),Di({lastSync:Date.now()}),{success:!0,totalRecords:i,duration:a}}catch(r){return console.error(" [Sync]    :",r),{success:!1,totalRecords:0,duration:0}}}async function nne(){try{console.log(" [Sync]    ...");const e={};for(const r of ene)try{const n=await Ki(r);e[r]=n?.length||0}catch{e[r]=0}const t=await Lp("/api/sync/verify-sync","POST",{clientCounts:e},3e4);if(!t||!t.success)throw new Error("Verify sync failed");return console.log(` [Sync]  : ${t.isMatched?" ":`${t.differences?.length||0} `}`),{isMatched:t.isMatched,differences:t.differences||[],summary:t.summary||{totalServerRecords:0,totalClientRecords:0,matchedTables:0,mismatchedTables:0}}}catch(e){return console.error(" [Sync]   :",e),{isMatched:!1,differences:[],summary:{totalServerRecords:0,totalClientRecords:0,matchedTables:0,mismatchedTables:0}}}}async function OMe(){try{const e=await Lp("/api/sync/stats","GET",void 0,3e4);return!e||!e.success?{stats:{},totalRecords:0}:{stats:e.stats||{},totalRecords:e.summary?.totalRecords||0}}catch(e){return console.error(" [Sync]    :",e),{stats:{},totalRecords:0}}}const sne=Object.freeze(Object.defineProperty({__proto__:null,ALL_SYNC_TABLES:ene,forceSyncTable:CMe,getSyncState:$x,getSyncStats:OMe,initSyncListener:tne,loadFullBackup:rne,performInitialDataPull:Aj,performInstantSync:RMe,serverTableToIDB:s_,startBackgroundSync:IMe,stopSyncListener:PMe,subscribeSyncState:i_,syncOfflineData:eu,triggerSync:fv,verifySyncStatus:nne},Symbol.toStringTag,{value:"Module"})),MMe=({income:e,expenses:t,balance:r,formatCurrencyFn:n})=>c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 dark:text-green-400 mb-1",children:[c.jsx(UB,{className:"h-3 w-3"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),c.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:n(e)})]}),c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-2 text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-1 text-red-600 dark:text-red-400 mb-1",children:[c.jsx(S3,{className:"h-3 w-3"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),c.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:n(t)})]}),c.jsxs("div",{className:`${r>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-orange-50 dark:bg-orange-900/20"} rounded-lg p-2 text-center`,children:[c.jsxs("div",{className:`flex items-center justify-center gap-1 ${r>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"} mb-1`,children:[c.jsx(Md,{className:"h-3 w-3"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),c.jsx("p",{className:`text-xs font-bold ${r>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:n(r)})]})]});function DMe(){const{toast:e}=Br(),t=ns(),{user:r}=ac(),n=r?.role==="admin",[s,i]=E.useState(null),[a,o]=E.useState(!1),[u,l]=E.useState(!1),[d,h]=E.useState(null),f=E.useRef(null),p=E.useRef(null),{setFloatingAction:g}=Io(),[y,m]=E.useState(""),[v,b]=E.useState({status:"all",engineerId:"all"}),[x,k]=E.useState(!1),[T,O]=E.useState(null),[F,A]=E.useState(!1),[P,D]=E.useState(null),[V,B]=E.useState(null),[C,I]=E.useState(!1),N=E.useCallback((pe,de)=>{b(Pe=>({...Pe,[pe]:de}))},[]),w=E.useCallback(()=>{m(""),b({status:"all",engineerId:"all"}),e({title:"  ",description:"   "})},[e]);E.useEffect(()=>(g(()=>o(!0),"  "),()=>g(null)),[g]);const{data:_=[],isLoading:S,refetch:j,error:R}=nt({queryKey:he.projectsWithStats,staleTime:6e4,gcTime:3e5,refetchOnWindowFocus:!1,queryFn:async()=>{try{console.log(" [Projects]    ...");const pe=await Ie("/api/projects/with-stats","GET");let de=[];return pe&&typeof pe=="object"&&(pe.success!==void 0&&pe.data!==void 0?de=Array.isArray(pe.data)?pe.data:[]:Array.isArray(pe)?de=pe:pe.id?de=[pe]:pe.data&&(de=Array.isArray(pe.data)?pe.data:[])),de}catch(pe){return console.error(" [Projects]    :",pe),[]}},refetchInterval:6e4}),$=Array.isArray(_)?_:[],U=$,{totals:q,allProjects:H,isLoading:Y,refetch:M}=$p({projectId:"all",enabled:!0}),K=E.useMemo(()=>{const pe=new Map;return H?.projects&&H.projects.forEach(de=>{pe.set(de.projectId,de)}),pe},[H?.projects]),z=E.useCallback(pe=>{const de=K.get(pe);return de?{totalIncome:de.income?.totalIncome||0,totalExpenses:de.expenses?.totalAllExpenses||0,cashExpenses:de.expenses?.totalCashExpenses||0,currentBalance:de.totalBalance||0,totalWorkers:de.workers?.totalWorkers||0,activeWorkers:de.workers?.activeWorkers||0,completedDays:de.workers?.completedDays||0,materialPurchases:de.expenses?.materialExpenses||0,materialExpensesCredit:de.expenses?.materialExpensesCredit||0,totalTransportation:de.expenses?.transportExpenses||0,totalMiscExpenses:de.expenses?.miscExpenses||0,totalWorkerWages:de.expenses?.workerWages||0,totalFundTransfers:de.income?.fundTransfers||0,totalWorkerTransfers:de.expenses?.workerTransfers||0,incomingProjectTransfers:de.income?.incomingProjectTransfers||0,outgoingProjectTransfers:de.expenses?.outgoingProjectTransfers||0}:null},[K]),L=E.useCallback(async()=>{k(!0);try{await Promise.all([j(),M()]),e({title:" ",description:"   "})}catch{e({title:"",description:"  ",variant:"destructive"})}finally{k(!1)}},[j,e]),{data:W={users:[]}}=nt({queryKey:he.usersList,queryFn:async()=>{try{return await Ie("/api/users/list","GET")||{users:[]}}catch(pe){return console.error(" [Projects]    :",pe),{users:[]}}},staleTime:6e4}),J=E.useMemo(()=>Array.isArray(W?.users)?W.users:[],[W]),{data:le=[],isLoading:ne}=nt({queryKey:he.projectTypes,queryFn:async()=>{try{const pe=await Ie("/api/project-types","GET");return pe?.success&&Array.isArray(pe.data)?pe.data:[]}catch(pe){return console.error(" [Projects]     :",pe),[]}},staleTime:6e4}),ue=Xl({resolver:Yl(UR),defaultValues:{name:"",status:"active",engineerId:null,projectTypeId:null}}),G=Xl({resolver:Yl(UR),defaultValues:{name:"",status:"active",engineerId:null,projectTypeId:null}}),te=async(pe,de)=>{if(!(!de||typeof de!="string"||!de.trim()))try{await Ie("/api/autocomplete","POST",{category:pe,value:de.trim()})}catch(Pe){console.log(`Failed to save autocomplete value for ${pe}:`,Pe)}},X=ht({mutationFn:pe=>Ie("/api/projects","POST",pe),onSuccess:async(pe,de)=>{await te("projectNames",de.name),t.refetchQueries({queryKey:he.projects}),t.refetchQueries({queryKey:he.projectsWithStats}),fv(),e({title:"   "}),o(!1),ue.reset(),h(null),f.current&&(f.current.value="")},onError:pe=>{e({title:"   ",description:pe.message,variant:"destructive"})}}),ae=ht({mutationFn:({id:pe,data:de})=>Ie(`/api/projects/${pe}`,"PATCH",de),onSuccess:async(pe,de)=>{await te("projectNames",de.data.name),t.refetchQueries({queryKey:he.projects}),t.refetchQueries({queryKey:he.projectsWithStats}),fv(),e({title:"   "}),l(!1),i(null),G.reset(),p.current&&(p.current.value="")},onError:pe=>{e({title:"   ",description:pe.message,variant:"destructive"})}}),re=ht({mutationFn:({id:pe,confirmDeletion:de})=>Ie(`/api/projects/${pe}`,"DELETE",{confirmDeletion:de}),onSuccess:()=>{fv(),t.refetchQueries({queryKey:he.projects}),t.refetchQueries({queryKey:he.projectsWithStats}),e({title:"   "}),A(!1),D(null),B(null)},onError:pe=>{e({title:"   ",description:pe.message,variant:"destructive"})}}),ee=async pe=>{I(!0);try{const de=await Ie(`/api/projects/${pe}/deletion-stats`,"GET");de.success&&de.data&&B({stats:de.data.stats,totalLinkedRecords:de.data.totalLinkedRecords,canDelete:de.data.canDelete,deleteBlockReason:de.data.deleteBlockReason||""})}catch(de){e({title:"    ",description:de.message,variant:"destructive"}),A(!1)}finally{I(!1)}},Z=pe=>{D(pe),A(!0),ee(pe.id)},Q=ht({mutationFn:({id:pe,data:de})=>Ie(`/api/projects/${pe}`,"PATCH",de),onMutate:async({id:pe,data:de})=>{await t.cancelQueries({queryKey:he.projectsWithStats});const Pe=t.getQueryData(he.projectsWithStats);return Array.isArray(Pe)&&t.setQueryData(he.projectsWithStats,Pe.map($e=>$e.id===pe?{...$e,status:de.status}:$e)),{previousData:Pe}},onSuccess:()=>{e({title:" ",description:"    ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(pe,de,Pe)=>{Pe?.previousData&&t.setQueryData(he.projectsWithStats,Pe.previousData),e({title:"",description:pe.message||"     ",variant:"destructive"})},onSettled:()=>{O(null),t.invalidateQueries({queryKey:he.projectsWithStats}),t.invalidateQueries({queryKey:he.projects})}}),ie=pe=>{O(pe.id);const de=pe.status==="active"?"paused":"active";Q.mutate({id:pe.id,data:{status:de}})},ce=pe=>{X.mutate(pe)},ge=pe=>{if(!s){e({title:"",description:"    ",variant:"destructive"});return}console.log(" [Projects]  :",{id:s.id,name:s.name,newData:pe}),ae.mutate({id:s.id,data:pe})},we=(pe,de=!1)=>{re.mutate({id:pe,confirmDeletion:de})},Te=pe=>{i(pe),G.reset({name:pe.name,status:pe.status,engineerId:pe.engineerId||null,projectTypeId:pe.projectTypeId||null}),l(!0)},Ae=pe=>{switch(pe){case"active":return"";case"completed":return"";case"paused":return"";default:return pe}};E.useEffect(()=>(g(()=>o(!0),"  "),()=>g(null)),[g]);const De=E.useMemo(()=>{if(console.log(" [Projects]    ExpenseLedgerService "),q){const pe=U.filter(de=>de.status==="active").length;return{totalProjects:U.length,activeProjects:pe,totalIncome:q.totalIncome||0,totalExpenses:q.totalAllExpenses||q.totalExpenses||0,totalWorkers:q.totalWorkers||0,materialPurchases:0}}return{totalProjects:U.length,activeProjects:U.filter(pe=>pe.status==="active").length,totalIncome:0,totalExpenses:0,totalWorkers:0,materialPurchases:0}},[q,U]),Fe=q?.totalBalance??De.totalIncome-De.totalExpenses,rt=E.useMemo(()=>U.filter(pe=>{if(y&&!pe.name.toLowerCase().includes(y.toLowerCase())||v.status&&v.status!=="all"&&pe.status!==v.status)return!1;if(v.engineerId&&v.engineerId!=="all"){if(v.engineerId==="none"){if(pe.engineerId)return!1}else if(pe.engineerId!==v.engineerId)return!1}return!0}),[U,y,v]),qe=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"totalProjects",label:" ",value:De.totalProjects,icon:Gn,color:"blue"},{key:"activeProjects",label:" ",value:De.activeProjects,icon:Bn,color:"blue",showDot:!0,dotColor:"bg-green-500"},{key:"currentBalance",label:" ",value:ze(Fe),icon:Md,color:Fe>=0?"blue":"red"}]},{columns:3,gap:"sm",items:[{key:"totalIncome",label:" ",value:ze(De.totalIncome),icon:hn,color:"green"},{key:"totalWorkers",label:" ",subLabel:"  ",value:De.totalWorkers,icon:xn,color:"amber"},{key:"materialPurchases",label:" ",subLabel:" ",value:De.materialPurchases,icon:en,color:"gray"}]}],[De,Fe]),Ve=E.useMemo(()=>{const pe=[{key:"status",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"active",label:""},{value:"paused",label:""},{value:"completed",label:""}]}];return n&&pe.push({key:"engineerId",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"none",label:" "},...J.map(de=>({value:de.id,label:de.name}))]}),pe},[J,n]);return S?c.jsx(SMe,{}):R?(console.error(" [Projects]    :",R),c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsxs("div",{className:"text-center space-y-1",children:[c.jsx("div",{className:"text-6xl",children:""}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"   "}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    .    ."}),c.jsxs(Se,{onClick:()=>j(),className:"gap-2",children:[c.jsx(Qn,{className:"h-4 w-4"})," "]})]})})):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsx(Qa,{hideHeader:!0,title:"",statsRows:qe,searchValue:y,onSearchChange:m,searchPlaceholder:"  ...",filters:Ve,filterValues:v,onFilterChange:N,onReset:w,onRefresh:L,isRefreshing:x,resultsSummary:y||v.status!=="all"?{totalCount:$.length,filteredCount:rt.length,totalLabel:"",filteredLabel:"",totalValue:rt.reduce((pe,de)=>{const Pe=z(de.id);return pe+(Pe?.currentBalance||0)},0),totalValueLabel:"",unit:"."}:void 0}),c.jsx(ks,{open:a,onOpenChange:o,children:c.jsxs(hs,{children:[c.jsxs(js,{children:[c.jsx(zs,{children:"  "}),c.jsx(Fl,{children:"   "})]}),c.jsx(Jl,{...ue,children:c.jsxs("form",{onSubmit:ue.handleSubmit(ce),className:"space-y-1",children:[c.jsx(Ir,{control:ue.control,name:"name",render:({field:pe})=>c.jsxs(Cr,{children:[c.jsx(Tn,{children:" "}),c.jsx(Rr,{children:c.jsx(us,{value:pe.value,onChange:pe.onChange,category:"projectNames",placeholder:" "})}),c.jsx(dn,{})]})}),n&&c.jsx(Ir,{control:ue.control,name:"engineerId",render:({field:pe})=>{const de=[{value:"none",label:" "},...J.map(Pe=>({value:Pe.id,label:`${Pe.name} (${Pe.role})`}))];return c.jsxs(Cr,{children:[c.jsx(Tn,{children:" / "}),c.jsx(Rr,{children:c.jsx(Wn,{value:pe.value||"none",onValueChange:Pe=>pe.onChange(Pe==="none"?null:Pe),options:de,placeholder:"  ",searchPlaceholder:"  ...",emptyText:"  "})}),c.jsx(dn,{})]})}}),c.jsx(Ir,{control:ue.control,name:"projectTypeId",render:({field:pe})=>c.jsxs(Cr,{children:[c.jsx(Tn,{children:" "}),c.jsx(Rr,{children:c.jsx(_j,{value:pe.value?.toString()||"",onValueChange:de=>pe.onChange(de?parseInt(de):null),projectTypes:le,placeholder:ne?" ...":"  ...",disabled:ne})}),c.jsx(dn,{})]})}),c.jsx(Ir,{control:ue.control,name:"status",render:({field:pe})=>c.jsxs(Cr,{children:[c.jsx(Tn,{children:" "}),c.jsxs(Rn,{onValueChange:pe.onChange,defaultValue:pe.value,children:[c.jsx(Rr,{children:c.jsx(wn,{children:c.jsx(On,{placeholder:"  "})})}),c.jsxs(_n,{children:[c.jsx(vt,{value:"active",children:""}),c.jsx(vt,{value:"paused",children:""}),c.jsx(vt,{value:"completed",children:""})]})]}),c.jsx(dn,{})]})}),c.jsx(jx,{children:c.jsx(Se,{type:"submit",disabled:X.isPending,children:X.isPending?" ...":" "})})]})})]})}),c.jsx(ks,{open:u,onOpenChange:l,children:c.jsxs(hs,{children:[c.jsxs(js,{children:[c.jsx(zs,{children:" "}),c.jsx(Fl,{children:"  "})]}),c.jsx(Jl,{...G,children:c.jsxs("form",{onSubmit:G.handleSubmit(ge),className:"space-y-1",children:[c.jsx(Ir,{control:G.control,name:"name",render:({field:pe})=>c.jsxs(Cr,{children:[c.jsx(Tn,{children:" "}),c.jsx(Rr,{children:c.jsx(us,{value:pe.value,onChange:pe.onChange,category:"projectNames",placeholder:" "})}),c.jsx(dn,{})]})}),n&&c.jsx(Ir,{control:G.control,name:"engineerId",render:({field:pe})=>{const de=[{value:"none",label:" "},...J.map(Pe=>({value:Pe.id,label:`${Pe.name} (${Pe.role})`}))];return c.jsxs(Cr,{children:[c.jsx(Tn,{children:" / "}),c.jsx(Rr,{children:c.jsx(Wn,{value:pe.value||"none",onValueChange:Pe=>pe.onChange(Pe==="none"?null:Pe),options:de,placeholder:"  ",searchPlaceholder:"  ...",emptyText:"  "})}),c.jsx(dn,{})]})}}),c.jsx(Ir,{control:G.control,name:"projectTypeId",render:({field:pe})=>c.jsxs(Cr,{children:[c.jsx(Tn,{children:" "}),c.jsx(Rr,{children:c.jsx(_j,{value:pe.value?.toString()||"",onValueChange:de=>pe.onChange(de?parseInt(de):null),projectTypes:le,placeholder:ne?" ...":"  ...",disabled:ne})}),c.jsx(dn,{})]})}),c.jsx(Ir,{control:G.control,name:"status",render:({field:pe})=>c.jsxs(Cr,{children:[c.jsx(Tn,{children:" "}),c.jsxs(Rn,{onValueChange:pe.onChange,defaultValue:pe.value,children:[c.jsx(Rr,{children:c.jsx(wn,{children:c.jsx(On,{placeholder:"  "})})}),c.jsxs(_n,{children:[c.jsx(vt,{value:"active",children:""}),c.jsx(vt,{value:"paused",children:""}),c.jsx(vt,{value:"completed",children:""})]})]}),c.jsx(dn,{})]})}),c.jsxs(jx,{children:[c.jsx(Se,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:ae.isPending,children:""}),c.jsx(Se,{type:"submit",disabled:ae.isPending||!s,className:"gap-2",children:ae.isPending?"  ...":"  "})]})]})})]})}),rt.length===0?c.jsxs(Pt,{className:"p-12 text-center",children:[c.jsx(Gn,{className:"h-16 w-16 mx-auto text-muted-foreground"}),c.jsx("h3",{className:"text-xl font-semibold",children:$.length===0?"  ":"  "}),c.jsx("p",{className:"text-muted-foreground",children:$.length===0?"   ":"     "}),$.length===0&&c.jsxs(Se,{onClick:()=>o(!0),className:"gap-2",children:[c.jsx(Qn,{className:"h-4 w-4"}),"  "]})]}):c.jsx(Ns,{columns:4,children:rt.map(pe=>{const de=z(pe.id),Pe=de?.totalIncome||0,$e=de?.totalExpenses||0,yt=de?.currentBalance||0;de?.totalWorkers,de?.materialPurchases,de?.completedDays;const Ot=pe.status==="active"?"success":pe.status==="completed"?"default":"destructive";return c.jsx(Gr,{title:pe.name,subtitle:oo(pe.createdAt),titleIcon:Gn,headerColor:pe.status==="active"?"#22c55e":pe.status==="completed"?"#3b82f6":"#ef4444",badges:[{label:Ae(pe.status),variant:Ot}],fields:[{label:"",value:ze(de?.materialPurchases||0),icon:en,color:"warning"},{label:"",value:ze(de?.totalTransportation||0),icon:qo,color:"info"},{label:"",value:ze(de?.totalMiscExpenses||0),icon:Md,color:"default"},{label:" ",value:ze(de?.totalWorkerWages||0),icon:xn,color:"success"},{label:" ()",value:ze(de?.outgoingProjectTransfers||0),icon:UB,color:"red"},{label:" ()",value:ze(de?.incomingProjectTransfers||0),icon:S3,color:"success"},{label:" ",value:ze(de?.totalWorkerTransfers||0),icon:Jt,color:"orange"},{label:"",value:pe.engineerId?J.find(it=>it.id===pe.engineerId)?.name||" ":" ",icon:Cve,color:pe.engineerId?"info":"muted"}],actions:[{icon:du,label:"",onClick:()=>Te(pe),color:"blue"},{icon:GB,label:pe.status==="active"?"":"",onClick:()=>ie(pe),disabled:T===pe.id,color:pe.status==="active"?"yellow":"green"},{icon:An,label:"",onClick:()=>Z(pe),color:"red"}],footer:c.jsx(MMe,{income:Pe,expenses:$e,balance:yt,formatCurrencyFn:ze}),compact:!0},pe.id)})})]}),c.jsx(bMe,{open:F,onOpenChange:A,children:c.jsxs(Kre,{className:"max-w-md",children:[c.jsxs(Gre,{children:[c.jsx(Xre,{className:"text-right",children:"  "}),c.jsx(Yre,{className:"text-right space-y-3",children:C?c.jsx("div",{className:"flex items-center justify-center py-4",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):V?c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"font-medium text-base",children:['      "',P?.name,'"']}),V.canDelete?V.totalLinkedRecords>0?c.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3 space-y-2",children:[c.jsxs("p",{className:"text-orange-700 dark:text-orange-300 font-medium",children:["  ",V.totalLinkedRecords,"  :"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-1 text-sm text-orange-600 dark:text-orange-400",children:[V.stats.fundTransfers>0&&c.jsxs("div",{children:[" : ",V.stats.fundTransfers]}),V.stats.workerAttendance>0&&c.jsxs("div",{children:[" : ",V.stats.workerAttendance]}),V.stats.materialPurchases>0&&c.jsxs("div",{children:[" : ",V.stats.materialPurchases]}),V.stats.transportationExpenses>0&&c.jsxs("div",{children:[" : ",V.stats.transportationExpenses]}),V.stats.workerTransfers>0&&c.jsxs("div",{children:[" : ",V.stats.workerTransfers]}),V.stats.workerMiscExpenses>0&&c.jsxs("div",{children:[": ",V.stats.workerMiscExpenses]}),V.stats.dailySummaries>0&&c.jsxs("div",{children:[" : ",V.stats.dailySummaries]}),(V.stats.projectTransfersFrom>0||V.stats.projectTransfersTo>0)&&c.jsxs("div",{children:["  : ",(V.stats.projectTransfersFrom||0)+(V.stats.projectTransfersTo||0)]}),V.stats.workerBalances>0&&c.jsxs("div",{children:[" : ",V.stats.workerBalances]}),V.stats.supplierPayments>0&&c.jsxs("div",{children:[" : ",V.stats.supplierPayments]})]}),c.jsx("p",{className:"text-red-600 dark:text-red-400 font-bold text-sm pt-1",children:"     !"})]}):c.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 text-green-700 dark:text-green-300",children:"     .   ."}):c.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 text-red-700 dark:text-red-300",children:V.deleteBlockReason})]}):c.jsx("p",{children:"  ..."})})]}),c.jsxs(Zre,{className:"flex-row-reverse gap-2",children:[c.jsx(Jre,{children:""}),V?.canDelete&&c.jsx(Qre,{onClick:()=>{P&&we(P.id,!0)},className:"bg-red-600 hover:bg-red-700 text-white",disabled:re.isPending,children:re.isPending?" ...":" "})]})]})})]})}function $Me({onAddWorker:e,onAddProject:t}){const[,r]=gs(),n=[{id:"add-worker",label:" ",icon:Ave,action:e,gradient:"from-teal-500 to-teal-600",iconColor:"text-white"},{id:"add-project",label:" ",icon:lve,action:t,gradient:"from-violet-500 to-violet-600",iconColor:"text-white"},{id:"project-fund-custody",label:" ",icon:Jt,route:"/project-fund-custody",gradient:"from-blue-500 to-blue-600",iconColor:"text-white"},{id:"project-transfers",label:" ",icon:Xc,route:"/project-transfers",gradient:"from-purple-500 to-purple-600",iconColor:"text-white"},{id:"supplier-accounts",label:" ",icon:Gn,route:"/supplier-accounts",gradient:"from-amber-500 to-amber-600",iconColor:"text-white"},{id:"equipment",label:" ",icon:ia,route:"/equipment",gradient:"from-slate-500 to-slate-600",iconColor:"text-white"},{id:"worker-accounts",label:" ",icon:Jt,route:"/worker-accounts",gradient:"from-cyan-500 to-cyan-600",iconColor:"text-white"},{id:"reports",label:"",icon:E4,route:"/reports",gradient:"from-indigo-500 to-indigo-600",iconColor:"text-white"},{id:"ai-chat",label:" ",icon:FB,route:"/ai-chat",gradient:"from-pink-500 to-pink-600",iconColor:"text-white"}],s=i=>{i.action?i.action():i.route&&r(i.route)};return c.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",dir:"rtl",children:n.map(i=>{const a=i.icon;return c.jsxs("button",{onClick:()=>s(i),className:_e("flex flex-col items-center justify-center","p-3 sm:p-4 rounded-xl","bg-gradient-to-br",i.gradient,"shadow-md hover:shadow-lg","transform hover:scale-[1.02] active:scale-[0.98]","transition-all duration-200 ease-out","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","min-h-[80px] sm:min-h-[90px]"),children:[c.jsx(a,{className:_e("h-6 w-6 sm:h-7 sm:w-7 mb-1.5 sm:mb-2",i.iconColor)}),c.jsx("span",{className:_e("text-[11px] sm:text-xs font-medium text-center leading-tight",i.iconColor),children:i.label})]},i.id)})})}const LMe=e=>({transfer:"",expense:"",income:"",attendance:"",material:"",transport:"",payment:""})[e]||e;async function FMe(e,t){const r=(await Ar(async()=>{const{default:O}=await Promise.resolve().then(()=>kee);return{default:O}},void 0)).default,n=new r.Workbook;n.creator=ho.name,n.created=new Date;const s=n.addWorksheet(" ",{views:[{rightToLeft:!0}],pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0,margins:{left:.3,right:.3,top:.5,bottom:.5,header:.3,footer:.3}}});let i=1;s.mergeCells(`A${i}:G${i}`);const a=s.getCell(`A${i}`);a.value=ho.name,a.font={bold:!0,size:16,color:{argb:"FFFFFFFF"}},a.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F5A96"}},a.alignment={horizontal:"center",vertical:"middle"},s.getRow(i).height=30,i++,s.mergeCells(`A${i}:G${i}`);const o=s.getCell(`A${i}`);o.value=ho.subtitle,o.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},o.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E75B6"}},o.alignment={horizontal:"center",vertical:"middle"},s.getRow(i).height=25,i++,s.mergeCells(`A${i}:G${i}`);const u=s.getCell(`A${i}`);u.value=`  - ${new Date().toLocaleDateString("en-GB")}`,u.font={bold:!0,size:14,color:{argb:"FF1F5A96"}},u.alignment={horizontal:"center",vertical:"middle"},s.getRow(i).height=28,i++,i++;const l=["#"," ","","","",""," "],d=s.getRow(i);l.forEach((O,F)=>{const A=d.getCell(F+1);A.value=O,A.font=ar.tableHeader.font,A.fill=ar.tableHeader.fill,A.alignment=ar.tableHeader.alignment,A.border=ar.tableHeader.border}),d.height=28,i++,s.getColumn(1).width=6,s.getColumn(2).width=15,s.getColumn(3).width=18,s.getColumn(4).width=20,s.getColumn(5).width=18,s.getColumn(6).width=30,s.getColumn(7).width=22;let h=0;e.forEach((O,F)=>{const A=s.getRow(i),P=F%2===0?ar.tableCell:ar.tableCellAlt,D=new Date(O.createdAt),V=D.toLocaleDateString("en-GB"),B=D.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!0});[F+1,O.actionLabel||LMe(O.actionType),O.userName||"",O.projectName||"",O.amount?t(O.amount):"-",O.description||"-",`${V} ${B}`].forEach((I,N)=>{const w=A.getCell(N+1);w.value=I,w.font=P.font,P.fill&&(w.fill=P.fill),w.alignment=P.alignment,w.border=P.border}),A.height=24,O.amount&&(h+=O.amount),i++}),i++;const f=s.getRow(i);s.mergeCells(`A${i}:D${i}`);const p=f.getCell(1);p.value=` : ${e.length}`,p.font=ar.summaryRow.font,p.fill=ar.summaryRow.fill,p.alignment=ar.summaryRow.alignment,p.border=ar.summaryRow.border;const g=f.getCell(5);g.value=t(h),g.font=ar.greenRow.font,g.fill=ar.greenRow.fill,g.alignment=ar.greenRow.alignment,g.border=ar.greenRow.border,s.mergeCells(`F${i}:G${i}`);const y=f.getCell(6);y.value=` : ${new Date().toLocaleDateString("en-GB")} ${new Date().toLocaleTimeString("en-GB")}`,y.font={size:10,italic:!0},y.alignment={horizontal:"center",vertical:"middle"},f.height=26,i+=2;const m=s.getRow(i);s.mergeCells(`A${i}:C${i}`);const v=m.getCell(1);v.value="  : ________________",v.font=ar.signatureBox.font,v.alignment=ar.signatureBox.alignment,v.border=ar.signatureBox.border,s.mergeCells(`E${i}:G${i}`);const b=m.getCell(5);b.value="  : ________________",b.font=ar.signatureBox.font,b.alignment=ar.signatureBox.alignment,b.border=ar.signatureBox.border,m.height=35,i+=2,s.mergeCells(`A${i}:G${i}`);const x=s.getCell(`A${i}`);x.value=`${ho.name} | ${ho.address} |     `,x.font=ar.footer.font,x.alignment=ar.footer.alignment;const k=await n.xlsx.writeBuffer(),T=`__${new Date().toISOString().split("T")[0]}.xlsx`;return await Mp(k,T)}const zMe=e=>{switch(e){case"transfer":return Tg;case"expense":return oi;case"income":return hn;case"attendance":return xn;case"material":return en;case"transport":return si;case"payment":return Md;default:return Bn}},BMe=e=>{switch(e){case"transfer":return"default";case"expense":return"destructive";case"income":return"default";default:return"secondary"}},UMe=e=>{switch(e){case"transfer":return"bg-purple-500";case"expense":return"bg-red-500";case"income":return"bg-green-500";case"attendance":return"bg-blue-500";case"material":return"bg-amber-500";case"transport":return"bg-cyan-500";case"payment":return"bg-emerald-500";default:return"bg-slate-500"}},ine=E.memo(({activity:e,formatCurrency:t})=>{const r=zMe(e.actionType),n=UMe(e.actionType);return c.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 p-2.5 min-w-[200px] max-w-[240px] hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200 cursor-pointer group",title:e.description||"",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("div",{className:`${n} p-1.5 rounded-lg flex-shrink-0`,children:c.jsx(r,{className:"h-3.5 w-3.5 text-white"})}),c.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(ut,{variant:BMe(e.actionType),className:"text-[9px] px-1.5 py-0 h-4 font-medium",children:e.actionLabel||e.actionType}),e.amount&&e.amount>0&&c.jsx("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 mr-auto",children:t(e.amount)})]}),c.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-0.5 truncate max-w-[70px]",children:[c.jsx(tf,{className:"h-2.5 w-2.5 text-blue-500 flex-shrink-0"}),c.jsx("span",{className:"truncate",children:e.userName||""})]}),c.jsxs("div",{className:"flex items-center gap-0.5 truncate max-w-[70px]",children:[c.jsx(Gn,{className:"h-2.5 w-2.5 text-emerald-500 flex-shrink-0"}),c.jsx("span",{className:"truncate",children:e.projectName||""})]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-0.5",children:[c.jsx(rs,{className:"h-2.5 w-2.5 text-orange-500 flex-shrink-0"}),c.jsx("span",{children:oo(e.createdAt)})]}),c.jsxs("div",{className:"flex items-center gap-0.5",dir:"ltr",children:[c.jsx(bn,{className:"h-2.5 w-2.5 text-rose-500 flex-shrink-0"}),c.jsx("span",{children:new Date(e.createdAt).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]})]})]})})});ine.displayName="ActivityChip";const ane=E.memo(({activities:e,formatCurrency:t})=>{const[r,n]=E.useState(!1),s=async()=>{if(!(r||!e||e.length===0)){n(!0);try{await FMe(e,t)}catch(i){console.error("  :",i)}finally{n(!1)}}};return!e||e.length===0?null:c.jsxs("div",{className:"bg-gradient-to-l from-blue-50/90 via-indigo-50/80 to-purple-50/90 dark:from-blue-950/30 dark:via-indigo-950/25 dark:to-purple-950/30 rounded-xl border border-blue-200/60 dark:border-blue-800/40 p-3 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[c.jsx("div",{className:"bg-blue-500 p-1 rounded-lg",children:c.jsx(Bn,{className:"h-3.5 w-3.5 text-white"})}),c.jsx("h3",{className:"text-sm font-bold text-blue-700 dark:text-blue-400",children:" "}),c.jsx(ut,{variant:"secondary",className:"h-5 text-[10px] px-2 font-medium",children:e.length}),c.jsxs(Se,{variant:"outline",size:"sm",onClick:s,disabled:r,className:"h-6 px-2 text-[10px] gap-1 bg-green-50 hover:bg-green-100 text-green-700 border-green-300 dark:bg-green-950 dark:hover:bg-green-900 dark:text-green-400 dark:border-green-700",children:[r?c.jsx(Mr,{className:"h-3 w-3 animate-spin"}):c.jsx(N0,{className:"h-3 w-3"})," Excel"]}),c.jsx("div",{className:"flex-1"}),c.jsx("span",{className:"text-[10px] text-muted-foreground",children:"  "})]}),c.jsxs(Po,{className:"w-full",dir:"rtl",children:[c.jsx("div",{className:"flex gap-2 pb-2",style:{direction:"rtl"},children:e.slice(0,15).map((i,a)=>c.jsx(ine,{activity:i,formatCurrency:t},i.id||a))}),c.jsx(W6,{orientation:"horizontal",className:"h-1.5"})]})]})});ane.displayName="RecentActivitiesStrip";function VMe({size:e="md",className:t="",variant:r="default"}){const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return r==="professional"?c.jsxs(Zr.div,{className:`relative ${n[e]} ${t}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[c.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary/30"}),c.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary border-t-transparent"}),c.jsx(Zr.div,{className:"absolute inset-1 rounded-full bg-gradient-to-br from-primary to-secondary opacity-20",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}):r==="minimal"?c.jsx(Zr.div,{className:`${n[e]} border-2 border-muted border-t-primary rounded-full ${t}`,animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}):c.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-primary ${n[e]} ${t}`})}function one(){return c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[c.jsx(VMe,{size:"lg"}),c.jsx("p",{className:"text-muted-foreground text-sm",children:" ..."})]})})}function WMe(e){if(e)return new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0,0)}function aS({value:e,onChange:t,placeholder:r=" ",disabled:n=!1,className:s,showClearButton:i=!0,dateFormat:a="dd MMMM yyyy",minDate:o,maxDate:u}){const[l,d]=E.useState(!1),h=E.useCallback(g=>{if(!g)return;const y=WMe(g);t(y),setTimeout(()=>d(!1),10)},[t]),f=E.useCallback(g=>{g.preventDefault(),g.stopPropagation(),t(void 0)},[t]),p=E.useMemo(()=>{const g=[];return o&&g.push({before:o}),u&&g.push({after:u}),g.length>0?g:void 0},[o,u]);return c.jsxs(qw,{open:l,onOpenChange:d,modal:!1,children:[c.jsx(Hw,{asChild:!0,children:c.jsxs(Se,{variant:"outline",disabled:n,className:_e("w-full justify-between text-right h-12 rounded-xl group bg-white dark:bg-gray-950 border-border/60 shadow-sm hover:border-primary transition-all relative",!e&&"text-muted-foreground",s),children:[c.jsxs("span",{className:"flex items-center gap-2 flex-1 text-right",children:[c.jsx(rs,{className:"h-4 w-4 opacity-50 shrink-0"}),c.jsx("span",{className:"truncate font-bold",children:e?ur(e,a,{locale:Fi}):r})]}),i&&e&&c.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 h-8 w-8 flex items-center justify-center rounded-full hover:bg-destructive/10 text-muted-foreground hover:text-destructive transition-colors z-[100]",onClick:f,children:c.jsx(fs,{className:"h-4 w-4"})})]})}),c.jsx(fy,{className:"w-auto p-0 pointer-events-auto overflow-visible shadow-2xl border-border/40 z-[1000]",align:"start",dir:"rtl",children:c.jsx(i5,{mode:"single",selected:e,onSelect:h,disabled:p,locale:Fi,dir:"rtl",initialFocus:!0})})]})}function qMe({config:e,value:t,onChange:r}){const[n,s]=E.useState(e.options||[]),[i,a]=E.useState(!1);return E.useEffect(()=>{e.asyncOptions&&n.length===0&&(a(!0),e.asyncOptions().then(s).catch(console.error).finally(()=>a(!1)))},[e.asyncOptions]),c.jsxs(Rn,{value:t,onValueChange:r,children:[c.jsx(wn,{className:"h-9",children:c.jsx(On,{placeholder:i?e.loadingText||" ...":e.placeholder})}),c.jsx(_n,{className:"z-[10002]",position:"popper",children:n.map(o=>c.jsx(vt,{value:o.value,children:o.label},o.value))})]})}function N5({searchValue:e="",onSearchChange:t,searchPlaceholder:r="...",showSearch:n=!0,filters:s=[],filterValues:i={},onFilterChange:a,onReset:o,showResetButton:u=!0,className:l,compact:d=!1,showActiveFilters:h=!0}){const[f,p]=E.useState(!1),y=Object.entries(i).filter(([A,P])=>{const D=s.find(V=>V.key===A);return D?D.type==="date"?P instanceof Date:D.type==="date-range"?P?.from||P?.to:P&&P!=="all"&&P!==D?.defaultValue:!1}).map(([A,P])=>{const D=s.find(B=>B.key===A);let V="";return D?.type==="date"&&P instanceof Date?V=ur(P,"yyyy/MM/dd",{locale:Fi}):D?.type==="date-range"?P?.from&&P?.to?V=`${ur(P.from,"MM/dd")} - ${ur(P.to,"MM/dd")}`:P?.from&&(V=` ${ur(P.from,"MM/dd")}`):V=D?.options?.find(C=>C.value===P)?.label||P,{key:A,filterLabel:D?.label||A,valueLabel:V}}),m=y.length,v=e.length>0||m>0,b=E.useCallback(A=>{t?.(A.target.value)},[t]),x=E.useCallback((A,P)=>{a?.(A,P)},[a]),k=E.useCallback(()=>{o?.(),p(!1)},[o]),T=E.useCallback(()=>{t?.("")},[t]),O=E.useCallback(A=>{const P=s.find(D=>D.key===A);P?.type==="date"||P?.type==="date-range"?a?.(A,void 0):a?.(A,P?.defaultValue||"all")},[s,a]),F=A=>{const P=i[A.key];switch(A.type){case"date":return c.jsx("div",{onClick:B=>B.stopPropagation(),className:"relative",children:c.jsx(aS,{value:P,onChange:B=>x(A.key,B),placeholder:A.placeholder,showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})});case"date-range":const D=P?.from instanceof Date?P.from:P?.from?new Date(P.from):void 0,V=P?.to instanceof Date?P.to:P?.to?new Date(P.to):void 0;return c.jsxs("div",{onClick:B=>B.stopPropagation(),className:"space-y-6",children:[c.jsxs("div",{className:"relative group",children:[c.jsx(Le,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:" "}),c.jsx("div",{className:"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5",children:c.jsx(aS,{value:D,onChange:B=>x(A.key,{...P,from:B}),placeholder:" ",showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})})]}),c.jsxs("div",{className:"relative group",children:[c.jsx(Le,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:" "}),c.jsx("div",{className:"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5",children:c.jsx(aS,{value:V,onChange:B=>x(A.key,{...P,to:B}),placeholder:" ",showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})})]})]});case"async-select":return c.jsx("div",{onClick:B=>B.stopPropagation(),children:c.jsx(qMe,{config:A,value:P||A.defaultValue||"all",onChange:B=>x(A.key,B)})});default:return c.jsx("div",{onClick:B=>B.stopPropagation(),children:c.jsxs(Rn,{value:String(P||A.defaultValue||"all"),onValueChange:B=>x(A.key,B),children:[c.jsx(wn,{className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium",children:c.jsx(On,{placeholder:A.placeholder||` ${A.label}`})}),c.jsx(_n,{className:"rounded-2xl shadow-2xl border-2 z-[10002]",position:"popper",children:A.options?.map(B=>c.jsx(vt,{value:String(B.value),className:"rounded-xl my-1 py-3 text-right",children:B.label},B.value))})]})})}};return c.jsxs("div",{className:_e("space-y-2",l),children:[c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-slate-900 border-2 border-border/50 rounded-2xl shadow-sm transition-all focus-within:border-primary/30 focus-within:shadow-md",children:[n&&c.jsxs("div",{className:"relative flex-1",children:[c.jsx(So,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),c.jsx(tt,{placeholder:r,value:e,onChange:b,className:"pr-12 pl-10 h-12 bg-slate-50/50 dark:bg-slate-800/50 border-none rounded-xl font-medium focus-visible:ring-2 focus-visible:ring-primary/20 transition-all"}),e&&c.jsx(Se,{variant:"ghost",size:"sm",onClick:T,className:"absolute left-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",children:c.jsx(fs,{className:"h-3 w-3"})})]}),s.length>0&&c.jsxs(Zw,{open:f,onOpenChange:p,children:[c.jsx(q6,{asChild:!0,children:c.jsxs(Se,{variant:"outline",size:"sm",className:_e("h-9 gap-1.5 px-3 relative",m>0&&"border-primary text-primary"),"data-testid":"button-open-filters",children:[c.jsx(Y8,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden sm:inline",children:""}),m>0&&c.jsx(ut,{variant:"default",className:"h-5 w-5 p-0 flex items-center justify-center text-xs rounded-full absolute -top-1.5 -left-1.5",children:m})]})}),c.jsx(hy,{side:"bottom",className:"h-[85vh] sm:h-[80vh] sm:max-w-2xl rounded-t-[2.5rem] p-0 overflow-y-auto border-t-0 bg-white dark:bg-gray-950 shadow-[0_-20px_50px_-12px_rgba(0,0,0,0.1)] z-[10001]",dir:"rtl",onPointerDownOutside:A=>{const P=A.target;(P.closest(".rdp")||P.closest('[role="listbox"]')||P.closest(".relative"))&&A.preventDefault()},onInteractOutside:A=>{const P=A.target;(P.closest(".rdp")||P.closest('[role="listbox"]'))&&A.preventDefault()},children:c.jsxs("div",{className:"flex flex-col h-full relative p-6 pb-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8 flex-shrink-0",children:[c.jsx(OQ,{asChild:!0,children:c.jsx(Se,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 hover:bg-muted transition-all",children:c.jsx(fs,{className:"h-5 w-5"})})}),c.jsx(py,{className:"text-xl font-bold text-center flex-1 mr-8",children:" "}),c.jsx("div",{className:"h-1.5 w-12 bg-slate-200 dark:bg-slate-800 rounded-full"})]}),c.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto custom-scrollbar px-1 pb-32 pt-2",children:[c.jsx("div",{className:"space-y-10 max-w-xl mx-auto",children:s.map(A=>c.jsxs("div",{className:_e("relative group",A.type==="date-range"?"pt-2":""),children:[A.type!=="date-range"&&c.jsx(Le,{htmlFor:A.key,className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:A.label}),c.jsx("div",{className:_e(A.type!=="date-range"&&"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5"),children:F(A)})]},A.key))}),s.length===0&&c.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[c.jsx(Y8,{className:"w-12 h-12 mb-4 opacity-20"}),c.jsx("p",{children:"    "})]})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent dark:from-gray-950 dark:via-gray-950/95 z-50",children:c.jsx("div",{className:"max-w-xl mx-auto",children:c.jsx(Se,{className:"w-full h-14 text-lg font-bold rounded-2xl shadow-xl shadow-red-500/20 bg-[#e31e33] hover:bg-[#c41a2c] text-white transition-all active:scale-[0.98]",onClick:()=>p(!1),children:""})})})]})})]}),u&&v&&c.jsx(Se,{variant:"ghost",size:"sm",onClick:k,className:"h-9 w-9 p-0 text-muted-foreground hover:text-destructive",title:" ",children:c.jsx(Ml,{className:"h-4 w-4"})})]}),h&&(y.length>0||e)&&c.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-1",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:" :"}),e&&c.jsxs(ut,{variant:"secondary",className:"gap-1 px-2 py-0.5 text-xs cursor-pointer hover:bg-destructive/20",onClick:T,children:[': "',e.length>15?e.substring(0,15)+"...":e,'"',c.jsx(fs,{className:"h-3 w-3"})]}),y.map(A=>c.jsxs(ut,{variant:"secondary",className:"gap-1 px-2 py-0.5 text-xs cursor-pointer hover:bg-destructive/20",onClick:()=>O(A.key),children:[A.filterLabel,": ",A.valueLabel,c.jsx(fs,{className:"h-3 w-3"})]},A.key)),(y.length>1||y.length>0&&e)&&c.jsx(Se,{variant:"ghost",size:"sm",onClick:k,className:"h-6 px-2 text-xs text-destructive hover:text-destructive",children:" "})]})]})}function a_(e,t=""){const[r,n]=E.useState(t),[s,i]=E.useState(e),a=E.useCallback(l=>{n(l)},[]),o=E.useCallback((l,d)=>{i(h=>({...h,[l]:d}))},[]),u=E.useCallback(()=>{n(""),i(e)},[e]);return{searchValue:r,filterValues:s,setSearchValue:a,setFilterValue:o,reset:u,onSearchChange:a,onFilterChange:o,onReset:u}}function HMe(){gs();const{selectedProjectId:e,selectProject:t}=Ao(),[r,n]=E.useState(!1),[s,i]=E.useState(!1),[a,o]=E.useState({name:"",phone:"",type:"",dailyWage:""}),[u,l]=E.useState(!1),[d,h]=E.useState(""),[f,p]=E.useState({name:"",status:"active",description:"",projectTypeId:null}),g=ns(),{toast:y}=Br(),{searchValue:m,filterValues:v}=a_({status:"all"},""),{totals:b,isLoading:x}=$p({projectId:e||"all",enabled:!0}),k={staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1},{data:T=[],isLoading:O,error:F}=nt({queryKey:he.projectsWithStats,queryFn:async()=>{try{console.log(" [Dashboard]    ...");const M=await Ie("/api/projects/with-stats","GET");let K=[];return M&&typeof M=="object"&&(M.success!==void 0&&M.data!==void 0?K=Array.isArray(M.data)?M.data:[]:Array.isArray(M)?K=M:M.id?K=[M]:M.data&&(K=Array.isArray(M.data)?M.data:[])),Array.isArray(K)||(K=[]),console.log(` [Dashboard]   ${K.length}   `),K}catch(M){return console.error(" [Dashboard]    :",M),[]}},...k}),{data:A=[]}=nt({queryKey:he.workerTypes,queryFn:async()=>{try{const M=await Ie("/api/worker-types","GET");return M&&M.data&&Array.isArray(M.data)?M.data:Array.isArray(M)?M:[]}catch(M){return console.error("Error fetching worker types:",M),[]}}}),{data:P=[],isLoading:D}=nt({queryKey:he.projectTypes,queryFn:async()=>{try{const M=await Ie("/api/project-types","GET");return M?.success&&Array.isArray(M.data)?M.data:[]}catch(M){return console.error(" [Dashboard]     :",M),[]}},staleTime:6e4}),V=ht({mutationFn:async M=>(await Promise.all([q("workerNames",M.name),q("workerTypes",M.type)]),Ie("/api/workers","POST",M)),onSuccess:async()=>{await g.invalidateQueries({queryKey:he.workers}),await g.invalidateQueries({queryKey:he.projectsWithStats}),await g.invalidateQueries({queryKey:he.autocomplete}),y({title:" ",description:"   "}),n(!1),o({name:"",phone:"",type:"",dailyWage:""})},onError:M=>{y({title:"",description:"    ",variant:"destructive"})}}),B=ht({mutationFn:async M=>(await Promise.all([q("projectNames",M.name),q("projectDescriptions",M.description)]),Ie("/api/projects","POST",M)),onSuccess:async()=>{await g.invalidateQueries({queryKey:he.projects}),await g.invalidateQueries({queryKey:he.projectsWithStats}),await g.invalidateQueries({queryKey:he.autocomplete}),y({title:" ",description:"   "}),i(!1),p({name:"",status:"active",description:"",projectTypeId:null})},onError:M=>{y({title:"",description:"    ",variant:"destructive"})}}),C=ht({mutationFn:async M=>(await q("workerTypes",M.name),Ie("/api/worker-types","POST",M)),onSuccess:async M=>{await g.invalidateQueries({queryKey:he.workerTypes}),await g.invalidateQueries({queryKey:he.autocomplete}),y({title:" ",description:"    "}),o({...a,type:M.name}),h(""),l(!1)},onError:M=>{y({title:"",description:"     ",variant:"destructive"})}}),{data:I}=nt({queryKey:he.dailySummary(e,new Date().toISOString().split("T")[0]),enabled:!!e,staleTime:1e3*30}),{data:N=[]}=nt({queryKey:he.recentActivitiesByProject(e),queryFn:async()=>{try{const M=e?`?projectId=${e}`:"";return(await Ie(`/api/recent-activities${M}`,"GET"))?.data||[]}catch(M){return console.error("    :",M),[]}},staleTime:1e3*10,refetchInterval:3e4}),{data:w,isLoading:_}=nt({queryKey:he.healthStats,queryFn:async()=>{try{const M=await Ie("/api/health/stats","GET"),K=M?.data||M;return!K||typeof K!="object"?null:{cpuUsage:K.cpuUsage||0,memoryUsage:K.memoryUsage||0,activeRequests:K.activeRequests||0,errorRate:K.errorRate||0,uptime:K.uptime||0}}catch(M){return console.error(" [Dashboard]     :",M),null}},refetchInterval:15e3}),S=Array.isArray(T)?T.find(M=>M.id===e):void 0,j=E.useMemo(()=>Array.isArray(T)?T.filter(M=>{const K=!m||(M.name||"").toLowerCase().includes(m.toLowerCase()),z=v.status==="all"||(M.status||"active")===v.status;return K&&z}):[],[T,m,v.status]),R=M=>{switch(M){case"active":return{label:"",variant:"success"};case"completed":return{label:"",variant:"default"};case"paused":return{label:"",variant:"warning"};default:return{label:M,variant:"secondary"}}},$=M=>{switch(M){case"active":return"#22c55e";case"completed":return"#3b82f6";case"paused":return"#f59e0b";default:return"#6b7280"}},U=M=>{if(typeof M!="number"){const K=parseFloat(String(M));if(isNaN(K))return"0 .";M=K}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(M)+" ."},q=E.useCallback(async(M,K)=>{if(!(!K||K.trim().length<2))try{await Ie("/api/autocomplete","POST",{category:M,value:K.trim()})}catch(z){console.warn(`[Dashboard] Failed to save autocomplete: ${M}`,z)}},[]),H=E.useMemo(()=>{if(!b)return{totalIncome:0,totalExpenses:0,currentBalance:0,activeWorkers:"0",completedDays:"0",materialPurchases:"0 .",transportExpenses:0};const M=b.totalIncome||0,K=b.totalAllExpenses||0;return{totalIncome:M,totalExpenses:K,currentBalance:b.totalBalance||M-K,activeWorkers:String(b.totalWorkers||0),completedDays:String(b.completedDays||0),materialPurchases:U(b.totalAllExpenses||0),transportExpenses:b.transportExpenses||0}},[b]),Y=E.useCallback(M=>T.find(z=>z.id===M)?.stats||{totalIncome:0,totalExpenses:0,currentBalance:0,activeWorkers:0},[T]);return O?c.jsx(one,{}):c.jsxs("div",{className:"p-4 fade-in space-y-4",children:[c.jsxs("div",{className:"mb-4",children:[w&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[c.jsx(Bn,{className:"h-4 w-4 text-blue-500"}),c.jsx("span",{children:"   (SigNoz)"})]}),c.jsx(vu,{stats:[{title:" ",value:`${w.cpuUsage}%`,icon:Bn,color:"blue",status:w.cpuUsage>80?"critical":"normal"},{title:" ",value:`${w.memoryUsage}%`,icon:en,color:"teal",status:w.memoryUsage>85?"warning":"normal"},{title:" ",value:w.activeRequests,icon:Tg,color:"purple"},{title:" ",value:`${w.errorRate}%`,icon:oi,color:"green",status:w.errorRate>5?"critical":"normal"}],columns:4,hideHeader:!0})]}),S&&c.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[c.jsx(Gn,{className:"h-4 w-4"}),c.jsxs("span",{children:[": ",c.jsx("strong",{className:"text-foreground",children:S.name})]})]}),!S&&T.length>0&&c.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[c.jsx(Gn,{className:"h-4 w-4"}),c.jsxs("span",{children:["   (",T.length," )"]})]}),c.jsx(vu,{stats:[{title:" ",value:H.totalIncome,icon:hn,color:"blue",formatter:U},{title:" ",value:H.totalExpenses,icon:oi,color:"red",formatter:U},{title:" ",value:H.currentBalance,icon:Jt,color:"green",formatter:U},{title:" ",value:H.activeWorkers,icon:T0,color:"purple"},{title:" ",value:H.completedDays,icon:rs,color:"teal"},{title:" ",value:H.materialPurchases,icon:en,color:"indigo"},{title:"",value:H.transportExpenses,icon:si,color:"orange",formatter:U},{title:" ",value:"1  ",icon:Es,color:"critical"},{title:"",value:"1 ",icon:Vs,color:"warning"}],columns:3,hideHeader:!0})]}),c.jsx($Me,{onAddWorker:()=>n(!0),onAddProject:()=>i(!0)}),j.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2",children:[c.jsx(Gn,{className:"h-5 w-5 text-primary"})," (",j.length,")"]})}),c.jsx(Ns,{columns:2,children:j.map(M=>{const K=M.id||"",z=M.name||"",L=M.status||"active",W=R(L),J=K===e,le=Y(K),ne=le?.totalIncome||0,ue=le?.totalExpenses||0,G=le?.currentBalance||0,te=le?.activeWorkers||0;return c.jsx(Gr,{title:z,titleIcon:Gn,headerColor:$(L),badges:[W],className:J?"ring-2 ring-primary ring-offset-2":"",fields:[{label:"",value:U(ne),icon:hn,color:"info"},{label:"",value:U(ue),icon:oi,color:"danger"},{label:"",value:U(G),icon:Jt,color:"success",emphasis:!0},{label:"",value:String(te),icon:xn,color:"default"}],actions:[{icon:J?Ha:uu,label:J?"":"",onClick:()=>t(K),color:J?"green":"blue"}],onClick:()=>t(K),compact:!0},K)})})]}),N.length>0&&c.jsx(ane,{activities:N,formatCurrency:U}),c.jsx(ks,{open:r,onOpenChange:n,children:c.jsxs(hs,{className:"max-w-lg",children:[c.jsxs(js,{children:[c.jsx(zs,{children:"  "}),c.jsx(Fl,{children:"      "})]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-field form-field-full",children:[c.jsx(Le,{htmlFor:"worker-name",children:" "}),c.jsx(tt,{id:"worker-name",value:a.name,onChange:M=>o({...a,name:M.target.value}),placeholder:"  "})]}),c.jsxs("div",{className:"form-field",children:[c.jsx(Le,{htmlFor:"worker-phone",children:" "}),c.jsx(tt,{id:"worker-phone",value:a.phone,onChange:M=>o({...a,phone:M.target.value}),placeholder:"  "})]}),c.jsxs("div",{className:"form-field",children:[c.jsx(Le,{htmlFor:"worker-wage",children:"  (.)"}),c.jsx(tt,{id:"worker-wage",type:"number",inputMode:"decimal",value:a.dailyWage,onChange:M=>o({...a,dailyWage:M.target.value}),placeholder:"0",className:"text-center",required:!0})]}),c.jsxs("div",{className:"form-field form-field-full",children:[c.jsx(Le,{htmlFor:"worker-type",children:" "}),c.jsx("div",{className:"flex gap-2",children:c.jsx(Wn,{value:a.type||"",onValueChange:M=>o({...a,type:M}),options:Array.isArray(A)&&A.length>0?A.map(M=>({value:M.value,label:M.value})):[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],placeholder:"  ...",searchPlaceholder:"  ...",emptyText:"  ",className:"flex-1"})})]}),c.jsx(ks,{open:u,onOpenChange:l,children:c.jsxs(hs,{className:"sm:max-w-md",children:[c.jsxs(js,{children:[c.jsx(zs,{children:"   "}),c.jsx(Fl,{children:"         "})]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-field form-field-full",children:[c.jsx(Le,{htmlFor:"new-type-name",children:"  "}),c.jsx(tt,{id:"new-type-name",type:"text",value:d,onChange:M=>h(M.target.value),placeholder:":   ...",required:!0})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx(Se,{type:"button",onClick:M=>{M.preventDefault(),d.trim()&&C.mutate({name:d.trim()})},disabled:!d.trim()||C.isPending,children:C.isPending?" ...":""}),c.jsx(Se,{type:"button",variant:"outline",onClick:()=>{l(!1),h("")},children:""})]})]})]})}),c.jsxs("div",{className:"form-actions",children:[c.jsx(Se,{onClick:()=>{if(!a.name.trim()||!a.type||!a.dailyWage){y({title:"",description:"    ",variant:"destructive"});return}const M=parseFloat(a.dailyWage);if(isNaN(M)||M<=0){y({title:"",description:"     ",variant:"destructive"});return}V.mutate({name:a.name.trim(),phone:a.phone||null,type:a.type,dailyWage:M.toString(),isActive:!0})},disabled:V.isPending,className:"gap-2",children:V.isPending?"  ...":" "}),c.jsx(Se,{variant:"outline",onClick:()=>n(!1),children:""})]}),c.jsxs(Se,{type:"button",variant:"outline",size:"sm",onClick:()=>l(!0),className:"w-full gap-2 mt-2",children:[c.jsx(Qn,{className:"h-4 w-4"}),"   "]})]})]})}),c.jsx(ks,{open:s,onOpenChange:i,children:c.jsxs(hs,{className:"max-w-lg",children:[c.jsxs(js,{children:[c.jsx(zs,{children:"  "}),c.jsx(Fl,{children:"      "})]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-field form-field-full",children:[c.jsx(Le,{htmlFor:"project-name",children:" "}),c.jsx(tt,{id:"project-name",value:f.name,onChange:M=>p({...f,name:M.target.value}),placeholder:"  "})]}),c.jsxs("div",{className:"form-field",children:[c.jsx(Le,{htmlFor:"project-type",children:" "}),c.jsx(_j,{value:f.projectTypeId?.toString()||"",onValueChange:M=>p({...f,projectTypeId:M?parseInt(M):null}),projectTypes:P,placeholder:D?" ...":"  ...",disabled:D})]}),c.jsxs("div",{className:"form-field",children:[c.jsx(Le,{htmlFor:"project-status",children:" "}),c.jsxs(Rn,{value:f.status,onValueChange:M=>p({...f,status:M}),children:[c.jsx(wn,{children:c.jsx(On,{})}),c.jsxs(_n,{children:[c.jsx(vt,{value:"active",children:""}),c.jsx(vt,{value:"completed",children:""}),c.jsx(vt,{value:"paused",children:""})]})]})]}),c.jsxs("div",{className:"form-field form-field-full",children:[c.jsx(Le,{htmlFor:"project-description",children:" "}),c.jsx(tt,{id:"project-description",value:f.description,onChange:M=>p({...f,description:M.target.value}),placeholder:"   ()"})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx(Se,{onClick:()=>{f.name&&B.mutate({name:f.name,status:f.status,description:f.description||null,projectTypeId:f.projectTypeId})},disabled:!f.name||B.isPending,children:B.isPending?" ...":""}),c.jsx(Se,{variant:"outline",onClick:()=>i(!1),children:""})]})]})]})})]})}function KMe(){const{data:e,isLoading:t}=nt({queryKey:["/api/brain/analyze"],queryFn:async()=>await Ie("/api/brain/analyze","GET"),refetchInterval:3e4});if(t)return c.jsx(one,{});const r=s=>{switch(s){case"healthy":return"text-green-500";case"degraded":return"text-yellow-500";case"critical":return"text-red-500";default:return"text-muted-foreground"}},n=s=>{switch(s){case"critical":return c.jsx(ut,{variant:"destructive",children:""});case"warning":return c.jsx(ut,{variant:"warning",children:""});default:return c.jsx(ut,{variant:"secondary",children:""})}};return c.jsxs("div",{className:"p-6 space-y-6",dir:"rtl",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[c.jsx(FB,{className:"h-8 w-8 text-primary"}),"   (Brain)"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:" :"}),c.jsx("span",{className:`font-bold capitalize ${r(e?.status||"")}`,children:e?.status==="healthy"?"":e?.status==="degraded"?"":""})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.jsxs(Pt,{children:[c.jsxs(Cn,{className:"flex flex-row items-center justify-between pb-2",children:[c.jsx(zn,{className:"text-sm font-medium",children:" "}),c.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ft,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(100-(e?.score||0)),"%"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]})}),c.jsxs(Pt,{children:[c.jsx(Cn,{children:c.jsxs(zn,{className:"flex items-center gap-2",children:[c.jsx(ko,{className:"h-5 w-5 text-yellow-500"})," "]})}),c.jsx(Ft,{children:e?.anomalies&&e.anomalies.length>0?c.jsx("div",{className:"space-y-4",children:e.anomalies.map(s=>c.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg bg-muted/30",children:[c.jsx("div",{className:"mt-1",children:s.severity==="critical"?c.jsx(ko,{className:"h-5 w-5 text-red-500"}):c.jsx(Uh,{className:"h-5 w-5 text-blue-500"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"font-semibold capitalize",children:s.type}),n(s.severity)]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:s.message}),c.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(s.timestamp).toLocaleString("ar-YE")})]})]},s.id))}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-muted-foreground",children:[c.jsx(Ha,{className:"h-12 w-12 text-green-500 mb-4"}),c.jsx("p",{children:"    .   ."})]})})]})]})}const GMe=async(e,t)=>{const r=new b5.Workbook,n=r.addWorksheet("  ",{views:[{rightToLeft:!0,showGridLines:!1}]}),s="FF1E3A8A",i="FF3B82F6",a="FFF8FAFC",o="FFE2E8F0",u="FF10B981",l="FFF43F5E",d={name:"Calibri",size:11,bold:!0,color:{argb:"FFFFFFFF"}},h={name:"Calibri",size:11,color:{argb:"FF1E293B"}},f={name:"Calibri",size:11,bold:!0,color:{argb:"FF1E293B"}},p={horizontal:"center",vertical:"middle",wrapText:!0},g={horizontal:"right",vertical:"middle",wrapText:!0,indent:1},y={top:{style:"thin",color:{argb:o}},left:{style:"thin",color:{argb:o}},bottom:{style:"thin",color:{argb:o}},right:{style:"thin",color:{argb:o}}};n.mergeCells("A1:I1");const m=n.getCell("A1");m.value="   -   ",m.font={...d,size:18},m.alignment=p,m.fill={type:"pattern",pattern:"solid",fgColor:{argb:s}},n.getRow(1).height=45,n.mergeCells("A2:I2");const v=n.getCell("A2");v.value=` : ${ur(new Date,"dd/MM/yyyy HH:mm")} |     `,v.font={name:"Calibri",size:9,color:{argb:"FF64748B"}},v.alignment=p,n.getRow(2).height=20;const b=4;n.getRow(b).height=25,n.getRow(b+1).height=25,n.getRow(b+2).height=25;const x=(j,R,$,U,q)=>{const H=n.getCell(`${R}${j}`),Y=n.getCell(`${String.fromCharCode(R.charCodeAt(0)+1)}${j}`);H.value=$,H.font={...f,color:{argb:q}},H.fill={type:"pattern",pattern:"solid",fgColor:{argb:a}},H.alignment=g,H.border=y,Y.value=U,Y.font=h,Y.alignment=g,Y.border=y};x(4,"A","  :",t.name,i),x(4,"D","  :",e.projectName||" ",i),x(5,"A","  :",t.type||"",i),x(5,"D","  :",e.dateRange||" ",i),x(6,"A","  :",`${t.dailyWage} . / `,i),x(6,"D","  :",`W-${t.id.toString().slice(-4).toUpperCase()}`,i),n.getColumn("A").width=18,n.getColumn("B").width=25,n.getColumn("D").width=18,n.getColumn("E").width=25;const k=8,T=["","",""," ","  ","",""," (+)"," (-)",""],O=n.getRow(k);T.forEach((j,R)=>{const $=O.getCell(R+1);$.value=j,$.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF334155"}},$.font={...d,color:{argb:"FFFFFFFF"}},$.alignment=p,$.border=y}),O.height=30,n.columns=[{width:6},{width:14},{width:12},{width:22},{width:48},{width:8},{width:12},{width:16},{width:16},{width:16}];const F=e.statement||[];let A=10;F.forEach((j,R)=>{const $=n.getRow(A),U=new Date(j.date),q=R%2===0,H=parseFloat(j.amount||0),Y=parseFloat(j.paid||0),M=H-Y,K=j.workDays!==void 0?parseFloat(j.workDays):j.type===""?1:0;$.values=[R+1,ur(U,"dd/MM/yyyy"),ur(U,"EEEE",{locale:ZQ}),j.projectName||"-",j.description||(j.type===""?`  ${j.recipientName||"-"}`:"    "),K,j.hours||(j.type===""?"8h":"-"),H,Y,M],$.eachCell((z,L)=>{z.border=y,z.alignment=p,z.font=h,q&&(z.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF1F5F9"}}),(L===8||L===9||L===10)&&(z.numFmt='#,##0.00 "."',L===8&&(z.font={...h,color:{argb:u},bold:!0}),L===9&&parseFloat(j.paid||0)>0&&(z.font={...h,color:{argb:l},bold:!0}),L===10&&(z.font={...h,color:{argb:i},bold:!0}))}),A++});const P=n.getRow(A);n.mergeCells(`A${A}:E${A}`);const D=n.getCell(`A${A}`);D.value="  ",D.font=d,D.alignment=p,D.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF475569"}};const V=n.getCell(`F${A}`),B=n.getCell(`H${A}`),C=n.getCell(`I${A}`),I=n.getCell(`J${A}`);V.value=parseFloat(e.summary.totalWorkDays||0),B.value=parseFloat(e.summary.totalEarned||0),C.value=parseFloat(e.summary.totalPaid||0),I.value=parseFloat(e.summary.finalBalance||0),[V,B,C,I].forEach(j=>{j.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF475569"}},j.font=d,j.address.startsWith("F")?j.numFmt="#,##0.00":j.numFmt='#,##0.00 "."',j.alignment=p}),P.height=25,A+=2;const N=8,w=[{label:"  ",isHeader:!0,color:s},{label:"  ",value:e.summary.totalEarned,color:u},{label:"  ",value:e.summary.totalPaid,color:l},{label:"  ",value:e.summary.finalBalance,color:i,isFinal:!0}];w.forEach((j,R)=>{const $=A+R;if(j.isHeader){n.mergeCells($,N,$,N+1);const U=n.getCell($,N);U.value=j.label,U.fill={type:"pattern",pattern:"solid",fgColor:{argb:j.color}},U.font=d,U.alignment=p}else{const U=n.getCell($,N+1),q=n.getCell($,N);U.value=j.label,U.fill={type:"pattern",pattern:"solid",fgColor:{argb:a}},U.font=f,U.border=y,U.alignment=g,q.value=parseFloat(j.value||0),q.font={...h,bold:!0,color:{argb:j.color}},q.border=y,q.alignment=p,q.numFmt='#,##0.00 "."',j.isFinal&&(q.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}})}}),A+=w.length+1,n.mergeCells(`A${A}:I${A}`);const _=n.getCell(`A${A}`);_.value="         AXION.        .",_.font={name:"Calibri",size:8,italic:!0,color:{argb:"FF94A3B8"}},_.alignment=p;const S=await r.xlsx.writeBuffer();return await Mp(S,`Worker_Statement_${t.name.replace(/\s+/g,"_")}_${ur(new Date,"yyyyMMdd")}.xlsx`)};function ZMe(e,t){const r=t?.name||"",n=t?.type||"",s=t?.dailyWage?`${parseFloat(t.dailyWage).toLocaleString()} .`:"-",i=ur(new Date,"dd/MM/yyyy"),a=parseFloat(e?.summary?.totalEarned||0),o=parseFloat(e?.summary?.totalPaid||0),u=parseFloat(e?.summary?.finalBalance||0),l=(e?.statement||[]).map((d,h)=>{const f=parseFloat(d.amount||0),p=parseFloat(d.paid||0),g=f-p;return`<tr>
      <td style="width:30px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${h+1}</td>
      <td style="width:75px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.date?ur(new Date(d.date),"dd/MM/yyyy"):"-"}</td>
      <td style="width:55px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.date?ur(new Date(d.date),"EEEE",{locale:ZQ}):"-"}</td>
      <td style="width:100px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:9px;">${d.projectName||d.project_name||"-"}</td>
      <td style="text-align:right;padding:5px 6px;border:1px solid #BFBFBF;font-size:9px;line-height:1.3;">${d.description||(d.type===""?`  ${d.recipientName||"-"}`:"  ")}</td>
      <td style="width:40px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.type===""?d.workDays!==void 0?parseFloat(d.workDays).toFixed(2):"1.00":"-"}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.type===""?d.hours||"07:00-15:00":"-"}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;background:#E2F0D9;font-weight:700;">${f.toLocaleString()}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;background:#FBE2D5;font-weight:700;">${p.toLocaleString()}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;background:#DEEAF6;font-weight:700;">${g.toLocaleString()}</td>
    </tr>`}).join("");return`<div style="direction:rtl;font-family:'Cairo','Segoe UI',Tahoma,sans-serif;background:#fff;padding:0;margin:0;width:794px;">
    <div style="background:#1F4E79;color:#fff;text-align:center;padding:10px 0;font-size:18px;font-weight:800;margin-bottom:12px;">    </div>
    <div style="display:flex;justify-content:space-between;margin:0 10px 12px 10px;font-size:12px;">
      <div>
        <div style="margin-bottom:4px;"><b style="display:inline-block;width:90px;"> :</b> ${r}</div>
        <div style="margin-bottom:4px;"><b style="display:inline-block;width:90px;"> :</b> ${n}</div>
        <div><b style="display:inline-block;width:90px;"> :</b> ${s}</div>
      </div>
      <div>
        <div style="margin-bottom:4px;"><b style="display:inline-block;width:90px;">:</b> ${e?.projectName||" "}</div>
        <div><b style="display:inline-block;width:90px;"> :</b> ${i}</div>
      </div>
    </div>
    <table style="width:100%;border-collapse:collapse;table-layout:fixed;">
      <thead>
        <tr>
          <th style="width:30px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:75px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:55px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:100px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"> </th>
          <th style="width:40px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
        </tr>
      </thead>
      <tbody>
        ${l}
        <tr>
          <td colspan="5" style="background:#00B050;color:#fff;font-weight:800;font-size:12px;text-align:center;padding:7px;border:1px solid #00803A;"></td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${parseFloat(e?.summary?.totalWorkDays||0).toLocaleString()}</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">-</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${a.toLocaleString()}</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${o.toLocaleString()}</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${u.toLocaleString()}</td>
        </tr>
      </tbody>
    </table>
    <div style="margin-top:20px;">
      <table style="width:300px;border:2px solid #1F4E79;border-collapse:collapse;">
        <tr><td colspan="2" style="background:#00B050;color:#fff;text-align:center;font-weight:800;padding:6px;font-size:13px;border:1px solid #00803A;"> </td></tr>
        <tr><td style="padding:6px 10px;font-weight:700;border:1px solid #BFBFBF;font-size:12px;"> :</td><td style="padding:6px 10px;text-align:left;border:1px solid #BFBFBF;font-size:12px;">${a.toLocaleString()}</td></tr>
        <tr><td style="padding:6px 10px;font-weight:700;border:1px solid #BFBFBF;font-size:12px;"> :</td><td style="padding:6px 10px;text-align:left;border:1px solid #BFBFBF;font-size:12px;">${o.toLocaleString()}</td></tr>
        <tr><td style="padding:6px 10px;font-weight:700;border:1px solid #BFBFBF;font-size:12px;background:#F2F2F2;"> :</td><td style="padding:6px 10px;text-align:left;border:1px solid #BFBFBF;font-size:12px;font-weight:800;background:#F2F2F2;">${u.toLocaleString()}</td></tr>
      </table>
    </div>
    <div style="text-align:center;font-size:9px;color:#7F7F7F;margin-top:20px;padding:5px;border-top:1px solid #EEE;">
               | ${ur(new Date,"dd/MM/yyyy HH:mm")}
    </div>
  </div>`}const XMe=async(e,t)=>{try{if(!e||!e.statement)return console.error("No data provided for PDF generation"),!1;const r=ZMe(e,t),n=document.createElement("div");n.style.position="fixed",n.style.left="-9999px",n.style.top="0",n.style.width="794px",n.style.background="#fff",n.style.zIndex="-1",n.innerHTML=r,document.body.appendChild(n),await new Promise(m=>setTimeout(m,300));const s=(await Ar(async()=>{const{default:m}=await import("./html2canvas.esm-B0tyYwQk.js");return{default:m}},[])).default,{jsPDF:i}=await Ar(async()=>{const{jsPDF:m}=await import("./jspdf.es.min-C-OyBhzo.js").then(v=>v.j);return{jsPDF:m}},[]),a=await s(n,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:794,windowWidth:794});document.body.removeChild(n);const o=210,u=297,l=a.height*o/a.width,d=new i("p","mm","a4");let h=l,f=0;const p=a.toDataURL("image/jpeg",.92);for(d.addImage(p,"JPEG",0,f,o,l),h-=u;h>0;)f=-(l-h),d.addPage(),d.addImage(p,"JPEG",0,f,o,l),h-=u;const g=d.output("blob"),y=`__${t?.name||""}_${ur(new Date,"yyyy-MM-dd")}.pdf`;return await x5(g,y,"application/pdf")}catch(r){return console.error("PDF generation error:",r),!1}};function WR({children:e,columns:t=2,className:r,...n}){const s={2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 md:grid-cols-4"};return c.jsx("div",{className:_e("grid gap-3 md:gap-4",s[t],r),dir:"rtl",...n,children:e})}function YMe({worker:e,onSuccess:t,onCancel:r,submitLabel:n=" "}){const[s,i]=E.useState(e?.name||""),[a,o]=E.useState(e?.type||""),[u,l]=E.useState(e?e.dailyWage:""),[d,h]=E.useState(e?.phone||""),[f,p]=E.useState(e?.hireDate||""),[g,y]=E.useState(!1),[m,v]=E.useState(""),{toast:b}=Br(),x=ns();E.useEffect(()=>{e&&(i(e.name||""),o(e.type||""),l(e.dailyWage||""),h(e.phone||""),p(e.hireDate||""))},[e]);const k=async(D,V)=>{if(!(!V||typeof V!="string"||!V.trim()))try{await Ie("/api/autocomplete","POST",{category:D,value:V.trim()})}catch{}},{data:T=[]}=nt({queryKey:he.workerTypes}),O=ht({mutationFn:async D=>(await Promise.all([k("workerNames",D.name),k("workerTypes",D.type)]),e?Ie(`/api/workers/${e.id}`,"PATCH",D):Ie("/api/workers","POST",D)),onSuccess:async(D,V)=>{x.setQueryData(["/api/workers"],B=>B?[D.data,...B]:[D.data]),await Promise.all([x.invalidateQueries({queryKey:he.workerTypes}),x.invalidateQueries({queryKey:he.autocomplete})]),b({title:" ",description:e?"   ":"   "}),e||(i(""),o(""),l(""),h(""),p("")),t?.()},onError:async(D,V)=>{await Promise.all([k("workerNames",V.name),k("workerTypes",V.type)]),await x.invalidateQueries({queryKey:he.autocomplete});const B=D?.message||(e?"    ":"    ");b({title:e?"   ":"   ",description:B,variant:"destructive"})}}),F=ht({mutationFn:async D=>(await k("workerTypes",D.name),Ie("/api/worker-types","POST",D)),onSuccess:async(D,V)=>{await x.invalidateQueries({queryKey:he.workerTypes}),await x.invalidateQueries({queryKey:he.autocomplete}),b({title:" ",description:"    "}),o(D.name),v(""),y(!1)},onError:async(D,V)=>{await k("workerTypes",V.name),await x.invalidateQueries({queryKey:he.autocomplete});const B=D?.message||"     ";b({title:"    ",description:B,variant:"destructive"})}}),A=D=>{if(D.preventDefault(),!s.trim()||!a||!u){b({title:"",description:"    ",variant:"destructive"});return}const V=parseFloat(u);if(isNaN(V)||V<=0){b({title:"",description:"     ",variant:"destructive"});return}O.mutate({name:s.trim(),type:a,dailyWage:V.toString(),phone:d.trim()||void 0,hireDate:f||void 0,isActive:e?.isActive??!0})},P=D=>{if(D.preventDefault(),!m.trim()){b({title:"",description:"    ",variant:"destructive"});return}F.mutate({name:m.trim()})};return c.jsxs("form",{onSubmit:A,className:"space-y-4",children:[c.jsxs(WR,{columns:2,children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Le,{htmlFor:"worker-name",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[c.jsx(tf,{className:"h-4 w-4 text-blue-500"}),"  *"]}),c.jsx(ap,{id:"worker-name",value:s,onChange:D=>i(D.target.value),placeholder:"  ...",required:!0,className:"min-h-[44px]"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Le,{htmlFor:"worker-type",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[c.jsx(zB,{className:"h-4 w-4 text-purple-500"}),"  *"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Wn,{value:a,onValueChange:o,options:Array.isArray(T)&&T.length>0?T.map(D=>({value:D.name,label:D.name})):[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],placeholder:"  ...",searchPlaceholder:"  ...",emptyText:"  ",className:"flex-1"}),c.jsxs(ks,{open:g,onOpenChange:y,children:[c.jsx(rp,{asChild:!0,children:c.jsx(Se,{type:"button",variant:"outline",size:"icon",className:"shrink-0",title:"  ",children:c.jsx(Qn,{className:"h-4 w-4"})})}),c.jsxs(hs,{className:"sm:max-w-md",children:[c.jsx(js,{children:c.jsx(zs,{children:"   "})}),c.jsxs("form",{onSubmit:P,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"new-type-name",className:"block text-sm font-medium text-foreground",children:"  "}),c.jsx(tt,{id:"new-type-name",type:"text",value:m,onChange:D=>v(D.target.value),placeholder:":   ...",required:!0})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Se,{type:"submit",disabled:F.isPending,className:"flex-1",children:F.isPending?" ...":""}),c.jsx(Se,{type:"button",variant:"outline",onClick:()=>{y(!1),v("")},className:"flex-1",children:""})]})]})]})]})]})]})]}),c.jsxs(WR,{columns:3,children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Le,{htmlFor:"daily-wage",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[c.jsx(Jt,{className:"h-4 w-4 text-green-500"}),"  (.) *"]}),c.jsx(tt,{id:"daily-wage",type:"number",inputMode:"decimal",value:u,onChange:D=>l(D.target.value),placeholder:"0",className:"text-center arabic-numbers min-h-11",required:!0,autoWidth:!0,maxWidth:200})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Le,{htmlFor:"phone",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[c.jsx(KB,{className:"h-4 w-4 text-blue-500"})," "]}),c.jsx(tt,{id:"phone",type:"tel",inputMode:"tel",value:d,onChange:D=>h(D.target.value),placeholder:"966XXXXXXXXX+",className:"text-left ltr",dir:"ltr"})]}),c.jsx(tl,{id:"hire-date",label:" ",value:f,onChange:D=>p(D?ur(D,"yyyy-MM-dd"):"")})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Se,{type:"submit",className:"flex-1",disabled:O.isPending,children:O.isPending?" ...":n}),r&&c.jsx(Se,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:""})]})]})}const QMe=({worker:e,onClose:t,isOpen:r})=>c.jsx(ks,{open:r,onOpenChange:t,children:c.jsxs(hs,{className:"sm:max-w-md",children:[c.jsxs(js,{children:[c.jsx(zs,{children:e?" ":"  "}),c.jsx(Fl,{children:e?"    ":"   "})]}),c.jsx("div",{className:"mt-4",children:c.jsx(YMe,{worker:e,onSuccess:t,onCancel:t,submitLabel:e?" ":" "})})]})}),JMe=({stats:e,formatCurrency:t,isLoading:r})=>{const n=e?.totalEarnings??0,s=e?.totalTransfers??0,i=n-s;return c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 dark:text-green-400 mb-1",children:[c.jsx(Md,{className:"h-3 w-3"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),c.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:r?"...":t(n)})]}),c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-2 text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-600 dark:text-yellow-400 mb-1",children:[c.jsx(S3,{className:"h-3 w-3"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),c.jsx("p",{className:"text-xs font-bold text-yellow-600 dark:text-yellow-400",children:r?"...":t(s)})]}),c.jsxs("div",{className:`${i>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-red-50 dark:bg-red-900/20"} rounded-lg p-2 text-center`,children:[c.jsxs("div",{className:`flex items-center justify-center gap-1 ${i>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"} mb-1`,children:[c.jsx(oi,{className:"h-3 w-3"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),c.jsx("p",{className:`text-xs font-bold ${i>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"}`,children:r?"...":t(i)})]})]})},eDe=({worker:e,onEdit:t,onDelete:r,onToggleStatus:n,onExport:s,formatCurrency:i,isToggling:a,selectedProjectId:o,isExporting:u,exportProgress:l,exportingWorkerId:d})=>{const h=o===as?void 0:o,{data:f,isLoading:p}=nt({queryKey:he.workerStats(e.id,o),queryFn:async()=>{const m=h?`/api/workers/${e.id}/stats?projectId=${h}`:`/api/workers/${e.id}/stats`;return Ie(m,"GET")},staleTime:300*1e3,gcTime:600*1e3,retry:1,placeholderData:m=>m,refetchOnWindowFocus:!1,enabled:e.isActive}),g=f?.data,y=g?.projectsWorked??0;return c.jsxs("div",{className:"relative group",children:[u&&c.jsx("div",{className:"absolute inset-0 z-50 bg-background/80 backdrop-blur-sm flex flex-col items-center justify-center p-6 rounded-lg border-2 border-primary animate-in fade-in zoom-in duration-300",children:c.jsxs("div",{className:"w-full space-y-4 text-center",children:[c.jsxs("div",{className:"relative h-16 w-16 mx-auto",children:[c.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),c.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"}),c.jsx(Fs,{className:"absolute inset-0 m-auto h-6 w-6 text-primary animate-pulse"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-bold text-primary animate-pulse",children:"   ..."}),c.jsx("div",{className:"h-2 w-full bg-primary/10 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${l}%`}})}),c.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono",children:[l,"%"]})]})]})}),c.jsx(Gr,{title:e.name,subtitle:e.hireDate?new Date(e.hireDate).toLocaleDateString("en-GB"):void 0,titleIcon:tf,headerColor:e.isActive?"#22c55e":"#ef4444",badges:[{label:e.type,variant:"secondary"},{label:e.isActive?"":" ",variant:e.isActive?"success":"destructive"}],fields:[{label:" ",value:i(parseFloat(e.dailyWage)),icon:Jt,emphasis:!0,color:"success"},{label:"",value:e.phone||" ",icon:KB,color:e.phone?"success":"muted"},{label:"",value:p?"...":y>0?`${y} `:" ",icon:T4,color:y>0?"info":"muted"},{label:" ",value:p?"...":`${g?.totalWorkDays??0} `,icon:rs,color:"warning"}],actions:[{icon:Fs,label:" ",disabled:!!d,color:"green",onClick:()=>{},dropdown:[{label:" PDF ",onClick:()=>s("pdf")},{label:"  Excel",onClick:()=>s("excel")},{label:" ",onClick:()=>s("pdf")}]},{icon:Sl,label:"",onClick:t,color:"blue"},{icon:GB,label:e.isActive?"":"",onClick:n,disabled:a,color:e.isActive?"yellow":"green"},{icon:An,label:"",onClick:r,color:"red"}],footer:c.jsx(JMe,{stats:g,formatCurrency:i,isLoading:p}),compact:!0})]})};function tDe(){const[e,t]=E.useState(),[r,n]=E.useState(!1),[s,i]=E.useState(""),[a,o]=E.useState({status:"all",type:"all"}),[u,l]=E.useState(!1),[d,h]=E.useState(null),[f,p]=E.useState(null),[g,y]=E.useState(0),[m,v]=E.useState(null),{toast:b}=Br(),x=ns(),{setFloatingAction:k}=Io(),{selectedProjectId:T}=Ao(),O=E.useCallback((Y,M)=>{o(K=>({...K,[Y]:M}))},[]),F=E.useCallback(()=>{i(""),o({status:"all",type:"all"}),b({title:"  ",description:"   "})},[b]),A=Y=>new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(Y)+" .",{data:P=[],isLoading:D,refetch:V}=nt({queryKey:he.workers,queryFn:async()=>{try{const Y=await Ie("/api/workers","GET");let M=[];return Y&&typeof Y=="object"&&(Y.success&&Array.isArray(Y.data)?M=Y.data:Array.isArray(Y)&&(M=Y)),M}catch(Y){return console.error("Error fetching workers:",Y),[]}},staleTime:3e4,gcTime:6e4,retry:2,placeholderData:Y=>Y,refetchOnWindowFocus:!0}),{data:B=[]}=nt({queryKey:he.workerTypes,queryFn:async()=>{try{const Y=await fetch("/api/worker-types");if(!Y.ok)return[];const M=await Y.json();let K=[];return M&&typeof M=="object"&&(M.success!==void 0&&M.data!==void 0?K=Array.isArray(M.data)?M.data:[]:Array.isArray(M)&&(K=M)),Array.isArray(K)?K:[]}catch{return[]}},staleTime:9e5,gcTime:18e5,retry:1,placeholderData:Y=>Y,refetchOnWindowFocus:!1}),C=E.useCallback(async()=>{l(!0);try{await V(),b({title:" ",description:"   "})}catch{b({title:"",description:"  ",variant:"destructive"})}finally{l(!1)}},[V,b]),I=ht({mutationFn:Y=>Ie(`/api/workers/${Y}`,"DELETE"),onMutate:async Y=>{await x.cancelQueries({queryKey:he.workers});const M=x.getQueryData(he.workers);return Array.isArray(M)&&x.setQueryData(he.workers,M.filter(K=>K.id!==Y)),{previousData:M}},onSuccess:Y=>{b({title:"   ",description:Y?.message||"     .",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(Y,M,K)=>{K?.previousData&&x.setQueryData(he.workers,K.previousData),b({title:"   ",description:Y?.message||"    ",variant:"destructive"})},onSettled:()=>{x.invalidateQueries({queryKey:he.workers}),x.invalidateQueries({queryKey:he.projectsWithStats})}}),N=ht({mutationFn:({id:Y,data:M})=>Ie(`/api/workers/${Y}`,"PATCH",M),onMutate:async({id:Y,data:M})=>{await x.cancelQueries({queryKey:he.workers});const K=x.getQueryData(he.workers);return Array.isArray(K)&&x.setQueryData(he.workers,K.map(z=>z.id===Y?{...z,...M}:z)),{previousData:K}},onSuccess:Y=>{b({title:" ",description:Y?.message||"     ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"}),x.invalidateQueries({queryKey:he.workers})},onError:(Y,M,K)=>{K?.previousData&&x.setQueryData(he.workers,K.previousData),b({title:"",description:Y.message||"    ",variant:"destructive"})},onSettled:()=>{h(null),x.invalidateQueries({queryKey:he.workers}),x.invalidateQueries({queryKey:he.projectsWithStats})}}),w=E.useMemo(()=>(Array.isArray(P)?P:[]).filter(Y=>{const M=Y.name.toLowerCase().includes(s.toLowerCase())||Y.type.toLowerCase().includes(s.toLowerCase())||Y.phone&&Y.phone.includes(s),K=a.status==="all"||a.status==="active"&&Y.isActive||a.status==="inactive"&&!Y.isActive,z=a.type==="all"||Y.type===a.type;return M&&K&&z}),[P,s,a]),_=E.useMemo(()=>({total:Array.isArray(P)?P.length:0,active:Array.isArray(P)?P.filter(Y=>Y.isActive).length:0,inactive:Array.isArray(P)?P.filter(Y=>!Y.isActive).length:0,avgWage:Array.isArray(P)&&P.length>0?P.reduce((Y,M)=>Y+parseFloat(M.dailyWage),0)/P.length:0}),[P]),S=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:_.total,icon:xn,color:"blue"},{key:"active",label:" ",value:_.active,icon:Bn,color:"green",showDot:!0,dotColor:"bg-green-500"},{key:"inactive",label:" ",value:_.inactive,icon:bn,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"avgWage",label:" ",value:A(_.avgWage),icon:Jt,color:"purple"},{key:"totalTypes",label:" ",value:B.length,icon:zB,color:"teal"},{key:"totalWorkDays",label:"  ",value:"-",icon:rs,color:"indigo"}]}],[_,B]),j=E.useMemo(()=>[{key:"status",label:"",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"active",label:""},{value:"inactive",label:" "}]},{key:"type",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},...Array.isArray(B)?B.map(Y=>({value:Y.name,label:Y.name})):[]]}],[B]),R=()=>{t(void 0),n(!0)},$=Y=>{t(Y),n(!0)},U=Y=>{confirm(`      "${Y.name}"`)&&I.mutate(Y.id)},q=Y=>{h(Y.id),N.mutate({id:Y.id,data:{isActive:!Y.isActive}})},H=async(Y,M="excel")=>{p(Y.id),y(10),v(null);try{const K=T===as?void 0:T,z=setInterval(()=>{y(J=>J>=90?(clearInterval(z),90):J+10)},200),L=`/api/reports/worker-statement?workerId=${Y.id}${K?`&projectId=${K}`:""}`,W=await Ie(L,"GET");if(clearInterval(z),y(100),W.success){let J=!1;M==="pdf"?J=await XMe(W.data,Y):J=await GMe(W.data,Y),b(J?{title:" ",description:`    ${Y.name} `}:{title:" ",description:"     .   .",variant:"destructive"})}}catch(K){console.error("Error exporting statement:",K),b({title:"  ",description:"    ",variant:"destructive"})}finally{setTimeout(()=>{p(null),y(0)},500)}};return E.useEffect(()=>(k(R,"  "),()=>k(null)),[k]),c.jsxs("div",{className:"container mx-auto p-4 space-y-4",children:[c.jsx(Qa,{hideHeader:!0,title:"",subtitle:"",statsRows:S,filters:j,onFilterChange:O,onSearchChange:i,searchValue:s,onReset:F,onRefresh:C,isRefreshing:u}),D?c.jsx(Ns,{columns:4,children:Array.from({length:8}).map((Y,M)=>c.jsx(Gr,{title:"",fields:[],isLoading:!0,compact:!0},M))}):w.length===0?c.jsx(Pt,{className:"p-12 text-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4 text-muted-foreground",children:[c.jsx(xn,{className:"h-12 w-12 opacity-20"}),c.jsx("p",{className:"text-lg",children:"     "}),c.jsx(Se,{variant:"outline",onClick:F,children:" "})]})}):c.jsx(Ns,{columns:4,children:w.map(Y=>c.jsx(eDe,{worker:Y,onEdit:()=>$(Y),onDelete:()=>U(Y),onToggleStatus:()=>q(Y),onExport:M=>H(Y,M),formatCurrency:A,isToggling:d===Y.id,selectedProjectId:T,isExporting:f===Y.id,exportProgress:g,exportingWorkerId:f},Y.id))}),c.jsx(QMe,{worker:e,isOpen:r,onClose:()=>n(!1)})]})}function rDe(e,t=[]){let r=[];function n(i,a){const o=E.createContext(a);o.displayName=i+"Context";const u=r.length;r=[...r,a];const l=h=>{const{scope:f,children:p,...g}=h,y=f?.[e]?.[u]||o,m=E.useMemo(()=>g,Object.values(g));return c.jsx(y.Provider,{value:m,children:p})};l.displayName=i+"Provider";function d(h,f){const p=f?.[e]?.[u]||o,g=E.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[l,d]}const s=()=>{const i=r.map(a=>E.createContext(a));return function(o){const u=o?.[e]||i;return E.useMemo(()=>({[`__scope${e}`]:{...o,[e]:u}}),[o,u])}};return s.scopeName=e,[n,nDe(s,...t)]}function nDe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:u,scopeName:l})=>{const h=u(i)[`__scope${l}`];return{...o,...h}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var sDe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lne=sDe.reduce((e,t)=>{const r=ey(`Primitive.${t}`),n=E.forwardRef((s,i)=>{const{asChild:a,...o}=s,u=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),T5="Progress",E5=100,[iDe]=rDe(T5),[aDe,oDe]=iDe(T5),cne=E.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=lDe,...a}=e;(s||s===0)&&!qR(s)&&console.error(cDe(`${s}`,"Progress"));const o=qR(s)?s:E5;n!==null&&!HR(n,o)&&console.error(uDe(`${n}`,"Progress"));const u=HR(n,o)?n:null,l=Lx(u)?i(u,o):void 0;return c.jsx(aDe,{scope:r,value:u,max:o,children:c.jsx(lne.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Lx(u)?u:void 0,"aria-valuetext":l,role:"progressbar","data-state":fne(u,o),"data-value":u??void 0,"data-max":o,...a,ref:t})})});cne.displayName=T5;var une="ProgressIndicator",dne=E.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=oDe(une,r);return c.jsx(lne.div,{"data-state":fne(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});dne.displayName=une;function lDe(e,t){return`${Math.round(e/t*100)}%`}function fne(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Lx(e){return typeof e=="number"}function qR(e){return Lx(e)&&!isNaN(e)&&e>0}function HR(e,t){return Lx(e)&&!isNaN(e)&&e<=t&&e>=0}function cDe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${E5}\`.`}function uDe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${E5} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hne=cne,dDe=dne;const wu=E.forwardRef(({className:e,value:t,...r},n)=>c.jsx(hne,{ref:n,className:_e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:c.jsx(dDe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));wu.displayName=hne.displayName;function fDe(){const{toast:e}=Br(),[t,r]=E.useState(null),[n,s]=E.useState("local"),[i,a]=E.useState(!1),[o,u]=E.useState(""),[l,d]=E.useState(!1),[h,f]=E.useState({status:"all"}),{data:p}=nt({queryKey:he.backupsStatus,refetchInterval:5e3}),g=p?{lastRunAt:p.lastRunAt,lastSuccessAt:p.lastSuccessAt,lastFailureAt:p.lastFailureAt,lastError:p.lastError,totalSuccess:p.totalSuccess,totalFailure:p.totalFailure,isRunning:p.isRunning,schedulerEnabled:p.schedulerEnabled,cronSchedule:p.cronSchedule}:void 0,y=p?.storage,{data:m}=nt({queryKey:he.backupsDatabases}),v=E.useMemo(()=>Array.isArray(m)&&m.length>0?m:[{id:"local",name:"LOCAL"}],[m]),{data:b,isLoading:x,refetch:k}=nt({queryKey:he.backupsLogs,refetchInterval:1e4}),T=E.useMemo(()=>Array.isArray(b)?b:[],[b]),O=ht({mutationFn:async()=>await Ie("/api/backups/run","POST"),onMutate:()=>{e({title:"   ",description:"      ..."})},onSuccess:$=>{Ss.invalidateQueries({queryKey:he.backupsLogs}),Ss.invalidateQueries({queryKey:he.backupsStatus}),$.success?e({title:"   ",description:`${$.tablesCount}  | ${$.totalRows}  | ${$.sizeMB} MB |  ${$.compressionRatio}`}):e({title:"  ",description:$.message,variant:"destructive"})},onError:$=>{e({title:"  ",description:$.message,variant:"destructive"})}}),F=ht({mutationFn:async({target:$,fileName:U})=>await Ie("/api/backups/restore","POST",{fileName:U,target:$}),onMutate:()=>{e({title:" ",description:"     ..."})},onSuccess:$=>{$.success?(d(!0),e({title:"  ",description:$.message}),setTimeout(()=>window.location.reload(),3e3)):e({title:" ",description:$.message,variant:"destructive"})},onError:$=>{e({title:" ",description:$.message,variant:"destructive"})},onSettled:()=>{l||a(!1)}}),A=$=>{r($),a(!0),d(!1)},P=()=>{t&&F.mutate({target:n,fileName:t.filename})},D=async $=>{try{const U=localStorage.getItem("accessToken"),q={};U&&(q.Authorization=`Bearer ${U}`);const H=await fetch(`/api/backups/download/${$}`,{headers:q});if(!H.ok)throw new Error(" ");const Y=await H.blob(),{downloadFile:M}=await Ar(async()=>{const{downloadFile:K}=await Promise.resolve().then(()=>pOe);return{downloadFile:K}},void 0);await M(Y,$,Y.type||"application/octet-stream")}catch(U){e({title:" ",description:U.message||"    ",variant:"destructive"})}},[V,B]=E.useState([]),C=ht({mutationFn:async $=>await Ie("/api/backups/analyze","POST",{target:$}),onSuccess:$=>{B($.report||[]),e({title:" ",description:"   "})}}),I=ht({mutationFn:async $=>await Ie("/api/backups/test-connection","POST",{target:$}),onSuccess:$=>{e({title:$.success?" ":" ",description:$.message,variant:$.success?"default":"destructive"})}}),N=ht({mutationFn:async $=>await Ie(`/api/backups/${$}`,"DELETE"),onSuccess:$=>{e({title:"  ",description:$.message}),Ss.invalidateQueries({queryKey:he.backupsLogs}),Ss.invalidateQueries({queryKey:he.backupsStatus})},onError:$=>{e({title:" ",description:$.message,variant:"destructive"})}}),w=E.useMemo(()=>T.filter($=>{const U=!o||$.filename.toLowerCase().includes(o.toLowerCase()),q=h.status==="all"||$.status===h.status;return U&&q}),[T,o,h.status]),_=$=>$?$<1e3?`${$}ms`:`${($/1e3).toFixed(1)}s`:"-",S=$=>{if(!$)return"  ";const U=Date.now()-new Date($).getTime(),q=Math.floor(U/6e4);if(q<1)return"";if(q<60)return` ${q} `;const H=Math.floor(q/60);return H<24?` ${H} `:` ${Math.floor(H/24)} `},j=[{items:[{key:"scheduler",label:" ",value:g?.schedulerEnabled?"":"",icon:bn,color:g?.schedulerEnabled?"green":"orange",subLabel:g?.cronSchedule||"-"},{key:"last_backup",label:"  ",value:S(g?.lastSuccessAt||null),icon:Xr,color:g?.lastSuccessAt?"green":"gray",subLabel:`: ${g?.totalSuccess||0} | : ${g?.totalFailure||0}`},{key:"storage",label:"",value:y?`${y.totalSizeMB} MB`:"-",icon:Eg,color:"purple",subLabel:`${y?.fileCount||T.length}  | : ${y?.maxRetention||20}`},{key:"status",label:"",value:g?.isRunning?" ":"",icon:Bn,color:g?.isRunning?"orange":"green",subLabel:g?.lastError?`: ${g.lastError.substring(0,30)}`:" "}]}],R=[{key:"status",label:"",type:"select",options:[{label:"",value:"all"},{label:"",value:"success"},{label:"",value:"error"}]}];return c.jsxs("div",{className:"fade-in pb-32",dir:"rtl",children:[c.jsx(Qa,{statsRows:j,filters:R,searchValue:o,filterValues:h,onSearchChange:u,onFilterChange:($,U)=>f(q=>({...q,[$]:U})),onReset:()=>{u(""),f({status:"all"})},onRefresh:k,isRefreshing:x||O.isPending,searchPlaceholder:"   ...",actions:[{key:"run-backup",label:O.isPending||g?.isRunning?" ...":"  ",icon:O.isPending||g?.isRunning?Mr:qbe,onClick:()=>O.mutate(),disabled:O.isPending||g?.isRunning,variant:"default"}]}),(O.isPending||g?.isRunning)&&c.jsx("div",{className:"px-4 mt-4","data-testid":"backup-progress",children:c.jsxs("div",{className:"bg-card border rounded-md p-4",children:[c.jsx("div",{className:"flex justify-between items-center mb-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Mr,{className:"h-4 w-4 animate-spin text-primary"}),c.jsx("span",{className:"text-sm font-medium",children:"   ..."})]})}),c.jsx(wu,{value:O.isPending?50:0,className:"h-2"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"      gzip"})]})}),c.jsx("div",{className:"mt-6 px-4",children:x&&T.length===0?c.jsx("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map($=>c.jsx("div",{className:"h-40 rounded-md border bg-muted/20 animate-pulse"},$))}):w.length===0?c.jsxs("div",{className:"text-center py-20 border-2 border-dashed rounded-md bg-muted/5",children:[c.jsx(Eg,{className:"h-16 w-16 text-muted-foreground/20 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-muted-foreground","data-testid":"text-no-backups",children:"   "}),c.jsx("p",{className:"text-sm text-muted-foreground/60 max-w-sm mx-auto mt-2",children:'  "  "   '})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:w.map($=>c.jsxs("div",{className:"group relative bg-card border rounded-md p-3 hover-elevate transition-all duration-300","data-testid":`card-backup-${$.filename}`,children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsx("div",{className:`p-2 rounded-md shrink-0 ${$.compressed?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400"}`,children:$.compressed?c.jsx(C4,{className:"h-4 w-4"}):c.jsx(Fs,{className:"h-4 w-4"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("h3",{className:"text-sm font-bold truncate",title:$.filename,children:$.filename}),c.jsx("div",{className:"flex items-center gap-2 mt-0.5 text-xs text-muted-foreground flex-wrap",children:c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(rs,{className:"h-3 w-3"}),oo($.createdAt)]})})]})]}),c.jsxs("div",{className:"flex items-center gap-1 shrink-0 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity",style:{visibility:"visible"},children:[c.jsx(Se,{variant:"ghost",size:"icon","data-testid":`button-download-${$.filename}`,onClick:()=>D($.filename),children:c.jsx(Gm,{className:"h-4 w-4"})}),c.jsx(Se,{variant:"ghost",size:"icon","data-testid":`button-restore-${$.filename}`,disabled:F.isPending,onClick:()=>A($),children:c.jsx(Ml,{className:"h-4 w-4"})}),c.jsx(Se,{variant:"ghost",size:"icon","data-testid":`button-delete-${$.filename}`,disabled:N.isPending,onClick:()=>{const{dismiss:U}=e({title:" ",description:`   ${$.filename} `,action:c.jsx(Se,{variant:"destructive",size:"sm",onClick:()=>{U(),N.mutate($.filename)},children:""})})},children:c.jsx(An,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2 text-center",children:[c.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:""}),c.jsxs("p",{className:"text-sm font-bold",children:[$.size," MB"]})]}),c.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:""}),c.jsx("p",{className:"text-sm font-bold",children:$.tablesCount??"-"})]}),c.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:""}),c.jsx("p",{className:"text-sm font-bold",children:$.totalRows?$.totalRows.toLocaleString():"-"})]})]}),c.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2 text-xs text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[$.compressed?c.jsx(C4,{className:"h-3 w-3"}):c.jsx(Fs,{className:"h-3 w-3"}),$.format==="json.gz"?"":$.format]}),c.jsx("span",{children:_($.durationMs)})]}),$.status!=="success"&&c.jsx("p",{className:"mt-2 text-xs text-destructive bg-destructive/10 p-1.5 rounded-md border border-destructive/20 truncate",children:"  "})]},$.filename))})}),c.jsx(ks,{open:i,onOpenChange:a,children:c.jsxs(hs,{className:"sm:max-w-md",dir:"rtl",children:[c.jsxs(js,{children:[c.jsxs(zs,{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Ml,{className:"h-5 w-5 text-orange-600"}),"  "]}),c.jsxs(Fl,{className:"text-right",children:["  : ",c.jsx("br",{}),c.jsx("span",{className:"font-mono text-xs text-primary font-bold",children:t?.filename}),t?.tablesCount&&c.jsxs("span",{className:"block mt-1 text-xs",children:[t.tablesCount,"  | ",t.totalRows?.toLocaleString(),"  | ",t.size," MB"]})]})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("label",{className:"text-sm font-bold block text-right flex items-center gap-2",children:[c.jsx(qi,{className:"h-4 w-4 text-primary"}),"  :"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Rn,{value:n,onValueChange:$=>s($),children:[c.jsx(wn,{className:"w-full","data-testid":"select-restore-target",children:c.jsx(On,{placeholder:" "})}),c.jsx(_n,{children:v.map($=>c.jsx(vt,{value:$.id,children:c.jsxs("div",{className:"flex items-center gap-2",children:[$.id==="central"?c.jsx(k3,{className:"h-4 w-4"}):c.jsx(vve,{className:"h-4 w-4"}),c.jsx("span",{className:"font-bold",children:$.name}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",$.id,")"]})]})},$.id))})]}),c.jsx(Se,{variant:"outline",size:"icon","data-testid":"button-test-connection",onClick:()=>I.mutate(n),disabled:I.isPending,children:c.jsx(ms,{className:`h-4 w-4 ${I.isPending?"animate-spin":""}`})})]}),c.jsxs(Se,{variant:"secondary",className:"w-full text-xs","data-testid":"button-analyze-tables",onClick:()=>C.mutate(n),disabled:C.isPending,children:[C.isPending?c.jsx(Mr,{className:"h-4 w-4 animate-spin ml-2"}):c.jsx(Dl,{className:"h-4 w-4 ml-2"}),"    "]}),V.length>0&&c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"max-h-48 overflow-y-auto p-3 bg-muted/30 rounded-md border text-xs space-y-1",children:[c.jsxs("p",{className:"font-bold mb-2 flex items-center gap-2",children:[c.jsx(qi,{className:"h-4 w-4"}),"   (",V.length," ):"]}),V.map(($,U)=>c.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-border/50 last:border-0",children:[c.jsx("span",{className:"font-mono",children:$.table}),c.jsxs("div",{className:"flex items-center gap-2",children:[$.rows!==void 0&&c.jsxs("span",{className:"text-muted-foreground",children:[$.rows," "]}),$.status==="exists"?c.jsx("span",{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 px-2 py-0.5 rounded-md text-[10px] font-bold",children:""}):c.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 px-2 py-0.5 rounded-md text-[10px] font-bold",children:""})]})]},U))]})})]}),F.isPending&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"flex justify-between items-center text-xs font-bold text-primary",children:c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Mr,{className:"h-3 w-3 animate-spin"})," ..."]})}),c.jsx(wu,{value:50,className:"h-2"}),c.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"   ..."})]}),l&&c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-md border border-green-200 dark:border-green-800 flex items-center gap-3",children:[c.jsx(Xr,{className:"h-8 w-8 text-green-600 shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold text-green-800 dark:text-green-200",children:"  "}),c.jsx("p",{className:"text-xs text-green-600/80 mt-1",children:"     "})]})]}),!F.isPending&&!l&&c.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-md border border-amber-200 dark:border-amber-800",children:c.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-200 font-medium leading-relaxed",children:":        .    ."})})]}),c.jsxs(jx,{className:"gap-3 sm:justify-start",children:[c.jsx(Se,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-restore",disabled:F.isPending||l,children:""}),c.jsx(Se,{variant:"default","data-testid":"button-confirm-restore",onClick:P,disabled:F.isPending||l,children:F.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Mr,{className:"ml-2 h-4 w-4 animate-spin"})," ..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ml,{className:"ml-2 h-4 w-4"})," "]})})]})]})})]})}const KR={system:{icon:bo,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-800",borderColor:"border-slate-200 dark:border-slate-700",label:""},security:{icon:bo,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",label:""},maintenance:{icon:ia,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800",label:""},warranty:{icon:en,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",borderColor:"border-purple-200 dark:border-purple-800",label:""},damaged:{icon:ko,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",label:""},"user-welcome":{icon:xn,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800",label:""},task:{icon:Ha,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",label:""},payroll:{icon:N3,color:"text-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",borderColor:"border-emerald-200 dark:border-emerald-800",label:""},announcement:{icon:bo,color:"text-indigo-600",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",borderColor:"border-indigo-200 dark:border-indigo-800",label:""},safety:{icon:Es,color:"text-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",borderColor:"border-amber-200 dark:border-amber-800",label:""}},GR={1:{label:"",color:"text-red-700",bgColor:"bg-red-100 dark:bg-red-900/30"},2:{label:"",color:"text-orange-700",bgColor:"bg-orange-100 dark:bg-orange-900/30"},3:{label:"",color:"text-yellow-700",bgColor:"bg-yellow-100 dark:bg-yellow-900/30"},4:{label:"",color:"text-blue-700",bgColor:"bg-blue-100 dark:bg-blue-900/30"},5:{label:"",color:"text-slate-700",bgColor:"bg-slate-100 dark:bg-slate-800"}},hDe=e=>typeof e=="number"?e:{critical:1,high:2,medium:3,low:4,info:5}[e]||3,pDe=e=>{const t={};return e.forEach(r=>{if(!r.createdAt){t.older||(t.older=[]),t.older.push(r);return}const n=jj(r.createdAt);let s;dAe(n)?s="today":fAe(n)?s="yesterday":uAe(n)?s="thisWeek":cAe(n)?s="thisMonth":s="older",t[s]||(t[s]=[]),t[s].push(r)}),t},mDe={today:"",yesterday:"",thisWeek:" ",thisMonth:" ",older:""},gDe=["today","yesterday","thisWeek","thisMonth","older"];function yDe(){const{toast:e}=Br(),{user:t}=ac(),[r,n]=E.useState(new Set),[s,i]=E.useState(new Set(["today","yesterday","thisWeek"])),a=t?.id||"",o=[{key:"status",label:"",type:"select",options:[{value:"all",label:""},{value:"unread",label:" "},{value:"read",label:""}]},{key:"type",label:"",type:"select",options:[{value:"all",label:""},{value:"system",label:""},{value:"security",label:""},{value:"maintenance",label:""},{value:"task",label:""},{value:"announcement",label:""},{value:"payroll",label:""},{value:"safety",label:""}]},{key:"priority",label:"",type:"select",options:[{value:"all",label:""},{value:"1",label:""},{value:"2",label:""},{value:"3",label:""},{value:"4",label:""},{value:"5",label:""}]},{key:"dateRange",label:"",type:"date-range"}],[u,l]=E.useState(""),[d,h]=E.useState({status:"all",type:"all",priority:"all",dateRange:void 0}),{data:f,isLoading:p,refetch:g}=nt({queryKey:he.notificationsByUser(a),queryFn:async()=>{const I=await Ie("/api/notifications?limit=100&unreadOnly=false");return I.success&&I.data?{notifications:I.data,unreadCount:I.unreadCount||0,total:I.total||I.data.length}:Array.isArray(I)?{notifications:I,unreadCount:I.filter(N=>!N.isRead).length,total:I.length}:I.notifications?I:{notifications:[],unreadCount:0,total:0}},refetchInterval:3e4,enabled:!!a}),y=E.useMemo(()=>{let I=f?.notifications||[];if(I=I.map(N=>({...N,priority:hDe(N.priority),status:N.status||(N.isRead?"read":"unread")})),u){const N=u.toLowerCase();I=I.filter(w=>w.title.toLowerCase().includes(N)||(w.body||w.message||"").toLowerCase().includes(N))}if(d.status!=="all"&&(I=I.filter(N=>N.status===d.status)),d.type!=="all"&&(I=I.filter(N=>N.type===d.type)),d.priority!=="all"&&(I=I.filter(N=>N.priority===parseInt(d.priority))),d.dateRange?.from){const N=d.dateRange.from,w=d.dateRange.to||new Date;I=I.filter(_=>{if(!_.createdAt)return!1;const S=jj(_.createdAt);return S>=N&&S<=w})}return I},[f,u,d]),m=E.useMemo(()=>pDe(y),[y]),v=E.useMemo(()=>({total:y.length,unread:y.filter(I=>I.status==="unread").length,critical:y.filter(I=>I.priority===1).length,high:y.filter(I=>I.priority===2).length}),[y]),b=ht({mutationFn:async I=>Ie(`/api/notifications/${I}/read`,"POST"),onSettled:()=>Ss.refetchQueries({queryKey:he.notificationsByUser(a)})}),x=ht({mutationFn:async()=>Ie("/api/notifications/mark-all-read","POST"),onSettled:()=>{Ss.refetchQueries({queryKey:he.notificationsByUser(a)}),e({title:" ",description:"    "}),n(new Set)}}),k=ht({mutationFn:async I=>Promise.all(I.map(N=>Ie(`/api/notifications/${N}/read`,"POST"))),onSettled:()=>{Ss.refetchQueries({queryKey:he.notificationsByUser(a)}),e({title:" ",description:`  ${r.size}  `}),n(new Set)}}),T=ht({mutationFn:async I=>Promise.all(I.map(N=>Ie(`/api/notifications/${N}`,"DELETE"))),onSuccess:I=>{Ss.refetchQueries({queryKey:he.notificationsByUser(a)}),e({title:" ",description:`  ${I.length}  `}),n(new Set)}}),O=E.useCallback(I=>n(N=>{const w=new Set(N);return w.has(I)?w.delete(I):w.add(I),w}),[]),F=E.useCallback(()=>{r.size===y.length?n(new Set):n(new Set(y.map(I=>I.id)))},[y,r.size]),A=E.useCallback(I=>i(N=>{const w=new Set(N);return w.has(I)?w.delete(I):w.add(I),w}),[]),P=E.useCallback((I,N)=>h(w=>({...w,[I]:N})),[]),D=E.useCallback(()=>{l(""),h({status:"all",type:"all",priority:"all",dateRange:void 0})},[]),V=E.useMemo(()=>[{title:"",value:v.total,icon:ra,color:"blue"},{title:" ",value:v.unread,icon:uu,color:"orange",status:v.unread>0?"warning":"normal"},{title:"",value:v.critical,icon:wve,color:"red",status:v.critical>0?"critical":"normal"},{title:"",value:v.high,icon:Bn,color:"amber",status:v.high>0?"warning":"normal"}],[v]),B=({notification:I})=>{const N=KR[I.type]||KR.system,w=GR[I.priority]||GR[3],_=I.status==="unread",S=r.has(I.id),[j,R]=E.useState(!1),$=N.icon,U=I.body||I.message||"",q=U.length>60;return c.jsxs("div",{className:_e("group relative flex items-start gap-3 p-2 px-3 rounded-xl border transition-all duration-300",_?"bg-blue-50/40 dark:bg-blue-900/10 border-blue-200 dark:border-blue-900":"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800",S&&"ring-2 ring-blue-500 ring-offset-0 bg-blue-50/50 dark:bg-blue-900/20","hover:shadow-sm active:scale-[0.995]"),children:[c.jsxs("div",{className:"flex items-center gap-2 shrink-0 mt-1",children:[c.jsx(iy,{checked:S,onCheckedChange:()=>O(I.id),className:"w-4 h-4 rounded border-2 data-[state=checked]:bg-blue-600 shadow-sm"}),c.jsxs("div",{className:_e("w-8 h-8 rounded-lg flex items-center justify-center shadow-sm relative group-hover:scale-105 transition-transform",N.bgColor),children:[c.jsx($,{className:_e("h-4 w-4",N.color)}),_&&c.jsxs("span",{className:"absolute -top-0.5 -right-0.5 flex h-2 w-2",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-blue-600 border border-white shadow-sm"})]})]})]}),c.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex flex-col min-w-0",children:[c.jsxs("h3",{className:_e("text-sm font-black leading-tight truncate",_?"text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-400"),children:[I.title,!j&&c.jsxs("span",{className:_e("mx-2 text-[12px] font-medium hidden sm:inline",_?"text-slate-700 dark:text-slate-300":"text-slate-500"),children:["- ",U]})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[c.jsx(ut,{variant:"secondary",className:_e("text-[8px] uppercase font-black px-1.5 py-0 rounded-full",w.bgColor,w.color),children:w.label}),c.jsxs("div",{className:"flex items-center gap-1 text-[9px] font-bold text-slate-400",children:[c.jsx(bn,{className:"h-2.5 w-2.5 text-blue-400"}),c.jsx("span",{children:I.createdAt&&ur(jj(I.createdAt),"HH:mm",{locale:Fi})})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[q&&c.jsx(Se,{variant:"ghost",size:"sm",className:"h-7 px-2 text-[10px] font-bold text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md",onClick:()=>R(!j),children:j?"":" "}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[_&&c.jsx(Se,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-full",onClick:()=>b.mutate(I.id),children:c.jsx(yo,{className:"h-3.5 w-3.5"})}),c.jsx(Se,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full",onClick:()=>confirm("  ")&&T.mutate([I.id]),children:c.jsx(An,{className:"h-3.5 w-3.5"})})]})]})]}),j&&c.jsx("div",{className:"mt-2 text-[13px] leading-relaxed text-slate-600 dark:text-slate-300 animate-in fade-in slide-in-from-top-1 duration-200 pb-2",children:U})]})]})},C=({groupKey:I,notifications:N})=>{const w=s.has(I);return c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>A(I),className:"w-full flex items-center justify-between p-3 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 hover:border-blue-500 transition-all shadow-sm",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:_e("w-8 h-8 rounded-xl flex items-center justify-center transition-transform",w?"bg-blue-600 rotate-0":"bg-slate-100 dark:bg-slate-800 rotate-90"),children:w?c.jsx(yn,{className:"h-4 w-4 text-white"}):c.jsx(Rd,{className:"h-4 w-4 text-slate-500"})}),c.jsx("span",{className:"text-sm font-black text-slate-900 dark:text-white",children:mDe[I]}),c.jsx(ut,{variant:"secondary",className:"h-5 px-2 text-[10px] font-black rounded-full",children:N.length})]})}),w&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 animate-in zoom-in-95 duration-300",children:N.map(_=>c.jsx(B,{notification:_},_.id))})]})};return c.jsxs("div",{className:"flex flex-col min-h-screen bg-slate-50 dark:bg-slate-950 pb-32",children:[c.jsxs("div",{className:"flex-1 p-4 md:p-8 space-y-8 max-w-8xl mx-auto w-full",children:[c.jsx(vu,{stats:V,columns:3}),c.jsx(Qa,{searchValue:u,onSearchChange:l,filterValues:d,onFilterChange:P,filters:o,onReset:D,onRefresh:()=>g(),isRefreshing:p,searchPlaceholder:"  ...",title:"",actions:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Se,{variant:"outline",size:"sm",className:"h-10 rounded-xl font-bold px-4",onClick:()=>x.mutate(),disabled:v.unread===0,children:"  "}),c.jsx(Se,{variant:"ghost",size:"sm",className:"h-10 rounded-xl font-bold px-4",onClick:F,children:r.size===y.length?" ":" "})]})}),c.jsx(Po,{className:"flex-1 -mx-4 px-4",children:c.jsx("div",{className:"space-y-8 pb-10 pt-2",children:p?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(I=>c.jsx(Kr,{className:"h-40 rounded-3xl"},I))}):y.length>0?gDe.map(I=>m[I]?.length?c.jsx(C,{groupKey:I,notifications:m[I]},I):null):c.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center bg-white dark:bg-slate-900 rounded-[3rem] border-2 border-dashed border-slate-200 dark:border-slate-800 shadow-inner",children:[c.jsx("div",{className:"w-20 h-20 rounded-[2rem] bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center mb-6 ring-8 ring-slate-50/50",children:c.jsx(ra,{className:"h-10 w-10 text-slate-300 animate-bounce"})}),c.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white mb-2",children:"  "}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mb-8 font-medium",children:"   !       ."})]})})})]}),r.size>0&&c.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-50 animate-in fade-in slide-in-from-bottom-10 duration-500 w-[94%] max-w-3xl",children:c.jsxs("div",{className:"flex items-center gap-2 bg-white/95 dark:bg-slate-900/95 backdrop-blur-3xl px-3 py-2.5 rounded-[2.5rem] shadow-[0_30px_70px_rgba(0,0,0,0.5)] border border-white/20 dark:border-slate-700/50 ring-1 ring-black/5 dark:ring-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2.5 px-4 py-2 bg-gradient-to-br from-blue-600 to-indigo-700 dark:from-blue-500 dark:to-indigo-600 rounded-[2rem] text-white shadow-lg shrink-0",children:[c.jsx("span",{className:"flex items-center justify-center w-7 h-7 bg-white/25 rounded-full text-xs font-black ring-2 ring-white/10",children:r.size}),c.jsx("span",{className:"font-black text-xs tracking-tight whitespace-nowrap hidden xs:inline",children:""})]}),c.jsxs("div",{className:"flex items-center gap-1 flex-1 px-1",children:[r.size>2&&c.jsxs(c.Fragment,{children:[c.jsxs(Se,{variant:"ghost",size:"sm",className:"flex-1 h-12 rounded-2xl font-black text-[11px] hover:bg-slate-100 dark:hover:bg-slate-800 text-orange-600 dark:text-orange-400 gap-1.5 transition-all active:scale-95 group",onClick:()=>n(new Set),children:[c.jsx("div",{className:"w-8 h-8 rounded-xl bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:c.jsx(fs,{className:"h-4 w-4 text-orange-600"})}),c.jsx("span",{className:"hidden sm:inline",children:" "}),c.jsx("span",{className:"sm:hidden",children:""})]}),c.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-800 mx-1 opacity-50"})]}),c.jsxs(Se,{variant:"ghost",size:"sm",className:"flex-1 h-12 rounded-2xl font-black text-[11px] hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-300 gap-1.5 transition-all active:scale-95 group",onClick:F,children:[c.jsx("div",{className:"w-8 h-8 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30 transition-colors",children:c.jsx(Jbe,{className:"h-4 w-4 text-slate-600 dark:text-slate-400 group-hover:text-blue-600"})}),c.jsx("span",{className:"hidden sm:inline",children:r.size===y.length?" ":" "}),c.jsx("span",{className:"sm:hidden",children:""})]}),c.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-800 mx-1 opacity-50"}),c.jsxs(Se,{variant:"ghost",size:"sm",className:"flex-1 h-12 rounded-2xl font-black text-[11px] hover:bg-blue-50 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-300 gap-1.5 transition-all active:scale-95 group",onClick:()=>k.mutate(Array.from(r)),disabled:k.isPending,children:[c.jsx("div",{className:"w-8 h-8 rounded-xl bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center group-hover:scale-110 transition-transform",children:c.jsx(yo,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),c.jsx("span",{className:"hidden sm:inline",children:""}),c.jsx("span",{className:"sm:hidden",children:""})]}),c.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-800 mx-1 opacity-50"}),c.jsxs(Se,{variant:"ghost",size:"sm",className:"flex-1 h-12 rounded-2xl font-black text-[11px] hover:bg-red-50 dark:hover:bg-red-900/30 text-red-600 gap-1.5 transition-all active:scale-95 group",onClick:()=>confirm(`     ${r.size} `)&&T.mutate(Array.from(r)),disabled:T.isPending,children:[c.jsx("div",{className:"w-8 h-8 rounded-xl bg-red-100 dark:bg-red-900/50 flex items-center justify-center group-hover:scale-110 transition-transform",children:c.jsx(An,{className:"h-4 w-4 text-red-600"})}),c.jsx("span",{className:"hidden sm:inline",children:""}),c.jsx("span",{className:"sm:hidden",children:""})]})]}),c.jsx(Se,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400 hover:text-red-500 dark:text-slate-500 transition-all shrink-0",onClick:()=>n(new Set),children:c.jsx(fs,{className:"h-5 w-5"})})]})})]})}function bDe({totalIncome:e,totalExpenses:t,remainingBalance:r,materialExpensesCredit:n,details:s}){const i=typeof e=="number"?e:parseFloat(String(e||"0"))||0,a=typeof t=="number"?t:parseFloat(String(t||"0"))||0,o=typeof r=="number"?r:parseFloat(String(r||"0"))||0,u=typeof n=="number"?n:parseFloat(String(n||"0"))||0;s?.workerWages,s?.materialCosts,s?.transportation,s?.miscExpenses,s?.workerTransfers,s?.outgoingProjectTransfers;const l=i,d=100,h=l>0?a/l*100:0,f=o>0?"text-green-400":o<0?"text-red-400":"text-yellow-400",p=o>0?"":o<0?"":"";return c.jsx("div",{className:"mt-4 space-y-3",children:c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/30 rounded-lg p-4 backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h4",{className:"font-bold text-lg text-foreground flex items-center gap-2",children:[c.jsx(Jt,{className:"h-5 w-5 text-primary"})," "]}),c.jsx("div",{className:`text-2xl font-bold ${f}`,children:p})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[c.jsxs("div",{className:"bg-green-50 dark:bg-green-950/30 rounded-lg p-3 border border-green-200 dark:border-green-800",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(hn,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),c.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:""})]}),c.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100 arabic-numbers",children:ze(i)}),l>0&&c.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[d.toFixed(1),"%  "]})]}),c.jsxs("div",{className:"bg-red-50 dark:bg-red-950/30 rounded-lg p-3 border border-red-200 dark:border-red-800",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(oi,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),c.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:""})]}),c.jsx("div",{className:"text-lg font-bold text-red-900 dark:text-red-100 arabic-numbers",children:ze(a)}),l>0&&c.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:[h.toFixed(1),"%  "]})]})]}),s&&c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-4",children:[c.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[c.jsx(xn,{className:"h-3 w-3"}),""]}),c.jsx("div",{className:"text-xs font-bold",children:ze(s.workerWages||0)})]}),c.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[c.jsx(en,{className:"h-3 w-3"}),""]}),c.jsx("div",{className:"text-xs font-bold",children:ze(s.materialCosts||0)})]}),c.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[c.jsx(si,{className:"h-3 w-3"}),""]}),c.jsx("div",{className:"text-xs font-bold",children:ze(s.transportation||0)})]}),c.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[c.jsx(Jt,{className:"h-3 w-3"})," "]}),c.jsx("div",{className:"text-xs font-bold",children:ze(s.workerTransfers||0)})]}),c.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[c.jsx(Zb,{className:"h-3 w-3"})," "]}),c.jsx("div",{className:"text-xs font-bold",children:ze(s.outgoingProjectTransfers||0)})]}),c.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[c.jsx(Es,{className:"h-3 w-3"}),""]}),c.jsx("div",{className:"text-xs font-bold",children:ze(s.miscExpenses||0)})]})]}),l>0&&c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:[c.jsx("div",{className:"bg-green-500",style:{width:`${d}%`}}),c.jsx("div",{className:"bg-red-500",style:{width:`${h}%`}})]})}),c.jsxs("div",{className:"bg-gradient-to-r from-primary/20 to-primary/10 rounded-lg p-3 border border-primary/30 mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cve,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium text-sm text-muted-foreground",children:" "})]}),c.jsx("div",{className:`text-2xl font-bold arabic-numbers ${f}`,children:ze(o)})]}),c.jsx("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:o>0?"  ":o<0?"  ":"  "})]}),u>0&&c.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 rounded-lg p-3 border border-orange-200 dark:border-orange-800",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(bn,{className:"h-5 w-5 text-orange-500"}),c.jsx("span",{className:"font-medium text-sm text-orange-700 dark:text-orange-300",children:"  (   )"})]}),c.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400 arabic-numbers",children:ze(u)})]})})]})})}function vDe({projectId:e,selectedDate:t}){const[r,n]=E.useState(""),[s,i]=E.useState(""),[a,o]=E.useState(null),[u,l]=E.useState({}),[d,h]=E.useState(!1),{toast:f}=Br(),p=ns(),{setFloatingAction:g}=Io(),y=async(A,P)=>{if(!(!P||P.trim().length<2))try{await Ie("/api/autocomplete","POST",{category:A,value:P.trim(),usageCount:1}),console.log(`     : ${A} = ${P.trim()}`)}catch(D){console.warn(`Failed to save autocomplete value for ${A}:`,D)}},{data:m=[]}=nt({queryKey:he.workerMiscExpensesFiltered(e,t),queryFn:async()=>{try{const A=await Ie(`/api/worker-misc-expenses?projectId=${e}&date=${t}`,"GET");return A&&A.data&&Array.isArray(A.data)?A.data:Array.isArray(A)?A:[]}catch(A){return console.error("Error fetching worker misc expenses:",A),[]}},enabled:!!e});E.useEffect(()=>{h(m.length>0)},[m]);const v=ht({mutationFn:A=>Ie("/api/worker-misc-expenses","POST",A),onSuccess:async()=>{r&&r.trim().length>=2&&await y("workerMiscDescriptions",r.trim()),await p.invalidateQueries({queryKey:he.autocompleteCategory("workerMiscDescriptions")}),await p.invalidateQueries({queryKey:he.workerMiscExpenses}),await p.invalidateQueries({queryKey:he.autocomplete}),n(""),i(""),f({title:"  ",description:"    "})},onError:A=>{const P=A?.response?.data?.message||A?.message||"    ";console.error("Error creating misc expense:",A),f({title:"   ",description:P,variant:"destructive"})}}),b=ht({mutationFn:({id:A,data:P})=>Ie(`/api/worker-misc-expenses/${A}`,"PATCH",P),onSuccess:async()=>{r&&r.trim().length>=2&&await y("workerMiscDescriptions",r.trim()),await p.invalidateQueries({queryKey:["/api/autocomplete"]}),await p.invalidateQueries({queryKey:he.workerMiscExpenses}),await p.invalidateQueries({queryKey:he.autocomplete}),T(),f({title:"  ",description:"   "})},onError:A=>{const P=A?.response?.data?.message||A?.message||"    ";console.error("Error updating misc expense:",A),f({title:"   ",description:P,variant:"destructive"})}}),x=ht({mutationFn:A=>Ie(`/api/worker-misc-expenses/${A}`,"DELETE"),onSuccess:()=>{p.invalidateQueries({queryKey:he.workerMiscExpenses}),f({title:"  ",description:"   "})},onError:A=>{const P=A?.response?.data?.message||A?.message||"    ";console.error("Error deleting misc expense:",A),f({title:"   ",description:P,variant:"destructive"})}}),k=async()=>{if(!e||e==="all"){f({title:"  ",description:"      ' '.     .",variant:"destructive"});return}if(!r.trim()||!s){f({title:" ",description:"   ",variant:"destructive"});return}r&&r.trim().length>=2&&await y("workerMiscDescriptions",r.trim()),await p.invalidateQueries({queryKey:he.autocompleteCategory("workerMiscDescriptions")}),await p.invalidateQueries({queryKey:he.autocomplete}),a?b.mutate({id:a,data:{description:r,amount:s}}):v.mutate({description:r,amount:s,projectId:e,date:t})},T=()=>{n(""),i(""),o(null)},O=A=>{n(A.description),i(A.amount),o(A.id)},F=Array.isArray(m)?m.reduce((A,P)=>A+parseFloat(P.amount||"0"),0):0;return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(us,{value:r,onChange:n,category:"workerMiscDescriptions",placeholder:""}),c.jsx(tt,{type:"number",inputMode:"decimal",value:s,onChange:A=>i(A.target.value),placeholder:"",className:"text-center arabic-numbers"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Se,{onClick:k,size:"sm",className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 disabled:opacity-50",disabled:v.isPending||b.isPending,"data-testid":"button-add-misc-expense",children:v.isPending||b.isPending?c.jsx(Mr,{className:"h-4 w-4 animate-spin"}):a?c.jsx(Lc,{className:"h-4 w-4"}):c.jsx(Qn,{className:"h-4 w-4"})}),a&&c.jsx(Se,{onClick:T,size:"sm",variant:"outline",disabled:v.isPending||b.isPending,"data-testid":"button-cancel-edit-misc-expense",children:""})]}),Array.isArray(m)&&m.map((A,P)=>c.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[c.jsx("span",{className:"text-sm flex-1",children:A.description}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium arabic-numbers",children:ze(A.amount)}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(Se,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>O(A),children:c.jsx(Sl,{className:"h-3 w-3"})}),c.jsx(Se,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>x.mutate(A.id),disabled:x.isPending,children:c.jsx(An,{className:"h-3 w-3"})})]})]})]},A.id||P)),Array.isArray(m)&&m.length>0&&c.jsxs("div",{className:"text-left mt-2 pt-2 border-t",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),c.jsx("span",{className:"font-bold text-purple-600 arabic-numbers",children:ze(F.toString())})]})]})}class Pj extends E.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(t){return console.error(" [ErrorBoundary]   :",t),{hasError:!0,error:t}}componentDidCatch(t,r){console.error(" [ErrorBoundary]  :",t,r),console.error(" [ErrorBoundary] Stack trace:",t.stack)}render(){return this.state.hasError?this.props.fallback||c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:c.jsxs("div",{className:"text-center p-8",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200",children:"    "}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"      "}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 mr-4",children:"  "}),c.jsx("button",{onClick:()=>{localStorage.clear(),window.location.href="/login"},className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"  "})]}),!1]})}):this.props.children}}function xDe(){const{toast:e}=Br(),[,t]=gs(),{selectedProjectId:r,isAllProjects:n}=Ao(),[s,i]=E.useState(null),[a,o]=E.useState("0"),[u,l]=E.useState(!0),[d,h]=E.useState(""),[f,p]=E.useState({dateRange:void 0,type:"all",transportCategory:"all",miscCategory:"all"}),g=E.useCallback((se,Ce)=>{if(se==="date")if(Ce instanceof Date){const at=Ce.getFullYear(),Qt=String(Ce.getMonth()+1).padStart(2,"0"),jr=String(Ce.getDate()).padStart(2,"0");i(`${at}-${Qt}-${jr}`)}else i(null);else se==="dateRange"?(p(at=>({...at,[se]:Ce})),Ce?.from&&i(null)):p(at=>({...at,[se]:Ce}))},[]),y=E.useCallback(()=>{h(""),p({dateRange:void 0,type:"all"}),i(Ls()),e({title:"  ",description:"      "})},[e]),[m,v]=E.useState(!1),[b,x]=E.useState(!1),[k,T]=E.useState(),[O,F]=E.useState(!1),[A,P]=E.useState(!1),[D,V]=E.useState(!1),[B,C]=E.useState(!1),[I,N]=E.useState(!1),[w,_]=E.useState(!1),[S,j]=E.useState(!1),[R,$]=E.useState(!0),[U,q]=E.useState(!1),{data:H=[],isLoading:Y}=nt({queryKey:he.workerMiscExpensesFiltered(r,s),queryFn:async()=>{if(!r&&!n||!s)return[];const Ce=await Ie(`/api/worker-misc-expenses?projectId=${n?"all":r}&date=${s}`,"GET");return Array.isArray(Ce)?Ce:Ce?.data||[]},enabled:(!!r||n)&&!!s});E.useEffect(()=>{!Y&&H.length>0?q(!0):q(!1)},[H.length,Y,s]);const[M,K]=E.useState(""),[z,L]=E.useState(""),[W,J]=E.useState(""),[le,ne]=E.useState(""),[ue,G]=E.useState(null),[te,X]=E.useState(),[ae,re]=E.useState(""),[ee,Z]=E.useState(""),[Q,ie]=E.useState(""),[ce,ge]=E.useState(null),[we,Te]=E.useState("worker_transport"),[Ae,De]=E.useState(""),[Fe,rt]=E.useState(""),[qe,Ve]=E.useState(""),[pe,de]=E.useState(""),[Pe,$e]=E.useState(null),[yt,Ot]=E.useState(""),[it,Bt]=E.useState(""),[st,gt]=E.useState(""),dt=ns(),{setFloatingAction:sr}=Io(),_t=()=>{if(!s)return;const se=new Date(s);se.setDate(se.getDate()+1);const Ce=se.getFullYear(),at=String(se.getMonth()+1).padStart(2,"0"),Qt=String(se.getDate()).padStart(2,"0");i(`${Ce}-${at}-${Qt}`)},ir=()=>{if(!s)return;const se=new Date(s);se.setDate(se.getDate()-1);const Ce=se.getFullYear(),at=String(se.getMonth()+1).padStart(2,"0"),Qt=String(se.getDate()).padStart(2,"0");i(`${Ce}-${at}-${Qt}`)},qt=async(se,Ce)=>{if(!(!Ce||Ce.trim().length<2))try{await Ie("/api/autocomplete","POST",{category:se,value:Ce.trim(),usageCount:1}),console.log(`     : ${se} = ${Ce.trim()}`)}catch(at){console.warn(`Failed to save autocomplete value for ${se}:`,at)}};E.useEffect(()=>{i(Ls())},[]),E.useEffect(()=>(sr(null),()=>sr(null)),[sr]);const Ct=async()=>{const se=[];z&&z.trim().length>=2&&se.push(qt("senderNames",z)),W&&W.trim().length>=1&&se.push(qt("transferNumbers",W)),le&&le.trim().length>=2&&se.push(qt("transferTypes",le)),se.length>0&&await Promise.all(se)},pr={staleTime:1e3*60*60,gcTime:1e3*60*180,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1,placeholderData:se=>se},{data:er=[],error:Ut}=nt({queryKey:he.workers,queryFn:async()=>{try{const se=await Ie("/api/workers","GET");return Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[]}catch{return[]}},...pr}),{data:ve=[],refetch:ke}=nt({queryKey:he.workerAttendance(r,s),queryFn:async()=>{if(!r||!s)return[];const se=await Ie(`/api/worker-attendance?projectId=${r}&date=${s}`,"GET");return Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[]},enabled:!!r&&!!s}),Re=E.useMemo(()=>er.filter(se=>!ve.some(Ce=>Ce.workerId===se.id)),[er,ve]),{data:He=[],error:St}=nt({queryKey:he.projects,queryFn:async()=>{try{const se=await Ie("/api/projects","GET");return Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[]}catch{return[]}},...pr}),Ge=ht({mutationFn:se=>Ie("/api/worker-attendance","POST",se),onSuccess:()=>{Wt(),rt(""),Ve(""),de(""),De(""),e({title:"  ",description:"    "})},onError:async se=>{try{const Ce={workerId:Ae,days:Fe?parseFloat(Fe):0,amount:qe?parseFloat(qe):0,notes:pe,selectedDate:s,projectId:r};await ih("create","/api/worker-attendance",Ce),e({title:"  ",description:"   -    ",variant:"default"})}catch{e({title:"",description:se?.message||"    ",variant:"destructive"})}}}),bt=ht({mutationFn:se=>Ie(`/api/worker-attendance/${se.id}`,"PATCH",se),onSuccess:()=>{Wt(),$e(null),Ot(""),Bt(""),gt(""),e({title:" ",description:"    "})},onError:se=>{e({title:"",description:se?.message||"    ",variant:"destructive"})}}),Tt=()=>{if(!r||r==="all"||n){e({title:"  ",description:"      ' '.     .",variant:"destructive"});return}if(!Ae||!Fe&&!qe){e({title:" ",description:"        ",variant:"destructive"});return}const se=er.find(Lr=>Lr.id===Ae);if(!se){e({title:"",description:"     ",variant:"destructive"});return}const Ce=parseFloat(String(se.dailyWage||"0")),at=parseFloat(Fe||"0"),Qt=parseFloat(qe||"0"),jr=Ce*at,Je={workerId:Ae,projectId:r,attendanceDate:s||Ls(),workDays:at,dailyWage:Ce.toString(),actualWage:jr.toString(),totalPay:jr.toString(),paidAmount:qe||"0",remainingAmount:(jr-Qt).toString(),workDescription:pe||(at>0?" ":"  "),notes:pe,wellId:k||null,paymentType:Qt>0?Qt>=jr&&jr>0?"full":"partial":"credit"};console.log(" [DailyExpenses]   :",Je),Ge.mutate(Je)},{data:mt=[]}=nt({queryKey:he.materials,queryFn:async()=>{try{const se=await Ie("/api/materials","GET");return se&&se.data&&Array.isArray(se.data)?se.data:[]}catch(se){return console.warn("     :",se),[]}},staleTime:1e3*60*30,gcTime:1e3*60*60,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1}),{data:Mt=[],refetch:Rt}=nt({queryKey:he.dailyProjectTransfers(n?"all":r,s),queryFn:async()=>{try{const Ce=await Ie(`/api/daily-project-transfers?projectId=${n?"all":r}&date=${s||""}`,"GET");console.log(" [ProjectTransfers]  API  :",Ce);let at=[];return Ce&&Ce.data&&Array.isArray(Ce.data)?at=Ce.data:Array.isArray(Ce)&&(at=Ce),Array.isArray(at)?(console.log(` [ProjectTransfers]   ${at.length}   ${s}   `),at):[]}catch(se){return console.error("Error fetching daily project transfers:",se),[]}},enabled:!!r&&!!s&&u,staleTime:1e3*60*60,gcTime:1e3*60*180,refetchOnMount:!1,refetchOnWindowFocus:!1}),Dt=Array.isArray(Mt)?Mt:[],{summary:Zt,allProjects:$r,totals:mr,isLoading:ye,refetch:Ke}=$p({projectId:r==="all"?"all":r,date:s&&s!=="null"?s:void 0,dateFrom:f.dateRange?.from?oo(f.dateRange.from):void 0,dateTo:f.dateRange?.to?oo(f.dateRange.to):void 0,enabled:n||!!r}),oe=E.useMemo(()=>n?mr:{totalIncome:Zt?.income?.totalIncome||0,totalCashExpenses:Zt?.expenses?.totalCashExpenses||0,totalAllExpenses:Zt?.expenses?.totalAllExpenses||0,totalExpenses:Zt?.expenses?.totalAllExpenses||0,cashBalance:Zt?.cashBalance||0,totalBalance:Zt?.totalBalance||0,currentBalance:Zt?.totalBalance||0,totalWorkers:Zt?.workers?.totalWorkers||0,activeWorkers:Zt?.workers?.activeWorkers||0,materialExpensesCredit:Zt?.expenses?.materialExpensesCredit||0,carriedForwardBalance:Zt?.income?.carriedForwardBalance||0,totalWorkerWages:Zt?.expenses?.workerWages||0,totalTransportation:Zt?.expenses?.transportExpenses||0,totalMaterialCosts:Zt?.expenses?.materialExpenses||0,totalWorkerTransfers:Zt?.expenses?.workerTransfers||0,totalMiscExpenses:Zt?.expenses?.miscExpenses||0,totalFundTransfers:Zt?.income?.fundTransfers||0,incomingProjectTransfers:Zt?.income?.incomingProjectTransfers||0,outgoingProjectTransfers:Zt?.expenses?.outgoingProjectTransfers||0,remainingBalance:Zt?.totalBalance||0},[n,mr,Zt]);E.useMemo(()=>oe.totalIncome,[oe]);const xe=E.useMemo(()=>oe.totalIncome+parseFloat(String(oe.carriedForwardBalance||0)),[oe]);E.useMemo(()=>oe.totalCashExpenses,[oe]);const Ee=E.useMemo(()=>xe-oe.totalCashExpenses,[xe,oe.totalCashExpenses]),{data:Me,isLoading:ft,error:Xe,refetch:Ye}=nt({queryKey:he.dailyExpensesComplex(n?"all-projects":r,s?"daily-expenses":"all-expenses",s),queryFn:async()=>{try{if(n){const Ce=s&&s!=="null"?`/api/projects/all-projects-total?date=${s}`:"/api/projects/all-projects-total",at=await Ie(Ce,"GET"),Qt=s&&s!=="null"?`/api/projects/all-projects-expenses?date=${s}`:"/api/projects/all-projects-expenses",jr=await Ie(Qt,"GET");return jr&&jr.success&&jr.data?at&&at.success&&at.data?{...jr.data,carriedForwardBalance:at.data.carriedForwardBalance}:jr.data:null}if(!r)return null;if(!s||s==="null"){const Ce=await Ie(`/api/projects/${r}/all-expenses`,"GET");return Ce&&Ce.success&&Ce.data?Ce.data:null}const se=await Ie(`/api/projects/${r}/daily-expenses/${s}`,"GET");return se&&se.success&&se.data?se.data:null}catch(se){throw console.error("   :",se),se}},enabled:n||!!r,retry:1,staleTime:1e3*60*10,gcTime:1e3*60*60,refetchOnMount:!1,refetchOnWindowFocus:!1,placeholderData:se=>se}),Vt=E.useMemo(()=>Me?.carriedForwardBalance!==void 0?Me.carriedForwardBalance:oe.carriedForwardBalance||0,[oe.carriedForwardBalance,Me]),Yt=E.useMemo(()=>{const se=Me?.carriedForwardBalance!==void 0?Me.carriedForwardBalance:oe.carriedForwardBalance||0;return oe.totalIncome+se-oe.totalCashExpenses},[oe.totalIncome,oe.totalCashExpenses,oe.carriedForwardBalance,Me]);E.useMemo(()=>({totalIncome:oe.totalIncome,totalExpenses:oe.totalCashExpenses,remainingBalance:Yt,materialExpensesCredit:oe.materialExpensesCredit,carriedForward:Vt,details:{workerWages:oe.totalWorkerWages,materialCosts:oe.totalMaterialCosts,transportation:oe.totalTransportation,miscExpenses:oe.totalMiscExpenses,workerTransfers:oe.totalWorkerTransfers,outgoingProjectTransfers:oe.outgoingProjectTransfers}}),[oe,Yt,Vt]);const Wt=E.useCallback(()=>{dt.invalidateQueries({queryKey:he.projects}),Ye(),Rt(),Ke(),ke()},[dt,Ye,Rt,Ke,ke]),{todayFundTransfers:kt,todayWorkerAttendance:Sr,todayTransportation:kr,todayMaterialPurchases:xr,todayWorkerTransfers:Hr,todayMiscExpenses:kn}=E.useMemo(()=>{if(!Me)return{todayFundTransfers:[],todayWorkerAttendance:[],todayTransportation:[],todayMaterialPurchases:[],todayWorkerTransfers:[],todayMiscExpenses:[]};const se=Me.data||Me;return{todayFundTransfers:Array.isArray(se.fundTransfers)?se.fundTransfers:[],todayWorkerAttendance:Array.isArray(se.workerAttendance)?se.workerAttendance:[],todayTransportation:Array.isArray(se.transportationExpenses)?se.transportationExpenses:[],todayMaterialPurchases:Array.isArray(se.materialPurchases)?se.materialPurchases:[],todayWorkerTransfers:Array.isArray(se.workerTransfers)?se.workerTransfers:[],todayMiscExpenses:Array.isArray(se.miscExpenses)?se.miscExpenses:[]}},[Me]),on=Array.isArray(Sr)?Sr:[],Un=Array.isArray(kr)?kr:[],Ps=Array.isArray(xr)?xr:[],qs=Array.isArray(Hr)?Hr:[],ma=Array.isArray(kn)?kn:[],Hs=Array.isArray(kt)?kt:[];E.useEffect(()=>{T(void 0),X(void 0)},[r]),E.useEffect(()=>{P(Hs.length>0),V(Un.length>0),C(on.length>0),N(Ps.length>0),_(qs.length>0),j(Dt.length>0),q(ma.length>0)},[Hs.length,Un.length,on.length,Ps.length,qs.length,Dt.length,ma.length]);const Pr=E.useMemo(()=>{if(!d.trim())return Hs;const se=d.toLowerCase().trim();return Hs.filter(Ce=>Ce.senderName?.toLowerCase().includes(se)||Ce.transferType?.toLowerCase().includes(se)||Ce.transferNumber?.toLowerCase().includes(se)||Ce.amount?.toString().includes(se))},[Hs,d]),yr=E.useMemo(()=>{if(!d.trim())return on;const se=d.toLowerCase().trim();return on.filter(Ce=>er.find(Qt=>Qt.id===Ce.workerId)?.name?.toLowerCase().includes(se)||Ce.workDescription?.toLowerCase().includes(se)||Ce.notes?.toLowerCase().includes(se))},[on,er,d]),ga=E.useMemo(()=>{if(!d.trim())return Un;const se=d.toLowerCase().trim();return Un.filter(Ce=>Ce.description?.toLowerCase().includes(se)||Ce.notes?.toLowerCase().includes(se)||Ce.amount?.toString().includes(se))},[Un,d]),Ja=E.useMemo(()=>{if(!d.trim())return Ps;const se=d.toLowerCase().trim();return Ps.filter(Ce=>mt.find(Qt=>Qt.id===Ce.materialId)?.name?.toLowerCase().includes(se)||Ce.supplier?.toLowerCase().includes(se)||Ce.notes?.toLowerCase().includes(se)||Ce.totalAmount?.toString().includes(se))},[Ps,mt,d]),cc=E.useMemo(()=>{if(!d.trim())return qs;const se=d.toLowerCase().trim();return qs.filter(Ce=>er.find(Qt=>Qt.id===Ce.workerId)?.name?.toLowerCase().includes(se)||Ce.notes?.toLowerCase().includes(se)||Ce.amount?.toString().includes(se))},[qs,er,d]),Is=E.useMemo(()=>{if(!d.trim())return ma;const se=d.toLowerCase().trim();return ma.filter(Ce=>Ce.description?.toLowerCase().includes(se)||Ce.notes?.toLowerCase().includes(se)||Ce.amount?.toString().includes(se))},[ma,d]),{data:Ks}=nt({queryKey:he.previousBalance(r,s),queryFn:async()=>{try{const se=await Ie(`/api/projects/${r}/previous-balance/${s}`,"GET");return se&&se.data&&se.data.balance!==void 0?se.data.balance||"0":se?.balance||"0"}catch(se){return console.error("Error fetching previous balance:",se),"0"}},enabled:!!r&&!!s&&!n,staleTime:1e3*60*2,gcTime:1e3*60*5,refetchOnMount:!1,refetchOnWindowFocus:!1,placeholderData:void 0});E.useEffect(()=>{Ks!=null&&(console.log("  carriedForward:",{previousBalance:Ks,type:typeof Ks}),o(Ks))},[Ks]),E.useEffect(()=>{(r||n)&&dt.invalidateQueries({queryKey:he.projects,refetchType:"none"})},[r,s,n,dt]),E.useEffect(()=>{(async()=>{const Ce=[" "," "," "," ","",""];for(const at of Ce)try{await qt("transferTypes",at)}catch(Qt){console.log(`Type ${at} initialization skipped:`,Qt)}})()},[]);const ya=ht({mutationFn:async se=>{await Ct();const Ce={...se,wellId:te||null};return Ie("/api/fund-transfers","POST",Ce)},onSuccess:async se=>{Wt(),dt.invalidateQueries({queryKey:he.autocomplete}),e({title:"  ",description:"    "}),K(""),L(""),J(""),ne("")},onError:async se=>{await Ct(),dt.invalidateQueries({queryKey:he.autocomplete}),console.error("   :",se);let Ce="    ";se?.response?.data?.message?Ce=se.response.data.message:se?.message?Ce=se.message:typeof se=="string"&&(Ce=se);try{const at={fundAmount:M?parseFloat(M):0,senderName:z,transferNumber:W,transferType:le,selectedDate:s,projectId:r,wellId:te||null};await ih("create","/api/fund-transfers",at),e({title:"  ",description:`${Ce} -    `,variant:"default"})}catch{e({title:"   ",description:Ce,variant:"destructive"})}}}),dl=ht({mutationFn:async se=>{ae&&ae.trim().length>=2&&await qt("transportDescriptions",ae),Q&&Q.trim().length>=2&&await qt("notes",Q);const Ce={...se,wellId:k||null};return Ie("/api/transportation-expenses","POST",Ce)},onSuccess:async se=>{Wt(),dt.invalidateQueries({queryKey:["/api/autocomplete","transportDescriptions"]}),dt.invalidateQueries({queryKey:["/api/autocomplete","notes"]}),dt.invalidateQueries({queryKey:he.autocomplete}),e({title:"  ",description:"    "}),re(""),Z(""),ie("")},onError:async se=>{ae&&ae.trim().length>=2&&qt("transportDescriptions",ae).catch(()=>{}),dt.invalidateQueries({queryKey:he.autocomplete});try{const Ce={description:ae,amount:ee?parseFloat(ee):0,notes:Q,selectedDate:s,projectId:r,wellId:k||null};await ih("create","/api/transportation-expenses",Ce),e({title:"  ",description:"   -    ",variant:"default"})}catch{e({title:"   ",description:se?.message||"     ",variant:"destructive"})}}}),uc=ht({mutationFn:se=>Ie("/api/daily-expense-summaries","POST",se),onSuccess:()=>{Wt(),e({title:" ",description:"     "})},onError:()=>{e({title:"",description:"    ",variant:"destructive"})}}),Ro=ht({mutationFn:se=>Ie(`/api/fund-transfers/${se}`,"DELETE"),onSuccess:(se,Ce)=>{dt.setQueryData(he.dailyExpenses(r,s),at=>at&&{...at,fundTransfers:at.fundTransfers?.filter(Qt=>Qt.id!==Ce)||[]}),Wt(),e({title:" ",description:"   "})},onError:se=>{console.error("   :",se);let Ce="    ";se?.response?.data?.message?Ce=se.response.data.message:se?.message&&(Ce=se.message),e({title:"   ",description:Ce,variant:"destructive"})}}),ba=ht({mutationFn:se=>Ie(`/api/transportation-expenses/${se}`,"DELETE"),onSuccess:(se,Ce)=>{dt.setQueryData(he.dailyExpenses(r,s),at=>at&&{...at,transportationExpenses:at.transportationExpenses?.filter(Qt=>Qt.id!==Ce)||[]}),Wt(),e({title:" ",description:"    "})},onError:se=>{console.error("    :",se);let Ce="     ";se?.response?.data?.message?Ce=se.response.data.message:se?.response?.data?.error?Ce=se.response.data.error:se?.message?Ce=se.message:typeof se=="string"&&(Ce=se),e({title:"    ",description:Ce,variant:"destructive"})}}),hf=ht({mutationFn:se=>Ie(`/api/material-purchases/${se}`,"DELETE"),onMutate:()=>({projectId:r,date:s}),onSuccess:(se,Ce,at)=>{const{projectId:Qt,date:jr}=at||{projectId:r,date:s};dt.setQueryData(he.dailyExpenses(Qt,jr),Je=>Je&&{...Je,materialPurchases:Je.materialPurchases?.filter(Lr=>Lr.id!==Ce)||[]}),dt.invalidateQueries({queryKey:he.dailyExpenses(Qt,jr)}),dt.invalidateQueries({queryKey:he.materialPurchases(Qt)}),dt.invalidateQueries({queryKey:he.previousBalance(Qt)}),e({title:" ",description:"    "})},onError:se=>{console.error("    :",se);let Ce="     ";se?.response?.data?.message?Ce=se.response.data.message:se?.response?.data?.error?Ce=se.response.data.error:se?.message?Ce=se.message:typeof se=="string"&&(Ce=se),e({title:"    ",description:Ce,variant:"destructive"})}}),Mu=ht({mutationFn:se=>Ie(`/api/project-fund-transfers/${se}`,"DELETE"),onSuccess:()=>{Wt(),Rt(),e({title:" ",description:"    "})},onError:se=>{e({title:"",description:se?.message||"    ",variant:"destructive"})}}),[Ay,Vp]=E.useState(null),pf=se=>{t(`/project-transfers?edit=${se.id}`)},mf=ht({mutationFn:se=>Ie(`/api/worker-attendance/${se}`,"DELETE"),onMutate:()=>({projectId:r,date:s}),onSuccess:(se,Ce,at)=>{const{projectId:Qt,date:jr}=at||{projectId:r,date:s};dt.setQueryData(he.dailyExpenses(Qt,jr),Je=>Je&&{...Je,workerAttendance:Je.workerAttendance?.filter(Lr=>Lr.id!==Ce)||[]}),dt.invalidateQueries({queryKey:he.dailyExpenses(Qt,jr)}),dt.invalidateQueries({queryKey:he.projectAttendance(Qt)}),dt.invalidateQueries({queryKey:he.previousBalance(Qt)}),e({title:" ",description:"    "})},onError:se=>{console.error("    :",se);let Ce="     ";se?.response?.data?.message?Ce=se.response.data.message:se?.response?.data?.error?Ce=se.response.data.error:se?.message?Ce=se.message:typeof se=="string"&&(Ce=se),e({title:"    ",description:Ce,variant:"destructive"})}}),Du=ht({mutationFn:se=>Ie(`/api/worker-transfers/${se}`,"DELETE"),onMutate:()=>({projectId:r,date:s}),onSuccess:(se,Ce,at)=>{const{projectId:Qt,date:jr}=at||{projectId:r,date:s};dt.setQueryData(he.dailyExpenses(Qt,jr),Je=>Je&&{...Je,workerTransfers:Je.workerTransfers?.filter(Lr=>Lr.id!==Ce)||[]}),dt.invalidateQueries({queryKey:he.dailyExpenses(Qt,jr)}),dt.invalidateQueries({queryKey:he.previousBalance(Qt)}),e({title:" ",description:"    "})},onError:se=>{console.error("    :",se);let Ce="     ";se?.response?.data?.message?Ce=se.response.data.message:se?.response?.data?.error?Ce=se.response.data.error:se?.message?Ce=se.message:typeof se=="string"&&(Ce=se),e({title:"    ",description:Ce,variant:"destructive"})}}),dc=ht({mutationFn:({id:se,data:Ce})=>Ie(`/api/fund-transfers/${se}`,"PATCH",Ce),onSuccess:async(se,{id:Ce})=>{dt.invalidateQueries({queryKey:he.dailyExpenses(r,s)}),dt.invalidateQueries({queryKey:he.previousBalance(r)}),z&&await qt("senderNames",z),W&&await qt("transferNumbers",W),dt.invalidateQueries({queryKey:he.autocomplete}),eC(),e({title:" ",description:"   "})},onError:se=>{console.error("   :",se);let Ce="    ";se?.response?.data?.message?Ce=se.response.data.message:se?.message&&(Ce=se.message),e({title:"   ",description:Ce,variant:"destructive"})}}),eC=()=>{K(""),L(""),J(""),ne(""),G(null)},wie=se=>{K(se.amount),L(se.senderName||""),J(se.transferNumber||""),ne(se.transferType),G(se.id)},_ie=()=>{if(!r||n){e({title:"  ",description:"       .        ",variant:"destructive"});return}if(!M||M.trim()===""||parseFloat(M)<=0){e({title:"",description:"   ",variant:"destructive"});return}if(!le||le.trim()===""){e({title:"",description:"   ",variant:"destructive"});return}const se={projectId:r,amount:M.toString(),senderName:z.trim()||" ",transferNumber:W.trim()||null,transferType:le,transferDate:s,notes:"",wellId:te||null};ue?dc.mutate({id:ue,data:se}):ya.mutate(se)},p_=ht({mutationFn:({id:se,data:Ce})=>Ie(`/api/transportation-expenses/${se}`,"PATCH",Ce),onSuccess:async(se,{id:Ce})=>{dt.invalidateQueries({queryKey:he.dailyExpenses(r,s)}),dt.invalidateQueries({queryKey:he.previousBalance(r)}),ae&&ae.trim().length>=2&&await qt("transportDescriptions",ae),Q&&Q.trim().length>=2&&await qt("notes",Q),dt.invalidateQueries({queryKey:["/api/autocomplete","transportDescriptions"]}),dt.invalidateQueries({queryKey:["/api/autocomplete","notes"]}),dt.invalidateQueries({queryKey:he.autocomplete}),tC(),e({title:" ",description:"    "})},onError:()=>{e({title:"",description:"    ",variant:"destructive"})}}),tC=()=>{re(""),Z(""),ie(""),Te("worker_transport"),ge(null)},Sie=se=>{re(se.description),Z(se.amount),ie(se.notes||""),Te(se.category||"worker_transport"),ge(se.id)},kie=()=>{if(!r||n){e({title:"  ",description:"       .        ",variant:"destructive"});return}if(!ae||!ee){e({title:"",description:"    ",variant:"destructive"});return}const se={projectId:r,description:ae,amount:ee,date:s||new Date().toISOString().split("T")[0],category:we,notes:Q,wellId:k||null};ce?p_.mutate({id:ce,data:se}):dl.mutate(se)},jie=()=>{if(!r){e({title:"",description:"   ",variant:"destructive"});return}uc.mutate({projectId:r,date:s||new Date().toISOString().split("T")[0],carriedForwardAmount:a,totalFundTransfers:(oe.totalFundTransfers||0).toString(),totalWorkerWages:(oe.totalWorkerWages||0).toString(),totalMaterialCosts:(oe.totalMaterialCosts||0).toString(),totalTransportationCosts:(oe.totalTransportation||0).toString(),totalIncome:(oe.totalIncome||0).toString(),totalExpenses:(oe.totalCashExpenses||oe.totalExpenses||0).toString(),remainingBalance:(oe.remainingBalance||oe.totalBalance||0).toString()})},Nie=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"workerWages",label:" ",value:ze(oe.totalWorkerWages),icon:xn,color:"blue"},{key:"fundTransfers",label:" ",value:ze(oe.totalFundTransfers),icon:Zbe,color:"green"},{key:"materials",label:"",value:ze(oe.totalMaterialCosts),icon:en,color:"purple"}]},{columns:3,gap:"sm",items:[{key:"transportation",label:"",value:ze(oe.totalTransportation),icon:si,color:"orange"},{key:"miscExpenses",label:"",value:ze(oe.totalMiscExpenses),icon:w2,color:"amber"},{key:"projectTransfers",label:"",splitValue:{incoming:oe.incomingProjectTransfers,outgoing:oe.outgoingProjectTransfers},value:ze(oe.incomingProjectTransfers-oe.outgoingProjectTransfers),icon:Gn,color:"teal",isSplitCard:!0}]},{columns:3,gap:"sm",items:[{key:"workerTransfers",label:"",value:ze(oe.totalWorkerTransfers),icon:Zb,color:"indigo"},{key:"totalExpenses",label:"",value:ze(oe.totalExpenses),icon:oi,color:"red"},{key:"remainingBalance",label:"",value:ze(oe.totalBalance),icon:Yo,color:oe.totalBalance>=0?"emerald":"rose"}]}],[oe]),Tie=["","",""," ",""],Eie=E.useMemo(()=>[{key:"date",label:"",type:"date",placeholder:" "},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"type",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"wages",label:" "},{value:"transport",label:""},{value:"materials",label:""},{value:"misc",label:""},{value:"fund",label:""}]},{key:"transportCategory",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}]},{key:"miscCategory",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},...Tie.map(se=>({value:se,label:se}))]}],[]),Cie=async()=>{x(!0);try{await dt.invalidateQueries({queryKey:he.dailyExpenses(r,s)})}finally{x(!1)}},rC=E.useCallback(async()=>{v(!0);try{const se=[];console.log(" [Excel Export]  :",{fundTransfers:Pr.length,attendance:yr.length,transportation:ga.length,materials:Ja.length,workerTransfers:cc.length,miscExpenses:Is.length});const Ce=is(a);Ce!==0&&se.push({id:"previous-balance",date:s||new Date().toISOString().split("T")[0],type:"income",category:" ",amount:Math.abs(Ce),description:Ce>0?"  ()":"  ()",projectName:He.find(Je=>Je.id===r)?.name||" "}),Pr.forEach(Je=>{se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:"income",category:"",amount:is(Je.amount),description:`  ${Je.senderName||" "}`,projectId:Je.projectId,projectName:He.find(Lr=>Lr.id===Je.projectId)?.name||" ",transferMethod:Je.transferType,recipientName:Je.senderName})}),Dt.forEach(Je=>{const Lr=Je.toProjectId===r,Gs=He.find(fl=>fl.id===Je.fromProjectId),Ei=He.find(fl=>fl.id===Je.toProjectId);se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:Lr?"transfer_from_project":"expense",category:Lr?" ":" ",amount:is(Je.amount),description:Lr?`  ${Gs?.name||" "}`:`  ${Ei?.name||" "}`,projectId:Lr?Je.fromProjectId:Je.toProjectId,projectName:Lr?Gs?.name:Ei?.name})}),yr.forEach(Je=>{const Lr=er.find(m_=>m_.id===Je.workerId),Gs=is(Je.paidAmount),Ei=is(Je.payableAmount),fl=Gs===0&&Ei>0;se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:fl?"deferred":"expense",category:" ",amount:Gs,description:Je.workDescription||" ",projectId:Je.projectId,projectName:He.find(m_=>m_.id===Je.projectId)?.name||" ",workerName:Lr?.name||" ",workDays:is(Je.workDays)||void 0,dailyWage:is(Je.dailyWage)||void 0,payableAmount:Ei||void 0})}),ga.forEach(Je=>{se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:"expense",category:"",amount:is(Je.amount),description:Je.description||" ",projectId:Je.projectId,projectName:He.find(Lr=>Lr.id===Je.projectId)?.name||" "})}),Ja.forEach(Je=>{const Lr=mt.find(Ei=>Ei.id===Je.materialId),Gs=Je.purchaseType==="";se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:Gs?"expense":"deferred",category:" ",amount:Gs?is(Je.totalAmount):0,description:` ${Lr?.name||""}`,projectId:Je.projectId,projectName:He.find(Ei=>Ei.id===Je.projectId)?.name||" ",materialName:Lr?.name||Je.materialName,quantity:is(Je.quantity)||void 0,unitPrice:is(Je.unitPrice)||void 0,paymentType:Je.purchaseType,supplierName:Je.supplier||Je.supplierName})}),cc.forEach(Je=>{const Lr=er.find(Gs=>Gs.id===Je.workerId);se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:"expense",category:" ",amount:is(Je.amount),description:Je.notes||" ",projectId:Je.projectId,projectName:He.find(Gs=>Gs.id===Je.projectId)?.name||" ",workerName:Lr?.name||" ",recipientName:Lr?.name})}),Is.forEach(Je=>{se.push({id:Je.id,date:Je.date||s||new Date().toISOString().split("T")[0],type:"expense",category:"",amount:is(Je.amount),description:Je.description||" ",projectId:Je.projectId,projectName:He.find(Lr=>Lr.id===Je.projectId)?.name||" "})});const at={totalIncome:oe.totalIncome||0,totalExpenses:oe.totalCashExpenses||oe.totalExpenses||0,balance:oe.remainingBalance||oe.totalBalance||0},Qt=n?" ":He.find(Je=>Je.id===r)?.name||"",jr=await Tre(se,at,ze,`${Qt}${s?` - ${s}`:""}`);e(jr?{title:"  ",description:`  ${se.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(se){console.error("  :",se),e({title:" ",description:"    ",variant:"destructive"})}finally{v(!1)}},[Pr,yr,ga,Ja,cc,Is,Dt,er,mt,He,r,s,n,e]),Aie=E.useMemo(()=>[{key:"export",icon:N0,label:" Excel",onClick:rC,variant:"outline",loading:m,tooltip:"     Excel"}],[m,rC]),nC={fundTransfers:Array.isArray(kt)&&kt.length>0,attendance:Array.isArray(Sr)&&Sr.length>0,transportation:Array.isArray(kr)&&kr.length>0,materials:Array.isArray(xr)&&xr.length>0,workerTransfers:Array.isArray(Hr)&&Hr.length>0,miscExpenses:Array.isArray(kn)&&kn.length>0};return Object.keys(nC).length,Object.values(nC).filter(Boolean).length,c.jsxs("div",{className:"p-4 slide-in space-y-4",children:[c.jsx(Qa,{hideHeader:!0,title:"",statsRows:Nie,searchValue:d,onSearchChange:h,searchPlaceholder:"  ...",showSearch:!0,filters:Eie,filterValues:{date:s?(()=>{const[se,Ce,at]=s.split("-").map(Number);return new Date(se,Ce-1,at,12,0,0,0)})():void 0,dateRange:f.dateRange,type:f.type,transportCategory:f.transportCategory,miscCategory:f.miscCategory},onFilterChange:g,onReset:y,onRefresh:Cie,isRefreshing:b,actions:Aie}),!n&&!f.dateRange?.from&&s&&c.jsxs("div",{className:"flex items-center justify-between gap-2 bg-white dark:bg-slate-900 p-2 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm mx-auto w-full max-w-md",children:[c.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",onClick:ir,title:" ",children:c.jsx(Rd,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})}),c.jsxs("div",{className:"flex flex-col items-center flex-1",children:[c.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider",children:" "}),c.jsxs("span",{className:"text-sm font-black text-slate-900 dark:text-white arabic-numbers flex items-center gap-1.5",children:[c.jsx(rs,{className:"h-3.5 w-3.5 text-primary"}),ur(new Date(s),"EEEE, d MMMM yyyy",{locale:Fi})]})]}),c.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",onClick:_t,title:" ",children:c.jsx(Qv,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})})]}),Me?.groupedByProjectDate&&Me.groupedByProjectDate.length>0?c.jsx("div",{className:"space-y-4",children:Me.groupedByProjectDate.map((se,Ce)=>c.jsx(Gr,{title:se.projectName,subtitle:`  ${oo(se.date)}`,titleIcon:T4,headerColor:"#3b82f6",badges:[{label:oo(se.date),variant:"default"},{label:se.remainingBalance>=0?" ":"",variant:se.remainingBalance>=0?"success":"destructive"}],fields:[{label:" ",value:ze(se.totalIncome||0),icon:hn,color:"success",emphasis:!0},{label:" ",value:ze(se.totalExpenses||0),icon:oi,color:"danger",emphasis:!0},{label:" ",value:ze(se.totalWorkerWages||0),icon:xn,color:"info"},{label:"",value:ze(se.totalTransportation||0),icon:si,color:"warning"},{label:"",value:ze(se.totalMaterialCosts||0),icon:en,color:"info"},{label:"",value:ze(se.totalMiscExpenses||0),icon:w2,color:"muted"},{label:" ",value:ze(se.totalWorkerTransfers||0),icon:Zb,color:"warning"},{label:"",value:ze(se.remainingBalance||0),icon:Yo,color:(se.remainingBalance||0)>=0?"success":"danger",emphasis:!0}]},`${se.projectId}-${se.date}-${Ce}`))}):r&&s&&c.jsx(Gr,{title:He?.find(se=>se.id===r)?.name||"",subtitle:`  ${oo(s)}`,titleIcon:T4,headerColor:"#3b82f6",badges:[{label:oo(s),variant:"default"},{label:mr.remainingBalance>=0?" ":"",variant:mr.remainingBalance>=0?"success":"destructive"}],fields:[{label:" ",value:ze(mr.totalIncome),icon:hn,color:"success",emphasis:!0},{label:" ",value:ze(mr.totalExpenses),icon:oi,color:"danger",emphasis:!0},{label:" ",value:ze(mr.totalWorkerWages),icon:xn,color:"info"},{label:"",value:ze(mr.totalTransportation),icon:si,color:"warning"},{label:"",value:ze(mr.totalMaterialCosts),icon:en,color:"info"},{label:"",value:ze(mr.totalMiscExpenses),icon:w2,color:"muted"},{label:" ",value:ze(mr.totalWorkerTransfers),icon:Zb,color:"warning"},{label:"",value:ze(mr.remainingBalance),icon:Yo,color:mr.remainingBalance>=0?"success":"danger",emphasis:!0}]}),c.jsx(wa,{open:O,onOpenChange:F,children:c.jsxs(Pt,{className:"mb-4",children:[c.jsx(_a,{asChild:!0,children:c.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Qn,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium text-foreground",children:"  "})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:O?" ":" "}),O?c.jsx(_o,{className:"h-5 w-5 text-muted-foreground"}):c.jsx(yn,{className:"h-5 w-5 text-muted-foreground"})]})]})}),c.jsx(Sa,{children:c.jsxs(Ft,{className:"p-4 pt-0",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[c.jsx("div",{children:c.jsx(tl,{label:"",value:s||"",onChange:se=>i(se?ur(se,"yyyy-MM-dd"):null)})}),c.jsxs("div",{className:"flex-1",children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground",children:"  "}),c.jsx(tt,{type:"number",inputMode:"decimal",value:a,onChange:se=>o(se.target.value),placeholder:"0",className:"text-center arabic-numbers min-h-11",autoWidth:!0,maxWidth:200})]})]}),c.jsx("div",{className:"border-t pt-3",children:c.jsxs(wa,{open:A,onOpenChange:P,children:[c.jsx(_a,{asChild:!0,children:c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[c.jsx("h4",{className:"font-medium text-foreground",children:"  "}),c.jsxs("div",{className:"flex items-center gap-1",children:[Hs.length>0&&c.jsx(ut,{variant:"outline",className:"h-5 text-[10px]",children:Hs.length}),c.jsx(yn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),c.jsxs(Sa,{className:"pt-2",children:[Xe&&c.jsx("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("p",{className:"text-red-700 text-sm",children:["   : ",Xe.message]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),c.jsx(tt,{type:"number",inputMode:"decimal",value:M,onChange:se=>K(se.target.value),placeholder:" *",className:"text-center arabic-numbers",min:"0",step:"0.01"})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground mb-1",children:" "}),c.jsx(us,{value:z,onChange:L,category:"senderNames",placeholder:" "})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground mb-1",children:" "}),c.jsx(us,{type:"number",inputMode:"numeric",value:W,onChange:J,category:"transferNumbers",placeholder:" ",className:"w-full arabic-numbers"})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground mb-1",children:"  *"}),c.jsx(us,{value:le,onChange:ne,category:"transferTypes",placeholder:"  *",className:"flex-1"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Se,{onClick:_ie,size:"sm",className:"flex-1 bg-primary",disabled:ya.isPending||dc.isPending,"data-testid":"button-add-fund-transfer",children:ya.isPending||dc.isPending?c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):ue?c.jsxs(c.Fragment,{children:[c.jsx(Lc,{className:"h-4 w-4 ml-2"}),"  "]}):c.jsxs(c.Fragment,{children:[c.jsx(Qn,{className:"h-4 w-4 ml-2"}),"  "]})}),ue&&c.jsx(Se,{onClick:eC,size:"sm",variant:"outline",children:""})]}),c.jsxs("div",{className:"mt-3 pt-3 border-t",children:[c.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:"  :"}),ft?c.jsx("div",{className:"text-center text-muted-foreground",children:" ..."}):Hs.length>0?c.jsxs("div",{className:"space-y-2",children:[Hs.map((se,Ce)=>c.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-blue-100 dark:border-blue-900/20 rounded-lg shadow-sm hover:shadow-md transition-all",children:c.jsxs("div",{className:"flex justify-between items-start gap-3",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h4",{className:"font-semibold text-foreground text-sm",children:se.senderName||" "}),c.jsx(ut,{variant:"secondary",className:"text-[10px] px-1.5 h-4 bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400 border-none",children:se.transferType})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px] text-muted-foreground",children:[se.transferNumber&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"opacity-70",children:" :"}),c.jsx("span",{className:"font-medium text-foreground",children:se.transferNumber})]}),n&&se.projectName&&c.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[c.jsx("span",{children:""}),c.jsx("span",{className:"font-medium",children:se.projectName})]})]})]}),c.jsxs("div",{className:"flex flex-col items-end gap-2",children:[c.jsx("span",{className:"font-bold text-primary arabic-numbers text-sm",children:ze(se.amount)}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(Se,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>wie(se),"data-testid":"button-edit-fund-transfer",children:c.jsx(Sl,{className:"h-3.5 w-3.5"})}),c.jsx(Se,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>Ro.mutate(se.id),disabled:Ro.isPending,"data-testid":"button-delete-fund-transfer",children:Ro.isPending?c.jsx("div",{className:"h-3.5 w-3.5 animate-spin rounded-full border-2 border-red-600 border-t-transparent"}):c.jsx(An,{className:"h-3.5 w-3.5"})})]})]})]})},se.id||Ce)),c.jsxs("div",{className:"text-left pt-2 border-t mt-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:" : "}),c.jsx("span",{className:"font-bold text-primary arabic-numbers text-base",children:ze(mr.totalFundTransfers)})]})]}):c.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[c.jsx(Jt,{className:"mx-auto h-8 w-8 text-gray-400"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["     ",s]})]})]})]})]})}),c.jsx("div",{className:"border-t pt-3 mt-3",children:c.jsxs(wa,{open:D,onOpenChange:V,children:[c.jsx(_a,{asChild:!0,children:c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[c.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[c.jsx(Ybe,{className:"text-secondary ml-2 h-5 w-5"}),"  "]}),c.jsxs("div",{className:"flex items-center gap-1",children:[Un.length>0&&c.jsx(ut,{variant:"outline",className:"h-5 text-[10px]",children:Un.length}),c.jsx(yn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),c.jsxs(Sa,{className:"pt-2",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),c.jsx(us,{value:ae,onChange:re,category:"transportDescriptions",placeholder:""})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),c.jsxs(Rn,{value:we,onValueChange:Te,children:[c.jsx(wn,{className:"arabic-numbers",children:c.jsx(On,{placeholder:" "})}),c.jsxs(_n,{children:[c.jsx(vt,{value:"worker_transport",children:" "}),c.jsx(vt,{value:"material_delivery",children:" "}),c.jsx(vt,{value:"concrete_transport",children:" "}),c.jsx(vt,{value:"iron_platforms",children:"  "}),c.jsx(vt,{value:"fuel_shas",children:" "}),c.jsx(vt,{value:"fuel_hilux",children:" "}),c.jsx(vt,{value:"loading_unloading",children:" "}),c.jsx(vt,{value:"maintenance",children:" "}),c.jsx(vt,{value:"water_supply",children:" "}),c.jsx(vt,{value:"other",children:""})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),c.jsx(tt,{type:"number",inputMode:"decimal",value:ee,onChange:se=>Z(se.target.value),placeholder:"",className:"text-center arabic-numbers"})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx(Le,{className:"block text-sm font-medium text-foreground mb-1",children:""}),c.jsx(us,{value:Q,onChange:ie,category:"notes",placeholder:"",className:"flex-1"})]})]}),c.jsx("div",{className:"grid grid-cols-1 gap-3 mb-3",children:r&&!n&&c.jsx("div",{className:"flex flex-col",children:c.jsx(Kg,{projectId:r,value:k,onChange:T,optional:!0})})}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx(Se,{onClick:kie,size:"sm",className:"w-full bg-secondary",disabled:dl.isPending||p_.isPending,"data-testid":"button-add-transportation",children:dl.isPending||p_.isPending?c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):ce?c.jsxs(c.Fragment,{children:[c.jsx(Lc,{className:"h-4 w-4 ml-2"}),"  "]}):c.jsxs(c.Fragment,{children:[c.jsx(Qn,{className:"h-4 w-4 ml-2"}),"  "]})}),ce&&c.jsx(Se,{onClick:tC,size:"sm",variant:"outline",children:""})]})]}),Un.length>0&&c.jsxs("div",{className:"mt-3 space-y-2",children:[Un.map((se,Ce)=>c.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-orange-200 dark:border-orange-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1 space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"font-semibold text-foreground text-sm",children:se.description}),c.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400 arabic-numbers text-base",children:ze(se.amount)})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(ut,{variant:"outline",className:"text-[10px] bg-orange-100/50 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 border-orange-200 dark:border-orange-800",children:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}].find(at=>at.value===se.category)?.label||""}),se.notes&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",se.notes]})]}),se.wellName&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",se.wellName]}),n&&se.projectName&&c.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",se.projectName]})]}),c.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[c.jsx(Se,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>Sie(se),"data-testid":"button-edit-transportation",children:c.jsx(Sl,{className:"h-4 w-4"})}),c.jsx(Se,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>ba.mutate(se.id),disabled:ba.isPending,"data-testid":"button-delete-transportation",children:ba.isPending?c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):c.jsx(An,{className:"h-4 w-4"})})]})]})},Ce)),c.jsxs("div",{className:"text-left mt-3 pt-3 border-t bg-orange-100 dark:bg-orange-900/40 p-3 rounded-lg border border-orange-200 dark:border-orange-800",children:[c.jsx("span",{className:"text-sm font-bold text-orange-900 dark:text-orange-100",children:" : "}),c.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400 arabic-numbers text-lg",children:ze(mr.totalTransportation)})]})]})]})]})}),c.jsx("div",{className:"border-t pt-3 mt-3",children:c.jsxs(wa,{open:B,onOpenChange:C,children:[c.jsx(_a,{asChild:!0,children:c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[c.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[c.jsx(xn,{className:"text-primary ml-2 h-5 w-5"}),"   "]}),c.jsxs("div",{className:"flex items-center gap-1",children:[on.length>0&&c.jsx(ut,{variant:"outline",className:"h-5 text-[10px]",children:on.length}),c.jsx(yn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),c.jsxs(Sa,{className:"pt-2",children:[c.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-3 items-end",children:[c.jsxs("div",{className:"col-span-6",children:[c.jsx(Le,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),c.jsxs(Rn,{value:Ae||"none",onValueChange:se=>De(se==="none"?"":se),children:[c.jsx(wn,{className:"h-9 text-xs","data-testid":"select-worker",children:c.jsx(On,{placeholder:" "})}),c.jsxs(_n,{className:"p-0 overflow-hidden",children:[c.jsx("div",{className:"p-2 border-b sticky top-0 bg-popover z-50",children:c.jsx(tt,{placeholder:"  ...",className:"h-8 w-full text-xs",onChange:se=>h(se.target.value),value:d,onClick:se=>{se.preventDefault(),se.stopPropagation()},onKeyDown:se=>{se.key===" "&&se.stopPropagation()}})}),c.jsxs("div",{className:"max-h-[200px] overflow-y-auto p-1",children:[c.jsx(vt,{value:"none",className:"text-xs",children:" "}),Re&&Re.length>0?Re.filter(se=>!d||se.name&&se.name.toLowerCase().includes(d.toLowerCase())).map(se=>c.jsx(vt,{value:se.id?.toString()||"none",className:"text-xs",children:se.name},`worker-select-${se.id}`)):c.jsx(vt,{value:"none",disabled:!0,className:"text-xs",children:"    ( )"})]})]})]})]}),c.jsxs("div",{className:"col-span-3",children:[c.jsx(Le,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),c.jsx(tt,{type:"number",value:Fe,onChange:se=>rt(se.target.value),placeholder:"0",className:"text-center h-9 text-xs",min:"0",step:"0.5","data-testid":"input-worker-days"})]}),c.jsxs("div",{className:"col-span-3",children:[c.jsx(Le,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),c.jsx(tt,{type:"number",value:qe,onChange:se=>Ve(se.target.value),placeholder:"0",className:"text-center arabic-numbers h-9 text-xs",min:"0",step:"0.01","data-testid":"input-worker-amount"})]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx(Le,{className:"text-xs font-bold text-foreground mb-1",children:""}),c.jsx(tt,{type:"text",value:pe,onChange:se=>de(se.target.value),placeholder:" ",className:"h-9","data-testid":"input-worker-notes"})]}),r&&!n&&c.jsx("div",{className:"mb-3",children:c.jsx(Kg,{projectId:r,value:k,onChange:T,optional:!0})}),c.jsx("div",{className:"flex gap-2",children:c.jsx(Se,{onClick:Tt,className:"bg-primary h-9 flex-1",disabled:Ge.isPending,"data-testid":"button-add-worker-attendance",children:Ge.isPending?c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):c.jsxs(c.Fragment,{children:[c.jsx(Qn,{className:"h-4 w-4 ml-1"}),"  "]})})}),Pe&&c.jsxs("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-900/30 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-foreground mb-3",children:"  "}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[c.jsxs("div",{children:[c.jsx(Le,{className:"text-xs font-bold text-foreground mb-1",children:""}),c.jsx(tt,{type:"number",value:yt,onChange:se=>Ot(se.target.value),className:"text-center h-9",min:"0",step:"0.5","data-testid":"input-edit-worker-days"})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"text-xs font-bold text-foreground mb-1",children:""}),c.jsx(tt,{type:"number",value:it,onChange:se=>Bt(se.target.value),className:"text-center h-9",min:"0",step:"0.01","data-testid":"input-edit-worker-amount"})]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx(Le,{className:"text-xs font-bold text-foreground mb-1",children:""}),c.jsx(tt,{type:"text",value:st,onChange:se=>gt(se.target.value),placeholder:" ",className:"h-9","data-testid":"input-edit-worker-notes"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Se,{onClick:()=>{bt.mutate({id:Pe,workDays:yt,paidAmount:it,notes:st})},className:"bg-primary h-9 flex-1",disabled:bt.isPending,"data-testid":"button-save-edit-worker-attendance",children:bt.isPending?c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):c.jsxs(c.Fragment,{children:[c.jsx(Lc,{className:"h-4 w-4 ml-1"})," "]})}),c.jsx(Se,{onClick:()=>{$e(null),Ot(""),Bt(""),gt("")},variant:"outline",className:"h-9",children:""})]})]}),on.length>0&&c.jsxs("div",{className:"mt-3",children:[c.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"   :"}),c.jsxs("div",{className:"space-y-2",children:[on.map((se,Ce)=>{const at=er.find(Lr=>Lr.id===se.workerId),Qt=is(se.payableAmount),jr=is(se.paidAmount),Je=Qt-jr;return c.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-blue-200 dark:border-blue-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1 space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h4",{className:"font-semibold text-foreground text-sm",children:se.workerName||at?.name||` ${Ce+1}`}),at?.type&&c.jsx(ut,{variant:"outline",className:`text-[10px] px-1.5 h-4 flex items-center border-none ${at.type.includes("")?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":at.type.includes("")?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":at.type.includes("")?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":at.type.includes("")?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":at.type.includes("")?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":at.type.includes("")?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":at.type.includes("")?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":at.type.includes("")?"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}`,children:at.type})]}),c.jsx("span",{className:"font-bold text-primary arabic-numbers text-base",children:ze(jr)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx("span",{children:": "}),c.jsx("span",{className:"font-medium text-foreground",children:is(se.workDays)||0})]}),c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx("span",{children:" : "}),c.jsx("span",{className:"font-medium text-foreground",children:ze(is(se.dailyWage||at?.dailyWage))})]})]}),Je>0&&c.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:[": ",ze(Je)]}),se.workDescription&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",se.workDescription]}),c.jsx("div",{className:"flex flex-col gap-1",children:se.notes&&c.jsxs("p",{className:"text-xs text-muted-foreground bg-amber-50 dark:bg-amber-950/30 p-2 rounded-md border border-amber-200 dark:border-amber-900/50 mt-1",children:[c.jsx("span",{className:"font-bold text-amber-700 dark:text-amber-400",children:": "}),se.notes]})}),n&&se.projectName&&c.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",se.projectName]})]}),c.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[c.jsx(Se,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>{$e(se.id),Ot(is(se.workDays).toString()),Bt(is(se.paidAmount).toString()),gt(se.notes||"")},children:c.jsx(Sl,{className:"h-4 w-4"})}),c.jsx(Se,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>mf.mutate(se.id),disabled:mf.isPending,"data-testid":"button-delete-worker-attendance",children:mf.isPending?c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):c.jsx(An,{className:"h-4 w-4"})})]})]})},Ce)}),c.jsxs("div",{className:"text-left mt-3 pt-3 border-t bg-blue-50 dark:bg-blue-950/20 p-2 rounded",children:[c.jsx("span",{className:"text-sm font-medium text-foreground",children:"  : "}),c.jsx("span",{className:"font-bold text-primary arabic-numbers",children:ze(mr.totalWorkerWages)})]})]})]})]})]})}),c.jsx("div",{className:"border-t pt-3 mt-3",children:c.jsxs(wa,{open:I,onOpenChange:N,children:[c.jsx(_a,{asChild:!0,children:c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[c.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[c.jsx(en,{className:"text-green-600 ml-2 h-5 w-5"}),"  "]}),c.jsxs("div",{className:"flex items-center gap-1",children:[Ps.length>0&&c.jsx(ut,{variant:"outline",className:"h-5 text-[10px]",children:Ps.length}),c.jsx(yn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),c.jsxs(Sa,{className:"pt-2",children:[c.jsxs(Se,{variant:"outline",onClick:()=>t("/material-purchase"),className:"w-full border-2 border-dashed border-green-300 text-green-600 hover:bg-green-50 mb-3",children:[c.jsx(Qn,{className:"ml-2 h-4 w-4"}),"   "]}),Ps.length>0&&c.jsxs("div",{className:"space-y-2",children:[Ps.map((se,Ce)=>{const at=se.materialName||se.material?.name||"  ",Qt=se.materialUnit||se.unit||se.material?.unit||"",jr=se.purchaseType||"",Je=jr==="",Lr=jr===""||jr===""||jr==="";let Gs="border-orange-200 dark:border-orange-900/30",Ei="bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400",fl="text-orange-600";return Je?(Gs="border-green-200 dark:border-green-900/30",Ei="bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",fl="text-green-600"):Lr&&(Gs="border-blue-200 dark:border-blue-900/30",Ei="bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400",fl="text-blue-600"),c.jsx("div",{className:`p-3 border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${Ei.split(" ")[0]} bg-opacity-5 ${Gs}`,children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1 space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"font-semibold text-foreground text-sm",children:at}),c.jsx("span",{className:`font-bold arabic-numbers text-base ${fl}`,children:ze(se.totalAmount)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx("span",{children:": "}),c.jsxs("span",{className:"font-medium text-foreground",children:[se.quantity," ",Qt]})]}),c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx("span",{children:": "}),c.jsx("span",{className:"font-medium text-foreground",children:ze(se.unitPrice)})]})]}),se.supplierName&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",se.supplierName]}),c.jsx("div",{className:`inline-block text-xs font-semibold px-2 py-1 rounded ${Ei}`,children:jr}),n&&se.projectName&&c.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",se.projectName]})]}),c.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[c.jsx(Se,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>t(`/material-purchase?edit=${se.id}`),children:c.jsx(Sl,{className:"h-4 w-4"})}),c.jsx(Se,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>hf.mutate(se.id),disabled:hf.isPending,children:hf.isPending?c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):c.jsx(An,{className:"h-4 w-4"})})]})]})},Ce)}),c.jsxs("div",{className:"text-left mt-2 pt-2 border-t space-y-1",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),c.jsx("span",{className:"font-bold text-success arabic-numbers",children:ze(mr.totalMaterialCosts)})]}),(()=>{const se=Array.isArray(xr)?xr.filter(Ce=>Ce.purchaseType==="").reduce((Ce,at)=>Ce+parseFloat(at.totalAmount||"0"),0):0;return se>0?c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),c.jsx("span",{className:"font-bold text-orange-600 arabic-numbers",children:ze(se)})]}):null})()]})]})]})]})}),c.jsx("div",{className:"border-t pt-3 mt-3",children:c.jsxs(wa,{open:w,onOpenChange:_,children:[c.jsx(_a,{asChild:!0,children:c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[c.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[c.jsx(Jt,{className:"text-yellow-600 ml-2 h-5 w-5"}),"   "]}),c.jsxs("div",{className:"flex items-center gap-1",children:[qs.length>0&&c.jsx(ut,{variant:"outline",className:"h-5 text-[10px]",children:qs.length}),c.jsx(yn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),c.jsxs(Sa,{className:"pt-2",children:[c.jsxs(Se,{variant:"outline",onClick:()=>t("/worker-accounts"),className:"w-full border-2 border-dashed border-yellow-300 text-yellow-600 hover:bg-yellow-50 mb-3",children:[c.jsx(Qn,{className:"ml-2 h-4 w-4"}),"   "]}),qs.length>0&&c.jsxs("div",{className:"space-y-2",children:[qs.map((se,Ce)=>{const at=er.find(jr=>jr.id===se.workerId),Qt=se.transferMethod==="hawaleh"?"":se.transferMethod==="bank"?" ":"";return c.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-yellow-200 dark:border-yellow-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1 space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"font-semibold text-foreground text-sm",children:at?.name||"  "}),c.jsx("span",{className:"font-bold text-yellow-600 dark:text-yellow-500 arabic-numbers text-base",children:ze(se.amount)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx("span",{children:": "}),c.jsx("span",{className:"font-medium text-foreground",children:se.recipientName})]}),c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx("span",{children:": "}),c.jsx("span",{className:"font-medium text-foreground",children:Qt})]})]}),se.transferNumber&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.jsx("span",{className:"opacity-70",children:" : "}),c.jsx("span",{className:"font-medium text-foreground",children:se.transferNumber})]}),n&&se.projectName&&c.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",se.projectName]})]}),c.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[c.jsx(Se,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>t(`/worker-accounts?edit=${se.id}&worker=${se.workerId}`),children:c.jsx(Sl,{className:"h-4 w-4"})}),c.jsx(Se,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{window.confirm("      ")&&Du.mutate(se.id)},disabled:Du.isPending,children:c.jsx(An,{className:"h-4 w-4"})})]})]})},Ce)}),c.jsxs("div",{className:"text-left mt-2 pt-2 border-t bg-yellow-50 dark:bg-yellow-950/20 p-2 rounded",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),c.jsx("span",{className:"font-bold text-warning arabic-numbers",children:ze(oe.totalWorkerTransfers)})]})]})]})]})}),c.jsx("div",{className:"border-t pt-3 mt-3",children:c.jsxs(wa,{open:S,onOpenChange:j,children:[c.jsx(_a,{asChild:!0,children:c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[c.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[c.jsx(Xc,{className:"text-orange-600 ml-2 h-5 w-5"}),"   "]}),c.jsxs("div",{className:"flex items-center gap-1",children:[Dt.length>0&&c.jsx(ut,{variant:"outline",className:"h-5 text-[10px]",children:Dt.length}),c.jsx(yn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),c.jsxs(Sa,{className:"pt-2",children:[c.jsxs(Se,{variant:"outline",onClick:()=>t("/project-transfers"),className:"w-full border-2 border-dashed border-orange-300 text-orange-600 hover:bg-orange-50 mb-3",children:[c.jsx(Qn,{className:"ml-2 h-4 w-4"}),"  "]}),Dt.length>0&&c.jsx("div",{className:"space-y-3",children:Dt.map(se=>c.jsx("div",{className:`p-3 rounded border-r-4 ${se.toProjectId===r?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:se.toProjectId===r?c.jsxs("span",{className:"text-green-700",children:["  : ",se.fromProjectName]}):c.jsxs("span",{className:"text-red-700",children:["  : ",se.toProjectName]})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:`font-bold arabic-numbers ${se.toProjectId===r?"text-green-600":"text-red-600"}`,children:[se.toProjectId===r?"+":"-",ze(se.amount)]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(Se,{size:"icon",variant:"ghost",className:"h-7 w-7 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>pf(se),children:c.jsx(Sl,{className:"h-3.5 w-3.5"})}),c.jsx(Se,{size:"icon",variant:"ghost",className:"h-7 w-7 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("      ")&&Mu.mutate(se.id)},disabled:Mu.isPending,children:c.jsx(An,{className:"h-3.5 w-3.5"})})]})]})]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[c.jsxs("div",{children:[": ",se.transferReason||" "]}),se.description&&c.jsxs("div",{className:"mt-1",children:[": ",se.description]}),c.jsxs("div",{className:"mt-1",children:[": ",oo(se.transferDate)]})]})]})})},se.id))})]})]})}),r&&c.jsx("div",{className:"border-t pt-3 mt-3",children:c.jsxs(wa,{open:U,onOpenChange:q,children:[c.jsx(_a,{asChild:!0,children:c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[c.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[c.jsx(en,{className:"text-purple-600 ml-2 h-5 w-5"}),"   "]}),c.jsxs("div",{className:"flex items-center gap-1",children:[H.length>0&&c.jsx(ut,{variant:"outline",className:"h-5 text-[10px]",children:H.length}),c.jsx(yn,{className:`h-4 w-4 text-muted-foreground transition-transform ${U?"rotate-180":""}`})]})]})}),c.jsx(Sa,{className:"pt-2",children:c.jsx(vDe,{projectId:r,selectedDate:s||new Date().toISOString().split("T")[0]})})]})}),c.jsx("div",{className:"border-t pt-3 mt-3",children:c.jsxs(wa,{open:R,onOpenChange:$,children:[c.jsx(_a,{asChild:!0,children:c.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[c.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[c.jsx($a,{className:"text-primary ml-2 h-5 w-5"}),"  "]}),c.jsx(yn,{className:`h-4 w-4 text-muted-foreground transition-transform ${R?"rotate-180":""}`})]})}),c.jsx(Sa,{className:"pt-2",children:c.jsx(bDe,{totalIncome:oe.totalIncome,totalExpenses:oe.totalCashExpenses,remainingBalance:Ee,details:{workerWages:oe.totalWorkerWages,materialCosts:oe.totalMaterialCosts,transportation:oe.totalTransportation,miscExpenses:oe.totalMiscExpenses,workerTransfers:oe.totalWorkerTransfers,outgoingProjectTransfers:oe.outgoingProjectTransfers}})})]})}),c.jsx("div",{className:"mt-4",children:c.jsxs(Se,{onClick:jie,disabled:uc.isPending,className:"w-full bg-success hover:bg-success/90 text-success-foreground",children:[c.jsx(Lc,{className:"ml-2 h-4 w-4"}),uc.isPending?" ...":" "]})})]})})]})})]})}function wDe(){return c.jsx(Pj,{children:c.jsx(xDe,{})})}const _De=[" "," ","","","","",""," "],ZR={pending:{label:" ",color:"bg-gray-100 text-gray-800",badgeVariant:"outline"},in_progress:{label:" ",color:"bg-yellow-100 text-yellow-800",badgeVariant:"warning"},completed:{label:"",color:"bg-green-100 text-green-800",badgeVariant:"success"}};function SDe(){const{selectedProjectId:e}=Ao(),{toast:t}=Br(),r=ns(),{setFloatingAction:n}=Io(),[s,i]=E.useState(_De),{searchValue:a,filterValues:o,onSearchChange:u,onFilterChange:l,onReset:d}=a_({region:"all",status:"all"}),[h,f]=E.useState(!1),[p,g]=E.useState({}),[y,m]=E.useState(!1),[v,b]=E.useState(null),[x,k]=E.useState(!1),[T,O]=E.useState(""),[F,A]=E.useState(!1),[P,D]=E.useState(""),{data:V=[]}=nt({queryKey:he.autocompleteOwnerNames(e),queryFn:async()=>{const M=await Ie("/api/autocomplete?category=ownerNames");return Array.isArray(M.data)?M.data:[]},enabled:!!e}),{data:B=[]}=nt({queryKey:he.autocompleteFanTypes(e),queryFn:async()=>{const M=await Ie("/api/autocomplete?category=fanTypes");return Array.isArray(M.data)?M.data:[]},enabled:!!e}),{data:C=[]}=nt({queryKey:he.autocompletePumpPowers(e),queryFn:async()=>{const M=await Ie("/api/autocomplete?category=pumpPowers");return Array.isArray(M.data)?M.data:[]},enabled:!!e});E.useEffect(()=>(n(()=>{f(!0)},"+  "),()=>{n(null)}),[n]);const{data:I=[],isLoading:N,isFetching:w}=nt({queryKey:he.wellsByProject(e),queryFn:async()=>e?(await Ie(`/api/wells?projectId=${e}`)).data||[]:[],enabled:!!e,staleTime:300*1e3,retry:1}),_=ht({mutationFn:async M=>Ie("/api/autocomplete","POST",{category:"fanTypes",value:M}),onSuccess:()=>{t({title:"",description:"    "}),r.invalidateQueries({queryKey:he.autocompleteFanTypesPrefix}),k(!1),O("")},onError:M=>{t({title:"",description:M.message||"    ",variant:"destructive"})}}),S=ht({mutationFn:async M=>Ie("/api/autocomplete","POST",{category:"pumpPowers",value:M}),onSuccess:()=>{t({title:"",description:"    "}),r.invalidateQueries({queryKey:he.autocompletePumpPowersPrefix}),A(!1),D("")},onError:M=>{t({title:"",description:M.message||"    ",variant:"destructive"})}}),j=ht({mutationFn:async M=>Ie("/api/autocomplete","POST",{category:"ownerNames",value:M}),onSuccess:()=>{r.invalidateQueries({queryKey:he.autocompleteOwnerNamesPrefix})},onError:M=>{console.error("    :",M)}}),R=M=>{g({...p,ownerName:M}),M.trim()&&!V.includes(M)&&j.mutate(M)},$=ht({mutationFn:async M=>{if(!e||e==="all")throw new Error("    ");return Ie("/api/wells","POST",{...M,projectId:e})},onSuccess:()=>{t({title:"",description:"   "}),r.invalidateQueries({queryKey:he.wells}),f(!1),g({})},onError:M=>{t({title:"",description:M.message||"   ",variant:"destructive"})}}),U=ht({mutationFn:async M=>{if(!v?.id)throw new Error("   ");return Ie(`/api/wells/${v.id}`,"PUT",{...M,projectId:e})},onSuccess:()=>{t({title:"",description:"   "}),r.invalidateQueries({queryKey:he.wells}),m(!1),b(null)},onError:M=>{t({title:"",description:M.message||"   ",variant:"destructive"})}}),q=ht({mutationFn:async M=>Ie(`/api/wells/${M}`,"DELETE"),onSuccess:()=>{t({title:"",description:"   "}),r.invalidateQueries({queryKey:he.wells})},onError:M=>{t({title:"",description:M.message||"   ",variant:"destructive"})}}),H=E.useMemo(()=>I.filter(M=>{const K=M.ownerName.toLowerCase().includes(a.toLowerCase())||M.wellNumber.toString().includes(a),z=o.region==="all"||M.region===o.region,L=o.status==="all"||M.status===o.status;return K&&z&&L}),[I,a,o]),Y=E.useMemo(()=>({total:I.length,completed:I.filter(M=>M.status==="completed").length,inProgress:I.filter(M=>M.status==="in_progress").length,pending:I.filter(M=>M.status==="pending").length,avgCompletion:I.length>0?Math.round(I.reduce((M,K)=>M+(K.completionPercentage||0),0)/I.length):0}),[I]);return!e||e==="all"?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("p",{className:"text-gray-500",children:"      "})}):N?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx(K8,{className:"w-8 h-8 animate-spin text-blue-500"})}):c.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[c.jsx(vu,{title:" ",hideHeader:!1,stats:[{title:" ",value:Y.total,icon:$a,color:"blue",status:Y.total===0?"normal":void 0},{title:"",value:Y.completed,icon:qo,color:"green",status:Y.completed>Y.inProgress?"normal":"warning"},{title:" ",value:Y.inProgress,icon:K8,color:"amber",status:Y.inProgress>0?"normal":void 0},{title:"  ",value:Y.pending,icon:qo,color:"gray",status:Y.pending>Y.completed?"warning":void 0},{title:" ",value:`${Y.avgCompletion}%`,icon:$a,color:"indigo"}],columns:3,showStatus:!0}),c.jsx(N5,{searchValue:a,onSearchChange:u,searchPlaceholder:"     ...",showSearch:!0,filters:[{key:"region",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...s.map(M=>({value:M,label:M}))],defaultValue:"all"},{key:"status",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],defaultValue:"all"}],filterValues:o,onFilterChange:l,onReset:d,showResetButton:!0,showActiveFilters:!0,compact:!1}),c.jsx(ks,{open:h,onOpenChange:f,children:c.jsxs(hs,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[c.jsx(js,{className:"pb-2",children:c.jsx(zs,{children:"  "})}),c.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-2",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  *"}),c.jsx(tt,{type:"number",value:p.wellNumber||"",onChange:M=>g({...p,wellNumber:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base",autoWidth:!0,maxWidth:200})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  *"}),c.jsx(Wn,{value:p.ownerName||"",onValueChange:R,options:V.map(M=>({value:M,label:M})),placeholder:"    ",searchPlaceholder:"   ...",showSearch:!0,allowCustom:!0,onCustomAdd:M=>j.mutate(M)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:" *"}),c.jsx(Wn,{value:p.region||"",onValueChange:M=>g({...p,region:M}),options:s.map(M=>({value:M,label:M})),placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  () *"}),c.jsx(tt,{type:"number",value:p.wellDepth||"",onChange:M=>g({...p,wellDepth:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  *"}),c.jsx(tt,{type:"number",value:p.numberOfPanels||"",onChange:M=>g({...p,numberOfPanels:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  *"}),c.jsx(tt,{type:"number",value:p.numberOfBases||"",onChange:M=>g({...p,numberOfBases:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  *"}),c.jsx(tt,{type:"number",value:p.numberOfPipes||"",onChange:M=>g({...p,numberOfPipes:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  ()"}),c.jsx(tt,{type:"number",value:p.waterLevel||"",onChange:M=>g({...p,waterLevel:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[c.jsx(Le,{className:"text-sm font-semibold flex-1",children:" "}),c.jsx(Se,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>k(!0),children:"+ "})]}),c.jsx(Wn,{value:p.fanType||"",onValueChange:M=>g({...p,fanType:M}),options:B.map(M=>({value:M,label:M})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[c.jsx(Le,{className:"text-sm font-semibold flex-1",children:" "}),c.jsx(Se,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>A(!0),children:"+ "})]}),c.jsx(Wn,{value:p.pumpPower?String(p.pumpPower):"",onValueChange:M=>g({...p,pumpPower:parseInt(M)}),options:C.map(M=>({value:String(M),label:String(M)})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),c.jsxs("div",{className:"space-y-1 md:col-span-2",children:[c.jsx(Le,{className:"text-sm font-semibold",children:""}),c.jsx(Wn,{value:p.status||"",onValueChange:M=>g({...p,status:M}),options:[{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),c.jsxs("div",{className:"space-y-1 md:col-span-2",children:[c.jsx(Le,{className:"text-sm font-semibold",children:""}),c.jsx(tt,{value:p.notes||"",onChange:M=>g({...p,notes:M.target.value}),placeholder:"  ",className:"h-10 text-base"})]})]})}),c.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[c.jsx(Se,{variant:"outline",onClick:()=>f(!1),size:"sm",children:""}),c.jsx(Se,{onClick:()=>{if(!p.wellNumber||!p.ownerName||!p.region||!p.wellDepth||!p.numberOfPanels||!p.numberOfPipes||!p.numberOfBases){t({title:"",description:"    ",variant:"destructive"});return}$.mutate(p)},size:"sm",disabled:$.isPending||!p.wellNumber||!p.ownerName||!p.region||!p.wellDepth||!p.numberOfPanels||!p.numberOfPipes||!p.numberOfBases,children:$.isPending?"...":""})]})]})}),c.jsx(ks,{open:x,onOpenChange:k,children:c.jsxs(hs,{children:[c.jsx(js,{children:c.jsx(zs,{children:"   "})}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{children:[c.jsx(Le,{children:"  "}),c.jsx(tt,{placeholder:":  ",value:T,onChange:M=>O(M.target.value),onKeyDown:M=>M.key==="Enter"&&_.mutate(T)})]})}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(Se,{variant:"outline",onClick:()=>k(!1),size:"sm",children:""}),c.jsx(Se,{onClick:()=>_.mutate(T),size:"sm",children:_.isPending?"...":""})]})]})}),c.jsx(ks,{open:F,onOpenChange:A,children:c.jsxs(hs,{children:[c.jsx(js,{children:c.jsx(zs,{children:"   "})}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{children:[c.jsx(Le,{children:" "}),c.jsx(tt,{placeholder:": 1.5  2.0",value:P,onChange:M=>D(M.target.value),onKeyDown:M=>M.key==="Enter"&&S.mutate(P)})]})}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(Se,{variant:"outline",onClick:()=>A(!1),size:"sm",children:""}),c.jsx(Se,{onClick:()=>S.mutate(P),size:"sm",children:S.isPending?"...":""})]})]})}),c.jsx(ks,{open:y,onOpenChange:m,children:c.jsxs(hs,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[c.jsx(js,{className:"pb-2",children:c.jsx(zs,{children:"  "})}),c.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-2",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  *"}),c.jsx(tt,{type:"number",value:v?.wellNumber||"",onChange:M=>b({...v,wellNumber:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  *"}),c.jsx(Wn,{value:v?.ownerName||"",onValueChange:M=>b({...v,ownerName:M}),options:V.map(M=>({value:M,label:M})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0,allowCustom:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:" *"}),c.jsx(Wn,{value:v?.region||"",onValueChange:M=>b({...v,region:M}),options:s.map(M=>({value:M,label:M})),placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  () *"}),c.jsx(tt,{type:"number",value:v?.wellDepth||"",onChange:M=>b({...v,wellDepth:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  *"}),c.jsx(tt,{type:"number",value:v?.numberOfPanels||"",onChange:M=>b({...v,numberOfPanels:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  *"}),c.jsx(tt,{type:"number",value:v?.numberOfBases||"",onChange:M=>b({...v,numberOfBases:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  *"}),c.jsx(tt,{type:"number",value:v?.numberOfPipes||"",onChange:M=>b({...v,numberOfPipes:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  ()"}),c.jsx(tt,{type:"number",value:v?.waterLevel||"",onChange:M=>b({...v,waterLevel:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:" "}),c.jsx(Wn,{value:v?.fanType||"",onValueChange:M=>b({...v,fanType:M}),options:B.map(M=>({value:M,label:M})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:" "}),c.jsx(Wn,{value:v?.pumpPower?String(v.pumpPower):"",onValueChange:M=>b({...v,pumpPower:parseInt(M)}),options:C.map(M=>({value:String(M),label:String(M)})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:""}),c.jsx(Wn,{value:v?.status||"",onValueChange:M=>b({...v,status:M}),options:[{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{className:"text-sm font-semibold",children:"  (%)"}),c.jsx(tt,{type:"number",min:"0",max:"100",value:v?.completionPercentage||"",onChange:M=>b({...v,completionPercentage:parseInt(M.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),c.jsxs("div",{className:"space-y-1 md:col-span-2",children:[c.jsx(Le,{className:"text-sm font-semibold",children:""}),c.jsx(tt,{value:v?.notes||"",onChange:M=>b({...v,notes:M.target.value}),placeholder:"  ",className:"h-10 text-base"})]})]})}),c.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[c.jsx(Se,{variant:"outline",onClick:()=>m(!1),size:"sm",children:""}),c.jsx(Se,{onClick:()=>{if(!v?.wellNumber||!v?.ownerName||!v?.region||!v?.wellDepth||!v?.numberOfPanels||!v?.numberOfPipes||!v?.numberOfBases){t({title:"",description:"    ",variant:"destructive"});return}U.mutate(v||{})},size:"sm",disabled:U.isPending||!v?.wellNumber||!v?.ownerName||!v?.region||!v?.wellDepth||!v?.numberOfPanels||!v?.numberOfPipes||!v?.numberOfBases,children:U.isPending?"...":""})]})]})}),c.jsx(Ns,{columns:2,children:H.map(M=>c.jsx(Gr,{title:` #${M.wellNumber} - ${M.ownerName}`,subtitle:M.region,titleIcon:qo,badges:[{label:ZR[M.status]?.label,variant:ZR[M.status]?.badgeVariant}],fields:[{label:"",value:M.region,icon:qo,color:"info"},{label:"",value:M.numberOfPanels,icon:$a,color:"success"},{label:"",value:M.numberOfPipes,icon:ia,color:"success"},{label:"",value:`${M.wellDepth}`,icon:hn,color:"warning"},{label:"",value:M.numberOfBases,icon:$a,color:"info"},{label:" ",value:M.waterLevel?`${M.waterLevel}`:"-",icon:hn,color:"info"},{label:"",value:`${M.completionPercentage}%`,emphasis:!0,color:"info",icon:hn},...M.fanType?[{label:" ",value:M.fanType,icon:ia,color:"info"}]:[],...M.pumpPower?[{label:" ",value:`${M.pumpPower}`,icon:ia,color:"warning"}]:[],...M.notes?[{label:"",value:M.notes,color:"muted"}]:[]],actions:[{icon:du,label:"",onClick:()=>{b(M),m(!0)},color:"blue"},{icon:An,label:"",onClick:()=>{confirm("      ")&&q.mutate(M.id)},color:"red"}]},M.id))}),H.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-500",children:"  "})})]})}function kDe(){gs(),Br();const[e,t]=E.useState(null),{selectedProjectId:r}=Ao(),{data:n=[]}=nt({queryKey:he.wellsByProject(r),queryFn:async()=>r?(await Ie(`/wells?projectId=${r}`)).data||[]:[],enabled:!!r}),{data:s}=nt({queryKey:he.projectCosts(r),queryFn:async()=>r?(await Ie(`/well-expenses/project-costs/${r}`)).data:null,enabled:!!r}),{data:i}=nt({queryKey:he.wellCostReport(e),queryFn:async()=>e?(await Ie(`/well-expenses/cost-report/${e}`)).data:null,enabled:!!e}),a=(o,u)=>u>0?(o/u*100).toFixed(1):"0";return c.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-6 space-y-6",children:[s&&c.jsxs(Ns,{columns:2,children:[c.jsx(Gr,{title:" ",subtitle:" ",titleIcon:Jt,fields:[{label:"",value:ze(s.totalCost||0),emphasis:!0,color:"success"}],compact:!0}),c.jsx(Gr,{title:" ",subtitle:" ",titleIcon:hn,fields:[{label:"",value:ze(s.totalLaborCost||0),emphasis:!0,color:"info"}],compact:!0}),c.jsx(Gr,{title:"",subtitle:" ",titleIcon:Jt,fields:[{label:"",value:ze(s.totalMaterialCost||0),emphasis:!0,color:"warning"}],compact:!0}),c.jsx(Gr,{title:"",subtitle:" ",titleIcon:Jt,fields:[{label:"",value:ze(s.totalTransportCost||0),emphasis:!0,color:"danger"}],compact:!0})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xl font-semibold mb-4",children:" "}),c.jsx(Ns,{columns:3,children:n.map(o=>c.jsx(Gr,{title:` #${o.wellNumber}`,subtitle:o.ownerName,titleIcon:V8,fields:[{label:"",value:o.region},{label:"",value:`${o.completionPercentage}%`,emphasis:!0}],onClick:()=>t(o.id),className:e===o.id?"ring-2 ring-primary":"",badges:[{label:o.status==="completed"?"":o.status==="in_progress"?" ":" ",variant:o.status==="completed"?"success":o.status==="in_progress"?"warning":"outline"}],compact:!0},o.id))})]}),e&&i&&c.jsx(Ns,{columns:1,children:c.jsx(Gr,{title:`  -  #${n.find(o=>o.id===e)?.wellNumber}`,titleIcon:hn,badges:[{label:ze(i.totalCost||0),variant:"success"},{label:"",variant:"default"}],fields:[{label:" ",value:ze(i.laborCost||0),emphasis:!0,color:"info"},{label:"",value:`${a(i.laborCost||0,i.totalCost||1)}%`,color:"info"},{label:"",value:ze(i.materialCost||0),emphasis:!0,color:"warning"},{label:"",value:`${a(i.materialCost||0,i.totalCost||1)}%`,color:"warning"},{label:"",value:ze(i.transportCost||0),emphasis:!0,color:"danger"},{label:"",value:`${a(i.transportCost||0,i.totalCost||1)}%`,color:"danger"}]})}),!e&&n.length>0&&c.jsx(Gr,{title:" ",subtitle:"    ",titleIcon:V8,fields:[{label:"",value:"  "}]}),n.length===0&&c.jsx(Gr,{title:"  ",subtitle:"    ",titleIcon:Jt,fields:[{label:"",value:"   "}]})]})}function jDe(){const[e,t]=E.useState([]);E.useEffect(()=>(t(hh.getEvents()),hh.subscribe(s=>{t(i=>[s,...i].slice(0,50))})),[]);const r=s=>{switch(s){case"critical":return"bg-red-500/10 text-red-500 border-red-500/20";case"high":return"bg-orange-500/10 text-orange-500 border-orange-500/20";case"medium":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-slate-500/10 text-slate-500 border-slate-500/20"}},n=s=>{switch(s){case"error":return c.jsx(Es,{className:"w-4 h-4"});case"sync":return c.jsx(Vs,{className:"w-4 h-4"});case"performance":return c.jsx(Uh,{className:"w-4 h-4"});default:return c.jsx(Uh,{className:"w-4 h-4"})}};return c.jsxs(Pt,{className:"h-full flex flex-col",children:[c.jsxs(Cn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsxs(zn,{className:"text-sm font-bold flex items-center gap-2",children:[c.jsx(Vs,{className:"w-4 h-4 text-primary"}),"  "]}),c.jsx(ut,{variant:"outline",className:"text-[10px]",children:"Active Monitoring"})]}),c.jsx(Ft,{className:"flex-1 overflow-hidden p-0",children:c.jsx(Po,{className:"h-[400px] px-4",children:c.jsx("div",{className:"space-y-3 py-4",children:e.length===0?c.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm",children:"    "}):e.map(s=>c.jsxs("div",{className:`p-3 rounded-lg border flex flex-col gap-2 transition-all ${r(s.severity)}`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 font-medium text-xs",children:[n(s.type),s.message]}),c.jsx("span",{className:"text-[10px] opacity-70",children:new Date(s.timestamp).toLocaleTimeString("ar-SA")})]}),s.actionTaken&&c.jsxs("div",{className:"flex items-center gap-1 text-[10px] bg-white/20 p-1 rounded px-2 w-fit",children:[c.jsx(Xr,{className:"w-3 h-3"}),": ",s.actionTaken]})]},s.id))})})})]})}const NDe=[" "," ","","","","",""," "],TDe=[{value:"all",label:" "},{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}];function EDe(){gs();const{toast:e}=Br(),t=ns(),{selectedProjectId:r}=Ao(),[n,s]=E.useState(null),[i,a]=E.useState(!1),[o,u]=E.useState({description:"",amount:"",status:"pending"}),[l]=E.useState(NDe),{searchValue:d,filterValues:h,onSearchChange:f,onFilterChange:p,onReset:g}=a_({status:"all",region:"all"}),{data:y=[]}=nt({queryKey:he.wellsByProject(r),queryFn:async()=>{if(!r)return[];try{const D=await r4("wells");if(D&&D.length>0)return D.filter(V=>V.projectId===r)}catch(D){console.warn("Local wells fetch failed",D)}return(await Ie(`/wells?projectId=${r}`)).data||[]},enabled:!!r}),{data:m=[]}=nt({queryKey:he.autocompleteTaskDescriptions(r),queryFn:async()=>{const P=await Ie("/api/autocomplete?category=workerMiscDescriptions");return Array.isArray(P.data)?P.data:[]},enabled:!!r,staleTime:300*1e3}),{data:v=[]}=nt({queryKey:he.wellTasks(n),queryFn:async()=>{if(!n)return[];try{const D=await r4("wellTasks");if(D&&D.length>0)return D.filter(V=>V.wellId===n)}catch(D){console.warn("Local tasks fetch failed",D)}return(await Ie(`/api/wells/${n}/tasks`)).data||[]},enabled:!!n}),b=ht({mutationFn:async P=>{if(!n)throw new Error("  ");return Ub("wellTasks","create",{...P,wellId:n,projectId:r,paidAmount:0,expectedAmount:parseFloat(P.amount)||0,createdAt:new Date().toISOString()},`/api/wells/${n}/tasks`)},onSuccess:()=>{e({title:"",description:"    ()"}),u({description:"",amount:"",status:"pending"}),a(!1),t.invalidateQueries({queryKey:he.wellTasks(n)})},onError:P=>{e({title:"",description:P.message,variant:"destructive"})}}),x=ht({mutationFn:async({taskId:P,status:D})=>Ub("wellTasks","update",{id:P,status:D},`/api/wells/tasks/${P}/status`),onSuccess:()=>{e({title:"",description:"    ()"}),t.invalidateQueries({queryKey:he.wellTasks(n)})},onError:P=>{e({title:"",description:P.message,variant:"destructive"})}});ht({mutationFn:async({taskId:P,amount:D})=>Ub("wellTaskAccounts","create",{taskId:P,amount:parseFloat(D)||0,projectId:r,createdAt:new Date().toISOString()},`/wells/tasks/${P}/account`),onSuccess:()=>{e({title:"",description:"   ()"}),t.invalidateQueries({queryKey:he.wellTasks(n)})},onError:P=>{e({title:"",description:P.message,variant:"destructive"})}});const{summary:k,isLoading:T}=$p(),O=E.useMemo(()=>v.filter(P=>P.status==="pending"),[v]),F=E.useMemo(()=>v.filter(P=>P.status==="completed"),[v]),A=E.useMemo(()=>y.filter(P=>{const D=P.ownerName.toLowerCase().includes(d.toLowerCase())||P.wellNumber.toString().includes(d),V=h.status==="all"||P.status===h.status,B=h.region==="all"||P.region===h.region;return D&&V&&B}),[y,d,h]);return c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-6 space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[c.jsx("div",{children:c.jsx(N5,{searchValue:d,onSearchChange:f,searchPlaceholder:"     ...",showSearch:!0,filters:[{key:"region",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...l.map(P=>({value:P,label:P}))],defaultValue:"all"},{key:"status",label:"",type:"select",placeholder:" ",options:TDe,defaultValue:"all"}],filterValues:h,onFilterChange:p,onReset:g,showResetButton:!0,showActiveFilters:!0,compact:!1})}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-lg font-semibold mb-3",children:["  (",A.length,")"]}),c.jsx(Ns,{columns:n?2:4,children:A.map(P=>c.jsx(Gr,{title:` #${P.wellNumber}`,subtitle:P.ownerName,titleIcon:qo,badges:[{label:P.status==="pending"?" ":P.status==="in_progress"?" ":"",variant:P.status==="completed"?"success":P.status==="in_progress"?"warning":"outline"}],fields:[{label:"",value:P.region,icon:qo,color:"info"},{label:"",value:P.numberOfPanels,icon:ia,color:"success"},{label:"",value:P.numberOfPipes,icon:ia,color:"success"},{label:"",value:`${P.wellDepth}`,icon:hn,color:"warning"},{label:"",value:`${P.completionPercentage}%`,emphasis:!0,color:"info",icon:hn}],onClick:()=>s(P.id),className:n===P.id?"ring-2 ring-primary":"",compact:!0},P.id))})]}),n&&c.jsxs(c.Fragment,{children:[c.jsx(vu,{title:" ",hideHeader:!1,stats:[{title:" ",value:ze(k?.totalBalance||0),icon:Jt,color:"blue"},{title:" ",value:v.length,icon:bn,color:"blue"},{title:" ",value:O.length,icon:bn,color:"amber",status:O.length>0?"warning":void 0},{title:" ",value:F.length,icon:Xr,color:"green"}],columns:3,showStatus:!0}),c.jsxs(Ns,{columns:4,children:[c.jsx(Gr,{title:" ",titleIcon:bn,fields:[{label:"",value:v.length,emphasis:!0,color:"info"}],compact:!0}),c.jsx(Gr,{title:" ",titleIcon:bn,fields:[{label:"",value:O.length,emphasis:!0,color:"warning"}],compact:!0}),c.jsx(Gr,{title:" ",titleIcon:Xr,fields:[{label:"",value:F.length,emphasis:!0,color:"success"}],compact:!0}),c.jsxs(ks,{open:i,onOpenChange:a,children:[c.jsx(rp,{asChild:!0,children:c.jsx("div",{className:"relative rounded-xl border bg-card text-card-foreground shadow-sm p-4 hover:shadow-md hover:border-primary/20 cursor-pointer",children:c.jsxs(Se,{className:"w-full h-20",variant:"outline",children:[c.jsx(Qn,{className:"h-5 w-5 ml-2"})," "]})})}),c.jsxs(hs,{className:"max-w-md",children:[c.jsx(js,{children:c.jsx(zs,{children:"  "})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Le,{children:" "}),c.jsx(tt,{value:o.description,onChange:P=>u({...o,description:P.target.value}),placeholder:":  ",autoWidth:!0,maxWidth:400,className:"min-h-11"})]}),c.jsxs("div",{children:[c.jsx(Le,{children:" "}),c.jsx(tt,{type:"number",value:o.amount,onChange:P=>u({...o,amount:P.target.value}),placeholder:"0",autoWidth:!0,maxWidth:150,className:"min-h-11"})]}),c.jsx(Se,{onClick:()=>b.mutate(o),disabled:b.isPending,className:"w-full",children:b.isPending?"...":" "})]})]})]})]}),O.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[c.jsx(bn,{className:"h-5 w-5 text-yellow-600"}),"  (",O.length,")"]}),c.jsx(Ns,{columns:1,children:O.map(P=>c.jsx(Gr,{title:P.description,subtitle:`: ${ze(P.expectedAmount||0)}`,titleIcon:bn,badges:[{label:"",variant:"warning"}],fields:[{label:"",value:"",icon:bn,color:"warning"},{label:" ",value:ze(P.expectedAmount||0),emphasis:!0,icon:Jt,color:"info"},{label:" ",value:ze(P.paidAmount||0),icon:Jt,color:"success"}],actions:[{icon:Xr,label:"",onClick:()=>x.mutate({taskId:P.id,status:"completed"}),color:"green"}],compact:!0},P.id))})]}),F.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[c.jsx(Xr,{className:"h-5 w-5 text-green-600"}),"  (",F.length,")"]}),c.jsx(Ns,{columns:1,children:F.map(P=>c.jsx(Gr,{title:P.description,subtitle:`: ${ze(P.expectedAmount||0)}`,titleIcon:Xr,badges:[{label:"",variant:"success"}],fields:[{label:"",value:"",icon:Xr,color:"success"},{label:" ",value:ze(P.expectedAmount||0),emphasis:!0,icon:Jt,color:"info"},{label:" ",value:ze(P.paidAmount||0),icon:Jt,color:"success"}],compact:!0},P.id))})]}),v.length===0&&c.jsx(Gr,{title:"  ",subtitle:"  ",titleIcon:Es,fields:[{label:"",value:"   "}]})]})]}),c.jsx("div",{className:"lg:col-span-1 space-y-6",children:c.jsx(jDe,{})})]})})}function CDe(){const[e,t]=E.useState($x()),[r,n]=E.useState(null),{data:s,isLoading:i,refetch:a}=nt({queryKey:he.adminDataHealth});if(E.useEffect(()=>{const l=document.querySelector(".layout-header h1, .layout-header .text-lg");l&&(l.textContent="    ");const d=setInterval(()=>{t($x())},2e3);return nne().then(n),()=>clearInterval(d)},[]),i)return c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[c.jsx(rve,{className:"h-12 w-12 text-primary animate-pulse"}),c.jsx("p",{className:"text-muted-foreground animate-pulse font-medium",children:"     ..."})]});const o=s?.data,u=r?.differences?.slice(0,5).map(l=>({name:l.table,central:100,local:Math.round(l.clientCount/(l.serverCount||1)*100)}))||[{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100}];return c.jsxs("div",{className:"space-y-6 pb-10",dir:"rtl",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-card p-4 rounded-xl border shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:c.jsx(Bn,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-sm font-semibold text-foreground",children:" "}),c.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:e.isOnline?c.jsxs(c.Fragment,{children:[c.jsxs("span",{className:"relative flex h-2 w-2",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),c.jsx("span",{className:"text-xs text-green-600 font-medium font-mono",children:"ONLINE - CENTRAL SYNC ACTIVE"})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"relative flex h-2 w-2",children:c.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-orange-500"})}),c.jsx("span",{className:"text-xs text-orange-600 font-medium font-mono",children:"OFFLINE - EMERGENCY MODE"})]})})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex flex-col items-end px-3 border-r border-dashed",children:[c.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold",children:"Pending Sync"}),c.jsx("span",{className:"text-sm font-black font-mono",children:e.pendingCount})]}),c.jsxs(Se,{onClick:()=>a(),variant:"default",size:"sm",className:"gap-2 hover-elevate active-elevate-2",children:[c.jsx(ms,{className:`h-4 w-4 ${e.isSyncing?"animate-spin":""}`})," "]})]})]}),c.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:o?.databases.map((l,d)=>c.jsxs(Pt,{className:"overflow-hidden border-none shadow-md bg-gradient-to-br from-card to-muted/30 hover-elevate group",children:[c.jsx("div",{className:`h-1 w-full ${l.status==="online"||l.status==="active"?"bg-green-500":"bg-red-500"}`}),c.jsxs(Cn,{className:"flex flex-row items-center justify-between pb-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-md ${l.status==="online"||l.status==="active"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"}`,children:l.name.includes("Central")?c.jsx(Od,{className:"h-4 w-4"}):l.name.includes("Supabase")?c.jsx(k3,{className:"h-4 w-4"}):c.jsx(Eg,{className:"h-4 w-4"})}),c.jsxs("div",{children:[c.jsx(zn,{className:"text-sm font-bold",children:l.name}),c.jsx(Yc,{className:"text-[10px] uppercase",children:l.status==="online"||l.status==="active"?"Active":l.status==="standby"?"Standby":"Disconnected"})]})]}),c.jsx(ut,{variant:l.status==="online"||l.status==="active"?"success":"outline",className:"h-5 text-[10px]",children:l.status==="online"||l.status==="active"?"":""})]}),c.jsx(Ft,{children:c.jsxs("div",{className:"space-y-3 mt-2",children:[c.jsxs("div",{className:"flex justify-between items-end",children:[c.jsx("span",{className:"text-2xl font-black font-mono tracking-tighter",children:l.latency}),c.jsx("span",{className:"text-[10px] text-muted-foreground font-medium uppercase",children:"Response Time"})]}),c.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-muted",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-muted-foreground font-bold text-[10px] uppercase",children:"Tables"}),c.jsx("span",{className:"font-bold",children:l.tablesCount})]}),c.jsxs("div",{className:"flex flex-col text-left",children:[c.jsx("span",{className:"text-muted-foreground font-bold text-[10px] uppercase",children:"Integrity"}),c.jsx("span",{className:"font-bold text-green-600",children:"VALID"})]})]})]})})]},d))}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[c.jsxs(Pt,{className:"border-none shadow-lg",children:[c.jsxs(Cn,{children:[c.jsxs(zn,{className:"text-lg flex items-center gap-2 text-primary",children:[c.jsx(Tg,{className:"h-5 w-5"}),"  "]}),c.jsx(Yc,{children:"      "})]}),c.jsxs(Ft,{children:[c.jsx("div",{className:"space-y-6",children:u.map((l,d)=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:l.name}),c.jsxs("div",{className:"flex gap-2 font-mono text-[10px]",children:[c.jsxs("span",{className:"text-blue-600",children:["CENTRAL: ",l.central,"%"]}),c.jsxs("span",{className:"text-green-600",children:["LOCAL: ",l.local,"%"]})]})]}),c.jsx(wu,{value:l.local,className:"h-1.5"})]},d))}),c.jsx("div",{className:"mt-8 p-4 bg-primary/5 rounded-xl border border-dashed border-primary/20",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-green-500/10 rounded-full",children:c.jsx(Dl,{className:"h-5 w-5 text-green-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold",children:"  (Emergency Failover)"}),c.jsx("p",{className:"text-[10px] text-muted-foreground",children:"    SQLite    PostgreSQL"})]})]})})]})]}),c.jsxs(Pt,{className:"border-none shadow-lg",children:[c.jsxs(Cn,{children:[c.jsxs(zn,{className:"text-lg flex items-center gap-2 text-primary",children:[c.jsx(Vs,{className:"h-5 w-5"}),"  "]}),c.jsx(Yc,{children:"    "})]}),c.jsxs(Ft,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[c.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Latency"}),c.jsxs("div",{className:"text-xl font-black font-mono text-primary",children:[e.latency||0,"ms"]})]}),c.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[c.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Success Rate"}),c.jsx("div",{className:"text-xl font-black font-mono text-green-600",children:"99.9%"})]}),c.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[c.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Synced Records"}),c.jsx("div",{className:"text-xl font-black font-mono",children:o?.integrity.totalRecords.toLocaleString()})]}),c.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[c.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Engine Mode"}),c.jsx("div",{className:"text-xl font-black font-mono text-blue-600 uppercase",children:e.isOnline?"Cloud":"Edge"})]})]}),c.jsxs("div",{className:"mt-6 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs font-bold",children:[c.jsx("span",{children:"   "}),c.jsx("span",{className:"text-green-500",children:"100%"})]}),c.jsx(wu,{value:100,className:"h-2 bg-green-500/20"}),c.jsx("p",{className:"text-[10px] text-muted-foreground leading-relaxed italic",children:"*    CRC64               ."})]})]})]})]})]})}const C5=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:r,className:_e("w-full caption-bottom text-sm",e),...t})}));C5.displayName="Table";const A5=E.forwardRef(({className:e,...t},r)=>c.jsx("thead",{ref:r,className:_e("[&_tr]:border-b",e),...t}));A5.displayName="TableHeader";const P5=E.forwardRef(({className:e,...t},r)=>c.jsx("tbody",{ref:r,className:_e("[&_tr:last-child]:border-0",e),...t}));P5.displayName="TableBody";const ADe=E.forwardRef(({className:e,...t},r)=>c.jsx("tfoot",{ref:r,className:_e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));ADe.displayName="TableFooter";const Wd=E.forwardRef(({className:e,...t},r)=>c.jsx("tr",{ref:r,className:_e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Wd.displayName="TableRow";const Oi=E.forwardRef(({className:e,...t},r)=>c.jsx("th",{ref:r,className:_e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Oi.displayName="TableHead";const ti=E.forwardRef(({className:e,...t},r)=>c.jsx("td",{ref:r,className:_e("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ti.displayName="TableCell";const PDe=E.forwardRef(({className:e,...t},r)=>c.jsx("caption",{ref:r,className:_e("mt-4 text-sm text-muted-foreground",e),...t}));PDe.displayName="TableCaption";var o_="Tabs",[IDe]=Ws(o_,[Op]),pne=Op(),[RDe,I5]=IDe(o_),mne=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:u="automatic",...l}=e,d=Ip(o),[h,f]=qa({prop:n,onChange:s,defaultProp:i??"",caller:o_});return c.jsx(RDe,{scope:r,baseId:aa(),value:h,onValueChange:f,orientation:a,dir:d,activationMode:u,children:c.jsx(wt.div,{dir:d,"data-orientation":a,...l,ref:t})})});mne.displayName=o_;var gne="TabsList",yne=E.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=I5(gne,r),a=pne(r);return c.jsx(a5,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:c.jsx(wt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});yne.displayName=gne;var bne="TabsTrigger",vne=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=I5(bne,r),o=pne(r),u=_ne(a.baseId,n),l=Sne(a.baseId,n),d=n===a.value;return c.jsx(o5,{asChild:!0,...o,focusable:!s,active:d,children:c.jsx(wt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":l,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:t,onMouseDown:et(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:et(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:et(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(n)})})})});vne.displayName=bne;var xne="TabsContent",wne=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,o=I5(xne,r),u=_ne(o.baseId,n),l=Sne(o.baseId,n),d=n===o.value,h=E.useRef(d);return E.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),c.jsx(ss,{present:s||d,children:({present:f})=>c.jsx(wt.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":u,hidden:!f,id:l,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});wne.displayName=xne;function _ne(e,t){return`${e}-trigger-${t}`}function Sne(e,t){return`${e}-content-${t}`}var ODe=mne,kne=yne,jne=vne,Nne=wne;const Tne=ODe,R5=E.forwardRef(({className:e,...t},r)=>c.jsx(kne,{ref:r,className:_e("inline-flex h-12 items-center justify-center rounded-xl bg-gradient-to-r from-gray-100 to-gray-50 p-1.5 text-muted-foreground shadow-inner backdrop-blur-sm border border-gray-200/50","dark:from-gray-800 dark:to-gray-900 dark:border-gray-700/50","transition-all duration-300 ease-in-out",e),...t}));R5.displayName=kne.displayName;const Pa=E.forwardRef(({className:e,children:t,...r},n)=>c.jsx(jne,{ref:n,className:_e("relative inline-flex items-center justify-center whitespace-nowrap rounded-lg px-4 py-2.5 text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","hover:bg-white/80 hover:text-foreground hover:shadow-sm hover:scale-105","data-[state=active]:bg-white data-[state=active]:text-foreground data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/20","data-[state=active]:border data-[state=active]:border-blue-200/50","dark:hover:bg-gray-700/80 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:border-gray-600/50","before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-r before:from-blue-500/0 before:to-purple-500/0","data-[state=active]:before:from-blue-500/10 data-[state=active]:before:to-purple-500/10","transform-gpu backface-visibility-hidden",e),...r,children:c.jsx(Zr.span,{initial:{opacity:0,y:-2},animate:{opacity:1,y:0},transition:{duration:.2},className:"relative z-10 flex items-center gap-2",children:t})}));Pa.displayName=jne.displayName;const Ia=E.forwardRef(({className:e,children:t,animationKey:r,...n},s)=>c.jsx(Nne,{ref:s,className:_e("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","min-h-[200px]",e),...n,children:c.jsx(zg,{mode:"wait",children:c.jsx(Zr.div,{initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.3,ease:[.4,0,.2,1]},className:"transform-gpu",children:t},r||n.value)})}));Ia.displayName=Nne.displayName;function MDe(){const{toast:e}=Br(),[t,r]=E.useState("overview"),[n,s]=E.useState(null),[i,a]=E.useState("size"),[o,u]=E.useState(""),[l,d]=E.useState("active"),h=async ce=>{let we=(localStorage.getItem("accessToken")||localStorage.getItem("token"))?.trim()||"";we.startsWith('"')&&we.endsWith('"')&&(we=we.slice(1,-1));const Te=await fetch(ce,{headers:{Authorization:`Bearer ${we}`,"x-auth-token":we,"x-access-token":we}});if(!Te.ok){const Ae=await Te.json().catch(()=>({}));throw new Error(Ae.message||"   ")}return Te.json()},{data:f,isLoading:p}=nt({queryKey:he.dbConnections,queryFn:()=>h("/api/db/connections")}),g=l!=="active"?`/api/db/overview?source=${l}`:"/api/db/overview",{data:y,isLoading:m,refetch:v,error:b}=nt({queryKey:[g],queryFn:()=>h(g),retry:!1}),x=l!=="active"?`/api/db/tables?source=${l}`:"/api/db/tables",{data:k,isLoading:T,refetch:O,error:F}=nt({queryKey:[x],queryFn:()=>h(x),retry:!1}),A=l!=="active"?`/api/db/performance?source=${l}`:"/api/db/performance",{data:P,isLoading:D,refetch:V}=nt({queryKey:[A],queryFn:()=>h(A),retry:!1}),B=l!=="active"?`/api/db/integrity?source=${l}`:"/api/db/integrity",{data:C,isLoading:I,refetch:N}=nt({queryKey:[B],queryFn:()=>h(B),retry:!1}),w=b||F,[_,S]=E.useState("local"),[j,R]=E.useState("supabase"),$=`/api/db/compare?source1=${_}&source2=${j}`,{data:U,isLoading:q,refetch:H}=nt({queryKey:[$],queryFn:()=>h($),enabled:t==="compare"&&!!_&&!!j}),{data:Y}=nt({queryKey:he.dbStats,queryFn:()=>h("/api/stats")}),M=ht({mutationFn:async({action:ce,tableName:ge})=>(await Ie("POST","/api/db/maintenance",{action:ce,tableName:ge})).json(),onSuccess:ce=>{const ge=ce?.data;e({title:ge?.success?"  ":" ",description:ge?.message||" ",variant:ge?.success?"default":"destructive"}),K()},onError:ce=>{e({title:"",description:ce.message,variant:"destructive"})}}),K=()=>{v(),O(),V(),N()},z=Array.isArray(f)?f:f?.data||[],L=y&&typeof y=="object"&&!Array.isArray(y)?y:null,W=Array.isArray(k)?k:k?.data||[],J=P&&typeof P=="object"&&!Array.isArray(P)?P:null,le=C&&typeof C=="object"&&!Array.isArray(C)?C:null,ne=Y&&typeof Y=="object"?Y:null,ue=U&&typeof U=="object"&&!Array.isArray(U)?U:null,G=W.filter(ce=>ce.name.toLowerCase().includes(o.toLowerCase())).sort((ce,ge)=>i==="size"?ge.totalSizeBytes-ce.totalSizeBytes:i==="rows"?ge.rowCount-ce.rowCount:ce.name.localeCompare(ge.name)),te=W.reduce((ce,ge)=>ce+ge.rowCount,0),X=W.reduce((ce,ge)=>ce+ge.totalSizeBytes,0),ae=le?.score??0,re=ue?.alerts?.length||0,ee=ue?.alerts?.filter(ce=>ce.severity==="critical")?.length||0,Z=E.useMemo(()=>[{items:[{key:"connections",label:"",value:z.filter(ce=>ce.connected).length+"/"+z.length,icon:wd,color:z.filter(ce=>ce.connected).length===z.length?"emerald":"amber"},{key:"tables",label:"",value:m?0:L?.totalTables||0,icon:A4,color:"blue"},{key:"records",label:"",value:m?0:L?.totalRows||te,icon:qi,color:"green"},{key:"size",label:"",value:m?"0 B":L?.size||"0 B",icon:Eg,color:"purple"},{key:"integrity",label:"",value:I?"...":`${ae}%`,icon:Dl,color:ae>=90?"emerald":ae>=75?"amber":"red"}],columns:5,gap:"md"}],[L,m,ae,I,te,z]),Q=[{key:"db-refresh",icon:ms,label:"",onClick:K,variant:"outline",loading:m}],ie=[{key:"sort",label:"",type:"select",options:[{value:"size",label:""},{value:"rows",label:""},{value:"name",label:""}],defaultValue:"size"}];return c.jsxs("div",{className:"space-y-4",dir:"rtl",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c.jsxs(Rn,{value:l,onValueChange:d,"data-testid":"select-db-source",children:[c.jsx(wn,{className:"w-[220px]","data-testid":"trigger-db-source",children:c.jsxs("div",{className:"flex items-center gap-2",children:[l==="active"&&c.jsx(VB,{className:"h-3.5 w-3.5 text-blue-500"}),l==="local"&&c.jsx(G8,{className:"h-3.5 w-3.5 text-emerald-500"}),l==="supabase"&&c.jsx(W8,{className:"h-3.5 w-3.5 text-violet-500"}),c.jsx(On,{placeholder:"  "})]})}),c.jsxs(_n,{children:[c.jsx(vt,{value:"active",children:" ()"}),z.map(ce=>c.jsx(vt,{value:ce.id,children:c.jsxs("div",{className:"flex items-center gap-2",children:[ce.connected?c.jsx(wd,{className:"h-3 w-3 text-emerald-500"}):c.jsx(Hf,{className:"h-3 w-3 text-red-500"}),ce.label]})},ce.id))]})]}),c.jsxs("div",{className:"flex items-center gap-2 mr-auto",children:[z.map(ce=>c.jsxs(ut,{variant:ce.connected?"default":"destructive",className:"text-[11px]","data-testid":`badge-conn-${ce.id}`,children:[ce.connected?c.jsx(wd,{className:"h-3 w-3 ml-1"}):c.jsx(Hf,{className:"h-3 w-3 ml-1"}),ce.id==="local"?"":"",ce.connected&&ce.tables>0&&` (${ce.tables})`]},ce.id)),re>0&&c.jsxs(ut,{variant:"destructive",className:"text-[11px] cursor-pointer",onClick:()=>r("compare"),"data-testid":"badge-alerts-count",children:[c.jsx(ra,{className:"h-3 w-3 ml-1"}),ee>0?`${ee}  `:`${re} `]})]})]}),c.jsx(Qa,{hideHeader:!0,statsRows:Z,searchValue:o,onSearchChange:u,searchPlaceholder:"  ...",showSearch:t==="tables",actions:Q,onRefresh:K,isRefreshing:m,filters:t==="tables"?ie:[],filterValues:{sort:i},onFilterChange:(ce,ge)=>{ce==="sort"&&a(ge)},onReset:()=>{u(""),a("size")},resultsSummary:t==="tables"&&W.length>0?{totalCount:W.length,filteredCount:G.length,totalLabel:"",filteredLabel:"",totalValue:YR(X),totalValueLabel:" ",unit:"",categoryBreakdown:[{label:"",value:te,unit:""},{label:"",value:0,unit:YR(X)}],showBreakdown:!0}:void 0}),w&&l!=="active"&&c.jsx(Pt,{children:c.jsx(Ft,{className:"py-6",children:c.jsxs("div",{className:"flex items-center gap-3 text-amber-600 dark:text-amber-400",children:[c.jsx(Hf,{className:"h-5 w-5 shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:"   "}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"   .        ."})]}),c.jsx(Se,{variant:"outline",size:"sm",className:"mr-auto shrink-0",onClick:()=>d("active"),"data-testid":"button-reset-source",children:" "})]})})}),c.jsxs(Tne,{value:t,onValueChange:r,className:"w-full",children:[c.jsxs(R5,{className:"w-full grid grid-cols-6 h-10","data-testid":"tabs-db-manager",children:[c.jsxs(Pa,{value:"overview",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-overview",children:[c.jsx($a,{className:"h-3.5 w-3.5 shrink-0"})," ",c.jsx("span",{className:"hidden sm:inline",children:" "}),c.jsx("span",{className:"sm:hidden",children:""})]}),c.jsxs(Pa,{value:"tables",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-tables",children:[c.jsx(A4,{className:"h-3.5 w-3.5 shrink-0"})," ",c.jsx("span",{children:""})]}),c.jsxs(Pa,{value:"compare",className:"gap-1 text-xs sm:text-sm relative","data-testid":"tab-compare",children:[c.jsx(tx,{className:"h-3.5 w-3.5 shrink-0"})," ",c.jsx("span",{className:"hidden sm:inline",children:""}),c.jsx("span",{className:"sm:hidden",children:""}),re>0&&c.jsx("span",{className:"absolute -top-1 -left-1 h-4 w-4 rounded-full bg-red-500 text-white text-[9px] flex items-center justify-center",children:re>9?"9+":re})]}),c.jsxs(Pa,{value:"integrity",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-integrity",children:[c.jsx(Dl,{className:"h-3.5 w-3.5 shrink-0"})," ",c.jsx("span",{className:"hidden sm:inline",children:""}),c.jsx("span",{className:"sm:hidden",children:""})]}),c.jsxs(Pa,{value:"performance",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-performance",children:[c.jsx(Bn,{className:"h-3.5 w-3.5 shrink-0"})," ",c.jsx("span",{children:""})]}),c.jsxs(Pa,{value:"maintenance",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-maintenance",children:[c.jsx(ia,{className:"h-3.5 w-3.5 shrink-0"})," ",c.jsx("span",{children:""})]})]}),c.jsxs(Ia,{value:"overview",className:"space-y-4 mt-4",children:[c.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[z.map(ce=>c.jsxs(Pt,{"data-testid":`card-connection-${ce.id}`,children:[c.jsx(Cn,{className:"pb-3",children:c.jsxs(zn,{className:"text-base flex items-center gap-2",children:[ce.id==="local"?c.jsx(G8,{className:"h-4 w-4"}):c.jsx(W8,{className:"h-4 w-4"}),ce.label,ce.connected?c.jsx(ut,{variant:"default",className:"mr-auto text-[10px]",children:""}):c.jsx(ut,{variant:"destructive",className:"mr-auto text-[10px]",children:" "})]})}),c.jsx(Ft,{children:ce.connected?c.jsxs("div",{className:"space-y-2",children:[c.jsx(fi,{label:" ",value:ce.dbName}),c.jsx(fi,{label:"",value:ce.version}),c.jsx(fi,{label:"",value:ce.size}),c.jsx(fi,{label:"",value:ce.tables}),c.jsx(fi,{label:"",value:ce.rows?.toLocaleString()}),ce.latency&&c.jsx(fi,{label:" ",value:ce.latency})]}):c.jsxs("div",{className:"flex flex-col items-center py-6 text-muted-foreground",children:[c.jsx(Hf,{className:"h-8 w-8 mb-2 opacity-40"}),c.jsx("p",{className:"text-sm",children:" "})]})})]},ce.id)),c.jsxs(Pt,{children:[c.jsx(Cn,{className:"pb-3",children:c.jsxs(zn,{className:"text-base flex items-center gap-2",children:[c.jsx(Od,{className:"h-4 w-4"})," "]})}),c.jsx(Ft,{className:"space-y-2",children:m?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx(Mr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):L?c.jsxs("div",{className:"space-y-2",children:[c.jsx(fi,{label:" ",value:L.name}),c.jsx(fi,{label:"",value:L.version}),c.jsx(fi,{label:"",value:L.size}),c.jsx(fi,{label:"",value:L.totalTables}),c.jsx(fi,{label:"",value:(L.totalRows||0).toLocaleString()}),c.jsx(fi,{label:"",value:L.totalIndexes}),c.jsx(fi,{label:" ",value:typeof L.uptime=="object"?`${L.uptime.days||0}  ${L.uptime.hours||0} `:L.uptime}),c.jsx(fi,{label:"",value:`${L.activeConnections} / ${L.maxConnections}`})]}):c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"  "})})]})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[c.jsxs(Pt,{children:[c.jsx(Cn,{className:"pb-3",children:c.jsxs(zn,{className:"text-base flex items-center gap-2",children:[c.jsx(Bn,{className:"h-4 w-4"})," "]})}),c.jsx(Ft,{className:"space-y-4",children:ne?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between gap-2 text-sm mb-1",children:[c.jsx("span",{className:"text-muted-foreground",children:""}),c.jsxs("span",{className:"font-medium",children:[ne.cpuUsage,"%"]})]}),c.jsx(wu,{value:ne.cpuUsage,className:"h-2"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between gap-2 text-sm mb-1",children:[c.jsx("span",{className:"text-muted-foreground",children:""}),c.jsxs("span",{className:"font-medium",children:[ne.memoryUsage,"%"]})]}),c.jsx(wu,{value:ne.memoryUsage,className:"h-2"})]}),ne.memoryDetails&&c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"bg-muted/50 rounded-lg p-2",children:[c.jsx("span",{className:"text-muted-foreground",children:"Heap"}),c.jsxs("p",{className:"font-medium",children:[ne.memoryDetails.heapUsed," MB"]})]}),c.jsxs("div",{className:"bg-muted/50 rounded-lg p-2",children:[c.jsx("span",{className:"text-muted-foreground",children:"RSS"}),c.jsxs("p",{className:"font-medium",children:[ne.memoryDetails.rss," MB"]})]})]}),c.jsx(fi,{label:" ",value:zDe(ne.uptime)})]}):c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx(Mr,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]}),J&&c.jsxs(Pt,{children:[c.jsx(Cn,{className:"pb-3",children:c.jsxs(zn,{className:"text-base flex items-center gap-2",children:[c.jsx(Vs,{className:"h-4 w-4"})," "]})}),c.jsx(Ft,{children:c.jsx(XR,{perf:J})})]})]})]}),c.jsx(Ia,{value:"tables",className:"space-y-4 mt-4",children:c.jsx(Pt,{children:c.jsx(Ft,{className:"p-0",children:T?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Mr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):c.jsxs(C5,{children:[c.jsx(A5,{children:c.jsxs(Wd,{children:[c.jsx(Oi,{className:"text-right",children:""}),c.jsx(Oi,{className:"text-center",children:""}),c.jsx(Oi,{className:"text-center",children:""}),c.jsx(Oi,{className:"text-center",children:""}),c.jsx(Oi,{className:"text-center",children:""}),c.jsx(Oi,{className:"text-center",children:""})]})}),c.jsx(P5,{children:G.length>0?G.map(ce=>c.jsx(FDe,{table:ce,source:l,expanded:n===ce.name,onToggle:()=>s(n===ce.name?null:ce.name),onMaintenance:ge=>M.mutate({action:ge,tableName:ce.name}),isMaintenanceLoading:M.isPending,fetchWithAuth:h},ce.name)):c.jsx(Wd,{children:c.jsxs(ti,{colSpan:6,className:"text-center py-12 text-muted-foreground",children:[c.jsx(So,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),o?"  ":"  "]})})})]})})})}),c.jsx(Ia,{value:"compare",className:"space-y-4 mt-4",children:c.jsx(DDe,{data:ue,loading:q,onRefresh:()=>H(),connections:z,source1:_,source2:j,onSource1Change:S,onSource2Change:R})}),c.jsx(Ia,{value:"integrity",className:"space-y-4 mt-4",children:c.jsxs(Pt,{children:[c.jsx(Cn,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[c.jsxs(zn,{className:"text-base flex items-center gap-2",children:[c.jsx(Dl,{className:"h-4 w-4"}),"  "]}),c.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>N(),"data-testid":"button-recheck-integrity",children:[c.jsx(ms,{className:`h-4 w-4 ml-1 ${I?"animate-spin":""}`})," "]})]})}),c.jsx(Ft,{children:I?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Mr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):le?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsxs("div",{className:`text-5xl font-bold ${ae>=90?"text-emerald-600 dark:text-emerald-400":ae>=75?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:[le.score,"%"]}),c.jsxs("div",{children:[c.jsx(ut,{variant:le.status==="excellent"?"default":le.status==="good"?"secondary":"destructive",children:le.status==="excellent"?"":le.status==="good"?"":le.status==="warning"?"":""}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" : ",new Date(le.timestamp).toLocaleString("ar-SA")]})]})]}),c.jsx("div",{className:"space-y-3",children:le.checks?.map((ce,ge)=>c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/30",children:[ce.status==="pass"?c.jsx(Xr,{className:"h-5 w-5 text-emerald-500 mt-0.5 shrink-0"}):ce.status==="warn"?c.jsx(ko,{className:"h-5 w-5 text-yellow-500 mt-0.5 shrink-0"}):c.jsx(ko,{className:"h-5 w-5 text-red-500 mt-0.5 shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:ce.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:ce.message})]})]},ge))})]}):c.jsx("p",{className:"text-muted-foreground text-center py-8",children:"  "})})]})}),c.jsx(Ia,{value:"performance",className:"space-y-4 mt-4",children:c.jsxs(Pt,{children:[c.jsxs(Cn,{className:"pb-3",children:[c.jsxs(zn,{className:"text-base flex items-center gap-2",children:[c.jsx(Bn,{className:"h-4 w-4"})," "]}),c.jsx(Yc,{children:"    PostgreSQL"})]}),c.jsx(Ft,{children:D?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Mr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):J?c.jsxs("div",{className:"space-y-4",children:[c.jsx(XR,{perf:J,extended:!0}),c.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[c.jsx("p",{className:"text-xs font-medium mb-2",children:" "}),c.jsxs("div",{className:"flex gap-4 flex-wrap text-xs",children:[c.jsxs("span",{children:["  : ",c.jsx("strong",{children:J.blocksRead?.toLocaleString()})]}),c.jsxs("span",{children:["  : ",c.jsx("strong",{children:J.blocksHit?.toLocaleString()})]})]})]})]}):c.jsx("p",{className:"text-muted-foreground text-center py-8",children:"  "})})]})}),c.jsx(Ia,{value:"maintenance",className:"space-y-4 mt-4",children:c.jsxs(Pt,{children:[c.jsxs(Cn,{className:"pb-3",children:[c.jsxs(zn,{className:"text-base flex items-center gap-2",children:[c.jsx(ia,{className:"h-4 w-4"}),"  "]}),c.jsx(Yc,{children:"  "})]}),c.jsx(Ft,{className:"space-y-4",children:c.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[c.jsx(oS,{title:" ",description:"    ",action:"vacuum",icon:c.jsx(ms,{className:"h-5 w-5"}),onRun:()=>M.mutate({action:"vacuum"}),isLoading:M.isPending}),c.jsx(oS,{title:" ",description:"  ",action:"analyze",icon:c.jsx($a,{className:"h-5 w-5"}),onRun:()=>M.mutate({action:"analyze"}),isLoading:M.isPending}),c.jsx(oS,{title:"  ",description:"    ",action:"reindex",icon:c.jsx(bp,{className:"h-5 w-5"}),onRun:()=>M.mutate({action:"reindex"}),isLoading:M.isPending})]})})]})})]})]})}function DDe({data:e,loading:t,onRefresh:r,connections:n,source1:s,source2:i,onSource1Change:a,onSource2Change:o}){const u=n.filter(d=>d.connected),l=!s||!i;return c.jsxs("div",{className:"space-y-4",children:[c.jsxs(Pt,{children:[c.jsx(Cn,{className:"pb-3",children:c.jsxs(zn,{className:"text-base flex items-center gap-2",children:[c.jsx(tx,{className:"h-4 w-4"}),"  "]})}),c.jsxs(Ft,{children:[c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c.jsxs("div",{className:"flex-1 min-w-[150px]",children:[c.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:" "}),c.jsxs(Rn,{value:s,onValueChange:a,"data-testid":"select-compare-source1",children:[c.jsx(wn,{"data-testid":"select-trigger-source1",children:c.jsx(On,{placeholder:"  "})}),c.jsx(_n,{children:u.map(d=>c.jsxs(vt,{value:d.id,disabled:d.id===i,children:[d.label," (",d.dbName||d.id,")"]},d.id))})]})]}),c.jsx(Xc,{className:"h-5 w-5 text-muted-foreground mt-4 shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-[150px]",children:[c.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:" "}),c.jsxs(Rn,{value:i,onValueChange:o,"data-testid":"select-compare-source2",children:[c.jsx(wn,{"data-testid":"select-trigger-source2",children:c.jsx(On,{placeholder:"  "})}),c.jsx(_n,{children:u.map(d=>c.jsxs(vt,{value:d.id,disabled:d.id===s,children:[d.label," (",d.dbName||d.id,")"]},d.id))})]})]}),c.jsxs(Se,{variant:"default",size:"default",onClick:r,disabled:l||t,className:"mt-4","data-testid":"button-run-compare",children:[t?c.jsx(Mr,{className:"h-4 w-4 animate-spin ml-1"}):c.jsx(tx,{className:"h-4 w-4 ml-1"}),""]})]}),u.length<2&&c.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2",children:"        "})]})]}),t&&c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Mr,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-3"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"   ..."})]})}),!t&&l&&c.jsx(Pt,{children:c.jsxs(Ft,{className:"py-12 text-center",children:[c.jsx(Xc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-30"}),c.jsx("p",{className:"text-lg font-medium mb-2",children:" "}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"         "})]})}),!t&&!l&&!e&&c.jsx(Pt,{children:c.jsxs(Ft,{className:"py-12 text-center",children:[c.jsx(Xc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-30"}),c.jsx("p",{className:"text-lg font-medium mb-2",children:" "}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"       "}),c.jsxs(Se,{variant:"outline",onClick:r,"data-testid":"button-retry-compare",children:[c.jsx(ms,{className:"h-4 w-4 ml-1"})," "]})]})}),!t&&e&&c.jsx($De,{data:e,onRefresh:r})]})}function $De({data:e,onRefresh:t}){const r=e.source1Name||" ",n=e.source2Name||" ",s=(e.tablesWithDiffRows||0)+(e.tablesWithDiffStructure||0)+(e.onlySource1Tables||0)+(e.onlySource2Tables||0);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tx,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("span",{className:"text-sm font-medium",children:[r," ",c.jsx(Xc,{className:"h-3 w-3 inline mx-1"})," ",n]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:[" : ",new Date(e.timestamp).toLocaleString("ar-SA")]}),c.jsxs(Se,{variant:"outline",size:"sm",onClick:t,"data-testid":"button-refresh-compare",children:[c.jsx(ms,{className:"h-3.5 w-3.5 ml-1"}),""]})]})]}),c.jsxs("div",{className:"grid gap-3 grid-cols-2 md:grid-cols-5",children:[c.jsx(mm,{label:"",value:e.matchingTables,color:"emerald"}),c.jsx(mm,{label:" ",value:e.tablesWithDiffRows,color:e.tablesWithDiffRows>0?"amber":"emerald"}),c.jsx(mm,{label:" ",value:e.tablesWithDiffStructure,color:e.tablesWithDiffStructure>0?"red":"emerald"}),c.jsx(mm,{label:`${r} `,value:e.onlySource1Tables||0,color:(e.onlySource1Tables||0)>0?"amber":"emerald"}),c.jsx(mm,{label:`${n} `,value:e.onlySource2Tables||0,color:(e.onlySource2Tables||0)>0?"amber":"emerald"})]}),e.alerts?.length>0&&c.jsxs(Pt,{children:[c.jsx(Cn,{className:"pb-2",children:c.jsxs(zn,{className:"text-base flex items-center gap-2",children:[c.jsx(ra,{className:"h-4 w-4"})," (",e.alerts.length,")"]})}),c.jsx(Ft,{className:"space-y-2",children:e.alerts.map((i,a)=>c.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${i.severity==="critical"?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50":i.severity==="warning"?"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800/50":"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50"}`,"data-testid":`alert-${i.type}-${a}`,children:[i.severity==="critical"?c.jsx(ko,{className:"h-4 w-4 text-red-500 mt-0.5 shrink-0"}):i.severity==="warning"?c.jsx(ko,{className:"h-4 w-4 text-amber-500 mt-0.5 shrink-0"}):c.jsx(VB,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx(ut,{variant:i.severity==="critical"?"destructive":i.severity==="warning"?"secondary":"outline",className:"text-[10px]",children:i.severity==="critical"?"":i.severity==="warning"?"":""}),c.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:i.table})]}),c.jsx("p",{className:"text-sm mt-1",children:i.message})]})]},a))})]}),c.jsxs(Pt,{children:[c.jsx(Cn,{className:"pb-2",children:c.jsxs(zn,{className:"text-base flex items-center gap-2",children:[c.jsx(A4,{className:"h-4 w-4"}),"  (",e.tables?.length||0,")"]})}),c.jsx(Ft,{className:"p-0",children:c.jsxs(C5,{children:[c.jsx(A5,{children:c.jsxs(Wd,{children:[c.jsx(Oi,{className:"text-right",children:""}),c.jsx(Oi,{className:"text-center",children:""}),c.jsxs(Oi,{className:"text-center",children:[r," ()"]}),c.jsxs(Oi,{className:"text-center",children:[n," ()"]}),c.jsx(Oi,{className:"text-center",children:""}),c.jsxs(Oi,{className:"text-center",children:[r," ()"]}),c.jsxs(Oi,{className:"text-center",children:[n," ()"]})]})}),c.jsx(P5,{children:e.tables?.map(i=>c.jsxs(Wd,{className:i.status==="diff_structure"?"bg-red-50/50 dark:bg-red-900/10":i.status==="only_source1"||i.status==="only_source2"?"bg-amber-50/50 dark:bg-amber-900/10":i.status==="diff_rows"?"bg-yellow-50/50 dark:bg-yellow-900/10":"","data-testid":`compare-row-${i.name}`,children:[c.jsx(ti,{className:"font-mono text-xs",children:i.name}),c.jsx(ti,{className:"text-center",children:c.jsx(LDe,{status:i.status,s1Name:r,s2Name:n})}),c.jsx(ti,{className:"text-center font-mono text-xs",children:i.source1Rows!==null&&i.source1Rows!==void 0?i.source1Rows.toLocaleString():c.jsx("span",{className:"text-muted-foreground",children:"-"})}),c.jsx(ti,{className:"text-center font-mono text-xs",children:i.source2Rows!==null&&i.source2Rows!==void 0?i.source2Rows.toLocaleString():c.jsx("span",{className:"text-muted-foreground",children:"-"})}),c.jsx(ti,{className:"text-center",children:i.rowDiff>0?c.jsxs("span",{className:"text-xs font-bold text-amber-600 dark:text-amber-400",children:["+",i.rowDiff.toLocaleString()]}):c.jsx(Xr,{className:"h-4 w-4 text-emerald-500 mx-auto"})}),c.jsx(ti,{className:"text-center text-xs",children:i.source1Size||"-"}),c.jsx(ti,{className:"text-center text-xs",children:i.source2Size||"-"})]},i.name))})]})})]}),s===0&&e.tables?.length>0&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Xr,{className:"h-12 w-12 text-emerald-500 mx-auto mb-3"}),c.jsx("p",{className:"text-lg font-medium text-emerald-600 dark:text-emerald-400",children:"   "}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"     "})]})]})}function mm({label:e,value:t,color:r}){const n=Ene(r);return c.jsxs("div",{className:`rounded-xl border p-3 ${n.bg} ${n.border}`,children:[c.jsx("p",{className:"text-[11px] text-muted-foreground",children:e}),c.jsx("p",{className:`text-2xl font-bold ${n.text}`,children:t})]})}function LDe({status:e}){switch(e){case"match":return c.jsx(ut,{variant:"default",className:"text-[10px] bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300",children:""});case"diff_rows":return c.jsx(ut,{variant:"secondary",className:"text-[10px] bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300",children:" "});case"diff_structure":return c.jsx(ut,{variant:"destructive",className:"text-[10px]",children:" "});case"only_source1":return c.jsx(ut,{variant:"outline",className:"text-[10px] border-blue-200 text-blue-600 uppercase",children:"  "});case"only_source2":return c.jsx(ut,{variant:"outline",className:"text-[10px] border-violet-200 text-violet-600 uppercase",children:"  "});default:return c.jsx(ut,{variant:"outline",className:"text-[10px]",children:e})}}function fi({label:e,value:t}){return c.jsxs("div",{className:"flex justify-between items-center gap-2 py-1.5 border-b border-muted/50 last:border-0",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:e}),c.jsx("span",{className:"text-sm font-medium",children:t})]})}function XR({perf:e,extended:t}){const r=E.useMemo(()=>{const n=[{key:"cache",label:"  ",value:`${e.cacheHitRatio}%`,icon:Vs,color:e.cacheHitRatio>95?"emerald":e.cacheHitRatio>80?"amber":"red"},{key:"committed",label:" ",value:e.transactionsCommitted?.toLocaleString()||"0",icon:Xr,color:"green"},{key:"rolledback",label:"",value:e.transactionsRolledBack?.toLocaleString()||"0",icon:ko,color:e.transactionsRolledBack>10?"red":"emerald"},{key:"dead",label:" ",value:e.deadTuples?.toLocaleString()||"0",icon:qi,color:e.deadTuples>1e3?"red":"emerald"}];return t&&(n.splice(1,0,{key:"avgquery",label:"  ",value:e.avgQueryTime>0?`${e.avgQueryTime} ms`:" ",icon:Bn,color:"blue"}),n.push({key:"live",label:" ",value:e.liveTuples?.toLocaleString()||"0",icon:qi,color:"blue"})),[{items:n,columns:t?6:4,gap:"md"}]},[e,t]);return c.jsx("div",{children:r.map((n,s)=>c.jsx("div",{className:`grid gap-3 ${t?"grid-cols-2 md:grid-cols-3 lg:grid-cols-6":"grid-cols-2 md:grid-cols-4"}`,children:n.items.map(i=>{const a=Ene(i.color);return c.jsxs("div",{className:`rounded-xl border p-3 ${a.bg} ${a.border}`,children:[c.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[c.jsx(i.icon,{className:`h-3.5 w-3.5 ${a.icon}`}),c.jsx("span",{className:"text-[11px] font-medium text-muted-foreground",children:i.label})]}),c.jsx("p",{className:`text-lg font-bold ${a.text}`,children:i.value})]},i.key)})},s))})}function Ene(e){const t={emerald:{bg:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/20",border:"border-emerald-100 dark:border-emerald-800/50",text:"text-emerald-600 dark:text-emerald-400",icon:"text-emerald-500"},blue:{bg:"bg-gradient-to-br from-blue-50 to-sky-50 dark:from-blue-900/30 dark:to-sky-900/20",border:"border-blue-100 dark:border-blue-800/50",text:"text-blue-600 dark:text-blue-400",icon:"text-blue-500"},amber:{bg:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/30 dark:to-amber-900/20",border:"border-amber-100 dark:border-amber-800/50",text:"text-amber-600 dark:text-amber-400",icon:"text-amber-500"},red:{bg:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/20",border:"border-red-100 dark:border-red-800/50",text:"text-red-600 dark:text-red-400",icon:"text-red-500"},green:{bg:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/20",border:"border-green-100 dark:border-green-800/50",text:"text-green-600 dark:text-green-400",icon:"text-green-500"},purple:{bg:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/20",border:"border-purple-100 dark:border-purple-800/50",text:"text-purple-600 dark:text-purple-400",icon:"text-purple-500"}};return t[e]||t.blue}function FDe({table:e,source:t,expanded:r,onToggle:n,onMaintenance:s,isMaintenanceLoading:i}){const[a,o]=E.useState(null),[u,l]=E.useState(!1),d=async()=>{if(a){n();return}l(!0);try{const h=t!=="active"?`?source=${t}`:"",f=await fetchWithAuth(`/api/db/tables/${e.name}${h}`);o(f?.data)}catch(h){console.error("Error loading table details:",h)}l(!1),n()};return c.jsxs(c.Fragment,{children:[c.jsxs(Wd,{className:"hover-elevate cursor-pointer",onClick:d,"data-testid":`row-table-${e.name}`,children:[c.jsx(ti,{className:"font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fs,{className:"h-4 w-4 text-muted-foreground shrink-0"}),c.jsx("span",{className:"font-mono text-xs",children:e.name})]})}),c.jsx(ti,{className:"text-center font-mono",children:e.rowCount.toLocaleString()}),c.jsx(ti,{className:"text-center text-xs",children:e.totalSize}),c.jsx(ti,{className:"text-center",children:e.columns}),c.jsx(ti,{className:"text-center",children:e.indexes}),c.jsx(ti,{className:"text-center",children:u?c.jsx(Mr,{className:"h-4 w-4 animate-spin mx-auto"}):r?c.jsx(_o,{className:"h-4 w-4 mx-auto"}):c.jsx(yn,{className:"h-4 w-4 mx-auto"})})]}),r&&a&&c.jsx(Wd,{children:c.jsx(ti,{colSpan:6,className:"bg-muted/20 p-4",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:[" (",a.columns?.length||0,")"]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-1",children:a.columns?.map((h,f)=>c.jsxs("div",{className:"flex items-center gap-1.5 text-xs p-1 rounded bg-background",children:[c.jsx(tve,{className:"h-3 w-3 text-muted-foreground shrink-0"}),c.jsx("span",{className:"font-mono",children:h.column_name}),c.jsx(ut,{variant:"secondary",className:"text-[10px] px-1 py-0",children:h.data_type}),h.is_nullable==="NO"&&c.jsx(ut,{variant:"outline",className:"text-[10px] px-1 py-0",children:""})]},f))})]}),a.indexes?.length>0&&c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:[" (",a.indexes.length,")"]}),c.jsx("div",{className:"space-y-1",children:a.indexes.map((h,f)=>c.jsx("p",{className:"text-xs font-mono text-muted-foreground bg-background p-1 rounded",children:h.indexname},f))})]}),c.jsxs("div",{className:"flex gap-2 pt-2 flex-wrap",children:[c.jsx(Se,{size:"sm",variant:"outline",onClick:h=>{h.stopPropagation(),s("vacuum")},disabled:i,"data-testid":`button-vacuum-${e.name}`,children:""}),c.jsx(Se,{size:"sm",variant:"outline",onClick:h=>{h.stopPropagation(),s("analyze")},disabled:i,"data-testid":`button-analyze-${e.name}`,children:""})]})]})})})]})}function oS({title:e,description:t,action:r,icon:n,onRun:s,isLoading:i}){return c.jsx(Pt,{children:c.jsxs(Ft,{className:"p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-muted-foreground",children:n}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:e}),c.jsx("p",{className:"text-xs text-muted-foreground",children:t})]})]}),c.jsxs(Se,{variant:"outline",size:"sm",className:"w-full",onClick:s,disabled:i,"data-testid":`button-maintenance-${r}`,children:[i?c.jsx(Mr,{className:"h-4 w-4 animate-spin ml-1"}):null,""]})]})})}function YR(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]}function zDe(e){const t=Math.floor(e/86400),r=Math.floor(e%86400/3600),n=Math.floor(e%3600/60);return t>0?`${t}  ${r} `:r>0?`${r}  ${n} `:`${n} `}function Cne(e){const{title:t,message:r,variant:n="default",duration:s=5e3,action:i}=e,o=(l=>{switch(l){case"success":return"";case"destructive":return"";case"warning":return"";default:return""}})(n),u=t?`${o} ${t}`:`${o} `;return b3({title:u,description:r,variant:n,duration:s,action:i?{altText:i.label,onClick:i.onClick,children:i.label}:void 0})}function lS(e,t){return Cne({title:"",message:e,variant:"success"})}function gc(e,t){return Cne({title:"",message:e,variant:"destructive"})}const BDe={safety:ko,task:Ha,payroll:bve,announcement:Uh,system:ra},QR={safety:"text-red-600 bg-gradient-to-r from-red-50 to-red-100",task:"text-blue-600 bg-gradient-to-r from-blue-50 to-blue-100",payroll:"text-green-600 bg-gradient-to-r from-green-50 to-green-100",announcement:"text-purple-600 bg-gradient-to-r from-purple-50 to-purple-100",system:"text-gray-600 bg-gradient-to-r from-gray-50 to-gray-100"},JR={1:{label:"",color:"bg-gradient-to-r from-red-500 to-red-600"},2:{label:"",color:"bg-gradient-to-r from-orange-500 to-orange-600"},3:{label:"",color:"bg-gradient-to-r from-yellow-500 to-yellow-600"},4:{label:"",color:"bg-gradient-to-r from-blue-500 to-blue-600"},5:{label:"",color:"bg-gradient-to-r from-gray-500 to-gray-600"}};function UDe({className:e}){const[t,r]=E.useState([]),[n,s]=E.useState(0),[i,a]=E.useState(!1),[o,u]=E.useState(!1),[,l]=gs(),d=async()=>{u(!0);try{const y=localStorage.getItem("accessToken");if(!y){console.warn("    -   "),u(!1);return}const m=await fetch("/api/notifications?limit=50",{headers:{Authorization:`Bearer ${y}`}});if(m.ok){const v=await m.json();console.log(" [NotificationCenter]  API:",v);const b=Array.isArray(v.data)?v.data:Array.isArray(v.notifications)?v.notifications:Array.isArray(v)?v:[],x=typeof v.unreadCount=="number"?v.unreadCount:Array.isArray(b)?b.filter(k=>k.status!=="read").length:0;if(Array.isArray(b)){const k=b.map(T=>({id:T.id,type:T.type||"system",title:T.title,message:T.message||T.body,priority:T.priority==="critical"||T.priority===5||T.priority===1?1:T.priority==="high"||T.priority===4||T.priority===2?2:T.priority==="medium"||T.priority===3?3:T.priority==="low"||T.priority===2||T.priority===4?4:5,createdAt:T.createdAt,isRead:T.status==="read"||T.isRead===!0,actionRequired:T.actionRequired||!1}));r(k),s(x),console.log(" [NotificationCenter]    :",k.length)}}else console.error("   "),r([{id:"system-welcome",type:"system",title:" ",message:"    AXION SYSTEM",priority:3,createdAt:new Date().toISOString(),isRead:!1}]),s(1)}catch(y){console.error("   :",y)}finally{u(!1)}},h=async y=>{try{const m=localStorage.getItem("accessToken");if(!m){console.warn("    -     "),gc("       .");return}(await fetch(`/api/notifications/${y}/read`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}})).ok?(r(b=>b.map(x=>x.id===y?{...x,isRead:!0}:x)),s(b=>Math.max(0,b-1)),lS("   .")):gc("    .")}catch(m){console.error("    :",m),gc("     .")}},f=async()=>{try{const y=localStorage.getItem("accessToken");if(!y)return;(await fetch("/api/notifications/bulk-delete-suspicious",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}})).ok?(await d(),lS("     .")):gc("    .")}catch(y){console.error("   :",y),gc("   .")}},p=async()=>{try{const y=localStorage.getItem("accessToken");if(!y){console.warn("    -     "),gc("        .");return}(await fetch("/api/notifications/mark-all-read",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}})).ok?(await d(),lS("    .")):gc("     .")}catch(y){console.error("     :",y),gc("      .")}};E.useEffect(()=>{d();const y=setInterval(d,3e4);return()=>clearInterval(y)},[]);const g=y=>{const m=new Date(y),b=(new Date().getTime()-m.getTime())/(1e3*60*60);return b<1?` ${Math.floor(b*60)} `:b<24?` ${Math.floor(b)} `:` ${Math.floor(b/24)} `};return c.jsxs(qw,{open:i,onOpenChange:a,children:[c.jsx(Hw,{asChild:!0,children:c.jsxs(Se,{variant:"outline",size:"icon",className:_e("relative h-9 w-9 rounded-xl transition-all duration-300 border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50 dark:hover:bg-slate-800",e),"data-testid":"notification-bell",children:[c.jsx(ra,{className:_e("h-4 w-4 transition-all duration-300",n>0?"text-primary":"text-slate-600 dark:text-slate-400")}),n>0&&c.jsx(ut,{className:"absolute -top-1.5 -right-1.5 h-4 w-4 rounded-full p-0 text-[10px] flex items-center justify-center font-bold bg-red-500 text-white border-white dark:border-slate-900 border-2 shadow-sm z-10","data-testid":"notification-badge",children:n>99?"99+":n})]})}),c.jsxs(fy,{className:"w-80 sm:w-96 p-0 border-0 shadow-2xl rounded-2xl bg-white dark:bg-slate-900",align:"end","data-testid":"notification-popover",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:c.jsx(ra,{className:"h-4 w-4"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-base",children:""}),c.jsx("p",{className:"text-xs text-blue-100",children:n>0?`${n}  `:"  "})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsxs(Se,{variant:"ghost",size:"sm",className:"text-xs h-8 text-white hover:bg-white/20 rounded-lg",onClick:()=>l("/settings?tab=notifications"),title:" ",children:[c.jsx(bp,{className:"h-3 w-3 mr-1"}),""]}),c.jsxs(Se,{variant:"ghost",size:"sm",className:"text-xs h-8 text-white hover:bg-white/20 rounded-lg",onClick:async()=>{confirm("      ")&&await f()},title:"  /",children:[c.jsx(Vs,{className:"h-3 w-3 mr-1"}),""]}),n>0&&c.jsxs(Se,{variant:"ghost",size:"sm",className:"text-xs h-8 text-white hover:bg-white/20 rounded-lg",onClick:p,"data-testid":"mark-all-read-button",children:[c.jsx(Ha,{className:"h-3 w-3 mr-1"})," "]}),c.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-white hover:bg-white/20 rounded-lg",onClick:()=>a(!1),"data-testid":"close-notification-button",children:c.jsx(fs,{className:"h-4 w-4"})})]})]})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:o?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),c.jsx("div",{className:"text-sm text-gray-500",children:" ..."})]}):t.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center",children:c.jsx(ra,{className:"h-8 w-8 text-gray-400"})}),c.jsx("div",{className:"text-sm font-medium text-gray-600",children:"  "}),c.jsx("div",{className:"text-xs text-gray-400",children:"   "})]}):c.jsx("div",{className:"p-2",children:t.map((y,m)=>{const v=BDe[y.type]||ra,b=QR[y.type]||QR.system,x=JR[y.priority]||JR[3];return c.jsx("div",{className:_e("group p-3 last:mb-0 rounded-xl cursor-pointer transition-all duration-300 border",y.isRead?"bg-white border-gray-100 hover:bg-gray-50 hover:border-gray-200":"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 hover:from-blue-100 hover:to-indigo-100 shadow-sm hover:shadow-md"),onClick:()=>!y.isRead&&h(y.id),"data-testid":`notification-item-${m}`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:_e("w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm transition-all duration-300 group-hover:scale-105",b),children:c.jsx(v,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsx("h4",{className:_e("text-sm leading-tight",y.isRead?"font-medium text-gray-700":"font-bold text-gray-900"),children:y.title}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!y.isRead&&c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),c.jsx(ut,{className:_e("text-xs px-2 py-0.5 text-white font-medium",x.color),children:x.label})]})]}),c.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 leading-relaxed",children:y.message}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[c.jsx(bn,{className:"h-3 w-3"}),c.jsx("span",{children:g(y.createdAt)})]}),y.actionRequired&&c.jsxs(ut,{variant:"outline",className:"text-xs bg-orange-50 text-orange-600 border-orange-200",children:[c.jsx(Vs,{className:"h-3 w-3 mr-1"})," "]})]})]})]})},y.id)})})}),t.length>0&&c.jsx(c.Fragment,{children:c.jsx("div",{className:"border-t border-gray-100 p-3",children:c.jsxs(Se,{variant:"ghost",className:"w-full text-sm font-medium bg-gradient-to-r from-gray-50 to-gray-100 hover:from-blue-50 hover:to-indigo-50 border border-gray-200 hover:border-blue-200 transition-all duration-300 rounded-xl h-10",onClick:()=>{a(!1),l("/notifications")},"data-testid":"view-all-notifications-button",children:[c.jsx(tf,{className:"h-4 w-4 mr-2"}),"  "]})})})]})]})}const VDe=()=>{};var eO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ane=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},WDe=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[r++];t[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[r++],a=e[r++],o=e[r++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(u>>10)),t[n++]=String.fromCharCode(56320+(u&1023))}else{const i=e[r++],a=e[r++];t[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},Pne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<e.length;s+=3){const i=e[s],a=s+1<e.length,o=a?e[s+1]:0,u=s+2<e.length,l=u?e[s+2]:0,d=i>>2,h=(i&3)<<4|o>>4;let f=(o&15)<<2|l>>6,p=l&63;u||(p=64,a||(f=64)),n.push(r[d],r[h],r[f],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ane(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):WDe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<e.length;){const i=r[e.charAt(s++)],o=s<e.length?r[e.charAt(s)]:0;++s;const l=s<e.length?r[e.charAt(s)]:64;++s;const h=s<e.length?r[e.charAt(s)]:64;if(++s,i==null||o==null||l==null||h==null)throw new qDe;const f=i<<2|o>>4;if(n.push(f),l!==64){const p=o<<4&240|l>>2;if(n.push(p),h!==64){const g=l<<6&192|h;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class qDe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HDe=function(e){const t=Ane(e);return Pne.encodeByteArray(t,!0)},Ine=function(e){return HDe(e).replace(/\./g,"")},KDe=function(e){try{return Pne.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GDe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZDe=()=>GDe().__FIREBASE_DEFAULTS__,XDe=()=>{if(typeof process>"u"||typeof eO>"u")return;const e=eO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},YDe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&KDe(e[1]);return t&&JSON.parse(t)},QDe=()=>{try{return VDe()||ZDe()||XDe()||YDe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Rne=()=>QDe()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JDe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}function One(){try{return typeof indexedDB=="object"}catch{return!1}}function Mne(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(r){t(r)}})}function e7e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7e="FirebaseError";class Fp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=t7e,Object.setPrototypeOf(this,Fp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l_.prototype.create)}}class l_{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?r7e(i,n):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Fp(s,o,n)}}function r7e(e,t){return e.replace(n7e,(r,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const n7e=/\{\$([^}]+)}/g;function Ij(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const s of r){if(!n.includes(s))return!1;const i=e[s],a=t[s];if(tO(i)&&tO(a)){if(!Ij(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function tO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(e){return e&&e._delegate?e._delegate:e}class _u{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7e{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new JDe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),n=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(a7e(t))try{this.getOrInitializeService({instanceIdentifier:qu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(t=qu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qu){return this.instances.has(t)}getOptions(t=qu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&a.resolve(s)}return s}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),s=this.onInitCallbacks.get(n)??new Set;s.add(t),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&t(i,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:i7e(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=qu){return this.component?this.component.multipleInstances?t:qu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i7e(e){return e===qu?void 0:e}function a7e(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7e{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new s7e(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(un||(un={}));const l7e={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},c7e=un.INFO,u7e={[un.DEBUG]:"log",[un.VERBOSE]:"log",[un.INFO]:"info",[un.WARN]:"warn",[un.ERROR]:"error"},d7e=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),s=u7e[t];if(s)console[s](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class f7e{constructor(t){this.name=t,this._logLevel=c7e,this._logHandler=d7e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in un))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?l7e[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,un.DEBUG,...t),this._logHandler(this,un.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,un.VERBOSE,...t),this._logHandler(this,un.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,un.INFO,...t),this._logHandler(this,un.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,un.WARN,...t),this._logHandler(this,un.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,un.ERROR,...t),this._logHandler(this,un.ERROR,...t)}}const h7e=(e,t)=>t.some(r=>e instanceof r);let rO,nO;function p7e(){return rO||(rO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m7e(){return nO||(nO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dne=new WeakMap,Rj=new WeakMap,$ne=new WeakMap,cS=new WeakMap,M5=new WeakMap;function g7e(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{r(tu(e.result)),s()},a=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&Dne.set(r,e)}).catch(()=>{}),M5.set(t,e),t}function y7e(e){if(Rj.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Rj.set(e,t)}let Oj={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Rj.get(e);if(t==="objectStoreNames")return e.objectStoreNames||$ne.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return tu(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function b7e(e){Oj=e(Oj)}function v7e(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(uS(this),t,...r);return $ne.set(n,t.sort?t.sort():[t]),tu(n)}:m7e().includes(e)?function(...t){return e.apply(uS(this),t),tu(Dne.get(this))}:function(...t){return tu(e.apply(uS(this),t))}}function x7e(e){return typeof e=="function"?v7e(e):(e instanceof IDBTransaction&&y7e(e),h7e(e,p7e())?new Proxy(e,Oj):e)}function tu(e){if(e instanceof IDBRequest)return g7e(e);if(cS.has(e))return cS.get(e);const t=x7e(e);return t!==e&&(cS.set(e,t),M5.set(t,e)),t}const uS=e=>M5.get(e);function w7e(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=tu(a);return n&&a.addEventListener("upgradeneeded",u=>{n(tu(a.result),u.oldVersion,u.newVersion,tu(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),o.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const _7e=["get","getKey","getAll","getAllKeys","count"],S7e=["put","add","delete","clear"],dS=new Map;function sO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(dS.get(t))return dS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=S7e.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||_7e.includes(r)))return;const i=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let l=u.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),s&&u.done]))[0]};return dS.set(t,i),i}b7e(e=>({...e,get:(t,r,n)=>sO(t,r)||e.get(t,r,n),has:(t,r)=>!!sO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7e{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(j7e(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function j7e(e){return e.getComponent()?.type==="VERSION"}const Mj="@firebase/app",iO="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new f7e("@firebase/app"),N7e="@firebase/app-compat",T7e="@firebase/analytics-compat",E7e="@firebase/analytics",C7e="@firebase/app-check-compat",A7e="@firebase/app-check",P7e="@firebase/auth",I7e="@firebase/auth-compat",R7e="@firebase/database",O7e="@firebase/data-connect",M7e="@firebase/database-compat",D7e="@firebase/functions",$7e="@firebase/functions-compat",L7e="@firebase/installations",F7e="@firebase/installations-compat",z7e="@firebase/messaging",B7e="@firebase/messaging-compat",U7e="@firebase/performance",V7e="@firebase/performance-compat",W7e="@firebase/remote-config",q7e="@firebase/remote-config-compat",H7e="@firebase/storage",K7e="@firebase/storage-compat",G7e="@firebase/firestore",Z7e="@firebase/ai",X7e="@firebase/firestore-compat",Y7e="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="[DEFAULT]",Q7e={[Mj]:"fire-core",[N7e]:"fire-core-compat",[E7e]:"fire-analytics",[T7e]:"fire-analytics-compat",[A7e]:"fire-app-check",[C7e]:"fire-app-check-compat",[P7e]:"fire-auth",[I7e]:"fire-auth-compat",[R7e]:"fire-rtdb",[O7e]:"fire-data-connect",[M7e]:"fire-rtdb-compat",[D7e]:"fire-fn",[$7e]:"fire-fn-compat",[L7e]:"fire-iid",[F7e]:"fire-iid-compat",[z7e]:"fire-fcm",[B7e]:"fire-fcm-compat",[U7e]:"fire-perf",[V7e]:"fire-perf-compat",[W7e]:"fire-rc",[q7e]:"fire-rc-compat",[H7e]:"fire-gcs",[K7e]:"fire-gcs-compat",[G7e]:"fire-fst",[X7e]:"fire-fst-compat",[Z7e]:"fire-vertex","fire-js":"fire-js",[Y7e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Map,J7e=new Map,$j=new Map;function aO(e,t){try{e.container.addComponent(t)}catch(r){tc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function qd(e){const t=e.name;if($j.has(t))return tc.debug(`There were multiple attempts to register component ${t}.`),!1;$j.set(t,e);for(const r of Fx.values())aO(r,e);for(const r of J7e.values())aO(r,e);return!0}function D5(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ru=new l_("app","Firebase",e$e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t$e{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new _u("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ru.create("app-deleted",{appName:this._name})}}function Lne(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:Dj,automaticDataCollectionEnabled:!0,...t},s=n.name;if(typeof s!="string"||!s)throw ru.create("bad-app-name",{appName:String(s)});if(r||(r=Rne()),!r)throw ru.create("no-options");const i=Fx.get(s);if(i){if(Ij(r,i.options)&&Ij(n,i.config))return i;throw ru.create("duplicate-app",{appName:s})}const a=new o7e(s);for(const u of $j.values())a.addComponent(u);const o=new t$e(r,n,a);return Fx.set(s,o),o}function r$e(e=Dj){const t=Fx.get(e);if(!t&&e===Dj&&Rne())return Lne();if(!t)throw ru.create("no-app",{appName:e});return t}function nu(e,t,r){let n=Q7e[e]??e;r&&(n+=`-${r}`);const s=n.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${n}" with version "${t}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tc.warn(a.join(" "));return}qd(new _u(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$e="firebase-heartbeat-database",s$e=1,Qg="firebase-heartbeat-store";let fS=null;function Fne(){return fS||(fS=w7e(n$e,s$e,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Qg)}catch(r){console.warn(r)}}}}).catch(e=>{throw ru.create("idb-open",{originalErrorMessage:e.message})})),fS}async function i$e(e){try{const r=(await Fne()).transaction(Qg),n=await r.objectStore(Qg).get(zne(e));return await r.done,n}catch(t){if(t instanceof Fp)tc.warn(t.message);else{const r=ru.create("idb-get",{originalErrorMessage:t?.message});tc.warn(r.message)}}}async function oO(e,t){try{const n=(await Fne()).transaction(Qg,"readwrite");await n.objectStore(Qg).put(t,zne(e)),await n.done}catch(r){if(r instanceof Fp)tc.warn(r.message);else{const n=ru.create("idb-set",{originalErrorMessage:r?.message});tc.warn(n.message)}}}function zne(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$e=1024,o$e=30;class l$e{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new u$e(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=lO();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(s=>s.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>o$e){const s=d$e(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){tc.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lO(),{heartbeatsToSend:r,unsentEntries:n}=c$e(this._heartbeatsCache.heartbeats),s=Ine(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return tc.warn(t),""}}}function lO(){return new Date().toISOString().substring(0,10)}function c$e(e,t=a$e){const r=[];let n=e.slice();for(const s of e){const i=r.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),cO(r)>t){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),cO(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class u$e{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return One()?Mne().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await i$e(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return oO(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return oO(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function cO(e){return Ine(JSON.stringify({version:2,heartbeats:e})).length}function d$e(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$e(e){qd(new _u("platform-logger",t=>new k7e(t),"PRIVATE")),qd(new _u("heartbeat",t=>new l$e(t),"PRIVATE")),nu(Mj,iO,e),nu(Mj,iO,"esm2020"),nu("fire-js","")}f$e("");var h$e="firebase",p$e="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nu(h$e,p$e,"app");const m$e=(e,t)=>t.some(r=>e instanceof r);let uO,dO;function g$e(){return uO||(uO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y$e(){return dO||(dO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bne=new WeakMap,Lj=new WeakMap,Une=new WeakMap,hS=new WeakMap,$5=new WeakMap;function b$e(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{r(su(e.result)),s()},a=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&Bne.set(r,e)}).catch(()=>{}),$5.set(t,e),t}function v$e(e){if(Lj.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Lj.set(e,t)}let Fj={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Lj.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Une.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return su(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function x$e(e){Fj=e(Fj)}function w$e(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(pS(this),t,...r);return Une.set(n,t.sort?t.sort():[t]),su(n)}:y$e().includes(e)?function(...t){return e.apply(pS(this),t),su(Bne.get(this))}:function(...t){return su(e.apply(pS(this),t))}}function _$e(e){return typeof e=="function"?w$e(e):(e instanceof IDBTransaction&&v$e(e),m$e(e,g$e())?new Proxy(e,Fj):e)}function su(e){if(e instanceof IDBRequest)return b$e(e);if(hS.has(e))return hS.get(e);const t=_$e(e);return t!==e&&(hS.set(e,t),$5.set(t,e)),t}const pS=e=>$5.get(e);function S$e(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=su(a);return n&&a.addEventListener("upgradeneeded",u=>{n(su(a.result),u.oldVersion,u.newVersion,su(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),o.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const k$e=["get","getKey","getAll","getAllKeys","count"],j$e=["put","add","delete","clear"],mS=new Map;function fO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(mS.get(t))return mS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=j$e.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||k$e.includes(r)))return;const i=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let l=u.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),s&&u.done]))[0]};return mS.set(t,i),i}x$e(e=>({...e,get:(t,r,n)=>fO(t,r)||e.get(t,r,n),has:(t,r)=>!!fO(t,r)||e.has(t,r)}));const Vne="@firebase/installations",L5="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wne=1e4,qne=`w:${L5}`,Hne="FIS_v2",N$e="https://firebaseinstallations.googleapis.com/v1",T$e=3600*1e3,E$e="installations",C$e="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$e={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Hd=new l_(E$e,C$e,A$e);function Kne(e){return e instanceof Fp&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gne({projectId:e}){return`${N$e}/projects/${e}/installations`}function Zne(e){return{token:e.token,requestStatus:2,expiresIn:I$e(e.expiresIn),creationTime:Date.now()}}async function Xne(e,t){const n=(await t.json()).error;return Hd.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Yne({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function P$e(e,{refreshToken:t}){const r=Yne(e);return r.append("Authorization",R$e(t)),r}async function Qne(e){const t=await e();return t.status>=500&&t.status<600?e():t}function I$e(e){return Number(e.replace("s","000"))}function R$e(e){return`${Hne} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$e({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=Gne(e),s=Yne(e),i=t.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const a={fid:r,authVersion:Hne,appId:e.appId,sdkVersion:qne},o={method:"POST",headers:s,body:JSON.stringify(a)},u=await Qne(()=>fetch(n,o));if(u.ok){const l=await u.json();return{fid:l.fid||r,registrationStatus:2,refreshToken:l.refreshToken,authToken:Zne(l.authToken)}}else throw await Xne("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jne(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$e(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$e=/^[cdef][\w-]{21}$/,zj="";function $$e(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=L$e(e);return D$e.test(r)?r:zj}catch{return zj}}function L$e(e){return M$e(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ese=new Map;function tse(e,t){const r=c_(e);rse(r,t),F$e(r,t)}function rse(e,t){const r=ese.get(e);if(r)for(const n of r)n(t)}function F$e(e,t){const r=z$e();r&&r.postMessage({key:e,fid:t}),B$e()}let sd=null;function z$e(){return!sd&&"BroadcastChannel"in self&&(sd=new BroadcastChannel("[Firebase] FID Change"),sd.onmessage=e=>{rse(e.data.key,e.data.fid)}),sd}function B$e(){ese.size===0&&sd&&(sd.close(),sd=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$e="firebase-installations-database",V$e=1,Kd="firebase-installations-store";let gS=null;function F5(){return gS||(gS=S$e(U$e,V$e,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Kd)}}})),gS}async function zx(e,t){const r=c_(e),s=(await F5()).transaction(Kd,"readwrite"),i=s.objectStore(Kd),a=await i.get(r);return await i.put(t,r),await s.done,(!a||a.fid!==t.fid)&&tse(e,t.fid),t}async function nse(e){const t=c_(e),n=(await F5()).transaction(Kd,"readwrite");await n.objectStore(Kd).delete(t),await n.done}async function u_(e,t){const r=c_(e),s=(await F5()).transaction(Kd,"readwrite"),i=s.objectStore(Kd),a=await i.get(r),o=t(a);return o===void 0?await i.delete(r):await i.put(o,r),await s.done,o&&(!a||a.fid!==o.fid)&&tse(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(e){let t;const r=await u_(e.appConfig,n=>{const s=W$e(n),i=q$e(e,s);return t=i.registrationPromise,i.installationEntry});return r.fid===zj?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function W$e(e){const t=e||{fid:$$e(),registrationStatus:0};return sse(t)}function q$e(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Hd.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=H$e(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:K$e(e)}:{installationEntry:t}}async function H$e(e,t){try{const r=await O$e(e,t);return zx(e.appConfig,r)}catch(r){throw Kne(r)&&r.customData.serverCode===409?await nse(e.appConfig):await zx(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function K$e(e){let t=await hO(e.appConfig);for(;t.registrationStatus===1;)await Jne(100),t=await hO(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await z5(e);return n||r}return t}function hO(e){return u_(e,t=>{if(!t)throw Hd.create("installation-not-found");return sse(t)})}function sse(e){return G$e(e)?{fid:e.fid,registrationStatus:0}:e}function G$e(e){return e.registrationStatus===1&&e.registrationTime+Wne<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$e({appConfig:e,heartbeatServiceProvider:t},r){const n=X$e(e,r),s=P$e(e,r),i=t.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const a={installation:{sdkVersion:qne,appId:e.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},u=await Qne(()=>fetch(n,o));if(u.ok){const l=await u.json();return Zne(l)}else throw await Xne("Generate Auth Token",u)}function X$e(e,{fid:t}){return`${Gne(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(e,t=!1){let r;const n=await u_(e.appConfig,i=>{if(!ise(i))throw Hd.create("not-registered");const a=i.authToken;if(!t&&J$e(a))return i;if(a.requestStatus===1)return r=Y$e(e,t),i;{if(!navigator.onLine)throw Hd.create("app-offline");const o=tLe(i);return r=Q$e(e,o),o}});return r?await r:n.authToken}async function Y$e(e,t){let r=await pO(e.appConfig);for(;r.authToken.requestStatus===1;)await Jne(100),r=await pO(e.appConfig);const n=r.authToken;return n.requestStatus===0?B5(e,t):n}function pO(e){return u_(e,t=>{if(!ise(t))throw Hd.create("not-registered");const r=t.authToken;return rLe(r)?{...t,authToken:{requestStatus:0}}:t})}async function Q$e(e,t){try{const r=await Z$e(e,t),n={...t,authToken:r};return await zx(e.appConfig,n),r}catch(r){if(Kne(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await nse(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await zx(e.appConfig,n)}throw r}}function ise(e){return e!==void 0&&e.registrationStatus===2}function J$e(e){return e.requestStatus===2&&!eLe(e)}function eLe(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+T$e}function tLe(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function rLe(e){return e.requestStatus===1&&e.requestTime+Wne<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nLe(e){const t=e,{installationEntry:r,registrationPromise:n}=await z5(t);return n?n.catch(console.error):B5(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sLe(e,t=!1){const r=e;return await iLe(r),(await B5(r,t)).token}async function iLe(e){const{registrationPromise:t}=await z5(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aLe(e){if(!e||!e.options)throw yS("App Configuration");if(!e.name)throw yS("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw yS(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function yS(e){return Hd.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ase="installations",oLe="installations-internal",lLe=e=>{const t=e.getProvider("app").getImmediate(),r=aLe(t),n=D5(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},cLe=e=>{const t=e.getProvider("app").getImmediate(),r=D5(t,ase).getImmediate();return{getId:()=>nLe(r),getToken:s=>sLe(r,s)}};function uLe(){qd(new _u(ase,lLe,"PUBLIC")),qd(new _u(oLe,cLe,"PRIVATE"))}uLe();nu(Vne,L5);nu(Vne,L5,"esm2020");const dLe=(e,t)=>t.some(r=>e instanceof r);let mO,gO;function fLe(){return mO||(mO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hLe(){return gO||(gO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ose=new WeakMap,Bj=new WeakMap,lse=new WeakMap,bS=new WeakMap,U5=new WeakMap;function pLe(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{r(Bl(e.result)),s()},a=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&ose.set(r,e)}).catch(()=>{}),U5.set(t,e),t}function mLe(e){if(Bj.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Bj.set(e,t)}let Uj={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Bj.get(e);if(t==="objectStoreNames")return e.objectStoreNames||lse.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Bl(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function gLe(e){Uj=e(Uj)}function yLe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(vS(this),t,...r);return lse.set(n,t.sort?t.sort():[t]),Bl(n)}:hLe().includes(e)?function(...t){return e.apply(vS(this),t),Bl(ose.get(this))}:function(...t){return Bl(e.apply(vS(this),t))}}function bLe(e){return typeof e=="function"?yLe(e):(e instanceof IDBTransaction&&mLe(e),dLe(e,fLe())?new Proxy(e,Uj):e)}function Bl(e){if(e instanceof IDBRequest)return pLe(e);if(bS.has(e))return bS.get(e);const t=bLe(e);return t!==e&&(bS.set(e,t),U5.set(t,e)),t}const vS=e=>U5.get(e);function cse(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=Bl(a);return n&&a.addEventListener("upgradeneeded",u=>{n(Bl(a.result),u.oldVersion,u.newVersion,Bl(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),o.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}function xS(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",n=>t(n.oldVersion,n)),Bl(r).then(()=>{})}const vLe=["get","getKey","getAll","getAllKeys","count"],xLe=["put","add","delete","clear"],wS=new Map;function yO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wS.get(t))return wS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=xLe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||vLe.includes(r)))return;const i=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let l=u.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),s&&u.done]))[0]};return wS.set(t,i),i}gLe(e=>({...e,get:(t,r,n)=>yO(t,r)||e.get(t,r,n),has:(t,r)=>!!yO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wLe="/firebase-messaging-sw.js",_Le="/firebase-cloud-messaging-push-scope",use="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",SLe="https://fcmregistrations.googleapis.com/v1",dse="google.c.a.c_id",kLe="google.c.a.c_l",jLe="google.c.a.ts",NLe="google.c.a.e",bO=1e4;var vO;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(vO||(vO={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Jg;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Jg||(Jg={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function TLe(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),s=new Uint8Array(n.length);for(let i=0;i<n.length;++i)s[i]=n.charCodeAt(i);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="fcm_token_details_db",ELe=5,xO="fcm_token_object_Store";async function CLe(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(_S))return null;let t=null;return(await cse(_S,ELe,{upgrade:async(n,s,i,a)=>{if(s<2||!n.objectStoreNames.contains(xO))return;const o=a.objectStore(xO),u=await o.index("fcmSenderId").get(e);if(await o.clear(),!!u){if(s===2){const l=u;if(!l.auth||!l.p256dh||!l.endpoint)return;t={token:l.fcmToken,createTime:l.createTime??Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:typeof l.vapidKey=="string"?l.vapidKey:wl(l.vapidKey)}}}else if(s===3){const l=u;t={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:wl(l.auth),p256dh:wl(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:wl(l.vapidKey)}}}else if(s===4){const l=u;t={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:wl(l.auth),p256dh:wl(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:wl(l.vapidKey)}}}}}})).close(),await xS(_S),await xS("fcm_vapid_details_db"),await xS("undefined"),ALe(t)?t:null}function ALe(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PLe="firebase-messaging-database",ILe=1,e0="firebase-messaging-store";let SS=null;function fse(){return SS||(SS=cse(PLe,ILe,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(e0)}}})),SS}async function RLe(e){const t=hse(e),n=await(await fse()).transaction(e0).objectStore(e0).get(t);if(n)return n;{const s=await CLe(e.appConfig.senderId);if(s)return await V5(e,s),s}}async function V5(e,t){const r=hse(e),s=(await fse()).transaction(e0,"readwrite");return await s.objectStore(e0).put(t,r),await s.done,t}function hse({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OLe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},li=new l_("messaging","Messaging",OLe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MLe(e,t){const r=await q5(e),n=pse(t),s={method:"POST",headers:r,body:JSON.stringify(n)};let i;try{i=await(await fetch(W5(e.appConfig),s)).json()}catch(a){throw li.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(i.error){const a=i.error.message;throw li.create("token-subscribe-failed",{errorInfo:a})}if(!i.token)throw li.create("token-subscribe-no-token");return i.token}async function DLe(e,t){const r=await q5(e),n=pse(t.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(n)};let i;try{i=await(await fetch(`${W5(e.appConfig)}/${t.token}`,s)).json()}catch(a){throw li.create("token-update-failed",{errorInfo:a?.toString()})}if(i.error){const a=i.error.message;throw li.create("token-update-failed",{errorInfo:a})}if(!i.token)throw li.create("token-update-no-token");return i.token}async function $Le(e,t){const n={method:"DELETE",headers:await q5(e)};try{const i=await(await fetch(`${W5(e.appConfig)}/${t}`,n)).json();if(i.error){const a=i.error.message;throw li.create("token-unsubscribe-failed",{errorInfo:a})}}catch(s){throw li.create("token-unsubscribe-failed",{errorInfo:s?.toString()})}}function W5({projectId:e}){return`${SLe}/projects/${e}/registrations`}async function q5({appConfig:e,installations:t}){const r=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function pse({p256dh:e,auth:t,endpoint:r,vapidKey:n}){const s={web:{endpoint:r,auth:t,p256dh:e}};return n!==use&&(s.web.applicationPubKey=n),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LLe=10080*60*1e3;async function FLe(e){const t=await BLe(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:wl(t.getKey("auth")),p256dh:wl(t.getKey("p256dh"))},n=await RLe(e.firebaseDependencies);if(n){if(ULe(n.subscriptionOptions,r))return Date.now()>=n.createTime+LLe?zLe(e,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await $Le(e.firebaseDependencies,n.token)}catch(s){console.warn(s)}return wO(e.firebaseDependencies,r)}else return wO(e.firebaseDependencies,r)}async function zLe(e,t){try{const r=await DLe(e.firebaseDependencies,t),n={...t,token:r,createTime:Date.now()};return await V5(e.firebaseDependencies,n),r}catch(r){throw r}}async function wO(e,t){const n={token:await MLe(e,t),createTime:Date.now(),subscriptionOptions:t};return await V5(e,n),n.token}async function BLe(e,t){const r=await e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:TLe(t)})}function ULe(e,t){const r=t.vapidKey===e.vapidKey,n=t.endpoint===e.endpoint,s=t.auth===e.auth,i=t.p256dh===e.p256dh;return r&&n&&s&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return VLe(t,e),WLe(t,e),qLe(t,e),t}function VLe(e,t){if(!t.notification)return;e.notification={};const r=t.notification.title;r&&(e.notification.title=r);const n=t.notification.body;n&&(e.notification.body=n);const s=t.notification.image;s&&(e.notification.image=s);const i=t.notification.icon;i&&(e.notification.icon=i)}function WLe(e,t){t.data&&(e.data=t.data)}function qLe(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const r=t.fcmOptions?.link??t.notification?.click_action;r&&(e.fcmOptions.link=r);const n=t.fcmOptions?.analytics_label;n&&(e.fcmOptions.analyticsLabel=n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HLe(e){return typeof e=="object"&&!!e&&dse in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KLe(e){if(!e||!e.options)throw kS("App Configuration Object");if(!e.name)throw kS("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const n of t)if(!r[n])throw kS(n);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function kS(e){return li.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GLe{constructor(t,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=KLe(t);this.firebaseDependencies={app:t,appConfig:s,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZLe(e){try{e.swRegistration=await navigator.serviceWorker.register(wLe,{scope:_Le}),e.swRegistration.update().catch(()=>{}),await XLe(e.swRegistration)}catch(t){throw li.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function XLe(e){return new Promise((t,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${bO} ms`)),bO),s=e.installing||e.waiting;e.active?(clearTimeout(n),t()):s?s.onstatechange=i=>{i.target?.state==="activated"&&(s.onstatechange=null,clearTimeout(n),t())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YLe(e,t){if(!t&&!e.swRegistration&&await ZLe(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw li.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QLe(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=use)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mse(e,t){if(!navigator)throw li.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw li.create("permission-blocked");return await QLe(e,t?.vapidKey),await YLe(e,t?.serviceWorkerRegistration),FLe(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JLe(e,t,r){const n=eFe(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[dse],message_name:r[kLe],message_time:r[jLe],message_device_time:Math.floor(Date.now()/1e3)})}function eFe(e){switch(e){case Jg.NOTIFICATION_CLICKED:return"notification_open";case Jg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tFe(e,t){const r=t.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===Jg.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(_O(r)):e.onMessageHandler.next(_O(r)));const n=r.data;HLe(n)&&n[NLe]==="1"&&await JLe(e,r.messageType,n)}const SO="@firebase/messaging",kO="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rFe=e=>{const t=new GLe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>tFe(t,r)),t},nFe=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:n=>mse(t,n)}};function sFe(){qd(new _u("messaging",rFe,"PUBLIC")),qd(new _u("messaging-internal",nFe,"PRIVATE")),nu(SO,kO),nu(SO,kO,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iFe(){try{await Mne()}catch{return!1}return typeof window<"u"&&One()&&e7e()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aFe(e,t){if(!navigator)throw li.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oFe(e=r$e()){return iFe().then(t=>{if(!t)throw li.create("unsupported-browser")},t=>{throw li.create("indexed-db-unsupported")}),D5(O5(e),"messaging").getImmediate()}async function lFe(e,t){return e=O5(e),mse(e,t)}function cFe(e,t){return e=O5(e),aFe(e,t)}sFe();const gse={apiKey:"AIzaSyBhVNHGcHWZqbbInv9WUZeyBoPEx3yvN8U",authDomain:"app2-eb4df.firebaseapp.com",projectId:"app2-eb4df",storageBucket:"app2-eb4df.firebasestorage.app",messagingSenderId:"364100399820",appId:"1:364100399820:android:05fb7a9df8da1b771cc869"},uFe=()=>Object.values(gse).every(e=>e&&typeof e=="string");let jS=null,Bx=null;const yse=()=>{try{if(!uFe()){console.warn("[Firebase] Invalid or missing Firebase configuration in environment variables");return}jS||(jS=Lne(gse)),Bx||(Bx=oFe(jS))}catch(e){console.error("[Firebase] Failed to initialize Firebase:",e)}},bse=()=>(Bx||yse(),Bx),vse=async(e=0)=>{const r=1e3*(e+1);try{const n=bse();if(!n)return console.warn("[Firebase] Firebase Messaging not initialized - skipping token request"),null;const s="YGwRxS-k2lYQ-HdK5KkTYdceZgM3xcaTYxQoitDTwZk";try{const i=await lFe(n,{vapidKey:s});return i?(console.log("[Firebase] Successfully obtained FCM token"),i):null}catch(i){return i?.code==="messaging/failed-service-worker-registration"&&e<3?(console.warn(`[Firebase] Service Worker registration failed, retrying in ${r}ms (attempt ${e+1}/3)`),await new Promise(a=>setTimeout(a,r)),vse(e+1)):(i?.code==="messaging/unsupported-browser"?console.warn("[Firebase] Push notifications not supported in this browser"):i?.code==="messaging/permission-blocked"?console.warn("[Firebase] Push notification permission has been blocked"):i?.code==="messaging/service-worker-registration-failed"?console.warn("[Firebase] Service Worker registration failed"):console.error("[Firebase] Failed to get FCM token:",i?.message||i),null)}}catch(n){return console.error("[Firebase] Unexpected error in getFirebaseToken:",n),null}},dFe=e=>{try{const t=bse();if(!t)throw new Error("Firebase Messaging not initialized");return cFe(t,n=>{e(n)})}catch(t){return console.error("[Firebase] Failed to set up message listener:",t),null}},fFe=()=>{const{toast:e}=Br(),[t]=E.useState(()=>{if(typeof window>"u")return!1;try{return"serviceWorker"in navigator&&"PushManager"in window&&typeof Notification<"u"}catch{return!1}}),[r,n]=E.useState(()=>{if(typeof window>"u")return!1;try{return typeof Notification<"u"&&Notification.permission==="granted"}catch{return!1}}),[s,i]=E.useState(!1),[a,o]=E.useState(null),u=E.useRef(null);E.useEffect(()=>((async()=>{if(!t){o("Push notifications are not supported in this browser");return}try{i(!0),yse();const h=dFe(f=>{const p=f.notification;p&&e({title:p.title||"New Notification",description:p.body})});h&&(u.current=h)}catch(h){const f=h instanceof Error?h.message:"Failed to initialize push notifications";o(f),console.error("[usePush] Initialization error:",h)}finally{i(!1)}})(),()=>{u.current&&u.current()}),[t,e]);const l=E.useCallback(async()=>{if(!t){const d="    ";return o(d),console.warn("[usePush]",d),!1}try{if(i(!0),o(null),typeof Notification>"u")return o("   "),!1;const d=await Notification.requestPermission();if(d==="granted"){n(!0);const h=await vse();if(h)try{const f=await fetch("/api/push/token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({token:h})});if(!f.ok)throw new Error(`Failed to register token: ${f.statusText}`);e({title:"Success",description:"Push notifications enabled successfully"}),localStorage.setItem("fcm_token",h)}catch(f){const p=f instanceof Error?f.message:"Failed to register push token";return console.error("[usePush] Token registration error:",f),o(p),!1}else return o("Failed to generate FCM token"),!1;return!0}else return d==="denied"?(o("Push notification permission denied by user"),!1):(o("Push notification permission dismissed"),!1)}catch(d){const h=d instanceof Error?d.message:"Failed to request push permission";return o(h),console.error("[usePush] Permission request error:",d),!1}finally{i(!1)}},[t,e]);return{isPushSupported:t,isPermissionGranted:r,isInitializing:s,error:a,requestPushPermission:l,unsubscribe:u.current}},hFe={"/":{title:" ",icon:Cg},"/projects":{title:" ",icon:Gn},"/workers":{title:" ",icon:xn},"/suppliers-pro":{title:" ",icon:si},"/worker-attendance":{title:" ",icon:T0},"/worker-accounts":{title:" ",icon:Jt},"/material-purchase":{title:" ",icon:en},"/project-transfers":{title:"  ",icon:Xc},"/project-transactions":{title:" ",icon:Fs},"/well-accounting":{title:" ",icon:Yo},"/well-cost-report":{title:"  ",icon:Fs},"/wells":{title:" ",icon:HB},"/transport-management":{title:" ",icon:si},"/daily-expenses":{title:" ",icon:Jt},"/deployment":{title:"   ",icon:Bn},"/settings":{title:" ",icon:bp},"/project-fund-custody":{title:"  ",icon:Md},"/notifications":{title:"",icon:ra},"/admin-notifications":{title:" ",icon:bo},"/ai-chat":{title:" ",icon:N3},"/security-policies":{title:" ",icon:gve},"/equipment":{title:" ",icon:ia},"/reports":{title:"",icon:ive},"/local-db":{title:"   ",icon:qi},"/admin/sync":{title:" ",icon:ms},"/admin/dashboard":{title:"  ",icon:$a},"/admin/monitoring":{title:"  ",icon:Bn}};function pFe(){const[e]=gs(),{toast:t}=Br(),{selectedProjectId:r,selectedProjectName:n,selectProject:s}=Ao(),[i,a]=E.useState({isOnline:!0,pendingCount:0});fFe();const[o,u]=E.useState(()=>typeof window<"u"&&document.documentElement.classList.contains("dark")?"dark":"light");E.useEffect(()=>{const v=window.document.documentElement;o==="dark"?v.classList.add("dark"):v.classList.remove("dark"),localStorage.setItem("theme",o)},[o]);const l=()=>{u(v=>v==="light"?"dark":"light")};E.useEffect(()=>{const v=i_(b=>{a({isOnline:b.isOnline,pendingCount:b.pendingCount||0})});return()=>v()},[]);const{isOnline:d,pendingCount:h}=i,{data:f=[],isLoading:p}=nt({queryKey:he.projects,queryFn:async()=>{try{const v=await Ie("/api/projects","GET");return v?.data||v||[]}catch{return[]}}}),g=hFe[e]||{title:"AXION SYSTEM",icon:fve},y=g.icon,m=(v,b)=>{s(v,b),t({title:"  ",description:b})};return c.jsxs("div",{className:"flex items-center justify-between h-full w-full px-4",dir:"rtl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-primary/10 p-1.5 rounded-lg text-primary",children:c.jsx(y,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex flex-col justify-center text-right",children:[c.jsx("h1",{className:"text-sm font-bold leading-tight text-slate-900 dark:text-white",children:g.title}),c.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-black uppercase tracking-widest",children:"AXION SYSTEM"})]})]}),c.jsx("div",{className:"flex-1"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(UDe,{}),c.jsx(Se,{variant:"outline",size:"icon",onClick:l,className:"h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",title:o==="light"?" ":" ","data-testid":"button-theme-toggle",children:o==="light"?c.jsx(xve,{className:"h-4 w-4 text-slate-700"}):c.jsx(Eve,{className:"h-4 w-4 text-amber-400"})}),c.jsxs(see,{children:[c.jsx(iee,{asChild:!0,children:c.jsx(Se,{variant:"outline",size:"icon",className:"h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",title:r?r===as?Lo:n:" ","data-testid":"button-project-selector",children:c.jsx(ove,{className:"h-4 w-4 text-primary"})})}),c.jsxs(m5,{align:"start",className:"w-64 max-h-80",dir:"rtl",children:[c.jsx(aee,{className:"text-right",children:" "}),c.jsx(oee,{}),p?c.jsx("div",{className:"p-4 text-center text-xs",children:" ..."}):c.jsxs(c.Fragment,{children:[c.jsxs(Rx,{onClick:()=>m(as,Lo),className:"flex justify-between items-center text-right",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(HB,{className:"h-4 w-4 text-blue-600"}),c.jsx("span",{children:Lo})]}),r===as&&c.jsx(Xr,{className:"h-4 w-4 text-green-500"})]}),f.map(v=>c.jsxs(Rx,{onClick:()=>m(v.id.toString(),v.name),className:"flex justify-between items-center text-right",children:[c.jsx("span",{children:v.name}),r===v.id.toString()&&c.jsx(Xr,{className:"h-4 w-4 text-green-500"})]},v.id))]})]})]})]})]})}const mFe=[{path:"/",icon:Cg,label:"",key:"dashboard"},{path:"/projects",icon:Gn,label:"",key:"projects"},{path:"/workers",icon:xn,label:"",key:"workers"},{path:"/worker-attendance",icon:T0,label:"",key:"attendance"},{path:"/daily-expenses",icon:Yo,label:"",key:"expenses"}],gFe=[{category:" ",pages:[{path:"/",icon:Cg,label:" ",description:"   ",requireAdmin:!1},{path:"/projects",icon:Gn,label:" ",description:"  ",requireAdmin:!1},{path:"/workers",icon:xn,label:" ",description:"   ",requireAdmin:!1},{path:"/suppliers-pro",icon:si,label:" ",description:"  ",requireAdmin:!1}]},{category:" ",pages:[{path:"/wells",icon:qo,label:" ",description:"   ",requireAdmin:!1},{path:"/well-accounting",icon:Yo,label:" ",description:"   ",requireAdmin:!1},{path:"/well-cost-report",icon:E4,label:" ",description:"   ",requireAdmin:!1},{path:"/worker-attendance",icon:T0,label:" ",description:"   ",requireAdmin:!1},{path:"/daily-expenses",icon:Yo,label:" ",description:"   ",requireAdmin:!1},{path:"/material-purchase",icon:en,label:" ",description:"   ",requireAdmin:!1},{path:"/transport-management",icon:si,label:" ",description:"    ",requireAdmin:!1},{path:"/worker-accounts",icon:Jt,label:" ",description:"   ",requireAdmin:!0},{path:"/equipment",icon:bp,label:" ",description:"    ",requireAdmin:!0},{path:"/project-fund-custody",icon:Jt,label:" ",description:"   ",requireAdmin:!0},{path:"/project-transfers",icon:Xc,label:"  ",description:"    ",requireAdmin:!0},{path:"/project-transactions",icon:Fs,label:" ",description:"    ",requireAdmin:!0}]},{category:" ",pages:[{path:"/supplier-accounts",icon:qB,label:" ",description:"   ",requireAdmin:!0}]},{category:"",pages:[{path:"/reports",icon:E4,label:"",description:"      ",requireAdmin:!1}]},{category:" ",pages:[{path:"/users-management",icon:xn,label:" ",description:"   ",requireAdmin:!0}]},{category:" ",pages:[{path:"/notifications",icon:ra,label:"",description:"   ",requireAdmin:!1}]},{category:" ",pages:[{path:"/security-policies",icon:bo,label:" ",description:"   ",requireAdmin:!0},{path:"/smart-errors",icon:qi,label:"  ",description:"      ",requireAdmin:!0}]},{category:" ",pages:[{path:"/autocomplete-admin",icon:ia,label:"  ",description:"   ",requireAdmin:!0},{path:"/admin-notifications",icon:ra,label:" ",description:"   ",requireAdmin:!0},{path:"/deployment",icon:ZB,label:"  ",description:"     ",requireAdmin:!0}]},{category:"  ",pages:[{path:"/local-db",icon:qi,label:"  ",description:"    ",requireAdmin:!0},{path:"/admin/backups",icon:bo,label:" ",description:"   ",requireAdmin:!0},{path:"/admin/sync",icon:ms,label:" ",description:"     ",requireAdmin:!0}]}];function yFe(){const[e,t]=gs(),[r,n]=E.useState(!1),[s,i]=E.useState(""),{user:a}=ac(),o=a?.role==="admin",u=gFe.map(f=>({...f,pages:f.pages.filter(p=>!p.requireAdmin||o)})).filter(f=>f.pages.length>0),l=E.useMemo(()=>{if(!s.trim())return u;const f=s.toLowerCase();return u.map(p=>({...p,pages:p.pages.filter(g=>g.label.toLowerCase().includes(f)||g.description.toLowerCase().includes(f))})).filter(p=>p.pages.length>0)},[s,u]),d=f=>{t(f),n(!1),i("")},h=u.reduce((f,p)=>f+p.pages.length,0);return c.jsx("nav",{className:"bg-white dark:bg-slate-900 flex-shrink-0 h-full w-full relative z-[50]",onClick:f=>f.stopPropagation(),children:c.jsxs("div",{className:"flex justify-around items-center h-full w-full max-w-screen-xl mx-auto px-2 relative",children:[mFe.map(f=>{const p=f.icon,g=e===f.path;return c.jsxs(Se,{variant:"ghost","data-testid":`nav-item-${f.key}`,className:`flex flex-col items-center justify-center gap-1 h-full min-w-[50px] px-1 rounded-xl transition-all duration-500 relative group no-default-hover-elevate no-default-active-elevate ${g?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,onClick:()=>t(f.path),children:[c.jsxs("div",{className:"relative flex items-center justify-center",children:[c.jsx(zg,{children:g&&c.jsx(Zr.div,{layoutId:"nav-bg",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"absolute inset-[-6px] bg-blue-50 dark:bg-blue-900/20 rounded-xl z-0"})}),c.jsx(p,{className:`h-[22px] w-[22px] z-10 transition-transform duration-500 ${g?"scale-110":"group-hover:scale-105"}`})]}),c.jsx("span",{className:`text-[11px] font-medium z-10 transition-all duration-500 ${g?"opacity-100 translate-y-0":"opacity-70 group-hover:opacity-100"}`,children:f.label}),g&&c.jsx(Zr.div,{layoutId:"nav-dot",className:"absolute -top-[1px] left-1/2 -translate-x-1/2 w-5 h-[3px] bg-blue-600 dark:bg-blue-400 rounded-full",initial:{opacity:0},animate:{opacity:1}})]},f.key)}),c.jsxs(Zw,{open:r,onOpenChange:n,modal:!0,children:[c.jsx(q6,{asChild:!0,children:c.jsxs(Se,{variant:"ghost","data-testid":"nav-more-button",className:`flex flex-col items-center justify-center gap-1 h-full min-w-[50px] px-1 rounded-xl transition-all duration-500 relative group no-default-hover-elevate no-default-active-elevate ${r?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,children:[c.jsxs("div",{className:"relative flex items-center justify-center",children:[r&&c.jsx("div",{className:"absolute inset-[-6px] bg-blue-50 dark:bg-blue-900/20 rounded-xl"}),c.jsx(sve,{className:`h-[22px] w-[22px] z-10 transition-transform duration-500 ${r?"scale-110":"group-hover:scale-105"}`})]}),c.jsx("span",{className:`text-[11px] font-medium z-10 transition-all duration-500 ${r?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:""})]})}),c.jsxs(hy,{side:"bottom",className:"h-[90vh] rounded-t-[28px] px-0 border-none shadow-[0_-15px_50px_rgba(0,0,0,0.15)] bg-white dark:bg-slate-950 backdrop-blur-2xl z-[20002]",onPointerDownOutside:()=>n(!1),onInteractOutside:()=>n(!1),children:[c.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-800 rounded-full mx-auto my-3"}),c.jsxs("div",{className:"px-4 mb-4 space-y-3",children:[c.jsx(H6,{children:c.jsx(py,{className:"text-right text-2xl font-bold bg-gradient-to-l from-blue-600 to-blue-500 bg-clip-text text-transparent dark:from-blue-400 dark:to-blue-300",children:" "})}),c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-100 dark:border-blue-800/30",children:[c.jsxs("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:[l.reduce((f,p)=>f+p.pages.length,0),"  ",h]}),c.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:" "})]}),c.jsxs("div",{className:"relative group",children:[c.jsx(So,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 dark:text-slate-500 z-10 pointer-events-none"}),c.jsx(tt,{"data-testid":"input-menu-search",type:"text",placeholder:"  ...",value:s,onChange:f=>i(f.target.value),className:"w-full h-10 pr-10 pl-4 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-600 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-0 dark:focus-visible:ring-offset-0 transition-all duration-300"}),s&&c.jsx(Se,{type:"button",variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 h-6 w-6 z-10 hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>i(""),children:c.jsx(fs,{className:"h-4 w-4 text-slate-400 dark:text-slate-500"})})]})]}),c.jsx(Po,{className:"h-[calc(90vh-180px)]",children:c.jsx("div",{className:"px-4 pb-24",children:l.length>0?c.jsx("div",{className:"space-y-6",children:c.jsx(zg,{mode:"wait",children:l.map((f,p)=>c.jsxs(Zr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:p*.05},className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3 px-2 mb-3",children:[c.jsx("div",{className:"h-0.5 flex-1 bg-gradient-to-l from-slate-200 dark:from-slate-800 to-transparent"}),c.jsx("h3",{className:"font-bold text-xs text-slate-500 dark:text-slate-400 uppercase tracking-widest whitespace-nowrap",children:f.category}),c.jsx("div",{className:"h-0.5 flex-1 bg-gradient-to-r from-slate-200 dark:from-slate-800 to-transparent"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.pages.map((g,y)=>{const m=g.icon,v=e===g.path;return c.jsx(Zr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:y*.03},whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsxs(Se,{variant:"ghost","data-testid":`menu-item-${g.path}`,className:`w-full h-auto p-4 rounded-2xl border-2 transition-all duration-300 overflow-hidden relative group cursor-pointer ${v?"bg-gradient-to-br from-blue-600 to-blue-700 text-white border-blue-600 shadow-lg shadow-blue-200 dark:shadow-blue-950 dark:from-blue-600 dark:to-blue-700":"bg-white dark:bg-slate-900/40 border-slate-100 dark:border-slate-800/50 text-slate-900 dark:text-white hover:border-blue-300 dark:hover:border-blue-700/50 hover:bg-blue-50/50 dark:hover:bg-blue-900/10"}`,onClick:()=>d(g.path),children:[!v&&c.jsx(Zr.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-400/0 to-blue-500/0 opacity-0 group-hover:opacity-10 dark:group-hover:opacity-20 transition-opacity duration-300",whileHover:{opacity:1}}),c.jsxs("div",{className:"flex items-center gap-3 w-full relative z-10",children:[c.jsx(Zr.div,{className:`p-2.5 rounded-2xl transition-all duration-300 flex-shrink-0 ${v?"bg-white/25 shadow-lg":"bg-slate-100 dark:bg-slate-800/80 text-blue-600 dark:text-blue-400 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/40"}`,whileHover:{scale:1.15,rotate:5},transition:{type:"spring",stiffness:400},children:c.jsx(m,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1 min-w-0 text-right",children:[c.jsx("div",{className:`font-bold text-sm leading-tight mb-1 truncate transition-all duration-300 ${v?"text-white":"text-slate-900 dark:text-slate-100"}`,children:g.label}),c.jsx("div",{className:`text-[11px] leading-tight truncate transition-all duration-300 ${v?"text-white/85":"text-slate-500 dark:text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300"}`,children:g.description})]})]})]})},y)})})]},p))})}):c.jsxs(Zr.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-12 text-center",children:[c.jsx(So,{className:"h-12 w-12 text-slate-300 dark:text-slate-700 mb-3"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"  "}),c.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs",children:"   "})]})})})]})]})]})})}function bFe(){const e=Io(),{floatingAction:t,floatingLabel:r,refreshAction:n,showAddButton:s}=e;return!t&&!n&&!s?null:c.jsxs("div",{className:"fixed bottom-[calc(90px+env(safe-area-inset-bottom,0px))] right-6 z-[110] flex flex-col gap-3 pointer-events-auto items-center",children:[n&&c.jsx(Se,{onClick:()=>n(),className:"h-10 w-10 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",size:"icon",title:"","data-testid":"button-floating-refresh",children:c.jsx(ms,{className:"h-4 w-4"})}),(t||s)&&c.jsx(Se,{onClick:()=>{console.log("FAB Clicked, action exists:",!!t),t&&t()},className:"h-12 w-12 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 border-0 text-white",size:"icon",title:r,"data-testid":"button-floating-add",children:c.jsx(Qn,{className:"h-5 w-5"})})]})}const NS=768;function vFe(){const[e,t]=E.useState(void 0);return E.useEffect(()=>{const r=window.matchMedia(`(max-width: ${NS-1}px)`),n=()=>{t(window.innerWidth<NS)};return r.addEventListener("change",n),t(window.innerWidth<NS),()=>r.removeEventListener("change",n)},[]),!!e}var xFe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wFe=xFe.reduce((e,t)=>{const r=ey(`Primitive.${t}`),n=E.forwardRef((s,i)=>{const{asChild:a,...o}=s,u=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),_Fe="Separator",jO="horizontal",SFe=["horizontal","vertical"],xse=E.forwardRef((e,t)=>{const{decorative:r,orientation:n=jO,...s}=e,i=kFe(n)?n:jO,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(wFe.div,{"data-orientation":i,...o,...s,ref:t})});xse.displayName=_Fe;function kFe(e){return SFe.includes(e)}var wse=xse;const _se=E.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>c.jsx(wse,{ref:s,decorative:r,orientation:t,className:_e("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));_se.displayName=wse.displayName;const jFe="sidebar_state",NFe=3600*24*7,TFe="16rem",EFe="16rem",CFe="3rem",AFe="b",Sse=E.createContext(null);function ky(){const e=E.useContext(Sse);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const kse=E.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:s,children:i,...a},o)=>{const u=vFe(),[l,d]=E.useState(!1),[h,f]=E.useState(e),p=t??h,g=E.useCallback(b=>{const x=typeof b=="function"?b(p):b;r?r(x):f(x),document.cookie=`${jFe}=${x}; path=/; max-age=${NFe}`},[r,p]),y=E.useCallback(()=>u?d(b=>!b):g(b=>!b),[u,g,d]);E.useEffect(()=>{const b=x=>{x.key===AFe&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),y())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[y]);const m=p?"expanded":"collapsed",v=E.useMemo(()=>({state:m,open:p,setOpen:g,isMobile:u,openMobile:l,setOpenMobile:d,toggleSidebar:y}),[m,p,g,u,l,d,y]);return c.jsx(Sse.Provider,{value:v,children:c.jsx(C1,{delayDuration:0,children:c.jsx("div",{style:{"--sidebar-width":TFe,"--sidebar-width-icon":CFe,...s},className:_e("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:o,...a,children:i})})})});kse.displayName="SidebarProvider";const jse=E.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...i},a)=>{const{isMobile:o,state:u,openMobile:l,setOpenMobile:d}=ky();return r==="none"?c.jsx("div",{className:_e("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:a,...i,children:s}):o?c.jsx(Zw,{open:l,onOpenChange:d,...i,children:c.jsxs(hy,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden z-[20001]",style:{"--sidebar-width":EFe},side:e,children:[c.jsxs(H6,{className:"sr-only",children:[c.jsx(py,{children:"Sidebar"}),c.jsx(DQ,{children:"Displays the mobile sidebar."})]}),c.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):c.jsxs("div",{ref:a,className:"group peer hidden text-sidebar-foreground md:block","data-state":u,"data-collapsible":u==="collapsed"?r:"","data-variant":t,"data-side":e,children:[c.jsx("div",{className:_e("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),c.jsx("div",{className:_e("fixed inset-y-0 z-[60] hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:c.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});jse.displayName="Sidebar";const Nse=E.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=ky();return c.jsxs(Se,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:_e("h-7 w-7",e),onClick:i=>{t?.(i),s()},...r,children:[c.jsx(Sve,{}),c.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Nse.displayName="SidebarTrigger";const PFe=E.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=ky();return c.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:_e("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});PFe.displayName="SidebarRail";const Tse=E.forwardRef(({className:e,...t},r)=>c.jsx("main",{ref:r,className:_e("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Tse.displayName="SidebarInset";const IFe=E.forwardRef(({className:e,...t},r)=>c.jsx(tt,{ref:r,"data-sidebar":"input",className:_e("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));IFe.displayName="SidebarInput";const Ese=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,"data-sidebar":"header",className:_e("flex flex-col gap-2 p-2",e),...t}));Ese.displayName="SidebarHeader";const Cse=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,"data-sidebar":"footer",className:_e("flex flex-col gap-2 p-2",e),...t}));Cse.displayName="SidebarFooter";const RFe=E.forwardRef(({className:e,...t},r)=>c.jsx(_se,{ref:r,"data-sidebar":"separator",className:_e("mx-2 w-auto bg-sidebar-border",e),...t}));RFe.displayName="SidebarSeparator";const Ase=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,"data-sidebar":"content",className:_e("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Ase.displayName="SidebarContent";const Pse=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,"data-sidebar":"group",className:_e("relative flex w-full min-w-0 flex-col p-2",e),...t}));Pse.displayName="SidebarGroup";const Ise=E.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?sf:"div";return c.jsx(s,{ref:n,"data-sidebar":"group-label",className:_e("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});Ise.displayName="SidebarGroupLabel";const OFe=E.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?sf:"button";return c.jsx(s,{ref:n,"data-sidebar":"group-action",className:_e("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});OFe.displayName="SidebarGroupAction";const Rse=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,"data-sidebar":"group-content",className:_e("w-full text-sm",e),...t}));Rse.displayName="SidebarGroupContent";const Vj=E.forwardRef(({className:e,...t},r)=>c.jsx("ul",{ref:r,"data-sidebar":"menu",className:_e("flex w-full min-w-0 flex-col gap-1",e),...t}));Vj.displayName="SidebarMenu";const hv=E.forwardRef(({className:e,...t},r)=>c.jsx("li",{ref:r,"data-sidebar":"menu-item",className:_e("group/menu-item relative",e),...t}));hv.displayName="SidebarMenuItem";const MFe=ef("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),pv=E.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:s,className:i,...a},o)=>{const u=e?sf:"button",{isMobile:l,state:d}=ky(),h=c.jsx(u,{ref:o,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:_e(MFe({variant:r,size:n}),i),...a});return s?(typeof s=="string"&&(s={children:s}),c.jsxs(F3,{children:[c.jsx(z3,{asChild:!0,children:h}),c.jsx(A1,{side:"right",align:"center",hidden:d!=="collapsed"||l,...s})]})):h});pv.displayName="SidebarMenuButton";const DFe=E.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const i=t?sf:"button";return c.jsx(i,{ref:s,"data-sidebar":"menu-action",className:_e("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});DFe.displayName="SidebarMenuAction";const $Fe=E.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:_e("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));$Fe.displayName="SidebarMenuBadge";const LFe=E.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=E.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return c.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:_e("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&c.jsx(Kr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),c.jsx(Kr,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});LFe.displayName="SidebarMenuSkeleton";const FFe=E.forwardRef(({className:e,...t},r)=>c.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:_e("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));FFe.displayName="SidebarMenuSub";const zFe=E.forwardRef(({...e},t)=>c.jsx("li",{ref:t,...e}));zFe.displayName="SidebarMenuSubItem";const BFe=E.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},i)=>{const a=e?sf:"a";return c.jsx(a,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:_e("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});BFe.displayName="SidebarMenuSubButton";const UFe=[{title:"",icon:Cg,items:[{title:" ",url:"/",icon:Cg},{title:" ",url:"/projects",icon:Gn}]},{title:" ",icon:xn,items:[{title:" ",url:"/project-transactions",icon:Fs},{title:" ",url:"/workers",icon:xn},{title:" ",url:"/worker-attendance",icon:T0},{title:" ",url:"/worker-accounts",icon:Md}]},{title:" ",icon:en,items:[{title:" ",url:"/material-purchase",icon:en},{title:" ",url:"/material-purchases",icon:en},{title:"",url:"/suppliers-pro",icon:si},{title:" ",url:"/transport-management",icon:si},{title:"",url:"/customers",icon:xn},{title:" ",icon:ia,url:"/equipment"}]},{title:" ",icon:Yo,items:[{title:" ",url:"/daily-expenses",icon:Yo},{title:" ",url:"/well-accounting",icon:Yo},{title:" ",url:"/well-cost-report",icon:$a},{title:"",url:"/reports",icon:$a}]},{title:" ",icon:Dl,items:[{title:" ",icon:$a,url:"/admin/dashboard"},{title:" ",icon:N3,url:"/ai-chat"},{title:" ",icon:Dl,url:"/security-policies"},{title:" ",icon:Bn,url:"/admin/data-health"},{title:" ",icon:Dl,url:"/admin/backups"},{title:" ",icon:ms,url:"/admin/sync"},{title:" ",icon:Bn,url:"/admin/monitoring"},{title:" ",icon:qi,url:"/local-db"}]}];function VFe(){const[e,t]=gs(),{logout:r,user:n}=ac(),{setOpenMobile:s,isMobile:i}=ky(),a=o=>{t(o),i&&s(!1)};return c.jsxs(jse,{side:"right",variant:"sidebar",collapsible:"icon",className:"border-l-0 bg-white dark:bg-slate-950 text-slate-900 dark:text-white transition-colors duration-500",children:[c.jsx(Ese,{className:"border-b border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-950 px-4 py-5 flex-shrink-0",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-xl bg-[#3b82f6] dark:bg-[#1a1c1e] shadow-xl shadow-blue-600/20 dark:shadow-black/40 transition-all border border-white/10 dark:border-slate-800 overflow-hidden relative group/logo",children:c.jsxs("div",{className:"relative flex items-center justify-center w-full h-full translate-y-[1px]",children:[c.jsx("span",{className:"font-black text-2xl leading-none text-white drop-shadow-sm",children:""}),c.jsx("span",{className:"font-black text-xs leading-none text-white/30 ml-[-2px] italic -skew-x-6",children:"A"}),c.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-blue-400 rounded-full border border-white dark:border-[#1a1c1e] shadow-sm"})]})}),c.jsxs("div",{className:"flex flex-col overflow-hidden group-data-[collapsible=icon]:hidden text-right",children:[c.jsxs("div",{className:"flex items-center gap-2 leading-none",children:[c.jsx("span",{className:"font-black text-lg tracking-[-0.05em] text-slate-900 dark:text-white uppercase",children:"AXION"}),c.jsx("div",{className:"h-4 w-[1px] bg-slate-200 dark:bg-slate-800"}),c.jsx("span",{className:"font-black text-sm text-[#3b82f6] dark:text-blue-500",children:""})]}),c.jsx("span",{className:"text-[8px] text-slate-400 dark:text-slate-500 truncate font-black uppercase tracking-[0.4em] mt-1.5 opacity-80",children:"Enterprise Operations"})]})]})}),c.jsxs(Ase,{className:"bg-white dark:bg-slate-950 gap-0 pt-2 custom-scrollbar overflow-y-auto overflow-x-hidden flex-1 scrolling-touch",children:[UFe.map(o=>c.jsx(wa,{defaultOpen:!0,className:"group/collapsible",children:c.jsxs(Pse,{children:[c.jsx(Ise,{asChild:!0,children:c.jsxs(_a,{className:"flex w-full items-center justify-between px-4 py-2 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors group-data-[collapsible=icon]:hidden",children:[c.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:o.title}),c.jsx(yn,{className:"h-3 w-3 transition-transform duration-200 group-data-[state=open]/collapsible:rotate-180"})]})}),c.jsx(Sa,{children:c.jsx(Rse,{children:c.jsx(Vj,{children:o.items.map(u=>c.jsx(hv,{children:c.jsx(pv,{asChild:!0,isActive:e===u.url,className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg transition-all duration-200 data-[active=true]:bg-blue-600 dark:data-[active=true]:bg-white data-[active=true]:text-white dark:data-[active=true]:text-slate-900 hover:bg-slate-100 dark:hover:bg-slate-900 text-slate-700 dark:text-slate-300",children:c.jsxs("a",{href:u.url,onClick:l=>{l.preventDefault(),a(u.url)},children:[c.jsx(u.icon,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium text-sm",children:u.title})]})})},u.title))})})})]})},o.title)),c.jsx("div",{className:"h-24 w-full","aria-hidden":"true"})]}),c.jsxs(Cse,{className:"border-t border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950 p-2 flex-shrink-0",children:[c.jsxs("div",{className:"px-4 py-3 flex items-center gap-3 group-data-[collapsible=icon]:hidden border-b border-slate-200/50 dark:border-slate-800 mb-2",children:[c.jsx("div",{className:"h-9 w-9 rounded-full bg-blue-600 dark:bg-white flex items-center justify-center text-white dark:text-slate-900 font-bold text-sm uppercase border border-white/10 shadow-sm transition-colors",children:n?.name?.charAt(0)||"U"}),c.jsxs("div",{className:"flex flex-col overflow-hidden text-right",children:[c.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:n?.name||""}),c.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 truncate",children:n?.email})]})]}),c.jsxs(Vj,{children:[c.jsx(hv,{children:c.jsxs(pv,{className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors text-slate-700 dark:text-slate-300",onClick:()=>a("/settings"),children:[c.jsx(bp,{className:"h-5 w-5 opacity-60"}),c.jsx("span",{className:"text-sm font-medium",children:""})]})}),c.jsx(hv,{children:c.jsxs(pv,{className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 hover:text-red-700 dark:hover:text-red-400 transition-colors",onClick:()=>{r(),i&&s(!1)},children:[c.jsx(yve,{className:"h-5 w-5"}),c.jsx("span",{className:"text-sm font-medium",children:" "})]})})]}),c.jsx("div",{className:"px-4 py-2 group-data-[collapsible=icon]:hidden",children:c.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-500 text-center border border-slate-200 dark:border-slate-800 rounded py-1 bg-slate-100 dark:bg-slate-900/50",children:[": ",""]})})]})]})}function WFe(){const[e,t]=E.useState("online"),[r,n]=E.useState(0),[s,i]=E.useState(0),[a,o]=E.useState(!1),[u,l]=E.useState(!1),d=E.useCallback(async()=>{try{const f=await zh();n(f.length)}catch{n(0)}},[]);E.useEffect(()=>{const f=()=>{navigator.onLine?e==="offline"&&(t("syncing"),o(!1),h()):(t("offline"),o(!1),d())};window.addEventListener("online",f),window.addEventListener("offline",f);const p=()=>{d(),o(!1)};return window.addEventListener("offline-mutation-queued",p),navigator.onLine||t("offline"),d(),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",f),window.removeEventListener("offline-mutation-queued",p)}},[e,d]);const h=E.useCallback(async()=>{t("syncing"),i(10);try{const f=await zh();if(f.length===0){t("completed"),i(100),l(!0),setTimeout(()=>{l(!1),t("online"),i(0)},2500);return}const p=f.length;let g=0;const y=setInterval(()=>{g=Math.min(g+1,p),i(Math.round(g/p*100))},500);await qb(),clearInterval(y),i(100),t("completed"),l(!0),n(0),setTimeout(()=>{l(!1),t("online"),i(0)},2500)}catch(f){console.error("[SyncTracker]  :",f),t("online"),i(0),d()}},[d]);return e==="online"&&!u&&r===0||a&&e==="offline"&&r===0?null:c.jsx("div",{className:_e("fixed bottom-20 left-4 right-4 z-[100] transition-all duration-300 max-w-sm mx-auto","pointer-events-auto"),dir:"rtl","data-testid":"sync-progress-tracker",children:c.jsxs("div",{className:_e("rounded-xl px-3 py-2 shadow-lg border flex items-center gap-2",e==="offline"&&"bg-amber-50 dark:bg-amber-950/80 border-amber-200 dark:border-amber-800",e==="syncing"&&"bg-blue-50 dark:bg-blue-950/80 border-blue-200 dark:border-blue-800",(e==="completed"||u)&&"bg-green-50 dark:bg-green-950/80 border-green-200 dark:border-green-800",e==="online"&&r>0&&"bg-amber-50 dark:bg-amber-950/80 border-amber-200 dark:border-amber-800"),children:[c.jsxs("div",{className:_e("shrink-0 p-1.5 rounded-lg",e==="offline"&&"bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400",e==="syncing"&&"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400",(e==="completed"||u)&&"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400",e==="online"&&r>0&&"bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400"),children:[e==="offline"&&c.jsx(eve,{className:"w-4 h-4"}),e==="syncing"&&c.jsx(ms,{className:"w-4 h-4 animate-spin"}),(e==="completed"||u)&&c.jsx(Xr,{className:"w-4 h-4"}),e==="online"&&r>0&&c.jsx(wd,{className:"w-4 h-4"})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("p",{className:_e("text-xs font-medium leading-tight",e==="offline"&&"text-amber-800 dark:text-amber-300",e==="syncing"&&"text-blue-800 dark:text-blue-300",(e==="completed"||u)&&"text-green-800 dark:text-green-300",e==="online"&&r>0&&"text-amber-800 dark:text-amber-300"),children:[e==="offline"&&(r>0?`   ${r}  `:"     "),e==="syncing"&&` ... ${s}%`,(e==="completed"||u)&&" ",e==="online"&&r>0&&`${r}   `]}),e==="syncing"&&c.jsx(wu,{value:s,className:"h-1 mt-1 bg-blue-100 dark:bg-blue-900"})]}),e==="offline"&&c.jsx("button",{onClick:()=>o(!0),className:"shrink-0 p-1 rounded-md text-amber-500 dark:text-amber-400 hover-elevate","data-testid":"button-dismiss-offline",children:c.jsx(_o,{className:"w-3.5 h-3.5"})}),e==="online"&&r>0&&c.jsx("button",{onClick:h,className:"shrink-0 text-[10px] font-medium px-2 py-1 rounded-md bg-amber-200 dark:bg-amber-800 text-amber-800 dark:text-amber-200 hover-elevate","data-testid":"button-sync-now",children:""}),e==="syncing"&&c.jsx("button",{disabled:!0,className:"shrink-0 text-[10px] font-medium px-2 py-1 rounded-md bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-200 opacity-60 cursor-not-allowed","data-testid":"button-sync-disabled",children:"..."})]})})}function qFe({onRefresh:e,enabled:t=!0,threshold:r=70,maxPull:n=130,minSpinnerTime:s=600,scrollRef:i}){const[a,o]=E.useState(0),[u,l]=E.useState(!1),[d,h]=E.useState(!1),f=E.useRef(!1),p=E.useRef(0),g=E.useRef(0),y=E.useRef(!1),m=E.useRef(null),v=Math.min(a/r,1),b=E.useCallback(async()=>{if(f.current)return;f.current=!0,l(!0);const x=Date.now();try{await e()}catch{}finally{const k=Date.now()-x,T=Math.max(0,s-k);setTimeout(()=>{l(!1),f.current=!1,o(0)},T)}},[e,s]);return E.useEffect(()=>{const x=i.current;if(!x||!t)return;x.style.overscrollBehaviorY="none";const k=()=>x.scrollTop<=0,T=P=>"touches"in P&&P.touches.length>0?P.touches[0].clientY:P.clientY,O=P=>{if(f.current||!k()||"pointerType"in P&&P.pointerType==="mouse")return;const D=T(P);p.current=D,g.current=D,y.current=!1},F=P=>{if(f.current||"pointerType"in P&&P.pointerType==="mouse")return;const D=T(P);if(D-p.current>10&&k()&&(y.current||(y.current=!0,h(!0),p.current=D)),y.current){P.cancelable&&P.preventDefault(),g.current=D;const B=g.current-p.current,C=Math.min(n,B*.5);m.current&&cancelAnimationFrame(m.current),m.current=requestAnimationFrame(()=>{o(Math.max(0,C))})}},A=()=>{m.current&&cancelAnimationFrame(m.current),y.current&&(y.current=!1,h(!1),(g.current-p.current)*.5>=r?(o(r),b()):o(0))};return x.addEventListener("touchstart",O,{passive:!0}),x.addEventListener("touchmove",F,{passive:!1}),x.addEventListener("touchend",A,{passive:!0}),x.addEventListener("touchcancel",A,{passive:!0}),()=>{x.removeEventListener("touchstart",O),x.removeEventListener("touchmove",F),x.removeEventListener("touchend",A),x.removeEventListener("touchcancel",A),x.style.overscrollBehaviorY="",m.current&&cancelAnimationFrame(m.current)}},[t,r,n,b,i]),{pullDistance:a,isRefreshing:u,isPulling:d,progress:v}}function HFe({pullDistance:e,isRefreshing:t,progress:r,threshold:n=70}){const s=e>5||t,i=t?n*.6:e,a=r>=1;return s?c.jsxs("div",{className:"pull-to-refresh-indicator flex items-center justify-center overflow-hidden pointer-events-none select-none",style:{height:`${i}px`,transition:t?"height 0.3s cubic-bezier(0.4, 0, 0.2, 1)":"none",willChange:"height",WebkitUserSelect:"none",userSelect:"none"},"data-testid":"pull-to-refresh-indicator",children:[c.jsx("div",{className:`
          flex items-center justify-center rounded-full
          w-10 h-10
          bg-background border border-border shadow-md
          transition-transform duration-200 ease-out
        `,style:{opacity:Math.min(1,r*1.5),transform:`scale(${.5+r*.5}) rotate(${t?0:r*180}deg)`,willChange:"transform, opacity"},children:c.jsx(ms,{className:`h-5 w-5 text-primary ${t?"animate-spin":""}`,style:{color:a&&!t?"hsl(var(--primary))":void 0}})}),a&&!t&&c.jsx("span",{className:"text-xs text-muted-foreground ms-2 animate-pulse",children:" "})]}):null}const KFe={"/":{queryKeys:[he.projectsWithStats,he.notifications,he.recentActivities,he.financialSummary,he.healthStats]},"/projects":{queryKeys:[he.projects,he.projectsWithStats,he.projectTypes]},"/workers":{queryKeys:[he.workers,he.workerTypes]},"/worker-accounts":{queryKeys:[he.workers,he.workerTypes]},"/suppliers-pro":{queryKeys:[he.suppliers,he.supplierStatistics]},"/supplier-accounts":{queryKeys:[he.suppliers,he.supplierStatistics]},"/customers":{queryKeys:[he.suppliers]},"/equipment":{queryKeys:[he.equipment,he.equipmentMovements]},"/notifications":{queryKeys:[he.notifications]},"/admin-notifications":{queryKeys:[he.notifications]},"/wells":{queryKeys:[he.wells]},"/well-cost-report":{queryKeys:[he.wells]},"/well-accounting":{queryKeys:[he.wells]},"/tasks":{queryKeys:[he.tasks]},"/reports":{queryKeys:[he.projectsWithStats,he.workers,he.suppliers]},"/users-management":{queryKeys:[he.users,he.usersList,he.usersWithRoles]},"/ai-chat":{queryKeys:[he.aiSessions]},"/admin/backups":{queryKeys:[he.backupsStatus,he.backupsLogs,he.backupsDatabases]},"/admin/monitoring":{queryKeys:[he.metrics,he.diagnostics,he.healthFull]},"/smart-errors":{queryKeys:[he.errorLogs]},"/daily-expenses":{queryKeys:[he.dailyExpenseSummaries,he.materials]},"/worker-attendance":{queryKeys:[he.workers,he.workerTypes]},"/material-purchase":{queryKeys:[he.materials,he.suppliers]},"/transport-management":{queryKeys:[he.transportationExpenses]},"/project-transfers":{queryKeys:[he.projectFundTransfers,he.allFundTransfers]},"/project-transactions":{queryKeys:[he.projects]},"/project-fund-custody":{queryKeys:[he.projectFundTransfers]},"/autocomplete-admin":{queryKeys:[he.autocomplete]},"/admin/data-health":{queryKeys:[he.adminDataHealth]},"/admin/sync":{queryKeys:[he.projects]},"/security-policies":{queryKeys:[he.securityPolicies,he.securityViolations,he.securitySuggestions]}};function GFe({children:e,showHeader:t=!0,showNav:r=!0,showFloatingButton:n=!0}){const[s]=gs(),i=ns(),{toast:a}=Br(),o=E.useRef(null),l=["/ai-chat","/admin/data-health"].some(x=>s===x),h=[].some(x=>s===x),f=KFe[s],p=!!f,g=E.useCallback(async()=>{if(f)try{const x=f.queryKeys.map(k=>i.refetchQueries({queryKey:k,type:"active"}));await Promise.all(x)}catch{throw a({title:" ",description:"  .    .",variant:"destructive",duration:3e3}),new Error("refresh failed")}},[f,i,a]),{pullDistance:y,isRefreshing:m,progress:v}=qFe({onRefresh:g,enabled:p,threshold:70,maxPull:130,minSpinnerTime:600,scrollRef:o}),b={"--sidebar-width":"18rem","--sidebar-width-icon":"4rem"};return c.jsxs(kse,{style:b,children:[c.jsx(WFe,{}),c.jsxs("div",{className:"flex h-[100dvh] w-full bg-background overflow-hidden",dir:"rtl",children:[c.jsx(VFe,{}),c.jsx(Tse,{className:"flex flex-col flex-1 h-full overflow-hidden relative",children:c.jsxs("div",{className:"layout-shell flex flex-col h-full overflow-hidden relative",children:[t&&!l&&c.jsx("header",{className:"layout-header flex-shrink-0 w-full border-b bg-white dark:bg-slate-900 shadow-sm relative z-30",children:c.jsxs("div",{className:"flex h-[60px] items-center px-4 gap-4",children:[c.jsx(Nse,{className:"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}),c.jsx("div",{className:"flex-1 overflow-hidden text-slate-900 dark:text-white flex items-center justify-between",children:c.jsx(pFe,{})})]})}),c.jsxs("main",{ref:o,className:"layout-main flex-1 overflow-y-auto overflow-x-hidden relative scrolling-touch pb-[calc(72px+env(safe-area-inset-bottom,0px)+16px)] md:pb-0",children:[p&&c.jsx(HFe,{pullDistance:y,isRefreshing:m,progress:v}),c.jsx("div",{className:l?"h-full":"layout-content p-4 md:p-6 max-w-7xl mx-auto w-full",children:e})]}),r&&!h&&c.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-[100] bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border-t border-slate-200 dark:border-slate-800 pb-[env(safe-area-inset-bottom,0px)] shadow-[0_-8px_20px_rgba(0,0,0,0.1)] flex items-center justify-center pointer-events-auto",children:c.jsx("div",{className:"w-full h-[72px] flex items-center justify-center",children:c.jsx(yFe,{})})}),n&&!l&&c.jsx("div",{className:"fixed bottom-24 right-6 md:bottom-8 md:right-8 z-40",children:c.jsx(bFe,{})})]})})]})]})}function ZFe({children:e}){const{isAuthenticated:t,isLoading:r,user:n}=ac();return console.log(" [ProtectedRoute]  :",{isLoading:r,isAuthenticated:t,hasUser:!!n,userEmail:n?.email||" ",timestamp:new Date().toISOString()}),r?(console.log(" [ProtectedRoute]  ..."),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center p-8 bg-card rounded-lg border shadow-sm",children:[c.jsx(Mr,{className:"h-10 w-10 animate-spin text-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground text-sm animate-pulse",children:"   ..."}),c.jsx(Se,{variant:"ghost",size:"sm",className:"mt-4 text-xs opacity-50 hover:opacity-100",onClick:()=>window.location.reload(),children:"  "})]})})):!t||!n?["/check","/permissions","/setup","/login","/verify-email","/reset-password"].includes(window.location.pathname)?(console.log(" [ProtectedRoute]    "),c.jsx(c.Fragment,{children:e})):(console.log(" [ProtectedRoute]     /login"),c.jsx(Zv,{to:"/login"})):(console.log(" [ProtectedRoute]     :",n.email),c.jsx(c.Fragment,{children:e}))}const NO=({variant:e,size:t})=>{const r=t==="sm"?"h-4 w-4":t==="md"?"h-6 w-6":"h-8 w-8",n={default:c.jsx(Mr,{className:_e(r,"animate-spin text-blue-500")}),database:c.jsx(qi,{className:_e(r,"animate-pulse text-green-500")}),processing:c.jsx(Vs,{className:_e(r,"animate-bounce text-orange-500")})};return n[e]||n.default},XFe=({step:e,index:t})=>{const r=()=>{switch(e.status){case"completed":return c.jsx(Ha,{className:"h-4 w-4 text-green-500"});case"loading":return c.jsx(Mr,{className:"h-4 w-4 animate-spin text-blue-500"});case"error":return c.jsx(Es,{className:"h-4 w-4 text-red-500"});default:return c.jsx(bn,{className:"h-4 w-4 text-gray-400"})}},n=()=>e.startTime&&e.status==="loading"?`${Math.floor((Date.now()-e.startTime)/1e3)}`:null;return c.jsxs(Zr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.1},className:_e("flex items-center gap-3 p-3 rounded-lg transition-all duration-300",e.status==="loading"&&"bg-blue-50 border border-blue-200",e.status==="completed"&&"bg-green-50 border border-green-200",e.status==="error"&&"bg-red-50 border border-red-200",e.status==="pending"&&"bg-gray-50 border border-gray-200"),children:[c.jsx("div",{className:"flex-shrink-0",children:r()}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:_e("text-sm font-medium truncate",e.status==="loading"&&"text-blue-700",e.status==="completed"&&"text-green-700",e.status==="error"&&"text-red-700",e.status==="pending"&&"text-gray-600"),children:e.label}),n()&&c.jsx("span",{className:"text-xs text-blue-600 font-mono",children:n()})]}),e.progress!==void 0&&e.status==="loading"&&c.jsx(Zr.div,{className:"mt-2 bg-gray-200 rounded-full h-1.5 overflow-hidden",initial:{scaleX:0},animate:{scaleX:1},children:c.jsx(Zr.div,{className:"bg-blue-500 h-full rounded-full",initial:{width:0},animate:{width:`${e.progress}%`},transition:{duration:.5}})})]})]})},YFe=({progress:e,size:t})=>{const r=2*Math.PI*(t/2-8),n=r,s=r-e/100*r;return c.jsxs("div",{className:"relative",children:[c.jsxs("svg",{className:"transform -rotate-90",width:t,height:t,children:[c.jsx("circle",{cx:t/2,cy:t/2,r:t/2-8,stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-gray-200"}),c.jsx(Zr.circle,{cx:t/2,cy:t/2,r:t/2-8,stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:n,strokeDashoffset:s,strokeLinecap:"round",className:"text-blue-500",initial:{strokeDashoffset:r},animate:{strokeDashoffset:s},transition:{duration:.5,ease:"easeInOut"}})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[Math.round(e),"%"]})})]})},Ose=({isLoading:e,steps:t=[],message:r=" ...",progress:n,showSteps:s=!1,size:i="md",variant:a="default",onComplete:o,estimatedTime:u,className:l})=>{const[d,h]=jt.useState(0),f=jt.useRef(Date.now());if(jt.useEffect(()=>{if(!e)return;f.current=Date.now();const y=setInterval(()=>{h(Math.floor((Date.now()-f.current)/1e3))},1e3);return()=>clearInterval(y)},[e]),jt.useEffect(()=>{!e&&d>0&&(o?.(),h(0))},[e,d,o]),!e)return null;const p=()=>c.jsxs(Zr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:_e("flex items-center gap-3",l),children:[c.jsx(NO,{variant:a,size:i}),c.jsx("span",{className:"text-sm text-gray-600",children:r})]}),g=()=>c.jsxs(Zr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:_e("bg-white rounded-xl shadow-lg border border-gray-200 p-6 max-w-md mx-auto",l),children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"flex justify-center mb-4",children:n!==void 0?c.jsx(YFe,{progress:n,size:80}):c.jsx(NO,{variant:a,size:"lg"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:r}),c.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500",children:[c.jsxs("span",{children:[" : ",d,""]}),u&&c.jsxs("span",{children:[": ",u,""]})]})]}),s&&t.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:" :"}),t.map((y,m)=>c.jsx(XFe,{step:y,index:m},y.id))]}),n!==void 0&&!s&&c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[c.jsx("span",{children:""}),c.jsxs("span",{children:[Math.round(n),"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:c.jsx(Zr.div,{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.5}})})]})]});return a==="minimal"?p():c.jsx(zg,{children:e&&c.jsx(Zr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:g()})})};function ys({children:e,requiredRole:t="admin"}){const{user:r,isAuthenticated:n,isLoading:s}=ac();return s?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ose,{})}):n?!r||r.role!==t?c.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-indigo-900/20",children:c.jsxs("div",{className:"max-w-lg w-full",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[c.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-6 text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full mb-4",children:c.jsx(jve,{className:"h-12 w-12 text-white",strokeWidth:1.5})}),c.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"   "}),c.jsx("p",{className:"text-white/90 text-sm",children:"      "})]}),c.jsxs("div",{className:"p-8 space-y-6",children:[c.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-orange-600 dark:text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:" "}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"    "})]})]})}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-5 border border-blue-200 dark:border-blue-800",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:" "}),c.jsx("p",{className:"text-sm font-bold text-blue-900 dark:text-blue-100",children:r?.role==="user"?" ":r?.role||" "})]})]}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"        "})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[c.jsxs("a",{href:"/",className:"flex-1 inline-flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"  "]}),c.jsxs("button",{onClick:()=>window.history.back(),className:"flex-1 inline-flex items-center justify-center gap-2 px-5 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 font-medium border border-gray-300 dark:border-gray-600",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),""]})]})]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"             "})})]})}):c.jsx(c.Fragment,{children:e}):c.jsx(Zv,{to:"/login"})}function QFe({children:e}){const{user:t,isLoading:r}=ac(),n=t?.emailVerified===!0||localStorage.getItem("emailVerified")==="true";return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:c.jsx(Ose,{isLoading:!0,message:"    ..."})}):t?t.role==="admin"?c.jsx(c.Fragment,{children:e}):n?c.jsx(c.Fragment,{children:e}):(console.log(" [EmailVerificationGuard]        "),c.jsx(Zv,{to:`/verify-email?userId=${t.id}&email=${encodeURIComponent(t.email)}`})):c.jsx(Zv,{to:"/login"})}const TO=fp("PushNotifications",{});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const JFe=4,EO=0,CO=1,eze=2;function zp(e){let t=e.length;for(;--t>=0;)e[t]=0}const tze=0,Mse=1,rze=2,nze=3,sze=258,H5=29,jy=256,t0=jy+1+H5,ph=30,K5=19,Dse=2*t0+1,id=15,TS=16,ize=7,G5=256,$se=16,Lse=17,Fse=18,Wj=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),mv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),aze=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),zse=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oze=512,kl=new Array((t0+2)*2);zp(kl);const rg=new Array(ph*2);zp(rg);const r0=new Array(oze);zp(r0);const n0=new Array(sze-nze+1);zp(n0);const Z5=new Array(H5);zp(Z5);const Ux=new Array(ph);zp(Ux);function ES(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}let Bse,Use,Vse;function CS(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const Wse=e=>e<256?r0[e]:r0[256+(e>>>7)],s0=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},zi=(e,t,r)=>{e.bi_valid>TS-r?(e.bi_buf|=t<<e.bi_valid&65535,s0(e,e.bi_buf),e.bi_buf=t>>TS-e.bi_valid,e.bi_valid+=r-TS):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Wo=(e,t,r)=>{zi(e,r[t*2],r[t*2+1])},qse=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},lze=e=>{e.bi_valid===16?(s0(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},cze=(e,t)=>{const r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,u=t.stat_desc.max_length;let l,d,h,f,p,g,y=0;for(f=0;f<=id;f++)e.bl_count[f]=0;for(r[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Dse;l++)d=e.heap[l],f=r[r[d*2+1]*2+1]+1,f>u&&(f=u,y++),r[d*2+1]=f,!(d>n)&&(e.bl_count[f]++,p=0,d>=o&&(p=a[d-o]),g=r[d*2],e.opt_len+=g*(f+p),i&&(e.static_len+=g*(s[d*2+1]+p)));if(y!==0){do{for(f=u-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[u]--,y-=2}while(y>0);for(f=u;f!==0;f--)for(d=e.bl_count[f];d!==0;)h=e.heap[--l],!(h>n)&&(r[h*2+1]!==f&&(e.opt_len+=(f-r[h*2+1])*r[h*2],r[h*2+1]=f),d--)}},Hse=(e,t,r)=>{const n=new Array(id+1);let s=0,i,a;for(i=1;i<=id;i++)s=s+r[i-1]<<1,n[i]=s;for(a=0;a<=t;a++){let o=e[a*2+1];o!==0&&(e[a*2]=qse(n[o]++,o))}},uze=()=>{let e,t,r,n,s;const i=new Array(id+1);for(r=0,n=0;n<H5-1;n++)for(Z5[n]=r,e=0;e<1<<Wj[n];e++)n0[r++]=n;for(n0[r-1]=n,s=0,n=0;n<16;n++)for(Ux[n]=s,e=0;e<1<<mv[n];e++)r0[s++]=n;for(s>>=7;n<ph;n++)for(Ux[n]=s<<7,e=0;e<1<<mv[n]-7;e++)r0[256+s++]=n;for(t=0;t<=id;t++)i[t]=0;for(e=0;e<=143;)kl[e*2+1]=8,e++,i[8]++;for(;e<=255;)kl[e*2+1]=9,e++,i[9]++;for(;e<=279;)kl[e*2+1]=7,e++,i[7]++;for(;e<=287;)kl[e*2+1]=8,e++,i[8]++;for(Hse(kl,t0+1,i),e=0;e<ph;e++)rg[e*2+1]=5,rg[e*2]=qse(e,5);Bse=new ES(kl,Wj,jy+1,t0,id),Use=new ES(rg,mv,0,ph,id),Vse=new ES(new Array(0),aze,0,K5,ize)},Kse=e=>{let t;for(t=0;t<t0;t++)e.dyn_ltree[t*2]=0;for(t=0;t<ph;t++)e.dyn_dtree[t*2]=0;for(t=0;t<K5;t++)e.bl_tree[t*2]=0;e.dyn_ltree[G5*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Gse=e=>{e.bi_valid>8?s0(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},AO=(e,t,r,n)=>{const s=t*2,i=r*2;return e[s]<e[i]||e[s]===e[i]&&n[t]<=n[r]},AS=(e,t,r)=>{const n=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&AO(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!AO(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n},PO=(e,t,r)=>{let n,s,i=0,a,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],n===0?Wo(e,s,t):(a=n0[s],Wo(e,a+jy+1,t),o=Wj[a],o!==0&&(s-=Z5[a],zi(e,s,o)),n--,a=Wse(n),Wo(e,a,r),o=mv[a],o!==0&&(n-=Ux[a],zi(e,n,o)));while(i<e.sym_next);Wo(e,G5,t)},qj=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let a,o,u=-1,l;for(e.heap_len=0,e.heap_max=Dse,a=0;a<i;a++)r[a*2]!==0?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=u<2?++u:0,r[l*2]=1,e.depth[l]=0,e.opt_len--,s&&(e.static_len-=n[l*2+1]);for(t.max_code=u,a=e.heap_len>>1;a>=1;a--)AS(e,r,a);l=i;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],AS(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,r[l*2]=r[a*2]+r[o*2],e.depth[l]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,r[a*2+1]=r[o*2+1]=l,e.heap[1]=l++,AS(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],cze(e,t),Hse(r,u,e.bl_count)},IO=(e,t,r)=>{let n,s=-1,i,a=t[1],o=0,u=7,l=4;for(a===0&&(u=138,l=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=a,a=t[(n+1)*2+1],!(++o<u&&i===a)&&(o<l?e.bl_tree[i*2]+=o:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[$se*2]++):o<=10?e.bl_tree[Lse*2]++:e.bl_tree[Fse*2]++,o=0,s=i,a===0?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))},RO=(e,t,r)=>{let n,s=-1,i,a=t[1],o=0,u=7,l=4;for(a===0&&(u=138,l=3),n=0;n<=r;n++)if(i=a,a=t[(n+1)*2+1],!(++o<u&&i===a)){if(o<l)do Wo(e,i,e.bl_tree);while(--o!==0);else i!==0?(i!==s&&(Wo(e,i,e.bl_tree),o--),Wo(e,$se,e.bl_tree),zi(e,o-3,2)):o<=10?(Wo(e,Lse,e.bl_tree),zi(e,o-3,3)):(Wo(e,Fse,e.bl_tree),zi(e,o-11,7));o=0,s=i,a===0?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4)}},dze=e=>{let t;for(IO(e,e.dyn_ltree,e.l_desc.max_code),IO(e,e.dyn_dtree,e.d_desc.max_code),qj(e,e.bl_desc),t=K5-1;t>=3&&e.bl_tree[zse[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},fze=(e,t,r,n)=>{let s;for(zi(e,t-257,5),zi(e,r-1,5),zi(e,n-4,4),s=0;s<n;s++)zi(e,e.bl_tree[zse[s]*2+1],3);RO(e,e.dyn_ltree,t-1),RO(e,e.dyn_dtree,r-1)},hze=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return EO;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return CO;for(r=32;r<jy;r++)if(e.dyn_ltree[r*2]!==0)return CO;return EO};let OO=!1;const pze=e=>{OO||(uze(),OO=!0),e.l_desc=new CS(e.dyn_ltree,Bse),e.d_desc=new CS(e.dyn_dtree,Use),e.bl_desc=new CS(e.bl_tree,Vse),e.bi_buf=0,e.bi_valid=0,Kse(e)},Zse=(e,t,r,n)=>{zi(e,(tze<<1)+(n?1:0),3),Gse(e),s0(e,r),s0(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},mze=e=>{zi(e,Mse<<1,3),Wo(e,G5,kl),lze(e)},gze=(e,t,r,n)=>{let s,i,a=0;e.level>0?(e.strm.data_type===eze&&(e.strm.data_type=hze(e)),qj(e,e.l_desc),qj(e,e.d_desc),a=dze(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&t!==-1?Zse(e,t,r,n):e.strategy===JFe||i===s?(zi(e,(Mse<<1)+(n?1:0),3),PO(e,kl,rg)):(zi(e,(rze<<1)+(n?1:0),3),fze(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),PO(e,e.dyn_ltree,e.dyn_dtree)),Kse(e),n&&Gse(e)},yze=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(n0[r]+jy+1)*2]++,e.dyn_dtree[Wse(t)*2]++),e.sym_next===e.sym_end);var bze=pze,vze=Zse,xze=gze,wze=yze,_ze=mze,Sze={_tr_init:bze,_tr_stored_block:vze,_tr_flush_block:xze,_tr_tally:wze,_tr_align:_ze};const kze=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+t[n++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var i0=kze;const jze=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Nze=new Uint32Array(jze()),Tze=(e,t,r,n)=>{const s=Nze,i=n+r;e^=-1;for(let a=n;a<i;a++)e=e>>>8^s[(e^t[a])&255];return e^-1};var ws=Tze,Gd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ny={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Eze,_tr_stored_block:Hj,_tr_flush_block:Cze,_tr_tally:iu,_tr_align:Aze}=Sze,{Z_NO_FLUSH:au,Z_PARTIAL_FLUSH:Pze,Z_FULL_FLUSH:Ize,Z_FINISH:Oa,Z_BLOCK:MO,Z_OK:Ms,Z_STREAM_END:DO,Z_STREAM_ERROR:rl,Z_DATA_ERROR:Rze,Z_BUF_ERROR:PS,Z_DEFAULT_COMPRESSION:Oze,Z_FILTERED:Mze,Z_HUFFMAN_ONLY:_b,Z_RLE:Dze,Z_FIXED:$ze,Z_DEFAULT_STRATEGY:Lze,Z_UNKNOWN:Fze,Z_DEFLATED:d_}=Ny,zze=9,Bze=15,Uze=8,Vze=29,Wze=256,Kj=Wze+1+Vze,qze=30,Hze=19,Kze=2*Kj+1,Gze=15,Er=3,Fc=258,nl=Fc+Er+1,Zze=32,lp=42,X5=57,Gj=69,Zj=73,Xj=91,Yj=103,ad=113,Im=666,_i=1,Bp=2,Zd=3,Up=4,Xze=3,od=(e,t)=>(e.msg=Gd[t],t),$O=e=>e*2-(e>4?9:0),jc=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Yze=e=>{let t,r,n,s=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=s?r-s:0;while(--t);t=s,n=t;do r=e.prev[--n],e.prev[n]=r>=s?r-s:0;while(--t)};let Qze=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,ou=Qze;const Gi=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},na=(e,t)=>{Cze(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Gi(e.strm)},Fr=(e,t)=>{e.pending_buf[e.pending++]=t},gm=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Qj=(e,t,r,n)=>{let s=e.avail_in;return s>n&&(s=n),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),e.state.wrap===1?e.adler=i0(e.adler,t,s,r):e.state.wrap===2&&(e.adler=ws(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},Xse=(e,t)=>{let r=e.max_chain_length,n=e.strstart,s,i,a=e.prev_length,o=e.nice_match;const u=e.strstart>e.w_size-nl?e.strstart-(e.w_size-nl):0,l=e.window,d=e.w_mask,h=e.prev,f=e.strstart+Fc;let p=l[n+a-1],g=l[n+a];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(s=t,!(l[s+a]!==g||l[s+a-1]!==p||l[s]!==l[n]||l[++s]!==l[n+1])){n+=2,s++;do;while(l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&n<f);if(i=Fc-(f-n),n=f-Fc,i>a){if(e.match_start=t,a=i,i>=o)break;p=l[n+a-1],g=l[n+a]}}while((t=h[t&d])>u&&--r!==0);return a<=e.lookahead?a:e.lookahead},cp=e=>{const t=e.w_size;let r,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-nl)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Yze(e),n+=t),e.strm.avail_in===0)break;if(r=Qj(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=Er)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=ou(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=ou(e,e.ins_h,e.window[s+Er-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Er)););}while(e.lookahead<nl&&e.strm.avail_in!==0)},Yse=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,s,i,a=0,o=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,n>s+e.strm.avail_in&&(n=s+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==Oa||t===au||n!==s+e.strm.avail_in)))break;a=t===Oa&&n===s+e.strm.avail_in?1:0,Hj(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Gi(e.strm),s&&(s>n&&(s=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,n-=s),n&&(Qj(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?Up:t!==au&&t!==Oa&&e.strm.avail_in===0&&e.strstart===e.block_start?Bp:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Qj(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=r||(s||t===Oa)&&t!==au&&e.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,a=t===Oa&&e.strm.avail_in===0&&n===s?1:0,Hj(e,e.block_start,n,a),e.block_start+=n,Gi(e.strm)),a?Zd:_i)},IS=(e,t)=>{let r,n;for(;;){if(e.lookahead<nl){if(cp(e),e.lookahead<nl&&t===au)return _i;if(e.lookahead===0)break}if(r=0,e.lookahead>=Er&&(e.ins_h=ou(e,e.ins_h,e.window[e.strstart+Er-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-nl&&(e.match_length=Xse(e,r)),e.match_length>=Er)if(n=iu(e,e.strstart-e.match_start,e.match_length-Er),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Er){e.match_length--;do e.strstart++,e.ins_h=ou(e,e.ins_h,e.window[e.strstart+Er-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ou(e,e.ins_h,e.window[e.strstart+1]);else n=iu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(na(e,!1),e.strm.avail_out===0))return _i}return e.insert=e.strstart<Er-1?e.strstart:Er-1,t===Oa?(na(e,!0),e.strm.avail_out===0?Zd:Up):e.sym_next&&(na(e,!1),e.strm.avail_out===0)?_i:Bp},kf=(e,t)=>{let r,n,s;for(;;){if(e.lookahead<nl){if(cp(e),e.lookahead<nl&&t===au)return _i;if(e.lookahead===0)break}if(r=0,e.lookahead>=Er&&(e.ins_h=ou(e,e.ins_h,e.window[e.strstart+Er-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Er-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-nl&&(e.match_length=Xse(e,r),e.match_length<=5&&(e.strategy===Mze||e.match_length===Er&&e.strstart-e.match_start>4096)&&(e.match_length=Er-1)),e.prev_length>=Er&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-Er,n=iu(e,e.strstart-1-e.prev_match,e.prev_length-Er),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=ou(e,e.ins_h,e.window[e.strstart+Er-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Er-1,e.strstart++,n&&(na(e,!1),e.strm.avail_out===0))return _i}else if(e.match_available){if(n=iu(e,0,e.window[e.strstart-1]),n&&na(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return _i}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=iu(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Er-1?e.strstart:Er-1,t===Oa?(na(e,!0),e.strm.avail_out===0?Zd:Up):e.sym_next&&(na(e,!1),e.strm.avail_out===0)?_i:Bp},Jze=(e,t)=>{let r,n,s,i;const a=e.window;for(;;){if(e.lookahead<=Fc){if(cp(e),e.lookahead<=Fc&&t===au)return _i;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Er&&e.strstart>0&&(s=e.strstart-1,n=a[s],n===a[++s]&&n===a[++s]&&n===a[++s])){i=e.strstart+Fc;do;while(n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&s<i);e.match_length=Fc-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Er?(r=iu(e,1,e.match_length-Er),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=iu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(na(e,!1),e.strm.avail_out===0))return _i}return e.insert=0,t===Oa?(na(e,!0),e.strm.avail_out===0?Zd:Up):e.sym_next&&(na(e,!1),e.strm.avail_out===0)?_i:Bp},eBe=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(cp(e),e.lookahead===0)){if(t===au)return _i;break}if(e.match_length=0,r=iu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(na(e,!1),e.strm.avail_out===0))return _i}return e.insert=0,t===Oa?(na(e,!0),e.strm.avail_out===0?Zd:Up):e.sym_next&&(na(e,!1),e.strm.avail_out===0)?_i:Bp};function Mo(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}const Rm=[new Mo(0,0,0,0,Yse),new Mo(4,4,8,4,IS),new Mo(4,5,16,8,IS),new Mo(4,6,32,32,IS),new Mo(4,4,16,16,kf),new Mo(8,16,32,32,kf),new Mo(8,16,128,128,kf),new Mo(8,32,128,256,kf),new Mo(32,128,258,1024,kf),new Mo(32,258,258,4096,kf)],tBe=e=>{e.window_size=2*e.w_size,jc(e.head),e.max_lazy_match=Rm[e.level].max_lazy,e.good_match=Rm[e.level].good_length,e.nice_match=Rm[e.level].nice_length,e.max_chain_length=Rm[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Er-1,e.match_available=0,e.ins_h=0};function rBe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=d_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Kze*2),this.dyn_dtree=new Uint16Array((2*qze+1)*2),this.bl_tree=new Uint16Array((2*Hze+1)*2),jc(this.dyn_ltree),jc(this.dyn_dtree),jc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Gze+1),this.heap=new Uint16Array(2*Kj+1),jc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Kj+1),jc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ty=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==lp&&t.status!==X5&&t.status!==Gj&&t.status!==Zj&&t.status!==Xj&&t.status!==Yj&&t.status!==ad&&t.status!==Im?1:0},Qse=e=>{if(Ty(e))return od(e,rl);e.total_in=e.total_out=0,e.data_type=Fze;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?X5:t.wrap?lp:ad,e.adler=t.wrap===2?0:1,t.last_flush=-2,Eze(t),Ms},Jse=e=>{const t=Qse(e);return t===Ms&&tBe(e.state),t},nBe=(e,t)=>Ty(e)||e.state.wrap!==2?rl:(e.state.gzhead=t,Ms),eie=(e,t,r,n,s,i)=>{if(!e)return rl;let a=1;if(t===Oze&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>zze||r!==d_||n<8||n>15||t<0||t>9||i<0||i>$ze||n===8&&a!==1)return od(e,rl);n===8&&(n=9);const o=new rBe;return e.state=o,o.strm=e,o.status=lp,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=s+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Er-1)/Er),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<s+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=i,o.method=r,Jse(e)},sBe=(e,t)=>eie(e,t,d_,Bze,Uze,Lze),iBe=(e,t)=>{if(Ty(e)||t>MO||t<0)return e?od(e,rl):rl;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Im&&t!==Oa)return od(e,e.avail_out===0?PS:rl);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Gi(e),e.avail_out===0)return r.last_flush=-1,Ms}else if(e.avail_in===0&&$O(t)<=$O(n)&&t!==Oa)return od(e,PS);if(r.status===Im&&e.avail_in!==0)return od(e,PS);if(r.status===lp&&r.wrap===0&&(r.status=ad),r.status===lp){let s=d_+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=_b||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,s|=i<<6,r.strstart!==0&&(s|=Zze),s+=31-s%31,gm(r,s),r.strstart!==0&&(gm(r,e.adler>>>16),gm(r,e.adler&65535)),e.adler=1,r.status=ad,Gi(e),r.pending!==0)return r.last_flush=-1,Ms}if(r.status===X5){if(e.adler=0,Fr(r,31),Fr(r,139),Fr(r,8),r.gzhead)Fr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Fr(r,r.gzhead.time&255),Fr(r,r.gzhead.time>>8&255),Fr(r,r.gzhead.time>>16&255),Fr(r,r.gzhead.time>>24&255),Fr(r,r.level===9?2:r.strategy>=_b||r.level<2?4:0),Fr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Fr(r,r.gzhead.extra.length&255),Fr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ws(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Gj;else if(Fr(r,0),Fr(r,0),Fr(r,0),Fr(r,0),Fr(r,0),Fr(r,r.level===9?2:r.strategy>=_b||r.level<2?4:0),Fr(r,Xze),r.status=ad,Gi(e),r.pending!==0)return r.last_flush=-1,Ms}if(r.status===Gj){if(r.gzhead.extra){let s=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(e.adler=ws(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=o,Gi(e),r.pending!==0)return r.last_flush=-1,Ms;s=0,i-=o}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>s&&(e.adler=ws(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=Zj}if(r.status===Zj){if(r.gzhead.name){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=ws(e.adler,r.pending_buf,r.pending-s,s)),Gi(e),r.pending!==0)return r.last_flush=-1,Ms;s=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,Fr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=ws(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=Xj}if(r.status===Xj){if(r.gzhead.comment){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=ws(e.adler,r.pending_buf,r.pending-s,s)),Gi(e),r.pending!==0)return r.last_flush=-1,Ms;s=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,Fr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=ws(e.adler,r.pending_buf,r.pending-s,s))}r.status=Yj}if(r.status===Yj){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Gi(e),r.pending!==0))return r.last_flush=-1,Ms;Fr(r,e.adler&255),Fr(r,e.adler>>8&255),e.adler=0}if(r.status=ad,Gi(e),r.pending!==0)return r.last_flush=-1,Ms}if(e.avail_in!==0||r.lookahead!==0||t!==au&&r.status!==Im){let s=r.level===0?Yse(r,t):r.strategy===_b?eBe(r,t):r.strategy===Dze?Jze(r,t):Rm[r.level].func(r,t);if((s===Zd||s===Up)&&(r.status=Im),s===_i||s===Zd)return e.avail_out===0&&(r.last_flush=-1),Ms;if(s===Bp&&(t===Pze?Aze(r):t!==MO&&(Hj(r,0,0,!1),t===Ize&&(jc(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Gi(e),e.avail_out===0))return r.last_flush=-1,Ms}return t!==Oa?Ms:r.wrap<=0?DO:(r.wrap===2?(Fr(r,e.adler&255),Fr(r,e.adler>>8&255),Fr(r,e.adler>>16&255),Fr(r,e.adler>>24&255),Fr(r,e.total_in&255),Fr(r,e.total_in>>8&255),Fr(r,e.total_in>>16&255),Fr(r,e.total_in>>24&255)):(gm(r,e.adler>>>16),gm(r,e.adler&65535)),Gi(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ms:DO)},aBe=e=>{if(Ty(e))return rl;const t=e.state.status;return e.state=null,t===ad?od(e,Rze):Ms},oBe=(e,t)=>{let r=t.length;if(Ty(e))return rl;const n=e.state,s=n.wrap;if(s===2||s===1&&n.status!==lp||n.lookahead)return rl;if(s===1&&(e.adler=i0(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){s===0&&(jc(n.head),n.strstart=0,n.block_start=0,n.insert=0);let u=new Uint8Array(n.w_size);u.set(t.subarray(r-n.w_size,r),0),t=u,r=n.w_size}const i=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,cp(n);n.lookahead>=Er;){let u=n.strstart,l=n.lookahead-(Er-1);do n.ins_h=ou(n,n.ins_h,n.window[u+Er-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++;while(--l);n.strstart=u,n.lookahead=Er-1,cp(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Er-1,n.match_available=0,e.next_in=a,e.input=o,e.avail_in=i,n.wrap=s,Ms};var lBe=sBe,cBe=eie,uBe=Jse,dBe=Qse,fBe=nBe,hBe=iBe,pBe=aBe,mBe=oBe,gBe="pako deflate (from Nodeca project)",ng={deflateInit:lBe,deflateInit2:cBe,deflateReset:uBe,deflateResetKeep:dBe,deflateSetHeader:fBe,deflate:hBe,deflateEnd:pBe,deflateSetDictionary:mBe,deflateInfo:gBe};const yBe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var bBe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)yBe(r,n)&&(e[n]=r[n])}}return e},vBe=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let a=e[n];r.set(a,s),s+=a.length}return r},f_={assign:bBe,flattenChunks:vBe};let tie=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{tie=!1}const a0=new Uint8Array(256);for(let e=0;e<256;e++)a0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;a0[254]=a0[254]=1;var xBe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,a=e.length,o=0;for(s=0;s<a;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,s=0;i<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const wBe=(e,t)=>{if(t<65534&&e.subarray&&tie)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var _Be=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let a=e[n++];if(a<128){i[s++]=a;continue}let o=a0[a];if(o>4){i[s++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|e[n++]&63,o--;if(o>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return wBe(i,s)},SBe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+a0[e[r]]>t?r:t},o0={string2buf:xBe,buf2string:_Be,utf8border:SBe};function kBe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var rie=kBe;const nie=Object.prototype.toString,{Z_NO_FLUSH:jBe,Z_SYNC_FLUSH:NBe,Z_FULL_FLUSH:TBe,Z_FINISH:EBe,Z_OK:Vx,Z_STREAM_END:CBe,Z_DEFAULT_COMPRESSION:ABe,Z_DEFAULT_STRATEGY:PBe,Z_DEFLATED:IBe}=Ny;function Ey(e){this.options=f_.assign({level:ABe,method:IBe,chunkSize:16384,windowBits:15,memLevel:8,strategy:PBe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rie,this.strm.avail_out=0;let r=ng.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Vx)throw new Error(Gd[r]);if(t.header&&ng.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=o0.string2buf(t.dictionary):nie.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=ng.deflateSetDictionary(this.strm,n),r!==Vx)throw new Error(Gd[r]);this._dict_set=!0}}Ey.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?EBe:jBe,typeof e=="string"?r.input=o0.string2buf(e):nie.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===NBe||i===TBe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=ng.deflate(r,i),s===CBe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=ng.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Vx;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Ey.prototype.onData=function(e){this.chunks.push(e)};Ey.prototype.onEnd=function(e){e===Vx&&(this.result=f_.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Y5(e,t){const r=new Ey(t);if(r.push(e,!0),r.err)throw r.msg||Gd[r.err];return r.result}function RBe(e,t){return t=t||{},t.raw=!0,Y5(e,t)}function OBe(e,t){return t=t||{},t.gzip=!0,Y5(e,t)}var MBe=Ey,DBe=Y5,$Be=RBe,LBe=OBe,FBe={Deflate:MBe,deflate:DBe,deflateRaw:$Be,gzip:LBe};const Sb=16209,zBe=16191;var BBe=function(t,r){let n,s,i,a,o,u,l,d,h,f,p,g,y,m,v,b,x,k,T,O,F,A,P,D;const V=t.state;n=t.next_in,P=t.input,s=n+(t.avail_in-5),i=t.next_out,D=t.output,a=i-(r-t.avail_out),o=i+(t.avail_out-257),u=V.dmax,l=V.wsize,d=V.whave,h=V.wnext,f=V.window,p=V.hold,g=V.bits,y=V.lencode,m=V.distcode,v=(1<<V.lenbits)-1,b=(1<<V.distbits)-1;e:do{g<15&&(p+=P[n++]<<g,g+=8,p+=P[n++]<<g,g+=8),x=y[p&v];t:for(;;){if(k=x>>>24,p>>>=k,g-=k,k=x>>>16&255,k===0)D[i++]=x&65535;else if(k&16){T=x&65535,k&=15,k&&(g<k&&(p+=P[n++]<<g,g+=8),T+=p&(1<<k)-1,p>>>=k,g-=k),g<15&&(p+=P[n++]<<g,g+=8,p+=P[n++]<<g,g+=8),x=m[p&b];r:for(;;){if(k=x>>>24,p>>>=k,g-=k,k=x>>>16&255,k&16){if(O=x&65535,k&=15,g<k&&(p+=P[n++]<<g,g+=8,g<k&&(p+=P[n++]<<g,g+=8)),O+=p&(1<<k)-1,O>u){t.msg="invalid distance too far back",V.mode=Sb;break e}if(p>>>=k,g-=k,k=i-a,O>k){if(k=O-k,k>d&&V.sane){t.msg="invalid distance too far back",V.mode=Sb;break e}if(F=0,A=f,h===0){if(F+=l-k,k<T){T-=k;do D[i++]=f[F++];while(--k);F=i-O,A=D}}else if(h<k){if(F+=l+h-k,k-=h,k<T){T-=k;do D[i++]=f[F++];while(--k);if(F=0,h<T){k=h,T-=k;do D[i++]=f[F++];while(--k);F=i-O,A=D}}}else if(F+=h-k,k<T){T-=k;do D[i++]=f[F++];while(--k);F=i-O,A=D}for(;T>2;)D[i++]=A[F++],D[i++]=A[F++],D[i++]=A[F++],T-=3;T&&(D[i++]=A[F++],T>1&&(D[i++]=A[F++]))}else{F=i-O;do D[i++]=D[F++],D[i++]=D[F++],D[i++]=D[F++],T-=3;while(T>2);T&&(D[i++]=D[F++],T>1&&(D[i++]=D[F++]))}}else if((k&64)===0){x=m[(x&65535)+(p&(1<<k)-1)];continue r}else{t.msg="invalid distance code",V.mode=Sb;break e}break}}else if((k&64)===0){x=y[(x&65535)+(p&(1<<k)-1)];continue t}else if(k&32){V.mode=zBe;break e}else{t.msg="invalid literal/length code",V.mode=Sb;break e}break}}while(n<s&&i<o);T=g>>3,n-=T,g-=T<<3,p&=(1<<g)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<o?257+(o-i):257-(i-o),V.hold=p,V.bits=g};const jf=15,LO=852,FO=592,zO=0,RS=1,BO=2,UBe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),VBe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),WBe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qBe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HBe=(e,t,r,n,s,i,a,o)=>{const u=o.bits;let l=0,d=0,h=0,f=0,p=0,g=0,y=0,m=0,v=0,b=0,x,k,T,O,F,A=null,P;const D=new Uint16Array(jf+1),V=new Uint16Array(jf+1);let B=null,C,I,N;for(l=0;l<=jf;l++)D[l]=0;for(d=0;d<n;d++)D[t[r+d]]++;for(p=u,f=jf;f>=1&&D[f]===0;f--);if(p>f&&(p=f),f===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<f&&D[h]===0;h++);for(p<h&&(p=h),m=1,l=1;l<=jf;l++)if(m<<=1,m-=D[l],m<0)return-1;if(m>0&&(e===zO||f!==1))return-1;for(V[1]=0,l=1;l<jf;l++)V[l+1]=V[l]+D[l];for(d=0;d<n;d++)t[r+d]!==0&&(a[V[t[r+d]]++]=d);if(e===zO?(A=B=a,P=20):e===RS?(A=UBe,B=VBe,P=257):(A=WBe,B=qBe,P=0),b=0,d=0,l=h,F=i,g=p,y=0,T=-1,v=1<<p,O=v-1,e===RS&&v>LO||e===BO&&v>FO)return 1;for(;;){C=l-y,a[d]+1<P?(I=0,N=a[d]):a[d]>=P?(I=B[a[d]-P],N=A[a[d]-P]):(I=96,N=0),x=1<<l-y,k=1<<g,h=k;do k-=x,s[F+(b>>y)+k]=C<<24|I<<16|N|0;while(k!==0);for(x=1<<l-1;b&x;)x>>=1;if(x!==0?(b&=x-1,b+=x):b=0,d++,--D[l]===0){if(l===f)break;l=t[r+a[d]]}if(l>p&&(b&O)!==T){for(y===0&&(y=p),F+=h,g=l-y,m=1<<g;g+y<f&&(m-=D[g+y],!(m<=0));)g++,m<<=1;if(v+=1<<g,e===RS&&v>LO||e===BO&&v>FO)return 1;T=b&O,s[T]=p<<24|g<<16|F-i|0}}return b!==0&&(s[F+b]=l-y<<24|64<<16|0),o.bits=p,0};var sg=HBe;const KBe=0,sie=1,iie=2,{Z_FINISH:UO,Z_BLOCK:GBe,Z_TREES:kb,Z_OK:Xd,Z_STREAM_END:ZBe,Z_NEED_DICT:XBe,Z_STREAM_ERROR:Za,Z_DATA_ERROR:aie,Z_MEM_ERROR:oie,Z_BUF_ERROR:YBe,Z_DEFLATED:VO}=Ny,h_=16180,WO=16181,qO=16182,HO=16183,KO=16184,GO=16185,ZO=16186,XO=16187,YO=16188,QO=16189,Wx=16190,yl=16191,OS=16192,JO=16193,MS=16194,e9=16195,t9=16196,r9=16197,n9=16198,jb=16199,Nb=16200,s9=16201,i9=16202,a9=16203,o9=16204,l9=16205,DS=16206,c9=16207,u9=16208,mn=16209,lie=16210,cie=16211,QBe=852,JBe=592,eUe=15,tUe=eUe,d9=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function rUe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ff=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<h_||t.mode>cie?1:0},uie=e=>{if(ff(e))return Za;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=h_,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(QBe),t.distcode=t.distdyn=new Int32Array(JBe),t.sane=1,t.back=-1,Xd},die=e=>{if(ff(e))return Za;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,uie(e)},fie=(e,t)=>{let r;if(ff(e))return Za;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Za:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,die(e))},hie=(e,t)=>{if(!e)return Za;const r=new rUe;e.state=r,r.strm=e,r.window=null,r.mode=h_;const n=fie(e,t);return n!==Xd&&(e.state=null),n},nUe=e=>hie(e,tUe);let f9=!0,$S,LS;const sUe=e=>{if(f9){$S=new Int32Array(512),LS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(sg(sie,e.lens,0,288,$S,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;sg(iie,e.lens,0,32,LS,0,e.work,{bits:5}),f9=!1}e.lencode=$S,e.lenbits=9,e.distcode=LS,e.distbits=5},pie=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},iUe=(e,t)=>{let r,n,s,i,a,o,u,l,d,h,f,p,g,y,m=0,v,b,x,k,T,O,F,A;const P=new Uint8Array(4);let D,V;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ff(e)||!e.output||!e.input&&e.avail_in!==0)return Za;r=e.state,r.mode===yl&&(r.mode=OS),a=e.next_out,s=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,l=r.hold,d=r.bits,h=o,f=u,A=Xd;e:for(;;)switch(r.mode){case h_:if(r.wrap===0){r.mode=OS;break}for(;d<16;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}if(r.wrap&2&&l===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=l&255,P[1]=l>>>8&255,r.check=ws(r.check,P,2,0),l=0,d=0,r.mode=WO;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",r.mode=mn;break}if((l&15)!==VO){e.msg="unknown compression method",r.mode=mn;break}if(l>>>=4,d-=4,F=(l&15)+8,r.wbits===0&&(r.wbits=F),F>15||F>r.wbits){e.msg="invalid window size",r.mode=mn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=l&512?QO:yl,l=0,d=0;break;case WO:for(;d<16;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}if(r.flags=l,(r.flags&255)!==VO){e.msg="unknown compression method",r.mode=mn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=mn;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&r.wrap&4&&(P[0]=l&255,P[1]=l>>>8&255,r.check=ws(r.check,P,2,0)),l=0,d=0,r.mode=qO;case qO:for(;d<32;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}r.head&&(r.head.time=l),r.flags&512&&r.wrap&4&&(P[0]=l&255,P[1]=l>>>8&255,P[2]=l>>>16&255,P[3]=l>>>24&255,r.check=ws(r.check,P,4,0)),l=0,d=0,r.mode=HO;case HO:for(;d<16;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&r.wrap&4&&(P[0]=l&255,P[1]=l>>>8&255,r.check=ws(r.check,P,2,0)),l=0,d=0,r.mode=KO;case KO:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&r.wrap&4&&(P[0]=l&255,P[1]=l>>>8&255,r.check=ws(r.check,P,2,0)),l=0,d=0}else r.head&&(r.head.extra=null);r.mode=GO;case GO:if(r.flags&1024&&(p=r.length,p>o&&(p=o),p&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+p),F)),r.flags&512&&r.wrap&4&&(r.check=ws(r.check,n,p,i)),o-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=ZO;case ZO:if(r.flags&2048){if(o===0)break e;p=0;do F=n[i+p++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F));while(F&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=ws(r.check,n,p,i)),o-=p,i+=p,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=XO;case XO:if(r.flags&4096){if(o===0)break e;p=0;do F=n[i+p++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F));while(F&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=ws(r.check,n,p,i)),o-=p,i+=p,F)break e}else r.head&&(r.head.comment=null);r.mode=YO;case YO:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}if(r.wrap&4&&l!==(r.check&65535)){e.msg="header crc mismatch",r.mode=mn;break}l=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=yl;break;case QO:for(;d<32;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}e.adler=r.check=d9(l),l=0,d=0,r.mode=Wx;case Wx:if(r.havedict===0)return e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=l,r.bits=d,XBe;e.adler=r.check=1,r.mode=yl;case yl:if(t===GBe||t===kb)break e;case OS:if(r.last){l>>>=d&7,d-=d&7,r.mode=DS;break}for(;d<3;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}switch(r.last=l&1,l>>>=1,d-=1,l&3){case 0:r.mode=JO;break;case 1:if(sUe(r),r.mode=jb,t===kb){l>>>=2,d-=2;break e}break;case 2:r.mode=t9;break;case 3:e.msg="invalid block type",r.mode=mn}l>>>=2,d-=2;break;case JO:for(l>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",r.mode=mn;break}if(r.length=l&65535,l=0,d=0,r.mode=MS,t===kb)break e;case MS:r.mode=e9;case e9:if(p=r.length,p){if(p>o&&(p=o),p>u&&(p=u),p===0)break e;s.set(n.subarray(i,i+p),a),o-=p,i+=p,u-=p,a+=p,r.length-=p;break}r.mode=yl;break;case t9:for(;d<14;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}if(r.nlen=(l&31)+257,l>>>=5,d-=5,r.ndist=(l&31)+1,l>>>=5,d-=5,r.ncode=(l&15)+4,l>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=mn;break}r.have=0,r.mode=r9;case r9:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}r.lens[B[r.have++]]=l&7,l>>>=3,d-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},A=sg(KBe,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,A){e.msg="invalid code lengths set",r.mode=mn;break}r.have=0,r.mode=n9;case n9:for(;r.have<r.nlen+r.ndist;){for(;m=r.lencode[l&(1<<r.lenbits)-1],v=m>>>24,b=m>>>16&255,x=m&65535,!(v<=d);){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}if(x<16)l>>>=v,d-=v,r.lens[r.have++]=x;else{if(x===16){for(V=v+2;d<V;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}if(l>>>=v,d-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=mn;break}F=r.lens[r.have-1],p=3+(l&3),l>>>=2,d-=2}else if(x===17){for(V=v+3;d<V;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}l>>>=v,d-=v,F=0,p=3+(l&7),l>>>=3,d-=3}else{for(V=v+7;d<V;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}l>>>=v,d-=v,F=0,p=11+(l&127),l>>>=7,d-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=mn;break}for(;p--;)r.lens[r.have++]=F}}if(r.mode===mn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=mn;break}if(r.lenbits=9,D={bits:r.lenbits},A=sg(sie,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,A){e.msg="invalid literal/lengths set",r.mode=mn;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},A=sg(iie,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,A){e.msg="invalid distances set",r.mode=mn;break}if(r.mode=jb,t===kb)break e;case jb:r.mode=Nb;case Nb:if(o>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=l,r.bits=d,BBe(e,f),a=e.next_out,s=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,l=r.hold,d=r.bits,r.mode===yl&&(r.back=-1);break}for(r.back=0;m=r.lencode[l&(1<<r.lenbits)-1],v=m>>>24,b=m>>>16&255,x=m&65535,!(v<=d);){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}if(b&&(b&240)===0){for(k=v,T=b,O=x;m=r.lencode[O+((l&(1<<k+T)-1)>>k)],v=m>>>24,b=m>>>16&255,x=m&65535,!(k+v<=d);){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}l>>>=k,d-=k,r.back+=k}if(l>>>=v,d-=v,r.back+=v,r.length=x,b===0){r.mode=l9;break}if(b&32){r.back=-1,r.mode=yl;break}if(b&64){e.msg="invalid literal/length code",r.mode=mn;break}r.extra=b&15,r.mode=s9;case s9:if(r.extra){for(V=r.extra;d<V;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=i9;case i9:for(;m=r.distcode[l&(1<<r.distbits)-1],v=m>>>24,b=m>>>16&255,x=m&65535,!(v<=d);){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}if((b&240)===0){for(k=v,T=b,O=x;m=r.distcode[O+((l&(1<<k+T)-1)>>k)],v=m>>>24,b=m>>>16&255,x=m&65535,!(k+v<=d);){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}l>>>=k,d-=k,r.back+=k}if(l>>>=v,d-=v,r.back+=v,b&64){e.msg="invalid distance code",r.mode=mn;break}r.offset=x,r.extra=b&15,r.mode=a9;case a9:if(r.extra){for(V=r.extra;d<V;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=mn;break}r.mode=o9;case o9:if(u===0)break e;if(p=f-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=mn;break}p>r.wnext?(p-=r.wnext,g=r.wsize-p):g=r.wnext-p,p>r.length&&(p=r.length),y=r.window}else y=s,g=a-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do s[a++]=y[g++];while(--p);r.length===0&&(r.mode=Nb);break;case l9:if(u===0)break e;s[a++]=r.length,u--,r.mode=Nb;break;case DS:if(r.wrap){for(;d<32;){if(o===0)break e;o--,l|=n[i++]<<d,d+=8}if(f-=u,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?ws(r.check,s,f,a-f):i0(r.check,s,f,a-f)),f=u,r.wrap&4&&(r.flags?l:d9(l))!==r.check){e.msg="incorrect data check",r.mode=mn;break}l=0,d=0}r.mode=c9;case c9:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,l+=n[i++]<<d,d+=8}if(r.wrap&4&&l!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=mn;break}l=0,d=0}r.mode=u9;case u9:A=ZBe;break e;case mn:A=aie;break e;case lie:return oie;case cie:default:return Za}return e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=l,r.bits=d,(r.wsize||f!==e.avail_out&&r.mode<mn&&(r.mode<DS||t!==UO))&&pie(e,e.output,e.next_out,f-e.avail_out),h-=e.avail_in,f-=e.avail_out,e.total_in+=h,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?ws(r.check,s,f,e.next_out-f):i0(r.check,s,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===yl?128:0)+(r.mode===jb||r.mode===MS?256:0),(h===0&&f===0||t===UO)&&A===Xd&&(A=YBe),A},aUe=e=>{if(ff(e))return Za;let t=e.state;return t.window&&(t.window=null),e.state=null,Xd},oUe=(e,t)=>{if(ff(e))return Za;const r=e.state;return(r.wrap&2)===0?Za:(r.head=t,t.done=!1,Xd)},lUe=(e,t)=>{const r=t.length;let n,s,i;return ff(e)||(n=e.state,n.wrap!==0&&n.mode!==Wx)?Za:n.mode===Wx&&(s=1,s=i0(s,t,r,0),s!==n.check)?aie:(i=pie(e,t,r,r),i?(n.mode=lie,oie):(n.havedict=1,Xd))};var cUe=die,uUe=fie,dUe=uie,fUe=nUe,hUe=hie,pUe=iUe,mUe=aUe,gUe=oUe,yUe=lUe,bUe="pako inflate (from Nodeca project)",jl={inflateReset:cUe,inflateReset2:uUe,inflateResetKeep:dUe,inflateInit:fUe,inflateInit2:hUe,inflate:pUe,inflateEnd:mUe,inflateGetHeader:gUe,inflateSetDictionary:yUe,inflateInfo:bUe};function vUe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xUe=vUe;const mie=Object.prototype.toString,{Z_NO_FLUSH:wUe,Z_FINISH:_Ue,Z_OK:l0,Z_STREAM_END:FS,Z_NEED_DICT:zS,Z_STREAM_ERROR:SUe,Z_DATA_ERROR:h9,Z_MEM_ERROR:kUe}=Ny;function Cy(e){this.options=f_.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rie,this.strm.avail_out=0;let r=jl.inflateInit2(this.strm,t.windowBits);if(r!==l0)throw new Error(Gd[r]);if(this.header=new xUe,jl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=o0.string2buf(t.dictionary):mie.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=jl.inflateSetDictionary(this.strm,t.dictionary),r!==l0)))throw new Error(Gd[r])}Cy.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?_Ue:wUe,mie.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=jl.inflate(r,a),i===zS&&s&&(i=jl.inflateSetDictionary(r,s),i===l0?i=jl.inflate(r,a):i===h9&&(i=zS));r.avail_in>0&&i===FS&&r.state.wrap>0&&e[r.next_in]!==0;)jl.inflateReset(r),i=jl.inflate(r,a);switch(i){case SUe:case h9:case zS:case kUe:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===FS))if(this.options.to==="string"){let u=o0.utf8border(r.output,r.next_out),l=r.next_out-u,d=o0.buf2string(r.output,u);r.next_out=l,r.avail_out=n-l,l&&r.output.set(r.output.subarray(u,u+l),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===l0&&o===0)){if(i===FS)return i=jl.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Cy.prototype.onData=function(e){this.chunks.push(e)};Cy.prototype.onEnd=function(e){e===l0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f_.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Q5(e,t){const r=new Cy(t);if(r.push(e),r.err)throw r.msg||Gd[r.err];return r.result}function jUe(e,t){return t=t||{},t.raw=!0,Q5(e,t)}var NUe=Cy,TUe=Q5,EUe=jUe,CUe=Q5,AUe={Inflate:NUe,inflate:TUe,inflateRaw:EUe,ungzip:CUe};const{Deflate:PUe,deflate:IUe,deflateRaw:RUe,gzip:OUe}=FBe,{Inflate:MUe,inflate:DUe,inflateRaw:$Ue,ungzip:LUe}=AUe;var FUe=PUe,zUe=IUe,BUe=RUe,UUe=OUe,VUe=MUe,WUe=DUe,qUe=$Ue,HUe=LUe,KUe=Ny,GUe={Deflate:FUe,deflate:zUe,deflateRaw:BUe,gzip:UUe,Inflate:VUe,inflate:WUe,inflateRaw:qUe,ungzip:HUe,constants:KUe};const ZUe=()=>"web",XUe=e=>{switch(e){case"android":return" ";case"ios":return" iOS";default:return" "}};function BS(){const[,e]=gs(),t=ZUe(),[r,n]=E.useState(navigator.onLine),[s,i]=E.useState("permissions"),[a,o]=E.useState(!1),[u,l]=E.useState(null),[d,h]=E.useState(""),[f,p]=E.useState(null),[g,y]=E.useState(!1),m=E.useRef(null),v=[{id:"storage",label:" ",description:"   ",status:"pending",required:!0,platforms:["web"]},{id:"notifications",label:"",description:"  ",status:"pending",required:!0,platforms:["web"]},{id:"network",label:" ",description:"   ",status:"pending",required:!0,platforms:["web"]},{id:"geolocation",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"camera",label:"",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"vibration",label:"",description:" ",status:"pending",required:!1,platforms:["web"]},{id:"battery",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"networkInfo",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"database",label:" ",description:"  ",status:"pending",required:!0,platforms:["web"]},{id:"server",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"backup",label:" ",description:"   ",status:"pending",required:!1,platforms:["web"]},{id:"emergency",label:" ",description:"    ",status:"pending",required:!0,platforms:["web"]},{id:"tables",label:" ",description:"  ",status:"pending",required:!0,platforms:["web"]}],[b,x]=E.useState(v.filter(G=>G.platforms.includes(t))),k=E.useCallback((G,te)=>{x(X=>X.map(ae=>ae.id===G?{...ae,...te}:ae))},[]);E.useEffect(()=>{const G=()=>n(!0),te=()=>n(!1);return window.addEventListener("online",G),window.addEventListener("offline",te),()=>{window.removeEventListener("online",G),window.removeEventListener("offline",te)}},[]);const T=async()=>{try{if("storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persisted())return"granted";const G="__storage_test__";return localStorage.setItem(G,G),localStorage.removeItem(G),"indexedDB"in window?new Promise(te=>{const X=indexedDB.open("__test_db__",1);X.onerror=()=>te("denied"),X.onsuccess=()=>{X.result.close(),indexedDB.deleteDatabase("__test_db__"),te("granted")}}):"granted"}catch{return"denied"}},O=async()=>{try{return"Notification"in window?Notification.permission==="granted"?"granted":Notification.permission==="denied"?"denied":"pending":"unavailable"}catch{return"unavailable"}},F=async()=>{if(!navigator.onLine)return"denied";try{const G=new AbortController,te=setTimeout(()=>G.abort(),5e3),X=await fetch("/api/health",{method:"GET",signal:G.signal,cache:"no-store"});return clearTimeout(te),X.ok?"granted":"warning"}catch{return navigator.onLine?"warning":"denied"}},A=async()=>{try{if(!("geolocation"in navigator))return"unavailable";if("permissions"in navigator){const G=await navigator.permissions.query({name:"geolocation"});if(G.state==="granted")return"granted";if(G.state==="denied")return"denied"}return"pending"}catch{return"unavailable"}},P=async()=>{try{if(!("mediaDevices"in navigator))return"unavailable";if("permissions"in navigator)try{const G=await navigator.permissions.query({name:"camera"});if(G.state==="granted")return"granted";if(G.state==="denied")return"denied"}catch{}return"pending"}catch{return"unavailable"}},D=async()=>{try{return"vibrate"in navigator?(navigator.vibrate(1),"granted"):"unavailable"}catch{return"unavailable"}},V=async()=>{try{if("getBattery"in navigator){const G=await navigator.getBattery();return k("battery",{details:`${Math.round(G.level*100)}%`}),"granted"}return"unavailable"}catch{return"unavailable"}},B=async()=>{try{const G=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return G?(k("networkInfo",{details:G.effectiveType||G.type}),"granted"):"unavailable"}catch{return"unavailable"}},C=async()=>{try{await p1();const G=["projects","workers","financialTransfers","wells","wellExpenses"];let te=0;const X={};for(const ae of G)try{const re=await xd(ae);te+=re,X[ae]=re}catch{X[ae]=0}{const ae={totalRecords:te,tables:X,timestamp:new Date().toLocaleString("ar-SA"),isEmpty:te===0};k("database",{details:te>0?`${te} `:"",expandedDetails:ae})}return"granted"}catch(G){return console.error("[DB Check] :",G),"denied"}},I=async()=>{try{const G=new AbortController,te=setTimeout(()=>G.abort(),8e3),X=performance.now(),ae=await fetch("/api/health",{signal:G.signal,cache:"no-store"}),re=Math.round(performance.now()-X);if(clearTimeout(te),ae.ok){const ee=await ae.json().catch(()=>({})),Z=ee.database==="connected"?"":"",Q=localStorage.getItem("emergency_mode")==="true",ie={dbStatus:Z,responseTime:`${re}ms`,status:ae.status,emergencyMode:Q?"":"",timestamp:new Date().toLocaleString("ar-SA")};return k("server",{details:Z,expandedDetails:ie}),ee.database==="connected"?"granted":"warning"}return k("server",{details:"  ",expandedDetails:{status:ae.status,timestamp:new Date().toLocaleString("ar-SA")}}),"warning"}catch(G){return k("server",{details:" ",expandedDetails:{error:G.message,timestamp:new Date().toLocaleString("ar-SA")}}),"denied"}},N=async()=>{try{const G="latest_backup_timestamp",te=localStorage.getItem(G);let X=!1,ae="";if(navigator.onLine)try{const ee=new AbortController,Z=setTimeout(()=>ee.abort(),1e4),Q=await fetch("/api/sync/latest-backup",{signal:ee.signal,cache:"no-store"});if(clearTimeout(Z),Q.ok){const ie=await Q.json();if(ie.timestamp)return X=!0,ae=new Date(ie.timestamp).toLocaleString("ar-SA"),localStorage.setItem(G,ie.timestamp),k("backup",{details:" ",expandedDetails:{source:"",timestamp:ae,status:""}}),"granted"}}catch{}if(te){const ee=new Date(te),Q=(new Date().getTime()-ee.getTime())/(1e3*60*60),ie=ee.toLocaleString("ar-SA");if(Q<24){const ce={source:"",timestamp:ie,ageHours:Math.round(Q),status:""};return k("backup",{details:" ",expandedDetails:ce}),"granted"}else if(Q<168){const ce={source:"",timestamp:ie,ageHours:Math.round(Q),status:""};return k("backup",{details:" ",expandedDetails:ce}),"warning"}}return k("backup",{details:" ",expandedDetails:{source:" ",status:"   "}}),"unavailable"}catch{return"unavailable"}},w=async()=>{try{const G=localStorage.getItem("emergency_mode")==="true",te=localStorage.getItem("offline_queue");let X=0;if(te)try{const Z=JSON.parse(te);X=Array.isArray(Z)?Z.length:0}catch{}let ae=!1,re=0;try{re=await xd("projects"),ae=re>0}catch{re=0}const ee={mode:G?"":"",queueCount:X,hasLocalData:ae,projectsCount:re,timestamp:new Date().toLocaleString("ar-SA")};return G?(k("emergency",{details:` (${X} )`,expandedDetails:ee}),"warning"):ae?(k("emergency",{details:" ",expandedDetails:ee}),"granted"):(k("emergency",{details:" ",expandedDetails:ee}),"pending")}catch{return"denied"}},_=async()=>{try{const G=["projects","workers","financialTransfers","wells","wellExpenses","recentActivities"],te={},X=[];let ae=!0;for(const Q of G)try{const ie=await xd(Q);te[Q]=ie,X.push({name:Q,count:ie,status:"ok"})}catch{te[Q]=-1,X.push({name:Q,count:0,status:"error"}),ae=!1}const re=Object.values(te).filter(Q=>Q>=0).reduce((Q,ie)=>Q+ie,0),ee=Object.values(te).filter(Q=>Q>=0).length,Z={tables:X,totalRecords:re,validTables:ee,totalTables:G.length,timestamp:new Date().toLocaleString("ar-SA")};return k("tables",{details:`${ee}/${G.length}  (${re} )`,expandedDetails:Z}),ae?"granted":"warning"}catch(G){return console.error("[Tables Check] Error:",G),"denied"}},S=async()=>{try{return"storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persist(),await Ad(),"granted"}catch{return"denied"}},j=async()=>{try{return"Notification"in window?await Notification.requestPermission()==="granted"?"granted":"denied":"unavailable"}catch{return"unavailable"}},R=async()=>{try{return"geolocation"in navigator?new Promise(G=>{navigator.geolocation.getCurrentPosition(()=>G("granted"),te=>G(te.code===te.PERMISSION_DENIED?"denied":"warning"),{timeout:1e4,enableHighAccuracy:!1})}):"unavailable"}catch{return"unavailable"}},$=async()=>{try{if(!("mediaDevices"in navigator))return"unavailable";try{return(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(te=>te.stop()),"granted"}catch(G){return G.name==="NotAllowedError"?"denied":G.name==="NotFoundError"?"unavailable":"denied"}}catch{return"unavailable"}},U=async()=>{try{return await rne(),localStorage.setItem("setup_complete","true"),localStorage.setItem("latest_backup_timestamp",new Date().toISOString()),"granted"}catch{return localStorage.setItem("setup_complete","true"),"warning"}},q=async G=>new Promise((te,X)=>{const ae=new FileReader;ae.onload=async re=>{try{const ee=re.target?.result;if(G.name.endsWith(".gz")||G.name.endsWith(".gzip")){const Z=new Uint8Array(ee),Q=GUe.ungzip(Z,{to:"string"});if(G.name.includes(".sql"))te({type:"sql",content:Q});else try{const ie=JSON.parse(Q);te({type:"json",content:ie})}catch{te({type:"sql",content:Q})}}else if(G.name.endsWith(".sql"))te({type:"sql",content:ee});else if(G.name.endsWith(".json")){const Z=JSON.parse(ee);te({type:"json",content:Z})}else try{const Z=JSON.parse(ee);te({type:"json",content:Z})}catch{te({type:"sql",content:ee})}}catch(ee){X(ee)}},ae.onerror=()=>X(new Error("   ")),G.name.endsWith(".gz")||G.name.endsWith(".gzip")?ae.readAsArrayBuffer(G):ae.readAsText(G)}),H=async G=>{if(G.type==="json"){const te=G.content,X=["projects","workers","financialTransfers","wells","wellExpenses","recentActivities"];for(const ae of X)if(te[ae]&&Array.isArray(te[ae]))for(const re of te[ae])try{await ui(ae,re)}catch(ee){console.warn(`[Import]    ${ae}:`,ee)}}else if(G.type==="sql"){const te=G.content,X=/INSERT INTO (\w+)\s*\((.*?)\)\s*VALUES\s*\((.*?)\);/gi;let ae;for(;(ae=X.exec(te))!==null;){const re=ae[1].toLowerCase(),ee=ae[2].split(",").map(ce=>ce.trim().replace(/"/g,"")),Q=ae[3].split(",").map(ce=>(ce=ce.trim(),ce==="NULL"||ce==="null"?null:ce.startsWith("'")&&ce.endsWith("'")?ce.slice(1,-1):isNaN(Number(ce))?ce:Number(ce))),ie={};ee.forEach((ce,ge)=>{ie[ce]=Q[ge]});try{await db.put(re,ie)}catch(ce){console.warn("[SQL Import] :",ce)}}}},Y=async G=>{const te=G.target.files?.[0];if(te){h("  ...");try{const X=await q(te);h("  ..."),await H(X),localStorage.setItem("setup_complete","true"),localStorage.setItem("latest_backup_timestamp",new Date().toISOString()),localStorage.setItem("backup_source",te.name),k("backup",{status:"granted",details:" "}),k("database",{status:"granted",details:" "}),h("  !"),setTimeout(()=>h(""),3e3)}catch(X){console.error("[Import] :",X),h(`: ${X.message}`),setTimeout(()=>h(""),5e3)}m.current&&(m.current.value="")}},M=G=>{switch(G){case"granted":return"";case"denied":return"";case"pending":return" ";case"unavailable":return" ";case"warning":return"";default:return""}};E.useEffect(()=>{const G=localStorage.getItem("permissions_granted")==="true",te=localStorage.getItem("setup_complete")==="true";if(G&&te){e("/login");return}(async()=>{const ae=["storage","notifications","network","geolocation","camera","vibration","battery","networkInfo"];for(const re of ae){if(!b.find(Z=>Z.id===re))continue;l(re);let ee="pending";re==="storage"?ee=await T():re==="notifications"?ee=await O():re==="network"?ee=await F():re==="geolocation"?ee=await A():re==="camera"?ee=await P():re==="vibration"?ee=await D():re==="battery"?ee=await V():re==="networkInfo"&&(ee=await B()),k(re,{status:ee,details:b.find(Z=>Z.id===re)?.details||M(ee)})}l(null)})()},[e,k,t,b]);const K=async()=>{o(!0);const G=[{id:"storage",fn:S},{id:"notifications",fn:j},{id:"geolocation",fn:R},{id:"camera",fn:$}];for(const re of G){if(!b.find(Z=>Z.id===re.id))continue;l(re.id),k(re.id,{status:"checking"});const ee=await re.fn();k(re.id,{status:ee,details:M(ee)})}i("system");const te=[{id:"database",fn:C},{id:"server",fn:I},{id:"backup",fn:N},{id:"emergency",fn:w},{id:"tables",fn:_}];let X="denied";for(const re of te){if(!b.find(Z=>Z.id===re.id))continue;l(re.id),k(re.id,{status:"checking"});const ee=await re.fn();re.id==="database"&&(X=ee),re.id==="server"&&ee==="denied"&&localStorage.setItem("emergency_mode","true"),k(re.id,{status:ee,details:b.find(Z=>Z.id===re.id)?.details||M(ee)})}const ae=b.find(re=>re.id==="backup");if(ae&&(ae.status==="granted"||ae.status==="warning")){l("backup"),k("backup",{status:"checking",details:" ..."});const re=await U();k("backup",{status:re,details:re==="granted"?" ":" "})}l(null),o(!1),(X==="granted"||X==="warning")&&(localStorage.setItem("permissions_granted","true"),localStorage.setItem("permissions_timestamp",new Date().toISOString()),i("complete"),setTimeout(()=>e("/login"),1500))},z=()=>{localStorage.setItem("permissions_granted","true"),localStorage.setItem("emergency_mode","true"),e("/login")},L=async()=>{y(!0),p(null);const G=[{id:"database",fn:C},{id:"server",fn:I},{id:"backup",fn:N},{id:"emergency",fn:w},{id:"tables",fn:_}];for(const te of G)if(b.find(ae=>ae.id===te.id)){l(te.id),k(te.id,{status:"checking"});try{const ae=await te.fn();k(te.id,{status:ae})}catch(ae){console.error(`[Refresh] Error checking ${te.id}:`,ae),k(te.id,{status:"warning"})}}l(null),y(!1)},W=G=>({storage:qi,notifications:ra,network:wd,geolocation:qo,camera:BB,database:Eg,server:Od,backup:ms,vibration:Pve,battery:Xbe,networkInfo:Nve,emergency:bo,tables:qi})[G]||bo,J=Math.round(b.filter(G=>["granted","warning","unavailable","denied"].includes(G.status)).length/b.length*100),le=b.filter(G=>["storage","notifications","network","geolocation","camera","vibration","battery","networkInfo"].includes(G.id)),ne=b.filter(G=>["database","server","backup","emergency","tables"].includes(G.id)),ue=s==="permissions"?le:s==="system"?ne:b;return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background to-muted/30 flex flex-col",children:[c.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:c.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${J}%`}})}),c.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"relative inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-4",children:s==="complete"?c.jsx(Xr,{className:"w-8 h-8 text-green-500"}):c.jsx(Vs,{className:"w-8 h-8 text-primary"})}),c.jsx("h1",{className:"text-xl font-semibold text-foreground mb-1",children:s==="permissions"?" ":s==="system"?" ":" "}),c.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[r?c.jsxs(c.Fragment,{children:[c.jsx(wd,{className:"w-3.5 h-3.5 text-green-500"})," "]}):c.jsxs(c.Fragment,{children:[c.jsx(Hf,{className:"w-3.5 h-3.5 text-amber-500"}),"  "]}),c.jsx("span",{className:"text-muted-foreground/50",children:""}),c.jsxs(c.Fragment,{children:[c.jsx(k3,{className:"w-3.5 h-3.5"})," "]})]})]}),c.jsx("div",{className:"space-y-2 mb-6 max-h-[50vh] overflow-y-auto",children:ue.map(G=>{const te=W(G.id),X=u===G.id,ae=f===G.id,re=G.expandedDetails&&Object.keys(G.expandedDetails).length>0;return c.jsxs("div",{"data-testid":`check-${G.id}`,className:_e("rounded-xl border transition-all duration-200",G.status==="checking"&&"border-primary/40 bg-primary/5",G.status==="granted"&&"border-green-200 dark:border-green-800/50 bg-green-50/50 dark:bg-green-900/10",G.status==="warning"&&"border-amber-200 dark:border-amber-800/50 bg-amber-50/50 dark:bg-amber-900/10",G.status==="denied"&&"border-red-200 dark:border-red-800/50 bg-red-50/50 dark:bg-red-900/10",G.status==="unavailable"&&"border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30",G.status==="pending"&&"border-border/50 bg-muted/30"),children:[c.jsxs("div",{className:"flex items-center gap-3 p-3",children:[c.jsx("div",{className:_e("flex items-center justify-center w-9 h-9 rounded-lg transition-colors shrink-0",G.status==="checking"&&"bg-primary/15 text-primary",G.status==="granted"&&"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",G.status==="warning"&&"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",G.status==="denied"&&"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",G.status==="unavailable"&&"bg-slate-100 dark:bg-slate-800 text-slate-400",G.status==="pending"&&"bg-muted text-muted-foreground"),children:G.status==="checking"||X?c.jsx(Mr,{className:"w-4 h-4 animate-spin"}):G.status==="granted"?c.jsx(Xr,{className:"w-4 h-4"}):["denied","warning"].includes(G.status)?c.jsx(Es,{className:"w-4 h-4"}):c.jsx(te,{className:"w-4 h-4"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:_e("text-sm font-medium truncate",G.status==="pending"?"text-muted-foreground":"text-foreground"),children:G.label}),G.required&&G.status!=="granted"&&c.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",children:""})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[G.details&&c.jsx("span",{className:_e("text-xs shrink-0",G.status==="granted"&&"text-green-600 dark:text-green-400",G.status==="warning"&&"text-amber-600 dark:text-amber-400",G.status==="denied"&&"text-red-600 dark:text-red-400",G.status==="unavailable"&&"text-slate-400"),children:G.details}),re&&c.jsx("button",{onClick:()=>p(ae?null:G.id),className:"p-0.5 hover:bg-black/5 dark:hover:bg-white/5 rounded transition-colors","data-testid":`btn-expand-${G.id}`,children:ae?c.jsx(_o,{className:"w-4 h-4"}):c.jsx(yn,{className:"w-4 h-4"})})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:G.description})]})]}),ae&&re&&c.jsx("div",{className:"px-3 pb-3 border-t border-current/10",children:c.jsx("div",{className:"mt-3 space-y-2 text-xs",children:G.id==="tables"&&G.expandedDetails?.tables?c.jsx(c.Fragment,{children:G.expandedDetails.tables.map(ee=>c.jsxs("div",{className:"flex justify-between items-center p-2 bg-black/2.5 dark:bg-white/2.5 rounded",children:[c.jsx("span",{className:"font-medium",children:ee.name}),c.jsxs("span",{className:ee.status==="ok"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[ee.count," "]})]},ee.name))}):Object.entries(G.expandedDetails||{}).map(([ee,Z])=>c.jsxs("div",{className:"flex justify-between items-center p-2 bg-black/2.5 dark:bg-white/2.5 rounded",children:[c.jsx("span",{className:"text-muted-foreground",children:ee}),c.jsx("span",{className:"font-medium",children:String(Z)})]},ee))})})]},G.id)})}),s!=="complete"&&c.jsxs("div",{className:"space-y-2",children:[s==="system"&&c.jsx(Se,{"data-testid":"btn-refresh-checks",variant:"outline",className:"w-full h-10",onClick:L,disabled:a||g,children:g?c.jsxs(c.Fragment,{children:[c.jsx(Mr,{className:"w-4 h-4 animate-spin ml-2"}),"  ..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ms,{className:"w-4 h-4 ml-2"})," "]})}),c.jsx(Se,{"data-testid":"btn-request-all",className:"w-full h-11",onClick:K,disabled:a||g,children:a?c.jsxs(c.Fragment,{children:[c.jsx(Mr,{className:"w-4 h-4 animate-spin ml-2"}),"  ..."]}):c.jsxs(c.Fragment,{children:[c.jsx(bo,{className:"w-4 h-4 ml-2"}),"   "]})}),c.jsx(Input,{ref:m,type:"file",accept:".sql,.json,.gz,.gzip,.backup",onChange:Y,className:"hidden","data-testid":"input-backup-file"}),c.jsxs(Se,{"data-testid":"btn-import-backup",variant:"outline",className:"w-full h-10",onClick:()=>m.current?.click(),disabled:a,children:[c.jsx(C4,{className:"w-4 h-4 ml-2"}),"  "]}),d&&c.jsx("div",{className:_e("text-center text-sm p-2 rounded-lg",d.includes("")?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400":d.includes("")?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"),children:d}),c.jsx(Se,{"data-testid":"btn-skip",variant:"ghost",className:"w-full h-9 text-sm text-muted-foreground",onClick:z,disabled:a,children:" ( )"})]}),s==="complete"&&c.jsxs("div",{className:"text-center p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800/50",children:[c.jsx(Xr,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),c.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"   "}),c.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:" ..."})]}),c.jsxs("p",{className:"text-center text-[10px] text-muted-foreground/60 mt-6",children:["v3.1  ",XUe(t),"   "]})]})})]})}function YUe(){const[e,t]=E.useState(()=>$x()),[r,n]=E.useState(navigator.onLine),[s,i]=E.useState([]),[a,o]=E.useState([]),[u,l]=E.useState([]),[d,h]=E.useState([]),[f,p]=E.useState([]),[g,y]=E.useState(null),m=E.useCallback(async()=>{try{const[O,F,A,P,D,V]=await Promise.all([zh(),iye(),rB(),lye(),tB(100),dye()]);i(O),o(F),l(A),h(P),p(D),y(V)}catch(O){console.warn(" [useSyncData]   :",O)}},[]);E.useEffect(()=>{const O=i_(D=>{t(D),m()}),F=()=>{n(!0),eu().catch(console.error)},A=()=>n(!1);window.addEventListener("online",F),window.addEventListener("offline",A),m();const P=setInterval(m,1e4);return()=>{O(),window.removeEventListener("online",F),window.removeEventListener("offline",A),clearInterval(P)}},[m]);const v=async()=>{r&&(await eu(),await m())},b=async O=>{await aye(O),await m()},x=async()=>{await oye(),await m()},k=async O=>{await cye(O),await m()},T=async()=>{await uye(),await m()};return{isSyncing:e.isSyncing,offlineCount:e.pendingCount,lastSync:e.lastSync,lastError:e.lastError,lastErrorType:e.lastErrorType,lastErrorDetails:e.lastErrorDetails,isOnline:r,latency:e.latency,progress:e.progress,pendingItems:s,allQueueItems:a,failedItems:u,duplicateItems:d,syncHistory:f,offlineStats:g,manualSync:v,cancelOperation:b,cancelAllOperations:x,retryOperation:k,retryAllOperations:T,refreshData:m}}const US={syncAuditLogs:"/api/sync-audit/logs",syncAuditStats:"/api/sync-audit/stats",syncAuditModules:"/api/sync-audit/modules"};function gie(e){if(!e)return" ";const t=Date.now()-e,r=Math.floor(t/1e3);if(r<60)return` ${r} `;const n=Math.floor(r/60);if(n<60)return` ${n} `;const s=Math.floor(n/60);return s<24?` ${s} `:` ${Math.floor(s/24)} `}function yie(e){if(!e)return"-";const t=new Date(e);return t.toLocaleDateString("ar-YE",{year:"numeric",month:"2-digit",day:"2-digit"})+" "+t.toLocaleTimeString("ar-YE",{hour:"2-digit",minute:"2-digit"})}function bie(e){switch(e){case"create":return"";case"update":return"";case"delete":return"";default:return e}}function vie(e){switch(e){case"pending":return c.jsx(ut,{variant:"secondary","data-testid":"badge-status-pending",children:" "});case"in-flight":return c.jsx(ut,{variant:"default","data-testid":"badge-status-inflight",children:" "});case"failed":return c.jsx(ut,{variant:"destructive","data-testid":"badge-status-failed",children:""});case"conflict":return c.jsx(ut,{variant:"warning","data-testid":"badge-status-conflict",children:""});case"duplicate-resolved":return c.jsx(ut,{variant:"outline","data-testid":"badge-status-duplicate",children:" -  "});case"success":return c.jsx(ut,{variant:"success","data-testid":"badge-status-success",children:""});case"duplicate":return c.jsx(ut,{variant:"outline","data-testid":"badge-status-dup-log",children:""});case"skipped":return c.jsx(ut,{variant:"secondary","data-testid":"badge-status-skipped",children:" "});default:return c.jsx(ut,{variant:"secondary",children:e||" "})}}function xie(e){const r=e.split("/")[2]||e;return{"fund-transfers":" ","project-fund-transfers":" ",workers:"","worker-attendance":" ",suppliers:"",materials:"","material-purchases":" ","supplier-payments":" ","transportation-expenses":" ",projects:""}[r]||r}function QUe(){const{isSyncing:e,isOnline:t,pendingItems:r,failedItems:n,duplicateItems:s,syncHistory:i,offlineStats:a,lastSync:o,latency:u,cancelOperation:l,retryOperation:d,retryAllOperations:h}=YUe(),{toast:f}=Br(),[p,g]=E.useState("pending"),[y,m]=E.useState(new Set),{searchValue:v,filterValues:b,onSearchChange:x,onFilterChange:k,onReset:T}=a_({action:"all",status:"all"},""),{data:O=[]}=nt({queryKey:he.projects,queryFn:async()=>{const w=await Ie("/api/projects","GET");return w?.data||w||[]}}),F=w=>w.filter(_=>{const S=!v||(_.endpoint||"").toLowerCase().includes(v.toLowerCase())||(_.id||"").toLowerCase().includes(v.toLowerCase())||(_.lastError||"").toLowerCase().includes(v.toLowerCase()),j=b.action==="all"||_.action===b.action;return S&&j}),A=E.useMemo(()=>F(r),[r,v,b]),P=E.useMemo(()=>F(n),[n,v,b]),D=E.useMemo(()=>i.filter(w=>{const _=!v||(w.endpoint||"").toLowerCase().includes(v.toLowerCase())||(w.errorMessage||"").toLowerCase().includes(v.toLowerCase()),S=b.status==="all"||w.status===b.status;return _&&S}),[i,v,b]),V=w=>{m(_=>{const S=new Set(_);return S.has(w)?S.delete(w):S.add(w),S})},B=async w=>{await l(w),f({title:" ",description:"     "})},C=async w=>{await d(w),f({title:" ",description:"     "})},I=async()=>{await h(),f({title:" ",description:"    "})},N=i.filter(w=>w.status==="success").length;return i.filter(w=>w.status==="failed").length,i.filter(w=>w.status==="duplicate").length,c.jsxs("div",{className:"space-y-4 pb-20","data-testid":"page-sync-management",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx(ut,{variant:t?"success":"destructive","data-testid":"badge-connection-status",children:t?c.jsxs(c.Fragment,{children:[c.jsx(wd,{className:"h-3 w-3 ml-1"})," "]}):c.jsxs(c.Fragment,{children:[c.jsx(Hf,{className:"h-3 w-3 ml-1"}),"  "]})}),o>0&&c.jsxs(ut,{variant:"outline","data-testid":"badge-last-sync",children:[c.jsx(bn,{className:"h-3 w-3 ml-1"})," : ",gie(o)]}),u&&u>0&&c.jsxs(ut,{variant:"outline","data-testid":"badge-latency",children:[c.jsx(Vs,{className:"h-3 w-3 ml-1"}),u,"ms"]}),e&&c.jsxs(ut,{variant:"default","data-testid":"badge-syncing",children:[c.jsx(ms,{className:"h-3 w-3 ml-1 animate-spin"})," "]})]}),c.jsx(vu,{stats:[{title:" ",value:a?.pendingSync??r.length,icon:bn,color:r.length>0?"orange":"blue",status:r.length>10?"warning":"normal"},{title:"",value:a?.failedSync??n.length,icon:Jv,color:n.length>0?"red":"gray",status:n.length>0?"critical":"normal"},{title:" ( 100)",value:a?.totalSuccessful??N,icon:Xr,color:"green"},{title:"  ",value:a?.duplicateResolved??s.length,icon:Wf,color:"purple"}],columns:4,hideHeader:!0}),c.jsx(Pt,{className:"border-none shadow-sm",children:c.jsx(Ft,{className:"p-3",children:c.jsx(N5,{searchValue:v,onSearchChange:x,placeholder:"      ...",filters:[{key:"action",label:" ",options:[{label:"",value:"all"},{label:"",value:"create"},{label:"",value:"update"},{label:"",value:"delete"}]},...p==="history"?[{key:"status",label:"",options:[{label:"",value:"all"},{label:"",value:"success"},{label:"",value:"failed"},{label:"",value:"duplicate"},{label:" ",value:"skipped"}]}]:[]],filterValues:b,onFilterChange:k,onReset:T})})}),c.jsxs(Tne,{value:p,onValueChange:g,className:"w-full",dir:"rtl",children:[c.jsxs(R5,{className:"grid w-full grid-cols-5 mb-4","data-testid":"tabs-sync",children:[c.jsxs(Pa,{value:"pending",className:"gap-1","data-testid":"tab-pending",children:[c.jsx(bn,{className:"h-3.5 w-3.5"}),"",r.length>0&&c.jsx(ut,{variant:"secondary",className:"mr-1 text-[10px] px-1.5",children:r.length})]}),c.jsxs(Pa,{value:"failed",className:"gap-1","data-testid":"tab-failed",children:[c.jsx(ko,{className:"h-3.5 w-3.5"}),"",n.length>0&&c.jsx(ut,{variant:"destructive",className:"mr-1 text-[10px] px-1.5",children:n.length})]}),c.jsxs(Pa,{value:"duplicates",className:"gap-1","data-testid":"tab-duplicates",children:[c.jsx(Wf,{className:"h-3.5 w-3.5"}),"",s.length>0&&c.jsx(ut,{variant:"secondary",className:"mr-1 text-[10px] px-1.5",children:s.length})]}),c.jsxs(Pa,{value:"history",className:"gap-1","data-testid":"tab-history",children:[c.jsx(H8,{className:"h-3.5 w-3.5"}),""]}),c.jsxs(Pa,{value:"server-audit",className:"gap-1","data-testid":"tab-server-audit",children:[c.jsx(Od,{className:"h-3.5 w-3.5"})," "]})]}),c.jsx(Ia,{value:"pending",children:c.jsx(VS,{items:A,emptyMessage:"   ",emptyIcon:Xr,expandedItems:y,onToggleExpand:V,actions:w=>c.jsx("div",{className:"flex items-center gap-1",children:c.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>B(w.id),"data-testid":`button-cancel-${w.id.substring(0,8)}`,children:c.jsx(An,{className:"h-4 w-4 text-destructive"})})}),projects:O})}),c.jsxs(Ia,{value:"failed",children:[n.length>0&&c.jsx("div",{className:"flex justify-end mb-3 gap-2",children:c.jsxs(Se,{variant:"outline",size:"sm",onClick:I,"data-testid":"button-retry-all",children:[c.jsx(Ml,{className:"h-3.5 w-3.5 ml-1"}),"   (",n.length,")"]})}),c.jsx(VS,{items:P,emptyMessage:"   ",emptyIcon:Xr,showError:!0,expandedItems:y,onToggleExpand:V,actions:w=>c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>C(w.id),"data-testid":`button-retry-${w.id.substring(0,8)}`,children:c.jsx(Ml,{className:"h-4 w-4 text-blue-500"})}),c.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>B(w.id),"data-testid":`button-delete-${w.id.substring(0,8)}`,children:c.jsx(An,{className:"h-4 w-4 text-destructive"})})]}),projects:O})]}),c.jsx(Ia,{value:"duplicates",children:c.jsx(VS,{items:s,emptyMessage:"   ",emptyIcon:Wf,showError:!0,expandedItems:y,onToggleExpand:V,actions:w=>c.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>B(w.id),"data-testid":`button-clear-dup-${w.id.substring(0,8)}`,children:c.jsx(An,{className:"h-4 w-4 text-muted-foreground"})}),projects:O})}),c.jsx(Ia,{value:"history",children:c.jsx(Po,{className:"h-[500px]",children:D.length===0?c.jsx(J5,{icon:H8,message:"    "}):c.jsx("div",{className:"space-y-2",children:D.map(w=>c.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card","data-testid":`log-entry-${w.id.substring(0,8)}`,children:c.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[c.jsx("div",{className:`mt-0.5 p-1.5 rounded-md ${w.status==="success"?"bg-green-100 text-green-600 dark:bg-green-900/30":w.status==="failed"?"bg-red-100 text-red-600 dark:bg-red-900/30":w.status==="duplicate"?"bg-purple-100 text-purple-600 dark:bg-purple-900/30":"bg-gray-100 text-gray-600 dark:bg-gray-900/30"}`,children:w.status==="success"?c.jsx(Xr,{className:"h-4 w-4"}):w.status==="failed"?c.jsx(Jv,{className:"h-4 w-4"}):w.status==="duplicate"?c.jsx(Wf,{className:"h-4 w-4"}):c.jsx(Es,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[vie(w.status),c.jsx(ut,{variant:"outline",className:"text-[10px]",children:bie(w.action)}),c.jsx("span",{className:"text-xs text-muted-foreground truncate",children:xie(w.endpoint)})]}),w.errorMessage&&c.jsx("p",{className:"text-xs text-destructive truncate",children:w.errorMessage}),w.payloadSummary&&c.jsx("p",{className:"text-xs text-muted-foreground truncate",children:w.payloadSummary}),c.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(rs,{className:"h-3 w-3"}),yie(w.timestamp)]}),w.duration&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Vs,{className:"h-3 w-3"}),w.duration,"ms"]}),w.retryCount!==void 0&&w.retryCount>0&&c.jsxs("span",{children:[" #",w.retryCount]})]})]})]})},w.id))})})}),c.jsx(Ia,{value:"server-audit",children:c.jsx(JUe,{})})]})]})}function JUe(){const[e,t]=E.useState(1),[r,n]=E.useState("all"),[s,i]=E.useState("all"),[a,o]=E.useState("all"),[u,l]=E.useState(""),[d,h]=E.useState(new Set),f=E.useMemo(()=>({page:e,limit:30,module:r!=="all"?r:void 0,status:s!=="all"?s:void 0,action:a!=="all"?a:void 0,search:u||void 0}),[e,r,s,a,u]),p=E.useMemo(()=>{const D=new URLSearchParams;return Object.entries(f).forEach(([V,B])=>{B!==void 0&&D.set(V,String(B))}),D.toString()},[f]),{data:g,isLoading:y}=nt({queryKey:he.syncAuditLogsFiltered(f),queryFn:async()=>await Ie(`${US.syncAuditLogs}?${p}`,"GET"),refetchInterval:3e4}),{data:m}=nt({queryKey:he.syncAuditStats,queryFn:async()=>{const D=await Ie(US.syncAuditStats,"GET");return D?.data||D||{}},refetchInterval:6e4}),{data:v}=nt({queryKey:he.syncAuditModules,queryFn:async()=>{const D=await Ie(US.syncAuditModules,"GET");return D?.data||D?.modules||[]}}),b=g?.logs||[],x=g?.pagination||{},k={total:x.total||0,pages:x.totalPages||x.pages||1},T=m||{},O=Array.isArray(v)?v:[],F=D=>{h(V=>{const B=new Set(V);return B.has(D)?B.delete(D):B.add(D),B})};function A(D){switch(D){case"success":return c.jsx(ut,{variant:"success",children:""});case"failed":return c.jsx(ut,{variant:"destructive",children:""});case"duplicate":return c.jsx(ut,{variant:"outline",children:""});case"skipped":return c.jsx(ut,{variant:"secondary",children:""});case"conflict":return c.jsx(ut,{variant:"destructive",children:""});default:return c.jsx(ut,{variant:"secondary",children:D})}}function P(D){const B={create:{label:"",variant:"success"},update:{label:"",variant:"default"},delete:{label:"",variant:"destructive"},sync_push:{label:"",variant:"default"},sync_pull:{label:"",variant:"default"},full_backup:{label:" ",variant:"outline"},delta_sync:{label:" ",variant:"outline"},instant_sync:{label:" ",variant:"outline"}}[D]||{label:D,variant:"secondary"};return c.jsx(ut,{variant:B.variant,className:"text-[10px]",children:B.label})}return c.jsxs("div",{className:"space-y-4","data-testid":"server-audit-section",children:[c.jsx(vu,{stats:[{title:" ",value:T.total||0,icon:qi,color:"blue"},{title:"",value:T.success||0,icon:Xr,color:"green"},{title:"",value:T.failed||0,icon:Jv,color:(T.failed||0)>0?"red":"gray"},{title:"",value:T.todayCount||0,icon:rs,color:"purple"}],columns:4,hideHeader:!0}),c.jsx(Pt,{className:"border-none shadow-sm",children:c.jsx(Ft,{className:"p-3",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("div",{className:"relative flex-1 min-w-[180px]",children:[c.jsx(So,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(tt,{placeholder:"   ...",value:u,onChange:D=>{l(D.target.value),t(1)},className:"pr-9","data-testid":"input-audit-search"})]}),c.jsxs(Rn,{value:r,onValueChange:D=>{n(D),t(1)},children:[c.jsx(wn,{className:"w-[140px]","data-testid":"select-audit-module",children:c.jsx(On,{placeholder:""})}),c.jsxs(_n,{children:[c.jsx(vt,{value:"all",children:" "}),O.map(D=>c.jsx(vt,{value:D.value||D,children:D.label||D},D.value||D))]})]}),c.jsxs(Rn,{value:s,onValueChange:D=>{i(D),t(1)},children:[c.jsx(wn,{className:"w-[120px]","data-testid":"select-audit-status",children:c.jsx(On,{placeholder:""})}),c.jsxs(_n,{children:[c.jsx(vt,{value:"all",children:" "}),c.jsx(vt,{value:"success",children:""}),c.jsx(vt,{value:"failed",children:""}),c.jsx(vt,{value:"duplicate",children:""}),c.jsx(vt,{value:"skipped",children:""}),c.jsx(vt,{value:"conflict",children:""})]})]}),c.jsxs(Rn,{value:a,onValueChange:D=>{o(D),t(1)},children:[c.jsx(wn,{className:"w-[140px]","data-testid":"select-audit-action",children:c.jsx(On,{placeholder:" "})}),c.jsxs(_n,{children:[c.jsx(vt,{value:"all",children:" "}),c.jsx(vt,{value:"create",children:""}),c.jsx(vt,{value:"update",children:""}),c.jsx(vt,{value:"delete",children:""}),c.jsx(vt,{value:"full_backup",children:" "}),c.jsx(vt,{value:"delta_sync",children:" "}),c.jsx(vt,{value:"instant_sync",children:" "})]})]})]})})}),y?c.jsxs("div",{className:"flex items-center justify-center py-16 text-muted-foreground",children:[c.jsx(ms,{className:"h-6 w-6 animate-spin ml-2"}),c.jsx("span",{children:" ..."})]}):b.length===0?c.jsx(J5,{icon:bo,message:"    "}):c.jsx(Po,{className:"h-[500px]",children:c.jsx("div",{className:"space-y-2",children:b.map(D=>{const V=d.has(D.id);return c.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden","data-testid":`audit-log-${D.id}`,children:[c.jsxs("div",{className:"flex items-center justify-between p-3 gap-2",children:[c.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[c.jsx("div",{className:`mt-0.5 p-1.5 rounded-md ${D.status==="success"?"bg-green-100 text-green-600 dark:bg-green-900/30":D.status==="failed"?"bg-red-100 text-red-600 dark:bg-red-900/30":"bg-gray-100 text-gray-600 dark:bg-gray-900/30"}`,children:D.status==="success"?c.jsx(Xr,{className:"h-4 w-4"}):D.status==="failed"?c.jsx(Jv,{className:"h-4 w-4"}):c.jsx(Es,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[A(D.status),P(D.action),c.jsx(ut,{variant:"outline",className:"text-[10px]",children:D.module})]}),c.jsx("p",{className:"text-sm truncate",children:D.description}),D.errorMessage&&c.jsx("p",{className:"text-xs text-destructive truncate",children:D.errorMessage}),c.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground flex-wrap",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(rs,{className:"h-3 w-3"}),new Date(D.createdAt).toLocaleDateString("ar-YE",{year:"numeric",month:"2-digit",day:"2-digit"})," ",new Date(D.createdAt).toLocaleTimeString("ar-YE",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),D.userName&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(tf,{className:"h-3 w-3"}),D.userName]}),D.durationMs&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Vs,{className:"h-3 w-3"}),D.durationMs,"ms"]}),D.projectName&&c.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[c.jsx(Gn,{className:"h-3 w-3"}),D.projectName]})]})]})]}),c.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>F(D.id),"data-testid":`button-expand-audit-${D.id}`,children:V?c.jsx(_o,{className:"h-4 w-4"}):c.jsx(yn,{className:"h-4 w-4"})})]}),V&&c.jsx("div",{className:"border-t p-3 bg-muted/30",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:": "}),c.jsx("span",{children:D.tableName})]}),D.recordId&&c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:" : "}),c.jsx("span",{className:"font-mono text-[11px]",children:D.recordId})]}),D.syncType&&c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:" : "}),c.jsx("span",{children:D.syncType})]}),D.ipAddress&&c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:" IP: "}),c.jsx("span",{className:"font-mono text-[11px]",dir:"ltr",children:D.ipAddress})]}),D.amount&&c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:": "}),c.jsx("span",{children:Number(D.amount).toLocaleString("ar-SA")})]}),D.oldValues&&c.jsx("div",{className:"col-span-full",children:c.jsxs("details",{children:[c.jsx("summary",{className:"text-muted-foreground cursor-pointer text-[11px]",children:" "}),c.jsx("pre",{className:"mt-1 p-2 rounded bg-muted text-[10px] overflow-auto max-h-32 font-mono",dir:"ltr",children:JSON.stringify(D.oldValues,null,2)})]})}),D.newValues&&c.jsx("div",{className:"col-span-full",children:c.jsxs("details",{children:[c.jsx("summary",{className:"text-muted-foreground cursor-pointer text-[11px]",children:" "}),c.jsx("pre",{className:"mt-1 p-2 rounded bg-muted text-[10px] overflow-auto max-h-32 font-mono",dir:"ltr",children:JSON.stringify(D.newValues,null,2)})]})})]})})]},D.id)})})}),k.pages>1&&c.jsxs("div",{className:"flex items-center justify-between px-2",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",e,"  ",k.pages," (",k.total," )"]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Se,{variant:"outline",size:"icon",disabled:e<=1,onClick:()=>t(D=>Math.max(1,D-1)),"data-testid":"button-audit-prev",children:c.jsx(Rd,{className:"h-4 w-4"})}),c.jsx(Se,{variant:"outline",size:"icon",disabled:e>=k.pages,onClick:()=>t(D=>D+1),"data-testid":"button-audit-next",children:c.jsx(Qv,{className:"h-4 w-4"})})]})]})]})}function J5({icon:e,message:t}){return c.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-muted-foreground space-y-3",children:[c.jsx(e,{className:"h-12 w-12 opacity-15"}),c.jsx("p",{className:"text-sm",children:t})]})}function VS({items:e,emptyMessage:t,emptyIcon:r,showError:n,expandedItems:s,onToggleExpand:i,actions:a,projects:o}){return e.length===0?c.jsx(J5,{icon:r,message:t}):c.jsx(Po,{className:"h-[500px]",children:c.jsx("div",{className:"space-y-2",children:e.map(u=>{const l=s.has(u.id),d=u.payload||{},h=o.find(f=>f.id===d.projectId)?.name;return c.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden","data-testid":`sync-item-${u.id.substring(0,8)}`,children:[c.jsxs("div",{className:"flex items-center justify-between p-3 gap-2",children:[c.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[c.jsx("div",{className:`mt-0.5 p-1.5 rounded-md ${u.action==="create"?"bg-green-100 text-green-600 dark:bg-green-900/30":u.action==="update"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"bg-red-100 text-red-600 dark:bg-red-900/30"}`,children:c.jsx(Bn,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[vie(u.status),c.jsx(ut,{variant:u.action==="create"?"success":u.action==="update"?"default":"destructive",className:"text-[10px]",children:bie(u.action)}),c.jsx("span",{className:"text-xs text-muted-foreground",children:xie(u.endpoint)}),c.jsx("span",{className:"font-mono text-[9px] px-1 py-0.5 rounded bg-muted text-muted-foreground",children:u.id.substring(0,8)})]}),n&&u.lastError&&c.jsxs("p",{className:"text-xs text-destructive flex items-start gap-1",children:[c.jsx(Es,{className:"h-3 w-3 mt-0.5 shrink-0"}),c.jsx("span",{className:"truncate",children:u.lastError})]}),c.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground flex-wrap",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(rs,{className:"h-3 w-3"}),yie(u.timestamp)]}),u.retries>0&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Ml,{className:"h-3 w-3"}),u.retries," "]}),h&&c.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[c.jsx(Gn,{className:"h-3 w-3"}),h]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>i(u.id),"data-testid":`button-expand-${u.id.substring(0,8)}`,children:l?c.jsx(_o,{className:"h-4 w-4"}):c.jsx(yn,{className:"h-4 w-4"})}),a(u)]})]}),l&&c.jsx("div",{className:"border-t p-3 bg-muted/30",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:": "}),c.jsx("span",{className:"font-mono text-[11px]",children:u.endpoint})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:" : "}),c.jsx("span",{className:"font-mono text-[11px]",children:u.id})]}),u.idempotencyKey&&c.jsxs("div",{className:"col-span-full",children:[c.jsx("span",{className:"text-muted-foreground",children:" : "}),c.jsx("span",{className:"font-mono text-[11px]",children:u.idempotencyKey})]}),u.errorType&&c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:" : "}),c.jsx(ut,{variant:"outline",className:"text-[10px]",children:u.errorType})]}),u.lastAttemptAt&&c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:" : "}),c.jsx("span",{children:gie(u.lastAttemptAt)})]}),u.lastError&&c.jsxs("div",{className:"col-span-full",children:[c.jsx("span",{className:"text-muted-foreground",children:" : "}),c.jsx("span",{className:"text-destructive",children:u.lastError})]}),c.jsx("div",{className:"col-span-full",children:c.jsxs("details",{children:[c.jsx("summary",{className:"text-muted-foreground cursor-pointer text-[11px]",children:"   (JSON)"}),c.jsx("pre",{className:"mt-1 p-2 rounded bg-muted text-[10px] overflow-auto max-h-40 font-mono",dir:"ltr",children:JSON.stringify(d,null,2)})]})})]})})]},u.id)})})})}if(typeof window<"u"){const e=window.ResizeObserver;window.ResizeObserver=class extends e{constructor(r){super((n,s)=>{window.requestAnimationFrame(()=>{!Array.isArray(n)||!n.length||r(n,s)})})}}}const eVe=E.lazy(()=>Ar(()=>import("./worker-accounts-CrGwsbww.js"),__vite__mapDeps([0,1]))),tVe=E.lazy(()=>Ar(()=>import("./suppliers-professional-Dxz4SyaA.js"),__vite__mapDeps([2,3]))),rVe=E.lazy(()=>Ar(()=>import("./customers-CPfdy1qo.js"),[])),nVe=E.lazy(()=>Ar(()=>import("./supplier-accounts-BsXQpA__.js"),[])),sVe=E.lazy(()=>Ar(()=>import("./autocomplete-admin-CMuK7NH-.js"),[])),iVe=E.lazy(()=>Ar(()=>import("./equipment-management-C9kt-Acq.js"),__vite__mapDeps([4,5])).then(e=>({default:e.EquipmentManagement}))),aVe=E.lazy(()=>Ar(()=>import("./admin-notifications-Dz-uXUa_.js"),__vite__mapDeps([6,7]))),oVe=E.lazy(()=>Ar(()=>import("./SmartErrorsPage-OP-MA4VL.js"),__vite__mapDeps([8,3]))),lVe=E.lazy(()=>Ar(()=>import("./SecurityPoliciesPage-DlzDw2su.js"),__vite__mapDeps([9,10,11])).then(e=>({default:e.SecurityPoliciesPage}))),cVe=E.lazy(()=>Ar(()=>import("./axion-reports-BMGeQImj.js"),__vite__mapDeps([12,11]))),uVe=E.lazy(()=>Ar(()=>import("./settings-CY2Li0Z-.js"),__vite__mapDeps([13,3,5]))),dVe=E.lazy(()=>Ar(()=>import("./users-management-DUt8aHmJ.js"),[])),fVe=E.lazy(()=>Ar(()=>import("./ai-chat-Cn6wtNyL.js"),__vite__mapDeps([14,7]))),hVe=E.lazy(()=>Ar(()=>import("./sync-comparison-D4AxjodA.js"),[]));function Ys(){return c.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col items-center justify-center bg-white/80 dark:bg-slate-900/80 backdrop-blur-md gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Mr,{className:"h-12 w-12 animate-spin text-blue-600"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full animate-pulse"})})]}),c.jsx("p",{className:"text-sm font-medium text-slate-500 animate-pulse",children:"  ..."})]})}p1().catch(console.error);hh.initialize().catch(console.error);const pVe=E.lazy(()=>Ar(()=>import("./index-1Iz9D7CA.js"),__vite__mapDeps([15,11]))),mVe=E.lazy(()=>Ar(()=>import("./AdminDashboard-DLEJBFE4.js"),__vite__mapDeps([16,10])));function gVe(){return _6e(),E.useEffect(()=>{(async()=>{try{if(await Ad(),console.log("     "),vo.isNativePlatform())try{(await TO.checkPermissions()).receive==="prompt"&&await TO.requestPermissions(),console.log("     ")}catch(r){console.error("    :",r)}tne(),pye(3e4),gye().catch(r=>console.warn("[AuditLog] Init failed:",r)),console.log("        ");const t=i_(r=>{!r.isSyncing&&r.lastSync>0&&r.pendingCount===0&&(console.log(" [Sync]    -   ..."),requestAnimationFrame(()=>{try{[["/api/projects"],["/api/projects/with-stats"],["/api/workers"],["/api/materials"],["/api/suppliers"],["/api/notifications"]].forEach(s=>Ss.invalidateQueries({queryKey:s,refetchType:"active",exact:!1}))}catch(n){console.error("    :",n)}}))});return()=>t()}catch(t){console.error("     :",t)}})()},[]),c.jsxs(Uz,{children:[c.jsx(Xt,{path:"/",component:HMe}),c.jsx(Xt,{path:"/analysis",component:KMe}),c.jsx(Xt,{path:"/deployment",component:YRe}),c.jsx(Xt,{path:"/projects",component:DMe}),c.jsx(Xt,{path:"/workers",component:tDe}),c.jsx(Xt,{path:"/worker-accounts",children:c.jsx(ys,{children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(eVe,{})})})}),c.jsx(Xt,{path:"/suppliers-pro",children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(tVe,{})})}),c.jsx(Xt,{path:"/customers",children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(rVe,{})})}),c.jsx(Xt,{path:"/supplier-accounts",children:c.jsx(ys,{children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(nVe,{})})})}),c.jsx(Xt,{path:"/worker-attendance",component:GRe}),c.jsx(Xt,{path:"/material-purchase",component:gOe}),c.jsx(Xt,{path:"/transport-management",component:xOe}),c.jsx(Xt,{path:"/project-transfers",children:c.jsx(ys,{children:c.jsx(eMe,{})})}),c.jsx(Xt,{path:"/project-transactions",children:c.jsx(ys,{children:c.jsx(rMe,{})})}),c.jsx(Xt,{path:"/project-fund-custody",children:c.jsx(ys,{children:c.jsx(nMe,{})})}),c.jsx(Xt,{path:"/autocomplete-admin",children:c.jsx(ys,{children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(sVe,{})})})}),c.jsx(Xt,{path:"/equipment",children:c.jsx(ys,{children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(iVe,{})})})}),c.jsx(Xt,{path:"/notifications",component:yDe}),c.jsx(Xt,{path:"/admin-notifications",children:c.jsx(ys,{children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(aVe,{})})})}),c.jsx(Xt,{path:"/smart-errors",children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(oVe,{})})}),c.jsx(Xt,{path:"/security-policies",children:c.jsx(ys,{children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(lVe,{})})})}),c.jsx(Xt,{path:"/daily-expenses",component:wDe}),c.jsx(Xt,{path:"/wells",component:SDe}),c.jsx(Xt,{path:"/admin/backups",children:c.jsx(ys,{children:c.jsx(fDe,{})})}),c.jsx(Xt,{path:"/settings",children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(uVe,{})})}),c.jsx(Xt,{path:"/well-cost-report",component:kDe}),c.jsx(Xt,{path:"/well-accounting",component:EDe}),c.jsx(Xt,{path:"/reports",children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(cVe,{})})}),c.jsx(Xt,{path:"/users-management",children:c.jsx(ys,{children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(dVe,{})})})}),c.jsx(Xt,{path:"/ai-chat",children:c.jsx(ys,{children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(fVe,{})})})}),c.jsx(Xt,{path:"/admin/monitoring",children:c.jsx(ys,{children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(pVe,{})})})}),c.jsx(Xt,{path:"/admin/dashboard",children:c.jsx(ys,{children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(mVe,{})})})}),c.jsx(Xt,{path:"/sync-comparison",children:c.jsx(ys,{children:c.jsx(E.Suspense,{fallback:c.jsx(Ys,{}),children:c.jsx(hVe,{})})})}),c.jsx(Xt,{path:"/admin/data-health",children:c.jsx(ys,{children:c.jsx(CDe,{})})}),c.jsx(Xt,{path:"/local-db",children:c.jsx(ys,{children:c.jsx(MDe,{})})}),c.jsx(Xt,{path:"/admin/sync",children:c.jsx(ys,{children:c.jsx(QUe,{})})}),c.jsx(Xt,{component:iwe})]})}function yVe(){return c.jsx(Pj,{children:c.jsx(F0e,{client:Ss,children:c.jsx(tke,{children:c.jsx(C1,{children:c.jsx(Z5e,{children:c.jsxs("div",{dir:"rtl",children:[c.jsx(Pj,{children:c.jsxs(Uz,{children:[c.jsx(Xt,{path:"/check",component:BS}),c.jsx(Xt,{path:"/setup",component:BS}),c.jsx(Xt,{path:"/permissions",component:BS}),c.jsx(Xt,{path:"/login",component:H3e}),c.jsx(Xt,{path:"/register",component:wEe}),c.jsx(Xt,{path:"/verify-email",component:CEe}),c.jsx(Xt,{path:"/forgot-password",component:jEe}),c.jsx(Xt,{path:"/reset-password",component:SEe}),c.jsx(Xt,{path:"*",component:()=>c.jsx(ZFe,{children:c.jsx(QFe,{children:c.jsx(h5e,{children:c.jsx(GFe,{children:c.jsx(gVe,{})})})})})})]})}),c.jsx(hxe,{})]})})})})})})}const bVe=async()=>{const e=document.getElementById("root");if(e)try{"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then(r=>{for(let n of r)n.update(),n.addEventListener("updatefound",()=>{const s=n.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(console.log("      ..."),window.location.reload())})})}),"caches"in window&&caches.keys().then(r=>{r.forEach(n=>{n.includes("binarjoin-v")&&!n.includes("binarjoin-v3")&&(caches.delete(n),console.log("    :",n))})})),Ad().catch(console.error),window.onerror=(r,n,s,i,a)=>{console.error("Global error caught:",{message:r,source:n,lineno:s,colno:i,error:a}),fetch("/api/crashes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({exceptionType:"GlobalUncaughtError",message:String(r),stackTrace:a?.stack||`${n}:${s}:${i}`,severity:"critical",deviceId:localStorage.getItem("deviceId")||"unknown"})}).catch(()=>{})},Tz(e).render(c.jsx(yVe,{}))}catch(t){console.error("Fatal startup error:",t),e.innerHTML='<div style="padding:20px;text-align:center;direction:rtl;">    .   .</div>'}};bVe();export{Es as $,Fl as A,Se as B,qB as C,Jt as D,IVe as E,RVe as F,tl as G,ur as H,tt as I,us as J,Rn as K,Le as L,wn as M,On as N,_n as O,Qn as P,he as Q,vt as R,Zb as S,hn as T,xn as U,Mp as V,Md as W,Ie as X,WR as Y,T4 as Z,Ar as _,Br as a,Dl as a$,qo as a0,Ave as a1,Cn as a2,So as a3,en as a4,X8 as a5,oi as a6,w2 as a7,Fs as a8,Gn as a9,fs as aA,ap as aB,Yl as aC,Au as aD,gr as aE,ZSe as aF,H8 as aG,ia as aH,Xr as aI,si as aJ,N0 as aK,du as aL,ze as aM,oo as aN,ho as aO,$Ve as aP,ar as aQ,ac as aR,Vs as aS,T3 as aT,ra as aU,T0 as aV,OVe as aW,Np as aX,pw as aY,a_ as aZ,uu as a_,zn as aa,qi as ab,$a as ac,bn as ad,bo as ae,Bn as af,Tne as ag,R5 as ah,Pa as ai,bp as aj,Ia as ak,ut as al,wu as am,ms as an,_se as ao,Oe as ap,Xl as aq,Jl as ar,Ir as as,Cr as at,Tn as au,Rr as av,dn as aw,yOe as ax,Wn as ay,BB as az,ns as b,vu as b0,j3 as b1,N3 as b2,_e as b3,Fi as b4,iY as b5,aY as b6,Yc as b7,V8 as b8,Uh as b9,Ws as bA,zB as bB,Mr as bC,GB as bD,Po as bE,Gbe as bF,K8 as bG,Ha as bH,Wf as bI,Ss as bJ,yn as bK,Rd as bL,Eg as bM,jDe as bN,wr as bO,Od as bP,C5 as bQ,A5 as bR,Wd as bS,Oi as bT,P5 as bU,ti as bV,jL as bW,fp as bX,VUe as bY,WUe as bZ,ppe as b_,ko as ba,N5 as bb,zg as bc,Zr as bd,gve as be,Jv as bf,$B as bg,jt as bh,eN as bi,p5e as bj,ZQ as bk,as as bl,Ki as bm,x5 as bn,p3 as bo,Zc as bp,YUe as bq,xve as br,Eve as bs,dye as bt,tr as bu,qa as bv,wt as bw,et as bx,w6 as by,M3 as bz,Io as c,Ao as d,kee as e,nt as f,ht as g,$p as h,Qa as i,c as j,Gm as k,Pt as l,Ft as m,Ns as n,Gr as o,Sl as p,An as q,E as r,rs as s,tf as t,gs as u,KB as v,ks as w,hs as x,js as y,zs as z};
